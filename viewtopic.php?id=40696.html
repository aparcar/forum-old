<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WR703N No Wifi</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p184101">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lachesis</div>
					<div class="post-datetime">
						23 Nov 2012, 18:59					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,</p><p>I&#039;m having trouble getting wifi to work on my TL-WR703N v1.6 with both the latest trunk (r34303) and with the Attitude Adjustment images from the wiki page, version 12.09beta.</p><p>iw dev prints nothing. wifi detect prints nothing. ifconfig -a only lists eth0, br-lan, and lo.</p><p>In the dmesg, you can see<br /></p><div class="codebox"><pre><code>[    8.230000] ath: EEPROM regdomain: 0x0
[    8.230000] ath: EEPROM indicates default country code should be used
[    8.230000] ath: doing EEPROM country-&gt;regdmn map search
[    8.230000] ath: country maps to regdmn code: 0x3a
[    8.230000] ath: Country alpha2 being used: US
[    8.230000] ath: Regpair used: 0x3a
[    8.240000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[    8.240000] Registered led device: ath9k-phy0
[    8.240000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2
[    8.250000] cfg80211: Calling CRDA for country: US
[    8.250000] cfg80211: Regulatory domain changed to country: US
[    8.260000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[    8.260000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)
[    8.270000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)
[    8.280000] cfg80211:   (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[    8.290000] cfg80211:   (5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[    8.300000] cfg80211:   (5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[    8.300000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)</code></pre></div><p>which would seem to indicate that the hardware is working. But I still get no wifi.</p><p>dmesg: <a href="https://p.6core.net/p/ry1o16kn1169ski">https://p.6core.net/p/ry1o16kn1169ski</a><br />.config: <a href="https://p.6core.net/p/8h2p1c4etoh32su">https://p.6core.net/p/8h2p1c4etoh32su</a><br />lsmod: <a href="https://p.6core.net/p/owqq7g79v3ga14nj">https://p.6core.net/p/owqq7g79v3ga14nj</a></p><p>What am I doing wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184102">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Nov 2012, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>/etc/config/wireless ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184104">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						23 Nov 2012, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>What is your wifi config ?</p><p>Be reminded that, wifi is &quot;disabled&quot; after fresh flashed.<br />Do you know that ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184114">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						23 Nov 2012, 20:05					</div>
				</div>
				<div class="post-content content">
					<p>Wifi is disabled by default, in the &quot;/etc/config/wireless&quot; file, you have to remove the &quot;option disabled &#039;1&#039;&quot; to get the wlan0 device to appear.</p><p>Can someone tell us why this is enforced like this by default?</p><p>For a wireless router, this is a weird choice <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184118">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">lachesis</div>
					<div class="post-datetime">
						23 Nov 2012, 20:15					</div>
				</div>
				<div class="post-content content">
					<p>Alright, so enabling wifi there makes it work with OpenWRT&#039;s wireless. I suppose there&#039;s more going on behind the scenes here that I don&#039;t understand. I&#039;m quite familiar with linux (Arch, Ubuntu, Fedora, Debian, Android, etc) so I was hoping to use the standard linux tools (iw, wpa_supplicant, ifconfig, etc) to configure my wifi. I can probably make it all work with OpenWRT&#039;s specific scripts though. Thanks for the help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184121">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						23 Nov 2012, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>Yes it has standard linux tools,<br />but no matter how familiar you are, take a look into the config files take a look inside /etc</p><p>Perhaps you don&#039;t like text editing,<br />so you have to read the online documentations.<br />There is a tool named UCI can config everything inside openwrt.<br />Every linux distribution also has their own standard tools.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184123">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						23 Nov 2012, 20:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>Wifi is disabled by default, in the &quot;/etc/config/wireless&quot; file, you have to remove the &quot;option disabled &#039;1&#039;&quot; to get the wlan0 device to appear.</p><p>Can someone tell us why this is enforced like this by default?</p><p>For a wireless router, this is a weird choice <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p></blockquote></div><p>You can call it, security reason.<br />Why it is weird ?</p><p>My neighbor use dd-wrt, no any setup is needed !<br />default, ssid - dd-wrt, open, no password, webui no password, no security all at.<br />I can connect it, use their internet, and also login into the webui.<br />Is it weird ?&nbsp; or you think that is good !?<br />Good ! Of Coz !XDD</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184148">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						23 Nov 2012, 22:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johan666 wrote:</cite><blockquote><div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>Wifi is disabled by default, in the &quot;/etc/config/wireless&quot; file, you have to remove the &quot;option disabled &#039;1&#039;&quot; to get the wlan0 device to appear.</p><p>Can someone tell us why this is enforced like this by default?</p><p>For a wireless router, this is a weird choice <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p></blockquote></div><p>You can call it, security reason.<br />Why it is weird ?</p><p>My neighbor use dd-wrt, no any setup is needed !<br />default, ssid - dd-wrt, open, no password, webui no password, no security all at.<br />I can connect it, use their internet, and also login into the webui.<br />Is it weird ?&nbsp; or you think that is good !?<br />Good ! Of Coz !XDD</p></blockquote></div><p>Most wireless routers provide a default wireless AP without protection as a default setup, with wizards to help you define your network, so this is only used for initial setup.</p><p>Of course, as people tend to be lazy, it is not a good thing to promote a wide open wireless network, so there should be a strong emphasis to set up a secure wireless network, maybe enforcing it, just like the telnet/ssh switch for Shell access <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>Maybe refusing to mount the rootfs r/w until you have configured it to a secured wireless setup?</p><p>There could be too a default AP in OpenWrt, set up <span class="bbu">once</span> at firstboot, with SSID based on MAC address, without any protection, that you are <span class="bbu">required</span> to configure (not necessarily using a wizard, this can be a command line tool, too)...</p><p>You just connect to the &quot;OpenWrt_xxyyzz&quot; SSID wireless network, get a DHCP address assigned to you, connect to 192.168.1.1 and setup wireless as you wish... Once done, this setup is no longer used, unless you do a &quot;firstboot&quot;.</p><p>This would make OpenWrt look much easier to install for a novice, as it doesn&#039;t require an Ethernet cable any longer and doesn&#039;t look so weird compared to commercial products,as people tend to expect a wireless router to provide a wireless network <em>by default</em>...</p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 23 Nov 2012, 22:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184222">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">etan</div>
					<div class="post-datetime">
						25 Nov 2012, 02:05					</div>
				</div>
				<div class="post-content content">
					<p>i disagree because writing wifi wizard into firmware would take space and default SSID would reveal firmware kind so no good either.<br />The way is now is perfect and newbies should be rather trained&nbsp; to read wikis.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184241">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						25 Nov 2012, 10:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>etan wrote:</cite><blockquote><p>i disagree because writing wifi wizard into firmware would take space and default SSID would reveal firmware kind so no good either.<br />The way is now is perfect and newbies should be rather trained&nbsp; to read wikis.</p></blockquote></div><p>No, it doesn&#039;t take a lot of space: only a few hundred bytes total.</p><p>As for the SSID, it will show up only during initial install, but is removed afterwards, unless you do a&nbsp; &quot;firstboot&quot; to reset config.</p><p>I implemented this in an OpenWrt-based firmware specialized for working with an Arduino board attached to a TL-WR703N or TL-MR3020 wireless router USB port.</p><p>See this video demonstrating a wireless install from the stock TP-Link Chinese firmare here:<br /><a href="http://www.youtube.com/watch?v=CciDQYxL-oU">http://www.youtube.com/watch?v=CciDQYxL-oU</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184254">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						25 Nov 2012, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>Anyway, somebody think wireless disabled by default is weird.<br />That&#039;s really weird XDD</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184259">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						25 Nov 2012, 15:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johan666 wrote:</cite><blockquote><p>Anyway, somebody think wireless disabled by default is weird.<br />That&#039;s really weird XDD</p></blockquote></div><p>For a coffee machine, no, for a wireless router: yes <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>Although you shouldn&#039;t leave a wireless network wide open, having a default one during install, then removing it during normal operation like telnet could be nice: no Ethernet cable required!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184271">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						25 Nov 2012, 17:18					</div>
				</div>
				<div class="post-content content">
					<p>Actually I really like people using Plugn&#039;Play<br /><img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>