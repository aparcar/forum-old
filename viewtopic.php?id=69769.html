<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Raspberry + openwrt + LIRC</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p351520">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">carlosalberto4ti</div>
					<div class="post-datetime">
						9 Feb 2017, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi , i try to configure openwrt for this <a href="http://www.raspberry-pi-geek.com/Archive/2015/10/Raspberry-Pi-IR-remote">http://www.raspberry-pi-geek.com/Archiv … -IR-remote</a> , but not found software LIRC on trunk repository .</p><p>What do I need to complete the build software of this article?</p><p>Thanks your help .</p><br /><br /><p>NOTES : </p><p>I use a last image to install openwrt and a last softwares , from this link : <a href="https://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/">https://downloads.openwrt.org/snapshots … 8/generic/</a></p><p>uname -a <br />Linux OpenWrt 4.4.14 #1 Sun Jan 22 17:33:02 UTC 2017 armv6l GNU/Linux</p><p>cat /etc/opkg/distfeeds.conf <br />src/gz designated_driver_base <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/base">http://downloads.openwrt.org/snapshots/ … kages/base</a><br />src/gz designated_driver_kernel <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/kernel">http://downloads.openwrt.org/snapshots/ … ges/kernel</a><br />src/gz designated_driver_luci <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/luci">http://downloads.openwrt.org/snapshots/ … kages/luci</a><br />src/gz designated_driver_management <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/management">http://downloads.openwrt.org/snapshots/ … management</a><br />src/gz designated_driver_packages <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/packages">http://downloads.openwrt.org/snapshots/ … s/packages</a><br />src/gz designated_driver_routing <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/routing">http://downloads.openwrt.org/snapshots/ … es/routing</a><br />src/gz designated_driver_telephony <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/telephony">http://downloads.openwrt.org/snapshots/ … /telephony</a><br /># src/gz designated_driver_targets <a href="http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/packages/targets">http://downloads.openwrt.org/snapshots/ … es/targets</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351523">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						9 Feb 2017, 19:05					</div>
				</div>
				<div class="post-content content">
					<p>AFAIK there is no LIRC package at the online repos, you must build LIRC yourself. I packaged LIRC some time ago, which should work with your device </p><p><a href="https://github.com/danitool/openwrt-pkgs/tree/cc/lirc">https://github.com/danitool/openwrt-pkgs/tree/cc/lirc</a></p><p>I assume the lirc-rpi module is already included for your kernel.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351524">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">carlosalberto4ti</div>
					<div class="post-datetime">
						9 Feb 2017, 19:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>AFAIK there is no LIRC package at the online repos, you must build LIRC yourself. I packaged LIRC some time ago, which should work with your device </p><p><a href="https://github.com/danitool/openwrt-pkgs/tree/cc/lirc">https://github.com/danitool/openwrt-pkgs/tree/cc/lirc</a></p><p>I assume the lirc-rpi module is already included for your kernel.</p></blockquote></div><p><strong>Thanks your answer.</strong></p><ul><li><p>how i compile this source (how-to for i read and execute this procedure) ? <a href="https://github.com/danitool/openwrt-pkgs/tree/cc/lirc">https://github.com/danitool/openwrt-pkgs/tree/cc/lirc</a></p></li></ul><div class="codebox"><pre><code>I try check my system to Identify what not is included , see :

NOTES: 
* check have .ko with name lirc or similary :
root@OpenWrt:~# find / 2&gt; /dev/null | grep lirc
/boot/overlays/lirc-rpi.dtbo
* check module is possible load (is exist) :
root@OpenWrt:~# modprobe lirc-rpi
failed to find a module named lirc-rpi
* check gpio is working :
root@OpenWrt:~# cat /sys/kernel/debug/gpio
GPIOs 0-53, platform/20200000.gpio, pinctrl-bcm2835:
 gpio-16  (                    |?                   ) out lo    
*check modules is load by default :
root@OpenWrt:~# lsmod 
crc_ccitt               1067  1 ppp_async
evdev                  10147  0 
fat                    46182  1 vfat
hid                    89680  2 usbhid,hid_generic
hid_generic              656  0 
ip6_tables              9237  3 ip6table_raw,ip6table_mangle,ip6table_filter
ip6t_REJECT             1100  2 
ip6table_filter          766  1 
ip6table_mangle         1150  0 
ip6table_raw             728  0 
ip_tables               9367  4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter
ipt_MASQUERADE           786  0 
ipt_REJECT              1002  2 
iptable_filter           828  1 
iptable_mangle           956  0 
iptable_nat             1073  1 
iptable_raw              790  0 
nf_conntrack           57167  9 nf_nat_ipv4,nf_conntrack_ipv6,nf_conntrack_ipv4,xt_state,xt_conntrack,xt_CT,nf_nat_masquerade_ipv4,nf_nat,nf_conntrack_rtcache
nf_conntrack_ipv4       6245  4 
nf_conntrack_ipv6       6692  3 
nf_conntrack_rtcache    2674  0 
nf_defrag_ipv4          1020  1 nf_conntrack_ipv4
nf_defrag_ipv6          9401  1 nf_conntrack_ipv6
nf_log_common           2511  2 nf_log_ipv4,nf_log_ipv6
nf_log_ipv4             3318  0 
nf_log_ipv6             3703  0 
nf_nat                 10428  4 nf_nat_ipv4,xt_nat,nf_nat_redirect,nf_nat_masquerade_ipv4
nf_nat_ipv4             4126  1 iptable_nat
nf_nat_masquerade_ipv4    1581  1 ipt_MASQUERADE
nf_nat_redirect          987  1 xt_REDIRECT
nf_reject_ipv4          2019  1 ipt_REJECT
nf_reject_ipv6          2312  1 ip6t_REJECT
nls_cp437               4546  1 
nls_iso8859_1           3010  1 
ppp_async               7053  0 
ppp_generic            21065  3 pppoe,ppp_async,pppox
pppoe                   8375  0 
pppox                   1351  1 pppoe
slhc                    4635  1 ppp_generic
snd                    34458  9 snd_bcm2835,snd_compress,snd_pcm_oss,snd_mixer_oss,snd_pcm,snd_timer,snd_rawmidi,snd_seq_device,snd_hwdep
snd_bcm2835            16964  0 
snd_compress            6870  0 
snd_hwdep               4781  0 
snd_mixer_oss          10961  1 snd_pcm_oss
snd_pcm                58557  3 snd_bcm2835,snd_pcm_dmaengine,snd_pcm_oss
snd_pcm_dmaengine       2758  0 
snd_pcm_oss            31369  0 
snd_rawmidi            14965  0 
snd_seq_device          2312  1 snd_rawmidi
snd_timer              15245  0 
soundcore               3853  1 snd
usbhid                 24184  0 
vfat                    8274  1 
x_tables               10587 25 ipt_REJECT,ipt_MASQUERADE,xt_time,xt_tcpudp,xt_state,xt_nat,xt_multiport,xt_mark,xt_mac,xt_limit,xt_conntrack,xt_comment,xt_TCPMSS,xt_REDIRECT,xt_LOG,xt_CT,iptable_raw,iptable_mangle,iptable_filter,ip_tables,ip6t_REJECT,ip6table_raw,ip6table_mangle,ip6table_filter,ip6_tables
xt_CT                   2805  0 
xt_LOG                   931  0 
xt_REDIRECT              885  0 
xt_TCPMSS               2824  0 
xt_comment               587 28 
xt_conntrack            2648  6 
xt_limit                1257  2 
xt_mac                   711  0 
xt_mark                  800  0 
xt_multiport            1396  0 
xt_nat                  1405  0 
xt_state                 873  0 
xt_tcpudp               1880  4 
xt_time                 1766  0 </code></pre></div>											<p class="post-edited">(Last edited by <strong>carlosalberto4ti</strong> on 9 Feb 2017, 19:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351532">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						9 Feb 2017, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>An easy way is to drop the lirc directory into the package subdirectory in your build root, then with <br /></p><div class="codebox"><pre><code>make menuconfig</code></pre></div><p>it should appear under utilities</p><p>Not sure, but the module isn&#039;t selected/compiled in your target. You probably need to select the lirc-rpi module in your kernel<br /></p><div class="codebox"><pre><code>make kernel-menuconfig</code></pre></div><p>and then compile your own image</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351602">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">carlosalberto4ti</div>
					<div class="post-datetime">
						10 Feb 2017, 17:36					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>wget https://github.com/danitool/openwrt-pkgs/archive/master.tar.gz -O master.tar.gz
tar -zxvf master.tar.gz
wget http://downloads.openwrt.org/snapshots/trunk/brcm2708/generic/OpenWrt-SDK-brcm2708-bcm2708_gcc-5.3.0_musl-1.1.16_eabi.Linux-x86_64.tar.bz2
bzip2 -d OpenWrt-SDK-brcm2708-bcm2708_gcc-5.3.0_musl-1.1.16_eabi.Linux-x86_64.tar.bz2
tar -xvf OpenWrt-SDK-brcm2708-bcm2708_gcc-5.3.0_musl-1.1.16_eabi.Linux-x86_64.tar
cd OpenWrt-SDK-brcm2708-bcm2708_gcc-5.3.0_musl-1.1.16_eabi.Linux-x86_64
sudo apt-get install build-essential subversion libncurses5-dev zlib1g-dev gawk gcc-multilib flex git-core gettext libssl-dev -y</code></pre></div><div class="codebox"><pre><code>make menuconfig</code></pre></div><p>In this step , no have option to select , (probably no have file .config or did I do something wrong) . </p><p>Is can guide me in this steps ?</p>											<p class="post-edited">(Last edited by <strong>carlosalberto4ti</strong> on 10 Feb 2017, 17:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p367795">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">carlosalberto4ti</div>
					<div class="post-datetime">
						3 Nov 2017, 13:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>An easy way is to drop the lirc directory into the package subdirectory in your build root, then with <br /></p><div class="codebox"><pre><code>make menuconfig</code></pre></div><p>it should appear under utilities</p><p>Not sure, but the module isn&#039;t selected/compiled in your target. You probably need to select the lirc-rpi module in your kernel<br /></p><div class="codebox"><pre><code>make kernel-menuconfig</code></pre></div><p>and then compile your own image</p></blockquote></div><p>Thanks your information , after all time i no have sucess to compile .</p>											<p class="post-edited">(Last edited by <strong>carlosalberto4ti</strong> on 3 Nov 2017, 17:49)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>