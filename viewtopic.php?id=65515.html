<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Wifi toggle over lan (e.g. tcp)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p328251">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">anthoferd</div>
					<div class="post-datetime">
						13 Jun 2016, 08:40					</div>
				</div>
				<div class="post-content content">
					<p>hello,</p><p>i want to switch on/off the wifi on my TL-1043WD over lan. I know the possibility to switch the wifi over the ssh console with wifi up/down, but I want to toggle the wifi over my home automation controller.</p><p>Has anyone an idea?</p><p>thanks...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328254">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sera</div>
					<div class="post-datetime">
						13 Jun 2016, 08:58					</div>
				</div>
				<div class="post-content content">
					<p>And what is your home automation controller? Doesn&#039;t it handle ssh?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328255">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">anthoferd</div>
					<div class="post-datetime">
						13 Jun 2016, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>I can open a tcp connection, a ssh connection is not possible.</p><p>So I can try to enable the telnet server on the router, connect over telnet and execute the command &quot;wifi up&quot; or &quot;wifi down&quot;. Is it possible, to turn of the telnet password login?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328256">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">iasimov</div>
					<div class="post-datetime">
						13 Jun 2016, 09:15					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s possible, you can use telnetd to run any script when connect to a tcp port, e.g: a sh script than ask for a key, check if it&#039;s correct with a if and in that case run the command to toggle wifi.</p><p>by the other side you can also use a cgi in the webserver (a http connection is just a tcp connection that it sends.. &quot;GET /resource HTTP/1.1\r\nHost: example.com\r\n\r\n&quot;)</p>											<p class="post-edited">(Last edited by <strong>iasimov</strong> on 13 Jun 2016, 09:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328264">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">anthoferd</div>
					<div class="post-datetime">
						13 Jun 2016, 10:59					</div>
				</div>
				<div class="post-content content">
					<p>I have tested the cgi-bin script and it works.</p><p>But the way over telnet it does not work. Is it possible to open a tcp port on the router and run a script when I connect with my controller to this tcp port?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328283">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">iasimov</div>
					<div class="post-datetime">
						13 Jun 2016, 13:53					</div>
				</div>
				<div class="post-content content">
					<p>yes, see the command &quot;telnetd&quot; (telnet daemon) of busybox, and its option &quot;-l&quot; (-l login, the script that it runs when connect).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349280">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">spamhoster</div>
					<div class="post-datetime">
						14 Jan 2017, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>IÂ´m quite new to OpenWrt.<br />I have successfully installed it on my Linksys WRT1200AC.</p><p>Now I want to toggle Wifi On/Off via an Arduino microcontroller.<br />The Arduino has a 433MHz receiver and my idea is to simply toggle Wifi with one of these remotes for RemotePowerPlugs...</p><p>The Arduino is connected via ethernet.</p><p>Is it possible to toggle wifi with something like:<br />Http Request: <br />&lt;routerip&gt;/togglewifi=0<br />&lt;routerip&gt;/togglewifi=1</p><p>thanks in advance<br />Dirk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349292">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">cptdondo</div>
					<div class="post-datetime">
						14 Jan 2017, 15:50					</div>
				</div>
				<div class="post-content content">
					<p>Can you install xinetd?&nbsp; Then you can write scripts that run on connection to a specific port.&nbsp; You will have to provide authentication and security if needed in the scripts.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>