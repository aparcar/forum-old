<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asterisk sub-menu spills out</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p147476">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						3 Nov 2011, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>If I enabled asterisk18, all of its listing under its sub-menu gets spilled out to their parent menu (<strong>Telephony</strong> sub-menu) as shown below. This started to happen with the addition of <em>asterisk18-chan-sccp-b</em> package. Has anyone seen this and is there a way to fix it?<br /></p><div class="codebox"><pre><code> OpenWrt Attitude Adjustment (r28718) Configuration
 ??????????????????????????????????????????????????????????????????????????????
  ???????????????????????????????? Telephony ????????????????????????????????
  ?  Arrow keys navigate the menu.  &lt;Enter&gt; selects submenus ---&gt;.          ?  
  ?  Highlighted letters are hotkeys.  Pressing &lt;Y&gt; includes, &lt;N&gt; excludes, ?  
  ?  &lt;M&gt; builds as package.  Press &lt;Esc&gt;&lt;Esc&gt; to exit, &lt;?&gt; for Help, &lt;/&gt;    ?  
  ?  for Search.  Legend: [*] built-in  [ ] excluded  &lt;M&gt; package  &lt; &gt;      ?  
  ? ??????????????????????????????????????????????????????????????????????? ?  
  ? ? &lt;*&gt; asterisk18............................... Complete open source P? ?  
  ? ? &lt; &gt; asterisk18-chan-sccp-b................ SCCP channel provider for? ?  
  ? ? &lt;*&gt; asterisk18-chan-skinny............................ Skinny channe? ?  
  ? ? &lt;*&gt; asterisk18-codec-a-mu................... Alaw to ulaw translatio? ?  
  ? ? &lt;*&gt; asterisk18-codec-alaw.......... Signed linear to alaw translatio? ?  
  ? ? &lt;*&gt; asterisk18-codec-g722...................................... G.72? ?  
  ? ? &lt;*&gt; asterisk18-codec-g726......... Signed linear to G.726 translatio? ?  
  ? ? &lt;*&gt; asterisk18-curl............................................. CUR? ?  
  ? ? &lt;*&gt; asterisk18-format-g726..................................... G.72? ?  
  ? ? &lt;*&gt; asterisk18-format-g729..................................... G.72? ?  
  ? ? &lt;*&gt; asterisk18-format-sln......................... Raw slinear forma? ?  
  ? ? &lt;*&gt; asterisk18-format-sln16.................... Raw slinear 16 forma? ?  
  ? ? &lt;*&gt; asterisk18-func-blacklist.................. Blacklist on calleri? ?  
  ? ? &lt;*&gt; asterisk18-func-channel............................. Channel inf? ?  
  ? ? &lt;*&gt; asterisk18-func-cut................................. CUT functio? ?  
  ? ? &lt;*&gt; asterisk18-func-db.......................... Database interactio? ?  
  ? ? &lt;*&gt; asterisk18-func-devstate................... Blinky lights contro? ?  
  ? ? &lt;*&gt; asterisk18-func-extstate.................. Hinted extension stat? ?  
  ? ? &lt;*&gt; asterisk18-func-global........................... Global variabl? ?  
  ? ? &lt;*&gt; asterisk18-func-shell...................................... Shel? ?  
  ? ? &lt;*&gt; asterisk18-func-uri.................... URI encoding and decodin? ?  
  ? ? &lt;*&gt; asterisk18-func-vmcount......................... vmcount dialpla? ?  
  ? ? &lt;*&gt; asterisk18-mysql........................................... MySQ? ?  
  ? ? &lt;*&gt; asterisk18-pbx-ael...................... Asterisk Extension Logi? ?  
  ? ? &lt;*&gt; asterisk18-pbx-spool.................................. Call Spoo? ?  
  ? ? &lt;*&gt; asterisk18-res-ael-share...................... Shareable AEL cod? ?  
  ? ? --- asterisk18-res-agi.................... Asterisk Gateway Interfac? ?  
  ? ? &lt;*&gt; asterisk18-res-clioriginate........................ Calls via CL? ?  
  ? ? --- asterisk18-res-crypto............................. Provide Crypt? ?  
  ? ? &lt;*&gt; asterisk18-res-musiconhold................................... MO? ?  
  ? ? &lt;*&gt; asterisk18-sounds............................................ So? ?  
  ? ? &lt;*&gt; asterisk18-voicemail................................... Voicemai? ?  
  ? ? &lt; &gt; freeswitch..................... FreeSWITCH open source telephony? ?  
  ? ? &lt; &gt; kamailio...................... Mature and flexible open source S? ?  
  ? ? &lt; &gt; miax..................................... A console iax (asteris? ?  
  ? ? &lt; &gt; openser.................................... Configurable, free S? ?  
  ? ? &lt; &gt; opensips................................................. Open S? ?  
  ? ? &lt; &gt; pcapsipdump.................................... SIP sessions dum? ?  
  ? ? --- rtpproxy......................... RTP (Realtime Transport Protoc? ?  
  ? ? &lt; &gt; sipp.................. test tool / traffic generator for the SIP? ?  
  ? ? &lt; &gt; siproxd.......................... SIP (Session Initiation Protoc? ?  
  ? ? &lt; &gt; sipsak.. SIP (Session Initiation Protocol) stress and diagnostic? ?  
  ? ? --- smap........................................ A SIP network disco? ?  
  ? ? --- smap-to-devinfo......................... SIP Device Information ? ?  
  ? ? &lt; &gt; yate......................................... Yet Another Telpho? ?  
  ? ??v(+)????????????????????????????????????????????????????????????????? ?  
  ???????????????????????????????????????????????????????????????????????????  
  ?                    &lt;Select&gt;    &lt; Exit &gt;    &lt; Help &gt;                     ?  
  ???????????????????????????????????????????????????????????????????????????</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147495">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						3 Nov 2011, 17:35					</div>
				</div>
				<div class="post-content content">
					<p>I think this was fixed in <a href="https://dev.openwrt.org/changeset/28647">https://dev.openwrt.org/changeset/28647</a><br />so an update of the packages branch should fix it</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147504">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						3 Nov 2011, 18:59					</div>
				</div>
				<div class="post-content content">
					<p>Hans, </p><p>Thanks for you quick response. Unfortunately, on my local OpenWRT SVN trunk, the screen dumb I posted above was from a newer SVN r28718. If I didn&#039;t enabled asterisk-1.8, then it won&#039;t spill out those sub-menu. Right now on r28728, the list still spills out as shown above. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147511">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						3 Nov 2011, 20:18					</div>
				</div>
				<div class="post-content content">
					<p>are you sure that you updated the packages tree too?<br />I know I saw the same behaviour, but it was fixed when updating to the latest asterisk/chan-sccp-b code.<br />maybe a fresh checkout would help?</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147536">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						4 Nov 2011, 02:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zandbelt wrote:</cite><blockquote><p>maybe a fresh checkout would help?</p></blockquote></div><p>Hans,</p><p>I deleted <em>feeds/packages/net/asterisk-1.8.x</em>, <em>feeds/packages/net/asterisk-chan-sccp-b</em>, and <em>feeds/packages/net/asterisk-chan-datacard</em>. Then, did a fresh checkout and the problem still persists. If I removed <em>feeds/packages/net/asterisk-chan-sccp-b</em>, then all the asterisk-1.8 packages are back inside the asterisk-1.8.x sub-menu as shown below:<br /></p><div class="codebox"><pre><code> OpenWrt Attitude Adjustment (r28738) Configuration
 ??????????????????????????????????????????????????????????????????????????????
  ???????????????????????????????? Telephony ????????????????????????????????
  ?  Arrow keys navigate the menu.  &lt;Enter&gt; selects submenus ---&gt;.          ?  
  ?  Highlighted letters are hotkeys.  Pressing &lt;Y&gt; includes, &lt;N&gt; excludes, ?  
  ?  &lt;M&gt; builds as package.  Press &lt;Esc&gt;&lt;Esc&gt; to exit, &lt;?&gt; for Help, &lt;/&gt;    ?  
  ?  for Search.  Legend: [*] built-in  [ ] excluded  &lt;M&gt; package  &lt; &gt;      ?  
  ? ??????????????????????????????????????????????????????????????????????? ?  
  ? ? &lt;*&gt; asterisk18............................... Complete open source P? ?  
  ? ? &lt; &gt; freeswitch..................... FreeSWITCH open source telephony? ?  
  ? ? &lt; &gt; kamailio...................... Mature and flexible open source S? ?  
  ? ? &lt; &gt; miax..................................... A console iax (asteris? ?  
  ? ? &lt; &gt; openser.................................... Configurable, free S? ?  
  ? ? &lt; &gt; opensips................................................. Open S? ?  
  ? ? &lt; &gt; pcapsipdump.................................... SIP sessions dum? ?  
  ? ? --- rtpproxy......................... RTP (Realtime Transport Protoc? ?  
  ? ? &lt; &gt; sipp.................. test tool / traffic generator for the SIP? ?  
  ? ? &lt; &gt; siproxd.......................... SIP (Session Initiation Protoc? ?  
  ? ? &lt; &gt; sipsak.. SIP (Session Initiation Protocol) stress and diagnostic? ?  
  ? ? --- smap........................................ A SIP network disco? ?  
  ? ? --- smap-to-devinfo......................... SIP Device Information ? ?  
  ? ? &lt; &gt; yate......................................... Yet Another Telpho? ?  
  ? ??v(+)????????????????????????????????????????????????????????????????? ?  
  ???????????????????????????????????????????????????????????????????????????  
  ?                    &lt;Select&gt;    &lt; Exit &gt;    &lt; Help &gt;                     ?  
  ???????????????????????????????????????????????????????????????????????????</code></pre></div><p>Now, I did a fresh checkout for <em>feeds/packages/net/asterisk-chan-sccp-b</em>, and all asterisk packages spill out to the <strong>Telephony</strong> sub-menu as shown below:<br /></p><div class="codebox"><pre><code> OpenWrt Attitude Adjustment (r28738) Configuration
 ??????????????????????????????????????????????????????????????????????????????
  ???????????????????????????????? Telephony ????????????????????????????????
  ?  Arrow keys navigate the menu.  &lt;Enter&gt; selects submenus ---&gt;.          ?  
  ?  Highlighted letters are hotkeys.  Pressing &lt;Y&gt; includes, &lt;N&gt; excludes, ?  
  ?  &lt;M&gt; builds as package.  Press &lt;Esc&gt;&lt;Esc&gt; to exit, &lt;?&gt; for Help, &lt;/&gt;    ?  
  ?  for Search.  Legend: [*] built-in  [ ] excluded  &lt;M&gt; package  &lt; &gt;      ?  
  ? ??????????????????????????????????????????????????????????????????????? ?  
  ? ? &lt;*&gt; asterisk18............................... Complete open source P? ?  
  ? ? &lt; &gt; asterisk18-chan-sccp-b................ SCCP channel provider for? ?  
  ? ? &lt;*&gt; asterisk18-chan-skinny............................ Skinny channe? ?  
  ? ? &lt;*&gt; asterisk18-codec-a-mu................... Alaw to ulaw translatio? ?  
  ? ? &lt;*&gt; asterisk18-codec-alaw.......... Signed linear to alaw translatio? ?  
  ? ? &lt;*&gt; asterisk18-codec-g722...................................... G.72? ?  
  ? ? &lt;*&gt; asterisk18-codec-g726......... Signed linear to G.726 translatio? ?  
  ? ? &lt;*&gt; asterisk18-curl............................................. CUR? ?  
  ? ? &lt;*&gt; asterisk18-format-g726..................................... G.72? ?  
  ? ? &lt;*&gt; asterisk18-format-g729..................................... G.72? ?  
  ? ? &lt;*&gt; asterisk18-format-sln......................... Raw slinear forma? ?  
  ? ? &lt;*&gt; asterisk18-format-sln16.................... Raw slinear 16 forma? ?  
  ? ? &lt;*&gt; asterisk18-func-blacklist.................. Blacklist on calleri? ?  
  ? ? &lt;*&gt; asterisk18-func-channel............................. Channel inf? ?  
  ? ? &lt;*&gt; asterisk18-func-cut................................. CUT functio? ?  
  ? ? &lt;*&gt; asterisk18-func-db.......................... Database interactio? ?  
  ? ? &lt;*&gt; asterisk18-func-devstate................... Blinky lights contro? ?  
  ? ? &lt;*&gt; asterisk18-func-extstate.................. Hinted extension stat? ?  
  ? ? &lt;*&gt; asterisk18-func-global........................... Global variabl? ?  
  ? ? &lt;*&gt; asterisk18-func-shell...................................... Shel? ?  
  ? ? &lt;*&gt; asterisk18-func-uri.................... URI encoding and decodin? ?  
  ? ? &lt;*&gt; asterisk18-func-vmcount......................... vmcount dialpla? ?  
  ? ? &lt;*&gt; asterisk18-mysql........................................... MySQ? ?  
  ? ? &lt;*&gt; asterisk18-pbx-ael...................... Asterisk Extension Logi? ?  
  ? ? &lt;*&gt; asterisk18-pbx-spool.................................. Call Spoo? ?  
  ? ? &lt;*&gt; asterisk18-res-ael-share...................... Shareable AEL cod? ?  
  ? ? --- asterisk18-res-agi.................... Asterisk Gateway Interfac? ?  
  ? ? &lt;*&gt; asterisk18-res-clioriginate........................ Calls via CL? ?  
  ? ? --- asterisk18-res-crypto............................. Provide Crypt? ?  
  ? ? &lt;*&gt; asterisk18-res-musiconhold................................... MO? ?  
  ? ? &lt;*&gt; asterisk18-sounds............................................ So? ?  
  ? ? &lt;*&gt; asterisk18-voicemail................................... Voicemai? ?  
  ? ? &lt; &gt; freeswitch..................... FreeSWITCH open source telephony? ?  
  ? ? &lt; &gt; kamailio...................... Mature and flexible open source S? ?  
  ? ? &lt; &gt; miax..................................... A console iax (asteris? ?  
  ? ? &lt; &gt; openser.................................... Configurable, free S? ?  
  ? ? &lt; &gt; opensips................................................. Open S? ?  
  ? ? &lt; &gt; pcapsipdump.................................... SIP sessions dum? ?  
  ? ? --- rtpproxy......................... RTP (Realtime Transport Protoc? ?  
  ? ? &lt; &gt; sipp.................. test tool / traffic generator for the SIP? ?  
  ? ? &lt; &gt; siproxd.......................... SIP (Session Initiation Protoc? ?  
  ? ? &lt; &gt; sipsak.. SIP (Session Initiation Protocol) stress and diagnostic? ?  
  ? ? --- smap........................................ A SIP network disco? ?  
  ? ? --- smap-to-devinfo......................... SIP Device Information ? ?  
  ? ? &lt; &gt; yate......................................... Yet Another Telpho? ?  
  ? ??v(+)????????????????????????????????????????????????????????????????? ?  
  ???????????????????????????????????????????????????????????????????????????  
  ?                    &lt;Select&gt;    &lt; Exit &gt;    &lt; Help &gt;                     ?  
  ???????????????????????????????????????????????????????????????????????????</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147551">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						4 Nov 2011, 10:14					</div>
				</div>
				<div class="post-content content">
					<p>hmm, my original patch was applied with a slight modifcation that introduced problem.<br />Please apply:</p><div class="codebox"><pre><code>Index: feeds/packages/net/asterisk-chan-sccp-b/Makefile
===================================================================
--- feeds/packages/net/asterisk-chan-sccp-b/Makefile    (revision 28746)
+++ feeds/packages/net/asterisk-chan-sccp-b/Makefile    (working copy)
@@ -27,7 +27,7 @@
   TITLE:=SCCP channel provider for asterisk
   URL:=http://chan-sccp-b.net.sourceforge.net/
   MAINTAINER:=Hans Zandbelt &lt;hans.zandbelt@gmail.com&gt;
-  DEPENDS:=+asterisk18
+  DEPENDS:= asterisk18
 endef</code></pre></div><p>This suggests to me a bug in the make system; this is merely a workaround.</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147569">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						4 Nov 2011, 12:48					</div>
				</div>
				<div class="post-content content">
					<p>Hans,</p><p>Thank you and it works! This is an interesting bug on OpewWRT that needs be addressed.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>