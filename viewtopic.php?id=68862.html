<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> My router MR3220 v2 is not detecting the dongle Huawei e353, only SD</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p346100">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jxtrem</div>
					<div class="post-datetime">
						8 Dec 2016, 18:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi all</p><p>I am newbie in OpenWrt, however I have a router MR3020 with &quot;Chaos Calmer 15.05.1&quot; and MR3220v2 with &quot;Barrier Breaker 14.07&quot;.<br />I am using a dongle 3G Huawei E353 working fine in MR3020 (same result using MR3220 with &quot;Chaos Calmer 15.05.1&quot;).<br />Now I need more space to install packages, so I use EXTROOT using &quot;MR3220v2 with &quot;Barrier Breaker 14.07&quot;. microSD works fine, I have 1GB of overlay, but I dont have ttyUSB0. Also I tried this &quot;How To Use LTE modem in QMI mode for WAN connection&quot; (installed all packages wiki openwrt) but my modem is not detected usbmode -l</p><p>also I installed all this packages in the router:<br /></p><div class="codebox"><pre><code>kmod-usb-serial 
kmod-usb-serial-option 
kmod-usb-acm usb-modeswitch 
luci-proto-3g
kmod-usb-net-cdc-ether
luci-app-sqm
openssh-sftp-server
luci-app-ddns
ddns-scripts
block-mount
kmod-usb-storage 
kmod-fs-ext4
e2fsprogs</code></pre></div><p>cat /sys/kernel/debug/usb/devices<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# usbmode -l
root@OpenWrt:~# cat /sys/kernel/debug/usb/devices

T:  Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=480  MxCh= 1
B:  Alloc=  0/800 us ( 0%), #Int=  0, #Iso=  0
D:  Ver= 2.00 Cls=09(hub  ) Sub=00 Prot=01 MxPS=64 #Cfgs=  1
P:  Vendor=1d6b ProdID=0002 Rev= 3.10
S:  Manufacturer=Linux 3.10.49 ehci_hcd
S:  Product=EHCI Host Controller
S:  SerialNumber=ehci-platform
C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=  0mA
I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
E:  Ad=81(I) Atr=03(Int.) MxPS=   4 Ivl=256ms

T:  Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=  2 Spd=480  MxCh= 0
D:  Ver= 2.00 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs=  1
P:  Vendor=12d1 ProdID=1506 Rev= 1.02
S:  Manufacturer=HUAWEI
S:  Product=HUAWEI Mobile
C:* #Ifs= 6 Cfg#= 1 Atr=80 MxPwr=500mA
I:* If#= 0 Alt= 0 #EPs= 3 Cls=ff(vend.) Sub=02 Prot=01 Driver=option
E:  Ad=81(I) Atr=03(Int.) MxPS=  64 Ivl=2ms
E:  Ad=82(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=01(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 1 Alt= 0 #EPs= 1 Cls=ff(vend.) Sub=02 Prot=16 Driver=(none)
E:  Ad=83(I) Atr=03(Int.) MxPS=  64 Ivl=2ms
I:  If#= 1 Alt= 1 #EPs= 3 Cls=ff(vend.) Sub=02 Prot=16 Driver=(none)
E:  Ad=83(I) Atr=03(Int.) MxPS=  64 Ivl=2ms
E:  Ad=84(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=02(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 2 Alt= 0 #EPs= 2 Cls=ff(vend.) Sub=02 Prot=03 Driver=option
E:  Ad=85(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=03(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 3 Alt= 0 #EPs= 2 Cls=ff(vend.) Sub=02 Prot=02 Driver=option
E:  Ad=86(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=04(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 4 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=usb-storage
E:  Ad=05(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=87(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
I:* If#= 5 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=usb-storage
E:  Ad=06(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=88(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms</code></pre></div><p>Please somebody can help me</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346292">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jxtrem</div>
					<div class="post-datetime">
						11 Dec 2016, 00:49					</div>
				</div>
				<div class="post-content content">
					<p>Finally I solved the problem with extroot using 3G dongle usb and micro sd</p><p>I apply to my huawei e353 the next command (using putty COMxx)</p><p>1) check configuration:&nbsp; <br />&nbsp; <br />&nbsp; &nbsp;at^setport?</p><p>output&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; ^SETPORT:A1,A2;1,16,3,2,A1,A2</p><p>2) disable CDROM and SDCARD (default)</p><p>&nbsp; at^setport=&quot;ff;1,16,3,2,a2&quot;</p><p>3) reset modem<br />&nbsp; <br />&nbsp; &nbsp;at^reset</p><p>output&gt;&gt;&nbsp; &nbsp; &nbsp; ^SETPORT:;1,16,3,2,A2</p><p>All work without use modeswitch. I disabled modeswitch from startup for ever</p><p>maybe you can recovery the 3G dongle default config. Use this :</p><p>at^setport=&quot;a1,a2;1,16,3,2,a1,a2&quot;</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>jxtrem</strong> on 11 Dec 2016, 00:51)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>