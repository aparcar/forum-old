<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> LPT port for a router is available</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p61162">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						3 Jan 2008, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>I have rewrited and backported driver for MosChip product MCS7715 (mos7715 or moschip7715) <a href="http://www.moschip.com/html/MCS7715.html">http://www.moschip.com/html/MCS7715.html</a></p><p>The chip is used in a products like:<br /><a href="http://www.sunix.com.tw/it/en/Product_Detail.php?cate=2&amp;class_a_id=30&amp;sid=398">http://www.sunix.com.tw/it/en/Product_D â€¦ mp;sid=398</a><br /><a href="http://www.lan-shop.cz/redukce-pc/ostatni/19144">http://www.lan-shop.cz/redukce-pc/ostatni/19144</a></p><p>I have created two driver versions: <br />1) kernel 2.4 - I have tested it on wl700ge with Kamikadze r6914. it prints using p910nd.<br />2) kernel 2.6.23 - I have tested it on Fedora 8, PC i386. Could be interesting for nslu2 and fsg devices.</p><p>If there is anyone who is interested in testing, please let me know. I want to be sure that driver is OK before release it.</p><p>MoD</p>											<p class="post-edited">(Last edited by <strong>MoD</strong> on 3 Jan 2008, 17:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63331">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ply</div>
					<div class="post-datetime">
						13 Feb 2008, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>I just have had idea to connect LPT printer via MCS7715. <br />So I need that driver.</p><p>If testing is needed, I&#039;m ready to join.<br />Have WhiteRussian 0.9 on my Asus WL500gP, planning to bring up p910nd printer server.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63332">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						13 Feb 2008, 12:45					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d simply buy a router with USB and use a USB to LPT adapter with usblp. Works perfect here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63371">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						13 Feb 2008, 22:48					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to review a driver. parport is working. but serial port has some problems:( currently I&#039;m not sure that the serial port works with the driver from moschip website.</p><p>does anyone want to help me? dropa a PM. I&#039;m quite busy right now so testing is a bit slow.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63746">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						20 Feb 2008, 08:34					</div>
				</div>
				<div class="post-content content">
					<p>I have created a project at SF.net: <a href="http://sourceforge.net/projects/mos7715/">http://sourceforge.net/projects/mos7715/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64508">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jllc</div>
					<div class="post-datetime">
						3 Mar 2008, 20:52					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m interested by this driver.</p><p>I&#039;m french, and i don&#039;t write english very well <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p><p>I have the same product, mos7715. I want to use an old parallel scanner (which work well) with my last computer, which don&#039;t have parallel port.</p><p>This computer work with a Mandriva 2006, and a 2.6.23.12 kernel.</p><p>I&#039;ve tried to make a driver, with the kernel&#039;s driver of the mos7720 (a 2 serial port/USB adapter), and the driver of the mos7715 provided by Moschip (made for a 2.6.11 kernel and a Fedora), but i doesn&#039;t work.</p><p>I&#039;ve downloaded, compiled and insterted your driver (it&#039;s OK), but xsane don&#039;t see my scanner (plugged on the moschip 7715).</p><p>Can you tell me how to test the driver ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64610">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						5 Mar 2008, 07:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jllc wrote:</cite><blockquote><p>Can you tell me how to test the driver ?</p></blockquote></div><p>I&#039;m not familiar with ypur scanner interface and do not know how the scanner works with parport. However you cant test (debug) the driver. There is a variable #define ASP_DEBUG. Please set #define ASP_DEBUG 1 to get debug messages.</p><p>Theoretically driver should work in modes PARPORT_MODE_PCSPP | PARPORT_MODE_TRISTATE | PARPORT_MODE_EPP | PARPORT_MODE_ECP | PARPORT_MODE_COMPAT.</p>											<p class="post-edited">(Last edited by <strong>MoD</strong> on 7 Mar 2008, 12:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64743">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						7 Mar 2008, 09:13					</div>
				</div>
				<div class="post-content content">
					<p>I have released a new version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64751">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						7 Mar 2008, 12:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jllc wrote:</cite><blockquote><p>I&#039;ve downloaded, compiled and insterted your driver (it&#039;s OK), but xsane don&#039;t see my scanner (plugged on the moschip 7715).</p></blockquote></div><p>Are you sure that your scanner uses a parport interface and not an old type SCSI interface? I have seen an old type SCSI cards like SYM20401 which has a SCSI port that is the same type as parport interface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65000">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jllc</div>
					<div class="post-datetime">
						12 Mar 2008, 14:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MoD wrote:</cite><blockquote><p>Are you sure that your scanner uses a parport interface and not an old type SCSI interface? I have seen an old type SCSI cards like SYM20401 which has a SCSI port that is the same type as parport interface.</p></blockquote></div><p>Yes, it use a parallel port, and it work perfectly on an old computer which have a parallel port on his motherboard.</p><p>With the moschip adapter, I don&#039;t know how to test/debug. For network, I know tools like ifconfig, route, ping, ethereal or tcpdump. For USB, I know &quot;usbmon&quot; for see what append on a USB port.</p><p>But for parallel device, I don&#039;t know which tool use for debugging.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65092">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						13 Mar 2008, 14:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jllc wrote:</cite><blockquote><p>With the moschip adapter, I don&#039;t know how to test/debug. For network, I know tools like ifconfig, route, ping, ethereal or tcpdump. For USB, I know &quot;usbmon&quot; for see what append on a USB port.</p><p>But for parallel device, I don&#039;t know which tool use for debugging.</p></blockquote></div><p>to debug the driver you have to enable debugging inside the driver and recompile it. then you will see a lot of debug info by typing dmesg</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65609">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">misha680</div>
					<div class="post-datetime">
						23 Mar 2008, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Silly question... I just bought a cable with this chipset and am thinking about using your driver on 2.4 (actually Kamikaze not white russian). Did you need to do anything special to compile on 2.4 MoD? Did you use an OpenWRT Makefile or just cross compile and load the driver on your system?</p><p>Thanks<br />Misha</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66375">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						5 Apr 2008, 14:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>misha680 wrote:</cite><blockquote><p>Silly question... I just bought a cable with this chipset and am thinking about using your driver on 2.4 (actually Kamikaze not white russian). Did you need to do anything special to compile on 2.4 MoD? Did you use an OpenWRT Makefile or just cross compile and load the driver on your system?</p><p>Thanks<br />Misha</p></blockquote></div><p>I just released kernel 2.4 version: <a href="http://sourceforge.net/projects/mos7715/">http://sourceforge.net/projects/mos7715/</a> Please provide a feedback if it is working correctly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66376">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">MoD</div>
					<div class="post-datetime">
						5 Apr 2008, 14:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jllc wrote:</cite><blockquote><div class="quotebox"><cite>MoD wrote:</cite><blockquote><p>Are you sure that your scanner uses a parport interface and not an old type SCSI interface? I have seen an old type SCSI cards like SYM20401 which has a SCSI port that is the same type as parport interface.</p></blockquote></div><p>Yes, it use a parallel port, and it work perfectly on an old computer which have a parallel port on his motherboard.</p><p>With the moschip adapter, I don&#039;t know how to test/debug. For network, I know tools like ifconfig, route, ping, ethereal or tcpdump. For USB, I know &quot;usbmon&quot; for see what append on a USB port.</p><p>But for parallel device, I don&#039;t know which tool use for debugging.</p></blockquote></div><p>I have release some new versions of a driver at I just <a href="http://sourceforge.net/projects/mos7715/">http://sourceforge.net/projects/mos7715/</a></p><p>I&#039;m not a big expert in parport but vendor documentation (http://www.moschip.com/data/products/MCS7715/Data%20Sheet_7715.pdf page 25) says that the Device Control Register (DCR) Bit[5] is resposible for input/output mode. I think that the driver is configured to work with printers (output mode) and the driver needs additional code to be switched to scanned mode (input mode). I&#039;ts just my guessing, I&#039;m not an expert. I have released a well documented code (at least I hope so:)) and I hope that there will be someone who could help improving the driver functionality.</p><p>More information about parport scanners can be found here: <a href="http://www.buzzard.me.uk/jonathan/scanners.html">http://www.buzzard.me.uk/jonathan/scanners.html</a></p>											<p class="post-edited">(Last edited by <strong>MoD</strong> on 5 Apr 2008, 15:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80886">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">nargil</div>
					<div class="post-datetime">
						2 Feb 2009, 04:14					</div>
				</div>
				<div class="post-content content">
					<p>Is there any way I can check what IO (base-address) my mos7715 lpt port has ? /proc/sys/dev/parport/parport0/base-addr shows 0 0. I need this to pass to dosemu to handle a hardware key. The cups printer works fine so the port is working, but at what adress ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142812">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">zmoky</div>
					<div class="post-datetime">
						3 Sep 2011, 21:56					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using the same adapter now for a nslu2 device.<br />The problems are:<br />The driver creates a /dev/ttyUSB0 but now /dev/parport0 device.<br />I dont have ppdev module and compiling that is very tricky.</p><p>Is there any other possibility to write something on that parallel port using this driver ? (light some leds for example)</p>											<p class="post-edited">(Last edited by <strong>zmoky</strong> on 3 Sep 2011, 22:02)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>