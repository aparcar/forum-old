<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kernel panic - no init found: Failed to execute /etc/preinit.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p197670">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tracechandru</div>
					<div class="post-datetime">
						8 Apr 2013, 16:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>I have added a new target for my octeon board and built the image.&nbsp; Kernel version is 3.8.3. <br />While booting, mount happens successfully, but it throws the error, </p><p>[&nbsp; &nbsp;59.481069] Freeing unused kernel memory: 308k freed<br />[&nbsp; &nbsp;59.616045] Failed to execute /etc/preinit.&nbsp; Attempting defaults...<br />[&nbsp; &nbsp;59.685193] Kernel panic - not syncing: No init found.&nbsp; Try passing init= option to kernel. See Linux Documentation/init.txt for guidance.</p><p>I have tried building initramfs&nbsp; and also .elf + rootfs. Both stucks at this same place. <br />Kindly guide me. I have attached the boot logs. </p><br /><p>Octeon ebt3000# fatload ide 0 21000000 vmlinux.64 <br />reading vmlinux.64</p><p>5312576 bytes read<br />Octeon ebt3000# bootoctlinux 0x21000000 root=/dev/sda2 rw rootdelay=10<br />argv[2]: root=/dev/sda2<br />argv[3]: rw<br />argv[4]: rootdelay=10<br />ELF file is 64 bit<br />Allocated memory for ELF segment: addr: 0x1100000, size 0x553980<br />Loading .text @ 0x81100000 (0x39f5e8 bytes)<br />Loading __ex_table @ 0x8149f5f0 (0x5850 bytes)<br />Loading .rodata @ 0x814a5000 (0xb6c38 bytes)<br />Loading __ksymtab @ 0x8155bc38 (0xba30 bytes)<br />Loading __ksymtab_gpl @ 0x81567668 (0x54f0 bytes)<br />Loading __ksymtab_strings @ 0x8156cb58 (0x12edd bytes)<br />Loading __param @ 0x8157fa38 (0xf80 bytes)<br />Loading __modver @ 0x815809b8 (0x648 bytes)<br />Loading .data @ 0x81581000 (0x41e00 bytes)<br />Loading .init.text @ 0x815c3000 (0x268fc bytes)<br />Loading .init.data @ 0x815e9900 (0x144e8 bytes)<br />Loading .data..percpu @ 0x815fe000 (0x2b00 bytes)<br />Clearing .bss @ 0x81610000 (0x43980 bytes)<br />## Loading Linux kernel with entry point: 0x81106870 ...<br />Bootloader: Done loading app on coremask: 0x1<br />[&nbsp; &nbsp; 0.000000] Linux version 3.8.3-svn36159 (CM@localhost.localdomain) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2012.12 r36195) ) #10 SMP Fri Apr 5 17:45:31 IST 2013<br />[&nbsp; &nbsp; 0.000000] CVMSEG size: 2 cache lines (256 bytes)<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 000d0003 (Cavium Octeon)<br />[&nbsp; &nbsp; 0.000000] Checking for the multiply/shift bug... no.<br />[&nbsp; &nbsp; 0.000000] Checking for the daddiu bug... no.<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 000000000ee00000 @ 0000000001100000 (usable)<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 0000000011800000 @ 0000000020000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Wasting 243712 bytes for tracking 4352 unused pages<br />[&nbsp; &nbsp; 0.000000] Using internal Device Tree.<br />[&nbsp; &nbsp; 0.000000] software IO TLB [mem 0x020e2000-0x02122000] (0MB) mapped at [a8000000020e2000-a800000002121fff]<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;DMA32&nbsp; &nbsp; [mem 0x01100000-0xefffffff]<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;empty<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x01100000-0x0fefffff]<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x20000000-0x317fffff]<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 32kB, virtually tagged, 4 way, 64 sets, linesize 128 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 8kB, 64-way, 1 sets, linesize 128 bytes.<br />[&nbsp; &nbsp; 0.000000] PERCPU: Embedded 10 pages/cpu @a800000002139000 s11008 r8192 d21760 u40960<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 130795<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; bootoctlinux 0x21000000 root=/dev/sda2 rw rootdelay=10 console=ttyS0,115200 init=/etc/preinit<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 2048 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 65536 (order: 7, 524288 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 32768 (order: 6, 262144 bytes)<br />[&nbsp; &nbsp; 0.000000] __ex_table already sorted, skipping sort<br />[&nbsp; &nbsp; 0.000000] Memory: 513000k/530432k available (3709k kernel code, 17432k reserved, 1166k data, 308k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] Hierarchical RCU implementation.<br />[&nbsp; &nbsp; 0.000000]&nbsp; CONFIG_RCU_FANOUT set to non-default value of 32<br />[&nbsp; &nbsp; 0.000000]&nbsp; RCU restricting CPUs from NR_CPUS=16 to nr_cpu_ids=1.<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:127<br />[&nbsp; &nbsp;48.829487] Calibrating delay loop (skipped) preset value.. 800.00 BogoMIPS (lpj=1600000)<br />[&nbsp; &nbsp;48.837496] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp;48.842311] Mount-cache hash table entries: 256<br />[&nbsp; &nbsp;48.847670] Checking for the daddi bug... no.<br />[&nbsp; &nbsp;48.853000] Brought up 1 CPUs<br />[&nbsp; &nbsp;48.857221] NET: Registered protocol family 16<br />[&nbsp; &nbsp;48.886637] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp;48.892050] SCSI subsystem initialized<br />[&nbsp; &nbsp;48.898722] Switching to clocksource OCTEON_CVMCOUNT<br />[&nbsp; &nbsp;48.906402] NET: Registered protocol family 2<br />[&nbsp; &nbsp;48.911390] TCP established hash table entries: 4096 (order: 4, 65536 bytes)<br />[&nbsp; &nbsp;48.918460] TCP bind hash table entries: 4096 (order: 5, 131072 bytes)<br />[&nbsp; &nbsp;48.925052] TCP: Hash tables configured (established 4096 bind 4096)<br />[&nbsp; &nbsp;48.931320] TCP: reno registered<br />[&nbsp; &nbsp;48.934489] UDP hash table entries: 256 (order: 2, 24576 bytes)<br />[&nbsp; &nbsp;48.940421] UDP-Lite hash table entries: 256 (order: 2, 24576 bytes)<br />[&nbsp; &nbsp;48.947004] NET: Registered protocol family 1<br />[&nbsp; &nbsp;48.961019] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp;48.966720] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp;48.977110] msgmni has been set to 1001<br />[&nbsp; &nbsp;48.981761] io scheduler noop registered<br />[&nbsp; &nbsp;48.985675] io scheduler deadline registered (default)<br />[&nbsp; &nbsp;49.113092] HDLC line discipline maxframe=4096<br />[&nbsp; &nbsp;49.117550] N_HDLC line discipline registered.<br />[&nbsp; &nbsp;49.121858] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled<br />[&nbsp; &nbsp;49.130629] octeon_rng octeon_rng: Octeon Random Number Generator<br />[&nbsp; &nbsp;49.149328] brd: module loaded<br />[&nbsp; &nbsp;49.155207] nbd: registered device at major 43<br />[&nbsp; &nbsp;49.170335] Uniform Multi-Platform E-IDE driver<br />[&nbsp; &nbsp;49.175256] ide-gd driver 1.18<br />[&nbsp; &nbsp;49.179075] st: Version 20101219, fixed bufsize 32768, s/g segs 256<br />[&nbsp; &nbsp;49.186570] SCSI Media Changer driver v0.25 <br />[&nbsp; &nbsp;49.191896] pata_octeon_cf 1d000000.compact-flash: version 2.2 8 bit.<br />[&nbsp; &nbsp;49.199186] scsi0 : pata_octeon_cf<br />[&nbsp; &nbsp;49.203037] ata1: PATA max PIO6 cmd 900000001d000800 ctl 900000001d00080e<br />[&nbsp; &nbsp;49.212368] SSFDC read-only Flash Translation layer<br />[&nbsp; &nbsp;49.217698] libphy: mdio-octeon: probed<br />[&nbsp; &nbsp;49.221465] mdio-octeon 1180000001800.mdio: Version 1.0<br />[&nbsp; &nbsp;49.228873] aoe: AoE v81 initialised.<br />[&nbsp; &nbsp;49.232445] octeon_wdt: Initial granularity 5 Sec<br />[&nbsp; &nbsp;49.237437] cavium-ethernet 1.9<br />[&nbsp; &nbsp;49.243493] Interface 1 has 4 ports (RGMII)<br />[&nbsp; &nbsp;49.247714] Interface 2 has 4 ports (NPI)<br />[&nbsp; &nbsp;49.261363] TCP: cubic registered<br />[&nbsp; &nbsp;49.264639] NET: Registered protocol family 17<br />[&nbsp; &nbsp;49.269013] Key type ceph registered<br />[&nbsp; &nbsp;49.272570] libceph: loaded (mon/osd proto 15/24, osdmap 5/6 5/6)<br />[&nbsp; &nbsp;49.279803] 1180000000800.serial: ttyS0 at MMIO 0x1180000000800 (irq = 34) is a OCTEON<br />[&nbsp; &nbsp;49.287626] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp;49.287626] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp;49.299320] 1180000000c00.serial: ttyS1 at MMIO 0x1180000000c00 (irq = 35) is a OCTEON<br />[&nbsp; &nbsp;49.307901] Bootbus flash: Setting flash for 8MB flash at 0x1f400000<br />[&nbsp; &nbsp;49.314405] phys_mapped_flash: Found 1 x16 devices at 0x0 in 8-bit bank. Manufacturer ID 0x000001 Chip ID 0x001001<br />[&nbsp; &nbsp;49.324796] Amd/Fujitsu Extended Query Table at 0x0040<br />[&nbsp; &nbsp;49.329982]&nbsp; &nbsp;Amd/Fujitsu Extended Query version 1.3.<br />[&nbsp; &nbsp;49.335067] phys_mapped_flash: Swapping erase regions for top-boot CFI table.<br />[&nbsp; &nbsp;49.342236] number of CFI chips: 1<br />[&nbsp; &nbsp;49.345721] Searching for RedBoot partition table in phys_mapped_flash at offset 0x1007f0000<br />[&nbsp; &nbsp;49.355804] Waiting 10sec before mounting root device...<br />[&nbsp; &nbsp;49.380064] ata1.00: CFA: TS2GCF133, 20111006, max PIO4<br />[&nbsp; &nbsp;49.385329] ata1.00: 3915072 sectors, multi 0: LBA <br />[&nbsp; &nbsp;49.403832] ata1.00: configured for PIO4<br />[&nbsp; &nbsp;49.408360] scsi 0:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;ATA&nbsp; &nbsp; &nbsp; TS2GCF133&nbsp; &nbsp; &nbsp; &nbsp; 2011 PQ: 0 ANSI: 5<br />[&nbsp; &nbsp;49.417704] sd 0:0:0:0: [sda] 3915072 512-byte logical blocks: (2.00 GB/1.86 GiB)<br />[&nbsp; &nbsp;49.425865] sd 0:0:0:0: Attached scsi generic sg0 type 0<br />[&nbsp; &nbsp;49.431645] sd 0:0:0:0: [sda] Write Protect is off<br />[&nbsp; &nbsp;49.436674] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#039;t support DPO or FUA<br />[&nbsp; &nbsp;49.452960]&nbsp; sda: sda1 sda2<br />[&nbsp; &nbsp;49.457562] sd 0:0:0:0: [sda] Attached SCSI removable disk<br />[&nbsp; &nbsp;50.251703] eth0: 1000 Mbps Full duplex, port 16, queue 16<br />[&nbsp; &nbsp;59.372000] EXT3-fs (sda2): error: couldn&#039;t mount because of unsupported optional features (40)<br />[&nbsp; &nbsp;59.388000] EXT2-fs (sda2): error: couldn&#039;t mount because of unsupported optional features (40)<br />[&nbsp; &nbsp;59.443992] EXT4-fs (sda2): warning: mounting unchecked fs, running e2fsck is recommended<br />[&nbsp; &nbsp;59.467832] EXT4-fs (sda2): mounted filesystem without journal. Opts: (null)<br />[&nbsp; &nbsp;59.474945] VFS: Mounted root (ext4 filesystem) on device 8:2.<br />[&nbsp; &nbsp;59.481069] Freeing unused kernel memory: 308k freed<br />[&nbsp; &nbsp;59.616045] Failed to execute /etc/preinit.&nbsp; Attempting defaults...<br />[&nbsp; &nbsp;59.685193] Kernel panic - not syncing: No init found.&nbsp; Try passing init= option to kernel. See Linux Documentation/init.txt for guidance.</p>											<p class="post-edited">(Last edited by <strong>tracechandru</strong> on 10 Apr 2013, 08:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197672">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tracechandru</div>
					<div class="post-datetime">
						8 Apr 2013, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>For additional info. </p><p>My vmlinux.elf is in Compact flash along with the rootfs. <br />vmlinux.elf in /dev/sda1<br />rootfs in /dev/sda2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197748">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tracechandru</div>
					<div class="post-datetime">
						9 Apr 2013, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>Any help guys... This mite look stupid but I&#039;m not able to solve it..</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>