<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bandwidth usage meter on WRT54G with Openwrt/Kamikaze r18961</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p164487">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>My cable internet has monthly usage limits (caps) and overgoing would be very expensive ($1.50/GB)<br />Since all the traffic going through a WRT54G router, has OpenWRT/Kamikaze r18961, it would be a good place to meter my usage.<br />Found some programs, but all needs to compiled, other libraries installed,etc....the WRT54G does not enough memory to do it !</p><p>Is there any small, easy to install program which would show somehow show the total usage and runs on WRT54G router ?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164490">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						14 Apr 2012, 17:36					</div>
				</div>
				<div class="post-content content">
					<p>simply use&nbsp; </p><p>&nbsp; cat /sys/class/net/&lt;your_interface&gt;/statistics/rx_bytes&nbsp; and sum up a counter ( save it somwhere external for powerdown )</p><p>and others in this dir</p><p>regards<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164493">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>thanks for your reply<br />unfortunately , my linux knowledge is very little<br />I use winscp to copy files to router and putty to access the command line text interface<br />would you be able to give me an example how your mentioned&nbsp; command line might looks like:</p><p>cat /sys/class/net/&lt;your_interface&gt;/statistics/rx_bytes&nbsp; and sum up a counter ( save it somwhere external for powerdown </p><p>thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164494">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>what is &lt;my_interface&gt;&nbsp; &nbsp;?<br />how to &quot;sum up counter&quot;&nbsp; ? </p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164495">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">simon94</div>
					<div class="post-datetime">
						14 Apr 2012, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>Maybe youÂ´d like to use DD-WRT?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164497">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 18:28					</div>
				</div>
				<div class="post-content content">
					<p>I have &quot;rq-sssp client&quot; running to provide output to serial port for my entertainment needs<br />it works with openwrt, tried with dd-wrt before, but it either did not install or I did not have access to serial........did not work <br />also tried wit tomato and gargoyle, similar issues</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164498">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>tried &quot;cat /sys/class/net/eth0/statistics/rx_bytes&quot;<br />received &quot;cat: can&#039;t open &#039;/sys/class/net/eth0/statistics/rx_bytes&#039;: No such files or directory&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164500">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 18:42					</div>
				</div>
				<div class="post-content content">
					<p>the folder &quot;sys&quot; is totally empty<br />found &quot;/proc/sys/net/&quot;&nbsp; &nbsp;now I am checking subdirectories for any &quot;statistics/rx_bytes&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164502">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						14 Apr 2012, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>sorry not to be precise enough.</p><p>i do have Kamikaze 18802 here and ther is a /sys folder (mips build)</p><p>instead try to scrape ifconfig like :</p><p>&nbsp; &nbsp; ifconfig eth0.1 |grep &quot;RX bytes&quot;|awk &#039;{print $2}&#039;</p><p>assuming eth0.1 is your wan interface. If not replace it with yours</p><p>to get this into a file just do like</p><p> ifconfig eth0.1 |grep &quot;RX bytes&quot;|awk &#039;{print $2}&#039; &gt;&gt; /var/traffic.log</p><p>more infos to be found looking for &quot;ifconfig RX bytes&quot; awk grep a.s.o<br />and fiddling with grep / awk is quite fun&nbsp; ( so to say)</p><br /><p>regards<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164506">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jenom</div>
					<div class="post-datetime">
						14 Apr 2012, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>thanks 3zl</p><p>first command line returned: 772,826,730 bytes<br />run second line, then checked &quot;traffic.log&quot; , it has same number</p><p>that is 772 MB, but it is only for RX (received), right ?</p><p>How about the (TX) send bytes ?<br />Same commands, just replace RX with TX ?</p><p>When the counting started ?<br />How to reset to 0 at the end of month?</p><p>Thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>