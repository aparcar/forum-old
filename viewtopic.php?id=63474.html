<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> create local package mirror</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p315531">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gugaoforums</div>
					<div class="post-datetime">
						18 Mar 2016, 15:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello friends!</p><p>Please some one can give me directions</p><p>how to create a local package mirror ( barrier breaker )</p><p>compiling from source ?</p><p>I know how to build a single package using this guide<br /><a href="https://wiki.openwrt.org/doc/howtobuild/single.package">https://wiki.openwrt.org/doc/howtobuild/single.package</a></p><p>but how to automatic create all packages!</p><p>I download a mirror from internet</p><p>but packages dont be compatible with my build I think</p><p>thanks for any help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315560">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gugaoforums</div>
					<div class="post-datetime">
						18 Mar 2016, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>any tip or keyword to search and learn about ?</p><p>thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315570">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						18 Mar 2016, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t do my own building, so take my advice FWIW please.&nbsp; If you really want to build <span class="bbu">all</span> packages, surely you need a build system:</p><p><a href="https://wiki.openwrt.org/doc/howto/obtain.firmware.generate">https://wiki.openwrt.org/doc/howto/obta … e.generate</a></p><p><a href="https://wiki.openwrt.org/doc/howto/build">https://wiki.openwrt.org/doc/howto/build</a></p><p>The first link, the Image Builder archive for your hardware platform, etc., sounds easier and may be all you need.&nbsp; Make sure you use the matching version of Image Builder, that is, the one which matches your installed version of OpenWRT.&nbsp; HTH.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315575">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">gugaoforums</div>
					<div class="post-datetime">
						18 Mar 2016, 19:50					</div>
				</div>
				<div class="post-content content">
					<p>Clemmitt,</p><p>I alredy use imagebuilder and works great but dont do busybox customizations.. I need to compile..</p><p>I build my perfect need system</p><p>no dhcp 6, ipv6<br />no telnet<br />busybox customizations<br />add usb storage, fdisk, format and ext4</p><p>all works great!</p><p>so when I need to install external ipks I&#039;m installed all<br />lighttpd lighttpd-mod-cgi<br />curl<br />vsftpd<br />screen bash<br />etherwake nmap<br />openssh-client<br />rsync acl<br />coreutils-shuf<br /> all this ipks install perfect!</p><p>but when I try to install<br />kmod-crypto-xts kmod-crypto-iv kmod-crypto-aes kmod-crypto-misc cryptsetup kmod-loop</p><p>have many errors about missing kernel dependecies...</p><p>so I have a ideia</p><p>this is from my imagebuider<br />BusyBox v1.22.1 (2014-09-20 22:01:35 CEST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> -----------------------------------------------------<br /> BARRIER BREAKER (14.07, r42625)</p><p>***********************************************************<br />and this is from my compiled version<br /> BusyBox v1.22.1 (2016-03-18 13:58:05 UTC) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> -----------------------------------------------------<br /> BARRIER BREAKER (Barrier Breaker, r48549)<br />***********************************************************</p><p>it is possible to compile image to r42625 version?</p><p>i think if I can do this.. cryptsetup will work</p><p>thanks for all your help!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315582">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">gugaoforums</div>
					<div class="post-datetime">
						18 Mar 2016, 20:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><p>I don&#039;t do my own building, so take my advice FWIW please.&nbsp; If you really want to build <span class="bbu">all</span> packages, surely you need a build system:</p><p><a href="https://wiki.openwrt.org/doc/howto/obtain.firmware.generate">https://wiki.openwrt.org/doc/howto/obta … e.generate</a></p><p><a href="https://wiki.openwrt.org/doc/howto/build">https://wiki.openwrt.org/doc/howto/build</a></p><p>The first link, the Image Builder archive for your hardware platform, etc., sounds easier and may be all you need.&nbsp; Make sure you use the matching version of Image Builder, that is, the one which matches your installed version of OpenWRT.&nbsp; HTH.</p><p>Clemmitt</p></blockquote></div><p>try some many combinations in compiled..</p><p>do kernel modules encription</p><p>but when I try to install</p><p>Collected errors:<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-crypto-xts:<br /> *&nbsp; &nbsp; &nbsp; kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-crypto-iv:<br /> *&nbsp; &nbsp; &nbsp; kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-crypto-misc:<br /> *&nbsp; &nbsp; &nbsp; kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for cryptsetup:<br /> *&nbsp; &nbsp; &nbsp; kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-loop:<br /> *&nbsp; &nbsp; &nbsp; kernel (= 3.10.49-1-0114c71ed85677c9c1e4911437af4743) *</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315586">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						18 Mar 2016, 20:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gugaoforums wrote:</cite><blockquote><p>it is possible to compile image to r42625 version?</p></blockquote></div><p>I think you need to do a full build but first git checkout that revision.&nbsp; This recent thread will probably help a lot:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=51412">https://forum.openwrt.org/viewtopic.php?id=51412</a></p><p>I don&#039;t need to use git much so I don&#039;t know a lot.&nbsp; Also, I don&#039;t know about your compilation errors.&nbsp; Sorry.</p><p>Clemmitt</p><p>P.S.: Also see here:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=15201">https://forum.openwrt.org/viewtopic.php?id=15201</a></p>											<p class="post-edited">(Last edited by <strong>cmsigler</strong> on 18 Mar 2016, 20:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315589">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">gugaoforums</div>
					<div class="post-datetime">
						18 Mar 2016, 21:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><div class="quotebox"><cite>gugaoforums wrote:</cite><blockquote><p>it is possible to compile image to r42625 version?</p></blockquote></div><p>I think you need to do a full build but first git checkout that revision.&nbsp; This recent thread will probably help a lot:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=51412">https://forum.openwrt.org/viewtopic.php?id=51412</a></p><p>I don&#039;t need to use git much so I don&#039;t know a lot.&nbsp; Also, I don&#039;t know about your compilation errors.&nbsp; Sorry.</p><p>Clemmitt</p><p>P.S.: Also see here:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=15201">https://forum.openwrt.org/viewtopic.php?id=15201</a></p></blockquote></div><p>cool ! I will learn about!</p><p>Thank you very much</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315611">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">makro</div>
					<div class="post-datetime">
						19 Mar 2016, 01:18					</div>
				</div>
				<div class="post-content content">
					<p>When building your image, check all kernel module packages and all userspace packages (flags CONFIG_ALL_KMODS and CONFIG_ALL) under Global build options. All packages will be build (note that while the build is running it will consume several GBs of disk space). Make the resulting files available via HTTP(S), add your feed to /etc/feeds.conf and remove the official ones (as you are replacing them), and you&#039;re done.</p>											<p class="post-edited">(Last edited by <strong>makro</strong> on 19 Mar 2016, 01:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315613">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">gugaoforums</div>
					<div class="post-datetime">
						19 Mar 2016, 01:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>makro wrote:</cite><blockquote><p>When building your image, check all kernel module packages and all userspace packages (flags CONFIG_ALL_KMODS and CONFIG_ALL) under Global build options. All packages will be build (note that while the build is running it will consume several GBs of disk space). Make the resulting files available via HTTP(S), add your feed to /etc/feeds.conf and remove the official ones (as you are replacing them), and you&#039;re done.</p></blockquote></div><p>hello Makro!!</p><p>I will learn about this flags thanks for your tips and directions.. I&#039;m lost.. 3 days try to create my build.. only cryptsetup dont work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>when I try to manual compile give this errors</p><p>storage@ubuntuserver:~/source14.07/openwrt$ make package/kmod-crypto-iv/{compile,install} V=99<br />make[1]: Entering directory `/home/storage/source14.07/openwrt&#039;<br />make[1]: *** No rule to make target `package/kmod-crypto-iv/compile&#039;.&nbsp; Stop.<br />make[1]: Leaving directory `/home/storage/source14.07/openwrt&#039;<br />make: *** [package/kmod-crypto-iv/compile] Error 2</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>