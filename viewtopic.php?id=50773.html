<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> tinyproxy problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p234490">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">burning daylight</div>
					<div class="post-datetime">
						24 May 2014, 13:22					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I&#039;m trying to set up tinyproxy on my router, but connections fail, when I set it up in firefox. Here is my config:<br /></p><div class="codebox"><pre><code>:~# cat /etc/config/tinyproxy
config tinyproxy
        option Port &#039;8888&#039;
        option Timeout &#039;600&#039;
        option DefaultErrorFile &#039;/usr/share/tinyproxy/default.html&#039;
        option StatFile &#039;/usr/share/tinyproxy/stats.html&#039;
        option MinSpareServers &#039;5&#039;
        option MaxSpareServers &#039;20&#039;
        option StartServers &#039;10&#039;
        option MaxRequestsPerChild &#039;0&#039;
        option enabled &#039;1&#039;
        option MaxClients &#039;10&#039;
        option Syslog &#039;1&#039;
        option LogLevel &#039;Info&#039;
        option User &#039;nobody&#039;
        option Group &#039;nogroup&#039;
        list ConnectPort &#039;0&#039;
        option Listen &#039;0.0.0.0&#039;
        option Bind &#039;0.0.0.0&#039;
        option enable &#039;1&#039;
        list Allow &#039;127.0.0.1&#039;
        list Allow &#039;192.168.0.0/16&#039;
        list Allow &#039;192.168.33.1&#039;
        list Allow &#039;::ffff:0:0/96&#039;</code></pre></div><p>Here is the error log:<br /></p><div class="codebox"><pre><code>Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Initializing tinyproxy ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Reloading config file
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Listening on IP 0.0.0.0
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Outgoing connections bound to IP 0.0.0.0
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Stathost set to &quot;127.0.0.1&quot;
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Adding Port [0] to the list allowed by CONNECT
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Now running as group &quot;nogroup&quot;.
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Now running as user &quot;nobody&quot;.
Sat May 24 11:59:10 2014 daemon.crit tinyproxy[5073]: ERROR: Could not create log file /var/log/tinyproxy.log: Bad file descriptor.
Sat May 24 11:59:10 2014 daemon.crit tinyproxy[5073]: Falling back to syslog logging
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 1 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 2 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 3 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 4 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 5 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 6 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 7 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 8 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 9 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Creating child number 10 of 10 ...
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Finished creating all children.
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Setting the various signals.
Sat May 24 11:59:10 2014 daemon.info tinyproxy[5073]: Starting main loop. Accepting connections.
Sat May 24 11:59:16 2014 daemon.info tinyproxy[5074]: Connect (file descriptor 7): dimura-laptop.lan [192.168.3.172]
Sat May 24 11:59:16 2014 daemon.info tinyproxy[5077]: Connect (file descriptor 7): dimura-laptop.lan [192.168.3.172]
Sat May 24 11:59:45 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 11:59:46 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 11:59:47 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 11:59:49 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 11:59:53 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:01 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:17 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:46 2014 daemon.err tinyproxy[5074]: read_request_line: Client (file descriptor: 7) closed socket before read.
Sat May 24 12:00:46 2014 daemon.err tinyproxy[5074]: Error reading readble client_fd 7
Sat May 24 12:00:46 2014 daemon.warn tinyproxy[5074]: Could not retrieve request entity
Sat May 24 12:00:46 2014 daemon.err tinyproxy[5077]: read_request_line: Client (file descriptor: 7) closed socket before read.
Sat May 24 12:00:46 2014 daemon.err tinyproxy[5077]: Error reading readble client_fd 7
Sat May 24 12:00:46 2014 daemon.warn tinyproxy[5077]: Could not retrieve request entity
Sat May 24 12:00:49 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:54 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:55 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:56 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)
Sat May 24 12:00:58 2014 daemon.warn odhcpd[1204]: Failed to send to ff05::1:3%eth1 (Invalid argument)</code></pre></div><p>Thank you for any suggestions!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>