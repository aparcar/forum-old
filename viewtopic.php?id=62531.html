<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Setting Country Code</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p310136">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">iosdev1024</div>
					<div class="post-datetime">
						3 Feb 2016, 17:58					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I live in USA and bought a bunch of Arduino YUN and put some custom OpenWRT software on it.</p><p>People from many different countries are interested in this software so I want to send the ARDUINO YUN to them with the software, however since&nbsp; those people are not in USA, I have to change the country code before I send it to them.</p><p>I read up on country code, but it seems a bit complicated to change, and I&#039;m not sure exactly how to do it perfectly.</p><p>1. The country code seems to be either 2 letters or a number, how do I know which?</p><p>2. Where are the country codes (letters and numbers) listed for all the countries?</p><p>3. Do I have to change anything else besides country code, what about channels etc?</p><p>4. My OpenWRT is operating as a WiFi access point, does that affect the country code setting for the different countries or channels or whatever?</p><p>5. Since I&#039;m in USA and not in those other countries, after I change the country code, how do I test to see if it works or i did it correctly from USA since I dont have any WiFi equipment from every country to connect to the access point to see if it can connect?</p><p>6. Is there a generic country code or channels setting, that will make it work for all countries?</p><p>Thanks<br />iosdev1024</p>											<p class="post-edited">(Last edited by <strong>iosdev1024</strong> on 3 Feb 2016, 18:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310151">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Feb 2016, 19:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iosdev1024 wrote:</cite><blockquote><p>Hello,</p><p>I live in USA and bought a bunch of Arduino YUN and put some custom OpenWRT software on it.</p><p>People from many different countries are interested in this software so I want to send the ARDUINO YUN to them with the software, however since&nbsp; those people are not in USA, I have to change the country code before I send it to them.</p><p>I read up on country code, but it seems a bit complicated to change, and I&#039;m not sure exactly how to do it perfectly.</p><p>1. The country code seems to be either 2 letters or a number, how do I know which?</p><p>2. Where are the country codes (letters and numbers) listed for all the countries?</p><p>3. Do I have to change anything else besides country code, what about channels etc?</p><p>4. My OpenWRT is operating as a WiFi access point, does that affect the country code setting for the different countries or channels or whatever?</p><p>6. Is there a generic country code or channels setting, that will make it work for all countries?</p><p>Thanks<br />iosdev1024</p></blockquote></div><p>Country code is used by radio to get a proper info about channels and tx power levels allowed by law.<br />current regulatory domain database is here - <a href="http://git.kernel.org/cgit/linux/kernel/git/sforshee/wireless-regdb.git/tree/db.txt">http://git.kernel.org/cgit/linux/kernel â€¦ ree/db.txt</a><br />for openwrt you need only to setup country code in /etc/config/wireless</p><div class="quotebox"><blockquote><p>5. Since I&#039;m in USA and not in those other countries, after I change the country code, how do I test to see if it works or i did it correctly from USA since I dont have any WiFi equipment from every country to connect to the access point to see if it can connect?</p></blockquote></div><p>hardware is the same for all over the world, u have to change a country code for your wireless adapter (usually in the driver settings, or globally for whole system for some kind of hardware) and try</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 3 Feb 2016, 19:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310219">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">iosdev1024</div>
					<div class="post-datetime">
						4 Feb 2016, 03:34					</div>
				</div>
				<div class="post-content content">
					<p>I changed the country code on the YUN Access Point to several different countries, rebooting each time, but seems no matter what country code i put in there, i can still connect to the YUN Access Point WiFi using my mac desktop and also using my android phone.</p><p>Is this how it should work? i thought i wouldnt be able to connect anymore if the YUN has a different country code from the client?</p><p>So maybe the country code does nothing? or is the android and mac automatically adapting?</p><p>anybody knows? its really urgent!</p><p>thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310220">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">npkamen</div>
					<div class="post-datetime">
						4 Feb 2016, 03:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iosdev1024 wrote:</cite><blockquote><p>So maybe the country code does nothing? or is the android and mac automatically adapting?</p></blockquote></div><p>All it does is limit what channels can be selected on the wifi.&nbsp; If two different countries allow the same channel to be in operation then there is no reason the two devices cannot communicate.&nbsp; Otherwise if you travelled overseas your devices wouldn&#039;t be able to work if they were bought in a different country.&nbsp; That is just silly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310221">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">iosdev1024</div>
					<div class="post-datetime">
						4 Feb 2016, 04:07					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m in USA, i changed the country code in the YUN to maybe 20 different countries, each time rebooting, yet i can still use my cell phone and mac to connect to it no matter what the country code.</p><p>npkamen - are you saying this is ok? its supposed to work this way?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310222">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">npkamen</div>
					<div class="post-datetime">
						4 Feb 2016, 04:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iosdev1024 wrote:</cite><blockquote><p>I&#039;m in USA, i changed the country code in the YUN to maybe 20 different countries, each time rebooting, yet i can still use my cell phone and mac to connect to it no matter what the country code.</p><p>npkamen - are you saying this is ok? its supposed to work this way?</p></blockquote></div><p>Yes</p><p>By setting the country code to USA for the wifi network adapter it just stops the AP transmitting on frequencies that may be used for other things in that country.&nbsp; Clients also will have restrictions but I imagine they will only have restrictions when they are in AP mode, not client mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310237">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						4 Feb 2016, 08:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iosdev1024 wrote:</cite><blockquote><p>I&#039;m in USA, i changed the country code in the YUN to maybe 20 different countries, each time rebooting, yet i can still use my cell phone and mac to connect to it no matter what the country code.</p><p>npkamen - are you saying this is ok? its supposed to work this way?</p></blockquote></div><p>2.4GHz band difference is a few, it&#039;s only affects restricted txpower and channels 11-14 sometimes.<br />Just for example</p><p><em>country US: DFS-FCC<br />&nbsp; &nbsp; (2402 - 2472 @ 40), (30)<br /></em><br />it means 1 - 11 channels allowed with 30dBm max txpower (12-13 are also allowed but with txpower restriction)</p><p><em><br />country DE: DFS-ETSI<br />&nbsp; &nbsp; # entries 279004 and 280006<br />&nbsp; &nbsp; (2400 - 2483.5 @ 40), (100 mW)<br /></em><br />1 - 13 channels with 20dBm txpower</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 4 Feb 2016, 08:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310265">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">iosdev1024</div>
					<div class="post-datetime">
						4 Feb 2016, 14:01					</div>
				</div>
				<div class="post-content content">
					<p>what about &quot;country_ie&quot; does that have to be set when changing the country code?</p><p>the documentation reads....</p><p><a href="https://wiki.openwrt.org/doc/uci/wireless">https://wiki.openwrt.org/doc/uci/wireless</a></p><p>country_ie - Enables IEEE 802.11d country IE (information element) advertisement in beacon and probe response frames. This IE contains the country code and channel/power map. Requires country. </p><br /><p>I wasnt setting that, maybe this is why i could connect to it even when the country code was different, maybe because it wasnt enabled it wasnt doing anything with the country code until this is set?</p><br /><p>How can I know if the code should be 2 letters or a number, it depends on if im using mad-wifi, how can i tell if i&#039;m using mad-wifi? how can i easily check which driver im using from command line?</p><p>thanks</p>											<p class="post-edited">(Last edited by <strong>iosdev1024</strong> on 4 Feb 2016, 14:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310267">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						4 Feb 2016, 14:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iosdev1024 wrote:</cite><blockquote><p>what about &quot;country_ie&quot; does that have to be set when changing the country code?</p><p>the documentation reads....</p><p><a href="https://wiki.openwrt.org/doc/uci/wireless">https://wiki.openwrt.org/doc/uci/wireless</a></p><p>country_ie - Enables IEEE 802.11d country IE (information element) advertisement in beacon and probe response frames. This IE contains the country code and channel/power map. Requires country. </p><br /><p>I wasnt setting that, maybe this is why i could connect to it even when the country code was different, maybe because it wasnt enabled it wasnt doing anything with the country code until this is set?</p><br /><p>How can I know if the code should be 2 letters or a number, it depends on if im using mad-wifi, how can i tell if i&#039;m using mad-wifi? how can i easily check which driver im using from command line?</p><p>thanks</p></blockquote></div><p>it&#039;s not required but can be set in case of troubles with apple devices (apple wifi drivers scan each nearby ap&#039;s for country code IE to set internal country code automatically and it hurts sometimes, when your neighbours using AP&#039;s with a wrong country code set)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>