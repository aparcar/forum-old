<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tp-Link 703n mesh for USB Audio recording</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p153271">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">BahnResearchLab</div>
					<div class="post-datetime">
						6 Jan 2012, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>Hello, so I have recently purchased one TP-link wr703n device (version 1.5) and could use assistance in setting it up to do a specific task with OpenWrt. </p><p>It is my intention to purchase more of them and configure them into a mesh using OpenWrt. To each TP-link device I will attach this analog to digital audio converter (<a href="http://www.platinum-records.com/Akai-EIE-I-O-Audio-Interface-Expander-prod7999.htm">http://www.platinum-records.com/Akai-EI … od7999.htm</a>). The audio converter is USB class compliant and also contains an internal USB hub. I intend to use it to sample audio and send it through the mesh to a central computer for collection. (it would also be nice to be able to plug a usb memory stick in but not essential) </p><p>Initially I would like to set up the single device I currently have in a chain like this Microphone TO digital converter (currently we have this device: MicPortPro&nbsp; <a href="http://www.centrance.com/products/mp">http://www.centrance.com/products/mp</a> ) TO TP-link 703n with OpenWRT TO wifi capable computer via wifi.</p><p>At present I am entirely inexperienced with making changes to firmware and have never put OpenWrt on any device. I have however done extensive research on exactly what sort of setup is required to accomplish my goal and am quite certain that it will require a wifi mesh, that each node cannot have its own computer, and that audio over ip via USB is the best setup for my task. </p><p>I have read the discussion in this forum about using the 703n with OpenWrt (<a href="https://forum.openwrt.org/viewtopic.php?id=31729&amp;p=13">https://forum.openwrt.org/viewtopic.php … 9&amp;p=13</a>), as well as the village-telco google group discussion (<a href="https://groups.google.com/forum/#!topic/village-telco-dev/UlGxUTlj9mM">https://groups.google.com/forum/#!topic … lGxUTlj9mM</a>) on using OpenWrt on the 703n. I have also read much of the documentation on the wiki for beginners at this. Admittedly there was a great deal I did not understand. But I can tell that there are many talented people working on OpenWrt, who hopefully could be inclined to lend a bit more assistance to my specific task. I ask this because one thing I have gathered is that using the 703n with OpenWrt has been a very recent work in progress, and it seems like it would be very easy for someone who is inexperienced such as myself to brick their device. </p><p>Would it be possible to walk me through what I need to do, as at the moment I only have the one 703n?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153592">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">BahnResearchLab</div>
					<div class="post-datetime">
						8 Jan 2012, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>I notice not many folks have taken this on. Did I post in the wrong forum, or perhaps should have posted to the 703n discussion? But I did not want to flood it with my inexperienced question.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153593">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						8 Jan 2012, 17:43					</div>
				</div>
				<div class="post-content content">
					<p>As we do implement Layer2-Mesh with AWDS on OpenWRT and other Linux systems, it might offer you a solution.<br />AWDS is relativly esay to setup and work with Openwrt 8.09 / 10.x&nbsp; and most other Linux Systems&nbsp; ( Slitaz, Puppy a.s.o ) and we can build<br />spezific images.<br />Also runs well with some USB-WLigi radios on VMWare ( nice for tests)</p><p>For test purposes we install&nbsp; AWDS on a NSLug with 4 USB radios and USB-ADC running fine.<br />The complete system can run in 4MG ROM / 16MB RAM but should have some CPU power.</p><p><a href="http://awds.berlios.de/">http://awds.berlios.de/</a> :</p><p>AWDS (Ad-hoc Wireless Distribution Service) is a Layer 2 routing protocol for Wireless Mesh Networks. It provides transparent Ethernet-like access to all participating nodes, thus easily allowing the employment of different higher level protocols like IP (with DHCP), IPv6, AppleTalk, ...</p><p>Technically, AWDS is a pro-active Link-State Routing protocol. It is a modular software running on top of the GEA (Generic Event Abstraction layer), which allows deployment on real hardware as well as on top of the NS-2 network simulator.</p><p>AWDS is a development effort at the Real-Time Systems and Communication working group of the Otto-von-Guericke University, Magdeburg.</p><br /><p>we do have 3 years experience in setup and implementation on AWDS</p><p>so if you need more infos, just ask or PM</p><p>regards</p><p>3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153599">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						8 Jan 2012, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>Another mesh technology worth looking into is the batman advanced routing protocol. It is available for OpenWrt and can be easily configured (<a href="http://www.open-mesh.org/wiki/batman-adv/Quick-start-guide">http://www.open-mesh.org/wiki/batman-ad … tart-guide</a>)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153661">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">s7mx1</div>
					<div class="post-datetime">
						9 Jan 2012, 01:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>BahnResearchLab wrote:</cite><blockquote><p>Hello, so I have recently purchased one TP-link wr703n device (version 1.5) and could use assistance in setting it up to do a specific task with OpenWrt. </p><p>It is my intention to purchase more of them and configure them into a mesh using OpenWrt. To each TP-link device I will attach this analog to digital audio converter (<a href="http://www.platinum-records.com/Akai-EIE-I-O-Audio-Interface-Expander-prod7999.htm">http://www.platinum-records.com/Akai-EI … od7999.htm</a>). The audio converter is USB class compliant and also contains an internal USB hub. I intend to use it to sample audio and send it through the mesh to a central computer for collection. (it would also be nice to be able to plug a usb memory stick in but not essential) </p><p>Initially I would like to set up the single device I currently have in a chain like this Microphone TO digital converter (currently we have this device: MicPortPro&nbsp; <a href="http://www.centrance.com/products/mp">http://www.centrance.com/products/mp</a> ) TO TP-link 703n with OpenWRT TO wifi capable computer via wifi.</p><p>At present I am entirely inexperienced with making changes to firmware and have never put OpenWrt on any device. I have however done extensive research on exactly what sort of setup is required to accomplish my goal and am quite certain that it will require a wifi mesh, that each node cannot have its own computer, and that audio over ip via USB is the best setup for my task. </p><p>I have read the discussion in this forum about using the 703n with OpenWrt (<a href="https://forum.openwrt.org/viewtopic.php?id=31729&amp;p=13">https://forum.openwrt.org/viewtopic.php … 9&amp;p=13</a>), as well as the village-telco google group discussion (<a href="https://groups.google.com/forum/#!topic/village-telco-dev/UlGxUTlj9mM">https://groups.google.com/forum/#!topic … lGxUTlj9mM</a>) on using OpenWrt on the 703n. I have also read much of the documentation on the wiki for beginners at this. Admittedly there was a great deal I did not understand. But I can tell that there are many talented people working on OpenWrt, who hopefully could be inclined to lend a bit more assistance to my specific task. I ask this because one thing I have gathered is that using the 703n with OpenWrt has been a very recent work in progress, and it seems like it would be very easy for someone who is inexperienced such as myself to brick their device. </p><p>Would it be possible to walk me through what I need to do, as at the moment I only have the one 703n?</p></blockquote></div><p>I am not sure about the mesh network part. However I can give you some advice on usb audio and tcp/udp streaming bit. The stock openwrt does not have usb audio drivers installed. You have to install yourself which includes: <br />kernel modules: usb-ohci (usb1.0/1.1) usb-ehci (usb 2.0),&nbsp; usb audio, alsa <br />user space: alsa lib</p><p>Now comes to applications which I would recommend pulseaudio. It can stream or broadcast audio over the wifi network. You will need to install pulseaudio on the server side as well.&nbsp; You are likely to use module-tunnel-sink or module-tunnel-source. Check pulseaudio&#039;s web page for more information. Alternatively you can try gstreamer and you will found plenty samples on how to use it on the internet.</p><p>The latency with pulseaudio over wifi is really good and I am able to watch tv shows without noticing any video/audio out of sync problem. The gstreamer method (udp streaming) however will suffer about 600ms latency.</p><p>You can try my pulseaudio firmware here <a href="https://forum.openwrt.org/viewtopic.php?pid=150597#p150597">https://forum.openwrt.org/viewtopic.php … 97#p150597</a> for start which should give you everything apart from mesh network.</p>											<p class="post-edited">(Last edited by <strong>s7mx1</strong> on 9 Jan 2012, 01:47)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>