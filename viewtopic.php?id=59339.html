<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> MINIPwner MR3040 Setup Help</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p290043">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jjung</div>
					<div class="post-datetime">
						1 Sep 2015, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>Can someone help OP Upload the MiniPwner Overlay tar file to the /tmp directory<br />Untar the file by issuing tar -xf MiniPwner-Setup_x.x.x.tar (where x.x.x is the version number)<br />Run the setup script by issuing sh setup.sh</p><p>would someone be kind enough to give direct codes?<br />Op is a newb but looking to learn thank you.</p><p>Below is a tutorial for people to get to this stage on windows.<br />____________________________________________________________________________________</p><p>OP is a cave man who inherited a windows 8 computer<br />Op has never coded or used linux in his caveman life.<br />OP was meant for a chromebook, when MiniPwner V2 caught his eyes.<br />I am here today to try to help other cavemen reconstruct this procedure.<br />This took OP many hours of trial and error to figure stuff out. Thanks to all those who tried to help but OP didnt really understand some of the information or it didnt seem very easy to understand. Much like if someone was thirsty and looking for water, someone says look west. Seems general and not specific enough. If you are a caveman and if this thing helped you please comment or like.<br />If you are experienced and can help procedure that would help too.</p><p>Original Link<br /><a href="http://minipwner.com/index.php/build-one">http://minipwner.com/index.php/build-one</a></p><p>Hardware:<br />Made with Windows 8 64x<br />needs MR3040<br />2x usb flash drives ( 16Gb and other larger than 1gb<br />Ethernet cable ( supplied new in box with MR3040)</p><p>Programs needed:<br />Putty <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgta … nload.html</a><br />USB Iso mounter <a href="http://www.pendrivelinux.com/universal-usb-installer-easy-as-1-2-3/">http://www.pendrivelinux.com/universal- … -as-1-2-3/</a> ( can change to others if you like)<br />Gparted <a href="http://gparted.org/download.php">http://gparted.org/download.php</a></p><p>First: Inject USB drive 1gb or higher to make Gparted boot drive.<br /> In my pc right click on it and format to FAT32 and quick format and recomended setting<br /> Run the USB program and make a Gparted boot disk, Open program select gparted iso file and complete this.<br />Next shut down pc and hit F12 ( could be f8 f10 or f11 on other pc&#039;s) and change the Boot order: Make USB priority.<br />Then boot into Gparted. insert the 16GB usb as stated. and then find the refresh devices if you dont see it.<br />Next make one partition 500mb swap 1mb space between and the rest is ext4. and hit apply<br />** i tried VM oracle but it wouldnt recognice my usb so this option worked best** This step alone saved you a hour of error!</p><p>Second: Charge up the Battery on Mr3040 only 10 minutes will last you a long time alone.<br />turn on device and connect to pc via ethernet. In explorer hit 192.168.0.1<br />this will open you into a TP link portal<br />Find system tools, firmware upgrade and choose OpenWrt Barrier Breaker File ( may be different if updates are made from the time of this posting)<br /><a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3040-v2-squashfs-factory.bin">https://downloads.openwrt.org/barrier_b … actory.bin</a><br />It will take some time and reboot after awhile 10 to 20 minutes<br />next it will be on 192.168.1.1 so enter that value in address bar of a browser</p><p>Time to update firmware. If the Mr3040 is pluged via ethernet you cant open openwrt.org and you may need to change the IP of MR if other routers are on that address.<br />like 192.168.1.2 and windows firewall may need to be disabled?** you may or may not have to do this.<br />So while the MR is connected via ethernet in browser ( chrome, exploreer ect) hit 192.168.1.1 change login password<br />and then go find the WIFI settings. and Add and search for a wifi connection ( may need to setup WPA WPA2 password for the MR3040 to logiN)<br />i thought if the pc has internet via wifi, one would just be able to upload the firmware to the MR via ethernet. ( Doesnt work like this...)<br />Now if the MR is connected to the internet hit diagnosis and test it.<br />If its just connected to pc via ethernet it will just say PING BAD Gateway. If its on wifi it should give something else.<br />one connected go to software on the browser and find the corresponding files and install.<br />kmod-scsi-core<br />kmod-usb-storage<br />block-mount<br />kmod-lib-crc16<br />kmod-crypto-hash<br />kmod-fs-ext4<br />Check to make sure its all installed.<br />in browser make the MR reboot. and input 16gb we made the partitions for.</p><p>Next open Putty! and make sure ssh is selected and input the value you gave to the MR<br />it will ask for user? input root or enter the password you entered<br />Now we need to edit fstab:<br />your screen should have<br />root@OpwnWrt~# or something like this.<br />type:cat /etc/config/fstab<br />this will how a list of current settings<br />next type:vi /etc/config/fstab<br />**Note** it may not let you change anything but if you hit the INSERT button it should allow it or if you hit r when curor is on a value you can change value underneath it.<br />change the settings to match values on the MINIpwner page. if you dont know if there is supposed to be a space or not. i just copy codes and then paste it into something else<br />I was not able to copy and paste directly so i just typed it out.to finish edit<br />hit button&nbsp; twice enter enter<br />then &quot;:w&quot; to save and long hold Esc and the % modified should change to some value with an L<br />now you can hit enter and it should change back to the root@OpenWrt<br />you can also try :qz or ZZ but it didnt work for me.<br />**note** I didnt quite figure this out but a good indicator is the %/L and sometimes the (-) symbol will pop up on the bottom left somewhere<br />to check if you edited type: cat /etc/config/fstab <br />this will show you the new values edited</p><p>**Note** Pivot root is just the name for a series of commands i thought it was a program or something.<br />just type the following values directly and hit eneter after each line<br />mkdir -p /tmp/cproot<br />mount --bind / /tmp/cproot<br />mkdir /mnt/sda2<br />mount /dev/sda2 /mnt/sda2<br />tar -C /tmp/cproot -cvf - . | tar -C /mnt/sda2 -xf -<br />umount /tmp/cproot</p><p>Edit fstab again as the website states</p><p>and then open browser and type in the IP address you assigned and then enter the password and then reboot.<br />open putty again type df and verify with minipwner page</p><p>Now you need to overlay the tar file which has not done yet. havent figured this out but once Op does,will edit</p>											<p class="post-edited">(Last edited by <strong>jjung</strong> on 2 Sep 2015, 16:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290101">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						2 Sep 2015, 01:05					</div>
				</div>
				<div class="post-content content">
					<p>Try using WinSCP.&nbsp; &nbsp;Makes Linux easier for us Windows users.&nbsp; You can then edit files and change their permissions in the GUI. </p><p>Can&#039;t save?&nbsp; Read up on Linux file permissions.&nbsp; I recall when setting up USB that I had do do some chmod for something, I think it was the file system of the drive.&nbsp; Do not recall.&nbsp; </p><p>OP must be fun at parties</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290107">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						2 Sep 2015, 01:27					</div>
				</div>
				<div class="post-content content">
					<p>in the usb config, mount or fstab the USB might be &#039;ro&#039; read-only try setting it to &#039;rw&#039; read write </p><p><a href="http://wiki.openwrt.org/doc/howto/usb.storage">http://wiki.openwrt.org/doc/howto/usb.storage</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290288">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jjung</div>
					<div class="post-datetime">
						3 Sep 2015, 04:13					</div>
				</div>
				<div class="post-content content">
					<p>BTT please</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291078">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">yoyellow</div>
					<div class="post-datetime">
						9 Sep 2015, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>i want this for the mr3020, i have some of those laying around...&nbsp; will it be easy to adapt this guide to (any) other devices?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291153">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jjung</div>
					<div class="post-datetime">
						10 Sep 2015, 20:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yoyellow wrote:</cite><blockquote><p>i want this for the mr3020, i have some of those laying around...&nbsp; will it be easy to adapt this guide to (any) other devices?</p></blockquote></div><p>Yours is older? i bet there is probably alot more write ups than that particular model.<br />If anyone would help my process, or if you read mine. you will solve alot of the main issues you may ever encounter.<br />God knows I have</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>