<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Fast/lean adblocking for OpenWrt/LEDE with web ui: simple-adblock</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 5 Apr 2016 and 5 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=62204&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p337682">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">CustomHardware</div>
					<div class="post-datetime">
						9 Sep 2016, 10:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Hey, the pixelserv ip is 198.18.0.1, the rules should be:<br /></p><div class="codebox"><pre><code>iptables -w -t nat -A prerouting_rule -p tcp -d 198.18.0.1 --dport 80 -j REDIRECT --to-ports 65534
iptables -w -t nat -A prerouting_rule -p tcp -d 198.18.0.1 --dport 443 -j REDIRECT --to-ports 65535
iptables -w -t nat -A prerouting_rule -p tcp -d 198.18.0.1 -j ACCEPT
iptables -w -A forwarding_rule -d 198.18.0.1 -j REJECT</code></pre></div><p>Either the one-liner from github or<br /></p><div class="codebox"><pre><code>/etc/init.d/adblock setup</code></pre></div><p> should set all these up (an overwrite any previous adblock config).</p></blockquote></div><p>Thanks!<br />It works flawlessly now. <br />I missunderstood th script at the first place.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343584">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">geminisongtu</div>
					<div class="post-datetime">
						13 Nov 2016, 19:06					</div>
				</div>
				<div class="post-content content">
					<p>I get an error with these notifications wjen running setup script:</p><p>/etc/init.d/adblock script update... [OK]<br />sh: 0: unknown operand<br />Packages setup... sh: 0: unknown operand<br />[OK]<br />sh: 0: unknown operand<br />PixelServ setup... sh: 0: unknown operand<br />[OK]<br />sh: 0: unknown operand<br />Firewall setup... sh: 0: unknown operand<br />[OK]<br />sh: 0: unknown operand<br />AdBlock config setup... sh: 0: unknown operand<br />[OK]</p><p>Script is run on LEDE r2158<br />can you help me!</p>											<p class="post-edited">(Last edited by <strong>geminisongtu</strong> on 13 Nov 2016, 19:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343604">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						13 Nov 2016, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>Sorry about that. Run /etc/init.d/adblock update once more to update to the version where this is fixed.</p><p>The bug had to do with just the output, everything else should have set up just fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344021">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">geminisongtu</div>
					<div class="post-datetime">
						17 Nov 2016, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>thanks for your update. But on version 4.0.0, when I run your setup script, then not thing happen.<br />Im on LEDE r2222, using ufetch-client and libustream-mbedtls</p>											<p class="post-edited">(Last edited by <strong>geminisongtu</strong> on 17 Nov 2016, 19:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344053">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						18 Nov 2016, 01:34					</div>
				</div>
				<div class="post-content content">
					<p>Just ran it on LEDE 2212:<br /></p><div class="codebox"><pre><code># /etc/init.d/adblock setup
/etc/init.d/adblock script update... [OK]
Packages setup... [OK]
AdBlock config setup... [OK]</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344067">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">geminisongtu</div>
					<div class="post-datetime">
						18 Nov 2016, 08:56					</div>
				</div>
				<div class="post-content content">
					<p>thanks for your reply. Where can I download the old build of LEDE? I find on their website, but just see the latest build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344070">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						18 Nov 2016, 09:32					</div>
				</div>
				<div class="post-content content">
					<p>It should work just as well with revision 2222.</p><p>If you&#039;re struggling with the setup, maybe you should consider using the adblock and luci-app-adblock packages instead, they are way more user-friendly, easier to install and configure from Web UI.</p><p>Mine has more compact code, making it easier to tinker with/adjust to your own needs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344535">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">tuantda</div>
					<div class="post-datetime">
						23 Nov 2016, 04:46					</div>
				</div>
				<div class="post-content content">
					<p>I just installed your script on CC and get the following error. Do you have any suggestions?<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# /etc/init.d/adblock update
/etc/init.d/adblock script update... [OK]
root@OpenWrt:~# /etc/init.d/adblock setup
/etc/init.d/adblock script update... [OK]
Packages setup... [OK]
AdBlock config setup... [OK]
root@OpenWrt:~# /etc/init.d/adblock reload
ERROR: Failed to create AdBlock data file!</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344536">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						23 Nov 2016, 05:05					</div>
				</div>
				<div class="post-content content">
					<p>Use </p><div class="codebox"><pre><code>/etc/init.d/adblock start</code></pre></div><p> to start the service. Only use reload if you want to force-reload the hosts/whitelist files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344538">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">tuantda</div>
					<div class="post-datetime">
						23 Nov 2016, 05:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Use </p><div class="codebox"><pre><code>/etc/init.d/adblock start</code></pre></div><p> to start the service. Only use reload if you want to force-reload the hosts/whitelist files.</p></blockquote></div><p>Thanks! It worked!</p><p>Can this script run with lists of Adblock Plus? example: fanboy.co.nz/index.html</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344546">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						23 Nov 2016, 08:10					</div>
				</div>
				<div class="post-content content">
					<p>No, it&#039;s domain/hosts based blocking only.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350939">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						2 Feb 2017, 19:34					</div>
				</div>
				<div class="post-content content">
					<p>Turned it into a proper package and it&#039;s as fast and as customizable (from both CLI and Web UI) as humanly possible now. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> For details please refer to the first post.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351585">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">diagonali</div>
					<div class="post-datetime">
						10 Feb 2017, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>So I&#039;m running LEDE 17.01.0-rc2 fresh install and ran the command as specified on your README: opkg update; opkg install simple-adblock luci-app-simple-adblock coreutils-sort</p><p>Getting the following errors (had to remove links in output from post):</p><p>root@LEDE:~# opkg update; opkg install simple-adblock luci-app-simple-adblock coreutils-sort</p><p>Unknown package &#039;simple-adblock&#039;.<br />Unknown package &#039;luci-app-simple-adblock&#039;.<br />Installing coreutils-sort (8.23-2) to root...<br />Installing coreutils (8.23-2) to root...<br />Configuring coreutils.<br />Collected errors:<br /> * opkg_install_cmd: Cannot install package simple-adblock.<br /> * opkg_install_cmd: Cannot install package luci-app-simple-adblock.<br /> * check_data_file_clashes: Package coreutils-sort wants to install file /usr/bin/sort<br />&nbsp; &nbsp; &nbsp; &nbsp; But that file is already provided by package&nbsp; * busybox<br /> * opkg_install_cmd: Cannot install package coreutils-sort.</p><br /><p>So it can&#039;t install coreutils-sort and can&#039;t find simple-adblock or the luci-app. How can I get coreutils-sort to work? I&#039;m guessing removing busybox wouldn&#039;t be a good idea? I could try and install the packages manually but think something in what I&#039;m doing is wrong? Am I missing something? I also tried this on the latest OpenWrt 15 with the same results. Many thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351621">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						10 Feb 2017, 22:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>diagonali wrote:</cite><blockquote><p>So it can&#039;t install coreutils-sort and can&#039;t find simple-adblock or the luci-app. How can I get coreutils-sort to work? I&#039;m guessing removing busybox wouldn&#039;t be a good idea? I could try and install the packages manually but think something in what I&#039;m doing is wrong? Am I missing something? I also tried this on the latest OpenWrt 15 with the same results. Many thanks!</p></blockquote></div><p>Thank you, I&#039;ve updated the <a href="https://github.com/stangri/openwrt-packages/blob/simple-adblock/net/simple-adblock/files/README.md">README</a>, please refer it for instructions for both OpenWrt and LEDE.</p><p>You are right -- removing busybox is not a good idea. You can skip coreutils-sort (or try &#039;opkg --force-overwrite install coreutils-sort&#039;), it speeds up sorting but simple-adblock will work with the busybox sort as well. I couldn&#039;t reproduce your opkg error with the 17.01-snapshot tho -- I&#039;ve just tried installing coreutils-sleep and it had no problem overwriting busybox&#039;es sleep.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351622">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">diagonali</div>
					<div class="post-datetime">
						10 Feb 2017, 22:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><div class="quotebox"><cite>diagonali wrote:</cite><blockquote><p>So it can&#039;t install coreutils-sort and can&#039;t find simple-adblock or the luci-app. How can I get coreutils-sort to work? I&#039;m guessing removing busybox wouldn&#039;t be a good idea? I could try and install the packages manually but think something in what I&#039;m doing is wrong? Am I missing something? I also tried this on the latest OpenWrt 15 with the same results. Many thanks!</p></blockquote></div><p>Thank you, I&#039;ve updated the README, please refer it for instructions for both OpenWrt and LEDE.</p><p>You are right -- removing busybox is not a good idea. You can skip coreutils-sort (or try &#039;opkg --force-overwrite install coreutils-sort&#039;), it speeds up sorting but simple-adblock will work with the busybox sort as well. I couldn&#039;t reproduce your opkg error with the 17.01-snapshot tho -- I&#039;ve just tried installing coreutils-sleep and it had no problem overwriting busybox&#039;es sleep.</p></blockquote></div><p>Thanks for the update - followed the new instructions and they worked great! Weird that my coreutils-sort gave the error as I&#039;d clean flashed LEDE but I used your force-overwrite command and it seemed to install fine. The finicky part of me wants to know why there was an error with mine but yours had no errors but it all seems to be working well so I&#039;ll leave it at that. Many thanks for all the work you put into this. This seemed just the ticket when I realised I could run an adblocker on my router instead of having a Pihole on the network. I actually use their hosts file with this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351624">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						10 Feb 2017, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m glad it&#039;s working great. Maybe there&#039;s a difference in how opkg handles conflicts between RC and SNAPSHOT builds.</p><p>I&#039;ve added the following two lists to the default config:<br /></p><div class="codebox"><pre><code>https://s3.amazonaws.com/lists.disconnect.me/simple_tracking.txt
https://s3.amazonaws.com/lists.disconnect.me/simple_ad.txt</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352041">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">texas</div>
					<div class="post-datetime">
						16 Feb 2017, 01:56					</div>
				</div>
				<div class="post-content content">
					<p>The software ist correct installed, loads all the blocked sites...every script is running [OK]</p><p>But...</p><p>....in practise its blocked absolutely nothing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352045">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						16 Feb 2017, 03:33					</div>
				</div>
				<div class="post-content content">
					<p>How did you test it? Have you tried something like </p><div class="codebox"><pre><code>nslookup zzz.clickbank.net</code></pre></div><p> on the router?</p><p>It&#039;s likely that the device you tested it on cached some DNS responses from the ads your browser displayed prior to installation of simple-adblock. Usually restarting your device (the one you&#039;re still seeing the ads on) helps.</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 16 Feb 2017, 03:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352190">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">texas</div>
					<div class="post-datetime">
						17 Feb 2017, 15:08					</div>
				</div>
				<div class="post-content content">
					<p>There is no caching.<br />It dosent work with multiwan and vpn clients.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352244">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						18 Feb 2017, 01:59					</div>
				</div>
				<div class="post-content content">
					<p>It works very well with vpn client on my router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352918">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						25 Feb 2017, 08:09					</div>
				</div>
				<div class="post-content content">
					<p>In 1.5.5 I&#039;ve added an option to assign one of the router LEDs to indicate adblocking status (on/off).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353296">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">Eraser77</div>
					<div class="post-datetime">
						1 Mar 2017, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>Hello Strangri<br />I&#039;ve installed adblock on archer c7 with ROOTer firmware based on LEDE r3069-0e22d63<br />I use 4g modem for internet connection.<br />First time adblock start early than modem connect to internet and I see:<br /></p><div class="codebox"><pre><code>Wed Mar  1 13:57:08 2017 user.notice simple-adblock [1231]: Forcing local DNS server: 192.168.1.1.
Wed Mar  1 13:57:08 2017 kern.info kernel: [   36.028160] br-lan: port 2(wlan0) entered forwarding state
Wed Mar  1 13:57:15 2017 user.notice simple-adblock [1231]: [DL] Blocked Hosts:  mvps. [0;31m[✗][0m
Wed Mar  1 13:57:20 2017 user.notice simple-adblock [1231]: [DL] Blocked Hosts: yoyo [0;31m[✗][0m
Wed Mar  1 13:57:20 2017 user.notice : tr: short write
Wed Mar  1 13:57:20 2017 user.notice : head: standard output: I/O error
Wed Mar  1 13:57:25 2017 user.notice simple-adblock [1231]: [DL] Blocked Hosts: malwaredomainlist [0;31m[✗][0m
Wed Mar  1 13:57:25 2017 user.notice : tr: short write
Wed Mar  1 13:57:25 2017 user.notice : head: standard output: Broken pipe
Wed Mar  1 13:57:28 2017 kern.notice kernel: [   55.988127] random: nonblocking pool is initialized
Wed Mar  1 13:57:31 2017 user.notice simple-adblock [1231]: [DL] Blocked Hosts: adaway [0;31m[✗][0m
Wed Mar  1 13:57:36 2017 user.notice simple-adblock [1231]: [DL] Blocked Hosts: someonewhocares [0;31m[✗][0m
Wed Mar  1 13:57:36 2017 user.notice : tr: short write
Wed Mar  1 13:57:36 2017 user.notice : head: standard output: Broken pipe
Wed Mar  1 13:57:41 2017 user.notice simple-adblock [1231]: [DL] Blocked Hosts: zeustracker. [0;31m[✗][0m
Wed Mar  1 13:57:46 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains:malwaredomains[0;31m[✗][0m
Wed Mar  1 13:57:46 2017 user.notice : tr: short write
Wed Mar  1 13:57:46 2017 user.notice : head: standard output: I/O error
Wed Mar  1 13:57:52 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains: s3 [0;31m[✗][0m
Wed Mar  1 13:57:57 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains: s3[0;31m[✗][0m
Wed Mar  1 13:58:02 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains: s3[0;31m[✗][0m
Wed Mar  1 13:58:02 2017 user.notice : tr: short write
Wed Mar  1 13:58:02 2017 user.notice : head: standard output: I/O error
Wed Mar  1 13:58:07 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains: ransomwaretracke [0;31m[✗][0m
Wed Mar  1 13:58:07 2017 user.notice : tr: short write
Wed Mar  1 13:58:12 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains: gitlab [0;31m[✗][0m
Wed Mar  1 13:58:17 2017 user.notice simple-adblock [1231]: [DL] Blocked Domains: dshield [0;31m[✗][0m
Wed Mar  1 13:58:17 2017 user.notice simple-adblock [1231]: Waiting for background processes [0;32m[✓][0m
Wed Mar  1 13:58:17 2017 user.notice simple-adblock [1231]: [0;31mERROR[0m: service failed to create its data file!</code></pre></div><p>When connect are established I restart adblock and see the following:<br /></p><div class="codebox"><pre><code>Wed Mar  1 22:17:40 2017 user.notice simple-adblock [28000]: No longer forcing local DNS server.
Wed Mar  1 22:17:41 2017 user.notice simple-adblock [28000]: Reloading dnsmasq [0;31m[✗][0m
Wed Mar  1 22:17:41 2017 user.notice simple-adblock [28000]: [0;31mERROR[0m: service failed to reload dnsmasq!
Wed Mar  1 22:17:41 2017 daemon.err ux t tpd[1148]: Command failed: Not found
Wed Mar  1 22:17:42 2017 user.notice simple-adblock [28081]: No longer forcing local DNS server.
Wed Mar  1 22:17:43 2017 user.notice simple-adblock [28081]: Reloading dnsmasq [0;31m[✗][0m
Wed Mar  1 22:17:43 2017 user.notice simple-adblock [28081]: [0;31mERROR[0m: service failed to reload dnsmasq!
Wed Mar  1 22:17:43 2017 daemon.err ux t tpd[1148]: Command failed: Not found
Wed Mar  1 22:18:25 2017 user.notice simple-adblock [28753]: Forcing local DNS server: 192.168.1.1.
Wed Mar  1 22:18:26 2017 daemon.err ux t tpd[1148]: tr: short write
Wed Mar  1 22:18:26 2017 daemon.err ux t tpd[1148]: head: standard output: I/O error
Wed Mar  1 22:18:30 2017 user.notice simple-adblock [28753]: [DL] Blocked Hosts: mvps [0;32m[✓][0m
Wed Mar  1 22:18:30 2017 daemon.err ux t tpd[1148]: tr: short write
Wed Mar  1 22:18:30 2017 daemon.err ux t tpd[1148]: head: standard output: Broken pipe
Wed Mar  1 22:18:31 2017 user.notice simple-adblock [28753]: [DL] Blocked Hosts: yoyo[0;32m[✓][0m
Wed Mar  1 22:18:31 2017 daemon.err ux t tpd[1148]: tr: short write
Wed Mar  1 22:18:31 2017 daemon.err ux t tpd[1148]: head: standard output: Broken pipe
Wed Mar  1 22:18:33 2017 user.notice simple-adblock [28753]: [DL] Blocked Hosts: malwaredomainlist [0;32m[✓][0m
Wed Mar  1 22:18:34 2017 user.notice simple-adblock [28753]: [DL] Blocked Hosts: adaway[0;32m[✓][0m
Wed Mar  1 22:18:38 2017 user.notice simple-adblock [28753]: [DL] Blocked Hosts: someonewhocares[0;32m[✓][0m
Wed Mar  1 22:18:38 2017 daemon.err ux t tpd[1148]: tr: short write
Wed Mar  1 22:18:38 2017 daemon.err ux t tpd[1148]: head: standard output: I/O error
Wed Mar  1 22:18:40 2017 user.notice simple-adblock [28753]: [DL] Blocked Hosts: zeustracker [0;32m[✓][0m
Wed Mar  1 22:18:43 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: mirror1  [0;32m[✓][0m
Wed Mar  1 22:18:45 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: s3 [0;32m[✓][0m
Wed Mar  1 22:18:47 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: s3 [0;32m[✓][0m
Wed Mar  1 22:18:49 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: s3 [0;32m[✓][0m
Wed Mar  1 22:18:49 2017 daemon.err ux t tpd[1148]: tr: short write
Wed Mar  1 22:18:49 2017 daemon.err ux t tpd[1148]: head: standard output: I/O error
Wed Mar  1 22:18:52 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: ransomwaretracker[0;32m[✓][0m
Wed Mar  1 22:18:54 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: gitlab[0;32m[✓][0m
Wed Mar  1 22:18:56 2017 user.notice simple-adblock [28753]: [DL] Blocked Domains: dshield [0;32m[✓][0m
Wed Mar  1 22:18:56 2017 user.notice simple-adblock [28753]: Waiting for background processes [0;32m[✓][0m
Wed Mar  1 22:18:59 2017 user.notice simple-adblock [28753]: Sorting merged file [0;32m[✓][0m
Wed Mar  1 22:19:04 2017 user.notice simple-adblock [28753]: Whitelisting domains [0;32m[✓][0m
Wed Mar  1 22:19:09 2017 user.notice simple-adblock [28753]: Formatting merged file [0;32m[✓][0m
Wed Mar  1 22:19:09 2017 user.notice simple-adblock [28753]: Removing temporary files [0;32m[✓][0m
Wed Mar  1 22:19:10 2017 user.notice simple-adblock [28753]: Reloading dnsmasq [0;32m[✓][0m
Wed Mar  1 22:19:11 2017 user.notice simple-adblock [28753]: service enabled: blocking 53640 domains.</code></pre></div><p>Could You help me to know causes of errors?<br />thanks </p><p>I deleted parts of domain names from logs because I can&#039;t save post.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353316">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						2 Mar 2017, 02:26					</div>
				</div>
				<div class="post-content content">
					<p>Hey man, thanks for reporting this!</p><p>The errors seem to come from this piece of code:<br /></p><div class="codebox"><pre><code>R_TMP=&quot;/var/$(head /dev/urandom | tr -dc &#039;A-Za-z0-9&#039; | head -c10)&quot;</code></pre></div><p>It&#039;s ran once per each URL to generate a random filename.</p><p>I&#039;m very surprised it didn&#039;t work on your system, what happens if you just do:<br /></p><div class="codebox"><pre><code>head /dev/urandom</code></pre></div><p> from the console?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353323">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">Eraser77</div>
					<div class="post-datetime">
						2 Mar 2017, 06:14					</div>
				</div>
				<div class="post-content content">
					<p>I see very strange sign in PUTTY <br /></p><div class="codebox"><pre><code>Ի#i▒▒▒؏}▒&amp;t6▒▒K:▒▒▒Q▒▒▒▒!▒▒N▒r5\▒)▒&gt;#▒B▒▒s▒Y0▒R▒q
                                                 ▒▒▒▒▒n▒M▒▒▒▒▒▒W*▒9▒kt▒ԿWقb&quot;▒^▒▒~wk▒▒▒▒\sس▒</code></pre></div><p>maybe did I make something wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353324">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						2 Mar 2017, 06:20					</div>
				</div>
				<div class="post-content content">
					<p>No, that&#039;s right, it should be giving out a sequence of random stuff.</p><p>Are you sure that the errors are simple-adblock related? I understand you&#039;ve had to mask some stuff so you could post it, were all errors with:<br /></p><div class="codebox"><pre><code>daemon.err uhttpd[1148]</code></pre></div><p>?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=62204&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>