<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WAN cable not being detected...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p15607">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lodown</div>
					<div class="post-datetime">
						17 Nov 2005, 03:51					</div>
				</div>
				<div class="post-content content">
					<p>My WRT54G v2.2&nbsp; has whiterussian rc3 on it.</p><p>Here is the problem, I am behind an OpenBSD based soekris firewall.&nbsp; For some reason, when I plug a cat cable into my WRT54G from the OpenBSD router/firewall, it does not sense the cables presence.&nbsp; So, long and short, no ability to connect through the WRT54G to the outside world.</p><p>Running the command &quot;udhcpc -i vlan1 -b -p /tmp/dhcp-wan.pid&quot; gets me the following output:<br />info, udhcpc (v0.9.9-pre) started<br />debug, Sending discover...<br />debug, Sending discover...<br />debug, Sending discover...<br />info, No lease, forking to background.</p><p>Trying to set the WAN ip manually does not work either.</p><p>Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15613">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						17 Nov 2005, 09:21					</div>
				</div>
				<div class="post-content content">
					<p>Is your cable cross or straight ? what about forcing the negociation to 100Mb FD or less ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15620">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">lodown</div>
					<div class="post-datetime">
						17 Nov 2005, 13:53					</div>
				</div>
				<div class="post-content content">
					<p>I have tried both straight and cross over.&nbsp; Neither seem to be detected.&nbsp; I will how to force a mode on the WRT54g.&nbsp; Hopefully that will straighten this out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15630">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lodown</div>
					<div class="post-datetime">
						17 Nov 2005, 19:23					</div>
				</div>
				<div class="post-content content">
					<p>Aight, I got robocfg and tried setting it to 10HD...100FD to no effect.&nbsp; &nbsp;The problem has something to do with the physical wiring or something.&nbsp; I know this isn&#039;t what this forum is for,&nbsp; but I&#039;m beating my brains out now.&nbsp; Here is the actual network topography:</p><p>dsl modem -&gt; soekris OpenBSD router -&gt; 24 port switch -&gt; WRT54G</p><p>I can use a cross over cable into the back of the soekris, and it works.&nbsp; &nbsp;But something about the switch is causing the WRT54G not to see the link (either straight or crossover).&nbsp; &nbsp;I do&nbsp; not believe that this is in any way related to OpenWRT, but, any help would be appreciated.</p><p>I read (on wikipedia) that crossover cables are used between two pieces of equipment on the same OSI level ( ie hub-hub, router - router, pc -pc).&nbsp; The switch is a step down from the soekris, because that uses straight lines.&nbsp; So how do I go from the switch to the WRT54G?&nbsp; It should, by my thinking, be a straight as well...but it is not working.&nbsp; &nbsp;Any hints would be very helpful...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15633">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						17 Nov 2005, 20:09					</div>
				</div>
				<div class="post-content content">
					<p>A straight cable should be use actually. Is your switch manageable ? understanding 802.1x ? or mac authentication as well ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15644">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">lodown</div>
					<div class="post-datetime">
						17 Nov 2005, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>No, it does not do any of those things.&nbsp; It does learn MAC addresses to speed up switching (I do not remember what this is called), but that is all.&nbsp; Neither the switch or the WRT54G are seeing the link when I plug it in (that is, the pretty lights don&#039;t light up on either :-D )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15645">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dl</div>
					<div class="post-datetime">
						17 Nov 2005, 22:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lodown wrote:</cite><blockquote><p>I can use a cross over cable into the back of the soekris, and it works.&nbsp; &nbsp;But something about the switch is causing the WRT54G not to see the link (either straight or crossover).&nbsp; &nbsp;I do&nbsp; not believe that this is in any way related to OpenWRT, but, any help would be appreciated.</p></blockquote></div><p>The linksys is autodetect on X so should work with either straight or crosssover. But I&#039;ve seen cases before where one ethernet IF just won&#039;t connect to a certain brand but will to another - eg a linksys card wouldn&#039;t talk to a netgear router or vice versa. I think most of these problems have disappeared in the last few years, how old is the ethernet card in your OpenBSD router?</p><p>- DL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15650">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lodown</div>
					<div class="post-datetime">
						17 Nov 2005, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>The WRT54G will actually talk to the OpenBSD router directly via a crossover cable.&nbsp; It just will not talk to the switch that has to be in between.&nbsp; As for the age of the switch, I do not know.&nbsp; &nbsp;It is an older KTI, so a few years at least...grrr...hope this doesn&#039;t mean I&#039;ll need to buy a newer switch.&nbsp; *searches ebay for cheap switch*</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15679">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						18 Nov 2005, 02:33					</div>
				</div>
				<div class="post-content content">
					<p>Is it a 10Mbps switch and autonegotiation is not working properly? Have you tried forcing your WRT interface to 10 full or 10 half (robocfg can do it)?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>