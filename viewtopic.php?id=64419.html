<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link WA901ND v4 - help flashing firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 9 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p321142">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Obsidian2099</div>
					<div class="post-datetime">
						25 Apr 2016, 02:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello, I’m looking for help flashing a TP-Link WA901ND v4. I’ve tried several methods (listed further below) and have had no luck. Hoping someone can help me figure out what I&#039;m doing wrong. I would gladly contribute this information back to the device page in return for your kind assistance.</p><p>Here&#039;s what I&#039;m starting with:<br /></p><ul><li><p>Stock firmware from TP-Link is currently installed, factory settings applied</p></li><li><p>Firmware Version: 3.16.9 Build 151102 Rel.55514n</p></li><li><p>Hardware Version: WA901ND v4 00000000</p></li><li><p>No bridge soldered onto the board, as suggested <a href="https://wiki.openwrt.org/toh/tp-link/tl-wa901nd">on the device page</a></p></li><li><p>OSX Yosemite 10.10.5 with Brew installed</p></li><li><p>Connected via Thunderbolt ethernet adapter</p></li><li><p>Attempting to upload the &quot;<a href="https://wiki.openwrt.org/toh/hwdata/tp-link/tp-link_tl-wa901nd_v4">squash-factory</a>&quot; trunk snapshot</p></li></ul><p>I’ve tried renaming the firmware to the following names and uploading via the web gui...<br /></p><ul><li><p>openwrt-ar71xx-generic-tl-wa901nd-v4-squashfs-factory.bin</p></li><li><p>wa901ndv4_en_3_16_9_up_boot(160304).bin</p></li><li><p>wa901ndv4_en_3_16_9_up_boot(151029).bin</p></li><li><p>wa901ndv4_tp_recovery.bin</p></li></ul><p>... but each time I get this:<br /></p><div class="codebox"><pre><code>Error code: 18005
Upgrade unsuccessfully because the version of the upgraded file was incorrect. Please check the file name.</code></pre></div><p>Then, I tried using tftp as prescribed <a href="https://forum.openwrt.org/viewtopic.php?pid=320942#p320942">in the developer forum</a>, but no luck. Here&#039;s how that went:<br /></p><div class="codebox"><pre><code>//device is off
//wireless receiver in laptop is off
//Ethernet connected through thunderbolt port
//Network settings, ip address set to 192.168.0.66
$ cd ~/Downloads   # this is where my .bin file is, named wa901ndv4_tp_recovery.bin
$ tftp -e 192.168.0.254  # tried this wihout the arguments also
tftp&gt; verbose
Verbose mode on.
// hold down reset button first, then power on device
// as soon as the wired network light first blinks on, run this, still holding reset on unit:
tftp&gt; put wa901ndv4_tp_recovery.bin
putting wa901ndv4_tp_recovery.bin to 192.168.0.254:wa901ndv4_tp_recovery.bin [octet]
tftp: sendto: Network is unreachable
// then I waited until after all the lights went solid green:
tftp&gt; put wa901ndv4_tp_recovery.bin
putting wa901ndv4_tp_recovery.bin to 192.168.0.254:wa901ndv4_tp_recovery.bin [octet]
Transfer timed out.

tftp&gt; 
// I can point the browser to 192.168.0.254 and get the tp-link login page still
// 192.168.1.1 times out</code></pre></div><p>I&#039;m all out of ideas, and I would not be surprised to find out that I missed a step or two with the tftp method. Any help appreciated. Thanks much!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323001">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">m@dox</div>
					<div class="post-datetime">
						8 May 2016, 19:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Obsidian2099 wrote:</cite><blockquote><p>Error code: 18005<br />Upgrade unsuccessfully because the version of the upgraded file was incorrect. Please check the file name.</p></blockquote></div><p>Hi, have the same device, and have the same error.<br />any else who have this tplink fix this problem?<br />urgently need open wrt FW, needed eap-peap-mschap v2 autorization.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323011">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Obsidian2099</div>
					<div class="post-datetime">
						8 May 2016, 20:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>m@dox wrote:</cite><blockquote><p>Hi, have the same device, and have the same error.<br />any else who have this tplink fix this problem?<br />urgently need open wrt FW, needed eap-peap-mschap v2 autorization.</p></blockquote></div><p>I got a nice reply from the developer forum but I haven&#039;t been able to test it out yet. See <a href="https://forum.openwrt.org/viewtopic.php?pid=321293#p321293">this post</a> (and go back to page 2 to see iorx&#039;s explanation on using tftp).</p><p>I have determined that I need to get a wired bridge to put between my laptop and the AP in order to keep the link up for the short time window that the AP opens to receive the firmware. Just haven&#039;t had time due to my situation, but if you get it to work please do post back what you did here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323016">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						8 May 2016, 21:22					</div>
				</div>
				<div class="post-content content">
					<p>Be so kind to search first before posting. This topic has been answered in numerous posts.</p><p>HINT: Community Documentation</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323021">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">m@dox</div>
					<div class="post-datetime">
						8 May 2016, 21:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p>Be so kind to search first before posting. This topic has been answered in numerous posts.</p><p>HINT: Community Documentation</p></blockquote></div><p>thanks, i think i did a little mestake in search procedure <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>m@dox</strong> on 8 May 2016, 21:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324505">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">m@dox</div>
					<div class="post-datetime">
						18 May 2016, 11:03					</div>
				</div>
				<div class="post-content content">
					<p>People, have any news about how install openwert on this devise. cannot install via all methods, because my device on a warranty i cannot open it and try to install via com cable, and also have no expiriense with this procedure.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325974">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">m@dox</div>
					<div class="post-datetime">
						26 May 2016, 16:52					</div>
				</div>
				<div class="post-content content">
					<p>any news people?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>