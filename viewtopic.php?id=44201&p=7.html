<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Quallcomm qca9558/TP-Link WDR7500 support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 May 2014 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 38</div><nav><ul><li><a href="viewtopic.php%3Fid=44201&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44201&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=44201&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=44201&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=44201&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44201&amp;p=38.html">38</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p214555">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">skdubg</div>
					<div class="post-datetime">
						11 Oct 2013, 14:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello Community.</p><p>i need your help.<br/>i have connected an USBtoSerial Cable with a Profilic 2303 chip to the WDR7500v2 from China.<br/>the Cable is only a 3-wire cable with red, white and black colors.</p><p>after connecting to serial terminal (windows and mac) i can see the output from the router.<br/>but i cant send any commands like &quot;f&quot; and &quot;enter&quot; to start the failsafe mode.</p><p>can anyone advise to get it working?</p><p>thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p214670">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">rondlh</div>
					<div class="post-datetime">
						13 Oct 2013, 14:26					</div>
				</div>
				<div class="post-content content">
					<p>@skdubg<br/>The 3-wire cable should be fine. Probably it is just a wring problem.<br/>It could also be a voltage level problem, the router uses 3.3V volt serial levels. If you have any resistors in the serial lines, then reduce them the affected line to a resistor of 150 ohm. Also make sure your terminal software is working correctly. Use Hyperterminal or something that is know to work. COM port settings seem to be OK if you can see the output, it should be 115200 baud, 8 bits, 1 stop bit, no parity, no flow control.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p214914">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">qc</div>
					<div class="post-datetime">
						16 Oct 2013, 11:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ck-NoSFeRaTU wrote:</cite><blockquote><p>If someone interested <a href="http://nosferatu.g0x.ru/pub/wr7500/">there are</a> I placed various files produced during recent experimentations with TL-WDR7500. Content:</p><p> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/TL-WDR7500_stock_130126_fw.bin">TL-WDR7500 stock firmware</a> (and <a href="http://nosferatu.g0x.ru/pub/wdr7500/TL-WDR7500_stock_130126_fw_with_bootloader.bin">the one with bootloader</a>).<br/> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/ARCHERC7_v1_130729_up.bin">Last Archer C7 TP-Link firmware</a>.<br/> - Full mtd backups, printenvs and boot logs on <a href="http://nosferatu.g0x.ru/pub/wdr7500/fw_backup_stock_3.13.29_130126/">Chinese stock</a> and <a href="http://nosferatu.g0x.ru/pub/wdr7500/fw_backup_archerc7fw_3.13.33_130729/">Last Archer C7</a> firmwares.<br/> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt_r38261_ramimage/">OpenWRT Ram Image</a> which can be loaded from u-boot to ram, booted and used for backuping original flash content or flashing to different firmware.<br/> - OpenWRT firmwares for <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt-r38298-archer-c7-v1-squashfs-factory.bin">Archer C7</a> and <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt-r38298-tl-wdr7500-v2-squashfs-factory.bin">TL-WDR7500</a><br/> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt-r38298-tl-wdr7500-support.patch">Trivial TL-WDR7500 target support patch</a> which used for openwrt images above.<br/> - <a href="http://www.youtube.com/watch?v=Y5CdQT_PXXo">Small video demonstration/tutorial</a> about how you can flash above images even without UART access.</p><p>Hint: It is possible to flash firmware through web-interfaces only when firmware is exact for that model, if you want convert TL-WDR7500-&gt;Archer C7 or vice versa you must use &quot;mtd -r write image.bin firmware&quot; command from openwrt image console.</p><p>PS. Provided AS IS without warranty of any kind. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> OpenWRT images obviously doesn&#039;t support qca9880v1 pci-e module (802.11ac wifi) and likely will never be except there is someone interested enough to port current ath10k driver to old ABI of chip firmware. Here are<br/><a href="http://nosferatu.g0x.ru/pub/wdr7500/qca988xv1_fw_%28extracted_from_archerc7_3.13.33_130729_fw%29/">extracted firmware blobs for qca9880v1</a> from last archer c7 firmware.</p></blockquote></div><p>Many thanks Ck-NoSFeRaTU. <br/>I&#039;ve been away a couple of weeks and yesterday did the serial hack. But then finding your post made everything simple. Great to watch the serial output while using the web interface for updates.</p><p>Best, <br/>Don</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215749">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">snk</div>
					<div class="post-datetime">
						26 Oct 2013, 23:00					</div>
				</div>
				<div class="post-content content">
					<p>I managed to obtain a v2 card (CUS223B) and it is working fine in the Archer C7. I first installed the latest snapshot through the original firmware (using the ...-factory.bin file). I then installed ath10k and verified that the original card does not work. Then I replaced the card and immediately got a working 5 GHz (802.11n for now) network.</p><p>Next step will be to build OpenWrt with current upstream ath10k and latest hostapd with ac-support.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215764">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">qca9558</div>
					<div class="post-datetime">
						27 Oct 2013, 07:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>snk wrote:</cite><blockquote><p>I managed to obtain a v2 card (CUS223B) and it is working fine in the Archer C7. I first installed the latest snapshot through the original firmware (using the ...-factory.bin file). I then installed ath10k and verified that the original card does not work. Then I replaced the card and immediately got a working 5 GHz (802.11n for now) network.</p><p>Next step will be to build OpenWrt with current upstream ath10k and latest hostapd with ac-support.</p></blockquote></div><p>Where did you get it from? I had a go at sampling one but would&#039;ve cost more than the router itself.</p>											<p class="post-edited">(Last edited by <strong>qca9558</strong> on 27 Oct 2013, 07:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215783">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">snk</div>
					<div class="post-datetime">
						27 Oct 2013, 11:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>qca9558 wrote:</cite><blockquote><p>Where did you get it from? I had a go at sampling one but would&#039;ve cost more than the router itself.</p></blockquote></div><p>I have some personal contacts at Qualcomm, and I was able to get one directly from them.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216052">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">seanhannon</div>
					<div class="post-datetime">
						29 Oct 2013, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>I managed to get a few sample hw v2.0 boards and trying to get working on Gateworks boards.&nbsp; I also have an Archer C7 to try it in.&nbsp; I think I am having the same problems as SNK.&nbsp; I have it working for N but not ac.&nbsp; Everything I can tell seems like it points back to hosted.&nbsp; Here is my post with the details of what I have found and what I have tried:</p><p><a href="https://forum.openwrt.org/viewtopic.php?pid=216051#p216051">https://forum.openwrt.org/viewtopic.php?pid=216051#p216051</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216845">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">nfahmi</div>
					<div class="post-datetime">
						6 Nov 2013, 06:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m new in the forum. I got an Archer C7 and am very interested to try out the firmware in this thread. Just one question... does it support VLAN Tag?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216850">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">snk</div>
					<div class="post-datetime">
						6 Nov 2013, 09:37					</div>
				</div>
				<div class="post-content content">
					<p>Yes it does support VLAN tagging. However, if you have v1.x of the router, you won&#039;t get the 5 GHz ac/n/a wifi to work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216887">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">nfahmi</div>
					<div class="post-datetime">
						6 Nov 2013, 16:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>snk wrote:</cite><blockquote><p>Yes it does support VLAN tagging. However, if you have v1.x of the router, you won&#039;t get the 5 GHz ac/n/a wifi to work.</p></blockquote></div><br/><p>Ohhh no... I think mine is V1. </p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217028">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">echen</div>
					<div class="post-datetime">
						8 Nov 2013, 08:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ck-NoSFeRaTU wrote:</cite><blockquote><div class="quotebox"><cite>mtk wrote:</cite><blockquote><p>Hi,how to make&nbsp; ATH_USER_REGD enable?I can&#039;t find a clue in your patch?</p></blockquote></div><p>Wut? ATH_USER_REGD is a configure option, you can set it when buiiding from sources (make menuconfig). There are only compilled images on the link above. r38351 ones have that option enabled, r38298 doesn&#039;t.</p><div class="quotebox"><cite>mtk wrote:</cite><blockquote><p>And what is tplink_fw_header_v2 for?To support 32m flash?</p></blockquote></div><p>It is needed to support tplink v2 header in firmwares like 130820.</p></blockquote></div><p>Hello Ck, I got a new firmware from CN TP Link of 131024 as follow for your record-</p><p><a href="https://mega.co.nz/#!ZNJTnYRZ!HL_5_VzUHu34z36BOjAcv2gkl-sRugeZ8m_1U2tXz6Y">https://mega.co.nz/#!ZNJTnYRZ!HL_5_VzUHu34z36BOjAcv2gkl-sRugeZ8m_1U2tXz6Y</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217405">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">Ck-NoSFeRaTU</div>
					<div class="post-datetime">
						12 Nov 2013, 23:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>snk wrote:</cite><blockquote><p>I have some personal contacts at Qualcomm, and I was able to get one directly from them.</p></blockquote></div><p>You are the lucky one ^_^ Looks like it is impossible to acquire v2 board without personal sources now, or it will cost you 100$+ for one piece. &gt;_&lt;</p><div class="quotebox"><cite>echen wrote:</cite><blockquote><p>Hello Ck, I got a new firmware from CN TP Link of 131024 as follow for your record-</p><p><a href="https://mega.co.nz/#!ZNJTnYRZ!HL_5_VzUHu34z36BOjAcv2gkl-sRugeZ8m_1U2tXz6Y">https://mega.co.nz/#!ZNJTnYRZ!HL_5_VzUHu34z36BOjAcv2gkl-sRugeZ8m_1U2tXz6Y</a></p></blockquote></div><p>Hi, thanks. Mirrored on my site as usual. That one also have v2header+rsasign as 130820:<br/></p><div class="codebox"><pre><code>Filename           : wdr7500v2_cn_3_13_34_up_boot(131024).bin
Filesize           : 0x007e0200 / 8258048

Header Version     : 2
Header Size        : 512
Image Vendor       : 5A87AA52D998D0167C5D
Image Version      : ver. 2.0
Image Size         : 0x007e0200 / 8258048
Image Checksum     : 64 e8 e3 55 b7 4d fb 2f 65 2a 1b 8f 10 c3 59 11  (Valid)

Product Id         : 0x75000002  (TL-WDR7500v2)
Product Version    : 0x00000001
Firmware Version   : 3.13.34

RSA                : A521C45EDC754BD7B4374566F1C2CA21
                   : 707A75D02E0D84C7A3CE130465499663
                   : F213715753498F36D3702A0B0014B0B3
                   : C3DF3C83A9AC354B78E16A11FEF8CE3C
                   : 3578FA24BD4B986DB43F8F5184A7262B
                   : 28E588929FAB414F416545B57C185702
                   : 777E218378E809E0098499DE6AC23118
                   : 62D22D51166186144A385DF3F06E3A58
                   : 
Bootldr Offset     : 0x00000000 /       0
Bootldr Length     : 0x0001a8c4 /  108740

Image2 Size        : 0x007c0000 / 8126464
Image2 Checksum    : 77 c0 91 9c 0b a9 79 69 eb 6a 29 ae 1f 60 04 41  (Valid)

Kernel Offset      : 0x00000200 /     512
Kernel Length      : 0x000d591e /  874782
Kernel Load Address: 0x80002000
Kernel Entry Point : 0x801d3c30
Kernel Checksum    : cf 13 e7 4e 68 c7 48 c1 4d 44 2e 39 3e cb b9 7f  (Not Verified)

Rootfs Offset      : 0x00100000 / 1048576
Rootfs Length      : 0x006c0000 / 7077888</code></pre></div><p>I&#039;m a bit curious. Are they planning to use that kind of firmwares only for chinese models or for international models too... Will see with release of 3.13.34 for archer.</p>											<p class="post-edited">(Last edited by <strong>Ck-NoSFeRaTU</strong> on 12 Nov 2013, 23:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217764">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						17 Nov 2013, 12:42					</div>
				</div>
				<div class="post-content content">
					<p>after a while I got to do some benchmarks with an Archer C7 with a hw version 2 card I received from QCA<br/>with latest trunk (with backports of 20131105)<br/>(btw trunk before that on a WDR3600 had problems: I couldn&#039;t associate the Archer C7 to that unit)</p><p>and with <a href="http://patchwork.openwrt.org/patch/4396/">http://patchwork.openwrt.org/patch/4396/</a><br/>(running with haveged because entropy_pool was really low)</p><p>in preparation of later testing with AC modes i use a custom hostapd.conf file (and wpa_supplicant package)<br/></p><div class="codebox"><pre><code>interface=ath0
driver=nl80211
ssid=ath10k
channel=40
country_code=US
ieee80211n=1
ieee80211d=1
ieee80211h=1
ht_capab=[HT40-][SHORT-GI-20][SHORT-GI-40][DSSS_CCK-40]
hw_mode=a
macaddr_acl=0
logger_syslog=-1
logger_syslog_level=0
logger_stdout=-1
logger_stdout_level=4
wmm_enabled=1</code></pre></div><p>it seems to work:<br/></p><div class="codebox"><pre><code>iw dev ath0 info
Interface ath0
    ifindex 548
    wdev 0x203
    addr 00:03:7f:48:da:38
    ssid ath10k
    type AP
    wiphy 0
    channel 36 (5180 MHz), width: 40 MHz, center1: 5190 MHz</code></pre></div><p>Results with iperf: ath10k<br/>Archer C7 -&gt; WLAN -&gt; Client (ath9k_htc card: WNDA3200 2x2 card so only &quot;300Mbit/s&quot; speed)<br/>[&nbsp; 4]&nbsp; 0.0-300.0 sec&nbsp; 2.14 GBytes&nbsp; 61.3 Mbits/sec (max: 83Mbit/s ; min: 1Mbit/s)</p><p>compared to Archer -&gt; LAN -&gt; Client<br/>[&nbsp; 4]&nbsp; 0.0-100.0 sec&nbsp; 3.89 GBytes&nbsp; &nbsp;334 Mbits/sec</p><p>iperf-PC -&gt; LAN -&gt; WDR3600 -&gt; WLAN (2x2 @ 2.4GHz highly populated) -&gt; Archer C7 -&gt; WLAN (2x2 @5GHz) -&gt; PC<br/>avg 25.7 Mbit/s</p><p>During the test there were periods lasting 30 seconds where the transfer rate broke down to 1Mbit/s from the &quot;max&quot; of &gt;70Mbit/s<br/>However the avg. transfer rates seem to be normal compared to a 2x2 setup: <a href="http://www.smallnetbuilder.com/lanwan/router-charts/bar/113-5-ghz-dn-c">http://www.smallnetbuilder.com/lanwan/router-charts/bar/113-5-ghz-dn-c</a><br/>So I think these 30sec &quot;windows&quot; are only some artifacts / protocol inherent</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218478">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						26 Nov 2013, 00:17					</div>
				</div>
				<div class="post-content content">
					<p>Archer C7 with hw v2 trying to setup a 802.11ac SSID with DFS etc.<br/></p><div class="codebox"><pre><code># wlan0 - with full debug its: insmod ath10k_core debug_mask=0xffffffff
rmmod ath10k_pci; rmmod ath10k_core; insmod ath10k_core; insmod ath10k_pci

root@OpenWrt:/# hostapd -P /var/run/hostapd.pid -B /etc/hostapd_radio1.conf
Configuration file: /etc/hostapd_radio1.conf
[  176.230000] ath10k: MSI-X didn&#039;t succeed (-1), trying MSI
[  176.240000] ath10k: MSI didn&#039;t succeed (-1), trying legacy INTR
[  176.270000] ath10k: legacy interrupt handling
[  177.490000] ath10k: UART prints disabled
[  177.500000] ath10k: firmware 999.999.0.636 booted
[  177.510000] ath10k: htt target version 2.1
[  177.520000] IPv6: ADDRCONF(NETDEV_UP): ath0: link is not ready
ath0: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
ACS: Automatic channel selection started, this may take a bit
ath0: interface state COUNTRY_UPDATE-&gt;ACS
ath0: ACS-STARTED 
ath0: ACS-COMPLETED freq=5745 channel=149
ath0: interface state ACS-&gt;HT_SCAN
ath0: interface state HT_SCAN-&gt;DFS
ath0: DFS-CAC-START freq=5745 chan=149 sec_chan=1</code></pre></div><p>but<br/></p><div class="codebox"><pre><code>iw dev wlan0 info
Interface wlan0
        ifindex 8
        wdev 0x200000001
        addr 00:03:7f:48:da:38
        type AP
        wiphy 2</code></pre></div><p>hostapd.conf:<br/></p><div class="codebox"><pre><code>interface=wlan0
driver=nl80211
ssid=ath10k

country_code=US
ieee80211n=1
ieee80211d=1
ieee80211h=1
ieee80211ac=1

ht_capab=[HT40+][SHORT-GI-20][SHORT-GI-40][DSSS_CCK-40]
vht_capab=[MAX-MPDU-11454][SHORT-GI-80][RXLDPC][TX-STBC-2BY1][RX-ANTENNA-PATTERN]

hw_mode=a
macaddr_acl=0
logger_syslog=-1
logger_syslog_level=4
logger_stdout=-1
logger_stdout_level=0
wmm_enabled=1

vht_oper_chwidth=1
vht_oper_centr_freq_seg0_idx=42</code></pre></div><p>something is still wrong ... after STRG+C i get &quot;^Chostapd_free_hapd_data: Interface ath0 wasn&#039;t started&quot;<br/>i added the interface with<br/></p><div class="codebox"><pre><code># does not work: iw phy phy0 interface add ath0 type master
ip addr add 192.168.10.1 broadcast 192.168.10.255 dev wlan0</code></pre></div><p>... anyway i need to compile an image for Sitecom WLR8100 too ... and there is other stoff to work on too</p><p>edit: edited to wlan0, maybe update hostapd/ath10k to fix instability</p>											<p class="post-edited">(Last edited by <strong>zloop</strong> on 26 Nov 2013, 01:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218711">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">snk</div>
					<div class="post-datetime">
						27 Nov 2013, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>Have you noticed that DFS support was introduced to ath10k only very recently - it is not included in trunk yet. I made a patch which includes the DFS bits, you could try it:</p><p><a href="http://ltl.tkk.fi/~malaakso/misc/80211ac.patch">http://ltl.tkk.fi/~malaakso/misc/80211ac.patch</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218716">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						28 Nov 2013, 00:45					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the hint!</p><p>I somehow overlooked / confused the submission dates (mailing list - ath10k tree - (backports release) - openwrt mac80211)<br/>oh there is an update of your patch <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> - so much stuff to keep track ...<br/>I only had the version from 07.11.2013 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>I&#039;ll try to update in the following days</p><p>i didn&#039;t try ath9k yet - since that router is somehow &quot;production&quot; ready and the other routers still need serial access to debug</p>											<p class="post-edited">(Last edited by <strong>zloop</strong> on 28 Nov 2013, 00:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218983">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">viasat</div>
					<div class="post-datetime">
						1 Dec 2013, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>Hello<br/>Long time reader,first time poster here...I&#039;ve a question for Archer C7 owners:I want to buy this router,and maybe someone here can tell mewhat is the maximum wan-to-lan throughput using an pppoe connection (ftth fiber) ?I&#039;m not interested in wlan so much,I need only maximum speed on wire,and I know there are a lot of routers are with great speed on dhcp wan-lan,,but not for pppoe connection,which is more demanding on cpu.<br/>Thanks a lot!<br/>Best Regards!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218991">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">pyr0ball</div>
					<div class="post-datetime">
						2 Dec 2013, 00:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>viasat wrote:</cite><blockquote><p>Hello<br/>Long time reader,first time poster here...I&#039;ve a question for Archer C7 owners:I want to buy this router,and maybe someone here can tell mewhat is the maximum wan-to-lan throughput using an pppoe connection (ftth fiber) ?I&#039;m not interested in wlan so much,I need only maximum speed on wire,and I know there are a lot of routers are with great speed on dhcp wan-lan,,but not for pppoe connection,which is more demanding on cpu.<br/>Thanks a lot!<br/>Best Regards!</p></blockquote></div><p>I&#039;ve been running a server through it with really good results on OpenWRT. The original firmware on the C7 would crap out during large file transfers (running a VPN and sending huge files to external sources), but I have no such issues with the OpenWRT firmware. My throughput seems to be capped by my ISP, not the router, as I&#039;m maxing out my CPU usage on it around 30-45%. This is while running OpenVPN, 4 minecraft servers, a Teamspeak server, and a Plex Media Server (in addition to occasional torrents and regular usage on two other computers)</p><p>Let me know if you want more specific data!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218992">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">pyr0ball</div>
					<div class="post-datetime">
						2 Dec 2013, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Is this the right card to get 5ghz working with Ath10k?</p><p><a href="http://www.alibaba.com/product-free/147172242/WLE900n5_18_802_11ac_5GHz_miniPCIe.html">http://www.alibaba.com/product-free/147172242/WLE900n5_18_802_11ac_5GHz_miniPCIe.html</a></p><p>Also I&#039;m unfamiliar with how to get ath10k working on my C7 once I install the new card, and regrettably, the dev-chat stuff is a little over my head. Any chance for a walkthrough?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218996">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">Ck-NoSFeRaTU</div>
					<div class="post-datetime">
						2 Dec 2013, 03:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>viasat wrote:</cite><blockquote><p>Hello<br/>Long time reader,first time poster here...I&#039;ve a question for Archer C7 owners:I want to buy this router,and maybe someone here can tell mewhat is the maximum wan-to-lan throughput using an pppoe connection (ftth fiber) ?I&#039;m not interested in wlan so much,I need only maximum speed on wire,and I know there are a lot of routers are with great speed on dhcp wan-lan,,but not for pppoe connection,which is more demanding on cpu.<br/>Thanks a lot!<br/>Best Regards!</p></blockquote></div><p>Maximum PPPoE on this board will be around 300mbit/s in half duplex. Hardware NAT basically works only on raw connections so cpu is a limit there. This model is good if you want openwrt or other alternative firmware on it.</p><p>Otherwise if you are fine with OEM firmwares then ralink based ones with proper firmware will be better, like Zyxel Keenetic Giga II or ASUS RT-N56U, their Hardware NAT can pass over 900mbit/s in full duplex through PPPoE.</p>											<p class="post-edited">(Last edited by <strong>Ck-NoSFeRaTU</strong> on 2 Dec 2013, 03:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219004">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						2 Dec 2013, 07:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pyr0ball wrote:</cite><blockquote><p>Is this the right card to get 5ghz working with Ath10k?</p><p><a href="http://www.alibaba.com/product-free/147172242/WLE900n5_18_802_11ac_5GHz_miniPCIe.html">http://www.alibaba.com/product-free/147172242/WLE900n5_18_802_11ac_5GHz_miniPCIe.html</a></p><p>Also I&#039;m unfamiliar with how to get ath10k working on my C7 once I install the new card, and regrettably, the dev-chat stuff is a little over my head. Any chance for a walkthrough?</p></blockquote></div><p>I think the card you linked does will not work because of the <strong>physical dimensions</strong>.</p><p>- Does your Archer C7 has hw ver 1 card ? :<br/>Check with a new image on bootlog and/or the writing on the chip if possible</p><p>- Check the physical dimensions<br/>The dimensions are written down in their respective datasheets:<br/><a href="http://www.compex.com.sg/Datasheets/WLE900V5-23_Dsv1.0.0.pdf">http://www.compex.com.sg/Datasheets/WLE900V5-23_Dsv1.0.0.pdf</a> <br/><a href="http://www.compex.com.sg/Datasheets/WLE900V5-18_Dsv1.0.0.pdf">http://www.compex.com.sg/Datasheets/WLE900V5-18_Dsv1.0.0.pdf</a> <br/>I don&#039;t know if the dimensions were change recently but the dimensions are matching the WLE900V5-23 or the WLE900NX<br/>by the looks of it (not finding a datasheet for this card) but <br/><a href="http://www.alibaba.com/product-free/147847332/WLE900NX_802_11ac_2_4G_5GHz.html">http://www.alibaba.com/product-free/147847332/WLE900NX_802_11ac_2_4G_5GHz.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219009">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">viasat</div>
					<div class="post-datetime">
						2 Dec 2013, 09:25					</div>
				</div>
				<div class="post-content content">
					<p>@Ck-NoSFeRaTU<br/>Thank you for your answer,now I&#039;ve big doubts what to buy...My ISP is giving TL-WDR3600 free for new customers ,so I was thinking that Archer C7 will be better for gigabit wan-to-lan,but it seems that I was wrong,it&#039;s not enough.<br/>I&#039;ve read a lot about Asus and ralink,but 2 things puts me off: first,not opensource firmware(like openwrt,tomato...),only Padawan&#039;s mods ,second the strange design of RT-N56U and RT-N65u,problems with overheating ,weak wifi range on both bands.Do you have any other model to recommend me?I&#039;m trying to read some opinions here <a href="http://forum.ixbt.com/?id=14">http://forum.ixbt.com/?id=14</a> ,but my Russian is second to none,and google translate doesn&#039;t help me to much...<br/>Thanks again!<br/>Cheers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219068">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">pyr0ball</div>
					<div class="post-datetime">
						3 Dec 2013, 06:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zloop wrote:</cite><blockquote><p>I think the card you linked does will not work because of the <strong>physical dimensions</strong>.</p><p>- Does your Archer C7 has hw ver 1 card ? :<br/>Check with a new image on bootlog and/or the writing on the chip if possible</p><p>- Check the physical dimensions<br/>The dimensions are written down in their respective datasheets:<br/><a href="http://www.compex.com.sg/Datasheets/WLE900V5-23_Dsv1.0.0.pdf">http://www.compex.com.sg/Datasheets/WLE900V5-23_Dsv1.0.0.pdf</a> <br/><a href="http://www.compex.com.sg/Datasheets/WLE900V5-18_Dsv1.0.0.pdf">http://www.compex.com.sg/Datasheets/WLE900V5-18_Dsv1.0.0.pdf</a> <br/>I don&#039;t know if the dimensions were change recently but the dimensions are matching the WLE900V5-23 or the WLE900NX<br/>by the looks of it (not finding a datasheet for this card) but <br/><a href="http://www.alibaba.com/product-free/147847332/WLE900NX_802_11ac_2_4G_5GHz.html">http://www.alibaba.com/product-free/147847332/WLE900NX_802_11ac_2_4G_5GHz.html</a></p></blockquote></div><p>That card is just a standard card size instead of the extended one. Its the same exact model as the one linked above. Currently I&#039;ve got a HW v.1 card that came with the router. This card has the same minipci slot connector, and the same holes at the top where the screws go thru, it&#039;s just skinnier, like this:</p><p><a href="http://ecx.images-amazon.com/images/I/41Y-ujMAmjL._SY300_.jpg">http://ecx.images-amazon.com/images/I/41Y-ujMAmjL._SY300_.jpg</a></p>											<p class="post-edited">(Last edited by <strong>pyr0ball</strong> on 3 Dec 2013, 06:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219331">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">ACBlaze</div>
					<div class="post-datetime">
						6 Dec 2013, 22:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ck-NoSFeRaTU wrote:</cite><blockquote><p>If someone interested <a href="http://nosferatu.g0x.ru/pub/wr7500/">there are</a> I placed various files produced during recent experimentations with TL-WDR7500. Content:</p><p> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/TL-WDR7500_stock_130126_fw.bin">TL-WDR7500 stock firmware</a> (and <a href="http://nosferatu.g0x.ru/pub/wdr7500/TL-WDR7500_stock_130126_fw_with_bootloader.bin">the one with bootloader</a>).<br/> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/ARCHERC7_v1_130729_up.bin">Last Archer C7 TP-Link firmware</a>.<br/> - Full mtd backups, printenvs and boot logs on <a href="http://nosferatu.g0x.ru/pub/wdr7500/fw_backup_stock_3.13.29_130126/">Chinese stock</a> and <a href="http://nosferatu.g0x.ru/pub/wdr7500/fw_backup_archerc7fw_3.13.33_130729/">Last Archer C7</a> firmwares.<br/> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt_r38261_ramimage/">OpenWRT Ram Image</a> which can be loaded from u-boot to ram, booted and used for backuping original flash content or flashing to different firmware.<br/> - OpenWRT firmwares for <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt-r38298-archer-c7-v1-squashfs-factory.bin">Archer C7</a> and <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt-r38298-tl-wdr7500-v2-squashfs-factory.bin">TL-WDR7500</a><br/> - <a href="http://nosferatu.g0x.ru/pub/wdr7500/openwrt-r38298-tl-wdr7500-support.patch">Trivial TL-WDR7500 target support patch</a> which used for openwrt images above.<br/> - <a href="http://www.youtube.com/watch?v=Y5CdQT_PXXo">Small video demonstration/tutorial</a> about how you can flash above images even without UART access.</p><p>Hint: It is possible to flash firmware through web-interfaces only when firmware is exact for that model, if you want convert TL-WDR7500-&gt;Archer C7 or vice versa you must use &quot;mtd -r write image.bin firmware&quot; command from openwrt image console.</p><p>PS. Provided AS IS without warranty of any kind. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> OpenWRT images obviously doesn&#039;t support qca9880v1 pci-e module (802.11ac wifi) and likely will never be except there is someone interested enough to port current ath10k driver to old ABI of chip firmware. Here are<br/><a href="http://nosferatu.g0x.ru/pub/wdr7500/qca988xv1_fw_%28extracted_from_archerc7_3.13.33_130729_fw%29/">extracted firmware blobs for qca9880v1</a> from last archer c7 firmware.</p></blockquote></div><p>Hi, I just got the Archer C7, and it is the V1.<br/>The default firmware is really lacking, so, I decided to try openwrt.<br/>After the flash, using your bin, I did the telnet to 192.168.1.1 and set the password.<br/>Then, after that, I waited about 5 mins, for cable modem to resync to the router.<br/>I opened a web page, and did 192.168.1.1 and it couldn&#039;t connect. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad"/><br/>I then tried to ssh into it, and that does work.<br/>I tried to ping openwrt.org, says unknown.<br/>I tried to ping 173.194.46.73 and it says unreachable.<br/>I ping the client machines, and those work OK.<br/>The cable modem is at <a href="http://192.168.100.1/">http://192.168.100.1</a></p><p>So, how do I get WAN to work ?&nbsp; Everything is in default mode, I didn&#039;t change anything but the password...</p>											<p class="post-edited">(Last edited by <strong>ACBlaze</strong> on 6 Dec 2013, 22:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219335">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						6 Dec 2013, 23:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ACBlaze wrote:</cite><blockquote><p>Then, after that, I waited about 5 mins, for cable modem to resync to the router.</p></blockquote></div><p>Are you sure that openwrt would do it automagically?</p><div class="quotebox"><cite>ACBlaze wrote:</cite><blockquote><p>I opened a web page, and did 192.168.1.1 and it couldn&#039;t connect. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad"/></p></blockquote></div><p>I suppose thats because LuCI is not preinstalled and you should install it by hand.</p><div class="quotebox"><cite>ACBlaze wrote:</cite><blockquote><p>I then tried to ssh into it, and that does work.</p></blockquote></div><p>So the device is working as expected I believe.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 7 of 38</div><nav><ul><li><a href="viewtopic.php%3Fid=44201&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44201&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=44201&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=44201&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=44201&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44201&amp;p=38.html">38</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>