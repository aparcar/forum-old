<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Enabling HRTimers on Attitude Adjustment Release</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p183100">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">juandemarco</div>
					<div class="post-datetime">
						13 Nov 2012, 11:31					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone,<br />I&#039;ve been using OpenWRT as the base for the development of an experimental wireless protocol I&#039;ve been working on as part of a reasearch project. So far everything has worked great, but recently we had the necessity to switch to the latest OpenWRT release in order to use newer hardware that somehow was not working that well with older releases. Using trunk version 32002 everything worked fine, but last week we decided to switch to the stable release of Attitude Adjustement and, while the module in which we have implemented the protocol (which is a modification of ath5k) loads correctly, the HRTimers are not working properly. I&#039;ve tried setting CONFIG_HIGH_RES_TIMERS=y in the .config file and then compiling the kernel, but I&#039;m still getting a resolution of 10ms (as reported by the hrtimer_get_res() function), which unfortunately is not enough for our project as we need at least 1ms, and we were getting more than that with previous versions. Please note that the kernel is been compiled with both the architecture (obviously) and the subtarget set to the hardware family of our routerboards - we noticed that with previous releases the hrtimers were getting the same 10ms resolution if the subtarget was not set.<br />I was wondering if something has changed, maybe in the latest implementation of the kernel, so that I have to tweak something else inside the configuration files in order to get the hrtimers to work properly, or if there is something else I&#039;ve missed.</p><p>Thank you in advance for any help you can provide,<br />Cheers<br />Gian Marco</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>