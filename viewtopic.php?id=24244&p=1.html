<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Linksys E2100L is here, has anybody tried it out.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 19 Apr 2018 and 4 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 7</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=24244&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=24244&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=24244&amp;p=7.html">7</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p106735">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						13 Apr 2010, 11:14					</div>
				</div>
				<div class="post-content content">
					<p>Looks like&nbsp; E2100L is here and its here to stay for a while.<br /> Has anybody tried their luck on it&nbsp; with openwrt ?<br /> I couldn&#039;t find the GPL code release for it as of yet.</p><p> looks like its similar to WRT160NL<br />FCC stuff (E2100L) here ---&gt;&nbsp; <a href="https://gullfoss2.fcc.gov/prod/oet/forms/blobs/retrieve.cgi?attachment_id=1224868&amp;native_or_pdf=pdf">https://gullfoss2.fcc.gov/prod/oet/form … or_pdf=pdf</a><br />FCC stuff (WRT160NL) here ---&gt;https://gullfoss2.fcc.gov/prod/oet/forms/blobs/retrieve.cgi?attachment_id=1074814&amp;native_or_pdf=pdf</p><p> now compare them, don&#039;t they look similar.<br />Regards,<br />mohnkhan</p>											<p class="post-edited">(Last edited by <strong>mohnkhan</strong> on 13 Apr 2010, 11:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120588">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						7 Nov 2010, 21:16					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/toh/linksys/e2100l">E2100L Wiki Page HERE</a></p><p>I&#039;m working on this, just got serial up today. </p><p>As far as I can tell, its almost completely the same as a WRT160NL with a few minor differences:<br />1. 64 Mb ram instead of 32 Mb<br />2. Atheros 9132 instead of 9102</p><p>Curiously, there are a few references to WRT160NL on this device. Namely:<br /></p><div class="codebox"><pre><code>/ # nvram show | grep &quot;WRT160NL&quot;
size: 7749 bytes (57787 left)
boot_hw_model=WRT160NL
model_name=WRT160NL</code></pre></div>											<p class="post-edited">(Last edited by <strong>v.90</strong> on 20 May 2011, 23:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120598">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						7 Nov 2010, 23:55					</div>
				</div>
				<div class="post-content content">
					<p>Firmware header on WRT160NL is &quot;NL16&quot;, on E2100L it is &quot;NL1X&quot;.</p><p>I tried changing the header on the 10.03 release of &quot;openwrt-ar71xx-wrt160nl-squashfs.bin&quot;. </p><p>If only it were that easy! I get the following kernel panic:</p><div class="codebox"><pre><code>Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: mx25l6405d (8192 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0x7e0000
Searching for RedBoot partition table in spi0.0 at offset 0x7f0000
No RedBoot partition table detected in spi0.0
spi0.0: no WRT160NL signature found
Creating 6 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000040000 : &quot;u-boot&quot;
0x000000040000-0x000000120000 : &quot;kernel&quot;
0x000000120000-0x0000007e0000 : &quot;filesytem&quot;
0x0000007e0000-0x0000007f0000 : &quot;nvram&quot;
0x0000007f0000-0x000000800000 : &quot;ART&quot;
0x000000040000-0x0000007e0000 : &quot;firmware&quot;
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
Registering RTL8306SD switch with Chip ID: 0x5988, version: 0x0000
eth1: Atheros AG71xx at 0xba000000, irq 5
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP westwood registered
NET: Registered protocol family 17
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Cannot open root device &quot;&lt;NULL&gt;&quot; or unknown-block(0,0)
Please append a correct &quot;root=&quot; boot option; here are the available partitions:
1f00             256 mtdblock0 (driver?)
1f01             896 mtdblock1 (driver?)
1f02            6912 mtdblock2 (driver?)
1f03              64 mtdblock3 (driver?)
1f04              64 mtdblock4 (driver?)
1f05            7808 mtdblock5 (driver?)
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div><p>Note this is the same panic as was observed by vincentfox earlier <a href="https://forum.openwrt.org/viewtopic.php?pid=92451#p92451">here</a>. </p><p>I also tried using the daily snapshot, &quot;openwrt-ar71xx-generic-wrt160nl-squashfs-sysupgrade.bin&quot; with the same error.</p><p>Restoration works as expected with the serial console. Back to the drawing board. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>v.90</strong> on 8 Nov 2010, 19:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120699">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						10 Nov 2010, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>I was unable to download GPL source using the link provided in the E2100L wiki page, so I contacted Cisco and initiated a <a href="http://homesupport.cisco.com/en-us/gplcodecenter">GPL request</a>, also asking they add the link to their main code center page. Their response follows:</p><div class="quotebox"><cite>Cisco wrote:</cite><blockquote><p>Response - 11/09/2010 11:50 AM<br />Dear Customer,</p><p>Only select products are listed on the GPL code center, that is why we have created this form for customers to submit a request for other GPL. I have the file that you are looking for however it is too large to send via email, therefore I have uploaded it for you by using filehosting.org. You can access and download the file by using the following link.</p><p><a href="http://www.filehosting.org/file/details/180885/E2100L_v1.0.02.005.tar.gz">http://www.filehosting.org/file/details … 005.tar.gz</a></p><p>Thank you,<br />GPL Manager</p></blockquote></div><p>Current status: digging through trunk source to find references to NL16, since it would seem that is part of the key to getting mtd to enumerate the filesystem at boot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120791">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						11 Nov 2010, 04:22					</div>
				</div>
				<div class="post-content content">
					<p>Up and running on r23953. I had some problems building trunk and decided to go instead with the backfire tree.</p><p>All I did was change &quot;NL16&quot; to &quot;NL1X&quot; in these two files:<br />target/linux/ar71xx/files/drivers/mtd/wrt160nl_part.c<br />tools/firmware-utils/src/addpattern.c</p><p>Build to target AR71XX and WRT160NL profile, upgrade via serial line + TFTP (per wiki instructions) using &quot;openwrt-ar71xx-wrt160nl-squashfs-factory.bin&quot;. Ta da!</p><div class="codebox"><pre><code>=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2010.11.10 20:43:30 =~=~=~=~=~=~=~=~=~=~=~=


U-Boot 1.1.7 (Jan  8 2010 - 14:26:25)

DRAM:  ar7100_ddr_initial_config(237) enter!
ar7100_ddr_initial_config(269) exit!


U-Boot 1.1.7 (Jan  8 2010 - 14:26:25)

AP81 (ar7100) U-boot
sri
64 MB
WRT160NL u-boot version: 1.0.0
Top of RAM usable for U-Boot at: 84000000
Reserving 279k for U-Boot at: 83fb8000
Reserving 192k for malloc() at: 83f88000
Reserving 44 Bytes for Board Info at: 83f87fd4
Reserving 36 Bytes for Global Data at: 83f87fb0
Reserving 128k for boot params() at: 83f67fb0
Stack Pointer at: 83f67f98
Now running in RAM - U-Boot at: 83fb8000
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
*** Warning - bad CRC, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
ag7100 get ethaddr for device eth0
Fetching MAC Address from 0x83feb2b0

 --------***** Get the RTL8306SD Manufactory ID=386c *****-------
 Reg6: speed=0 nway=1 duplex=1
 Reg5: speed=0 nway=0 duplex=0
 Reg1: a1=7fd9 a2=3210 a3=16d4 a4=3210 a5=0
 Reg1: a1=7fd9 a2=3210 a3=16d4 a4=3210
 Reg1: a1=7fd9 a2=3210 a3=16d4 a4=3210
 Reg1: a1=7fd9 a2=3210 a3=16d4 a4=3210
 Reg1: a1=7fd9 a2=3210 a3=16d4 a4=3210
eth0: 98:fc:11:5c:86:c0
eth0 up
eth0
### main_loop entered: bootdelay=1

Hit any key to stop autoboot:  1  0 
ar7100&gt; upgrade code.bin
 check link duplex:Full/speed:100
dup 1 speed 100
Tftpd start listening on port[69]!
Load address: 0x80060000
checksum bad
checksum bad
Receiving firmware [code.bin] from [192.168.1.88]
Write File : CODE.BIN
#

Current Code Pattern:NL1X , Upgrade Code Pattern:NL1X

Code Pattern is correct!
################################################################
 #################################################################
 #################################################################
 #################################################################
 #################################################################
 #################################################################
 #################################################################
 #################################################################
 ############################################
done
Bytes transferred = 2884608 (2c0400 hex)
load addr= 0x80060000
boot file= CODE.BIN
NetBootFileXferSize= 002c0400
Erase linux kernel block !!
From bf040000 To bf7dffff
Erase Flash from 0xbf040000 to 0xbf7dffff in Bank # 1 
First 0x4 last 0x7d sector size 0x10000
   4  125
Erased 122 sectors
Programming.........
Copy to Flash... write addr: bf040000
done
ar7100&gt; go
## Booting WRT160NL ...
Code pattern OK: NL1X  Expect: NL1X
Application code length 0x002c0000
CRC OK
## Booting image at bf04003c ...
   Image Name:   MIPS OpenWrt Linux-2.6.32.25
   Created:      2010-11-11   1:29:28 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    1191742 Bytes =  1.1 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
kernel: org len = 1191742, new len = 1245184
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 67108864

Starting kernel ...

Linux version 2.6.32.25 (noas@ubuntu) (gcc version 4.3.3 (GCC) ) #1 Wed Nov 10 20:29:18 EST 2010
bootconsole [early0] enabled
CPU revision is: 00019374 (MIPS 24Kc)
Atheros AR9130 rev 2, CPU:400.000 MHz, AHB:200.000 MHz, DDR:400.000 MHz
Determined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00004000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00004000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=WRT160NL
PID hash table entries: 256 (order: -2, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
Memory: 61820k/65536k available (2032k kernel code, 3648k reserved, 385k data, 152k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Hierarchical RCU implementation.
NR_IRQS:56
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
MIPS: machine is Linksys WRT160NL
bio: create slab &lt;bio-0&gt; at 0
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  ¸ 2001-2006 Red Hat, Inc.
yaffs Nov 10 2010 20:25:27 Installing. 
msgmni has been set to 120
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console [ttyS0] enabled, bootconsole disabled
console [ttyS0] enabled, bootconsole disabled
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: mx25l6405d (8192 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0x7e0000
Searching for RedBoot partition table in spi0.0 at offset 0x7f0000
No RedBoot partition table detected in spi0.0
6 wrt160nl partitions found on MTD device spi0.0
Creating 6 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000040000 : &quot;u-boot&quot;
0x000000040000-0x000000170000 : &quot;kernel&quot;
0x000000170000-0x0000007e0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2F0000, len=4F0000 
0x0000002f0000-0x0000007e0000 : &quot;rootfs_data&quot;
0x0000007e0000-0x0000007f0000 : &quot;nvram&quot;
0x0000007f0000-0x000000800000 : &quot;art&quot;
0x000000040000-0x0000007e0000 : &quot;firmware&quot;
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
Registering RTL8306SD switch with Chip ID: 0x5988, version: 0x0000
eth1: Atheros AG71xx at 0xba000000, irq 5
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 152k freed
Please be patient, while OpenWrt loads ...
gpio-buttons driver version 0.1.2
input: gpio-buttons as /devices/platform/gpio-buttons/input/input0
Button Hotplug driver version 0.3.1
- preinit -
Registered led device: wrt160nl:blue:power
Registered led device: wrt160nl:amber:wps
Registered led device: wrt160nl:blue:wps
Registered led device: wrt160nl:blue:wlan
Press the [f] key and hit [enter] to enter failsafe mode
eth0: link up (100Mbps/Full duplex)
- regular preinit -
jffs2 not ready yet; using ramdisk
mini_fo: using base directory: /
mini_fo: using storage directory: /tmp/root
- init -

Please press Enter to activate this console. eth0: link down
eth0: link up (100Mbps/Full duplex)
device eth0 entered promiscuous mode
br-lan: port 1(eth0) entering forwarding state
Compat-wireless backport release: compat-wireless-2010-10-14-7-gab01eca
Backport based on wireless-testing.git master-2010-10-19
cfg80211: Calling CRDA to update world regulatory domain
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
cfg80211: World regulatory domain updated:
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
    (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
    (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
usbcore: registered new device driver usb
ieee80211 phy0: Atheros AR9100 MAC/BB Rev:0 AR2122 RF Rev:a2 mem=0xb80c0000, irq=2
cfg80211: Calling CRDA for country: US
cfg80211: Regulatory domain changed to country: US
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)
    (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)
    (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
ar71xx-ehci ar71xx-ehci: Atheros AR91xx built-in EHCI controller
ar71xx-ehci ar71xx-ehci: new USB bus registered, assigned bus number 1
ar71xx-ehci ar71xx-ehci: irq 3, io mem 0x1b000000
ar71xx-ehci ar71xx-ehci: USB 2.0 started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
nf_conntrack version 0.5.0 (969 buckets, 3876 max)
jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
jffs2_build_filesystem(): unlocking the mtd device... done.
jffs2_build_filesystem(): erasing all blocks after the end marker... done.
mini_fo: using base directory: /
mini_fo: using storage directory: /overlay



BusyBox v1.15.3 (2010-11-10 19:59:36 EST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 Backfire (10.03, r23953) --------------------------
  * 1/3 shot Kahlua    In a shot glass, layer Kahlua 
  * 1/3 shot Bailey&#039;s  on the bottom, then Bailey&#039;s, 
  * 1/3 shot Vodka     then Vodka.
 ---------------------------------------------------
root@OpenWrt:/# 
root@OpenWrt:/# 
root@OpenWrt:/# cat /proc/cpuinfo
system type: Atheros AR9130 rev 2
machine: Linksys WRT160NL
processor: 0
cpu model: MIPS 24Kc V7.4
BogoMIPS: 266.24
wait instruction: yes
microsecond timers: yes
tlb_entries: 16
extra interrupt vector: yes
hardware watchpoint: yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
ASEs implemented: mips16
shadow register sets: 1
core: 0
VCED exceptions: not available
VCEI exceptions: not available

root@OpenWrt:/# cat /proc/meminfo
MemTotal:          62040 kB
MemFree:           44728 kB
Buffers:            1244 kB
Cached:             4560 kB
SwapCached:            0 kB
Active:             3020 kB
Inactive:           3584 kB
Active(anon):        844 kB
Inactive(anon):       32 kB
Active(file):       2176 kB
Inactive(file):     3552 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                 0 kB
Writeback:             0 kB
AnonPages:           812 kB
Mapped:              716 kB
Shmem:                76 kB
Slab:               7960 kB
SReclaimable:        820 kB
SUnreclaim:         7140 kB
KernelStack:         248 kB
PageTables:          156 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:       31020 kB
Committed_AS:       2820 kB
VmallocTotal:    1048372 kB
VmallocUsed:         612 kB
VmallocChunk:    1038552 kB
root@OpenWrt:/# 
root@OpenWrt:/#</code></pre></div><p>That&#039;s all for now, next steps are to install Luci and actually make it a router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120801">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						11 Nov 2010, 10:37					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the update.. will check it out...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121352">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">cypher386</div>
					<div class="post-datetime">
						17 Nov 2010, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>I tried this on my second E2100L&nbsp; (Fry&#039;s sale this week $69), and just got the kernel panic error.&nbsp; (Can&#039;t find root, etc.)<br />I&#039;ll have to try a clean build I guess, as I first built it without the NL1X changes above.</p><p>I was able to reflash back to stock firmware (FW_E2100L_1.0.02.005_US_20100715_code.bin).</p><p>I was able to backup the CFE (assuming its on /dev/mtd0 on the stock firmware).&nbsp; <br />I&#039;m going to attempt to recover my bricked E2100L via jtag, assuming I can figure out what data to copy over.</p><p>More later.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121355">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						17 Nov 2010, 23:16					</div>
				</div>
				<div class="post-content content">
					<p>Yikes! If I had a JTAG cable and the necessary software I would have gotten you a fulldump, but I don&#039;t really know enough about JTAG to even get started.</p><p>Last night I started creating a custom profile for the E2100L out of the working source I have. I did get it to build, but the output .bin files were named WRT160NL and not E2100L. I didn&#039;t get a chance to test this new build before bed, either.</p><p>It&#039;s slow going due to social obligations and the fact that I haven&#039;t fully tested the previous successful build. I was able to admin the device with LUCI, enable wireless, and associate my laptop to the new AP/SSID, [s]but I haven&#039;t actually routed packets to the internet yet[/s]. (Edit: It works). <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>v.90</strong> on 18 Nov 2010, 04:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121379">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">unicus</div>
					<div class="post-datetime">
						18 Nov 2010, 07:54					</div>
				</div>
				<div class="post-content content">
					<p>Hallo everybody this is my first reply at this forum, I just got my E2100L for $62 at local TigerDirect store (CompUSA) about 2 weeks ago, tried beta built of dd-wrt as long as I couldn&#039;t find any stable openwrt ; so it works but I still would like to try openwrt. I do have JTAG cable, but the problem is - the lust time I used it like 1.5 years ago, so I can try to flash it directly with WRT160NL build but I afraid to brick it, I mean I can afford one brick issue, but no more then one. The positive thing I do have the JTAG with usb drivers. V.90 &gt; And as long as I know to properly flash the router with JTAG we are going to need <strong>bootloader.bin</strong> as well. Any idea where we can get one???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121400">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						18 Nov 2010, 15:06					</div>
				</div>
				<div class="post-content content">
					<p>Under <span class="bbu">normal</span> circumstances you should not need a JTAG cable to flash the WRT160NL/E2100L platform. That said, I have done all of my flashing with a 3.3v FTDI serial adapter to the console with TFTP, per the <a href="http://wiki.openwrt.org/toh/linksys/wrt160nl#oem.tftp.install">instructions</a> on the WRT160NL wiki.</p><p>At this point the firmware for E2100L is still very experimental, thus I would strongly suggest having a working serial console connection before conducting any tests.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121464">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						19 Nov 2010, 08:09					</div>
				</div>
				<div class="post-content content">
					<p>Can somebody please upload this file to another location too I mean the GPL code.<br />my ISP has some kinda allergy to this hosting provider which I use on my Handheld device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121487">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						19 Nov 2010, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi all a mirror link for the source code.<br /><a href="http://rapidshare.com/files/431787676/E2100L_v1.0.02.005.tar.gz">http://rapidshare.com/files/431787676/E … 005.tar.gz</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121524">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">unicus</div>
					<div class="post-datetime">
						20 Nov 2010, 06:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>v.90 wrote:</cite><blockquote><p>Under <span class="bbu">normal</span> circumstances you should not need a JTAG cable to flash the WRT160NL/E2100L platform. That said, I have done all of my flashing with a 3.3v FTDI serial adapter to the console with TFTP, per the <a href="http://wiki.openwrt.org/toh/linksys/wrt160nl#oem.tftp.install">instructions</a> on the WRT160NL wiki.</p><p>At this point the firmware for E2100L is still very experimental, thus I would strongly suggest having a working serial console connection before conducting any tests.</p></blockquote></div><p>Well the circumstances we do have right now can be considered over normal and problematic, we have to resolve some how the &quot;kernel panic&quot; that is taking place while flashing&nbsp; E2100L with&nbsp; WRT160NL build and the JTAG with it proper usage do have higher privilege from Serial when its coming to modifying raw data on kernel level, at least you can access fulldump and analyze the protocol it using to function properly as a router, otherwise you have to capture everything with &quot;Wireshark&quot; and simply re-implement it in OpenWRT later on, and thats something I would like to do. My plans are to get the Shorewall up and running on this router, or simple Asterisk server...........</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121525">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cypher386</div>
					<div class="post-datetime">
						20 Nov 2010, 06:53					</div>
				</div>
				<div class="post-content content">
					<p>I have two E2100Ls one of which is stock firmware.&nbsp; I was able to flash to backfire, but it wouldn&#039;t boot, I didn&#039;t debug the problem, but I was able to flash it back to stock firmware<br />from the boot loader over serial.&nbsp; (Sparkfun FTDI 3.3V USB/Serial adapter).<br />When I get a couple of hours to get my jtag setup back running (BuspirateV3), I&#039;ll restore my first router.<br />Probably I didn&#039;t get it to boot, because I didn&#039;t compile backfire correctly.</p><p>I bricked my first E2100L messing with the boot loader, trying to change the IP.&nbsp; Completely my fault.</p><p>You shouldn&#039;t need jtag, unless you are doing something stupid, like I was.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121526">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">unicus</div>
					<div class="post-datetime">
						20 Nov 2010, 07:18					</div>
				</div>
				<div class="post-content content">
					<p>So it wouldn&#039;t boot, thats mean bootloader.bin needs to be developed from scratch or you can take the existing one and merge it with backfire. You have to start from bootloader there is no doubt about that and this i where JTAG will became handy. Compilation of backfire You should put on a second place...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121566">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						20 Nov 2010, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Unicus... Please re-read posts #5 and #8 in this thread. </p><p>The kernel panic issue is resolved by editing the right files in the source and using the existing code for WRT160NL. I am working on a patch to add a profile for E2100L to the normal menuconfig, but haven&#039;t had a chance to test my latest build. If someone gets to it before me thats great, I just want to see E2100L added to the repitoire of the buildbot and provided as a downloadable bin some day.</p><p>As far as I know, noone has attempted to work on these boards via JTAG for purposes of re-writing the flash or otherwise. If they have, it hasn&#039;t been publically documented anywhere I could find. If someone with the skill and equipment did this and documented their procedure it would be both a pioneering and admirable accomplishment. So, by all means. I know cypher386 or anyone else with a bricked Cisco WRT160NL/E2100L would love to be able to recover their hardware. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>v.90</strong> on 20 Nov 2010, 19:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121742">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						23 Nov 2010, 04:01					</div>
				</div>
				<div class="post-content content">
					<p>I created a profile for &#039;e2100l&#039; and the firmware I built with it boots.</p><p>However, there are two problems with the .bin file itself as it comes out of make:<br />1. The file is named &quot;openwrt-ar71xx-wrt160nl-squashfs-factory.bin&quot; and not &quot;openwrt-ar71xx-e2100l-squashfs-factory.bin&quot;<br />&nbsp; &nbsp; I don&#039;t know where the builder pulls these names from, but given the number of places I left the string &#039;wrt160nl&#039; in the code, I am not surprised this happened.<br />2. The firmware header came out as NL16, not NL1X. When I edited it to be NL1X with a hex editor the file still works, which means my changes to the rest of the source work correctly but my changes to addpattern.c are ineffective.</p><p>I&#039;m not a programmer and I don&#039;t really know what I&#039;m doing. heh. </p><p>My other concern is that the method in which I made the e2100l profile essentially creates a mirror copy of all of the wrt160nl files, which isn&#039;t really an extensible way of tracking the changes between the two. That is, if someone makes a change to wrt160nl source it would have to be manually synced for e2100l, and thus reintegrated. That seems needless at this point considering the hardware architecture is essentially the same.</p><p>Thoughts?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121749">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						23 Nov 2010, 08:11					</div>
				</div>
				<div class="post-content content">
					<p>Will look into this today during my free time.</p><p>I would create dummy files with new model name and then include the dependents.<br />I plan to rewrite the make file which correctly shows the profile name in menuconfig.</p>											<p class="post-edited">(Last edited by <strong>mohnkhan</strong> on 23 Nov 2010, 15:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122056">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						26 Nov 2010, 23:21					</div>
				</div>
				<div class="post-content content">
					<p>Today is black friday in the United States. To celebrate the occasion I am providing my bins from earlier this month on the 16th. If you wish to experiment, enjoy.</p><p><a href="http://www.filehosting.org/file/details/236202/openwrt-ar71xx-e2100l-10.03.zip">http://www.filehosting.org/file/details … -10.03.zip</a></p><p>(As this is experimental, do not install without a serial cable handy!)</p><p>Edit: Re-uploaded to filehosting.org and fixed the URL</p>											<p class="post-edited">(Last edited by <strong>v.90</strong> on 8 Jun 2011, 22:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122103">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">pandoraxero</div>
					<div class="post-datetime">
						27 Nov 2010, 17:44					</div>
				</div>
				<div class="post-content content">
					<p>o hi v.90 thanks for the .bin</p><p>I&#039;d compile it myself but my backfire sources seem to be... uh... backfiring. failing to compile the toolchain. I&#039;m gonna be looking into why, but this will serve as a good holdover for the time being.</p><p>and i got 2 serial cables: one on my wrt54GL and my wirestripped dku-5.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122219">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						29 Nov 2010, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>I have noticed some issues with Linux IGD, uhttpd too... will confirm the exact cause..... on backfire.. some commits have caused it which I have yet to isolate..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122222">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">v.90</div>
					<div class="post-datetime">
						29 Nov 2010, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>I had a lot of trouble with trunk, so much so that I ended up going with normal backfire source. So when you see &quot;r23953&quot; in my boot header, I believe that is the result of the procedure I used, which was basically from the wiki:</p><div class="codebox"><pre><code># mkdir OpenWrt/
# cd OpenWrt/
# svn co svn://svn.openwrt.org/openwrt/branches/backfire

# cd OpenWrt/backfire/
# svn up

# ./scripts/feeds update -a
# ./scripts/feeds install -a

# make menuconfig
# make defconfig
# make -j 3</code></pre></div><p>Don&#039;t forget to edit the code to make it work with E2100L:<br /></p><div class="codebox"><pre><code>Change &quot;NL16&quot; to &quot;NL1X&quot; in these two files:
target/linux/ar71xx/files/drivers/mtd/wrt160nl_part.c
tools/firmware-utils/src/addpattern.c</code></pre></div><p>I&#039;m not sure if the svn up command actually grabbed changes as of r23953 or if it simply updated the change header. Again, not a programmer here and this is my first experience with svn.</p>											<p class="post-edited">(Last edited by <strong>v.90</strong> on 11 Apr 2011, 15:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123141">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						13 Dec 2010, 08:27					</div>
				</div>
				<div class="post-content content">
					<p>all the hard work is done....&nbsp; but... there seem to be some issues with linuxigd. I need it and I cant live without it.<br />just for a quick hack I tried replacing it from the previous package.<br />It just doesn&#039;t compile.. Linuxigd both in trunk as well as backfire. it used to few revisions back. I will dig deeper during my free time and post it here.<br /> I have not been keeping well for due to bitter winters... so got a bit slow..</p><br /><p>Just to reiterate its unrelated to E2100L but its some openwrt commits which somehow went unnoticed.</p>											<p class="post-edited">(Last edited by <strong>mohnkhan</strong> on 13 Dec 2010, 08:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123344">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						16 Dec 2010, 13:19					</div>
				</div>
				<div class="post-content content">
					<p>after some fiddling linux-igd too works in the backfire....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126643">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">NikolaiK</div>
					<div class="post-datetime">
						27 Jan 2011, 15:54					</div>
				</div>
				<div class="post-content content">
					<p>Can somebody share configuration details how to build it from latest backfire source?<br />Also is it possible to compile original firmware from linksys with telnet or ssh daemon? <br />Thanks.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 7</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=24244&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=24244&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=24244&amp;p=7.html">7</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>