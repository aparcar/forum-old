<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54G 1.1 - Kamikaze 7.06 - brcm47xx-2.6 - Power LED Flashing</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 17 Mar 2018 and 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=10995&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p49637">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						3 Jun 2007, 20:06					</div>
				</div>
				<div class="post-content content">
					<p>First off, my apologies if this is the wrong forum, but I figured it&#039;d be the best place to discuss my problems with my Kamikaze install.</p><p>It&#039;s really quite simple. I downloaded the firmware, uploaded it through the vendors interface, and then watched my router basically die. All it does it sit there with the Power LED flashing; the DMZ LED never comes on, so I don&#039;t think it ever reaches the bootloader.</p><p>I&#039;ve tired listening for reset messages via recvudp, I&#039;ve tried uploading via TFP, but I think these all failed because I&#039;m never getting to the bootloader part of startup.</p><p>Have I bricked my router? I&#039;m sure it&#039;s a possibility, but I didn&#039;t mess around with any settings of any type, just uploaded the firmware. Is there a way I can recover from this without purchasing/using a serial cable/JTAG?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49638">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cereal</div>
					<div class="post-datetime">
						3 Jun 2007, 20:13					</div>
				</div>
				<div class="post-content content">
					<p>when you already have activated boot_wait you should try to reflash the router with the original firmware over tftp. without a serial/jtag cable your only way is to reflash via tftp. somebody mentioned the use of the reset button to enter some kind of recovery mode. maybe you finde some infos via forum search.</p><p>while messing around with kamikaze you should build yourself a serial cable, so you can check, what the router is actually doing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49639">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						3 Jun 2007, 20:18					</div>
				</div>
				<div class="post-content content">
					<p>I can&#039;t activate boot_wait on the router because I can&#039;t access it.</p><p>When I plug in the router, all of the LEDs (except possibly the DMZ) light up, I guess it&#039;s a basic power-on diagnostic. Then everything goes dark except for the Power LED which flashes non-stop. As far as I can tell from reading the wiki and forums, this means that the router isn&#039;t entering the bootloader, and if the bootloader doesn&#039;t run then there&#039;s no way to upload via tftp.</p><p>Anybody else have anything to suggest?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49640">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						3 Jun 2007, 20:40					</div>
				</div>
				<div class="post-content content">
					<p>Did you try re-flashing the router via tftp?&nbsp; If the original flash failed, the booloader will wait for a new firmware via tftp.&nbsp; I think the bootloader flashes the power led while its waiting...&nbsp; It will be waiting on 192.168.1.1 if I remember correctly...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49641">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						3 Jun 2007, 20:41					</div>
				</div>
				<div class="post-content content">
					<p>I have in the past rescued several &quot;bricked&quot; routers by patience and persistence.&nbsp; Meaning I hookup a 2nd switch in between to make sure the link state is always up for the PC doing the TFTP, and try repeatedly to hookup the power and send TFTP very quickly after.</p><p>Also, helps a lot if you hack a cell-phone cable and get a serial console.&nbsp; I fit every router that passes through my hands with a serial console connector, now that several great folks on the forums showed me that it&#039;s easy to solder 3 wires for a stereo-jack and keep one of these handy:</p><p><a href="http://www.ftdichip.com/Products/EvaluationKits/TTL-232R-3V3-AJ.htm">http://www.ftdichip.com/Products/Evalua … 3V3-AJ.htm</a></p><p>I threw together a few photos of their project in section 3.1.2 here:</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Linksys/WRTSL54GS#head-63145a6650cfa74290a1d81d8a60a8ef59391468">http://wiki.openwrt.org/OpenWrtDocs/Har … ef59391468</a></p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 3 Jun 2007, 21:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49644">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						3 Jun 2007, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>From what I&#039;ve read about flashing via TFTP, people recommend that you have one window continually pinging 192.168.1.1 while another uploads the firmware. (this document: <a href="http://wiki.openwrt.org/OpenWrtDocs/Installing/TFTP?action=show&amp;redirect=OpenWrtViaTftp)">http://wiki.openwrt.org/OpenWrtDocs/Ins … rtViaTftp)</a></p><p>There is a note at the bottom that states:</p><p>&quot;Note: if your computer set DHCP, you may not get &quot;Hardware Error&quot; but &quot;Destination host unreachable&quot; or &quot;Request timeout&quot;. Set your computer static IP before.&quot;</p><p>I set my IP address to 192.168.1.2 with a netmask of 255.255.255.0, but still got the Destination host and Request timeout messages. Can this be avoided by putting a second switch in between the PC doing the pinging and the bricked router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49678">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						4 Jun 2007, 07:31					</div>
				</div>
				<div class="post-content content">
					<p>Anybody have experience with this? Why am I getting different &quot;error messages&quot; than I should be, according to the wiki?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49679">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						4 Jun 2007, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>I think I already mentioned putting a switch in between. Yes it takes too long for most PC to recognize link-state is up, by then you have missed the window for TFTP.&nbsp; Having additional switch makes it much easier.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49818">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">atom</div>
					<div class="post-datetime">
						6 Jun 2007, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>I recently had a similar experience with my v1.1 WRT54G (flash through vendor page, router hangs at startup.)</p><p>Even though I was unable to ping my router, I could still flash it with TFTP by using source IP of 192.168.1.2 and destination IP of 192.168.1.1.&nbsp; As others have suggested, just be persistent in your attempts; in all likelyhood it will go through sooner or later.&nbsp; (My first few TFTP attempts also failed.)</p><p>Also, it sounds obvious and I feel silly for mentioning it, but make sure you&#039;re plugged into one of the normal ports on the router (not the WAN side, I suspect) with a cable - you&#039;re not going to get anywhere with wireless.</p><p>Finally, to the posters that suggested setting boot_wait and using serial cables:&nbsp; the WRT54G v1.1 does not have an accessible serial connection, unlike the v2.0 and higher routers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49820">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						6 Jun 2007, 03:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>atom wrote:</cite><blockquote><p>Finally, to the posters that suggested setting boot_wait and using serial cables:&nbsp; the WRT54G v1.1 does not have an accessible serial connection, unlike the v2.0 and higher routers.</p></blockquote></div><p>Does this mean that I cannot install a serial connection on my own?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49826">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						6 Jun 2007, 05:34					</div>
				</div>
				<div class="post-content content">
					<p>Well, I think this router is well and truly bricked. I&#039;ve got a Linux box hooked up to a switch that&#039;s hooked up to the router. One screen is constantly pinging 192.168.1.1, one screen is sending the firmware and asking for a response every second. Activity lights on the switch and on the router are blinking, so I know that traffic is going through both devices. But the tftp send times out constantly and the routers Power LED just keeps flashing.</p><p>I&#039;m at my wits end with this, and now it seems that v1.1 devices cannot be rigged with a serial connection? Can anbody confirm this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49962">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						7 Jun 2007, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Any confirmation that the 1.1 routers cannot be setup for a serial port/connection?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49972">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						7 Jun 2007, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>There seems to be a problem running the 2.6 kernel on some of the older devices; if you can&#039;t get tftp to work then try JTAG.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49976">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						7 Jun 2007, 23:32					</div>
				</div>
				<div class="post-content content">
					<p>JTAG appears to be a little out of reach for my limited electronic skills.</p><p>Still waiting for a confirmation on whether a v1.1 router can support a serial interface or not.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49977">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						7 Jun 2007, 23:37					</div>
				</div>
				<div class="post-content content">
					<p>JTAG is 4 resistors and a PC with a parallel port.</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/JTAG_Cable">http://wiki.openwrt.org/OpenWrtDocs/Cus … JTAG_Cable</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49979">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						7 Jun 2007, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not sure I quite follow on how to create the whole thing.</p><p>Do you basically solder wires from the 25-pin connector to the resistors, and from the resistors to the 12-pin connector? And then solder the 12-pin connector the board of the router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49980">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						7 Jun 2007, 23:46					</div>
				</div>
				<div class="post-content content">
					<p>Yes.</p><p>Look at the diagram at the top of the page, it&#039;s a VERY simple cable -- 4 resistors, each resistor going between a pin on the parallel port and a pin on the JTAG connector on the router.</p><p>Using the JTAG software you can reflash the firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49981">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						7 Jun 2007, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ll give it a whirl and see what develops.</p><p>From what you&#039;re saying, I should also stay away from 2.6 kernels for now and stick with 2.4?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50235">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">thorn</div>
					<div class="post-datetime">
						11 Jun 2007, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>maybe this way is useful for you:</p><p><a href="http://www.linksysinfo.org/forums/showthread.php?t=47259">http://www.linksysinfo.org/forums/showt … hp?t=47259</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50236">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						11 Jun 2007, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve tried all of that except shorting out the flash, and I&#039;m sure as hell not going to do that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50310">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">thorn</div>
					<div class="post-datetime">
						12 Jun 2007, 08:21					</div>
				</div>
				<div class="post-content content">
					<p>My WRT54G v1.1 flash&nbsp; Kamikaze 7.06&nbsp; brcm47xx-2.6, then power LED flashing, no arp ,no udp broadcast.<br />Backup cfe with JTAG, get a file fill with zero ...</p><p>Short flash chip pin 15 &amp; 16, power on wrt54g, I can flash&nbsp; whiterussian or kamikaze brcm-2.4 use tftp ,&nbsp; wait <br />few minutes , recover completes. This is the safe operation.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50312">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						12 Jun 2007, 08:23					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://forum.openwrt.org/viewtopic.php?id=3474">http://forum.openwrt.org/viewtopic.php?id=3474</a></p><p>See #9.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50780">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">benoitm974</div>
					<div class="post-datetime">
						19 Jun 2007, 02:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mephator wrote:</cite><blockquote><p><a href="http://forum.openwrt.org/viewtopic.php?id=3474">http://forum.openwrt.org/viewtopic.php?id=3474</a></p><p>See #9.</p></blockquote></div><p>I must agree with you the #9 is a bad thing to do, but after I got in the exact situation you are, after testing many openwrt firmware the 7.06 got my 2 wrt54G v3.1 and V2.0 with the power led blinking like never before. No tftp even with a switch in between and very fast tftp afet power up ... nothing then I follow this post :http://www.linksysinfo.org/forums/showthread.php?t=47259 and magic both my router were back on there feet <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> !!!</p><p>The only tips is the first time I got the screw driver between pin 15 and 16 it seems thos pins were a little be protected with some king of glue, so I very smoothly scratch them with the screw driver (power offline to avoid risk of shortcurt), then got the procedure again and I&#039;m all happy with my router working again <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />...</p><p>Benoit</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50786">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						19 Jun 2007, 03:00					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve found it VERY useful to invest the time to learn some basic soldering skills for fitting JTAG connectors.</p><p>It&#039;s really quite simple to fit a row of double-pins.&nbsp; No WRT leaves my desk anymore until it&#039;s been fitted with<br />a row of header-pins in both positions.&nbsp; Dual-row header is great you buy it in long strips and break off what<br />you need, like 6 segment for the JTAG and 5 segments for serial.</p><p>Items needed:<br />- Strip of double-pin header (like <a href="http://shop3.outpost.com/product/2069003?site=sr:SEARCH:MAIN_RSLT_PG)">http://shop3.outpost.com/product/206900 … N_RSLT_PG)</a><br />- Cheap soldering iron with pencil point ($8-$12)<br />- Solder<br />- solder sucker, if your router is the type with holes filled with solder</p><p>I&#039;m super busy this week but next week was thinking about scrabbling up a Wiki page with some tips<br />for doing the solder work on WRT units.</p><p>If you don&#039;t want to build the JTAG cable, the unbuffered cables are on EBay for like $8. I&#039;ll admit I was lazy<br />and just bought one that way myself.</p><p>Nice thing about the later units like WRT54GL is the holes don&#039;t have solder in them so you don&#039;t have<br />to vacuum them out. Just add pins and solder them in.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 19 Jun 2007, 03:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50796">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Mephator</div>
					<div class="post-datetime">
						19 Jun 2007, 08:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vincentfox wrote:</cite><blockquote><p>I&#039;ve found it VERY useful to invest the time to learn some basic soldering skills for fitting JTAG connectors.</p><p>It&#039;s really quite simple to fit a row of double-pins.&nbsp; No WRT leaves my desk anymore until it&#039;s been fitted with<br />a row of header-pins in both positions.&nbsp; Dual-row header is great you buy it in long strips and break off what<br />you need, like 6 segment for the JTAG and 5 segments for serial.</p><p>Items needed:<br />- Strip of double-pin header (like <a href="http://shop3.outpost.com/product/2069003?site=sr:SEARCH:MAIN_RSLT_PG)">http://shop3.outpost.com/product/206900 … N_RSLT_PG)</a><br />- Cheap soldering iron with pencil point ($8-$12)<br />- Solder<br />- solder sucker, if your router is the type with holes filled with solder</p><p>I&#039;m super busy this week but next week was thinking about scrabbling up a Wiki page with some tips<br />for doing the solder work on WRT units.</p><p>If you don&#039;t want to build the JTAG cable, the unbuffered cables are on EBay for like $8. I&#039;ll admit I was lazy<br />and just bought one that way myself.</p><p>Nice thing about the later units like WRT54GL is the holes don&#039;t have solder in them so you don&#039;t have<br />to vacuum them out. Just add pins and solder them in.</p></blockquote></div><p>I would love to see a Wiki page regarding soldering, I think it&#039;d be very useful.</p><p>I&#039;m not sure if the holes on my board are filled with sodder or not, what would they look like?</p><p>I did a quick browse of eBay the other day, but I didn&#039;t find anything that seemed to be what I really wanted. What sort of keywords or search terms were you using?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=10995&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>