<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> AR8216 on lantiq/xway board</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p352251">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Ntalton</div>
					<div class="post-datetime">
						18 Feb 2017, 03:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />Lately I have been playing with an arv4518pw2 board (Netfaster IAD 2), very similar with the arv4518pw, but with less ram and different switch, the ar8216, similar to the arv7518pw. <br />I have managed to get almost everything to work with 12.09.1, wifi, voip, dsl and usb, but lan wasn&#039;t working for me, neither on uboot, nor on linux. <br />On uboot, switch config:<br /></p><div class="codebox"><pre><code>Net:   bring up ebu gpio
initializing ar8216 switch... failed ... 
lq_cpe_eth </code></pre></div><p>On linux:<br /></p><div class="codebox"><pre><code>[    0.432000] ltq_mii: probed
[    0.432000] (unregistered net_device): no PHY found </code></pre></div><p>It is like the switch never works, no leds light up, no signs of life.<br />A user from a different forum, with the same board, same revision, tried my images and had no problems with lan. Upon inspection it seems that the boards that have a working switch have an external 25mhz clock for the ar8216 chip and the rest just have some unpopulated pads where the crystal should be.<br />Somehow the original firmware takes care of this, and runs on every board. <br />My question is,if the board doesn&#039;t have the external clock, how is the chip supplied with a clock source? Does the ar8216 have an internal clock, or does the soc somehow supply it? <br />I tried a couple of stuff on the drivers but no cigar.</p>											<p class="post-edited">(Last edited by <strong>Ntalton</strong> on 20 Feb 2017, 14:05)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>