<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bizarre SQM Issues</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Sep 2015.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p290285">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Queen Fiona</div>
					<div class="post-datetime">
						3 Sep 2015, 03:38					</div>
				</div>
				<div class="post-content content">
					<p>So I&#039;ve been trying to use unofficial firmware images from <a href="http://www.wolfteck.com/projects/candyhouse/openwrt/">this site</a> for my Linksys E4200v2 router. One of the reasons I wanted to try it was SQM - I&#039;ve found our connection can have large latency spikes and can be unusable while someone else is doing streaming or such. SQM seemed like an all-in-one solution, superior to any manual QoS scheme I could manage.</p><p>The build posted on the page had bizarre issues where it wouldn&#039;t let me install any software - the LuCI modules worked, but anything behind them simply didn&#039;t. I tried changing to the Release Candidate repos, but no joy. I ended up compiling it myself and making a clean install - it had a bizarre issue where it didn&#039;t want to start the 2.4 GHz wifi, which seemed to go away after turning on the 5 GHz antenna and rebooting once or twice.</p><p>Using the RC3 repos in my new build, miniDLNA installed and worked just fine, so I thought that it would be just the same for sqm-scripts. Well, the result is...not so much. I can&#039;t exactly give you all the errors (I didn&#039;t log it all and I&#039;ve got a headache now and am probably going to go rest), but here&#039;s what I got from PuTTY during the session I gathered samples for:</p><div class="codebox"><pre><code>login as: root
root@192.168.1.1&#039;s password:


BusyBox v1.23.2 (2015-09-02 19:47:36 BST) built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Chaos Calmer, r46767)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:~# opkg install sqm-scripts --force-reinstall
Removing package sqm-scripts from root...
SQM: Trying to start/stop SQM on all interfaces.
SQM: run.sh stop
SQM: /usr/lib/sqm/run.sh Stopping SQM on interface: pppoe-wan
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface pppoe-wan:
SQM: trying to create new IFB: ifb4pppoe-wan
RTNETLINK answers: Operation not supported
SQM: /usr/lib/sqm/stop.sh: Stopping pppoe-wan
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface pppoe-wan:
SQM: /usr/lib/sqm/run.sh SQM qdiscs on pppoe-wan removed
Not deleting modified conffile /etc/config/sqm.
Installing sqm-scripts (8-4) to root...
Downloading http://downloads.openwrt.org/chaos_calmer/15.05-rc3/kirkwood/generic/packages/packages/sqm-scripts_8-4_all.ipk.
Configuring sqm-scripts.
SQM: Trying to start/stop SQM on all interfaces.
SQM: /usr/lib/sqm/run.sh Queue Setup Script: /usr/lib/sqm/simple.qos
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface pppoe-wan:
SQM: trying to create new IFB: ifb4pppoe-wan
RTNETLINK answers: Operation not supported
Failed to find act_ipt. Maybe it is a built in module ?
Failed to find sch_fq_codel. Maybe it is a built in module ?
Failed to find sch_ingress. Maybe it is a built in module ?
Failed to find act_mirred. Maybe it is a built in module ?
Failed to find cls_fw. Maybe it is a built in module ?
Failed to find sch_htb. Maybe it is a built in module ?
SQM: Squashing differentiated services code points (DSCP) from ingress.
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
SQM: egress shaping activated
RTNETLINK answers: No such file or directory
SQM: Do not perform DSCP based filtering on ingress. (1-tier classification)
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
Cannot find device &quot;ifb4pppoe-wan&quot;
Cannot find device &quot;ifb4pppoe-wan&quot;
Cannot find device &quot;ifb4pppoe-wan&quot;
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
Cannot find device &quot;ifb4pppoe-wan&quot;
ifconfig: SIOCGIFFLAGS: No such device
Cannot find device &quot;ifb4pppoe-wan&quot;
bad action parsing
parse_action: bad value (5:mirred)!
Illegal &quot;action&quot;
SQM: ingress shaping activated
Collected errors:
 * resolve_conffiles: Existing conffile /etc/config/sqm is different from the conffile in the new package. The new conffile will be placed at /etc/config/sqm-opkg.
root@OpenWrt:~# ct
-ash: ct: not found
root@OpenWrt:~# tc
Usage: tc [ OPTIONS ] OBJECT { COMMAND | help }
       tc [-force] -batch filename
where  OBJECT := { qdisc | class | filter | action | monitor }
       OPTIONS := { -s[tatistics] | -d[etails] | -r[aw] | -p[retty] | -b[atch] [filename] | -n[etns] name |
                    -nm | -nam[es] | { -cf | -conf } path }
root@OpenWrt:~# nano /etc/config/sqm-opkg
root@OpenWrt:~# nano /etc/config/sqm-opkg
root@OpenWrt:~# nano /etc/config/sqm
root@OpenWrt:~# /etc/init.d/sqm stop ; /etc/init.d/sqm start
SQM: Trying to start/stop SQM on all interfaces.
SQM: run.sh stop
SQM: /usr/lib/sqm/run.sh Stopping SQM on interface: eth1
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface eth1:
SQM: trying to create new IFB: ifb4eth1
RTNETLINK answers: Operation not supported
SQM: /usr/lib/sqm/stop.sh: Stopping eth1
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface eth1:
SQM: /usr/lib/sqm/run.sh SQM qdiscs on eth1 removed
SQM: Trying to start/stop SQM on all interfaces.
SQM: /usr/lib/sqm/run.sh Queue Setup Script: /usr/lib/sqm/simple.qos
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface eth1:
SQM: trying to create new IFB: ifb4eth1
RTNETLINK answers: Operation not supported
Failed to find act_ipt. Maybe it is a built in module ?
Failed to find sch_fq_codel. Maybe it is a built in module ?
Failed to find sch_ingress. Maybe it is a built in module ?
Failed to find act_mirred. Maybe it is a built in module ?
Failed to find cls_fw. Maybe it is a built in module ?
Failed to find sch_htb. Maybe it is a built in module ?
SQM: Squashing differentiated services code points (DSCP) from ingress.
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
SQM: egress shaping activated
RTNETLINK answers: No such file or directory
SQM: Do not perform DSCP based filtering on ingress. (1-tier classification)
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
Cannot find device &quot;ifb4eth1&quot;
Cannot find device &quot;ifb4eth1&quot;
Cannot find device &quot;ifb4eth1&quot;
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
Cannot find device &quot;ifb4eth1&quot;
ifconfig: SIOCGIFFLAGS: No such device
Cannot find device &quot;ifb4eth1&quot;
bad action parsing
parse_action: bad value (5:mirred)!
Illegal &quot;action&quot;
SQM: ingress shaping activated
root@OpenWrt:~# tc -d qdisc
qdisc mq 0: dev eth0 root
qdisc fq_codel 0: dev eth0 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc mq 0: dev eth1 root
qdisc fq_codel 0: dev eth1 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev pppoe-wan root refcnt 2 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc mq 0: dev wlan0 root
qdisc fq_codel 0: dev wlan0 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan0 parent :2 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan0 parent :3 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan0 parent :4 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc mq 0: dev wlan1 root
qdisc fq_codel 0: dev wlan1 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan1 parent :2 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan1 parent :3 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan1 parent :4 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
root@OpenWrt:~#</code></pre></div><p>I know it&#039;s probably partially due to the use of an unofficial build, but that compiles straight from the same code that an official image would, just slightly patched and repackaged. Does anyone have insight on any of this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290291">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						3 Sep 2015, 04:24					</div>
				</div>
				<div class="post-content content">
					<p>donow if helps but a while back(~2 weaks) packages dont run properly.. compatibility issues.. they changed the compiler</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290325">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						3 Sep 2015, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi Queen Fiona,</p><br/><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><p>So I&#039;ve been trying to use unofficial firmware images from <a href="http://www.wolfteck.com/projects/candyhouse/openwrt/">this site</a> for my Linksys E4200v2 router. One of the reasons I wanted to try it was SQM - I&#039;ve found our connection can have large latency spikes and can be unusable while someone else is doing streaming or such. SQM seemed like an all-in-one solution, superior to any manual QoS scheme I could manage.</p><p>The build posted on the page had bizarre issues where it wouldn&#039;t let me install any software - the LuCI modules worked, but anything behind them simply didn&#039;t. I tried changing to the Release Candidate repos, but no joy. I ended up compiling it myself and making a clean install - it had a bizarre issue where it didn&#039;t want to start the 2.4 GHz wifi, which seemed to go away after turning on the 5 GHz antenna and rebooting once or twice.</p></blockquote></div><p>&nbsp; &nbsp; &nbsp; &nbsp; I believe openwrt uses signed packages now, so you probably should not only build the core firmware yourself, but also include all packages directly into the build. If I recall correctly that way the package can be preinstalled in the firmware image and hence should never be a mismatch for the rest of the built. BUT sqm-scripts is a bit of a moving target and you probably should try a more recent version from its own repository (<a href="https://github.com/tohojo/sqm-scripts">https://github.com/tohojo/sqm-scripts</a>), as the latest changes have not yet made it into the openwrt repositories.<br/></p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><br/><br/><p>Using the RC3 repos in my new build, miniDLNA installed and worked just fine, so I thought that it would be just the same for sqm-scripts. Well, the result is...not so much. I can&#039;t exactly give you all the errors (I didn&#039;t log it all and I&#039;ve got a headache now and am probably going to go rest), but here&#039;s what I got from PuTTY during the session I gathered samples for:</p></blockquote></div><p>&nbsp; &nbsp; &nbsp; &nbsp; My hunch is that is caused by sqm-scripts requiring certain kernel modules and the installer seems to check the actual kernel version for those modules, and if they do not match the installed kernel it does not work. But I am quite uncertain about that, as I have never build openwrt myself so the above could be the finest Baloney...<br/></p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><br/><div class="codebox"><pre><code>login as: root
root@192.168.1.1&#039;s password:


BusyBox v1.23.2 (2015-09-02 19:47:36 BST) built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Chaos Calmer, r46767)
 </code></pre></div></blockquote></div><p>&nbsp; &nbsp; &nbsp; &nbsp;Is this from before the switch to musl? Or more precisely, are you using ulibc or musl as the c library of your build? I ask because yesterday we fixed an issue with musl and regexp patterns that have at least some symptoms similar to yours.<br/></p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><div class="codebox"><pre><code>-----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:~# opkg install sqm-scripts --force-reinstall
Removing package sqm-scripts from root...
SQM: Trying to start/stop SQM on all interfaces.
SQM: run.sh stop
SQM: /usr/lib/sqm/run.sh Stopping SQM on interface: pppoe-wan
RTNETLINK answers: Operation not supported
Dump terminated</code></pre></div></blockquote></div><p>&nbsp; &nbsp; &nbsp; &nbsp; Woha, these last two lines do not look great, I wonder whether you have the full ip and tc packages installed?<br/></p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><div class="codebox"><pre><code>SQM: ifb associated with interface pppoe-wan:
SQM: trying to create new IFB: ifb4pppoe-wan
RTNETLINK answers: Operation not supported
SQM: /usr/lib/sqm/stop.sh: Stopping pppoe-wan
RTNETLINK answers: Operation not supported
Dump terminated</code></pre></div></blockquote></div><p>&nbsp; &nbsp; &nbsp; &nbsp; Not sure where or what gets dumped here, but it might be interesting to look at the dumped data, no?<br/></p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><div class="codebox"><pre><code>SQM: ifb associated with interface pppoe-wan:
SQM: /usr/lib/sqm/run.sh SQM qdiscs on pppoe-wan removed
Not deleting modified conffile /etc/config/sqm.
Installing sqm-scripts (8-4) to root...
Downloading [url]http://downloads.openwrt.org/chaos_calmer/15.05-rc3/kirkwood/generic/packages/packages/sqm-scripts_8-4_all.ipk.[/url]
Configuring sqm-scripts.
SQM: Trying to start/stop SQM on all interfaces.
SQM: /usr/lib/sqm/run.sh Queue Setup Script: /usr/lib/sqm/simple.qos
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface pppoe-wan:
SQM: trying to create new IFB: ifb4pppoe-wan
RTNETLINK answers: Operation not supported
Failed to find act_ipt. Maybe it is a built in module ?
Failed to find sch_fq_codel. Maybe it is a built in module ?
Failed to find sch_ingress. Maybe it is a built in module ?
Failed to find act_mirred. Maybe it is a built in module ?
Failed to find cls_fw. Maybe it is a built in module ?
Failed to find sch_htb. Maybe it is a built in module ?</code></pre></div></blockquote></div><p>&nbsp; &nbsp; &nbsp; &nbsp; And this looks like a lot of modules required for sqm-scripts tp its thing are missing? Unless you selected y for all of them during your openwrt configuration instead of m. Without (most) of those modules (either as modular modules or as built-in &quot;modules&quot;) sqm scripts is not going t work at all, sorry. The newer code learned to test some functionality and stopping on error instead of trying to just push through as the old code did, but that will just give you slightly more diagnostics...<br/></p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><div class="codebox"><pre><code>SQM: Squashing differentiated services code points (DSCP) from ingress.
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
SQM: egress shaping activated
RTNETLINK answers: No such file or directory
SQM: Do not perform DSCP based filtering on ingress. (1-tier classification)
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
Cannot find device &quot;ifb4pppoe-wan&quot;
Cannot find device &quot;ifb4pppoe-wan&quot;
Cannot find device &quot;ifb4pppoe-wan&quot;
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
Cannot find device &quot;ifb4pppoe-wan&quot;
ifconfig: SIOCGIFFLAGS: No such device
Cannot find device &quot;ifb4pppoe-wan&quot;
bad action parsing
parse_action: bad value (5:mirred)!
Illegal &quot;action&quot;
SQM: ingress shaping activated
Collected errors:
 * resolve_conffiles: Existing conffile /etc/config/sqm is different from the conffile in the new package. The new conffile will be placed at /etc/config/sqm-opkg.
root@OpenWrt:~# ct
-ash: ct: not found
root@OpenWrt:~# tc
Usage: tc [ OPTIONS ] OBJECT { COMMAND | help }
       tc [-force] -batch filename
where  OBJECT := { qdisc | class | filter | action | monitor }
       OPTIONS := { -s[tatistics] | -d[etails] | -r[aw] | -p[retty] | -b[atch] [filename] | -n[etns] name |
                    -nm | -nam[es] | { -cf | -conf } path }
root@OpenWrt:~# nano /etc/config/sqm-opkg
root@OpenWrt:~# nano /etc/config/sqm-opkg
root@OpenWrt:~# nano /etc/config/sqm
root@OpenWrt:~# /etc/init.d/sqm stop ; /etc/init.d/sqm start
SQM: Trying to start/stop SQM on all interfaces.
SQM: run.sh stop
SQM: /usr/lib/sqm/run.sh Stopping SQM on interface: eth1
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface eth1:
SQM: trying to create new IFB: ifb4eth1
RTNETLINK answers: Operation not supported
SQM: /usr/lib/sqm/stop.sh: Stopping eth1
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface eth1:
SQM: /usr/lib/sqm/run.sh SQM qdiscs on eth1 removed
SQM: Trying to start/stop SQM on all interfaces.
SQM: /usr/lib/sqm/run.sh Queue Setup Script: /usr/lib/sqm/simple.qos
RTNETLINK answers: Operation not supported
Dump terminated
SQM: ifb associated with interface eth1:
SQM: trying to create new IFB: ifb4eth1
RTNETLINK answers: Operation not supported
Failed to find act_ipt. Maybe it is a built in module ?
Failed to find sch_fq_codel. Maybe it is a built in module ?
Failed to find sch_ingress. Maybe it is a built in module ?
Failed to find act_mirred. Maybe it is a built in module ?
Failed to find cls_fw. Maybe it is a built in module ?
Failed to find sch_htb. Maybe it is a built in module ?
SQM: Squashing differentiated services code points (DSCP) from ingress.
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
RTNETLINK answers: No such file or directory
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
RTNETLINK answers: Operation not supported
We have an error talking to the kernel
SQM: egress shaping activated
RTNETLINK answers: No such file or directory
SQM: Do not perform DSCP based filtering on ingress. (1-tier classification)
SQM: STAB: stab mtu 2047 tsize 512 mpu 0 overhead 8 linklayer ethernet
Cannot find device &quot;ifb4eth1&quot;
Cannot find device &quot;ifb4eth1&quot;
Cannot find device &quot;ifb4eth1&quot;
SQM: get_limit: CURLIMIT: 1001
SQM: get_target defaulting to auto.
Cannot find device &quot;ifb4eth1&quot;
ifconfig: SIOCGIFFLAGS: No such device
Cannot find device &quot;ifb4eth1&quot;
bad action parsing
parse_action: bad value (5:mirred)!
Illegal &quot;action&quot;
SQM: ingress shaping activated
root@OpenWrt:~# tc -d qdisc
qdisc mq 0: dev eth0 root
qdisc fq_codel 0: dev eth0 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc mq 0: dev eth1 root
qdisc fq_codel 0: dev eth1 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev pppoe-wan root refcnt 2 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc mq 0: dev wlan0 root
qdisc fq_codel 0: dev wlan0 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan0 parent :2 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan0 parent :3 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan0 parent :4 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc mq 0: dev wlan1 root
qdisc fq_codel 0: dev wlan1 parent :1 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan1 parent :2 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan1 parent :3 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
qdisc fq_codel 0: dev wlan1 parent :4 limit 1024p flows 1024 quantum 300 target 5.0ms interval 100.0ms ecn
root@OpenWrt:~#</code></pre></div><p>I know it&#039;s probably partially due to the use of an unofficial build, but that compiles straight from the same code that an official image would, just slightly patched and repackaged. Does anyone have insight on any of this?</p></blockquote></div><p>I have to agree this is sqm-scripts not finding the environment it needs, and then not behaving helpfully but just getting confused. I hope that we improved that behavior a bit with the newer sqm revisions. If you could try to manually update all sqm related files in your firmware it would be interesting to see how helpful the new code will be.</p><p>&nbsp; &nbsp; &nbsp; &nbsp;If you should be inclined to try this out here are a few pointers on how to proceed (you probably know this already:</p><p>Okay, for doing it manually I the easiest would be to clone the following git repository:<br/><a href="https://github.com/tohojo/sqm-scripts">https://github.com/tohojo/sqm-scripts</a><br/>from a unix machine/VM and then run:<br/>make install PLATFORM=openwrt DESTDIR=./owrt_1.0.2 from the root directory of that cloned repository<br/>which will create a directory structure under ./owrt_1.0.2 containing all the files that you need to copy onto the corresponding directories on your router.</p><p>This will not fix any of your real issues, but might give better diagnostics and potentially allows us to improve the diagnostic messages even more <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink"/>.</p><p>Best Regards<br/>&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290327">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						3 Sep 2015, 10:56					</div>
				</div>
				<div class="post-content content">
					<p>As far as I understand, QueenFiona is using the Chaos Calmer 15.05 branch (based on reference to &quot;RC3&quot;), which is not using musl unless specifically told so. (It is currently confusing as Chaos Calmer references both the to-be-released Chaos Calmer with uClibc as the default and to the ongoing trunk development with musl.)</p><p>The for-15.05 branch still uses pre-1.0 sqm-scripts sources at the Openwrt github packages:<br/><a href="https://github.com/openwrt/packages/commits/for-15.05/net/sqm-scripts">https://github.com/openwrt/packages/commits/for-15.05/net/sqm-scripts</a><br/>while trunk has moved to sqm-scripts 1.0.2 at Toke&#039;s repo.<br/><a href="https://github.com/openwrt/packages/commits/master/net/sqm-scripts">https://github.com/openwrt/packages/commits/master/net/sqm-scripts</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 3 Sep 2015, 10:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290374">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">trismo</div>
					<div class="post-datetime">
						3 Sep 2015, 19:50					</div>
				</div>
				<div class="post-content content">
					<p>Have you installed kmod packages with opkg --force ?<br/>Try a new build without sqm-sript from CC-Branch but select kmod packages<br/>or delete feeds/package/net/{sqm-srcript,luci-app-sqm} and copy sqm-script from trunk package feed to CC its include the luci-app-sqm.</p><p>This packages a needed for sqm&nbsp; to work:<br/>PACKAGE_kmod-sched<br/>PACKAGE_kmod-ifb <br/>PACKAGE_ip&nbsp; <br/>PACKAGE_tc<br/>PACKAGE_iptables-mod-ipopt <br/>PACKAGE_iptables-mod-conntrack-extra&nbsp; &nbsp; &nbsp; &nbsp;</p><p>Flash your new image without keep config then im 99% am sure sqm work now.</p><p>EDIT:<br/>Candyhouse patch is hacky work good i think if you only use the build system to install new packages dont use opkg to install packages from openwrt repository. They a not compatible. sqm-sripts is ok its not a binary.</p><p>here look thats why:<br/>-CONFIG_TARGET_OPTIMIZATION=&quot;-Os -pipe -mno-branch-likely -mips32r2 -mtune=34kc&quot;<br/>+CONFIG_TARGET_OPTIMIZATION=&quot;-Os -pipe -march=armv5te -mtune=xscale&quot;</p><p>-CONFIG_TARGET_SUFFIX=&quot;uclibc&quot;<br/>+CONFIG_TARGET_SUFFIX=&quot;uclibcgnueabi&quot;</p><p><span style="color: #FF0000">EDIT2: oh that can not work it used a kernel outside from openwrt i make a patch</span></p><p>EDIT3: del patch was wrong</p>											<p class="post-edited">(Last edited by <strong>trismo</strong> on 4 Sep 2015, 22:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290406">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Queen Fiona</div>
					<div class="post-datetime">
						3 Sep 2015, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>Well, at the very least, I can tell you that I do indeed have all the packages listed in trismo&#039;s post installed, according to LuCI. I&#039;m just using the build that the Candyhouse Makefile pulls, which comes from git://git.openwrt.org/15.05/openwrt.git, so I&#039;m not sure if that&#039;s the RC or the branch. At the very least, the packages that are supposed to be there <em>are</em> there, or at least LuCI thinks they are.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290480">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						4 Sep 2015, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi Queen Fiona,</p><div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><p>Well, at the very least, I can tell you that I do indeed have all the packages listed in trismo&#039;s post installed, according to LuCI. I&#039;m just using the build that the Candyhouse Makefile pulls, which comes from git://git.openwrt.org/15.05/openwrt.git, so I&#039;m not sure if that&#039;s the RC or the branch. At the very least, the packages that are supposed to be there <em>are</em> there, or at least LuCI thinks they are.</p></blockquote></div><p>So, I have never build my own firmware image and hence will be only of limited help, I do have some experience with sqm though, so should be able help debug that part of the problem a bit.<br/>&nbsp; &nbsp; &nbsp; &nbsp; That said, from your initial post it looks like a number of essential modules are missing. Could you post the output of the following command, run on your router&#039;s copmmand line, please? This should shpow which modules are available.</p><p>ls /lib/modules/$( uname -r)</p><p>also please post the output of the following command (which should show the already loaded modules):</p><p> lsmod</p><p>Thank you very much in advance.</p><p>Best Regards<br/>&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290517">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Queen Fiona</div>
					<div class="post-datetime">
						4 Sep 2015, 18:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>moeller0 wrote:</cite><blockquote><p>&nbsp; &nbsp; &nbsp; &nbsp; That said, from your initial post it looks like a number of essential modules are missing. Could you post the output of the following command, run on your router&#039;s copmmand line, please? This should shpow which modules are available.</p><p>ls /lib/modules/$( uname -r)</p><p>also please post the output of the following command (which should show the already loaded modules):</p><p> lsmod</p><p>Thank you very much in advance.</p><p>Best Regards<br/>&nbsp; &nbsp; &nbsp; &nbsp; M.</p></blockquote></div><p>Here you go:</p><div class="codebox"><pre><code>root@OpenWrt:~# ls /lib/modules/$( uname -r)
arc4.ko                    mwl8k.ko                   pppoe.ko
cfg80211.ko                nf_conntrack.ko            pppox.ko
compat.ko                  nf_conntrack_ftp.ko        slhc.ko
crc-ccitt.ko               nf_conntrack_ipv4.ko       x_tables.ko
crypto_blkcipher.ko        nf_conntrack_ipv6.ko       xt_CT.ko
ip6_tables.ko              nf_conntrack_rtcache.ko    xt_LOG.ko
ip6t_REJECT.ko             nf_defrag_ipv4.ko          xt_REDIRECT.ko
ip6table_filter.ko         nf_defrag_ipv6.ko          xt_TCPMSS.ko
ip6table_mangle.ko         nf_log_common.ko           xt_comment.ko
ip6table_raw.ko            nf_log_ipv4.ko             xt_conntrack.ko
ip_tables.ko               nf_log_ipv6.ko             xt_id.ko
ipt_MASQUERADE.ko          nf_nat.ko                  xt_limit.ko
ipt_REJECT.ko              nf_nat_ftp.ko              xt_mac.ko
iptable_filter.ko          nf_nat_ipv4.ko             xt_mark.ko
iptable_mangle.ko          nf_nat_masquerade_ipv4.ko  xt_multiport.ko
iptable_nat.ko             nf_reject_ipv4.ko          xt_nat.ko
iptable_raw.ko             nf_reject_ipv6.ko          xt_state.ko
ipv6.ko                    ppp_async.ko               xt_tcpudp.ko
mac80211.ko                ppp_generic.ko             xt_time.ko
root@OpenWrt:~# lsmod
arc4                    1343  4
cfg80211              214185  2 mwl8k
compat                  1260  3 mwl8k
crc_ccitt                971  1 ppp_async
crypto_blkcipher       10562  1 arc4
ip6_tables              8949  3 ip6table_raw
ip6t_REJECT             1160  2
ip6table_filter          694  1
ip6table_mangle          978  1
ip6table_raw             652  1
ip_tables               9071  4 iptable_nat
ipt_MASQUERADE           662  1
ipt_REJECT               958  2
iptable_filter           748  1
iptable_mangle           876  1
iptable_nat             1081  1
iptable_raw              706  1
ipv6                  252615 34 nf_conntrack_ipv6
mac80211              388584  1 mwl8k
mwl8k                  38259  0
nf_conntrack           48105 11 nf_nat_ipv4
nf_conntrack_ftp        5431  1 nf_nat_ftp
nf_conntrack_ipv4       5235  8
nf_conntrack_ipv6       5500  3
nf_conntrack_rtcache    2341  0
nf_defrag_ipv4           844  1 nf_conntrack_ipv4
nf_defrag_ipv6          9125  1 nf_conntrack_ipv6
nf_log_common           2363  2 nf_log_ipv4
nf_log_ipv4             3290  0
nf_log_ipv6             3715  0
nf_nat                  8771  5 nf_nat_ipv4
nf_nat_ftp              1216  0
nf_nat_ipv4             3587  1 iptable_nat
nf_nat_masquerade_ipv4    1441  1 ipt_MASQUERADE
nf_reject_ipv4          1531  1 ipt_REJECT
nf_reject_ipv6          1703  1 ip6t_REJECT
ppp_async               6509  0
ppp_generic            20622  7 pppoe
pppoe                   8239  2
pppox                   1227  1 pppoe
slhc                    4671  1 ppp_generic
x_tables               10126 26 ipt_REJECT
xt_CT                   2513  0
xt_LOG                   855  0
xt_REDIRECT             1417  0
xt_TCPMSS               2676  4
xt_comment               503 64
xt_conntrack            2452 10
xt_id                    498  0
xt_limit                1189 20
xt_mac                   639  0
xt_mark                  700 12
xt_multiport            1292  0
xt_nat                  1257  0
xt_state                 789  0
xt_tcpudp               1812 12
xt_time                 1658  0</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290530">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">trismo</div>
					<div class="post-datetime">
						4 Sep 2015, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>This kernel 3.19 have only &quot;fq_codel&quot;&nbsp; no any other modul or builtin needed for QOS/Queing etc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290533">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						4 Sep 2015, 22:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Queen Fiona wrote:</cite><blockquote><div class="quotebox"><cite>moeller0 wrote:</cite><blockquote><p>&nbsp; &nbsp; &nbsp; &nbsp; That said, from your initial post it looks like a number of essential modules are missing. Could you post the output of the following command, run on your router&#039;s copmmand line, please? This should shpow which modules are available.</p><p>ls /lib/modules/$( uname -r)</p><p>also please post the output of the following command (which should show the already loaded modules):</p><p> lsmod</p><p>Thank you very much in advance.</p><p>Best Regards<br/>&nbsp; &nbsp; &nbsp; &nbsp; M.</p></blockquote></div><p>Here you go:</p><div class="codebox"><pre><code>root@OpenWrt:~# ls /lib/modules/$( uname -r)
arc4.ko                    mwl8k.ko                   pppoe.ko
cfg80211.ko                nf_conntrack.ko            pppox.ko
compat.ko                  nf_conntrack_ftp.ko        slhc.ko
crc-ccitt.ko               nf_conntrack_ipv4.ko       x_tables.ko
crypto_blkcipher.ko        nf_conntrack_ipv6.ko       xt_CT.ko
ip6_tables.ko              nf_conntrack_rtcache.ko    xt_LOG.ko
ip6t_REJECT.ko             nf_defrag_ipv4.ko          xt_REDIRECT.ko
ip6table_filter.ko         nf_defrag_ipv6.ko          xt_TCPMSS.ko
ip6table_mangle.ko         nf_log_common.ko           xt_comment.ko
ip6table_raw.ko            nf_log_ipv4.ko             xt_conntrack.ko
ip_tables.ko               nf_log_ipv6.ko             xt_id.ko
ipt_MASQUERADE.ko          nf_nat.ko                  xt_limit.ko
ipt_REJECT.ko              nf_nat_ftp.ko              xt_mac.ko
iptable_filter.ko          nf_nat_ipv4.ko             xt_mark.ko
iptable_mangle.ko          nf_nat_masquerade_ipv4.ko  xt_multiport.ko
iptable_nat.ko             nf_reject_ipv4.ko          xt_nat.ko
iptable_raw.ko             nf_reject_ipv6.ko          xt_state.ko
ipv6.ko                    ppp_async.ko               xt_tcpudp.ko
mac80211.ko                ppp_generic.ko             xt_time.ko
root@OpenWrt:~# lsmod
arc4                    1343  4
cfg80211              214185  2 mwl8k
compat                  1260  3 mwl8k
crc_ccitt                971  1 ppp_async
crypto_blkcipher       10562  1 arc4
ip6_tables              8949  3 ip6table_raw
ip6t_REJECT             1160  2
ip6table_filter          694  1
ip6table_mangle          978  1
ip6table_raw             652  1
ip_tables               9071  4 iptable_nat
ipt_MASQUERADE           662  1
ipt_REJECT               958  2
iptable_filter           748  1
iptable_mangle           876  1
iptable_nat             1081  1
iptable_raw              706  1
ipv6                  252615 34 nf_conntrack_ipv6
mac80211              388584  1 mwl8k
mwl8k                  38259  0
nf_conntrack           48105 11 nf_nat_ipv4
nf_conntrack_ftp        5431  1 nf_nat_ftp
nf_conntrack_ipv4       5235  8
nf_conntrack_ipv6       5500  3
nf_conntrack_rtcache    2341  0
nf_defrag_ipv4           844  1 nf_conntrack_ipv4
nf_defrag_ipv6          9125  1 nf_conntrack_ipv6
nf_log_common           2363  2 nf_log_ipv4
nf_log_ipv4             3290  0
nf_log_ipv6             3715  0
nf_nat                  8771  5 nf_nat_ipv4
nf_nat_ftp              1216  0
nf_nat_ipv4             3587  1 iptable_nat
nf_nat_masquerade_ipv4    1441  1 ipt_MASQUERADE
nf_reject_ipv4          1531  1 ipt_REJECT
nf_reject_ipv6          1703  1 ip6t_REJECT
ppp_async               6509  0
ppp_generic            20622  7 pppoe
pppoe                   8239  2
pppox                   1227  1 pppoe
slhc                    4671  1 ppp_generic
x_tables               10126 26 ipt_REJECT
xt_CT                   2513  0
xt_LOG                   855  0
xt_REDIRECT             1417  0
xt_TCPMSS               2676  4
xt_comment               503 64
xt_conntrack            2452 10
xt_id                    498  0
xt_limit                1189 20
xt_mac                   639  0
xt_mark                  700 12
xt_multiport            1292  0
xt_nat                  1257  0
xt_state                 789  0
xt_tcpudp               1812 12
xt_time                 1658  0</code></pre></div></blockquote></div><br/><p>Hi Queen Fiona,</p><p>I agree with trismo, your kernel is lacking quite a number gf modules that are essential for sqm-scripts. What about having a look at <a href="https://forum.openwrt.org/viewtopic.php?id=50914">https://forum.openwrt.org/viewtopic.php?id=50914</a> and using his config as basis for your own built? I would hope that arokh&#039;s configs should be configured for working sqm-scripts and they even offer the cake qdisc, all you probably need to do is making sure your specific router model and its hardware drivers are configured in...</p><p>Best Regards<br/>&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290547">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">trismo</div>
					<div class="post-datetime">
						5 Sep 2015, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Here i built a kernel for you i hope its run :-)</p><p><a href="http://www1.zippyshare.com/v/ea8A9teN/file.html">http://www1.zippyshare.com/v/ea8A9teN/file.html</a></p><p>md5sum 73744f60558b019f2ec851fe45be00fe&nbsp; uImage-3.19.5-ea4500</p><p>how i make it</p><p>Install a Linux Distribution you need installed tools &quot;git make binutils gcc-arm-none-eabi u-boot-tools&quot;<br/></p><div class="codebox"><pre><code>git clone https://github.com/cilynx/Candyhouse-Linux.git
cd Candyhouse-Linux
$make usb
$cd linux-*
$make menuconfig ARCH=arm
$make oldconfig ARCH=arm
$make -j4 ARCH=arm LOADADDR=0x00008000 uImage
$make ARCH=arm dtbs
$cd ..
$cat linux-3.19.5/arch/arm/boot/zImage linux-3.19.5/arch/arm/boot/dts/kirkwood-candyhouse.dtb &gt; /tmp/zImage+kirkwood-candyhouse.dtb
$mkimage -A arm -O linux -T kernel -C none -a 0x00008000 -e 0x00008000 -n linux-3.19.5 -d /tmp/zImage+kirkwood-candyhouse.dtb uImage-3.19.5-ea4500</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>