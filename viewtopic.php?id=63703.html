<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Huawei Echolife HG8012H ONT</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p316834">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						26 Mar 2016, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>Pictures and specs</p><p>Picture of the Model :<br /><span class="postimg"><img src="http://s13.postimg.org/d19eztopz/hw_372557.jpg" alt="http://s13.postimg.org/d19eztopz/hw_372557.jpg" /></span><br /><strong>Bottom PCB</strong><br /><span class="postimg"><img src="http://s28.postimg.org/4rzlugad9/bottom_PCB.jpg" alt="http://s28.postimg.org/4rzlugad9/bottom_PCB.jpg" /></span><br /><strong>CPU&nbsp; &amp; RAM</strong><br /><span class="postimg"><img src="http://s14.postimg.org/70khyjpc1/cpu_ram.jpg" alt="http://s14.postimg.org/70khyjpc1/cpu_ram.jpg" /></span><br /><strong>TOP IMAGE</strong><br /><span class="postimg"><img src="http://s29.postimg.org/rfzwmnpuv/top.jpg" alt="http://s29.postimg.org/rfzwmnpuv/top.jpg" /></span><br /><strong>Specified</strong><br /><span class="postimg"><img src="http://s14.postimg.org/uvrxlig3l/specified.jpg" alt="http://s14.postimg.org/uvrxlig3l/specified.jpg" /></span></p><p>-128Mbit Ram (NT5CB128M8FN-DH)<br />-16Mbit Flash ROM (Spansion S25FL128P)<br />-CPU SD5115SRQIV110 (Hisilicon <a href="http://www.hisilicon.com">http://www.hisilicon.com</a>)</p><p>Gigabit ethernet<br />CATV (RF)<br />GPON</p><p>Gpon Device with Catv and gigabit lan , configured in bridge mode by most ISPS in europe .</p>											<p class="post-edited">(Last edited by <strong>pedropt</strong> on 27 Mar 2016, 00:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317027">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">iasimov</div>
					<div class="post-datetime">
						27 Mar 2016, 23:51					</div>
				</div>
				<div class="post-content content">
					<p>Is there official firmware files available? and what is the average price of that hardware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317029">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						28 Mar 2016, 00:00					</div>
				</div>
				<div class="post-content content">
					<p>There is no official firmware download from Huawei to this model&nbsp; , the average price of it on alibaba goes to 100 dollars .<br />I am unable to communicate with the CPU over jtag using the normal Huawei jtag 10 pin configuration .<br />I will open the shield block of this device to see if there is any serial communications port .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317275">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">iasimov</div>
					<div class="post-datetime">
						29 Mar 2016, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>If it uses GPL software its firmware you can request it to huawei in foss@huawei.com (FOSS = Free and Open Source Software).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317306">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						29 Mar 2016, 23:22					</div>
				</div>
				<div class="post-content content">
					<p>I dont need to change the firmware&nbsp; &nbsp;, i just need to make a reset on it .<br />ISP by default disables in config the manual button for reset .<br />And since this equipment is configured in bridge mode , then i am unable to access its webgui .<br />If i found any serial port , then i will be able to solve my problem .<br />There are some firewall rules that i want to change on it .</p><p>I already extracted the firmware of this device over SPI and i was able to decompile some parts of it , for what i could see , there is a normal configuration and the ISP configuration , but first i have to access it over console mode and do the reset of it .<br />This device is used by multiple ISPS over Europe , as you all can see in the list of ISPs in the firmware page :<br /><span class="postimg"><img src="http://s18.postimg.org/apzgd3dmx/huawei.png" alt="http://s18.postimg.org/apzgd3dmx/huawei.png" /></span></p>											<p class="post-edited">(Last edited by <strong>pedropt</strong> on 30 Mar 2016, 00:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320192">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						18 Apr 2016, 12:45					</div>
				</div>
				<div class="post-content content">
					<p>Console bootlog :</p><div class="quotebox"><blockquote><p>HuaWei StartCode 2012.02 (Mar 25 2014 - 01:04:34)</p><p>SPI:<br />startcode select the uboot to load<br />the high RAM is :8080103c<br />startcode uboot boot count:2000409911<br />Boot load address :0x40000<br />Use the UbootA to load success</p><br /><p>U-Boot 2010.03 (R13C10 Jul 02 2014 - 19:39:38)</p><p>DRAM:&nbsp; 128 MB<br />Boot From SPI flash<br />Chip Type is SD5115S<br />SFC : cs0 unrecognized JEDEC id 00ffffff, extended id 00000000<br />SFC: extend id 0x300<br />SFC: cs1 s25sl12800 (16384 Kbytes)<br />SFC: Detected s25sl12800 with page size 262144, total 16777216 bytes<br />SFC: already protect ON !<br />SFC: sfc_read flash offset 0x80000, len 0x40000, memory buf 0x81fa0008<br />*** Warning - bad CRC, using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />PHY power down !!!<br />[main.c__5587]::CRC:0xa3c1ca20, Magic1:0x0, Magic2:0x0, count:0, CommitedArea:0x0, Active:0x0, RunFlag:0x0<br />SFC : cs0 unrecognized JEDEC id 00f¦ffff, extended id 00000000<br />SFC: extend id 0x300<br />SFC: cs1 s25sl12800 (16384 Kbytes)<br />SFC: Detected s25sl12800 with page size 262144, total 16777216 bytes<br />initialize flash success<br />slave_paramA in flash, CRC:0xa3c1ca20, Magic1:0x0, Magic2:0x0, count:0, CommitedArea:0x0, Active:0x0, RunFlag¦¦¦<br />¦: 0x0, the magic&nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; rror!!!<br />Slave struct¦initializtion success!!<br />Start from main system(0x0)!<br />CRC:0xa3c1ca20, Magic1:0x5a5a5a5a, Magic2:0xa5a5a5a5, count:0, CommitedArea:0x0, Active:0x0, RunFlag:0xffffffff<br />Main area (A) is OK!<br />CRC:0xe33b8857, Magic1:0x5a5a5a5a, Magic2:0xa5a5a5a5, count:0, CommitedArea:0x0, Active:0x0, RunFlag:0xffffffff<br />iRootfsSize to 0x46603d<br />Start copy data vrom 0x1c540054 to 0x86000000 with sizeof 0x0046603d ............Done!<br />Bootcmd:bootm 0x1c140054 0x86000000<br />BootArgs:noalign mem=114M console=ttyAMA1,115200 initrd=0x86000040,0x465ffd rdinit=/linuxrc mtdparts=hi_sfc:0x40000(startcode)ro,0x40000(bootA)ro,0x40000(bootB)ro,0x40000(flashcfg)ro,0x40000(slave_param)ro,0x200000(kernelA)ro,0x200000(kernelB)ro,0x480000(rootfsA)ro,0x480000(rootfsB)ro,0x180000(file_system),-(reserved)pcie1_sel=x1 maxcpus=0 user_debug=0x1f panic=1<br />U-boot Start from NORMAL Mode!</p><p>## Booting kernel from Legacy Image at 1c140054 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux-2.6.34.10_sd5115v100_wr4.3<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;ARM Linux Kernel Image (uncompressed)<br />&nbsp; &nbsp;Data Size: ¦&nbsp; 2024844 Bytes =&nbsp; 1.9 MB<br />&nbsp; &nbsp;Load Address: 81000000<br />&nbsp; &nbsp;Entry Point:&nbsp; 81000000<br />## Loading init Ramdisk from Legacy Image at 86000000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;cpio<br />&nbsp; ¦Image Type:&nbsp; &nbsp;ARM Linux RAMDisk Image (uncompressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 4612093 Bytes =&nbsp; 4.4 MB<br />&nbsp; &nbsp;Load Address: 00000000<br />&nbsp; &nbsp;Entry Point:&nbsp; 00000000<br />SFC : cs0 unrecognized JEDEC id 00ffffff, extended id 00000000<br />SFC: extend id 0x300<br />SFC: cs1 s25sl12800 (16384 Kbytes)<br />SFC: Detected s25sl12800 with page size 262144, total 16777216 bytes<br />Loading Kernel Image ... SFC: sfc_read flash offset 0x140094, len 0x1ee58c, memory buf 0x81000000<br />OK<br />OK</p><p>Starting kernel ...</p><p>Uncompressing Linux... done, booting the kernel.<br />Kernel Early-Debug on Level 0<br /> V: 0xF1100000 P: 0x00010100 S: 0x00001000 T: 0<br /> V: 0xF110E000 P: 0x0001010E S: 0x00001000 T: 0<br /> V: 0xF110F000 P: 0x0001010F S: 0x00001000 T: 0<br /> V: 0xF1104000 P: 0x00010104 S: 0x00001000 T: 0<br /> V: 0xF1180000 P: 0x00010180 S: 0x00002000 T: 0<br /> V: 0xF1400000 P: 0x00010400 S: 0x00001000 T: 12<br />early_init0000 P720x0001[arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_map_io&nbsp; &nbsp;223&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />smp_init_cpus&nbsp; &nbsp;163&nbsp; &nbsp; &nbsp;[arch/a{[Y+¦¦¦sd5115h-v100f/platsmp.c]<br />sd5115_gic_init_irq&nbsp; &nbsp; &nbsp;88&nbsp; &nbsp; &nbsp; [arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_timer_init&nbsp; &nbsp; &nbsp; &nbsp;471&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_clocksource_init 451&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />twd_base :<br />sd5115_timer_init&nbsp; &nbsp; &nbsp; &nbsp;491&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />smp_prepare_cpus&nbsp; &nbsp; &nbsp; &nbsp; 174&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/platsmp.c]<br />hi_kernel_wdt_init&nbsp; &nbsp; &nbsp; 207&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/hi_drv_wdt.c]<br />sd5115_init&nbsp; &nbsp; &nbsp;314&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_init&nbsp; &nbsp; &nbsp;320&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_init&nbsp; &nbsp; &nbsp;320&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_init&nbsp; &nbsp; &nbsp;327&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />sd5115_init&nbsp; &nbsp; &nbsp;330&nbsp; &nbsp; &nbsp;[arch/arm/mach-sd5115h-v100f/core.c]<br />Linux version 2.6.34.10_sd5115v100_wr4.3 (root@XXXXXXXXXXX) (gcc version 4.4.6 (GCC) ) #1 SMP Wed Jul 2 19:38:31 CST 2014<br />CPU: ARMv7 Pro¦essor [413fc090] ¦evision 0 (ARMv7), cr=10c53c7f<br />CPU: VIPT nonaliasing data cache, VIPT nonaliasing instruction cache<br />Machine: sd5115<br />Memory policy: ECC disabled, Data cache writealloc<br />sd5115 apb bus clk is 100000000<br />PERCPU: Embedded 7 pages/cpu @c04d9000 s4448 r8192 d16032 u65536<br />pcpu-alloc: s4448 r8192 d16032 u65536 alloc=16*4096<br />pcpu-alloc: [0] 0<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 28956<br />Kernel command line: noalign mem=114M console=ttyAMA1,115200 initrd=0x86000040,0x465ffd rdinit=/linuxrc mtdparts=hi_sfc:0x40000(startcode)ro,0x40000(bootA)ro,0x40000(bootB)ro,0x40000(flashcfg)ro,0x40000(slave_param)ro,0x200000(kernelA)ro,0x200000(kernelB)ro,0x480000(rootfsA)ro,0x480000(rootfsB)ro,0x180000(file_system),-(reserved)pcie1_sel=x1 maxcpus=0 user_debug=0x1f panic=1<br />PID hash table entries: 512 (order: -1, 2048 bytes)<br />Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)<br />Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Memory: 114MB = 114MB total<br />Memory: 107156k/107156k available, 9580k reserved, 0K highmem<br />Virtual kernel memory layout:<br />&nbsp; &nbsp; vector&nbsp; : 0xffff0000 - 0xffff1000&nbsp; &nbsp;(&nbsp; &nbsp;4 kB)<br />&nbsp; &nbsp; fixmap&nbsp; : 0xfff00000 - 0xfffe0000&nbsp; &nbsp;( 896 kB)<br />&nbsp; &nbsp; DMA&nbsp; &nbsp; &nbsp;: 0xffc00000 - 0xffe00000&nbsp; &nbsp;(&nbsp; &nbsp;2 MB)<br />&nbsp; &nbsp; vmalloc : 0xc7800000 - 0xd0000000&nbsp; &nbsp;( 136 MB)<br />&nbsp; &nbsp; lowmem&nbsp; : 0xc0000000 - 0xc7200000&nbsp; &nbsp;( 114 MB)<br />&nbsp; &nbsp; modules : 0xbf000000 - 0xc0000000&nbsp; &nbsp;(&nbsp; 16 MB)<br />&nbsp; &nbsp; &nbsp; .init : 0xc0008000 - 0xc002b000&nbsp; &nbsp;( 140 kB)<br />&nbsp; &nbsp; &nbsp; .text : 0xc002b000 - 0xc0396000&nbsp; &nbsp;(3500 kB)<br />&nbsp; &nbsp; &nbsp; .data : 0xc03aa000 - 0xc03c6640&nbsp; &nbsp;( 114 kB)<br />SLUB: Genslabs=11, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Noles=1<br />Hierarchical RCU implementation.<br />RCU-based detection of stalled CPUs is enabled.<br />NR_IRQS:160<br />Calibrating delay loop... 747.11 BogoMIPS (lpj=3735552)<br />Security Framework initialized<br />Mount-cache hash table entries: 512<br />CPU: Testing write buffer coherency: ok<br />Init trace_clock_cyc2ns: precalc_mult = 312500, precalc_shift = 8<br />Brought up 1 CPUs<br />SMP: Total of 1 processors activated (747.11 BogoMIPS).<br />hi_wdt: User-Mode!<br />hi_wdt: Init sucessfull!<br />NET: Registered protocol family 16<br />check_res_of_trace_clock: sched_clock() high resolution<br />Serial: dw&nbsp; uart driver<br />uart:0: ttyAMA0 at MMIO 0x1010e000 (irq = 77) is a AMBA/DW<br />uart:1: ttyAMA1 at MMIO 0x1010f000 (irq = 78) is a AMBA/DW<br />console [ttyAMA1] enabled<br />bio: create slab &lt;bio-0&gt; at 0<br />vgaarb: loaded<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />cfg80211: Calling CRDA to update world regulatory domain<br />Switching to clocksource timer1<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 128 (order: -3, 512 bytes)<br />TCP established hash table entries: 4096 (order: 3, 32768 bytes)<br />TCP bind hash table entries: 4096 (order: 3, 32768 bytes)<br />TCP: Hash tables configured (established 4096 bind 4096)<br />TCP reno registered<br />UDP hash table entries: 128 (order: 0, 4096 bytes)<br />UDP-Lite hash table entries: 128 (order: 0, 4096 bytes)<br />NET: Registered protocol family 1<br />RPC: Registered udp transport module.<br />RPC: Regis|ered tcp transport module.<br />RPC: Registered tcp NFSv4.1 backchannel transport module.<br />Trying to unpack rootfs image as initramfs...<br />Freeing initrd memory: 4504K<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />JFFS2 version 2.2. © 2001-2006 Red Hat, Inc.<br />msgmni has been set to 218<br />io scheduler noop registered<br />io scheduler deadline registered<br />io scheduler cfq registered (default)<br />brd: module loaded<br />mtdoops: mtd device (mtddev=name/number) must be supplied<br />Spi id table Version 1.22<br />Spi Flash Controller V300 Device Driver, Version 1.10<br />Spi(cs1) ID: 0x01 0x20 0x18 0x03 0x00 0x00<br />Spi(cs1): Block:256KB Chip:16MB (Name:S25FL128P-0)<br />Lock Spi ¦lash(cs1)!<br />Hisilicon flash: registering whole flash at once as master MTD<br />mtd: bad character after partition (p)<br />11 cmdlinepart partitions found on MTD device hi_sfc<br />Creating 11 MTD partitions on &quot;hi_sfc&quot;:<br />0x000000000000-0x000000040000 : &quot;startcode&quot;<br />0x000000040000-0x000000080000 : &quot;bootA&quot;<br />0x000000080000-0x0000000c0000 : &quot;bootB&quot;<br />0x0000000c0000-0x000000100000 : &quot;flashcfg&quot;<br />0x000000100000-0x000000140000 : &quot;slave_param&quot;<br />0x000000140000-0x000000340000 : &quot;kernelA&quot;<br />0x000000340000-0x000000540000 : &quot;kernelB&quot;<br />0x000000540000-0x0000009c0000 : &quot;rootfsA&quot;<br />0x0000009c0000-0x000000e40000 : &quot;rootfsB&quot;<br />0x000000e40000-0x000000fc0000 : &quot;file_system&quot;<br />0x000000fc0000-0x000001000000 : &quot;reserved&quot;<br />Special nand id table Version 1.33<br />Hisilicon Nand Flash Controller V301 Device Driver, Version 1.10<br />PPP generic driver version 2.4.2<br />PPP Deflate Compression module registered<br />PPP BSD Compression module registered<br />PPP MPPE Compression module registered<br />NET: Registered protocol family 24<br />SLIP: version 0.8.4-NET3.019-NEWTTY (dynamic channels, max=256) (6 bit encapsulation enabled).<br />CSLIP: code copyright 1989 Regents of the University of California.<br />SLIP linefill/keepalive option.<br />Netfilter messages via NETLINK v0.30.<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />arp_tables: (C) 2002 David S. Miller<br />TCP cubic registered<br />NET: Registered protocol family 17<br />Freeing init memory: 140K</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -=#&nbsp; DOPRA LINUX 1.0&nbsp; #=-<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -=#&nbsp; EchoLife WAP 0.1&nbsp; #=-<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -=#&nbsp; Huawei Technologies Co., Ltd #=-</p><p>mount file system<br />Loading the kernel modules:<br />Loading module: rng-core<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: nf_conntrack<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: xt_mark<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: xt_connmark<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: xt_MARK<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: xt_limit<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: xt_state<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: xt_tcpmss<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: nf_nat<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: ipt_MASQUERADE<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: ipt_REDIRECT<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: ipt_NETMAP<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: nf_conntrack_ipv4.ko<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Loading module: iptable_nat.ko<br />modprobe: chdir(2.6.34.10_sd5115v100_wr4.3): No such file or directory<br />Making device instances:<br />Setting console log message level:<br />Setting hostname:<br />Settingup the sysctl configurations:<br />Setting up interface lo:<br />Running local startup scripts.</p><p>*******************************************<br />--==&nbsp; &nbsp; &nbsp; &nbsp; Welcome To IAS WAP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;==--<br />--==&nbsp; &nbsp;Huawei Technologies Co., Ltd.&nbsp; &nbsp;==--<br />*******************************************<br />IAS WAP Ver:V800R013Cxxxxxxxxxxxxx<br />IAS WAP Timestamp:2014/06/30 16:18:00<br />*******************************************</p><p>Start init IAS WAP basic module ....<br />current lastword info:Add=0xc7a06000;max_num=300;Add1=0xc7a01000;Add2=0xc7a06000;Add3=0xc7a0b000;<br />Init IAS WAP basic module done!<br />soft lockup args:snap=150; release=50; dump flag=1;<br />Set kmsgread process pid to:92;<br />UBIFS error (pid 102): ubifs_get_sb: cannot open &quot;/dev/ubi0_13&quot;, error -22<br />mount: mounting /dev/ubi0_13 on /mnt/jffs2/ failed: Invalid argument<br />umount /mnt/jffs2<br />umount: can&#039;t umount /mnt/jffs2: Invalid argument<br />UBIFS error (pid 105): ubifs_get_sb: cannot open &quot;/dev/ubi0_13&quot;, error -22<br />mount: mounting /dev/ubi0_13 on /mnt/jffs2/ failed: Invalid argument<br />Mount nor jffs2 in 1.sdk_init...<br />fenghe.linux4.3<br />Get kernel version:2.6.34<br />Rootfs time stamp:2014-07-02_19:43:53<br />SVN label(ont):/etc/rc.d/rc.start/1.sdk_init.sh: line 50: can&#039;t create /proc/sys/vm/pagecache_ratio: nonexistent directory<br />User init start......<br />Loading the SD5115V100 modules:</p><p> SYSCTL module is installed</p><p> PIE module is installed</p><p> GPIO module is installed</p><p> SPI module is installed</p><p> I2C module is installed</p><p> DP module is installed</p><p> MDIO module is installed</p><p> TIMER module is installed</p><p> UART module is installed</p><p> HW module is installed<br />ifconfig eth0 hw ether xx:xx:xx:xx:xx<br />Loading the EchoLife WAP modules: LDSP<br />COMMON For LDSP Install Successfully...<br />cut kernel config<br />major-minor:10-58<br />mknod: /dev/hlp: File exists<br />GPIO For LDSP Install Successfully...<br />sh: 0: unknown operand</p><p> ------ SOC is 5115 S PILOT ------<br />&lt;ldsp&gt;board version is 5<br />&lt;ldsp&gt;pcb version is 0<br />&lt;ldsp&gt;orig board version is 5<br />CHIPADP-SD5115 BASIC For LDSP Install Successfully...<br />CHIPADP-SD5115 EXT For LDSP Install Successfully...<br />I2C For LDSP Install Successfully...<br />LSW L2 For LDSP Install Successfully...<br />LSW L3 For LDSP Install Successfully...<br />DEV For LDSP Install Successfully...<br />[DM]:ae_chip[0]=4,ae_chip[1]=255,ae_chip[2]=255,ae_chip[3]=0<br />[DM]:board_ver=5,pcb_ver=0<br />hw_dm_init_data successfully...</p><p> [ /mnt/jffs2/boardinfocustom.cfg not exsit ! not need deal.]<br />hw_dm_pdt_init successfully...<br />hw_feature_init begin...<br />hw_feature_proc_init begin...<br />hw_feature_data_init begin...<br />ac_cfgpath is not null,acTmpBuf=/etc/wap/customize/(ispname)_ft.cfg.....!<br />ac_hard_cfgpath is not null, acTmpBuf=/mnt/jffs2/hw_hardinfo_feature.bak.....!<br />ac_cfgpath is not null,acTmpBuf=/etc/wap/customize/spec_(ispname).cfg.....!<br />ac_hard_cfgpath is not null, acTmpBuf=/mnt/jffs2/hw_hardinfo_spec.bak.....!<br />hw_feature_init Successfully...<br />pots_num=0<br />ssid_num=0<br /> usb_num=0<br />hw_route=0<br />&nbsp; &nbsp;l3_ex=1<br />&nbsp; &nbsp; ipv6=0<br />Read MemInfo Des: 1118<br />SPI For LDSP Install Successfully...<br />UART For LDSP Install Successfully...<br />BATTERY For LDSP Install Successfully...<br />OPTIC For LDSP Install Successfully...<br />Unlock Spi Flash(cs1)!<br />PLOAM For LDSP Install Successfully...<br />GMAC For LDSP Install Successfully...<br />KEY For LDSP Install Successfully...<br />LED For LDSP Install Successfully...<br />RF For LDSP Install Successfully...<br />Loading BBSP L2 modules:<br />Lock Spi Flash(cs1)!<br />PTP For BBSP Install Successfully...<br />Unlock Spi Flash(cs1)!<br />hw_igmp_kernel Install Successfully...</p><p> dhcp_module_init load success !</p><p> pppoe_module_init load success !<br />hw_ringchk_kernel Install Successfully...<br />hw_portchk_kernel Install Successfully...<br />l2base For BBSP Install Successfully...<br />Pktdump init Install Successfully...</p><p> hw_cpu_usage_install<br />[ker_L2M_CTP] for bbsp Install Successfully...<br />EMAC For LDSP Install Successfully...<br />MPCP For LDSP Install Successfully...<br />Loading BBSP L2_extended modules:<br />hw_ethoam_kernel Install Successfully...<br />l2ext For BBSP Install Successfully...<br />Dosflt For BBSP Install Successfully...</p><p> vlanflt_module_init load success !<br />l3base for bbsp Install Successfully...<br />1.sdk_init.sh close core dump, flag=<br />Start ldsp_user...0<br />&lt;LDSP&gt; system has no slave space for bob<br />&lt;LDSP_CFG&gt; Set uiUpMode=1 [1:GPON,2:EPON,4:AUTO]<br />SD511X test self OK<br />Extern Lsw test self NoCheck<br />Optic test self OK<br />WIFI test self NoCheck<br />PHY[1] test self OK<br />PHY[2] test self OK<br />PHY[3] test self OK<br />PHY[4] test self OK<br />PHY[5] test self NoCheck<br />PHY[6] test self NoCheck</p><p>&nbsp; LINE = 202, FUNC = hi_kernel_i2c_burst_read_bytes<br /> read data is over time<br />&lt;LDSP&gt; common optic,the last i2c error is normal,donot worry</p><p>&lt;LDSP&gt; uiRet = 2 pcNodeName = Cfg1 Cmd = 20005000 Length = 10 Value = bed0f6b2<br />Lock Spi Flash(cs1)!<br /> GPON init success !<br />ssmp bbsp igmp amp ethoam omci<br />Start start pid=252; uiProcNum=6;<br />InitFrame omci; PID=256; state=0; 15.633;<br />InitFrame omci; PID=256; in state=0; 15.634;<br />InitFrame omci; PID=256; out state=0; 15.634;<br />InitFrame ssmp; PID=253; state=0; 15.768;<br />InitFrame ssmp; PID=253; in state=0; 15.769;<br />uiCfgAddr:c0000<br />&lt;db/hw_xml_dbmain.c:7713&gt;acChooseWord:NOCHOOSE UserChoiceFlag:-1 Updateflag:-1</p><p>InitFrame igmp; PID=257; state=0; 16.309;<br />InitFrame igmp; PID=257; in state=0; 16.309;<br />InitFrame igmp; PID=257; out state=0; 16.309;<br />InitFrame bbsp; PID=254; state=0; 16.324;<br />InitFrame bbsp; PID=254; in state=0; 16.324;<br />InitFrame bbsp; PID=254; out state=0; 16.326;<br />InitFrame ethoam; PID=258; state=0; 16.329;<br />InitFrame ethoam; PID=258; in state=0; 16.329;<br />InitFrame ethoam; PID=258; out state=0; 16.331;<br />InitFrame amp; PID=255; state=0; 16.539;<br />InitFrame amp; PID=255; in state=0; 16.540;<br />InitFrame amp; PID=255; out state=0; 16.541;<br />&lt;db/hw_xml_dbmain.c:8784&gt;acFilePath:/etc/wap/hw_aes_tree.xml pstRoot:0x0<br />&lt;db/hw_xml_dbmain.c:9068&gt;acFilePath:/etc/wap/hw_aes_tree.xml pstRoot:0x38322484<br />pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> pfFuncHandle ERR. uiRet:ffffffff;<br /> &lt;db/hw_xml_dbmain.c:7100&gt;[HW_XML_DBOnceSave] Set DB Auto Save in 12000 ticks.<br />Reset reason: normal!</p></blockquote></div><p>Serial port is definitively the one i told was not .<br />however , i was able to find TX and GND to receive the log , TX can only be where this next image shows , but somehow there must be a trick to activate the communication between serial port and cpu that i was unable to find yet .<br /><span class="postimg"><img src="http://s3.postimg.org/6iklipc37/update.jpg" alt="http://s3.postimg.org/6iklipc37/update.jpg" /></span></p><p>I can not play much with&nbsp; this device because i am using it .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333964">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">recycler</div>
					<div class="post-datetime">
						10 Aug 2016, 21:29					</div>
				</div>
				<div class="post-content content">
					<p>Normally you should just press reset on boot and wait for 10seconds while pressing reset.<br />This is the normal behaviour all such devices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333967">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">recycler</div>
					<div class="post-datetime">
						10 Aug 2016, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>To devide topics I write a second comment:<br />I have a H8012H productive and H8010H for testing.<br />H8012H is also locked by provider</p><p>Playing around with H8010H gives me a shell on GPON box, because it has never seen any provider.<br />The problem is, that there is a &quot;DOBRA&quot; Linux on it. You got a private shell, which is basically a shell wrapper.<br />Calling &quot;su&quot; needs a challenge, which is generated on the fly. In my mind this is for technicians to call the hotline.</p><p>Can you tell me, what tool you used for extracting SPI flash or you can provide the dump?<br />JTAG is also locked in my device.</p><p>Source Code of the HiSilicon Kernel is available, but you don&#039;t get the rest to build a linux system. Kernel Build was successfull with default settings on my side.<br />Next barrier is the signing of firmware. If you can get the key of the device or insert your key, it may be possible to have a own openwrt on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344393">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						22 Nov 2016, 02:26					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the delay on this , i did not come to here for a while .<br />To dump the firmware on S25FL128P i used flashcatusb interface :</p><p><a href="http://www.embeddedcomputers.net/products/FlashcatUSB/">http://www.embeddedcomputers.net/products/FlashcatUSB/</a><br />i followed the IC connections on here :<br /><a href="http://html.alldatasheet.com/html-pdf/210795/SPANSION/S25FL128P/3130/8/S25FL128P.html">http://html.alldatasheet.com/html-pdf/2 … L128P.html</a></p><p>and i connect accordingly in flashcatusb pins .</p><p>i used this tool to avoid soldering in the circuit board :<br /><a href="http://ouritec.pt/image/cache/catalog/SEMT0080514-228x228.jpg">http://ouritec.pt/image/cache/catalog/S … 28x228.jpg</a></p><p>I had to use an external 3,3v power source to feed the chip , for this i used my RPI here .<br />to extract the firmware just connect everything and connect also the additional 3,3v to the chip VCC &amp;GND , then activate flashcatusb and it will dump the chip firmware to a bin file .</p><p>To extract the bin file i used &quot;Firmware-mod-kit&quot; in linux .<br /> <a href="https://code.google.com/archive/p/firmware-mod-kit/">https://code.google.com/archive/p/firmware-mod-kit/</a><br /><strong><br />Last Note :</strong><br />To dump the firmware you must have the device disconnected from power source , you must power only the IC with the additional 3,3V power supply .<br />To write anything on this chip you must apply a 3,3v on WP pin of the IC , otherwise nothing will be written there .</p><p>Sorry for the delay and thank you for your interest on this subject .</p>											<p class="post-edited">(Last edited by <strong>pedropt</strong> on 22 Nov 2016, 23:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351140">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">recycler</div>
					<div class="post-datetime">
						5 Feb 2017, 13:27					</div>
				</div>
				<div class="post-content content">
					<p>Here is my update: I managed to get the data out of the memory.</p><p>For Hardware I used my bus pirate with &quot;flashrom&quot; under linux.</p><p>Just for completeness - my try and error procedure:<br />First try was to read during running Linux. But if there is an access by kernel, the procedure is interrupted and flash can&#039;t be read (yes it is a really dirty way).<br />Second try was to short data line from flash on startup (boodloader). The bootloader enters a recovery mode and there is no more access to it by bootloader. My bootloader didn&#039;t have the developer routines for flash compiled in, so I used flashrom to to dump it. Binwalk made the rest.</p><p>The third option, would be to desolder the chip, but second method (in circuit dumping) worked for me.</p><p>Forth option would be to put system in bootloader recovery mode (see method 2) and then use flash routines to read it and dump it to tfp server.</p><p>Next step is to relocate the console from DOBRA custom console to bash or to patch the custom console to accept any access code for real super user.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p375234">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">klauz</div>
					<div class="post-datetime">
						7 Apr 2018, 19:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi PedroPT</p><p>Can you please upload the FW you downloaded from the HG8012H?<br />I&#039;d like to take a look.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>