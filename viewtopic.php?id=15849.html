<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cramming for space on a WRT54GL</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Feb 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p68962">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">p00ya</div>
					<div class="post-datetime">
						31 May 2008, 03:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m trying to get OpenVPN going on my WRT54GL, but I&#039;m having some issues fitting it and its dependencies (well, mostly libopenssl) on.</p><p>I figured I might be able to save some space by putting libopenssl onto squashfs, but the image I built doesn&#039;t allow the initial telnet connection (with or without pushing buttons at startup for failsafe).&nbsp; The device doesn&#039;t respond to ARP after it gets over the bootloaders (the DMZ light turns off).&nbsp; I&#039;m assuming something is breaking, and it&#039;s because there is some limit on the size of the squashfs image.&nbsp; However, I didn&#039;t see any mentions of such a limit on the wiki.&nbsp; The .bin is 2232352 octets, which I figure should fit on the 4MB of flash on the WRT54GL.&nbsp; Rebuilding with CONFIG_PACKAGE_libopenssl=m creates an image that works fine.</p><p>What&#039;s happening here?&nbsp; Am I meant to configure the size of the JFFS root somewhere to make room?&nbsp; Or is there some magic limit on squashfs sizes other than the 4MiB flash limit?</p><p>If the &quot;trying-to-compress-it-by-using-squashfs&quot; method is inherently flawed, my other idea was to create a tmpfs (or equivalent) partition to utilise the much-more-plentiful RAM, extract the libopenssl ipkg there at boottime and union it to the root.&nbsp; Is this a viable method, and if so, are there any examples/documentation of something similar?</p><p>If all else fails I could look at a different VPN server, or try to port OpenVPN to matrixssl.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>