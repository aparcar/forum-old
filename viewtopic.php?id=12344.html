<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ether-wake for brcm-2.4</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p54964">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Sonic</div>
					<div class="post-datetime">
						2 Sep 2007, 23:53					</div>
				</div>
				<div class="post-content content">
					<p>Where can I find ether-wake package for brcm-2.4 ?<br />It seems the whiterussian version doesn&#039;t work on kamikaze.<br />I can wake up pc only with ether-wake, I havn&#039;t<br />problem, so if anyone have an ether-wake for kamikaze, come on !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p55059">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						4 Sep 2007, 12:53					</div>
				</div>
				<div class="post-content content">
					<p>Recompile busybox to include ether-wake ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56818">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Sonic</div>
					<div class="post-datetime">
						1 Oct 2007, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>weird, now I can successfully wake up my pc as described <a href="http://wiki.openwrt.org/OpenWrtDocs/Packages#head-68f64f5517bfb3f9f0395726f84edec253afcc73">http://wiki.openwrt.org/OpenWrtDocs/Pac â€¦ c253afcc73</a> using wol.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56824">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						1 Oct 2007, 20:04					</div>
				</div>
				<div class="post-content content">
					<p>Or use the wol package. WOL can be configured using UCI.</p><p>Install WOL package:</p><div class="codebox"><pre><code>ipkg install wol</code></pre></div><p>Configure WOL:</p><div class="codebox"><pre><code>uci set wol.cfg1.mac=11:22:33:44:55:66
uci set wol.cfg1.enabled=1
uci commit wol</code></pre></div><p>Add a second computer to wakeup via WOL</p><div class="codebox"><pre><code>uci set wol.cfg2=wol-target
uci set wol.cfg2.mac=aa:bb:cc:dd:ee:ff
uci set wol.cfg2.enabled=1
uci commit wol</code></pre></div><p>Show the WOL configuration:</p><div class="codebox"><pre><code>uci show wol

wol.cfg1=wol-target
wol.cfg1.mac=11:22:33:44:55:66
wol.cfg1.enabled=1
wol.cfg2=wol-target
wol.cfg2.mac=aa:bb:cc:dd:ee:ff
wol.cfg2.enabled=1</code></pre></div><p>Delete the second configuration</p><div class="codebox"><pre><code>uci del wol.cfg2
uci commit wol</code></pre></div><p>Test wol (tested with my Notebook running Feisty Fawn):</p><div class="codebox"><pre><code>sleep 60 &amp;&amp; /etc/init.d/wol start &amp;</code></pre></div><p>Have fun <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 1 Oct 2007, 20:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56827">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						1 Oct 2007, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>Can someone provide a Kamikaze package of ether-wake?</p><p>This would help several people who needs it to switch from WR to Kamikaze.</p><p>Regards<br />Maddes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56839">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">kebul</div>
					<div class="post-datetime">
						1 Oct 2007, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>I have added the ticket <a href="https://dev.openwrt.org/ticket/2460">2460</a>.<br />Maybe forum2006 could equip it with his nice UCI config and scripts. :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56841">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Sonic</div>
					<div class="post-datetime">
						1 Oct 2007, 23:32					</div>
				</div>
				<div class="post-content content">
					<p>@maddes.b: Use </p><div class="codebox"><pre><code>wol -p 65535 -h 192.168.x.255 x:x:x:x:x:x</code></pre></div><p>instead ether-wake for the moment ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56844">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						1 Oct 2007, 23:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Sonic wrote:</cite><blockquote><p>@maddes.b: Use </p><div class="codebox"><pre><code>wol -p 65535 -h 192.168.x.255 x:x:x:x:x:x</code></pre></div><p>instead ether-wake for the moment ...</p></blockquote></div><p>This can be done with UCI. Looking into the <a href="https://dev.openwrt.org/browser/packages/net/wol/files/wol.init">/etc/init.d/wol</a> init script tells you that these parameters can be configured in /etc/config/wol using UCI and are used by the init script.</p><p>So, do:</p><div class="codebox"><pre><code>uci set wol.cfg1.mac=x:x:x:x:x:x
uci set wol.cfg1.broadcast=192.168.x.255
uci set wol.cfg1.port=65535
uci set wol.cfg1.enabled=1
uci commit wol</code></pre></div>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 2 Oct 2007, 00:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56897">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						2 Oct 2007, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>#1 ether-wake<br />I need ether-wake because one router is giving me headaches when using wol with IP packages. Hence I still use WR 0.9 on the hardware.</p><p>#2 wol via uci<br />As of now I couldn&#039;t get Kamikaze to run in a VM, so I have no experience with it yet.<br />In my case I wake-up the server only when I need it, and not when the router reboots.<br />Therefore some questions:<br />a) As an init script it is executed on the router&#039;s startup, how can I disable it for the router&#039;s startup? Runlevels?<br />b) How can I use the uci config while the router is running? Is there an invoke-rc.d? Or can I use &quot;wol --cfg=&lt;cfg name/number&gt;&quot;?</p><p>Thanks for all your info<br />Maddes</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>