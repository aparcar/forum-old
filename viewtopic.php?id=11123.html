<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Howto execute custom binary?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50216">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cyberjunk</div>
					<div class="post-datetime">
						11 Jun 2007, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>hey,</p><p>I&#039;m just trying to figure out how to run a custom binary on my i386 openwrt machine running kamikaze 7.06...<br />For testing I compiled a simple hello.c world prog on my debian x86 linux, copied it with wget to my openwrt machine and made it executable with &quot;chmod +x filename&quot;...</p><p>But I can&#039;t run it... whenever I try &quot;./filename&quot;, it says <br />&quot;/bin/ash: ./filename: not found&quot;</p><p>on my debian linux &quot;./filename&quot; works as expected</p><p>What is missing?<br />thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50220">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">openwrt</div>
					<div class="post-datetime">
						11 Jun 2007, 13:04					</div>
				</div>
				<div class="post-content content">
					<p>are you root?<br />if not search the forum for &quot;setuid&quot;. maybe that helps.<br />bye</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50221">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						11 Jun 2007, 13:10					</div>
				</div>
				<div class="post-content content">
					<p>you have to cross-compile your program. use the buildsystem to do cross-compiling and it&#039;ll work...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50222">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">cyberjunk</div>
					<div class="post-datetime">
						11 Jun 2007, 13:13					</div>
				</div>
				<div class="post-content content">
					<p>thanks for your reply.</p><p>well yes, I am root. I&#039;m actually trying this on the console...</p><p>Command:<br />root@OpenWrt:/usr/sbin# ./hello</p><p>ls -la hello:<br />-rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7013 Jun 11 11:03 hello</p><br /><p>any more ideas? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50223">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">cyberjunk</div>
					<div class="post-datetime">
						11 Jun 2007, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>yeah, I read about cross-compiling, I just can&#039;t figure out why I have to do it in this case?<br />I mean, if I compile it on a x86 debian linux, why can&#039;t I use this binary on my openwrt x86 system?<br />Of course I have to cross-compile if I want the binary to run on a mipsel router for example.... but x86?</p><p>Actually I&#039;m just trying to find another way to create ipk packages. My idea was:<br />I noticed that ipk packages are nearly equal to debian packages except the compression method, and that many ipkg packages contain a precompiled binary. So I just thought about grabbing an available mipsel package and replacing the mipsel binary with an available binary from a ..._i386.deb package, or to cut down the size of the debian packages and rebuild them as ipk packages. Well I have already done this, ipkg install is doing fine... unfortunately I cannot execute the binary...</p><p>See this link:<br /><a href="http://www.intrinsyc.com/support/i-linux/405-cube/packages/debianpackages.htm">http://www.intrinsyc.com/support/i-linu â€¦ ckages.htm</a> </p><p>So I tried it with a simple hello world prog that I compiled on my debian x86, copied it and well, I can&#039;t run it also.</p><p>Can someone please explain this to me? So I&#039;m absolutely wrong with my idea?<br />actually the ipkg also contain precompiled binaries..</p><p>thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50224">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						11 Jun 2007, 13:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyberjunk wrote:</cite><blockquote><p>yeah, I read about cross-compiling, I just can&#039;t figure out why I have to do it in this case?<br />I mean, if I compile it on a x86 debian linux, why can&#039;t I use this binary on my openwrt x86 system?</p></blockquote></div><p>simple. x86 debian is glibc based. openwrt uses uclibc -&gt; binaries are not compatible.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50227">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">boomer</div>
					<div class="post-datetime">
						11 Jun 2007, 15:07					</div>
				</div>
				<div class="post-content content">
					<p>Forum2006 is right..<br />One more way (without any practical sense) is to build the executable with all required libraries statically linked using debian Linux gcc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50231">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">cyberjunk</div>
					<div class="post-datetime">
						11 Jun 2007, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>Ok, thanks a lot.</p><p>I&#039;ve downloaded the SDK and I&#039;m playing around with it a bit... can&#039;t get the helloworld sample from the wiki run yet..</p><p>Actually my goal is to create a asterisk, vpnc and openvpn x86 package.<br />I noticed that there are already makefiles for them:<br /><a href="https://dev.openwrt.org/browser/packages/net/openvpn">https://dev.openwrt.org/browser/packages/net/openvpn</a></p><p>So what do I have to do to build them from svn? Where to put the downloaded openvpn sources?<br />Is this an &quot;easy&quot; task, or is there much more to do than putting the right files together and run a command to compile it?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>