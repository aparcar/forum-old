<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> compFUSEd - compressed filesystem (for external USB sticks) - problems</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 10 Feb 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p19261">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						18 Jan 2006, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>As I want to replace PC Samba servers (in small offices) with OpenWRT (on ASUS Deluxe), I thought it would be economically viable to use some sort of a compressed filesystem on an external USB stick.</p><p>Since there is none &quot;native&quot; compressed filesystem for Linux (besides jffs2 for flash/mtd), I thought I would try with some of the FUSE &quot;compressed&quot; filesystems.</p><p>There are three FUSE &quot;compressed&quot; filesystem, I can&#039;t compile any of them for OpenWRT.</p><p>The compilation breaks for all of them with &#039;error: parse error before &quot;fuse_fill_dir_t&quot;&#039; (see below - failed compilation of CompFUSEd from <a href="http://parallel.vub.ac.be/~johan/compFUSEd/">http://parallel.vub.ac.be/~johan/compFUSEd/</a> ).</p><p>Has anyone any experience with FUSE on OpenWRT, an perhaps can point what is wrong?</p><p># make<br />/home/data/wrt54/svn/white/openwrt/staging_dir_mipsel/mipsel-linux-uclibc/bin/gcc -o cf_main cf_main.c cf_file.o cf_map.o cf_config.o cf_compression.o cf_log.o -g&nbsp; -Wall -g -D_FILE_OFFSET_BITS=64 -lfuse -lz -llzo -lbz2<br />cf_main.c:119: error: parse error before &quot;fuse_fill_dir_t&quot;<br />cf_main.c: In function `cf_readdir&#039;:<br />cf_main.c:122: error: `fi&#039; undeclared (first use in this function)<br />cf_main.c:122: error: (Each undeclared identifier is reported only once<br />cf_main.c:122: error: for each function it appears in.) <br />(...)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19458">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">d1mag</div>
					<div class="post-datetime">
						20 Jan 2006, 23:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mangoo wrote:</cite><blockquote><p>Has anyone any experience with FUSE on OpenWRT, an perhaps can point what is wrong?</p></blockquote></div><p>I have compiled and used owfs with success. (which use fuse)<br />Look at the compilation flags etc. that I have used for owfs. It might also help if you install my fuse-package 2.4.1 which should work very good.</p><p>I think you have some problem with compFUSEd required fuse-version.</p><p>You find my packages and sources at:<br /><a href="http://home.mag.cx/openwrt/packages/">http://home.mag.cx/openwrt/packages/</a><br /><a href="http://home.mag.cx/openwrt/source/">http://home.mag.cx/openwrt/source/</a></p><p>/Christian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19461">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						21 Jan 2006, 00:12					</div>
				</div>
				<div class="post-content content">
					<p>It appeared that compFUSEd needs fuse 2.4.1, and the one shipped with whiterussian is 2.2.1.</p><p>After compiling newer fuse I was able to get this to work.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>