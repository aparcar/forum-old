<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> intel x386 version of openwrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p14365">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rjain</div>
					<div class="post-datetime">
						27 Oct 2005, 09:54					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone compiled an intel x386 version of openwrt ? If yes, this will save me a lot of time and repeat effort....</p><p>I gave it an attempt by using mips based .config file and changing the mips references to i386. However, Linux kernel build fails to compile due to undefined symbols related to nvram.</p><p>My ultimate goal is to run openwrt under an x386 virtual machine (under VMWare etc) to simplify development and testing for people using openwrt. Again, if someone has already successfully made it happen, please let me know</p><p>Thanks,<br />Rahul</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14370">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cabo</div>
					<div class="post-datetime">
						27 Oct 2005, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>May be this will help<br /><a href="http://wiki.openwrt.org/SoekrisPort">http://wiki.openwrt.org/SoekrisPort</a><br />The Soekris boards use a x68 based CPU<br /><a href="http://www.amd.com/us-en/ConnectivitySolutions/ProductInformation/0,,50_2330_9863_10524,00.html">http://www.amd.com/us-en/ConnectivitySo … 24,00.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14376">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">fckc</div>
					<div class="post-datetime">
						27 Oct 2005, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>I tried this <a href="http://downloads.openwrt.org/people/nico/experimental/x86/">http://downloads.openwrt.org/people/nic … ental/x86/</a> and followed SoekrisPort instructions, it worked very well on generic desktop PC.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14377">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						27 Oct 2005, 13:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fckc wrote:</cite><blockquote><p>[..] , it worked very well on generic desktop PC.</p></blockquote></div><p>That&#039;s very interesting, I never tried this before.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14670">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rjain</div>
					<div class="post-datetime">
						2 Nov 2005, 01:25					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the suggestions; however I can never get past &quot;Uncompressing the kernel; booting&quot; prompt when using VmWare. I am suspecting something to do with console at the moment.</p><p>Does OpenWrt kernel available as part of Soekris port work on a regular terminal, or does it *need* a serial interface to display bootup messages ?</p><p>The VmWare boot environment does not have serial line interface, could that be a reason that the bootup process is stuck?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14783">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Setsquare</div>
					<div class="post-datetime">
						3 Nov 2005, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone tried this on a routerboard 230 or WRAP yet ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14808">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">fckc</div>
					<div class="post-datetime">
						4 Nov 2005, 12:10					</div>
				</div>
				<div class="post-content content">
					<p>Tried earlier build on WRAP, boot without problem, will try again with latest build whenever I can get hold of the board again, maybe on RB230 too when all the required parts are available.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15356">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">fork</div>
					<div class="post-datetime">
						14 Nov 2005, 08:18					</div>
				</div>
				<div class="post-content content">
					<p>I tried on desktop pc&nbsp; fllowed <a href="http://wiki.openwrt.org/SoekrisPort">http://wiki.openwrt.org/SoekrisPort</a> instructions,but <br />prompt &quot;VFS: cannot open root device &#039;&#039; or 03:06 please append&nbsp; a correct root= option kernel panic....&quot; (i use SoekrisPort kernel, support&nbsp; &nbsp;mtd and jffs2)<br />&nbsp; please help me.thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15358">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						14 Nov 2005, 10:11					</div>
				</div>
				<div class="post-content content">
					<p>The images have built-in support for a minimal set of IDE chipsets. What is yours ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15426">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">fckc</div>
					<div class="post-datetime">
						15 Nov 2005, 08:57					</div>
				</div>
				<div class="post-content content">
					<p>build r2392 found at <a href="http://downloads.openwrt.org/people/nico/testing/x86-2.6/">http://downloads.openwrt.org/people/nic … g/x86-2.6/</a> is not compatible with packages at <a href="http://downloads.openwrt.org/people/nico/testing/x86-2.6/packages/">http://downloads.openwrt.org/people/nic … /packages/</a>, similarly for 2.4 build. Here is example of 2.6 problem:</p><p>---<br />root@OpenWrt:/# ipkg install <a href="http://downloads.openwrt.org/people/nico/testing/x86-2.6/packages/kmod-usb-core_2.6.12.5-x86-1_i386.ipk">http://downloads.openwrt.org/people/nic … 1_i386.ipk</a><br />Downloading <a href="http://downloads.openwrt.org/people/nico/testing/x86-2.6/packages/kmod-usb-core_2.6.12.5-x86-1_i386.ipk">http://downloads.openwrt.org/people/nic … 1_i386.ipk</a><br />Installing kmod-usb-core (2.6.12.5-x86-1) to root...<br />Nothing to be done<br />An error ocurred, return value: 1.<br />Collected errors:<br />ERROR: Cannot satisfy the following dependencies for kmod-usb-core:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kernel-2.6.12.5-x86 (1)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15428">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						15 Nov 2005, 10:24					</div>
				</div>
				<div class="post-content content">
					<p>The build is complete, but all kernel modules have a wrong dependency on a virtual kernel package that is provided by the image, but with a wrong version.<br />You can install the kernel modules with ipkg -force-depends until the problem is solved.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15609">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						17 Nov 2005, 06:03					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m quite interested in the x86 version.&nbsp; I know still early days - it&#039;s still at the hacker stage, but if I may make a suggestion for the future.&nbsp; It would be really good if the makefile for the x86 version could spit out ready-to-flash image files, rather than having to mount thef flash card under Linux, manually format it, install the bootloader and the kernel.&nbsp; This would make it possible for non-linux users to be able to take a premade image file and use a windows app like <a href="http://www.m0n0.ch/wall/physdiskwrite.php">physdiskwrite</a> to install it to a flash card.&nbsp; The makefile could even create a bootable CDROM ISO image from the final root filesystem.&nbsp; I can see a lot of potential uses from being able to boot OpenWRT off a CD.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37931">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">thedan</div>
					<div class="post-datetime">
						28 Nov 2006, 05:50					</div>
				</div>
				<div class="post-content content">
					<p>I have been looking for an operating system distribution for WRAP devices with a nice web-based configuration interface and the possibility of OLSR (mesh networking) support. OpenWRT appears to fit the bill perfectly.</p><p>I have been attempting to get OpenWRT working on WRAP 1E (2 ethernet interfaces) and WRAP 2E (1 ethernet interface), each currently with 1 wireless interface.</p><p>I have tried a number of methods to get it working:<br />1. Compiling the the latest trunk from source<br />2. Using the Image Builder from <a href="http://downloads.openwrt.org/people/nico/testing/x86-2.6/">Nico&#039;s</a> testing downloads area<br />3. Using the pre-created image/kernel from Nico&#039;s testing downloads area.</p><p>I used the <a href="http://wiki.openwrt.org/ImageBuilderHowTo">Image Builder HowTo</a> and the <a href="http://wiki.openwrt.org/SoekrisPort">Soekris Port</a> page, but all to no avail.</p><p>Currently, I am getting a kernel panic similar to fork&#039;s, above. I am using the same menu.lst as shown in the SoekrisPort page with the boot=bios option. The kernel output appears to imply that the ide chipset has been detected.</p><p>Any advice would be appreciated. In essence I am trying to determine the quickest means of getting OpenWRT+OLSR+webif working on these WRAP boards.</p><p><strong>Edit:</strong> I am getting a blkmtd error (missing &#039;device&#039; name)...</p><p><strong>Edit:</strong> I have managed to work thorugh this issue, although of course there is no webif in trunk atm :-(</p>											<p class="post-edited">(Last edited by <strong>thedan</strong> on 29 Nov 2006, 08:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38098">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						30 Nov 2006, 13:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi, thedan.</p><p>I have a wrap 1e-2e(3 eth port, 1 minipci) and a wrap 2e-e(1 eth port, 2 minipci). <br />OpenWRT x86[2.6] made from kamikaze build-root works well on both boards.</p><p>I followed the instruction on wiki.<br /><a href="http://wiki.openwrt.org/SoekrisPort">http://wiki.openwrt.org/SoekrisPort</a><br />In my case,<br />1. I couldn&#039;t install openwrt-x86-2.6-xxxx.image(containing grub) into CompactFlash. I tried and tried, but ...<br />2. Partioning by hand and installing jffs2 rootfs went well. But booting failed. Maybe I made a something wrong ...<br />3. Partioning by hand and installing ext2 rootfs went well. And it booted successfully. It works now.</p><p>I used 128MB CF card, but maybe this is not the point, I think.</p><p>I am also interested in working mesh router on x86 boards.<br />I wish you all the best.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38348">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">thedan</div>
					<div class="post-datetime">
						5 Dec 2006, 10:27					</div>
				</div>
				<div class="post-content content">
					<p>yapoo, I ended up having the same experience as you (prior to reading your post).</p><p>Does anyone know if OpenWRT WhiteRussian could be coerced to function on x86? I assume not, but I figured it might be worth asking since I need X-Wrt functionality.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38360">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">mathias</div>
					<div class="post-datetime">
						5 Dec 2006, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>I compiled kamikaze myself to get an x86 image for my WRAP. Works really fine so far! My Images and IPKs are currently at &lt;I&#039;M TOO LAME TO READ THE RULES&gt;</p>											<p class="post-edited">(Last edited by <strong>Kaloz</strong> on 5 Dec 2006, 16:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p41721">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">blfc</div>
					<div class="post-datetime">
						28 Jan 2007, 21:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>thedan wrote:</cite><blockquote><p>Currently, I am getting a kernel panic similar to fork&#039;s, above. I am using the same menu.lst as shown in the SoekrisPort page with the boot=bios option. The kernel output appears to imply that the ide chipset has been detected.</p><p><strong>Edit:</strong> I am getting a blkmtd error (missing &#039;device&#039; name)...</p><p><strong>Edit:</strong> I have managed to work thorugh this issue, although of course there is no webif in trunk atm :-(</p></blockquote></div><p>Hello thedan</p><p>HOW did you managed to work through this issue? I am still receiving the blkmtd error :-( </p><p>Here is my kernel command line (per Soekris Port page):</p><p>Kernel command line: block2mtd.block2mtd=/dev/hda2 root=/dev/mtdblock0 rootfstype=jffs2 init=/etc/preinit noinitrd console=ttyS0,38400 reboot=bios<br />Unknown boot option `block2mtd.block2mtd=/dev/hda2&#039;: ignoring</p><p>I&#039;ve also tried with <br />block2mtd=/dev/hda2 <br />block2mtd.blockmtd=/dev/hda2<br />blockmtd=/dev/hda2<br />all without success</p><p>The IDE chip seems to be detected:</p><p>[...]<br />RAMDISK driver initialized: 16 RAM disks of 4096K size 1024 blocksize <br />Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2 <br />ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx <br />SC1200: IDE controller at PCI slot 0000:00:12.2&nbsp; <br />SC1200: chipset revision 1<br />SC1200: not 100% native mode: will probe irqs later <br />&nbsp; &nbsp; ide0: BM-DMA at 0xfc00-0xfc07, BIOS settings: hda:pio, hdb:pio <br />&nbsp; &nbsp; ide1: BM-DMA at 0xfc08-0xfc0f, BIOS settings: hdc:pio, hdd:pio <br />hda: LEXAR ATA FLASH, CFA DISK drive <br />SC1200: set xfer mode failure <br />ide0 at 0x1f0-0x1f7,0x3f6 on irq 14 <br />hda: max request size: 128KiB <br />hda: 16064 sectors (8 MB) w/1KiB Cache, CHS=251/2/32&nbsp; <br />hda: cache flushes not supported <br /> /dev/ide/host0/bus0/target0/lun0: p1 p2 <br />blkmtd: version $Revision: 1.24 $ <br />blkmtd: error: missing `device&#039; name<br />[...]<br />VFS: Cannot open root device &quot;mtdblock0&quot; or unknown-block(0,0)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Please append a correct &quot;root=&quot; boot option&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p><p>I am using the x86-2.6 nico&#039;s testing package on a WRAP1E1 with 2 LAN, 2 minipci slots. </p><p>Any help, FAQs, even pointers to RTFM would be greatelly appreciated</p><p>Cheers,<br />!3runo</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>