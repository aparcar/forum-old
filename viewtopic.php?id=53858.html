<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Installed wrong OpenWrt - How can I fix my router ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p253513">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">routergod</div>
					<div class="post-datetime">
						7 Nov 2014, 12:09					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve installed OpenWrt 12.09 (/attitude_adjustment/12.09/brcm47xx/generic/openwrt-wrt54g-squashfs.bin) on a Linksys WRT54GL v1.1 yesterday. Soon I realised that this was a mistake and that the router doesn&#039;t run properly anymore. I can only hardly access the webinterface because it is so slow. So I tried it with SSH which works but is also slow. I downloaded with wget an older firmware version into the /tmp folder and tried it to install with sysupgrade -v. Without any success. The upgrade just stops and after a few minuts I get an error warning from Putty.<br />I really need to fix this router, so I ask if anybody could tell me how I can install another firmware on this router.</p><p>PS: I also tried it with several FTP Tools to flash a new firmware.</p><p>Regards and thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253528">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">dem</div>
					<div class="post-datetime">
						7 Nov 2014, 14:23					</div>
				</div>
				<div class="post-content content">
					<p>I can&#039;t help but think your account name &quot;routergod&quot; is somewhat ironic considering the situation you find yourself in,&nbsp; unless of course you&#039;re the router god of death.&nbsp; Anyway I digress and I do not wish to anger the gods&nbsp; <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>So have you read <a href="http://wiki.openwrt.org/toh/linksys/wrt54g">http://wiki.openwrt.org/toh/linksys/wrt54g</a> in particular the &quot;Using the TFTP method&quot; section.&nbsp; I think that&#039;s probably your best bet to change the firmware.&nbsp; &nbsp;Due to the limited resources (4MB flash) of this model router and the lack of reliable open source wifi support, it doesn&#039;t look like a great candidate for Openwrt.</p><br /><br /><p>When you say you tried several FTP tools do you mean TFTP or just FTP?</p><p>Post some more details so people can help you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253535">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">routergod</div>
					<div class="post-datetime">
						7 Nov 2014, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>Yes, you got it. I am the router god of death <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /></p><p>Now to the part with the TFTP tools. I&#039;ve set in the nvram the variables &quot;nvram set boot_wait=on&quot;<br />&quot;nvram set boot_time=10&quot; and &quot;nvram set wait_time=10&quot;. After that I connected my router directly to a Windows 8 PC and gave it a static IP. Then I started for example the tool tftp32 and configured it as TFTP client and set host address (router IP), server interface (my ip) and local file (.bin file). Then I plug in the power into the router and click immediatly &quot;put&quot; in the tool. An then nothing happens.</p><p>I am trying now to flash the original Linksys firmware.</p><p>Am I doing this the right way ? Can you recommend me another /&nbsp; a better tool ?</p><p>Thank you ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253610">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dem</div>
					<div class="post-datetime">
						8 Nov 2014, 14:10					</div>
				</div>
				<div class="post-content content">
					<p>Okay let&#039;s check a few things.</p><p>What IP address are you using for your Windows 8 PC and for the router?</p><p>Normally it should be 192.168.1.1 for the router but not always.</p><p>There&#039;s always the possibility of Windows 8 firewall blocking connections or a different IP address in use.</p><p>Check you can ping the router on 192.168.1.1 whilst booting&nbsp; :</p><p>Before the router boots run &quot;cmd&quot; on Windows and start &quot;ping 192.168.1.1 -t&quot;.&nbsp; &nbsp;Boot the router and see if you get any ping responses.&nbsp; &nbsp;If you don&#039;t get any, check your PC ip address, disable Windows 8 firewall and check your Ethernet cable and try again.&nbsp; &nbsp;If you still have nothing the router may be using a different IP address and subnet mask.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253797">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">routergod</div>
					<div class="post-datetime">
						10 Nov 2014, 09:08					</div>
				</div>
				<div class="post-content content">
					<p>I assigned the router the IP 172.22.0.1/24 and my PC the IP 172.22.0.10/24. I think this should work. If I &quot;ping -t&quot; the router during the boot, it takes about 20-30 seconds until I get a response. I&#039;m going to test the TFTP tool once more with deactivated firewall but I don&#039;t think this will make any difference.</p><p>Allthough thanks for your help <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253813">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">makro</div>
					<div class="post-datetime">
						10 Nov 2014, 11:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>routergod wrote:</cite><blockquote><p>I assigned the router the IP 172.22.0.1/24 and my PC the IP 172.22.0.10/24. I think this should work.</p></blockquote></div><p>Not for TFTP recovery. The IP address you have configured will only be used when the firmware has booted (partially) successfully. If you brick your router and render it unbootable, it will never have 172.22.0.1 on any interface, because the firmware never boots and configures the network interfaces with the values you have chosen.</p><p>The TFTP recovery mechanism is built into the bootloader, and its configuration values (where the IP address is of interest) are hardcoded. You can&#039;t change the values without modifying the bootloader. For your router I think it&#039;s either 192.168.1.1 or 192.168.1.11.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253817">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dem</div>
					<div class="post-datetime">
						10 Nov 2014, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Makro.&nbsp; &nbsp; You&#039;re try to ping the bootloader to test for correct IP configuration for the tftp upload.&nbsp; &nbsp;You&#039;d normally only get a couple of ping replies prior to it booting.&nbsp; &nbsp;This is the window that you have to upload the different firmware via tftp.<br />It is very important that you use the predefined IP address.</p><p>If you get a reply from 192.168.1.1 then you know you have the correct IP address for your router.&nbsp; &nbsp;Off course you will have to statically configure your Windows 8 IP address on that same network beforehand&nbsp; eg&nbsp; &nbsp;192.168.1.2&nbsp; with netmask of 255.255.255.0</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253827">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">routergod</div>
					<div class="post-datetime">
						10 Nov 2014, 14:41					</div>
				</div>
				<div class="post-content content">
					<p>Thank you both very much <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> I tried it with the 192.168.1.1 IP in the TFTP tool and assigned my PC the IP 192.168.1.10. <br />The update worked fine at the first try. This was actually an obvious mistake but I wouldn&#039;t have fixed it by myself.</p><p>So thank you once again.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>