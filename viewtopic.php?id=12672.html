<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear WGT624/D-Link DWL-2100AP unbricking - building .elf boot files</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p56319">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xga</div>
					<div class="post-datetime">
						23 Sep 2007, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi Guys,</p><p>I have a bricked Netgear WGT634 V2 which I am wanting to unbrick and then try running OpenWRT / Kamikaze on it.</p><p>The specs of my WGT624 are :-</p><p>CPU :</p><p>ATHEROS<br />AR2313A-00<br />BA16185B<br />0604<br />TAIWAN</p><br /><p>FLASH :</p><p>MX 8042072<br />29LV160ABTC-90<br />2J334400<br />TAIWAN</p><br /><p>RAM : </p><p>SAMSUNG&nbsp; &nbsp; 419<br />K4S281632F-TC75<br />16 WQC4598A</p><br /><p>SWITCH CHIPSET :</p><p>(STICKER)<br />U12H023T00<br />41000180-01</p><p>(CHIP)<br />88E6060-RCJ<br />A17567.4<br />0408 B00<br />TAIWAN</p><br /><p>PCB BOARD :</p><p>U12H018<br />REV.1<br />19.1686.01</p><br /><p>First thing I did was build a serial interface so that I could connect to the console.&nbsp; Upon the WGT624 booting, all I got through the serial console was :-</p><div class="quotebox"><blockquote><p>ar531x rev 0x00005850 firmware startup...<br />SDRAM TEST...PASSED</p><br /><p>Atheros AR5001AP default version 3.0.0.43A</p><br /><p>auto-booting...</p><p>Attaching to TFFS... done.<br />Loading /fl/APIMG1...Erroneous header read</p><p>error loading file: status = 0x610001.</p><p>Loading backup /fl/APIMG2...<br />Cannot open &quot;/fl/APIMG2&quot;.</p><p>Error loading file: errno = 0x388002.</p></blockquote></div><p>Pressing escape during the boot process allowed me to get access to the VxWorks boot console.&nbsp; From here I was able to set the boot parameters to tftp.&nbsp; I was hoping that if I set the tftp function to receive the original Netgear firmware, then this would unbrick the WGT624.&nbsp; Unfortunately, all I got was :-</p><br /><div class="quotebox"><blockquote><p>Attached TCP/IP interface to et0.<br />Attaching network interface lo0... done.<br />Loading... <br />Error loading file: errno = 0x610001.</p></blockquote></div><p>I did a bit of research and found that I might need to boot from a .elf file.&nbsp; I found a .elf called &quot;art&quot;, configured the tftp function to receive it and got the following output.</p><br /><div class="quotebox"><blockquote><p>Attached TCP/IP interface to et0.<br />Attaching network interface lo0... done.<br />Loading... 19032 + 618848 + 105600<br />Starting at 0x80480000...</p><br /><p>boardData checksum failed!<br />Please check the ethernet cable on port 1!<br />Failed to attach to device etAttaching interface lo0...done<br />List of bridge ports not specified! -<br />Please set the bridge configuration parameter BRIDGE_PORTS.<br />This must a list of comma-separated device name and unit number pairs.<br />For example: &quot;fei0,fei1,elPci0&quot;<br />portsStringParse failed!</p><p>Adding 3836 symbols for standalone.</p><br /><p> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]<br />&nbsp; &nbsp; &nbsp; ]]]]]]]]]]]&nbsp; ]]]]&nbsp; &nbsp; &nbsp;]]]]]]]]]]&nbsp; &nbsp; &nbsp; &nbsp;]]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]]]]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(R)0x<br />80fffdf0&nbsp; (]&nbsp; &nbsp; &nbsp;]]]]]]]]]&nbsp; ]]]]]]&nbsp; &nbsp; &nbsp;]]]]]]]]&nbsp; &nbsp; &nbsp; &nbsp;]]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]]]]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tRootTask<br />):&nbsp; Can&#039;t attach unknown device ]]&nbsp; &nbsp; &nbsp;]]]]]]]&nbsp; ]]]]]]]]&nbsp; &nbsp; &nbsp;]]]]]] ]&nbsp; &nbsp; &nbsp;]]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]]]]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; et<br /> (unit&nbsp; 0]]]&nbsp; &nbsp; &nbsp;]]]]] ]).<br />&nbsp; &nbsp; ]]]&nbsp; ]&nbsp; &nbsp; &nbsp;]]]] ]]]&nbsp; &nbsp;]]]]]]]]]&nbsp; ]]]] ]] ]]]]&nbsp; ]]&nbsp; &nbsp;]]]]]<br /> ]]]]&nbsp; &nbsp; &nbsp;]]]&nbsp; ]]&nbsp; &nbsp; ]&nbsp; ]]]&nbsp; &nbsp; &nbsp;]] ]]]]] ]]]]]]&nbsp; &nbsp;]] ]]]]]]] ]]]] ]]&nbsp; &nbsp;]]]]&nbsp; <br /> ]]]]]&nbsp; &nbsp; &nbsp;]&nbsp; ]]]]&nbsp; &nbsp; &nbsp;]]]]]&nbsp; &nbsp; &nbsp; ]]]]]]]] ]]]]&nbsp; &nbsp;]] ]]]]&nbsp; &nbsp; ]]]]]]]&nbsp; &nbsp; ]]]] <br /> ]]]]]]&nbsp; &nbsp; &nbsp; ]]]]]&nbsp; &nbsp; &nbsp;]]]]]]&nbsp; &nbsp; ]&nbsp; ]]]]]&nbsp; ]]]]&nbsp; &nbsp;]] ]]]]&nbsp; &nbsp; ]]]]]]]]&nbsp; &nbsp; ]]]]<br /> ]]]]]]]&nbsp; &nbsp; ]]]]]&nbsp; ]&nbsp; &nbsp; ]]]]]]&nbsp; ]&nbsp; &nbsp; ]]]&nbsp; &nbsp;]]]]&nbsp; &nbsp;]] ]]]]&nbsp; &nbsp; ]]]] ]]]]&nbsp; &nbsp; ]]]]<br /> ]]]]]]]]&nbsp; ]]]]]&nbsp; ]]]&nbsp; &nbsp; ]]]]]]]&nbsp; &nbsp; &nbsp; ]&nbsp; &nbsp; &nbsp;]]]]]]]&nbsp; ]]]]&nbsp; &nbsp; ]]]]&nbsp; ]]]] ]]]]]<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]&nbsp; &nbsp; &nbsp; &nbsp;Development System<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]]&nbsp; &nbsp; &nbsp; &nbsp;VxWorks version VxWorks5.4.2<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]]&nbsp; &nbsp; &nbsp; &nbsp;KERNEL: WIND version 2.5<br /> ]]]]]]]]]]]]]]]]]]]]]]]]]&nbsp; &nbsp; &nbsp; &nbsp;Copyright Wind River Systems, Inc., 1984-2001</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPU: Atheros AR5001AP default.&nbsp; Processor #0.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Memory Size: 0x1000000.&nbsp; BSP version 1.0.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p><p>/fl/&nbsp; - Volume is OK <br />-&gt; Starting ART Client... <br />Waiting for connection from Host <br />-&gt;</p></blockquote></div><p>This .elf art file is apparently meant for a D-link DWL-2100AP (which shares the same cpu as the WGT624) which I am guessing is why a few errors are reported.&nbsp; Once at the shell, I have access to a whole lot of commands.&nbsp; Doing a directory listing, I can see the problem I have.</p><br /><div class="quotebox"><blockquote><p>-&gt; ll<br />-rwxrwxrwx&nbsp; 1 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3178 Nov 14&nbsp; 2006 apcfg <br />-rwxrwxrwx&nbsp; 1 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5520 Nov 14&nbsp; 2006 NVRAM <br />-rwxrwxrwx&nbsp; 1 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 Dec 24 00:00 apimg1 <br />-rwxrwxrwx&nbsp; 1 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3179 Jul 31&nbsp; 2004 apcfg.bak <br />-rwxrwxrwx&nbsp; 1 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 27126 Nov 14&nbsp; 2006 config.dbm <br />-rwxrwxrwx&nbsp; 1 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;50 Nov 14&nbsp; 2006 vpn.dbm <br />value = 0 = 0x0</p></blockquote></div><p>The boot file apimg1 is empty.&nbsp; No worries I think to myself, I&#039;ll just copy the file from a working WGT624 and copy it across to my bricked WGT624 using a ftp command.&nbsp; I try to use some of the network commands to test the ftp function, but they all fail with an &quot;undefined symbol:&quot; error message.&nbsp; I&#039;m guessing that the ethernet module is not working properly with this .elf file.&nbsp; I managed to find a second .elf file called &quot;openwrt-atheros-2.6-vmlinux.elf&quot;.&nbsp; I reconfigure the tftp function to boot from the new .elf file, but receive this error message when it tries to load it.</p><br /><div class="quotebox"><blockquote><p>Attached TCP/IP interface to et0.<br />Attaching network interface lo0... done.<br />Loading... 2530016<br />Starting at 0x80274000...</p><br /><p>Instruction Bound Exception<br />Exception Program Counter: 0x80144274<br />Status Register: 0x1000c000<br />Cause Register: 0x00800008<br />Access Address : 0xfff97fd7<br />Task: 0x80fca000 &quot;&quot;<br />80274950: 80279e5c (0, 1, 1, 0)<br />80279e80: 80278148 (0, 80062fe0, 0, 0)</p><p>$0&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;t0&nbsp; &nbsp; = 802915e4&nbsp; &nbsp;s0&nbsp; &nbsp; = 80290000&nbsp; &nbsp;t8&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0<br />at&nbsp; &nbsp; = 1000c000&nbsp; &nbsp;t1&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;s1&nbsp; &nbsp; = 80261fb0&nbsp; &nbsp;t9&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0<br />v0&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;t2&nbsp; &nbsp; = 80290000&nbsp; &nbsp;s2&nbsp; &nbsp; = 80fc9fb8&nbsp; &nbsp;k0&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0<br />v1&nbsp; &nbsp; = 8026461e&nbsp; &nbsp;t3&nbsp; &nbsp; = 80290000&nbsp; &nbsp;s3&nbsp; &nbsp; = 80778730&nbsp; &nbsp;k1&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0<br />a0&nbsp; &nbsp; = 802645e0&nbsp; &nbsp;t4&nbsp; &nbsp; = 802a0000&nbsp; &nbsp;s4&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;gp&nbsp; &nbsp; = 80260000<br />a1&nbsp; &nbsp; = fff97fd7&nbsp; &nbsp;t5&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;s5&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;sp&nbsp; &nbsp; = 80261f70<br />a2&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp;t6&nbsp; &nbsp; =&nbsp; &nbsp;83a074&nbsp; &nbsp;s6&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;s8&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0<br />a3&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;t7&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;s7&nbsp; &nbsp; =&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;ra&nbsp; &nbsp; = 80279e88<br />divlo = 9999999a&nbsp; &nbsp;divhi =&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp;sr&nbsp; &nbsp; = 1000c000&nbsp; &nbsp;pc&nbsp; &nbsp; = 80144274</p></blockquote></div><p>I&#039;m now currently stuck and can see only two options from here.&nbsp; &nbsp;1, build a jtag cable and copy the flash memory from a working WGT624 to my bricked WGT624 or 2, build a linux kernal for the WGT624 in .elf format so that it will boot via tftp and allow the network side of things to work.&nbsp; &nbsp;I have no experience in doing either, but like the idea of the 2nd option as it would help other people who have bricked their WGT624&#039;s or want to install alternative software to replace the Netgear system.</p><p>Can anyone offer me some advice or point me in the right direction please?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56506">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						26 Sep 2007, 04:29					</div>
				</div>
				<div class="post-content content">
					<p>Funny. Google must be pretty quick at that crawling thing, because I was looking for just this kind of topic.</p><p>On my lap is a bricked WGT624 V2, the cause of which was a genuine Netgear firmware update for this exact model. Blink of doom. The crappy, unstable VxWorks OS hung while it was updating the firmware and voila, glorious brick.</p><p>TFTP, no luck at all - it doesn&#039;t respond to TCP/IP at all. I&#039;m not a total network n00b but nowheres near Cisco-router-programming net-savvy. I set up a static IP that didn&#039;t conflict with the router&#039;s IP, tried 192.168.0.1 and .1.1 for subnet and router/ping IP, it&#039;s totally dead. The light on the router for the port does blink though, as if there&#039;s something coming through. I also tried putting a switch between the router and the computer to keep the connection alive - no dice. Port-scanned both the .0.1 and .1.1 subnets, no devices respond to ping.</p><p>I made a quickie serial crossover cable and attached the wires to the pins on the board, for lack of a more descriptive &quot;how-to&quot; guide. When I power up the router with the right combination of wires and settings, I get a computer-istic readout of gibberish on the terminal - as if it&#039;s trying to list off lines to the screen, but some bits are getting shifted or something and I&#039;m left with garbage on the screen. I read something about a MAX232 chip or something along those lines...? Is there something else I need to do with the wire than just basically &quot;plug it in&quot; to my computer?</p><p>I got a replacement router (a cheapie TrendNet) and just recently bought a (Linksys) WRT54G V5 on eBay (VxWorks didn&#039;t see more than 5 minutes on that thing before I dumped DD-WRT on it!), but yet this darn Netgear router keeps mocking me on my desk. What can I do with the thing?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56522">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">xga</div>
					<div class="post-datetime">
						26 Sep 2007, 12:28					</div>
				</div>
				<div class="post-content content">
					<p>Hey Falcon4, I now have a working solution and a newly revived / unbricked WGT624 v2 router.&nbsp; I&#039;m in the process of writing up an easy to use guide with lots of photos and screen shots to make life easy.&nbsp; Give me a day or two and I will have the guide finished and then I will post the link here.</p><p>Cheers,</p><p>xga.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56524">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						26 Sep 2007, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>Awesome!! Does it involve buying extra parts/cables? (lol)</p><p>I&#039;d owe you one if I can sell this &#039;624 on eBay if I can get it unbricked... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>edit: Funny, the numbers you posted in the original post almost exactly match the numbers on my board - the board, CPU, and switch chip numbers match, but the Flash and RAM chips are different... I have MX E042905 / 29LV160BTTC / 2K254000 for my Flash, and a Winbond RAM chip W981216DH-75 / 0423W / 4421D0109 slightly offset from another chip pad (blank, of course) with a denser pin arrangement. I guess so long as the CPU and board numbers match... &gt;.&gt;</p>											<p class="post-edited">(Last edited by <strong>Falcon4</strong> on 26 Sep 2007, 14:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56537">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">xga</div>
					<div class="post-datetime">
						26 Sep 2007, 18:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>Awesome!! Does it involve buying extra parts/cables? (lol)</p></blockquote></div><p>Yes.&nbsp; It cost me about $5 in parts to make up the simple serial console interface cable using a max232 chip.&nbsp; I&#039;ll include details on making this in my guide.&nbsp; I did not have to resort to making and using a JTAG cable (a lot more complicated and time consuming process IMHO) to unbrick my WGT624.</p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>...but the Flash and RAM chips are different... I have MX E042905 / 29LV160BTTC / 2K254000 for my Flash...</p></blockquote></div><p>Your Flash chip should be fine.&nbsp; The only thing to be concerned about is the size of the Flash chip which is 16 Megabit / 2 Megabyte, the same as the one in my WGT624.</p>											<p class="post-edited">(Last edited by <strong>xga</strong> on 26 Sep 2007, 18:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56573">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">iam2q</div>
					<div class="post-datetime">
						27 Sep 2007, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>any one have a secess flash the netgear wgt624v2 via jtag ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56598">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						28 Sep 2007, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>Well, I just burned $25 (how&#039;d you get away with $5?!) on the various components needed to build a basic MAX232 circuit, including a 2-pack of MAX232 chips (they didn&#039;t have singles), a breadboard, and various other components to build the only <em>other</em> thing I know uses a MAX232 chip, an ALDL-to-serial reader for my car. I bought all the components on that list, including 9 10k resistors, 6 10ÂµF ceramic capacitors, 4 &quot;2222&quot; transistors (I still need to grab those, d&#039;oh), a 7805 voltage regulator IC, and a small length of solid wire.</p><p>Now where&#039;s that guide? <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56716">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						30 Sep 2007, 04:02					</div>
				</div>
				<div class="post-content content">
					<p>... Well? That guide?</p><p>I&#039;d like to at least get the serial console working! So far all the MAX232 has been able to give me is bupkis!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56733">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						30 Sep 2007, 11:36					</div>
				</div>
				<div class="post-content content">
					<p>Woot! I finally got the serial console working! I was thinking there would be a clue in there as to what&#039;s going on, but it&#039;s the equivalent of about 400 pages of alien text. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />(First one to get that reference gets a cookie.)</p><p>FOR THOSE CURIOUS AND BANGING THEIR HEAD FOR HOURS ON END:</p><p>The system seems to use a separate ground circuit for the serial&#039;s 3.3v as opposed to the case/adapter&#039;s ground. So if you ground your serial to the case instead of fighting with the ground pin right next to the TX pin, you&#039;ll get bupkis as I got for hours on end until noticing that the 3.3v pin was producing zero volts (started at about 2.2 then crawled down to 0) when grounded to the case!</p><p>Here&#039;s my setup! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /><a href="http://hostfile.org/IMGP1477.jpg"><span class="postimg"><img src="http://hostfile.org/thumbs/L_IMGP1477.jpg.png" alt="http://hostfile.org/thumbs/L_IMGP1477.jpg.png" /></span></a><br /><a href="http://hostfile.org/IMGP1478.jpg"><span class="postimg"><img src="http://hostfile.org/thumbs/L_IMGP1478.jpg.png" alt="http://hostfile.org/thumbs/L_IMGP1478.jpg.png" /></span></a><br />(The resistor seen above is going to be later used when I use this MAX232 circuit for reading my car&#039;s ALDL data. The 3-pin IC is a 5-volt regulator IC, which converts 12v from a Linksys AC adapter to 5v for the MAX232.)<br /><a href="http://hostfile.org/IMGP1479.jpg"><span class="postimg"><img src="http://hostfile.org/thumbs/L_IMGP1479.jpg.png" alt="http://hostfile.org/thumbs/L_IMGP1479.jpg.png" /></span></a></p><p>Awesomeness in a can. Here&#039;s Hyperterminal.<br /><a href="http://hostfile.org/hyperterm.png"><span class="postimg"><img src="http://hostfile.org/thumbs/L_hyperterm.png.png" alt="http://hostfile.org/thumbs/L_hyperterm.png.png" /></span></a><br />... And that also explains why I couldn&#039;t TFTP the thing. Why is it using 192.168.1.20?!</p><p>Now. Guide! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I&#039;m RDC&#039;ing another computer to use its serial port, so it&#039;s not connected to my laptop (main computer, also serial-less).</p><p>edit: Here&#039;s what I get when I start it up and hit Esc after the error (it auto-reboots):<br /></p><div class="quotebox"><blockquote><div class="codebox"><pre><code>ar531x rev 0x00005850 firmware startup...                                         
SDRAM TEST...PASSED                   

Atheros AR5001AP default version 3.0.0.43A                                          

 0  
auto-booting...

Attaching to TFFS... done.
Loading /fl/APIMG1...Erroneous header read

error loading file: status = 0x610001.

Loading backup /fl/APIMG2...
Cannot open &quot;/fl/APIMG2&quot;.

Cannot open &quot;/fl/APIMG2&quot;.

Error loading file: errno = 0x388002.
Can&#039;t load boot file!!

ar531x rev 0x00005850 firmware startup...
SDRAM TEST...PASSED


Atheros AR5001AP default version 3.0.0.43A


 1
[Boot]:</code></pre></div></blockquote></div>											<p class="post-edited">(Last edited by <strong>Falcon4</strong> on 30 Sep 2007, 11:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56855">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">xga</div>
					<div class="post-datetime">
						2 Oct 2007, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the delay with the guide.&nbsp; Life got busy.</p><p><a href="http://www.embraceit.com.au/wgt624/">http://www.embraceit.com.au/wgt624/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56868">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						2 Oct 2007, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>Oh - and the missing element (I guess you forgot to add, lol) is that you need to strip the garbage before the &quot;?ELF&quot; header (one character, then the letters ELF) from the TRENDnet firmware first using a hex editor. That way the router can boot the firmware upgrade file <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Isn&#039;t it ironic that TRENDnet can provide true support for recovering a router (through simple laziness, I imagine), yet NETGEAR seems to go out of their way to make that impossible? That we have to boot another company&#039;s firmware in order to restore the original? Shame, shame!</p><p>But THANKS for the information! I said that in email, but I&#039;m now publicly exclaiming it. THANKS!! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56965">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">xga</div>
					<div class="post-datetime">
						3 Oct 2007, 20:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iam2q wrote:</cite><blockquote><p>any one have a secess flash the netgear wgt624v2 via jtag ?</p></blockquote></div><p>Nup, I was going to try flashing my WGT624 v2 via JTAG (I even purchased the parts to make an unbuffered wiggler cable) if I was unable to restore it using the serial console and TFTP.&nbsp; From what I have read, flashing via JTAG is a lot more involved and lengthy process.</p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>Well, I just burned $25 (how&#039;d you get away with $5?!) on the various components needed to build a basic MAX232 circuit......</p></blockquote></div><p>I only had to purchase a single MAX232 chip and 5 capacitors, hence only costing ~$5.&nbsp; I cut an old serial cable and idc cable in half and already had an old breadboard and wires.&nbsp; It seems that your serial console interface is a lot more complex than mine as mine only uses a total of 6 components.&nbsp; They both seem to do the job well enough though. :-)&nbsp; See here for my circuit diagram <a href="http://www.embraceit.com.au/wgt624/WGT624SerialDiagram.jpg">http://www.embraceit.com.au/wgt624/WGT6 … iagram.jpg</a> .</p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>Woot! I finally got the serial console working! I was thinking there would be a clue in there as to what&#039;s going on, but it&#039;s the equivalent of about 400 pages of alien text. wink<br />(First one to get that reference gets a cookie.)</p></blockquote></div><p>Is that line from SG-1?</p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>... And that also explains why I couldn&#039;t TFTP the thing. Why is it using 192.168.1.20?!</p></blockquote></div><p>That&#039;s just what the VxWorks OS sets it as by default.</p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>Oh - and the missing element (I guess you forgot to add, lol) is that you need to strip the garbage before the &quot;?ELF&quot; header (one character, then the letters ELF) from the TRENDnet firmware first using a hex editor. That way the router can boot the firmware upgrade file smile</p></blockquote></div><p>Step 4 of my guide now has info on stripping the header from the TRENDnet firmware as well as the actual stripped file itself to be downloaded.&nbsp; </p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>Isn&#039;t it ironic that TRENDnet can provide true support for recovering a router (through simple laziness, I imagine), yet NETGEAR seems to go out of their way to make that impossible? That we have to boot another company&#039;s firmware in order to restore the original? Shame, shame!</p></blockquote></div><p>Very ironic!&nbsp; But Netgear really should have designed a failsafe recovery method IMHO.&nbsp; I guess they&#039;ve learnt from this now anyway.</p><div class="quotebox"><cite>Falcon4 wrote:</cite><blockquote><p>But THANKS for the information! I said that in email, but I&#039;m now publicly exclaiming it. THANKS!! big_smile</p></blockquote></div><p>No worries at all!&nbsp; Sorry it took me a bit longer than what I originally said to get up.&nbsp; Just glad I was able to help resurrect another WGT624! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>xga</strong> on 3 Oct 2007, 20:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64990">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Falcon4</div>
					<div class="post-datetime">
						12 Mar 2008, 06:21					</div>
				</div>
				<div class="post-content content">
					<p>Hah, I forgot about that cookie! *gives cookie* Yeah, it&#039;s from the well known SG-1 episode &quot;Window of Opportunity&quot;. But you knew that. I love that episode. XD</p><p>To this day I&#039;m STILL trying to help some total n00b understand how to build the MAX232 circuit to unbrick his router, over MSN. It&#039;s like he can&#039;t even grasp the simplest of electrical concepts like how a breadboard works, or what a voltmeter is (I spent hours trying to explain where to find 5 VDC - in a computer, in a USB power supply, in 4 AA batteries... he finally settled on 4 AA&#039;s). Then I had to explain how to connect to the pins, etc...</p><p>But I think we&#039;re finally wrapping things up and might actually get some input in Hyperterminal soon! =o</p><p>So with that, I think you&#039;ve helped 3 people now <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>(Edit: My unbricked WGT624 is now my apartment&#039;s/complex&#039;s access point <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> )</p>											<p class="post-edited">(Last edited by <strong>Falcon4</strong> on 12 Mar 2008, 06:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65089">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">xga</div>
					<div class="post-datetime">
						13 Mar 2008, 13:46					</div>
				</div>
				<div class="post-content content">
					<p>Hey Falcon4,</p><p>Thanks for the cookie! *Tastes yumm* ;-)</p><p>Seems as though a lot of people have difficulty with making the interface.&nbsp; :-(</p><p>I&#039;m sure the noob is very thankful for your assistance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72897">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">omegatotal</div>
					<div class="post-datetime">
						2 Sep 2008, 06:02					</div>
				</div>
				<div class="post-content content">
					<p>looking for some help re-flashing my DWL-2100ap, i can get it to load art over tftp, but how would i get it to load the apimg over tftp?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79483">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">__the_mike__</div>
					<div class="post-datetime">
						11 Jan 2009, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>Hey Guys,<br />Is it possible to update my WGT624v2 with openwrt?<br />Or will it be possible in the future?<br />thanks Mike</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86729">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">ripface</div>
					<div class="post-datetime">
						27 Apr 2009, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I know that this is an *old* thread, but for those that are still interested in unbricking Netgear WGT624 routers (and potentially others), you can now buy on eBay for a few pounds a USB to TTL converter that will nicely do the job of the serial console, and is a *lot* easier to wire up and use.</p><p>Just surf up &quot;USB TTL&quot; in fleaBay and make sure you pick one that has 3.3v and 5v capabilities.&nbsp; These usually have six pins.&nbsp; TX, RX, 3.3v, 5v, Ground and RST.&nbsp; Here is an example of the one I bought ...</p><p><a href="http://cgi.ebay.co.uk/ws/eBayISAPI.dll?ViewItem&amp;ssPageName=STRK:MEWNX:IT&amp;item=250399285596">http://cgi.ebay.co.uk/ws/eBayISAPI.dll? … 0399285596</a></p><p>Have fun ...</p><p>Cheers,<br />Ripface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92069">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">justvsoni</div>
					<div class="post-datetime">
						30 Jul 2009, 00:29					</div>
				</div>
				<div class="post-content content">
					<p>I tried resurrecting my netgear wgt264 v2 router with trendnet firmware as explained.</p><p>But this firmware is not accepting blank user name and &quot;admin&quot; as password. Any clues what might be wrong? Any way to do anonymous login or single user login?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100168">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">niallp</div>
					<div class="post-datetime">
						10 Jan 2010, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>Also trying to get an old WGT624 going and stuck at the login to the Trendnet web interface, the recommended user = &lt;blank&gt; , password = admin doesn&#039;t work for me either. I notice there is a console prompt as well, unfortunately it doesn&#039;t take any of the credentials I&#039;m aware of either.</p><p>(Netgear web interface: admin/password, Netgear telnet: Gearguy/Geardog, Trendnet web: &lt;blank&gt;/admin) ... anyone know of others to try ?</p><p>Pointers to any further explanation of the bootloader would be useful <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I see a note someone has loaded Kamikaze via tftp, any images available to try ? While I understand the Flash is too small, using tftp as a permanent solution would work for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100189">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">justvsoni</div>
					<div class="post-datetime">
						10 Jan 2010, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi Niallp,</p><p>I successfully resurrected my netgear router. Following is my email conversation with Cameron who helped me with it till end. Hope it helps you. Let me know if you have any further doubts.</p><p>Thanks,<br />Vishal Soni.</p><br /><br /><p>--- On Tue, 8/11/09, Vishal Soni &lt;justvsoni@yahoo.com&gt; wrote:</p><p>&gt; From: Vishal Soni &lt;justvsoni@yahoo.com&gt;<br />&gt; Subject: RE: Help<br />&gt; To: c.sanderson@embraceit.com.au<br />&gt; Date: Tuesday, August 11, 2009, 2:40 PM<br />&gt; Hi Cameron,<br />&gt; <br />&gt; Thanks for your quick reply and sorry for long Silence <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.<br />&gt; My laptop did not have serial port and so was waiting for my<br />&gt; friend&#039;s laptop over weekend.<br />&gt; <br />&gt; I&#039;m glad to inform you that your new image worked with<br />&gt; some hacks.!!<br />&gt; <br />&gt; You might like to include following two points in your<br />&gt; original post.<br />&gt; <br />&gt; 1) If user don&#039;t want to go through pain of building<br />&gt; serial connector, he can borrow/buy the connector like one<br />&gt; available at<br />&gt; <a href="http://cgi.ebay.co.uk/RS232-Serial-Port-To-TTL-Converter-MAX3223-MAX3232_W0QQitemZ360166176686QQcmdZViewItemQQptZLH_DefaultDomain_0?hash=item53db93b7ae&amp;_trksid=p3286.m63.l1177&amp;_trkparms=|293%3A1|294%3A50">http://cgi.ebay.co.uk/RS232-Serial-Port … 1|294%3A50</a><br />&gt; I don&#039;t know whats technical name of it, but I got one<br />&gt; from my friend who works in broadcom.<br />&gt; <br />&gt; 2) Password issue what I faced was resolved in following<br />&gt; way.<br />&gt; - Tried booting<br />&gt;&nbsp; with your image (art.elf), it did give me access to flash<br />&gt; without asking for password.<br />&gt; - Removed apcfg and tried booting with original firmware.<br />&gt; No progress and it took configuration from apcfg.bak file<br />&gt; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />&gt; - again booted with art.elf and removed both apcfg and<br />&gt; apcfg.bak file and tried booting with original firmware.<br />&gt; Still no progress. So thought configuration would be stored<br />&gt; somewhere else.<br />&gt; - removed NVRAM file which was only suspicious file and<br />&gt; tried booting with original firmware. Woila !!! It worked!!<br />&gt; <br />&gt; <br />&gt; So the culprit was NVRAM file (might be).<br />&gt; <br />&gt; Rest all steps worked fine as mentioned in your post.<br />&gt; <br />&gt; Thanks for your help. I appreciate it.<br />&gt; <br />&gt; Regards,<br />&gt; Vishal Soni.<br />&gt; <br />&gt; <br />&gt; --- On Wed, 7/29/09, Cameron Sanderson<br />&gt; &lt;c.sanderson@embraceit.com.au&gt; wrote:<br />&gt; <br />&gt; From: Cameron Sanderson<br />&gt;&nbsp; &lt;c.sanderson@embraceit.com.au&gt;<br />&gt; Subject: RE: Help<br />&gt; To: justvsoni@yahoo.com<br />&gt; Date: Wednesday, July 29, 2009, 4:13 PM<br />&gt; <br />&gt; <br />&gt; <br />&gt;&nbsp; <br />&gt; Hi Vishal,<br />&gt;&nbsp; <br />&gt; Try booting from <br />&gt; this .elf file and deleting the files from the /fl<br />&gt; directory.&nbsp; This should <br />&gt; then clear the username and password information.<br />&gt; <br />&gt; <a href="http://www.embraceit.com.au/wgt624/art.elf">http://www.embraceit.com.au/wgt624/art.elf</a><br />&gt; <br />&gt; This .elf file<br />&gt; will allow you to boot into the <br />&gt; router with file access.&nbsp; This art.elf file is<br />&gt; apparently meant for a <br />&gt; D-link DWL-2100AP (which shares the same cpu as the WGT624)<br />&gt; which I am guessing <br />&gt; is why a few errors are reported during the boot process,<br />&gt; just&nbsp; ignore <br />&gt; those though.&nbsp; Once at the shell, you&#039;ll have<br />&gt; access to a whole lot of <br />&gt; commands, either typing &#039;?&#039; or &#039;help&#039;<br />&gt; (minus the quotation marks) followed by <br />&gt; enter should give you a list of your available<br />&gt; commands.&nbsp; If you type &#039;ll&#039; <br />&gt; (two letter l&#039;s not number 1&#039;s) followed by enter,<br />&gt; this should list the files in <br />&gt; the /fl (flash memory) folder.&nbsp; Now you need to remove<br />&gt; one or all of the <br />&gt; files using the remove command, it could be &#039;rm&#039; or<br />&gt; &#039;del&#039;, I can&#039;t remember the <br />&gt; exact command off the top of my head unfortunately.&nbsp; I<br />&gt; can&#039;t remember which <br />&gt; file(s) to remove either, but you might want to start with<br />&gt; the &quot;apcfg&quot; file and <br />&gt; then reboot and reconfigure the wgt624 to boot off the<br />&gt; trendnet .elf file and <br />&gt; try the default username and password again.&nbsp; If that<br />&gt; fails, boot back <br />&gt; using the art.elf file and try deleting another file and<br />&gt; see how you go.&nbsp; I <br />&gt; don&#039;t think you can do any damage by deleting these<br />&gt; files from the flash memory <br />&gt; as they get rebuilt when the router boots successfully for<br />&gt; the first <br />&gt; time.<br />&gt; <br />&gt; Let me know how you go.&nbsp; I&#039;ll do my best to help<br />&gt; you if you <br />&gt; get stuck.<br />&gt; <br />&gt; Cheers,<br />&gt; <br />&gt; -Cameron.<br />&gt; <br />&gt; <br />&gt; <br />&gt; From: Vishal Soni<br />&gt; [mailto:justvsoni@yahoo.com] <br />&gt; <br />&gt; Sent: Thursday, 30 July 2009 6:45 AM<br />&gt; To: Cameron <br />&gt; Sanderson<br />&gt; Subject: Help<br />&gt; <br />&gt; <br />&gt; <br />&gt; <br />&gt;&nbsp; &nbsp;<br />&gt;&nbsp; &nbsp;<br />&gt;&nbsp; &nbsp; &nbsp;Hi sanderson,<br />&gt; <br />&gt; Thanks for such a wonderful post <br />&gt;&nbsp; &nbsp; &nbsp; &nbsp;<a href="http://www.embraceit.com.au/wgt624/">http://www.embraceit.com.au/wgt624/</a><br />&gt; <br />&gt; I tried all steps as you <br />&gt;&nbsp; &nbsp; &nbsp; &nbsp;suggested, but STEP 9 is not accepting user name as<br />&gt; blank and password as <br />&gt;&nbsp; &nbsp; &nbsp; &nbsp;admin. Any clue where I went wrong? Or what user name<br />&gt; /password to <br />&gt;&nbsp; &nbsp; &nbsp; &nbsp;use?<br />&gt; <br />&gt; Thanks in advance,<br />&gt; <br />&gt; Regards,<br />&gt; Vishal <br />&gt;&nbsp; &nbsp;Soni.<br />&gt;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186052">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">sufnoK</div>
					<div class="post-datetime">
						14 Dec 2012, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>sorry but i cant open a new Thread.</p><p>I have the same Router and flashed it one year ago with openwrt. After a few month of successful use, i buy a new Router and put the old Netgear into my cellar.</p><p>Now, a half year later, i want to use it again for my Sister. I connect it with my PC and want to access at root via Putty (telnet). But all what i get is &quot;Connection closed by remote host&quot;. I try it with SSH but a Timeout occurs. The IP is definitely correct but i can&#039;t connect with putty. </p><p>Then i tried to connect to the LuCi Webinterface. The Password-Prompt pops up but it seems that i don&#039;t know the Password anymore. </p><p>I had try to reset the Router by pushing the Reset-Button on the rear - then the WLAN SSID is switched to the old original &quot;NETGEAR&quot;. IP is also reset to stock (192.168.0.1). But the Problems are the same. I can&#039;t connect with Putty nor LuCi.</p><p>Please can anybody help me to solve this issue? </p><br /><p>Big Thx and Regards,<br />Andy</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>