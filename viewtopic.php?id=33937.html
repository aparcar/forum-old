<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Backfire 10.03.1 Install on Linksys WRT300v1.1 backfires into &quot;brick&quot;</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p153292">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						6 Jan 2012, 09:26					</div>
				</div>
				<div class="post-content content">
					<p>I could use some help and suggestions for resurrecting my bricked Linksys WRT300nv1.1 router.&nbsp; </p><p>First some background information.<br />&nbsp; &nbsp; &nbsp;The unit was purchased in late 2007 / early 2008 IIRC and run on Linksys/Cisco firmware being upgraded maybe a half dozen times.&nbsp; <br />&nbsp; &nbsp; &nbsp;In fall of 2010 I flashed it to DD-WRT build 13064, because at the time Open_WRT did not support this router according to the tables.<br />&nbsp; &nbsp; &nbsp;In fall of 2011 I began to read on getting IPv6 going on my lan and certified through Hurricane Electric.<br />&nbsp; &nbsp; &nbsp;Over Christmas-New Years of 2011 I played with several editions of DD_WRT flashing the device probably 2 dozen times trying to find a version of their firmware which would support IPv6 on my router.&nbsp; After about 1o days and no success I revisited the OpenWRT website and was skeptically overjoyed to see <a href="http://downloads.openwrt.org/backfire/10.03/brcm47xx/openwrt-wrt300n_v11-squashfs.bin">http://downloads.openwrt.org/backfire/1 … uashfs.bin</a> listed for the latest stable Backfire.&nbsp; I spent the next two days reading through the documentation so I was sure I understood all that I could do.<br />&nbsp; &nbsp; &nbsp; On January 4th, 2012 I opened firefox on my Centos 6.2 client PC and connected to the DD-WRT Administration page of my router.&nbsp; I had the file <a href="http://downloads.openwrt.org/backfire/10.03/brcm47xx/openwrt-wrt300n_v11-squashfs.bin">http://downloads.openwrt.org/backfire/1 … uashfs.bin</a> on the hard drive of my PC and proceeded to upgrade firmware.&nbsp; The web page responded that the update had occurred successfully.&nbsp; I rebooted and tried to telnet to 192.168.1.1 without success.<br />&nbsp; &nbsp; &nbsp; Present condition is that when powered up the switch lights behave normally, the power light goes through fast blink, no blink, fast blink and then solid on phases.&nbsp; IIRC this should mean it has fully booted the new Open WRT squash fs firnware.&nbsp; But DHCP requests to the router fail and attempts to connect to 192.168.1.1 from the Centos PC with static IP 192.168.1.100 fail also.&nbsp; <br />&nbsp; &nbsp; &nbsp; Now I can open a terminal on PC-192.168.1.100 and issue the commands as follows:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #&nbsp; tftp 192.168.1.1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tftp&gt;&nbsp; binary<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tftp&gt; rexmt 1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tftp&gt; timeout 90<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tftp&gt;&nbsp; trace<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tftp&gt;&nbsp; put &quot;a firmware binary file name&quot;<br />&nbsp; &nbsp; &nbsp; Cycling power while tftp is trying to connect results in tftp transferring the bin file during the boot wait, but the new binary fails to boot just like the original Open WRT.</p><p>&nbsp; &nbsp; &nbsp; I have tried two different DD-WRT firmwares which worked in the past but now fail to boot.&nbsp; I tried the <a href="http://downloads.openwrt.org/backfire/10.03/brcm47xx/openwrt-wrt300n_v11-squashfs.bin">http://downloads.openwrt.org/backfire/1 … uashfs.bin</a> again by tftp. and while it loads it does not compelte boot.&nbsp; I thought about trying original linksys firmware or <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/openwrt-wrt300n_v11-squashfs.bin">http://downloads.openwrt.org/backfire/1 … uashfs.bin</a> since I was running the 2.4 kernel dd-wrt stuff.&nbsp; </p><p>&nbsp; &nbsp; &nbsp; &nbsp;Suggestions are more than welcome.</p><p>&nbsp; &nbsp; &nbsp; &nbsp;I must say from the website and documentation side of things Open-WRT is running circles around DD-WRT; I can only hope your actual product can eventually do the same for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153324">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						6 Jan 2012, 13:51					</div>
				</div>
				<div class="post-content content">
					<p>Known problem. The generic images do not contain a suitable ethernet driver.<br />I suggest to use the <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/OpenWrt-ImageBuilder-brcm-2.4-for-Linux-i686.tar.bz2">image generator</a> and assamble an image tailored for this unit:<br /></p><div class="codebox"><pre><code>make image PROFILE=WRT300Nv11</code></pre></div><p>Make sure it lists &quot;kmod-brcm-wl-mimo&quot; and &quot;kmod-brcm-57xx&quot; when assembling the image.<br />See <a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.generate">http://wiki.openwrt.org/doc/howto/obtai … e.generate</a> for further information.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153341">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						6 Jan 2012, 16:32					</div>
				</div>
				<div class="post-content content">
					<p>SO WHY POST A BUSTED SQUASHFS.BIN IN THE STABLE DOWNLOAD TREE ???</p><p>I&#039;ve spent the morning trying to find my linksys firmware, flashing different versions of wrt300nv1.1 firmware. </p><p>And all because an advertised &quot;STABLE&quot; file is broken.</p><p>Yes I ranted a little sorry.&nbsp; The Image Generator is downloading now.&nbsp; Unfortunately there is not x86_64 Image Generator for Backfire 10.03.01 and the Broadcom 47xx chips.&nbsp; Guess I&#039;l have to build on my i686 snail box.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153346">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						6 Jan 2012, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>You should be able to run it just fine on x64 after installing ia32-libs or whatever the CentOS equivalent is.</p><p>Edit: seems one should install &quot;glibc.i686&quot; and &quot;zlib.i686&quot; on CentOS / Fedora.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153406">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						6 Jan 2012, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>Image Builder for brcm74xx runs just fine, but no packages named kmod-brcm-wl-mimo or kmod-brcm-57xx exists in the 10.03.01 packages folder to be downloaded or installed.&nbsp; The bin file built by the PROFILE=WRT300Nv11 command in Image Builder brcm47xx behaves no differently than the stock ones downloaded from the website.&nbsp; I am downloading the 2.4 Image Builder now as it has the&nbsp; kmod-brcm-wl-mimo and kmod-brcm-57xx image files in it&#039;s directory.&nbsp; Maybe a 2.4 build will work better.&nbsp; Time will tell.</p><p>Noe zlibc and glibc along with the default &quot;Development Tools&quot; group from yum groupinstall &quot;Developement Tools&quot; were already loaded on my x86_64 Centos 6.2 system which runs Image Builder.</p>											<p class="post-edited">(Last edited by <strong>boblfoot</strong> on 6 Jan 2012, 22:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153450">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						7 Jan 2012, 06:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for all the assistance jow.</p><p>So far here&#039;s what I&#039;ve tried without success to recover the unit.</p><p>tftp transferred successfully under full file name and as code.bin<br />Backfire 10.03.01 - BRCM47xx - wrrt300nv11 from Downloads<br />Backfire 10.03 - BRCM47xx - wrrt300nv11 from Downloads<br />Backfire 10.03.01 - BRCM2.4 - wrrt300nv11 from Downloads<br />Backfire 10.03 - BRCM2.4 - wrrt300nv11 from Downloads<br />Kamakazie 8.09.02&nbsp; - BRCM47xx - wrrt300nv11 from Downloads<br />Kamakazie 8.09.02 - BRCM2.4 - wrrt300nv11 from Downloads<br />but none would provide a working router.&nbsp; The Power light appeared to have gone through normal boot functions ending Always ON.</p><p>Downloaded Backfire 10.03.01 - BRCM47xx Image Generator - <br />Downloaded Backfire 10.03.01 - BRCM2.4 Image Generator -<br />Installed both generators on a Centos 6.2_x86_64 and a Centos 6.2_i686 system.<br />run the following to generate test binaries.<br />Make Clean<br />Make Image Profile=WRT300NV11<br />tftp install the WRT300NV11.bin file bith by name and as code.bin<br />but none would provide a working router.&nbsp; The Power light appeared to have gone through normal boot functions ending Always ON.</p><p>Tried via tftp to isntall DD-WRT V2.4 builds 13064 and 14929.<br />Tried via tftp to install Linksys firmware for WRT350N-v1 {it is allegedly the same hdwe as the 300N V1.1</p><p>I have not lost the ability to tftp a file successfully, but nothing I tftp will produce a working system.</p><p>I am almost ready to build a JTAG Cable and open my first router for surgery, but wouldn&#039;t know what to do next.</p><p>I&#039;d like to get this box working as a Dual Stack IPV4/IPV6 wired/wireless router someday.</p><p>Eureka - I stumbled across a copy of the Original linksys Firmware still out there on the net.&nbsp; I&#039;ll try flashing it after virus checking 6 ways to Sunday of course. Let&#039;s hope that gets me back to usable.</p>											<p class="post-edited">(Last edited by <strong>boblfoot</strong> on 7 Jan 2012, 10:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153496">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						7 Jan 2012, 15:37					</div>
				</div>
				<div class="post-content content">
					<p>Well the &quot;Linksys&quot; firmware I found at <a href="http://download.modem-help.co.uk/mfcs-L/LinkSys/WRT300N/Firmware/v1-1/r1-51-2/">http://download.modem-help.co.uk/mfcs-L … 1/r1-51-2/</a> behaves no different than the OPENWRT and DD-WRT firmware I&#039;ve tried to flash.&nbsp; Oh Well -- I can use a new paperweight for a little while longer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167698">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						19 May 2012, 02:17					</div>
				</div>
				<div class="post-content content">
					<p>Ok I know it has been 4 months but I finally got a USB to Serial Adapter and wired up the Linksys WRT300v1.1 Serial Port.&nbsp; What appears &quot;bricked&quot; from the ethernet side looks like it booted normally from the serial port.&nbsp; Any ideas what I am missing or where to go next?</p><div class="quotebox"><blockquote><p>- <br /><strong><br />the serial port bootup output<br /></strong><br />Start to blink diag led ...</p><br /><p>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)<br />Build Date: Tue Feb 27 19:35:53 CST 2007 (root@localhost.localdomain)<br />Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.</p><p>Initializing Arena<br />Initializing PCI. [normal]<br />PCI bus 0 slot 0/0: vendor 0x14e4 product 0x0800 (flash memory, rev 0x02)<br />PCI bus 0 slot 1/0: vendor 0x14e4 product 0x471f (ethernet network, rev 0x02)<br />PCI bus 0 slot 2/0: vendor 0x14e4 product 0x471a (USB serial bus, interface 0x10, rev 0x02)<br />PCI bus 0 slot 2/1: vendor 0x14e4 product 0x471a (USB serial bus, interface 0x20, rev 0x02)<br />PCI bus 0 slot 3/0: vendor 0x14e4 product 0x471b (USB serial bus, rev 0x02)<br />PCI bus 0 slot 4/0: vendor 0x14e4 product 0x0804 (PCI bridge, rev 0x02)<br />PCI bus 0 slot 5/0: vendor 0x14e4 product 0x0816 (MIPS processor, rev 0x02)<br />PCI bus 0 slot 6/0: vendor 0x14e4 product 0x471d (IDE mass storage, rev 0x02)<br />PCI bus 0 slot 7/0: vendor 0x14e4 product 0x4718 (network/computing crypto, rev 0x02)<br />PCI bus 0 slot 8/0: vendor 0x14e4 product 0x080f (RAM memory, rev 0x02)<br />PCI bus 0 slot 9/0: vendor 0x14e4 product 0x471e (class 0xfe, subclass 0x00, rev 0x02)<br />Initializing Devices.</p><p>No DPN<br />This is a Parallel Flash<br />Partition information:<br />boot&nbsp; &nbsp; #00&nbsp; &nbsp;00000000 -&gt; 0003FFFF&nbsp; (262144)<br />trx&nbsp; &nbsp; &nbsp;#01&nbsp; &nbsp;00040000 -&gt; 0004001B&nbsp; (28)<br />os&nbsp; &nbsp; &nbsp; #02&nbsp; &nbsp;0004001C -&gt; 007F7FFF&nbsp; (8093668)<br />nvram&nbsp; &nbsp;#03&nbsp; &nbsp;007F8000 -&gt; 007FFFFF&nbsp; (32768)<br />Partition information:<br />boot&nbsp; &nbsp; #00&nbsp; &nbsp;00000000 -&gt; 0003FFFF&nbsp; (262144)<br />trx&nbsp; &nbsp; &nbsp;#01&nbsp; &nbsp;00040000 -&gt; 007F7FFF&nbsp; (8093696)<br />nvram&nbsp; &nbsp;#02&nbsp; &nbsp;007F8000 -&gt; 007FFFFF&nbsp; (32768)<br />Reset switch via GPIO 8 ...<br />PCI bus 0 slot 1/0: pci_map_mem: attempt to map 64-bit region tag=0x800 @ addr=18010004<br />PCI bus 0 slot 1/0: pci_map_mem: addr=0x18010004 pa=0x18010000<br />ge0: BCM5750 Ethernet at 0x18010000<br />CPU type 0x2901A: 300MHz<br />Total memory: 32768 KBytes</p><p>Total memory used by CFE:&nbsp; 0x80600000 - 0x806A1900 (661760)<br />Initialized Data:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x80636C40 - 0x80639BE0 (12192)<br />BSS Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x80639BE0 - 0x8063B900 (7456)<br />Local Heap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8063B900 - 0x8069F900 (409600)<br />Stack Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8069F900 - 0x806A1900 (8192)<br />Text (code) segment:&nbsp; &nbsp; &nbsp; &nbsp;0x80600000 - 0x80636C40 (224320)<br />Boot area (physical):&nbsp; &nbsp; &nbsp; 0x006A2000 - 0x006E2000<br />Relocation Factor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I:00000000 - D:00000000</p><p>Boot version: v4.4<br />The boot is CFE<br />mac_init(): Find mac [00:1d:7e:1c:38:9a] in location 0<br />Nothing...<br />CMD: [ifconfig eth0 -addr=192.168.1.1 -mask=255.255.255.0]<br />eth0: Link speed: 100BaseT FDX<br />Device eth0:&nbsp; hwaddr 00-1D-7E-1C-38-9A, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />CMD: [go;]<br />Check CRC of image1<br />&nbsp; Len:&nbsp; &nbsp; &nbsp;0xDB000&nbsp; &nbsp; &nbsp; (897024)&nbsp; &nbsp; &nbsp; &nbsp; (0xBC040000)<br />&nbsp; Offset0: 0x1C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(28)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0xBC04001C)<br />&nbsp; Offset1: 0x974&nbsp; &nbsp; &nbsp; &nbsp; (2420)&nbsp; (0xBC040974)<br />&nbsp; Offset2: 0xDB000&nbsp; &nbsp; &nbsp; (897024)&nbsp; &nbsp; &nbsp; &nbsp; (0xBC11B000)<br />&nbsp; Header CRC:&nbsp; &nbsp; 0x292ED801<br />&nbsp; Calculate CRC: 0x292ED801<br />Image 1 is OK<br />Try to load image 1.<br />Waiting for 3 seconds to upgrade ...<br />CMD: [load -raw -addr=0x806a1900 -max=0xf70000 :]<br />Loader:raw Filesys:tftp Dev:eth0 File:: Options:(null)<br />Loading: _tftpd_open(): retries=0/3<br />_tftpd_open(): retries=1/3<br />_tftpd_open(): retries=2/3<br />Failed.<br />Could not load :: Timeout occured<br />CMD: [boot -raw -z -addr=0x80001000 -max=0xf70000 flash0.os:]<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: .. 4092 bytes read<br />Entry at 0x80001000<br />Closing network.<br />eth0: cannot clear 1400/00000002<br />Starting program at 0x80001000<br />Linux version 2.6.32.27 (jow@nd-build-02.linux-appliance.net) (gcc version 4.3.3 (GCC) ) #5 Wed Dec 21 05:56:26 CET 2011<br />CPU revision is: 0002901a (Broadcom BCM3302)<br />ssb: chipcommon status is 0x0<br />ssb: Initializing MIPS core...<br />ssb: set_irq: core 0x080b, irq 4 =&gt; 2<br />ssb: set_irq: core 0x081f, irq 5 =&gt; 4<br />ssb: set_irq: core 0x0819, irq 3 =&gt; 5<br />ssb: after irq reconfiguration<br />ssb: core 0x0800, irq : 2(S)* 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D&nbsp; I<br />ssb: core 0x081f, irq : 2(S)&nbsp; 3&nbsp; 4* 5&nbsp; 6&nbsp; D&nbsp; I<br />ssb: core 0x0819, irq : 2(S)&nbsp; 3&nbsp; 4&nbsp; 5* 6&nbsp; D&nbsp; I<br />ssb: core 0x081a, irq : 2(S)* 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D&nbsp; I<br />ssb: core 0x0804, irq : 2(S)&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6* D&nbsp; I<br />ssb: core 0x0816, irq : 2(S)* 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D&nbsp; I<br />ssb: core 0x081d, irq : 2(S)&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D* I<br />ssb: core 0x080b, irq : 2(S)* 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D&nbsp; I<br />ssb: core 0x080f, irq : 2(S)&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D&nbsp; I*<br />ssb: core 0x081e, irq : 2(S)* 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; D&nbsp; I<br />ssb: Sonics Silicon Backplane found at address 0x18000000<br />Serial init done.<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00002000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200<br />PID hash table entries: 128 (order: -3, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Primary instruction cache 32kB, VIPT, 4-way, linesize 16 bytes.<br />Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes<br />Memory: 29496k/32768k available (2332k kernel code, 3272k reserved, 355k data, 136k init, 0k highmem)<br />Hierarchical RCU implementation.<br />NR_IRQS:128<br />console [ttyS0] enabled<br />Calibrating delay loop... 299.00 BogoMIPS (lpj=598016)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />bio: create slab &lt;bio-0&gt; at 0<br />Switching to clocksource MIPS<br />ssb: PCIcore in host mode found<br />ssb: CardBus slot detected<br />PCI: Fixing up bridge 0000:00:00.0<br />PCI: Fixing up device 0000:00:00.0<br />PCI: Fixing latency timer of device 0000:00:00.0 to 168<br />pci 0000:01:00.0: PME# supported from D3hot D3cold<br />pci 0000:01:00.0: PME# disabled<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NET: Registered protocol family 1<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; © 2001-2006 Red Hat, Inc.<br />msgmni has been set to 57<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 2 ports, IRQ sharing enabled<br />serial8250: ttyS0 at MMIO 0xb8000300 (irq = 2) is a 16550A<br />serial8250: ttyS1 at MMIO 0xb8000400 (irq = 2) is a 16550A<br />serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 2) is a 16550A<br />serial8250.0: ttyS1 at MMIO 0xb8000400 (irq = 2) is a 16550A<br />flash init: 0x1c000000 0x02000000<br />Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank<br /> CFI mfr 0x000000ec<br /> CFI id&nbsp; 0x000022e2<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />&nbsp; Fixed Samsung&#039;s Amd/Fujitsu Extended Query version from 0.0 to 1.0.<br />&nbsp; Amd/Fujitsu Extended Query version 1.0.<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />Flash device: 0x800000 at 0x1fc00000<br />bootloader size: 262144<br />Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x000000000000-0x000000040000 : &quot;cfe&quot;<br />0x000000040000-0x0000007f0000 : &quot;linux&quot;<br />0x00000011b000-0x0000007f0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=300000, len=4F0000<br />0x000000300000-0x0000007f0000 : &quot;rootfs_data&quot;<br />0x0000007f0000-0x000000800000 : &quot;nvram&quot;<br />BCM47xx Watchdog Timer enabled (30 seconds, nowayout)<br />TCP westwood registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />Freeing unused kernel memory: 136k freed<br />Please be patient, while OpenWrt loads ...<br />diag: Detected &#039;Linksys WRT300N V1.1&#039;<br />roboswitch: Probing device eth0: No such device<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />- preinit -<br />Press the [f] key and hit [enter] to enter failsafe mode<br />- regular preinit -<br />switching to jffs2<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /overlay<br />- init -</p><p>Please press Enter to activate this console. Compat-wireless backport release: compat-wireless-2011-11-08-1-g4ab9b62<br />Backport based on wireless-testing.git master-2011-11-15<br />cfg80211: Calling CRDA to update world regulatory domain<br />roboswitch: Probing device eth0: No such device<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />cfg80211: World regulatory domain updated:<br />cfg80211:&nbsp; &nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />Broadcom 43xx driver loaded [ Features: PL ]<br />Broadcom 43xx-legacy driver loaded [ Features: PLID ]<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />NET: Registered protocol family 24<br />nf_conntrack version 0.5.0 (463 buckets, 1852 max)<br />CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use<br />nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or<br />sysctl net.netfilter.nf_conntrack_acct=1 to enable it.</p><br /><br /><p>BusyBox v1.15.3 (2011-11-24 04:30:44 CET) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> Backfire (10.03.1, r29592) ------------------------<br />&nbsp; * 1/3 shot Kahlua&nbsp; &nbsp; In a shot glass, layer Kahlua<br />&nbsp; * 1/3 shot Bailey&#039;s&nbsp; on the bottom, then Bailey&#039;s,<br />&nbsp; * 1/3 shot Vodka&nbsp; &nbsp; &nbsp;then Vodka.<br /> ---------------------------------------------------<br />root@OpenWrt:/#</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167702">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nlh</div>
					<div class="post-datetime">
						19 May 2012, 07:08					</div>
				</div>
				<div class="post-content content">
					<p>It appears that you don&#039;t have a working ethernet driver.&nbsp; I have a Linksys E3000, and was never able to upload a replacement firmware via TFTP without serial access.&nbsp; You should be able to watch what is happening with the failing TFTP upload now that you have serial access.&nbsp; I suspect that (but have never confirmed) this would work with a tiny/minimal image (less than 2MB); but you would have to build this yourself, or you might find one at DD-WRT.&nbsp; </p><p>What works on the Linksys E3000 is to interrupt the boot (CTRL-C) from the serial console while it is still in the CFE, almost immediately after powering on.&nbsp; You should get a &quot;CFE&gt; &quot; command prompt at that point.&nbsp; If you type in &quot;help&quot;, it should list the commands that are available (try &quot;help upgrade&quot;).&nbsp; The command that I use is &quot;upgrade code.bin&quot;.&nbsp; Once I&nbsp; do that, I am able to TFTP a new image to the device (stock firmware, or appropriate openwrt-xxxxx.bin) using the following command from my Linux box:</p><p>tftp -4 -m octet 192.168.1.1 -c put &lt;openwrt-xxxxx.bin&gt;</p><br /><p>When it&#039;s all done, simply type in &quot;reboot&quot; at the serial console, or power cycle the router</p><p>As these instructions are for a different device (same CFE version 1.0.37, but much newer build date), use at your own risk.&nbsp; Try searching the forums and/or WIKI for &quot;upgrade code.bin&quot;, or maybe Google for more info.</p><p>If coming from DD-WRT, I would recommend flashing the stock firmware, restore factory defaults from within the stock firmware, reboot, and then flash OpenWRT (this should reset the NVRAM back to factory settings).</p><p>Hope this is helpful,</p><p>Nathan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168501">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						30 May 2012, 06:48					</div>
				</div>
				<div class="post-content content">
					<p>Well some good news.&nbsp; I was able to flash to the original Linksys Firmware.</p><p>Next step was image builder built a WRT300Nv1.1.bin file and tftp installed it ok.</p><p>Telnet was able to connect and set the root passwd.</p><p>Connected by ssh/putty and was able to get in.</p><p>The web interface of 192.168.1.1 will not load.</p><p>opkg shows the ulci and libuci packages exist</p><p>Something is missing for http access.&nbsp; Not sure what but that&#039;s for another day..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168601">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						30 May 2012, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>Well talk about learning &quot;on the fly&quot;.&nbsp; I&#039;ve been playing with Image Generator and found out that the brcm47xx images using the 2.6 kernel while they boot and access the serial port do not have the drivers for the ethernet or wireless in my Linksys WRT300N, that or I&#039;ve not specified the correct packages.&nbsp; Now the brcm-2.4 images work great and with tweaking of the profile I can add the uhttpd and ipv6 modules I want to use without having to download them from the wild wild web.&nbsp; As this stands I just flashed an image which should give me an http web page for config.&nbsp; Time will tell.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168744">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">boblfoot</div>
					<div class="post-datetime">
						31 May 2012, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>Success and closure.&nbsp; The Linksys WRT300Nv1.1 is now 10.03.1 with ipv6 and a web page for configuration.</p><p>Bottom Line as of 2012-06-04 only the 2.4 kernel version of backfire with broadcom-57xx module if built from image generator or build root works with my Linksys WRT300Nv1.1.&nbsp; Date of Manufacture 9/2007.</p>											<p class="post-edited">(Last edited by <strong>boblfoot</strong> on 6 Jun 2012, 00:55)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>