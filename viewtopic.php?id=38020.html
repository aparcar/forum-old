<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-LINK TL-WR1043ND and slow wireless connection</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p172081">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">kimmos</div>
					<div class="post-datetime">
						11 Jul 2012, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>After flashing our TPLINK TL-WR1043ND with OpenWrt i soon started to get complains from the family. In short: &quot;internet is slow&quot; was the feedback. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>My own computer is connected with a cable and i couldn&#039;t see any problems with the network. But when i looked my wife&#039;s macbook wireless connection speed, it was well below 10 Mbps, usually 1 or 2 Mbps. Then i rebooted the TP-LINK and when the connection came up again, OSX reported 130Mbps. Problem fixed? </p><p>No... Next day i got same feedback. And rebooting the TP-LINK fixed the problem again, until next day, etc.</p><p>Somehow the connection speed dies in about 12 hours.</p><p>Has anyone experienced anything similar? Is this maybe related to Atheros and Mac compatibility? I used the router with TP-LINK firmware for couple of months and do not recall hearing any complains.</p><p>Now the problem is &quot;fixed&quot; with this line in crontab:</p><p>30 5 * * * reboot</p><p>After adding that, no complains anymore. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> But i feel stupid to reboot router every day and would like to get better solution.</p><p>Hopefully you can help?</p><p>Router Model TP-LINK TL-WR1043ND (HW: Ver 1.4)<br />Firmware Version OpenWrt Backfire 10.03.1 / LuCI 0.10.0 Release (0.10.0)<br />Kernel Version 2.6.32.27</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172107">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ninno</div>
					<div class="post-datetime">
						12 Jul 2012, 08:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kimmos wrote:</cite><blockquote><p>After flashing our TPLINK TL-WR1043ND with OpenWrt i soon started to get complains from the family. In short: &quot;internet is slow&quot; was the feedback. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />...<br />Router Model TP-LINK TL-WR1043ND (HW: Ver 1.4)<br />Firmware Version OpenWrt Backfire 10.03.1</p></blockquote></div><p>Its a known atheros problem, not just tl-wr1043nd related. Backfire 10.03.1 is too old, try a current trunk release. For more see here:<br /><a href="https://dev.openwrt.org/ticket/9654">https://dev.openwrt.org/ticket/9654</a></p><p>Even though the probem is still not gone, your device recovers after a minute - there is no need to reboot to regain your connection. I have three routers running a backfire snapshot compiled 2 month ago (r31676), uptime of the routers between 2 and 4 weeks, about 50 wireless clients (the majority are apple devices) roaming between them, problem occurs from time to time, but does not really do any harm. In older releases i had to reboot each day.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172186">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kimmos</div>
					<div class="post-datetime">
						13 Jul 2012, 11:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ninno wrote:</cite><blockquote><div class="quotebox"><cite>kimmos wrote:</cite><blockquote><p>After flashing our TPLINK TL-WR1043ND with OpenWrt i soon started to get complains from the family. In short: &quot;internet is slow&quot; was the feedback. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />...<br />Router Model TP-LINK TL-WR1043ND (HW: Ver 1.4)<br />Firmware Version OpenWrt Backfire 10.03.1</p></blockquote></div><p>Its a known atheros problem, not just tl-wr1043nd related. Backfire 10.03.1 is too old, try a current trunk release. For more see here:<br /><a href="https://dev.openwrt.org/ticket/9654">https://dev.openwrt.org/ticket/9654</a></p></blockquote></div><p>Upgrade done. So far so good, only one message in kernel log. Will report again in about 10 days.</p><p>root@/ # cat /etc/openwrt_release <br />DISTRIB_ID=&quot;OpenWrt&quot;<br />DISTRIB_RELEASE=&quot;Bleeding Edge&quot;<br />DISTRIB_REVISION=&quot;r32680&quot;<br />DISTRIB_CODENAME=&quot;attitude_adjustment&quot;<br />DISTRIB_TARGET=&quot;ar71xx/generic&quot;<br />DISTRIB_DESCRIPTION=&quot;OpenWrt Attitude Adjustment r32680&quot;<br />root@/ # dmesg | tail -5<br />[&nbsp; &nbsp;61.330000] device wlan0 entered promiscuous mode<br />[&nbsp; &nbsp;61.970000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;61.980000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;63.980000] br-lan: port 2(wlan0) entered forwarding state<br />[11966.130000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />root@/ #</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182753">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Cuchachiwi</div>
					<div class="post-datetime">
						8 Nov 2012, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem.</p><p>My internet connection is 15Mbps and I only reach 2Mbps or less. If I reboot the router it goes almost to full speed but again in a couple of hours it slows down...</p><p>How can I fix it? And how can I download and install from the trunk?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222839">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pcpostar</div>
					<div class="post-datetime">
						15 Jan 2014, 19:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Cuchachiwi wrote:</cite><blockquote><p>I have the same problem.</p><p>My internet connection is 15Mbps and I only reach 2Mbps or less. If I reboot the router it goes almost to full speed but again in a couple of hours it slows down...</p><p>How can I fix it? And how can I download and install from the trunk?</p></blockquote></div><p> Can anyone confirm that?<br />I have the same issues. Wireles works, for a few hours.. but once a day I have to reboot router.<br />THen works fine for a wile.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222848">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						15 Jan 2014, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>After I upgraded to barrier breaker, I have ~80MBit on wifi with tl-wr1043nd after many days of uptime (with 2t2r receiver @ 40MHz bandwidth). The TX DMA bug is still present, but it&#039;s very rare. Now the TX DMA error itself have not caused any slow down or anything, at least in my case, so I see big progress.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>