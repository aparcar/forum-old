<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cross Compile Error</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p176304">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">roemer2201</div>
					<div class="post-datetime">
						29 Aug 2012, 15:54					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m using Xymon to monitor all my servers and therefore I compiled the latest xymon client for OpenWrt. I followed the instructions on the wiki: <a href="http://wiki.openwrt.org/doc/devel/crosscompile">http://wiki.openwrt.org/doc/devel/crosscompile</a><br />So here is what I did:</p><br /><p>--------------------------<br />mkdir compile<br />cd compile<br />wget <a href="http://downloads.sourceforge.net/project/xymon/Xymon/4.3.10/xymon-4.3.10.tar.gz">http://downloads.sourceforge.net/projec â€¦ .10.tar.gz</a><br />tar xsf xymon-4.3.10.tar.gz<br />cd xymon-4.3.10<br />PATH=$PATH:/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_gcc-4.6-linaro_uClibc-0.9.33.2/bin<br />export $PATH<br />STAGING_DIR=/home/roemer/dir825/trunk/staging_dir<br />export $STAGING_DIR<br />./configure --client --target=mpis-openwrt-linux-uclibc<br />view Makefile<br />nano build/Makefile.Linux # see Patchfile<br />nano build/Makefile.rules # see Patchfile<br />gcc -o lib/test-endianness lib/test-endianness.c<br />gcc -o build/merge-sects build/merge-sects.c<br />gcc -o build/merge-lines build/merge-lines.c<br />make<br />sudo make install<br />scp -r &lt;InstallDir&gt;/client root@OpenWrt:/tmp<br />--------------------------</p><p>Patch build/Makefile.Linux<br />--------------------------<br />--- xymon-4.3.10/build/Makefile.Linux&nbsp; &nbsp;2012-07-23 13:29:13.000000000 +0200<br />+++ xymon-4.3.10-openwrt/build/Makefile.Linux&nbsp; &nbsp;2012-08-28 16:30:27.949076752 +0200<br />@@ -6,7 +6,8 @@<br /> NETLIBS =</p><p> # Compile flags for normal build<br />-CC = gcc<br />+CC = mips-openwrt-linux-uclibc-gcc<br />+LD = mips-openwrt-linux-uclibc-ld<br /> GCCVER := $(shell gcc -dumpversion|cut -d. -f1)<br /> ifeq ($(GCCVER),4)<br />&nbsp; &nbsp; CFLAGS = -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT $(LFSDEF) $(OSDEF)<br />--------------------------</p><br /><p>Patch build/Makefile.rules<br />--------------------------<br />--- xymon-4.3.10/build/Makefile.rules&nbsp; &nbsp;2012-08-02 13:20:21.000000000 +0200<br />+++ xymon-4.3.10-openwrt/build/Makefile.rules&nbsp; &nbsp;2012-08-28 16:30:27.953076702 +0200<br />@@ -9,6 +9,11 @@<br /> #####################</p><p> CFLAGS += -I$(BUILDTOPDIR)/include<br />+CFLAGS += -I/home/oliver/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include<br />+CFLAGS += -I/home/oliver/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include<br />+<br />+LDFLAGS += -L/home/oliver/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/lib<br />+LDFLAGS += -L/home/oliver/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/lib</p><p> ifeq ($(CLIENTONLY),yes)<br />&nbsp; &nbsp; &nbsp; &nbsp; BUILDTARGETS = client<br />--------------------------</p><p>Now the actual Problem: As you can see i precompiled <br />lib/test-endianness <br />build/merge-sects<br />build/merge-lines<br />with gcc. If I&#039;m not doing this, the following output occurs:</p><p>--------------------------<br />make<br />MAKE=&quot;make&quot; CC=&quot;mips-openwrt-linux-uclibc-gcc&quot; CFLAGS=&quot;-g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I`pwd`/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1&quot; LDFLAGS=&quot;-L/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/lib -L/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/lib&quot; `pwd`/build/genconfig.sh<br />Checking for socklen_t<br />Checking for snprintf<br />Checking for vsnprintf<br />Checking for rpc/rpcent.h<br />Checking for sys/select.h<br />Checking for u_int32_t typedef<br />Checking for PATH_MAX definition<br />./build/testfile: 1: Syntax error: &quot;(&quot; unexpected<br />Checking for SHUT_RD/WR/RDWR definitions<br />./build/testfile: 1: Syntax error: &quot;(&quot; unexpected<br />Checking for strtoll()<br />config.h created<br />CC=&quot;mips-openwrt-linux-uclibc-gcc&quot; CFLAGS=&quot;-g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I`pwd`/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1&quot; LDFLAGS=&quot;-L/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/lib -L/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/lib&quot; OSDEF=&quot;-DLINUX&quot; RPATHOPT=&quot;-Wl,--rpath,&quot; PCREINCDIR=&quot;&quot; ZLIBINCDIR=&quot;&quot; SSLFLAGS=&quot;&quot; SSLINCDIR=&quot;&quot; SSLLIBS=&quot;&quot; NETLIBS=&quot;&quot; LIBRTDEF=&quot;-lrt&quot; XYMONTOPDIR=&quot;/usb/usr/local/hobbit&quot; XYMONLOGDIR=&quot;&quot; XYMONHOSTNAME=&quot;&quot; XYMONHOSTIP=&quot;78.111.78.35&quot; XYMONHOSTOS=&quot;&quot; LOCALCLIENT=&quot;no&quot; make -C lib client<br />make[1]: Betrete Verzeichnis &#039;/tmp/compile/xymon-4.3.10-openwrt/lib&#039;<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; -o test-endianness test-endianness.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o osdefs.o osdefs.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o cgiurls.o cgiurls.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; -DCLIENTONLY -c -o color-client.o color.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o crondate.o crondate.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o digest.o digest.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o encoding.o encoding.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; -DXYMONTOPDIR=\&quot;/usb/usr/local/hobbit\&quot; -DXYMONLOGDIR=\&quot;\&quot; -DXYMONHOSTNAME=\&quot;\&quot; -DXYMONHOSTIP=\&quot;78.111.78.35\&quot; -DXYMONHOSTOS=\&quot;\&quot; -DBUILD_HOME=\&quot;/usb/usr/local/hobbit/client\&quot; -c -o environ-client.o environ.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o errormsg.o errormsg.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o holidays.o holidays.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o ipaccess.o ipaccess.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o md5.o md5.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o memory.o memory.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o misc.o misc.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; &nbsp; -c -o msort.o msort.c<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; `./test-endianness` -c -o rmd160c.o rmd160c.c<br />./test-endianness: 9: 4?p4: not found<br />./test-endianness: 9: @: not found<br />./test-endianness: 9: @d@: not found<br />./test-endianness: 9: ?<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pA: not found<br />./test-endianness: 9: A: not found<br />./test-endianness: 9: @@8ppp@p: not found<br />./test-endianness: 9: pp@P0p2A: not found<br />./test-endianness: 9: : not found<br />: not foundnness: 9: <br />./test-endianness: 9: P?A: not found<br />./test-endianness: 9: ??*A?0??ns.@?: not found<br />./test-endianness: 9: ELF@@dt?Q/lib/ld-uClibc.so.0??A?0d<br />?@&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@?<br />&nbsp; &nbsp; &nbsp;: not found<br />./test-endianness: 10: ??A: not found<br />./test-endianness: 11: L???4?<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;?A: not found<br />./test-endianness: 18: ?A: not found<br />./test-endianness: 18: L??:A: not found<br />./test-endianness: 18: @???A: not found<br />./test-endianness: 18: ???P: not found<br />./test-endianness: 18: L??libgcc_s.so.1_DYNAMIC_LINKING__RLD_MAP_gp_init_fini_GLOBAL_OFFSET_TABLE__Jv_RegisterClasseslibc.so.0putsfflushfprintf__uClibc_mainstrcmpstderrstdout_ftext_fdata_edata__bss_start_fbss_endA: not found<br />./test-endianness: 18: P~A: not found<br />./test-endianness: 18: ~A: not found<br />./test-endianness: 19: A: not found<br />./test-endianness: 20: A: not found<br />./test-endianness: 21: $A: not found<br />./test-endianness: 38: Syntax error: &quot;(&quot; unexpected (expecting &quot;)&quot;)<br />mips-openwrt-linux-uclibc-gcc -g -O2 -Wall -Wno-unused -Wno-pointer-sign -D_REENTRANT -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DLINUX -I/tmp/compile/xymon-4.3.10-openwrt/include -I/home/roemer/dir825/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/include -I/home/roemer/dir825/trunk/staging_dir/toolchain-mips_r2_uClibc-0.9.33.2/usr/include -DCLIENTONLY=1 -I../include&nbsp; `./test-endianness` -c -o sha1.o sha1.c<br />./test-endianness: 9: 4?p4: not found<br />./test-endianness: 9: @: not found<br />./test-endianness: 9: @d@: not found<br />./test-endianness: 9: ?<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pA: not found<br />./test-endianness: 9: A: not found<br />./test-endianness: 9: @@8ppp@p: not found<br />./test-endianness: 9: pp@P0p2A: not found<br />./test-endianness: 9: : not found<br />: not foundnness: 9: <br />./test-endianness: 9: P?A: not found<br />./test-endianness: 9: ??*A?0??ns.@?: not found<br />./test-endianness: 9: ELF@@dt?Q/lib/ld-uClibc.so.0??A?0d<br />?@&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@?<br />&nbsp; &nbsp; &nbsp;: not found<br />./test-endianness: 10: ??A: not found<br />./test-endianness: 11: L???4?<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;?A: not found<br />./test-endianness: 18: ?A: not found<br />./test-endianness: 18: L??:A: not found<br />./test-endianness: 18: @???A: not found<br />./test-endianness: 18: ???P: not found<br />./test-endianness: 18: L??libgcc_s.so.1_DYNAMIC_LINKING__RLD_MAP_gp_init_fini_GLOBAL_OFFSET_TABLE__Jv_RegisterClasseslibc.so.0putsfflushfprintf__uClibc_mainstrcmpstderrstdout_ftext_fdata_edata__bss_start_fbss_endA: not found<br />./test-endianness: 18: P~A: not found<br />./test-endianness: 18: ~A: not found<br />./test-endianness: 19: A: not found<br />./test-endianness: 20: A: not found<br />./test-endianness: 21: $A: not found<br />./test-endianness: 38: Syntax error: &quot;(&quot; unexpected (expecting &quot;)&quot;)<br />sha1.c:38:2: error: #error &quot;Endianness is UNDEFINED&quot;<br />make[1]: *** [sha1.o] Fehler 1<br />make[1]: Verlasse Verzeichnis &#039;/tmp/compile/xymon-4.3.10-openwrt/lib&#039;<br />make: *** [lib-client] Fehler 2<br />--------------------------</p><p>I&#039;ve tried compiling them this way, but the error occurs:<br />--------------------------<br />mips-openwrt-linux-uclibc-gcc test-endianness.c <br />./a.out <br />-bash: ./a.out: Could not execute this file.<br />--------------------------</p><p>After this compiling successfully finished, but &quot;make install&quot; failed:<br />--------------------------<br />...<br />cp -fp xymonlaunch logfetch clientupdate orcaxymon msgcache xymonclient*.sh xymon xymoncmd xymongrep xymoncfg xymondigest&nbsp; /usb/usr/local/hobbit/client/bin/<br />chmod ugo+x /usb/usr/local/hobbit/client/bin/*<br />../build/merge-sects clientlaunch.cfg /usb/usr/local/hobbit/client/etc/clientlaunch.cfg<br />../build/merge-sects: 1: Syntax error: &quot;(&quot; unexpected<br />make[1]: *** [install] Fehler 2<br />make[1]: Verlasse Verzeichnis &#039;/tmp/compile/xymon-4.3.10-openwrt/client&#039;<br />make: *** [install-client] Fehler 2<br />--------------------------</p><p>This is why I precompiled the other two files mentioned above, too.</p><p>The ongoing error is the syntax error, so I was wondering if someone of you could tell me whats wrong with this code: (test-endianness.c) There must be a little change in the syntax so that the compiler delivered with openwrt could correctly compile it.<br />--------------------------<br />/*----------------------------------------------------------------------------*/<br />/* Xymon monitor library.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/<br />/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br />/* Utility program to define endian-ness of the target system.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br />/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br />/* Copyright (C) 2006-2011 Henrik Storner &lt;henrik@storner.dk&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/<br />/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br />/* This program is released under the GNU General Public License (GPL),&nbsp; &nbsp; &nbsp; &nbsp;*/<br />/* version 2. See the file &quot;COPYING&quot; for details.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/<br />/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br />/*----------------------------------------------------------------------------*/</p><p>static char rcsid[] = &quot;$Id: test-endianness.c 6712 2011-07-31 21:01:52Z storner $&quot;;</p><p>#include &lt;string.h&gt;<br />#include &lt;stdio.h&gt;<br />#include &lt;stdlib.h&gt;<br />#include &lt;unistd.h&gt;</p><p>int main(int argc, char **argv)<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; unsigned int c;<br />&nbsp; &nbsp; &nbsp; &nbsp; unsigned char cbuf[sizeof(c)];<br />&nbsp; &nbsp; &nbsp; &nbsp; int i;<br />&nbsp; &nbsp; &nbsp; &nbsp; int outform = 1;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if ((argc &gt; 1) &amp;&amp; (strcmp(argv[1], &quot;--configh&quot;) == 0)) outform = 0;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; for (i=0; (i &lt; sizeof(c)); i++) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cbuf[i] = (i % 2);<br />&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; memcpy(&amp;c, cbuf, sizeof(c));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if (c == 65537) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Big endian */<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (outform == 0)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(&quot;#ifndef XYMON_BIG_ENDIAN\n#define XYMON_BIG_ENDIAN\n#endif\n&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(&quot; -DXYMON_BIG_ENDIAN&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; else if (c == 16777472) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Little endian */<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (outform == 0)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(&quot;#ifndef XYMON_LITTLE_ENDIAN\n#define XYMON_LITTLE_ENDIAN\n#endif\n&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(&quot; -DXYMON_LITTLE_ENDIAN&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fprintf(stderr, &quot;UNKNOWN ENDIANNESS! testvalue is %u\n&quot;, c);<br />&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; fflush(stdout);<br />&nbsp; &nbsp; &nbsp; &nbsp; return 0;<br />}<br />--------------------------</p><p>Thanks for your help :-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>