<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT on TP-LINK TL-WA5210G</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 5 Apr 2018 and 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=26261&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p115826">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">setevoy</div>
					<div class="post-datetime">
						25 Aug 2010, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>Please tell me your opinion about support of TP-LINK TL-WA5210G.</p><p>Hardware:<br />CPU Atheros AR2315A<br />Amplifier SE2576L <a href="http://www.sige.com/files/PB_DST_SE2576L.pdf">http://www.sige.com/files/PB_DST_SE2576L.pdf</a><br />Flash 4MB&nbsp; S25FL032A <a href="http://www.spansion.com/Support/Datasheets/S25FL032A_00_C3_e.pdf">http://www.spansion.com/Support/Datashe … 0_C3_e.pdf</a><br />RAM 16 MB M12L128168A <a href="http://www.esmt.com.tw/DB/manager/upload/M12L128168A.pdf">http://www.esmt.com.tw/DB/manager/uploa … 28168A.pdf</a><br />Ethernet RTL8201CP <a href="http://realtek.info/pdf/rtl8201cp.pdf">realtek.info/pdf/rtl8201cp.pdf</a></p><p>Images:<br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0002.jpg">http://proline.biz.ua/files/external_li … g_0002.jpg</a><br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0003.jpg">http://proline.biz.ua/files/external_li … g_0003.jpg</a><br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0005.jpg">http://proline.biz.ua/files/external_li … g_0005.jpg</a><br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0006.jpg">http://proline.biz.ua/files/external_li … g_0006.jpg</a><br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0007.jpg">http://proline.biz.ua/files/external_li … g_0007.jpg</a><br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0008.jpg">http://proline.biz.ua/files/external_li … g_0008.jpg</a><br /><a href="http://proline.biz.ua/files/external_link/wa5210g/img_0009.jpg">http://proline.biz.ua/files/external_li … g_0009.jpg</a></p><p>Let me know if you&#039;ll need additional info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115957">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						27 Aug 2010, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>What OS is preinstalled?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115981">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">setevoy</div>
					<div class="post-datetime">
						27 Aug 2010, 13:46					</div>
				</div>
				<div class="post-content content">
					<p>Standard tp-link firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116029">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						28 Aug 2010, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>It is possible to run openwrt on ar2315/4/16 but need actual hardware for testing. Do you have a original flash dump?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116372">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jkimmel</div>
					<div class="post-datetime">
						3 Sep 2010, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>Any idea how to flash those units?</p><p>I tried with AP51, fonflash and open-mesh-flash. exe, could not bypass redboot.</p>											<p class="post-edited">(Last edited by <strong>jkimmel</strong> on 3 Sep 2010, 17:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116491">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						5 Sep 2010, 10:35					</div>
				</div>
				<div class="post-content content">
					<p>AFAIK original FW does not have redboot and any other bootloader in sense you can access their debug console and flash your custom images. <br />So there are only complex way - you can do this by JTAG, program flash chip directly, or... prepare your images so they will fit into TpLink custom WEB update format.<br />There no easy way, guys.</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 5 Sep 2010, 10:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124433">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">garmongoza</div>
					<div class="post-datetime">
						3 Jan 2011, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello! Someone has already flash tp-link tl-wa5210g?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131027">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">gneto80</div>
					<div class="post-datetime">
						18 Mar 2011, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>is it possible that the hardware is the same of ubiquiti picostation? Do you think it&#039;s possible use picostation&#039;s openwrt firmware??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146249">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						20 Oct 2011, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>Any update? Is it possible to use openwrt with WA5210G ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154567">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">maptiger</div>
					<div class="post-datetime">
						18 Jan 2012, 10:04					</div>
				</div>
				<div class="post-content content">
					<p>Any updates for WA5210G???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154570">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						18 Jan 2012, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>This would be a perfect outdoor openwrt router, hopefully it gets some traction soon...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154573">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						18 Jan 2012, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>xssa build openwrt for ar5317<br />if you&#039;re daring enough (and you have serial ttl console connected) you can try these builds <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr542g">http://wiki.openwrt.org/toh/tp-link/tl-wr542g</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p179319">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						25 Sep 2012, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>Has anybody tried? I have no hardware so I can&#039;t try <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />If anybody sends me one I have cables and expertise to test and troubelshoot if this router will work with openwrt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p179547">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">tcatm</div>
					<div class="post-datetime">
						27 Sep 2012, 13:39					</div>
				</div>
				<div class="post-content content">
					<p>A friend and I started hacking on the WA5210G yesterday. We&#039;ve made some progress and were able to start a kernel (well, until it panics because it doesn&#039;t know the hardware).</p><p>Some facts we discovered:</p><p>* it is running vxworks<br />* there is no &quot;bootloader&quot;, just a decompressor<br />* RAM is at 0x80000000, FLASH at 0xBFC00000<br />* the firmware update has a 20 byte header, after that&#039;s the data is written straight to the flash</p><p>We gained access to the raw flash (8 pin SPI flash near the UART header) using a Buspirate and assembled a tiny &quot;Hello world&quot;-firmware in order to test the flashing procedure and our assumptions about the memory mappings. They turned out to be correct and we concluded the platform to be very close to AP51 so we wrote redboot from <a href="http://www.dd-wrt.com/dd-wrtv2/downloads/others/eko/BrainSlayer-V24-preSP2/2011/04-09-11-r16754/bountiful-bwrg1000/ap51.rom">http://www.dd-wrt.com/dd-wrtv2/download … 0/ap51.rom</a> to the flash.</p><p>Next up was initializing redboot (fis init, fconfig, ...) and flashing a kernel using TFTP. Unfortunately, it had a kernel panic so the next step will be getting the kernel to run. We also need to figure out how to craft a firmware upgrade that will install and setup redboot without a buspirate.</p><p>Hello-World-Firmware:<br />Source: <a href="https://gist.github.com/3793343">https://gist.github.com/3793343</a><br />Compile: as -o hello.o hello.S; objcopy hello.o -O binary hello.bin -j .text</p><p>Kernel bootlog: <a href="http://pastebin.com/raw.php?i=H5MV0xBn">http://pastebin.com/raw.php?i=H5MV0xBn</a><br />Original firmware bootlog: <a href="http://pastebin.com/raw.php?i=H5QEL6Cz">http://pastebin.com/raw.php?i=H5QEL6Cz</a><br />Redboot log: <a href="http://pastebin.com/raw.php?i=zDxm1Q2x">http://pastebin.com/raw.php?i=zDxm1Q2x</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p179616">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">nino7050</div>
					<div class="post-datetime">
						28 Sep 2012, 11:30					</div>
				</div>
				<div class="post-content content">
					<p>I hope you can find a way guys i am verry interesed cuz i have one<br />If evrything go ok with this what wee win? Sorry for my english</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p179810">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Tolyan</div>
					<div class="post-datetime">
						1 Oct 2012, 10:58					</div>
				</div>
				<div class="post-content content">
					<p>20 byte header - <br />[0x00000000-0x00000004] - The length of the firmware without a title<br />[0x00000004-0x00000014] - checksum md5</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p180151">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">tcatm</div>
					<div class="post-datetime">
						6 Oct 2012, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>I got a root shell by moving the boardconfig from 0x1f0000 to 0x3f0000: <a href="http://pastebin.com/raw.php?i=AMxwdGV1">http://pastebin.com/raw.php?i=AMxwdGV1</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p180153">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						7 Oct 2012, 10:29					</div>
				</div>
				<div class="post-content content">
					<p>OMG that&#039;s GREAT!</p><p>how far are we from having an image flashable from stock GUI?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p180876">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">wrtg_spain</div>
					<div class="post-datetime">
						18 Oct 2012, 10:31					</div>
				</div>
				<div class="post-content content">
					<p>any updates?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182774">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">bobanpnb</div>
					<div class="post-datetime">
						9 Nov 2012, 07:54					</div>
				</div>
				<div class="post-content content">
					<p>please help,<br />my 5210g broke down,<br />diode circuit D16 burnt and no way to read out marking.<br />any user of wa5210g to read marking/sign from D16?<br />D16 is located by HST1025(big black component by lan connector)<br />thanks in advance...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183064">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Sash</div>
					<div class="post-datetime">
						12 Nov 2012, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>its a 1.5ke protection diode model. cant see the exact model. just remove it. the unit should work then. if not its burned completely</p><br /><p>@tcatm<br />we should try to get the jtag pinout on this model. so redboot flashing and debugging gets easier</p>											<p class="post-edited">(Last edited by <strong>Sash</strong> on 12 Nov 2012, 23:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188258">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">ukraine_russia_friends</div>
					<div class="post-datetime">
						8 Jan 2013, 07:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tcatm wrote:</cite><blockquote><p>* there is no &quot;bootloader&quot;, just a decompressor<br />* RAM is at 0x80000000, FLASH at 0xBFC00000<br />* the firmware update has a 20 byte header, after that&#039;s the data is written straight to the flash</p></blockquote></div><p>Always reflash 5210G to Ubiquti Nanostation 2 free (one activation per day or email request)</p><p><a href="http://wa5210g.blogspot.com">http://wa5210g.blogspot.com</a></p><p>discussion in russian<br /><a href="http://www.lan23.ru/forum/showthread.php?t=8581">http://www.lan23.ru/forum/showthread.php?t=8581</a></p><p>please help revers-ingenering horizontal/vertical antenna gpio..</p>											<p class="post-edited">(Last edited by <strong>ukraine_russia_friends</strong> on 8 Jan 2013, 07:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195228">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">unicorp99</div>
					<div class="post-datetime">
						18 Mar 2013, 05:34					</div>
				</div>
				<div class="post-content content">
					<p>After re-flash TL-WA5210G in Ubiqiuiti Nanostation 2, easily load to AP openwrt.<br />But can not work horizontal antenna.</p><p>-------------------------------------------------------------------------------</p><p>the fact is, what TP-Link use 2MB of SPI Flash 4MB, and EEPROM place in end of 2MB address space from 4MB in all, that is EEPROM in the middle of SPI Flash, and divide one half address space. (in Ubiquiti EEPROM in end of SPI Flash, normally in end of 4 MB)</p><p>If anybody can make open source redboot to convert TP-Link 5210G 2MB virtually model memory to 4MB real SPI Flash, it is all right, and we can sign redboot. Send redboot to us, and we do it. (after that need also non-standard steps to return back to TP-Link, if need be)</p><p>After that, it is suitable to openwrt in TP-Link.</p><p>-------------------------------------------------------------------------------</p><br /><p>Who is undestanding EEPROM 800b Atheros field by field and can explain:</p><p>which byte in EEPROM of Nanos 2 or other 2.4MHz device corresponding to which data?</p><p>If you can explain, or may help in this question, please do it.</p><p>I find on address in 800b EEPROM Atheros, staring from 3f00f8h of full dump:<br />02h manufacturer 168ch<br />0eh Ubiquiti model c002h<br />10h manufacturer 0777h (non-Ubiquiti) - 168ch (Ubiquiti)<br />3ah MAC address backwards swap twice byte 34 56 6d 12 00 15<br />7ah 5aa5 valid (3dh adress in open software atheros c file)<br />14ah MAC address backwards 56 34 12 6d 15 00</p><p>MAC addr of device: 00 15 6d 12 34 56 for example</p><p>Where byte of antenna switch?</p>											<p class="post-edited">(Last edited by <strong>unicorp99</strong> on 20 Mar 2013, 03:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197547">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">yehat</div>
					<div class="post-datetime">
						7 Apr 2013, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>How can I try this re-flashing program? It seems to require &quot;activation&quot;?</p><br /><div class="quotebox"><cite>ukraine_russia_friends wrote:</cite><blockquote><div class="quotebox"><cite>tcatm wrote:</cite><blockquote><p>* there is no &quot;bootloader&quot;, just a decompressor<br />* RAM is at 0x80000000, FLASH at 0xBFC00000<br />* the firmware update has a 20 byte header, after that&#039;s the data is written straight to the flash</p></blockquote></div><p>Always reflash 5210G to Ubiquti Nanostation 2 free (one activation per day or email request)</p><p><a href="http://wa5210g.blogspot.com">http://wa5210g.blogspot.com</a></p><p>discussion in russian<br /><a href="http://www.lan23.ru/forum/showthread.php?t=8581">http://www.lan23.ru/forum/showthread.php?t=8581</a></p><p>please help revers-ingenering horizontal/vertical antenna gpio..</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197703">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">unicorp99</div>
					<div class="post-datetime">
						8 Apr 2013, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, but payment question may be banned on this forum, and best idea: go to <a href="http://wa5210g.blogspot.ru/2013/01/mac.html">http://wa5210g.blogspot.ru/2013/01/mac.html</a></p><div class="quotebox"><cite>yehat wrote:</cite><blockquote><p>How can I try this re-flashing program? It seems to require &quot;activation&quot;?</p></blockquote></div>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=26261&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>