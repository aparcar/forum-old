<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> No /dev/sda* for USB in TP-LINK MR3020</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p285495">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sindhus</div>
					<div class="post-datetime">
						29 Jul 2015, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>hi!</p><p>I have Openwrt Attitude Adjustment installed on my TP-LINK MR3020 and so far all is good. I have setup my wifi to be a client of another wireless router I have so I am able to access internet on my computer *and* mess around with my TP-LINK router on my macbook running OSX.</p><p>I installed all requisite packages as asked on wiki page for USB drive detection yet I don&#039;t see any /dev/sda* at all! I rebooted the router a couple of times.</p><p>root@OpenWrt:/# ls /dev/*<br />/dev/console&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/mtdblock0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS11<br />/dev/cpu_dma_latency&nbsp; &nbsp; &nbsp;/dev/mtdblock1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS12<br />/dev/full&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/mtdblock2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS13<br />/dev/kmsg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/mtdblock3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS14<br />/dev/log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/mtdblock4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS15<br />/dev/mem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/mtdblock5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS2<br />/dev/mtd0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/network_latency&nbsp; &nbsp; &nbsp;/dev/ttyS3<br />/dev/mtd0ro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/network_throughput&nbsp; /dev/ttyS4<br />/dev/mtd1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/null&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS5<br />/dev/mtd1ro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/port&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS6<br />/dev/mtd2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ppp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/ttyS7<br />/dev/mtd2ro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ptmx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS8<br />/dev/mtd3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/random&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS9<br />/dev/mtd3ro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/tty&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/urandom<br />/dev/mtd4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyATH0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/watchdog<br />/dev/mtd4ro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/zero<br />/dev/mtd5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS1<br />/dev/mtd5ro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/ttyS10</p><p>/dev/bus:<br />usb</p><p>/dev/pts:<br />0</p><p>/dev/shm:</p><br /><p>Also I cant seem to install (because there is no such package) or find &quot;fdisk&quot; package.</p><p>Help? Thanks!</p>											<p class="post-edited">(Last edited by <strong>sindhus</strong> on 29 Jul 2015, 18:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285612">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yoyellow</div>
					<div class="post-datetime">
						30 Jul 2015, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>what does dmesg tell you?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285613">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sindhus</div>
					<div class="post-datetime">
						30 Jul 2015, 13:48					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://fpaste.org/249714/25334914/raw/">http://fpaste.org/249714/25334914/raw/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285635">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">yoyellow</div>
					<div class="post-datetime">
						30 Jul 2015, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>did you connect the stick with this ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285681">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						30 Jul 2015, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>List all packages (and only those) that you installed for USB support.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286795">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">sindhus</div>
					<div class="post-datetime">
						8 Aug 2015, 21:23					</div>
				</div>
				<div class="post-content content">
					<p>Since I couldn&#039;t get Breaking Barrier to recognize USB disks, I upgraded my TP-LINK to the latest image from trunk [1] but that too failed to recognize USB despite all modules being installed. Finally I installed Attitude Adjustment, then did the following:</p><p>0. Setup up my wifi and other basic Internet setups<br />1. Installed kmod-usb-storage, kmod-usb-ohci, kmod-fs-ext4, kmod-usb-uhci&nbsp; &nbsp; , dosfsck, dosfslabel, block-mount<br />2. Put my USB disk, checked with &#039;dmesg&#039;, recognised, yay!<br />3. Followed instructions from [2] to automount (once this is in place, my UI has a new tab called Mount Points under System <a href="http://i.imgur.com/3L5dT30.png)">http://i.imgur.com/3L5dT30.png)</a></p><p>Thanks for everyone who helped out! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Hope my notes help someone!</p><p>[1] <a href="https://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin">https://downloads.openwrt.org/snapshots … actory.bin</a><br />[2] <a href="http://wiki.openwrt.org/doc/howto/storage#automatic_mount_on_boot">http://wiki.openwrt.org/doc/howto/stora … nt_on_boot</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>