<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> restore an older firmware linksys wrt54gs</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p6891">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ablyes</div>
					<div class="post-datetime">
						7 May 2005, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>hello,<br />i&#039;ve injected an openWrt firmware to my wrt54gs. <br />i want to restore the old firmware. or another ...<br />the html interface don&#039;t integer a flash part. i used tftp under freeBsd.</p><p>tftp 192.168.1.1<br />tftp&gt; binary<br />tftp&gt; rexmt 1<br />tftp&gt; trace<br />Packet tracing on.<br />tftp&gt; put openwrt-g-code.bin</p><p>but a have a time out. i have similar results under windows xp.<br />i&#039;ve tried with two different card lan, an sis 900 and a realtek.</p><p>i realy need to restore it. <br />thanx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6898">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wirelessjoe</div>
					<div class="post-datetime">
						8 May 2005, 01:19					</div>
				</div>
				<div class="post-content content">
					<p>here is my 2 cents</p><p>whenever you sending firmware using tftp<br />plug your router&#039;s lan to a switch<br />plug your pc to the same switch (or HUB) whatever<br />this way while router booting network link is up so tftp won&#039;t timeout</p><br /><p>now type this: if you are from windows tftp -i 192.168.1.1 put yourhackwrtimage.bin&nbsp; hold on don&#039;t press enter yet<br />unplug the power cable from router, then wait 2sec now as you pluging the power cable hit hard on enter<br />wati LED will flash like Christmas Lights</p><p>onec everything back to normal you good to go</p><p>wireless joe</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6908">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ssjoholm</div>
					<div class="post-datetime">
						8 May 2005, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>Howdy,</p><p>Another way to reflash to another firmware from OpenWRT is to use the MTD command, please look at the OpenWRT page for more information : <a href="http://openwrt.org/OpenWrtFaq#head-e9d1d6a54806a68fe48c16766aef84207101a130">http://openwrt.org/OpenWrtFaq#head-e9d1 … 207101a130</a></p><p>regards,<br />Sebastian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6941">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dubdub</div>
					<div class="post-datetime">
						9 May 2005, 11:44					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem on a WRT54G, loaded with last experimental squashfs firmware.<br />I log in openWRT, I put boot_wait to on, I commit change, I reboot.<br />No way to load via tftp the linksys firmware (old 2.02.7 version) : timed out.<br />This is new : it used to work with the previous openWRT version.<br />I will try to use mtd soon.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6945">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dubdub</div>
					<div class="post-datetime">
						9 May 2005, 12:46					</div>
				</div>
				<div class="post-content content">
					<p>Well, I&#039;ve tried the mtd method... not morking !<br />it begins and failed immediatly :<br />erasing mtd failed : linux</p><p>before, I&#039;ve used the dd tool like explained, then I used scp to copy the trx file to /tmp on WRT54G router.<br />Any idea how to go back to linksys firmware from openWRT squashfs ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6946">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ssjoholm</div>
					<div class="post-datetime">
						9 May 2005, 12:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dubdub wrote:</cite><blockquote><p>Well, I&#039;ve tried the mtd method... not morking !<br />it begins and failed immediatly :<br />erasing mtd failed : linux</p><p>before, I&#039;ve used the dd tool like explained, then I used scp to copy the trx file to /tmp on WRT54G router.<br />Any idea how to go back to linksys firmware from openWRT squashfs ?</p></blockquote></div><p>Did you try to unlock first, I received same problem couple of times and after doing &quot;mtd unlock linux&quot; it has worked.</p><p>Maybe some with more experience could confirm that it is normal that &#039;reboot&#039; cmd does not work after the reflash&nbsp; and that it has to be unlocked before flashing, then we could add this to the FAQ page as well.</p><p>Below printouts when I received same problem, and had to use &#039;unlock&#039; to get it written.</p><p>root@OpenWrt:/# cd /tmp<br />root@OpenWrt:~# wget -O /tmp/linux.trx <a href="http://lairds.org/Kyler/Linux/OpenWRT/WRT54G_2.02.8_US_code_BETA.trx">http://lairds.org/Kyler/Linux/OpenWRT/W … e_BETA.trx</a><br />Connecting to lairds.org[66.90.77.218]:80<br />linux.trx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100% |*********************************************************************|&nbsp; 3208 KB&nbsp; &nbsp; 00:00 ETA<br />root@OpenWrt:~# mtd write /tmp/linux.trx linux &amp;&amp; reboot<br />Writing /tmp/linux.trx to linux ...<br />Erasing mtd failed: linux<br />root@OpenWrt:~# mtd unlock linux &amp;&amp; mtd write /tmp/linux.trx linux &amp;&amp; reboot<br />Unlocking linux ...<br />Writing /tmp/linux.trx to linux ...<br />/bin/ash: reboot: Input/output error<br />root@OpenWrt:~# reboot<br />/bin/ash: reboot: Input/output error<br />root@OpenWrt:~#</p><p>(and power on/off to reboot...)</p><p>regards,<br />Sebastian</p>											<p class="post-edited">(Last edited by <strong>ssjoholm</strong> on 9 May 2005, 13:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61606">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Yen</div>
					<div class="post-datetime">
						12 Jan 2008, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>I bricked my router and can confirm that the instructions above work.</p><p>How I did it without a spare switch or hub:</p><p>I used Wireshark to check if it&#039;s broadcasting anything useful and found this:<br />&nbsp; &nbsp; &nbsp; f4E@@7+Press reset now, to enter Failsafe!<br />Well you should already pressing your reset button by now.<br />&nbsp; &nbsp; &nbsp; f4E@@7Entering Failsafe!<br />Thank you, I can telnet the router now :-)</p><p>The md5 checksum for those who care:<br />7e9b1f5a751f8aa08d8f40c1024b91c0&nbsp; WRT54G_2.02.8_US_code_BETA.trx</p><p>Hardware: Linksys WRT54G v2 (can work on others)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128070">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Aliman</div>
					<div class="post-datetime">
						12 Feb 2011, 07:29					</div>
				</div>
				<div class="post-content content">
					<p>actually i have install OpenWRT in this router linksys WRT54GL... for the first time, it connect successfully...when i try to connect again, it unsuccessful...</p><p>i can&#039;t even ping 192.168.1.1...</p><p>when i push the reset button, nothing happend.. the power light does not blink at all...</p><br /><br /><p>what can i do more to settle this???...arghhhh...</p><p>please help me....</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>