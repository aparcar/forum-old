<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bootloader/Image for a DLink DWL-2100AP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Mar 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 11 of 15</div><nav><ul><li><a href="viewtopic.php%3Fid=6357&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=6357&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=6357&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=6357&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=6357&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=6357&amp;p=15.html">15</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p68200">
				<div class="post-metadata">
					<div class="post-num">Post #251</div>
					<div class="post-author">chianq</div>
					<div class="post-datetime">
						14 May 2008, 05:57					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>just stumble on this thread while looking for solution for my <a href="http://forum.openwrt.org/viewtopic.php?id=15656">problem</a>.</p><p>To cut the long story short, I&#039;ve brick my DWL-2100 while trying to replace the vxwork with redboot (compiled myself). <br />I&#039;ve tryied to debrick it by using macraigor usb2demon &amp; OCD Commander (I can&#039;t use urjtag or jtag-0.6-cvs because there is no support for USB2demon as far as i know).</p><p>however, ocd commander won&#039;t work properly unless I&#039;ve written some init code (macro) to initialize the board first.<br />Apparently my init code is messedup.. the SDRAM didn&#039;t function properly after running the macro file. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>i&#039;m quite surprise that urjtag/jtag tool do not need any init code to bring the board&#039;s sdram into operational state before writing into flash. </p><p>anybody can spare some help? </p><p>thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68258">
				<div class="post-metadata">
					<div class="post-num">Post #252</div>
					<div class="post-author">chianq</div>
					<div class="post-datetime">
						15 May 2008, 08:20					</div>
				</div>
				<div class="post-content content">
					<p>I have found the solution, thanks anyway.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68518">
				<div class="post-metadata">
					<div class="post-num">Post #253</div>
					<div class="post-author">bitbucket</div>
					<div class="post-datetime">
						21 May 2008, 21:54					</div>
				</div>
				<div class="post-content content">
					<p>DLink opened sources from DIR-400 router. <a href="ftp://ftp.dlink.ru/pub/Router/DIR-400/dir400.tar.gz">ftp://ftp.dlink.ru/pub/Router/DIR-400/dir400.tar.gz</a><br />It uses similar hardware, as DWL2100AP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68556">
				<div class="post-metadata">
					<div class="post-num">Post #254</div>
					<div class="post-author">g_motruk</div>
					<div class="post-datetime">
						22 May 2008, 17:36					</div>
				</div>
				<div class="post-content content">
					<p>hi all, i bought 2100ap A4 with S29GL032M flash, flashed redboot and openwrt from ramponis, all works fine!!! but the problem with S29AL032D flash on other A4 is still open... could not make redboot to work with this flash...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68606">
				<div class="post-metadata">
					<div class="post-num">Post #255</div>
					<div class="post-author">shera037</div>
					<div class="post-datetime">
						23 May 2008, 14:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi all, I have 5 DWL-2100AP rev.A2 can someone post the whole image of his flash with working OpenWRT firmware . Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68610">
				<div class="post-metadata">
					<div class="post-num">Post #256</div>
					<div class="post-author">ramponis</div>
					<div class="post-datetime">
						23 May 2008, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>You can find all (bootloader and firmware) on my web site</p><p><a href="http://xoomer.alice.it/ramponis/Pages/flash.htm">http://xoomer.alice.it/ramponis/Pages/flash.htm</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68649">
				<div class="post-metadata">
					<div class="post-num">Post #257</div>
					<div class="post-author">shera037</div>
					<div class="post-datetime">
						24 May 2008, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, I instaled the OpenWRT and it`s work good. But where can I see the list of wireless clients on my AP ?</p>											<p class="post-edited">(Last edited by <strong>shera037</strong> on 24 May 2008, 15:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68655">
				<div class="post-metadata">
					<div class="post-num">Post #258</div>
					<div class="post-author">g_motruk</div>
					<div class="post-datetime">
						24 May 2008, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>wlanconfig ath0 list</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68704">
				<div class="post-metadata">
					<div class="post-num">Post #259</div>
					<div class="post-author">L-ZiX</div>
					<div class="post-datetime">
						26 May 2008, 09:46					</div>
				</div>
				<div class="post-content content">
					<p>Please help.<br />After connecting to AP my 2100 write it in console and wireless not work:</p><p>br-lan: port 2(ath0) entering disabled state<br />br-lan: port 2(ath0) entering learning state<br />br-lan: topology change detected, propagating<br />br-lan: port 2(ath0) entering forwarding state<br />br-lan: port 2(ath0) entering disabled state<br />br-lan: port 2(ath0) entering learning state<br />br-lan: topology change detected, propagating<br />br-lan: port 2(ath0) entering forwarding state<br />br-lan: port 2(ath0) entering disabled state<br />br-lan: port 2(ath0) entering learning state<br />br-lan: topology change detected, propagating<br />br-lan: port 2(ath0) entering forwarding state</p><p>Image from ramponis.<br />How fix this bug?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69970">
				<div class="post-metadata">
					<div class="post-num">Post #260</div>
					<div class="post-author">alternative</div>
					<div class="post-datetime">
						23 Jun 2008, 17:22					</div>
				</div>
				<div class="post-content content">
					<p>hi people.nice work.just reflashed my 2100 A3 version with redboot(lzma) and then kamikaze 7.09 from ramponis site,<br />and that works good in ap and client mode(not bridged client).download speed throug ftp is about 1,3-1,6 MB ,that not as origin fw (2,8-3.0MB) but its not bad.now i think it possible to use pppoe connection.(try this later)I&#039;d like to know, how to make power led work. many thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71474">
				<div class="post-metadata">
					<div class="post-num">Post #261</div>
					<div class="post-author">lp0cua0</div>
					<div class="post-datetime">
						27 Jul 2008, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not much of a coder, but I do have a little information on _maybe_ making this a serial only upgrade.</p><p>Login to your routers CLI.<br />type alpha<br />password is sdd21234<br />now, type set supermode<br />now, type bootrom</p><p>I have no clue what the &#039;mips format filed&#039; it wants, boot seems like it might be possible to put a small <br />loader in the original boot area, and either load redboot from &#039;main&#039; flash, or use it during the next boot <br />to update flash partitions, etc during the next boot.</p><p>BTW, once supermode is enabled, superftp &lt;desktop pc ip&gt; will allow you to grab any file you like into the flash,<br />tfp or not.</p><p>After enabling supermode, check the &#039;new&#039; help command list. <br />What _is_ an HAD file?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72845">
				<div class="post-metadata">
					<div class="post-num">Post #262</div>
					<div class="post-author">omegatotal</div>
					<div class="post-datetime">
						31 Aug 2008, 20:12					</div>
				</div>
				<div class="post-content content">
					<p>so i have a dwl-2100a HWrev a2, i thought it might have been bricked, turns out the flash decided to erase it self or has become corrupted</p><div class="codebox"><pre><code>ar531x rev 0x00005850 firmware startup...
SDRAM TEST...PASSED

  WAP-G02A  Boot Procedure                       V1.0                                                     
---------------------------------------------------------                                                         
  Start ..Boot.B12..Please check the ethernet cable on port 1                                                             

Atheros AR5001AP default version 3.0.0.43A                                          


 0  
auto-booting...               

Attaching to TFFS... done.                          
Loading /fl/APIMG1...                     

  Please wait, loading  image ...                                 

  image check fail!!!                     


error loading file: status = 0x3d0001.

Error loading RUNTIME file: errno = 0xd0003.
Loading /fl/backup...

  Please wait, loading  image ...

  image check fail!!!


error loading file: status = 0xd0003.

Error loading BACKUP file: errno = 0xd0003.
Can&#039;t load boot file!!</code></pre></div><p>... and repeat</p><p>this was via serial, i wanted to know how i should go about re-flashing this router back with a dlink fw, and which one i could/should flash it with, im trying to do this with what i have on hand, *serial cable, network, windows/linux*</p>											<p class="post-edited">(Last edited by <strong>omegatotal</strong> on 31 Aug 2008, 20:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72895">
				<div class="post-metadata">
					<div class="post-num">Post #263</div>
					<div class="post-author">omegatotal</div>
					<div class="post-datetime">
						2 Sep 2008, 02:45					</div>
				</div>
				<div class="post-content content">
					<p>bump? i need the elf file i can tftp for a stock firmware if possible, or a method to get the stock firmware back on this unit, there could be paypal money involved if it works</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73248">
				<div class="post-metadata">
					<div class="post-num">Post #264</div>
					<div class="post-author">shera037</div>
					<div class="post-datetime">
						11 Sep 2008, 03:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>omegatotal wrote:</cite><blockquote><p>bump? i need the elf file i can tftp for a stock firmware if possible, or a method to get the stock firmware back on this unit, there could be paypal money involved if it works</p></blockquote></div><p>Download this&nbsp; &nbsp; &nbsp;<a href="http://xoomer.alice.it/ramponis/firmware/fullflash.rar">http://xoomer.alice.it/ramponis/firmware/fullflash.rar</a></p><p>and put it on the device using this document&nbsp; &nbsp; &nbsp;<a href="http://xoomer.alice.it/ramponis/Documents/segreti-dwl-2100ap.rar">http://xoomer.alice.it/ramponis/Documen … 2100ap.rar</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73253">
				<div class="post-metadata">
					<div class="post-num">Post #265</div>
					<div class="post-author">omegatotal</div>
					<div class="post-datetime">
						11 Sep 2008, 09:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>shera037 wrote:</cite><blockquote><div class="quotebox"><cite>omegatotal wrote:</cite><blockquote><p>bump? i need the elf file i can tftp for a stock firmware if possible, or a method to get the stock firmware back on this unit, there could be paypal money involved if it works</p></blockquote></div><p>Download this&nbsp; &nbsp; &nbsp;<a href="http://xoomer.alice.it/ramponis/firmware/fullflash.rar">http://xoomer.alice.it/ramponis/firmware/fullflash.rar</a></p><p>and put it on the device using this document&nbsp; &nbsp; &nbsp;<a href="http://xoomer.alice.it/ramponis/Documents/segreti-dwl-2100ap.rar">http://xoomer.alice.it/ramponis/Documen … 2100ap.rar</a></p></blockquote></div><p>problem, i only understand english. and thats a pdf document in there</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73322">
				<div class="post-metadata">
					<div class="post-num">Post #266</div>
					<div class="post-author">heruan</div>
					<div class="post-datetime">
						13 Sep 2008, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>Is there any trick to flash redboot without jtag? I have no jtag or solder <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />The original bootloader wants a TFP image format, why OpenWRT can&#039;t build one of this kind?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73334">
				<div class="post-metadata">
					<div class="post-num">Post #267</div>
					<div class="post-author">omegatotal</div>
					<div class="post-datetime">
						14 Sep 2008, 05:46					</div>
				</div>
				<div class="post-content content">
					<p>so i tried running the commands from the pdf file (even tho i couldn&#039;t read 99% of the file) these are basically the same commands i have seen elsewhere </p><p>i still cannot copy anything via tftp/ftp to the router, all i can do is </p><div class="codebox"><pre><code>$ae(1,0)pc:/flash/art h=192.168.0.1 e=192.168.0.2:0xffffff00 f=0x80</code></pre></div><p>which gets me to the art console, but after endering all the commands i cant get any files to the AP</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83971">
				<div class="post-metadata">
					<div class="post-num">Post #268</div>
					<div class="post-author">antoxa</div>
					<div class="post-datetime">
						16 Mar 2009, 12:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi All!<br />sorry for my english.</p><p>I have DWL-2100 AP Rev. A4<br />I have made Serial cable with 3 pins from my Siemens data cable.<br />I have compiled my own kernel with RAMdisk from kamikaze svn.<br />Ok, kernel booting from tftp and all works fine.</p><div class="codebox"><pre><code>ar531x rev 0x00005850 firmware startup...
SDRAM TEST...PASSED



  WAP-G02A  Boot Procedure                       V1.0
---------------------------------------------------------
  Start ..Boot.B14..

theros AR5001AP default version 3.0.0.43A


 1
[Boot]: p

boot device          : ae
unit number          : 1
processor number     : 0
file name            : vmlinux.elf
inet on ethernet (e) : 172.16.0.198:ffffff00
host inet (h)        : 172.16.0.2
flags (f)            : 0x80
other (o)            : ae
[Boot]: @
Attached TCP/IP interface to ae1.
Attaching network interface lo0... done.
Loading... 4653936
Starting at 0x80200130...

Linux version 2.6.26.8 (antoxa@antoxa) (gcc version 4.1.2) #1 Mon Mar 16 14:37:54 ALMT 2009
CPU revision is: 0001800a (MIPS 4Kc)
Determined physical RAM map:

.....</code></pre></div><p>inside OpenWRT<br /></p><div class="codebox"><pre><code>antoxa@antoxa:~$ telnet 192.168.1.1
Trying 192.168.1.1...
Connected to 192.168.1.1.
Escape character is &#039;^]&#039;.
 === IMPORTANT ============================
  Use &#039;passwd&#039; to set your login password
  this will disable telnet and enable SSH
 ------------------------------------------


BusyBox v1.11.3 (2009-03-16 13:24:01 ALMT) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r14892) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/#</code></pre></div><p>I want to make OpenWRT permanent OS for DWL-2100.<br />I suppose, what I must change boot loader?<br />Can I use redboot image (BootLoader Redboot Sperimentale per il 2100AP Rev. A4. (NOT TESTED! USE AT YOUR RISK!)) from <a href="http://xoomer.virgilio.it/ramponis/Pages/flash.htm">http://xoomer.virgilio.it/ramponis/Pages/flash.htm</a> ?<br />How I can program flash without WIGGLER cable?<br />After that how I can program flash with my kernel?</p><p>Thank You.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83973">
				<div class="post-metadata">
					<div class="post-num">Post #269</div>
					<div class="post-author">bitbucket</div>
					<div class="post-datetime">
						16 Mar 2009, 13:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>antoxa wrote:</cite><blockquote><p>I want to make OpenWRT permanent OS for DWL-2100.</p></blockquote></div><p>All information about openwrt build for 2100ap on wiki <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/D-Link/DWL-2100AP">http://wiki.openwrt.org/OpenWrtDocs/Har … DWL-2100AP</a></p><p>First, you must have a jtag cable in case of a reflashing failure. If you have it, and it works - you can try to flash a bootloader , make &#039;fis init&#039; and some other magic actions (flash kernel, rootfs) . Openwrt works on DWL2100AP A.4.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83976">
				<div class="post-metadata">
					<div class="post-num">Post #270</div>
					<div class="post-author">antoxa</div>
					<div class="post-datetime">
						16 Mar 2009, 14:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bitbucket wrote:</cite><blockquote><div class="quotebox"><cite>antoxa wrote:</cite><blockquote><p>I want to make OpenWRT permanent OS for DWL-2100.</p></blockquote></div><p>All information about openwrt build for 2100ap on wiki <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/D-Link/DWL-2100AP">http://wiki.openwrt.org/OpenWrtDocs/Har … DWL-2100AP</a></p><p>First, you must have a jtag cable in case of a reflashing failure. If you have it, and it works - you can try to flash a bootloader , make &#039;fis init&#039; and some other magic actions (flash kernel, rootfs) . Openwrt works on DWL2100AP A.4.</p></blockquote></div><p>Do I must change bootloader?<br />Where I can try this command &#039;fis init&#039;? In standart bootloader?<br />I have tried load redboot.elf from tftp but I got this error<br /></p><div class="codebox"><pre><code>Attached TCP/IP interface to ae1.
Attaching network interface lo0... done.
Loading... 103392
Error loading file: errno = 0x610007.
Can&#039;t load boot file!!</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83987">
				<div class="post-metadata">
					<div class="post-num">Post #271</div>
					<div class="post-author">omegatotal</div>
					<div class="post-datetime">
						16 Mar 2009, 19:48					</div>
				</div>
				<div class="post-content content">
					<p>can you post your .elf so i can try it on my dwl-2100ap?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84026">
				<div class="post-metadata">
					<div class="post-num">Post #272</div>
					<div class="post-author">antoxa</div>
					<div class="post-datetime">
						17 Mar 2009, 05:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>omegatotal wrote:</cite><blockquote><p>can you post your .elf so i can try it on my dwl-2100ap?</p></blockquote></div><p>This file I have downloaded from site <a href="http://xoomer.virgilio.it/ramponis/Pages/flash.htm">http://xoomer.virgilio.it/ramponis/Pages/flash.htm</a><br />Link to file <a href="http://xoomer.alice.it/ramponis/firmware/Redboot_experimental.rar">http://xoomer.alice.it/ramponis/firmwar … mental.rar</a><br />Also I can&#039;t build my own redboot from this archive <a href="http://www.dm.ufscar.br/profs/waldeck/ecos-2.0.tar.bz2">http://www.dm.ufscar.br/profs/waldeck/ecos-2.0.tar.bz2</a><br />I assume, that I need redboot RAM file for boot through tftp and ROM file to write into flash.<br />ELF openwrt, that I have build from kamikaze-svn, boots through tftp fine.<br />What do I need to do after that?<br />Write kernel to flash?<br />Please see below output when I build redboot. I use Debian Lenny as my OS.<br /></p><div class="codebox"><pre><code>source ecosenv.sh
./gen_platform
Choose a plaform by selecting from the list below:
   1) ap30
   2) ap33
   3) ap38
   4) ap43
   5) ap48
   6) ap51
   7) GENERATE NEW PLATFORM
 Your choice --&gt; 6
ap51
U CYGSEM_HAL_USE_ROM_MONITOR, new inferred value 0
make -r -C hal/mips/arch/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/arch/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/arch/v2_0&#039;
make -r -C hal/mips/mips32/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/mips32/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/mips32/v2_0&#039;
make -r -C hal/mips/ar5312/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/ar5312/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/ar5312/v2_0&#039;
make -r -C hal/mips/ap51/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/ap51/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/ap51/v2_0&#039;
make -r -C devs/eth/mips/ar531x/current headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/devs/eth/mips/ar531x/current&#039;
make[1]: Nothing to be done for `headers&#039;.
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/devs/eth/mips/ar531x/current&#039;
make -r -C hal/common/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/hal/common/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/hal/common/v2_0&#039;
make -r -C infra/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/infra/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/infra/v2_0&#039;
make -r -C redboot/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/redboot/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/redboot/v2_0&#039;
make -r -C isoinfra/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/isoinfra/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/isoinfra/v2_0&#039;
make -r -C language/c/libc/string/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/language/c/libc/string/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/language/c/libc/string/v2_0&#039;
make -r -C net/ns/dns/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/net/ns/dns/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/net/ns/dns/v2_0&#039;
make -r -C services/crc/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/services/crc/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/services/crc/v2_0&#039;
make -r -C services/memalloc/common/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/services/memalloc/common/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/services/memalloc/common/v2_0&#039;
make -r -C services/compress/zlib/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/services/compress/zlib/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/services/compress/zlib/v2_0&#039;
make -r -C io/eth/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/io/eth/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/io/eth/v2_0&#039;
make -r -C io/fileio/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/io/fileio/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/io/fileio/v2_0&#039;
make -r -C io/flash/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/io/flash/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/io/flash/v2_0&#039;
make -r -C io/common/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/io/common/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/io/common/v2_0&#039;
make -r -C error/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/error/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/error/v2_0&#039;
make -r -C compat/linux/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/compat/linux/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/compat/linux/v2_0&#039;
make -r -C kernel/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/kernel/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/kernel/v2_0&#039;
make -r -C devs/flash/cfi/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/devs/flash/cfi/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/devs/flash/cfi/v2_0&#039;
headers finished
make -r -C hal/mips/ap51/v2_0 /home/antoxa/eCos/build.RAM_ap51/install/include/cyg/hal/plf_defs.inc
make[1]: Entering directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/ap51/v2_0&#039;
mipsisa32-elf-gcc -mips32 -EB -msoft-float -Wall -Wpointer-arith -Wstrict-prototypes -Winline -Wundef -Woverloaded-virtual -g -O2 -ffunction-sections -fdata-sections -fno-rtti -fno-exceptions -fvtable-gc -finit-priority -G0 -mlong-calls  -I/home/antoxa/eCos/build.RAM_ap51/install/include -I/home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0 -I/home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0/src -I/home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0/tests -I. -Wp,-MD,plf_defs.tmp -o plf_mk_defs.tmp -S /home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0/src/plf_mk_defs.c
fgrep .equ plf_mk_defs.tmp | sed s/#// &gt; /home/antoxa/eCos/build.RAM_ap51/install/include/cyg/hal/plf_defs.inc
tail: cannot open `+2&#039; for reading: No such file or directory
make[1]: *** [/home/antoxa/eCos/build.RAM_ap51/install/include/cyg/hal/plf_defs.inc] Error 1
make[1]: Leaving directory `/home/antoxa/eCos/build.RAM_ap51/hal/mips/ap51/v2_0&#039;
make: *** [build] Error 2
U CYGSEM_HAL_USE_ROM_MONITOR, new inferred value 0
make -r -C hal/mips/arch/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/arch/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/arch/v2_0&#039;
make -r -C hal/mips/mips32/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/mips32/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/mips32/v2_0&#039;
make -r -C hal/mips/ar5312/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ar5312/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ar5312/v2_0&#039;
make -r -C hal/mips/ap51/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ap51/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ap51/v2_0&#039;
make -r -C devs/eth/mips/ar531x/current headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/devs/eth/mips/ar531x/current&#039;
make[1]: Nothing to be done for `headers&#039;.
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/devs/eth/mips/ar531x/current&#039;
make -r -C hal/common/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/hal/common/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/common/v2_0&#039;
make -r -C infra/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/infra/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/infra/v2_0&#039;
make -r -C redboot/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/redboot/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/redboot/v2_0&#039;
make -r -C isoinfra/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/isoinfra/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/isoinfra/v2_0&#039;
make -r -C language/c/libc/string/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/language/c/libc/string/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/language/c/libc/string/v2_0&#039;
make -r -C net/ns/dns/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/net/ns/dns/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/net/ns/dns/v2_0&#039;
make -r -C services/crc/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/services/crc/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/services/crc/v2_0&#039;
make -r -C services/memalloc/common/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/services/memalloc/common/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/services/memalloc/common/v2_0&#039;
make -r -C services/compress/zlib/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/services/compress/zlib/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/services/compress/zlib/v2_0&#039;
make -r -C io/eth/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/io/eth/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/io/eth/v2_0&#039;
make -r -C io/fileio/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/io/fileio/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/io/fileio/v2_0&#039;
make -r -C io/flash/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/io/flash/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/io/flash/v2_0&#039;
make -r -C io/common/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/io/common/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/io/common/v2_0&#039;
make -r -C error/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/error/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/error/v2_0&#039;
make -r -C compat/linux/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/compat/linux/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/compat/linux/v2_0&#039;
make -r -C kernel/v2_0 headers
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/kernel/v2_0&#039;
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/kernel/v2_0&#039;
headers finished
make -r -C hal/mips/ap51/v2_0 /home/antoxa/eCos/build.ROM_ap51/install/include/cyg/hal/plf_defs.inc
make[1]: Entering directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ap51/v2_0&#039;
mipsisa32-elf-gcc -mips32 -EB -msoft-float -Wall -Wpointer-arith -Wstrict-prototypes -Winline -Wundef -Woverloaded-virtual -g -O2 -ffunction-sections -fdata-sections -fno-rtti -fno-exceptions -fvtable-gc -finit-priority -G0 -mlong-calls  -I/home/antoxa/eCos/build.ROM_ap51/install/include -I/home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0 -I/home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0/src -I/home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0/tests -I. -Wp,-MD,plf_defs.tmp -o plf_mk_defs.tmp -S /home/antoxa/eCos/ecos-2.0/packages/hal/mips/ap51/v2_0/src/plf_mk_defs.c
fgrep .equ plf_mk_defs.tmp | sed s/#// &gt; /home/antoxa/eCos/build.ROM_ap51/install/include/cyg/hal/plf_defs.inc
tail: cannot open `+2&#039; for reading: No such file or directory
make[1]: *** [/home/antoxa/eCos/build.ROM_ap51/install/include/cyg/hal/plf_defs.inc] Error 1
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ap51/v2_0&#039;
make: *** [build] Error 2
./gen_platform: line 154: cd: install/bin: No such file or directory
mipsisa32-elf-objcopy: redboot.elf: No such file or directory</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84045">
				<div class="post-metadata">
					<div class="post-num">Post #273</div>
					<div class="post-author">antoxa</div>
					<div class="post-datetime">
						17 Mar 2009, 14:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>antoxa wrote:</cite><blockquote><div class="quotebox"><cite>omegatotal wrote:</cite><blockquote><p>can you post your .elf so i can try it on my dwl-2100ap?</p></blockquote></div><p>This file I have downloaded from site <a href="http://xoomer.virgilio.it/ramponis/Pages/flash.htm">http://xoomer.virgilio.it/ramponis/Pages/flash.htm</a><br />Link to file <a href="http://xoomer.alice.it/ramponis/firmware/Redboot_experimental.rar">http://xoomer.alice.it/ramponis/firmwar … mental.rar</a><br />Also I can&#039;t build my own redboot from this archive <a href="http://www.dm.ufscar.br/profs/waldeck/ecos-2.0.tar.bz2">http://www.dm.ufscar.br/profs/waldeck/ecos-2.0.tar.bz2</a><br />I assume, that I need redboot RAM file for boot through tftp and ROM file to write into flash.<br />ELF openwrt, that I have build from kamikaze-svn, boots through tftp fine.<br />What do I need to do after that?<br />Write kernel to flash?<br />Please see below output when I build redboot. I use Debian Lenny as my OS.<br /></p><div class="codebox"><pre><code>source ecosenv.sh
./gen_platform
tail: cannot open `+2&#039; for reading: No such file or directory
make[1]: *** [/home/antoxa/eCos/build.ROM_ap51/install/include/cyg/hal/plf_defs.inc] Error 1
make[1]: Leaving directory `/home/antoxa/eCos/build.ROM_ap51/hal/mips/ap51/v2_0&#039;
make: *** [build] Error 2
./gen_platform: line 154: cd: install/bin: No such file or directory
mipsisa32-elf-objcopy: redboot.elf: No such file or directory</code></pre></div></blockquote></div><p>I have tried to build redboot RAM by hand from this message <a href="http://forum.openwrt.org/viewtopic.php?pid=50311#p50311">http://forum.openwrt.org/viewtopic.php?pid=50311#p50311</a><br />It works.<br />I have modified gen_platform script and build all of the available platform.<br />They are booting through tftp, but don&#039;t work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br /></p><div class="codebox"><pre><code>ar531x rev 0x00005850 firmware startup...
SDRAM TEST...PASSED



  WAP-G02A  Boot Procedure                       V1.0
---------------------------------------------------------
  Start ..Boot.B14..

Atheros AR5001AP default version 3.0.0.43A


 0
auto-booting...

Attached TCP/IP interface to ae1.
Attaching network interface lo0... done.
Loading... 367216
Starting at 0x80010000...

+
RedBoot startup
FLASH: driver init failed: Driver does not support device
FLASH: driver init failed: Driver does not support device
Ethernet eth0: MAC address 00:21:91:88:81:ed
IP: 0.0.0.0/255.255.255.0, Gateway: 0.0.0.0
Default server: 0.0.0.0, DNS server IP: 0.0.0.0

RedBoot(tm) bootstrap and debug environment [RAM]
Non-certified release, version v2_0 - built 18:22:19, Mar 17 2009
With changes made by Waldeck Schutzer &lt;waldeck@dm.ufscar.br&gt;


Copyright (C) 2000, 2001, 2002, Red Hat, Inc.

RAM: 0x80010000-0x81000000, 0x80069a70-0x80ff4000 available
RedBoot&gt;</code></pre></div><p>at this point bootloader don&#039;t answer for console input.<br />Only after power cycle reset I can modify standart bootloader parameters.<br />I think there is unknown flash installed on my DWL-2100.<br />Please help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84047">
				<div class="post-metadata">
					<div class="post-num">Post #274</div>
					<div class="post-author">antoxa</div>
					<div class="post-datetime">
						17 Mar 2009, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>Flash on my DWL-2100 board is marked as S29AL032D90TFI04 (c)04 SPANSION</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84082">
				<div class="post-metadata">
					<div class="post-num">Post #275</div>
					<div class="post-author">bitbucket</div>
					<div class="post-datetime">
						17 Mar 2009, 22:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>antoxa wrote:</cite><blockquote><p>Flash on my DWL-2100 board is marked as S29AL032D90TFI04 (c)04 SPANSION</p></blockquote></div><p>You can add support for your flash IC in RedBoot (described on wiki), or try to use a bootloader from this <a href="http://xoomer.virgilio.it/ramponis/Pages/flash.htm">http://xoomer.virgilio.it/ramponis/Pages/flash.htm</a> page. If you have working JTAG cable - you can&#039;t brick the device. You need firmware with lzma decompression.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 11 of 15</div><nav><ul><li><a href="viewtopic.php%3Fid=6357&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=6357&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=6357&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=6357&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=6357&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=6357&amp;p=15.html">15</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>