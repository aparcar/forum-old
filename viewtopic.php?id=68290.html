<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> qca9533 ath9k kernel oops</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p342355">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gjp1120</div>
					<div class="post-datetime">
						28 Oct 2016, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>I have a TL-WA850N v1.0 , soc is QCA9533-AL3A. I flashed WA801 v3 â€˜s openwrt, also some other op firmware, none of them have my wifi working. How to fix this oops?</p><div class="codebox"><pre><code>Boot and Recovery Environment for Embedded Devices
Copyright (C) 2016 HackPascal &lt;hackpascal@gmail.com&gt;
Build date 2016-07-06 [git-1462699]
Version 1.0 (r899)

DRAM: 64MB
Platform: Qualcomm Atheros QCA953X rev 1
Board: Generic board
Clocks: CPU: 550MHz, DDR: 400MHz, AHB: 200MHz, Ref: 25MHz
Flash: Winbond W25Q128 (16MB) on ath79-spi
ag71xx-eth: MAC address is invalid, using default settings.
ag71xx-eth: Using MAC address 00:13:74:00:00:01
eth0: Atheros AR8228/AR8229 rev 1

Network started on eth0, inet addr 192.168.1.1, netmask 255.255.255.0

Press any key to interrupt autoboot ... 0   

Trying to boot firmware from 0x9f020000 ...
TP-LINK firmware image header detected.
    Image Name:   08010003
    Data Size:    1214960 Bytes
    Load Address: 80060000
    Entry Point:  80060000
Uncompressing data (LZMA) ... done.
Flushing cache ... done.

Starting kernel at 0x80060000...

[    0.000000] Linux version 4.1.23 (GJP@GOPWRT) (gcc version 5.3.0 (OpenWrt GCC 5.3.0 r49395) ) #98 Thu Oct 27 15:38:10 UTC 2016
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Qualcomm Atheros QCA9533 ver 1 rev 1
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line:  board=TL-WA801ND-v3  console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Writing ErrCtl register=0007fff3
[    0.000000] Readback ErrCtl register=0007fff3
[    0.000000] Memory: 60624K/65536K available (2750K kernel code, 105K rwdata, 664K rodata, 180K init, 190K bss, 4912K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:83
[    0.000000] Clocks: CPU:550.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] clocksource MIPS: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 6950037990 ns
[    0.000010] sched_clock: 32 bits at 275MHz, resolution 3ns, wraps every 7809031678ns
[    0.008859] Calibrating delay loop... 366.18 BogoMIPS (lpj=1830912)
[    0.071903] pid_max: default: 32768 minimum: 301
[    0.077283] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.084795] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.095995] clocksource jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.107925] NET: Registered protocol family 16
[    0.114414] MIPS: machine is TP-LINK TL-WA801ND v3
[    0.572945] Switched to clocksource MIPS
[    0.578848] NET: Registered protocol family 2
[    0.584982] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.592913] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.600192] TCP: Hash tables configured (established 1024 bind 1024)
[    0.607544] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.614223] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.621671] NET: Registered protocol family 1
[    0.627905] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.654154] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.660786] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.675138] io scheduler noop registered
[    0.679599] io scheduler deadline registered (default)
[    0.685733] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
[    0.693503] console [ttyS0] disabled
[    0.717727] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11, base_baud = 1562500) is a 16550A
[    0.727537] console [ttyS0] enabled
[    0.727537] console [ttyS0] enabled
[    0.735097] bootconsole [early0] disabled
[    0.735097] bootconsole [early0] disabled
[    0.746667] m25p80 spi0.0: found w25q128, expected m25p80
[    0.752273] m25p80 spi0.0: w25q128 (16384 Kbytes)
[    0.758300] 5 tp-link partitions found on MTD device spi0.0
[    0.764114] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.769072] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.775242] 0x000000020000-0x000000148bf0 : &quot;kernel&quot;
[    0.781299] 0x000000148bf0-0x000000ff0000 : &quot;rootfs&quot;
[    0.787416] mtd: device 2 (rootfs) set to be root filesystem
[    0.793368] 1 squashfs-split partitions found on MTD device rootfs
[    0.799760] 0x000000370000-0x000000ff0000 : &quot;rootfs_data&quot;
[    0.806315] 0x000000ff0000-0x000001000000 : &quot;art&quot;
[    0.812045] 0x000000020000-0x000000ff0000 : &quot;firmware&quot;
[    0.843107] libphy: ag71xx_mdio: probed
[    1.435525] ag71xx-mdio.1: Found an AR934X built-in switch
[    1.478910] eth0: Atheros AG71xx at 0xba000000, irq 5, mode:GMII
[    2.075913] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd042, driver=Generic PHY]
[    2.086194] eth1: Atheros AG71xx at 0xb9000000, irq 4, mode:MII
[    2.094967] NET: Registered protocol family 10
[    2.103893] NET: Registered protocol family 17
[    2.108577] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    2.121819] 8021q: 802.1Q VLAN Support v1.8
[    2.132218] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    2.140821] Freeing unused kernel memory: 180K (803d3000 - 80400000)
[    3.310728] init: Console is alive
[    3.314612] init: - watchdog -
[    4.287266] init: - preinit -
[    4.901337] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    7.262601] jffs2: notice: (339) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[    7.280779] mount_root: switching to jffs2 overlay
[    7.329697] procd: - early -
[    7.332806] procd: - watchdog -
[    8.037332] procd: - ubus -
[    8.090759] random: ubusd urandom read with 13 bits of entropy available
[    8.100025] procd: - init -
Please press Enter to activate this console.
[    8.914712] ip6_tables: (C) 2000-2006 Netfilter Core Team
[    8.934563] Loading modules backported from Linux version v4.4-rc5-1913-gc8fdf68
[    8.942214] Backport generated by backports.git backports-20151218-0-g2f58d9d
[    8.953167] ip_tables: (C) 2000-2006 Netfilter Core Team
[    8.969840] nf_conntrack version 0.5.0 (950 buckets, 3800 max)
[    9.015170] xt_time: kernel timezone is -0000
[    9.086459] PPP generic driver version 2.4.2
[    9.094039] NET: Registered protocol family 24
[    9.158860] Data bus error, epc == 83121d34, ra == 83121d18
[    9.164632] Oops[#1]:
[    9.166992] CPU: 0 PID: 502 Comm: kmodloader Not tainted 4.1.23 #98
[    9.173467] task: 83a36840 ti: 83ba2000 task.ti: 83ba2000
[    9.179042] $ 0   : 00000000 00000001 00000200 00030018
[    9.184480] $ 4   : 8385c010 00000200 00000007 00000004
[    9.189909] $ 8   : 00000001 7c7c3c7c 7c7c7c7c 7c7c7c7c
[    9.195339] $12   : 7c7c3c7c 00000013 00000000 7c7c7c3c
[    9.200768] $16   : 8385c010 00000000 00000018 fffffeff
[    9.206199] $20   : 00010000 00030000 00000004 000003ff
[    9.211629] $24   : 00000000 00000007                  
[    9.217058] $28   : 83ba2000 83ba3a08 83ba3a5c 83121d18
[    9.222488] Hi    : 00000003
[    9.225463] Lo    : 000000ff
[    9.228502] epc   : 83121d34 ath9k_hw_setup_statusring+0xe00/0x2250 [ath9k_hw]
[    9.235976] ra    : 83121d18 ath9k_hw_setup_statusring+0xde4/0x2250 [ath9k_hw]
[    9.243428] Status: 1000f403    KERNEL EXL IE 
[    9.247774] Cause : 1080001c
[    9.250751] PrId  : 00019374 (MIPS 24Kc)
[    9.254798] Modules linked in: ath9k(+) ath9k_common pppoe ppp_async iptable_nat ath9k_hw ath pppox ppp_generic nf_nat_ipv4 nf_conntrack_ipv6 nf_conntrack_ipv4 mac80211 ipt_REJECT ipt_MASQUERADE cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_LOG xt_CT slhc nf_reject_ipv4 nf_nat_redirect nf_nat_masquerade_ipv4 nf_nat nf_log_ipv4 nf_defrag_ipv6 nf_defrag_ipv4 nf_conntrack_rtcache nf_conntrack iptable_raw iptable_mangle iptable_filter ip_tables crc_ccitt compat ip6t_REJECT nf_reject_ipv6 nf_log_ipv6 nf_log_common ip6table_raw ip6table_mangle ip6table_filter ip6_tables x_tables gpio_button_hotplug
[    9.317428] Process kmodloader (pid: 502, threadinfo=83ba2000, task=83a36840, tls=771fce48)
[    9.326048] Stack : 00530053 00000000 83ba3b10 00000001 00000001 8008ffff 8385c010 83120000
      8385c038 83120000 83b01000 83120000 83ba3b14 00000001 00000001 83120f7c
      00000000 00000000 00000000 00000000 8385c010 ffffffff 8385c038 83122138
      b8108000 00008000 00008000 00040000 0000b830 8385d10c 0000be1c 00009830
      00000000 00000013 00000000 8385c430 8385c010 8385c038 00008000 00000053
      ...
[    9.363039] Call Trace:
[    9.365584] [&lt;83121d34&gt;] ath9k_hw_setup_statusring+0xe00/0x2250 [ath9k_hw]
[    9.372713] [&lt;83121d18&gt;] ath9k_hw_setup_statusring+0xde4/0x2250 [ath9k_hw]
[    9.379820] 
[    9.381357] 
Code: 02002021  24a5fd00  00b31024 &lt;26855f18&gt; 0062280a  240203e8  0cc40e54  afa20010  1040000f 
[    9.391712] ---[ end trace fc35e51af26bc8a6 ]---
[   17.732288] device eth1 entered promiscuous mode
[   17.738468] br-lan: port 1(eth1) entered forwarding state
[   17.744162] br-lan: port 1(eth1) entered forwarding state
[   18.642993] br-lan: port 1(eth1) entered disabled state</code></pre></div>											<p class="post-edited">(Last edited by <strong>gjp1120</strong> on 28 Oct 2016, 17:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342419">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gjp1120</div>
					<div class="post-datetime">
						29 Oct 2016, 08:52					</div>
				</div>
				<div class="post-content content">
					<p>also with my TL-WR845N v4.1</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>