<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Huawei B5328 (GCT GDM7243) u-boot help</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p372802">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">coolirc</div>
					<div class="post-datetime">
						25 Feb 2018, 22:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello </p><p>i am trying to communicate via serial port using usb ttl adapter&nbsp; with rx tx and gnd cable <br />i am able to see system messages , uboot version etc , but i am unable to interrupt the boot process it says delay = 0<br />i need some help on how to send commands or interrupt the boot process and interract with the device.<br />the serial baudrate is 921600 .<br />the device is based on GCT GDM7243q chipset.</p><p>thanks for help<br />here are the serial log output .</p><div class="codebox"><pre><code>Build Info:

  date: 2016/09/06-10:08:44

  user: root@ubuntu-will

  svnr: 

  src: /home/will/DEVELOPMENT/LTE_Router/B5328_FDD/SDK/work/uboot

  ver: 0.46e



DRAM:  128 MiB (wbd-p2)

NAND:  Built-in ECC Nand
maf_id : 0x00000098, dev_id : 0x000000a1
Pagesize : 2Kbytes
Address cycle : 4
128 MiB
Bad block table found at page 65472, version 0x01
Bad block table found at page 65408, version 0x01
nand_read_bbt: Bad block at 0x000006000000
In:    serial
Out:   serial
Err:   serial
Net:    001cc910 Realtek8211  PHYCR1: 00002118-0000211c  Rx delay: 0x00802300 
    PHYCR2:0x0863-&gt;0x0842  mii0
Hit ENTER key to stop autoboot:  0 
00420000
---------------------
hdr chksum  : 0xb6780813
magic       : 0xcafebabe
timstamp    : 0x0000430e
data chksum : 0xc7e4cc0b
data size   : 0x0001ffdc
---------------------
00440000
---------------------
hdr chksum  : 0xb6630812
magic       : 0xcafebabe
timstamp    : 0x0000430d
data chksum : 0xc7e4cc0b
data size   : 0x0001ffdc
---------------------
cmnnv current block is : 0
pesifwcheck=1

boot from part_idx: 2
do_check_partition() type:linux2, Data checksum is OK!!!(w:ccd92e5a/r:ccd92e5a)!!!
do_check_partition() type:rootfs2, Data checksum is OK!!!(w:d533b401/r:d533b401)!!!

---------------------
hdr chksum  : 0x00000000
magic       : 0x00000000
timstamp    : 0x00000000
data chksum : 0x00000000
data size   : 0x00000000
---------------------
---------------------
hdr chksum  : 0x9d7b0689
magic       : 0xcafebabe
timstamp    : 0x00000000
data chksum : 0xccd92e5a
data size   : 0x00228650
---------------------
select partition
part name : linux2
offset    : 0x00e00000
size      : 0x00400000
---------------------
hdr chksum  : 0x00000000
magic       : 0x00000000
timstamp    : 0x00000000
data chksum : 0x00000000
data size   : 0x00000000
---------------------
---------------------
hdr chksum  : 0x00000000
magic       : 0x00000000
timstamp    : 0x00000000
data chksum : 0x00000000
data size   : 0x00000000
---------------------
no valid header(2)
---------------------
hdr chksum  : 0x00000000
magic       : 0x00000000
timstamp    : 0x00000000
data chksum : 0x00000000
data size   : 0x00000000
---------------------
---------------------
hdr chksum  : 0x8c82056e
magic       : 0xcafebabe
timstamp    : 0x00000000
data chksum : 0xd533b401
data size   : 0x014c0000
---------------------
select partition
part name : rootfs2
offset    : 0x03000000
size      : 0x01e00000
---------------------
hdr chksum  : 0x00000000
magic       : 0x00000000
timstamp    : 0x00000000
data chksum : 0x00000000
data size   : 0x00000000
---------------------
---------------------
hdr chksum  : 0x00000000
magic       : 0x00000000
timstamp    : 0x00000000
data chksum : 0x00000000
data size   : 0x00000000
---------------------
no valid header(2)
bootdelay=0
bootargs (default)
## Booting kernel from Legacy Image at d05fffc0 ...
   Image Name:   Linux-3.10.0-uc0
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    2262544 Bytes = 2.2 MiB
   Load Address: d0600000
   Entry Point:  d0600000
   Verifying Checksum ... OK
   Loading Kernel Image ... OK
OK

Starting kernel ...

Uncompressing Linux... done, booting the kernel.</code></pre></div>											<p class="post-edited">(Last edited by <strong>coolirc</strong> on 25 Feb 2018, 22:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372971">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">coolirc</div>
					<div class="post-datetime">
						28 Feb 2018, 12:12					</div>
				</div>
				<div class="post-content content">
					<p>anyhelp would be appreciated . thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372980">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tunk</div>
					<div class="post-datetime">
						28 Feb 2018, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>I seem to remember that on some routers RX is not connected - you may have to install a jumper or a few components.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p373051">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">coolirc</div>
					<div class="post-datetime">
						1 Mar 2018, 11:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tunk wrote:</cite><blockquote><p>I seem to remember that on some routers RX is not connected - you may have to install a jumper or a few components.</p></blockquote></div><p>thanks for your reply so to be clear the soldered rx is not in reality an rx or can you clarify more so i can communicate with the router . <br />here&#039;s a picture of the motherboard </p><p>i67 .tinypic.com /2dsntli.jpg&nbsp; &nbsp; &nbsp; ( remove spaces )</p><p>the first pin from the left is connected RX and the fourth is TX&nbsp; , the second from the left is the GND .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p373153">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">coolirc</div>
					<div class="post-datetime">
						3 Mar 2018, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>Hello i need some help <br />i managed to get shell from telnet on bash but i don&#039;t have knowledge to backup files from telnet bash shell how can i enable ssh or ftp ? <br />here&#039;s output </p><div class="codebox"><pre><code># uname -a
Linux B5328 3.10.0-uc0 #1 Wed Aug 24 09:38:10 CST 2016 armv7b GNU/Linux
# atc ati
sh: atc: command not found
# at
sh: at: command not found
# ls
bin      dev      etc      home     lib      linuxrc  mnt      proc     root     sbin     sys      tmp      usr      var
# mount
rootfs on / type rootfs (rw)
ubi0:rootfs on / type ubifs (ro,relatime)
proc on /proc type proc (rw,relatime)
ram on /var type ramfs (rw,relatime)
sys on /sys type sysfs (rw,relatime)
devpts on /dev/pts type devpts (rw,relatime,mode=666)
/dev/mtdblock15 on /var/log type jffs2 (rw,relatime)
#</code></pre></div><p>bash shell help output </p><div class="codebox"><pre><code># help
GNU bash, version 4.3.30(1)-release (arm-unknown-linux-gnu)
These shell commands are defined internally. Type `help&#039; to see this list.
Type `help name&#039; to find out more about the function `name&#039;.
Use `info bash&#039; to find out more about the shell in general.
Use `man -k&#039; or `info&#039; to find out more about commands not in this list.

A star (*) next to a name means that the command is disabled.

job_spec [&amp;] history [-c] [-d offset] [n] or history -anrw [filename] or history -ps arg [ar&gt;
(( expression )) if COMMANDS; then COMMANDS; [ elif COMMANDS; then COMMANDS; ]... [ else COMMAND&gt;
. filename [arguments] jobs [-lnprs] [jobspec ...] or jobs -x command [args]
: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]&gt;
[ arg... ] let arg [arg ...]
[[ expression ]] local [option] name[=value] ...
alias [-p] [name[=value] ... ] logout [n]
bg [job_spec ...] mapfile [-n count] [-O origin] [-s count] [-t] [-u fd] [-C callback] [-c quantu&gt;
bind [-lpsvPSVX] [-m keymap] [-f filename] [-q name] [-u name] [-r keyseq] [-x k&gt; popd [-n] [+N | -N]
break [n] printf [-v var] format [arguments]
builtin [shell-builtin [arg ...]] pushd [-n] [+N | -N | dir]
caller [expr] pwd [-LP]
case WORD in [PATTERN [| PATTERN]...) COMMANDS ;;]... esac read [-ers] [-a array] [-d delim] [-i text] [-n nchars] [-N nchars] [-p prompt]&gt;
cd [-L|[-P [-e]] [-@]] [dir] readarray [-n count] [-O origin] [-s count] [-t] [-u fd] [-C callback] [-c quan&gt;
command [-pVv] command [arg ...] readonly [-aAf] [name[=value] ...] or readonly -p
compgen [-abcdefgjksuv] [-o option] [-A action] [-G globpat] [-W wordlist] [-F&gt; return [n]
complete [-abcdefgjksuv] [-pr] [-DE] [-o option] [-A action] [-G globpat] [-W wo&gt; select NAME [in WORDS ... ;] do COMMANDS; done
compopt [-o|+o option] [-DE] [name ...] set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]
continue [n] shift [n]
coproc [NAME] command [redirections] shopt [-pqsu] [-o] [optname ...]
declare [-aAfFgilnrtux] [-p] [name[=value] ...] source filename [arguments]
dirs [-clpv] [+N] [-N] suspend [-f]
disown [-h] [-ar] [jobspec ...] test [expr]
echo [-neE] [arg ...] time [-p] pipeline
enable [-a] [-dnps] [-f filename] [name ...] times
eval [arg ...] trap [-lp] [[arg] signal_spec ...]
exec [-cl] [-a name] [command [arguments ...]] [redirection ...] true
exit [n] type [-afptP] name [name ...]
export [-fn] [name[=value] ...] or export -p typeset [-aAfFgilrtux] [-p] name[=value] ...
false ulimit [-SHabcdefilmnpqrstuvxT] [limit]
fc [-e ename] [-lnr] [first] [last] or fc -s [pat=rep] [command] umask [-p] [-S] [mode]
fg [job_spec] unalias [-a] name [name ...]
for NAME [in WORDS ... ] ; do COMMANDS; done unset [-f] [-v] [-n] [name ...]
for (( exp1; exp2; exp3 )); do COMMANDS; done until COMMANDS; do COMMANDS; done
function name { COMMANDS ; } or name () { COMMANDS ; } variables - Names and meanings of some shell variables
getopts optstring name [arg] wait [-n] [id ...]
hash [-lr] [-p pathname] [-dt] [name ...] while COMMANDS; do COMMANDS; done
help [-dms] [pattern ...] { COMMANDS ; }
#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p375074">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">coolirc</div>
					<div class="post-datetime">
						4 Apr 2018, 18:16					</div>
				</div>
				<div class="post-content content">
					<p>Hello i managed to interact with the serial interface , anyone can help me on how to take dump and flash the device through the serial interface ?</p><p>thanks<br />i dumped the partitions from telnet&nbsp; mediafire link remove spaces and put .<br /><a href="http://%20%20mediafire%20com/file/5jjxjof59i57192/nand_dumpB5328.zip">&nbsp; mediafire com/file/5jjxjof59i57192/nand_dumpB5328.zip</a></p>											<p class="post-edited">(Last edited by <strong>coolirc</strong> on 4 Apr 2018, 21:48)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>