<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for Marvell 88F5xx81 based routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 18 Jan 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p65517">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">krh</div>
					<div class="post-datetime">
						21 Mar 2008, 14:43					</div>
				</div>
				<div class="post-content content">
					<p>there are opensource files from linksys you can easy download and compile dropbear i have telnet open on mine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65518">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">Pearl</div>
					<div class="post-datetime">
						21 Mar 2008, 14:56					</div>
				</div>
				<div class="post-content content">
					<p>KRH, <br/>thanks but i am really a newbie on this. At this moment that is a bit out of my league.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65522">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						21 Mar 2008, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>hmm<br/>maybe i resume working...<br/>but only if watha tests my images... or someone else does</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65524">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">Pearl</div>
					<div class="post-datetime">
						21 Mar 2008, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>Davidkra,</p><p>I am a newbie and i have almost no knowlegde of routersoftware/unix. If you can assure me that there will be a way to unbrick the router (If that might happen and i don not have to have special cables) i am willing to test your images. This since it is the only router i have and i realy need it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65533">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						21 Mar 2008, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>bad... you need some experience in u-boot and linux knowledge and a serial console. i&#039;ll wait for watha...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65534">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">Pearl</div>
					<div class="post-datetime">
						21 Mar 2008, 21:27					</div>
				</div>
				<div class="post-content content">
					<p>ok, hope that he will respond soon!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65535">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						21 Mar 2008, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>yeah.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65833">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						27 Mar 2008, 04:23					</div>
				</div>
				<div class="post-content content">
					<p>some new info about the marvell orion vanilla kernel port:<br/><a href="http://www.linuxdevices.com/news/NS5637467946.html">http://www.linuxdevices.com/news/NS5637467946.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65986">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">Pearl</div>
					<div class="post-datetime">
						30 Mar 2008, 10:57					</div>
				</div>
				<div class="post-content content">
					<p>he watha, would be nice if you leave any kind of sign that you are alive. This since i am still waiting for a linksys wrt350n v2 that has dropbear on board....</p>											<p class="post-edited">(Last edited by <strong>Pearl</strong> on 30 Mar 2008, 10:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66065">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">mounayze</div>
					<div class="post-datetime">
						31 Mar 2008, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys i would like to know if they any update about WRT350N v2 Marvell ??</p><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66661">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						10 Apr 2008, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>As bbradley didn&#039;t get a high-res picture of the WRT350N v2, I want to provide one.<br/>Click on the thumbnail below to get the high-res picture.<br/>J5, the serial port, is on the right side in the middle.</p><p>I&#039;m going to add a serial port and connect it with my PC, then I will do my best to help davidkra to get everything done.</p><p><a href="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_highres.jpg"><span class="postimg"><img src="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small.jpg" alt="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small.jpg"/></span></a> <a href="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_highres2.jpg"><span class="postimg"><img src="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small2.jpg" alt="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small2.jpg"/></span></a></p><p>Regards<br/>Maddes</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 25 Sep 2011, 14:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66764">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						12 Apr 2008, 20:04					</div>
				</div>
				<div class="post-content content">
					<p>hi maddes <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>whats under the atheros wlan card?</p><p>can you maybe remove it and take another picture? a pic from the other side of the board would also be good.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66770">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						12 Apr 2008, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>#1 @mindbender<br/>The internet is a small place, isn&#039;t it? you always meet the same people <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile"/><br/>Btw did you fix your FTP problems?</p><p>#2 WRT350N v2<br/>The down side is 90% covered with the isolation copper, and it doesn&#039;t stick anymore when removed once.<br/>The brackets of the WLAN card are directly attached to the card, so I didn&#039;t dare to remove it.<br/>If it is necessary I will dare to remove everything, but I assume it is not important for the task.</p><p>Maddes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66877">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">Pearl</div>
					<div class="post-datetime">
						14 Apr 2008, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Wow Maddes,</p><p>That&#039;s great, helping David. I hope there soon will be an OPENWRT or a DDWRT firmware (with a SSHD like dropbear in it).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66918">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">ToxicTux</div>
					<div class="post-datetime">
						15 Apr 2008, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>This is genuinely exciting. I&#039;m really hoping we&#039;ll see a community-based firmware upgrade for the WRT350N-V2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66943">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						15 Apr 2008, 22:59					</div>
				</div>
				<div class="post-content content">
					<p>Just for being nice (and pleasing mindbender <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/>): here is the picture with the WLAN card removed (click picture for high-res).<br/>The picture with WLAN card inserted and no modifications is in <a href="https://forum.openwrt.org/viewtopic.php?pid=66661#p66661">post #61</a> above.</p><p>When you remove the WLAN card yourself, then be careful with the holding brackets (I over-bend the lower bracket).<br/>Second the WLAN card sticks to the motherboard via the foam. I had to cut the foam to remove the card.<br/>Wish me good luck, that WLAN still works on my device.</p><p>Additionally you see how I brought the serial console (J5) to the outside.<br/>It&#039;s just an old CD-ROM audio cable and a stereo audio jack.<br/>Now I just need to wait for the <a href="http://apple.clickandbuild.com/cnb/shop/ftdichip?productID=70&amp;op=catalogue-product_info-null&amp;prodCategoryID=47">FTDI TTL-232R-3V3-AJ USB cable</a> to arrive.<br/>(Edit) <strong>Attention!</strong> The place for the audio jack shown here is totally stupid, as it covers a screw hole, so the case couldn&#039;t be closed.<br/>The best place for the audio jack is across the board on the left side, as the right side is shielded with metal because of the antennas.<br/>Here is a link for a <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=10835">HowTo open a WRT350N</a> v1 and v2.<br/>And some info about <a href="ftp://ftp.maddes.net/maddes.net/hardware/SerialPort.txt">how I wired my audio jack</a>, the pin layout is described in <a href="https://forum.openwrt.org/viewtopic.php?pid=60299#p60299">post #5</a>.</p><p><a href="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_highres.jpg"><span class="postimg"><img src="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small.jpg" alt="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small.jpg"/></span></a> <a href="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_highres2.jpg"><span class="postimg"><img src="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small2.jpg" alt="http://ftp.maddes.net/hardware/WRT350Nv2/WRT350Nv2_small2.jpg"/></span></a></p><p>Regards<br/>Maddes</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 25 Sep 2011, 14:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66996">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						16 Apr 2008, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>very nice maddes.</p><p>as this board is a arm9 board and all NAS boards made by marvell featured a 20 pin arm jtag i suppose that the 20 pads which can be seen on the first pic could be JTAG. nice that you already figured out where serial is....were the headers populated or did you do that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66997">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						16 Apr 2008, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>The header on J5 was already there. For the cable I used the <a href="http://forum.openwrt.org/viewtopic.php?pid=60299#p60299">pin layout provided in post #5 by mwt</a>.<br/>J4 (to the left, under the silver heatsink) really looks like JTAG.</p><p>Last but not least I got my FTDI cable today, serial connection is working and TFTPBOOT is prepared.<br/>But it will still take some time to get OpenWRT on the router (remember everybody is doing this in their leisure time).</p><p>By the way never place an audio jack over a screw hole (hint: case won&#039;t close <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile"/>)</p><p>Maddes</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 28 Aug 2009, 20:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67076">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						18 Apr 2008, 05:15					</div>
				</div>
				<div class="post-content content">
					<p>for all those that haven`t followed it.....</p><p>2.6.25 was released today and marvell orion support is officially inside:</p><p>* <a href="http://blog.nas-central.org/2008/04/18/2625-released-support-for-marvell-orion-socs-now-in-the-vanilla-kernel/">http://blog.nas-central.org/2008/04/18/ … la-kernel/</a><br/>* <a href="http://linuxdevices.com/news/NS7210809585.html">http://linuxdevices.com/news/NS7210809585.html</a></p><p>Changelog:<br/>* <a href="http://kernelnewbies.org/Linux_2_6_25">http://kernelnewbies.org/Linux_2_6_25</a></p>											<p class="post-edited">(Last edited by <strong>mindbender</strong> on 19 Apr 2008, 21:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67178">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">dirkNL</div>
					<div class="post-datetime">
						20 Apr 2008, 22:55					</div>
				</div>
				<div class="post-content content">
					<p>I recently bought a WRT350Nv2.1 and I am too looking to get started on running Openwrt.</p><p>Before I jump right in and start flashing and booting all kinds of untested kernels I wanted to make sure if I can unbrick the device in an &quot;easy&quot; way.<br/>Will I be able to flash the stock linksys firmware back on through the Serial connection (J5)? Or do I need JTAG for this?</p><p>Another question, I read I need level shifting for the Serial connection to work. Can anyone point me in the right direction on what to build/solder to get the required shift?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67214">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						21 Apr 2008, 13:20					</div>
				</div>
				<div class="post-content content">
					<p>as this is a Marvell orion based device it uses the uboot bootloader. you can load kernel via tftp and use a rootfs via NFS. then the stock OS is not touched at all. all this can be done from within the uboot bootloader console....</p><p>so...your task is to connect a serial cable as maddes.b did above.</p><p>then you can instantly do everything without actually modifying the stuff in flash.....there will be an updated foonas-em image for arm9 soon....with the 2.6.25 kernel. maybe networking works with it. stay tuned.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67226">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						21 Apr 2008, 17:48					</div>
				</div>
				<div class="post-content content">
					<p>@dirkNL:<br/>Dag!<br/>Level conversion is needed as the WRT350N uses 3.3V for its serial console, the old standard uses 12V (a typical COM port).<br/>Either you place an FTDI converter chip into your WRT350N, so you can use a standard serial port on your router.<br/>Or you, just like me, use an audio jack to bring the connection to the outside and use a USB cable that does the level conversion (see my <a href="http://forum.openwrt.org/viewtopic.php?pid=66943#p66943">posting #66</a>).</p><p>If you open your v2.1 router, then do not forget to take pictures of it.<br/>Check the quality of the pictures before closing the router again.<br/>Thanks.</p><p>Doei<br/>Maddes</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 28 Aug 2009, 20:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67278">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">dirkNL</div>
					<div class="post-datetime">
						22 Apr 2008, 14:38					</div>
				</div>
				<div class="post-content content">
					<p>Thanks alot for these replies maddes.b and mindbender.</p><p>I ordered the same cable because soldering on a tiny FTDI chip like that isn&#039;t going to work for me...</p><p>When I opened my WRT I couldn&#039;t see any difference between your photos and my WRT, so I haven&#039;t made pictures. After I receive my cable I will&nbsp; need to openup my router again, if I don&#039;t forget I will make some photos.</p><p>I&#039;ll keep you posted once I get started.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67658">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">dirkNL</div>
					<div class="post-datetime">
						1 May 2008, 06:04					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve got to work on my WRT350N today with a friend of mine.</p><p>We succeeded to get a kernel built from linksys sources to boot, which is a 2.6.12_arm1 kernel. After that we tried a 2.6.25 kernel from NAS sources and that boots too, only without all other hardware recognition ofcourse. </p><p>Now I&#039;m eager to get a 2.6.25 kernel working with all drivers. My plan was to only replace the kernel in the linksys sources and see if we can get it to work. But I&#039;m not sure where to get my kernel sources. If I use the vanilla tree from kernel.org I don&#039;t see any support for the ARM platform. The ARM-linux.co.uk can&#039;t provide me the right information either. Where can I find the correct sources?</p><p>When we succeed to get this working we want to take a look at getting dropbear compiled into the firmware, or any other package for that matter. I found the apps directory in the sources from linksys, is it as easy as inserting the package into the apps directory and editing the apps Makefile to include your package?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67671">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						1 May 2008, 13:48					</div>
				</div>
				<div class="post-content content">
					<p>The 2.6.25-vanilla Kernel has arm support and mach-orion support too, but it hasn&#039;t got the setup.c-file for linksyses wrt350n</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>