<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with TP-Link TL-WR841N/ND v7 - wireless performance</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p170130">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">fgomes</div>
					<div class="post-datetime">
						16 Jun 2012, 16:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I&#039;ve bought 3 TP-Link TL-WR841N, and I&#039;m using 1 as a router, dhcp server&nbsp; and access point and the other 2 as access points only. I flashed all with OpenWrt and they are working, but the one that is configured as a router is giving me some problems, because of the wireless performance - the network is very slow, pings fail and have erratic delays, but the signal is good and there is no one using the same wireless channel. The other two that are configures as access points work well, and I have a good internet speed with them, so the router is working well because it is used for the internet access, it seems that the problem is only with the AP functionality on the one configured as router. Reading the logs i found that I have errors on dmesg that keep on growing, similar to this one:</p><p>[626430.440000] ath: phy0: Failed to stop TX DMA, queues=0x100!</p><p>I have not this error on the other two configured as access points. Any help would be appreciated, and please ask for any additional information if necessary.</p><p>Fernando</p><p>Full dmesg:</p><p>root@OpenWrt:~# dmesg<br />[&nbsp; &nbsp; 0.000000] Linux version 3.3.7 (openwrt@huchra) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Fri Jun 1 00:16:34 PDT 2012<br />[&nbsp; &nbsp; 0.000000] MyLoader: sysp=aaaaaaaa, boardp=aaaaaaaa, parts=aaaaaaaa<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR7241 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:5.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 8192<br />[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 80314410, node_mem_map 81000000<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 64 pages used for memmap<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 8128 pages, LIFO batch:0<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: [0] 0<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=TL-WR841N-v7 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 29000k/32768k available (2200k kernel code, 3768k reserved, 570k data, 200k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:48<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.090000] gpiochip_add: registered GPIOs 0 to 17 on device: ath79<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is TP-LINK TL-WR841N/ND v7<br />[&nbsp; &nbsp; 0.500000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.510000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.520000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.520000] pci_bus 0000:00: root bus resource [mem 0x10000000-0x17ffffff]<br />[&nbsp; &nbsp; 0.530000] pci_bus 0000:00: root bus resource [io&nbsp; 0x0000]<br />[&nbsp; &nbsp; 0.530000] pci 0000:00:00.0: [168c:002e] type 0 class 0x000280<br />[&nbsp; &nbsp; 0.530000] pci 0000:00:00.0: fixup device configuration<br />[&nbsp; &nbsp; 0.540000] pci 0000:00:00.0: reg 10: [mem 0x10000000-0x1000ffff 64bit]<br />[&nbsp; &nbsp; 0.540000] pci 0000:00:00.0: supports D1<br />[&nbsp; &nbsp; 0.540000] pci 0000:00:00.0: PME# supported from D0 D1 D3hot<br />[&nbsp; &nbsp; 0.540000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1000ffff 64bit]<br />[&nbsp; &nbsp; 0.540000] pci 0000:00:00.0: using irq 40 for pin 1<br />[&nbsp; &nbsp; 0.550000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.550000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.560000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.560000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.570000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.570000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.580000] TCP reno registered<br />[&nbsp; &nbsp; 0.580000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.590000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.600000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.600000] PCI: CLS 0 bytes, default 32<br />[&nbsp; &nbsp; 0.620000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.620000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.630000] msgmni has been set to 56<br />[&nbsp; &nbsp; 0.640000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.640000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.650000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled<br />[&nbsp; &nbsp; 0.680000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />[&nbsp; &nbsp; 0.690000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.700000] m25p80 spi0.0: found s25sl032a, expected m25p80<br />[&nbsp; &nbsp; 0.710000] m25p80 spi0.0: s25sl032a (4096 Kbytes)<br />[&nbsp; &nbsp; 0.710000] 5 tp-link partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.720000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.720000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.730000] 0x000000020000-0x00000011ca00 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.730000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.750000] 0x00000011ca00-0x0000003f0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.750000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.770000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[&nbsp; &nbsp; 0.770000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=290000, len=160000<br />[&nbsp; &nbsp; 0.780000] 0x000000290000-0x0000003f0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.790000] 0x0000003f0000-0x000000400000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.800000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 1.050000] ag71xx_mdio: probed<br />[&nbsp; &nbsp; 1.050000] eth0: Atheros AG71xx at 0xba000000, irq 5<br />[&nbsp; &nbsp; 1.650000] eth0: Found an AR7240/AR9330 built-in switch<br />[&nbsp; &nbsp; 2.880000] eth1: Atheros AG71xx at 0xb9000000, irq 4<br />[&nbsp; &nbsp; 3.490000] ag71xx ag71xx.0: eth1: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]<br />[&nbsp; &nbsp; 3.500000] TCP westwood registered<br />[&nbsp; &nbsp; 3.500000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 3.500000] Bridge firewalling registered<br />[&nbsp; &nbsp; 3.510000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 3.520000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 3.530000] Freeing unused kernel memory: 200k freed<br />[&nbsp; &nbsp; 6.770000] Registered led device: tp-link:green:system<br />[&nbsp; &nbsp; 6.770000] Registered led device: tp-link:green:qss<br />[&nbsp; &nbsp; 7.480000] eth0: link up (1000Mbps/Full duplex)<br />[&nbsp; &nbsp;10.100000] JFFS2 notice: (429) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 11 of xref (0 dead, 4 orphan) found.<br />[&nbsp; &nbsp;10.350000] eth0: link down<br />[&nbsp; &nbsp;11.650000] Compat-wireless backport release: compat-wireless-2012-05-16-3-gde86a47<br />[&nbsp; &nbsp;11.660000] Backport based on wireless-testing.git master-2012-05-29<br />[&nbsp; &nbsp;11.660000] compat.git: wireless-testing.git<br />[&nbsp; &nbsp;11.820000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;11.820000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;11.830000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;11.840000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.850000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.850000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.860000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.870000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;12.080000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp;12.090000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp;12.100000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp;12.580000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp;12.590000] ath: EEPROM regdomain: 0x0<br />[&nbsp; &nbsp;12.590000] ath: EEPROM indicates default country code should be used<br />[&nbsp; &nbsp;12.590000] ath: doing EEPROM country-&gt;regdmn map search<br />[&nbsp; &nbsp;12.590000] ath: country maps to regdmn code: 0x3a<br />[&nbsp; &nbsp;12.590000] ath: Country alpha2 being used: US<br />[&nbsp; &nbsp;12.590000] ath: Regpair used: 0x3a<br />[&nbsp; &nbsp;12.590000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />[&nbsp; &nbsp;12.600000] Registered led device: ath9k-phy0<br />[&nbsp; &nbsp;12.600000] ieee80211 phy0: Atheros AR9287 Rev:2 mem=0xb0000000, irq=40<br />[&nbsp; &nbsp;12.600000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp;12.610000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp;12.610000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;12.620000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />[&nbsp; &nbsp;12.630000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)<br />[&nbsp; &nbsp;12.640000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;12.640000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;12.650000] cfg80211:&nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;12.660000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)<br />[&nbsp; &nbsp;12.730000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;12.880000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;12.990000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;13.020000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp;13.050000] nf_conntrack version 0.5.0 (456 buckets, 1824 max)<br />[&nbsp; &nbsp;13.280000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp;18.400000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;19.190000] eth0: link up (1000Mbps/Full duplex)<br />[&nbsp; &nbsp;19.190000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;19.200000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;21.070000] eth1: link up (100Mbps/Full duplex)<br />[&nbsp; &nbsp;21.200000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;21.220000] device wlan0 entered promiscuous mode<br />[&nbsp; &nbsp;21.290000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;21.300000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;23.300000] br-lan: port 2(wlan0) entered forwarding state<br />[10588.530000] ath: phy0: Failed to stop TX DMA, queues=0x100!<br />[35203.210000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[133845.400000] ath: phy0: Failed to stop TX DMA, queues=0x10c!<br />[146230.530000] ath: phy0: Failed to stop TX DMA, queues=0x008!<br />[155588.920000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[163335.540000] ath: phy0: Failed to stop TX DMA, queues=0x00c!<br />[165974.320000] ath: phy0: Failed to stop TX DMA, queues=0x008!<br />[208010.100000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[221738.720000] ath: phy0: Failed to stop TX DMA, queues=0x00c!<br />[222324.500000] ath: phy0: Failed to stop TX DMA, queues=0x00c!<br />[223769.700000] ath: phy0: Failed to stop TX DMA, queues=0x008!<br />[228596.700000] ath: phy0: Failed to stop TX DMA, queues=0x008!<br />[231639.960000] ath: phy0: Failed to stop TX DMA, queues=0x00c!<br />[242050.010000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[278344.710000] ath: phy0: Failed to stop TX DMA, queues=0x00c!<br />[278819.160000] ath: phy0: Failed to stop TX DMA, queues=0x10c!<br />[284732.290000] ath: phy0: Failed to stop TX DMA, queues=0x100!<br />[300713.870000] ath: phy0: DMA failed to stop in 10 ms AR_CR=0x00000024 AR_DIAG_SW=0x42000020 DMADBG_7=0x000042c0<br />[300713.880000] ath: phy0: Could not stop RX, we could be confusing the DMA engine when we start RX up<br />[307929.790000] ath: phy0: Failed to stop TX DMA, queues=0x100!<br />[327996.270000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[336837.700000] ath: phy0: Failed to stop TX DMA, queues=0x104!<br />[380644.160000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[466087.290000] ath: phy0: Failed to stop TX DMA, queues=0x00c!<br />[520925.710000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[552664.170000] ath: phy0: Failed to stop TX DMA, queues=0x008!<br />[563056.150000] ath: phy0: Failed to stop TX DMA, queues=0x100!<br />[615269.160000] ath: phy0: Failed to stop TX DMA, queues=0x004!<br />[624596.060000] ath: phy0: Failed to stop TX DMA, queues=0x100!<br />[626430.440000] ath: phy0: Failed to stop TX DMA, queues=0x100!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170153">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">fgomes</div>
					<div class="post-datetime">
						16 Jun 2012, 19:49					</div>
				</div>
				<div class="post-content content">
					<p>Ping performance example, from a PC connected to the router through wireless, -39dBm signal strenght, ping to the router IP address:</p><p>C:\Users\9132&gt;ping 192.168.3.254</p><p>Pinging 192.168.3.254 with 32 bytes of data:<br />Reply from 192.168.3.254: bytes=32 time=10ms TTL=64<br />Reply from 192.168.3.254: bytes=32 time=3116ms TTL=64<br />Request timed out.<br />Reply from 192.168.3.254: bytes=32 time=3494ms TTL=64</p><p>Ping statistics for 192.168.3.254:<br />&nbsp; &nbsp; Packets: Sent = 4, Received = 3, Lost = 1 (25% loss),<br />Approximate round trip times in milli-seconds:<br />&nbsp; &nbsp; Minimum = 10ms, Maximum = 3494ms, Average = 2206ms</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170400">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sabidabi</div>
					<div class="post-datetime">
						19 Jun 2012, 16:18					</div>
				</div>
				<div class="post-content content">
					<p>Check this bug report:<br /><a href="https://dev.openwrt.org/ticket/9654">https://dev.openwrt.org/ticket/9654</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170515">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fgomes</div>
					<div class="post-datetime">
						20 Jun 2012, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>Hii sabidabi, thanks for your reply! I&#039;ve changed to r32130 and the problem seems to be the same, and as it was said before, the problem is only on the wireless connection, using it as a router through the LAN ports work perfectly well even when the wireless is completelly broken. What seems strange to me is that I have three exactly equal routers (and firmware), two working as wireless access points only and one as an access point and router, and this problem only occurs on the one that is working as a router. It only manifests on the wireless channel, but it seems to be related to some interaction between the wireless and the routing functions, since it doesn&#039;t manifest on the units that have no routing functions (nothing connected on the WAN port and DHCP server disabled).</p><p>Fernando</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171486">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sabidabi</div>
					<div class="post-datetime">
						4 Jul 2012, 07:57					</div>
				</div>
				<div class="post-content content">
					<p>Fernando, If all the routers have the same wireless configuration, this might be a valuable information for fixing the problem. I have referenced your post from the bug report, so the developer would look at it to see if this information might lead him to the root cause.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171502">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">fgomes</div>
					<div class="post-datetime">
						4 Jul 2012, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi Sabidabi, I confirm that all the routers have the same wireless configuration (802.11g+n, no encryption, access filtered by mac address, the mac address list is the same on all units). Currently I have disabled the wireless on the unit that is acting as a router and added an external AP (a TP-LINK TL-WR703N also running OpenWRT) to one of the LAN ports and all is working smoothly now. I have not monitored if I am still getting the &quot;Failed to stop TX DMA&quot; error, but everything is working normally, for more than a week without any rebooting (in the first days I was monitoring the log for the new AP, the TP-LINK TL-WR703N and found one or two errors &quot;Failed to stop TX DMA&quot;, but there was no performance loss). In summary, now I have three TP-Link TL-WR841N/ND v7, one working as a router only, the other two working as AP only, and a TP-LINK TL-WR703N working as a AP. All the units working as AP are directly connected to the LAN ports of the one working as a router. If I activate the Wireless interface of the one that is working as a router, it stills behave well as a router (to the LAN ports), but the wireless performance is very bad, lots of lost pings, unpredictable roundtrip time, failed connections, etc. This does not happen on the units working as AP only, I&#039;ve never reboot them (for more than one month now for the first two). If anyone needs any aditional diagnose on my system please let me know. Of course I want to remove the aditional TP-LINK TL-WR703N working a an AP, it is only there to be able to have wireless on the same floor where I have the router, if this problem is solved I can activate again the wireless interface on the router and remove this unit and put it where it belongs :-)</p><p>Fernando</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171538">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						4 Jul 2012, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>Fernando,</p><p>Interesting theory. Did you verify it by swapping out your main router for one of the identical devices? If I read your description correctly, it does not seem to rule out a hardware issue in the wifi part of the device you&#039;re using as a router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171549">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">fgomes</div>
					<div class="post-datetime">
						4 Jul 2012, 20:20					</div>
				</div>
				<div class="post-content content">
					<p>Hello Nbd</p><p>Yes, you are right, I have to make this aditional test to see if it is not an hardware issue on the wifi part of the router. I&#039;ll keep you posted when I am able to do this test, probabbly only possible in a few days.</p><p>Best regards</p><p>Fernando</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>