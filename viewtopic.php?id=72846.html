<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HOWTO: Build from _stable_ source ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p369986">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						24 Dec 2017, 15:06					</div>
				</div>
				<div class="post-content content">
					<p>I had an old build system of LEDE, October 2017, for a custom build, which worked well.<br />Now I wanted to implement a change regarding included packages, and also to use new sources, so I did<br />git pull<br />which retreived lot of files. I also did ./scripts/feeds update/install -a</p><p>And then the build was aborted, with an error regarding some dependencies.<br />Question: How to setup sources&nbsp; from a stable platform, i.e. 17.0.4 ?<br />As <br />git clone <a href="https://git.lede-project.org/source.git">https://git.lede-project.org/source.git</a><br />obviously gave me an unstable code base. (Which I consider rediculous, but thats another story).</p><p>I want to build from source, as I have special /uci-defaults, /files etc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369997">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						24 Dec 2017, 20:25					</div>
				</div>
				<div class="post-content content">
					<p>First clone the sources with &#039;git clone&#039;, or update your local copy with &#039;git pull&#039;. Then use &#039;git tag&#039; to list the known &quot;frozen&quot; versions. Use &#039;git checkout &lt;tagname&gt;&#039; to move our head to a specific commit (i.e. a specific commit that matches a specific &quot;frozen&quot; version)</p><p>Use &#039;make distclean&#039; to clean-up your working copy, then &#039;./scripts/feeds update/install -a&#039; to update the feeds. Use &#039;make menuconfig&#039; to setup your image and finally &#039;make&#039; to build the image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370002">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						25 Dec 2017, 04:05					</div>
				</div>
				<div class="post-content content">
					<p>Thanx a lot. I suggest, you might include this info in the wiki for the build system, to be the &quot;default procedure&quot; to build from source, to build from a &quot;frozen&quot; version, as you call it. And keep the actual description for the brave users, with a big warning, to risk a broken build system. I consider the actual state of wiki rediculous, like &quot;do this and this. O, sorry, BTW, you might get a broken build.&quot; I had this problem a few times in the past already, but always had a backup of the old build system. This time I was too lazy, and f... up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370018">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						25 Dec 2017, 22:04					</div>
				</div>
				<div class="post-content content">
					<p>The LEDE wiki is quite detailed about this: <a href="https://lede-project.org/docs/guide-developer/use-buildsystem">https://lede-project.org/docs/guide-dev … uildsystem</a></p><p>Only thing missing is the checkout of a specific version. I added this information to the guide.</p><p>There&#039;s no point in updating the OpenWrt wiki anymore.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370019">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						25 Dec 2017, 22:16					</div>
				</div>
				<div class="post-content content">
					<p>Usually it makes no sense to build a historical stable release like 17.01.4, as it is better to build from the head of the stable 17.01 branch to get also the fixes done after the last release.</p><p>So, instead of checking out tag 17.01.4, checkout the 17.01 branch to get the stable head.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370021">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						25 Dec 2017, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Good point. I&#039;ve updated the wiki page to reflect this as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370026">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						26 Dec 2017, 03:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Antek wrote:</cite><blockquote><p>The LEDE wiki is quite detailed about this: <a href="https://lede-project.org/docs/guide-developer/use-buildsystem">https://lede-project.org/docs/guide-dev … uildsystem</a><br />Only thing missing is the checkout of a specific version. I added this information to the guide.</p></blockquote></div><p>There is bad flow of info. When entering <br /><a href="https://lede-project.org/docs/guide-developer/install-buildsystem">https://lede-project.org/docs/guide-dev … uildsystem</a><br />on the bottom, only the begin how to to build a potentially broken system.<br />This should be the exception, I guess; better to add a link to <a href="https://lede-project.org/docs/guide-developer/install-buildsystem">https://lede-project.org/docs/guide-dev … uildsystem</a></p>											<p class="post-edited">(Last edited by <strong>augustus_meyer</strong> on 26 Dec 2017, 03:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370059">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						26 Dec 2017, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>I moved the information into the relevant section in the first article.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>