<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Make image fails</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p265726">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">danielcra</div>
					<div class="post-datetime">
						16 Feb 2015, 12:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>from which directory am I supposed to run the &#039;make info&#039; and &#039;make image&#039; commands? When I run them from the top level I get this:</p><p>ubuntu:/media/sf_source/openwrt$ make info V=s<br />make[1]: Entering directory `/media/sf_source/openwrt&#039;<br />make[1]: *** No rule to make target `info&#039;.&nbsp; Stop.<br />make[1]: Leaving directory `/media/sf_source/openwrt&#039;<br />make: *** [info] Error 2<br />(Same for make image)</p><p>I had previously followed the instructions at <a href="http://wiki.openwrt.org/doc/howto/build;">http://wiki.openwrt.org/doc/howto/build;</a> - the only difference being that I cloned from git. Does git hold the same content as svn?</p><p>I managed to compile everything from the top level, resulting in .trx files under bin/. Now I want to create more specific images with &#039;make image PROFILE=..&quot;, but it fails.</p><p>Any ideas?</p><p>tnx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265734">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						16 Feb 2015, 13:06					</div>
				</div>
				<div class="post-content content">
					<p>It seems you are mixing Image Generator and OpenWrt Buildroot.</p><p>Image Generator has &quot;make image&quot;<br />see <a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.generate">http://wiki.openwrt.org/doc/howto/obtai â€¦ e.generate</a></p><p>Image Generator: &quot;repack&quot; Router images with ipkg from feeds (binaries)</p><p>OpenWrt Buildroot: generate images from source code</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265772">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">danielcra</div>
					<div class="post-datetime">
						16 Feb 2015, 17:10					</div>
				</div>
				<div class="post-content content">
					<p>Ok, thanks.<br />So what is the buildroot equvalent to<br />&gt;&nbsp; make image PROFILE=XXX PACKAGES=&quot;pkg1 pkg2 pkg3 -pkg4 -pkg5 -pkg6&quot; FILES=files/</p><p>I would like to include a couple of modules (ipk?) and potentially other files into the install image (.trx?). Do I do this by adding to the Makefile in target/linux/&lt;platform&gt; or is there a way to add .ipk files to a .trx file after they are already built?</p><p>Is there a way to list the content of existing .txr files?</p>											<p class="post-edited">(Last edited by <strong>danielcra</strong> on 16 Feb 2015, 17:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265778">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						16 Feb 2015, 17:56					</div>
				</div>
				<div class="post-content content">
					<p>- files/ content should be automatically integrated<br />- you select profiles and packages via menuconfig<br />- changes are written to a .config file (that you can create with a script too)<br />CONFIG_PACKAGE_packagename=y and CONFIG_TARGET_ar71xx_generic_profilename=y (+ 2 other symbols with arch)</p><p>Then a completely new image will be created.</p><div class="quotebox"><blockquote><p>Is there a way to list the content of existing .txr files?</p></blockquote></div><p>afaik there is no simple way - there is binwalk (or normal tools like dd if you know partition sizes etc.) that you can use</p><p>There is a backup function integrated in OpenWrt that can save config files. So you dont have to handle complete binary images.</p><p>Dont know how the image generator works with repacking the files - sorry.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>