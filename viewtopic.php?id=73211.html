<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [BUG] &#039;--dport&#039; option is broken with sctp and iptables</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p371904">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">z237751</div>
					<div class="post-datetime">
						9 Feb 2018, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d tried posting at dev.openwrt.org but got this super user-friendly response:<br /></p><div class="quotebox"><blockquote><p>Submission rejected as potential spam</p></blockquote></div><p>I hope someone with trusted account could post this in the openwrt&#039;s bug track.</p><p>System: CHAOS CALMER (15.05.1, r48532)<br />Router: Asus RT-N56U</p><p><strong>What happens:</strong><br />It seems that &#039;--dport&#039; option is not recognized for sctp by iptables. Command execution fails.</p><p><strong>Expected result:</strong><br />Command runs successfully and we can create rules with iptables to match by sctp and destination port.</p><p><strong>Steps to reproduce:</strong><br />First install these:<br />kmod-sctp<br />libsctp<br />sctp<br />sctp-tools</p><p>Try to run this:<br /></p><div class="codebox"><pre><code>iptables -A INPUT -p sctp --dport 1234 -j ACCEPT</code></pre></div><p>Shows error:<br /></p><div class="codebox"><pre><code>iptables v1.4.21: unknown option &quot;--dport&quot;
Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.</code></pre></div><p>Try to run this:<br /></p><div class="codebox"><pre><code>iptables -A INPUT -p sctp -j ACCEPT</code></pre></div><p>Works!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371907">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						9 Feb 2018, 17:11					</div>
				</div>
				<div class="post-content content">
					<p>Try to reproduce the issue with a slightly newer source code base, like the LEDE 17.01. If the problem persist, report it to <a href="https://bugs.lede-project.org/">https://bugs.lede-project.org/</a>, unless it has already been reported.</p>											<p class="post-edited">(Last edited by <strong>Antek</strong> on 9 Feb 2018, 17:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371919">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">z237751</div>
					<div class="post-datetime">
						9 Feb 2018, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>I quickly installed lede <em>17.01.1 r3316-7eb58cf109</em> in VirtualBox (according to the guide on wiki.openwrt.org/doc/howto/virtualbox). Commands behave the same way - this bug is present.</p><p>Any tips how to create issue on bugs.lede-project.org? I don&#039;t see any instruction or &quot;create issue&quot; button...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371920">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						9 Feb 2018, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>You can also use <a href="https://bugs.openwrt.org/">https://bugs.openwrt.org/</a> that is the new address for the same tracker <a href="https://bugs.lede-project.org/">https://bugs.lede-project.org/</a></p><p>click the &quot;Login!&quot; button in the upper right corner...</p><p>(anonymous bug reports are not accepted, you need to register first)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371931">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">z237751</div>
					<div class="post-datetime">
						10 Feb 2018, 11:19					</div>
				</div>
				<div class="post-content content">
					<p>Reported:<br />bugs.openwrt.org/index.php?do=details&amp;task_id=1339</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>