<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Texas Instruments avalanche DSL modem working with linux 2.6.19 on AR7</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 4 Apr 2018 and 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=10352&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p46560">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						17 Apr 2007, 04:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi<br />I have ported the old driver to a new 2.6.19.2 kernel. the most interesting feature, apart that it works, is that<br />now the firmware is loaded via hotplug.<br />Here there are some cookies for you:<br /></p><div class="codebox"><pre><code>[/]# uname -a
Linux OpenWrt 2.6.19.2 #33 Mon Apr 16 02:29:05 CEST 2007 mips unknown
[/]# insmod tiatm
[/]# dmesg
registered device TI Avalanche SAR
Initializing DSL interface
requesting firmware image &quot;ar0700xx.bin&quot;
avsar: Device released
size=10120
size=38720
size=46432
size=45312
Texas Instruments ATM driver: version:[4.02.04.00]
DSL in Sync
[/]# cat /proc/tiatm/avsar_ver
ATM Driver version:[4.02.04.00]
DSL HAL version: [3.00.06.00]
DSP Datapump version: [3.00.15.00] Annex A
SAR HAL version: [01.06.06]
PDSP Firmware version:[0.49]</code></pre></div><p>tested with pppoa and it works as expected</p><p>the patch is here: <a href="http://teknoraver.campuslife.it/software/sangam_linux-2.6.diff">sangam_linux-2.6.diff</a> and it gets the source from here: <a href="http://teknoraver.campuslife.it/software/sangam-atm-0.2.tar.bz2">sangam-atm-0.2.tar.bz2</a></p><p>Please report successes of failures in this forum or in the <a href="https://dev.openwrt.org/ticket/1595">Ticket #1595</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46577">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						17 Apr 2007, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m working on a new release based on driver 7.00.01.00 (see <a href="https://dev.openwrt.org/ticket/1411">Ticket 1411</a>)<br />but at the moment it just segfaults <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />If someone is interested it can be found here: <a href="http://teknoraver.campuslife.it/software/sangam-atm-0.3.tar.bz2">sangam-atm-0.3.tar.bz2</a></p><p>Cheers,<br />Matteo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46614">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						18 Apr 2007, 00:17					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d just like to give a huge thanks to yourself, ejka and nico for the work on the 2.6 port.</p><p>Where did you get your hands on the newer ATM source?</p><p>Netgear&#039;s V3.01.25 source code for the DG834G doesn&#039;t seem to have anything newer than Kamikaze, yet the downloadable firmware has the following:<br /></p><div class="codebox"><pre><code># cat /proc/avalanche/avsar_ver
ATM Driver version:[4.05.03.00]
DSL HAL version: [3.02.04.00]
DSP Datapump version: [4.01.02.00] Annex A
SAR HAL version: [01.07.02]
PDSP Firmware version:[0.49]</code></pre></div>											<p class="post-edited">(Last edited by <strong>KillaB</strong> on 18 Apr 2007, 00:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46619">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						18 Apr 2007, 03:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>KillaB wrote:</cite><blockquote><p>I&#039;d just like to give a huge thanks to yourself, ejka and nico for the work on the 2.6 port.</p><p>Where did you get your hands on the newer ATM source?</p><p>Netgear&#039;s V3.01.25 source code for the DG834G doesn&#039;t seem to have anything newer than Kamikaze, yet the downloadable firmware has the following:<br /></p><div class="codebox"><pre><code># cat /proc/avalanche/avsar_ver
ATM Driver version:[4.05.03.00]
DSL HAL version: [3.02.04.00]
DSP Datapump version: [4.01.02.00] Annex A
SAR HAL version: [01.07.02]
PDSP Firmware version:[0.49]</code></pre></div></blockquote></div><p>Get the code here: <a href="https://dev.openwrt.org/ticket/1411">https://dev.openwrt.org/ticket/1411</a>.<br />Please, can you send me the binary firmware ver 4.05.03.00? rootkit85 AT yahoo DOT it</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46622">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						18 Apr 2007, 05:25					</div>
				</div>
				<div class="post-content content">
					<p>Here it is:<br /></p><div class="codebox"><pre><code>[/]# uname -a
Linux OpenWrt 2.6.19.2 #33 Mon Apr 16 02:29:05 CEST 2007 mips unknown
[/]# cat /proc/avalanche/avsar_ver
ATM Driver version:[7.01.00.10]
DSL HAL version: [7.01.00.08]
DSP Datapump version: [7.01.01.00] Annex A
SAR HAL version: [01.07.2c]
PDSP Firmware version:[0.54]
Chipset ID: [7300/7300A]
[/]# logread |fgrep pppd
Jan  1 00:00:49 (none) daemon.info pppd[1572]: Plugin pppoatm.so loaded.
Jan  1 00:00:49 (none) daemon.notice pppd[1573]: pppd 2.4.3 started by root, uid 0
Jan  1 00:00:50 (none) daemon.info pppd[1573]: Using interface ppp0
Jan  1 00:00:50 (none) daemon.notice pppd[1573]: Connect: ppp0 &lt;--&gt; 8.35
Jan  1 00:00:59 (none) daemon.notice pppd[1573]: PAP authentication succeeded
Jan  1 00:00:59 (none) daemon.notice pppd[1573]: PAP authentication succeeded
Jan  1 00:00:59 (none) daemon.warn pppd[1573]: kernel does not support PPP filtering
Jan  1 00:00:59 (none) daemon.notice pppd[1573]: local  IP address 82.55.118.226
Jan  1 00:00:59 (none) daemon.notice pppd[1573]: remote IP address 192.168.100.1
Jan  1 00:00:59 (none) daemon.notice pppd[1573]: primary   DNS address 85.37.17.51
Jan  1 00:00:59 (none) daemon.notice pppd[1573]: secondary DNS address 85.38.28.97
[/]# ping -c2 openwrt.org
PING openwrt.org (195.56.146.238): 56 data bytes
64 bytes from 195.56.146.238: icmp_seq=0 ttl=47 time=66.1 ms
64 bytes from 195.56.146.238: icmp_seq=1 ttl=47 time=65.1 ms

--- openwrt.org ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 65.1/65.6/66.1 ms
[/]# dmesg
...
registered device TI Avalanche SAR
Sangam detected
tn7dsl_read_dsp()
open file /lib/modules/ar0700xx.bin
DSP binary filesize = 374774 bytes
file length = 374774
tiload: check checksum
CRC-32 for the Binary: 0x9a62774a
Checksum error, got 0xe1af0000
signature=TIDSL
tiload: check sect count
Old Addr:147f2e00  New: 14af8000
Creating new root folder avalanche in the proc for the driver stats
Texas Instruments ATM driver: version:[7.01.00.10]
tn7atm_open()
tn7sar_activate_vc</code></pre></div><p>I hope someone will find it useful.<br />I&#039;ll post the sources whan i will implemented hotplug firmware loading and cleaning them a bit<br />Cheers,<br />Matteo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46623">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						18 Apr 2007, 05:35					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve published the sources online for some geek that wants to try them.<br />Go fetch it! <a href="http://teknoraver.campuslife.it/software/sangam-atm-0.3.tar.bz2">sangam-atm-0.3.tar.bz2</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46713">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						19 Apr 2007, 10:30					</div>
				</div>
				<div class="post-content content">
					<p>Please excuse me for asking a newbie question... I have a D-Link DSL-G604t and have been waiting hopefully to hear that there would be support for ADSL and wireless together!&nbsp; Do you think this code is nearly to the point where I could use it as a regular &quot;production&quot; router for my home office?</p><p>I wouldn&#039;t mind trying to help test it on a weekend if it is likely to work OK or my testing would help get it ready.&nbsp; But I need to put the router back into a working state that is at least no worse than the goofy state it is in now, running D-Link DSL-G664t firmware that I installed via the ADAM2 firmware. :-)</p><p>Also, is there a way to use the 2.6 kernel with whiterussian?&nbsp; Or does testing this mean building and using kamikaze?&nbsp; I tried checking out trunk and building it for AR7 but got funny toolchain errors for both AR7-2.4 and AR7-2.6 builds... this is on Fedora Core 6 32-bit.&nbsp; I wouldn&#039;t mind using kamikaze if someone could identify a good revision number to use in combination with this ADSL driver...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46764">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ctype</div>
					<div class="post-datetime">
						20 Apr 2007, 02:04					</div>
				</div>
				<div class="post-content content">
					<p>rootkit. is 7.0 driver will fix adsl link degradation (<a href="https://dev.openwrt.org/ticket/1464">https://dev.openwrt.org/ticket/1464</a>) ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46775">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						20 Apr 2007, 05:40					</div>
				</div>
				<div class="post-content content">
					<p>@rootkit</p><p>If it helps at all in writing the hotplug stuff.<br />Here are my thoughts: <a href="https://dev.openwrt.org/ticket/1074">https://dev.openwrt.org/ticket/1074</a></p><p>If I could do it myself I would, but I&#039;m unfortunately not much of a programmer.</p><div class="quotebox"><cite>rootkit wrote:</cite><blockquote><p>Please, can you send me the binary firmware ver 4.05.03.00?</p></blockquote></div><p>The binary is for 2.4.x, do you still want it?&nbsp; If so, what exact file(s) do you need?<br />Do you also want the ar0700xx.bin (Annex A) file?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46787">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						20 Apr 2007, 12:55					</div>
				</div>
				<div class="post-content content">
					<p>Here is the filan, all-inclusive patch: <a href="http://teknoraver.campuslife.it/software/sangam_linux-2.6.diff">http://teknoraver.campuslife.it/softwar … x-2.6.diff</a></p><p>To KillaB: i don&#039;t need it, i have 7.01.00.10 <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>to ctype: i don&#039;t know, try it and see</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46788">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						20 Apr 2007, 12:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>karl wrote:</cite><blockquote><p>Please excuse me for asking a newbie question... I have a D-Link DSL-G604t and have been waiting hopefully to hear that there would be support for ADSL and wireless together!&nbsp; Do you think this code is nearly to the point where I could use it as a regular &quot;production&quot; router for my home office?</p><p>I wouldn&#039;t mind trying to help test it on a weekend if it is likely to work OK or my testing would help get it ready.&nbsp; But I need to put the router back into a working state that is at least no worse than the goofy state it is in now, running D-Link DSL-G664t firmware that I installed via the ADAM2 firmware. :-)</p><p>Also, is there a way to use the 2.6 kernel with whiterussian?&nbsp; Or does testing this mean building and using kamikaze?&nbsp; I tried checking out trunk and building it for AR7 but got funny toolchain errors for both AR7-2.4 and AR7-2.6 builds... this is on Fedora Core 6 32-bit.&nbsp; I wouldn&#039;t mind using kamikaze if someone could identify a good revision number to use in combination with this ADSL driver...</p></blockquote></div><p>if you post the build error maybe we can help...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46811">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						20 Apr 2007, 20:48					</div>
				</div>
				<div class="post-content content">
					<p>I got past my tool build errors... it seems like maybe there are race conditions if you set the number of build jobs to 2?&nbsp; (I was trying to get things done faster on a dual-core host).&nbsp; It was odd errors about ld not being configured properly for options being passed to it (in the cross-compiler chain).&nbsp; Once I set the number of jobs back to 1 and did a distclean, things started building OK.</p><p>However, I built revision 7004 ar7-2.6 with wireless and adsl support and installed it, but never got to the point of DHCP or telnet responding. I do not have a serial adapter for my DSL-G604t, so I am pretty much stumped at this point.&nbsp; None of the squashfs or jffs2 images gave me any indication of whether they were booting or not, with the LEDs coming on for power and LAN link immediately and never changing (except to flicker if I sent DHCP/ARP requests on the LAN).&nbsp; I even tried setting the MAC_PORT adam2 variable as suggested in a writeup for 2.4 kernels.&nbsp; I have no way of knowing if the ethernet is non-functional, or the root filesystem, etc.</p><p>I followed the instructions for writing the firmware via FTP to my adam2 version 22.2 firmware that I found on a writeup for another model (DSL-504?)... I used hexdump to find the beginning of the squashfs (or jffs2) filesystems and tried to adjust the partition map so that the kernel/fs split was at the right spot, and I wrote the entire image to the kernel+fs partition so that the image byte 0 starts at the beginning of the kernel partition (mtd1). I found the jffs2 magic &quot;0x1985&quot; (stored as 85 19) starting after padding at offset 0x000d0000 in my build, whereas the &#039;hsqs&#039; in the squashfs starts at an odd alignment of 10 bytes in from 0x000c67a0, i.e. 0x000c67aa. Is there some extra padding around this value that I didn&#039;t take into account?&nbsp; I used these values as the boundary between mtd1 and mtd0.</p><p>Is there a known-good revision I should start with to validate that I can get an image to boot with ethernet access?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46823">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						21 Apr 2007, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys,<br />DSL support for AR7-2.6 has been committed. I also fixed up a few quirks in cpmac. Enjoy!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46826">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">heini</div>
					<div class="post-datetime">
						21 Apr 2007, 09:27					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> a big thxs from my side to ejka, nbd, rootkit, and all the rest of the ar7 guy&#039;s!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46835">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						21 Apr 2007, 12:04					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, thanks for not giving up on the AR7 stuff!</p><p>I did an svn update after reading nbd&#039;s post, and got a build to boot successfully on my router, using the JFFS2-64K image uploaded via FTP to adam2. However, I had to revert it due to my wife impatiently needing the internet access while I was still learning how to get the PPP over ADSL working. It did get DSL in sync though, with the same line quality metrics as with the D-Link firmware. :-)</p><p>I&#039;ll try again later after I read more online docs and get &quot;permission&quot; to disable our internet again... with luck, my next question will be about getting the wireless working, as I noticed dmesg output about hotplug not finding the firmware image...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46839">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">heini</div>
					<div class="post-datetime">
						21 Apr 2007, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>create /lib/firmware, dl <a href="http://www.hauke-m.de/fileadmin/acx/fw.ar.bz2">http://www.hauke-m.de/fileadmin/acx/fw.ar.bz2</a> untar it to /lib/firmware ... and have fun. (but it is the opensource driver, no wpa funktion... only web)</p>											<p class="post-edited">(Last edited by <strong>heini</strong> on 21 Apr 2007, 13:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46840">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						21 Apr 2007, 13:33					</div>
				</div>
				<div class="post-content content">
					<p>I added a few fixes for PPPoE and added a config template for configuring it. Should be easier to set up now...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46845">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						21 Apr 2007, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>I just wanted to say that I got PPPoE going once I installed the br2684ctl package and manually created nas0, and in fact I am posting via this new OpenWRT instance now.&nbsp; Am I reading correctly that the new patches automate this step, i.e. getting the vpi/vci settings from config/network?&nbsp; You guys are too quick for me. :-)</p><p>I guess I should go find another topic to ask questions about the acx driver, and keep this one just about the ADSL modem...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46881">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ctype</div>
					<div class="post-datetime">
						22 Apr 2007, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>who can help with error on build (rev. 7031):<br />make -C ar7-atm compile<br />make[3]: Entering directory `/my/openwrt/trunk/package/ar7-atm&#039;<br />make -C &quot;/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/linux-2.6.19.2&quot; CROSS_COMPILE=&quot;mipsel-linux-uclibc-&quot; ARCH=&quot;mips&quot; SUBDIRS=&quot;/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10&quot; modules<br />make[4]: Entering directory `/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/linux-2.6.19.2&#039;<br />&nbsp; CC [M]&nbsp; /my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.o<br />In file included from /my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:74:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.h:66:7: warning: &quot;PSP_VERSION_MAJOR&quot; is not defined<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.h:279:8: warning: extra tokens at end of #endif directive<br />In file included from /my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:75:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7api.h:166:8: warning: extra tokens at end of #endif directive<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c: In function `tn7atm_send_complete&#039;:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:1292: warning: unused variable `ledticks&#039;<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c: In function `tn7atm_receive&#039;:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:1407: warning: unused variable `ledticks&#039;<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c: In function `tn7atm_detect&#039;:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:1800: warning: unused variable `residual&#039;<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c: In function `tn7atm_dsl_irq&#039;:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7api.h:107: sorry, unimplemented: inlining failed in call to &#039;tn7dsl_handle_interrupt&#039;: function body not available<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:608: sorry, unimplemented: called from here<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c: At top level:<br />/my/openwrt/trunk/build_mipsel/linux-2.6-ar7/sangam_atm-07.01.00.10/tn7atm.c:2354: warning: &#039;tn7atm_xlate_proc_name&#039; defined but not used</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46887">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">cyberstorm</div>
					<div class="post-datetime">
						22 Apr 2007, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>For me both adsl syncing and connection work on my linksys wag354g. The problem instead is the ethernet not running. The output of ifconfig says the interface eth0 is up with static ip 192.168.1.1, but rx and tx byte are stuck to zero.</p><p>karl, how have u solved your problems with ethernet?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46922">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">ctype</div>
					<div class="post-datetime">
						23 Apr 2007, 03:05					</div>
				</div>
				<div class="post-content content">
					<p>Yes. Agree. I am too has problems with etherned (rev. 7031, dlink dsl 524-t), look like leds of ethernet blink but connection don&#039;t established</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46931">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						23 Apr 2007, 06:00					</div>
				</div>
				<div class="post-content content">
					<p>I built r7021&nbsp; and did not do anything special to get ethernet working.&nbsp; It booted from the first flash install and I telneted into it (I have no serial console).</p><p>I did see on a howto for a different model a suggestion to try setting the adam2 variable MAC_PORT to a value of &quot;0&quot; or &quot;1&quot; to configure the network, but I think the 2.6 kernel is now trying to automatically select this and I am not sure if the adam2 variable will actually have any effect.&nbsp; Might be worth a try...&nbsp; On my DSL-G604t, there is eth0 and eth1 and I suspect eth1 is not connected to anything. I have the MAC_PORT variable unset in adam2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46952">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						23 Apr 2007, 14:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyberstorm wrote:</cite><blockquote><p>For me both adsl syncing and connection work on my linksys wag354g. The problem instead is the ethernet not running. The output of ifconfig says the interface eth0 is up with static ip 192.168.1.1, but rx and tx byte are stuck to zero.</p><p>karl, how have u solved your problems with ethernet?</p></blockquote></div><p>Yeah, i know. The driver fails to detect the Admtek switch so it doesn&#039;t works.<br />You can force the switch usage like i do here: <a href="https://dev.openwrt.org/ticket/1614">https://dev.openwrt.org/ticket/1614</a> with <a href="https://dev.openwrt.org/attachment/ticket/1614/adm6996l.diff?format=raw">this patch</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46980">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">cyberstorm</div>
					<div class="post-datetime">
						23 Apr 2007, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>thanks rootkit, now ethernet works. I&#039;ll wait for someone to put in /etc/config/network a template for acx111 too <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46987">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">ctype</div>
					<div class="post-datetime">
						23 Apr 2007, 21:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rootkit wrote:</cite><blockquote><p>Yeah, i know. The driver fails to detect the Admtek switch so it doesn&#039;t works.<br />You can force the switch usage like i do here: <a href="https://dev.openwrt.org/ticket/1614">https://dev.openwrt.org/ticket/1614</a> with <a href="https://dev.openwrt.org/attachment/ticket/1614/adm6996l.diff?format=raw">this patch</a></p></blockquote></div><p>Is this patch will help with ADM6996M ?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=10352&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>