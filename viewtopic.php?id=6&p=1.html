<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ADM Config</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 3 Mar 2018 and 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=6&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p9">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						10 Mar 2004, 10:30					</div>
				</div>
				<div class="post-content content">
					<p>Preview of some of the stuff I&#039;m working on for b4:</p><p><a href="http://openwrt.ksilebo.net/temp/b4-pre/adm-test.tgz">http://openwrt.ksilebo.net/temp/b4-pre/adm-test.tgz</a></p><p>(dammit, this forum doesn&#039;t have an &quot;upload file&quot; option .. yet)</p><p><strong>EDIT: newer sources appear later in this thread</strong></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">valik</div>
					<div class="post-datetime">
						10 Mar 2004, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>this will allow to use the ports of switch as independent interfaces?</p><p>if so, it&#039;s great! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Guest</div>
					<div class="post-datetime">
						10 Mar 2004, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>Yes, you will be allowed to set each port as a different vlan target and essentially get 5 interfaces.&nbsp; See <a href="http://www.admtek.com.tw/download/Switch/adm6996l/ADM6996L%20V1.02.pdf">http://www.admtek.com.tw/download/Switc … 0V1.02.pdf</a> for what we can do by tweaking registers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">liquid</div>
					<div class="post-datetime">
						11 Mar 2004, 07:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Preview of some of the stuff I&#039;m working on for b4:</p><p><a href="http://openwrt.ksilebo.net/temp/b4-pre/adm-test.tgz">http://openwrt.ksilebo.net/temp/b4-pre/adm-test.tgz</a></p><p>(dammit, this forum doesn&#039;t have an &quot;upload file&quot; option .. yet)</p></blockquote></div><p>I have been working on the same thing for the sveasoft firmware, simply because that is what I have been using.&nbsp; I assume you will be releasing the code for this when b4 comes out?&nbsp; If so, I can tack on some of the features I wanted to expose.</p><p>Some of the things I have/had planned are:<br />per port counters/statistics (for accounting) <br />port speed/duplex (including setting them) <br />port admin status (turn the port on or off) <br />port status (is there a link) <br />port mac address assignments (locking the port to specific mac addresses) <br />port mac history (all macs that are on that port) <br />vlan config per port <br />per port QoS config including queue setup (802.1p) <br />internal buffer statistics <br />device flag setting (aging, broadcast storm, etc) </p><p>Btw, the design of your release is great.&nbsp; It makes it so simple to duplicate your environment for dev and get right to work.&nbsp; Much appreciated. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Tim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						29 Mar 2004, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>First off, this isn&#039;t the post you hoped it was.</p><p>I had originally planned to have admcfg finished by now, but as always happens when you set goals real life tells you otherwise. So, admcfg is unfinished.</p><p>Instead of delaying things further I figured I&#039;d toss the sources up for grabs, perhaps someone will finish it before I do. The goals for it are pretty simple, an ifconfig knockoff. Syntax wise it should probably accept a commandline such as the following:</p><p>admcfg port2 vlan 2 speed 100 duplex full up</p><p>or simply put,</p><p>admcfg [port [setting .. ]]*</p><p>- all settings refer to the last instance of port on the commandline<br />- after applying all the settings it should print out each given, or all if none were given</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">liquid</div>
					<div class="post-datetime">
						29 Mar 2004, 20:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Yes, you will be allowed to set each port as a different vlan target and essentially get 5 interfaces.&nbsp; See <a href="http://www.admtek.com.tw/download/Switch/adm6996l/ADM6996L%20V1.02.pdf">http://www.admtek.com.tw/download/Switc … 0V1.02.pdf</a> for what we can do by tweaking registers.</p></blockquote></div><p>actually, you don&#039;t need to change any registers to do that part.&nbsp; it is all built into the drivers already.&nbsp; see <a href="http://www.sveasoft.com/modules/phpBB2/viewtopic.php?t=191">http://www.sveasoft.com/modules/phpBB2/ … .php?t=191</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						29 Mar 2004, 22:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>actually, you don&#039;t need to change any registers to do that part.&nbsp; it is all built into the drivers already.&nbsp; see <a href="http://www.sveasoft.com/modules/phpBB2/viewtopic.php?t=191">http://www.sveasoft.com/modules/phpBB2/ … .php?t=191</a></p></blockquote></div><p>I&#039;m aware of the vlan*ports nvram variables, however due to a hardware check that code isn&#039;t active on the v1 hardware nor does it allow you to change the values at runtime.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						4 Apr 2004, 05:11					</div>
				</div>
				<div class="post-content content">
					<p>Ok, ADM6996 utils updated.</p><p><strong>USAGE</strong>:<br />admcfg [&lt;port&gt; [option]]<strong><em>port</em></strong> is in the form of &quot;portX&quot;<br /><strong><em>option</em></strong> is one of:<strong>ENABLED</strong>, <strong>DISABLED</strong> - enable/disable port<br /><strong>100Mbps</strong>, <strong>10Mbps</strong> - port speed<br /><strong>FD</strong>, <strong>HD</strong> - full duplex/half duplex<br /><strong>FLOW</strong>, <strong>NOFLOW</strong> - 802.3 flow control<br /><strong>TAG</strong>, <strong>UNTAG</strong> - output vlan tagging<br /><strong>TOS</strong>, <strong>VLAN</strong> - priority given to TOS/VLAN<br /><strong>PRIO</strong>, <strong>NOPRIO</strong> - port based priority<br /><strong>PVID:<em>X</em></strong> - set the primary vlan id<br /><strong>vlan<em>X</em></strong> - set the vlan mappings</p><br /><p>show all ports:<br /></p><div class="codebox"><pre><code>admcfg</code></pre></div><p>show specific ports:<br /></p><div class="codebox"><pre><code>admcfg port0 port2</code></pre></div><p>port 0 (wan) to vlan1<br />ports 1 &amp; 2 as vlan0<br />ports 3 &amp; 4 disabled<br /></p><div class="codebox"><pre><code>admcfg port0 PVID:1 vlan1
admcfg port1 PVID:0 vlan0
admcfg port2 PVID:0 vlan0
admcfg port3 DISABLED
admcfg port4 DISABLED</code></pre></div><p>which can be rewritten as<br /></p><div class="codebox"><pre><code>admcfg port0 PVID:1 vlan1 port1 PVID:0 vlan0 port2 PVID:0 vlan0 port3 DISABLED port4 DISABLED</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nightingale</div>
					<div class="post-datetime">
						5 Apr 2004, 14:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Ok, ADM6996 utils updated.</p></blockquote></div><p>Probably, you know it yourself, but maybe you could strip the binary before finally adding it to the core.</p><div class="codebox"><pre><code>$&gt; file admcfg
admcfg: ELF 32-bit LSB MIPS-I executable, MIPS, version 1 (SYSV), dynamically linked (uses shared libs), not stripped</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Blackvel</div>
					<div class="post-datetime">
						6 May 2004, 08:48					</div>
				</div>
				<div class="post-content content">
					<p>as I&#039;m reading this I&#039;m thinking on load balancing via 2 WAN ports.<br />As you probably know, there are cost-expensive router products out there with can bundle multiple internet connections.</p><p>They can make that work via 2x WAN.</p><p>I had seen many folks talking about load sharing with multiple internet cable/DSL lines (not bonding on your site + isp site).</p><p>Therefore I had patched my linux kernel for multipath routing , alternate route with kernel stuff.</p><p>There is just the need to give a specific interfaces for the multiple routing with multiple routing tables, etc. eth0, eth1.</p><p>Does the adm port vlan1 (first lan port vlan, while giving ports 2-4 vlan2 or multiple vlan&#039;s) behave like normal WAN vlan0 (which has own controller) ?</p><p>Does it matter that in fact there is only one network card ? Does this create any problem when using also other ports for clients, servers, DMZ, etc. ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p875">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						27 Jun 2004, 02:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m intrested in having the 5 ethaernet ports separated to make a router instead of a switch, I want to connect 5 diferents IP networks. I have the wrt54g v1.1 and I tried with admcfg, but I don&#039;t understand at all what it does. I tell you what I did.</p><p>insmod adm.o</p><p>brctl delbr br0</p><p>admcfg port0 PVID:1 vlan0<br />admcfg port1 PVID:0 vlan1<br />admcfg port2 PVID:0 vlan2<br />admcfg port3 PVID:3 vlan3<br />admcfg port4 PVID:4 vlan4</p><p>vconfig add eth0 0<br />vconfig add eth0 1<br />vconfig add eth0 2<br />vconfig add eth0 3<br />vconfig add eth0 4</p><p>ifconfig vlan0 [ip A] up<br />ifconfig vlan1 [ip B] up<br />ifconfig vlan2 [ip C] up<br />ifconfig vlan3 [ip D] up<br />ifconfig vlan4 [ip E] up</p><p>ifconfig shows me all the ethernet (eth0 and eth1 are in promisc mode) and the vlan interfaces, but I can&#039;t connect to anywhere. Pings from the wrt54 to any PC fail and pings from the PC to any port of the wrt fails too. </p><p>I really need to split the eth0 port into four ports, so please if you can help, I will thank you a lot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p878">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						27 Jun 2004, 11:48					</div>
				</div>
				<div class="post-content content">
					<p>First, linux won&#039;t let you have overlapping netmasks without routing headaches, so for example you can&#039;t have each port be a different 192.168.1.X address.</p><p>Second, the PVID value is what vlan to assume when no vlan information is given, ie incoming packets, you almost certainly want this to match the vlan number you&#039;ve assigned to the port.</p><p>example:<br /></p><div class="codebox"><pre><code>admcfg port0 PVID:0 vlan0
admcfg port1 PVID:1 vlan1
admcfg port2 PVID:2 vlan2
admcfg port3 PVID:3 vlan3
admcfg port4 PVID:4 vlan4</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p880">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						27 Jun 2004, 17:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>First, linux won&#039;t let you have overlapping netmasks without routing headaches, so for example you can&#039;t have each port be a different 192.168.1.X address.</p></blockquote></div><p>First off, I don&#039;t think any of the message I am about to write has anything to do with the previous posters question but do you mean &quot;overlapping networks&quot; or &quot;overlapping subnets&quot;?&nbsp; If not I don&#039;t understand what you mean by &quot;overlapping netmasks&quot;. If you meant one of the former then I would agree with you that not only Linux but any router would have a problem with it. </p><p>Now as far as having multiple subnetworks on the 192.168.1.x range then I would have to say that Linux itself has no problem with this I have been doing this for several years under Linux. Say I have a machine with 5 NICs I have instances where I will use a 30 bit subnet mask (255.255.255.252) and maybe put three different subnets all on the 192.168.1.x range. Say they are on eth0 through eth2:</p><div class="codebox"><pre><code>The first subnet would be the 192.168.1.0/30 network:
192.168.1.0 - network address
192.168.1.1 - host address (eth0)
192.168.1.2 - host address (other machine 1)
192.168.1.3 - broadcast address

The second subnet would be the 192.168.1.4/30 network:
192.168.1.4 - network address
192.168.1.5 - host address (eth1)
192.168.1.6 - host address (other machine 2)
192.168.1.7 - broadcast address

The third subnet would be the 192.168.1.8/30 network:
192.168.1.8 - network address
192.168.1.9 - host address (eth2)
192.168.1.10 - host address (other machine 3)
192.168.1.11 - broadcast address</code></pre></div><p>You could also break the 192.168.1.x range into just 2 subnets (25 bit subnet mask). That would give you 192.168.1.0 through 192.168.1.127 on the first subnet and 192.168.1.128 through 192.168.1.255 on the second subnet.</p><p>Now I have never done this on a LinkSys router but it works just fine on normal computers with multiple NICs. Maybe I misunderstood what you meant, or maybe there are reasons you can not do it on the LinkSys router in which case I would find this to be a useful piece of information. I would also be interested to know if there were some way to treat each port as an individual interface. It sounds like that&#039;s a &quot;no&quot;. I just need to grasp some of the VLAN concepts (something I&#039;m not as up on as I should be).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p886">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						28 Jun 2004, 06:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>First, linux won&#039;t let you have overlapping netmasks without routing headaches, so for example you can&#039;t have each port be a different 192.168.1.X address</p></blockquote></div><p>I don&#039;t know if you understood me, but what I try to mean is, for example:<br /></p><div class="codebox"><pre><code>admcfg port0 PVID:0 vlan0 
admcfg port1 PVID:1 vlan1 
admcfg port2 PVID:2 vlan2 
admcfg port3 PVID:3 vlan3 
admcfg port4 PVID:4 vlan4 

vconfig add eth0 0 
vconfig add eth0 1 
vconfig add eth0 2 
vconfig add eth0 3 
vconfig add eth0 4 

ifconfig vlan0 10.10.10.1 up 
ifconfig vlan1 20.20.20.1 up 
ifconfig vlan2 30.30.30.1 up 
ifconfig vlan3 40.40.40.1 up 
ifconfig vlan4 50.50.50.1 up </code></pre></div><p>and of course enable routing on all vlans interfaces.<br />Is this possible or not?<br />May I add all vlans to the bridge br0 or not?<br />I just want to treat each port on the back of the wrt54g as a different interface, is this possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1135">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">flex941</div>
					<div class="post-datetime">
						13 Jul 2004, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>I understand what marcosmas is trying to do, and this is of interest to me also.</p><p>Since nobody had answered I thought I write, so maybe somebody<br />notices this and answers.</p><p>Basically what I want to do is to treat all those switch ports<br />as separate interfaces so I can give different subnet to all of them. Then there will be the WAN port with broadband connections.</p><p>This gives me the ability to provide network to different clients (using NAT) and also limit it so that those networks can&#039;t see each other (local security).</p><p>I&#039;ve this old PII-233 here doing the same thing with 4 NICs which I would like to replace with LinkSys WRT54G(S?) - it would be cooler, more quiet etc ...</p><p>So somebody knows the answer?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1137">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						13 Jul 2004, 20:19					</div>
				</div>
				<div class="post-content content">
					<p>Finally I&#039;ve got the 5 ports separated in indepent vlans.<br />I followed the commands in my previous post and worked fine, but I installed a pre-compiled adm.o module and admcfg application, which I got from the valenciawirless.net site.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1511">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">griffous</div>
					<div class="post-datetime">
						14 Aug 2004, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi Guys,</p><p>Wow, what an awesome job you&#039;ve all done getting this unit doing the trick&#039;s it&#039;s doing <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />It&#039;s been a great adventure teaching myself linux vlanning as I learnt my way around this thing.</p><p>2 Questions about ADMCFG if I may.</p><p>1, Am I right in guessing that port5 is the intergrated port through which the linksys accesses the switch?</p><p>2, I seen to have the problem that whenever I add an even numbered vlan to a port, I also get the number below it also.<br />So if I say admcfg port2 vlan6, I end up with vlan 5 and 6 on port2. Is this a bug or just something I don&#039;t understand with vlans?</p><p>Thanks,<br />Gr|ffous</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1713">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">ScrollLock</div>
					<div class="post-datetime">
						22 Aug 2004, 13:47					</div>
				</div>
				<div class="post-content content">
					<p>For those of you who want to compile the source code yourself, here is a makefile:</p><div class="codebox"><pre><code># Makefile for building admcfg and adm.o

#
# NOTE: you will want to adjust this path:
#
OPENWRT_DIR=/home/werner/projects/openwrt

#
# You shouldn&#039;t need to change any of the following...
#
ARCH:=mipsel
OPTIMIZE_FOR_CPU=$(ARCH)

STAGING_DIR=$(OPENWRT_DIR)/buildroot/build_mipsel/staging_dir
KERNEL_DIR=$(OPENWRT_DIR)/buildroot/build_mipsel/linux
WRT_DIR=$(OPENWRT_DIR)/buildroot/build_mipsel/WRT54GS/release/src
ET_DIR=$(OPENWRT_DIR)/buildroot/build_mipsel/WRT54GS/release/src/et

TARGET_CROSS=$(STAGING_DIR)/bin/$(OPTIMIZE_FOR_CPU)-linux-uclibc-
TARGET_CC=$(TARGET_CROSS)gcc
TARGET_LD=$(TARGET_CROSS)ld
STRIP=$(TARGET_CROSS)strip --remove-section=.comment --remove-section=.note

CFLAGS_MODULE=-c -Wall -O2 -fomit-frame-pointer -fno-strict-aliasing -fno-common 
  -finline-limit=5000 -G 0 -mno-abicalls -fno-pic -mips2 -Wa,--trap 
  -pipe -DMODULE -D__KERNEL__ -mlong-calls

all: admcfg adm.o

adm.o: adm.c
    $(TARGET_CC) $(CFLAGS_MODULE) -I $(KERNEL_DIR)/include -I $(WRT_DIR)/include 
   -I $(ET_DIR)/sys -o adm.o adm.c 

admcfg: admcfg.c
    $(TARGET_CC) -o admcfg admcfg.c
    $(STRIP) admcfg

clean:
    rm adm.o admcfg</code></pre></div><p>Hope it is helpful, for example if you want to write your own kernel module, using adm.o as example. (It was quite tricky to find out the right CFLAGS...)</p><p>cheers, ScrollLock</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1829">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">whaq</div>
					<div class="post-datetime">
						27 Aug 2004, 05:08					</div>
				</div>
				<div class="post-content content">
					<p>Marcosmas, how does it work so far?<br />Am particularly concerned about CPU load, as mentioned on this thread :</p><p><a href="http://openwrt.org/forum/viewtopic.php?t=191">http://openwrt.org/forum/viewtopic.php?t=191</a></p><p>-Q</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2543">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						13 Oct 2004, 00:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Ok, ADM6996 utils updated. </p><p> USAGE: <br /> admcfg [&lt;port&gt; [option]]<br />port is in the form of &quot;portX&quot; <br /> option is one of:<br />ENABLED, DISABLED - enable/disable port <br /> 100Mbps, 10Mbps - port speed <br /> FD, HD - full duplex/half duplex <br /> FLOW, NOFLOW - 802.3 flow control <br /> TAG, UNTAG - output vlan tagging <br /> TOS, VLAN - priority given to TOS/VLAN <br /> PRIO, NOPRIO - port based priority <br /> PVID:X - set the primary vlan id <br /> vlanX - set the vlan mappings</p></blockquote></div><p>I&#039;ve downloaded the first test-release of the adm utils and there is something about bandwith control, tag shift for vlan grouping, etc. But in the latest version of this utils I don&#039;t find anything about that. I&#039;m interesting in setting vlan tags greater than 15, and also setting a bandwith for each port.<br />How could I make this settings work?<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2554">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">zrichard</div>
					<div class="post-datetime">
						14 Oct 2004, 03:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>marcosmas wrote:</cite><blockquote><div class="quotebox"><blockquote><p>I&#039;ve downloaded the first test-release of the adm utils and there is something about bandwith control, tag shift for vlan grouping, etc. But in the latest version of this utils I don&#039;t find anything about that. I&#039;m interesting in setting vlan tags greater than 15, and also setting a bandwith for each port.<br />How could I make this settings work?<br />Thanks</p></blockquote></div><p></p><p>Nico has a build of adm6996.o which uses procfs to control the port setting. It can set any vlan number you want. I only tried it on sveasoft and didn&#039;t test Nico&#039;s build on openwrt. I don&#039;t see why it shouldn&#039;t be working.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2565">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						16 Oct 2004, 05:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Nico has a build of adm6996.o which uses procfs to control the port setting. It can set any vlan number you want. I only tried it on sveasoft and didn&#039;t test Nico&#039;s build on openwrt. I don&#039;t see why it shouldn&#039;t be working.</p></blockquote></div><p>It used to be in nicowrt, but since it is now deprecated, the module was re-compiled with a recent CVS buildroot.</p><p>The new <a href="http://nthill.free.fr/openwrt/ipkg/testing/20041016/kmod-adm6996_3.2-1_mipsel.ipk">package</a> is available in my <a href="http://nthill.free.fr/openwrt/ipkg/testing/">testing</a> repository.</p><p>Feedback welcome, could be nice to see more packages in the <a href="http://nthill.free.fr/openwrt/ipkg/stable/">stable</a> repository one day&nbsp; <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> </p><p>--<br />Nico</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2627">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						19 Oct 2004, 05:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Nico has a build of adm6996.o which uses procfs to control the port setting. It can set any vlan number you want.</p></blockquote></div><p>I didn&#039;t test the module yet, but I wonder which are the settings to modify in the /proc directory?<br />As I said in a previous post, I want to set up more than 16 tagged vlans and I don&#039;t know how to resolve this task, either with admcfg or with the /proc filesystem?<br />Thanks, and sorry about my English, I know I have to practise it&nbsp; :oops:</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2672">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">zrichard</div>
					<div class="post-datetime">
						22 Oct 2004, 23:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I didn&#039;t test the module yet, but I wonder which are the settings to modify in the /proc directory?<br />As I said in a previous post, I want to set up more than 16 tagged vlans and I don&#039;t know how to resolve this task, either with admcfg or with the /proc filesystem?<br />Thanks, and sorry about my English, I know I have to practise it&nbsp; :oops:</p></blockquote></div><p>In /proc, if you want to set port 1 as access vlan 401, <br /></p><div class="codebox"><pre><code>/bin/echo &quot;401&quot; &gt; /proc/sys/dev/adm6996/port1/vlan-group-mask</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2950">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						11 Nov 2004, 17:14					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I could set up a port as vlanid &gt; 15, that&#039;s fine. But what about setting up more than one vlan on the same port?<br />Another question, I read in the ADM datasheet that it is possible to control the bandwith on each port: 256k, 512k, 1M, 2M, 5M, 10M, 20M, 50M. Is this possible with the adm6996 module?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=6&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>