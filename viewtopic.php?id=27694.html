<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Openwrt and PC power button</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p123050">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						11 Dec 2010, 18:33					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I installed Backfire 10.03.1 RC3 on a x86 PC. Almost everything works fine, but I cannot get the power button to get working.<br />Acpid seems to be not included (it is not in busybox either). Is there any possibility to catch the power button event?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128481">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						15 Feb 2011, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>Anyone? Please.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134699">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						5 May 2011, 14:59					</div>
				</div>
				<div class="post-content content">
					<p>Bump.</p><p>I just want to make the powerbutton shut down the pc in OpenWrt. It is ridiculous that I need to have a keyboard connected to the box and type poweroff...<br />Any solution?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141551">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						17 Aug 2011, 16:16					</div>
				</div>
				<div class="post-content content">
					<p>bump.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141556">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						17 Aug 2011, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>You could try a workaround:&nbsp; <a href="http://wiki.openwrt.org/doc/howto/hardware.button">http://wiki.openwrt.org/doc/howto/hardware.button</a> and the command shutdown is included.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141589">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						18 Aug 2011, 01:02					</div>
				</div>
				<div class="post-content content">
					<p>Tried this, but unfortunately it did not work. <br />I created /etc/hotplug.d/button script with this content:<br /></p><div class="codebox"><pre><code>#!/bin/sh
logger $BUTTON
logger $ACTION</code></pre></div><p>And set the script as executable.<br />But nothing is logged when I press the button.</p><p>I also compiled backfire 10.03 from source with included acpid in busybox, with no luck. The /proc/acpi/event file does not exist.</p><p>lsmod from my customized 10.03.1-rc4:<br /></p><div class="codebox"><pre><code>fuse                   41588  0
option                 17012  1
ums_usbat               7188  0
ums_sddr55              5200  0
ums_sddr09              8576  0
ums_karma               1328  0
ums_jumpshot            3408  0
ums_isd200              4272  0
ums_freecom             1840  0
ums_datafab             4368  0
ums_cypress             1616  0
ums_alauda              8192  0
usb_storage            29760 10 ums_usbat,ums_sddr55,ums_sddr09,ums_karma,ums_jumpshot,ums_isd200,ums_freecom,ums_datafab,ums_cypress,ums_alauda
usbserial              22344  3 option
via_velocity           19812  0
via_rhine              14872  0
uhci_hcd               15456  0
tg3                    93684  0
sis900                 14544  0
r8169                  27284  0
pcnet32                23748  0
ne2k_pci                4992  0
8390                    5328  1 ne2k_pci
e1000                  80208  0
e100                   22232  0
8139too                13232  0
3c59x                  25784  0
nf_nat_tftp              400  0
nf_conntrack_tftp       2244  1 nf_nat_tftp
nf_nat_irc               688  0
nf_conntrack_irc        2384  1 nf_nat_irc
nf_nat_ftp              1136  0
nf_conntrack_ftp        4176  1 nf_nat_ftp
ipt_MASQUERADE           912  1
iptable_nat             2480  1
nf_nat                  9884  5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat
xt_NOTRACK               496  0
iptable_raw              656  1
xt_state                 752  3
nf_conntrack_ipv4       7164  6 iptable_nat,nf_nat
nf_defrag_ipv4           560  1 nf_conntrack_ipv4
nf_conntrack           33104 12 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_NOTRACK,xt_state,nf_conntrack_ipv4
ehci_hcd               26944  0
pppoe                   6004  0
pppox                    988  1 pppoe
nsc_gpio                1552  0
libphy                 10832  1 tg3
ipt_REJECT              1584  2
xt_TCPMSS               2384  2
ipt_LOG                 4176  0
xt_comment               432  0
xt_multiport            1680  0
xt_mac                   528  0
xt_limit                 880  1
iptable_mangle           944  0
iptable_filter           784  1
ip_tables               7396  4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter
xt_tcpudp               1680  5
x_tables                7860 13 ipt_MASQUERADE,iptable_nat,xt_NOTRACK,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_comment,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp
ide_gd_mod             11732  0
nfsd                   68360  4
nfs                   111108  0
ext3                   79124  0
jbd                    24740  1 ext3
snd_pcm_oss            28544  0
snd_mixer_oss          10480  1 snd_pcm_oss
snd_pcm                44248  1 snd_pcm_oss
snd_timer              11476  1 snd_pcm
snd_rawmidi            11232  0
snd_seq_device          3324  1 snd_rawmidi
snd_hwdep               3572  0
snd_page_alloc          4760  1 snd_pcm
snd                    30852  7 snd_pcm_oss,snd_mixer_oss,snd_pcm,snd_timer,snd_rawmidi,snd_seq_device,snd_hwdep
soundcore               3072  1 snd
ppp_async               4976  1
ppp_generic            15456  7 pppoe,pppox,ppp_async
slhc                    4208  1 ppp_generic
lockd                  49256  2 nfsd,nfs
sunrpc                128608  9 nfsd,nfs,lockd
ext4                  183732  1
jbd2                   29600  1 ext4
b43                   134200  0
ssb                    23192  1 b43
mac80211              176880  1 b43
usbcore                92080 16 option,ums_usbat,ums_sddr55,ums_sddr09,ums_karma,ums_jumpshot,ums_isd200,ums_freecom,ums_datafab,ums_cypress,ums_alauda,usb_storage,usbserial,uhci_hcd,ehci_hcd
nls_base                4336  1 usbcore
natsemi                18784  0
ide_core               52568  1 ide_gd_mod
mbcache                 3088  1 ext4
exportfs                2288  1 nfsd
crc16                    944  1 ext4
crc_ccitt                944  2 via_velocity,ppp_async
cfg80211              104148  2 b43,mac80211
compat_firmware_class     4176  1 b43
compat                  1456  1 cfg80211
arc4                     880  2
aes_i586                6576  2
aes_generic            27120  1 aes_i586
deflate                 1200  0
ecb                     1104  2
cbc                     1776  0</code></pre></div><p>Any suggestions are very welcomed.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>