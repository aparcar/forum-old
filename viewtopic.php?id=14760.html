<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ESSID association in client mode</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p64535">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">berni79</div>
					<div class="post-datetime">
						4 Mar 2008, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>im using two OpenWrt Kamikaze router, based on WRT54GL hardware. <br />One router is configured as access point and one as client. </p><p>Everything is working fine, if I&#039;m starting first the access point and then the client. <br />If I reverse the order or if I restart the client, it doesn&#039;t associate to the AP anymore.</p><p>When it is not working iwconfig writes the following:<br />wl0&nbsp; &nbsp; &nbsp; &nbsp;IEEE 802.11-DS&nbsp; ESSID:&quot;&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Managed&nbsp; Frequency:2.437 GHz&nbsp; Access Point: Not-Associated<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bit Rate:54 Mb/s&nbsp; &nbsp;Tx-Power:32 dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Retry min limit:7&nbsp; &nbsp;RTS thr:off&nbsp; &nbsp;Fragment thr:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Power Management:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Link Quality:5&nbsp; Signal level:0&nbsp; Noise level:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rx invalid nwid:0&nbsp; Rx invalid crypt:0&nbsp; Rx invalid frag:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx excessive retries:0&nbsp; Invalid misc:0&nbsp; &nbsp;Missed beacon:0</p><p>If I do:<br />iwconfig wl0 essid &quot;XXX_XXX&quot;</p><p>It is working again, like I would have started AP and client in the right order:</p><p>wl0&nbsp; &nbsp; &nbsp; &nbsp;IEEE 802.11-DS&nbsp; ESSID:&quot;XXX_XXX&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Managed&nbsp; Frequency:2.437 GHz&nbsp; Access Point: 00:18:F8:XX:XX:XX<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bit Rate=54 Mb/s&nbsp; &nbsp;Tx-Power:32 dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Retry min limit:7&nbsp; &nbsp;RTS thr:off&nbsp; &nbsp;Fragment thr:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Power Management:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Link Quality=4/5&nbsp; Signal level=-64 dBm&nbsp; Noise level=-91 dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rx invalid nwid:0&nbsp; Rx invalid crypt:0&nbsp; Rx invalid frag:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx excessive retries:0&nbsp; Invalid misc:0&nbsp; &nbsp;Missed beacon:0</p><br /><p>However I think that the the AP is setup correctly:</p><p>config &#039;wifi-device&#039; &#039;wl0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;type&#039; &#039;broadcom&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;channel&#039; &#039;6&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;disabled&#039; &#039;0&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;wl0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;network&#039; &#039;wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;mode&#039; &#039;sta&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ssid&#039; &#039;XXX_XXX&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;encryption&#039; &#039;wep&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;hidden&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;isolate&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;bgscan&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;wds&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;key&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;key1&#039; &#039;xxxxxxxxxxxxxxxxxxxxx&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;macpolicy&#039; &#039;none&#039;</p><p>To me it seems that, if the client can&#039;t find the AP on the first try, it stops trying to associate to the AP. <br />Is there some way to change this behavior? </p><p>With best regards<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Markus</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64559">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">berni79</div>
					<div class="post-datetime">
						4 Mar 2008, 16:52					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>today I detected,&nbsp; that beside the error explained above I have another problem.<br />Sometimes the client associates to the AP, but it is still impossible to ping the AP.</p><p>After this (client side)</p><p>iwconfig wl0 essid &quot;XXX_XXX&quot;</p><p>everything worked again.</p><p>Has someone a idea what might cause this behaviour?</p><p>With best regards<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Markus</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64770">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">MPG</div>
					<div class="post-datetime">
						7 Mar 2008, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problems!! </p><p>After boot, if I do &quot;wifi&lt;enter&gt;&quot; all works well.</p><p>the wifi command without paramters is the same as &quot;wifi boot&quot;, and it config and puts up the wifi iface. </p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65531">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Joachim</div>
					<div class="post-datetime">
						21 Mar 2008, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>Hello all , <br />I have Installed kamikaze_7.09 on a WRT54GS here and have similar Problems , wifi does not work on startup , yes i have commented out the line <br />option disabled &#039;1&#039; <br />in /etc/config/wireless&nbsp; , if i do &quot;wifi&quot; i get the following message : <br />wl0(broadcom)&nbsp; Interface type not supported </p><p>damn , everyone know how that can happen ? <br />have flashed the router back to whiterussian 0.9 and all works well</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65532">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Joachim</div>
					<div class="post-datetime">
						21 Mar 2008, 20:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Joachim wrote:</cite><blockquote><p>Hello all , <br />I have Installed kamikaze_7.09 on a WRT54GS here and have similar Problems , wifi does not work on startup , yes i have commented out the line <br />option disabled &#039;1&#039; <br />in /etc/config/wireless&nbsp; , if i do &quot;wifi&quot; i get the following message : <br />wl0(broadcom)&nbsp; Interface type not supported </p><p>damn , everyone know how that can happen ? <br />have flashed the router back to whiterussian 0.9 and all works well</p></blockquote></div><p>Problem solved : forgotten to install wlc ...argghhhhhh .....</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>