<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> old openwrt upgrade to RC4 , is it possible?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p16665">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mnezor</div>
					<div class="post-datetime">
						5 Dec 2005, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>I have a wrt54gs v.2.0&nbsp; with an instalation of openwrt from March - 2005 (BusyBox v1.00 (2005.02.02-09:17+0000) Built-in shell (ash).<br /> Well&nbsp; </p><p>1) I ve backup the existing openwrt install, with&nbsp; the command:<br />&nbsp; &nbsp; &nbsp; dd if=/dev/mtdblock/1 of=/tmp/firmware.trx</p><p>2)&nbsp; &quot;openwrt-brcm-2.4-squashfs.trx&quot;&nbsp; ....&nbsp; wget this file into&nbsp; /tmp/ and run the following command to reflash <br />&nbsp; &nbsp; &nbsp; mtd -r write openwrt-brcm-2.4-squashfs.trx linux</p><p>error message: <br />&nbsp; &nbsp; &nbsp; &nbsp; no valid command given (propably I have old version of mtd)</p><p>3) Download&nbsp; &nbsp;<a href="http://downloads.openwrt.org/people/wbx/mtd.static">http://downloads.openwrt.org/people/wbx/mtd.static</a>&nbsp; file into&nbsp; /tmp/ and run the following command to reflash <br />&nbsp; &nbsp; &nbsp; ./mtd.static -r write openwrt-brcm-2.4-squashfs.trx linux</p><p> Then starting unpacking linux .... something else I cant remember and finaly tell me that it can not delete mtd.<br />and then back again in root.&nbsp; no reboot ...nothing&nbsp; &nbsp;</p><p>manual reboot ... na change to firmware but the files /tmp/firmware.trx and openwrt-brcm-2.4-squashfs.trx had dissapeared</p><p>So is any other way to upgrade my openwrt?</p><p>Thanks in advance !&nbsp; </p><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16667">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						5 Dec 2005, 22:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mnezor wrote:</cite><blockquote><p>So is any other way to upgrade my openwrt?</p></blockquote></div><p>You always can use TFTP as long as boot_wait is on.</p><p>Set boot_wait=on (don&#039;t forget to commit) and flash the <a href="http://downloads.openwrt.org/whiterussian/newest/default/openwrt-wrt54gs-squashfs.bin">openwrt-wrt54gs-squashfs.bin</a> image with the <a href="http://downloads.openwrt.org/utils/flash.sh">flash utility</a> from your PC.</p>											<p class="post-edited">(Last edited by <strong>olli_04</strong> on 5 Dec 2005, 22:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16668">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">t0ksik</div>
					<div class="post-datetime">
						5 Dec 2005, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>tftp if boot_wait is on.&nbsp; You can tftp up.</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Installing#head-344b77cce4d63bd941eb782ea25d37f9e8fd9d19">http://wiki.openwrt.org/OpenWrtDocs/Ins â€¦ f9e8fd9d19</a></p><p>I just upgraded from RC3 to RC4 doing this.&nbsp; On a WRT54GS v4.</p><p>The only problem with this method is that it deletes everything you have customized on the router.&nbsp; I keep a script I can run to make my routers exactly the way I want them - so I can reflash my firmware all day and have the router exactly configured in under 5 minutes.</p><p>Hopefully someone with more experiance with .trx files will post a reply as well.&nbsp; I have never used them so all i know is tftp.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16669">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mnezor</div>
					<div class="post-datetime">
						5 Dec 2005, 22:30					</div>
				</div>
				<div class="post-content content">
					<p>Of course there is the TFTP method ...but this is my final option..</p><br /><p>as you said this&nbsp; method will&nbsp; delete everything I have customized on my the router...configurations , packages ....etc...</p><p>So any other idea..?</p><p>Thanks for your time. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16672">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						5 Dec 2005, 22:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mnezor wrote:</cite><blockquote><p>So any other idea..?</p></blockquote></div><p>No.</p><p>Btw. you&#039;ve to make the customized parts new anyway. Your changes you made the in old version won&#039;t work in RC4 since lots of things changed.</p>											<p class="post-edited">(Last edited by <strong>olli_04</strong> on 5 Dec 2005, 22:59)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>