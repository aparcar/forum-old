<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT does not generate the bin file with minimal configuration HELP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p276857">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">moraesdeivison</div>
					<div class="post-datetime">
						20 May 2015, 15:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />I am trying a build bin package with openvpn but every time I select openvpn on &quot;make menuconfig&quot; with &quot;build in *&quot;, after &quot;make j5&quot; does not generate a bin file in &quot;./bin/ar71xx/&quot;. I understand that this problem is&nbsp; related with to the size of package. Now, I post for all my &quot;.config&quot; file. Before &quot;build in&quot; openvpn and after.</p><p>Config minimal. This is a ./scripts/diffconfig.sh:</p><p><a href="https://gist.github.com/deivisonmoraes/d77174e4c564a13c01f5">https://gist.github.com/deivisonmoraes/ … 64a13c01f5</a></p><br /><p>Config with a openvpn:</p><p><a href="https://gist.github.com/deivisonmoraes/7cd8d7f312e32cf1c9ab">https://gist.github.com/deivisonmoraes/ … e32cf1c9ab</a></p><p>I trying any types of openvpn, with and without ssl.</p><p>Tks!</p>											<p class="post-edited">(Last edited by <strong>moraesdeivison</strong> on 20 May 2015, 16:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276868">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						20 May 2015, 16:50					</div>
				</div>
				<div class="post-content content">
					<p>If the image ends up too large for your flash chip, you will not get a bin file.&nbsp; Take some stuff out.</p><p>Also multi-process make is not guaranteed to work.&nbsp; Try making without the j option to run on a single core.</p>											<p class="post-edited">(Last edited by <strong>mk24</strong> on 20 May 2015, 16:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276869">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">moraesdeivison</div>
					<div class="post-datetime">
						20 May 2015, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>right, but it is practically default, will test without the J5. <br />tks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276890">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">moraesdeivison</div>
					<div class="post-datetime">
						20 May 2015, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>Did you see something wrong in the diff files up?<br />Tks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276894">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 May 2015, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>Disabling the feeds looks a bit strange.</p><p>Check also bin/ar71xx/packages/base/<br />There should be the openvpn***.ipk file, which you use to manually install the individual package to the router, even if no binary firmware has been generated. (naturally only if there really is free space in the router)</p><p>Your router has only 4 MB flash, right? That is really not much. Might not be enough for both openssl and openvpn.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 20 May 2015, 20:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276897">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">moraesdeivison</div>
					<div class="post-datetime">
						20 May 2015, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>I need you to get everything in the bin firmware, think it is possible, the changes I made should not occupy the entire space.</p><p>Every new attempt I run a &quot;make clean&quot; then &quot;make&quot; again. That&#039;s enough for old compilations do not influence the new build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276902">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 May 2015, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>make -j 1 V=s &gt; build.log<br />grep &quot;is too big&quot; build.log</p><p>The possible error should be something like <br />Warning: /home/axet/source/openwrt/trunk/build_dir/target-mipsel_r2_uClibc-0.9.33.2/linux-ramips_rt305x/vmlinux-dir-300-b1.uImage is too big</p><p>make clean should be enough to clean the old stuff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277191">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">moraesdeivison</div>
					<div class="post-datetime">
						22 May 2015, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I ended up using the &quot;Image Builder&quot; to generate the bin with the way I needed, thank you all once again.</p><br /><p>For historical purposes, follow the link used:<br /><a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.generate">http://wiki.openwrt.org/doc/howto/obtai … e.generate</a></p><p>[] &#039;s</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>