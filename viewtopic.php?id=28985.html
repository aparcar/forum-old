<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [RTL8196]A way to make openwrt build only root filesystem (no kernel)?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p130203">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Necromant</div>
					<div class="post-datetime">
						9 Mar 2011, 00:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi, all. <br />It&#039;s been a while I&#039;ve posted here, so straight to business. </p><p>I recently got myself a &#039;EDUP&#039; pocket router from china, mostly for experimenting. Once I got it, I took it apart and found an RTL8196C inside. After digging the internet, with some help from &#039;sfstudio&#039; (Wive-Ng project) I got the Realtek sdk for this SoC. These were actually the sources for TrendNet TEW-652BRP. <br />After some adventures, I got rsdk-linux toolchain ready, and built the firmware. <br />And magically loaded there, turning it into a fully functional TEW-652BRP (but with a battery)</p><p>Now, once I got a 2.6.30 kernel ready, with most things in the kernel up and running (only several gpio buttons missing, will try to fix that later) I wanted to hack openwrt there. And there goes the trouble. The SDK from realtek is a hell of a mess, with tons of hacks. The kernel is hardwired with dozens of symlinks into the SDK, won&#039;t compile out of the SDK tree, and there&#039;s no (easy) way to get it out of it. The only, relatively easy way to get an openwrt rootfs there quickly was to put a precompiled squashfs root with openwrt into a magical place of realtek SDK, so that it will pack it into a firmware image along with the kernel.</p><p>However, there goes trouble, after experimenting for a while I couldn&#039;t make OpenWRT build only the rootfs, with no kernel. Any ideas if this can be done?<br />Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130242">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						9 Mar 2011, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>If the guys with the right amount of knowledge and understanding would bother more with this</p><p><a href="http://wiki.openwrt.org/doc/start#developing">http://wiki.openwrt.org/doc/start#developing</a></p><p>maybe in a couple of months we would have more competent people interested in getting involved and helping out. Developers a few and busy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130444">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Necromant</div>
					<div class="post-datetime">
						11 Mar 2011, 08:37					</div>
				</div>
				<div class="post-content content">
					<p>Hm... Nevermind, looks like I finally got that running, kind of.. <br />Lots of bugs to fix, but nevertheless.<br />Realteks code is a nightmare... Looks like it&#039;s time to write patches.</p>											<p class="post-edited">(Last edited by <strong>Necromant</strong> on 11 Mar 2011, 08:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p138769">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zensonic</div>
					<div class="post-datetime">
						9 Jul 2011, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>Did you submit your code to anywhere necromant? I am thinking of mucking around with a RTL8196B based router if I have the chance of joining in :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229447">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stone8936</div>
					<div class="post-datetime">
						7 Apr 2014, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>I also want to know the way to build rootfs and kernel separately. Is there any way to do that? Maybe image generator can help?</p>											<p class="post-edited">(Last edited by <strong>stone8936</strong> on 7 Apr 2014, 14:02)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>