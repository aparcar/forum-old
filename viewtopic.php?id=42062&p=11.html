<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Developing Support for TPLINK WDR4900</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 5 Oct 2014 and 4 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 11 of 35</div><nav><ul><li><a href="viewtopic.php%3Fid=42062&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42062&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=42062&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=42062&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=42062&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42062&amp;p=35.html">35</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p211826">
				<div class="post-metadata">
					<div class="post-num">Post #251</div>
					<div class="post-author">flippant</div>
					<div class="post-datetime">
						7 Sep 2013, 09:59					</div>
				</div>
				<div class="post-content content">
					<p>Is there a ticket up for this? Since the last stable build has been tracked down, I assume that some change has subsequently messed with TCP stability, and hence should be easier to debug?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211928">
				<div class="post-metadata">
					<div class="post-num">Post #252</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						9 Sep 2013, 09:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>flippant wrote:</cite><blockquote><p>Is there a ticket up for this?</p></blockquote></div><p>Yes, here it is: <a href="https://dev.openwrt.org/ticket/14020">https://dev.openwrt.org/ticket/14020</a></p><div class="quotebox"><cite>flippant wrote:</cite><blockquote><p>Since the last stable build has been tracked down, I assume that some change has subsequently messed with TCP stability, and hence should be easier to debug?</p></blockquote></div><p>Not exactly. The problem was introduced with kernel upgrade from 3.8.* to 3.10.*. So, in one changeset in fact there was a huge bunch of changes, and it&#039;s not that easy to find which one was the cause. <br />Also it seems thats no one from the openwrt team is working on this problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211966">
				<div class="post-metadata">
					<div class="post-num">Post #253</div>
					<div class="post-author">alex_v</div>
					<div class="post-datetime">
						9 Sep 2013, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>Just an idea: what if the bug is located at arch/ppc? That&#039;s why it is not discovered on &quot;mainstream&quot; platforms yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212099">
				<div class="post-metadata">
					<div class="post-num">Post #254</div>
					<div class="post-author">Bluse-Blue</div>
					<div class="post-datetime">
						11 Sep 2013, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Lastest trunk BB v37937 does sustain high network load without crashing.</p><p>test setup via ethernet:<br />server --&gt; wan@tplink _ routing _ lan@tplink --&gt; laptop</p><p>iperf tcp gives about 75 MByte/s over 1 hour without any issue.</p><p>Greetings Thomas</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212108">
				<div class="post-metadata">
					<div class="post-num">Post #255</div>
					<div class="post-author">flippant</div>
					<div class="post-datetime">
						11 Sep 2013, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>Upgrading from a trunk file gets me to r37922. Where did you find *937?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212110">
				<div class="post-metadata">
					<div class="post-num">Post #256</div>
					<div class="post-author">Bluse-Blue</div>
					<div class="post-datetime">
						11 Sep 2013, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>BARRIER BREAKER (Bleeding Edge, r37937)</p><p>url = git://nbd.name/openwrt.git<br />last git commit id: 92c70e62bf62dd51702bd63dcf28fb80cb5ccc2f</p><p>Bye Thomas</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212319">
				<div class="post-metadata">
					<div class="post-num">Post #257</div>
					<div class="post-author">jkso</div>
					<div class="post-datetime">
						14 Sep 2013, 12:01					</div>
				</div>
				<div class="post-content content">
					<p>Someone else confirm that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212362">
				<div class="post-metadata">
					<div class="post-num">Post #258</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						14 Sep 2013, 20:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve actually tried compiling and installing 37937+ image, and I can confirm that it has already crashed twice since the last three days. But that probably wasn&#039;t directly related to high network usage, i.e one crash happened at late night when network wasn&#039;t loaded at all. So, long story short, in my opinion it is still not that stable as it used to be on 3.8 kernel.<br />Currently I won&#039;t revert back to 3.8, a bit interesting to see how often it would crash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212379">
				<div class="post-metadata">
					<div class="post-num">Post #259</div>
					<div class="post-author">guzzard</div>
					<div class="post-datetime">
						14 Sep 2013, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>It seems stable for me with latest version built from git. Perhaps I&#039;m not able to put enough load on the router?</p><p>Firmware Version OpenWrt Barrier Breaker r37981 / LuCI Trunk (svn-r9902)<br />Kernel Version 3.10.10</p><p>Tested using iperf:<br />Computer (client) --&gt; (lan) TL-WRD4900 --&gt; (wan) TL-WRD4900 --&gt; Netgear router --&gt; Computer (server)</p><p>[ ID] Interval Transfer Bandwidth<br />[ 3] 0.0-3600.0 sec 232 GBytes 555 Mbits/sec</p><p>One hour test, transfer speed between 500-680Mbit/sec during test.</p><br /><p>Did a second test, 1.5 hour. vnstat from TL-WRD4900:</p><p>eth0 / traffic statistics<br />rx | tx<br />bytes 371.10 GiB | 367.93 GiB<br />max 792.64 Mbit/s | 785.89 Mbit/s<br />average 576.70 Mbit/s | 571.76 Mbit/s<br />min 261.78 Mbit/s | 259.50 Mbit/s</p><p>packets 283421338 | 283420953<br />max 71968 p/s | 71969 p/s<br />average 52504 p/s | 52504 p/s<br />min 24276 p/s | 24276 p/s</p><p>time 89.97 minutes</p><p>Kind Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212432">
				<div class="post-metadata">
					<div class="post-num">Post #260</div>
					<div class="post-author">jkso</div>
					<div class="post-datetime">
						15 Sep 2013, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>eximido: How strange...</p><p>Both: Thanks for feedback!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212680">
				<div class="post-metadata">
					<div class="post-num">Post #261</div>
					<div class="post-author">guzzard</div>
					<div class="post-datetime">
						18 Sep 2013, 13:16					</div>
				</div>
				<div class="post-content content">
					<p>Update: router crashed during no load after about 2 days. Will keep monitoring, and see if it happens again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212751">
				<div class="post-metadata">
					<div class="post-num">Post #262</div>
					<div class="post-author">alex_v</div>
					<div class="post-datetime">
						19 Sep 2013, 10:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>guzzard wrote:</cite><blockquote><p>Update: router crashed during no load after about 2 days. Will keep monitoring, and see if it happens again.</p></blockquote></div><p>Can you please check out one thing? Try sshfs over wan. Think scp will do as well. Transfer some big file.&nbsp; My router crashes in 2 minutes. Stops responding, wifi get lost. Older version though,&nbsp; but 100% reproducible. I wonder if new revision is any better.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212787">
				<div class="post-metadata">
					<div class="post-num">Post #263</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						19 Sep 2013, 18:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>guzzard wrote:</cite><blockquote><p>Update: router crashed during no load after about 2 days. Will keep monitoring, and see if it happens again.</p></blockquote></div><p>Yeah, just the same happened with mine. It keeps flashing the LEDs as usual, but stops responding to pings and anything. Btw, at changeset r38000 kernel was upgraded to 3.10.12, but I won&#039;t be able to rebuild or reflash anything till the next week. Would anyone check if it will work more reliable?</p><p>PS: My WDR4900 at r37951 /w kernel 3.10.10 is working now for 5 days since the last crash. But keeping in mind that it might crash all of sudden at any time is very irritating/</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212800">
				<div class="post-metadata">
					<div class="post-num">Post #264</div>
					<div class="post-author">Swarley</div>
					<div class="post-datetime">
						19 Sep 2013, 21:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eximido wrote:</cite><blockquote><p>Btw, at changeset r38000 kernel was upgraded to 3.10.12, but I won&#039;t be able to rebuild or reflash anything till the next week. Would anyone check if it will work more reliable?</p></blockquote></div><p>It seems to be stable on my machine as described in the <a href="https://dev.openwrt.org/ticket/14020">ticket in the bugtracking system</a>. Hasn&#039;t crashed in two days and survived a 6h iperf test without any struggle.</p><p>--<br />from the bugtracker:<br /></p><div class="quotebox"><cite>dalius wrote:</cite><blockquote><p> Can you provide a link to a firmware you&#039;ve used?</p></blockquote></div><p>I used an image from the buildbot, which isn&#039;t available anymore. Therefore i&#039;ve uploaded it to an online-hoster. Feel free to download it from here: <a href="https://www.hidrive.strato.com/lnk/y50rt6M8">https://www.hidrive.strato.com/lnk/y50rt6M8</a></p><p>Some more specs to ensure we are using the same hardware:<br /></p><div class="codebox"><pre><code># cat /proc/cpuinfo 
processor       : 0
cpu             : e500v2
clock           : 799.999992MHz
revision        : 5.1 (pvr 8021 2151)
bogomips        : 99.99
timebase        : 49999999
platform        : Freescale P1014
model           : TP-Link TL-WDR4900 v1
Memory          : 128 MB</code></pre></div><div class="codebox"><pre><code># cat /proc/iomem
00000000-07ffffff : System RAM
80000000-9fffffff : /pcie@ffe0a000
  80000000-9fffffff : PCI Bus 0001:03
    80000000-8001ffff : 0001:03:00.0
      80000000-8001ffff : ath9k
    80020000-8002ffff : 0001:03:00.0
a0000000-bfffffff : /pcie@ffe09000
  a0000000-bfffffff : PCI Bus 0000:01
    a0000000-a001ffff : 0000:01:00.0
      a0000000-a001ffff : ath9k
    a0020000-a002ffff : 0000:01:00.0
ffe04500-ffe04507 : serial
ffe22000-ffe22fff : /soc@ffe00000/usb@22000
  ffe22000-ffe22fff : ehci_hcd]</code></pre></div><p><a href="http://nopaste.info/46e4225ebd.html">dmesg-output</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212827">
				<div class="post-metadata">
					<div class="post-num">Post #265</div>
					<div class="post-author">jkso</div>
					<div class="post-datetime">
						20 Sep 2013, 01:36					</div>
				</div>
				<div class="post-content content">
					<p>Nice! Thanks for doing tests. Sadly I&#039;ve currently no time to run some on my device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212840">
				<div class="post-metadata">
					<div class="post-num">Post #266</div>
					<div class="post-author">Exsilium</div>
					<div class="post-datetime">
						20 Sep 2013, 09:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi all. I am a noob in here so excuse me if the question is in wrong topic or it was already answered somewhere.</p><p>@Swarley do you think that this firmware will work on wdr4900 v1.3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212847">
				<div class="post-metadata">
					<div class="post-num">Post #267</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						20 Sep 2013, 11:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Exsilium wrote:</cite><blockquote><p>@Swarley do you think that this firmware will work on wdr4900 v1.3?</p></blockquote></div><p>All 1.x boards currently have the same hardware, so it will.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212887">
				<div class="post-metadata">
					<div class="post-num">Post #268</div>
					<div class="post-author">guzzard</div>
					<div class="post-datetime">
						21 Sep 2013, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>Performed a new test now as dalius@... suggested in ticket #14020.</p><p>WDR4900 running trunk r37990. Uptime 5 days now. Crashed randomly once since updating to the version I&#039;m running now.</p><p>On the router: iperf -s<br />On the computer connected to router: iperf -c 192.168.1.1 -30 -r</p><p>I have run the test multiple times, without crashing once. Tested with the computer running as server and router as client as well, without any problem.</p><p>Example, four tests in a row with WDR4900 running as ipref server:<br />------------------------------------------------------------<br />Server listening on TCP port 5001<br />TCP window size: 85.3 KByte (default)<br />------------------------------------------------------------<br />[&nbsp; 4] local 192.168.1.1 port 5001 connected with 192.168.1.84 port 57400<br />[ ID] Interval&nbsp; &nbsp; &nbsp; &nbsp;Transfer&nbsp; &nbsp; &nbsp;Bandwidth<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 2.09 GBytes&nbsp; &nbsp;597 Mbits/sec<br />------------------------------------------------------------<br />Client connecting to 192.168.1.84, TCP port 5001<br />TCP window size: 20.5 KByte (default)<br />------------------------------------------------------------<br />[&nbsp; 4] local 192.168.1.1 port 42891 connected with 192.168.1.84 port 5001<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 1.01 GBytes&nbsp; &nbsp;290 Mbits/sec<br />[&nbsp; 4] local 192.168.1.1 port 5001 connected with 192.168.1.84 port 57408<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 1.96 GBytes&nbsp; &nbsp;561 Mbits/sec<br />------------------------------------------------------------<br />Client connecting to 192.168.1.84, TCP port 5001<br />TCP window size: 20.5 KByte (default)<br />------------------------------------------------------------<br />[&nbsp; 4] local 192.168.1.1 port 42892 connected with 192.168.1.84 port 5001<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 1.01 GBytes&nbsp; &nbsp;290 Mbits/sec<br />[&nbsp; 4] local 192.168.1.1 port 5001 connected with 192.168.1.84 port 57422<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 2.11 GBytes&nbsp; &nbsp;605 Mbits/sec<br />------------------------------------------------------------<br />Client connecting to 192.168.1.84, TCP port 5001<br />TCP window size: 20.5 KByte (default)<br />------------------------------------------------------------<br />[&nbsp; 4] local 192.168.1.1 port 42893 connected with 192.168.1.84 port 5001<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 1.01 GBytes&nbsp; &nbsp;290 Mbits/sec<br />[&nbsp; 4] local 192.168.1.1 port 5001 connected with 192.168.1.84 port 57439<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 2.02 GBytes&nbsp; &nbsp;580 Mbits/sec<br />------------------------------------------------------------<br />Client connecting to 192.168.1.84, TCP port 5001<br />TCP window size: 20.5 KByte (default)<br />------------------------------------------------------------<br />[&nbsp; 4] local 192.168.1.1 port 42894 connected with 192.168.1.84 port 5001<br />[&nbsp; 4]&nbsp; 0.0-30.0 sec&nbsp; 1.01 GBytes&nbsp; &nbsp;290 Mbits/sec</p><p>Computer is connected directly into the router with a Cat 6 UTP cabel. Not sure why I&#039;m not getting higher speeds, look a bit slow compared to tests performed by Swarley. Perhaps because I&#039;m running the ipref client on an old core2duo desktop computer?</p><p>Anyway.. some more router info:</p><p>/proc/cpuinfo<br />processor&nbsp; &nbsp; : 0<br />cpu&nbsp; &nbsp; &nbsp; &nbsp; : e500v2<br />clock&nbsp; &nbsp; &nbsp; &nbsp; : 799.999992MHz<br />revision&nbsp; &nbsp; : 5.1 (pvr 8021 2151)<br />bogomips&nbsp; &nbsp; : 99.99<br />timebase&nbsp; &nbsp; : 49999999<br />platform&nbsp; &nbsp; : Freescale P1014<br />model&nbsp; &nbsp; &nbsp; &nbsp; : TP-Link TL-WDR4900 v1<br />Memory&nbsp; &nbsp; &nbsp; &nbsp; : 128 MB</p><p>/proc/iomem<br />00000000-07ffffff : System RAM<br />80000000-9fffffff : /pcie@ffe0a000<br />&nbsp; 80000000-9fffffff : PCI Bus 0001:03<br />&nbsp; &nbsp; 80000000-8001ffff : 0001:03:00.0<br />&nbsp; &nbsp; &nbsp; 80000000-8001ffff : ath9k<br />&nbsp; &nbsp; 80020000-8002ffff : 0001:03:00.0<br />a0000000-bfffffff : /pcie@ffe09000<br />&nbsp; a0000000-bfffffff : PCI Bus 0000:01<br />&nbsp; &nbsp; a0000000-a001ffff : 0000:01:00.0<br />&nbsp; &nbsp; &nbsp; a0000000-a001ffff : ath9k<br />&nbsp; &nbsp; a0020000-a002ffff : 0000:01:00.0<br />ffe04500-ffe04507 : serial<br />ffe22000-ffe22fff : /soc@ffe00000/usb@22000<br />&nbsp; ffe22000-ffe22fff : ehci_hcd</p>											<p class="post-edited">(Last edited by <strong>guzzard</strong> on 21 Sep 2013, 11:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212974">
				<div class="post-metadata">
					<div class="post-num">Post #269</div>
					<div class="post-author">gca</div>
					<div class="post-datetime">
						22 Sep 2013, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>Hey, new around!</p><p>Just got the WDR4900. Used to own the WDR3600, added the new device to cover another side of my apartment and to connect 2 printers in that room.</p><p>I&#039;m little confused about the right version to use. Currently running &quot;BARRIER BREAKER (Bleeding Edge, r37472)&quot;, but unfortunately usb port are not working, a shame <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Couldn&#039;t understand exactly if Swarley build is definitely stable or not. Should I install it in the new device? Should I wait for more testing? Is there anyway to run the USB ports with 3.8 kernel?</p><p>Thanks folks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212975">
				<div class="post-metadata">
					<div class="post-num">Post #270</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Sep 2013, 22:37					</div>
				</div>
				<div class="post-content content">
					<p>what exactly are not working on usb? what are you connecting? show last lines of kernel log after you plug something..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212977">
				<div class="post-metadata">
					<div class="post-num">Post #271</div>
					<div class="post-author">gca</div>
					<div class="post-datetime">
						22 Sep 2013, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>Actually I was wrong: the leds next the usb ports never turned on when connected something, so I assumed it was internally disabled.</p><p>root@router:~# lsusb <br />Bus 001 Device 002: ID 05e3:0608 Genesys Logic, Inc. USB-2.0 4-Port HUB<br />Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 001 Device 005: ID 03f0:2c17 Hewlett-Packard LaserJet 1022</p><p>It detects de printer fine. The issue comes to configure CUPS, no USB printer is detected. I guess some modules are missing <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Tried to install &quot;kmod-usb-printer&quot;, but as reported by 230, it doesn&#039;t work for kernel &lt;3.10.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213131">
				<div class="post-metadata">
					<div class="post-num">Post #272</div>
					<div class="post-author">alex_v</div>
					<div class="post-datetime">
						25 Sep 2013, 11:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gca wrote:</cite><blockquote><p>Actually I was wrong: the leds next the usb ports never turned on when connected something, so I assumed it was internally disabled.</p><p>root@router:~# lsusb <br />Bus 001 Device 002: ID 05e3:0608 Genesys Logic, Inc. USB-2.0 4-Port HUB<br />Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 001 Device 005: ID 03f0:2c17 Hewlett-Packard LaserJet 1022</p><p>It detects de printer fine. The issue comes to configure CUPS, no USB printer is detected. I guess some modules are missing <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Tried to install &quot;kmod-usb-printer&quot;, but as reported by 230, it doesn&#039;t work for kernel &lt;3.10.</p><p>Thanks!</p></blockquote></div><p>You have to upgrade your firmware&nbsp; in order to catch up with already upgraded kernel modules in trunk repo. We are using bleeding edge software which&nbsp; is intensively evolving. As soon as you upgrade, install all the necessary kmods first, that will give you some extra time before the next major upgrade. Apps are less sensitive to kernel version.</p><p>And look at lsmod before to check out if kmod-usb-printer is really missing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213153">
				<div class="post-metadata">
					<div class="post-num">Post #273</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						25 Sep 2013, 18:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alex_v wrote:</cite><blockquote><p>You have to upgrade your firmware&nbsp; in order to catch up with already upgraded kernel modules in trunk repo. We are using bleeding edge software which&nbsp; is intensively evolving. As soon as you upgrade, install all the necessary kmods first, that will give you some extra time before the next major upgrade.</p></blockquote></div><p>Not exactly correct. The problem actually is that EVERY new build is by default assumed incompatible with the previous ones, regardless of were there any changes or not. And trunk is automatically rebuilt every couple days. So... when you&#039;re working with trunk snapshots and willing to be able to install something later on, then you should download a copy of all the packages from trunk snapshot you&#039;ve flashed. And then install em from your local repo copy, not from openwrt trunk repo.</p><div class="quotebox"><cite>gca wrote:</cite><blockquote><p>Actually I was wrong: the leds next the usb ports never turned on when connected something, so I assumed it was internally disabled.</p></blockquote></div><p>Probably you just need to configure those LEDs in /etc/config/system.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213229">
				<div class="post-metadata">
					<div class="post-num">Post #274</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						26 Sep 2013, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>Well, after one more crash on kernel 3.10.10-based firmware, I&#039;ve tried to upgrade it with the latest trunk&#039;s kernel 3.10.12, and yet it crashed again in less then a day. Without network load or anything. I&#039;m really fed up with this, and now I&#039;ve decided to rebuild latest trunk firmware, but with changesets 37474-37472 reverted. So it is basically the most up to date firmware with all the packages updated, but based on 3.8.13 kernel.<br />It compiled fine, and reflashed ok as well. The device is working now for about an hour, will keep watching.</p>											<p class="post-edited">(Last edited by <strong>eximido</strong> on 26 Sep 2013, 21:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213237">
				<div class="post-metadata">
					<div class="post-num">Post #275</div>
					<div class="post-author">jkso</div>
					<div class="post-datetime">
						26 Sep 2013, 23:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eximido wrote:</cite><blockquote><p>Well, after one more crash on kernel 3.10.10-based firmware, I&#039;ve tried to upgrade it with the latest trunk&#039;s kernel 3.10.12, and yet it crashed again in less then a day. Without network load or anything. I&#039;m really fed up with this, and now I&#039;ve decided to rebuild latest trunk firmware, but with changesets 37474-37472 reverted. So it is basically the most up to date firmware with all the packages updated, but based on 3.8.13 kernel.<br />It compiled fine, and reflashed ok as well. The device is working now for about an hour, will keep watching.</p></blockquote></div><p>Sounds nice! Mind sharing?</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 276 to 275 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 11 of 35</div><nav><ul><li><a href="viewtopic.php%3Fid=42062&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42062&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=42062&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=42062&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=42062&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42062&amp;p=35.html">35</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>