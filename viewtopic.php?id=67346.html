<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Automount USB for any pen drive.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p337057">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pradeepsysargus</div>
					<div class="post-datetime">
						3 Sep 2016, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>I have a openwrt ChaosCalmer 15.05.1 on RT5350 chipset board.</p><p>I installed necessary packages required for USB storage support.</p><p>I opened the LUCI webinterface, added mountpoints for detected USB pen drives at /mnt directory. I have setup a Samba Share drive for /mnt directory which shows the USB files in the Wifi Network.</p><p>Is it possible to auto mount the pen drive without manually adding mount points for every new pendrive in the LUCI interface.?<br />/etc/config/fstab file is updated whenever I add a mount point in LUCI.</p><p>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337096">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">th3gr8</div>
					<div class="post-datetime">
						3 Sep 2016, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>You can add your own script in Hotplug to add mount points everytime a Pen drive is mounted.. Refer to this document: <a href="https://wiki.openwrt.org/doc/techref/hotplug">https://wiki.openwrt.org/doc/techref/hotplug</a> ..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337318">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pradeepsysargus</div>
					<div class="post-datetime">
						6 Sep 2016, 08:41					</div>
				</div>
				<div class="post-content content">
					<p>I am going through the link that was given by you.</p><p>It has asked to modify /etc/hotplug2.rules. I donot have that file in my router files.<br />I have already installed block-mount package(I suppose it has block-hotplug in the block-mount as well)</p><p>I have the following file though:</p><p>/etc/hotplug.d/usb/10-motion<br /></p><div class="codebox"><pre><code>[ &quot;$ACTION&quot; = &quot;motion&quot; ] &amp;&amp; logger webcam motion event</code></pre></div><p>The other files of hotplug in /etc are :<br />hotplug-preinit.json<br />hotplug.json</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337376">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">th3gr8</div>
					<div class="post-datetime">
						6 Sep 2016, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>Make a new file in /etc/hotplug.d/usb and name it as 10-usb ..<br />Try the following script:<br />===========================<br />#!/bin/sh<br />case &quot;$ACTION&quot; in<br />&nbsp; &nbsp; &nbsp; &nbsp; add)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;USB mounted&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;;<br />&nbsp; &nbsp; &nbsp; &nbsp; remove)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;USB unmounted&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;;<br />esac<br />===============================</p><p>Let us know if you get these echos ..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337497">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pradeepsysargus</div>
					<div class="post-datetime">
						7 Sep 2016, 12:59					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/doc/howto/writable_ntfs">https://wiki.openwrt.org/doc/howto/writable_ntfs</a></p><p>I happen to refer to the above link which has custom hotplug script to automount USB pen drive.</p><p>The mount is happening now when I plug in the USB. It is mounting to /mnt/$device</p><p>Thanks for the reply.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>