<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> dnsmasq cant load /etc/ethers Permission Denied.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p11870">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">revslowmo</div>
					<div class="post-datetime">
						9 Sep 2005, 07:07					</div>
				</div>
				<div class="post-content content">
					<p>I under stand that dnsmasq goes to user nobody and group dip by default, however it is unable to load a few of its file permission denied. </p><p>Jan&nbsp; 1 00:00:24 (none) kern.err dnsmasq[639]: failed to load names from /etc/hosts: Permission denied<br />Jan&nbsp; 1 00:00:24 (none) kern.err dnsmasq[639]: failed to read /etc/ethers:Permission denied<br />Jan&nbsp; 1 00:00:24 (none) kern.warn dnsmasq[639]: failed to access /etc/resolv.conf: Permission denied</p><br /><p>root@OpenWrt:/etc# ls -l ethers<br />-rw-r--r--&nbsp; &nbsp; 1 nobody&nbsp; &nbsp;nogroup&nbsp; &nbsp; &nbsp; &nbsp;100 Jan&nbsp; 1 00:09 ethers<br />-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 102 Jan&nbsp; 2&nbsp; 2000 hosts<br />-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;49 Jan&nbsp; 1 00:00 /tmp/resolv.conf</p><p>I do not see why it is unable to open these files, they are world readable.</p><br /><p>root@OpenWrt:/etc# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.2M&nbsp; &nbsp; &nbsp; 2.8M&nbsp; &nbsp; 372.0k&nbsp; 89% /<br />none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.0M&nbsp; &nbsp; &nbsp;16.0k&nbsp; &nbsp; &nbsp; 7.0M&nbsp; &nbsp;0% /tmp</p><p>root@OpenWrt:/# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />&nbsp; Mem:&nbsp; &nbsp; &nbsp; &nbsp; 14376&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6832&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7544&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br /> Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />Total:&nbsp; &nbsp; &nbsp; &nbsp; 14376&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6832&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7544</p><br /><p>I dont think I am having any file system problems... Anyone know how to check?</p><p>Any help would be great.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11919">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">revslowmo</div>
					<div class="post-datetime">
						10 Sep 2005, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>******************Updated***********************</p><br /><br /><p>Well I found what might be causing this problem it is the removal of dropbear then the installation of openssh-client and openssh-server... I dont know why yet but if someone could help it would be great.</p><p>Well I decied that the filesystem was curupt, not sure how, and cant prove it. However I&nbsp; tftped a fresh img then re-setup the defaults and everything works again.</p><p>Jan&nbsp; 1 00:00:24 (none) kern.err dnsmasq[630]: failed to load names from /etc/hosts: Permission denied</p>											<p class="post-edited">(Last edited by <strong>revslowmo</strong> on 13 Sep 2005, 03:44)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>