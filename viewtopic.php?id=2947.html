<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> JTAG pinout of WR850G</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Jan 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p13865">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">whitepines</div>
					<div class="post-datetime">
						17 Oct 2005, 23:02					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone know the pinout of the JTAG header on the Motorola WR850G?</p><p>I accidentally bricked mine while playing with the NVRAM.</p><p>I had the serial console hooked up, and it was responding nicely before I bricked it.&nbsp; <br />Now, nothing displays on the serial console and all the green lights are always on.&nbsp; <br />I would like to use the JTAG to reset the NVRAM.</p><p>Also, can you use a MPCBDM Wiggler on it?</p><p>Thanks,</p><p>Tim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13940">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">whitepines</div>
					<div class="post-datetime">
						19 Oct 2005, 02:51					</div>
				</div>
				<div class="post-content content">
					<p>Alright, after much trial and error I figured out the following.&nbsp; Hope it&#039;s useful to someone!</p><p>1. You CANNOT use a Wiggler on this port.&nbsp; Instead, use the simple cable that HairyDairyMaid includes instructions for.</p><p>2. The WR850G JTAG pinout for anyone interested:</p><p>EDGE OF BOARD --&gt;|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />UNUSED X&nbsp; X&nbsp; N/C&nbsp; &nbsp;|<br />TDI&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; X&nbsp; N/C&nbsp; &nbsp;|<br />TDO&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; X&nbsp; N/C&nbsp; &nbsp;|<br />TMS&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; X&nbsp; N/C&nbsp; &nbsp;|<br />TCK&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; X&nbsp; N/C&nbsp; &nbsp;|<br />N/C&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; X&nbsp; N/C&nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</p><p>Note that there is no ground connection, therefore you must use the ground connection that is present on the serial header.</p><p>-Tim</p>											<p class="post-edited">(Last edited by <strong>whitepines</strong> on 19 Oct 2005, 09:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14003">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">warts</div>
					<div class="post-datetime">
						20 Oct 2005, 02:45					</div>
				</div>
				<div class="post-content content">
					<p>I seem to have an entirely different board layout on my WRT850G.&nbsp; I have 2 of them -- bought one that is virgin for reference, and one that is bricked with similar symptoms that you described.&nbsp; The pins run opposite form the diagram you provided.&nbsp; You seem to show rows running parrallel to the closest edge of the board.&nbsp; I have perpendicular rows with pin 1 (square) farthest from the edge and closer to the flash than the even row.</p><p>|&nbsp; &nbsp; flash ^<br />|<br />|&nbsp; &nbsp; x x x x x 1<br />|&nbsp; &nbsp; x x x x x x</p><p>How did you determine the pinouts for the JTAG connector?</p><p>My pin layout correspond to the HairyDairyMaid documentation, except pin 12 is not grounded (2, 4, 6, 8, 10 are).&nbsp; I did some checking with my trusty new multimeter (I intend to fix this brick despite spending more than it&#039;s worth on toys I could convince my wife I need.)&nbsp; pins 2-10 read &lt;= .2 ohm when probed to the back of the power connector, serial ground, etc.&nbsp; pin 12 is apparently unconnected, and it appears to run over to a row of components where this particular component is missing.&nbsp; No idea what it&#039;s for.</p><p>but anyway, I was wondering if you have had anyluck getting yours back up?&nbsp; Mine functions only as a switch between the 5 exposed ethernet ports with no wireless.&nbsp; If I hit reset, sometimes the leds go to a pattern more like I would expect them to behave, but still justa dumb switch (including wan) with no wifi.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14478">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">whitepines</div>
					<div class="post-datetime">
						29 Oct 2005, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I did manage to get mine up and running.</p><p>Unfortunately, I don&#039;t have any experience with the layout you&#039;re describing.&nbsp; Mine was a v3, what version is yours?</p><p>What I did to figure out the layout was:</p><p>1. Hook up the ground to a known ground.</p><p>2. Since it is impossible to ruin chips with a logic level signal, I just tried all possible combinations!<br />&nbsp; &nbsp; To help with that task, I took the leads coming from the parallel port, tied them to a male header, soldered<br />&nbsp; &nbsp; another male header to the JTAG port, and hooked the two up with the little internal sound cables for PCs.</p><p>&nbsp; &nbsp; Each try I ran the debrick utility and looked at the binary string.&nbsp; It should be a pattern of 1s and 0s, NOT all<br />&nbsp; &nbsp; 1s or all 0s.</p><p>3. When you get close, the screen might display all 1s.&nbsp; This simply means that the CLK is hooked up right; try<br />&nbsp; &nbsp; flipping the TDI and TDO pins, it worked for me!</p><p>Hope this helps,</p><p>Tim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14815">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">warts</div>
					<div class="post-datetime">
						4 Nov 2005, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>I have v2 boards; that would probably explain the difference.</p><p>I got my JTAG cable working via the general debrick instructions, but I still can&#039;t unbrick my routers.&nbsp; I guess I&#039;ll just keep trying.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>