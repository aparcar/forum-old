<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> T&amp;C and nodogsplash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p233279">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">utah</div>
					<div class="post-datetime">
						13 May 2014, 23:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi all</p><p>I have read a lot regarding captive portals and such. The thing I need is only a page for the user to accept T&amp;C so things like coova chili and wifidog seems like overkill. I stared with wifidog and implemented my own auth-server, it worked by was not very stable because every connection got it own token and I hacked it a lot to only show T&amp;C</p><p>I had a look at some others and rounded up with nodogsplash that is very easy to get going and setting up is very clear.</p><p>I just have two issues with it and it has all to do with how nodogsplash uses iptables rules to block users before accepting T&amp;C. It is very different to the way wifidog do the same they do it with redirects.</p><p>1. iphones and mac os x.<br />When a user log on the wifi the normal behavior is that the iphone or laptop silent will try to access a apple webpage. If the webpage return a content with the work success nothing will happen (there is access to the internet and no captive portal). If the request give anything else the iOS or os x will popup a &quot;login&quot; screen with the content of the response.</p><p>The case with nodogsplash is that the request just gets blocked and no redirected.</p><p>2. safari and https<br />When a user log on the wifi and opens a browser med <a href="https://www.google.com">https://www.google.com</a> nothing happens. It seems like the browser (safari) will not accept content with no or a different certificate than google.com. Don&#039;t know exactly what happens here but it something if off.</p><p>I am wondering if you can make it so that instead of blocking if there is a url to the routers T&amp;C page, you can setup a iptables to rule and just forward to that. Then the url in the browser will change but I think that both two of my issues will be solved?</p><p>Perhaps I am wrong in my debugging or some of you have the same issues please let me know.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>