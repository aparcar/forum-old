<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [HELP needed] WZR-HP-G300NH back to original firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p116553">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">HollowKnight</div>
					<div class="post-datetime">
						6 Sep 2010, 06:42					</div>
				</div>
				<div class="post-content content">
					<p>My upgrade path was:</p><p><strong>Factory firmware</strong> to <strong>dd-wrt</strong> buffalo_to_ddwrt_webflash-MULTI.bin via <em>WebGUI</em><br />to <strong>dd-wrt</strong> wzr-hp-g300nh-dd-wrt-webupgrade-MULTI via <em>WebGUI</em><br />to <strong>openwrt backfire</strong> via <em>&quot;mtd -w linux openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin&quot;</em></p><p>Now I can&#039;t flash back to original firmware via tftp. My TFTP works well with ubuntu laptop connected to the switch. I&#039;ve tried all dd-wrt, buffalo 1.72, buffalo 1.74, buffalo 1.60 firmwares.</p><p>It always shows slow blink red led after reboot.</p><p>The only firmware now I can flash is <strong>openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin</strong> (or <strong>squashfs</strong> either)</p><p>I made binary compare mtd partitions in dd-wrt and openwrt and found it identical for both dd-wrt (backed up before) and openwrt:</p><p>dd-wrt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openwrt<br />--------&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--------<br />mtd0 RedBoot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&nbsp; &nbsp;mtd0_u-boot + mtd1_u-boot-env<br />mtd5 board_config&nbsp; =&nbsp; &nbsp; mtd5_art</p><p>Here is dmesg log regards to mtd partition during flash:</p><p>.........<br />ar91xx-flash ar91xx-flash: using static partition mapping<br />Creating 7 MTD partitions on &quot;ar91xx-flash&quot;:<br />0x000000000000-0x000000040000 : &quot;u-boot&quot;<br />0x000000040000-0x000000060000 : &quot;u-boot-env&quot;<br />0x000000060000-0x000000160000 : &quot;kernel&quot;<br />0x000000160000-0x000001fc0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=420000,<br />len=1BA0000 <br />0x000000420000-0x000001fc0000 : &quot;rootfs_data&quot;<br />0x000001fc0000-0x000001fe0000 : &quot;user_property&quot;<br />0x000001fe0000-0x000002000000 : &quot;art&quot;<br />0x000000060000-0x000001fc0000 : &quot;firmware&quot;<br />.........</p><p>Why I can&#039;t flash it back with factory firmware?<br />Should I use mtd or dd to rewrite &quot;kernel&quot; mtd partition with dd-wrt &quot;linux&quot; mtd backup?</p><p>Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116557">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						6 Sep 2010, 11:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>HollowKnight wrote:</cite><blockquote><p>Now I can&#039;t flash back to original firmware via tftp. My TFTP works well with ubuntu laptop connected to the switch. I&#039;ve tried all dd-wrt, buffalo 1.72, buffalo 1.74, buffalo 1.60 firmwares.</p><p>It always shows slow blink red led after reboot.</p></blockquote></div><p>First of all, see if you can access U-Boot. If not, read the following link or connect a dummy switch with router and laptop. <a href="http://wiki.openwrt.org/inbox/buffalo/wzr-hp-g300h#unable.to.transfer.image.via.tftp.transfer.times.out.then.router.boots.normally">Buffalo WZR-HP-G300NH - OpenWrt Wiki</a> - Unable to transfer image via TFTP (transfer times out then router boots normally)</p><p>And try tftping the firmware build by BS on <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=66494&amp;postdays=0&amp;postorder=asc&amp;start=30">this page</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116587">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">HollowKnight</div>
					<div class="post-datetime">
						7 Sep 2010, 05:03					</div>
				</div>
				<div class="post-content content">
					<p>Thanks FYI,</p><p>TFTP works well for me. My WZR-HP-G300NH is EU and US model, not JP</p><p>u-Boot partition still there and load well every boot.</p><p>I will try to access u-Boot by pressing Ctrl+C during tftp.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116592">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						7 Sep 2010, 09:55					</div>
				</div>
				<div class="post-content content">
					<p>I mean, according to BS, &quot;<strong>this binary</strong> here should work on any router in any country.&quot; And the next message said, &quot;and in case you want to revert. flash <strong>this binary</strong> from dd-wrt webgui.&quot; I think &quot;<strong>these two binaries</strong>&quot; might be your best chance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116666">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zyamb</div>
					<div class="post-datetime">
						8 Sep 2010, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>Hello, </p><p>I wondered how tftp worked for you on the latest 10.03 release after you installed DD-WRT on your device? I am unable to do this. <br />I have a WZR-HP-G300NH and was unable to use TFTP either in Ubuntu or WinXP or Vista to flash the image openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin to the router. <br />I have flashed many Linksys routers but am not able to get this one flashed. <br />Yes, I have a static IP and static arp entry for the router, but I was not able to replace the Buffalo firmware. <br />Finally I installed the DD-WRT image buffalo_to_ddwrt_webflash-MULTI.bin which worked straight from Buffalo&#039;s webinterface. I figured once DD-WRT was on the router I could flash&nbsp; openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin. <br />Alas, no luck. I have tried this approximately 100 times over the last three days and have read every forum post, FAQ, readme and wiki that I could find. <br />I have tried 3 different network cards, 3 different computers, tried a hub between the router/computer to keep the link alive, but the router just boots up as normal and no TFTP is ever successful. </p><p>I would appreciate any help whatsoever on this issue. Perhaps the only way to do this is to SCP the file into DD-WRT using telnet, but I haven&#039;t found any docs on how to do that and don&#039;t want to brick the unit.</p><p>Looking forward to your response.</p>											<p class="post-edited">(Last edited by <strong>zyamb</strong> on 8 Sep 2010, 05:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116668">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zyamb</div>
					<div class="post-datetime">
						8 Sep 2010, 05:32					</div>
				</div>
				<div class="post-content content">
					<p>Update: </p><p>I just SCP&#039;d the file into DD-WRT and ran the command: </p><p>mtd -r write /tmp/firmware.bin linux </p><p>The router rebooted and all I get is a blinking red Diag light.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116679">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">HollowKnight</div>
					<div class="post-datetime">
						8 Sep 2010, 10:54					</div>
				</div>
				<div class="post-content content">
					<p>Hello Zyamb,</p><p>I believe you can still tftp to your router since u-Boot partitition (or RedBoot in dd-wrt) remain untouched. If so, tftp again with dd-wrt firmware to gain access to the router via ssh or telnet.</p><p>Before writing to flash using command mtd I have stripped off first 0x20 (32) bytes from openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin using dd command</p><p>dd -bs=32 -skip=1 if=openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin of=firmware.bin</p><p>according to howto guide @ <a href="http://wiki.openwrt.org/doc/howto/uninstall">http://wiki.openwrt.org/doc/howto/uninstall</a></p><p>Firmware file to be write to flash starts at offset 32.</p><p>0000&nbsp; 23 20 41 69 72 73 74 61&nbsp; 74 69 6F 6E 20 50 75 62&nbsp; # Airstation Pub<br />0010&nbsp; 6C 69 63 20 46 6D 74 31&nbsp; 00 00 00 00 00 00 00 00&nbsp; lic Fmt1........<br />0020&nbsp; 27 05 19 56 8C 8E 20 49&nbsp; 4C 70 96 52 00 0D 86 F1&nbsp; &#039;..V.. ILp.R....<br />0030&nbsp; 80 06 00 00 80 06 00 00&nbsp; 13 72 3C FB 05 05 02 03&nbsp; .........r&lt;.....<br />0040&nbsp; 4D 49 50 53 20 4F 70 65&nbsp; 6E 57 72 74 20 4C 69 6E&nbsp; MIPS OpenWrt Lin<br />0050&nbsp; 75 78 2D 32 2E 36 2E 33&nbsp; 32 2E 31 36 00 00 00 00&nbsp; ux-2.6.32.16....<br />0060&nbsp; 6D 00 00 80 00 CC 9A 29&nbsp; 00 00 00 00 00 00 04 00&nbsp; m......)........<br />0070&nbsp; 4E 25 40 07 F1 86 7F 28&nbsp; 2C 6B 1B CB E4 EE 3B 7C&nbsp; N%@....(,k.??.;|</p><p>I am still cant get back from openwrt to dd-wrt using tftp method. Red Diag Light is blinking after reboot, and the router can work only boot if I reflash openwrt via TFTP.</p><p>I guess that the config flash partition mtd4 nvram (in dd-wrt) or mtd4 user_property (in openwrt) remain the same after tftp flashing so dd-wrt can not load initial configuration to complete boot. This partition can only correcty load under openwrt. Despite of many times reflashing my webgui password to openwrt remain the same.</p><p>Now I am about to rewrite dd-wrt mtd1-linux, mtd2-rootfs, mtd3-ddwrt and mtd4-nvram back to the MTD flash. I&#039;ve backed up all mtd partition from dd-wrt before flashing to open-wrt.</p><p>I am still concern if it can brick my router, because different mtd partition layout in openwrt and dd-wrt.</p><p>Will let you know if it works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116680">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">HollowKnight</div>
					<div class="post-datetime">
						8 Sep 2010, 11:07					</div>
				</div>
				<div class="post-content content">
					<p>u-Boot partitition still there untouched after you&#039;ve done mtd -w linux firmware.bin so the router start TFTP session at every reboot for sure.</p><p>I connect my router (a LAN port, not blue WAN port) to a Linksys WRT54GC acting as both ADSL Gateway and Switch, then my netbook running Ubuntu net remix to the same switch. I run the following command on a terminal console on the netbook, leaving the Buffalo router unpowered</p><p>sudo ifconfig eth0 192.168.11.2 netmask 255.255.255.0</p><p>sudo arp -s 192.168.11.1 00:11:22:33:44:55 &lt;-- you can find this number at the Buffalo bottom as SSID: 001122334455, replace it with your routers actual SSID number</p><p>tftp 192.168.11.1<br />at tftp prompt, issue following commands:</p><p>tftp&gt; verbose<br />tftp&gt; binary<br />tftp&gt; timeout 60<br />tftp&gt; rexmt 1<br />tftp&gt; trace</p><p>and finally<br />tftp&gt; put firmware.bin</p><p>Press Enter and plug-in power to your router<br />The console will display series of retrying responses for 3-4 seconds then tftp session will start. The whole process takes only 20-30 seconds. The router will reboot with new flash image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116706">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">HollowKnight</div>
					<div class="post-datetime">
						8 Sep 2010, 20:05					</div>
				</div>
				<div class="post-content content">
					<p><strong>Update</strong></p><p>Following advises by LOM in dd-wrt forum. Thanks LOM</p><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=482188#482188">http://www.dd-wrt.com/phpBB2/viewtopic. … 188#482188</a></p><p>I&#039;ve successfully reverted back from openwrt to dd-wrt using openwrt WebGUI update, just need to strip 32 bytes header from wzr-hp-g300nh-dd-wrt-webupgrade-MULTI.bin file.</p><p>dd bs=28 skip=1 if=wzr-hp-g300nh-dd-wrt-webupgrade-MULTI.bin of=firmware.bin</p><p>So firmware binary starts with 5 bytes <strong>27 05 19 56 10</strong></p><p>Then we can flash in openwrt WebGUI browser screen.</p><p>dd-wrt WebGUI accepts factory firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116718">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">zyamb</div>
					<div class="post-datetime">
						8 Sep 2010, 21:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi HollowKnight,</p><p>Thank you VERY much for your detailed replies. You did get farther than I did, here&#039;s my progress. </p><p>Rehash: <br />-Using Buffalo&#039;s GUI, I flashed to DDWRT using this bin file:&nbsp; &nbsp;buffalo_to_ddwrt_webflash-MULTI.bin<br />-Enabled SSHd and SCP&#039;d openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin to the router.<br />-Used command:&nbsp; mtd -r write /tmp/openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin linux <br />-The router rebooted and all I get is a blinking red Diag light.</p><p>Now to get OpenWRT on: </p><p>1. I copied your setup and installed Ubuntu remix on a netbook as well. Netbook and Buffalo both connected into Linksys WRT54G router set at 192.168.11.5. Netbook static IP at 192.168.11.10. Set static arp entry for Buffalo on netbook. <br />{Note: My DDWRT IP was 192.168.1.1, but TFTP&#039;ing to that IP didn&#039;t work. This confirms that the mtd command to put openwrt on did in fact work, because u-boot was listening at 192.168.11.1.}</p><p>2. dd bs=32 skip=1 if=openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin of=firmware.bin</p><p>3. TFTP&#039;d firmware.bin to 192.168.11.1...................success!!</p><p>Well, almost...</p><p>TFTP sent a whole bunch of data across. Eventually the red diag light was blinking and the TFTP session was still going. </p><p>My Terminal session filled up so all I could paste was this:</p><p>sent DATA &lt;block=356, 512 bytes&gt;<br />received ACK &lt;block=356&gt;<br />sent DATA &lt;block=357, 512 bytes&gt;<br />received ACK &lt;block=353&gt;<br />received ACK &lt;block=357&gt;<br />sent DATA &lt;block=358, 512 bytes&gt;<br />received ACK &lt;block=354&gt;<br />received ACK &lt;block=358&gt;<br />sent DATA &lt;block=359, 512 bytes&gt;<br />received ACK &lt;block=355&gt;<br />discarded 1 packets<br />received ACK &lt;block=356&gt;<br />received ACK &lt;block=357&gt;<br />received ACK &lt;block=358&gt;<br />sent DATA &lt;block=359, 512 bytes&gt;<br />received ACK &lt;block=359&gt;<br />sent DATA &lt;block=360, 512 bytes&gt;<br />received ACK &lt;block=360&gt;<br />sent DATA &lt;block=361, 512 bytes&gt;<br />received ACK &lt;block=359&gt;<br />received ACK &lt;block=361&gt;<br />sent DATA &lt;block=362, 512 bytes&gt;<br />received ACK &lt;block=360&gt;<br />received ACK &lt;block=362&gt;<br />sent DATA &lt;block=363, 512 bytes&gt;<br />received ACK &lt;block=363&gt;<br />sent DATA &lt;block=364, 512 bytes&gt;<br />received ACK &lt;block=361&gt;<br />received ACK &lt;block=364&gt;<br />sent DATA &lt;block=365, 512 bytes&gt;<br />received ACK &lt;block=365&gt;<br />sent DATA &lt;block=366, 512 bytes&gt;<br />received ACK &lt;block=362&gt;<br />received ACK &lt;block=363&gt;<br />discarded 1 packets<br />received ACK &lt;block=364&gt;<br />received ACK &lt;block=365&gt;<br />sent DATA &lt;block=366, 512 bytes&gt;<br />received ACK &lt;block=366&gt;<br />sent DATA &lt;block=367, 512 bytes&gt;<br />received ACK &lt;block=367&gt;<br />sent DATA &lt;block=368, 512 bytes&gt;<br />received ACK &lt;block=368&gt;<br />sent DATA &lt;block=369, 512 bytes&gt;<br />received ACK &lt;block=366&gt;<br />received ACK &lt;block=369&gt;<br />sent DATA &lt;block=370, 512 bytes&gt;<br />received ACK &lt;block=367&gt;<br />discarded 1 packets<br />received ACK &lt;block=368&gt;<br />received ACK &lt;block=369&gt;<br />discarded 1 packets<br />sent DATA &lt;block=370, 512 bytes&gt;<br />sent DATA &lt;block=370, 512 bytes&gt;<br />sent DATA &lt;block=370, 512 bytes&gt;<br />sent DATA &lt;block=370, 512 bytes&gt;<br />sent DATA &lt;block=370, 512 bytes&gt;<br />received ACK &lt;block=370&gt;<br />sent DATA &lt;block=371, 512 bytes&gt;<br />received ACK &lt;block=371&gt;<br />sent DATA &lt;block=372, 512 bytes&gt;<br />received ACK &lt;block=372&gt;<br />sent DATA &lt;block=373, 512 bytes&gt;<br />received ACK &lt;block=373&gt;<br />sent DATA &lt;block=374, 512 bytes&gt;<br />received ACK &lt;block=371&gt;<br />received ACK &lt;block=374&gt;<br />sent DATA &lt;block=375, 512 bytes&gt;<br />received ACK &lt;block=375&gt;<br />sent DATA &lt;block=376, 512 bytes&gt;<br />received ACK &lt;block=372&gt;<br />received ACK &lt;block=373&gt;<br />discarded 1 packets<br />received ACK &lt;block=374&gt;<br />received ACK &lt;block=375&gt;<br />sent DATA &lt;block=376, 512 bytes&gt;<br />received ACK &lt;block=376&gt;<br />sent DATA &lt;block=377, 512 bytes&gt;<br />received ACK &lt;block=377&gt;<br />sent DATA &lt;block=378, 512 bytes&gt;<br />received ACK &lt;block=378&gt;<br />sent DATA &lt;block=379, 512 bytes&gt;<br />received ACK &lt;block=376&gt;<br />received ACK &lt;block=379&gt;<br />sent DATA &lt;block=380, 512 bytes&gt;<br />received ACK &lt;block=380&gt;<br />sent DATA &lt;block=381, 512 bytes&gt;<br />received ACK &lt;block=377&gt;<br />received ACK &lt;block=381&gt;<br />sent DATA &lt;block=382, 512 bytes&gt;<br />received ACK &lt;block=378&gt;<br />received ACK &lt;block=382&gt;<br />sent DATA &lt;block=383, 512 bytes&gt;<br />received ACK &lt;block=383&gt;<br />sent DATA &lt;block=384, 512 bytes&gt;<br />received ACK &lt;block=379&gt;<br />received ACK &lt;block=380&gt;<br />discarded 1 packets<br />received ACK &lt;block=381&gt;<br />received ACK &lt;block=382&gt;<br />received ACK &lt;block=383&gt;<br />sent DATA &lt;block=384, 512 bytes&gt;<br />received ACK &lt;block=384&gt;<br />sent DATA &lt;block=385, 512 bytes&gt;<br />received ACK &lt;block=385&gt;<br />sent DATA &lt;block=386, 512 bytes&gt;<br />received ACK &lt;block=384&gt;<br />received ACK &lt;block=386&gt;<br />sent DATA &lt;block=387, 512 bytes&gt;<br />received ACK &lt;block=387&gt;<br />sent DATA &lt;block=388, 512 bytes&gt;<br />received ACK &lt;block=385&gt;<br />received ACK &lt;block=388&gt;<br />sent DATA &lt;block=389, 512 bytes&gt;<br />received ACK &lt;block=389&gt;<br />sent DATA &lt;block=390, 512 bytes&gt;<br />received ACK &lt;block=386&gt;<br />received ACK &lt;block=387&gt;<br />discarded 1 packets<br />received ACK &lt;block=388&gt;<br />received ACK &lt;block=389&gt;<br />sent DATA &lt;block=390, 512 bytes&gt;<br />received ACK &lt;block=390&gt;<br />sent DATA &lt;block=391, 512 bytes&gt;<br />received ACK &lt;block=391&gt;<br />sent DATA &lt;block=392, 512 bytes&gt;<br />received ACK &lt;block=392&gt;<br />sent DATA &lt;block=393, 512 bytes&gt;<br />received ACK &lt;block=390&gt;<br />received ACK &lt;block=393&gt;<br />sent DATA &lt;block=394, 512 bytes&gt;<br />received ACK &lt;block=394&gt;<br />sent DATA &lt;block=395, 512 bytes&gt;<br />received ACK &lt;block=391&gt;<br />discarded 1 packets<br />received ACK &lt;block=395&gt;<br />sent DATA &lt;block=396, 512 bytes&gt;<br />received ACK &lt;block=393&gt;<br />discarded 1 packets<br />received ACK &lt;block=394&gt;<br />received ACK &lt;block=395&gt;<br />sent DATA &lt;block=396, 512 bytes&gt;<br />received ACK &lt;block=396&gt;<br />sent DATA &lt;block=397, 512 bytes&gt;<br />received ACK &lt;block=397&gt;<br />sent DATA &lt;block=398, 512 bytes&gt;<br />received ACK &lt;block=398&gt;<br />sent DATA &lt;block=399, 512 bytes&gt;<br />received ACK &lt;block=396&gt;<br />discarded 2 packets<br />received ACK &lt;block=399&gt;<br />sent DATA &lt;block=400, 512 bytes&gt;<br />received ACK &lt;block=400&gt;<br />sent DATA &lt;block=401, 512 bytes&gt;<br />received ACK &lt;block=399&gt;<br />discarded 1 packets<br />received ACK &lt;block=400&gt;<br />sent DATA &lt;block=401, 512 bytes&gt;<br />received ACK &lt;block=401&gt;<br />sent DATA &lt;block=402, 512 bytes&gt;<br />received ACK &lt;block=402&gt;<br />sent DATA &lt;block=403, 512 bytes&gt;<br />received ACK &lt;block=403&gt;<br />sent DATA &lt;block=404, 512 bytes&gt;<br />received ACK &lt;block=401&gt;<br />received ACK &lt;block=404&gt;<br />sent DATA &lt;block=405, 512 bytes&gt;<br />received ACK &lt;block=402&gt;<br />received ACK &lt;block=405&gt;<br />sent DATA &lt;block=406, 512 bytes&gt;<br />received ACK &lt;block=403&gt;<br />received ACK &lt;block=406&gt;<br />sent DATA &lt;block=407, 512 bytes&gt;<br />received ACK &lt;block=407&gt;<br />sent DATA &lt;block=408, 512 bytes&gt;<br />received ACK &lt;block=404&gt;<br />received ACK &lt;block=405&gt;<br />discarded 1 packets<br />received ACK &lt;block=406&gt;<br />received ACK &lt;block=407&gt;<br />sent DATA &lt;block=408, 512 bytes&gt;<br />received ACK &lt;block=408&gt;<br />sent DATA &lt;block=409, 512 bytes&gt;<br />received ACK &lt;block=409&gt;<br />sent DATA &lt;block=410, 512 bytes&gt;<br />received ACK &lt;block=410&gt;<br />sent DATA &lt;block=411, 512 bytes&gt;<br />received ACK &lt;block=408&gt;<br />received ACK &lt;block=411&gt;<br />sent DATA &lt;block=412, 512 bytes&gt;<br />received ACK &lt;block=412&gt;<br />sent DATA &lt;block=413, 512 bytes&gt;<br />received ACK &lt;block=409&gt;<br />received ACK &lt;block=410&gt;<br />discarded 1 packets<br />received ACK &lt;block=411&gt;<br />received ACK &lt;block=412&gt;<br />sent DATA &lt;block=413, 512 bytes&gt;<br />received ACK &lt;block=413&gt;<br />sent DATA &lt;block=414, 512 bytes&gt;<br />received ACK &lt;block=414&gt;<br />sent DATA &lt;block=415, 512 bytes&gt;<br />received ACK &lt;block=415&gt;<br />sent DATA &lt;block=416, 512 bytes&gt;<br />received ACK &lt;block=413&gt;<br />received ACK &lt;block=416&gt;<br />sent DATA &lt;block=417, 512 bytes&gt;<br />received ACK &lt;block=414&gt;<br />discarded 1 packets<br />received ACK &lt;block=415&gt;<br />received ACK &lt;block=416&gt;<br />sent DATA &lt;block=417, 512 bytes&gt;<br />received ACK &lt;block=417&gt;<br />sent DATA &lt;block=418, 512 bytes&gt;<br />received ACK &lt;block=418&gt;<br />sent DATA &lt;block=419, 512 bytes&gt;<br />received ACK &lt;block=417&gt;<br />received ACK &lt;block=419&gt;<br />sent DATA &lt;block=420, 512 bytes&gt;<br />received ACK &lt;block=418&gt;<br />discarded 1 packets<br />received ACK &lt;block=419&gt;<br />sent DATA &lt;block=420, 512 bytes&gt;<br />received ACK &lt;block=420&gt;<br />sent DATA &lt;block=421, 512 bytes&gt;<br />received ACK &lt;block=421&gt;<br />sent DATA &lt;block=422, 512 bytes&gt;<br />received ACK &lt;block=422&gt;<br />sent DATA &lt;block=423, 512 bytes&gt;<br />received ACK &lt;block=420&gt;<br />received ACK &lt;block=423&gt;<br />sent DATA &lt;block=424, 512 bytes&gt;<br />received ACK &lt;block=421&gt;<br />discarded 1 packets<br />received ACK &lt;block=422&gt;<br />received ACK &lt;block=423&gt;<br />sent DATA &lt;block=424, 512 bytes&gt;<br />received ACK &lt;block=424&gt;<br />sent DATA &lt;block=425, 512 bytes&gt;<br />received ACK &lt;block=425&gt;<br />sent DATA &lt;block=426, 512 bytes&gt;<br />received ACK &lt;block=426&gt;<br />sent DATA &lt;block=427, 512 bytes&gt;<br />received ACK &lt;block=424&gt;<br />received ACK &lt;block=427&gt;<br />sent DATA &lt;block=428, 512 bytes&gt;<br />received ACK &lt;block=428&gt;<br />sent DATA &lt;block=429, 512 bytes&gt;<br />received ACK &lt;block=425&gt;<br />received ACK &lt;block=426&gt;<br />discarded 4 packets<br />sent DATA &lt;block=429, 512 bytes&gt;<br />sent DATA &lt;block=429, 512 bytes&gt;<br />sent DATA &lt;block=429, 512 bytes&gt;<br />sent DATA &lt;block=429, 512 bytes&gt;<br />received ACK &lt;block=429&gt;<br />sent DATA &lt;block=430, 512 bytes&gt;<br />received ACK &lt;block=430&gt;<br />sent DATA &lt;block=431, 512 bytes&gt;<br />received ACK &lt;block=431&gt;<br />sent DATA &lt;block=432, 512 bytes&gt;<br />received ACK &lt;block=432&gt;<br />sent DATA &lt;block=433, 512 bytes&gt;<br />received ACK &lt;block=430&gt;<br />received ACK &lt;block=433&gt;<br />sent DATA &lt;block=434, 512 bytes&gt;<br />received ACK &lt;block=431&gt;<br />discarded 1 packets<br />received ACK &lt;block=432&gt;<br />received ACK &lt;block=433&gt;<br />sent DATA &lt;block=434, 512 bytes&gt;<br />received ACK &lt;block=434&gt;<br />sent DATA &lt;block=435, 512 bytes&gt;<br />received ACK &lt;block=435&gt;<br />sent DATA &lt;block=436, 512 bytes&gt;<br />received ACK &lt;block=436&gt;<br />sent DATA &lt;block=437, 512 bytes&gt;<br />received ACK &lt;block=434&gt;<br />received ACK &lt;block=437&gt;<br />sent DATA &lt;block=438, 512 bytes&gt;<br />received ACK &lt;block=435&gt;<br />discarded 1 packets<br />received ACK &lt;block=436&gt;<br />received ACK &lt;block=437&gt;<br />sent DATA &lt;block=438, 512 bytes&gt;<br />received ACK &lt;block=438&gt;<br />sent DATA &lt;block=439, 512 bytes&gt;<br />received ACK &lt;block=439&gt;<br />sent DATA &lt;block=440, 512 bytes&gt;<br />received ACK &lt;block=440&gt;<br />sent DATA &lt;block=441, 512 bytes&gt;<br />received ACK &lt;block=438&gt;<br />received ACK &lt;block=441&gt;<br />sent DATA &lt;block=442, 512 bytes&gt;<br />received ACK &lt;block=442&gt;<br />sent DATA &lt;block=443, 512 bytes&gt;<br />received ACK &lt;block=439&gt;<br />received ACK &lt;block=440&gt;<br />discarded 1 packets<br />received ACK &lt;block=441&gt;<br />received ACK &lt;block=442&gt;<br />sent DATA &lt;block=443, 512 bytes&gt;<br />received ACK &lt;block=443&gt;<br />sent DATA &lt;block=444, 512 bytes&gt;<br />received ACK &lt;block=444&gt;<br />sent DATA &lt;block=445, 512 bytes&gt;<br />received ACK &lt;block=445&gt;<br />sent DATA &lt;block=446, 512 bytes&gt;<br />received ACK &lt;block=443&gt;<br />received ACK &lt;block=446&gt;<br />sent DATA &lt;block=447, 512 bytes&gt;<br />received ACK &lt;block=447&gt;<br />sent DATA &lt;block=448, 512 bytes&gt;<br />received ACK &lt;block=444&gt;<br />received ACK &lt;block=445&gt;<br />received ACK &lt;block=448&gt;<br />sent DATA &lt;block=449, 512 bytes&gt;<br />received ACK &lt;block=449&gt;<br />sent DATA &lt;block=450, 512 bytes&gt;<br />received ACK &lt;block=446&gt;<br />received ACK &lt;block=450&gt;<br />sent DATA &lt;block=451, 512 bytes&gt;<br />received ACK &lt;block=447&gt;<br />received ACK &lt;block=451&gt;<br />sent DATA &lt;block=452, 512 bytes&gt;<br />received ACK &lt;block=452&gt;<br />sent DATA &lt;block=453, 512 bytes&gt;<br />received ACK &lt;block=448&gt;<br />received ACK &lt;block=453&gt;<br />sent DATA &lt;block=454, 512 bytes&gt;<br />received ACK &lt;block=449&gt;<br />received ACK &lt;block=454&gt;<br />sent DATA &lt;block=455, 512 bytes&gt;<br />received ACK &lt;block=450&gt;<br />received ACK &lt;block=455&gt;<br />sent DATA &lt;block=456, 512 bytes&gt;<br />received ACK &lt;block=451&gt;<br />received ACK &lt;block=456&gt;<br />sent DATA &lt;block=457, 512 bytes&gt;<br />received ACK &lt;block=452&gt;<br />received ACK &lt;block=457&gt;<br />sent DATA &lt;block=458, 512 bytes&gt;<br />received ACK &lt;block=453&gt;<br />received ACK &lt;block=458&gt;<br />sent DATA &lt;block=459, 512 bytes&gt;<br />received ACK &lt;block=454&gt;<br />received ACK &lt;block=459&gt;<br />sent DATA &lt;block=460, 512 bytes&gt;<br />received ACK &lt;block=460&gt;<br />sent DATA &lt;block=461, 512 bytes&gt;<br />received ACK &lt;block=455&gt;<br />discarded 1 packets<br />received ACK &lt;block=457&gt;<br />discarded 1 packets<br />received ACK &lt;block=458&gt;<br />received ACK &lt;block=459&gt;<br />discarded 2 packets<br />sent DATA &lt;block=461, 512 bytes&gt;<br />sent DATA &lt;block=461, 512 bytes&gt;<br />sent DATA &lt;block=461, 512 bytes&gt;<br />sent DATA &lt;block=461, 512 bytes&gt;<br />received ACK &lt;block=461&gt;<br />sent DATA &lt;block=462, 512 bytes&gt;<br />received ACK &lt;block=462&gt;<br />sent DATA &lt;block=463, 512 bytes&gt;<br />received ACK &lt;block=463&gt;<br />sent DATA &lt;block=464, 512 bytes&gt;<br />received ACK &lt;block=464&gt;<br />sent DATA &lt;block=465, 512 bytes&gt;<br />received ACK &lt;block=462&gt;<br />received ACK &lt;block=465&gt;<br />sent DATA &lt;block=466, 512 bytes&gt;<br />received ACK &lt;block=466&gt;<br />sent DATA &lt;block=467, 512 bytes&gt;<br />received ACK &lt;block=463&gt;<br />received ACK &lt;block=464&gt;<br />discarded 1 packets<br />received ACK &lt;block=465&gt;<br />discarded 1 packets<br />received ACK &lt;block=467&gt;<br />sent DATA &lt;block=468, 512 bytes&gt;<br />received ACK &lt;block=468&gt;<br />sent DATA &lt;block=469, 512 bytes&gt;<br />received ACK &lt;block=469&gt;<br />sent DATA &lt;block=470, 512 bytes&gt;<br />received ACK &lt;block=468&gt;<br />discarded 1 packets<br />received ACK &lt;block=469&gt;<br />sent DATA &lt;block=470, 512 bytes&gt;<br />received ACK &lt;block=470&gt;<br />sent DATA &lt;block=471, 512 bytes&gt;<br />received ACK &lt;block=471&gt;<br />sent DATA &lt;block=472, 512 bytes&gt;<br />received ACK &lt;block=472&gt;<br />sent DATA &lt;block=473, 512 bytes&gt;<br />received ACK &lt;block=470&gt;<br />received ACK &lt;block=473&gt;<br />sent DATA &lt;block=474, 512 bytes&gt;<br />received ACK &lt;block=471&gt;<br />discarded 1 packets<br />received ACK &lt;block=472&gt;<br />received ACK &lt;block=473&gt;<br />sent DATA &lt;block=474, 512 bytes&gt;<br />received ACK &lt;block=474&gt;<br />sent DATA &lt;block=475, 512 bytes&gt;<br />received ACK &lt;block=475&gt;<br />sent DATA &lt;block=476, 512 bytes&gt;<br />received ACK &lt;block=476&gt;<br />sent DATA &lt;block=477, 512 bytes&gt;<br />received ACK &lt;block=474&gt;<br />received ACK &lt;block=477&gt;<br />sent DATA &lt;block=478, 512 bytes&gt;<br />received ACK &lt;block=475&gt;<br />received ACK &lt;block=478&gt;<br />sent DATA &lt;block=479, 512 bytes&gt;<br />received ACK &lt;block=479&gt;<br />sent DATA &lt;block=480, 512 bytes&gt;<br />received ACK &lt;block=476&gt;<br />received ACK &lt;block=480&gt;<br />sent DATA &lt;block=481, 512 bytes&gt;<br />received ACK &lt;block=477&gt;<br />received ACK &lt;block=481&gt;<br />sent DATA &lt;block=482, 512 bytes&gt;<br />received ACK &lt;block=482&gt;<br />sent DATA &lt;block=483, 512 bytes&gt;<br />received ACK &lt;block=478&gt;<br />received ACK &lt;block=479&gt;<br />discarded 1 packets<br />received ACK &lt;block=480&gt;<br />received ACK &lt;block=481&gt;<br />received ACK &lt;block=482&gt;<br />sent DATA &lt;block=483, 512 bytes&gt;<br />received ACK &lt;block=483&gt;<br />sent DATA &lt;block=484, 512 bytes&gt;<br />received ACK &lt;block=484&gt;<br />sent DATA &lt;block=485, 512 bytes&gt;<br />received ACK &lt;block=483&gt;<br />received ACK &lt;block=485&gt;<br />sent DATA &lt;block=486, 512 bytes&gt;<br />received ACK &lt;block=486&gt;<br />sent DATA &lt;block=487, 512 bytes&gt;<br />received ACK &lt;block=484&gt;<br />received ACK &lt;block=487&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />received ACK &lt;block=485&gt;<br />discarded 1 packets<br />received ACK &lt;block=486&gt;<br />received ACK &lt;block=487&gt;<br />discarded 1 packets<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />sent DATA &lt;block=488, 512 bytes&gt;<br />Transfer timed out.</p><p>tftp&gt; </p><br /><p>===</p><p>Now I still have a red Diag light blinking. </p><p>Any thoughts would be appreciated, also which firmware I should try to flash to this unit at this stage. </p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116719">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">zyamb</div>
					<div class="post-datetime">
						8 Sep 2010, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>Update:</p><p>I just tried the standard openwrt image, openwrt-ar71xx-wzr-hp-g300nh-jffs2-tftp.bin. </p><p>TFTP was again &quot;successful&quot; in sending files until the timeout...</p><p>It got to:</p><p>sent DATA &lt;block=2406, 512 bytes&gt;</p><p>Seems like the entire file is not transferred quickly enough.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116727">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">zyamb</div>
					<div class="post-datetime">
						8 Sep 2010, 23:26					</div>
				</div>
				<div class="post-content content">
					<p>I now tried tftp&#039;ing the official buffalo 1.74 firmware as described on this page, and the file transferred over correctly with tftp, all 21541116 bytes in 50.9 seconds (phew!). The router did not reboot though, I left it about 20 minutes. Rebooting it manually does nothing either, same old blinking Red light.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116739">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">HollowKnight</div>
					<div class="post-datetime">
						9 Sep 2010, 06:22					</div>
				</div>
				<div class="post-content content">
					<p>Zyamb</p><p>TFTP and WebGUi are the best way for flash fw. mtd command is tricky and we should have enough space on the router to contain fw file, enable telnet or sshd, maybe external usb... so better avoid it.</p><p>1. If you can still on with openwrt WebGUI:</p><p>Use file wzr-hp-g300nh-dd-wrt-webupgrade-MULTI.bin, strip first 28 bytes<br />dd bs=1 skip-28 if=wzr-hp-g300nh-dd-wrt-webupgrade-MULTI.bin of=myfirmware.bin</p><p>Use open WebGUI to flash myfirmware.bin. I&#039;ve reverted back to dd-wrt by this way. It took 20 mins to fully reflash and boot.</p><p>2. TFTP<br />Use openwrt tftp images. Those files have 32 bytes header.</p><p>Actual flash starts at 0x20 offset<br />0020&nbsp; <strong>27 05 19 56 8C</strong> 8E 20 49&nbsp; 4C 70 96 52 00 0D 86 F1&nbsp; -&#039;..V.. ILp.R....-<br />0030&nbsp; 80 06 00 00 80 06 00 00&nbsp; 13 72 3C FB 05 05 02 03&nbsp; -.........r&lt;.....-<br />0040&nbsp; 4D 49 50 53 20 4F 70 65&nbsp; 6E 57 72 74 20 4C 69 6E&nbsp; -MIPS OpenWrt Lin-<br />0050&nbsp; 75 78 2D 32 2E 36 2E 33&nbsp; 32 2E 31 36 00 00 00 00&nbsp; -ux-2.6.32.16....-</p><p>Now I can back and forth any firmware I want, just remember<br />openwrt WebGUI accepts RAW fw image, that starts with above bolded 5 bytes<br />openwrt tftp require a 28-bytes header. Speed some time to look at those files and you can modify headers as your needs.</p><p>The best way to start new upgrade path is back to factory firmware 1.60 first. Then flash it with buffalo-to-ddwrt followed by dd-wrt-webupgrade.</p><p>Hope it helps</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117268">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">zyamb</div>
					<div class="post-datetime">
						16 Sep 2010, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much HollowKnight. I didn&#039;t reply back in a while because it took some time to figure out what was wrong. In the end I added a new 5-port 10/100 switch which allowed the tftp&#039;d images to fully transfer to the router. I started fresh with a new buffalo firmware and from there flashed openwrt without a problem! Phew! Seems like this router is very picky on which router/switches/network ports are used. For the record I just used a plain D-Link DSS5+. </p><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118761">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						9 Oct 2010, 20:56					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://scarygliders.net/?p=13">Scary Gliders » Hacking around the Japanese Buffalo WZR-HP-G300NH</a><br /></p><div class="quotebox"><blockquote><p>Zgembo posted the following on February 23, 2010 at 11:41 pm.</p><p>hello there,</p><p>thanks for the guide on this, it may come handy… btw, have you tried changing “region=JP” parameter and checking if it would accept stock english firmware?</p></blockquote></div><div class="quotebox"><blockquote><p>Zgembo posted the following on October 2, 2010 at 10:17 pm.</p><p>an update:</p><p>I got myself Japanese WZR-HP-G300NH, and ran into same problems. Messing a bit with the u-boot console and comparing boot variables with non-Japanese WZR-HP-G300NH, i found out an interesting setting, simply typing:</p><p>ar7100&gt; setenv accept_open_rt_fmt 1<br />ar7100&gt; saveenv<br />Will enable flashing any compatible firmware via TFTP! Tested with OpenWRT 10.03</p></blockquote></div><p><a href="https://forum.openwrt.org/viewtopic.php?id=26750">OpenWrt / WZR-HP-G301NH Bricked?</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118947">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						12 Oct 2010, 21:10					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.dd-wrt.com/wiki/index.php/Buffalo_WZR-HP-G300NH">Buffalo WZR-HP-G300NH - DD-WRT Wiki</a><br /></p><div class="quotebox"><blockquote><p>To revert from DD-WRT back to stock firmware, go to <a href="http://www.dd-wrt.com/phpBB2/download.php?id=13418">http://www.dd-wrt.com/phpBB2/download.php?id=13418</a>, and download the file. Flash using upgrade on the DD-WRT web GUI. This is the 1.6 stock firmware. You can then upgrade to the latest Buffalo firmware.</p></blockquote></div><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=410298#410298">DD-WRT Forum :: View topic - Japanese WZR-HP-G300N will not install dd-wrt.</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119946">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						28 Oct 2010, 23:13					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=479179#479179">DD-WRT Forum :: View topic - WZR-HP-G300NH support</a><br /></p><div class="quotebox"><cite>LOM wrote:</cite><blockquote><p>Sorry, I don&#039;t know what header type OpenWRT uses for their gui update, I only knew that they were using Buffalos Open Format for tftp and assumed that they had kept that also for sys upgrade.</p><p>If the sysupgrade file start with 0x27051956 then it is without firmware header in which case you can remove the 28 dd-wrt firmware header bytes so it starts with the same pattern.</p></blockquote></div><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=479246#479246">DD-WRT Forum :: View topic - WZR-HP-G300NH support</a><br /></p><div class="quotebox"><cite>LOM wrote:</cite><blockquote><p>Scary gliders guide was intended for bypassing his JP region restriction but can also be used for a normal update. It is based on on loading a header-less image (one that starts with the U-Boot magic 0x27051956) to ram and then writing it to flash.<br />I can see no reason for why you can&#039;t get that working with a dd-wrt webupgrade file with the HDR0 part removed.</p><p>The normal way of doing the tftp flashing is to send an encrypted file (Buffalo stock firmware or buffalo_to_dd-wrt) when the router starts up.</p><p>You can also break into the cfe from a serial terminal and start the transfer with the ut_fw command.<br />ut_fw expects the file name to be firmware.bin.</p></blockquote></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>