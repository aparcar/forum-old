<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 2.4G 5G dual band ssid at the same time</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p263493">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alzhao</div>
					<div class="post-datetime">
						30 Jan 2015, 12:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>I am working on a board similar to TP-Link 3500, it is 2.4G 300M and 5G 300M.<br />The problem is how can I create two ssid: openwrt-2.4G and openwrt-5G, which work on 2.4G and 5G respectively.<br />I checked the config seems this is impossible??</p><p>/etc/config/wireless<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/config/wireless 
config wifi-device  radio0
        option type     mac80211
        option channel  11
        option hwmode   11g
        option path     &#039;platform/ar934x_wmac&#039;
        option htmode   HT20

config wifi-iface
        option device   radio0
        option network  lan
        option mode     ap
        option ssid     OpenWrt
        option encryption none</code></pre></div><p>There is only radio0, and it can be configure at 2.4G or 5G, but not the same time.</p><p>output of:<br />iw phy0 info<br /></p><div class="codebox"><pre><code>Wiphy phy0
        max # scan SSIDs: 4
        max scan IEs length: 2257 bytes
        Retry short limit: 7
        Retry long limit: 4
        Coverage class: 0 (up to 0m)
        Device supports AP-side u-APSD.
        Device supports T-DLS.
        Available Antennas: TX 0x3 RX 0x3
        Configured Antennas: TX 0x3 RX 0x3
        Supported interface modes:
                 * IBSS
                 * managed
                 * AP
                 * AP/VLAN
                 * WDS
                 * monitor
                 * mesh point
                 * P2P-client
                 * P2P-GO
        Band 1:
                Capabilities: 0x11ef
                        RX LDPC
                        HT20/HT40
                        SM Power Save disabled
                        RX HT20 SGI
                        RX HT40 SGI
                        TX STBC
                        RX STBC 1-stream
                        Max AMSDU length: 3839 bytes
                        DSSS/CCK HT40
                Maximum RX AMPDU length 65535 bytes (exponent: 0x003)
                Minimum RX AMPDU time spacing: 8 usec (0x06)
                HT TX/RX MCS rate indexes supported: 0-15
                Frequencies:
                        * 2412 MHz [1] (20.0 dBm)
                        * 2417 MHz [2] (20.0 dBm)
                        * 2422 MHz [3] (20.0 dBm)
                        * 2427 MHz [4] (20.0 dBm)
                        * 2432 MHz [5] (20.0 dBm)
                        * 2437 MHz [6] (20.0 dBm)
                        * 2442 MHz [7] (20.0 dBm)
                        * 2447 MHz [8] (20.0 dBm)
                        * 2452 MHz [9] (20.0 dBm)
                        * 2457 MHz [10] (20.0 dBm)
                        * 2462 MHz [11] (20.0 dBm)
                        * 2467 MHz [12] (disabled)
                        * 2472 MHz [13] (disabled)
                        * 2484 MHz [14] (disabled)
        Band 2:
                Capabilities: 0x11ef
                        RX LDPC
                        HT20/HT40
                        SM Power Save disabled
                        RX HT20 SGI
                        RX HT40 SGI
                        TX STBC
                        RX STBC 1-stream
                        Max AMSDU length: 3839 bytes
                        DSSS/CCK HT40
                Maximum RX AMPDU length 65535 bytes (exponent: 0x003)
                Minimum RX AMPDU time spacing: 8 usec (0x06)
                HT TX/RX MCS rate indexes supported: 0-15
                Frequencies:
                        * 5180 MHz [36] (17.0 dBm)
                        * 5200 MHz [40] (17.0 dBm)
                        * 5220 MHz [44] (17.0 dBm)
                        * 5240 MHz [48] (17.0 dBm)
                        * 5260 MHz [52] (23.0 dBm) (no IR, radar detection)
                          DFS state: usable (for 733 sec)
                          DFS CAC time: 60000 ms
                        * 5280 MHz [56] (23.0 dBm) (no IR, radar detection)
                          DFS state: usable (for 733 sec)
                          DFS CAC time: 60000 ms
                        * 5300 MHz [60] (23.0 dBm) (no IR, radar detection)
                          DFS state: usable (for 733 sec)
                          DFS CAC time: 60000 ms
                        * 5320 MHz [64] (23.0 dBm) (no IR, radar detection)
                          DFS state: usable (for 733 sec)
                          DFS CAC time: 60000 ms
                        * 5500 MHz [100] (disabled)
                        * 5520 MHz [104] (disabled)
                        * 5540 MHz [108] (disabled)
                        * 5560 MHz [112] (disabled)
                        * 5580 MHz [116] (disabled)
                        * 5600 MHz [120] (disabled)
                        * 5620 MHz [124] (disabled)
                        * 5640 MHz [128] (disabled)
                        * 5660 MHz [132] (disabled)
                        * 5680 MHz [136] (disabled)
                        * 5700 MHz [140] (disabled)
                        * 5745 MHz [149] (30.0 dBm)
                        * 5765 MHz [153] (30.0 dBm)
                        * 5785 MHz [157] (30.0 dBm)
                        * 5805 MHz [161] (30.0 dBm)
                        * 5825 MHz [165] (30.0 dBm)
        valid interface combinations:
                 * #{ managed, WDS } &lt;= 2048, #{ AP, mesh point } &lt;= 8, #{ P2P-client, P2P-GO } &lt;= 1, #{ IBSS } &lt;= 1,
                   total &lt;= 2048, #channels &lt;= 1, STA/AP BI must match
        HT Capability overrides:
                 * MCS: ff ff ff ff ff ff ff ff ff ff
                 * maximum A-MSDU length
                 * supported channel width
                 * short GI for 40 MHz
                 * max A-MPDU length exponent
                 * min MPDU start spacing</code></pre></div><p>This is no Radio1 and phy1, phy0 support both 2.4G and 5G.</p><p>But tp-link 3500 do create one 2.4G ssid and one 5G ssid at the same time. Does is the limitation of ath9k driver or there is any configuration I can do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263536">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						30 Jan 2015, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>The tp-link wdr3500 has 2 radios and because of that can support 2.4G and 5G at the same time.</p><p>The older WR2543ND only had 1 radio that was switchable between 5G and 2.4G.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263545">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						30 Jan 2015, 18:47					</div>
				</div>
				<div class="post-content content">
					<p>Check your kernel log.&nbsp; It appears that only the first wifi (SoC) is being initialized.&nbsp; The second radio is an AR9582 chip on the PCI bus.&nbsp; Both are selectable dual band (though the RF hardware between the 9582 and the antennas may permit only 5 GHz).&nbsp; Simultaneous dual band requires using the two radios separately.&nbsp; You will have two phy&#039;s if everything is working.</p><p>Often the issue is not being able to load the chip&#039;s ART (&quot;eeprom&quot;) data out of the flash, because the manufacturer did not put it where OpenWRT is expecting to find it.&nbsp; This will show up in the kernel log.</p>											<p class="post-edited">(Last edited by <strong>mk24</strong> on 30 Jan 2015, 18:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263548">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						30 Jan 2015, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>well he did not say what device he was having - only </p><p>&quot;I am working on a board similar to TP-Link 3500&quot;</p><p>so I pointed out the subtle differences - some vendors might market &quot;dual-band&quot; as 1 radio switchable between 2.4G and 5G in contrast to &quot;simultan dual-band&quot; - there are certain &quot;spec&quot; tricks (like 80211N not having 5G) that can confuse ppl</p><p>pciutils, usbutils are available - adding debug settings to driver or kernel should be no problem</p>											<p class="post-edited">(Last edited by <strong>zloop</strong> on 30 Jan 2015, 19:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263549">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						30 Jan 2015, 19:03					</div>
				</div>
				<div class="post-content content">
					<p>Good point there-- though OP did say that stock firmware does simultaneous dual band.&nbsp; Opening the case to confirm the hardware is indeed the same two chips as WDR3500 could save a lot of time chasing the wrong issue.</p>											<p class="post-edited">(Last edited by <strong>mk24</strong> on 30 Jan 2015, 19:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263593">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">alzhao</div>
					<div class="post-datetime">
						31 Jan 2015, 05:53					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much! Now I understand, It only has 1 radio. So it only works at 2.4G or 5G, not simultaneously.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>