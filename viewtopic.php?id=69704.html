<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Imagebuilder DIR-860L B1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p351070">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Deus3X</div>
					<div class="post-datetime">
						4 Feb 2017, 14:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi, i&#039;d like to build with image builder an image for my DIR-860L.<br />I was using image builder for archer c7.<br />I was able to find in the image builder directory the tp-link profile..<br />Now for the D-link, on ramips/mt7621/ target directory there is not a pre-build profile.<br />Is possible to make a profile for my router?<br />i&#039;d like to add in the image some packages. <br />How can i do it?<br />Tnx for help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351084">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						4 Feb 2017, 16:16					</div>
				</div>
				<div class="post-content content">
					<p>You need to download and use the ramips image builder. Archer C7 is Atheros.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351085">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Deus3X</div>
					<div class="post-datetime">
						4 Feb 2017, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>I know.<br />I downloaded ramips image builder.<br />There is no profile for dlink</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351090">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">wigyori</div>
					<div class="post-datetime">
						4 Feb 2017, 17:37					</div>
				</div>
				<div class="post-content content">
					<p>Check out trunk, and use the ramips / mt7621 target, DIR-860L is supported by that.</p><p>Regards,<br />-w-</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351101">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Deus3X</div>
					<div class="post-datetime">
						4 Feb 2017, 19:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wigyori wrote:</cite><blockquote><p>Check out trunk, and use the ramips / mt7621 target, DIR-860L is supported by that.</p><p>Regards,<br />-w-</p></blockquote></div><p>Tnx!!<br />Can i copy the target prifile file from trunk and use it on CC?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351109">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Deus3X</div>
					<div class="post-datetime">
						4 Feb 2017, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>i downloaded the trunk image builder.<br />Also on DD version there is not any pre-build profile for drink dir 860L.<br />Any suggestion??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352386">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">kyzhk</div>
					<div class="post-datetime">
						19 Feb 2017, 21:33					</div>
				</div>
				<div class="post-content content">
					<p>you can find the profile in</p><p>target/linux/ramips/image/mt7621.mk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352389">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Deus3X</div>
					<div class="post-datetime">
						19 Feb 2017, 22:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kyzhk wrote:</cite><blockquote><p>you can find the profile in</p><p>target/linux/ramips/image/mt7621.mk</p></blockquote></div><p>tnx for your answer.<br />i founded the profile file and i added the packages...<br />anyway the image is generated without the extra packages... how is possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352391">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">kyzhk</div>
					<div class="post-datetime">
						19 Feb 2017, 23:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Deus3X wrote:</cite><blockquote><div class="quotebox"><cite>kyzhk wrote:</cite><blockquote><p>you can find the profile in</p><p>target/linux/ramips/image/mt7621.mk</p></blockquote></div><p>tnx for your answer.<br />i founded the profile file and i added the packages...<br />anyway the image is generated without the extra packages... how is possible?</p></blockquote></div><p>This is probably not the correct way to do this but the packages option in commandline / profile wasn&#039;t working for me, and I only tried this on a wnr612v2 which needs a custom image to fit sqm-scripts on the 4mb chip.</p><p>I simply add the packages in target.mk DEFAULT_PACKAGES</p><p>in your case it should be source/target/linux/ramips/mt7621/target.mk.</p><p>You can check the build log to see if the specified package and dependencies got added.</p>											<p class="post-edited">(Last edited by <strong>kyzhk</strong> on 19 Feb 2017, 23:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352392">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Deus3X</div>
					<div class="post-datetime">
						19 Feb 2017, 23:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kyzhk wrote:</cite><blockquote><div class="quotebox"><cite>Deus3X wrote:</cite><blockquote><div class="quotebox"><cite>kyzhk wrote:</cite><blockquote><p>you can find the profile in</p><p>target/linux/ramips/image/mt7621.mk</p></blockquote></div><p>tnx for your answer.<br />i founded the profile file and i added the packages...<br />anyway the image is generated without the extra packages... how is possible?</p></blockquote></div><p>This is probably not the correct way to do this but the packages option in commandline / profile wasn&#039;t working for me, and I only tried this on a wnr612v2 which needs a custom image to fit sqm-scripts on the 4mb chip.</p><p>I simply add the packages in target.mk DEFAULT_PACKAGES</p><p>in your case it should be source/target/linux/ramips/mt7621/target.mk.</p><p>You can check the build log to see if the specified package and dependencies got added.</p></blockquote></div><p>also on target.mk is not working...<br />on BB i was able to edit profile on /target/linux/ramips/mt7621/profiles<br />now i can&#039;t find the file were image builder get default packages...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352393">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">kyzhk</div>
					<div class="post-datetime">
						19 Feb 2017, 23:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Deus3X wrote:</cite><blockquote><div class="quotebox"><cite>kyzhk wrote:</cite><blockquote><div class="quotebox"><cite>Deus3X wrote:</cite><blockquote><p>tnx for your answer.<br />i founded the profile file and i added the packages...<br />anyway the image is generated without the extra packages... how is possible?</p></blockquote></div><p>This is probably not the correct way to do this but the packages option in commandline / profile wasn&#039;t working for me, and I only tried this on a wnr612v2 which needs a custom image to fit sqm-scripts on the 4mb chip.</p><p>I simply add the packages in target.mk DEFAULT_PACKAGES</p><p>in your case it should be source/target/linux/ramips/mt7621/target.mk.</p><p>You can check the build log to see if the specified package and dependencies got added.</p></blockquote></div><p>also on target.mk is not working...<br />on BB i was able to edit profile on /target/linux/ramips/mt7621/profiles<br />now i can&#039;t find the file were image builder get default packages...</p></blockquote></div><p>Then I have no idea. I just custom built a lede image for wnr612v2 two days ago with sqm-scripts and the dependencies added to squashfs and removed a lot other packages.</p>											<p class="post-edited">(Last edited by <strong>kyzhk</strong> on 19 Feb 2017, 23:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352395">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">kyzhk</div>
					<div class="post-datetime">
						19 Feb 2017, 23:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Deus3X wrote:</cite><blockquote><div class="quotebox"><cite>kyzhk wrote:</cite><blockquote><div class="quotebox"><cite>Deus3X wrote:</cite><blockquote><p>tnx for your answer.<br />i founded the profile file and i added the packages...<br />anyway the image is generated without the extra packages... how is possible?</p></blockquote></div><p>This is probably not the correct way to do this but the packages option in commandline / profile wasn&#039;t working for me, and I only tried this on a wnr612v2 which needs a custom image to fit sqm-scripts on the 4mb chip.</p><p>I simply add the packages in target.mk DEFAULT_PACKAGES</p><p>in your case it should be source/target/linux/ramips/mt7621/target.mk.</p><p>You can check the build log to see if the specified package and dependencies got added.</p></blockquote></div><p>also on target.mk is not working...<br />on BB i was able to edit profile on /target/linux/ramips/mt7621/profiles<br />now i can&#039;t find the file were image builder get default packages...</p></blockquote></div><p>I used lede-imagebuilder-17.01.0-rc2-ramips-mt7621.Linux-x86_64 for this:<br />I edited this file target/linux/ramips/mt7621/target.mk and added sqm-scripts to default packages</p><p>DEFAULT_PACKAGES += kmod-mt76 sqm-scripts</p><p>and built with <br />make image profile=dir-860l-b1</p><p>I can confirm from the build log that sqm-scripts and the dependencies got added properly to squashfs.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>