<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can&#039;t compile simple source with asm/io.h</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50594">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xpeta</div>
					<div class="post-datetime">
						16 Jun 2007, 00:46					</div>
				</div>
				<div class="post-content content">
					<p>Hello</p><p>I&#039;m pretty lost with simple compilation. I want to write to parellel port of my device but can not use outb and inb macros. I isolated my problem to very simple program.<br />Here&#039;s what I did:<br />1) downloaded SDK to Debian Linux<br />2) used stupid program:</p><div class="codebox"><pre><code>#include &lt;asm/io.h&gt;

int main(void)
   {
   return (0);
   }</code></pre></div><p>3) compiled with:</p><p>~/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel$ bin/mipsel-linux-gcc test7.c</p><p>4) got always long list of errors starting with:</p><div class="codebox"><pre><code>In file included from /home/petr/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/../lib/gcc/mipsel-linux-uclibc/3.4.4/../../../../mipsel-linux-uclibc/sys-include/linux/sched.h:14,
                 from /home/petr/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/../lib/gcc/mipsel-linux-uclibc/3.4.4/../../../../mipsel-linux-uclibc/sys-include/linux/mm.h:4,
                 from /home/petr/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/../lib/gcc/mipsel-linux-uclibc/3.4.4/../../../../mipsel-linux-uclibc/sys-include/linux/pagemap.h:10,
                 from /home/petr/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/../lib/gcc/mipsel-linux-uclibc/3.4.4/../../../../mipsel-linux-uclibc/sys-include/asm/io.h:15,
                 from test7.c:1:
/home/petr/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/../lib/gcc/mipsel-linux-uclibc/3.4.4/../../../../mipsel-linux-uclibc/sys-include/linux/timex.h:173: error: field `time&#039; has incomplete type</code></pre></div><p>And many different errors.</p><p>So my problem is I can not even include asm/io.h, it always leads to errors.</p><p>I tried to track problematic place in library header files but got lost after a few modifications. Also compiling with -D__KERNEL__ doesn&#039;t help (even if I&#039;m not 100% sure when it should be used). However with this macro defined I got only one error - sys-include/asm/pgtable.h:295:33: asm-generic/pgtable.h: No such file or directory</p><p>Would building complete package help me? But this example seems to me easy and should work even for simple compilation.</p><p>Thx 4 any help.<br />Petr</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>