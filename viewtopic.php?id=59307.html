<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> IPv6 guest wifi with dynamic prefix</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p289841">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">CSG</div>
					<div class="post-datetime">
						31 Aug 2015, 13:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I am trying to extend my OpenWRT AP to support IPv6 on internal and guest network. The gateway router from my ISP gets a different /56 IPv6-Prefix every day.</p><p>My internal subnet runs at subnet &lt;IPv6-Prefix&gt;:0::/64. The gateway router runs a DHCPv6-server to ensure that.<br />My AP router running OpenWRT requests a /64 subnet via DHCPv6-PD. Wifi clients at the OpenWRT router should use the /64 subnet the router was assigned.</p><p>Now, how to protect my internal network? I would like to restrict traffic flowing from the internal subnet to the guest subnet and vice versa.</p><p>I already did some research. Some people are using DNS to solve this problem, but ip6tables only resolves a domain at the time the rule is set up. On some other website there was a hint to use ULA addresses. Well ok, but client on the guest network could still access my internal network&nbsp; via the public IPv6-subnet, couldn&#039;t they?<br />Currently I set up IPv4-filtering to separate subnets, which works perfectly because of static addresses.</p><p>I have several problems with using ip6tables:<br />-The IPv6 prefix assigned from my ISP is unknown<br />-The IPv6 guest subnet is unknown (because requested via DHCPv6-PD)</p><p>What to do now? :-) Is there an elegant way to solve this problem?<br />&nbsp; <br />Thanks for your help.</p>											<p class="post-edited">(Last edited by <strong>CSG</strong> on 31 Aug 2015, 13:38)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>