<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> building errors with backfire for target IXP4xx</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p157050">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cave</div>
					<div class="post-datetime">
						11 Feb 2012, 18:43					</div>
				</div>
				<div class="post-content content">
					<p>hi all</p><p>I am getting build errors when trying to build an image for Freecom FSG-3. <br />I don&#039;t know my mistake or there appears a bug. </p><br /><p>i tried building with trunk and it worked well.&nbsp; but there are other problems after installing openwrt. </p><br /><p>so I want to build an image from backfire 10.03.1 instead of trunk, but there are build errors. libgmp configure!??? </p><p>i made a clean fresh install to make it reproducible </p><p>svn checkout svn://svn.openwrt.org/openwrt/branches/backfire<br />make defconfig<br />make prereq<br />make menuconfig</p><p>Target System (Intel IXP4xx)<br />Subtarget (Internal Hard-Disk)<br />Target Profile (Freecom FSG-3)<br />Target Image (tgz)</p><p>the other configurations are default. </p><p>and then <br />make</p><div class="codebox"><pre><code>cave@cave:~/openwrt/backfire&gt; make
++ mkdir -p /home/cave/openwrt/backfire/staging_dir/toolchain-armeb_v5te_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi
++ cd /home/cave/openwrt/backfire/staging_dir/toolchain-armeb_v5te_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi
++ mkdir -p stamp lib usr/include usr/lib
make[4]: Entering directory `/home/cave/openwrt/backfire/target/linux&#039;
make[5]: Entering directory `/home/cave/openwrt/backfire/target/linux/ixp4xx&#039;
make[6]: Entering directory `/home/cave/openwrt/backfire/target/linux/ixp4xx/image&#039;
make[6]: Leaving directory `/home/cave/openwrt/backfire/target/linux/ixp4xx/image&#039;
make[5]: Leaving directory `/home/cave/openwrt/backfire/target/linux/ixp4xx&#039;
make[4]: Leaving directory `/home/cave/openwrt/backfire/target/linux&#039;
 make[1] world
 make[2] tools/install
 make[3] -C tools/gmp compile
 make[3] -C tools/gmp install
 make[3] -C tools/mpfr compile
make -r world: build failed. Please re-run make with V=99 to see what&#039;s going on
make: *** [world] Fehler 1</code></pre></div><p>with V=99<br /></p><div class="codebox"><pre><code>cave@cave:~/openwrt/backfire&gt; make V=99
make[1]: Entering directory `/home/cave/openwrt/backfire&#039;
make[2]: Entering directory `/home/cave/openwrt/backfire&#039;
++ mkdir -p /home/cave/openwrt/backfire/staging_dir/target-armeb_v5te_uClibc-0.9.30.1_eabi
++ cd /home/cave/openwrt/backfire/staging_dir/target-armeb_v5te_uClibc-0.9.30.1_eabi
++ mkdir -p bin lib include stamp
mkdir -p /home/cave/openwrt/backfire/build_dir/target-armeb_v5te_uClibc-0.9.30.1_eabi/stamp
touch /home/cave/openwrt/backfire/staging_dir/target-armeb_v5te_uClibc-0.9.30.1_eabi/.prepared
++ mkdir -p /home/cave/openwrt/backfire/staging_dir/host
++ cd /home/cave/openwrt/backfire/staging_dir/host
++ mkdir -p bin lib include stamp
mkdir -p /home/cave/openwrt/backfire/build_dir/host/stamp
install -m0644 /home/cave/openwrt/backfire/tools/include/*.h /home/cave/openwrt/backfire/staging_dir/host/include/
touch /home/cave/openwrt/backfire/staging_dir/host/.prepared
make[3]: Entering directory `/home/cave/openwrt/backfire/tools/gmp&#039;
make[3]: Leaving directory `/home/cave/openwrt/backfire/tools/gmp&#039;
make[3]: Entering directory `/home/cave/openwrt/backfire/tools/gmp&#039;
make[3]: Leaving directory `/home/cave/openwrt/backfire/tools/gmp&#039;
make[3]: Entering directory `/home/cave/openwrt/backfire/tools/mpfr&#039;
(cd /home/cave/openwrt/backfire/build_dir/host/mpfr-2.4.1/; if [ -x configure ]; then cp -fpR /home/cave/openwrt/backfire/scripts/config.{guess,sub} /home/cave/openwrt/backfire/build_dir/host/mpfr-2.4.1// &amp;&amp;  ./configure CFLAGS=&quot;-O2 -I/home/cave/openwrt/backfire/staging_dir/host/include&quot; CPPFLAGS=&quot;-O2 -I/home/cave/openwrt/backfire/staging_dir/host/include&quot; LDFLAGS=&quot;-L/home/cave/openwrt/backfire/staging_dir/host/lib&quot; SHELL=&quot;/bin/bash&quot; --target=x86_64-suse-linux --host=x86_64-suse-linux --build=x86_64-suse-linux --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/home/cave/openwrt/backfire/staging_dir/host --exec-prefix=/home/cave/openwrt/backfire/staging_dir/host --sysconfdir=/home/cave/openwrt/backfire/staging_dir/host/etc --localstatedir=/home/cave/openwrt/backfire/staging_dir/host/var --enable-static --disable-shared --with-gmp=/home/cave/openwrt/backfire/staging_dir/host ; fi )
configure: loading site script /usr/share/site/x86_64-unknown-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether to disable maintainer-specific portions of Makefiles... yes
checking build system type... x86_64-suse-linux-gnu
checking host system type... x86_64-suse-linux-gnu
checking for x86_64-suse-linux-gcc... no
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking how to run the C preprocessor... gcc -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for a sed that does not truncate output... /usr/bin/sed
checking for ICC... no
checking whether gcc and cc understand -c and -o together... yes
checking for function prototypes... yes
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for string.h... (cached) yes
checking for an ANSI C-conforming const... yes
checking for working volatile... yes
checking for main in -lm... yes
checking whether time.h and sys/time.h may both be included... yes
checking limits.h usability... yes
checking limits.h presence... yes
checking for limits.h... yes
checking float.h usability... yes
checking float.h presence... yes
checking for float.h... yes
checking for string.h... (cached) yes
checking locale.h usability... yes
checking locale.h presence... yes
checking for locale.h... yes
checking wchar.h usability... yes
checking wchar.h presence... yes
checking for wchar.h... yes
checking stdarg.h usability... yes
checking stdarg.h presence... yes
checking for stdarg.h... yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking sys/fpu.h usability... no
checking sys/fpu.h presence... no
checking for sys/fpu.h... no
checking for stdint.h... (cached) yes
checking for SIZE_MAX... yes
checking how to copy va_list... va_copy
checking for memmove... yes
checking for memset... yes
checking for setlocale... yes
checking for strtol... yes
checking for gettimeofday... yes
checking for long long int... yes
checking for intmax_t... yes
checking for union fpc_csr... no
checking for fesetround... yes
checking for gcc float-conversion bug... no
checking for denormalized numbers... yes
checking if NAN == NAN... no
checking if charset has consecutive values... yes
checking for math/round... yes
checking for math/trunc... yes
checking for math/floor... yes
checking for math/ceil... yes
checking for math/rint... yes
checking for long double... yes
checking format of `long double&#039; floating point... IEEE extended, little endian
checking for gmp.h... yes
checking for a sed that does not truncate output... (cached) /usr/bin/sed
checking for fgrep... /usr/bin/grep -F
checking for ld used by gcc... /usr/x86_64-suse-linux/bin/ld
checking if the linker (/usr/x86_64-suse-linux/bin/ld) is GNU ld... yes
checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B
checking the name lister (/usr/bin/nm -B) interface... BSD nm
checking whether ln -s works... yes
checking the maximum length of command line arguments... 1572864
checking whether the shell understands some XSI constructs... yes
checking whether the shell understands &quot;+=&quot;... yes
checking for /usr/x86_64-suse-linux/bin/ld option to reload object files... -r
checking how to recognize dependent libraries... pass_all
checking for x86_64-suse-linux-ar... no
checking for ar... ar
checking for x86_64-suse-linux-strip... no
checking for strip... strip
checking for x86_64-suse-linux-ranlib... no
checking for ranlib... ranlib
checking command to parse /usr/bin/nm -B output from gcc object... ok
checking for dlfcn.h... yes
checking for x86_64-suse-linux-g++... no
checking for x86_64-suse-linux-c++... no
checking for x86_64-suse-linux-gpp... no
checking for x86_64-suse-linux-aCC... no
checking for x86_64-suse-linux-CC... no
checking for x86_64-suse-linux-cxx... no
checking for x86_64-suse-linux-cc++... no
checking for x86_64-suse-linux-cl.exe... no
checking for x86_64-suse-linux-FCC... no
checking for x86_64-suse-linux-KCC... no
checking for x86_64-suse-linux-RCC... no
checking for x86_64-suse-linux-xlC_r... no
checking for x86_64-suse-linux-xlC... no
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking dependency style of g++... gcc3
checking how to run the C++ preprocessor... g++ -E
checking for x86_64-suse-linux-g77... no
checking for x86_64-suse-linux-xlf... no
checking for x86_64-suse-linux-f77... no
checking for x86_64-suse-linux-frt... no
checking for x86_64-suse-linux-pgf77... no
checking for x86_64-suse-linux-cf77... no
checking for x86_64-suse-linux-fort77... no
checking for x86_64-suse-linux-fl32... no
checking for x86_64-suse-linux-af77... no
checking for x86_64-suse-linux-xlf90... no
checking for x86_64-suse-linux-f90... no
checking for x86_64-suse-linux-pgf90... no
checking for x86_64-suse-linux-pghpf... no
checking for x86_64-suse-linux-epcf90... no
checking for x86_64-suse-linux-gfortran... no
checking for x86_64-suse-linux-g95... no
checking for x86_64-suse-linux-xlf95... no
checking for x86_64-suse-linux-f95... no
checking for x86_64-suse-linux-fort... no
checking for x86_64-suse-linux-ifort... no
checking for x86_64-suse-linux-ifc... no
checking for x86_64-suse-linux-efc... no
checking for x86_64-suse-linux-pgf95... no
checking for x86_64-suse-linux-lf95... no
checking for x86_64-suse-linux-ftn... no
checking for g77... no
checking for xlf... no
checking for f77... no
checking for frt... no
checking for pgf77... no
checking for cf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for xlf90... no
checking for f90... no
checking for pgf90... no
checking for pghpf... no
checking for epcf90... no
checking for gfortran... no
checking for g95... no
checking for xlf95... no
checking for f95... no
checking for fort... no
checking for ifort... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for ftn... no
checking whether we are using the GNU Fortran 77 compiler... no
checking whether  accepts -g... no
checking for objdir... .libs
checking if gcc supports -fno-rtti -fno-exceptions... no
checking for gcc option to produce PIC... -fPIC -DPIC
checking if gcc PIC flag -fPIC -DPIC works... yes
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.o... (cached) yes
checking whether the gcc linker (/usr/x86_64-suse-linux/bin/ld -m elf_x86_64) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... no
checking whether to build static libraries... yes
checking for ld used by g++... /usr/x86_64-suse-linux/bin/ld -m elf_x86_64
checking if the linker (/usr/x86_64-suse-linux/bin/ld -m elf_x86_64) is GNU ld... yes
checking whether the g++ linker (/usr/x86_64-suse-linux/bin/ld -m elf_x86_64) supports shared libraries... yes
checking for g++ option to produce PIC... -fPIC -DPIC
checking if g++ PIC flag -fPIC -DPIC works... yes
checking if g++ static flag -static works... no
checking if g++ supports -c -o file.o... yes
checking if g++ supports -c -o file.o... (cached) yes
checking whether the g++ linker (/usr/x86_64-suse-linux/bin/ld -m elf_x86_64) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether gcc __attribute__ ((mode (XX))) works... yes
checking for recent GMP... yes
checking for gmp internal files... no
checking for working alloca.h... yes
checking for alloca... yes
checking for __gmpz_init in -lgmp... no
configure: error: libgmp not found or uses a different ABI.
Please read the INSTALL file -- see &quot;In case of problem&quot;.
make[3]: *** [/home/cave/openwrt/backfire/build_dir/host/mpfr-2.4.1/.configured] Error 1
make[3]: Leaving directory `/home/cave/openwrt/backfire/tools/mpfr&#039;
make[2]: *** [tools/mpfr/compile] Error 2
make[2]: Leaving directory `/home/cave/openwrt/backfire&#039;
make[1]: *** [/home/cave/openwrt/backfire/staging_dir/target-armeb_v5te_uClibc-0.9.30.1_eabi/stamp/.tools_install_nnynn] Error 2
make[1]: Leaving directory `/home/cave/openwrt/backfire&#039;
make: *** [world] Fehler 2</code></pre></div><p>any ideas or pointers ?</p>											<p class="post-edited">(Last edited by <strong>cave</strong> on 13 Feb 2012, 10:37)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>