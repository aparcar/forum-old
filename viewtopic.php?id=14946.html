<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear DM111P CFE won&#039;t boot an alternate kernel</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p65332">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">eqdar</div>
					<div class="post-datetime">
						18 Mar 2008, 14:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody,</p><p>I&#039;m currently trying to get a Netgear DM111P modem to boot an alternate kernel -- console access is fine,<br />I get to the prompt, but it seems I just can&#039;t boot anything over TFTP.</p><p>With a MIPS32 ELF image:<br />CFE&gt; r 192.168.0.2:/tftpboot/DM111P-vmlinux<br />0x80010000/1469200 *** command status = -17<br />CFE&gt;</p><p>If I try a &quot;raw&quot; image, it seems CFE doesn&#039;t recognize it and tries to decompress it:<br />CFE&gt; r 192.168.0.2:/tftpboot/DM111P-vmlinux.raw<br />Retry loading it as a compressed image.<br />Loading 192.168.0.2:/tftpboot/DM111P-vmlinux.raw ...<br />Finished loading 1618054 bytes<br />Code Address: 0x00000000, Entry Address: 0x00000000<br />Failed on decompression.&nbsp; Corrupted image?<br />*** command status = 1618054<br />CFE&gt;</p><p>I couldn&#039;t find anything on the CFE command status -17 -- any ideas ?</p><p>For reference :<br />CFE version 1.0.37-0.6.8 for BCM96338 (32bit,SP,BE)<br />Build Date: Tue Apr 10 10:08:13 CST 2007 (michaelc)</p><p>Flash Config: CS0(1fc00008,1f),Base(bfc00000),Size(2MB)<br />Ethernet Network Device: Internal PHY</p><p>Board IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 192.168.0.1&nbsp; <br />Host IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 192.168.0.2&nbsp; <br />Gateway IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp; &nbsp;<br />Run from flash/host (f/h)&nbsp; &nbsp; &nbsp; &nbsp;: h&nbsp; <br />Default host run file name&nbsp; &nbsp; &nbsp; : <br />Default host flash file name&nbsp; &nbsp; : bcmModelName_fs_kernel&nbsp; <br />Boot delay (1-9 seconds)&nbsp; &nbsp; &nbsp; &nbsp; : 1&nbsp; <br />Board Id Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: RTA1320&nbsp; <br />Psi size in KB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 24<br />Number of MAC Addresses (1-32)&nbsp; : 1&nbsp; <br />Ethernet MAC Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 00:14:6c:2b:94:31&nbsp; <br />Memory size in MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 8</p><p>CFE&gt; help<br />Available commands:</p><p>w&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Write the whole image start from beginning of the flash<br />e&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Erase [n]vram or [a]ll flash except bootrom<br />r&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Run program from flash image or from host depend on [f/h] flag<br />p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Print boot line and board parameter info<br />c&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Change booline parameters<br />f&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Write image to the flash <br />i&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Erase persistent storage data<br />b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Change board parameters<br />reset&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Reset the board<br />flashimage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Flashes a compressed image after the bootloader.<br />help&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Obtain help for CFE commands</p><p>For more information about a command, enter &#039;help command-name&#039;<br />*** command status = 0</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>