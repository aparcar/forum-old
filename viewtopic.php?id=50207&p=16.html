<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Openwrt support for Huawei HG655b</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 Mar 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 16 of 18</div><nav><ul><li><a href="viewtopic.php%3Fid=50207&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50207&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=50207&amp;p=15.html">15</a></li><li class="pagination-current"><span>16</span></li><li><a href="viewtopic.php%3Fid=50207&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=50207&amp;p=18.html">18</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p282531">
				<div class="post-metadata">
					<div class="post-num">Post #376</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						6 Jul 2015, 12:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I succeeded to create access point with MN422G but I don&#039;t know what drivers are needed. It doesn&#039;t work only with zd1211, it seems it needs also ath9k-htc. The other devices freeze the wifi and don&#039;t work, but they seem to need the rts8192cu kernel module.</p><p><a href="https://app.box.com/s/tnc1o1drz4mbu4w1vhuj7jg6q84m53pf">https://app.box.com/s/tnc1o1drz4mbu4w1vhuj7jg6q84m53pf</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283129">
				<div class="post-metadata">
					<div class="post-num">Post #377</div>
					<div class="post-author">mad_ady</div>
					<div class="post-datetime">
						11 Jul 2015, 16:43					</div>
				</div>
				<div class="post-content content">
					<p>I found out another issue related to wifi: If you select WPA2 encryption with TKIP it will limit the connection speed to 54Mbps. AES allows N to work correctly. I ended up having a AES AP and a separate TKIP AP for my legacy devices.</p><p>@fratzicu: can you post an example config of your led setup? I think using different vlans forces processing in the cpu instead of the switch hardware so I would expect performance issues at high throughput (or at least a rise in cpu usage)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283239">
				<div class="post-metadata">
					<div class="post-num">Post #378</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						12 Jul 2015, 16:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I will post this evening the config, just tell me which file has this info. I used the luci interface to configure.</p><p>in /etc/config/system I found:</p><div class="codebox"><pre><code>config led
    option trigger &#039;netdev&#039;
    option default &#039;0&#039;
    option name &#039;Data&#039;
    option dev &#039;br-lan&#039;
    option sysfs &#039;HW65x:green:dsl&#039;
    option mode &#039;tx rx&#039;

config led
    option name &#039;USB&#039;
    option sysfs &#039;HW65x:green:usb&#039;
    option default &#039;1&#039;
    option trigger &#039;usbdev&#039;
    option dev &#039;1-2&#039;

config led
    option default &#039;0&#039;
    option name &#039;Admin&#039;
    option trigger &#039;netdev&#039;
    option sysfs &#039;HW65x:green:lan4&#039;
    option mode &#039;tx rx&#039;
    option dev &#039;eth0.2&#039;

config led
    option default &#039;0&#039;
    option name &#039;WiredWan&#039;
    option trigger &#039;netdev&#039;
    option sysfs &#039;HW65x:green:lan1&#039;
    option mode &#039;tx rx&#039;
    option dev &#039;eth0.3&#039;

config led
    option default &#039;0&#039;
    option name &#039;LAN 3&#039;
    option sysfs &#039;HW65x:green:lan3&#039;
    option trigger &#039;netdev&#039;
    option dev &#039;eth0.1&#039;
    option mode &#039;tx rx&#039;

config led
    option default &#039;0&#039;
    option name &#039;LAN 2&#039;
    option sysfs &#039;HW65x:green:lan2&#039;
    option trigger &#039;netdev&#039;
    option dev &#039;eth0.1&#039;
    option mode &#039;tx rx&#039;
 </code></pre></div><p>In /etc/config/network I have:<br /></p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
    option ifname &#039;lo&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;127.0.0.1&#039;
    option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
    option ula_prefix &#039;xxxx:xxxx:xxxx::/48&#039;

config interface &#039;lan&#039;
    option type &#039;bridge&#039;
    option proto &#039;static&#039;
    option netmask &#039;255.255.255.0&#039;
    option _orig_ifname &#039;eth0.1 wlan0-1 wlan0&#039;
    option _orig_bridge &#039;true&#039;
    option ifname &#039;eth0.1&#039;
    option mtu &#039;1480&#039;
    option gateway &#039;192.168.x.1&#039;
    option dns &#039;192.168.x.1&#039;
    option ipaddr &#039;192.168.x.11&#039;
    option ip6assign &#039;64&#039;

config switch
    option name &#039;eth0&#039;
    option reset &#039;1&#039;
    option enable_vlan &#039;1&#039;

config switch_vlan
    option device &#039;eth0&#039;
    option vlan &#039;1&#039;
    option ports &#039;1 2 8t&#039;

config switch_vlan
    option device &#039;eth0&#039;
    option vlan &#039;2&#039;
    option ports &#039;3 8t&#039;

config switch_vlan
    option device &#039;eth0&#039;
    option vlan &#039;3&#039;
    option ports &#039;0 8t&#039;

config interface &#039;Admin&#039;
    option proto &#039;static&#039;
    option ifname &#039;eth0.3&#039;
    option ipaddr &#039;192.168.y.1&#039;
    option netmask &#039;255.255.255.0&#039;

config interface &#039;WAN&#039;
    option proto &#039;static&#039;
    option ifname &#039;eth0.2&#039;
    option netmask &#039;255.255.255.0&#039;
    option ipaddr &#039;192.168.x.21&#039; </code></pre></div>											<p class="post-edited">(Last edited by <strong>fratzicu</strong> on 12 Jul 2015, 22:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283277">
				<div class="post-metadata">
					<div class="post-num">Post #379</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						12 Jul 2015, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>@andoru<br />I found a solution for the broken wireless. You can still use the device as access point using a usb dongle. Mine worked with a zydas chipset, see my previous post. My wifi chip is probably fried, I cannot repair it. It seems it costs a lot more than a new or used device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283281">
				<div class="post-metadata">
					<div class="post-num">Post #380</div>
					<div class="post-author">keffr3n</div>
					<div class="post-datetime">
						12 Jul 2015, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>Hello fratzicu!<br />I installed your build, from May 30th but I have a problem with the kernel. I tried to install some packages but they require kernel 3.18.17, while your build has kernel 3.18.14. Can you make a new build, with the new kernel?</p><p>Other than that, it works perfect. I split my lan ports intro vlans, and assigned each one a LED to blink, I saw somebody asked that on the forum.</p><p>10x a lot!</p><p>Edit: I tried installing the latest build from trunk but I get a reboot loop. I don&#039;t have a serial console to see what&#039;s wrong.</p>											<p class="post-edited">(Last edited by <strong>keffr3n</strong> on 12 Jul 2015, 22:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283283">
				<div class="post-metadata">
					<div class="post-num">Post #381</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						12 Jul 2015, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>I can do that. Not all packages from the openwrt website work with any build. anyway, you should learn yourself how to build an firmware image. Actually it is very simple. </p><p>What package do you need installed?</p><p>I&#039;ll compile an image, but not too soon. This week is very crowded for me, maybe in 3-4 days. There is a june build, with 3.8.17 kernel, see my post <a href="https://forum.openwrt.org/viewtopic.php?pid=282531#p282531">https://forum.openwrt.org/viewtopic.php … 31#p282531</a></p><p>Kind regards</p>											<p class="post-edited">(Last edited by <strong>fratzicu</strong> on 12 Jul 2015, 22:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283285">
				<div class="post-metadata">
					<div class="post-num">Post #382</div>
					<div class="post-author">keffr3n</div>
					<div class="post-datetime">
						12 Jul 2015, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m installing your june build right now, i&#039;ll be back with feedback. I was triying to install ledtrig usb, just for fun. I put in a 8gb usb drive and i will use it to do network boot (ipxe). ledtrig usb would give me an indicator on when usb is accesed.</p><p>I played these days with chromium os (Arnold the Bat builds) and I would love to make it boot from lan or eaven web.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283286">
				<div class="post-metadata">
					<div class="post-num">Post #383</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						12 Jul 2015, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>Hope you&#039;ll be successfull</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283299">
				<div class="post-metadata">
					<div class="post-num">Post #384</div>
					<div class="post-author">keffr3n</div>
					<div class="post-datetime">
						12 Jul 2015, 23:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fratzicu wrote:</cite><blockquote><p>Hope you&#039;ll be successfull</p></blockquote></div><p>I installed your june version, kernel version is ok, also opkg config, but wifi doesn&#039;t work....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283345">
				<div class="post-metadata">
					<div class="post-num">Post #385</div>
					<div class="post-author">cmn</div>
					<div class="post-datetime">
						13 Jul 2015, 13:55					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone know if there are any major issues with OpenWRT from trunk on this device? Is WiFi working/stable? <br />I&#039;m tempted to switch to OWRT but I couldn&#039;t get a clear picture from this thread on whether it&#039;s usable or not.</p><p>I have hardware version C. Is there any difference between this and version A? Is it possible to switch back to default firmware and/or will it miss calibration data?</p><p>Protip on using trunk: download the archive with all the packages so you&#039;ll be able to install from a local repo later on, once trunk becomes incompatible.</p>											<p class="post-edited">(Last edited by <strong>cmn</strong> on 13 Jul 2015, 15:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283365">
				<div class="post-metadata">
					<div class="post-num">Post #386</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						13 Jul 2015, 18:05					</div>
				</div>
				<div class="post-content content">
					<p>wifi is working.&nbsp; In june version, Maybe I didn&#039;t put the driver for the wifi, as i used a usb dongle. I think you should build yourself an image with what packages you need. it&#039;s very simple.</p><p>First, on a linux box, you need to install some packages necessary for compiling. In Ubuntu, this would be <br /></p><div class="codebox"><pre><code>sudo apt-get install  build-essential binutils flex bison autoconf gettext texinfo sharutils subversion libncurses5-dev ncurses-term zlib1g-dev gcc patch bzip2 libncurses5-dev gawk subversion git libc6-dev libtirpc1 libtirpc-dev default-jdk zip make pkg-config unzip linux-libc-dev-armel-cross linux-libc-dev-armhf-cross linux-libc-dev</code></pre></div><p>but some packages might have different names<br />Than, you need to choose a folder for compiling openwrt and cd (change directory) to that folder.<br />than you need to get the sources<br /></p><div class="codebox"><pre><code>git clone git://git.openwrt.org/openwrt.git</code></pre></div><p>than cd openwrt (change directory to openwrt downloaded folder)<br />after that, give commands<br /></p><div class="codebox"><pre><code>scripts/feeds update -a
scripts/feeds install -a</code></pre></div><p>than, customize your image<br /></p><div class="codebox"><pre><code>make menuconfig</code></pre></div><p>choose what target you need (BCm 63xx), subtarget HG655b, profile default<br />and target images at least squashfs<br />choose what packages you need, but note that you have a limited amount of space on the flash. In general, the image must not be bigger than 7 mb. A larger image could erase the calibration data.<br />If you choose (with space) M variant, the package will be built, but not installed on the image. If you choose *, the package will be included in the image. All the dependencies are automatically selected.<br />After that you compile:<br /></p><div class="codebox"><pre><code>make V=s</code></pre></div><p>and look in openwrt/bin folder for the images and packages.</p><p>What packages do you need installed? Maybe I will build an image with your packages included.<br />Another option is to install the image on openwrt snapshot (if they are for hg655b) and install with opkg afterwards (but you need to configure network from commandline, as luci is not included there)</p><p>kind regards,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283366">
				<div class="post-metadata">
					<div class="post-num">Post #387</div>
					<div class="post-author">cmn</div>
					<div class="post-datetime">
						13 Jul 2015, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>I went ahead and installed the trunk version. With the SMP version I got a boot loop, so that did not work. I installed the generic version and it worked. However, the install is very basic: no wifi drivers, no luci, no wan interface. Furthermore, is seems there&#039;s no longer an archive with all the available packages. Here&#039;s what I did.</p><p>First, download a copy of the trunk packages with wget:<br /></p><div class="codebox"><pre><code>wget \
     --recursive \
     --no-clobber \
     --convert-links \
     --domains downloads.openwrt.org \
     --no-parent \
         downloads.openwrt.org/snapshots/trunk/brcm63xx/generic/packages/</code></pre></div><p>Keep the packages until you switch to a new OpenWRT version.</p><p>Enter the newly created downloads.openwrt.org directory and start a simple HTTP server:<br /></p><div class="codebox"><pre><code>python2 -m SimpleHTTPServer</code></pre></div><p>Edit /etc/opkg.conf with the local repo:<br /></p><div class="codebox"><pre><code>...
src/gz chaos_calmer_luci http://192.168.1.10:8000/snapshots/trunk/brcm63xx/generic/packages/luci
...</code></pre></div><p>Run opkg update and opkg install with the packages listed <a href="https://dev.openwrt.org/changeset/45708/trunk/target/linux/brcm63xx/profiles/huawei.mk">here</a><br />Install luci: opkg install luci<br />Reboot<br />Edit /etc/config/wireless and delete the &quot;option disabled &#039;1&#039;&quot; line<br />Enable wifi with wifi <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />In LuCI add a new vlan on port 1, and remove the port from the first vlan.<br />Add new wan and wan6 interfaces and assign them to the newly created vlan.</p><p>Configure the rest as needed and now you should have a working, dual stack, home router.&nbsp; At the time of this edit mine has been going for a day without any issues.</p><p>A big thank you to everyone involved in the porting process.</p><p>To be added are the configs for the switch LEDs. Does anyone have a working config for this (without making a vlan for each port)?<br />Another thing I noticed is that OpenWRT does not read the devices&#039; MAC addresses. Is this a known bug?</p>											<p class="post-edited">(Last edited by <strong>cmn</strong> on 14 Jul 2015, 17:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283535">
				<div class="post-metadata">
					<div class="post-num">Post #388</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						14 Jul 2015, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>About the MAC address: It seems that the openwrt firmware reads the mac address written in the CFE (toeards thebeginning of the flash) which is the same for all devices, and not the MAC from NVRAM (towards the end of flash). I found the address of the MAC address and gave it in my previous posts on this thread but I don&#039;t know how to code it. Maybe danitool can do this. My solution is with the jtag. You copy the CFE with jtag (or all flash) and then edit the CFE address with the 00...01...02 kind MAC address and replace it with the address on the back of the device and flash it back with jtag. Maybe there is some mtd command to do that from inside openwrt but I don&#039;t know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283537">
				<div class="post-metadata">
					<div class="post-num">Post #389</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						14 Jul 2015, 22:38					</div>
				</div>
				<div class="post-content content">
					<p>@cmn...<br />Nice to know you succeeded. You should still try to build your own images. If you use squashfs system, the applications use less space on the flash.<br />Also, I can tell you that this device is very good. I saw it&#039;s potentialfrom the beginning, that&#039;s why I decided to try to call for openwrt support for it. This device can be bought very cheap as second-hand device (around max 10 euros). At my workplace I use it as:<br />- wired bridge<br />- in the usb port a usb hub is connected<br />- in the usb hub I have a printer that serves 4 computers (needs a litthe config for print server)<br />- in the usb hub I have a usb wireless dongle that acts as an access point (this device has a fried wifi chip so I compiled a flash image with additional driver) so now the wired bridge is also wireless<br />- vsftpd, samba, minidlna, openvpn client/server (I can connect to it from anywhere), ddns, ntpc, etc<br />- I plan to add in the usb hub a usb hdd with external power source (as probably the usb power will not be enough for all devices connected to the usb hub)</p><p>You can use it also with a usb 3g dongle (and if you properly configure some dongles you can use their microsd card as a storage). So many possibilities. It has a pretty good performances. At home I have a media server on it (another device) with minidlna used daily for my daughter&#039;s animated movies. Can serve also mkvs in full hd or at least hd.</p><br /><p>Works great!&nbsp; So buy it as you may like it very much. I bought 4. It&#039;s plenty of them on the market! You just need to learn some stuff&nbsp; about compiling in linux.</p><p>Next thing, I plan to create a mesh network with 4 devices just to learn about mesh. Just I don&#039;t have time to play with it.<br />Kind regards.</p>											<p class="post-edited">(Last edited by <strong>fratzicu</strong> on 14 Jul 2015, 22:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283541">
				<div class="post-metadata">
					<div class="post-num">Post #390</div>
					<div class="post-author">cmn</div>
					<div class="post-datetime">
						14 Jul 2015, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been looking through the SoC wiki page and it seems the device has some features which which have open source&nbsp; drivers but are not included/integrated in OpenWRT..</p><p>.dual core cpu support is WIP. Only userspace apps are able to use the 2nd core (if it works at all; boot loop with SMP image atm)<br />.hardware random number generator. It needs rng-tools installed. Perhaps it should be added to the default packages?<br />.hardware acceleration for cryptography. Not integrated into OpenWRT. Would be nice to use with OpenVPN to increase throughput.</p><br /><p>@fratzicu...<br />I did compile an image for a different router. I have a slow PC, and after waiting for a day I discovered I got my kernel config not exactly as I wanted, or missing some package. So compiling is too much of a hassle for me. I still have about 50% free space on the the device so I&#039;m not pressed on that end.</p><p>I was thinking of installing OpenVPN and usb storage also, but from experience, the speed is quite low. Do you have some numbers on the throughput on your OpenVPN setup? Is a tun or tap?</p>											<p class="post-edited">(Last edited by <strong>cmn</strong> on 14 Jul 2015, 23:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283597">
				<div class="post-metadata">
					<div class="post-num">Post #391</div>
					<div class="post-author">fratzicu</div>
					<div class="post-datetime">
						15 Jul 2015, 08:51					</div>
				</div>
				<div class="post-content content">
					<p>In openvpn the maximum speed is about 1 Mb/s. With usb storage, with ntfs, speed is about 3 Mb/s. With ext3 the speed is about 5-6 Mb. <br />I compiled with smp and worked.</p><p>My last build with usb 3g support here:<br /><a href="https://app.box.com/s/dqfeig7ylg3xr22xl3hkji6g1ctz9uec">https://app.box.com/s/dqfeig7ylg3xr22xl3hkji6g1ctz9uec</a></p>											<p class="post-edited">(Last edited by <strong>fratzicu</strong> on 16 Jul 2015, 22:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285005">
				<div class="post-metadata">
					<div class="post-num">Post #392</div>
					<div class="post-author">abhaya_jaiswal</div>
					<div class="post-datetime">
						26 Jul 2015, 05:17					</div>
				</div>
				<div class="post-content content">
					<p>I wanted to share my internet connection (ADSL) with my friend. Thus on total we need <br />1.&nbsp; &nbsp;&nbsp; ADSL Modem+Wireless router form my home which I already have working.<br />2.&nbsp; &nbsp; Wireless router for my friend’s home (but he has Huawei HG655b Home gateway)<br />Thus, we are interested in configuring “Huawei HG655b Home gateway” into a wireless router.<br />Our requirements for “Huawei HG655b Home gateway” are:-<br />1.&nbsp; &nbsp;&nbsp; Use LAN1 port as WAN port for internet connection from my home to his home.<br />2.&nbsp; &nbsp; Route the internet connection into a different IP address/subnet (separate ip address space for his home i.e.192.168.1.1/24 and my home i.e. 192.168.9.1/24)<br />3.&nbsp; &nbsp; Have wireless lan enabled as Access Point for his home WLAN.<br />4.&nbsp; &nbsp; Use LAN2-4 ports as part of same WLAN (i.e. 192.168.1.1/24)<br />5.&nbsp; &nbsp; Enable dhcp only for his WLAN (i.e. 192.168.1.1/24)<br />6.&nbsp; &nbsp; Use firewall <br />7.&nbsp; &nbsp; Run transmission torrent which accesses the files (for upload/download) from connected USB pen drive.<br />With above requirements, we narrowed down to <br /><a href="https://downloads.openwrt.org/chaos_calmer/15.05-rc2/brcm63xx/smp/openwrt-15.05-rc2-brcm63xx-smp-HG655b-squashfs-cfe.bin">https://downloads.openwrt.org/chaos_cal … fs-cfe.bin</a><br />After configuring the device, we are facing issue that WAN port (i.e. eth0.1) is not functioning:-<br />1.&nbsp; &nbsp; Any ping to device in my home network (i.e. . 192.168.9.1/24), shows Tx packets, but zero Rx packets (courtesy ifconfig)<br />2.&nbsp; &nbsp; Any ping from my network to static ip address of “Huawei HG655b Home gateway” says Host not detected.<br />3.&nbsp; &nbsp; In my ADSL modem, LAN port statistics shows no packet traffic when it is connected to his “Huawei HG655b Home gateway” WAN port(LAN1), but shows lot of packet traffic when connected to other LAN ports (LAN2-4).<br />4.&nbsp; &nbsp; In my WLAN dhcp server (raspbian), when I connect a new client, shows additional logs related to DHCP Request etc, but when we connect his “Huawei HG655b Home gateway”, nothing gets logged.<br />5.&nbsp; &nbsp; The Wireless AP is working properly as well as LAN2-4 ports are also working as part of WLAN</p><p>It would be a great help if you can provide help/directions on:-<br />1.&nbsp; &nbsp; How to debug this issue.<br />2.&nbsp; &nbsp; Which tool to use in order to debug/monitor WAN port<br />3.&nbsp; &nbsp; How to enable logs for dhcp, firewall, and packet traffic statistics.<br />After firmware upload, we have modified configuration files only through ssh (as wan port was not working and hence no update, package install etc was possible).<br />For your reference, I am pasting my configuration files below:-<br />Cat /etc/config/network</p><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;&#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; &#039;255.0.0.0&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ula_prefix &#039;fdc0:6830:080c::/48&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&#039;eth0.2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;&#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;&#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; &#039;255.255.255.0&#039;<br />#&nbsp; &nbsp; &nbsp; &nbsp;option force_link &#039;1&#039;<br />#&nbsp; &nbsp; &nbsp; &nbsp;option ip6assign &#039;60&#039;</p><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&#039;eth0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;&#039;192.168.9.225&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option gateway&nbsp; &#039;192.168.9.135&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; &#039;255.255.255.0&#039;</p><p>config switch<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp;&#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option reset&nbsp; &nbsp; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option enable_vlan &#039;1&#039;<br />config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp;&#039;eth0.2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;&#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan&nbsp; &nbsp; &nbsp;&#039;2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports&nbsp; &nbsp; &#039;1 2 3 8t&#039;</p><p>config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp;&#039;eth0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;&#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan&nbsp; &nbsp; &nbsp;&#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports&nbsp; &nbsp; &#039;0&#039;</p><br /><p>Cat /etc/config/wireless<br />config wifi-device&nbsp; radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode&nbsp; &nbsp;11g<br />&nbsp; &nbsp; &nbsp; &nbsp; option path&nbsp; &nbsp; &nbsp;&#039;pci0000:00/0000:00:01.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode&nbsp; &nbsp;HT20<br /># REMOVE THIS LINE TO ENABLE WIFI:<br />#&nbsp; &nbsp; &nbsp; &nbsp;option disabled 1</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;ap<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid&nbsp; &nbsp; &nbsp;HomeA0875503<br />&nbsp; &nbsp; &nbsp; &nbsp; option key&nbsp; &nbsp; &nbsp; password<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption&nbsp; &nbsp; &nbsp; &nbsp;psk2+tkip</p><p>Cat /etc/config/dhcp<br />config dnsmasq<br />&nbsp; &nbsp; &nbsp; &nbsp; option domainneeded&nbsp; &nbsp; &nbsp;&#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option boguspriv&nbsp; &nbsp; &nbsp; &nbsp; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option filterwin2k&nbsp; &nbsp; &nbsp; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option localise_queries &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option rebind_protection&nbsp; &nbsp; &nbsp; &nbsp; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option rebind_localhost &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option local&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/lan/&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option domain&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option expandhosts&nbsp; &nbsp; &nbsp; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option nonegcache&nbsp; &nbsp; &nbsp; &nbsp;&#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option authoritative&nbsp; &nbsp; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option readethers&nbsp; &nbsp; &nbsp; &nbsp;&#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasefile&nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/dhcp.leases&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option resolvfile&nbsp; &nbsp; &nbsp; &nbsp;&#039;/tmp/resolv.conf.auto&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option localservice&nbsp; &nbsp; &nbsp;&#039;1&#039;</p><p>config dhcp &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option start &#039;100&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option limit &#039;150&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasetime &#039;12h&#039;</p><p>config dhcp &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option interface&nbsp; &nbsp; &nbsp; &nbsp; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ignore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#039;1&#039;</p><p>config odhcpd &#039;odhcpd&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option maindhcp &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasefile &#039;/tmp/hosts/odhcpd&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasetrigger &#039;/usr/sbin/odhcpd-update&#039;</p><p>Cat /etc/config/firewall<br />config defaults<br />&nbsp; &nbsp; &nbsp; &nbsp; option syn_flood&nbsp; &nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option input&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option output&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option forward&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; REJECT<br /># Uncomment this line to disable ipv6 rules<br />#&nbsp; &nbsp; &nbsp; &nbsp;option disable_ipv6&nbsp; &nbsp; &nbsp;1</p><p>config zone<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lan<br />&nbsp; &nbsp; &nbsp; &nbsp; list&nbsp; &nbsp;network&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option input&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option output&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option forward&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACCEPT</p><p>config zone<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wan<br />&nbsp; &nbsp; &nbsp; &nbsp; list&nbsp; &nbsp;network&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;wan&#039;<br />#&nbsp; &nbsp; &nbsp; &nbsp;list&nbsp; &nbsp;network&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;wan6&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option input&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option output&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option forward&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACCEPT<br />#&nbsp; &nbsp; &nbsp; &nbsp;option forward&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; REJECT<br />&nbsp; &nbsp; &nbsp; &nbsp; option masq&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option mtu_fix&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1</p><p>config forwarding<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wan</p><p>config forwarding<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lan</p><p># We need to accept udp packets on port 68,<br /># see <a href="https://dev.openwrt.org/ticket/4108">https://dev.openwrt.org/ticket/4108</a><br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-DHCP-Renew<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest_port&nbsp; &nbsp; &nbsp; &nbsp; 68<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv4</p><p># Allow IPv4 ping<br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-Ping<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; icmp<br />&nbsp; &nbsp; &nbsp; &nbsp; option icmp_type&nbsp; &nbsp; &nbsp; &nbsp; echo-request<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv4<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT</p><p>config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-IGMP<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; igmp<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv4<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT</p><p># Allow DHCPv6 replies<br /># see <a href="https://dev.openwrt.org/ticket/10381">https://dev.openwrt.org/ticket/10381</a><br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-DHCPv6 <br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp<br />&nbsp; &nbsp; &nbsp; &nbsp; option src_ip&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fe80::/10<br />&nbsp; &nbsp; &nbsp; &nbsp; option src_port&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;547<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest_ip&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fe80::/10<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest_port&nbsp; &nbsp; &nbsp; &nbsp; 546<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv6<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT</p><p>config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-MLD<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; icmp<br />&nbsp; &nbsp; &nbsp; &nbsp; option src_ip&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fe80::/10<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;130/0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;131/0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;132/0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;143/0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv6<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT</p><p># Allow essential incoming IPv6 ICMP traffic<br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-ICMPv6-Input<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; icmp<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo-request<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo-reply<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destination-unreachable<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; packet-too-big<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time-exceeded<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bad-header<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unknown-header-type<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; router-solicitation<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; neighbour-solicitation<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; router-advertisement<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; neighbour-advertisement<br />&nbsp; &nbsp; &nbsp; &nbsp; option limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1000/sec<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv6<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT</p><p># Allow essential forwarded IPv6 ICMP traffic<br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow-ICMPv6-Forward<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; icmp<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo-request<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo-reply<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destination-unreachable<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; packet-too-big<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time-exceeded<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bad-header<br />&nbsp; &nbsp; &nbsp; &nbsp; list icmp_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unknown-header-type<br />&nbsp; &nbsp; &nbsp; &nbsp; option limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1000/sec<br />&nbsp; &nbsp; &nbsp; &nbsp; option family&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ipv6<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT</p><p># include a file with users custom iptables rules<br />config include<br />&nbsp; &nbsp; &nbsp; &nbsp; option path /etc/firewall.user</p><p>Also, various relevant logs which we came across while our futile debug exercise<br />Ifconfig<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 02:10:18:01:00:01<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet6 addr: fe80::10:18ff:fe01:1/64 Scope:Link<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:846 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:453 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:62852 (61.3 KiB)&nbsp; TX bytes:58804 (57.4 KiB)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 02:10:18:01:00:01<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet6 addr: fe80::10:18ff:fe01:1/64 Scope:Link<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:438 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:44509 (43.4 KiB)</p><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 02:10:18:01:00:01<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.9.225&nbsp; Bcast:192.168.9.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet6 addr: fe80::10:18ff:fe01:1/64 Scope:Link<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:10 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:864 (864.0 B)</p><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 02:10:18:01:00:01<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:414 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:39433 (38.5 KiB)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet6 addr: ::1/128 Scope:Host<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:65536&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:1393 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1393 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:94732 (92.5 KiB)&nbsp; TX bytes:94732 (92.5 KiB)</p><p>wlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 7A:F3:A3:4E:08:10<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet6 addr: fe80::78f3:a3ff:fe4e:810/64 Scope:Link<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:1080 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1069 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:125545 (122.6 KiB)&nbsp; TX bytes:165678 (161.7 KiB)</p><p>root@OpenWrt:~# cat /sys/class/net/eth0.1/*<br />0<br />6<br />02:10:18:01:00:01<br />ff:ff:ff:ff:ff:ff<br />1<br />0<br />0x0<br />0<br />0<br />cat: read error: Invalid argument<br />0x1003<br />6<br />2<br />0<br />cat: read error: Is a directory<br />1500<br />cat: read error: Invalid argument<br />0<br />up<br />cat: read error: Operation not supported<br />cat: read error: Is a directory<br />cat: read error: Invalid argument<br />cat: read error: Is a directory<br />cat: read error: Is a directory<br />0<br />1<br />DEVTYPE=vlan<br />INTERFACE=eth0.1<br />IFINDEX=6<br />root@OpenWrt:~# cat /sys/class/net/eth0.2/*<br />0<br />6<br />02:10:18:01:00:01<br />ff:ff:ff:ff:ff:ff<br />cat: read error: Is a directory<br />1<br />0<br />0x0<br />0<br />0<br />cat: read error: Invalid argument<br />0x1303<br />5<br />2<br />0<br />cat: read error: Is a directory<br />cat: read error: Is a directory<br />1500<br />cat: read error: Invalid argument<br />0<br />up<br />cat: read error: Operation not supported<br />cat: read error: Is a directory<br />cat: read error: Invalid argument<br />cat: read error: Is a directory<br />cat: read error: Is a directory<br />0<br />1<br />DEVTYPE=vlan<br />INTERFACE=eth0.2<br />IFINDEX=5<br />cat: read error: Is a directory</p><p>root@OpenWrt:~# ifstatus lan<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;up&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;pending&quot;: false,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;available&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;autostart&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;uptime&quot;: 1192,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;l3_device&quot;: &quot;br-lan&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;static&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;device&quot;: &quot;br-lan&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;updated&quot;: [<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;addresses&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;metric&quot;: 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;delegation&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv4-address&quot;: [<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;address&quot;: &quot;192.168.1.1&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mask&quot;: 24<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-address&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-prefix&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-prefix-assignment&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;route&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-server&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-search&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;inactive&quot;: {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv4-address&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-address&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;route&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-server&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-search&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;data&quot;: {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }<br />}<br />root@OpenWrt:~# ifstatus wan<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;up&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;pending&quot;: false,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;available&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;autostart&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;uptime&quot;: 1253,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;l3_device&quot;: &quot;eth0.1&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;static&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;device&quot;: &quot;eth0.1&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;updated&quot;: [<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;addresses&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;routes&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;metric&quot;: 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;delegation&quot;: true,<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv4-address&quot;: [<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;address&quot;: &quot;192.168.9.225&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mask&quot;: 24<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-address&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-prefix&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-prefix-assignment&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;route&quot;: [<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;target&quot;: &quot;0.0.0.0&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mask&quot;: 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;nexthop&quot;: &quot;192.168.9.135&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;source&quot;: &quot;0.0.0.0\/0&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-server&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-search&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;inactive&quot;: {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv4-address&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ipv6-address&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;route&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-server&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;dns-search&quot;: [</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; &quot;data&quot;: {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }<br />}</p><p>root@OpenWrt:~# iw wlan0 info<br />Interface wlan0<br />&nbsp; &nbsp; &nbsp; &nbsp; ifindex 7<br />&nbsp; &nbsp; &nbsp; &nbsp; wdev 0x2<br />&nbsp; &nbsp; &nbsp; &nbsp; addr 7a:f3:a3:4e:08:10<br />&nbsp; &nbsp; &nbsp; &nbsp; ssid HomeA0875503<br />&nbsp; &nbsp; &nbsp; &nbsp; type AP<br />&nbsp; &nbsp; &nbsp; &nbsp; wiphy 0<br />&nbsp; &nbsp; &nbsp; &nbsp; channel 11 (2462 MHz), width: 20 MHz, center1: 2462 MHz<br />root@OpenWrt:~# iw list<br />Wiphy phy0<br />&nbsp; &nbsp; &nbsp; &nbsp; max # scan SSIDs: 4<br />&nbsp; &nbsp; &nbsp; &nbsp; max scan IEs length: 2257 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; Retry short limit: 7<br />&nbsp; &nbsp; &nbsp; &nbsp; Retry long limit: 4<br />&nbsp; &nbsp; &nbsp; &nbsp; Coverage class: 0 (up to 0m)<br />&nbsp; &nbsp; &nbsp; &nbsp; Available Antennas: TX 0 RX 0<br />&nbsp; &nbsp; &nbsp; &nbsp; Supported interface modes:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* IBSS<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* managed<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* AP<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* AP/VLAN<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* WDS<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* monitor<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* mesh point<br />&nbsp; &nbsp; &nbsp; &nbsp; Band 1:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Capabilities: 0x2f2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HT20/HT40<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Static SM Power Save<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX Greenfield<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX HT20 SGI<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX HT40 SGI<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX STBC<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX STBC 2-streams<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Max AMSDU length: 3839 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; No DSSS/CCK HT40<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maximum RX AMPDU length 65535 bytes (exponent: 0x003)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Minimum RX AMPDU time spacing: 2 usec (0x04)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HT RX MCS rate indexes supported: 0-15, 32<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX unequal modulation not supported<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HT TX Max spatial streams: 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HT TX MCS rate indexes supported may differ<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Frequencies:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2412 MHz [1] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2417 MHz [2] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2422 MHz [3] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2427 MHz [4] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2432 MHz [5] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2437 MHz [6] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2442 MHz [7] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2447 MHz [8] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2452 MHz [9] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2457 MHz [10] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2462 MHz [11] (20.0 dBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2467 MHz [12] (20.0 dBm) (no IR)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2472 MHz [13] (20.0 dBm) (no IR)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * 2484 MHz [14] (20.0 dBm) (no IR)<br />&nbsp; &nbsp; &nbsp; &nbsp; valid interface combinations:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* #{ managed, AP, mesh point } &lt;= 8,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;total &lt;= 8, #channels &lt;= 1<br />&nbsp; &nbsp; &nbsp; &nbsp; HT Capability overrides:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* MCS: ff ff ff ff ff ff ff ff ff ff<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* maximum A-MSDU length<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* supported channel width<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* short GI for 40 MHz<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* max A-MPDU length exponent<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* min MPDU start spacing</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287297">
				<div class="post-metadata">
					<div class="post-num">Post #393</div>
					<div class="post-author">razvaneuu</div>
					<div class="post-datetime">
						12 Aug 2015, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody, salut<br />if someone can help me with a diagnosis on my router HG655 BRZ ver.A. I want to try to fix it . It has no connection or wireless LAN . Just stay active startup led . I tried resetting 30.30.30 ...<br />How did this state : anyone played the fuse igniting it and extinguished it . ill send a photo if anybody wants<br />Thanks !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287310">
				<div class="post-metadata">
					<div class="post-num">Post #394</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						12 Aug 2015, 22:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>razvaneuu wrote:</cite><blockquote><p>Hello everybody, salut<br />if someone can help me with a diagnosis on my router HG655 BRZ ver.A. I want to try to fix it . It has no connection or wireless LAN . Just stay active startup led . I tried resetting 30.30.30 ...<br />How did this state : anyone played the fuse igniting it and extinguished it . ill send a photo if anybody wants<br />Thanks !</p></blockquote></div><p>hi<br /><a href="http://wiki.openwrt.org/doc/howto/generic.failsafe">http://wiki.openwrt.org/doc/howto/generic.failsafe</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287313">
				<div class="post-metadata">
					<div class="post-num">Post #395</div>
					<div class="post-author">razvaneuu</div>
					<div class="post-datetime">
						12 Aug 2015, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>by the way can&#039;t establish a connection between the router and PC via LAN router (not active )</p><p>Pinging 192.168.1.1 with 32 bytes of data:</p><p>Request timed out.<br />Hardware error.<br />Hardware error.<br />Hardware error.</p><p>Ping statistics for 192.168.1.1:<br />&nbsp; &nbsp; Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),</p><p>sure np <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>											<p class="post-edited">(Last edited by <strong>razvaneuu</strong> on 12 Aug 2015, 22:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287318">
				<div class="post-metadata">
					<div class="post-num">Post #396</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						12 Aug 2015, 22:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>razvaneuu wrote:</cite><blockquote><p>by the way can&#039;t establish a connection between the router and PC via LAN router (not active )</p></blockquote></div><p>let me get my crystal ball <img src="https://forum.openwrt.org/img/smilies/lol.png" width="15" height="15" alt="lol" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287320">
				<div class="post-metadata">
					<div class="post-num">Post #397</div>
					<div class="post-author">razvaneuu</div>
					<div class="post-datetime">
						12 Aug 2015, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>was thinking about doing something that JTAG pins to comunicate. i only have an USB&nbsp; CA-42 nokia cable. Hyper terminal or something</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287323">
				<div class="post-metadata">
					<div class="post-num">Post #398</div>
					<div class="post-author">razvaneuu</div>
					<div class="post-datetime">
						12 Aug 2015, 23:27					</div>
				</div>
				<div class="post-content content">
					<p>waits 2 seconds<br />I managed to get reply from the victim .I&#039;ve played with him holding down the reset button and start it while ping 192.168.1.1 -n 55<br />Reply from 192.168.1.1: bytes=32 time&lt;1ms TTL=100<br />Reply from 192.168.1.1: bytes=32 time&lt;1ms TTL=100<br />Reply from 192.168.1.1: bytes=32 time&lt;1ms TTL=100</p><p>Ping statistics for 192.168.1.1:<br />&nbsp; &nbsp; Packets: Sent = 55, Received = 43, Lost = 12 (21% loss),<br />Approximate round trip times in milli-seconds:<br />&nbsp; &nbsp; Minimum = 0ms, Maximum = 1ms, Average = 0ms</p><p> entered the router 192.168.1.1 ansd ask me to :<br />Update Software</p><p>Step 1: Obtain an updated software image file from your ISP.</p><p>Step 2: Enter the path to the image file location in the box below or click the &quot;Browse&quot; button to locate the image file.</p><p>Step 3: Click the &quot;Update Software&quot; button once to upload the new image file.</p><p>NOTE: The update process takes about 2 minutes to complete, and your DSL Router will reboot.</p><p>ill try to find the firmware now..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287324">
				<div class="post-metadata">
					<div class="post-num">Post #399</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						12 Aug 2015, 23:29					</div>
				</div>
				<div class="post-content content">
					<p>seems its has a CFE bootloader<br />you can try <br />-remove all cables <br />-press reset and keep pressing<br />-connect power while pressing reset for another 30 sec<br />connect lan cable and ping 192.168.1.1<br />if it works then you can reflash it</p><p>else you can try TTL adapter<br /><a href="http://www.electrictoolbox.com/article/applications/ssh-putty/">http://www.electrictoolbox.com/article/ … ssh-putty/</a><br /><a href="http://wiki.openwrt.org/toh/huawei/hg655d">http://wiki.openwrt.org/toh/huawei/hg655d</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287343">
				<div class="post-metadata">
					<div class="post-num">Post #400</div>
					<div class="post-author">razvaneuu</div>
					<div class="post-datetime">
						13 Aug 2015, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>Using tftp to send a firmware to it, whats the packets command to send Not more than 1400 p ?, cuz with 1500 pachets or more router chokes</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 401 to 400 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 16 of 18</div><nav><ul><li><a href="viewtopic.php%3Fid=50207&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50207&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=50207&amp;p=15.html">15</a></li><li class="pagination-current"><span>16</span></li><li><a href="viewtopic.php%3Fid=50207&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=50207&amp;p=18.html">18</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>