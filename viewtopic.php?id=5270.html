<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> QoS and more...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p25121">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">csst0051</div>
					<div class="post-datetime">
						13 Apr 2006, 02:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone! </p><p>I&#039;ve installed White Russian in my WRT54GL and I think it&#039;s excellent! <br />Really linux thought with all the pros. <br />Now let&#039;s focus to my question. I&#039;m trying some shaping things with tc and <br />I can&#039;t understand where I should do the shaping; vlan1, eth0, or br0.<br />I&#039;ve tried tc qdisc add dev vlan1 root tbf rate 64kbit latency 50ms burst 1540 <br />and I havent realized any difference at all. Instead when I did the same in eth0 <br />I&#039;ve noticed a real slow down, But this affects my lan too. I&#039;ve seen some implementations in vlan1 <br />but it seems it doesn&#039;t work for me. <br />And second I can&#039;t understand which are ifaces eth2 and eth3.<br />nvram get lan_ifnames-&gt; vlan0 eth1(Wi-fi ? ) eth2 eth3&nbsp; <br />Continue this good effort! </p><p>Thanks in advance and sorry for the big post!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25122">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Wallace78</div>
					<div class="post-datetime">
						13 Apr 2006, 02:49					</div>
				</div>
				<div class="post-content content">
					<p>Check the wiki for infos about interfaces:</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Configuration">http://wiki.openwrt.org/OpenWrtDocs/Configuration</a></p><p>I highly reccomend you in using nbd&#039;s qos-scripts package; you can find it here:</p><p><a href="http://downloads.openwrt.org/people/nbd/qos/">http://downloads.openwrt.org/people/nbd/qos/</a></p><p>(check the wiki for more infos on this)</p><p>ciao</p><p>Wallace</p><p>N.b.: if you dig in the forum and the wiki, you&#039;ll find all the infos you need. OpenWrt it is a very well documented project.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25155">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">csst0051</div>
					<div class="post-datetime">
						13 Apr 2006, 12:44					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve checked the wiki before the post, and the diagram shows only eth0 for the switch and eth1 for Wi-fi.<br />No eth2,eth3. I&#039;m going to remove eth2,eth3 from lan_ifnames to see what will happen. <br />I&#039;ve installed the qos scripts form nbd and I&#039;ll dig the config files and the output from tc to understand <br />how it works. </p><p>thanks for your reply wallace78!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p26106">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">thebover</div>
					<div class="post-datetime">
						26 Apr 2006, 17:02					</div>
				</div>
				<div class="post-content content">
					<p>I also noticed the odd configuration on the WRT54GL </p><p>lan_ifnames=vlan0 eth1 eth2 eth3</p><p>vlan0hwname=et0<br />vlan0ports=3 2 1 0 5*<br />vlan1hwname=et0<br />vlan1ports=4 5<br />wan_device=vlan1<br />wan_iface=vlan1<br />wan_ifname=vlan1<br />wan_ifnames=vlan1</p><p>and after RTFM, I still see no reference to eth2 or eth3, </p><p>is eth1 the wlan? </p><p>and what are ports eth2 and eth3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p26108">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Giammin</div>
					<div class="post-datetime">
						26 Apr 2006, 17:58					</div>
				</div>
				<div class="post-content content">
					<p>i think this works better:</p><p><a href="http://forum.openwrt.org/viewtopic.php?id=4112&amp;p=1">http://forum.openwrt.org/viewtopic.php?id=4112&amp;p=1</a></p><p>than nbd&#039;s qos-scripts package</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p26109">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						26 Apr 2006, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>I think you need to re-read that Wiki page a few times.&nbsp; Those network descriptions are valid, at least for the regular WRT units.&nbsp; The eth2, eth3 references are just cruft I think, not meaningful.&nbsp; Most people read the NVRAM variables so they get the &quot;right&quot; WAN and LAN interface names for their platform, then use the variables in the rest of the script.&nbsp; Example, look at the firewall scripts they check NVRAM first to get right name.</p><p>The WRTSL54GS is a bit different though.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 26 Apr 2006, 18:07)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>