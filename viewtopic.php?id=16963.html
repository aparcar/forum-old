<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to reflash open WRT images from user space in avila platform</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p73419">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rinuantony</div>
					<div class="post-datetime">
						16 Sep 2008, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>Hai all,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I have been using openwrt-ixp4xx-zImage and openwrt-ixp4xx-squashfs.img for the gateworks avila platform.I have tried manually using the following commands ,was getting some check sum error while using different zimage for updation.How to solve this problem?</p><br /><p>1.tftp -r&nbsp; openwrt-ixp4xx-squashfs.img&nbsp; -g 10.168.1.32<br />2.tftp -r&nbsp; openwrt-ixp4xx-zImage -g 10.168.1.32<br />3.mtd -e linux write owz linux<br />4.mtd -e rootfs write ow.img rootfs<br />5.reboot</p><p>redboot&gt;fis load linux<br />** Warning - checksum failure.&nbsp; stored: 0xe84eb5de, computed: 0xd7b31a45<br />RedBoot&gt; exec<br />Can&#039;t execute Linux - invalid entry address<br />RedBoot&gt; </p><p>&nbsp; &nbsp; &nbsp; &nbsp; Is it possible to use&nbsp; &nbsp;AP51-Easy Flash Utility for this platform?If its possible how to add up this utility to my existing kernal?<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; If anybody have any idea pls let me know...</p><p>Regards<br />Rinu</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73427">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cherry31459</div>
					<div class="post-datetime">
						16 Sep 2008, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve ran into the same problem with a different IXP425 platform. The problem is that the mtd command write the image to the named partition but does not update the checksum and length in the Redboot&#039;s <strong>FIS directory</strong>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73442">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rinuantony</div>
					<div class="post-datetime">
						17 Sep 2008, 06:53					</div>
				</div>
				<div class="post-content content">
					<p>Ok...do u have any other solution for this problem?Is easyflash utility is useable for this problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73459">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">cherry31459</div>
					<div class="post-datetime">
						17 Sep 2008, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not familiar with easyflash. A google search turned up this that seems relevant:<br /><a href="http://lists.infradead.org/pipermail/linux-mtd/2008-February/020607.html">http://lists.infradead.org/pipermail/li â€¦ 20607.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74354">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">cherry31459</div>
					<div class="post-datetime">
						7 Oct 2008, 14:41					</div>
				</div>
				<div class="post-content content">
					<p>Found the problem: the mtd command correctly writes the image to the flash partition. However, it does not modify the partition entry in &#039;FIS directory&#039;; in particular the crc value is not updated. Your redboot is configured to perform a crc check which fails. The recommended solution is to build redboot with REDBOOT_FIS_CRC_CHECK set to 0.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>