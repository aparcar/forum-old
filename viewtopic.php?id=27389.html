<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problems with samba wildcard search</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p121441">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">repka</div>
					<div class="post-datetime">
						18 Nov 2010, 23:07					</div>
				</div>
				<div class="post-content content">
					<p>I shared a directory via samba on a tempfs (/tmp/share), but have the following problem on a windows box:</p><p>Doing &quot;dir&quot; with &quot;*.*&quot; as a wildcard works just fine on the share:</p><div class="codebox"><pre><code>C:\&gt;dir \\router\share\*.*

 Volume in drive \\router\share is share
 Volume Serial Number is 041A-0261

 Directory of \\router\share

11/18/2010  03:32 PM    &lt;DIR&gt;          .
11/18/2010  03:54 PM    &lt;DIR&gt;          ..
11/18/2010  03:32 PM    &lt;DIR&gt;          aaa.txt
11/18/2010  03:32 PM    &lt;DIR&gt;          abc.txt
11/18/2010  03:26 PM    &lt;DIR&gt;          zzz.txt
               1 File(s)            307 bytes
               2 Dir(s)      31,490,048 bytes free

C:\&gt;</code></pre></div><p>However adding any characters to wild-card (e.g. &quot;a*.*&quot;) fails to return successful result, even though matching files are there:</p><div class="codebox"><pre><code>C:\&gt;dir \\router\share\a*.*

 Volume in drive \\router\share is share
 Volume Serial Number is 041A-0261

 Directory of \\router\share

File Not Found

C:\&gt;</code></pre></div><p>I need this functionality for some automation scripting we&#039;re doing at my place.</p><p>I tried changing unix charset to UTF8 in /etc/samba/smb.cong.template, that didn&#039;t fix the problem. This affects not only &quot;dir&quot; command, as other commands which enumerate directory content have the same problem.</p><p>Any ideas on what to try next? Thx!</p><p><strong>Edit:</strong> minor sentence fix and a note</p>											<p class="post-edited">(Last edited by <strong>repka</strong> on 19 Nov 2010, 00:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139884">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Rataplan626</div>
					<div class="post-datetime">
						25 Jul 2011, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>old topic, but did you ever manage to fix this? I have the very same issues, and all kind of tooling is not working like robocopy which I use alot. Also, filenamecompletion (tab) doesn&#039;t work from a Windows box...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>