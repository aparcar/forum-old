<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> tinc won&#039;t start as daemon</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p367438">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">TDA</div>
					<div class="post-datetime">
						27 Oct 2017, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi All! please help with subj.<br />tinc is enabled </p><div class="codebox"><pre><code>/etc/init.d/tinc enable</code></pre></div><p>When I try to start it with<br /></p><div class="codebox"><pre><code>/etc/init.d/tinc start</code></pre></div><p> something happens like<br /></p><div class="codebox"><pre><code>Fri Oct 27 14:26:38 2017 daemon.notice tinc.Shops[7340]: tincd 1.0.26 (Jan 31 2016 13:32:24) starting, debug level 0
Fri Oct 27 14:26:38 2017 daemon.info tinc.Shops[7340]: /dev/net/tun is a Linux tun/tap device (tun mode)
Fri Oct 27 14:26:38 2017 daemon.notice netifd: Interface &#039;Shops&#039; is enabled
Fri Oct 27 14:26:38 2017 daemon.notice netifd: Network device &#039;Shops&#039; link is up
Fri Oct 27 14:26:38 2017 daemon.notice netifd: Interface &#039;Shops&#039; has link connectivity 
Fri Oct 27 14:26:38 2017 daemon.notice netifd: Interface &#039;Shops&#039; is setting up now
Fri Oct 27 14:26:38 2017 daemon.notice netifd: Interface &#039;Shops&#039; is now up
Fri Oct 27 14:26:38 2017 daemon.notice tinc.Shops[7340]: Ready
Fri Oct 27 14:27:18 2017 daemon.notice tinc.Shops[7340]: Got TERM signal
Fri Oct 27 14:27:19 2017 daemon.notice netifd: Network device &#039;Shops&#039; link is down
Fri Oct 27 14:27:19 2017 daemon.notice netifd: Interface &#039;Shops&#039; has link connectivity loss
Fri Oct 27 14:27:19 2017 daemon.notice netifd: Interface &#039;Shops&#039; is now down
Fri Oct 27 14:27:19 2017 daemon.notice tinc.Shops[7340]: Terminating
Fri Oct 27 14:27:19 2017 daemon.notice netifd: Interface &#039;Shops&#039; is disabled</code></pre></div><p>However starting it by typing </p><div class="codebox"><pre><code>tincd -nShops </code></pre></div><p> in ssh session works like charm.</p><div class="codebox"><pre><code>root@OPENWRT68:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         99.88.77.66.sta 0.0.0.0         UG    0      0        0 eth1
99.88.77.0       *               255.255.255.0   U     0      0        0 eth1
192.168.1.0     *               255.255.255.0   U     0      0        0 Shops
192.168.3.0     *               255.255.255.0   U     0      0        0 Shops
192.168.4.0     *               255.255.255.0   U     0      0        0 Shops
192.168.5.0     *               255.255.255.0   U     0      0        0 Shops
192.168.7.0     *               255.255.255.0   U     0      0        0 Shops
192.168.8.0     *               255.255.255.0   U     0      0        0 Shops
192.168.9.0     *               255.255.255.0   U     0      0        0 Shops
192.168.10.0    *               255.255.255.0   U     0      0        0 Shops
192.168.11.0    *               255.255.255.0   U     0      0        0 Shops
192.168.13.0    *               255.255.255.0   U     0      0        0 Shops
192.168.14.0    *               255.255.255.0   U     0      0        0 Shops
192.168.15.0    *               255.255.255.0   U     0      0        0 Shops
192.168.16.0    *               255.255.255.0   U     0      0        0 Shops
192.168.20.0    *               255.255.255.0   U     0      0        0 Shops
192.168.22.0    *               255.255.255.0   U     0      0        0 Shops
192.168.28.0    *               255.255.255.0   U     0      0        0 Shops
192.168.66.0    *               255.255.255.0   U     0      0        0 Shops
192.168.68.0    *               255.255.255.0   U     0      0        0 br-lan</code></pre></div><div class="codebox"><pre><code>root@OPENWRT68:~# ifconfig 
Shops     Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:192.168.68.1  P-t-P:192.168.68.1  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  Metric:1
          RX bytes:1764 (1.7 KiB)  TX bytes:2640 (2.5 KiB)

br-lan    Link encap:Ethernet  HWaddr 84:16:F9:44:B3:A2  
          inet addr:192.168.68.1  Bcast:192.168.68.255  Mask:255.255.255.0
          RX bytes:28133876 (26.8 MiB)  TX bytes:9719598 (9.2 MiB)</code></pre></div><div class="codebox"><pre><code>root@OPENWRT68:~# ping 192.168.1.22
PING 192.168.1.22 (192.168.1.22): 56 data bytes
64 bytes from 192.168.1.22: seq=0 ttl=127 time=36.557 ms
64 bytes from 192.168.1.22: seq=7 ttl=127 time=14.501 ms
64 bytes from 192.168.1.22: seq=8 ttl=127 time=22.475 ms
64 bytes from 192.168.1.22: seq=9 ttl=127 time=15.200 ms
^C
--- 192.168.1.22 ping statistics ---
10 packets transmitted, 4 packets received, 60% packet loss
round-trip min/avg/max = 14.501/22.183/36.557 ms</code></pre></div><p>configs for example<br /></p><div class="codebox"><pre><code>root@OPENWRT:~# ls /etc/tinc/Shops
hosts
rsa_key.priv
rsa_key.pub
subnet-down
subnet-up
tinc-down
tinc-up
tinc.conf</code></pre></div><div class="codebox"><pre><code>root@OPENWRT:~# cat /etc/tinc/
Shops/
nets.boot
rsa_key.priv
tinc.conf</code></pre></div><div class="codebox"><pre><code>root@OPENWRT:~# cat /etc/tinc/nets.boot 
Shops</code></pre></div><p>I used /howto/vpn.tinc as Main book from OpenWrt&#039;s WIKI when configuring routers.</p><div class="codebox"><pre><code>Machine: TP-Link TL-WR842N/ND v3  

# uname -a
Linux OPENWRT68 3.18.45 #8 Fri Jun 2 19:01:40 CEST 2017 mips GNU/Linux</code></pre></div><p>How to solve autostart Tinc at boot as daemon/servce?</p>											<p class="post-edited">(Last edited by <strong>TDA</strong> on 27 Oct 2017, 12:38)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>