<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WNDR4000 Serial Boot</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p145218">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						6 Oct 2011, 12:48					</div>
				</div>
				<div class="post-content content">
					<p>Here is a serial boot log. The CFE is severely crippled, you can only run ifconfig, boot and load from what I&#039;ve found.</p><div class="codebox"><pre><code>Decompressing..........done
Decompressing..........done


CFE for WNDR4000 version: v1.0.4
Build Date: Tue Nov 30 17:04:18 CST 2010
Init Arena
Init Devs.
Boot partition size = 262144(0x40000)
Found an ST compatible serial flash with 128 64KB blocks; total size 8MB
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 2010.09.30.0
CPU type 0x19740: 480MHz
Tot mem: 65536 KBytes

Device eth0:  hwaddr C4-3D-C7-70-A1-E9, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Linux version 2.6.22 (peter@dev2) (gcc version 4.2.3) #10 Mon Apr 25 19:58:10 CS
T 2011
CPU revision is: 00019740
Found an ST compatible serial flash with 128 64KB blocks; total size 8MB
Determined physical RAM map:
 memory: 03fff000 @ 00000000 (usable)
Zone PFN ranges:
  Normal          0 -&gt;    16383
  HighMem     16383 -&gt;    16383
early_node_map[1] active PFN ranges
    0:        0 -&gt;    16383
Built 1 zonelists.  Total pages: 16383
Kernel command line: root=/dev/mtdblock2 console=ttyS0,115200 init=/sbin/preinit

Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 256 (order: 8, 1024 bytes)
CPU: BCM4716 rev 1 at 480 MHz
Using 240.000 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 60016k/65532k available (3087k kernel code, 5460k reserved, 592k data, 2
04k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
SCSI subsystem initialized
PCI: Using membase 8000000
PCI: Initializing host
PCI: Reset RC
PCI: no core
PCI: Fixing up bus 0
PCI/PCIe coreunit 0 is set to bus 1.
PCI: Fixing up bridge
PCI: Fixing up bridge
PCI: Enabling device 0000:01:00.1 (0004 -&gt; 0006)
PCI: Fixing up bus 1
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
squashfs: version 3.4 (2008/08/26) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
fuse init (API version 7.8)
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.1.1.1 $ 4 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x0 (irq = 8) is a 16550A
loop: module loaded
PPP generic driver version 2.4.2
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
pflash: found no supported devices
sflash: squash filesystem with lzma found at block 1646
Creating 15 MTD partitions on &quot;sflash&quot;:
0x00000000-0x00040000 : &quot;boot&quot;
0x00040000-0x00740000 : &quot;linux&quot;
0x0019bb70-0x00740000 : &quot;rootfs&quot;
0x00740000-0x00750000 : &quot;ML1&quot;
0x00750000-0x00760000 : &quot;ML2&quot;
0x00760000-0x00770000 : &quot;ML3&quot;
0x00770000-0x00780000 : &quot;ML4&quot;
0x00780000-0x00790000 : &quot;ML5&quot;
0x00790000-0x007a0000 : &quot;ML6&quot;
0x007a0000-0x007b0000 : &quot;ML7&quot;
0x007b0000-0x007c0000 : &quot;T_Meter1&quot;
0x007c0000-0x007d0000 : &quot;T_Meter2&quot;
0x007d0000-0x007e0000 : &quot;POT&quot;
0x007e0000-0x007f0000 : &quot;board_data&quot;
0x007f0000-0x00800000 : &quot;nvram&quot;
u32 classifier
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 10
6WIND/LSIIT IPv6 multicast forwarding 0.1 plus PIM-SM/SSM with *BSD API
lo: Disabled Privacy Extensions
IPv6 over IPv4 tunneling driver
sit0: Disabled Privacy Extensions
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 204k freed
Warning: unable to open an initial console.
Failed to execute /init
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
Reading board data...
WSC UUID: 0xdb3b6fcc090e922939fd2363c56c8a2d
NTP synchronized date/time: 00-00-00
MAC address of 1st STA connected: 1C-4B-D6-BD-AD-87
invalid RF magic!
No RF parameters! Use default.
Initialise conn table 2048 entries
Hit enter to continue...wlconf: PHYTYPE: 4
wlconf: PHYTYPE: 7
wlconf: PHYTYPE: 4
wlconf: PHYTYPE: 7
killall: upnp: no process killed
UPnP daemon is ready to run
killall: wps_monitor: no process killed
killall: wps_ap: no process killed
killall: wps_enr: no process killed

### wps_wfi_init(): &lt;wl0_wfi_enable=(null)&gt;&lt;wl1_wfi_enable=(null)&gt;WFI is not ena
bled ###
Reading board data...
WSC UUID: 0xdb3b6fcc090e922939fd2363c56c8a2d
shm ID: 0
 Get a correct Segment_ID: 0 and semaphore ID:0
info, udhcp server (v0.9.8) started
error, unable to parse &#039;option wins &#039;
error, unable to parse &#039;option domain &#039;
POT integrity check OK.
POT time is up.
Info: No FWPT default policies.
httpd: socket bound in 0.0.0.0:80.
IOCTL_AG_REGION_SET: English
Start DHCP client daemon
info, udhcp client (v0.9.8) started
eth0: No such process
route: ioctl 0x890c failed: No such process
killall: dhcp6c: no process killed
killall: IPv6-relay: no process killed
killall: pppdv6: no process killed
killall: rtsol: no process killed
killall: dhcp6s: no process killed
killall: radvd: no process killed
route: ioctl 0x890c failed: No such process
killall: dhcp6s: no process killed
killall: radvd: no process killed
Hit enter to continue...</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168930">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mibs510</div>
					<div class="post-datetime">
						3 Jun 2012, 06:11					</div>
				</div>
				<div class="post-content content">
					<p>Have you managed to find out the actual serial pinout?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171741">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						6 Jul 2012, 21:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mibs510 wrote:</cite><blockquote><p>Have you managed to find out the actual serial pinout?</p></blockquote></div><p>i did. i took the device back and got an 3700v2 though. i cant remenber it now. its not hard to figure out. just move your leads around a bit</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>