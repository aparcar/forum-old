<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Out of memory on WL-520GU</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p117570">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nsluis</div>
					<div class="post-datetime">
						20 Sep 2010, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;ve been working on getting my wl-520gu router to run the latest openwrt version (r23080). Everything installed without problems but once i&#039;m starting to use it to play music from my network share it crashed all the time or gets really slow. Because I use the exactly same image on my wl-500gp without problems I suspected it has to do with memory. Even more because when I&#039;m creating larger files on /tmp I have the same problem.</p><p>When I started experimenting with creating files on /tmp I saw the following messages:</p><p>Mem-Info:<br />Normal per-cpu:<br />CPU&nbsp; &nbsp; 0: hi:&nbsp; &nbsp; 0, btch:&nbsp; &nbsp;1 usd:&nbsp; &nbsp;0<br />active_anon:546 inactive_anon:965 isolated_anon:0<br /> active_file:15 inactive_file:2 isolated_file:0<br /> unevictable:0 dirty:0 writeback:0 unstable:0<br /> free:127 slab_reclaimable:95 slab_unreclaimable:802<br /> mapped:5 shmem:556 pagetables:41 bounce:0<br />Normal free:508kB min:508kB low:632kB high:760kB active_anon:2184kB inactive_anon:3860kB active_file:60kB inactive_file:8kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:16256kB mlocked:0kB dirty:0kB writeback:0kB mapped:20kB shmem:2224kB slab_reclaimable:380kB slab_unreclaimable:3208kB kernel_stack:280kB pagetables:164kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:18 all_unreclaimable? no<br />lowmem_reserve[]: 0 0<br />Normal: 1*4kB 1*8kB 1*16kB 1*32kB 3*64kB 0*128kB 1*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 508kB<br />573 total pagecache pages<br />0 pages in swap cache<br />Swap cache stats: add 0, delete 0, find 0/0<br />Free swap&nbsp; = 0kB<br />Total swap = 0kB<br />4096 pages RAM<br />707 pages reserved<br />41 pages shared<br />3098 pages non-shared<br />Out of memory: kill process 1317 (dd) score 67 or a child<br />Killed process 1317 (dd) vsz:4340kB, anon-rss:2980kB, file-rss:0kB<br />dd: page allocation failure. order:0, mode:0x200da<br />Call Trace:[&lt;80023e08&gt;] 0x80023e08<br />[&lt;80009340&gt;] 0x80009340<br />[&lt;80009340&gt;] 0x80009340<br />[&lt;8006583c&gt;] 0x8006583c<br />[&lt;80071c4c&gt;] 0x80071c4c<br />[&lt;8005c98c&gt;] 0x8005c98c<br />[&lt;8005fb28&gt;] 0x8005fb28<br />[&lt;800791f0&gt;] 0x800791f0<br />[&lt;8005fbd8&gt;] 0x8005fbd8<br />[&lt;800922f4&gt;] 0x800922f4<br />[&lt;80016b7c&gt;] 0x80016b7c<br />[&lt;8014aea8&gt;] 0x8014aea8<br />[&lt;8014aee0&gt;] 0x8014aee0<br />[&lt;80092e2c&gt;] 0x80092e2c<br />[&lt;80092f98&gt;] 0x80092f98<br />[&lt;800a1004&gt;] 0x800a1004<br />[&lt;80003630&gt;] 0x80003630<br />[&lt;80005510&gt;] 0x80005510</p><p>So the problem really is memory. But what can I do to fix this? Would it be possible to reduce the size of /tmp to have more memory to work with? I have 6MB of free space there, which I guess I don&#039;t really need...</p><p>Thanks! </p><p>Nanne</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117572">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						20 Sep 2010, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>Put a USB memory stick of its USB port and use it as a swap partition.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117573">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nsluis</div>
					<div class="post-datetime">
						20 Sep 2010, 21:45					</div>
				</div>
				<div class="post-content content">
					<p>I need my single USB port for the sound. I think lots of people have reported the wl520gu to work as a mpd server. Is there another possibility to solve this problem / free up memory?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117578">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">playdude</div>
					<div class="post-datetime">
						20 Sep 2010, 21:55					</div>
				</div>
				<div class="post-content content">
					<p>Connect a USB hub to your 520gu, then connect the USB sound card and the USB stick to the hub to be used as swap.</p><p>Or a printer with USB and memory card inputs can be a good self-powered USB hub too, if you&#039;re cheap like me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117580">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">nsluis</div>
					<div class="post-datetime">
						20 Sep 2010, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, if that would be the only solution I&#039;ll just replace the 520gu with another 500gp. I hoped to have a second mpd player with only wifi and a USB sound card to play music from the central unit with the hard drive... I seemed such a nice setup <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117593">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						21 Sep 2010, 01:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nsluis wrote:</cite><blockquote><p>Hmm, if that would be the only solution I&#039;ll just replace the 520gu with another 500gp.</p></blockquote></div><p>If you already own an Asus 500GP router, then that may not be a bad idea. Otherwise, if you just want to run mpd + WiFi, a Seagate <a href="http://www.seagate.com/www/en-us/products/network_storage/freeagent_dockstar">DockStar</a>, as discussed <a href="https://forum.openwrt.org/viewtopic.php?id=25518">here</a>, may not be a bad idea. All you need is to get yourself a USB WiFi dongle for this device.</p><div class="quotebox"><blockquote><p>I hoped to have a second mpd player with only wifi and a USB sound card to play music from the central unit with the hard drive... I seemed such a nice setup <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>I have my Seagate DockStar booted with an OpenWRT firmware and it also has mpd. I sure would like if you can provide so help to get my DockStar working with the mpd. Your mpd configurations may also help. Thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>