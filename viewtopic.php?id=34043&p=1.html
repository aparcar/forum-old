<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asterisk18 is missing from snapshots</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 14 Apr 2018 and 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=34043&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p153877">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">raceway01</div>
					<div class="post-datetime">
						12 Jan 2012, 07:33					</div>
				</div>
				<div class="post-content content">
					<p>hi</p><p>i can&#039;t see any asterisk18 packages in snapshot any more.<br />can any one know why ?&nbsp; or some one forgot to upload it?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154190">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						14 Jan 2012, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>I have the same observations.&nbsp; When I tried to compile it, the selection does not contain chan_gtalk, which is necessary for gtalk.&nbsp; Does anyone know why and how to fix it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154192">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						14 Jan 2012, 20:46					</div>
				</div>
				<div class="post-content content">
					<p>raceway01: If its missing it most likely didn&#039;t build<br />twinclouds: How is &quot;missing chan_gtalk&quot; the same observation as &quot;no asterisk18 packages&quot; ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154194">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						14 Jan 2012, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>My snapshot of trunk is a few days old (just update today... still building)....</p><p>On the previous few days old, its failing to build asterisk in the configure script as it cant find libsrtp.&nbsp; I added this patch:</p><p><a href="http://patchwork.openwrt.org/patch/1712/">http://patchwork.openwrt.org/patch/1712/</a></p><p>in my current build as it doesnt seem to be in the updated&nbsp; revision I just got today in hopes it fixes it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154202">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						14 Jan 2012, 23:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>raceway01: If its missing it most likely didn&#039;t build<br />twinclouds: How is &quot;missing chan_gtalk&quot; the same observation as &quot;no asterisk18 packages&quot; ?</p></blockquote></div><p>They are the same from my point of view.&nbsp; Can you try to do a &quot;make menuconfig&quot; on trunk to see if you can select chan_gtalk module under Asterisk18?&nbsp; The ones available are: <br />&lt;M&gt; asterisk18............................... Complete open source P? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-chan-sccp-b................ SCCP channel provider for? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-chan-skinny............................ Skinny channe? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-codec-a-mu................... Alaw to ulaw translatio? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-codec-alaw.......... Signed linear to alaw translatio? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-codec-g722...................................... G.72? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-codec-g726......... Signed linear to G.726 translatio? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-curl............................................. CUR? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-format-g726..................................... G.72? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-format-g729...........&lt; &gt; asterisk18-format-g729<br />&nbsp; ? ? &lt; &gt; asterisk18-format-sln......................... Raw slinear forma? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-format-sln16.................... Raw slinear 16 forma? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-blacklist.................. Blacklist on calleri? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-channel............................. Channel inf? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-cut................................. CUT functio? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-db.......................... Database interactio? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-devstate................... Blinky lights contro? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-extstate.................. Hinted extension stat? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-global........................... Global variabl? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-shell...................................... Shel? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-uri.................... URI encoding and decodin? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-func-vmcount......................... vmcount dialpla? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-mysql........................................... MySQ? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-pbx-ael...................... Asterisk Extension Logi? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-pbx-spool.................................. Call Spoo? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-res-ael-share...................... Shareable AEL cod? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-res-agi.................... Asterisk Gateway Interfac? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-res-clioriginate........................ Calls via CL? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-res-crypto............................. Provide Crypt? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-res-musiconhold................................... MO? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-sounds............................................ So? ?&nbsp; <br />&nbsp; ? ? &lt; &gt; asterisk18-voicemail................................... Voicemai? ?&nbsp; <br />But no chan_gtalk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154206">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">raceway01</div>
					<div class="post-datetime">
						15 Jan 2012, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>Thanks for replay </p><p>Jow&nbsp; those asterisk18&#039;s ipk were their when first time i look at the snapshots after few days some one upload all new and i can see date changed</p><p>i mean asterisk18&#039;s ipk files are missing.&nbsp; &nbsp;please look at this link <a href="http://downloads.openwrt.org/snapshots/trunk/ixp4xx/packages/">http://downloads.openwrt.org/snapshots/ â€¦ /packages/</a>&nbsp; &nbsp;you will see other ipk but not asterisk18&nbsp; &nbsp; &nbsp;it was their before but not any more.</p><p>sorry for miss understanding. </p><p>can some one please upload it ? so people can use this ipk if they want to install asterisk18</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>raceway01</strong> on 15 Jan 2012, 00:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154222">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 02:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>raceway01 wrote:</cite><blockquote><p>Hi<br />...................<br />can some one please upload it ? so people can use this ipk if they want to install asterisk18</p><p>Thanks</p></blockquote></div><p>I could if I can select all of the modules including chan_gtalk.&nbsp; Otherwise, it will be incomplete.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154223">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 02:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>atuel wrote:</cite><blockquote><p>My snapshot of trunk is a few days old (just update today... still building)....</p><p>On the previous few days old, its failing to build asterisk in the configure script as it cant find libsrtp.&nbsp; I added this patch:</p><p><a href="http://patchwork.openwrt.org/patch/1712/">http://patchwork.openwrt.org/patch/1712/</a></p><p>in my current build as it doesnt seem to be in the updated&nbsp; revision I just got today in hopes it fixes it.</p></blockquote></div><p>Were you able to select chan_gtalk module?</p>											<p class="post-edited">(Last edited by <strong>twinclouds</strong> on 15 Jan 2012, 02:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154225">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 02:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>twinclouds wrote:</cite><blockquote><div class="quotebox"><cite>atuel wrote:</cite><blockquote><p>My snapshot of trunk is a few days old (just update today... still building)....</p><p>On the previous few days old, its failing to build asterisk in the configure script as it cant find libsrtp.&nbsp; I added this patch:</p><p><a href="http://patchwork.openwrt.org/patch/1712/">http://patchwork.openwrt.org/patch/1712/</a></p><p>in my current build as it doesnt seem to be in the updated&nbsp; revision I just got today in hopes it fixes it.</p></blockquote></div><p>Were you able to select chan_gtalk module?</p></blockquote></div><p>Nope.. its not there.&nbsp; Theres been a bunch of asterisk / srtp related activity in svn lately it seems.&nbsp; It looks even if it was there, it wouldnt build if you enable srtp support at least.&nbsp; It seems the srtp stuff relied on some patches that are not yet in svn.</p><p>This entry detials adding libsrtp to the build, but its not in the packages/libs so asterisk wont build if srtp is enabled.&nbsp; </p><p><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2008-August/003106.html">https://lists.openwrt.org/pipermail/ope â€¦ 03106.html</a></p><p>I have created the srtp directory/makefile/patches as it details, but I have to figure out how to get make menuconfig to pick up those changes so I can configure them to build (my linux kernel style hacking skills are rusty as hell).</p><p>Below is from my build.&nbsp; You&#039;ll note its applying some chan_gtalk patches right before the configure, so I&#039;m not sure if it would build it or not.&nbsp; I cant even get past the configure until I can sort out this srtp stuff.</p><br /><div class="codebox"><pre><code>make[3]: Entering directory `/media/data/trunk/feeds/packages/net/asterisk-1.8.x&#039;
mkdir -p /media/data/trunk/dl
/media/data/trunk/scripts/download.pl &quot;/media/data/trunk/dl&quot; &quot;asterisk-1.8.8.0.tar.gz&quot; &quot;7a32b35e1da0019c781b4ae10b599f61&quot; &quot;http://downloads.asterisk.org/pub/telephony/asterisk/releases/&quot;
--2012-01-14 18:14:37--  http://downloads.asterisk.org/pub/telephony/asterisk/releases/asterisk-1.8.8.0.tar.gz
Resolving downloads.asterisk.org... 76.164.171.233, 2001:470:e0d4::e9
Connecting to downloads.asterisk.org|76.164.171.233|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 24787461 (24M) [application/x-gzip]
Saving to: `STDOUT&#039;

100%[===========================================================================================================================&gt;] 24,787,461  2.63M/s   in 9.8s    

2012-01-14 18:14:47 (2.41 MB/s) - written to stdout [24787461/24787461]

. /media/data/trunk/include/shell.sh; . /media/data/trunk/include/shell.sh; gzip -dc /media/data/trunk/dl/asterisk-1.8.8.0.tar.gz | /bin/tar -C /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/.. -xf - 

Applying ./patches/100-build_tools-iconv.patch using plaintext: 
patching file build_tools/menuselect-deps.in

Applying ./patches/200-addons-defaultenable.patch using plaintext: 
patching file addons/app_mysql.c
patching file addons/app_saycountpl.c
patching file addons/cdr_mysql.c
patching file addons/chan_mobile.c
patching file addons/chan_ooh323.c
patching file addons/res_config_mysql.c

Applying ./patches/300-word_alignment_arm.patch using plaintext: 
patching file main/utils.c

Applying ./patches/400-gtalk.patch using plaintext: 
patching file channels/chan_gtalk.c
touch /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/.prepared_bce95ab605247d40e07bc9af38ccd16e
(cd /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/./; if [ -x ./configure ]; then /usr/bin/find /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/ -name config.guess | xargs -r chmod u+w; /usr/bin/find /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/ -name config.guess | xargs -r -n1 cp /media/data/trunk/scripts/config.guess; /usr/bin/find /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/ -name config.sub | xargs -r chmod u+w; /usr/bin/find /media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/ -name config.sub | xargs -r -n1 cp /media/data/trunk/scripts/config.sub; AR=mips-openwrt-linux-uclibc-ar AS=&quot;mips-openwrt-linux-uclibc-gcc -c -Os -pipe -mips32r2 -mtune=mips32r2 -fno-caller-saves -fhonour-copts -msoft-float&quot; LD=mips-openwrt-linux-uclibc-ld NM=mips-openwrt-linux-uclibc-nm CC=&quot;mips-openwrt-linux-uclibc-gcc&quot; GCC=&quot;mips-openwrt-linux-uclibc-gcc&quot; CXX=&quot;mips-openwrt-linux-uclibc-g++&quot; RANLIB=mips-openwrt-linux-uclibc-ranlib STRIP=mips-openwrt-linux-uclibc-strip OBJCOPY=mips-openwrt-linux-uclibc-objcopy OBJDUMP=mips-openwrt-linux-uclibc-objdump SIZE=mips-openwrt-linux-uclibc-size CFLAGS=&quot;-Os -pipe -mips32r2 -mtune=mips32r2 -fno-caller-saves -fhonour-copts -msoft-float -I/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/include -I/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/include -I/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/usr/include -I/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/include&quot; CXXFLAGS=&quot;-Os -pipe -mips32r2 -mtune=mips32r2 -fno-caller-saves -fhonour-copts -msoft-float -I/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/include -I/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/include -I/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/usr/include -I/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/include&quot; CPPFLAGS=&quot;-I/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/include -I/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/include -I/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/usr/include -I/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/include &quot; LDFLAGS=&quot;-L/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib -L/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/lib -L/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/usr/lib -L/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/lib -L/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib -L/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/lib -L/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/usr/lib -L/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/lib&quot;  ac_cv_lib_iksemel_iks_start_sasl=yes ac_cv_lib_gnutls_gnutls_bye=yes ./configure --target=mips-openwrt-linux --host=mips-openwrt-linux --build=x86_64-linux-gnu --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib --sysconfdir=/etc --datadir=/usr/share --localstatedir=/var --mandir=/usr/man --infodir=/usr/info --disable-nls   --without-dahdi --with-gnutls=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --with-iksemel=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --with-curl=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --with-mysqlclient=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/bin&quot; --with-bluetooth=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --with-srtp=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --without-curses --with-gsm=internal --without-gtk --without-gtk2 --without-isdnnet --without-kde --without-misdn --without-nbs --with-ncurses=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --without-netsnmp --without-newt --without-odbc --without-ogg --without-osptk --with-popt=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --without-pri --without-qt --without-radius --without-sdl --without-spandsp --without-suppserv --without-tds --without-termcap --without-tinfo --without-vorbis --without-vpb --with-z=&quot;/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr&quot; --with-sounds-cache=&quot;/media/data/trunk/dl&quot; --disable-xmldoc ; fi; )
configure: WARNING: unrecognized options: --disable-nls, --with-gnutls, --with-curl, --without-gtk, --without-kde, --without-odbc, --without-qt
configure: loading site script /media/data/trunk/include/site/mips-openwrt-linux-uclibc
checking build system type... x86_64-pc-linux-gnu
checking host system type... mips-openwrt-linux-gnu
checking for mips-openwrt-linux-gcc... mips-openwrt-linux-uclibc-gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... yes
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether mips-openwrt-linux-uclibc-gcc accepts -g... yes
checking for mips-openwrt-linux-uclibc-gcc option to accept ISO C89... none needed
checking how to run the C preprocessor... mips-openwrt-linux-uclibc-gcc -E
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking minix/config.h usability... no
checking minix/config.h presence... no
checking for minix/config.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking for mips-openwrt-linux-uname... no
checking for uname... /bin/uname
configure: WARNING: using cross tools not prefixed with host triplet
checking for mips-openwrt-linux-gcc... (cached) mips-openwrt-linux-uclibc-gcc
checking for mips-openwrt-linux-g++... mips-openwrt-linux-uclibc-g++
checking for mips-openwrt-linux-ld... mips-openwrt-linux-uclibc-ld
checking for mips-openwrt-linux-ranlib... mips-openwrt-linux-uclibc-ranlib
checking for mips-openwrt-linux-gcc... (cached) mips-openwrt-linux-uclibc-gcc
checking whether we are using the GNU C compiler... (cached) yes
checking whether mips-openwrt-linux-uclibc-gcc accepts -g... (cached) yes
checking for mips-openwrt-linux-uclibc-gcc option to accept ISO C89... (cached) none needed
checking whether we are using the GNU C++ compiler... yes
checking whether mips-openwrt-linux-uclibc-g++ accepts -g... yes
checking how to run the C preprocessor... mips-openwrt-linux-uclibc-gcc -E
checking how to run the C++ preprocessor... mips-openwrt-linux-uclibc-g++ -E
checking for a sed that does not truncate output... /media/data/trunk/staging_dir/host/bin/sed
checking for egrep... grep -E
checking for ld used by mips-openwrt-linux-uclibc-gcc... mips-openwrt-linux-uclibc-ld
checking if the linker (mips-openwrt-linux-uclibc-ld) is GNU ld... yes
checking for gawk... gawk
checking for a BSD-compatible install... /usr/bin/install -c
checking whether ln -s works... yes
checking for mips-openwrt-linux-ranlib... (cached) mips-openwrt-linux-uclibc-ranlib
checking for GNU make... make
checking for egrep... (cached) /bin/grep -E
checking for mips-openwrt-linux-strip... mips-openwrt-linux-uclibc-strip
checking for mips-openwrt-linux-ar... mips-openwrt-linux-uclibc-ar
checking for mips-openwrt-linux-sha1sum... no
checking for sha1sum... sha1sum
checking for mips-openwrt-linux-openssl... no
checking for openssl... openssl
checking for bison... /media/data/trunk/staging_dir/host/bin/bison
checking for cmp... /usr/bin/cmp
checking for flex... /media/data/trunk/staging_dir/host/bin/flex
checking for grep... (cached) /bin/grep
checking for find... /usr/bin/find
checking for compress... :
checking for basename... /usr/bin/basename
checking for dirname... /usr/bin/dirname
checking for sh... /bin/bash
checking for ln... /bin/ln
checking for dot... :
checking for wget... /usr/bin/wget
checking for curl... :
checking for rubber... :
checking for catdvi... :
checking for kpsewhich... :
checking for xmllint... /usr/bin/xmllint
checking for xmlstarlet... :
checking for bison that supports parse-param... /media/data/trunk/staging_dir/host/bin/bison
checking for mips-openwrt-linux-soxmix... no
checking for soxmix... no
checking for md5... no
checking for md5sum... md5sum
checking for the pthreads library -lpthreads... no
checking whether pthreads work without any flags... no
checking whether pthreads work with -Kthread... no
checking whether pthreads work with -kthread... no
checking for the pthreads library -llthread... no
checking whether pthreads work with -pthread... yes
checking for joinable pthread attribute... PTHREAD_CREATE_JOINABLE
checking if more special flags are required for pthreads... no
checking for gawk... (cached) gawk
checking for curl-config... /media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/host/bin/curl-config
checking for the version of libcurl... 7.21.7
checking for libcurl &gt;= version 7.10.1... yes
checking whether libcurl is usable... yes
checking for curl_free... yes
checking for working alloca.h... yes
checking for alloca... yes
checking for dirent.h that defines DIR... yes
checking for library containing opendir... none required
checking for ANSI C header files... (cached) yes
checking for sys/wait.h that is POSIX.1 compatible... yes
checking arpa/inet.h usability... yes
checking arpa/inet.h presence... yes
checking for arpa/inet.h... yes
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking for inttypes.h... (cached) yes
checking libintl.h usability... no
checking libintl.h presence... no
checking for libintl.h... no
checking limits.h usability... yes
checking limits.h presence... yes
checking for limits.h... yes
checking locale.h usability... yes
checking locale.h presence... yes
checking for locale.h... yes
checking malloc.h usability... yes
checking malloc.h presence... yes
checking for malloc.h... yes
checking netdb.h usability... yes
checking netdb.h presence... yes
checking for netdb.h... yes
checking netinet/in.h usability... yes
checking netinet/in.h presence... yes
checking for netinet/in.h... yes
checking stddef.h usability... yes
checking stddef.h presence... yes
checking for stddef.h... yes
checking for stdint.h... (cached) yes
checking for stdlib.h... (cached) yes
checking for string.h... (cached) yes
checking for strings.h... (cached) yes
checking sys/event.h usability... no
checking sys/event.h presence... no
checking for sys/event.h... no
checking sys/file.h usability... yes
checking sys/file.h presence... yes
checking for sys/file.h... yes
checking sys/ioctl.h usability... yes
checking sys/ioctl.h presence... yes
checking for sys/ioctl.h... yes
checking sys/param.h usability... yes
checking sys/param.h presence... yes
checking for sys/param.h... yes
checking sys/socket.h usability... yes
checking sys/socket.h presence... yes
checking for sys/socket.h... yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking syslog.h usability... yes
checking syslog.h presence... yes
checking for syslog.h... yes
checking termios.h usability... yes
checking termios.h presence... yes
checking for termios.h... yes
checking for unistd.h... (cached) yes
checking utime.h usability... yes
checking utime.h presence... yes
checking for utime.h... yes
checking arpa/nameser.h usability... yes
checking arpa/nameser.h presence... yes
checking for arpa/nameser.h... yes
checking sys/io.h usability... no
checking sys/io.h presence... no
checking for sys/io.h... no
checking for initscr in -lncurses... yes
checking curses.h usability... yes
checking curses.h presence... yes
checking for curses.h... yes
checking xlocale.h usability... no
checking xlocale.h presence... no
checking for xlocale.h... no
checking winsock.h usability... no
checking winsock.h presence... no
checking for winsock.h... no
checking winsock2.h usability... no
checking winsock2.h presence... no
checking for winsock2.h... no
checking sys/poll.h usability... yes
checking sys/poll.h presence... yes
checking for sys/poll.h... yes
checking for special C compiler options needed for large files... no
checking for _FILE_OFFSET_BITS value needed for large files... 64
checking for stdbool.h that conforms to C99... yes
checking for _Bool... yes
checking for an ANSI C-conforming const... yes
checking for uid_t in sys/types.h... yes
checking for inline... inline
checking for long double with more range or precision than double... no
checking for mode_t... yes
checking for off_t... yes
checking for pid_t... yes
checking for size_t... yes
checking for struct stat.st_blksize... yes
checking for struct ucred.uid... yes
checking for struct ucred.cr_uid... no
checking for struct ifreq.ifr_ifru.ifru_hwaddr... yes
checking whether time.h and sys/time.h may both be included... yes
checking whether struct tm is in sys/time.h or time.h... time.h
checking for working volatile... yes
checking for ptrdiff_t... yes
checking for unistd.h... (cached) yes
checking for working chown... no
checking whether closedir returns void... yes
checking for error_at_line... yes
checking vfork.h usability... no
checking vfork.h presence... no
checking for vfork.h... no
checking for fork... yes
checking for vfork... yes
configure: WARNING: result yes guessed because of cross compilation
checking for working fork... cross
checking for working vfork... (cached) yes
checking for _LARGEFILE_SOURCE value needed for large files... no
checking whether mips-openwrt-linux-uclibc-gcc needs -traditional... no
checking for working memcmp... (cached) yes
checking for stdlib.h... (cached) yes
checking for unistd.h... (cached) yes
checking for getpagesize... yes
checking for working mmap... no
checking sys/select.h usability... yes
checking sys/select.h presence... yes
checking for sys/select.h... yes
checking for sys/socket.h... (cached) yes
checking types of arguments for select... int,fd_set *,struct timeval *
(cached) checking return type of signal handlers... void
checking whether lstat dereferences a symlink specified with a trailing slash... (cached) yes
checking whether stat accepts an empty string... (cached) no
checking for working strcoll... no
checking for strftime... (cached) yes
checking for working strnlen... no
checking for working strtod... no
checking for pow... no
checking for pow in -lm... yes
checking for utime.h... (cached) yes
checking whether utime accepts a null argument... no
checking for vprintf... yes
checking for _doprnt... no
checking for asprintf... yes
checking for atexit... yes
checking for closefrom... no
checking for dup2... yes
checking for eaccess... no
checking for endpwent... yes
checking for euidaccess... no
checking for ffsll... yes
checking for ftruncate... yes
checking for getcwd... (cached) yes
checking for gethostbyname... yes
checking for gethostname... yes
checking for getloadavg... no
checking for gettimeofday... (cached) yes
checking for glob... yes
checking for htonll... no
checking for ioperm... yes
checking for inet_ntoa... yes
checking for isascii... yes
checking for memchr... yes
checking for memmove... yes
checking for memset... yes
checking for mkdir... yes
checking for mkdtemp... yes
checking for munmap... yes
checking for ntohll... no
checking for newlocale... no
checking for ppoll... yes
checking for putenv... yes
checking for re_comp... yes
checking for regcomp... yes
checking for select... yes
checking for setenv... yes
checking for socket... yes
checking for strcasecmp... yes
checking for strcasestr... yes
checking for strchr... yes
checking for strcspn... yes
checking for strdup... yes
checking for strerror... (cached) yes
checking for strlcat... yes
checking for strlcpy... yes
checking for strncasecmp... yes
checking for strndup... yes
checking for strnlen... yes
checking for strrchr... yes
checking for strsep... yes
checking for strspn... yes
checking for strstr... yes
checking for strtod... (cached) no
checking for strtol... yes
checking for strtold... yes
checking for strtoq... yes
checking for unsetenv... yes
checking for utime... yes
checking for vasprintf... yes
checking for getpeereid... no
checking for sysctl... yes
checking for swapctl... no
checking for sqrt in -lm... yes
checking for exp2... yes
checking for log2... yes
checking for exp10... no
checking for log10... yes
checking for sin... yes
checking for cos... yes
checking for tan... yes
checking for asin... yes
checking for acos... yes
checking for atan... yes
checking for atan2... yes
checking for pow... (cached) no
checking for rint... yes
checking for exp... yes
checking for log... yes
checking for remainder... yes
checking for fmod... yes
checking for round... yes
checking for trunc... yes
checking for floor... yes
checking for ceil... yes
checking for LLONG_MAX in limits.h... yes
checking for timersub in time.h... yes
checking for a version of GNU ld that supports the --dynamic-list flag... yes
checking for sys/poll.h... (cached) yes
checking for funopen... no
checking for fopencookie... yes
checking for inet_aton... yes
checking for IP_PKTINFO... yes
checking for library containing gethostbyname_r... none required
checking for gethostbyname_r with 6 arguments... yes
checking for gethostbyname_r with 5 arguments... no
checking byteswap.h usability... yes
checking byteswap.h presence... yes
checking for byteswap.h... yes
checking for __swap16 variant of &lt;sys/endian.h&gt; byteswapping macros... no
checking for bswap16 variant of &lt;sys/endian.h&gt; byteswapping macros... no
checking for locale_t in locale.h... no
checking for locale_t in xlocale.h... no
checking for O_EVTONLY in fcntl.h... no
checking for O_SYMLINK in fcntl.h... no
checking for PTHREAD_RWLOCK_INITIALIZER in pthread.h... yes
checking for PTHREAD_RWLOCK_PREFER_WRITER_NP in pthread.h... yes
checking for PTHREAD_MUTEX_RECURSIVE_NP in pthread.h... yes
checking for pthread_rwlock_timedwrlock() in pthread.h... yes
checking if PTHREAD_ONCE_INIT needs braces... no
checking for PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP in pthread.h... yes
checking whether we can compare a mutex to its initial value... no
checking for compiler atomic operations... yes
checking if your system printf is NULL-safe.... unknown
checking if we can increase the maximum select-able file descriptor... cross-compile
checking for compiler &#039;attribute pure&#039; support... yes
checking for compiler &#039;attribute malloc&#039; support... yes
checking for compiler &#039;attribute const&#039; support... yes
checking for compiler &#039;attribute unused&#039; support... yes
checking for compiler &#039;attribute always_inline&#039; support... yes
checking for compiler &#039;attribute deprecated&#039; support... yes
checking for compiler &#039;attribute sentinel&#039; support... yes
checking for compiler &#039;attribute warn_unused_result&#039; support... yes
checking for compiler &#039;attribute weak_import&#039; support... no
checking for compiler &#039;attribute weak&#039; support... yes
checking for compiler &#039;attribute weakref&#039; support... no
checking for -ffunction-sections support... yes
checking for --gc-sections support... yes
checking for -Wdeclaration-after-statement support... yes
checking for _FORTIFY_SOURCE support... yes
checking for -fno-strict-overflow... yes
checking for -Wshadow... yes
checking for sysinfo... yes
checking for library containing res_9_ninit... no
checking for res_ninit... no
checking for GLOB_NOMAGIC in glob.h... yes
checking for GLOB_BRACE in glob.h... yes
checking for IP_MTU_DISCOVER in netinet/in.h... yes
checking libkern/OSAtomic.h usability... no
checking libkern/OSAtomic.h presence... no
checking for libkern/OSAtomic.h... no
checking size of int... (cached) 4
checking size of long... (cached) 4
checking size of long long... (cached) 8
checking size of char *... 4
checking size of long... (cached) 4
checking size of long long... (cached) 8
checking size of fd_set.fds_bits... (cached) 4
checking for dladdr in dlfcn.h... yes
checking for mips-openwrt-linux-pkg-config... no
checking for pkg-config... pkg-config
checking for snd_spcm_init in -lasound... no
checking for bfd_openr in -lbfd... no
checking for cap_from_text in -lcap... no
checking for DAHDI_RESET_COUNTERS in dahdi/user.h... no
checking for DAHDI_DEFAULT_MTU_MRU in dahdi/user.h... no
checking for DAHDI_CODE in dahdi/user.h... no
checking for DAHDI_POLICY_HALF_FULL in dahdi/user.h... no
checking for enhanced dahdi vmwi support... no
checking if &quot;int foo = DAHDI_ECHOCANCEL_FAX_MODE&quot; compiles using dahdi/user.h... no
checking for getifaddrs() support... yes
checking for timerfd support... yes
checking for iconv_open in -liconv... no
checking for libiconv_open in -liconv... no
checking for iconv_close in -lc... no
checking for icaltimezone_get_utc_timezone in -lical... no
checking for iks_start_sasl in -liksemel... (cached) yes
checking iksemel.h usability... yes
checking iksemel.h presence... yes
checking for iksemel.h... yes
checking for UW IMAP Toolkit c-client library... no
checking for system c-client library...... no
checking for SQLConnect in -liodbc... no
checking for inotify_init in -lc... yes
checking sys/inotify.h usability... yes
checking sys/inotify.h presence... yes
checking for sys/inotify.h... yes
checking for jack_activate in -ljack... no
checking for kqueue in -lc... no
checking for kevent64... no
checking for lt_dlinit in -lltdl... yes
checking ltdl.h usability... yes
checking ltdl.h presence... yes
checking for ltdl.h... yes
checking for ldap_initialize in -lldap... no
checking for mips-openwrt-linux-mysql_config... no
checking for mysql_config... /media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/host/bin/mysql_config
checking for mips-openwrt-linux-neon-config... no
checking for neon-config... no
checking for mips-openwrt-linux-neon-config... no
checking for neon-config... no
checking for SQLConnect in -lodbc... no
checking for backtrace in -lexecinfo... no
checking for backtrace in -lc... no
checking for ba2str in -lbluetooth... yes
checking bluetooth/bluetooth.h usability... yes
checking bluetooth/bluetooth.h presence... yes
checking for bluetooth/bluetooth.h... yes
checking linux/soundcard.h usability... yes
checking linux/soundcard.h presence... yes
checking for linux/soundcard.h... yes
checking for mips-openwrt-linux-pg_config... no
checking for pg_config... no
checking for poptStrerror in -lpopt... yes
checking popt.h usability... yes
checking popt.h presence... yes
checking for popt.h... yes
checking for Pa_GetDeviceCount in -lportaudio... no
checking for pri_persistent_layer2_option in -lpri... no
checking for pri_mwi_indicate in -lpri... no
checking for pri_mcid_enable in -lpri... no
checking for pri_connect_ack_enable in -lpri... no
checking for pri_aoc_events_enable in -lpri... no
checking for pri_transfer_enable in -lpri... no
checking for pri_cc_enable in -lpri... no
checking for pri_hangup_fix_enable in -lpri... no
checking for pri_sr_set_called_subaddress in -lpri... no
checking for pri_hold_enable in -lpri... no
checking for pri_reroute_enable in -lpri... no
checking for pri_sr_set_keypad_digits in -lpri... no
checking for pri_progress_with_cause in -lpri... no
checking for pri_set_inbanddisconnect in -lpri... no
checking for pri_maintenance_service in -lpri... no
checking for pri_sr_set_reversecharge in -lpri... no
checking for resample_open in -lresample... no
checking for ss7_pollflags in -lss7... no
checking for openr2_chan_new in -lopenr2... no
checking /home/atuel/pwlib/include/ptlib.h usability... no
checking /home/atuel/pwlib/include/ptlib.h presence... no
checking for /home/atuel/pwlib/include/ptlib.h... no
checking /usr/local/include/ptlib.h usability... no
checking /usr/local/include/ptlib.h presence... no
checking for /usr/local/include/ptlib.h... no
checking /usr/include/ptlib.h usability... no
checking /usr/include/ptlib.h presence... no
checking for /usr/include/ptlib.h... no
checking for luaL_newstate in -llua5.1... no
checking for luaL_register in -llua... no
checking for saClmInitialize in -lSaClm... no
checking for speex_encode in -lspeex... no
checking for speex_preprocess_ctl in -lspeex... no
checking for speex_preprocess_ctl in -lspeexdsp... no
checking for sqlite_exec in -lsqlite... no
checking for sqlite3_open in -lsqlite3... no
checking for AES_encrypt in -lcrypto... yes
checking openssl/aes.h usability... yes
checking openssl/aes.h presence... yes
checking for openssl/aes.h... yes
checking for SSL_connect in -lssl... yes
checking openssl/ssl.h usability... yes
checking openssl/ssl.h presence... yes
checking for openssl/ssl.h... yes
checking for srtp_init in -lsrtp... no
checking for mips-openwrt-linux-gmime-config... no
checking for gmime-config... no
checking for malloc in -lhoard... no
checking for tone_zone_find_by_num in -ltonezone... no
checking for tone_zone_find in -ltonezone... no
checking for usb_init in -lusb... no
checking for compress in -lz... yes
checking zlib.h usability... yes
checking zlib.h presence... yes
checking for zlib.h... yes
checking h323.h usability... no
checking h323.h presence... no
checking for h323.h... no
checking linux/compiler.h usability... no
checking linux/compiler.h presence... no
checking for linux/compiler.h... no
checking for linux/ixjuser.h... yes
checking for MSG_NOSIGNAL in sys/socket.h... yes
checking for SO_NOSIGPIPE in sys/socket.h... no
checking for IMG_Load in -lSDL_image... no
checking for sws_getContext in -lavcodec... no
checking linux/videodev.h usability... no
checking linux/videodev.h presence... no
checking for linux/videodev.h... no
checking for XOpenDisplay in -lX11... no
checking for XOpenDisplay in -lX11... (cached) no
Package gtk+-2.0 was not found in the pkg-config search path.
Perhaps you should add the directory containing `gtk+-2.0.pc&#039;
to the PKG_CONFIG_PATH environment variable
No package &#039;gtk+-2.0&#039; found
checking for LOG_AUTH in syslog.h... yes
checking for LOG_AUTHPRIV in syslog.h... yes
checking for LOG_CRON in syslog.h... yes
checking for LOG_DAEMON in syslog.h... yes
checking for LOG_FTP in syslog.h... yes
checking for LOG_KERN in syslog.h... yes
checking for LOG_LPR in syslog.h... yes
checking for LOG_MAIL in syslog.h... yes
checking for LOG_NEWS in syslog.h... yes
checking for LOG_SYSLOG in syslog.h... yes
checking for LOG_UUCP in syslog.h... yes
checking for mandatory modules:  BLUETOOTH GSM IKSEMEL MYSQLCLIENT NCURSES POPT SRTP ZLIB... fail

configure: ***
configure: *** The SRTP installation appears to be missing or broken.
configure: *** Either correct the installation, or run configure
configure: *** including --without-srtp.
make[3]: *** [/media/data/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/.configured_] Error 1
make[3]: Leaving directory `/media/data/trunk/feeds/packages/net/asterisk-1.8.x&#039;
make[2]: *** [package/feeds/packages/asterisk-1.8.x/compile] Error 2
make[2]: Leaving directory `/media/data/trunk&#039;
make[1]: *** [/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/stamp/.package_compile] Error 2
make[1]: Leaving directory `/media/data/trunk&#039;
make: *** [world] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154226">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 03:11					</div>
				</div>
				<div class="post-content content">
					<p>It seems that I don&#039;t have problem to build the packages, except I cannot select chan_gtalk module.&nbsp; Maybe there are others I haven&#039;t check.&nbsp; In any case, it is useless without it because I mainly use it for gtalk.<br />I tried to use the older backfire Asterisk18 packages in the new build but it complains that the libssl.0.9.8 was not there.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154227">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 03:19					</div>
				</div>
				<div class="post-content content">
					<p>not sure... may be shooing myself in the foot a bit, but started tryign to get luci to build.&nbsp; The buidl I had from days back did build, but I dont think it did asterisk or anything as luci was missing.&nbsp; It worked but was missing a lot of stuff.&nbsp; I was using the config file from backfire 10.03.1 and forgot to do make old config to pick up the changes at first as well.&nbsp; Anyway, this is what I&#039;ve done so far:</p><br /><p>svn co svn://svn.openwrt.org/openwrt/trunk<br />cd trunk<br />scripts/feeds update -a<br />&lt;create the srtp dir from the patch above&gt;<br />scripts/feeds update -a (run it again to pick up the new srtp lib)<br />scripts/feeds install -a<br />wget <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/config">http://downloads.openwrt.org/backfire/1 â€¦ 1xx/config</a><br />mv config .config<br />make oldconfig<br />&lt;hit enter to accept module for all stuff&gt;<br />make menuconfig<br />select AR71xx and routerstation pro.&nbsp; <br />(also noted netem which is what I&#039;m really after is set to module)<br />(also noted the there is not chan_gtalk in the telephony section - and noted libsrtp is now present and enabled for module in libaries)<br />make world V=99 2&gt;&amp;1 |tee out</p><br /><p>This is current building fresh now, so will be a bit to see if it&#039;ll build now.&nbsp; Preivously I&nbsp; in the log above, I did not do the srtp lib parts, so hopefully this will build.&nbsp; I am still not sure if it&#039;ll build chan_gtalk under the covers since it was definitely applying patches for it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154228">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>oh.. when i updated all this stuff I got some stuff complaining openssl was not there.&nbsp; It was complainign that openssl devel was not on the host system, so I had to install that.&nbsp; Not sure if its the same thing as you have.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154229">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 03:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>atuel wrote:</cite><blockquote><p>not sure... may be shooing myself in the foot a bit, but started tryign to get luci to build.&nbsp; The buidl I had from days back did build, but I dont think it did asterisk or anything as luci was missing.&nbsp; It worked but was missing a lot of stuff.&nbsp; I was using the config file from backfire 10.03.1 and forgot to do make old config to pick up the changes at first as well.&nbsp; Anyway, this is what I&#039;ve done so far:</p><br /><p>svn co svn://svn.openwrt.org/openwrt/trunk<br />cd trunk<br />scripts/feeds update -a<br />&lt;create the srtp dir from the patch above&gt;<br />scripts/feeds update -a (run it again to pick up the new srtp lib)<br />scripts/feeds install -a<br />wget <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/config">http://downloads.openwrt.org/backfire/1 â€¦ 1xx/config</a><br />mv config .config<br />make oldconfig<br />&lt;hit enter to accept module for all stuff&gt;<br />make menuconfig<br />select AR71xx and routerstation pro.&nbsp; <br />(also noted netem which is what I&#039;m really after is set to module)<br />(also noted the there is not chan_gtalk in the telephony section - and noted libsrtp is now present and enabled for module in libaries)<br />make world V=99 2&gt;&amp;1 |tee out</p><br /><p>This is current building fresh now, so will be a bit to see if it&#039;ll build now.&nbsp; Preivously I&nbsp; in the log above, I did not do the srtp lib parts, so hopefully this will build.&nbsp; I am still not sure if it&#039;ll build chan_gtalk under the covers since it was definitely applying patches for it.</p></blockquote></div><p>I did the same thing expect I didn&#039;t do: <br />&quot;wget <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/config">http://downloads.openwrt.org/backfire/1 â€¦ 1xx/config</a><br />mv config .config<br />make oldconfig&quot;<br />Why you need to use the old config?</p>											<p class="post-edited">(Last edited by <strong>twinclouds</strong> on 15 Jan 2012, 03:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154232">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 04:01					</div>
				</div>
				<div class="post-content content">
					<p>Well, i started this out tyring to buidl netem on backfire 10.03.1 so used the official config file that is off the download site.&nbsp; Then after giving up with gettign that on backfire I switched to trunk that supposedly includes netem by default.&nbsp; Originally I had an empty config, so I wanted close to the backfire config, so I started with that and updated any missing/new options with the make&nbsp; oldconfig.</p><p>Maybe a round about way to get there, but its what I did.</p><p>Oh, and looks like someone munged up the asterisk makefile a bit... </p><p>I looked at svn.openwrt.org/openwrt/packages revision 21419 which is the asterisk 1.4/1.6 levels.&nbsp; It has this is the packages/net/asterisk-1.6.x/Makefile</p><p>define Package/asterisk16-chan-gtalk/conffiles&nbsp; &nbsp;(NOTE THIS LINE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!)<br />/etc/asterisk/gtalk.conf<br />/etc/asterisk/jabber.conf<br />endef</p><p>In the latest revision, its now asterisk 1.8.x and in file&nbsp; packages/net/asterisk-1.6.x/Makefile the same lines appear to be missing the define line:</p><p>(NOTE THE DEFILE LINE THAT SHOULD BE HERE IS MISSING.. previous line is endef from a mysql related package)<br />/etc/asterisk/gtalk.conf<br />/etc/asterisk/jabber.conf<br />endef</p><br /><p>Not sure if its needed, but the new is also missing the following blurb from the same file:</p><br /><p>ifneq ($(SDK)$(CONFIG_PACKAGE_asterisk16-chan-gtalk),)<br />&nbsp; CONFIGURE_ARGS+= \<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-gnutls=&quot;$(STAGING_DIR)/usr&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-iksemel=&quot;$(STAGING_DIR)/usr&quot;<br />&nbsp; SITE_VARS+= \<br />&nbsp; &nbsp; &nbsp; &nbsp; ac_cv_lib_iksemel_iks_start_sasl=yes \<br />&nbsp; &nbsp; &nbsp; &nbsp; ac_cv_lib_gnutls_gnutls_bye=yes<br />else<br />&nbsp; CONFIGURE_ARGS+= \<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-gnutls \<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-iksemel<br />endif</p><br /><p>However, even doing this, it fails to come up in the menu config... shows that the asterisk 1.8 stuff probalby needs some more looking at to clean up though...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154234">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 04:16					</div>
				</div>
				<div class="post-content content">
					<p>Found some more munged in the asterisk1.8.x/Makefile...&nbsp; It seems someone did a bad find/replace from the 1.6 makefile and dropped a bunch of &quot;+&quot; off the DEPENDS statements.&nbsp; Its not limited to chan-gtalk, but as an example, the Makefile has this:</p><div class="codebox"><pre><code>define Package/asterisk18-chan-gtalk
$(call Package/asterisk18/Default)
  TITLE:=GTalk support
  DEPENDS:= asterisk18 +libiksemel
endef</code></pre></div><p>Note the DEPENDS line and no + before asteris18.&nbsp; I added the + back in there and in every other DEPENDS line in the file and it added a shitload of stuff to my Telephony menu in menuconifg.&nbsp; I also added those config options above in my previous post as guessing they&#039;re probably needed.&nbsp; </p><br /><p>Building now, but it&#039;ll be a while.......</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154235">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 04:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>atuel wrote:</cite><blockquote><p>Found some more munged in the asterisk1.8.x/Makefile...&nbsp; It seems someone did a bad find/replace from the 1.6 makefile and dropped a bunch of &quot;+&quot; off the DEPENDS statements.&nbsp; Its not limited to chan-gtalk, but as an example, the Makefile has this:</p><div class="codebox"><pre><code>define Package/asterisk18-chan-gtalk
$(call Package/asterisk18/Default)
  TITLE:=GTalk support
  DEPENDS:= asterisk18 +libiksemel
endef</code></pre></div><p>Note the DEPENDS line and no + before asteris18.&nbsp; I added the + back in there and in every other DEPENDS line in the file and it added a shitload of stuff to my Telephony menu in menuconifg.&nbsp; I also added those config options above in my previous post as guessing they&#039;re probably needed.&nbsp; </p><br /><p>Building now, but it&#039;ll be a while.......</p></blockquote></div><p>Great finding! I added the + sign and it now shown on the menuconfig.&nbsp; I will try also and let you know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154236">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						15 Jan 2012, 04:31					</div>
				</div>
				<div class="post-content content">
					<p>As expected, the buildbots fail to compile current asterisk-1.8: <a href="http://buildbot.openwrt.org:8010/broken_packages/ar71xx/asterisk-1.8.x/compile.txt">http://buildbot.openwrt.org:8010/broken â€¦ ompile.txt</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154244">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 07:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>twinclouds wrote:</cite><blockquote><div class="quotebox"><cite>atuel wrote:</cite><blockquote><p>Found some more munged in the asterisk1.8.x/Makefile...&nbsp; It seems someone did a bad find/replace from the 1.6 makefile and dropped a bunch of &quot;+&quot; off the DEPENDS statements.&nbsp; Its not limited to chan-gtalk, but as an example, the Makefile has this:</p><div class="codebox"><pre><code>define Package/asterisk18-chan-gtalk
$(call Package/asterisk18/Default)
  TITLE:=GTalk support
  DEPENDS:= asterisk18 +libiksemel
endef</code></pre></div><p>Note the DEPENDS line and no + before asteris18.&nbsp; I added the + back in there and in every other DEPENDS line in the file and it added a shitload of stuff to my Telephony menu in menuconifg.&nbsp; I also added those config options above in my previous post as guessing they&#039;re probably needed.&nbsp; </p><br /><p>Building now, but it&#039;ll be a while.......</p></blockquote></div><p>Great finding! I added the + sign and it now shown on the menuconfig.&nbsp; I will try also and let you know.</p></blockquote></div><p>Still didn&#039;t work.&nbsp; I had the following:</p><p>install: cannot stat `/home/fling/openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.32/asterisk-1.8.8.0/ipkg-install/usr/lib/asterisk/modules/chan_gtalk.so&#039;: No such file or directory<br />make[3]: *** [/home/fling/openwrt/trunk/bin/ar71xx/packages/asterisk18-chan-gtalk_1.8.8.0-1_ar71xx.ipk] Error 1<br />make[3]: Leaving directory `/home/fling/openwrt/trunk/feeds/packages/net/asterisk-1.8.x&#039;<br />make[2]: *** [package/feeds/packages/asterisk-1.8.x/compile] Error 2<br />make[2]: Leaving directory `/home/fling/openwrt/trunk&#039;<br />make[1]: *** [/home/fling/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/fling/openwrt/trunk&#039;<br />make: *** [world] Error 2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154246">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>Looks like mine actually compiled now... though so much damn hacking on it it&#039;s going to need a diff to figure out what they need to check in....&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; I think I have it all briefly detailed above, but woudl need a diff to check.</p><p>Anyway, it broke later on on batmand... havent even started looking at this particular problem.</p><div class="codebox"><pre><code>install -m 0755 vis /media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/ipkg-install/usr/sbin
make[4]: Leaving directory `/media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/vis&#039;
cp /media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules/Makefile.kbuild /media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules/Makefile
make -C &quot;/media/data/trunk/build_dir/linux-ar71xx_generic/linux-2.6.39.4&quot; CROSS_COMPILE=&quot;mips-openwrt-linux-uclibc-&quot; ARCH=&quot;mips&quot; PATH=&quot;/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/bin:/media/data/trunk/staging_dir/host/bin:/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/bin:/media/data/trunk/staging_dir/host/bin:/media/data/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/bin:/media/data/trunk/staging_dir/host/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games&quot; SUBDIRS=&quot;/media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules&quot; LINUX_VERSION=&quot;2.6.39.4&quot; REVISION=&quot;1439&quot; modules
make[4]: Entering directory `/media/data/trunk/build_dir/linux-ar71xx_generic/linux-2.6.39.4&#039;
  CC [M]  /media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules/gateway.o
/media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules/gateway.c:175:28: fatal error: linux/smp_lock.h: No such file or directory
compilation terminated.
make[5]: *** [/media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules/gateway.o] Error 1
make[4]: *** [_module_/media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/batman/linux/modules] Error 2
make[4]: Leaving directory `/media/data/trunk/build_dir/linux-ar71xx_generic/linux-2.6.39.4&#039;
make[3]: *** [/media/data/trunk/build_dir/linux-ar71xx_generic/batmand-r1439/.built] Error 2
make[3]: Leaving directory `/media/data/trunk/feeds/packages/net/batman&#039;
make[2]: *** [package/feeds/packages/batman/compile] Error 2
make[2]: Leaving directory `/media/data/trunk&#039;
make[1]: *** [/media/data/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/stamp/.package_compile] Error 2
make[1]: Leaving directory `/media/data/trunk&#039;
make: *** [world] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154249">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						15 Jan 2012, 08:48					</div>
				</div>
				<div class="post-content content">
					<p>Eventually, I made it work.&nbsp; I used the asterisk18 folder in backfire with asterisk 1.8.7.1, modified the make file by add + in front of asterisk18 of the DEPENDS statement.&nbsp; Then they can be selected in the make menuconifg and compiled without problem.&nbsp; I put them in my TP-LINK 703n and verified they work as expected. <br />Thanks to everybody for the suggestions.&nbsp; I didn&#039;t check if 1.8.8.0 or higher works but there will be not much differences anyway.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154269">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">atuel</div>
					<div class="post-datetime">
						15 Jan 2012, 14:34					</div>
				</div>
				<div class="post-content content">
					<p>Mind sharing your .config file?&nbsp; I&#039;m no expert at openwrt dependencies, but after killing off batman, i seem to be in some jail over libraries boost and wt that depends on it.&nbsp; Any chance I can just kill this off and expect things to work.</p><p>It seems wt depends on boost (and rblibtorrent that isnt even building or in menuconfig as its missing +&#039;s too)... and nothing depends on wt, so I&#039;m not sure why these are even here.&nbsp; Can I comment out without issue?</p><div class="codebox"><pre><code>atuel@ubuntu1104:/media/data/trunk$ find . -name Makefile -exec grep -H &#039;DEPENDS.*boost&#039; {} \;
./feeds/packages/libs/boost/Makefile:PKG_BUILD_DEPENDS:=boost/host
./feeds/packages/libs/rblibtorrent/Makefile:  DEPENDS:=+boost +boost-python +boost-filesystem +boost-regex +boost-thread +boost-program_options +boost-system +libopenssl @BROKEN
./feeds/packages/libs/wt/Makefile:  DEPENDS:= +libstdcpp +boost-date_time +boost-system +boost-filesystem +boost-thread +boost-program_options +boost-signals +boost-regex +libpthread

atuel@ubuntu1104:/media/data/trunk$ find . -name Makefile -exec grep -H &#039;DEPENDS.*wt&#039; {} \;
./feeds/packages/libs/newt/Makefile:  DEPENDS:= +libnewt
./feeds/packages/libs/zaptel-1.4.x/Makefile:  DEPENDS += +kmod-zaptel14 +zaptel14-libtonezone +libnewt
./feeds/packages/libs/wt/Makefile:  DEPENDS:=wt
./feeds/packages/libs/wt/Makefile:  DEPENDS:=wt +fcgixx
./feeds/packages/libs/wt/Makefile:  DEPENDS:=wt +PACKAGE_wt_http_zlib:zlib +PACKAGE_wt_http_ssl:libopenssl
./feeds/packages/libs/wt/Makefile:  DEPENDS:=wt
./feeds/packages/libs/wt/Makefile:  DEPENDS:=wt +wt-dbo</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154331">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						16 Jan 2012, 02:01					</div>
				</div>
				<div class="post-content content">
					<p>I am not an expert either.&nbsp; I never really edit any config files except the makefile for asterisk18.&nbsp; I just used the standard way to get the feeds files.<br />BTW, I used the same makefile to compile asterisk 1.8.8.1 by change the source file name and delete the MD5 value.&nbsp; It works on my 703n also.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154388">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						16 Jan 2012, 14:32					</div>
				</div>
				<div class="post-content content">
					<p>compilation should be fixed with r29761</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154421">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">raceway01</div>
					<div class="post-datetime">
						16 Jan 2012, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>can any one please upload those asterisk&nbsp; ipk files?</p><p>i tried to compile but error and i am new to this so please tell me how to fix that error so i can compile</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154432">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						16 Jan 2012, 23:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>raceway01 wrote:</cite><blockquote><p>Hi</p><p>can any one please upload those asterisk&nbsp; ipk files?</p><p>i tried to compile but error and i am new to this so please tell me how to fix that error so i can compile</p><p>Thanks</p></blockquote></div><p>Do we have a place to upload.&nbsp; I can upload the Asterisk18 file in the feeds/network/telephony that I used for compile if I have a place to upload..</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=34043&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>