<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Event on WiFi client login</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p282955">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">knuddel</div>
					<div class="post-datetime">
						9 Jul 2015, 18:12					</div>
				</div>
				<div class="post-content content">
					<p>I was looking for a simple script which sends an email if a specific wlan client logs in.</p><p>Is there maybe already a native option to run a custom script every-time a wifi client connects and give the script some variables like mac address?</p><p>Where&#039;s the hook-in point to do that, Im sure it should just be a line or two, so you wont need a watchdog script, when the call for a login can easily be done with the scripts openwrt already use. Or doing it via hotplug.</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284112">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">knuddel</div>
					<div class="post-datetime">
						20 Jul 2015, 05:18					</div>
				</div>
				<div class="post-content content">
					<p>Bump...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284123">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						20 Jul 2015, 09:16					</div>
				</div>
				<div class="post-content content">
					<p>There is no hotplug event on client connect. Looking at the hostapd logs there is nothing you could trigger on either. You should start looking at the hostapd documentation to see if you can enable any more debugging that will print something you can trigger on in the logs, or maybe there is functionality to run a script on connect but I have never seen that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284158">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						20 Jul 2015, 16:07					</div>
				</div>
				<div class="post-content content">
					<p>hi</p><p>you could do a script to grep connected <br />&nbsp; <a href="http://wiki.openwrt.org/doc/howto/wireless.utilities">http://wiki.openwrt.org/doc/howto/wireless.utilities</a><br />then get time from grep logread or dmesg<br />then compare with a time range<br />all this as a cron job (restart crond if it hadnt have any jobs before)</p><p>~10-20 lines though</p><p>hf</p>											<p class="post-edited">(Last edited by <strong>makarel</strong> on 20 Jul 2015, 16:59)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>