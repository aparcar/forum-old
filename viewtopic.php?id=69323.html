<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Modem/Router -&gt; OpenWRT router +PiHole</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p348980">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Zepticon</div>
					<div class="post-datetime">
						10 Jan 2017, 19:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <br />This is my first post here, trying to get some help on a somewhat Open-WRT related issue. I have used OpenWRT for around 5 years now since it was the only who supported 4G modem on routers. And i liked it so i stuck with it. So i got myself an TP-Link Archer C7 and is really happy with it.</p><p>I recently bought myself an apartment (yay!) but i found out after moving in that the ISP (fiber) has some old tech issues (gah!). The fiber connection is using a combined modem and router box (Inteno FG500 R1). The ISP is still on IPv4 and has thus disabled the ability for me to bridge the Inteno to the C7 in order to limit their IP usage (bridge mode takes up two IPs on the Inteno)</p><p>And to get my networks set up properly, i very quickly started to push into unknown territory (fun!)</p><p>So, setting up the Archer C7 as a &quot;dumb&quot; AP would do the trick, and just disable the wireless network. And it would act similar to a bridge mode setup, if i am not wrong. I would be using the OpenWRT &quot;dumbap&quot; guide for this.</p><p>But then, i want to throw a PiHole adblock to the mix. Both the setup guide and intro can be found googling &quot;PiHole&quot; (i cant post links yet)<br />And now im getting confused: Should i set the PiHole on the Inteno router, and follow the guide there, and then set up the C7 as a dumb AP? Would this work?</p><p>To make matters even more confusing, i would like the option to run a VPN directly on the C7, so that i am routing all my trafic through the VPN, but then, if the PiHole is on the Inteno, it would be &quot;outside&quot; the VPN and thus not do anything? Would it even work if it was set up on the C7?</p><p>So if anyone would give me some pointers and tips i would be greatful! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349044">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">coleenhoover11</div>
					<div class="post-datetime">
						11 Jan 2017, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>Can`t help you(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349052">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						11 Jan 2017, 17:19					</div>
				</div>
				<div class="post-content content">
					<p>Yes if you just want better wireless, and the routing functions integral in the modem meet your needs, you just turn off the modem wifi and wire it to a dumb AP (you can use more than one for large coverage).&nbsp; A dumb AP, as its name suggests, does not run a DHCP server and makes no routing or firewalling decisions.&nbsp; It is simply a converter from wireless signals to wired.</p><p>Usually when you bridge a modem, making a DHCP request to the modem goes out through the network to the ISP&#039;s router and tells you your one public IP.&nbsp; But a private IP still exists to configure the modem.&nbsp; &nbsp;You need a static IP configuration to reach that one.</p><p>The PiHole project is intended to run on a Raspberry Pi board.&nbsp; It works by using the PiHole as the DNS server instead of one on the internet.&nbsp; If an advertiser&#039;s domain is requested, it sends back a phony address which points to the local PiHole web server-- which then does nothing but return an empty document.&nbsp; If a real domain is requested, the PiHole consults the real DNS service to get the address.&nbsp; This requires a somewhat non-standard DHCP server which tells your clients to use the PiHole for DNS.&nbsp; I think this function is also built into PiHole.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>