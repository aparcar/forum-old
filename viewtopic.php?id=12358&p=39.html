<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for Marvell 88F5xx81 based routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 18 Jan 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 39 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=37.html">37</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=38.html">38</a></li><li class="pagination-current"><span>39</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=40.html">40</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=41.html">41</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p121612">
				<div class="post-metadata">
					<div class="post-num">Post #951</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						21 Nov 2010, 15:23					</div>
				</div>
				<div class="post-content content">
					<p>[s]Warning using recovery image!</p><p>Don&#039;t use the recovery image builds from standard makefile <br />or stored at openwrt.org servers when using the upgrade tool for Windows XP.</p><p>They all miss the u-boot.bin partition and will make the wrt350nv2 unbootable.<br />relghuar has build a <a href="http://sites.google.com/site/relghuar/Home/full-image.bin">full-image.bin</a> only use this file in conjunction with this download-mode software.</p><p>Upslug2 from OpenWrt is safe with standard openwrt-wrt350nv2-recovery images.[/s]</p><p><strong>Update:</strong> <br />21.11.2010 - Updated wiki accordingly.<br />22.11.2010 - Updated the warning only for Windows XP tool</p><p>Analysing the recovery image on sunday, I found out, that U-Boot is missing in the provided openwrt-recovery-image.<br />Today I found out, that upslug2 with param &quot;--image&quot; only flashes up to the eRcOmM signature an ends at 0x75ffff, <br />so U-Boot at 0x7c0000 is safe!</p><p>24.11.2010 - No warning at all upslug2 and upgrade tool for WinXP is save</p><p>see Post +2</p>											<p class="post-edited">(Last edited by <strong>mrk</strong> on 24 Nov 2010, 23:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121615">
				<div class="post-metadata">
					<div class="post-num">Post #952</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						21 Nov 2010, 16:44					</div>
				</div>
				<div class="post-content content">
					<p>Thanks mrk for the hint.<br />Did you run into this problem?<br />If so, how to fix this?</p><p>I only used download mode once on my testing device. Unfortunately I can not remember what image I used (normal or recovery).</p><br /><p>By the way the wrt350nv2-builder from OpenWrt can also add a U-Boot binary to the recovery image.<br />Extract the U-Boot image with <a href="ftp://ftp.maddes.net/maddes.net/hardware/WRT350Nv2/extract_firmware_wrt350nv2.sh">this script</a> and put it in tools/wrt350nv2-builder/files/</p><p><a href="https://dev.openwrt.org/browser/trunk/tools/wrt350nv2-builder/Makefile">Makefile of wrt350nv2-builder</a><br /><a href="https://dev.openwrt.org/browser/trunk/target/linux/orion/image/generic.mk">Makefile of Orion generic images</a></p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 21 Nov 2010, 16:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121911">
				<div class="post-metadata">
					<div class="post-num">Post #953</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						25 Nov 2010, 01:12					</div>
				</div>
				<div class="post-content content">
					<p>Well, my work concerning the download mode is finished by now.</p><p><strong>As result, I can say, that the download mode is the safest way to reanimate the wrt350nv2 or get back to stock image.</strong></p><p>I tried to add some features to the tool upslug2, among others I wanted to add some safety checks.<br />Therefor I analyzed the file structure of some image files. I found out, that the openwrt-*-recovery-images don&#039;t have a u-boot bin section in there.<br />That was the first time, I got shocked.</p><p>Upslug2 always erases the holy eRcOmM signature, even when I tried with the smaller squash images and reduced flashsize-variable in upslug2 source.<br />Really bad!</p><p>Upslug2 writes the data in two stages<br />1. erase flash and write new data<br />2. verify data and commit flash (make it readable)<br />This is done for all flash sections, which will be updated.</p><p>At that point, I thought that the complete recovery image would &quot;update&quot; the u-boot section at 0x7c0000,<br />and the empty openwrt-recovery images would kill u-boot. <br />First warning on 21.11.10. in post before.</p><p>Then I started to try out the latest stock image V2.0.20 (thank You maddes for the scripts).<br />In V2.0.20 is a newer U-Boot (Driver V1.07) than mine. I flashed the whole 8 MB stock and restarted.<br />stock Image; came up and worked.</p><p>But there was no new U-Boot Version on my router. (????)<br />Second reduced warning on 22.11.10.</p><p>At least I flashed the stock image with the upgrade tool under WinXP and there was no new u-boot, either.<br />Third cleared warning today.</p><p>Sercomm uses different packed-ids for communication in download mode for <br />1. HardwareInfo<br />2. UpgradeStart<br />3. UpgradeData<br />4. UpgradeVerify<br />5. Reboot<br />and<br />6. ReprogramStart</p><p>I sniffed the network traffic with wireshark on linux and windows, and both tools uses only the Upgrade mode and let u-boot alive.<br />Also the mac-address an machine-id (found in last 60 bytes in recovery image) leaved untouched.<br />Only the info about firmware version, also found there is cleared. Curious, but true. </p><p>At my point of view only the &quot;reprogram mode&quot; will reflash all areas incl. u-boot.<br />This mode is disabled in upslug2 and I think You should only use this with JTAG on Your desk.<br />I really will not try <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> even not with the original firmware with newer u-boot.</p><p>Sorry for the warnings, but I was really in panic about that.</p><br /><p><span class="bbu">In the last days, I extended the upslug2 sources.</span></p><p>The new features are:<br />* network identity of wrt350nv2<br />* only &quot;--image&quot; option is allowed with wrt350nv2 (this prevents You of my first mistake at #951)<br />* security check of recovery image (linux hardware id, squashfs id and the holy eRcOmM)</p><p>If You want to try, use this patchfile <a href="http://home.arcor.de/mrk/OpenWrt/120-wrt350nv2-netid.patch">120-wrt350nv2-netid.patch</a>.<br />Maybe we can give it into trunk.</p><p>@maddes<br />thank you for the scripts, helped a lot.<br />I think, You used the recovery image, because the normal is not accepted by the tools.</p><p>Btw, UpgradeTool is working in virtual WinXP, isn&#039;t there one in Win7 <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />Perhaps, compiling with minigw is possible...</p><br /><p>more question? just ask!<br />mrk</p>											<p class="post-edited">(Last edited by <strong>mrk</strong> on 25 Nov 2010, 01:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121966">
				<div class="post-metadata">
					<div class="post-num">Post #954</div>
					<div class="post-author">ValCher</div>
					<div class="post-datetime">
						25 Nov 2010, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello all!<br />I have loaded new u-boot from V2.0.20 by means of JTAG and Openocd as have broken chip NOR Flash Memory K8D6316UT. Unfortunately I could not find anywhere in retail K8D6316UT and have replaced with its other chip S29GL064N90TFI03, it was necessary to correct a little a code in u-boot as did not coincide ID. After loading JTAG new u-boot 0x7c0000-0x7fffff, I have highlighted other part by means of Upgrage_207_XP, the truth was necessary to load 0 block JTAG. Regular WebUpgrade b SysUpgrade work normally. u-boot I have not found visible distinctions in work of the new version.<br />Oh, as though I wished to have u-boot which would allow to use resources USBFlash, who can already ?????? tried to make such?</p><p>Success to you!<br />Excuse for bad English.</p>											<p class="post-edited">(Last edited by <strong>ValCher</strong> on 25 Nov 2010, 21:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121967">
				<div class="post-metadata">
					<div class="post-num">Post #955</div>
					<div class="post-author">Slowmo</div>
					<div class="post-datetime">
						25 Nov 2010, 21:06					</div>
				</div>
				<div class="post-content content">
					<p>Did you use machine translation to translate from Russian to English? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121968">
				<div class="post-metadata">
					<div class="post-num">Post #956</div>
					<div class="post-author">ValCher</div>
					<div class="post-datetime">
						25 Nov 2010, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>Yes - ?? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121972">
				<div class="post-metadata">
					<div class="post-num">Post #957</div>
					<div class="post-author">nt</div>
					<div class="post-datetime">
						25 Nov 2010, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>Today I decided to resurrect my long lost wnr854t, but it won&#039;t cooperate. Searching the internet, there are some other people with this problem (in this very thread even), but no working solutions.</p><div class="codebox"><pre><code>### JFFS2 loading &#039;uImage&#039; to 0x400000
Scanning JFFS2 FS:   Unknown node type: e001 len 46 offset 0xc
[...]
..... done.
find_inode failed for name=uImage
load: Failed to find inode
### JFFS2 LOAD ERROR&lt;0&gt; for uImage!
## Booting image at 00400000 ...
Bad Magic Number...do_bootm</code></pre></div><p>It does this on all images I&#039;ve tried. Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121979">
				<div class="post-metadata">
					<div class="post-num">Post #958</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						26 Nov 2010, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>@nt</p><p>have you seen this thread?<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=94355">https://forum.openwrt.org/viewtopic.php?pid=94355</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121982">
				<div class="post-metadata">
					<div class="post-num">Post #959</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						26 Nov 2010, 00:48					</div>
				</div>
				<div class="post-content content">
					<p>@nt<br />Are you sure that the correct machine-id (8 bytes) is before the zImage inside the uImage?<br />Just a possible pitfall.</p><p>Excerpt from <a href="https://dev.openwrt.org/browser/trunk/target/linux/orion/image/generic.mk">Makefile of Orion generic images</a>:<br /></p><div class="codebox"><pre><code># WNR854T: mach id 1801 (0x709)
echo -en &quot;\x07\x1c\xa0\xe3\x09\x10\x81\xe3&quot; &gt; $(KDIR)/wnr854t-zImage
cat $(LINUX_DIR)/arch/arm/boot/zImage &gt;&gt; $(KDIR)/wnr854t-zImage
$(STAGING_DIR_HOST)/bin/mkimage -A arm -O linux -T kernel \
   -C none -a 0x00008000 -e 0x00008000 -n &#039;Linux-$(LINUX_VERSION)&#039; \
   -d $(KDIR)/wnr854t-zImage $(KDIR)/wnr854t-uImage
cp $(KDIR)/wnr854t-uImage $(BIN_DIR)/openwrt-wnr854t-uImage</code></pre></div>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 26 Nov 2010, 01:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121984">
				<div class="post-metadata">
					<div class="post-num">Post #960</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						26 Nov 2010, 00:57					</div>
				</div>
				<div class="post-content content">
					<p>@mrk:<br />Thanks for all your effort.<br />I think the best way to get this patch into trunk is to create a new enhancement ticket for it (don&#039;t forget to enter your nick name in the ticket).<br />Then I would ask nbd if he will take care of it, as he was the one who added WRT350Nv2 support to upslug2 when I donated a WRT350Nv2.</p><p>Also glad to hear that U-Boot is safe even in download mode.</p><p>By the way there are even more scripts for OpenWrt handling in another <a href="ftp://ftp.maddes.net/maddes.net/openwrt/">folder</a> (especially find_files.sh, search_makefiles.sh, what_linux_version.sh).</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 26 Nov 2010, 01:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121985">
				<div class="post-metadata">
					<div class="post-num">Post #961</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						26 Nov 2010, 01:02					</div>
				</div>
				<div class="post-content content">
					<p>@ValCher:<br />It is possible to compile your own U-Boot and flash it.<br />You will get rid of the eCrOmM check, but also loose download mode.<br />I think relghuar mentioned this here in this thread (he was very active on the first 13 pages).<br />Do at your own risk. Be very careful. You have been warned.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 26 Nov 2010, 01:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121996">
				<div class="post-metadata">
					<div class="post-num">Post #962</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						26 Nov 2010, 08:28					</div>
				</div>
				<div class="post-content content">
					<p>Would be nice, if someone could also check if my upslug2-patch is working on his/her machine before committing.<br />Just copy the patch into trunk/tools/upslug2/patches an make.</p><p>@maddes<br />Good idea, to inform a developer about our patches.<br />My ticket <a href="https://dev.openwrt.org/ticket/8271">#8271</a> is untouched, too.<br />Maybe You could acknowledge.</p>											<p class="post-edited">(Last edited by <strong>mrk</strong> on 26 Nov 2010, 08:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121998">
				<div class="post-metadata">
					<div class="post-num">Post #963</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						26 Nov 2010, 08:40					</div>
				</div>
				<div class="post-content content">
					<p>@ValCher<br />I think, it is possible to build a u-boot with sercomm addons, search in gpl-source from original linksys V2.0.20.<br />There are the binaries for that.<br />Link is in <a href="http://wiki.openwrt.org/toh/linksys/wrt350nv2">wiki</a> at the very bottom.</p><br /><p>Otherwise, I would follow maddes. Don&#039;t do anything with u-boot without JTAG.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122044">
				<div class="post-metadata">
					<div class="post-num">Post #964</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						26 Nov 2010, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>@mrk,ValCher:<br />Yes, but maybe you have to adopt the Linksys changes to the current U-Boot. Could be a very annoying task.<br />If you do please let us know.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 26 Nov 2010, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122058">
				<div class="post-metadata">
					<div class="post-num">Post #965</div>
					<div class="post-author">Slowmo</div>
					<div class="post-datetime">
						27 Nov 2010, 00:36					</div>
				</div>
				<div class="post-content content">
					<p>Is 40MHz HT mode supposed to work on WRT350Nv2? If I set my router to this mode, I can not connect to it wirelessly.<br />System log is full of the following messages:<br /></p><div class="codebox"><pre><code>Nov 27 00:10:39 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:10:45 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: associated (aid 1)
Nov 27 00:10:50 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df WPA: pairwise key handshake completed (RSN)
Nov 27 00:10:53 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:11:06 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:11:11 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:11:20 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:11:20 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:11:56 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: authenticated
Nov 27 00:11:57 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: associated (aid 1)
Nov 27 00:11:57 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: associated (aid 1)
Nov 27 00:11:59 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df WPA: received EAPOL-Key 2/4 Pairwise with unexpected replay counter
Nov 27 00:11:59 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df WPA: received EAPOL-Key 2/4 Pairwise with unexpected replay counter
Nov 27 00:11:59 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: deauthenticated due to local deauth request
Nov 27 00:12:01 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: authenticated
Nov 27 00:12:02 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: associated (aid 1)
Nov 27 00:12:04 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df WPA: pairwise key handshake completed (RSN)
Nov 27 00:12:30 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:12:35 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:12:35 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:12:40 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: associated (aid 1)
Nov 27 00:12:41 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df WPA: received EAPOL-Key 2/4 Pairwise with unexpected replay counter
Nov 27 00:12:42 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df WPA: pairwise key handshake completed (RSN)
Nov 27 00:12:54 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:12:54 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:13:07 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:13:24 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:13:34 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:13:48 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:13:53 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:14:04 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:14:14 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:14:20 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:14:45 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:14:50 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:15:01 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:15:01 OpenWrt daemon.info hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: deauthenticated due to local deauth request
Nov 27 00:15:10 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response
Nov 27 00:15:19 OpenWrt daemon.notice hostapd: wlan0: STA 00:0e:2e:af:6f:df IEEE 802.11: did not acknowledge authentication response</code></pre></div><p>As soon as I switch to 20MHz HT mode, I get a connection and everything seems to be working. I will see if this mode is stable now in 10.03.1-rc4.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122210">
				<div class="post-metadata">
					<div class="post-num">Post #966</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						29 Nov 2010, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>I have realized another nifty feature for the wrt350nv2.<br />It&#039;s called <strong>securityled</strong> and triggers the security led from the wrt350nv2.</p><p>In stock firmware, the outermost right side led shows, if You have wifi encryption enabled.<br />Such the same is done with this script.</p><p>It contains of two parts.<br />1. the configuration file in &quot;/etc/config/securityled&quot;<br />2. the hotplug script in &quot;/etc/hotplug.d/net/50-securityled&quot;</p><p>Securityled reads out the uci wireless config and differs in three states<br />1. disabled - no encrytion at all<br />2. mixed - at least one iface encrypted, one iface open<br />3. enabled - all ifaces are encrypted</p><p>The led handling for these states can be established in config-file &quot;/etc/config/securityled&quot;.<br />I have chosen as default:<br />disabled - led off<br />mixed - led toggles<br />enabled - led on</p><br /><p>[s]Here is the <strong>patch -p0</strong> for trunk, maybe backfire, too:[/s]<br /><strong>Update:</strong> see link in next post.</p><p>Greetz<br />mrk</p><p>@maddes, thank You for the support with the ticket.</p>											<p class="post-edited">(Last edited by <strong>mrk</strong> on 30 Nov 2010, 00:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122217">
				<div class="post-metadata">
					<div class="post-num">Post #967</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						29 Nov 2010, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>@mrk:<br />Just some short notes as I&#039;m not at home.</p><p>* Can you provide a download link? As I don&#039;t know if the forum messes up tabs.<br />Did you use tabs this time?<br /><span class="bbu">Update:</span><br />Re-worked the patch to use tabs to save space on the embedded device, patch available for download <a href="ftp://ftp.maddes.net/openwrt/trunk/orion/patches/trunk_orion_wrt350nv2_security_led.patch">here</a>.<br />(You still have FTP access to my machine, don&#039;t you?)</p><p>* Is &quot;50-securityled&quot; used by other targets? Do other targets have Hotplug-Scripts for security led? Just to make it consistent within OpenWrt.<br /><span class="bbu">Update:</span><br />Didn&#039;t find any target with a similar hotplug script.</p><p>* Last but not least, you have to get the current state from the wireless settings, not the current commited ones.<br />Use uci_get_state() to do this (included via config.sh, should be automatic).</p><p><span class="bbu">Update:</span><br />* The config and script need to be more generic. Currently it&#039;s no good for WNR854T, which shares the same files.<br />Find out what is device specific, mostly sysfs and led names, then create a function that handles these by device (see the uci-defaults for an example).</p><br /><p>Maddes</p><p>P.S.:<br />Do not thank me until the ticket changes are committed to trunk. I can only help to reduce problems.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 29 Nov 2010, 19:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122241">
				<div class="post-metadata">
					<div class="post-num">Post #968</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						29 Nov 2010, 23:46					</div>
				</div>
				<div class="post-content content">
					<p>I found a mistake in my upslug2 patch.<br />For security reason, I added some checks for the image file.</p><p>As I tried to flash stock V2.0.20, the check for the &quot;mach id&quot; fails,<br />because V2.0.20 has none ... as there is one in openwrt-image.<br /><strong>Update:</strong> ...and this is needed for booting kernel in backfire and trunk</p><p>Here is the new patch with corrected check: <a href="http://home.arcor.de/mrk/OpenWrt/120-wrt350nv2-netid.patch">120-wrt350nv2-netid.patch</a>.</p>											<p class="post-edited">(Last edited by <strong>mrk</strong> on 30 Nov 2010, 12:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122242">
				<div class="post-metadata">
					<div class="post-num">Post #969</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						30 Nov 2010, 00:03					</div>
				</div>
				<div class="post-content content">
					<p>@maddes</p><p>#1 - Well, didn&#039;t care about tabs by now. Will do this in future.<br />(Unfortunately, I lost my old mails :-( )</p><p>#2 - Could not find anything, too.</p><p>#3 - Have correct the uci - function and something more. Update will come soon.</p><p>#4 - Yes, You are right, the wnr854t has a silly way let led blink.<br />I will think about this.</p><p>MRK</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122350">
				<div class="post-metadata">
					<div class="post-num">Post #970</div>
					<div class="post-author">delacosta456</div>
					<div class="post-datetime">
						1 Dec 2010, 13:27					</div>
				</div>
				<div class="post-content content">
					<p>hi all </p><p>since almost 3 month, to root on my external disk, i am having problem while trying to build image for my linksys WRT350N V2&nbsp; ARH=orion <br />I have tried every tutorial but i am still getting error...<br />When i tried a &quot; Make V=99 &quot; to see what was wrong, below is the result i got.... <span style="color: green"> (the text in red at the end of the code color is the beginning of the error)</span></p><p><span style="color: blue">sergy@Sergy:~/wrt350N$ make V=99 ARCH=&quot;orion&quot;<br />make[1]: Entering directory `/home/sergy/wrt350N&#039;<br />make[2]: Entering directory `/home/sergy/wrt350N&#039;<br />++ mkdir -p /home/sergy/wrt350N/staging_dir/target-orion_v5t_uClibc-0.9.30.1_eabi<br />++ cd /home/sergy/wrt350N/staging_dir/target-orion_v5t_uClibc-0.9.30.1_eabi<br />++ mkdir -p bin lib include stamp<br />mkdir -p /home/sergy/wrt350N/build_dir/target-orion_v5t_uClibc-0.9.30.1_eabi/stamp<br />touch /home/sergy/wrt350N/staging_dir/target-orion_v5t_uClibc-0.9.30.1_eabi/.prepared<br />make[3]: Entering directory `/home/sergy/wrt350N/toolchain/binutils&#039;<br />make[3]: Nothing to be done for `prepare&#039;.<br />make[3]: Leaving directory `/home/sergy/wrt350N/toolchain/binutils&#039;<br />make[3]: Entering directory `/home/sergy/wrt350N/toolchain/binutils&#039;<br />make -C /home/sergy/wrt350N/build_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/binutils-2.19.1 all<br />make[4]: Entering directory `/home/sergy/wrt350N/build_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/binutils-2.19.1&#039;<br />make[5]: Entering directory `/home/sergy/wrt350N/build_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/binutils-2.19.1&#039;<br />Configuring in ./bfd<br />configure: loading cache ./config.cache<br />checking build system type... x86_64-pc-linux-gnu<br />checking host system type... x86_64-pc-linux-gnu<br />checking target system type... orion-openwrt-linux-uclibcgnueabi<br />checking for x86_64-linux-gnu-gcc... x86_64-linux-gnu-gcc<br />checking for C compiler default output file name... a.out<br />checking whether the C compiler works... yes<br />checking whether we are cross compiling... no<br />checking for suffix of executables... <br />checking for suffix of object files... o<br />checking whether we are using the GNU C compiler... yes<br />checking whether x86_64-linux-gnu-gcc accepts -g... yes<br />checking for x86_64-linux-gnu-gcc option to accept ANSI C... none needed<br />checking for library containing strerror... none required<br />checking for a BSD-compatible install... /usr/bin/install -c<br />checking whether build environment is sane... yes<br />checking for gawk... gawk<br />checking whether make sets $(MAKE)... yes<br />checking for style of include used by make... GNU<br />checking dependency style of x86_64-linux-gnu-gcc... gcc3<br />checking for x86_64-linux-gnu-ar... ar<br />checking for x86_64-linux-gnu-ranlib... ranlib<br />checking for x86_64-linux-gnu-gcc... (cached) x86_64-linux-gnu-gcc<br />checking whether we are using the GNU C compiler... (cached) yes<br />checking whether x86_64-linux-gnu-gcc accepts -g... (cached) yes<br />checking for x86_64-linux-gnu-gcc option to accept ANSI C... (cached) none needed<br />checking how to run the C preprocessor... x86_64-linux-gnu-gcc -E<br />checking for egrep... grep -E<br />checking for ANSI C header files... yes<br />checking for sys/types.h... yes<br />checking for sys/stat.h... yes<br />checking for stdlib.h... yes<br />checking for string.h... yes<br />checking for memory.h... yes<br />checking for strings.h... yes<br />checking for inttypes.h... yes<br />checking for stdint.h... yes<br />checking for unistd.h... yes<br />checking minix/config.h usability... no<br />checking minix/config.h presence... no<br />checking for minix/config.h... no<br />checking whether it is safe to define __EXTENSIONS__... yes<br />checking for a sed that does not truncate output... /home/sergy/wrt350N/staging_dir/host/bin/sed<br />checking for fgrep... grep -F<br />checking for ld used by x86_64-linux-gnu-gcc... ld<br />checking if the linker (ld) is GNU ld... yes<br />checking for BSD- or MS-compatible name lister (nm)... nm<br />checking the name lister (nm) interface... BSD nm<br />checking whether ln -s works... yes<br />checking the maximum length of command line arguments... 3458764513820540925<br />checking whether the shell understands some XSI constructs... yes<br />checking whether the shell understands &quot;+=&quot;... yes<br />checking for ld option to reload object files... -r<br />checking how to recognize dependent libraries... pass_all<br />checking for x86_64-linux-gnu-ar... (cached) ar<br />checking for x86_64-linux-gnu-strip... no<br />checking for strip... strip<br />checking for x86_64-linux-gnu-ranlib... (cached) ranlib<br />checking command to parse nm output from x86_64-linux-gnu-gcc object... ok<br />checking for dlfcn.h... yes<br />checking for objdir... .libs<br />checking if x86_64-linux-gnu-gcc supports -fno-rtti -fno-exceptions... no<br />checking for x86_64-linux-gnu-gcc option to produce PIC... -fPIC -DPIC<br />checking if x86_64-linux-gnu-gcc PIC flag -fPIC -DPIC works... yes<br />checking if x86_64-linux-gnu-gcc static flag -static works... yes<br />checking if x86_64-linux-gnu-gcc supports -c -o file.o... yes<br />checking if x86_64-linux-gnu-gcc supports -c -o file.o... (cached) yes<br />checking whether the x86_64-linux-gnu-gcc linker (ld -m elf_x86_64) supports shared libraries... yes<br />checking dynamic linker characteristics... GNU/Linux ld.so<br />checking how to hardcode library paths into programs... immediate<br />checking whether stripping libraries is possible... yes<br />checking if libtool supports shared libraries... yes<br />checking whether to build shared libraries... no<br />checking whether to build static libraries... yes<br />Setting warning flags = -W -Wall -Wstrict-prototypes -Wmissing-prototypes<br />checking whether to enable maintainer-specific portions of Makefiles... no<br />checking whether to install libbfd... no<br />checking whether NLS is requested... no<br />checking whether NLS is requested... no<br />checking for msgfmt... /usr/bin/msgfmt<br />checking for gmsgfmt... /usr/bin/msgfmt<br />checking for xgettext... /usr/bin/xgettext<br />checking for msgmerge... /usr/bin/msgmerge<br />checking for a BSD-compatible install... /usr/bin/install -c<br />checking for long long... yes<br />checking size of long long... 8<br />checking for void *... yes<br />checking size of void *... 8<br />checking for long... yes<br />checking size of long... 8<br />checking alloca.h usability... yes<br />checking alloca.h presence... yes<br />checking for alloca.h... yes<br />checking stddef.h usability... yes<br />checking stddef.h presence... yes<br />checking for stddef.h... yes<br />checking for string.h... (cached) yes<br />checking for strings.h... (cached) yes<br />checking for stdlib.h... (cached) yes<br />checking time.h usability... yes<br />checking time.h presence... yes<br />checking for time.h... yes<br />checking for unistd.h... (cached) yes<br />checking fcntl.h usability... yes<br />checking fcntl.h presence... yes<br />checking for fcntl.h... yes<br />checking sys/file.h usability... yes<br />checking sys/file.h presence... yes<br />checking for sys/file.h... yes<br />checking sys/time.h usability... yes<br />checking sys/time.h presence... yes<br />checking for sys/time.h... yes<br />looking for a compliant stdint.h in stdint.h, checking for uintmax_t... yes<br />checking for uintptr_t... yes<br />checking for int_least32_t... yes<br />checking for int_fast32_t... yes<br />checking for uint64_t... yes<br />checking what to include in bfd_stdint.h... stdint.h (already complete)<br />checking whether time.h and sys/time.h may both be included... yes<br />checking for dirent.h that defines DIR... yes<br />checking for library containing opendir... none required<br />checking whether string.h and strings.h may both be included... yes<br />checking for fcntl... yes<br />checking for getpagesize... yes<br />checking for setitimer... yes<br />checking for sysconf... yes<br />checking for fdopen... yes<br />checking for getuid... yes<br />checking for getgid... yes<br />checking for strtoull... yes<br />checking whether basename is declared... yes<br />checking whether ftello is declared... yes<br />checking whether ftello64 is declared... yes<br />checking whether fseeko is declared... yes<br />checking whether fseeko64 is declared... yes<br />checking whether ffs is declared... yes<br />checking whether free is declared... yes<br />checking whether getenv is declared... yes<br />checking whether malloc is declared... yes<br />checking whether realloc is declared... yes<br />checking whether stpcpy is declared... yes<br />checking whether strstr is declared... yes<br />checking whether snprintf is declared... yes<br />checking whether vsnprintf is declared... yes<br />checking for library containing zlibVersion... -lz<br />checking zlib.h usability... yes<br />checking zlib.h presence... yes<br />checking for zlib.h... yes</span><br /><span style="color: red">*** BFD does not support target orion-openwrt-linux-uclibcgnueabi.<br />*** Look in bfd/config.bfd for supported targets.<br />make[5]: *** [configure-bfd] Error 1<br />make[5]: Leaving directory `/home/sergy/wrt350N/build_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/binutils-2.19.1&#039;<br />make[4]: *** [all] Error 2<br />make[4]: Leaving directory `/home/sergy/wrt350N/build_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/binutils-2.19.1&#039;<br />make[3]: *** [/home/sergy/wrt350N/build_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/binutils-2.19.1/.built] Error 2<br />make[3]: Leaving directory `/home/sergy/wrt350N/toolchain/binutils&#039;<br />make[2]: *** [toolchain/binutils/compile] Error 2<br />make[2]: Leaving directory `/home/sergy/wrt350N&#039;<br />make[1]: *** [/home/sergy/wrt350N/staging_dir/toolchain-orion_v5t_gcc-4.3.3+cs_uClibc-0.9.30.1_eabi/stamp/.toolchain_install] Error 2<br />make[1]: Leaving directory `/home/sergy/wrt350N&#039;<br />make: *** [world] Erreur 2<br /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122554">
				<div class="post-metadata">
					<div class="post-num">Post #971</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						3 Dec 2010, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>Well, my vacation are ending now, and here is my implementation for <strong>failsafe mode</strong> of orion/wrt350nv2.<br />As prerequisite, You need to activate the button-keys from post <a href="https://forum.openwrt.org/viewtopic.php?pid=120958#p120958">#939</a>.</p><p>The following svn diff for trunk contains all files (hope, I forgot no file): <a href="http://home.arcor.de/mrk/OpenWrt/orion_failsafe.patch">orion_failsafe.patch</a></p><p>New features are:<br /> * diag.sh - led signaling while booting<br /> * reset button-hotplug - entering failsafe<br /> * preinit network - preinit network message<br /> * failsafe network configuration<br /> * reset-button for normal operating mode</p><p>Booting wrt350nv2 will now be:<br /> 1. power led green on - you are in u-boot boot wait<br /> 2. led off - starting kernel<br /> 3. power led orange on - preinit wait for key mode<br /> 4a. power led green/orange - init mode, kernel boots normal<br /> 4b. power led orange flashing - failsafe mode<br /> 5. power led green on - done mode</p><p>When You push and hold the reset button in mode 3. (power led orange on), You will get in failsafe mode.<br />Watch for power led flashing orange, then You are in failsafe mode.</p><p>Some parameters can be set in <strong>make menuconfig</strong> -&gt; Image configuration -&gt; Preinit configuration option.<br />Preinit network interface should be &quot;br-lan&quot;. <br />Show all preinit network message will open a preinit network and broadcast status messages via udp. You can whatch them with <a href="http://downloads.openwrt.org/people/florian/recvudp/">recvudp</a>.<br />When You don&#039;t have any preinit config options, a bridge named &quot;br-lan-fs&quot; with ip 192.168.1.1 will be created.</p><p>It&#039;s not perfect, but another step!</p><p>greets<br />mrk</p><p><strong>PS:</strong> <br />I have lost the wps-plastic-button for the wrt350nv2. It fell on the floor as I had my wrt open for this work here and probably it is eaten by my hoover!<br />I also called linksys support and asked for a spare part. The man there was astonished and told me something about lost of guaranty.<br />Well, and I even didn&#039;t told him about the hole in the case for serial cable <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> In result, he could not help me.</p><p>So, if someone knows someone, who can tell me how to get a wps-button for wrt350nv2 as spare part, I would be very thankful.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122557">
				<div class="post-metadata">
					<div class="post-num">Post #972</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						3 Dec 2010, 21:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>erik___ wrote:</cite><blockquote><p>The RTC still seems be broken. </p><div class="codebox"><pre><code>drivers/rtc/hctosys.c: unable to open rtc device (rtc0)</code></pre></div></blockquote></div><p>I searched around and tried to find some information concerning RTC for the our Marvel SoC.<br />Well, I didn&#039;t found anything helpfull. <br />There is no internal rtc, like in kirkwood and the driver in stock firmware belongs to a DS1339, which I can not find on the wrt350nv2-board and even cannot be announced in kernel.</p><p>I used:</p><div class="codebox"><pre><code>+static struct i2c_board_info __initdata wrt350n_v2_i2c_rtc = {
+    I2C_BOARD_INFO(&quot;ds1339&quot;, 0x68),
+};</code></pre></div><p>in wrt350nv2-setup.c. Maybe, the wrong dev-addr 0x68?</p><p>From my point of view, we can disable the config for rtc in <strong>make kernel_menuconfig</strong>.<br />Then the quoted error message will disappear.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122578">
				<div class="post-metadata">
					<div class="post-num">Post #973</div>
					<div class="post-author">lePielle</div>
					<div class="post-datetime">
						4 Dec 2010, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>This is for ID: &#039;nt&#039;,</p><p>I had the same problem. I uploaded openwrt-wnr854t-jffs2-64k-webupgrade.img and then did original netgear firmware.</p><p>Hope it works for you, too. Good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122584">
				<div class="post-metadata">
					<div class="post-num">Post #974</div>
					<div class="post-author">dirkNL</div>
					<div class="post-datetime">
						4 Dec 2010, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>@mrk</p><p>Just wanted to let you know, great effort! Nice to see these nifty features <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122586">
				<div class="post-metadata">
					<div class="post-num">Post #975</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						4 Dec 2010, 14:41					</div>
				</div>
				<div class="post-content content">
					<p>@dirkNL</p><p>Thank You, would be nice, if You can review the scripts and support to bring them in trunk!</p><p>mrk</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 39 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=37.html">37</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=38.html">38</a></li><li class="pagination-current"><span>39</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=40.html">40</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=41.html">41</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>