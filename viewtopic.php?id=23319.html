<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> newbie question: dumb modem and smart router?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p101293">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">shonangreg</div>
					<div class="post-datetime">
						24 Jan 2010, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>I have not yet used an OpenWRT router, but I have a Planex MZK-W04NU on the way, and it is advertised as being OpenWRT compatible ( <a href="http://www.planex.net/product/router/mzk-w04nu.htm">www.planex.net/product/router/mzk-w04nu.htm</a> ).</p><p>In trying to streamline my home network now, I have a basic question. Can I make my modem into a dumb device and use the downstream router as the smart device? It seems that putting a router into bridge mode (WDS) makes it basically a dumb box with all configuration options being limited to the upstream modem. Am I mis-perceiving the situation here?</p><p>My modem, a Japanese Softbank Trio3-G, is configured for port forwarding. It has three PC&#039;s wired to it. And then it has my Buffalo WBR-G54 router connected with the Buffalo handling my wireless encryption. This seems inefficient to me. Shouldn&#039;t the DHCP, wireless encryption, port forwardings, and all other configuration settings (including bittorrent client) all be on one device? It seems that if I put my router into bridge mode, then I would lose the power of OpenWRT this way. (Eventually I do want to turn off the DHCP server and assign each device an IP. This seems to be the stablest way...)</p><p>Basically what I *think* I should be doing is having my modem acting like a bridge with all configuration going on on the router. Is this mis-directed? And to complicate this, occasionally I will need to connect a computer to the modem as the Planex MZK-W04NU has only 4 LAN ports, but I will not need the flexibility of OpenWRT in those cases.</p><p>Thank you.<br />Greg</p>											<p class="post-edited">(Last edited by <strong>shonangreg</strong> on 24 Jan 2010, 12:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101298">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pbix</div>
					<div class="post-datetime">
						24 Jan 2010, 15:28					</div>
				</div>
				<div class="post-content content">
					<p>You are correct.&nbsp; You want your modem in bridge mode and then use your OpenWRT router to do all your management.</p><p>Then you will have access to all the power and stability of OpenWrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101300">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">shonangreg</div>
					<div class="post-datetime">
						24 Jan 2010, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, pbix. The usage of &quot;bridge mode&quot; I&#039;ve seen mostly refer to routers, not the modems. I&#039;m glad to hear that a modem can be put into bridge mode also.</p><p>Two follow-up questions:</p><p>1) Are pretty much all modems capable of being put into bridge mode? Is it referred to as &quot;bridge mode&quot; on modems? WDS? Other terms?</p><p>2) If the modem is in bridge mode, can I still plug more than one device into it? Can it be in bridge mode and still run a DHCP server and/or have several other devices downstream from it with assigned IP addresses? </p><p>Thanks,<br />Greg</p><p>Update: My modem has a setting for NAT (Network Address Translation) being on or off. Is &quot;NAT off&quot; equal to bridge mode? &quot;NAT off&quot; = WDS = bridge mode ??? With NAT off, can I connect the modem to more than one downstream device?</p>											<p class="post-edited">(Last edited by <strong>shonangreg</strong> on 25 Jan 2010, 01:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101342">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Timothy</div>
					<div class="post-datetime">
						25 Jan 2010, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>Generally very few modems can go into bridge mode. <br />The ones that can, you&#039;re typically talking about &quot;advanced features&quot; options (I haven&#039;t checked for your model).</p><p>Usually when you put it into bridge you only have 1 device (router) off it, and that device has all the intelligence. In this case you would need to re-patch all the things that are currently in your modem to the device running OpenWRT.<br />You would also want to setup the DHCP server on OpenWRT.</p><p>Personally I always run DHCP, I just have excluded &amp; statically assigned addresses. That way if a friend needs to use your network you don&#039;t have to set anything extra up. Just use DHCP. I then have statically configured addresses (fromt he excluded pool) for desktop&#039;s / printers etc with my laptop getting a statically assigned address from dhcp (using the mac address mapping) .</p><p>Wireless Distribution System (WDS) is for bridging access points. While it&#039;s useful to extend coverage, it does reduce throughput.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101351">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">braveheartleo</div>
					<div class="post-datetime">
						25 Jan 2010, 15:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>shonangreg wrote:</cite><blockquote><p>Thank you, pbix. The usage of &quot;bridge mode&quot; I&#039;ve seen mostly refer to routers, not the modems. I&#039;m glad to hear that a modem can be put into bridge mode also.</p></blockquote></div><p>Well actually some modems are said to have router capabilities as well, so that such modems have bridging mode.</p><div class="quotebox"><cite>shonangreg wrote:</cite><blockquote><p>2) If the modem is in bridge mode, can I still plug more than one device into it? Can it be in bridge mode and still run a DHCP server and/or have several other devices downstream from it with assigned IP addresses?</p></blockquote></div><p>To expound more on what Timothy said, you could connect more devices on your modem depending on such a modem having more than one RJ45 connector. In such a case all the devices connected to the modem will be BRIDGED to your upstream network. An example in my case, my ISP provided an ADSL router modem with only ONE port, and i connected my OpenWRT router on that port such that my router is bridged to my ISP&#039;s network.</p><div class="quotebox"><cite>shonangreg wrote:</cite><blockquote><p>Update: My modem has a setting for NAT (Network Address Translation) being on or off. Is &quot;NAT off&quot; equal to bridge mode? &quot;NAT off&quot; = WDS = bridge mode ??? With NAT off, can I connect the modem to more than one downstream device?</p></blockquote></div><p>NAT is a function of a routing device, or router, and is not relevant, nor is it used when the network is bridged. So in a manner of speaking NAT off = WDS = bridge mode, although WDS pertains to wireless bridging, as Timothy pointed out. With your last question, (and maybe perhaps you meant &quot;can I connect more than one downstream device to the modem&quot;) I think you would know the answer by now. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101757">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">shonangreg</div>
					<div class="post-datetime">
						30 Jan 2010, 11:01					</div>
				</div>
				<div class="post-content content">
					<p>OK. I finally got it. I turned off NAT, but then the router and anything downstream from the router could not connect to the internet or to the modem&#039;s configuration screen. I called my ISP and they had me go through several stepss and finally it worked. I had to:<br />- disable NAT and disconnect my PC from the modem leaving only the router connected to the modem and connect the PC to the router.<br />- reboot the modem.<br />- restart the modem and the router<br />- and then restart the modem again.</p><p>It all appears to work now :-) I guess the restarts and reboots were clearing and resetting the routing tables / DHCP entries.</p><p>Thanks braveheartleo, Timothy, and pbix.</p><p>Greg</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>