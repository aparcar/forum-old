<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Install Openwrt to D-Link DIR-810L from factory upgrade website</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p285367">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">orz</div>
					<div class="post-datetime">
						28 Jul 2015, 22:18					</div>
				</div>
				<div class="post-content content">
					<p>I got a DIR-810L rev A1 with factory firmware recently, and I wanted to flash the box to Openwrt firmware without a TTL to USB adaptor, but I noticed that there wasn&#039;t any firmware for factory upgrade except DD-WRT firmware. So I was confused, why DD-WRT could upgrade from factory directly but Openwrt could not?</p><p>Then I searched for hours on Google, found some useful message. As the website <a href="http://www.right.com.cn/forum/forum.php?mod=viewthread&amp;tid=46151">http://www.right.com.cn/forum/forum.php â€¦ ;tid=46151</a> said, there was an image ID in D-Link factory firmware and DD-WRT firmware, if the image ID was correct, the box could be flashed by any firmware, of course included Openwrt.</p><p>Next, I will show you how to do it successfully.<br />First, download two firmwares to your hard drive, one is <a href="ftp://ftp2.dlink.com/PRODUCTS/DIR-810L/REVA/DIR-810L_REVA_FIRMWARE_1.02B22.ZIP">DIR-810L_REVA_FIRMWARE_1.02B22.ZIP</a>, the other is <a href="http://downloads.openwrt.org/chaos_calmer/15.05-rc3/ramips/mt7620/openwrt-15.05-rc3-ramips-mt7620-dir-810l-squashfs-sysupgrade.bin">openwrt-15.05-rc3-ramips-mt7620-dir-810l-squashfs-sysupgrade.bin</a>, then extract the D-Link factory update firmware from the zip file.<br />And then, open both firmwares with HEX Edit/UltraEdit, scroll down to the bottom, you will see some special data in &quot;DIR810LA1_FW102B22.bin&quot; tab, that must be the firmware&#039;s image ID.</p><p><span class="postimg"><img src="https://6jeskw.bl3302.livefilestore.com/y3pmcLSQrRwMuXG2xYWhLMogOveits1VsbN-5NY838qqax544HrGMCxuF4-PPHg8DbCe10v7mmZkEZOwfiZRm4yz3ikfIGSahjQXrUI7fnQqZZDbGKg7L0JdGLcl32SFIi6O9FgHQyvcpNG3g1ZWpnukg/810L-Factory.png?psid=1" alt="https://6jeskw.bl3302.livefilestore.com/y3pmcLSQrRwMuXG2xYWhLMogOveits1VsbN-5NY838qqax544HrGMCxuF4-PPHg8DbCe10v7mmZkEZOwfiZRm4yz3ikfIGSahjQXrUI7fnQqZZDbGKg7L0JdGLcl32SFIi6O9FgHQyvcpNG3g1ZWpnukg/810L-Factory.png?psid=1" /></span></p><p>Copy the chosen part(don&#039;t ask me why the length is 48 bits, I just luckily guessed, before that, I tried many times with other length but failed),then swith to &quot;openwrt-15.05-rc3-ramips-mt7620-dir-810l-squashfs-sysupgrade.bin&quot; tab, paste the copied data to the firmware tail, then save the file in another name.</p><p><span class="postimg"><img src="https://u5uosw.bl3302.livefilestore.com/y3p_9OoeqExM2Abw9Q7F59QrBvrSMCML83cd9I2yA8-vR8n4YkzzcYm_zjra26Mnv32ufL0ORCFMWyL8pnkJV945zBZKetyDXlmCWFDW2k34kpjTHYiApfcm8PSDnHhvHBA5LN0JNwOhqT9UsUh83xonA/810L-Openwrt.png?psid=1" alt="https://u5uosw.bl3302.livefilestore.com/y3p_9OoeqExM2Abw9Q7F59QrBvrSMCML83cd9I2yA8-vR8n4YkzzcYm_zjra26Mnv32ufL0ORCFMWyL8pnkJV945zBZKetyDXlmCWFDW2k34kpjTHYiApfcm8PSDnHhvHBA5LN0JNwOhqT9UsUh83xonA/810L-Openwrt.png?psid=1" /></span></p><p>Now, give it a try, the current factory firmware will accept the edited Openwrt firmware and proceed to upgrade for few minutes.When it is done, say goodbye to the old firmware.XD</p><p>PS:Sorry for my broken English, please don&#039;t mind <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302943">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jwh7</div>
					<div class="post-datetime">
						8 Dec 2015, 22:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>orz wrote:</cite><blockquote><p>Now, give it a try, the current factory firmware will accept the edited Openwrt firmware and proceed to upgrade for few minutes.When it is done, say goodbye to the old firmware.</p></blockquote></div><p>Do either/both wireless radios work (ref: <a href="https://forum.openwrt.org/viewtopic.php?id=46825">this</a>) on CC 15.05?&nbsp; Also, anyone tried this on a B1 revision (either in general, if wireless is working; and/or the device ID hacking method to flash the firmware)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340747">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kyzhk</div>
					<div class="post-datetime">
						10 Oct 2016, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>I used ncc_att_hwid tool as suggested in openwrt wiki. If you search for ncc_att_hwid you will find the binary blob pushed to ddwrt&#039;s repo so you don&#039;t need to download the entire source code and toolchain from dlink.</p><p>Note* you need 32bit library in order to run this executable. Specifically, on a ubuntu 14.04 64bit LTS machine I installed the following packages:</p><p>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0</p><p>I flashed 15.05.1 openwrt on it - 2.4ghz radio works, 5ghz radio is absent (and therefore ac). On latest ddwrt build the both 2.4ghz and 5ghz radio are present, but the 5ghz radio lacks 802.11ac support.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>