<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Raspberry Pi 3 with OpenWRT no Ethernet!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p357665">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 02:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone, as the title says i&#039;m having issues getting my rp3 with openwrt recognized by my network. my modem is *192.168.0.1*, the RP3 is set to *192.168.0.100* I plug the ethernet cable in and it does not light up, although other ports seem to be working. i have a PC on *192.168.0.x* and cannot ping the *.0.100* address or view it in browser or see that it is connected to the modem. what gives! i will upload some relevant pics in a few minutes..</p><p>contents of network configuration file (etc/config/network) (had issues uploading pic, here is the text):</p><p>config &#039;interface&#039; &#039;loopback&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;lo&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.0.100&#039;<br />&nbsp; &nbsp; option &#039;gateway&#039; &#039;192.168.0.1&#039;<br />&nbsp; &nbsp; option dns &#039;192.168.0.1&#039;<br />&nbsp; &nbsp; option broadcast &#039;192.168.0.255&#039;</p>											<p class="post-edited">(Last edited by <strong>Yuna517</strong> on 3 May 2017, 02:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357668">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 03:08					</div>
				</div>
				<div class="post-content content">
					<p>ifconfig eth0 yields:</p><p>2: eth0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc fq_code1 master br-lan state<br />link/ether &lt;MAC ID SHOWN HERE&gt; brd ff:ff:ff:ff:ff:ff</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357669">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">westrem</div>
					<div class="post-datetime">
						3 May 2017, 03:35					</div>
				</div>
				<div class="post-content content">
					<p>Is the WiFi turned off on the pi3?&nbsp; Lan and wlan will not work at the same time.&nbsp; A work around is putting the lan and wlan on different subnets.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357671">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>wifi does not work, no. so what should i do..? sorry i&#039;m not too familiar with RP3 and openwrt.. first timer.. not that great with linux either..<br />please help<br />i cannot even ping the 192.168.0.1 from the RP3 (192.168.0.100) i even tried forcing the IP of my PC to 192.168.0.101 but still cannot ping the 0.100 addres..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357672">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">westrem</div>
					<div class="post-datetime">
						3 May 2017, 04:05					</div>
				</div>
				<div class="post-content content">
					<p>create 2 networks. here is the config of my pi3.&nbsp; &nbsp;I have a lan and a wlan network.&nbsp; one uses 10.10.13.1&nbsp; the other uses 10.10.14.1</p><p>etc/config/network</p><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config globals &#039;globals&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; option _orig_ifname &#039;eth0&#039;<br />&nbsp; &nbsp; option _orig_bridge &#039;false&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;10.10.13.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option mtu &#039;1024&#039;<br />&nbsp; &nbsp; option delegate &#039;0&#039;</p><p>config interface &#039;wlan&#039;<br />&nbsp; &nbsp; option _orig_ifname &#039;radio0.network1&#039;<br />&nbsp; &nbsp; option _orig_bridge &#039;false&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;10.10.14.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option dns &#039;10.10.13.1&#039;<br />&nbsp; &nbsp; option mtu &#039;1024&#039;<br />&nbsp; &nbsp; option delegate &#039;0&#039;</p><br /><p>etc/config/wireless</p><p>config wifi-device &#039;radio0&#039;<br />&nbsp; &nbsp; option type &#039;mac80211&#039;<br />&nbsp; &nbsp; option hwmode &#039;11g&#039;<br />&nbsp; &nbsp; option path &#039;platform/soc/3f300000.mmc/mmc_host/mmc1/mmc1:0001/mmc1:0001:1&#039;<br />&nbsp; &nbsp; option htmode &#039;HT20&#039;<br />&nbsp; &nbsp; option country &#039;00&#039;<br />&nbsp; &nbsp; option channel &#039;8&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; option encryption &#039;none&#039;<br />&nbsp; &nbsp; option ssid &#039;4G Modem Hotspot&#039;<br />&nbsp; &nbsp; option network &#039;wlan&#039;</p><br /><p>etc/config/firewall</p><p>config zone<br />&nbsp; &nbsp; option name &#039;lan&#039;<br />&nbsp; &nbsp; option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option forward &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option network &#039;lan wlan&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357673">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">westrem</div>
					<div class="post-datetime">
						3 May 2017, 04:13					</div>
				</div>
				<div class="post-content content">
					<p>i just realized your using the Ethernet as wan so this probably does not apply to you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357674">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 04:24					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m open to changing whatever to resolve this. I&#039;m just trying to ping the pi from the network and vice versa...<br />Not sure what you meant by using Ethernet as wan. What should I do?</p>											<p class="post-edited">(Last edited by <strong>Yuna517</strong> on 3 May 2017, 04:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357675">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">westrem</div>
					<div class="post-datetime">
						3 May 2017, 04:32					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using a 4g dongle on a usb port and using the Ethernet as lan.&nbsp; The settings I mentioned would not apply to you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357676">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 04:40					</div>
				</div>
				<div class="post-content content">
					<p>Can I not just use the Ethernet as LAN? I don&#039;t need anything else as I said, just basic network availability..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357677">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">westrem</div>
					<div class="post-datetime">
						3 May 2017, 04:49					</div>
				</div>
				<div class="post-content content">
					<p>Ok.&nbsp; Yes.&nbsp; Sorry I was confused on what you were doing.&nbsp; But the problem will be that the lan and wlan will be on separate networks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357678">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>i think that is fine? i really am just trying to get the 1 ethernet port working by any means necessary! i dont care about anything else, do you have interface config for that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357679">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">westrem</div>
					<div class="post-datetime">
						3 May 2017, 05:23					</div>
				</div>
				<div class="post-content content">
					<p>The configuration i posted above will do it.&nbsp; &nbsp;You will need to adjust it for your specific ip preferences.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357683">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Yuna517</div>
					<div class="post-datetime">
						3 May 2017, 07:29					</div>
				</div>
				<div class="post-content content">
					<p>fixed it!</p><p>i went to etc/config/network and found a commented line of code saying delete the below line to enable wifi<br />did that and then rebooted the pi, found openwrt as an open network, joined it, changed my ipv4 settings to be on it (192.168.0.101) and then was finally able to hit the 192.168.0.100 in browser!<br />thanks everyone!!!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>