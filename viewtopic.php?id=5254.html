<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Good news for owners of routers using Intel StrataFlash Flash J3</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p25042">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">yans</div>
					<div class="post-datetime">
						12 Apr 2006, 04:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi ! <br />I have a very positive post for every motorola user, (or everybody with a bricked router using intel flash StrataFlash J3 (those I think: 28F256J3, 28F128J3, 28F640J3, 28F320J3 )).<br />I have been fighting with my bricked router for last 7 months. My router has died when I was playing with NVRAM settings. I did the short pin trick but I have sent the wrong firmware and it never worked again. After that I was trying to bring it back to life using JTAG method but I only made it whose. I was not even able to erase any part of flash - I thought I burnt the CPU,&nbsp; I gave up around january, but couple of days ago I found one interesting <a href="http://forum.openwrt.org/viewtopic.php?id=5050">post from Craven</a>.</p><p>So the trick is to add those patches from <a href="http://wiki.openwrt.org/JTAG_Cables">JTAG WIKI</a> and then everything is going to flash real smoothly ( but maybe not too fast). My only problem was I wasn&#039;t really able to use the debrick utility with my linux so I have used knoppix- nice distribution - everything worked nice:)<br />I will just share some knowledge of things I have observed during bringing back the wr850g back to life.<br />I got a working CFE and NVRAM from Glenn form the openwrt forum ( once again grate thanks!!!!). I have edited the boot_wait=off in CFE.BIN&nbsp; to boot_wait=on. <br />I have erased the NVRAM, KERNEL and I have flashed the NVRAM. then I have flashed the CFE. Voila! - the router has started responding for pings. Of course I had to unplug the JTAG first. Then using TFTP I put the original motorola&#039;s firmware. The openwrt firmware did not work - I don&#039;t know why. I had to upgrade to motorola&#039;s firmware 6.. to be able to flash the router with a bin file<br />Another thing I have observed:<br />LED signals: <br />All leds are on but there is no communication with the router:<br />&nbsp; My guess that it has corrupted CFE.<br />&nbsp; &nbsp; Proof : I have been trying to upgrade from motorola firmware 4.03 to openwrt rc5 via the webinterface. I had to change the file name to trx but the device went nuts. After a reset all the LEDs were on . I have downloaded the CFE.BIN and compared MD5s with the original CFE.BIN and they were different.<br />Power LED is red for longer that 5 sec.<br />&nbsp; Firmware ( kernel )&nbsp; is corrupted. - true for every firmware except openwrt!!! With openwrt on motorola the power led is going to be red when device is on.<br />&nbsp; &nbsp; Proof: That what the motorola&#039;s manual say + only then I was able to communicate with the device and sent using TFTP the right image ( I did the trick with cutting first 8 bytes from 4.03 firmware and it brought back the device to life).</p><p>If You have spotted anything else please share You knowledge.</p><p>Cheers<br />Michal</p><p>Ps. Also some good literature to read is at <a href="http://downloads.openwrt.org/people/mbm/openwrt.html">http://downloads.openwrt.org/people/mbm/openwrt.html</a> . It may help You understand the differences between the firmware , kernel , CFE ...</p>											<p class="post-edited">(Last edited by <strong>yans</strong> on 23 Apr 2006, 22:40)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>