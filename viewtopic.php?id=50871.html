<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bricked TP-link 1043ND v1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p235025">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">torrex69</div>
					<div class="post-datetime">
						29 May 2014, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>Hello!<br />Tried to flash the router yesterday from orginal FW to Openwrt but now i cant access weblogin and the router will not access to internet. I read here about access to the router in failsafe mod with telnet. I did that and i can see the picture how to mix the cocktail. I have connected the router in 1 of the LAN ports is this the right way or do i have to connect it to the WAN port?<br />So my question is if i can fix my router with telnet and flashing it with a new FW file or back to orginal FW?</p><p>Then it have been nice if someone could explain how u write inside the telnet because i new into this type of things.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235028">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						29 May 2014, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>The fact that you can telnet in failsafe mode means the router is not bricked and Openwrt is installed and is working OK. Perhaps the configuration is broken.</p><p>Which version of Openwrt (what file, and where did you get it from) did you flash?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235031">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">torrex69</div>
					<div class="post-datetime">
						29 May 2014, 18:28					</div>
				</div>
				<div class="post-content content">
					<p>I flashed it inside Tp-Links webgui 192.168.1.1 and i used this file.<br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr1043nd-v1-squashfs-sysupgrade.bin">http://downloads.openwrt.org/attitude_a … pgrade.bin</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235034">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						29 May 2014, 18:52					</div>
				</div>
				<div class="post-content content">
					<p>You should be using&nbsp; the factory image, not the sysupgrade, for flashing it from manufacturer firmware. Not sure of the precise technical differences other than the header but that could be why it didn&#039;t set up your configuration properly. Try starting it in failsafe mode, connecting to telnet, then running the commands<br /></p><div class="codebox"><pre><code>mount_root</code></pre></div><p>then<br /></p><div class="codebox"><pre><code>uci get network.lan.ipaddr</code></pre></div><p>If the response to the second is anything other than 192.168.1.1 then try the command<br /></p><div class="codebox"><pre><code>firstboot</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235038">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">torrex69</div>
					<div class="post-datetime">
						29 May 2014, 20:06					</div>
				</div>
				<div class="post-content content">
					<p>Ok will try this when i go home. I´m at work now. But it´s ok to have my computer plugged in via the LAN port on the router or must i use the WAN port?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235040">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						29 May 2014, 20:53					</div>
				</div>
				<div class="post-content content">
					<p>You must use the LAN port, not the WAN port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235062">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">torrex69</div>
					<div class="post-datetime">
						30 May 2014, 00:00					</div>
				</div>
				<div class="post-content content">
					<p>this is what i get</p><p>root@(none):/# mount_root<br />mount: mounting /dev/mtdblock3 on /tmp/overlay failed: Input/output error<br />switching to jffs2<br />root@(none):/# uci get network.lan.ipaddr<br />uci: Entry not found<br />root@(none):/# uci get network.lan.ipaddr<br />uci: Entry not found<br />root@(none):/# firstboot<br />Unlocking rootfs_data ...<br />Erasing rootfs_data ...<br />root@(none):/#</p><p>What i do next?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235067">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">torrex69</div>
					<div class="post-datetime">
						30 May 2014, 01:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>qasdfdsaq wrote:</cite><blockquote><p>You should be using&nbsp; the factory image, not the sysupgrade, for flashing it from manufacturer firmware. Not sure of the precise technical differences other than the header but that could be why it didn&#039;t set up your configuration properly. Try starting it in failsafe mode, connecting to telnet, then running the commands<br /></p><div class="codebox"><pre><code>mount_root</code></pre></div><p>then<br /></p><div class="codebox"><pre><code>uci get network.lan.ipaddr</code></pre></div><p>If the response to the second is anything other than 192.168.1.1 then try the command<br /></p><div class="codebox"><pre><code>firstboot</code></pre></div></blockquote></div><p>turned it off and on and then it worked. But i didnt get the firewall to work good tested it on grc.com and it failed. So i flashed it back to orginal FW and it stealth.</p><p>But thanks for taking the time to help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235087">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						30 May 2014, 10:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>torrex69 wrote:</cite><blockquote><p>i didnt get the firewall to work good tested it on grc.com and it failed.</p></blockquote></div><p>Sigh. This is something that will come up frequently, isn&#039;t it?</p><p>It annoys me to no end that just because Steve Gibson once decided that breaking TCP protocol is better than not breaking it, invented the term &quot;stealth&quot; for it, people will declare a firewall that actually does its job correctly unfit for duty. How did this website become the litmus test of firewalls for the general public?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235106">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						30 May 2014, 13:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>metai wrote:</cite><blockquote><div class="quotebox"><cite>torrex69 wrote:</cite><blockquote><p>i didnt get the firewall to work good tested it on grc.com and it failed.</p></blockquote></div><p>Sigh. This is something that will come up frequently, isn&#039;t it?</p><p>It annoys me to no end that just because Steve Gibson once decided that breaking TCP protocol is better than not breaking it, invented the term &quot;stealth&quot; for it, people will declare a firewall that actually does its job correctly unfit for duty. How did this website become the litmus test of firewalls for the general public?</p></blockquote></div><p>This.</p><p>Agree 100%.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>