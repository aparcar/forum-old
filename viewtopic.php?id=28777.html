<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Building Trunk in Fedora</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p129256">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Ritmo2k</div>
					<div class="post-datetime">
						23 Feb 2011, 01:56					</div>
				</div>
				<div class="post-content content">
					<p>I see the wiki shows some build deps for Fedora 14, has anyone got this working in F14x64 (Only wkst I have atm)?<br />Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129289">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						23 Feb 2011, 14:08					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t have Fedora. The guys who do use it, are welcome to mend the wiki. Contribute. That way you don&#039;t have to ask. Debian 6 Squeeze is also missing. WIP</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129352">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">randygroves</div>
					<div class="post-datetime">
						24 Feb 2011, 03:33					</div>
				</div>
				<div class="post-content content">
					<p>Using trunk (25667) pulled earlier today, I&#039;m trying to build on Fedora 14 x86_64.&nbsp; I am getting the error reported in ticket #8297 (closed with a minimal message about icc being the default compiler).&nbsp; The error happens the tools/install, in the building of gmp-5.0.1:</p><p>(cd /home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/build_dir/host/gmp-5.0.1/; ./configure CFLAGS=&quot;-O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include&quot; CPPFLAGS=&quot;-O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include&quot; LDFLAGS=&quot;-L/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/lib&quot; SHELL=&quot;/bin/bash&quot; --target=i386-redhat-linux --host=i386-redhat-linux --build=i386-redhat-linux --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host --exec-prefix=/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host --sysconfdir=/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/etc --localstatedir=/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/var --sbindir=/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/bin --enable-static --disable-shared --enable-cxx --enable-mpbsd; )<br />checking build system type... i386-redhat-linux-gnu<br />checking host system type... i386-redhat-linux-gnu<br />checking for a BSD-compatible install... /usr/bin/install -c<br />checking whether build environment is sane... yes<br />checking for a thread-safe mkdir -p... /bin/mkdir -p<br />checking for gawk... gawk<br />checking whether make sets $(MAKE)... yes<br />checking whether to enable maintainer-specific portions of Makefiles... no<br />checking ABI=32<br />checking compiler gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include... yes<br />checking compiler gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include has sizeof(long)==4... no<br />checking compiler icc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include... no<br />checking whether cc is gcc... yes<br />checking compiler cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include... yes<br />checking compiler cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include has sizeof(long)==4... no<br />configure: error: could not find a working compiler, see config.log for details<br />make[2]: *** [/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/build_dir/host/gmp-5.0.1/.configured] Error 1<br />make[2]: Leaving directory `/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/tools/gmp&#039;<br />make[1]: *** [tools/gmp/compile] Error 2<br />make[1]: Leaving directory `/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test&#039;<br />make: *** [tools/install] Error 2</p><p>Tried trunk on a Fedora 13 box (i686), and all is well. </p><p>The relevant config.log section:</p><p>User:<br />ABI=<br />CC=<br />CFLAGS=-O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include<br />CPPFLAGS=-O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include<br />MPN_PATH=<br />GMP:<br />abilist=32<br />cclist=gcc icc cc<br />configure:5464: gcc 2&gt;&amp;1 | grep xlc &gt;/dev/null<br />configure:5467: $? = 1<br />configure:5521: checking compiler gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include<br />Test compile:<br />configure:5535: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5538: $? = 0<br />configure:5543: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5546: $? = 0<br />Test compile: function pointer return<br />configure:5589: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5592: $? = 0<br />configure:5597: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5600: $? = 0<br />Test compile: cmov instruction<br />configure:5645: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5648: $? = 0<br />configure:5653: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5656: $? = 0<br />Test compile: double -&gt; ulong conversion<br />configure:5702: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5705: $? = 0<br />configure:5710: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5713: $? = 0<br />Test compile: double negation<br />configure:5757: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5760: $? = 0<br />configure:5765: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5768: $? = 0<br />Test compile: double -&gt; float conversion<br />configure:5813: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5816: $? = 0<br />configure:5821: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5824: $? = 0<br />Test compile: gnupro alpha ev6 char spilling<br />configure:5898: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5901: $? = 0<br />configure:5906: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5909: $? = 0<br />Test compile: __builtin_alloca availability<br />configure:5949: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />/usr/lib/gcc/x86_64-redhat-linux/4.5.1/../../../../lib64/crt1.o: In function `_start&#039;:<br />(.text+0x20): undefined reference to `main&#039;<br />collect2: ld returned 1 exit status<br />configure:5952: $? = 1<br />failed program was:<br />int k; int foo () { __builtin_alloca (k); }<br />Test compile: abs int -&gt; double conversion<br />configure:6073: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6076: $? = 0<br />configure:6081: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6084: $? = 0<br />Test compile: long long reliability test 1<br />configure:6137: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6140: $? = 0<br />configure:6145: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6148: $? = 0<br />Test compile: long long reliability test 2<br />configure:6197: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6200: $? = 0<br />configure:6205: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6208: $? = 0<br />Test compile: mpn_lshift_com optimization<br />configure:6296: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6299: $? = 0<br />configure:6304: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6307: $? = 0<br />Test compile: mpn_lshift_com optimization 2<br />configure:6404: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6407: $? = 0<br />configure:6412: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6415: $? = 0<br />configure:6561: result: yes<br />configure: testlist sizeof-long-4<br />configure:6736: checking compiler gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include has sizeof(long)==4<br />configure:6749: gcc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -c conftest.c &gt;&amp;5<br />conftest.c: In function &#039;main&#039;:<br />conftest.c:4:14: error: size of array &#039;test_array&#039; is negative<br />configure:6752: $? = 1<br />configure:6757: result: no<br />configure:5442: icc -c conftest.c &gt;&amp;5<br />./configure: line 5443: icc: command not found<br />configure:5445: $? = 127<br />configure:5464: icc 2&gt;&amp;1 | grep xlc &gt;/dev/null<br />configure:5467: $? = 1<br />configure:5521: checking compiler icc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include<br />Test compile:<br />configure:5535: icc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />./configure: line 5536: icc: command not found<br />configure:5538: $? = 127<br />failed program was:</p><p>int main () { return 0; }<br />configure:6561: result: no<br />configure:5442: cc -c conftest.c &gt;&amp;5<br />configure:5445: $? = 0<br />configure:5448: checking whether cc is gcc<br />configure:5450: result: yes<br />configure:5464: cc 2&gt;&amp;1 | grep xlc &gt;/dev/null<br />configure:5467: $? = 1<br />configure:5521: checking compiler cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include<br />Test compile:<br />configure:5535: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5538: $? = 0<br />configure:5543: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5546: $? = 0<br />Test compile: function pointer return<br />configure:5589: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5592: $? = 0<br />configure:5597: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5600: $? = 0<br />Test compile: cmov instruction<br />configure:5645: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5648: $? = 0<br />configure:5653: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5656: $? = 0<br />Test compile: double -&gt; ulong conversion<br />configure:5702: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5705: $? = 0<br />configure:5710: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5713: $? = 0<br />Test compile: double negation<br />configure:5757: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5760: $? = 0<br />configure:5765: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5768: $? = 0<br />Test compile: double -&gt; float conversion<br />configure:5813: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5816: $? = 0<br />configure:5821: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5824: $? = 0<br />Test compile: gnupro alpha ev6 char spilling<br />configure:5898: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:5901: $? = 0<br />configure:5906: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:5909: $? = 0<br />Test compile: __builtin_alloca availability<br />configure:5949: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />/usr/lib/gcc/x86_64-redhat-linux/4.5.1/../../../../lib64/crt1.o: In function `_start&#039;:<br />(.text+0x20): undefined reference to `main&#039;<br />collect2: ld returned 1 exit status<br />configure:5952: $? = 1<br />failed program was:<br />int k; int foo () { __builtin_alloca (k); }<br />Test compile: abs int -&gt; double conversion<br />configure:6073: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6076: $? = 0<br />configure:6081: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6084: $? = 0<br />Test compile: long long reliability test 1<br />configure:6137: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6140: $? = 0<br />configure:6145: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6148: $? = 0<br />Test compile: long long reliability test 2<br />configure:6197: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6200: $? = 0<br />configure:6205: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6208: $? = 0<br />Test compile: mpn_lshift_com optimization<br />configure:6296: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6299: $? = 0<br />configure:6304: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6307: $? = 0<br />Test compile: mpn_lshift_com optimization 2<br />configure:6404: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include conftest.c &gt;&amp;5<br />configure:6407: $? = 0<br />configure:6412: ./a.out || ./b.out || ./a.exe || ./a_out.exe || ./conftest<br />configure:6415: $? = 0<br />configure:6561: result: yes<br />configure: testlist sizeof-long-4<br />configure:6736: checking compiler cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include has sizeof(long)==4<br />configure:6749: cc -O2 -I/home/randy/src/openwrt_bmr/openwrt_trunk/openwrt_brdcm_test/staging_dir/host/include -c conftest.c &gt;&amp;5<br />conftest.c: In function &#039;main&#039;:<br />conftest.c:4:14: error: size of array &#039;test_array&#039; is negative<br />configure:6752: $? = 1<br />configure:6757: result: no<br />configure:6799: error: could not find a working compiler, see config.log for details</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129394">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">randygroves</div>
					<div class="post-datetime">
						24 Feb 2011, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>I am suspecting that this issue is connected more to the fact that it is on a 64-bit image, rather than the Fedora or gcc version.&nbsp; I have successfully built the exact same set of code on a Fedora 14 32-bit box.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129717">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">oneru</div>
					<div class="post-datetime">
						1 Mar 2011, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m building on a Fedora 14 x64 with no problems. Try uninstalling icc. Run this:&nbsp; <br />yum install binutils bzip2 gawk gcc gcc-c++ gettext make ncurses-devel patch unzip wget zlib-devel</p><p>Try building again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129719">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Ritmo2k</div>
					<div class="post-datetime">
						1 Mar 2011, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>Thanks oneru,<br />I have to read up on recovering from bricked units, I got it working but the image compiled right but when flashed I was left with a bricked router.</p><p>Good to know the OS is compatible...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129738">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">randygroves</div>
					<div class="post-datetime">
						1 Mar 2011, 23:26					</div>
				</div>
				<div class="post-content content">
					<p>oneru,</p><p>I don&#039;t have icc installed.&nbsp; I just updated to the latest trunk (25810), and I get the gmp error out of the box.&nbsp; I have all of the packages installed that you show in your list, but I see no evidence at all of icc - unless it is under some other name.&nbsp; Do you actually compile gmp as part of your build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143321">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dliapp</div>
					<div class="post-datetime">
						10 Sep 2011, 23:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>randygroves wrote:</cite><blockquote><p>oneru,</p><p>I don&#039;t have icc installed.&nbsp; I just updated to the latest trunk (25810), and I get the gmp error out of the box.&nbsp; I have all of the packages installed that you show in your list, but I see no evidence at all of icc - unless it is under some other name.&nbsp; Do you actually compile gmp as part of your build?</p></blockquote></div><p>Reviving this thread, on an amd64 debian squeeze system, I get the following trying to build (ar7 target) using make V=99:</p><p>[...]</p><p>checking for gawk... gawk<br />checking whether make sets $(MAKE)... yes<br />checking whether to enable maintainer-specific portions of Makefiles... no<br />checking ABI=32<br />checking compiler gcc -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include... yes<br />checking compiler gcc -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include has sizeof(long)==4... no<br />checking compiler icc -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include... no<br />checking whether cc is gcc... yes<br />checking compiler cc -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include... yes<br />checking compiler cc -O2 -I/home/dl/source/openwrt/trunk/staging_dir/host/include has sizeof(long)==4... no<br />configure: error: could not find a working compiler, see config.log for details<br />make[3]: *** [/home/dl/source/openwrt/trunk/build_dir/host/gmp-5.0.1/.configured] Error 1<br />make[3]: Leaving directory `/home/dl/source/openwrt/trunk/tools/gmp&#039;<br />make[2]: *** [tools/gmp/compile] Error 2<br />make[2]: Leaving directory `/home/dl/source/openwrt/trunk&#039;<br />make[1]: *** [/home/dl/source/openwrt/trunk/staging_dir/target-mipsel_uClibc-0.9.32/stamp/.tools_install_nnynn] Error 2<br />make[1]: Leaving directory `/home/dl/source/openwrt/trunk&#039;<br />make: *** [world] Error 2</p><p>I do not have icc installed.<br />gmp seems to stick to 32bit ABI and also does not like the fact that sizeof(long) is not 4 -- this is something I don&#039;t understand -- isn&#039;t the make system setting the (cross)compiler to 32bits?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144701">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dliapp</div>
					<div class="post-datetime">
						28 Sep 2011, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>Answering my own question:</p><p>In order to get gmp building without problems on debian squeeze x86_64 at least,&nbsp; you need to have gcc-multilib installed (this will pull the specific version for your gcc as a dependency).</p><p>Make sure you do a make dirclean before you fire your make again and all should build as expected.</p><p>I suppose the prerequisites table ( <a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence">http://wiki.openwrt.org/doc/howto/buildroot.exigence</a> ) should be updated to reflect that as well.</p><p>All observations done on latest trunk (r28310) but I have been stuck at this for a few weeks on my amd64 debian squeeze.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>