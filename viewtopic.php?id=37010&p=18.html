<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WR841N v8.0</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Jul 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 18 of 21</div><nav><ul><li><a href="viewtopic.php%3Fid=37010&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=17.html">17</a></li><li class="pagination-current"><span>18</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=19.html">19</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=21.html">21</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p230417">
				<div class="post-metadata">
					<div class="post-num">Post #426</div>
					<div class="post-author">quisvir</div>
					<div class="post-datetime">
						16 Apr 2014, 13:39					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,</p><p>I&#039;m hoping for some help unbricking my v8. I was trying a trunk build, decided to switch back to factory firmware (for a second time actually), but in the process the web ui was apparently screwed up - it now asks for authentication, but doesn&#039;t show anything after that. Other than that, the router seems to be working fine (but obviously stuck on the default settings). I&#039;ve ordered a ttl usb converter on ebay to try my hand at a serial connection, but I figured there was one other option I could look at in the mean time: a backdoor.</p><p>Since my TL-WR841N is now running an old factory firmware (wr841nv8_en_3_13_18_up(120522)), it is vulnerable to the exploit described <a href="http://sekurak.pl/tp-link-httptftp-backdoor/">here</a>. This means I can send/receive files and run scripts as root:</p><div class="codebox"><pre><code>  PID  Uid     VmSize Stat Command
[..]
 2777 root        404 S   /bin/sh /tmp/mdk_client.out 
 2781 root        400 R   ps </code></pre></div><p>However, my knowledge of Linux and the router&#039;s inner workings is extremely limited, so I&#039;m not even sure how to get proper shell access (for instance). In any case, I&#039;m thinking there are two things that might be possible and could solve my problem:</p><p>(1) Upload and install new firmware</p><p>or</p><p>(2) &#039;Repair&#039; the web ui</p><p>To me, option 1 seems the obvious choice, unless the web ui problem has an easy fix. But for either option I would not know how to go about it, so I&#039;m hoping someone here does. I can of course post more info/command output if required. Any suggestions and thoughts would be most appreciated!</p>											<p class="post-edited">(Last edited by <strong>quisvir</strong> on 16 Apr 2014, 13:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231362">
				<div class="post-metadata">
					<div class="post-num">Post #427</div>
					<div class="post-author">quisvir</div>
					<div class="post-datetime">
						26 Apr 2014, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>Never mind, debricked painlessly using serial connection. Thanks to all who contributed to the wiki.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233085">
				<div class="post-metadata">
					<div class="post-num">Post #428</div>
					<div class="post-author">SmartDEV</div>
					<div class="post-datetime">
						12 May 2014, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>Hey all,</p><p>So what is the easiest devised way to achieve USB port on the version 8? I am happy to go with 1.1 if there is an easier way to implement that. I don&#039;t like the idea of having to melt away half the chip! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233166">
				<div class="post-metadata">
					<div class="post-num">Post #429</div>
					<div class="post-author">thermionic</div>
					<div class="post-datetime">
						12 May 2014, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi All</p><p>I appear to have broken something on my install, I can connect with telnet and have access to basic commands such as ls cd and df etc, but if I try tun run passwd, it asks for a password and confirmation, and then stops responding.</p><p>I tried the 30/30/30 with no improvement.</p><p>Any suggestions gratefully received</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233180">
				<div class="post-metadata">
					<div class="post-num">Post #430</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						13 May 2014, 00:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gandamaluko wrote:</cite><blockquote><p>I bricked my TP-Link WR840ND v8.2 (all leds blinking...) when I try to update the firmware from DDWRT to stock.... I tried this because I can&#039;t upgrade from DDWRT to OPENWRT directly...</p></blockquote></div><p>I don;t know if it is the only way, but the safe way is this: 1. use dd-wrt &quot;webrevert&quot; image, so you will get back stock, 2. install openwrt-factory image from stock as usual.</p><div class="quotebox"><cite>gandamaluko wrote:</cite><blockquote><p>Now I need to get a pc with serial port or a Nokia data cable...</p></blockquote></div><p>You can&#039;t use PC with serial port, you&#039;d probably burn it out. You need ttl cable as ldpiney told, nokia cable is one of those you can safely use, pc port isn&#039;t.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237012">
				<div class="post-metadata">
					<div class="post-num">Post #431</div>
					<div class="post-author">tanayrajoria</div>
					<div class="post-datetime">
						16 Jun 2014, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>I hope this post is not dead. <br />I installed OpenWrt on TP-Link WR841N but then someone told me its better to revert to stock then flash DDWrt So i was installing stock firmware on the router and suddenly it stopped responding so i had to power off the router and restart it. Now the power light is on (Not Blinking) and all the other lights are blinking together after&nbsp; 4-5 secs. <br />I connected the router directly to my desktop via Ethernet and it says &quot;Wan Cable is unplugged&quot; after every 2 seconds.<br />I tried the following steps posted by Undermonster but i am stuck on step number 4/Four. I pressed the reset button many times but its not working also tried 30/30/30 reset. The button was working just fine before this incident happened. <br />Can you please tell what should i do now. <br />Thanks</p><br /><div class="quotebox"><cite>undermonster wrote:</cite><blockquote><p><strong>I Unbricked my WR841N v8.2 - without hardware hacks.</strong></p><p>I will explain how to revert to STOCK firmware.</p><p>1) Set your Computer IP to 192.168.1.2 (<em>Ethernet, not WiFi</em>)<br />2) Connect to your router, in the WAN port (<em>blue</em>)<br />3) Ping 192.168.1.1 continuously. (<em>Helps identify when it&#039;s ready</em>)<br />4) Turn Router ON. Press the <strong>WPS/Reset</strong> button many times.<br />5) Wait for LED under <strong>gear</strong> icon to flash rapidly.<br />6) Wait for PING to respond (<em>Not failed response</em>)<br />7) Telnet into 192.168.1.1 from your PC<br />8) In telnet, CD to /tmp<br />9) Copy stock firmware (<a href="http://www.tp-link.com/Resources/software/TL-WR841N_V8_120522.zip">Link</a>) to /tmp (<em>wget is installed by default! Download link is ZIP, firmware is BIN!</em>)<br />10) Rename firmware to: tplink.bin<br />11) Type: <span style="color: blue">mtd -r write /tmp/tplink.bin firmware</span><br />12) Wait for &quot;Reboot&quot; message. If error message appears, manually reboot.</p><p>Your router is now back to Factory Defaults.</p><br /><br /><div class="quotebox"><cite>sanford wrote:</cite><blockquote><p>TL-WR851N v8.2 flashed on AA 12.09 beta2 using the stock web interface was a total success!<br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta2/ar71xx/generic/openwrt-ar71xx-generic-tl-wr841n-v8-squashfs-factory.bin">http://downloads.openwrt.org/attitude_a … actory.bin</a><br />Read everything on the forum + wiki and assumed the worse requiring a serial cable to unbrick, but it worked without any issues! First logon through telnet to setup the password and there is no need to install luci separately..!</p></blockquote></div><br /><p>Installed on my previously bricked v8.2 and works. (Yet to identify any bugs)</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237269">
				<div class="post-metadata">
					<div class="post-num">Post #432</div>
					<div class="post-author">bachler</div>
					<div class="post-datetime">
						18 Jun 2014, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello all!</p><p>I hope this thread is not classified as dead yet...</p><p>I have been playing around a bit with a TL-WR871ND Ver 8.2 (Board Rev 1.2)</p><p>My intention is to run OpenWRT on it, and to add a USB host interface and maybe a RS232 port.</p><p>I have been searching google and reading forums, but can not get the USB host interface to work.</p><p>What I have done to the hardware so far:</p><p>* Desoldered the WiFi on/off switch and extended the pads with wires on underside for future use, to make room for USB connector.<br />* Drilled and filed the hole to fit the USB connector, which is then hotglued to the board, so that you can easly remove the whole board from the plastic to get access to the underside<br />* Soldered wires from D+ and D- pins on SoC to a pice of protoboard and then extended them to the USB port<br />* Added a buck converter from the incoming voltage to step it down to 5v for the USB host interface.</p><p>What I have done to the software so far:</p><p>I flashed Attitude Adjustment 12.09 (<a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr841n-v8-squashfs-factory.bin">this</a>) from the webinterface, and could log in via Luci.<br />I then installed packages as per <a href="http://wiki.openwrt.org/doc/howto/usb.essentials">http://wiki.openwrt.org/doc/howto/usb.essentials</a> and <a href="http://wiki.openwrt.org/doc/howto/usb.storage">http://wiki.openwrt.org/doc/howto/usb.storage</a><br />I then tried to connect a partitioned and formated 16GB USB stick with a 4096MB ext4 partition and a 512MB swap, but nothing showd up in dmesg or /dev so i tried to check my connections.<br />I measure a low signal on the D+ and D- relative to 5v+ from the buck converter with nothing connected to the USB port, and the D+ and D- are not shorted to eachother, VCC or GND.</p><p>So i then tried BARRIER BREAKER (Bleeding Edge, r41181). But just got the same result. nothing.</p><p>I read some post by a user &quot;uboot&quot; near the bottom of&nbsp; <a href="https://forum.openwrt.org/viewtopic.php?pid=199334#p199334">this</a> page, saying that &quot;I added the USB in 841n v8.3. All works. Changed the file mach-tl-wr841n-v8.c by adding the lines&quot;<br />And that post is nearly a year old. And then i came across <a href="https://dev.openwrt.org/ticket/8878#no1">this</a> and so maybe it had been added to the latest Barrier Breaker i thought...</p><p><strong>But now I feel a bit lost. Where to go from here? Have I missed something trivial?</strong><br />Do I need to compile the kernel from source and make some changes? (And if so, how do I go about doing that?)</p><p>And here are some maybe useful information:</p><p>Loaded modules:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# lsmod
arc4                    1312  2 
ath                    19717  3 ath9k
ath9k                  88385  0 
ath9k_common           11437  1 ath9k
ath9k_hw              314831  2 ath9k
cfg80211              195495  4 ath9k
compat                  1988  4 ath9k
crc16                   1015  1 ext4
crc_ccitt               1019  1 ppp_async
crypto_blkcipher       10375  1 arc4
crypto_hash             9514  2 ext4
ehci_hcd               30780  1 ehci_platform
ehci_platform           1872  0 
ext4                  292601  0 
gpio_button_hotplug     4448  0 
ip6_tables              8993  3 ip6table_raw
ip6t_REJECT             2032  2 
ip6table_filter          608  1 
ip6table_mangle         1056  1 
ip6table_raw             576  1 
ip_tables               9149  4 iptable_nat
ipt_MASQUERADE          1136  1 
ipt_REJECT              1808  2 
iptable_filter           672  1 
iptable_mangle           960  1 
iptable_nat             1968  1 
iptable_raw              640  1 
ipv6                  248812 32 ip6t_REJECT
jbd2                   46508  1 ext4
ledtrig_usbdev          1952  0 
mac80211              346353  1 ath9k
mbcache                 3981  1 ext4
nf_conntrack           45406 13 iptable_nat
nf_conntrack_ftp        5120  1 nf_nat_ftp
nf_conntrack_ipv4       5188  8 
nf_conntrack_ipv6       5552  3 
nf_conntrack_irc        2784  1 nf_nat_irc
nf_defrag_ipv4           774  1 nf_conntrack_ipv4
nf_defrag_ipv6          8711  1 nf_conntrack_ipv6
nf_nat                 10560  7 iptable_nat
nf_nat_ftp              1200  0 
nf_nat_ipv4             2654  1 iptable_nat
nf_nat_irc               976  0 
nls_base                4974  2 ntfs
ntfs                   88755  0 
ohci_hcd               16592  0 
ppp_async               6144  0 
ppp_generic            19634  3 pppoe
pppoe                   7744  0 
pppox                   1338  1 pppoe
scsi_mod               76770  2 usb_storage
sd_mod                 24560  0 
slhc                    4299  1 ppp_generic
uhci_hcd               18240  0 
usb_common              1160  1 usbcore
usb_storage            36152  0 
usbcore               109765  6 ledtrig_usbdev
x_tables               10997 25 ipt_MASQUERADE
xt_CT                   2272  0 
xt_LOG                  9488  0 
xt_REDIRECT             1056  0 
xt_TCPMSS               2672  2 
xt_comment               480 53 
xt_conntrack            2160 10 
xt_limit                 992 20 
xt_mac                   608  0 
xt_mark                  672  0 
xt_multiport            1184  0 
xt_nat                  1072  0 
xt_state                 688  0 
xt_tcpudp               1680  8 
xt_time                 1664  0 
root@OpenWrt:/# </code></pre></div><p>Kernel log:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# dmesg 
[    0.000000] Linux version 3.10.36 (openwrt@gb-12) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r41181) ) #1 Mon Jun 16 06:32:09 UTC 2014
[    0.000000] MyLoader: sysp=aef732b1, boardp=949e7cfd, parts=5c19680a
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001974c (MIPS 74Kc)
[    0.000000] SoC: Atheros AR9341 rev 3
[    0.000000] Clocks: CPU:535.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 80334b60, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-WR841N-v8 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 28588k/32768k available (2371k kernel code, 4180k reserved, 618k data, 272k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.070000] Calibrating delay loop... 266.64 BogoMIPS (lpj=1333248)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.090000] MIPS: machine is TP-LINK TL-WR841N/ND v8
[    0.510000] bio: create slab &lt;bio-0&gt; at 0
[    0.510000] Switching to clocksource MIPS
[    0.520000] NET: Registered protocol family 2
[    0.520000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.530000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.540000] TCP: Hash tables configured (established 512 bind 512)
[    0.540000] TCP: reno registered
[    0.540000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.550000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.560000] NET: Registered protocol family 1
[    0.560000] PCI: CLS 0 bytes, default 32
[    0.580000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.580000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.600000] msgmni has been set to 55
[    0.600000] io scheduler noop registered
[    0.600000] io scheduler deadline registered (default)
[    0.610000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.640000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
[    0.650000] console [ttyS0] enabled, bootconsole disabled
[    0.660000] ath79-spi ath79-spi: master is unqueued, this is deprecated
[    0.670000] m25p80 spi0.0: found w25q32, expected m25p80
[    0.670000] m25p80 spi0.0: w25q32 (4096 Kbytes)
[    0.680000] 5 tp-link partitions found on MTD device spi0.0
[    0.690000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.690000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.700000] 0x000000020000-0x00000012b1d0 : &quot;kernel&quot;
[    0.700000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.720000] 0x00000012b1d0-0x0000003f0000 : &quot;rootfs&quot;
[    0.720000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.740000] mtd: device 2 (rootfs) set to be root filesystem
[    0.740000] 1 squashfs-split partitions found on MTD device rootfs
[    0.750000] 0x000000300000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.760000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
[    0.760000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
[    0.790000] libphy: ag71xx_mdio: probed
[    1.340000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:00 [uid=004dd042, driver=Generic PHY]
[    1.350000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII
[    1.910000] ag71xx-mdio.1: Found an AR934X built-in switch
[    2.940000] eth1: Atheros AG71xx at 0xba000000, irq 5, mode:GMII
[    2.950000] TCP: cubic registered
[    2.950000] NET: Registered protocol family 17
[    2.960000] Bridge firewalling registered
[    2.960000] 8021q: 802.1Q VLAN Support v1.8
[    2.970000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    2.980000] Freeing unused kernel memory: 272K (8034c000 - 80390000)
[    5.260000] usbcore: registered new interface driver usbfs
[    5.260000] usbcore: registered new interface driver hub
[    5.270000] usbcore: registered new device driver usb
[    5.280000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    5.290000] ehci-platform: EHCI generic platform driver
[    5.290000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[   10.020000] jffs2: notice: (335) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 14 of xref (0 dead, 2 orphan) found.
[   10.760000] SCSI subsystem initialized
[   10.770000] uhci_hcd: USB Universal Host Controller Interface driver
[   10.780000] usbcore: registered new interface driver usb-storage
[   12.570000] NET: Registered protocol family 10
[   12.590000] NTFS driver 2.1.30 [Flags: R/O MODULE].
[   12.600000] nf_conntrack version 0.5.0 (450 buckets, 1800 max)
[   12.620000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   12.630000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   12.640000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   12.650000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   12.700000] xt_time: kernel timezone is -0000
[   12.760000] cfg80211: Calling CRDA to update world regulatory domain
[   12.760000] cfg80211: World regulatory domain updated:
[   12.770000] cfg80211:  DFS Master region: unset
[   12.770000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   12.780000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   12.790000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   12.800000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   12.810000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   12.820000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   12.830000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   12.850000] PPP generic driver version 2.4.2
[   12.870000] NET: Registered protocol family 24
[   12.940000] ath: EEPROM regdomain: 0x0
[   12.940000] ath: EEPROM indicates default country code should be used
[   12.940000] ath: doing EEPROM country-&gt;regdmn map search
[   12.940000] ath: country maps to regdmn code: 0x3a
[   12.940000] ath: Country alpha2 being used: US
[   12.940000] ath: Regpair used: 0x3a
[   12.950000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   12.960000] cfg80211: Calling CRDA for country: US
[   12.970000] cfg80211: Regulatory domain changed to country: US
[   12.970000] cfg80211:  DFS Master region: FCC
[   12.980000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   12.990000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[   12.990000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 1700 mBm), (N/A)
[   13.000000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz), (N/A, 2300 mBm), (0 s)
[   13.010000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[   13.020000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)
[   13.030000] ieee80211 phy0: Atheros AR9340 Rev:0 mem=0xb8100000, irq=47
[   22.330000] IPv6: ADDRCONF(NETDEV_UP): eth1: link is not ready
[   22.330000] device eth1 entered promiscuous mode
[   22.340000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
[   22.350000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
[   24.650000] eth0: link up (100Mbps/Full duplex)
[   24.650000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
[   47.620000] eth1: link up (1000Mbps/Full duplex)
[   47.620000] br-lan: port 1(eth1) entered forwarding state
[   47.630000] br-lan: port 1(eth1) entered forwarding state
[   47.630000] IPv6: ADDRCONF(NETDEV_CHANGE): eth1: link becomes ready
[   47.640000] IPv6: ADDRCONF(NETDEV_CHANGE): br-lan: link becomes ready
[   49.630000] br-lan: port 1(eth1) entered forwarding state
root@OpenWrt:/# </code></pre></div><p>Installed packages.<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# opkg list_installed
base-files - 153-r41181
block-mount - 2014-06-02-d04e58946eff771bf59db90d7a2301b746141ac4
busybox - 1.22.1-1
dnsmasq - 2.71-1
dropbear - 2014.63-1
firewall - 2014-04-14
fstools - 2014-06-02-d04e58946eff771bf59db90d7a2301b746141ac4
hostapd-common - 2014-06-03-1
ip6tables - 1.4.21-1
iptables - 1.4.21-1
iw - 3.14-1
iwinfo - 49
jshn - 2014-06-11-e130b08d98d59dae5d0c59210aeb7633c011b107
kernel - 3.10.36-1-04ed9f242b3f459206891fcab0ee0d41
kmod-ath - 3.10.36+2014-05-22-1
kmod-ath9k - 3.10.36+2014-05-22-1
kmod-ath9k-common - 3.10.36+2014-05-22-1
kmod-cfg80211 - 3.10.36+2014-05-22-1
kmod-crypto-aes - 3.10.36-1
kmod-crypto-arc4 - 3.10.36-1
kmod-crypto-core - 3.10.36-1
kmod-crypto-hash - 3.10.36-1
kmod-fs-ext4 - 3.10.36-1
kmod-fs-ntfs - 3.10.36-1
kmod-gpio-button-hotplug - 3.10.36-1
kmod-ip6tables - 3.10.36-1
kmod-ipt-conntrack - 3.10.36-1
kmod-ipt-core - 3.10.36-1
kmod-ipt-nat - 3.10.36-1
kmod-ipt-nathelper - 3.10.36-1
kmod-ipv6 - 3.10.36-1
kmod-ledtrig-usbdev - 3.10.36-1
kmod-lib-crc-ccitt - 3.10.36-1
kmod-lib-crc16 - 3.10.36-1
kmod-mac80211 - 3.10.36+2014-05-22-1
kmod-nls-base - 3.10.36-1
kmod-ppp - 3.10.36-1
kmod-pppoe - 3.10.36-1
kmod-pppox - 3.10.36-1
kmod-scsi-core - 3.10.36-1
kmod-slhc - 3.10.36-1
kmod-usb-core - 3.10.36-1
kmod-usb-ohci - 3.10.36-1
kmod-usb-storage - 3.10.36-1
kmod-usb-uhci - 3.10.36-1
kmod-usb2 - 3.10.36-1
libblobmsg-json - 2014-06-11-e130b08d98d59dae5d0c59210aeb7633c011b107
libc - 0.9.33.2-1
libgcc - 4.8-linaro-1
libip4tc - 1.4.21-1
libip6tc - 1.4.21-1
libiwinfo - 49
libjson-c - 0.11-2
libjson-script - 2014-06-11-e130b08d98d59dae5d0c59210aeb7633c011b107
libnl-tiny - 0.1-3
libpthread - 0.9.33.2-1
librt - 0.9.33.2-1
libubox - 2014-06-11-e130b08d98d59dae5d0c59210aeb7633c011b107
libubus - 2014-05-06-9fda19140e65457d967ff6fe424e420f656c06c9
libuci - 2014-04-11.1-1
libusb-1.0 - 1.0.9-1
libxtables - 1.4.21-1
mtd - 20
netifd - 2014-06-11-6e70adc5eca0dc1cc52a5838e86d937efdf8a38c
odhcp6c - 2014-06-04-26c5466e626735f27dd073b727b02612c5a807cd
odhcpd - 2014-06-12-ff3f9bb1a2421c02f53504b177ff35e366ed43ab
opkg - 9c97d5ecd795709c8584e972bfdf3aee3a5b846d-7
ppp - 2.4.5-10
ppp-mod-pppoe - 2.4.5-10
procd - 2014-06-11-efc491fd9345c38054ce96503c3bf846a19e9260
swconfig - 10
uboot-envtools - 2014.04-2
ubox - 2014-05-28-1c2a9c1cbe9d18bf342edfa617eff319c1d3ce3a
ubus - 2014-05-06-9fda19140e65457d967ff6fe424e420f656c06c9
ubusd - 2014-05-06-9fda19140e65457d967ff6fe424e420f656c06c9
uci - 2014-04-11.1-1
wpad-mini - 2014-06-03-1
root@OpenWrt:/# </code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/openwrt_*
DISTRIB_ID=&quot;OpenWrt&quot;
DISTRIB_RELEASE=&quot;Bleeding Edge&quot;
DISTRIB_REVISION=&quot;r41181&quot;
DISTRIB_CODENAME=&quot;barrier_breaker&quot;
DISTRIB_TARGET=&quot;ar71xx/generic&quot;
DISTRIB_DESCRIPTION=&quot;OpenWrt Barrier Breaker r41181&quot;
DISTRIB_TAINTS=&quot;&quot;
r41181
root@OpenWrt:/# </code></pre></div><p>And lastly here are some pics, everyone likes pics.</p><p><a href="http://postimg.org/image/4f62rw7lh/"><span class="postimg"><img src="http://s10.postimg.org/4f62rw7lh/IMGP2843.jpg" alt="http://s10.postimg.org/4f62rw7lh/IMGP2843.jpg" /></span></a><br /><a href="http://postimg.org/image/swy6fsa5x/"><span class="postimg"><img src="http://s10.postimg.org/swy6fsa5x/IMGP2849.jpg" alt="http://s10.postimg.org/swy6fsa5x/IMGP2849.jpg" /></span></a><br /><a href="http://postimg.org/image/arl81qanp/"><span class="postimg"><img src="http://s10.postimg.org/arl81qanp/IMGP2850.jpg" alt="http://s10.postimg.org/arl81qanp/IMGP2850.jpg" /></span></a><br /><a href="http://postimg.org/image/htj5nxe9h/"><span class="postimg"><img src="http://s10.postimg.org/htj5nxe9h/IMGP2852.jpg" alt="http://s10.postimg.org/htj5nxe9h/IMGP2852.jpg" /></span></a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237277">
				<div class="post-metadata">
					<div class="post-num">Post #433</div>
					<div class="post-author">ldpinney</div>
					<div class="post-datetime">
						19 Jun 2014, 01:10					</div>
				</div>
				<div class="post-content content">
					<p>Since the TL-WR84* doesn&#039;t have USB you&#039;ll need to patch it yourself (or just add the appropriate lines) and compile. </p><p>Have a look @ <a href="http://wiki.openwrt.org/toh/d-link/dir-615/c2-usb">http://wiki.openwrt.org/toh/d-link/dir-615/c2-usb</a> Part 1</p><p>There are many other as well....some have added USB to WR741* and WR1041*</p>											<p class="post-edited">(Last edited by <strong>ldpinney</strong> on 19 Jun 2014, 01:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237617">
				<div class="post-metadata">
					<div class="post-num">Post #434</div>
					<div class="post-author">bachler</div>
					<div class="post-datetime">
						21 Jun 2014, 22:11					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the help ldpinney.</p><p>I managed to compile a new image with USB support and added some 15k pulldown resistors to D+ and D-.</p><p>When I check lsusb with a USB flash stick in the port.<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# lsusb
Bus 001 Device 004: ID 0951:1662
Bus 001 Device 001: ID 1d6b:0002
root@OpenWrt:/# </code></pre></div><p>So it seems as its working.</p><p>But for some reason even though I checked kmod-usb-stoage and kmod-fs-ext4 in make menuconfig, i have no usb-storage modules in my image.<br />When I try to install kmod-usb-storage I get some kind of incompatibility error with the kernel or something..<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# opkg install kmod-usb-storage
Installing kmod-usb-storage (3.10.36-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-usb-storage_3.10.36-1_ar71xx.ipk.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-usb-storage:
 *      kernel (= 3.10.36-1-dd0494e7c599544e99d1297b2b20740c) * 
 * opkg_install_cmd: Cannot install package kmod-usb-storage.
root@OpenWrt:/#</code></pre></div><p>When I try to force it I get a lot of errors when insmodding the module.<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# insmod usb-storage
[ 1244.170000] usb_storage: Unknown symbol scsi_report_device_reset (err 0)
[ 1244.180000] usb_storage: Unknown symbol scsi_remove_host (err 0)
[ 1244.180000] usb_storage: Unknown symbol scsi_report_bus_reset (err 0)
[ 1244.190000] usb_storage: Unknown symbol scsi_sense_desc_find (err 0)
[ 1244.200000] usb_storage: Unknown symbol scsi_eh_prep_cmnd (err 0)
[ 1244.200000] usb_storage: Unknown symbol scsi_host_put (err 0)
[ 1244.210000] usb_storage: Unknown symbol scsi_scan_host (err 0)
[ 1244.210000] usb_storage: Unknown symbol scsi_is_host_device (err 0)
[ 1244.220000] usb_storage: Unknown symbol scsi_eh_restore_cmnd (err 0)
[ 1244.230000] usb_storage: Unknown symbol scsi_cmd_get_serial (err 0)
[ 1244.230000] usb_storage: Unknown symbol scsi_add_host_with_dma (err 0)
[ 1244.240000] usb_storage: Unknown symbol scsi_normalize_sense (err 0)
[ 1244.250000] usb_storage: Unknown symbol scsi_host_alloc (err 0)
[ 1244.250000] usb_storage: Unknown symbol scsi_get_host_dev (err 0)
kmod: failed to insert /lib/modules/3.10.36/usb-storage.ko</code></pre></div><p>This is probably my fault for not understanding how to build the image right or something like that..</p><p>Can anyone point me in the right direction?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237781">
				<div class="post-metadata">
					<div class="post-num">Post #435</div>
					<div class="post-author">tanayrajoria</div>
					<div class="post-datetime">
						23 Jun 2014, 08:53					</div>
				</div>
				<div class="post-content content">
					<p>Can someone please help me?</p><div class="quotebox"><cite>tanayrajoria wrote:</cite><blockquote><p>I hope this post is not dead. <br />I installed OpenWrt on TP-Link WR841N but then someone told me its better to revert to stock then flash DDWrt So i was installing stock firmware on the router and suddenly it stopped responding so i had to power off the router and restart it. Now the power light is on (Not Blinking) and all the other lights are blinking together after&nbsp; 4-5 secs. <br />I connected the router directly to my desktop via Ethernet and it says &quot;Wan Cable is unplugged&quot; after every 2 seconds.<br />I tried the following steps posted by Undermonster but i am stuck on step number 4/Four. I pressed the reset button many times but its not working also tried 30/30/30 reset. The button was working just fine before this incident happened. <br />Can you please tell what should i do now. <br />Thanks</p><br /><div class="quotebox"><cite>undermonster wrote:</cite><blockquote><p><strong>I Unbricked my WR841N v8.2 - without hardware hacks.</strong></p><p>I will explain how to revert to STOCK firmware.</p><p>1) Set your Computer IP to 192.168.1.2 (<em>Ethernet, not WiFi</em>)<br />2) Connect to your router, in the WAN port (<em>blue</em>)<br />3) Ping 192.168.1.1 continuously. (<em>Helps identify when it&#039;s ready</em>)<br />4) Turn Router ON. Press the <strong>WPS/Reset</strong> button many times.<br />5) Wait for LED under <strong>gear</strong> icon to flash rapidly.<br />6) Wait for PING to respond (<em>Not failed response</em>)<br />7) Telnet into 192.168.1.1 from your PC<br />8) In telnet, CD to /tmp<br />9) Copy stock firmware (<a href="http://www.tp-link.com/Resources/software/TL-WR841N_V8_120522.zip">Link</a>) to /tmp (<em>wget is installed by default! Download link is ZIP, firmware is BIN!</em>)<br />10) Rename firmware to: tplink.bin<br />11) Type: <span style="color: blue">mtd -r write /tmp/tplink.bin firmware</span><br />12) Wait for &quot;Reboot&quot; message. If error message appears, manually reboot.</p><p>Your router is now back to Factory Defaults.</p><br /><br /><div class="quotebox"><cite>sanford wrote:</cite><blockquote><p>TL-WR851N v8.2 flashed on AA 12.09 beta2 using the stock web interface was a total success!<br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta2/ar71xx/generic/openwrt-ar71xx-generic-tl-wr841n-v8-squashfs-factory.bin">http://downloads.openwrt.org/attitude_a … actory.bin</a><br />Read everything on the forum + wiki and assumed the worse requiring a serial cable to unbrick, but it worked without any issues! First logon through telnet to setup the password and there is no need to install luci separately..!</p></blockquote></div><br /><p>Installed on my previously bricked v8.2 and works. (Yet to identify any bugs)</p></blockquote></div></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240172">
				<div class="post-metadata">
					<div class="post-num">Post #436</div>
					<div class="post-author">userman</div>
					<div class="post-datetime">
						14 Jul 2014, 03:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>amq wrote:</cite><blockquote><p>Okay guys, here is my build based on <a href="https://forum.openwrt.org/viewtopic.php?pid=222407#p222407">Aegisu&#039;s build script</a>:<br /></p><ul><li><p>Barrier Breaker r39450</p></li><li><p>Nothing has been stripped</p></li><li><p>Optimized for TL-WR841N/ND v8.x&#039;s hardware</p></li><li><p>Minified LuCI&#039;s CSS and optimized its JS (YUI Compressor and Closure Compiler)</p></li><li><p>IPv6</p></li><li><p>UPnP support through MiniUPnP</p></li><li><p>LuCI</p></li><li><p>OpenVPN</p></li><li><p>QoS</p></li><li><p>Free ROM: 210KB</p></li><li><p>Free RAM: 4500KB</p></li><li><p>Cached RAM: 7600KB</p></li></ul><p><strong>Download firmware:</strong><br /><a href="https://mega.co.nz/#!ghc2mByI!y-f3CSh5SOWXE87YmX8FvmhpQgr4JF3sRyWmQky2gZ8">openwrt-ar71xx-generic-tl-wr841n-v8-squashfs-amq.zip</a></p><p><strong>Build script:</strong><br /><a href="http://paste.debian.net/hidden/62d1c81c/">http://paste.debian.net/hidden/62d1c81c/</a></p><p>It is confirmed working on my v8.1. Sysupgrade from AA went flawlessly without the need of a cold boot.<br />OpenVPN BF-CBC speed: 10mbps down / 10mbps up (my ISP offers 100 down / 10 up)</p></blockquote></div><p>firmware work for me, thanks!!!</p><p>Can you add coova-chilli?</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242022">
				<div class="post-metadata">
					<div class="post-num">Post #437</div>
					<div class="post-author">ivnsrg</div>
					<div class="post-datetime">
						29 Jul 2014, 12:58					</div>
				</div>
				<div class="post-content content">
					<p>Somebody has compiled and tested firmware for USB-mod for 841n-v8? I tried to compile the firmware with modules and patches, but USB is still not working. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> . May be bad soldered wires to the chip.<br />Thanks.</p>											<p class="post-edited">(Last edited by <strong>ivnsrg</strong> on 29 Jul 2014, 13:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247146">
				<div class="post-metadata">
					<div class="post-num">Post #438</div>
					<div class="post-author">brunomenezesmg</div>
					<div class="post-datetime">
						15 Sep 2014, 23:25					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys, I have a problem:</p><p>I think I&#039;ve soldered all wires in the correct position, but my terminal is returning garbled data:<br />Mine is wr-841nd v8.1</p><p><span class="postimg"><img src="http://i162.photobucket.com/albums/t249/rhada-mg/Capturadetela2014-09-15160147_zps33ae3225.png~original" alt="http://i162.photobucket.com/albums/t249/rhada-mg/Capturadetela2014-09-15160147_zps33ae3225.png~original" /></span></p><p><span class="postimg"><img src="http://i162.photobucket.com/albums/t249/rhada-mg/34843bc0-ba6d-41c2-b856-3f5e8de8ee18_zpsc8521f26.jpg~original" alt="http://i162.photobucket.com/albums/t249/rhada-mg/34843bc0-ba6d-41c2-b856-3f5e8de8ee18_zpsc8521f26.jpg~original" /></span></p><p><span class="postimg"><img src="http://i162.photobucket.com/albums/t249/rhada-mg/d6105325-e6df-4905-a167-d594399859d1_zps7e49f0ce.jpg~original" alt="http://i162.photobucket.com/albums/t249/rhada-mg/d6105325-e6df-4905-a167-d594399859d1_zps7e49f0ce.jpg~original" /></span></p><p><span class="postimg"><img src="http://i162.photobucket.com/albums/t249/rhada-mg/598d4476-42ba-403e-8280-7d55afb3a75f_zpsa4057f78.jpg~original" alt="http://i162.photobucket.com/albums/t249/rhada-mg/598d4476-42ba-403e-8280-7d55afb3a75f_zpsa4057f78.jpg~original" /></span></p>											<p class="post-edited">(Last edited by <strong>brunomenezesmg</strong> on 15 Sep 2014, 23:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247147">
				<div class="post-metadata">
					<div class="post-num">Post #439</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						15 Sep 2014, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>stop using that RS232 adapter on a TTL 3.3v serial interface (your router).</p><p>you can fry it!!</p><p><a href="http://wiki.openwrt.org/doc/hardware/port.serial#voltage.levels">http://wiki.openwrt.org/doc/hardware/po … age.levels</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247149">
				<div class="post-metadata">
					<div class="post-num">Post #440</div>
					<div class="post-author">brunomenezesmg</div>
					<div class="post-datetime">
						15 Sep 2014, 23:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>stop using that RS232 adapter on a TTL 3.3v serial interface (your router).</p><p>you can fry it!!</p><p><a href="http://wiki.openwrt.org/doc/hardware/port.serial#voltage.levels">http://wiki.openwrt.org/doc/hardware/po … age.levels</a></p></blockquote></div><p>Holy mother of God! Maybe it&#039;s already fried <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Here in Brazil I have this one as option to buy, should it work?<br /><a href="http://produto.mercadolivre.com.br/MLB-585013604-modulo-pl2303-conversor-usb-serial-ttl-5v-ou-cmos-3v3-_JM">http://produto.mercadolivre.com.br/MLB- … os-3v3-_JM</a></p><p>Thanks for the help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247153">
				<div class="post-metadata">
					<div class="post-num">Post #441</div>
					<div class="post-author">brunomenezesmg</div>
					<div class="post-datetime">
						16 Sep 2014, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>Another question, is possible to convert this RS232 to TTL using this schematic?</p><p>With basic components<br />I found an easy way to get a cable working, it just require 7 components:</p><p>4 Resistances 1,5K 3,9K 4,7K 22K all by 1/4W<br />2 Transistors BC337<br />1 DB9F Terminal</p><p><a href="http://wiki.openwrt.org/_media/doc/hardware/ttltors2320kf.jpg">http://wiki.openwrt.org/_media/doc/hard … 2320kf.jpg</a></p><p>Source: <a href="http://wiki.openwrt.org/doc/hardware/port.serial#usb.to.rs232.ttl.converter.module">http://wiki.openwrt.org/doc/hardware/po … ter.module</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247160">
				<div class="post-metadata">
					<div class="post-num">Post #442</div>
					<div class="post-author">brunomenezesmg</div>
					<div class="post-datetime">
						16 Sep 2014, 05:13					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I made it! The schematic circuit works I guess!<br />At first the console give me some garbage and then starts to boot something, but there&#039;s a kernel a panic, check it out:</p><p><span class="postimg"><img src="http://i162.photobucket.com/albums/t249/rhada-mg/Capturadetela2014-09-15231136_zps47705618.png~original" alt="http://i162.photobucket.com/albums/t249/rhada-mg/Capturadetela2014-09-15231136_zps47705618.png~original" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247163">
				<div class="post-metadata">
					<div class="post-num">Post #443</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						16 Sep 2014, 07:10					</div>
				</div>
				<div class="post-content content">
					<p>You should see clearly also the first part, you need to stop uboot to flash a new image.</p><p>Btw did you use a jffs2 image instead of squashfs?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247189">
				<div class="post-metadata">
					<div class="post-num">Post #444</div>
					<div class="post-author">brunomenezesmg</div>
					<div class="post-datetime">
						16 Sep 2014, 14:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>You should see clearly also the first part, you need to stop uboot to flash a new image.</p><p>Btw did you use a jffs2 image instead of squashfs?</p></blockquote></div><p>Thanks for your support.<br />Yes, I&#039;m aware of the need to stop uboot, but at this moment I can&#039;t do this, looks like the terminal doesn&#039;t receive keyboard inputs. Maybe the schematic isn&#039;t that good and I need a proper TTL USB converter.</p><p>About JFFS2, yes, I was trying this image to see how the space management is handled by the partition. The flash went ok, but the router didn&#039;t boot. So, I used the WAN1 + WPS recovery mode to acess the terminal. The terminal conected fine, but none of the thnigs that I&#039;ve tried seemed to work (always read only errors and later shadow error)</p><p>I was trying this console comand:<br />mtd -r erase rootfs_data but didn&#039;t work, so I removed the data from the line:</p><p>mtd -r erase rootfs<br />the router freezed I guess and didn&#039;t boot in recovery mode anymore, lefting Serial as my only hope now.</p><p>You think there&#039;s a way out of this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247197">
				<div class="post-metadata">
					<div class="post-num">Post #445</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						16 Sep 2014, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>not without a proper serial interface <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>by the way...</p><p>erase rootfs_data is to clean jffs2 partition so you reset to default settings, but this is possible only in a squashfs+jffs2 image!!.</p><p>since you were using a jffs2 image rootfs_data is not present, so you erased the rootfs partition, where all files are stored, and obviously it cannot boot anymore.</p><p>anyway.. have you used very short cables for serial interface and adapter? it&#039;s very sensitive to noise, lack of shielding, etc..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249767">
				<div class="post-metadata">
					<div class="post-num">Post #446</div>
					<div class="post-author">akirru</div>
					<div class="post-datetime">
						8 Oct 2014, 20:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have a v8 841n, which was working fine with openwrt as a wireless extender. I decided to change its purpose and use it as my main router. </p><p>I was in the wireless settings and changed the mode to dhcp. After I saved the settings. The router was no longer accessible. </p><p>I can connect to wireless ... but it wont let me do anything. I cant access the gui or even through putty. I have trawled lots of threads and I think it might be bricked.</p><p>Can anyone help?</p><p>Andy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249769">
				<div class="post-metadata">
					<div class="post-num">Post #447</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						8 Oct 2014, 20:45					</div>
				</div>
				<div class="post-content content">
					<p>failsafe <a href="http://wiki.openwrt.org/doc/howto/generic.failsafe">http://wiki.openwrt.org/doc/howto/generic.failsafe</a><br />once you recover do not forget you just had to factory default the 841, and by default is a router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250529">
				<div class="post-metadata">
					<div class="post-num">Post #448</div>
					<div class="post-author">Deoptim</div>
					<div class="post-datetime">
						14 Oct 2014, 15:39					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.mediafire.com/download/elrdaom3lsmhy34/know_ath79_jtag_config.zip">http://www.mediafire.com/download/elrda … config.zip</a><br />PLL init for JTAG debricking, include ar9342 and ar9344 configs(also OEM ROM bootloader based on DB120 platform U-Boot 1.1.4)<br />(may be, will only need to correct the DDR configuration for a third-party device)</p>											<p class="post-edited">(Last edited by <strong>Deoptim</strong> on 14 Oct 2014, 15:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252723">
				<div class="post-metadata">
					<div class="post-num">Post #449</div>
					<div class="post-author">circuitries</div>
					<div class="post-datetime">
						1 Nov 2014, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>I have a TP-Link TL-WR841N/ND v8 with OpenWrt Barrier Breaker 14.07 / LuCI Trunk (0.12+svn-r10530) flashed to it. Over the past few days, wifi has cut out, and I haven&#039;t been able to get anything to reconnect to it. Anytime I try to connect my phone, I&#039;ll get an &quot;authentication error&quot;, and my printer no longer connects. It&#039;ll show the devices connecting on the router&#039;s status pages, but it will disconnect quickly and then connect, disconnect, etc.</p><p>It was working fine for about a week after I updated from attitude adjustment. Haven&#039;t made any changes recently. However, one thing I did noticed after upgrading about a month ago to openwrt -- my battery on my android phone was draining much faster than on my previous router on wifi.</p><p>Any suggestions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254531">
				<div class="post-metadata">
					<div class="post-num">Post #450</div>
					<div class="post-author">circuitries</div>
					<div class="post-datetime">
						16 Nov 2014, 16:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>circuitries wrote:</cite><blockquote><p>I have a TP-Link TL-WR841N/ND v8 with OpenWrt Barrier Breaker 14.07 / LuCI Trunk (0.12+svn-r10530) flashed to it. Over the past few days, wifi has cut out, and I haven&#039;t been able to get anything to reconnect to it. Anytime I try to connect my phone, I&#039;ll get an &quot;authentication error&quot;, and my printer no longer connects. It&#039;ll show the devices connecting on the router&#039;s status pages, but it will disconnect quickly and then connect, disconnect, etc.</p><p>It was working fine for about a week after I updated from attitude adjustment. Haven&#039;t made any changes recently. However, one thing I did noticed after upgrading about a month ago to openwrt -- my battery on my android phone was draining much faster than on my previous router on wifi.</p><p>Any suggestions?</p></blockquote></div><p>did a factory reset and was able to resolve the wifi issues. must have had issues after upgrading from AA.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 18 of 21</div><nav><ul><li><a href="viewtopic.php%3Fid=37010&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=17.html">17</a></li><li class="pagination-current"><span>18</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=19.html">19</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=21.html">21</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>