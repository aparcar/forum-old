<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> mpd how to stream mms:// and none http files ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p93405">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						30 Aug 2009, 14:22					</div>
				</div>
				<div class="post-content content">
					<p>Ok I Openwrt linux and compiled my own mpd 0.15.1:</p><div class="codebox"><pre><code>root@OpenWrt:/mnt/sda1/share# mpd --version
mpd (MPD: Music Player Daemon) 0.15.1

Copyright (C) 2003-2007 Warren Dukes &lt;warren.dukes@gmail.com&gt;
Copyright (C) 2008 Max Kellermann &lt;max@duempel.org&gt;
This is free software; see the source for copying conditions.  There is NO
warranty; not even MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Supported decoders:

[mad] mp3 mp2
[vorbis] ogg oga
[flac] flac
[ffmpeg] 16sv 3g2 3gp 4xm 8svx aa3 aac ac3 afc aif aifc aiff al alaw amr anim apc ape asf atrac au aud avi avm2 avs bap bfi c93 cak cin cmv cpk daud dct divx dts dv dvd dxa eac3 film flac flc fli fll flx flv g726 gsm gxf iss m1v m2v m2t m2ts m4a m4v mad mj2 mjpeg mjpg mka mkv mlp mm mmf mov mp+ mp1 mp2 mp3 mp4 mpc mpeg mpg mpga mpp mpu mve mvi mxf nc nsv nut nuv oga ogm ogv ogx oma ogg omg psp pva qcp qt r3d ra ram rl2 rm rmvb roq rpl rvc shn smk snd sol son spx str swf tgi tgq tgv thp ts tsp tta xa xvid uv uv2 vb vid vob voc vp6 vmd wav wma wmv wsaud wsvga wv wve

Supported outputs:

null fifo alsa oss httpd

Supported protocols:

file:// http:// lastfm:// mms:// mmsh:// mmst:// mmsu://</code></pre></div><p>and i have problem with radio stream so&nbsp; <br /><a href="http://relay3.slayradio.org:8000">http://relay3.slayradio.org:8000</a>/</p><p>work flawless </p><p>however if i am using:</p><p>links taken from asx: <a href="http://www.polskieradio.pl/st/program3M.asx">http://www.polskieradio.pl/st/program3M.asx</a><br /></p><div class="codebox"><pre><code>&lt;asx version = &quot;3.0&quot;&gt;
  &lt;entry&gt;
    &lt;ref href = &quot;mms://stream.polskieradio.pl/program3&quot;&gt;
    &lt;ref href = &quot;rtsp://stream.polskieradio.pl/program3&quot;&gt;
    &lt;ref href = &quot;http://stream.polskieradio.pl/program3&quot;&gt;
  &lt;Title&gt;Trójka&lt;/Title&gt;
  &lt;Author&gt;Polskie Radio SA&lt;/Author&gt;
  &lt;Copyright&gt;Polskie Radio SA&lt;/Copyright&gt;
  &lt;Banner&gt;&lt;/Banner&gt;
  &lt;/entry&gt;
  &lt;Title&gt;Trójka&lt;/Title&gt;
  &lt;Author&gt;Polskie Radio SA&lt;/Author&gt;
  &lt;Copyright&gt;Polskie Radio SA&lt;/Copyright&gt;
  &lt;Banner&gt;&lt;/Banner&gt;
  &lt;LogURL href = &quot;&quot;/&gt;
&lt;/asx&gt;</code></pre></div><p>like : mms://stream.polskieradio.pl/program3</p><p>the songs does now even start ...what do i need else to make it work somehow ? please help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93423">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						30 Aug 2009, 18:07					</div>
				</div>
				<div class="post-content content">
					<p>i cannot also open the lastfm links whatsoever .. </p><p>Could anyone give me a hand ?</p><p>edit: </p><p>this is what happens when i play mms</p><div class="codebox"><pre><code>root@OpenWrt:/mnt/sda1/share# mpc
Lily Allen - Everyone&#039;s At It (Album Version)
[playing] #10/36   0:14/4:19 (5%)
volume: 50%   repeat: off   random: on    single: off   consume: off
ERROR: problems decoding &quot;mms://stream.polskieradio.pl/program3&quot;</code></pre></div>											<p class="post-edited">(Last edited by <strong>macmus</strong> on 30 Aug 2009, 18:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93431">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">routerWhacker</div>
					<div class="post-datetime">
						30 Aug 2009, 19:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>macmus wrote:</cite><blockquote><p>i cannot also open the lastfm links whatsoever .. </p><p>Could anyone give me a hand ?</p><p>edit: </p><p>this is what happens when i play mms</p><div class="codebox"><pre><code>root@OpenWrt:/mnt/sda1/share# mpc
Lily Allen - Everyone&#039;s At It (Album Version)
[playing] #10/36   0:14/4:19 (5%)
volume: 50%   repeat: off   random: on    single: off   consume: off
ERROR: problems decoding &quot;mms://stream.polskieradio.pl/program3&quot;</code></pre></div></blockquote></div><p>to get lastfm to work, you&#039;ll need to compile mpd with lastfm support, add following to the mpd.conf<br /></p><div class="codebox"><pre><code>input {
        plugin &quot;lastfm&quot;
        user &quot;my lastfm user name&quot;
        password &quot;my lastfm passsword&quot;
}</code></pre></div><p>then in console<br />/etc/init.d/mpd restart<br /></p><div class="codebox"><pre><code>mpc add lastfm://artist/$artistname or lastfm://artist/$artistname/similarartists</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93438">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						30 Aug 2009, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>this is my make file:<br />does it include lastfm ? <br />what about mms should it also have some input defined in mpd.conf and recompilation ?<br /></p><div class="codebox"><pre><code>lech@ubuntu:/openwrt/trunk/package/feeds/packages/mpd$ cat Makefile 
# 
# Copyright (C) 2007-2009 OpenWrt.org
#
# This is free software, licensed under the GNU General Public License v2.
# See /LICENSE for more information.
#

include $(TOPDIR)/rules.mk

PKG_NAME:=mpd
PKG_VERSION:=0.15.1
PKG_RELEASE:=2

PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.bz2
PKG_SOURCE_URL:=@SF/musicpd
PKG_MD5SUM:=eec9f5642d4a9c59a0df0a458def3505

include $(INCLUDE_DIR)/package.mk

define Package/mpd
  SECTION:=sound
  CATEGORY:=Sound
  DEPENDS:=+libflac +libid3tag +libmad +libvorbisidec +libpthread +glib2 +libmms +libcurl
  TITLE:=Music Player Daemon
  URL:=http://www.musicpd.org/
endef

define Package/mpd/description
    MPD is a music player supporting flac, mp3 and ogg files.
    It is typically controlled over a network using one of it&#039;s many
    clients including mpc(console), gmpc(gnome), phpmp(php) etc.
endef

define Package/mpd/conffiles
/etc/mpd.conf
endef

ifndef CONFIG_PACKAGE_kmod-sound-core
    EXTRA_CONFIG_PARAM:=--disable-alsa
endif

CONFIGURE_VARS += \
    CURL_LIBS=&quot;-L$(STAGING_DIR)/usr/lib -lssl -lcrypto -lcurl&quot; \
    CURL_CFLAGS=&quot;-I$(STAGING_DIR)/usr/include&quot; \
    ID3TAG_LIBS=&quot;$(TARGET_LDFLAGS) -lz -lid3tag&quot; \
    ID3TAG_CFLAGS=&quot;$(TARGET_CPPFLAGS)&quot; \
    FLAC_LIBS=&quot;$(TARGET_LDFLAGS) -lFLAC&quot; \
    FLAC_CFLAGS=&quot;-I$(STAGING_DIR)/usr/include/FLAC&quot; \
    MAD_LIBS=&quot;$(TARGET_LDFLAGS) -lmad&quot; \
    MAD_CFLAGS=&quot;$(TARGET_CPPFLAGS)&quot; \
    OGGVORBIS_LIBS=&quot;$(TARGET_LDLFAGS) -lvorbisidec&quot; \
    OGGVORBIS_CFLAGS=&quot;$(TARGET_CPPFLAGS)&quot; \
    GLIB_CFLAGS=&quot;-I$(STAGING_DIR)/usr/include/glib-2.0 -I$(STAGING_DIR)/usr/lib/glib-2.0/include&quot; \
    GLIB_LIBS=&quot;$(TARGET_LDLFAGS) -L$(STAGING_DIR)/usr/lib/libintl/lib -lintl -L$(STAGING_DIR)/usr/lib/libiconv/lib -liconv -lglib-2.0 -lgthread-2.0 -pthread&quot;

define Build/Configure
    $(call Build/Configure/Default, \
        $(EXTRA_CONFIG_PARAM) \
        --disable-audiofile \
        --disable-mpc \
        --disable-aac \
        --disable-lsr \
        --disable-ao \
        --disable-mvp \
        --disable-lametest \
        --disable-lame-encoder \
        --enable-flac \
        --enable-lastfm \
        --enable-mms \
        --with-tremor=&quot;$(STAGING_DIR)/usr/lib&quot; \
    )
endef

define Build/Compile
    $(MAKE) -C $(PKG_BUILD_DIR) \
        DESTDIR=&quot;$(PKG_INSTALL_DIR)&quot; \
        all install
endef

define Package/mpd/install
    $(INSTALL_DIR) $(1)/etc
    $(CP) $(PKG_BUILD_DIR)/doc/mpdconf.example $(1)/etc/mpd.conf
    $(INSTALL_DIR) $(1)/usr/bin
    $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/mpd $(1)/usr/bin/
    $(INSTALL_DIR) $(1)/etc/init.d
    $(INSTALL_BIN) ./files/mpd.init $(1)/etc/init.d/mpd
endef

$(eval $(call BuildPackage,mpd))</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93439">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">routerWhacker</div>
					<div class="post-datetime">
						30 Aug 2009, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>think so &quot;--enable-lastfm&quot;<br />but to be sure do<br /></p><div class="codebox"><pre><code>mpd --version</code></pre></div><p>look for:<br /></p><div class="codebox"><pre><code>Supported protocols:

file:// http:// lastfm:// ...</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93443">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						30 Aug 2009, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>ok it works <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Thank you very much!!</p><p>got 3 questions tho:</p><p>1. Is it possible to set next song like in shell-fm ?<br />2. The only way to love/ban is to install scrobler and do it on the site ?<br />3. What about mms does it need some plugin entry as well</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93446">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">routerWhacker</div>
					<div class="post-datetime">
						30 Aug 2009, 21:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>macmus wrote:</cite><blockquote><p>ok it works <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Thank you very much!!</p><p>got 3 questions tho:</p><p>1. Is it possible to set next song like in shell-fm ?<br />2. The only way to love/ban is to install scrobler and do it on the site ?<br />3. What about mms does it need some plugin entry as well</p></blockquote></div><p>sorry i do not know the answers to your questions<br />check out <a href="http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki">http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki</a> and <a href="http://www.musicpd.org/forum/">http://www.musicpd.org/forum/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93530">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						31 Aug 2009, 23:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>routerWhacker wrote:</cite><blockquote><p>check out <a href="http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki">http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki</a> and <a href="http://www.musicpd.org/forum/">http://www.musicpd.org/forum/</a></p></blockquote></div><p>it seams it can be done with gstreamer but how ? any tutoril about that ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93792">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						7 Sep 2009, 01:40					</div>
				</div>
				<div class="post-content content">
					<p>bump still can&#039;t play mms files ..</p><p>anyone got workign mms on our Openwrt beauty ? how ? </p><p>plz help <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>i have even modified makefile with:</p><p><a href="https://dev.openwrt.org/ticket/5565">https://dev.openwrt.org/ticket/5565</a><br /><a href="https://lists.openwrt.org/pipermail/ope">https://lists.openwrt.org/pipermail/ope</a> … 19010.html<br /><a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=534726">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=534726</a></p><p>but it does not help</p>											<p class="post-edited">(Last edited by <strong>macmus</strong> on 7 Sep 2009, 01:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93889">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">macmus</div>
					<div class="post-datetime">
						8 Sep 2009, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>dump .. anyprogress ... anyone manage to play mms streams ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93905">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">phood</div>
					<div class="post-datetime">
						9 Sep 2009, 01:10					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m hoping to get some time in the next couple days to use gstreamer to encode the mms as mp3 and have mpd use that instead.&nbsp; Not sure if all that is supported in openwrt but I had it working on my linux box.&nbsp; I haven&#039;t had any success with mms and mpd.&nbsp; It doesn&#039;t seem to want to play nice.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125209">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">atlaware</div>
					<div class="post-datetime">
						12 Jan 2011, 12:10					</div>
				</div>
				<div class="post-content content">
					<p>Now libmms work in ARM!</p><p>I have do many test with libmms(0.6) and mpd on ARM arch, and all test was negative, contrary to i386 where all work good, but now libmms are be updated by the author to version 0.6.1 with some portability fixes and work very good! <br />That&#039;s all, I&#039;m happy <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Daniele Busana</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129791">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Nao</div>
					<div class="post-datetime">
						2 Mar 2011, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>Hello, atlaware.</p><p>If you have makefile for libmms 0.6.1, could you pls share?<br />I have same problem and I can&#039;t get it work...</p><p>Nao</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>