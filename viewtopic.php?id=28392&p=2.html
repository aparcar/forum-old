<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p128279">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						14 Feb 2011, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>An alternative to sixxs is tunnelbroker.net, you can get a subnet immediately there without having to gather credits first.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128282">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">redcow</div>
					<div class="post-datetime">
						14 Feb 2011, 10:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>An alternative to sixxs is tunnelbroker.net, you can get a subnet immediately there without having to gather credits first.</p></blockquote></div><p>yeah I&#039;m using tunnelbroker myself the registration is instant and configuration for openwrt is very easy and straightforward.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128299">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						14 Feb 2011, 14:01					</div>
				</div>
				<div class="post-content content">
					<p>But their setup doesn&#039;t cope with dynamic endpoint addresses, or am I missing something? Most people don&#039;t have a static IPv4 address at home.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128301">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						14 Feb 2011, 14:10					</div>
				</div>
				<div class="post-content content">
					<p>You do miss something. The endpoint can be updated with a simple HTTP get request. The 6in4 package wraps that all up in /etc/config/network.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128305">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						14 Feb 2011, 14:32					</div>
				</div>
				<div class="post-content content">
					<p>Any docs on proper configuration available?</p><p>EDIT: Hey what do you know, I managed to set it up through the web interface <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 14 Feb 2011, 14:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128310">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">redcow</div>
					<div class="post-datetime">
						14 Feb 2011, 15:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Any docs on proper configuration available?</p><p>EDIT: Hey what do you know, I managed to set it up through the web interface <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>even through /etc/config/network its very easy</p><p><a href="http://wiki.openwrt.org/doc/howto/ipv6#dynamic.6in4.tunneling">http://wiki.openwrt.org/doc/howto/ipv6# … .tunneling</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128313">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						14 Feb 2011, 15:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>redcow wrote:</cite><blockquote><div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Any docs on proper configuration available?</p><p>EDIT: Hey what do you know, I managed to set it up through the web interface <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>even through /etc/config/network its very easy</p><p><a href="http://wiki.openwrt.org/doc/howto/ipv6#dynamic.6in4.tunneling">http://wiki.openwrt.org/doc/howto/ipv6# … .tunneling</a></p></blockquote></div><p>The 6in4 package is actually written to work specifically with Hurricane Electric (i.e. tunnelbroket.net) dynamic tunnel. If there is username &amp; password given in the tunnel setup, then it uses that to update your tunnel endpoint at HE.<br /><a href="https://dev.openwrt.org/browser/trunk/package/6in4/files/6in4.hotplug">https://dev.openwrt.org/browser/trunk/p … n4.hotplug</a></p><p>(I haven&#039;t tried HE myself, as the static tunnel from SixXS works for me.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128420">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">nerbrume</div>
					<div class="post-datetime">
						15 Feb 2011, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />Just a quick stop-by to thank you, hnyman, for these builds, containing almost exactly what I need, and not the all the extra stuff arokh add to his builds (which are also excellent work, don&#039;t take me wrong).<br />And thanks also for the IPv6 tutorial, helped me alot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128828">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						19 Feb 2011, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>Trunk has been updated to 25572 and Backfire to 25565.<br />No actual changes in my code.</p><p>But I noticed that the Luci footer is now shown as &quot;Powered by LuCI Trunk (vtrunk)&quot; instead of a proper Luci version number. After some source code research I found out that the recent Trunk name change from &quot;Kamikaze&quot; to a two-word release name &quot;Attitude Adjustment&quot; most probably broke a script in Luci build process, which assumed that the release name is just one word...</p><p>I wrote a Luci ticket about the issue, so hopefully it will get fixed soon. <a href="http://luci.subsignal.org/trac/ticket/202">http://luci.subsignal.org/trac/ticket/202</a><br />(A quick &amp; dirty fix would be to change Attitude Adjustment to Attitude_Adjustment in toplevel.mk, so that the name is again just one word. Better solution would be to somehow quote the version name in Luci makefile &amp; related shell script arguments.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128883">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 Feb 2011, 00:32					</div>
				</div>
				<div class="post-content content">
					<p>Trunk and Backfire versions updated to 25595. I am currently running trunk.</p><p>The discussion today in Arokh&#039;s thread about miniupnpd prompted me to investigate, why my 6in4 tunnel dies, when I touch some network settings. And after some research, I found the reason and patched the 6in4.hotplug.</p><p>Like miniupnpd, also a static 6in4 tunnel from SixXS dies if network settings are touched even lightly. For example, just going into Wifi settings and not changing anything, but selecting Save&amp;Apply, makes the network interfaces to boot again, but sadly the 6in4 tunnel stays dead. In Luci&#039;s Network/Interfaces screen, the tunnel stays with the status as &quot;Interface not present or not connected yet&quot;. Manually restarting the tunnel from that screen brings it nicely back to life.</p><p>The reason seems to be that the whole 6in4 package has probably been originally designed for Hurricane Electric (tunnelbroker.net) tunnels. Those tunnels have a tunnel name, username and password. The current hotplug script only restarts the tunnel interface if there is username &amp; password, and it even first HTTP-connects to HE in the hotplug script. The &quot;ifup&quot; command is hidden so deep into the conditions, that it does not get launched for other service providers. It only gets run, if the tunnel update with HE succeeded.</p><p>Logic in 6in4.hotplug&nbsp; (/etc/hotplug.d/iface/90-6in4 in a live Openwrt system):<br /></p><div class="codebox"><pre><code>...
                        [ -n &quot;$tunnelid&quot; ] &amp;&amp; [ -n &quot;$username&quot; ] &amp;&amp; [ -n &quot;$password&quot; ] &amp;&amp; {
                                [ &quot;${#password}&quot; == 32 -a -z &quot;${password//[a-f0-9]/}&quot; ] || {
                                        password=&quot;$(echo -n &quot;$password&quot; | md5sum)&quot;; password=&quot;${password%% *}&quot;
                                }
                                uci_set_state network &quot;$cfg&quot; ipaddr &quot;$wanip&quot;

                                (
                                        local url=&quot;http://ipv4.tunnelbroker.net/ipv4_end.php?ipv4b=AUTO&amp;user_id=$username&amp;pass=$password&amp;tunnel_id=$tunnelid&quot;
                                        local try=0
                                        local max=3

                                        while [ $((++try)) -le $max ]; do
                                                wget -qO/dev/null &quot;$url&quot; 2&gt;/dev/null &amp;&amp; {
                                                        logger -t 6in4-update &quot;Updated tunnel #$tunnelid endpoint to $wanip&quot;
                                                        ifup &quot;$cfg&quot;
...</code></pre></div><p>The static tunnels from SixXs do not use username/password, so I have never entered that kind of information to the tunnel&#039;s config. And thus the tunnel interface never got the ifup command again from the hotplug script.</p><p>I patched the 6in4.hotplug script so that in case some information required for HE is missing, it still tries to set the tunnel working again (setting wan ip and ifup&#039;ing the interface). I also added some logging for understanding the process better.</p><p>Patch is included in my 25595 builds.&nbsp; <br /><a href="http://koti.welho.com/hnyman1/Openwrt/">http://koti.welho.com/hnyman1/Openwrt/</a></p><p>The patch below applies both to Backfire and Trunk, and will help all those using OpenWrt with SixXS static tunnels.</p><p>There is still one piece of the full solution missing, and I think that this applies both for HE and SixXS users:<br />If the 6in4 interface is restarted and radvd is not, then there will be errors in syslog every 5 minutes about &quot;resetting ipv6-allrouters membership&quot; etc. That is due to the known &quot;feature&quot; in radvd, that if interfaces get updated IDs (interface indexes) when restarting, then radvd gets confused and needs to be restarted. I have not yet figured our, what would be the best way to restart radvd after bringing the tunnel up. I thought that I might&nbsp; add a line &quot;/etc/init.d/radvd restart&quot; to the hotplug script, but something else might be better. Any ideas?</p><br /><p><strong>6in4.hotplug patch:</strong></p><p>Relevant files in source code:<br /><a href="https://dev.openwrt.org/browser/trunk/package/6in4/files/6in4.hotplug">https://dev.openwrt.org/browser/trunk/p … n4.hotplug</a><br /><a href="https://dev.openwrt.org/browser/branches/backfire/package/6in4/files/6in4.hotplug">https://dev.openwrt.org/browser/branche … n4.hotplug</a></p><p>Those files get copied into /etc/hotplug.d/iface/90-6in4 in a live Openwrt system.</p><div class="codebox"><pre><code>Index: /Openwrt/backfire/package/6in4/files/6in4.hotplug
===================================================================
--- /Openwrt/backfire/package/6in4/files/6in4.hotplug    (revision 25595)
+++ /Openwrt/backfire/package/6in4/files/6in4.hotplug    (working copy)
@@ -13,11 +13,13 @@
         config_get proto &quot;$cfg&quot; proto
         [ &quot;$proto&quot; = 6in4 ] || return 0
 
+                logger -t 6in4-update &quot;$ACTION for tunnel &#039;$cfg&#039;&quot;
         local wandev
         config_get wandev &quot;$cfg&quot; wan_device &quot;$(find_6in4_wanif)&quot;
         [ &quot;$wandev&quot; = &quot;$DEVICE&quot; ] || return 0
 
         local wanip=$(find_6in4_wanip &quot;$wandev&quot;)
+                logger -t 6in4-update &quot;Tunnel &#039;$cfg&#039; Wan IP: $wanip&quot;
 
         [ -n &quot;$wanip&quot; ] &amp;&amp; {
             local tunnelid
@@ -51,7 +53,11 @@
                         }
                     done
                 )&amp;
-            }
+            } || {
+                                logger -t 6in4-update &quot;Tunnel &#039;$cfg&#039;: No HE-related info, just try to bring tunnel up.&quot;
+                                uci_set_state network &quot;$cfg&quot; ipaddr &quot;$wanip&quot;
+                                ifup &quot;$cfg&quot;
+                        }
         }
     }</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128884">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						20 Feb 2011, 01:01					</div>
				</div>
				<div class="post-content content">
					<p>I think radvd should gain its own hotplug handler in /etc/hotplug.d/iface/ that restarts the service whenever an iface is ifup&#039;d which appears in /etc/config/radvd.<br />Another cheap solution would be to just mark /etc/init.d/radvd as affected by /etc/init.d/network in /etc/config/ucitrack</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128970">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 Feb 2011, 20:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>I think radvd should gain its own hotplug handler in /etc/hotplug.d/iface/ that restarts the service whenever an iface is ifup&#039;d which appears in /etc/config/radvd.</p></blockquote></div><p>Well, I created a crude hotplug that only monitors the first interface listed in radvd config and restarts radvd, if the interface gets &#039;ifup&#039;. (I used the miniupnpd hotplug as a model.)</p><p>It seems to work for me and in now included in my r25626 builds.</p><p>/etc/hotplug.d/iface/92-radvd<br /></p><div class="codebox"><pre><code>#!/bin/sh

/etc/init.d/radvd enabled &amp;&amp; [ -n &quot;`pidof radvd`&quot; ] &amp;&amp; {
        local intif=&quot;$(uci_get radvd @interface[0] interface)&quot;
        [ &quot;$ACTION&quot; = &quot;ifup&quot; ] &amp;&amp; [ &quot;$INTERFACE&quot; = &quot;$intif&quot; ] &amp;&amp; {
                logger -t radvd-hotplug &quot;Ifup for interface &#039;$intif&#039;, restart radvd&quot;
                /etc/init.d/radvd restart

        }
}</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128973">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						20 Feb 2011, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>6in4 hotplug changed added.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129005">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 Feb 2011, 22:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>6in4 hotplug changed added.</p></blockquote></div><p>Thanks. As you have also patched the Luci trunk to take care of radvd restart, it looks like I can drop my 6in4 &amp; radvd patches for Trunk builds. ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129032">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 Feb 2011, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>After building a new version (Trunk r25631 and Luci r6922), it seems to me that the radvd-oriented change in Luci for ucitrack fails. Radvd is not getting restarted when network changes. There is nothing in the syslog about radvd 1.7 starting , and the previously mentioned errors start to appear:</p><p>Feb 20 23:09:23 OpenWrt daemon.warn radvd[2057]: resetting ipv6-allrouters membership on br-lan<br />Feb 20 23:09:23 OpenWrt daemon.warn radvd[2057]: sendmsg: No such device</p><p>(This actually matches my previous experience from yesterday. I tried first the Ucitrack way, but when it did not succeed, I wrote the hotplug script.)</p><p>So, I think that the Luci change 6922 does not produce the result seeked.<br /><a href="http://luci.subsignal.org/trac/changeset/6922">http://luci.subsignal.org/trac/changeset/6922</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129221">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Feb 2011, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>I have updated&nbsp; both Trunk and Backfire to r25662.</p><p>My build should now properly reconnect the 6in4 tunnel and also restart radvd so that it will continue passing IPv6 routing information in LAN.</p><p>As neither the Ucitrack change nor the Luci changes (Luci r6923) seemed to make the radvd to restart properly, I have still included the 92-radvd hotplug script.&nbsp; (The script only monitors the first interface in its interface list, so it is not perfect, but should be enough for most users without multiple IPv6 segments in LAN or multiple LANs.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130432">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">Olipro</div>
					<div class="post-datetime">
						11 Mar 2011, 01:45					</div>
				</div>
				<div class="post-content content">
					<p>this needs to be changed to affect native IPv6 as well, not just 6in4</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131961">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						30 Mar 2011, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>I decided to update to the 3/29 Backfire build you just created, and it runs fine so far but there&#039;s an issue installing the DynDNS support. Previously I was running WNDR3700-backfire-r25877-2011-03-05-1012 and &quot;opkg install luci-app-ddns&quot; worked fine. At the time, it installed a package from the svn luci branch.</p><p>Now with WNDR3700-backfire-r26359-2011-03-29-2112, the same opkg install fetches from the luci 0.9.0 branch, and fails because the build is using an svn luci. Is this a repository issue?</p><div class="codebox"><pre><code>root@Upstairs /root# opkg update
Downloading http://downloads.openwrt.org/backfire/10.03/ar71xx/packages/Packages.gz.
Inflating http://downloads.openwrt.org/backfire/10.03/ar71xx/packages/Packages.gz.
Updated list of available packages in /var/opkg-lists/packages.
root@Upstairs /root# opkg install luci-app-ddns
Installing luci-app-ddns (0.9.0-1) to root...
Downloading http://downloads.openwrt.org/backfire/10.03/ar71xx/packages/luci-app-ddns_0.9.0-1_ar71xx.ipk.
Installing luci-core (0.9.0-1) to root...
Downloading http://downloads.openwrt.org/backfire/10.03/ar71xx/packages/luci-core_0.9.0-1_ar71xx.ipk.
Collected errors:
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/ip.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/debug.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/version.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/util.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/init.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/ltn12.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/ccache.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/store.lua
        But that file is already provided by package  * luci-lib-core
 * check_data_file_clashes: Package luci-core wants to install file /usr/lib/lua/luci/fs.lua
        But that file is already provided by package  * luci-lib-core
 * opkg_install_cmd: Cannot install package luci-app-ddns.
root@Upstairs /root#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131962">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						30 Mar 2011, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>One other quirk - after a reboot, the 6to4 interface did not start automatically. A quick trip to the Luci network setup, WAN6, Save&amp;Apply and it&#039;s working.</p><p>Not much in the syslog, but initially:<br /></p><div class="codebox"><pre><code>Mar 30 09:26:46 Upstairs user.notice 6to4-wan6: Cannot find wan interface - aborting</code></pre></div><p>and then after doing the above in luci (addresses redacted):<br /></p><div class="codebox"><pre><code>Mar 30 09:26:53 Upstairs user.notice 6to4-wan6: Starting ...
Mar 30 09:26:53 Upstairs user.notice 6to4-wan6:  * IPv4 address is XXXXX
Mar 30 09:26:53 Upstairs user.notice 6to4-wan6:  * IPv6 address is YYYYYY
Mar 30 09:26:53 Upstairs user.info kernel: 6to4-wan6: Disabled Privacy Extensions
Mar 30 09:26:53 Upstairs user.notice 6to4-wan6:  * Adding default route
Mar 30 09:26:54 Upstairs user.notice 6to4-wan6:  * Advertising IPv6 subnet YYYYYY on lan (br-lan)
Mar 30 09:26:54 Upstairs daemon.warn radvd[4219]: Exiting, sigterm or sigint received.
Mar 30 09:26:55 Upstairs daemon.info dnsmasq-dhcp[2434]: DHCPDISCOVER(br-lan) MMMMMM 
Mar 30 09:26:55 Upstairs daemon.info dnsmasq-dhcp[2434]: DHCPOFFER(br-lan) XXXXXX MMMMMM
Mar 30 09:26:55 Upstairs daemon.info dnsmasq-dhcp[2434]: DHCPREQUEST(br-lan) XXXXXX MMMMMM
Mar 30 09:26:55 Upstairs daemon.info dnsmasq-dhcp[2434]: DHCPACK(br-lan) XXXXXX MMMMMM ZZZZZZ
Mar 30 09:26:55 Upstairs daemon.info radvd[4677]: version 1.7 started</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131969">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						30 Mar 2011, 17:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tt wrote:</cite><blockquote><p>I decided to update to the 3/29 Backfire build you just created, and it runs fine so far but there&#039;s an issue installing the DynDNS support. Previously I was running WNDR3700-backfire-r25877-2011-03-05-1012 and &quot;opkg install luci-app-ddns&quot; worked fine. At the time, it installed a package from the svn luci branch.</p><p>Now with WNDR3700-backfire-r26359-2011-03-29-2112, the same opkg install fetches from the luci 0.9.0 branch, and fails because the build is using an svn luci. Is this a repository issue?</p></blockquote></div><p>Actually, you are seeing the fallback from a correction of a month old erroneoeus check-in, which Jow corrected yesterday: <a href="https://dev.openwrt.org/changeset/26359">https://dev.openwrt.org/changeset/26359</a></p><p>During the past month, the Backfire builds have inadvertently fetched modules from Openwrt trunk depository, which has not been the intention.</p><br /><p>And Backfire as default is currently building out of Luci-0.10, not 0.9 any more, and this has changes after Backfire 10.1-rc4, so there are no current packages available...<br />So, fetching packages from the Backfire depository will produce errors for you in any case.</p><p>But I am building from Luci trunk, (as there is not much difference between Luci trunk and 0.10, but Luci trunk has some better features). And Luci trunk is used by OpenWrt trunk, so those Luci modules should be compatible.</p><p>If you change your /etc/opkg.conf to again fetch packages from OpenWrt trunk snapshots depository, you should probably be able to get compatible packages for Luci.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131970">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						30 Mar 2011, 17:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tt wrote:</cite><blockquote><p>One other quirk - after a reboot, the 6to4 interface did not start automatically. A quick trip to the Luci network setup, WAN6, Save&amp;Apply and it&#039;s working.</p></blockquote></div><p>Not much help is available from me, as I only have 6in4 functionality, so I can&#039;t test 6to4 by myself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131971">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						30 Mar 2011, 18:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>If you change your /etc/opkg.conf to again fetch packages from OpenWrt trunk snapshots depository, you should probably be able to get compatible packages for Luci.</p></blockquote></div><p>Ok, thanks. Speaking of trunk, do you recommend your &quot;trunk&quot; build over the &quot;backfire&quot; one? I have been preferring your backfire build because it requires less manual intervention from me, for example after an upgrade the trunk build requires changing the IP address from the 192.168.1.1 default. The backfire build retains my changed setting across the upgrade. What functional differences should I expect when running trunk?</p><p>One tiny feature request though - if you could include the luci-app-ddns (and ddns-scripts which it needs) packages by default, your build would be just a teeny-weeny bit better. :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131981">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						30 Mar 2011, 21:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tt wrote:</cite><blockquote><p>Speaking of trunk, do you recommend your &quot;trunk&quot; build over the &quot;backfire&quot; one?...</p><p>One tiny feature request though - if you could include the luci-app-ddns (and ddns-scripts which it needs) packages by default, your build would be just a teeny-weeny bit better. :-)</p></blockquote></div><p>I actually prefer the Backfire build, as it seems to cause slightly smaller system load. For testing purposes I have been running trunk &amp; Backfire on a weekly basis, alternating between them every week...</p><p>I have not noticed any major differences between the trunk/Backfire versions regarding updates and config files, but I have mainly been updating the config files using an USB stick, just copying my personal settings and leaving all others to defaults. (I have not wanted to copy all config files from build to build, as I want to see if there are any changes to the defaults.)</p><p>I included DynDNS script and LuCI in the latest r26378 build. (That DynDNS is a &quot;proper&quot; router functionality, so it fits to my definition of the core components.)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 30 Mar 2011, 21:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131984">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						30 Mar 2011, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>Ok, it&#039;s officially the perfect build now. :-) Thanks for including the ddns support. I think I&#039;ll stick with your backfire config for now.</p><p>To test the 6to4 issue, I backed out to the 3/5, 3/18 and 3/29 builds and it turns out they all behave a little strangely, and all in the same way. The first boot after an upgrade is fine, but subsequent boots generally fail to initialize the 6to4 interface. All other functions are fine. A trip through luci to re-enable is a workaround, or sometimes just waiting a few minutes does it too. Very odd. I wonder if it&#039;s a Comcast 6to4 service issue. I&#039;ll keep monitoring, see if I can isolate it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132034">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">pearlcabrezos</div>
					<div class="post-datetime">
						31 Mar 2011, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>This work is great! nice tip <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>