<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Howto] Installing a NFS server</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p53007">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						29 Jul 2007, 02:03					</div>
				</div>
				<div class="post-content content">
					<p><strong><span class="bbu">Installing a NFS server</span></strong></p><p><strong>1.</strong> Install the unfs3 package (dependencies: portmap)<br /></p><div class="codebox"><pre><code>ipkg install unfs3</code></pre></div><p><strong>2.</strong> Change /etc/exports if needed</p><p><strong>3.</strong> Start the NFS server and enable it on the next boot<br /></p><div class="codebox"><pre><code>/etc/init.d/unfs3 start
/etc/init.d/unfs3 enable</code></pre></div><p>Check with &#039;pidof unfsd&#039; or &#039;netstat -an&#039; (port 2049 TCP and UDP) if the NFS server is running.</p><p><strong>4.</strong> Configure /etc/hosts.allow and /etc/hosts.deny (optional)</p><p><strong>5.</strong> On a Linux NFS client mount the share on the router with e.g.:<br /></p><div class="codebox"><pre><code>sudo mkdir -p /mnt/router
sudo mount -t nfs -o ro 192.168.178.3:/mnt/ /mnt/router</code></pre></div><p><strong>Note:</strong> I decided to use (ported and packaged) <a href="http://unfs3.sourceforge.net/">unfs3</a> because nfs-server and nfs-kernel-server packages didn&#039;t worked for me. Later I&#039;ll write a config file to configure some options via UCI.</p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 29 Jul 2007, 02:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53012">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">brucebertrand</div>
					<div class="post-datetime">
						29 Jul 2007, 05:14					</div>
				</div>
				<div class="post-content content">
					<p>Can we get a link to your unfs3 ipkg file?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53022">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						29 Jul 2007, 11:44					</div>
				</div>
				<div class="post-content content">
					<p>With Kamikaze 7.09 all packages have been built and you find it after you flash 7.09 and run &#039;ipkg update&#039;.</p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 30 Sep 2007, 23:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57764">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rooster</div>
					<div class="post-datetime">
						19 Oct 2007, 12:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>before i could start the NFS server i also had to start and enable the the portmap server. </p><div class="codebox"><pre><code>/etc/init.d/portmap start
/etc/init.d/portmap enable</code></pre></div><p>Otherwise you will receive the following error:</p><div class="codebox"><pre><code>Cannot register service: RPC: Unable to receive; errno = Connection refused
unable to register (NFS3_PROGRAM, NFS_V3, udp).</code></pre></div><p>regards</p><p>Rooster</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>