<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-MR3020 Support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 16 Jun 2013 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 24</div><nav><ul><li><a href="viewtopic.php%3Fid=33429&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=24.html">24</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p154644">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						19 Jan 2012, 00:16					</div>
				</div>
				<div class="post-content content">
					<p>First verify that minicom/Putty is set to N81 (No parity, 8 data bits, 1 stop bit).&nbsp; If that is correct then&nbsp; try different bit rates&nbsp; - i.e. set minicom to a bit rate&nbsp; - power-cycle router and see of you get valid text on the console. Repeat for different rates. <br />Try&nbsp; 9600, 19200, 38400, and 57600&nbsp; bit rates. </p><p>Ashok</p>											<p class="post-edited">(Last edited by <strong>snowyowlster</strong> on 19 Jan 2012, 00:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154646">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">patr-x</div>
					<div class="post-datetime">
						19 Jan 2012, 00:20					</div>
				</div>
				<div class="post-content content">
					<p>Hey, </p><p>thanks for your replies so far. I tried to search for as much information as I could. And from the behavior of my router I&#039;m assuming that my openwrt is working fine and that I only firewall-ed me out. (I configured one led for usb and it still lights up when i plug a usb device in). Reading on the wiki about the failsafe mode I was wondering if the mr3020 has a reset button. I tried out the WPS button, as its the only button. But I couldn&#039;t get in to the failsafe mode. So I wanted to ask if the only solution left is really opening the case and accesing through a serial console(as I have never done something like thatbefore).<br />I&#039;m sorry that my questions might be stupid. I&#039;m trying to get all the necessary information in the wiki and by searching on the internet, but sometimes I reach the end of my capabilities.</p><p>thanks a lot<br />patr-x</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154648">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">mrzaphodb</div>
					<div class="post-datetime">
						19 Jan 2012, 01:35					</div>
				</div>
				<div class="post-content content">
					<p>It wasn&#039;t clear from your post (code that thinks) whether you are using a TTL level shifter or are just trying to access the serial header via direct connection to a COM port. I&#039;m pretty sure that, like the WR703, the MR3020 serial header uses TTL signaling so needs to be connected to your PC COM port via a TTL level shifter. The level-shifter both adapts the signaling from 3.3V (typically) and inverts the signals. So without a shifter, I would expect to get garbage characters even though you are properly set for 115200,N,8,1. </p><p>I posted a &quot;how-to&quot; with lots of pictures showing how I added a serial port to the WR703 along with my choice for the level-shifter and how I hook it up. It should be a much easier process on the MR3020 because the serial header is MUCH larger (pins vs tiny pads). The how-to is here:</p><p><a href="http://wiki.villagetelco.org/index.php?title=Building_a_Serial_Port_for_TL-WR703N">http://wiki.villagetelco.org/index.php? … _TL-WR703N</a></p><p>Cheers.</p><p>-Keith</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154655">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">codeThatThinks</div>
					<div class="post-datetime">
						19 Jan 2012, 03:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mrzaphodb wrote:</cite><blockquote><p>It wasn&#039;t clear from your post (code that thinks) whether you are using a TTL level shifter or are just trying to access the serial header via direct connection to a COM port. I&#039;m pretty sure that, like the WR703, the MR3020 serial header uses TTL signaling so needs to be connected to your PC COM port via a TTL level shifter. The level-shifter both adapts the signaling from 3.3V (typically) and inverts the signals. So without a shifter, I would expect to get garbage characters even though you are properly set for 115200,N,8,1. </p><p>I posted a &quot;how-to&quot; with lots of pictures showing how I added a serial port to the WR703 along with my choice for the level-shifter and how I hook it up. It should be a much easier process on the MR3020 because the serial header is MUCH larger (pins vs tiny pads). The how-to is here:</p><p><a href="http://wiki.villagetelco.org/index.php?title=Building_a_Serial_Port_for_TL-WR703N">http://wiki.villagetelco.org/index.php? … _TL-WR703N</a></p><p>Cheers.</p><p>-Keith</p></blockquote></div><p>You are correct, I am using a direct connection to COM1 on my Linux box via pins 2 and 3 of a DE9 serial cable. I&#039;ve been trying 115200,N,8,1 and I am getting just garbage characters. For me, there isn&#039;t a need to shift the voltage because I have only a 10k resistor between pins 3 and 4 of the serial header on the router.</p><p>I tried connecting to the router earlier via an Arduino, which has serial capability, and I&#039;ll try again with TTL shifting.<br />BTW, the link you sent me returns &#039;INTERNAL SERVER ERROR&#039;.</p><p>Many thanks to everyone on this forum.</p><p>~Ian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154659">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">mrzaphodb</div>
					<div class="post-datetime">
						19 Jan 2012, 03:31					</div>
				</div>
				<div class="post-content content">
					<p>As I understand it, the TTL shifter ALSO inverts the signals. So, using a passive resistor to lower the voltage wouldn&#039;t seem to be sufficient. </p><p>You&#039;re correct..the villagetelco site is returning a server error to me currently although I tested the link right after posting it and it worked fine. That said, I see that the villagetelco site is honoring the SOPA protest blackout so will likely be down for the remainder of the day.</p><p>Cheers,</p><p>Keith</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154661">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">codeThatThinks</div>
					<div class="post-datetime">
						19 Jan 2012, 04:10					</div>
				</div>
				<div class="post-content content">
					<p>Basically I need this: <a href="http://www.sparkfun.com/products/8745">http://www.sparkfun.com/products/8745</a></p><p>I tried to make one, as the schematics are provided by Sparkfun, but it seems I don&#039;t have the proper mosfet on hand. Because of this, my Arduino doesn&#039;t see the serial connection.</p><p>~Ian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154798">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">codeThatThinks</div>
					<div class="post-datetime">
						20 Jan 2012, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>Today the other router I ordered came. I think the reason I bricked it last time was because I just downloaded the newest development snapshot rather than a build that was proven to work on this router.</p><p>So, this time, I going to try not to brick this router. After looking at the wiki it seems that I should install build r29651? Also, I don&#039;t really want to have to compile from source, so is there anyone who is willing to send me a binary that I can just use with WebGUI?</p><p>Thanks,</p><p>~Ian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154812">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">jyrki</div>
					<div class="post-datetime">
						20 Jan 2012, 21:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>just got mine tl-mr3020 and it is some handy guy for travelling... one last thing to make it perfect would be a pair of larger antennas. Because I have no knowledge of antennas I would like to ask - would it make sense to cut the circuit links near the end of onboard antenna (to disconnect on-board antenna) and soldier the wire to external one? Is this complete nonsense or would this simple connection be all that&#039;s needed? Would such small device be able to power larger antenna? </p><p>I&#039;ve searched for similar modifications and found some guys who did such thing to usb wifi sticks, but I failed to find if there were any benefit at all.</p><p>You are doing a great job, many thanks</p><p>jyrki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154832">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">codeThatThinks</div>
					<div class="post-datetime">
						21 Jan 2012, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>Just a couple of questions:</p><p>- Is being able to connect via serial required to be able to set up OpenWrt on the MR3020?</p><p>- Should I connect this router to ethernet, flash OpenWrt on it, and then do first login over SSH or Telnet?</p><p>- How did you do it successfully?</p><p>Thanks,<br />~Ian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154902">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">gianni.cand</div>
					<div class="post-datetime">
						21 Jan 2012, 17:16					</div>
				</div>
				<div class="post-content content">
					<p>Hello ! I got my 3020 few days ago. I have flashed it with trunk downloaded from <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/">http://downloads.openwrt.org/snapshots/trunk/ar71xx/</a>. I have bricked it setting a wrong networ configuration but debricked it connecting a CA-42 cable to internal serial port. Now it&#039;s ok and work great. I need to connect an external USB stick because I have to install Luci lighttpd and python as on my&nbsp; TL WR1043ND<br />So i tried to put rootfs on external storage following&nbsp; <a href="http://wiki.openwrt.org/doc/howto/extroot">http://wiki.openwrt.org/doc/howto/extroot</a> and the guide in <a href="http://h-wrt.com">http://h-wrt.com</a>/. But i got an error installing package block-extroot.&nbsp; Someone can help me about how can get rid of this error? Thank you.<br />Gianni</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155183">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">cille75</div>
					<div class="post-datetime">
						23 Jan 2012, 23:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gianni.cand wrote:</cite><blockquote><p>But i got an error installing package block-extroot.&nbsp; Someone can help me about how can get rid of this error? Thank you.<br />Gianni</p></blockquote></div><p>The image you have flashed is based on the current SVN trunk called &quot;Attitude Adjustment&quot;.</p><p>So please read the instructions for this release.<br /><a href="http://wiki.openwrt.org/doc/howto/extroot#openwrt.attitude.adjustment.trunk">http://wiki.openwrt.org/doc/howto/extro … ment.trunk</a></p><p>This is NOT Backfire!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155184">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">cille75</div>
					<div class="post-datetime">
						23 Jan 2012, 23:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Fado84 wrote:</cite><blockquote><p>Last question: installed openwrt, how does it function the switch? is the function equal in any position ?</p><p>Thanks!!</p></blockquote></div><p>The switch is supported by the kernel gpio driver, but at the moment the events &quot;BTN_0&quot;and &quot;BTN_1&quot; are not mapped to any function.<br />So nothing will happen. If you want to do something useful with the switch read the wiki about buttons and input events. You can write a shell script for example that reacts to your different switch positions. </p><p>The WPS button is currently also not mapped to anything. I am planning to map it to the &quot;reset&quot; behaviour for factory defaults.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155185">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">gianni.cand</div>
					<div class="post-datetime">
						23 Jan 2012, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>@cille75<br />Thank you so&nbsp; much. I will try it as soon as possible.<br />Gianni.</p><p>I have tried it ... working great. I have setup swap too. I have installed httpd, luci and python ... working perfectly.</p><p>Thank you so much<br />Gianni</p>											<p class="post-edited">(Last edited by <strong>gianni.cand</strong> on 25 Jan 2012, 21:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155445">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">ender</div>
					<div class="post-datetime">
						26 Jan 2012, 14:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>codeThatThinks wrote:</cite><blockquote><p>Just a couple of questions:</p><p>- Is being able to connect via serial required to be able to set up OpenWrt on the MR3020?</p><p>- Should I connect this router to ethernet, flash OpenWrt on it, and then do first login over SSH or Telnet?</p><p>- How did you do it successfully?</p><p>Thanks,<br />~Ian</p></blockquote></div><p>Got mine last night.</p><p>1. Downloaded the <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin">latest trunk snapshot</a> from <a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3020#installation">the 3020 wiki</a></p><p>2. Firmare upgrade... While the router was rebooting, I kept it connected to the wired Ethernet of my laptop, with a Wireshark running, to be sure I get the address right or to see if it asks for dhcp servers.</p><p>3. Telneted into the router using command prompt, changed password... then putty/ssh.</p><p>4. inserted usb hub (as I could use it for multiple usb devices, I had to do it via usb hub), inserted a 2gb SanDisk cruser (previously formatted ext3)</p><p>5. configured <a href="http://wiki.openwrt.org/doc/recipes/routedclient">wifi as wan client</a></p><p>Here I had some trouble with the wifi as it was not associating with my EdiMax 3g-6200nl... eventually it was because of my WPA passphrase as it contained # - this always gets me into trouble, this time I started wpa_supplicant manually and the debug clearly pointed the issues...</p><p>6. downloaded storage &amp; fs related modules</p><p>7. <a href="http://wiki.openwrt.org/doc/howto/extroot#new.external.overlay.variant.pivot.overlay">extroot</a></p><p>Rebooted couple of times (and some other times between steps just to make sure when I would have bricked it so I would know what too look for when connecting via serial console - seems I wasn&#039;t that lucky, though couple of times I was that close - Wireshark is a must when doing stuff like this, it got me out of trouble at some point)</p><p>8. install luci</p><p>9. open wine, light up cigar, enjoy ;-)</p><p>?. I actually intend to use this little wonder as a car PC (gps tracking mainly) with a 3g USB dongle (ZTE MF190), 2gb microSD inserted into the 3g stick and extroot on this external disk, and a Globalsat MR-350 on the serial port (this is what I&#039;ve got so far, this is what I use, later on I want to &#039;downsize&#039; things replacing eventually the GSM/GPS stuff with things like: <a href="http://www.sparkfun.com/products/10919)">http://www.sparkfun.com/products/10919)</a>. The previous car PC was based on an <a href="http://pcengines.ch/alix3d3.htm">Alix3d3</a>, doing openvpn to a VPS server to dump the GPS serial strings, viewable with AJAX via web, having a subsecond tracking delay on the client <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" />, using nothing else on the client side than a browser (USB-BT was also part of the thing, me and my wife having BT active on invisible all the time, so if the car was moving with no known BT MAC address possible to scan, then a SMS would have been sent to us). The same will happen to the poor 3020 (openvpn, 3g tested already on the 3420)...</p><p>0. Before this 3020 I just bought few days ago the bigger brother, 3420 and it was a delight to install Backfire on it as well. You could say that was the training for the 3020... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>You guys have fun, like I said before, I think this device is a wonder considering what can it do, just take it easy and have control and you won&#039;t brick it ;-)</p>											<p class="post-edited">(Last edited by <strong>ender</strong> on 26 Jan 2012, 14:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155448">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">cille75</div>
					<div class="post-datetime">
						26 Jan 2012, 15:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ender wrote:</cite><blockquote><p>You guys have fun, like I said before, I think this device is a wonder considering what can it do, just take it easy and have control and you won&#039;t brick it ;-)</p></blockquote></div><p><img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>That&#039;s what I also thought when I saw the press release on this device and later on the info that it very similar to the WR703N which had already been running with OpenWRT at that time.</p><p>I paid 27EUR for it. Where do you get such a powerful emedded platform with USB, Wireless LAN and LAN for homebrew stuff which has a low power consumption as well? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>cille75</strong> on 26 Jan 2012, 15:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156180">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">panama1</div>
					<div class="post-datetime">
						3 Feb 2012, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>Howto install luci? (newbie)</p><p>If I follow the installation guide, I have to use the command:<br />opkg update<br />than I receive following message:</p><p> -----------------------------------------------------<br />root@OpenWrt:~# opkg update<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/Packages.gz">http://downloads.openwrt.org/snapshots/ … ackages.gz</a>.<br />wget: bad address &#039;downloads.openwrt.org&#039;<br />Collected errors:<br /> * opkg_download: Failed to download <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/Packages.gz">http://downloads.openwrt.org/snapshots/ … ackages.gz</a>, wget returned 1.<br />-----------------------------------------------------</p><p>there is no Packages.gz available!</p><p>Thanks for your support!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156181">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">cille75</div>
					<div class="post-datetime">
						3 Feb 2012, 20:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>panama1 wrote:</cite><blockquote><p>Howto install luci? (newbie)</p><p>If I follow the installation guide, I have to use the command:<br />opkg update<br />than I receive following message:</p><p> -----------------------------------------------------<br />root@OpenWrt:~# opkg update<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/Packages.gz">http://downloads.openwrt.org/snapshots/ … ackages.gz</a>.<br />wget: bad address &#039;downloads.openwrt.org&#039;<br />Collected errors:<br /> * opkg_download: Failed to download <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/Packages.gz">http://downloads.openwrt.org/snapshots/ … ackages.gz</a>, wget returned 1.<br />-----------------------------------------------------</p><p>there is no Packages.gz available!</p><p>Thanks for your support!</p></blockquote></div><p>Please look in the wiki for basic configuration stuff. Your network setup does not seem to work.<br />Make sure that the IP address, netmask, gateway and DNS server are setup correctly.</p><p>Please keep also in mind that luci can only be installed if you go the &quot;extroot&quot; way and attach external USB storage to the device.<br />4MB flash inside the device does not offer enough space for a luci installation.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156251">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">panama1</div>
					<div class="post-datetime">
						4 Feb 2012, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to increase &quot;txpower&quot; ?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156861">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">carlberg</div>
					<div class="post-datetime">
						10 Feb 2012, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I just flashed my MR3020 with an image I created with Image Builder and now when it boots up I get:<br />I did of cause select the right target etc....</p><p>openwrt Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p><p>in the serial console and it hangs.<br />Did I brick my router? or can I bring it back to life some how? <img src="https://forum.openwrt.org/img/smilies/neutral.png" width="15" height="15" alt="neutral" /></p><p>Cheers<br />-Anders</p><p>EDIT: Found a solution.. <br />I need to type &#039;tpl&#039; and then i get into the bootloader ... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>carlberg</strong> on 10 Feb 2012, 20:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156866">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						10 Feb 2012, 01:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>codeThatThinks wrote:</cite><blockquote><p>You are correct, I am using a direct connection to COM1 on my Linux box via pins 2 and 3 of a DE9 serial cable. I&#039;ve been trying 115200,N,8,1 and I am getting just garbage characters.</p></blockquote></div><p>omg!!</p><p>you are lucky if you did not damage the board...</p><p>NEVER connect a serial port (can have 12V!!) directly on a board that uses 3.3V..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156915">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">pepe2k</div>
					<div class="post-datetime">
						10 Feb 2012, 12:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>It&#039;s my first post on this forum so I want to say hello.</p><p>I got my MR3020 yesterday and it&#039;s version 1.6 (revision on PCB is 1.1). I don&#039;t think that something was changed on PCB compared to version 1.4.<br />In my case, the top was glued on every edge, so it was really hard to get inside...</p><p>Here are PCB photos:<br /><a href="http://www.tech-blog.pl/pliki/tp-link_mr3020_mb_1.jpg">http://www.tech-blog.pl/pliki/tp-link_mr3020_mb_1.jpg</a> (top)<br /><a href="http://www.tech-blog.pl/pliki/tp-link_mr3020_mb_2.jpg">http://www.tech-blog.pl/pliki/tp-link_mr3020_mb_2.jpg</a> (bottom)</p><p>I had no problems installing OpenWRT using original TP-Link GUI.</p><p>I&#039;m going to make an internet radio/audio player with this model.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157076">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">Poduy</div>
					<div class="post-datetime">
						11 Feb 2012, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>welcome to everybody, I&#039;m happy MR3020 owner. Bought it just few days ago, being stupid to poweroff during flash (honestly, I cannot find any excuse to do not think that I just need to wait till whole process ends) but serial trick got it back to life. Yeah, that was the story, but now comes the real problem:</p><div class="codebox"><pre><code>root@OpenWrt:/proc/bus/usb# opkg install kmod-usb-serial kmod-usb-serial-option
Installing kmod-usb-serial (2.6.39.4-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-usb-serial_2.6.39.4-1_ar71xx.ipk.
Installing kmod-usb-serial-option (2.6.39.4-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-usb-serial-option_2.6.39.4-1_ar71xx.ipk.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-usb-serial:
 *      kernel (= 2.6.39.4-1-b589cbd61bd8226af58758bd51f35f55) *
 * opkg_install_cmd: Cannot install package kmod-usb-serial.
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-usb-serial-option:
 *      kernel (= 2.6.39.4-1-b589cbd61bd8226af58758bd51f35f55) *        kernel (= 2.6.39.4-1-b589cbd61bd8226af58758bd51f35f55) *
 * opkg_install_cmd: Cannot install package kmod-usb-serial-option.</code></pre></div><p>and kernel stuff:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/proc/bus/usb# uname -a
Linux OpenWrt 2.6.39.4 #1 Sun Feb 5 22:39:29 MST 2012 mips GNU/Linux</code></pre></div><p>and it looks like it&#039;s kernel related issue. What&#039;s strange - many other kernel packages just popped up with no problem so, despite my linux knowledge and experience, I feel stuck... Some kmods are ok but some are wrong? I miss my ttyUSB0...</p><p><strong>EDIT:</strong><br />ok, not getting used to opkg idea. opkg list-upgradable didn&#039;t give kernel as a result, it was just easy as </p><div class="codebox"><pre><code>opkg upgrade kernel</code></pre></div>											<p class="post-edited">(Last edited by <strong>Poduy</strong> on 11 Feb 2012, 22:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157077">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						11 Feb 2012, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>first do a simple<br /></p><div class="codebox"><pre><code>opkg update</code></pre></div><p>then install your packages</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157079">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">Poduy</div>
					<div class="post-datetime">
						11 Feb 2012, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>that&#039;s what I did first. I have MR3420 too, for over a year, so I&#039;m (I think) quite familiar with OpenWRT. It&#039;s only some inconsistence with kernel modules and kernel update does not pop up after &#039;opkg list-upgradable&#039; so I got a little confused. It&#039;s just I read &#039;opkg list&#039;&nbsp; output carrefully that gave me idea of kernel upgrade available.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158735">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">roschi</div>
					<div class="post-datetime">
						26 Feb 2012, 11:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>first, thanks for the great support in this forum!</p><p>I bought a MR3020, made a serial connection, flashed firmware - anything worked well.</p><p>On the wiki page of this device I read that the CPU runs at 400MHz. But mine seems to run at only 265.</p><div class="codebox"><pre><code>root@debwrt:~# uname -a
Linux debwrt 3.2.5 #1 Wed Feb 22 20:09:20 CET 2012 mips GNU/Linux
root@debwrt:~# cat /proc/cpuinfo 
system type             : Atheros AR9330 rev 1
machine                 : TP-LINK TL-MR3020
processor               : 0
cpu model               : MIPS 24Kc V7.4
BogoMIPS                : 265.42
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x0780, 0x0aa8, 0x0218]
ASEs implemented        : mips16
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available

root@debwrt:~#</code></pre></div><p>Does anybody know something about this?</p><p>Thanks and best regards,<br />Robert</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 24</div><nav><ul><li><a href="viewtopic.php%3Fid=33429&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=24.html">24</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>