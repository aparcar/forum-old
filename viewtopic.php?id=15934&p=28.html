<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Is this router based on the infineon danube?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Oct 2014 and 1 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 28 of 40</div><nav><ul><li><a href="viewtopic.php%3Fid=15934&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=26.html">26</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=27.html">27</a></li><li class="pagination-current"><span>28</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=29.html">29</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=30.html">30</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=40.html">40</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
						<div class="notice">
				<p>Sorry, posts 676 to 676 are missing from our archive.</p>
			</div>
		
		
		
			<article class="post" id="p167623">
				<div class="post-metadata">
					<div class="post-num">Post #677</div>
					<div class="post-author">ginetto</div>
					<div class="post-datetime">
						18 May 2012, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>I prefer to use brntool.py</p><p>it downs the same things of brndump and not have to be compiled. brnboot (I don&#039;t what language has been used to write it), bus seems has the same code on fhe brntool python script.</p><p>brntool had problem doing dumping. I don&#039;t know if it&#039;s a general problem but I solved like in the old post below</p><p>hasta luego</p><div class="quotebox"><cite>ginetto wrote:</cite><blockquote><div class="quotebox"><cite>gnumengor wrote:</cite><blockquote><p>then, you can start dumping the firmware<br/></p><div class="codebox"><pre><code>./brntool.py --read=AR4518PW_whole.dump --addr=0xB0000000 --verbose --size=0x400000</code></pre></div><p>then run the tool, and wait like... 30minutes-1hour for it to end.<br/>Is a good idea to run the tool twice and compare the two dumps to be sure its 100% accurate:</p></blockquote></div><p>I did a little modification to the python script</p><p>modified line:</p><p>ser.write(hex(addr)[2:])&nbsp; </p><p>that produce b0000000L and block execution (is the input value --addr=0xB0000000)</p><p>and modified in </p><p>ser.write(hex(addr)[2:-1]) </p><p>that produce correct b0000000</p><p>now is dumping...</p><p>becouse</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167624">
				<div class="post-metadata">
					<div class="post-num">Post #678</div>
					<div class="post-author">Pteridium</div>
					<div class="post-datetime">
						18 May 2012, 00:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> Happy to help, thanks for reading!</p></blockquote></div><p>A wonderful job for OpenWRT and Seguridadwireless users.</p><p>A lot of thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167625">
				<div class="post-metadata">
					<div class="post-num">Post #679</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						18 May 2012, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>@ginetto Yes you need to do the math every time you modify something. As a quick reference:</p><p>We have a 4 Mb flash -&gt; 0x400000 (4194304 bytes)<br/>We cannot use with trunk openwrt first 128k + 64k -&gt; 0x20000 + 0x10000 = 0x30000 (196608 bytes)<br/>We cannot use because board restrictions last 64kb -&gt; 0x10000 (65536 bytes)</p><p>Now, doing maths -&gt; 0x400000 - 0x30000 - 0x10000 = 0x3C0000 (3932160 bytes)</p><p>What this mean?</p><p>We can start to flash openwrt only from 0xb0030000 and to a max of 0xb03F0000, therefore our max openwrt image size is <strong>0x3C0000</strong>. Greater? Don&#039;t try, will mess the config data. Smaller or equal? Perfect</p><p>Reading my previous post, look this part:</p><div class="codebox"><pre><code>ARV4518 =&gt; run update_openwrt
Using lq_cpe_eth device
TFTP from server 192.168.144.100; our IP address is 192.168.144.99
Filename &#039;ARV4518PW-squashfs.image&#039;.
Load address: 0x80500000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######
done
Bytes transferred = 2359300 (240004 hex)

..................................... done
Erased 37 sectors
Copy to Flash... 9....8....7....6....5....4....3....2....1....done</code></pre></div><p>0x240004 transferred, and we can spend 0x3C0000 ... it fits perfect</p><p>Tip: Use windows calc in scientific mode if you want to work with hexadecimal values ... maybe it will help to you here</p><br/><br/><p>Replying to second question ... sorry, each router have its own data, because is Wireless Calibration data and MAC address</p>											<p class="post-edited">(Last edited by <strong>aiayua</strong> on 18 May 2012, 00:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167627">
				<div class="post-metadata">
					<div class="post-num">Post #680</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						18 May 2012, 00:58					</div>
				</div>
				<div class="post-content content">
					<p>@ginetto brndumper is in a windows executable flavour, no need to compiling, just run and go! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167695">
				<div class="post-metadata">
					<div class="post-num">Post #681</div>
					<div class="post-author">dp79</div>
					<div class="post-datetime">
						19 May 2012, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>aiayua,</p><p>I followed your instructions and I have a ARV4518PW running openwrt now. Thanks a lot!!!!!! <br/>Could you please tell us what your image exactly contain. Does it have ath5k and usb drivers compiled into or they have to be downloaded via opkg? If that&#039;s the case (download via opkg), how do I manage to install packages via opkg if I can&#039;t connect to the internet via dsl, only via wireless (which doesn&#039;t work)? I was thinking to place the *.opg file onto a usb pendrive, but it doesn&#039;t seem to recognize my drive - I guess due to lack of drivers. I was&nbsp; thinking using wget via a http or ftp server running on my PC, dhcp doesn&#039;t work by default and even if I set a fix IP on my PC it won&#039;t reply to pings so I couldn&#039;t download packages from my PC via wget either... Any suggestions?</p><p>Saludos,<br/>&nbsp; &nbsp; &nbsp;dp79</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167697">
				<div class="post-metadata">
					<div class="post-num">Post #682</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						19 May 2012, 02:11					</div>
				</div>
				<div class="post-content content">
					<p>dp79,</p><p>It&#039;s official trunk image (15 may 2012 I think). I only put it on my server for future use (I ensure this tutorial is working with this image ... but maybe in a new revision it fails). I wrote this tutorial as standard as I could, just fixing the u-boot kernel addr to work everything properly.</p><p>I&#039;m not using trunk, so I can&#039;t tell you what it contains but if I remember well, it&#039;s usb enabled.</p><p>The way I&#039;m using this router is connected to another router via LAN and works perfect. If you need internet and don&#039;t have another router working as gateway, you can always configure your PC as a gateway (if it have internet). Just search google for some gateway server for your OS</p><p>You don&#039;t need to change you PC IP, but it&#039;s possible your PC run behind firewall? (windows default and/or antivirus one) If so, disable it to avoid headaches</p><p>And to fix an IP to router, edit /etc/config/network. I put here my configuration as example:</p><div class="codebox"><pre><code>root@OpenWRT:/# cat /etc/config/network

config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config interface &#039;lan&#039;
        option ifname &#039;eth0&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.144.91&#039;
        option gateway &#039;192.168.144.1&#039;
        option netmask &#039;255.255.255.0&#039;
        option dns &#039;192.168.144.1&#039;

config adsl-device &#039;adsl&#039;
        option annex &#039;2p&#039;

config atm-bridge &#039;atm&#039;
        option unit &#039;0&#039;
        option vpi &#039;1&#039;
        option vci &#039;32&#039;
        option encaps &#039;llc&#039;
        option payload &#039;bridged&#039;

config interface &#039;wan&#039;
        option ifname &#039;nas0&#039;
        option proto &#039;pppoe&#039;
        option username &#039;foo&#039;
        option password &#039;bar&#039;</code></pre></div><p>I have a compiled openwrt without wifi or adsl support so I don&#039;t use wan, adsl or atm, I just left the sections untouched and I don&#039;t know if will works.<br/>In &#039;lan&#039; section, just change ipaddr, gateway and dns fields to fit your network. In my case, 192.168.144.1 is my router, acting as gateway and dns server. If you want to ensure working dns, look your windows ones, and write it to &#039;dns&#039; field. (ipconfig /all if you run windows and you will get that data)</p><p>Later, restart network (running /etc/init.d/network restart) and it should have the new configuration working. If your gateway responds, you&#039;ll download with opkg without problem (remember to opkg update first)</p><p>Try and say me <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink"/></p>											<p class="post-edited">(Last edited by <strong>aiayua</strong> on 19 May 2012, 05:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167759">
				<div class="post-metadata">
					<div class="post-num">Post #683</div>
					<div class="post-author">dp79</div>
					<div class="post-datetime">
						19 May 2012, 23:26					</div>
				</div>
				<div class="post-content content">
					<p>aiayua,</p><p>Thanks for the detailed explanation. commenting the line - option type &#039;bridge&#039; - solved my problem and I could ping my pc. I could successfully setup my pc as an internet gateway also.<br/>My next problem is tat I&#039;m able to installsome packages, like fdisk with opkg, but if I try kmod-ath5k or kmod-madwifi or kmod-usb2, I&#039;m getting an error saying:</p><p>root@OpenWrt:/# opkg install kmod-usb2<br/>Installing kmod-usb2 (3.3.6-1) to root...<br/>Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/lantiq/packages/kmod-usb2_3.3.6-1_lantiq.ipk">http://downloads.openwrt.org/snapshots/trunk/lantiq/packages/kmod-usb2_3.3.6-1_lantiq.ipk</a>.<br/>Collected errors:<br/> * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-usb2:<br/> *&nbsp; &nbsp; &nbsp; kernel (= 3.3.6-1-29741bd671abfda23af499e2b71d6a06) *&nbsp; &nbsp;kernel (= 3.3.6-1-29741bd671abfda23af499e2b71d6a06) *&nbsp; &nbsp;kernel (= 3.3.6-1-29741bd671abfda23af499e2b71d6a06) *<br/> * opkg_install_cmd: Cannot install package kmod-usb2.</p><p>Any suggestions?</p><p>Saludos,<br/>&nbsp; &nbsp; &nbsp; &nbsp;dp79</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167762">
				<div class="post-metadata">
					<div class="post-num">Post #684</div>
					<div class="post-author">dp79</div>
					<div class="post-datetime">
						20 May 2012, 00:36					</div>
				</div>
				<div class="post-content content">
					<p>aiayua,</p><p>By now I figured, that the latest trunk has kernel rev 3.3.6 and your snapshot has 3.3.5. So it looks like only you can build the necesarry kmod-*.ipkg packages for this build. So I guess I have to build my own from the latest trunk, so that myself can compile the packages I need. <br/>If I do the uboot env address patch you mention in an earlyer post and I compile my own image, can I just simply boot my router to uboot and flash mine over the current image or should I revert it back to factory default state and/or delete the whole image prior to flash my built via tftpd?</p><p>dp79</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167776">
				<div class="post-metadata">
					<div class="post-num">Post #685</div>
					<div class="post-author">christoforos</div>
					<div class="post-datetime">
						20 May 2012, 14:16					</div>
				</div>
				<div class="post-content content">
					<p>First of all, greetings to the community.</p><p>I have an ARV4518PW2 (branded as Intracom netfasted iad), which I succesfully had its entire rom erased (I do have full and last 64kb backups, did not pay attention to minicom &quot;modem init&quot; strings).</p><p>I soldered the correct points, and I can enter UART mode (CFG 04) through switches.</p><p>Can anybody provide any help on how we upload a working u-boot with &quot;copy-paste-asc mode&quot;?</p><br/><div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>You need to enable UART mode -&gt; upload a working u-boot with copy-paste-asc mode -&gt; it will run from memory just after paste finished -&gt; upload a good bootloader via tftp/loady to flash memory -&gt; switch off -&gt; disable UART -&gt; go go go! If you have soldering skills, this is really easy.</p><p>But ... did you backup the last 65kb of flash data? It&#039;s really necessary! If you didn&#039;t and you didn&#039;t erased that last flash area, don&#039;t worry. If you did, your wifi is fucked.</p><p>To make this backup: When you boot from ASC, upload the original bootloader, flash it, reboot and stops it. Enter in advanced mode and use brndumper to save the last 65kb, then flash again a working u-boot. (Backup with brndumper from 0xb03F0000 to 0xb0400000)</p></blockquote></div><p>Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167777">
				<div class="post-metadata">
					<div class="post-num">Post #686</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						20 May 2012, 14:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dp79 wrote:</cite><blockquote><p>aiayua,</p><p>By now I figured, that the latest trunk has kernel rev 3.3.6 and your snapshot has 3.3.5. So it looks like only you can build the necesarry kmod-*.ipkg packages for this build. So I guess I have to build my own from the latest trunk, so that myself can compile the packages I need. <br/>If I do the uboot env address patch you mention in an earlyer post and I compile my own image, can I just simply boot my router to uboot and flash mine over the current image or should I revert it back to factory default state and/or delete the whole image prior to flash my built via tftpd?</p><p>dp79</p></blockquote></div><p>Hi there! As i said in my previous post, my openwrt image version was trunk (untouched, just copy-pasted), in the post time hehe Now it maybe not working, or something can fail. By the way, you have two options:</p><p>- Download official trunk, leave u-boot as my post, and simply put openwrt image into tftp server folder, rename to <strong>ARV4518PW-squashfs.image</strong>, enter u-boot and <strong>run update_openwrt</strong>. This will leave u-boot+uboot_env as is, will delete openwrt zone and flash it again, automagically. You can ensure to delete whole area by calculating the free area from uboot_env ending and router boot params start -&gt; 0xb03f0000 - 0xb0030000 = 0x3C0000, then erase that zone with the command <strong>erase 0xb0030000 0x3c0000</strong> and then <strong>run update_openwrt</strong>.</p><p>- Use my copy of package repository which is for my previous post openwrt version <span class="bbu"><a href="http://www.aiayua.com/openwrt/lantiq/packages/">http://www.aiayua.com/openwrt/lantiq/packages/</a></span>. Comment the first line at /etc/opkg.conf and copy it with this url. Run <strong>opkg update</strong> and then, install the packages you want.</p><p>aiayua</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167778">
				<div class="post-metadata">
					<div class="post-num">Post #687</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						20 May 2012, 14:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>christoforos wrote:</cite><blockquote><p>First of all, greetings to the community.</p><p>I have an ARV4518PW2 (branded as Intracom netfasted iad), which I succesfully had its entire rom erased (I do have full and last 64kb backups, did not pay attention to minicom &quot;modem init&quot; strings).</p><p>I soldered the correct points, and I can enter UART mode (CFG 04) through switches.</p><p>Can anybody provide any help on how we upload a working u-boot with &quot;copy-paste-asc mode&quot;?</p><br/><div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>You need to enable UART mode -&gt; upload a working u-boot with copy-paste-asc mode -&gt; it will run from memory just after paste finished -&gt; upload a good bootloader via tftp/loady to flash memory -&gt; switch off -&gt; disable UART -&gt; go go go! If you have soldering skills, this is really easy.</p><p>But ... did you backup the last 65kb of flash data? It&#039;s really necessary! If you didn&#039;t and you didn&#039;t erased that last flash area, don&#039;t worry. If you did, your wifi is fucked.</p><p>To make this backup: When you boot from ASC, upload the original bootloader, flash it, reboot and stops it. Enter in advanced mode and use brndumper to save the last 65kb, then flash again a working u-boot. (Backup with brndumper from 0xb03F0000 to 0xb0400000)</p></blockquote></div><p>Thank you</p></blockquote></div><p>Read here: <a href="https://forum.openwrt.org/viewtopic.php?pid=167431#p167431">UART explanation and files</a></p><p>And in your case, your file is here:</p><div class="quotebox"><blockquote><p>Links:<br/>1. First 0x30000 data (original bootloader) [ <a href="http://www.cienti.com/arv4518pw/first-0">http://www.cienti.com/arv4518pw/first-0</a> … 000000.zip ]<br/><strong>2. Compiled U-Boot with working TFTP and LOADY/LOADB (serial transfer) in ASC format [ <a href="http://www.cienti.com/arv4518pw/u-boot-asc-20120429.zip">http://www.cienti.com/arv4518pw/u-boot-asc-20120429.zip</a> ]</strong><br/>3. Compiled U-Boot with working TFTP and LOADY/LOADB ready to write to flash [ <a href="http://www.cienti.com/arv4518pw/u-boot">http://www.cienti.com/arv4518pw/u-boot</a>- … 120511.zip ]<br/>4. brndumper by pippolippi from this forum (thanks for sharing!) [ <a href="http://code.google.com/p/brndumper/">http://code.google.com/p/brndumper/</a> ]</p></blockquote></div><p>Copy the ASC content and just paste in console, thats it</p><p>But anyway ... try all you want, it&#039;s almost impossible to brick this router</p><p>Regards!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167939">
				<div class="post-metadata">
					<div class="post-num">Post #688</div>
					<div class="post-author">dp79</div>
					<div class="post-datetime">
						22 May 2012, 23:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aiayua wrote:</cite><blockquote><div class="quotebox"><cite>dp79 wrote:</cite><blockquote><p>aiayua,</p><p>By now I figured, that the latest trunk has kernel rev 3.3.6 and your snapshot has 3.3.5. So it looks like only you can build the necesarry kmod-*.ipkg packages for this build. So I guess I have to build my own from the latest trunk, so that myself can compile the packages I need. <br/>If I do the uboot env address patch you mention in an earlyer post and I compile my own image, can I just simply boot my router to uboot and flash mine over the current image or should I revert it back to factory default state and/or delete the whole image prior to flash my built via tftpd?</p><p>dp79</p></blockquote></div><p>Hi there! As i said in my previous post, my openwrt image version was trunk (untouched, just copy-pasted), in the post time hehe Now it maybe not working, or something can fail. By the way, you have two options:</p><p>- Download official trunk, leave u-boot as my post, and simply put openwrt image into tftp server folder, rename to <strong>ARV4518PW-squashfs.image</strong>, enter u-boot and <strong>run update_openwrt</strong>. This will leave u-boot+uboot_env as is, will delete openwrt zone and flash it again, automagically. You can ensure to delete whole area by calculating the free area from uboot_env ending and router boot params start -&gt; 0xb03f0000 - 0xb0030000 = 0x3C0000, then erase that zone with the command <strong>erase 0xb0030000 0x3c0000</strong> and then <strong>run update_openwrt</strong>.</p><p>- Use my copy of package repository which is for my previous post openwrt version <span class="bbu"><a href="http://www.aiayua.com/openwrt/lantiq/packages/">http://www.aiayua.com/openwrt/lantiq/packages/</a></span>. Comment the first line at /etc/opkg.conf and copy it with this url. Run <strong>opkg update</strong> and then, install the packages you want.</p><p>aiayua</p></blockquote></div><p>Thanks for sharing your packages! They work flawlessly... As soon as I have time, I will attempt to build my own image from trunk. Another question though:<br/>Space on flash seems to be an enemy so far. Will I be able to free up some space by compiling packages into the image? How do I know whether they will be part of squashfs or part of JFFS2? I would like to squeeze as many of these as I can into squashfs&gt; kmod-usb2,kmod-fs-ext4,fdisk,e2fsprogs,kmod-ath5k,luci,s2-liplianin (dvb-s2 tuner driver),mumudvb</p><p>Thanks again!<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dp79</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167989">
				<div class="post-metadata">
					<div class="post-num">Post #689</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						23 May 2012, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi dp79,</p><p>Don&#039;t wait to &quot;have time&quot; to build your own OpenWRT. I have an old computer to build (1GHz + 512Mb RAM) with debian, and the fresh build (only board select @ make menuconfig, no more changes) last me 4 hours .... so, if you wait to &quot;have time&quot; you will see that time is just to wait the end hahahaha</p><p>If you have chance, take a debian computer, follow the wikis about setting the system to build openwrt and do some tries with make menuconfig.</p><p>The space is an enemy, yes, my first compiles was about 6Mb (wait 4hours and see you cannot flash it ... is not nice) but later, you can fit a lot.</p><p>My advice: Build your OpenWRT only with usb2+ext4, fdisk a usb stick with at least one ext4 partition on the debian machine (you won&#039;t need to fdisk at router) and use it to pivot overlay, you will get a lot of free space. Then install all packages you want. In this way, you always can uninstall it later. If precompiled is uninstallable hehehe</p><p>I run over a 32Gb stick -&gt; 128Mb (pivot overlay), 768Mb (home), 128Mb (swap) and 31Gb as network share.</p><p><span class="postimg"><img src="http://www.cienti.com/arv4518pw/ARV4518PW-32Gb_.jpg" alt="http://www.cienti.com/arv4518pw/ARV4518PW-32Gb_.jpg"/></span></p><p>About JFFS2 and squashfs: I think (but ensure it) JFFS2 is initial image with pre-built packages (/rom folder, cannot modify it) and squashfs the free space.</p><p>Regards, </p><p>aiayua</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167990">
				<div class="post-metadata">
					<div class="post-num">Post #690</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						23 May 2012, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>Almost forget:</p><p>As you will compile your own kernel, don&#039;t forget this:</p><div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>2. compile your own OpenWRT modifying &#039;target/linux/lantiq/files-3.2/arch/mips/lantiq/xway/mach-arv.c&#039; and &#039;target/linux/lantiq/files-3.3/arch/mips/lantiq/xway/mach-arv.c&#039; (I think you only need the last one but ... modify both and no doubts) with this code:</p><div class="codebox"><pre><code>/*
 * this is generic configuration for all arv based boards, note that it can be
 * rewriten in arv_load_nor()
 */
static struct mtd_partition arv_partitions[] =
{
        {
                .name   = &quot;uboot&quot;,
                .offset = 0x0,
                .size   = 0x10000,
        },
        {
                .name   = &quot;uboot_env&quot;,
                .offset = 0x10000,
                .size   = 0x10000,
        },
        {
                .name   = &quot;linux&quot;,
                .offset = 0x20000,
                .size   = 0x3d0000,
        },
        {
                .name   = &quot;board_config&quot;,
                .offset = 0x3f0000,
                .size   = 0x10000,
        },
};</code></pre></div><p>Flash OpenWRT to 0xb0020000 and all will be so fine. You will get 65kb extra and u-boot and openwrt will be &#039;synced&#039;. You can modify u-boot env from openwrt without problems</p></blockquote></div><p>From <a href="https://forum.openwrt.org/viewtopic.php?pid=167431#p167431">Here</a></p><p>This is the most fitted openwrt configuration. U-boot at 0xb0000000, u-boot environment variables at 0xb0010000 and openwrt at 0xb0020000</p><p>aiayua</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168068">
				<div class="post-metadata">
					<div class="post-num">Post #691</div>
					<div class="post-author">Tomcruise</div>
					<div class="post-datetime">
						24 May 2012, 12:03					</div>
				</div>
				<div class="post-content content">
					<p>Router is not based on infeneon Danube, just erase your previous data it will be good if you don&#039;t then you will have some problem.<br/>And i must appreciate a brilliant job by OPENWRT a lot of thanks to you. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168120">
				<div class="post-metadata">
					<div class="post-num">Post #692</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						24 May 2012, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>hi there am stil at step Zero i wanted to build my RS232 to ttl converter but no luck finally i found some usb to ttl on ebay for 3usd can you provide a link to a compatible&nbsp; one, or they are all compatible ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168128">
				<div class="post-metadata">
					<div class="post-num">Post #693</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						25 May 2012, 02:03					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not using an usb adapter, i&#039;m working with motherboard hardware serial port. But it&#039;s not difficult to build one (but as I said, get a C25/C35/C45 siemens data cable, because it&#039;s already built! And if I&#039;m not wrong, nokia mbus or fbus cable works too)</p><p>Some schematics:</p><p><span class="postimg"><img src="http://www.javirodriguez.com.es/wp-content/uploads/2009/11/Datacable-schematic.png" alt="http://www.javirodriguez.com.es/wp-content/uploads/2009/11/Datacable-schematic.png"/></span><br/><span class="postimg"><img src="http://ipl.derpapst.eu/w/images/e/e7/Max3232e_rs232_to_ttl.jpg" alt="http://ipl.derpapst.eu/w/images/e/e7/Max3232e_rs232_to_ttl.jpg"/></span></p><p>As reply, I think they must be all compatible ... but I don&#039;t have one</p><p>aiayua</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168132">
				<div class="post-metadata">
					<div class="post-num">Post #694</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						25 May 2012, 02:34					</div>
				</div>
				<div class="post-content content">
					<p>thx for your reply<br/>i didnt find the max3232&nbsp; in store&nbsp; instead i bought max232CPE&nbsp; but no luck </p><p>used this schematics <a href="http://www.dd-wrt.com/wiki/index.php/Image:Max232_serial_mod_-_schematic.gif">http://www.dd-wrt.com/wiki/index.php/Image:Max232_serial_mod_-_schematic.gif</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168134">
				<div class="post-metadata">
					<div class="post-num">Post #695</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						25 May 2012, 03:31					</div>
				</div>
				<div class="post-content content">
					<p>From <a href="https://forum.openwrt.org/viewtopic.php?pid=167584#p167584">here</a></p><div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p><strong>1. Level converter</strong><br/>Computer serial port works at higher voltage than board serial port (+12v/-12v against <strong>0/+3.3v</strong>). Therefore you need a level converter (MAX3232 based). I use an old C25/C35 GSM cable and works perfect.</p></blockquote></div><p>If you realize, MAX232 is a UART-5v converter, you&#039;re in need of UART-3.3v. That&#039;s because MAX232 is not working for you. Go to a GSM store and ask for a GSM serial cable (C25/C35/C45) or buy that converter via dealextreme/ebay or something similar, because if you buy that usb-ttl, there is big chance you&#039;ll need the converter too. So if you buy the usb-ttl, ensure is usb-3.3v</p><p>Regards, aiayua</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168186">
				<div class="post-metadata">
					<div class="post-num">Post #696</div>
					<div class="post-author">pippolippi</div>
					<div class="post-datetime">
						25 May 2012, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using a max232cpe with my arv7518 and it&#039;s working (even if it shouldn&#039;t).<br/>Previously I used a siemens data cable, but when it broke I scavenged the max232 I used in a project many years ago.</p><p>@TheLastOne, instead of taking the supply from a voltage regulator like the circuit you linked to, I use the connector on the router, which has already a 3.3V supply pin.<br/>But since you mentioned that you directly connected the rs232 signals to the router it&#039;s possible that you fried it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168210">
				<div class="post-metadata">
					<div class="post-num">Post #697</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						26 May 2012, 13:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pippolippi wrote:</cite><blockquote><p>instead of taking the supply from a voltage regulator like the circuit you linked to, I use the connector on the router, which has already a 3.3V supply pin</p></blockquote></div><p>i am new to this please can you provide a schema or modify the one above </p><p> </p><div class="quotebox"><cite>pippolippi wrote:</cite><blockquote><p>since you directly connected the rs232 signals to the router it&#039;s possible that you fried it.</p></blockquote></div><p>are you sure?&nbsp; because it still working normal and i still get on the console the same non sense data i got the first time</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168234">
				<div class="post-metadata">
					<div class="post-num">Post #698</div>
					<div class="post-author">pippolippi</div>
					<div class="post-datetime">
						26 May 2012, 20:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>TheLastOne wrote:</cite><blockquote><div class="quotebox"><cite>pippolippi wrote:</cite><blockquote><p>instead of taking the supply from a voltage regulator like the circuit you linked to, I use the connector on the router, which has already a 3.3V supply pin</p></blockquote></div><p>i am new to this please can you provide a schema or modify the one above</p></blockquote></div><p>The first one posted by aiayua is good (of course you have to adapt the connector on the left to the pin out of the router).<br/>The second one is also good, but it&#039;s more confusing (which side are the ttl levels and which side the rs232 ones?)</p><div class="quotebox"><cite>TheLastOne wrote:</cite><blockquote><div class="quotebox"><cite>pippolippi wrote:</cite><blockquote><p>since you directly connected the rs232 signals to the router it&#039;s possible that you fried it.</p></blockquote></div><p>are you sure?&nbsp; because it still working normal and i still get on the console the same non sense data i got the first time</p></blockquote></div><p>Well, no, I&#039;m not sure, but it&#039;s a possibility if you get garbage.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168237">
				<div class="post-metadata">
					<div class="post-num">Post #699</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						26 May 2012, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>@pippolippi,&nbsp; aiayua&nbsp; posted a MAX3232CPE not The MAX232CPE</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168239">
				<div class="post-metadata">
					<div class="post-num">Post #700</div>
					<div class="post-author">pippolippi</div>
					<div class="post-datetime">
						26 May 2012, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>It has the same pin-out. I used 1µF capacitors (the 3232 should work with just 0.1).</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 28 of 40</div><nav><ul><li><a href="viewtopic.php%3Fid=15934&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=26.html">26</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=27.html">27</a></li><li class="pagination-current"><span>28</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=29.html">29</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=30.html">30</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=40.html">40</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>