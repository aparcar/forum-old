<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> RouterStation Pro + Broadcom BCM4318 - how install(problems)?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p149506">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">_Vetal_</div>
					<div class="post-datetime">
						24 Nov 2011, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello.</p><p>OpenWrt Backfire 10.03 already installed.</p><p>Some time ago I bought Broadcom BCM4318 wifi module, but have some problems. I try to understand that this device work or I do something <br />wrong.</p><p>What I try to do:</p><p>1) I make backup of current configuration.<br />2) I set wifi module. Turn it on. file /etc/config/wireless was empty. Command <strong>wifi-device</strong> give me &quot;<strong>-ash: wifi-device: not found</strong>&quot; message.<br />3) I try to install drivers by this manual <a href="http://wiki.openwrt.org/doc/howto/wireless.essentials">http://wiki.openwrt.org/doc/howto/wireless.essentials</a><br />I enter <br /></p><div class="codebox"><pre><code>opkg update
opkg install kmod-b43</code></pre></div><p>It wrote me something like downloading...then configurations...but console not return me control..like thinking, I can write words but it&#039;s not console. I&#039;m waiting about 2 minutes - nothing changes and then I just press Ctrl+Z and enter Reboot. <br />And after this I have a problem - while I don&#039;t take off wifi module from RouterStaion Pro I don&#039;t have internet connections and when I try to connect using Putty I get a message &quot;<strong>Network error: Connection refused</strong>&quot;. When I take off wifi module - all ok(file wireless&nbsp; still empty, file network not changed). When I set module to router - have symptoms that I wrote upper. I tried to restore configuration but nothing changed.</p><p>Sorry I&#039;m newbie in Linux-based systems.</p><p>Can I try something else?</p><p>Thank&#039;s!</p>											<p class="post-edited">(Last edited by <strong>_Vetal_</strong> on 24 Nov 2011, 21:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149512">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						24 Nov 2011, 22:03					</div>
				</div>
				<div class="post-content content">
					<p>This souns like kmod-b43 makes the rspro crash, you have to attach a serial cable to see whats going on.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149538">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">_Vetal_</div>
					<div class="post-datetime">
						25 Nov 2011, 09:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>This souns like kmod-b43 makes the rspro crash, you have to attach a serial cable to see whats going on.</p></blockquote></div><p>I must to buy additional device and connect it using serial cable?</p>											<p class="post-edited">(Last edited by <strong>_Vetal_</strong> on 25 Nov 2011, 09:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149540">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						25 Nov 2011, 10:04					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.nslu2-linux.org/wiki/HowTo/AddASerialPort">NSLU2-Linux - HowTo / AddASerialPort browse</a><br /><a href="http://buffalo.nas-central.org/index.php/Serial_port#Build_your_own_LVTTL.2FRS232_or_LVTTL.2FUSB_interface">Serial port - NAS-Central Buffalo - The Linkstation Wiki</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149561">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">_Vetal_</div>
					<div class="post-datetime">
						25 Nov 2011, 14:52					</div>
				</div>
				<div class="post-content content">
					<p>Seems not bad situation.<br />Finally I remove this package and dependency packages, set wifi module and it loaded ok. After this I sucessfuly install kmod-b43.</p><p>Now what I have:</p><p>ifconfig show me<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ifconfig
br-lan    Link encap:Ethernet  HWaddr 00:15:6D:C7:24:FE
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:2042 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2474 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:369254 (360.5 KiB)  TX bytes:1748318 (1.6 MiB)

eth0      Link encap:Ethernet  HWaddr 00:15:6D:C7:24:FD
          inet addr:109.173.64.45  Bcast:109.173.67.255  Mask:255.255.252.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:75909 errors:0 dropped:0 overruns:0 frame:0
          TX packets:52942 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:70290495 (67.0 MiB)  TX bytes:7507964 (7.1 MiB)
          Interrupt:4

eth1      Link encap:Ethernet  HWaddr 00:15:6D:C7:24:FE
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:59348 errors:0 dropped:0 overruns:0 frame:0
          TX packets:79111 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:8512332 (8.1 MiB)  TX bytes:71756164 (68.4 MiB)
          Interrupt:5

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</code></pre></div><p>network file<br /></p><div class="codebox"><pre><code>config interface loopback
        option ifname   lo
        option proto    static
        option ipaddr   127.0.0.1
        option netmask  255.0.0.0

config interface lan
        option ifname   eth1
        option type     bridge
        option proto    static
        option ipaddr   192.168.1.1
        option netmask  255.255.255.0

config interface wan
        option ifname   eth0
        option proto    dhcp

config switch
        option name     eth1
        option reset    1
        option enable_vlan 1

config switch_vlan
        option device   eth1
        option vlan     1
        option ports    &quot;0 1 2 3 4&quot;</code></pre></div><p>wireless file<br /></p><div class="codebox"><pre><code>config &#039;wifi-device&#039; &#039;wl0&#039;
        option &#039;type&#039; &#039;broadcom&#039;
        option &#039;hidden&#039; &#039;0&#039;
        option &#039;channel&#039; &#039;5&#039;
        option &#039;disabled&#039; &#039;0&#039;

config &#039;wifi-iface&#039;
        option &#039;device&#039; &#039;wl0&#039;
        option &#039;network&#039; &#039;lan&#039;
        option &#039;mode&#039; &#039;ap&#039;
        option &#039;ssid&#039; &#039;OpenWrt&#039;
        option &#039;encryption&#039; &#039;none&#039;</code></pre></div><p>but, when I make <strong>wifi</strong> I get <strong>wl0(broadcom): Interface type not supported</strong><br />If I change <strong>option &#039;type&#039; &#039;broadcom&#039;</strong> to <strong>option &#039;type&#039; &#039;mac80211</strong> the message change on almost same <strong>wl0(mac80211): Interface type not supported</strong></p><br /><br /><p>If I use LUCi and turn on wifi the internet on other LAN devices is turn off. When I turn off wifi the internet is turn on)</p>											<p class="post-edited">(Last edited by <strong>_Vetal_</strong> on 25 Nov 2011, 15:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157497">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">_Vetal_</div>
					<div class="post-datetime">
						15 Feb 2012, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>Problem solved buying the new wifi module on ATHEROS AR5213 chip for same price as problematic module.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>