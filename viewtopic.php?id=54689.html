<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unable to input anything in Serial console for WRT160NL</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p258407">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">chandandascyr07</div>
					<div class="post-datetime">
						22 Dec 2014, 11:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have connected the serial cable in my WRT160NL router. I am able to view the serial logs but the serial is not taking any input(I am pressing Enter/Ctrl+C or trying to go to failsafe mode but it is no effect).<br />Please suggest how to change the Firmware in this scenario.</p><p>Serial Logs as follows:</p><p>U-Boot 1.1.6 (Apr 14 2010 - 14:02:36)<br />DRAM:&nbsp; ar7100_ddr_initial_config(237) enter!<br />ar7100_ddr_initial_config(269) exit!<br />U-Boot 1.1.6 (Apr 14 2010 - 14:02:36)<br />AP81 (ar7100) U-boot<br />sri<br />32 MB<br />WRT160NL u-boot version: 1.0.0<br />Top of RAM usable for U-Boot at: 82000000<br />Reserving 279k for U-Boot at: 81fb8000<br />Reserving 192k for malloc() at: 81f88000<br />Reserving 44 Bytes for Board Info at: 81f87fd4<br />Reserving 36 Bytes for Global Data at: 81f87fb0<br />Reserving 128k for boot params() at: 81f67fb0<br />Stack Pointer at: 81f67f98<br />Now running in RAM - U-Boot at: 81fb8000<br />id read 0x100000ff<br />flash size 8MB, sector count = 128<br />Flash:&nbsp; 8 MB<br />*** Warning - bad CRC, using default environment<br />In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7100_enet_initialize...<br />ag7100 get ethaddr for device eth0<br />Fetching MAC Address from 0x81feb1e0<br /> --------***** Get the RTL8306SD Manufactory ID=379c *****-------<br /> Reg6: speed=0 nway=1 duplex=0<br /> Reg5: speed=0 nway=0 duplex=0<br /> Reg1: a1=7fd9 a2=30e0 a3=15ac a4=30e0 a5=0<br /> Reg1: a1=7fd9 a2=30e0 a3=15ac a4=30e0<br /> Reg1: a1=7fd9 a2=30e0 a3=15ac a4=30e0<br /> Reg1: a1=7fd9 a2=30e0 a3=15ac a4=30e0<br /> Reg1: a1=7fd9 a2=30e0 a3=15ac a4=30e0<br />eth0: 48:f8:b3:4c:73:b7<br />eth0 up<br />eth0<br />### main_loop entered: bootdelay=1<br />Hit any key to stop autoboot:&nbsp; 1  0 <br />## Booting WRT160NL ...<br />Application code length 0x00103514<br />CRC OK<br />## Booting image at bf04003c ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-3.10.49<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2014-12-10&nbsp; 19:29:20 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (gzip compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 1062071 Bytes =&nbsp; 1 MB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80060000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />kernel: org len = 1062071, new len = 1114112<br />No initrd<br />## Transferring control to Linux (at address 80060000) ...<br />## Giving linux memsize in bytes, 33554432<br />Starting kernel ...<br />OpenWrt kernel loader for AR7XXX/AR9XXX<br />Copyright (C) 2011 Gabor Juhos &lt;juhosg@openwrt.org&gt;<br />Decompressing kernel... done!<br />Starting kernel at 80060000...<br />[&nbsp; &nbsp; 0.000000] Linux version 3.10.49 (root@debian) (gcc version 4.8.3 (OpenWrt/L<br />inaro GCC 4.8-2014.04 r43483) ) #1 Thu Dec 11 00:59:07 IST 2014<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9130 rev 2<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:5.000<br />MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 <br />bytes<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pag<br />es: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=WRT160NL console=ttyS0,115200 rootfst<br />ype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 28784k/32768k available (2239k kernel code, 3984k reserve<br />d, 603k data, 228k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is Linksys WRT160NL<br />[&nbsp; &nbsp; 0.620000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.620000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.630000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.630000] TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.640000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />[&nbsp; &nbsp; 0.650000] TCP: Hash tables configured (established 512 bind 512)<br />[&nbsp; &nbsp; 0.650000] TCP: reno registered<br />[&nbsp; &nbsp; 0.660000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.660000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.670000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.690000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.700000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORIT<br />Y) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.710000] msgmni has been set to 56<br />[&nbsp; &nbsp; 0.710000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.720000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.720000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.750000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />[&nbsp; &nbsp; 0.760000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.760000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.770000] ath79-spi ath79-spi: master is unqueued, this is deprecated<br />[&nbsp; &nbsp; 0.780000] m25p80 spi0.0: found s25fl064k, expected m25p80<br />[&nbsp; &nbsp; 0.780000] m25p80 spi0.0: s25fl064k (8192 Kbytes)<br />[&nbsp; &nbsp; 0.790000] 6 wrt160nl partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.790000] Creating 6 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.800000] 0x000000000000-0x000000040000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.810000] 0x000000040000-0x000000150000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.810000] 0x000000150000-0x0000007e0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.820000] mtd: device 2 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 0.820000] 1 squashfs-split partitions found on MTD device rootfs<br />[&nbsp; &nbsp; 0.830000] 0x000000310000-0x0000007e0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.840000] 0x0000007e0000-0x0000007f0000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 0.840000] 0x0000007f0000-0x000000800000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.850000] 0x000000040000-0x0000007e0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.870000] libphy: ag71xx_mdio: probed<br />[&nbsp; &nbsp; 1.180000] Registering RTL8306SDM switch with Chip ID: 0x5988, version: 0x00<br />00<br />[&nbsp; &nbsp; 1.190000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.0:00 [uid=000083<br />06, driver=Realtek RTL8306S]<br />[&nbsp; &nbsp; 1.200000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:RMII<br />[&nbsp; &nbsp; 1.510000] ag71xx ag71xx.1: connected to PHY at ag71xx-mdio.0:04 [uid=000083<br />06, driver=Realtek RTL8306S]<br />[&nbsp; &nbsp; 1.520000] eth1: Atheros AG71xx at 0xba000000, irq 5, mode:RMII<br />[&nbsp; &nbsp; 1.530000] TCP: cubic registered<br />[&nbsp; &nbsp; 1.530000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 1.540000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 1.550000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 1.560000] Freeing unused kernel memory: 228K (80327000 - 80360000)<br />procd: Console is alive<br />procd: - watchdog -<br />procd: - preinit -<br />Press the [f] key and hit [enter] to enter failsafe mode<br />Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br />[&nbsp; &nbsp; 6.320000] eth0: link up (100Mbps/Full duplex)<br />jffs2 is ready<br />jffs2 is ready<br />[&nbsp; &nbsp; 7.950000] jffs2: notice: (304) jffs2_build_xattr_subsystem: complete buildi<br />ng xattr subsystem, 14 of xdatum (0 unchecked, 14 orphan) and 14 of xref (0 dead<br />, 14 orphan) found.<br />switching to overlay<br />[&nbsp; &nbsp; 8.000000] eth0: link down<br />procd: - early -<br />procd: - watchdog -<br />procd: - ubus -<br />procd: - init -<br />Please press Enter to activate this console.<br />procd: - init complete -<br />procd: Instance odhcpd::instance1 s in a crash loop 6 crashes, 0 seconds since l<br />ast crash</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>