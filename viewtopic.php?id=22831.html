<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ffmpeg and file not found</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p98643">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xeper</div>
					<div class="post-datetime">
						12 Dec 2009, 12:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I run kamikaze 8.09 on a nslu2. I&#039;m trying to get ffmpeg working, with no avail. I&#039;ve tried to concatenate images into a video, ffmpeg -i %02d.jpg test.mp4 but says &quot;file not found&quot;.<br />I&#039;m trying to convert video, but same error. Here&#039;s the output:</p><p># ffmpeg -i /mnt/file.mjpg test.mp4<br />FFmpeg version SVN-r12898, Copyright (c) 2000-2008 Fabrice Bellard, et al.<br />&nbsp; configuration: --enable-cross-compile --cross-prefix=armeb-linux-uclibc- --arch=armeb --prefix=/usr --enable-shared --enable-static --disable-debug --enable-ffmpeg --enable-ffserver --enable-gpl --disable-ipv6 --enable-libfaad --enable-pthreads --disable-optimizations --enable-small --disable-stripping --disable-vhook --enable-zlib --enable-postproc --disable-encoders --disable-decoders --enable-decoder=ac3 --enable-decoder=atrac3 --enable-decoder=h264 --enable-decoder=jpegls --enable-decoder=mp3 --enable-decoder=mpeg1video --enable-decoder=mpeg2video --enable-decoder=mpeg4 --enable-decoder=mpeg4aac --enable-decoder=mpegvideo --enable-decoder=png --enable-decoder=wmav1 --enable-decoder=wmav2 --enable-decoder=zlib --disable-muxers --enable-muxer=ffm --disable-demuxers --enable-demuxer=ac3 --enable-demuxer=h264 --enable-demuxer=mp3 --enable-demuxer=mpegts --enable-demuxer=mpegvideo --enable-demuxer=rtsp --enable-demuxer=sdp --disable-parsers --enable-parser=ac3 --enable-parser=h264 --enable-parser=mpegaudio --enable-parser=mpegvideo --disable-bsfs --disable-protocols --enable-protocol=rtp --enable-protocol=udp<br />&nbsp; libavutil version: 49.6.0<br />&nbsp; libavcodec version: 51.55.0<br />&nbsp; libavformat version: 52.13.0<br />&nbsp; libavdevice version: 52.0.0<br />&nbsp; built on Feb&nbsp; 3 2009 10:11:37, gcc: 4.1.2<br />/mnt/file.mjpg: no such file or directory</p><br /><p>Does anyone have this problem? I need to make video format conversion into the nslu2. It&#039;s going to be an autonomous video surveillance system, so I can&#039;t send the files to another system for conversion.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99691">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yaadgiri</div>
					<div class="post-datetime">
						2 Jan 2010, 15:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xeper wrote:</cite><blockquote><p>Hi all,</p><p>I run kamikaze 8.09 on a nslu2. I&#039;m trying to get ffmpeg working, with no avail. I&#039;ve tried to concatenate images into a video, ffmpeg -i %02d.jpg test.mp4 but says &quot;file not found&quot;.<br />I&#039;m trying to convert video, but same error. Here&#039;s the output:</p><p># ffmpeg -i /mnt/file.mjpg test.mp4<br />FFmpeg version SVN-r12898, Copyright (c) 2000-2008 Fabrice Bellard, et al.<br />&nbsp; configuration: --enable-cross-compile --cross-prefix=armeb-linux-uclibc- --arch=armeb --prefix=/usr --enable-shared --enable-static --disable-debug --enable-ffmpeg --enable-ffserver --enable-gpl --disable-ipv6 --enable-libfaad --enable-pthreads --disable-optimizations --enable-small --disable-stripping --disable-vhook --enable-zlib --enable-postproc --disable-encoders --disable-decoders --enable-decoder=ac3 --enable-decoder=atrac3 --enable-decoder=h264 --enable-decoder=jpegls --enable-decoder=mp3 --enable-decoder=mpeg1video --enable-decoder=mpeg2video --enable-decoder=mpeg4 --enable-decoder=mpeg4aac --enable-decoder=mpegvideo --enable-decoder=png --enable-decoder=wmav1 --enable-decoder=wmav2 --enable-decoder=zlib --disable-muxers --enable-muxer=ffm --disable-demuxers --enable-demuxer=ac3 --enable-demuxer=h264 --enable-demuxer=mp3 --enable-demuxer=mpegts --enable-demuxer=mpegvideo --enable-demuxer=rtsp --enable-demuxer=sdp --disable-parsers --enable-parser=ac3 --enable-parser=h264 --enable-parser=mpegaudio --enable-parser=mpegvideo --disable-bsfs --disable-protocols --enable-protocol=rtp --enable-protocol=udp<br />&nbsp; libavutil version: 49.6.0<br />&nbsp; libavcodec version: 51.55.0<br />&nbsp; libavformat version: 52.13.0<br />&nbsp; libavdevice version: 52.0.0<br />&nbsp; built on Feb&nbsp; 3 2009 10:11:37, gcc: 4.1.2<br />/mnt/file.mjpg: no such file or directory</p><br /><p>Does anyone have this problem? I need to make video format conversion into the nslu2. It&#039;s going to be an autonomous video surveillance system, so I can&#039;t send the files to another system for conversion.</p></blockquote></div><p>ffmpeg seems to pick the libraries from your /usr/local/lib which can create a problem. Not sure if it is relevant in your case but I had this issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99712">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">xeper</div>
					<div class="post-datetime">
						2 Jan 2010, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;ve just copied /usr/lib/libav* to /usr/local/lib (i had to create this directory).</p><p>unfortunately i get same results, /mnt/file.mjpg: no such file or directory</p><p><img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99719">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">yaadgiri</div>
					<div class="post-datetime">
						3 Jan 2010, 03:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xeper wrote:</cite><blockquote><p>i&#039;ve just copied /usr/lib/libav* to /usr/local/lib (i had to create this directory).</p><p>unfortunately i get same results, /mnt/file.mjpg: no such file or directory</p><p><img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>oh. Sorry to hear. I am not an expert but when I read the motion guide, I found references to /usr/local during build time which shows that the libraries from your laptop are going into the build!!! I am not sure if ffmpeg/motion is completely up to cross compile. The ffmpeg makefile has --crosscompile</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102723">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">idaniel</div>
					<div class="post-datetime">
						11 Feb 2010, 13:06					</div>
				</div>
				<div class="post-content content">
					<p>It seems that the problem is the ffmpeg included in openwrt. Same thing happend for me. You can see that ffmpeg package size is pretty small.</p><p>I installed ffmpeg from nslu distribution and that one seems to work (its size is much bigger).</p><p>If need details how to do this, please let me know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p110310">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ldolse</div>
					<div class="post-datetime">
						1 Jun 2010, 05:33					</div>
				</div>
				<div class="post-content content">
					<p>Anyone have any ideas what the problem is with the OpenWRT version of ffmpeg?&nbsp; I know to install the nslu2 version, but would rather fix the OpenWRT version to keep the reduced file-size.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111223">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ldolse</div>
					<div class="post-datetime">
						15 Jun 2010, 02:03					</div>
				</div>
				<div class="post-content content">
					<p>Made a bit of progress on this.&nbsp; There seem to be couple problems with the official packages.&nbsp; Number one is that ffmpeg doesn&#039;t seem to explicitly call libffmpeg as a dependency.&nbsp; &nbsp;Second, and perhaps more importantly the official libffmpeg package appears to be broken.&nbsp; However if you compile it from the SVN feed with it&#039;s various audio decoding functions enabled at compile time then the &#039;file not found&#039; errors go away.&nbsp; I suspect that maybe no codecs/functions are enabled in the official libffmpeg package.&nbsp; I confirmed this somewhat by forcing a reinstall of the official package over top of my functioning libffmpeg and the &#039;file not found&#039; errors came back.</p><p>Unfortunately ffmpeg still isn&#039;t really working for me - I wanted it to decode a variety of formats, in particular m4a/aac.&nbsp; Mpeg4 support is enabled at compile time, as is libfaad2, but it doesn&#039;t recognize m4a files.&nbsp; Now instead of ffmpeg -i reporting &#039;file not found&#039; it reports &#039;unknown format&#039;.&nbsp; &nbsp;If anyone has any ideas what compile time flags I might need to get m4a recognized let me know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115797">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">gsedej</div>
					<div class="post-datetime">
						24 Aug 2010, 15:45					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone successfully used ffmpeg in backfire? I still have problems with &quot;no such file...&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115800">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Zz</div>
					<div class="post-datetime">
						24 Aug 2010, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>I just have to ask, why do you have an application like ffmpeg on a router? what are you doing with it?</p><p>Also make sure /mnt/file.mjpg exists and double check its permissions.</p>											<p class="post-edited">(Last edited by <strong>Zz</strong> on 24 Aug 2010, 23:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115805">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">DkSoul</div>
					<div class="post-datetime">
						24 Aug 2010, 19:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gsedej wrote:</cite><blockquote><p>Has anyone successfully used ffmpeg in backfire? I still have problems with &quot;no such file...&quot;</p></blockquote></div><p>I have had some problems with ffmpeg on 8.09.2 when using minidlna because it was missing a few features (e.g. the FILE protocol). Have you tried to recompile ffmpeg to include your required features?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115850">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">gsedej</div>
					<div class="post-datetime">
						25 Aug 2010, 13:17					</div>
				</div>
				<div class="post-content content">
					<p>Zz: would like to open some v4l2 video device (usb frame grabber). mpeg_stramer does not work with my device (no fully standard driver), but I can open in device on my PC.<br /><a href="http://sourceforge.net/projects/easycapdc60/forums/forum/1071438/topic/3786884/index/page/1">http://sourceforge.net/projects/easycap … dex/page/1</a></p><p>DkSoul: I am using trunk. I looks like it&#039;s broken.<br />I recive error:<br /></p><div class="codebox"><pre><code>...
cp -fpR /home/gasper/Projects/backfire/build_dir/target-mipsel_uClibc-0.9.30.1/ffmpeg-0.5.2/ipkg-install/usr/bin/ffmpeg /home/gasper/Projects/backfire/build_dir/target-mipsel_uClibc-0.9.30.1/ffmpeg-0.5.2/ipkg-brcm47xx/ffmpeg/usr/bin/
cp: cannot stat `/home/gasper/Projects/backfire/build_dir/target-mipsel_uClibc-0.9.30.1/ffmpeg-0.5.2/ipkg-install/usr/bin/ffmpeg&#039;: No such file or directory
make[3]: *** [/home/gasper/Projects/backfire/bin/brcm47xx/packages/ffmpeg_0.5.2-4_brcm47xx.ipk] Error 1
...</code></pre></div><p><a href="https://dev.openwrt.org/browser/packages/multimedia/ffmpeg">https://dev.openwrt.org/browser/package … dia/ffmpeg</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115867">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">DkSoul</div>
					<div class="post-datetime">
						25 Aug 2010, 18:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gsedej wrote:</cite><blockquote><p>DkSoul: I am using trunk. I looks like it&#039;s broken.<br />I recive error:<br /></p><div class="codebox"><pre><code>...
cp -fpR /home/gasper/Projects/backfire/build_dir/target-mipsel_uClibc-0.9.30.1/ffmpeg-0.5.2/ipkg-install/usr/bin/ffmpeg /home/gasper/Projects/backfire/build_dir/target-mipsel_uClibc-0.9.30.1/ffmpeg-0.5.2/ipkg-brcm47xx/ffmpeg/usr/bin/
cp: cannot stat `/home/gasper/Projects/backfire/build_dir/target-mipsel_uClibc-0.9.30.1/ffmpeg-0.5.2/ipkg-install/usr/bin/ffmpeg&#039;: No such file or directory
make[3]: *** [/home/gasper/Projects/backfire/bin/brcm47xx/packages/ffmpeg_0.5.2-4_brcm47xx.ipk] Error 1
...</code></pre></div><p><a href="https://dev.openwrt.org/browser/packages/multimedia/ffmpeg">https://dev.openwrt.org/browser/package … dia/ffmpeg</a></p></blockquote></div><p>It compiles fine here. I used the following (from <a href="http://wiki.openwrt.org/doc/howto/build?s)">http://wiki.openwrt.org/doc/howto/build?s)</a>:<br /></p><div class="codebox"><pre><code>~$ svn co svn://svn.openwrt.org/openwrt/trunk/
~$ cd trunk/
~/trunk$ ./scripts/feeds update
~/trunk$ ./scripts/feeds install -a
~/trunk$ make menuconfig
~/trunk$ make tools/install
~/trunk$ make toolchain/install
~/trunk$ make package/ffmpeg/compile</code></pre></div><p>Please note that <em>libffmpeg</em> has more options than those shown on <strong>make menuconfig</strong>.</p>											<p class="post-edited">(Last edited by <strong>DkSoul</strong> on 25 Aug 2010, 18:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116161">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">gsedej</div>
					<div class="post-datetime">
						30 Aug 2010, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Thanks DkSoul! I was able to compile ffmpeg and libffmpeg.<br />Now I am not able to open my v4l2 camera.</p><div class="codebox"><pre><code>ffmpeg -r 5 -t 2 -s 640x480 -f video4linux2 -i /dev/video0</code></pre></div><p>it says:</p><div class="codebox"><pre><code>Unknown input or output format: video4linux2</code></pre></div><p>Any idea how to enable to open video4linux2 devices? I can&#039;t see option in menuconfig? How to enable outside it?</p><p>btw, whole output</p><div class="codebox"><pre><code>root@OpenWrt:/mnt/packages# ffmpeg -r 5 -t 2 -s 640x480 -f video4linux2 -i /dev/video0
FFmpeg version 0.5.2, Copyright (c) 2000-2009 Fabrice Bellard, et al.
  configuration: --enable-cross-compile --cross-prefix=mipsel-openwrt-linux-uclibc- --arch=mipsel --prefix=/usr --enable-shared --enable-static --disable-debug --enable-gpl --disable-libfaad --disable-mmx --disable-mmx2 --enable-pthreads --disable-optimizations --enable-small --disable-stripping --disable-vhook --enable-zlib --enable-postproc --disable-bsfs --disable-devices --disable-encoders --enable-encoder=mpeg2video --enable-encoder=mpeg4 --disable-decoders --enable-decoder=h264 --enable-decoder=mpeg4 --enable-decoder=mpeg4aac --disable-muxers --enable-muxer=ffm --enable-muxer=h264 --enable-muxer=mpeg2video --enable-muxer=mpegts --disable-demuxers --enable-demuxer=ffm --enable-demuxer=h264 --enable-demuxer=mpegps --enable-demuxer=mpegts --enable-demuxer=rm --enable-demuxer=rtsp --enable-demuxer=sdp --disable-parsers --enable-parser=h264 --enable-parser=mpegvideo --enable-parser=mpeg4video --disable-protocols --enable-protocol=file --enable-protocol=http --enable-protocol=rtp --enable-protocol=tcp --enable-protocol=udp
  libavutil     49.15. 0 / 49.15. 0
  libavcodec    52.20. 1 / 52.20. 1
  libavformat   52.31. 0 / 52.31. 0
  libavdevice   52. 1. 0 / 52. 1. 0
  libpostproc   51. 2. 0 / 51. 2. 0
  built on Aug 30 2010 14:42:25, gcc: 4.3.3
Unknown input or output format: video4linux2
root@OpenWrt:/mnt/packages#</code></pre></div><p>there is --disable-devices - this is wrong?</p><p>Gašper</p>											<p class="post-edited">(Last edited by <strong>gsedej</strong> on 30 Aug 2010, 16:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116168">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">DkSoul</div>
					<div class="post-datetime">
						30 Aug 2010, 18:17					</div>
				</div>
				<div class="post-content content">
					<p>I can only give you some generic guidelines on how to get the extra configuration options into your ffmpeg package.</p><p>After building/tried to build <em>ffmpeg</em>:<br /></p><div class="codebox"><pre><code>~/trunk$ cd build_dir/target-XXXXX_uClibc-0.9.30.1/ffmpeg-0.5.2/                      # Replace XXXXX with your architecture
~/trunk/build_dir/target-XXXXX_uClibc-0.9.30.1/ffmpeg-0.5.2$ ./configure --help       # Lists all configuration options
[...]
  --list-decoders          show all available decoders
  --list-encoders          show all available encoders
  --list-muxers            show all available muxers
  --list-demuxers          show all available demuxers
  --list-parsers           show all available parsers
  --list-protocols         show all available protocols
  --list-bsfs              show all available bitstream filters
  --list-indevs            show all available input devices
  --list-outdevs           show all available output devices
  --list-filters           show all available filters
[...]
~/trunk/build_dir/target-XXXXX_uClibc-0.9.30.1/ffmpeg-0.5.2$ ./configure --list-YYYYY # Lists all available YYYYY
~/trunk/build_dir/target-XXXXX_uClibc-0.9.30.1/ffmpeg-0.5.2$ cd ../../../package/feeds/packages/ffmpeg/
~/trunk/package/feeds/packages/ffmpeg$ vi Makefile                                    # Search for the &quot;define Build/Configure&quot; section and make the necessary changes
~/trunk/package/feeds/packages/ffmpeg$ cd ../../../../
~/trunk$ make package/ffmpeg/compile</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116209">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">gsedej</div>
					<div class="post-datetime">
						31 Aug 2010, 14:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi, DkSoul</p><p>Thanks for very helpful post. I was able to compile ffmpeg. However I was not able to make it work right.</p><p>When I open web camera it says this and freezes:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ffmpeg -r 25 -s 640x480 -f video4linux2 -i /dev/video0 http://localhost:8090/feed1.ffmffmpeg -r 25 -s 640x480 -f video4linux2 -i /d
ev/video0 http://localhost:8090/feed1.ffm
FFmpeg version 0.5.2, Copyright (c) 2000-2009 Fabrice Bellard, et al.
  configuration: --enable-cross-compile --cross-prefix=mipsel-openwrt-linux-uclibc- --arch=mipsel --prefix=/usr --enable-shared --enable-static --disable-debug --enable-gpl --disable-libfaad --disable-mmx --disable-mmx2 --enable-pthreads --disable-optimizations --enable-small --disable-stripping --disable-vhook --enable-zlib --enable-postproc --disable-bsfs --disable-encoders --enable-encoder=ac3 --enable-encoder=mpeg2video --enable-encoder=mpeg4 --enable-encoder=png --enable-encoder=vorbis --enable-encoder=zlib --disable-decoders --enable-decoder=ac3 --enable-decoder=atrac3 --enable-decoder=h264 --enable-decoder=jpegls --enable-decoder=mp3 --enable-decoder=mpeg1video --enable-decoder=mpeg2video --enable-decoder=mpeg4 --enable-decoder=mpeg4aac --enable-decoder=mpegvideo --enable-decoder=png --enable-decoder=vorbis --enable-decoder=wmav1 --enable-decoder=wmav2 --enable-decoder=zlib --disable-muxers --enable-muxer=ffm --enable-muxer=h264 --enable-muxer=mp3 --enable-muxer=mp4 --enable-muxer=mpeg2video --enable-muxer=mpegts --enable-muxer=ogg --disable-demuxers --enable-demuxer=ac3 --enable-demuxer=ffm --enable-demuxer=h264 --enable-demuxer=mp3 --enable-demuxer=mpegps --enable-demuxer=mpegts --enable-demuxer=mpegvideo --enable-demuxer=ogg --enable-demuxer=rm --enable-demuxer=rtsp --enable-demuxer=sdp --disable-parsers --enable-parser=aac --enable-parser=ac3 --enable-parser=h264 --enable-parser=mpegvideo --enable-parser=mpeg4video --disable-protocols --enable-protocol=file --enable-protocol=http --enable-protocol=pipe --enable-protocol=rtp --enable-protocol=tcp --enable-protocol=udp
  libavutil     49.15. 0 / 49.15. 0
  libavcodec    52.20. 1 / 52.20. 1
  libavformat   52.31. 0 / 52.31. 0
  libavdevice   52. 1. 0 / 52. 1. 0
  libpostproc   51. 2. 0 / 51. 2. 0
  built on Aug 31 2010 11:29:05, gcc: 4.3.3
[video4linux2 @ 0x42d430][3]Capabilities: 4000001</code></pre></div><p>I was not able to get dmesg. I tested on two cameras. </p><p>However my goal is to use EasyCap dc60 framegrabber on it with some assigned driver.<br />I am able to open device but there it looks like problem with codecs.</p><div class="codebox"><pre><code>root@OpenWrt:~# ffmpeg -r 25 -s 640x480 -f video4linux2 -i /dev/easycap0 http://localhost:8090/feed1.ffm
FFmpeg version 0.5.2, Copyright (c) 2000-2009 Fabrice Bellard, et al.
  configuration: --enable-cross-compile --cross-prefix=mipsel-openwrt-linux-uclibc- --arch=mipsel --prefix=/usr --enable-shared --enable-static --disable-debug --enable-gpl --disable-libfaad --disable-mmx --disable-mmx2 --enable-pthreads --disable-optimizations --enable-small --disable-stripping --disable-vhook --enable-zlib --enable-postproc --disable-bsfs --disable-encoders --enable-encoder=ac3 --enable-encoder=mpeg2video --enable-encoder=mpeg4 --enable-encoder=png --enable-encoder=vorbis --enable-encoder=zlib --disable-decoders --enable-decoder=ac3 --enable-decoder=atrac3 --enable-decoder=h264 --enable-decoder=jpegls --enable-decoder=mp3 --enable-decoder=mpeg1video --enable-decoder=mpeg2video --enable-decoder=mpeg4 --enable-decoder=mpeg4aac --enable-decoder=mpegvideo --enable-decoder=png --enable-decoder=vorbis --enable-decoder=wmav1 --enable-decoder=wmav2 --enable-decoder=zlib --disable-muxers --enable-muxer=ffm --enable-muxer=h264 --enable-muxer=mp3 --enable-muxer=mp4 --enable-muxer=mpeg2video --enable-muxer=mpegts --enable-muxer=ogg --disable-demuxers --enable-demuxer=ac3 --enable-demuxer=ffm --enable-demuxer=h264 --enable-demuxer=mp3 --enable-demuxer=mpegps --enable-demuxer=mpegts --enable-demuxer=mpegvideo --enable-demuxer=ogg --enable-demuxer=rm --enable-demuxer=rtsp --enable-demuxer=sdp --disable-parsers --enable-parser=aac --enable-parser=ac3 --enable-parser=h264 --enable-parser=mpegvideo --enable-parser=mpeg4video --disable-protocols --enable-protocol=file --enable-protocol=http --enable-protocol=pipe --enable-protocol=rtp --enable-protocol=tcp --enable-protocol=udp
  libavutil     49.15. 0 / 49.15. 0
  libavcodec    52.20. 1 / 52.20. 1
  libavformat   52.31. 0 / 52.31. 0
  libavdevice   52. 1. 0 / 52. 1. 0
  libpostproc   51. 2. 0 / 51. 2. 0
  built on Aug 31 2010 11:29:05, gcc: 4.3.3
[video4linux2 @ 0x42d430][3]Capabilities: 5020001
Input #0, video4linux2, from &#039;/dev/easycap0&#039;:
  Duration: N/A, start: 1283254106.450023, bitrate: 122880 kb/s
    Stream #0.0: Video: YUY2 / 0x32595559, yuyv422, 640x480, 122880 kb/s, 25 tbr, 1000k tbn, 25 tbc
[imgconvert @ 0x431f70]PIX_FMT_YUV420P will be used as an intermediate format for rescaling
Output #0, ffm, to &#039;http://localhost:8090/feed1.ffm&#039;:
    Stream #0.0: Video: mpeg4, yuv420p, 352x288, q=1-5, 200 kb/s, 1000k tbn, 15 tbc
Stream mapping:
  Stream #0.0 -&gt; #0.0
Unsupported codec (id=14) for input stream #0.0
ioctl(VIDIOC_QBUF)</code></pre></div><p>and here is dmesg. I looks like framegraber opens correctly.</p><div class="codebox"><pre><code>easycap: easycap_open: ==========OPEN=========
easycap: easycap_open: starting initialization
easycap: adjust_standard: user requests standard: PAL_BGHIN
easycap: adjust_format: sought:    640x480,UYVY(0x59565955),1=field,0x00=std mask
easycap: adjust_format: actioning: 640x480 PAL_BGHIN_AT_640x480_FMT_UYVY-n
easycap: adjust_brightness: adjusting brightness to  0x7F
easycap: adjust_contrast: adjusting contrast to  0x3F
easycap: adjust_saturation: adjusting saturation to  0x2F
easycap: adjust_hue: adjusting hue to  0x00
easycap: easycap_open: finished initialization
easycap: adjust_format: sought:    640x480,YU12(0x32315559),4=field,0x00=std mask
easycap: adjust_format: cannot do: 640x480 with standard mask 0x00
easycap: adjust_format: cannot do 640x... with standard mask 0x00
easycap: adjust_format: cannot do ...x480 with standard mask 0x00
easycap: adjust_format:            640x480 unmatched 
easycap: adjust_format: sought:    640x480,422P(0x50323234),4=field,0x00=std mask
easycap: adjust_format: cannot do: 640x480 with standard mask 0x00
easycap: adjust_format: cannot do 640x... with standard mask 0x00
easycap: adjust_format: cannot do ...x480 with standard mask 0x00
easycap: adjust_format:            640x480 unmatched 
easycap: adjust_format: sought:    640x480,YUYV(0x56595559),4=field,0x00=std mask
easycap: adjust_format: actioning: 640x480 PAL_BGHIN_AT_640x480_FMT_YUY2-i
easycap: easycap_ioctl: user requests input 0
easycap: easycap_ioctl: requested input already in effect
easycap: submit_video_urbs: submission of all video urbs
easycap: submit_video_urbs: ERROR: not ready to capture after waiting one second
easycap: submit_video_urbs: .....  continuing anyway
easycap: submit_video_urbs: submitted 16 video urbs
easycap: easycap_release: 
easycap: kill_video_urbs: killing video urbs
easycap: kill_video_urbs: 16 video urbs killed
easycap: easycap_release: ending successfully</code></pre></div><p>and here is my ffsever.conf<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/ffserver.conf
Port 8090 
# bind to all IPs aliased or not 
BindAddress 0.0.0.0 
# max number of simultaneous clients 
MaxClients 1000 
# max bandwidth per-client (kb/s) 
MaxBandwidth 10000 s
# Suppress that if you want to launch ffserver as a daemon. 
NoDaemon 

&lt;Feed feed1.ffm&gt; 
File /tmp/feed1.ffm 
FileMaxSize 5M 
&lt;/Feed&gt; 

# mpeg
&lt;Stream test.mpg&gt; 
# the source feed 
Feed feed1.ffm 
# the output stream format - FLV = FLash Video 
Format mpegts
VideoCodec mpeg4
# this must match the ffmpeg -r argument 
VideoFrameRate 15 
# generally leave this is a large number 
VideoBufferSize 80000 
# another quality tweak 
VideoBitRate 200 
# quality ranges - 1-31 (1 = best, 31 = worst) 
VideoQMin 1 
VideoQMax 5 
VideoSize 640x480
# this sets how many seconds in past to start 
PreRoll 0 
# wecams don&#039;t have audio 
Noaudio 
&lt;/Stream&gt;</code></pre></div><p>Did I choose correct codec? Which is &quot;good&quot; for &quot;slow&quot; router CPU?&nbsp; (fast encoder)<br />Thanks</p><p>BTW: here is thread on EasyCap driver forum: <a href="https://sourceforge.net/projects/easycapdc60/forums/forum/1071438/topic/3786884/index/page/1">https://sourceforge.net/projects/easyca … dex/page/1</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116225">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">DkSoul</div>
					<div class="post-datetime">
						31 Aug 2010, 23:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gsedej wrote:</cite><blockquote><div class="codebox"><pre><code>Unsupported codec (id=14) for input stream #0.0</code></pre></div></blockquote></div><p>From <strong>ffmpeg-0.5.2/libavcodec/avcodec.h</strong>, it seems that the coded with id=14 is <em>CODEC_ID_RAWVIDEO</em>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116311">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">gsedej</div>
					<div class="post-datetime">
						2 Sep 2010, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi again</p><p>I comiled ffmpeg again (and again...) so it includes as much as possible. I become really big, so I installed on external USB stick.<br />It still says can&#039;t find codec.</p><p>Was someone able to use Webcam with ffmpeg on openWRT?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130134">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						7 Mar 2011, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>Trying to capture from a UVC web cam connected via USB.</p><p>Coming to the same result as you, gsedej.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142019">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">colchaodemola</div>
					<div class="post-datetime">
						24 Aug 2011, 14:23					</div>
				</div>
				<div class="post-content content">
					<p>actually i am trying to capture from my external ip camera, the problem is ffmpeg has filters disabled.<br />I tried to enabled them but i get segmentation fault. So i have no idea how to fix your problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143188">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">philchetcuti</div>
					<div class="post-datetime">
						9 Sep 2011, 10:36					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been working on ffmpeg as well. I&#039;m not even trying to get as fancy as you guys, just want to convert a file.<br />After compiling with --enable-filters&nbsp; and --enable-avfilter I was able to get ffmpeg at least running.<br />And now I&#039;m also staring at the &quot;segmentation fault&quot; as well.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>