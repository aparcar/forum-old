<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Broadcom BCM63xx codebase with GPL&#039;d Ethernet and USB support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 6 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=5.html">5</a></li><li class="pagination-current"><span>6</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=8.html">8</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p77493">
				<div class="post-metadata">
					<div class="post-num">Post #126</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						3 Dec 2008, 10:24					</div>
				</div>
				<div class="post-content content">
					<p>@misteroX,<br />no open BCM drivers for ADSL, i think this is the only at this moment that we can&#039;t make run over bcm963xx boards. All other thinks seems +/- run.</p><p>salut</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 3 Dec 2008, 10:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77587">
				<div class="post-metadata">
					<div class="post-num">Post #127</div>
					<div class="post-author">djdok</div>
					<div class="post-datetime">
						4 Dec 2008, 13:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody,<br />i&#039;ve got either an USR9108 rotuer or a DG834GT and i&#039;d like to install openwrt on both. <br />The problem is that this is the first time i try to do things like these and i&#039;d like to know which are the steps i must follow to install openwrt on those routers.</p><p>Any advice is appreciate and i&#039;m sorry if this looks like a n00b post.</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77626">
				<div class="post-metadata">
					<div class="post-num">Post #128</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						5 Dec 2008, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>@djdok,<br />To install openwrt at this moment you must have serial console acces to router.<br />When router boots, CFE loader can be breack. You can use &quot;help&quot; command to see a list of availables commands.<br />You can use something similar to this &quot;flashimage 192.168.1.100:firmware.bin&quot; to upload firmware.<br />If firmware update goes wrong you must have a JTAG interface to debrick device.</p><p>Consider, at this moment of developement, if you don&#039;t have or can have a&nbsp; JTAG interface i recommend don&#039;t change firmware.</p><p>Also DSL is not working.</p><p>salut</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77632">
				<div class="post-metadata">
					<div class="post-num">Post #129</div>
					<div class="post-author">djdok</div>
					<div class="post-datetime">
						5 Dec 2008, 14:04					</div>
				</div>
				<div class="post-content content">
					<p>@ t3l3m4k0</p><p>Ok thx for the infos, but i have some questions:<br />1) to build the &quot;firmware.bin&quot; have to build the 13370?<br />2) once i can flash the firmware, according to you, will be it possible to install amule on the routers and make them p2p stations?<br />3) i have another router hamlet hrdsl512w but i haven&#039;t found any information on internet about it, how can i get those sys infos?</p><p>Thx for your patience<br />Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77638">
				<div class="post-metadata">
					<div class="post-num">Post #130</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						5 Dec 2008, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi djdok,<br />for my DG834GT I used trunk 13370 and router up and runnig without error but adsl did not work.<br /><span style="color: #FF0000"><strong>Last trunk did&nbsp; not work.</strong> </span> <br />See above post from t3l3m4k0.</p><p>To compile trunk 13370 I added this rows into file target/linux/brcm63xx/image/Makefile<br /></p><div class="quotebox"><blockquote><p># DG834GT<br />&nbsp; &nbsp; &nbsp; &nbsp; $(call Image/Build/CFE,$(1),96348GW-10,6348)</p></blockquote></div><p>and this rows into file build_dir/linux-brcm63xx/linux-2.6.27.7/arch/mips/bcm63xx/boards/board_bcm963xx.c<br /></p><div class="quotebox"><blockquote><p>static struct board_info __initdata board_96348gw_10 = {<br />&nbsp; &nbsp; &nbsp; &nbsp; .name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &quot;96348GW-10&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; .expected_cpu_id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x6348,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; .has_enet0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; .has_enet1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; .has_pci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; .enet0 = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .has_phy&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .use_internal_phy&nbsp; &nbsp; &nbsp; &nbsp;= 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; },</p><p>&nbsp; &nbsp; &nbsp; &nbsp; .enet1 = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .force_speed_100&nbsp; &nbsp; &nbsp; &nbsp; = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .force_duplex_full&nbsp; &nbsp; &nbsp; = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; },</p><br /><p>&nbsp; &nbsp; &nbsp; &nbsp; .has_ohci0 = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; .has_pccard = 1,<br />&nbsp; &nbsp; &nbsp; &nbsp; .has_ehci0 = 1,<br />};</p><br /><p>/*<br />* all boards<br />*/<br />static const struct board_info __initdata *bcm963xx_boards[] = {<br />#ifdef CONFIG_BCM63XX_CPU_6348<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &amp;board_96348gw_10,<br />&nbsp; &nbsp; &nbsp; &nbsp; ,<br />#endif</p></blockquote></div><p>*****<br />For developers,<br />Can you add the rows for DG834GT in the last trunk ?</p><p>Bye <br />MisteroX</p>											<p class="post-edited">(Last edited by <strong>misteroX</strong> on 5 Dec 2008, 17:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77651">
				<div class="post-metadata">
					<div class="post-num">Post #131</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						5 Dec 2008, 22:19					</div>
				</div>
				<div class="post-content content">
					<p>@misteroX,<br />you can submit patch/changeset to <a href="https://dev.openwrt.org/newticket">https://dev.openwrt.org/newticket</a><br />and Florian (thx), sure will submit to trunk.<br />@ djdok,<br />1.-MisteroX maked a good mini howto for you.<br />2.-I believe torrent is best than amule. 16MB maybe not enought ram, try mounting a swap partition. You can try p2p and say if it works. <br />3.-You can open router an see what kind of CPU holds.</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 5 Dec 2008, 22:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77706">
				<div class="post-metadata">
					<div class="post-num">Post #132</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						7 Dec 2008, 06:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Here&#039;s a quick workaround for the partition size / readonly issue:<br /><a href="http://dev.luci.freifunk-halle.net/brcm63xx-fixup-mastersize.patch">http://dev.luci.freifunk-halle.net/brcm … size.patch</a></p><p>It fixed the problem here, your mileage may vary.</p><p>~ JoW</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77713">
				<div class="post-metadata">
					<div class="post-num">Post #133</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						7 Dec 2008, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>@tel3m4k0<br />Ok, I will write a ticket.</p><p>@jow<br />For my dg834gt I used the trunk 13537 with your patch and router up and runnig without error.</p><p>Bye<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77731">
				<div class="post-metadata">
					<div class="post-num">Post #134</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						7 Dec 2008, 21:46					</div>
				</div>
				<div class="post-content content">
					<p>@jow<br />your patch, for me,&nbsp; works with rootfs_data partition but not all clean it does, nvram partition has bad boundaries (see yours dmesg).<br />for me works better the change of by-one:</p><p>&nbsp; &nbsp;r-&gt;end</p><p>by</p><p>&nbsp; &nbsp;r-&gt;end + 1</p><p>in&nbsp; &nbsp; &nbsp;/bcm963xx-flash.c</p><p>i tried several days to identify why it works on early revisions and now no works, and why? we must have to do the described changes. I not detected why.</p><p>Salut</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77736">
				<div class="post-metadata">
					<div class="post-num">Post #135</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						7 Dec 2008, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>Fixed with [13540], thanks guys !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77784">
				<div class="post-metadata">
					<div class="post-num">Post #136</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						9 Dec 2008, 00:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>florian_ wrote:</cite><blockquote><p>Fixed with [13540], thanks guys !</p></blockquote></div><p>Hi florian,</p><p>I used trunk ver 13544 without jow&#039;s patch and router is unable to write anything on the flash. <br />I&#039;ve to apply it to make it work correctly.</p><p>Can you modify file bcm963xx-flash.c to make my router work correctly ?</p><p>if necessary I will open a ticket</p><p>Thanks<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77879">
				<div class="post-metadata">
					<div class="post-num">Post #137</div>
					<div class="post-author">sblanco</div>
					<div class="post-datetime">
						10 Dec 2008, 14:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>misteroX wrote:</cite><blockquote><div class="quotebox"><cite>florian_ wrote:</cite><blockquote><p>Fixed with [13540], thanks guys !</p></blockquote></div><p>Hi florian,</p><p>I used trunk ver 13544 without jow&#039;s patch and router is unable to write anything on the flash. <br />I&#039;ve to apply it to make it work correctly.</p><p>Can you modify file bcm963xx-flash.c to make my router work correctly ?</p><p>if necessary I will open a ticket</p><p>Thanks<br />MisteroX</p></blockquote></div><p>Last time I flashed my router it worked well, but I couldn&#039;t flash it with the trunk from yesterday 9/12 with a CRC error at CFE console.</p><p>I guess it&#039;s the same problem that some of you are having, isn&#039;t it?</p><p>I have to submit also a ticket for my board to get support (board name &quot;F@ST2404&quot;).</p><p>Greetings!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77914">
				<div class="post-metadata">
					<div class="post-num">Post #138</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						11 Dec 2008, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>MisteroX please show me a bootlog of your device, the changeset definitively fixes the computation of partition on all boards that I have tested (4MB and 8MB flash).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77927">
				<div class="post-metadata">
					<div class="post-num">Post #139</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						11 Dec 2008, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>@ misteroX, after 13551, all works fine for me (mtd partitions mounted ok).</p><p>@ sblanco, i think you must recompile and send again firmware. Origin of CRC error may be from corrupted file (firmware)</p><p>greetings</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77929">
				<div class="post-metadata">
					<div class="post-num">Post #140</div>
					<div class="post-author">sblanco</div>
					<div class="post-datetime">
						11 Dec 2008, 12:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>@ sblanco, i think you must recompile and send again firmware. Origin of CRC error may be from corrupted file (firmware)</p><p>greetings</p></blockquote></div><p>I did compile several times with always the same result. I have started to troobleshoot downgrading to earlier revisions from the trunk.</p><p>Any other firmware installs out of the box, with no CRC complaint, as some weeks ago did.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77933">
				<div class="post-metadata">
					<div class="post-num">Post #141</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						11 Dec 2008, 13:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>@ misteroX, after 13551, all works fine for me (mtd partitions mounted ok).</p><p>@ sblanco, i think you must recompile and send again firmware. Origin of CRC error may be from corrupted file (firmware)</p><p>greetings</p></blockquote></div><p>Hi t3l3m4k0,<br />for my router trunk 13544 doesn&#039;t work. <br />It works only with jow&#039;s patch<br />I will test the last trunk to see if it works without patch.</p><p>At the same time I have sent dmesg to Florian</p><p>Bye<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77940">
				<div class="post-metadata">
					<div class="post-num">Post #142</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						11 Dec 2008, 15:15					</div>
				</div>
				<div class="post-content content">
					<p>@misteroX, still thereis a bug (by-one) in 13544, you must use at least 13551, as i sayed before.<br />@sblanco, your problem is strange, CRC is calculated by image tools and there is no version change at last revisions</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 11 Dec 2008, 15:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77948">
				<div class="post-metadata">
					<div class="post-num">Post #143</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						11 Dec 2008, 17:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>@misteroX, still thereis a bug (by-one) in 13544, you must use at least 13551, as i sayed before.</p></blockquote></div><p>OK,&nbsp; I will try trunk 13551 this evening.</p><p>Thanks<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77966">
				<div class="post-metadata">
					<div class="post-num">Post #144</div>
					<div class="post-author">sblanco</div>
					<div class="post-datetime">
						11 Dec 2008, 23:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>@misteroX, still thereis a bug (by-one) in 13544, you must use at least 13551, as i sayed before.<br />@sblanco, your problem is strange, CRC is calculated by image tools and there is no version change at last revisions</p></blockquote></div><p>Sorry, I was so stupid, I don&#039;t know why I changed and tried to flash with f command instead of flashimage.</p><p>I could compile (not last trunk as it was unbuildable), now I&#039;m fighting with wireless to get it working. I get this output, firmware gets loaded, but doesn&#039;t work properly (see message last line).</p><div class="codebox"><pre><code>root@OpenWrt:/# ifconfig wlan0 192.168.2.1
firmware: requesting b43/ucode5.fw
firmware: requesting b43/pcm5.fw
firmware: requesting b43/b0g0initvals5.fw
firmware: requesting b43/b0g0bsinitvals5.fw
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
ifconfig: SIOCSIFFLAGS: Cannot assign requested address</code></pre></div><p>Bye!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77967">
				<div class="post-metadata">
					<div class="post-num">Post #145</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						12 Dec 2008, 00:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,<br />I used&nbsp; trunk 13595 and router (DG834GT) up and runnig without error.</p><p>Bye<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78031">
				<div class="post-metadata">
					<div class="post-num">Post #146</div>
					<div class="post-author">snipers</div>
					<div class="post-datetime">
						13 Dec 2008, 15:59					</div>
				</div>
				<div class="post-content content">
					<p><strong>misteroX</strong></p><p>kamikaze work on DG834GT ? </p><p>send to me a flash to write</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78036">
				<div class="post-metadata">
					<div class="post-num">Post #147</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						13 Dec 2008, 18:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>snipers wrote:</cite><blockquote><p><strong>misteroX</strong></p><p>kamikaze work on DG834GT ? </p><p>send to me a flash to write</p></blockquote></div><p>Yes, kamikaze works (trunk13595). <br />Only ADSL Doesn&#039;t work but for this view post #126 of t3l3m4k0.</p><p>I&#039;ll send you a pm with a link where you can download the openwrt-96348gw-10-squashfs-cfe_13595. bin for DG834GT</p><p>Bye <br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78073">
				<div class="post-metadata">
					<div class="post-num">Post #148</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						14 Dec 2008, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>For people who have a bcm4318 soldered directly on the PCB, B43 will fail loading the SPROM contents, so we have to fake them. I am cooking up patch that defines sane variables in the board setup code. Later on, when ssb loads, it fallbacks to the faked eeprom.</p><p>As a temporary fix, you can use this patch :</p><div class="codebox"><pre><code>--- a/drivers/ssb/pci.c 2008-11-21 00:02:37.000000000 +0100
+++ b/drivers/ssb/pci.c 2008-12-03 22:49:17.000000000 +0100
@@ -26,6 +26,18 @@
 /* Define the following to 1 to enable a printk on each coreswitch. */
 #define SSB_VERBOSE_PCICORESWITCH_DEBUG                0

+const u16 wl_srom_map_4318[64] = {
+/* 000 */ 0x2001, 0x0000, 0x0449, 0x14e4, 0x4318, 0x8000, 0x0002, 0x0000,
+/* 008 */ 0x1000, 0x1800, 0x0000, 0x0000, 0xffff, 0xffff, 0xffff, 0xffff,
+/* 016 */ 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff,
+/* 024 */ 0xffff, 0xffff, 0xffff, 0xffff, 0x0000, 0xffff, 0xffff, 0xffff,
+/* 032 */ 0xffff, 0xffff, 0xffff, 0xffff, 0x0003, 0xc992, 0x2b5d, 0xffff,
+/* 040 */ 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0x3017, 0x15ae,
+/* 048 */ 0xfa85, 0xfe8d, 0xffff, 0xffff, 0x004c, 0xffff, 0xffff, 0xffff,
+/* 056 */ 0x003e, 0x2848, 0xff02, 0x4652, 0x0010, 0xffff, 0xffff, 0x2602
+};
+
+

 /* Lowlevel coreswitching */
 int ssb_pci_switch_coreidx(struct ssb_bus *bus, u8 coreidx)
@@ -327,6 +339,8 @@ static void sprom_extract_r123(struct ss
        s8 gain;
        u16 loc[3];

+printk(&quot;revision %d \n&quot;,out-&gt;revision);
+
        if (out-&gt;revision == 3) {                       /* rev 3 moved MAC */
                loc[0] = SSB_SPROM3_IL0MAC;
                loc[1] = SSB_SPROM3_ET0MAC;
@@ -492,8 +506,12 @@ static int sprom_extract(struct ssb_bus
        return 0;
 unsupported:
        ssb_printk(KERN_WARNING PFX &quot;Unsupported SPROM revision %d &quot;
+               &quot;detected. Will extract v1 using static SPROM\n&quot;, out-&gt;revision);
+       sprom_extract_r123(out, wl_srom_map_4318);
+/*
                   &quot;detected. Will extract v1\n&quot;, out-&gt;revision);
        sprom_extract_r123(out, in);
+*/
        return 0;
 }</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78120">
				<div class="post-metadata">
					<div class="post-num">Post #149</div>
					<div class="post-author">fw_crocodile</div>
					<div class="post-datetime">
						15 Dec 2008, 11:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>i&#039;m trying to build an image for an Alice Gate Voip 2 Plus (BCM6358KFBG).<br />I can get a working kernel patching the board_bcm63xx.c file, but i have to compress it with cmplzma (from broadcom) <br />or to leave it in elf format otherwise CFE will complain about the format.</p><p>Naturally the kernel complain about no root partition as i just load the kernel from tftp and there is no root on the flash.</p><p>Now i&#039;m trying to build a complete image but when i use flashimage CFE complain about wrong tag, any idea of what could try?</p><p>I&#039;ve hadded in the taget/linux/brcm63xx/image/Makefile&nbsp; $(call Image/Build/CFE,$(1),AGPF-S0,6358).</p><div class="codebox"><pre><code>Loading 192.168.1.100:openwrt-AGPF-S0-squashfs-cfe.bin ...
Finished loading 2228228 bytes
SGP  tagVersion : 6
image tag unknown 80800000
*** command status = -1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78129">
				<div class="post-metadata">
					<div class="post-num">Post #150</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						15 Dec 2008, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi fw_crocodile,</p><p>Did you modify the file board_bcm963xx.c with the data of your board ?<br />For example see my post #130&nbsp; but this is only for DG834GT.</p><br /><p>Bye <br />MisteroX</p>											<p class="post-edited">(Last edited by <strong>misteroX</strong> on 15 Dec 2008, 12:57)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 6 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=5.html">5</a></li><li class="pagination-current"><span>6</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=8.html">8</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>