<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Printing to network printer from OpenWRT. How?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p303947">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ujin</div>
					<div class="post-datetime">
						17 Dec 2015, 10:32					</div>
				</div>
				<div class="post-content content">
					<p>I have network printer. It&#039;s HP LaserJet 1020 which is connected to ASUS WL500W router which is act as p910nd server for printer. This ASUS router also load printer&#039;s firmware to printer on printer start. So it&#039;s network printer and various network clients can print to it without problems.</p><p>Now I have also OpenWRT box in this network. It&#039;s Geode box (something similar to Alix) with OpenWRT 14.07 x86. And I want to be able to print from it to my network printer.</p><p>So far i&#039;ve installed cups and cups-client on OpenWRT box, added AppSocket/HP JetDirect socket://printeripaddress:9100 Make:Raw Model: Raw Quene (en) printer and set it as servers default in webgui of CUPS.</p><p>When i try to print from OpenWRT cli with &quot; lp /etc/config/network &quot; I see that:<br />1. Job is completed in CUPS webgi<br />2. OpenWRT box log show it&#039;s it:<br /></p><div class="codebox"><pre><code>lpr.info cupsd[1846]: REQUEST localhost - - &quot;POST /printers/SA HTTP/1.1&quot; 200 271 Create-Job successful-ok
lpr.info cupsd[1846]: REQUEST localhost - - &quot;POST /printers/SA HTTP/1.1&quot; 200 686 Send-Document successful-ok
lpr.info cupsd[1846]: SA root 14 [17/Dec/2015:13:28:46 +0500] 1 1 - localhost network - -</code></pre></div><p>3. Printserver logs show that indeed something was tring to be printed:<br /></p><div class="codebox"><pre><code>p9100d[303]: Connection from ::ffff:192.168.88.88 port 50638 accepted
p9100d[303]: Finished job: 432/432 bytes sent to printer</code></pre></div><p>4. Printer print nothing</p><p>Looks like i missing something on OpenWRT side. But what?<br />What ipks I need to install, what configs i need to edit and what commands to use to make it?</p>											<p class="post-edited">(Last edited by <strong>ujin</strong> on 17 Dec 2015, 12:14)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>