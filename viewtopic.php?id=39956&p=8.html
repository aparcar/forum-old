<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ar9331&#039;s usb stability issue - [SOLVED]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 23 Mar 2017 and 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 8 of 13</div><nav><ul><li><a href="viewtopic.php%3Fid=39956&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=6.html">6</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=7.html">7</a></li><li class="pagination-current"><span>8</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=10.html">10</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=13.html">13</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p210364">
				<div class="post-metadata">
					<div class="post-num">Post #176</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						21 Aug 2013, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>the only solution so far is to use a different SoC.&nbsp; the 5350 is currently my favorite.&nbsp; Both USB 1.1 and USB 2.0 works perfectly on them.&nbsp; I really like the poray routers.&nbsp; Take a look at the M4.&nbsp; Runs OpenWrt like a dream has 8M flash and 32M RAM with a mips architecture running at 360 Mhz.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210366">
				<div class="post-metadata">
					<div class="post-num">Post #177</div>
					<div class="post-author">peteruithoven</div>
					<div class="post-datetime">
						21 Aug 2013, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>Only problem is that I have around 600 TP-link MR3020 routers already <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>I asked around and got two tips that I will try out. </p><p>Disconnecting the +5V in the usb cable. </p><p>Changing two 0 ohm resistors on the usb A and B line from 0 ohm to 33 ohm and soldering two 4pF capacitors on the A and B line to ground on the chip.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210373">
				<div class="post-metadata">
					<div class="post-num">Post #178</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						22 Aug 2013, 00:46					</div>
				</div>
				<div class="post-content content">
					<p>Did I get that right, you want to do this mod 600 times? %-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210409">
				<div class="post-metadata">
					<div class="post-num">Post #179</div>
					<div class="post-author">peteruithoven</div>
					<div class="post-datetime">
						22 Aug 2013, 12:07					</div>
				</div>
				<div class="post-content content">
					<p>God no <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> But solving the problem usually gives more insight into the problem. And maybe that brings us an easier solution. <br />And for the people that work with a few boxes adding some components on the chip might be easier than adding a usb hub internally. </p><p>Cutting the vcc (5+) line of the usb cable has the effect that it can&#039;t open the serial port at all.</p>											<p class="post-edited">(Last edited by <strong>peteruithoven</strong> on 22 Aug 2013, 12:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219989">
				<div class="post-metadata">
					<div class="post-num">Post #180</div>
					<div class="post-author">pepe2k</div>
					<div class="post-datetime">
						14 Dec 2013, 17:20					</div>
				</div>
				<div class="post-content content">
					<p>Ttake a look at this commit in 8devices Carambola2 repository:<br /><a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a></p><p>It seems that it solves problems with USB 1.1 devices connected to AR9331 USB host:</p><p>&quot;When wifi radio is reset, some bits in (undocumented) USB registers may flip. Patch adds setting them after radio reset (channel change, up/down). With this patch stability of USB1.1 full-speed devices, connected directly to AR9331 host port (no USB2.0 hub) is improved.&quot;</p>											<p class="post-edited">(Last edited by <strong>pepe2k</strong> on 14 Dec 2013, 17:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219991">
				<div class="post-metadata">
					<div class="post-num">Post #181</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						14 Dec 2013, 17:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><p>Ttake a look at this commit in 8devices Carambola2 repository:<br /><a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a></p><p>It seems that it solves problems with USB 1.1 devices connected to AR9331 USB host:</p><p>&quot;When wifi radio is reset, some bits in (undocumented) USB registers may flip. Patch adds setting them after radio reset (channel change, up/down). With this patch stability of USB1.1 full-speed devices, connected directly to AR9331 host port (no USB2.0 hub) is improved.&quot;</p></blockquote></div><p>that&#039;s a good news,i going to do the test for the wr703,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220039">
				<div class="post-metadata">
					<div class="post-num">Post #182</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						15 Dec 2013, 14:39					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone tried this patch yet?</p><br /><div class="quotebox"><cite>slboat wrote:</cite><blockquote><div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><p>Ttake a look at this commit in 8devices Carambola2 repository:<br /><a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a></p><p>It seems that it solves problems with USB 1.1 devices connected to AR9331 USB host:</p><p>&quot;When wifi radio is reset, some bits in (undocumented) USB registers may flip. Patch adds setting them after radio reset (channel change, up/down). With this patch stability of USB1.1 full-speed devices, connected directly to AR9331 host port (no USB2.0 hub) is improved.&quot;</p></blockquote></div><p>that&#039;s a good news,i going to do the test for the wr703,</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220041">
				<div class="post-metadata">
					<div class="post-num">Post #183</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						15 Dec 2013, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>Not yet!</p><p>I&#039;ll try ASAP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220068">
				<div class="post-metadata">
					<div class="post-num">Post #184</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						15 Dec 2013, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>been running ppp on a hornet-ap121u for about an hour now... and working well so far... will run overnight and report back.</p><p>--luis</p>											<p class="post-edited">(Last edited by <strong>lsoltero</strong> on 15 Dec 2013, 22:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220085">
				<div class="post-metadata">
					<div class="post-num">Post #185</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						16 Dec 2013, 06:58					</div>
				</div>
				<div class="post-content content">
					<p>i start test first 3 routes,this just normal test,without any patch,just make sure them can been brick usb,so we can compare it does work</p><p><span class="postimg"><img src="http://farm6.staticflickr.com/5544/11397005684_9516ff80f8_c.jpg" alt="http://farm6.staticflickr.com/5544/11397005684_9516ff80f8_c.jpg" /></span></p><p>and give them a mark, them are [SL.M230],[SL.M245],[SL.M230]</p><p><span class="postimg"><img src="http://farm4.staticflickr.com/3711/11397038424_927edeecc9_c.jpg" alt="http://farm4.staticflickr.com/3711/11397038424_927edeecc9_c.jpg" /></span></p><p>start test time: 13:03 &lt;- maybe this a bad idea,not use time,i use the squonk&#039;s way by the arduino&#039;s ticket</p><p>without patch test<br />M230<br />Test #1: Dead on 49 second<br />Test #2: Dead on 254 second<br />Test #3: Dead on 555 second<br />Test #4: Dead on 546 second<br />Test #5: Dead on 212 second<br />Test #6: Dead on 120 second<br />Test #7: Dead on 662 second<br />Test #8: Dead on 96 second<br />Test #8: Dead on 58 second<br />M245<br />Test #1: Dead on 817 second<br />Test #2: Dead on 124 second<br />Test #3: Dead on 187 second<br />Test #4: Dead on 92 second<br />M250<br />Test #1: Dead on 835 second</p><p>the m230 is very often to dead,so it should be have good chance see what change,now i compile the package for it..</p><p>still comiple,i direct use the carambola2 source to make for wr703<br /><span class="postimg"><img src="http://see.sl088.com/w/images/4/4f/ClipCapIt-131216-171134.PNG" alt="http://see.sl088.com/w/images/4/4f/ClipCapIt-131216-171134.PNG" /></span></p>											<p class="post-edited">(Last edited by <strong>slboat</strong> on 16 Dec 2013, 11:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220113">
				<div class="post-metadata">
					<div class="post-num">Post #186</div>
					<div class="post-author">zmhtiger</div>
					<div class="post-datetime">
						16 Dec 2013, 14:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>slboat wrote:</cite><blockquote><div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><p>Ttake a look at this commit in 8devices Carambola2 repository:<br /><a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a></p><p>It seems that it solves problems with USB 1.1 devices connected to AR9331 USB host:</p><p>&quot;When wifi radio is reset, some bits in (undocumented) USB registers may flip. Patch adds setting them after radio reset (channel change, up/down). With this patch stability of USB1.1 full-speed devices, connected directly to AR9331 host port (no USB2.0 hub) is improved.&quot;</p></blockquote></div><p>that&#039;s a good news,i going to do the test for the wr703,</p></blockquote></div><p>Thank you very much for the information.<br />Using this patch, my AR9331 board can connect to a USB1.1 FTDI serial cable directly, and the serial communication is stable for several hours long term test.</p><p>I guess the reasons mentioned by others in this topic does&#039;t cause usb hang issue, and I believe the really reason is AR9331&#039;s hardware bug.</p><p>Hope others try this patch and maybe your will find out your issue dissapeared.<br /><a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220117">
				<div class="post-metadata">
					<div class="post-num">Post #187</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						16 Dec 2013, 15:18					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>been running test here for about 18 hours now without issue. So it seems that this patch has addressed my problem (as well as that for others).&nbsp; What is interesting is that we were very close about a year ago!&nbsp; Here is a comment made to me by @squonk</p><p>-----<br />BTW, this &quot; WAR_USB_DISABLE_PLL_LOCK_DETECT()&quot; patch is the same thing that was done in QCA&#039;s Open HAL here:<br /><a href="https://github.com/qca/qcamain_open_hal_public/blob/master/hal/ar9300/ar9300_reset.c#L76">https://github.com/qca/qcamain_open_hal … eset.c#L76</a></p><p>I reported it in the forum:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=197328#p197328">https://forum.openwrt.org/viewtopic.php … 28#p197328</a></p><p>It looks very much like what was also suspected by @mips 1 year ago:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=182631#p182631">https://forum.openwrt.org/viewtopic.php … 31#p182631</a></p><p>The only difference is when this macro is called: we did not put it everywhere it was required...<br />-----</p><p>so... it seems that were very close but did not persist enough...</p><p>for those wanting to test this patch against the latest BB distribution just drop file this into</p><p>packages/mac80211/patches/566-ath9k_usb_hang_workaround.patch</p><p>Thanks to @squonk for providing this....</p><p>--- a/drivers/net/wireless/ath/ath9k/hw.c&nbsp; &nbsp; 2013-11-29 20:12:03.000000000 +0100<br />+++ b/drivers/net/wireless/ath/ath9k/hw.c&nbsp; &nbsp; 2013-12-15 17:20:40.727254556 +0100<br />@@ -35,6 +35,16 @@<br /> MODULE_SUPPORTED_DEVICE(&quot;Atheros 802.11n WLAN cards&quot;);<br /> MODULE_LICENSE(&quot;Dual BSD/GPL&quot;);</p><p>+#define WAR_USB_DISABLE_PLL_LOCK_DETECT(_ah) \<br />+do { \<br />+&nbsp; &nbsp; if (AR_SREV_9330(_ah) || AR_SREV_9340(_ah)) { \<br />+&nbsp; &nbsp; &nbsp; &nbsp; volatile u_int32_t *usb_ctrl_r1 = (u_int32_t *) 0xb8116c84; \<br />+&nbsp; &nbsp; &nbsp; &nbsp; volatile u_int32_t *usb_ctrl_r2 = (u_int32_t *) 0xb8116c88; \<br />+&nbsp; &nbsp; &nbsp; &nbsp; *usb_ctrl_r1 = (*usb_ctrl_r1 &amp; 0xffefffff); \<br />+&nbsp; &nbsp; &nbsp; &nbsp; *usb_ctrl_r2 = (*usb_ctrl_r2 &amp; 0xfc1fffff) | (1 &lt;&lt; 21) | (3 &lt;&lt; 22); \<br />+&nbsp; &nbsp; } \<br />+} while (0)<br />+<br /> static int __init ath9k_init(void)<br /> {<br /> &nbsp; &nbsp; return 0;<br />@@ -1390,6 +1400,8 @@<br /> &nbsp; &nbsp; if (AR_SREV_9100(ah))<br /> &nbsp; &nbsp; &nbsp; &nbsp; udelay(50);</p><p>+&nbsp; &nbsp; WAR_USB_DISABLE_PLL_LOCK_DETECT(ah);<br />+<br /> &nbsp; &nbsp; return true;<br /> }</p><p>@@ -1490,6 +1502,8 @@<br /> &nbsp; &nbsp; &nbsp; &nbsp; ar9003_hw_internal_regulator_apply(ah);<br /> &nbsp; &nbsp; ath9k_hw_init_pll(ah, chan);<br /> &nbsp; &nbsp; ath9k_hw_set_rfmode(ah, chan);<br />+&nbsp; &nbsp; <br />+&nbsp; &nbsp; WAR_USB_DISABLE_PLL_LOCK_DETECT(ah);</p><p> &nbsp; &nbsp; return true;<br /> }<br />@@ -1841,8 +1855,11 @@<br /> &nbsp; &nbsp; if (AR_SREV_9271(ah))<br /> &nbsp; &nbsp; &nbsp; &nbsp; ar9002_hw_load_ani_reg(ah, chan);</p><p>+&nbsp; &nbsp; WAR_USB_DISABLE_PLL_LOCK_DETECT(ah);<br />+<br /> &nbsp; &nbsp; return 0;<br /> fail:<br />+&nbsp; &nbsp; WAR_USB_DISABLE_PLL_LOCK_DETECT(ah);<br /> &nbsp; &nbsp; return -EINVAL;<br /> }</p><p>@@ -2052,6 +2069,8 @@<br /> &nbsp; &nbsp; if (AR_SREV_9565(ah) &amp;&amp; ah-&gt;shared_chain_lnadiv)<br /> &nbsp; &nbsp; &nbsp; &nbsp; REG_SET_BIT(ah, AR_BTCOEX_WL_LNADIV, AR_BTCOEX_WL_LNADIV_FORCE_ON);</p><p>+&nbsp; &nbsp; WAR_USB_DISABLE_PLL_LOCK_DETECT(ah);<br />+<br /> &nbsp; &nbsp; return 0;<br /> }<br /> EXPORT_SYMBOL(ath9k_hw_reset);</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220118">
				<div class="post-metadata">
					<div class="post-num">Post #188</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						16 Dec 2013, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>hi lsoltero,could you compile a wr703 bin file,so i can test on the wr703,the compile of me,is still on....slowly old machine,just not get speed on it</p><p>never mind,the compile has done,but is night now,test on tomorrow:)<br />i try publish it for other guy test</p><p>here is the firmware for now,with the patch and base package(kmod-usb-acm for arduino uno,microcom for watch the serial):<br /><a href="http://pan.baidu.com/s/1CI2UZ">http://pan.baidu.com/s/1CI2UZ</a></p><p>i start test first 3 device,as so far,everything work well<br /><span class="postimg"><img src="http://see.sl088.com/w/images/6/65/JustCapIt9847.jpg" alt="http://see.sl088.com/w/images/6/65/JustCapIt9847.jpg" /></span></p><p>and if you do the test with this firmware,plz enable wifi first,and you can use [microcom -s 57600 /dev/ttyACM0]kind as start..</p>											<p class="post-edited">(Last edited by <strong>slboat</strong> on 17 Dec 2013, 11:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220144">
				<div class="post-metadata">
					<div class="post-num">Post #189</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						16 Dec 2013, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>I just passed the 100 000 mark, meaning my Arduino board is sending 1 second period counts to the TL-WR703N (connected directly) for 27:46:40!</p><p>This patch is working like a Swiss cuckoo clock!</p><p>I think we can consider this issue as closed!</p><p>Thanks everybody!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220156">
				<div class="post-metadata">
					<div class="post-num">Post #190</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						17 Dec 2013, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Does &quot;closed&quot; mean it will be pushed to trunk and maybe backported to AA?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220158">
				<div class="post-metadata">
					<div class="post-num">Post #191</div>
					<div class="post-author">gsenna</div>
					<div class="post-datetime">
						17 Dec 2013, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I use a MR3020 router with an usb audio card. The audio card is recognized as 1.1. If I use the wifi, it usually reboots itself after some minutes. There&#039;s no auto-reboot when having the wireless radio turned off.<br />So, do you think this patch will allow me to use the wireless radio and the usb audio card? I ask so I don&#039;t build the entire toolchain in vain.</p><p>Thank you very much to all for keep looking and searching throughout all this time!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220161">
				<div class="post-metadata">
					<div class="post-num">Post #192</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						17 Dec 2013, 01:48					</div>
				</div>
				<div class="post-content content">
					<p>i think there is a good chance that it will work.&nbsp; Everyone else who has corresponded states that their problems have vanished.&nbsp; If your USB problems are tied to the WiFi then there ia very good chance that you are having the same issue as everyone else.&nbsp; Unfortunately there is only one way to find out.</p><p>good luck.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220167">
				<div class="post-metadata">
					<div class="post-num">Post #193</div>
					<div class="post-author">mips</div>
					<div class="post-datetime">
						17 Dec 2013, 03:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi all guys:</p><p>Good news,so the AR9331 is really a good toy for us if we can fix this issue.<br />Let&#039;s do more interesting things base on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220174">
				<div class="post-metadata">
					<div class="post-num">Post #194</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						17 Dec 2013, 05:26					</div>
				</div>
				<div class="post-content content">
					<p>3 device work very well<br /><span class="postimg"><img src="http://see.sl088.com/w/images/c/c1/JustCapIt9848.jpg" alt="http://see.sl088.com/w/images/c/c1/JustCapIt9848.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220178">
				<div class="post-metadata">
					<div class="post-num">Post #195</div>
					<div class="post-author">cncaihua</div>
					<div class="post-datetime">
						17 Dec 2013, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>Great done!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220193">
				<div class="post-metadata">
					<div class="post-num">Post #196</div>
					<div class="post-author">Mark_V</div>
					<div class="post-datetime">
						17 Dec 2013, 11:47					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m still waiting for my wr703, so i have time to read a lot, specially this thread.</p><p>Great to hear that this USB 1.1 problem is solved, but how can we apply this patch<br />to the latest AA?<br />Do we have to compile our own version with this patch? or is it possible to run some<br />sort of file to apply the patch?</p><p>Sorry for my Noob question</p><br /><p>Grtzz&nbsp; Mark</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220195">
				<div class="post-metadata">
					<div class="post-num">Post #197</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						17 Dec 2013, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>I will prepare a patch for the latest AA branch tonight and submit it for backport to the mailing list, so the automatically-generated images will contain the patch.</p><p>In the meantime, you will have to copy the patch file into the devel tree and compile your own, hopefully not for a long time!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220196">
				<div class="post-metadata">
					<div class="post-num">Post #198</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						17 Dec 2013, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>if you wana just for do a quick test but not want to compile it,you can try the camarala version for wr703<br /><a href="http://pan.baidu.com/s/1CI2UZ">http://pan.baidu.com/s/1CI2UZ</a></p><p>my test is base on this version,and it still going...</p><p><span class="postimg"><img src="http://see.sl088.com/w/images/5/5f/JustCapIt9857.jpg" alt="http://see.sl088.com/w/images/5/5f/JustCapIt9857.jpg" /></span></p><p>i think them are sth still could be test,like is the wifi is stabile,if have the usb but lost the wifi stabile that&#039;s be very sad</p>											<p class="post-edited">(Last edited by <strong>slboat</strong> on 17 Dec 2013, 12:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220197">
				<div class="post-metadata">
					<div class="post-num">Post #199</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						17 Dec 2013, 12:08					</div>
				</div>
				<div class="post-content content">
					<p>As far as I can tell ,this patch doesn&#039;t affect the WiFi stability: it only sets some magic bits in the USB controller when the WiFi is reset/changed channel.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220201">
				<div class="post-metadata">
					<div class="post-num">Post #200</div>
					<div class="post-author">Mark_V</div>
					<div class="post-datetime">
						17 Dec 2013, 13:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I will prepare a patch for the latest AA branch tonight and submit it for backport to the mailing list, so the automatically-generated images will contain the patch.</p><p>In the meantime, you will have to copy the patch file into the devel tree and compile your own, hopefully not for a long time!</p></blockquote></div><p>Many! thanks for the work and the drive to solve this problem (from reading i understand that Atheros knows the problem but don&#039;t want to solve it)<br />For my understanding, this patch sets some bits from the USB controller registers (here the USB PLL) which are not set the right way at initialize (boot) but change when you switch off the WiFi?</p><p>Looking forward for the patched AA</p><p>Grtzz&nbsp; Mark</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 8 of 13</div><nav><ul><li><a href="viewtopic.php%3Fid=39956&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=6.html">6</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=7.html">7</a></li><li class="pagination-current"><span>8</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=10.html">10</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=13.html">13</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>