<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> DIR-300 rev.B1: Problem with WiFi.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p206615">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">grobovoi</div>
					<div class="post-datetime">
						7 Jul 2013, 11:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi to all <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I flashed the router DIR-300 B1. I used this firmware <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ramips/rt305x/openwrt-ramips-rt305x-dir-300-b1-squashfs-factory.bin">http://downloads.openwrt.org/attitude_a â€¦ actory.bin</a><br />Now Wi-Fi dosn&#039;t work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br /></p><div class="codebox"><pre><code> root@OpenWrt:~# dmesg
[    0.000000] Linux version 3.3.8 (blogic@Debian-60-squeeze-64-minimal) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Sat Mar 23 19:00:46 UTC 2013
[    0.000000] prom: fw_arg0=00000001, fw_arg1=01f5bfb0, fw_arg2=01f5c3b0, fw_arg3=00000000
[    0.000000] env[0]: memsize=32
[    0.000000] env[1]: initrd_start=0x00000000
[    0.000000] env[2]: initrd_size=0x0
[    0.000000] env[3]: flash_start=0xBF000000
[    0.000000] env[4]: flash_size=0x400000
[    0.000000] env[0]: memsize=32
[    0.000000] env[1]: initrd_start=0x00000000
[    0.000000] env[2]: initrd_size=0x0
[    0.000000] env[3]: flash_start=0xBF000000
[    0.000000] env[4]: flash_size=0x400000
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] Ralink RT3350 id:1 rev:2 running at 320.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00002000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00002000
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 802547a0, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8128 pages, LIFO batch:0
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=DIR-300-B1 console=ttyS1,57600 mtdparts=physmap-flash.0:192k(u-boot)ro,64k(devdata)ro,64k(devconf)ro,896k(kernel),2880k(rootfs),3776k@0x50000(firmware) rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00040000
[    0.000000] Readback ErrCtl register=00040000
[    0.000000] Memory: 29672k/32768k available (2046k kernel code, 3096k reserved, 340k data, 176k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:48
[    0.000000] console [ttyS1] enabled, bootconsole disabled
[    0.010000] Calibrating delay loop... 212.58 BogoMIPS (lpj=1062912)
[    0.090000] pid_max: default: 32768 minimum: 301
[    0.090000] Mount-cache hash table entries: 512
[    0.100000] NET: Registered protocol family 16
[    0.110000] MIPS: machine is D-Link DIR-300 B1
[    0.120000] gpiochip_add: registered GPIOs 0 to 23 on device: RT305X-GPIO0
[    0.130000] gpiochip_add: registered GPIOs 24 to 39 on device: RT305X-GPIO1
[    0.140000] gpiochip_add: registered GPIOs 40 to 51 on device: RT305X-GPIO2
[    0.180000] bio: create slab &lt;bio-0&gt; at 0
[    0.190000] Switching to clocksource MIPS
[    0.210000] NET: Registered protocol family 2
[    0.210000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.230000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.240000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.260000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.270000] TCP reno registered
[    0.280000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.290000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.300000] NET: Registered protocol family 1
[    0.360000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.380000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.400000] msgmni has been set to 57
[    0.410000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
[    0.420000] io scheduler noop registered
[    0.430000] io scheduler deadline registered (default)
[    0.440000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.460000] serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    0.470000] serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.500000] physmap platform flash device: 00800000 at bf000000
[    0.520000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a8
[    0.540000] physmap-flash.0: Found an alias at 0x400000 for the chip at 0x0
[    0.540000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.550000]   Amd/Fujitsu Extended Query version 1.1.
[    0.560000] number of CFI chips: 1
[    0.570000] 6 cmdlinepart partitions found on MTD device physmap-flash.0
[    0.580000] Creating 6 MTD partitions on &quot;physmap-flash.0&quot;:
[    0.590000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.610000] 0x000000030000-0x000000040000 : &quot;devdata&quot;
[    0.620000] 0x000000040000-0x000000050000 : &quot;devconf&quot;
[    0.640000] 0x000000050000-0x000000130000 : &quot;kernel&quot;
[    0.650000] 0x000000130000-0x000000400000 : &quot;rootfs&quot;
[    0.670000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.680000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2F0000, len=110000 
[    0.700000] 0x0000002f0000-0x000000400000 : &quot;rootfs_data&quot;
[    0.710000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.740000] ramips-wdt ramips-wdt: timeout value must be 0 &lt; timeout &lt;= 40, using 40
[    0.760000] TCP cubic registered
[    0.760000] NET: Registered protocol family 17
[    0.770000] Bridge firewalling registered
[    0.780000] 8021q: 802.1Q VLAN Support v1.8
[    0.800000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.820000] Freeing unused kernel memory: 176k freed
[    3.350000] input: gpio-keys-polled as /devices/platform/gpio-keys-polled/input/input0
[    3.470000] Button Hotplug driver version 0.4.1
[    3.710000] Registered led device: d-link:amber:status
[    3.710000] Registered led device: d-link:green:status
[    3.720000] Registered led device: d-link:amber:wan
[    3.720000] Registered led device: d-link:green:wan
[    3.720000] Registered led device: d-link:blue:wps
[    9.630000] Compat-drivers backport release: compat-drivers-2012-09-04-2-gddac993
[    9.650000] Backport based on wireless-testing.git master-2012-09-07
[    9.660000] compat.git: wireless-testing.git
[    9.720000] cfg80211: Calling CRDA to update world regulatory domain
[    9.730000] cfg80211: World regulatory domain updated:
[    9.740000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[    9.760000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[    9.780000] cfg80211:   (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[    9.790000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[    9.810000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[    9.820000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.480000] usbcore: registered new interface driver usbfs
[   10.490000] usbcore: registered new interface driver hub
[   10.510000] usbcore: registered new device driver usb
[   11.220000] phy0 -&gt; rt2800_init_eeprom: Error - Invalid RF chipset 0x0000 detected.
[   11.240000] phy0 -&gt; rt2x00lib_probe_dev: Error - Failed to allocate device.
[   11.330000] PPP generic driver version 2.4.2
[   11.570000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   11.950000] NET: Registered protocol family 24
[   11.990000] nf_conntrack version 0.5.0 (466 buckets, 1864 max)
[   12.580000] dwc_otg: version 2.72a 24-JUN-2008
[   19.640000] device eth0.1 entered promiscuous mode
[   19.650000] device eth0 entered promiscuous mode
[   19.670000] br-lan: port 1(eth0.1) entered forwarding state
[   19.680000] br-lan: port 1(eth0.1) entered forwarding state
[   21.120000] ramips-wdt: timeout value 60 must be 0 &lt; timeout &lt;= 40, using 40
[   21.680000] br-lan: port 1(eth0.1) entered forwarding state
[   42.750000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   42.770000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   42.780000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   51.800000] JFFS2 notice: (1021) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found. </code></pre></div><p>[&nbsp; &nbsp;11.220000] phy0 -&gt; rt2800_init_eeprom: Error - Invalid RF chipset 0x0000 detected.<br />[&nbsp; &nbsp;11.240000] phy0 -&gt; rt2x00lib_probe_dev: Error - Failed to allocate device. - what is it? How to solve the problem?<br />P.S. Sorry for my very bad english</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p206678">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">123serge123</div>
					<div class="post-datetime">
						8 Jul 2013, 06:43					</div>
				</div>
				<div class="post-content content">
					<p>I think that invalid EEPROM is the problem. See<br /><a href="https://forum.openwrt.org/viewtopic.php?id=36037">https://forum.openwrt.org/viewtopic.php?id=36037</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>