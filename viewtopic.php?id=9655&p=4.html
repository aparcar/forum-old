<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Porting OpenWRT to the Routerboard 100</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Mar 2018 and 2 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=9655&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=9655&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=9655&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=9655&amp;p=5.html">5</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p57942">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">lschweiss</div>
					<div class="post-datetime">
						23 Oct 2007, 17:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>abates wrote:</cite><blockquote><p>Looks like latest release from svn boots okay from dhcp.&nbsp; It appears to be able to mount (or at least detect) the nand but I can&#039;t seem to get past the kernel boot, last message is &quot;Warning: unable to open an initial console.&quot;&nbsp; I&#039;m thinking that the image built from build_root doesn&#039;t have a root file system and there is a kernel panic when the kernel can&#039;t mount a root fs.&nbsp; Anyone have any thoughts?</p></blockquote></div><p>Look at the wiki page: <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Mikrotik/RB100">http://wiki.openwrt.org/OpenWrtDocs/Har … otik/RB100</a> in section 4.</p><p>You need to build a separate kernel for the network boot that uses a ramdisk to give you the tools you need to load OpenWRT.</p><p>The script to load the tar.gz image and kernel has a couple bugs.&nbsp; It doesn&#039;t erase the existing files from the flash and has the kernel file name wrong.&nbsp; Both an easy manual fix.</p><p>Edit:&nbsp; I&#039;ve added submitted a patch to fix the bugs: <a href="https://dev.openwrt.org/ticket/2584">https://dev.openwrt.org/ticket/2584</a></p>											<p class="post-edited">(Last edited by <strong>lschweiss</strong> on 23 Oct 2007, 17:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57944">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">abates</div>
					<div class="post-datetime">
						23 Oct 2007, 17:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lschweiss wrote:</cite><blockquote><p>Look at the wiki page: <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Mikrotik/RB100">http://wiki.openwrt.org/OpenWrtDocs/Har … otik/RB100</a> in section 4.</p><p>You need to build a separate kernel for the network boot that uses a ramdisk to give you the tools you need to load OpenWRT.</p><p>The script to load the tar.gz image and kernel has a couple bugs.&nbsp; It doesn&#039;t erase the existing files from the flash and has the kernel file name wrong.&nbsp; Both an easy manual fix.</p></blockquote></div><p>I built the target image as a ramdisk, so I don&#039;t think that is what the problem is.&nbsp; Previous versions from svn get me all the way to a shell prompt but no ability to mount the nand.&nbsp; This time, the kernel appears able to see the nand, but I don&#039;t get a shell prompt.&nbsp; I did another svn update this morning and now I get a little further but there is a kernel panic shortly after starting the busybox init.&nbsp; I can&#039;t post the message, it&#039;s at home and I&#039;m at work <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I&#039;ll post the dmesg when I get home this afternoon.</p><p>Andrew</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57967">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">abates</div>
					<div class="post-datetime">
						24 Oct 2007, 02:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>abates wrote:</cite><blockquote><p>I&#039;ll post the dmesg when I get home this afternoon.<br />Andrew</p></blockquote></div><p>Here is the last bit of dmesg from the latest build (ramdisk netboot, rev 9421):</p><p>Freeing unused kernel memory: 2244k freed<br />init started: BusyBox v1.7.2 (2007-10-22 19:01:47 MDT)<br />Can&#039;t open /dev/tty1: No such device or address<br />Can&#039;t open /dev/tty1: No such device or address<br />: Segmentation fault</p><p>Can&#039;t open /dev/tty1: No such device or address<br />: /etc/rc.common: eval: line 1: /sbin/hotplug2: not found</p><p>: Segmentation fault</p><p>: Segmentation fault</p><p>Can&#039;t open /dev/tty1: No such device or address<br />Can&#039;t open /dev/tty1: No such device or address</p><p>The last message repeats continuously and I&#039;m not able to get to a shell prompt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58002">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">lschweiss</div>
					<div class="post-datetime">
						24 Oct 2007, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>The problem your seeing looks like what I saw when the original firmware is not erased.&nbsp; &nbsp; Have a look at the patch I made.&nbsp; The mtd erase command is not wiping the partition as anticipated in the original script.&nbsp; You must have an empty partition before the tar.gz image is extracted for OpenWRT to boot properly.</p><p>If you use your ramdisk boot you can manually mount the partition and see all the junk left around from the factory firmware.&nbsp; &nbsp;Just &#039;rm -rf&#039; it all and re-run wget2nand.</p>											<p class="post-edited">(Last edited by <strong>lschweiss</strong> on 24 Oct 2007, 20:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58156">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">abates</div>
					<div class="post-datetime">
						28 Oct 2007, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>Okay, I&#039;ve had some success.&nbsp; I&#039;ve been able to successfully boot openwrt on my routerboard 150, mount the nand, copy a kernel/rootfs to mtdblock0 and mtdblock1, and then boot from nand.&nbsp; However, this success was not without its problems.&nbsp; Here are some of the problems I&#039;ve encountered so far:</p><p>1) By default, there is no way to log into the system from console, I had to build the getty package and add this line to the inittab:<br />&nbsp; &nbsp; &nbsp;console::sysinit:/sbin/getty 115200 /dev/console</p><p>2) The kernel is passed /dev/mtdblock3 to boot from, I had to alter this to /dev/mtdblock1, rebuild the kernel, and install that kernel to nand in order to get the nand booted kernel to mount the root filesystem</p><p>3) There don&#039;t seem to be any pty&#039;s available to any process.&nbsp; Dropbear gets these messages when a client is connecting:<br />&nbsp; &nbsp; &nbsp;root@OpenWrt:/$ /usr/sbin/dropbear -F -E -p 22 <br />&nbsp; &nbsp; &nbsp;[837] Jan 01 00:04:57 Not backgrounding<br />&nbsp; &nbsp; &nbsp;[838] Jan 01 00:05:01 Child connection from 192.168.1.100:33963<br />&nbsp; &nbsp; &nbsp;[838] Jan 01 00:05:03 password auth succeeded for &#039;root&#039; from 192.168.1.100:33963<br />&nbsp; &nbsp; &nbsp;[838] Jan 01 00:05:03 pty_allocate: openpty: No such file or directory<br />&nbsp; &nbsp; &nbsp;[838] Jan 01 00:05:03 no pty was allocated, couldn&#039;t execute</p><p>&nbsp; &nbsp; &nbsp;I&#039;m not sure if this is an issue with openwrt itself or if I&#039;ve just mucked around enough to break something.&nbsp; Any ideas would be appreciated.</p><p>4) All the leds are on after boot, /etc/diag.sh doesn&#039;t seem to be able to set their state correctly.&nbsp; Here are the post boot messages:<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.0 failed with error -16<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.1 failed with error -16<br />&nbsp; &nbsp; &nbsp;Registered led device: gpio2<br />&nbsp; &nbsp; &nbsp;Registered led device: gpio3<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.4 failed with error -22<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.5 failed with error -22<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.6 failed with error -22<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.7 failed with error -22<br />&nbsp; &nbsp; &nbsp;Registered led device: port0led0<br />&nbsp; &nbsp; &nbsp;Registered led device: port0led1<br />&nbsp; &nbsp; &nbsp;Registered led device: port0led2<br />&nbsp; &nbsp; &nbsp;Registered led device: port1led0<br />&nbsp; &nbsp; &nbsp;Registered led device: port1led1<br />&nbsp; &nbsp; &nbsp;Registered led device: port1led2<br />&nbsp; &nbsp; &nbsp;Registered led device: port2led0<br />&nbsp; &nbsp; &nbsp;Registered led device: port2led1<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.16 failed with error -16<br />&nbsp; &nbsp; &nbsp;Registered led device: port3led0<br />&nbsp; &nbsp; &nbsp;Registered led device: port3led1<br />&nbsp; &nbsp; &nbsp;leds-gpio: probe of leds-gpio.19 failed with error -16<br />&nbsp; &nbsp; &nbsp;Registered led device: port4led0<br />&nbsp; &nbsp; &nbsp;Registered led device: port4led1<br />&nbsp; &nbsp; &nbsp;Registered led device: port4led2</p><p>5) There seems to be something causing a segfault during the init process.&nbsp; I haven&#039;t yet been able to isolate it, but if I remove boot and done from the init order, then the segfaults seem to go away.</p><p>6)&nbsp; I can&#039;t start vi, all I get is a segfault</p><p>I think the segfaults I&#039;m seeing may be related to the pty issue, but I have no idea where to even start with that one.&nbsp; I&#039;ll post more if I learn anything new.</p><p>Thanks for all the help everyone!</p><p>Andrew</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58168">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">abates</div>
					<div class="post-datetime">
						28 Oct 2007, 20:48					</div>
				</div>
				<div class="post-content content">
					<p>Okay, I&#039;ve made even more headway.</p><div class="quotebox"><cite>abates wrote:</cite><blockquote><p>1) By default, there is no way to log into the system from console, I had to build the getty package and add this line to the inittab:<br />&nbsp; &nbsp; &nbsp;console::sysinit:/sbin/getty 115200 /dev/console<br />...</p><p>3) There don&#039;t seem to be any pty&#039;s available to any process.&nbsp; Dropbear gets these messages when a client is connecting:</p><p>...</p></blockquote></div><p>These are fixed,&nbsp; I had disabled hotplug2 in troubleshooting along the way, with it re-enabled the /dev/ptmx device node is created and there are pty&#039;s available to processes.&nbsp; I no longer need to have getty installed and in the inittab.</p><div class="quotebox"><cite>abates wrote:</cite><blockquote><p>4) All the leds are on after boot, /etc/diag.sh doesn&#039;t seem to be able to set their state correctly.&nbsp; Here are the post boot messages:</p><p>...</p><p>5) There seems to be something causing a segfault during the init process.&nbsp; I haven&#039;t yet been able to isolate it, but if I remove boot and done from the init order, then the segfaults seem to go away.</p><p>...</p></blockquote></div><p>I discovered that awk is segfaulting every time it is called.&nbsp; The /etc/diag.sh script imports /lib/adm5120.sh and that script uses awk.&nbsp; I think this is likely why all the led&#039;s are on.&nbsp; This also explains the other segfaults I&#039;m seeing during init.</p><p>I&#039;ll keep everyone posted if I discover any more.</p><p>Andrew</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58255">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">abates</div>
					<div class="post-datetime">
						30 Oct 2007, 17:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>abates wrote:</cite><blockquote><p>I discovered that awk is segfaulting every time it is called.&nbsp; The /etc/diag.sh script imports /lib/adm5120.sh and that script uses awk.&nbsp; I think this is likely why all the led&#039;s are on.&nbsp; This also explains the other segfaults I&#039;m seeing during init.</p></blockquote></div><p>Ticket <a href="https://dev.openwrt.org/ticket/2627">2627</a> has been filed on this problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58965">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">Polline</div>
					<div class="post-datetime">
						14 Nov 2007, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody,</p><p>I am trying to build an image for a Routerboard rb150 (the one without MiniPCI) with the last trunk svn.</p><p>I keep getting an error on running make during the kernel compile process. If I run </p><p>make package/kernel-compile V=99</p><p>the last lines of output read</p><p>cp: cannot stat `/home/flavio/RADIOLAN/OPENWRTSDK/kamikaze/build_dir/linux-adm5120_router_le/linux-2.6.23.1/net/key/af_key.ko&#039;: No such file or directory<br />make[2]: *** [/home/flavio/RADIOLAN/OPENWRTSDK/kamikaze/bin/packages//kmod-ipsec_2.6.23.1-adm5120-1_mipsel.ipk] Error 1<br />make[2]: Leaving directory `/home/flavio/RADIOLAN/OPENWRTSDK/kamikaze/package/kernel&#039;<br />make[1]: *** [package/kernel/compile] Error 2<br />make[1]: Leaving directory `/home/flavio/RADIOLAN/OPENWRTSDK/kamikaze&#039;<br />make: *** [package/kernel-compile] Error 2</p><p>In the /build_dir/linux-adm5120_router_le/linux-2.6.23.1/net/key/ there is a source file that does not get compiled by make.<br />I already tried to modify the kernel config, but I had no success.</p><p>What should I do?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61874">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">rdavis852</div>
					<div class="post-datetime">
						18 Jan 2008, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>Did anyone ever get it working on the RB133c?&nbsp; I see that it is supported under the hardware section but this thread looks like there are problems.&nbsp; Before I try to load it on an RB133c I would like to know that someone has made it work and what pitfalls I might come across.&nbsp; &nbsp; Thx in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61937">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">abates</div>
					<div class="post-datetime">
						19 Jan 2008, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>I have it currently running on 2 rb133c&#039;s and 2 rb150s.&nbsp; Seems pretty stable so far.&nbsp; The 150&#039;s have been rebooting under heavy load, but florian reports that he thinks this has been fixed recently.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63101">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">cdiggity</div>
					<div class="post-datetime">
						9 Feb 2008, 10:40					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve followed the instructions at <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Mikrotik/RB100">the openwrt rb100 wiki page</a> up to the point where it says that due to a problem with nand, follow the instructions <a href="http://rb1xx.ozo.com/doku.php">here</a>. They seem to work as I have got openwrt running on my Routerboard rb133c. It has an atheros minipci card installed.</p><p>The ethernet port works when I do &#039;ifconfig eth0 add 192.168.1.1 up&#039;&nbsp; but none of the settings in /etc/config/network or /etc/config/wireless seem to be getting loaded. I can&#039;t sort out how to get my wireless interface up or what exactly it is called (ath0 doesn&#039;t seem to exist).</p><p>Indeed, when I run &#039;ifup lan&#039; or &#039;ifup wifi0&#039; I get:<br /></p><div class="quotebox"><blockquote><p>root@(none):/etc/config# ifup lan<br />/sbin/ifup: /sbin/ifdown: line 15: uci_revert_state: not found<br />/sbin/ifup: /sbin/ifdown: line 18: uci_load: not found<br />interface not found.</p></blockquote></div><p>It appears the problem is in /etc/functions.sh where it calls uci_load.&nbsp; I have noticed that /etc/functions.sh is significantly different on my routerboard than on my linksys wrt54g running openwrt 7.09. </p><p>The images I downloaded from <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120">..kamikaze/2.6/adm5120</a> were in a folder dated February 6th, 2008 called &#039;10405&#039;.&nbsp; I tried first with the netboot image from <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120/latest">..kamikaze/2.6/ladmin5120/latest</a> directory but that vmlinuz.elf file dated January 14th would not boot, it gave an &#039;initrd not found or missing&#039; error or something to that effect.</p><p>My question is what do I have to do to get the wireless working? Will I need to build openwrt myself and include the atheros driver/module?&nbsp; I have seen above that abates has managed this and I see no reason I can&#039;t sort that out as well.&nbsp; </p><p>Does the ifup script not work because it is from some random build from SVN and not a proper release? </p><p>My goal is use OpenWRT with the OLSRd mesh routing daemon to communicate with RS232 devices.&nbsp; I am also evaluating the Asus wl-500gP since it has USB.</p><p>Thanks for any insight as I am not sure as to how to proceed,<br />-C</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63102">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						9 Feb 2008, 11:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>I&#039;ve followed the instructions at <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Mikrotik/RB100">the openwrt rb100 wiki page</a> up to the point where it says that due to a problem with nand, follow the instructions <a href="http://rb1xx.ozo.com/doku.php">here</a>. They seem to work as I have got openwrt running on my Routerboard rb133c. It has an atheros minipci card installed.</p></blockquote></div><p>wget2nand was modified recently, so in theory extracting stuff manually is no longer necessary.&nbsp; I haven&#039;t tried the updated version of wget2nand yet, though.</p><div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>The ethernet port works when I do &#039;ifconfig eth0 add 192.168.1.1 up&#039;&nbsp; but none of the settings in /etc/config/network or /etc/config/wireless seem to be getting loaded. I can&#039;t sort out how to get my wireless interface up or what exactly it is called (ath0 doesn&#039;t seem to exist).</p><p>Indeed, when I run &#039;ifup lan&#039; or &#039;ifup wifi0&#039; I get:<br /></p><div class="quotebox"><blockquote><p>root@(none):/etc/config# ifup lan<br />/sbin/ifup: /sbin/ifdown: line 15: uci_revert_state: not found<br />/sbin/ifup: /sbin/ifdown: line 18: uci_load: not found<br />interface not found.</p></blockquote></div><p>It appears the problem is in /etc/functions.sh where it calls uci_load.&nbsp; I have noticed that /etc/functions.sh is significantly different on my routerboard than on my linksys wrt54g running openwrt 7.09. </p><p>The images I downloaded from <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120">..kamikaze/2.6/adm5120</a> were in a folder dated February 6th, 2008 called &#039;10405&#039;.&nbsp; I tried first with the netboot image from <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120/latest">..kamikaze/2.6/ladmin5120/latest</a> directory but that vmlinuz.elf file dated January 14th would not boot, it gave an &#039;initrd not found or missing&#039; error or something to that effect.</p></blockquote></div><p>If you try to netboot the normal kernel (i.e. not a netboot kernel) when you do not have a filesystem on the flash you will get an error about it not being able to mount the root filesystem.&nbsp; I&#039;m guessing that&#039;s what happened there.</p><div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>My question is what do I have to do to get the wireless working? Will I need to build openwrt myself and include the atheros driver/module?&nbsp; I have seen above that abates has managed this and I see no reason I can&#039;t sort that out as well.&nbsp; </p><p>Does the ifup script not work because it is from some random build from SVN and not a proper release?</p></blockquote></div><p>Possibly.&nbsp; There have been some changes to uci and /etc/functions.sh recently which may have broken something.&nbsp; The last version I tried on rb1xx was r10310.&nbsp; I did not test it extensively, but everything I tried seemed to work fine including the wireless (with an Atheros miniPCI card.)</p><p>It would probably be best for you to compile Kamikaze yourself.&nbsp; It&#039;s not hard <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Here are the generic instructions: <a href="http://wiki.openwrt.org/OpenWrtDocs/BuildingKamikazeHowTo">BuildingKamikazeHowTo</a></p><p>The RB100 wiki page should give you the rb1xx specific bits.</p><p>EDIT: r10366 is the last version before the recent uci changes.&nbsp; Perhaps you should try that revision.&nbsp; If that works for you, you should probably open a ticket with the details.</p>											<p class="post-edited">(Last edited by <strong>Wodin</strong> on 9 Feb 2008, 11:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63103">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						9 Feb 2008, 11:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>The images I downloaded from <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120">..kamikaze/2.6/adm5120</a> were in a folder dated February 6th, 2008 called &#039;10405&#039;.&nbsp; I tried first with the netboot image from <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120/latest">..kamikaze/2.6/ladmin5120/latest</a> directory but that vmlinuz.elf file dated January 14th would not boot, it gave an &#039;initrd not found or missing&#039; error or something to that effect.</p></blockquote></div><p>updated the latest soft link to point to the latest build.&nbsp; looks like you were able to successfully netboot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64105">
				<div class="post-metadata">
					<div class="post-num">Post #89</div>
					<div class="post-author">cdiggity</div>
					<div class="post-datetime">
						27 Feb 2008, 01:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;ve got r10366 for adm5120 built and used wget2nand to downgrade from r10405 to r10366 since r10405 was giving me problems with the ifup/ifdown scripts (which still don&#039;t seem to do anything other than say interface not found). </p><p>Now I&#039;m not sure if I selected all the appropriate wireless options for the image. I selected anything I thought I might need, but probably missed some things.</p><p>I&#039;m trying to get the RB133 to work as an access point but it doesn&#039;t seem to be broadcasting its SSID.&nbsp; I have an atheros card in it at the moment. I don&#039;t think I included hostapd in the image so if it is required that could be a problem.</p><br /><br /><p>Here is the output from &#039;dmesg&#039;:</p><div class="codebox"><pre><code>Linux version 2.6.23.14 (jcm@red1) (gcc version 4.1.2) #1 Tue Feb 26 11:56:51 HST 2008
console [early0] enabled
CPU revision is: 0001800b                                                                            
SoC      : ADM5120 revision 8, running at 175MHz                                                     
Bootdev  : NAND flash                                                                                
Prom     : RouterBOOT                                                                                
Determined physical RAM map:                                                                         
 memory: 01000000 @ 00000000 (usable)                                                                
Initrd not found or empty - disabling initrd                                                         
On node 0 totalpages: 4096                                                                           
  Normal zone: 32 pages used for memmap                                                              
  Normal zone: 0 pages reserved                                                                      
  Normal zone: 4064 pages, LIFO batch:0                                                              
  Movable zone: 0 pages used for memmap                                                              
Built 1 zonelists in Zone order.  Total pages: 4064                                                  
Kernel command line: root=/dev/mtdblock3 rootfstype=yaffs2 init=/etc/preinit                         
Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.                          
Primary data cache 8kB, 2-way, linesize 16 bytes.                                                    
Synthesized TLB refill handler (20 instructions).                                                    
Synthesized TLB load handler fastpath (32 instructions).                                             
Synthesized TLB store handler fastpath (32 instructions).                                            
Synthesized TLB modify handler fastpath (31 instructions).                                           
PID hash table entries: 64 (order: 6, 256 bytes)                                                     
Using 87.500 MHz high precision timer.                                                               
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)                                         
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)                                          
Memory: 13820k/16384k available (1852k kernel code, 2564k reserved, 327k data, 124k init, 0k highmem)
Calibrating delay loop... 173.05 BogoMIPS (lpj=346112)                                               
Mount-cache hash table entries: 512                                                                  
adm5120: registered board &#039;Generic ADM5120 board&#039;                                                    
adm5120: registered board &#039;Cellvision NFS-101U/101WU&#039;                                                
adm5120: registered board &#039;Cellvision CAS-861/861W&#039;                                                  
adm5120: registered board &#039;Cellvision CAS-790&#039;                                                       
adm5120: registered board &#039;Cellvision CAS-771/771W&#039;                                                  
adm5120: registered board &#039;Cellvision CAS-700/700W&#039;                                                  
adm5120: registered board &#039;Cellvision CAS-670/670W&#039;                                                  
adm5120: registered board &#039;Cellvision CAS-630/630W&#039;                                                  
adm5120: registered board &#039;Compex WPP54G&#039;                                                            
adm5120: registered board &#039;Compex WPP54AG&#039;                                                           
adm5120: registered board &#039;Compex WP54G-WRT&#039;                                                         
adm5120: registered board &#039;Compex WP54G&#039;                                                             
adm5120: registered board &#039;Compex WP54AG&#039;                                                            
adm5120: registered board &#039;Compex NetPassage 28G&#039;                                                    
adm5120: registered board &#039;Compex NetPassage 27G&#039;                                                    
adm5120: registered board &#039;Edimax BR-6104WG/6114WG&#039;                                                  
adm5120: registered board &#039;Edimax BR-6104K/6104KP&#039;                                                   
adm5120: registered board &#039;Infineon EASY 83000 Reference Board&#039;                                      
adm5120: registered board &#039;Infineon EASY 5120-WVoIP Reference Board&#039;                                 
adm5120: registered board &#039;Infineon EASY 5120-RT Reference Board&#039;                                    
adm5120: registered board &#039;Infineon EASY 5120P-ATA Reference Board&#039;                                  
adm5120: registered board &#039;Mikrotik RouterBOARD 192&#039;                                                 
adm5120: registered board &#039;Mikrotik RouterBOARD 153&#039;                                                 
adm5120: registered board &#039;Mikrotik RouterBOARD 150&#039;                                                 
adm5120: registered board &#039;Mikrotik RouterBOARD 133C&#039;                                                
adm5120: registered board &#039;Mikrotik RouterBOARD 133&#039;                                                 
adm5120: registered board &#039;Mikrotik RouterBOARD 112&#039;                                                 
adm5120: registered board &#039;Mikrotik RouterBOARD 111&#039;                                                 
adm5120: registered board &#039;ZyXEL Prestige 335/335WT&#039;                                                 
adm5120: registered board &#039;ZyXEL Prestige 334WT&#039;                                                     
NET: Registered protocol family 16                                                                   
adm5120: setting up board &#039;Mikrotik RouterBOARD 133C&#039;                                                
adm5120: system has PCI BIOS                                                                         
registering PCI controller with io_map_base unset                                                    
PCI: mapping irq for 0000:00:01.0 pin:1, irq:14                                                      
Time: MIPS clocksource has been installed.                                                           
NET: Registered protocol family 2                                                                    
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)                                       
TCP established hash table entries: 512 (order: 0, 4096 bytes)                                       
TCP bind hash table entries: 512 (order: -1, 2048 bytes)                                             
TCP: Hash tables configured (established 512 bind 512)                                               
TCP reno registered                                                                                  
squashfs: version 3.0 (2006/03/15) Phillip Lougher                                                   
Registering mini_fo version $Id$                                                                     
JFFS2 version 2.2. (NAND) (SUMMARY)  ï¿½Â© 2001-2006 Red Hat, Inc.                                      
yaffs Feb 26 2008 11:54:46 Installing.                                                               
io scheduler noop registered                                                                         
io scheduler deadline registered (default)                                                           
Serial: AMBA driver $Revision: 1.41 $                                                                
APB:UART0: ttyS0 at MMIO 0x12600000 (irq = 9) is a AMBA                                              
console handover: boot [early0] -&gt; real [ttyS0]                                                      
APB:UART1: ttyS1 at MMIO 0x12800000 (irq = 10) is a AMBA                                             
ADM5120 built-in ethernet switch driver version 0.1.1                                                
adm5120-flash.0: probing at 0x1FC00000, size:1024KiB, width:8 bits                                   
CFI: Found no adm5120-flash.0 device at location zero                                                
Found: PMC Pm39LV010                                                                                 
adm5120-flash.0: Found 1 x8 devices at 0x0 in 8-bit bank                                             
adm5120-flash.0: Found an alias at 0x20000 for the chip at 0x0                                       
adm5120-flash.0: Found an alias at 0x40000 for the chip at 0x0                                       
adm5120-flash.0: Found an alias at 0x60000 for the chip at 0x0                                       
adm5120-flash.0: Found an alias at 0x80000 for the chip at 0x0                                       
adm5120-flash.0: Found an alias at 0xa0000 for the chip at 0x0                                       
adm5120-flash.0: Found an alias at 0xc0000 for the chip at 0x0                                       
adm5120-flash.0: Found an alias at 0xe0000 for the chip at 0x0                                       
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x100000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x120000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x140000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x160000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x180000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x1a0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x1c0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x1e0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x200000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x220000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x240000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x260000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x280000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x2a0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x2c0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x2e0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x300000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x320000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x340000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x360000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x380000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x3a0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x3c0000              
adm5120-flash.0: Found different chip or no chip at all (mfr 0xff, id 0xff) at 0x3e0000              
number of JEDEC chips: 1                                                                             
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.                             
adm5120-flash.0: reducing map size to 128KiB                                                         
adm5120-flash.0: found at 0x1FC00000, size:128KiB, width:8 bits                                      
adm5120-flash.0: adding static partitions                                                            
Creating 2 MTD partitions on &quot;adm5120-flash.0&quot;:                                                      
0x00000000-0x00010000 : &quot;booter&quot;                                                                     
0x00010000-0x00020000 : &quot;firmware&quot;                                                                   
NAND device: Manufacturer ID: 0xad, Chip ID: 0x76 (Hynix NAND 64MiB 3,3V 8-bit)                      
Scanning device for bad blocks                                                                       
Creating 2 MTD partitions on &quot;NAND 64MiB 3,3V 8-bit&quot;:                                                
0x00000000-0x00400000 : &quot;kernel&quot;                                                                     
0x00400000-0x04000000 : &quot;rootfs&quot;                                                                     
mtd: partition &quot;rootfs&quot; set to be root filesystem                                                    
split_squashfs: no squashfs found in &quot;NAND 64MiB 3,3V 8-bit&quot;                                         
adm5120_wdt: Watchdog Timer version 0.1                                                              
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)                                                  
ip_tables: (C) 2000-2006 Netfilter Core Team                                                         
TCP vegas registered                                                                                 
NET: Registered protocol family 1                                                                    
NET: Registered protocol family 17                                                                   
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;                                        
All bugs added by David S. Miller &lt;davem@redhat.com&gt;                                                 
trxsplit: searching TRX header in &#039;booter&#039;                                                           
trxsplit: searching TRX header in &#039;firmware&#039;                                                         
trxsplit: &#039;kernel&#039; is not a NOR flash, skipped                                                       
trxsplit: &#039;rootfs&#039; is not a NOR flash, skipped                                                       
yaffs: dev is 32505859 name is &quot;mtdblock3&quot;                                                           
yaffs: passed flags &quot;&quot;                                                                               
yaffs: Attempting MTD mount on 31.3, &quot;mtdblock3&quot;                                                     
yaffs: auto selecting yaffs1                                                                         
VFS: Mounted root (yaffs2 filesystem) readonly.                                                      
Freeing unused kernel memory: 124k freed                                                             
Please be patient, while OpenWrt loads ...                                                           
Algorithmics/MIPS FPU Emulator v1.5                                                                  
br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.                                       
device eth0 entered promiscuous mode                                                                 
br-lan: port 1(eth0) entering learning state                                                         
br-lan: topology change detected, propagating                                                        
br-lan: port 1(eth0) entering forwarding state                                                       
ieee80211_crypt: registered algorithm &#039;NULL&#039;                                                         
ieee80211: 802.11 data/management/control stack, git-1.1.13                                          
ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;jketreno@linux.intel.com&gt;                      
ieee80211_crypt: registered algorithm &#039;WEP&#039;                                                          
ieee80211_crypt: registered algorithm &#039;TKIP&#039;                                                         
ieee80211_crypt: registered algorithm &#039;CCMP&#039;                                                         
PPP generic driver version 2.4.2                                                                     
tun: Universal TUN/TAP device driver, 1.6                                                            
tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;                                               
batgat: [init_module:96] batgat loaded  rv963                                                        
batgat: [init_module:97] I was assigned major number 254. To talk to                                 
batgat: [init_module:98] the driver, create a dev file with &#039;mknod /dev/batgat c 254 0&#039;.             
batgat: [init_module:99] Remove the device file and module when done.                                
batman-adv: B.A.T.M.A.N. Advanced 0.1-alpha rv963 (compability version 1) loaded                     
wlan: trunk                                                                                          
ath_hal: module license &#039;Proprietary&#039; taints kernel.                                                 
ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, REGOPS_F)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)                             
ath_rate_minstrel: look around rate set to 10%                                                       
ath_rate_minstrel: EWMA rolloff level set to 75%                                                     
ath_rate_minstrel: max segment size in the mrr set to 6000 us                                        
wlan: mac acl policy registered                                                                      
ath_pci: trunk                                                                                       
PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)                                                     
MadWifi: ath_attach: Switching rfkill capability off                                                 
MadWifi: ath_attach: Switching per-packet transmit power control off                                 
wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps                                                         
wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps   
wifi0: H/W encryption support: WEP AES AES_CCM TKIP                                                  
wifi0: ath_announce: Use hw queue 1 for WME_AC_BE traffic                                            
wifi0: ath_announce: Use hw queue 0 for WME_AC_BK traffic                                            
wifi0: ath_announce: Use hw queue 2 for WME_AC_VI traffic                                            
wifi0: ath_announce: Use hw queue 3 for WME_AC_VO traffic                                            
wifi0: ath_announce: Use hw queue 8 for CAB traffic                                                  
wifi0: ath_announce: Use hw queue 9 for beacons                                                      
ath_pci: wifi0: Atheros 5212: mem=0x11400000, irq=14                                                 
Registered led device: power                                                                         
Registered led device: user                                                                          
Registered led device: lan1_speed                                                                    
Registered led device: lan1_lnkact                                                                   
Registered led device: lan2_speed                                                                    
Registered led device: lan2_lnkact                                                                   
Registered led device: lan3_speed                                                                    
Registered led device: lan3_lnkact                                                                   
device ath0 entered promiscuous mode                                                                 
br-lan: port 2(ath0) entering learning state                                                         
br-lan: topology change detected, propagating                                                        
br-lan: port 2(ath0) entering forwarding state                                                       
root@OpenWrt:/etc/config#</code></pre></div><p>Here is my /etc/config/wireless:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# cat /etc/config/wireless                                                   
config wifi-device  wifi0                                                                            
        option type     atheros                                                                      
        option channel  auto                                                                         
                                                                                                     
        # REMOVE THIS LINE TO ENABLE WIFI:                                                           
        # option disabled 1                                                                          
                                                                                                     
config wifi-iface                                                                                    
        option device   wifi0                                                                        
        option network  lan                                                                          
        option mode     ap                                                                           
        option ssid     OpenWrt                                                                      
        option encryption none</code></pre></div><p>and the output of ifconfig.&nbsp; I was surprised to have both ath0 and wifi0. Is this because I included too many wireless drivers in my kernel?</p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# ifconfig                                                                   
ath0      Link encap:Ethernet  HWaddr 00:80:48:4F:03:FD                                              
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1                                         
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0                                         
          TX packets:2 errors:0 dropped:0 overruns:0 carrier:0                                       
          collisions:0 txqueuelen:0                                                                  
          RX bytes:0 (0.0 B)  TX bytes:652 (652.0 B)                                                 
                                                                                                     
br-lan    Link encap:Ethernet  HWaddr 00:0C:42:0B:9B:43                                              
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0                             
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1                                         
          RX packets:2 errors:0 dropped:0 overruns:0 frame:0                                         
          TX packets:2 errors:0 dropped:0 overruns:0 carrier:0                                       
          collisions:0 txqueuelen:0                                                                  
          RX bytes:656 (656.0 B)  TX bytes:652 (652.0 B)                                             
                                                                                                     
eth0      Link encap:Ethernet  HWaddr 00:0C:42:0B:9B:43                                              
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1                                         
          RX packets:2 errors:0 dropped:0 overruns:0 frame:0                                         
          TX packets:2 errors:0 dropped:0 overruns:0 carrier:0                                       
          collisions:0 txqueuelen:1000                                                               
          RX bytes:684 (684.0 B)  TX bytes:652 (652.0 B)                                             
          Interrupt:17                                                                               
                                                                                                     
lo        Link encap:Local Loopback                                                                  
          inet addr:127.0.0.1  Mask:255.0.0.0                                                        
          UP LOOPBACK RUNNING  MTU:16436  Metric:1                                                   
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0                                         
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0                                       
          collisions:0 txqueuelen:0                                                                  
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)                                                     
                                                                                                     
wifi0     Link encap:UNSPEC  HWaddr 00-80-48-4F-03-FD-98-0E-00-00-00-00-00-00-00-00                  
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1                                         
          RX packets:373 errors:0 dropped:0 overruns:0 frame:45                                      
          TX packets:187 errors:14 dropped:0 overruns:0 carrier:0                                    
          collisions:0 txqueuelen:195                                                                
          RX bytes:19788 (19.3 KiB)  TX bytes:22200 (21.6 KiB)                                       
          Interrupt:14</code></pre></div><p>I don&#039;t know how to proceed to get this RB133 working as an access point.&nbsp; Any thoughts?</p><p>And a second question, I have an Asus WL-500gP with a stock broadcom card in it.&nbsp; Apparently kernel 2.6 works with the asus wl-500 and atheros, but not broadcom.&nbsp; Does anyone know why I couldn&#039;t put my atheros card from the routerboard in the Asus, and the Asus&#039; broadcom card in the Routerboard?</p><p>Thanks for your assistance<br />-c</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64128">
				<div class="post-metadata">
					<div class="post-num">Post #90</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						27 Feb 2008, 08:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>Here is my /etc/config/wireless:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# cat /etc/config/wireless                                                   
config wifi-device  wifi0                                                                            
        option type     atheros                                                                      
        option channel  auto                                                                         
                                                                                                     
        # REMOVE THIS LINE TO ENABLE WIFI:                                                           
        # option disabled 1                                                                          
                                                                                                     
config wifi-iface                                                                                    
        option device   wifi0                                                                        
        option network  lan                                                                          
        option mode     ap                                                                           
        option ssid     OpenWrt                                                                      
        option encryption none</code></pre></div></blockquote></div><p>That looks OK.</p><p>I&#039;m not sure what the defaults of the different options are, so you could try adding &quot;option hidden 0&quot; to the wifi-iface section.</p><div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>and the output of ifconfig.&nbsp; I was surprised to have both ath0 and wifi0. Is this because I included too many wireless drivers in my kernel?</p></blockquote></div><p>wifi0 is the underlying wireless device.&nbsp; ath0 is virtual interface attached to the physical device.&nbsp; You can have more than one athX interface attached to a wireless device.</p><p>What does &quot;iwconfig ath0&quot; give you?</p><div class="quotebox"><cite>cdiggity wrote:</cite><blockquote><p>Does anyone know why I couldn&#039;t put my atheros card from the routerboard in the Asus, and the Asus&#039; broadcom card in the Routerboard?</p></blockquote></div><p>I don&#039;t know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64135">
				<div class="post-metadata">
					<div class="post-num">Post #91</div>
					<div class="post-author">cdiggity</div>
					<div class="post-datetime">
						27 Feb 2008, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>As it turns out, the wireless may have been working quite fine before and it was just my gnome-networkManager application that gets confused after a suspend/resume cycle. I rebooted my laptop and the access point appeared.</p><p>I did add the option hidden 0 and changed # option disabled 1 to option disabled 0 but I think that solves my RB133 related queries and now I&#039;m on to just sorting out how to configure OpenWRT in general!</p><p>Thanks for your help.</p><p>FYI here is my iwconfig ath0:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# iwconfig ath0                                                   
ath0      IEEE 802.11g  ESSID:&quot;OpenWrt&quot;  Nickname:&quot;&quot;                            
          Mode:Master  Frequency:2.442 GHz  Access Point: 00:80:48:4F:03:FD     
          Bit Rate:0 kb/s   Tx-Power:23 dBm   Sensitivity=1/1                   
          Retry:off   RTS thr:off   Fragment thr:off                            
          Encryption key:off                                                    
          Power Management:off                                                  
          Link Quality=0/70  Signal level=-94 dBm  Noise level=-94 dBm          
          Rx invalid nwid:3150  Rx invalid crypt:0  Rx invalid frag:0           
          Tx excessive retries:0  Invalid misc:0   Missed beacon:</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68375">
				<div class="post-metadata">
					<div class="post-num">Post #92</div>
					<div class="post-author">fuso</div>
					<div class="post-datetime">
						18 May 2008, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>HI</p><p>I set up an Rb133 with kernel and rootfs got from: <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120/latest/">http://wifi.ozo.com/airo/openwrt/firmwa … 20/latest/</a></p><p>Now the board is running but I&#039;m unable to understand how hardware device are mapped on /dev/port<br />I would like to direct access hardware of the board from user space without the need to write a kernel module (I&#039;m unable to this task !!)<br />does anyone know about it ?</p><p>moreover: the processor periferals are memory mapped:<br />caould I access its from /dev/mem file ???<br />and in this case what is the memory translation from the processor core address (eg: from datasheet I see network leds are mapped at 0x12000100 ... )</p><p>thank you all in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68385">
				<div class="post-metadata">
					<div class="post-num">Post #93</div>
					<div class="post-author">Slammer</div>
					<div class="post-datetime">
						18 May 2008, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>Which hardware do you want to control ?<br />Openwrt has leds support by kernel for rb1xx series.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68427">
				<div class="post-metadata">
					<div class="post-num">Post #94</div>
					<div class="post-author">fuso</div>
					<div class="post-datetime">
						20 May 2008, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>&gt;Which hardware do you want to control ?<br />&gt;Openwrt has leds support by kernel for rb1xx series.</p><p>yes I know<br />my test was to discover the use of MINI-PCI bus<br />I would like to test the possibility to map a dual port ram or similar to the pci pus to create a small lcd video card<br />I know that pci rchitecture allow the possibility to implement &#039;legacy&#039; devices with fixed bus address, adm5120 has a reserved memory area for pci memory mapped devices<br />so I thought : If I can write to these addresses may be i will be able to write at high speed to an external ram<br />my one is an experimental design so I would bypass many tasks involved in pci devices (auto configuration etc)<br />I need simply to know how to&nbsp; write in the PCI memory area...</p><p>as you can see all this is covered by many doubts !<br />but after all experimenting is my main task !</p><p>thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68927">
				<div class="post-metadata">
					<div class="post-num">Post #95</div>
					<div class="post-author">robrob</div>
					<div class="post-datetime">
						30 May 2008, 04:37					</div>
				</div>
				<div class="post-content content">
					<p>Just wanted to post a correction for the use of the wget2nand command when flashing the RB routers. When you build kamikaze using the trunk the NAND kernel image file needs to be renamed, you have to add the &quot;2.6&quot; to the name. The kernel should be called &quot;openwrt-adm5120-2.6-rb1xx-kernel&quot; so wget2nand can find it. The rootfs file does not need to be renamed.</p><p>Rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69498">
				<div class="post-metadata">
					<div class="post-num">Post #96</div>
					<div class="post-author">alik.cz</div>
					<div class="post-datetime">
						12 Jun 2008, 13:56					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br /> I&#039;m trying to create a bridge on RB133 with OpenWrt by following command:</p><p>root@OpenWrt:/&gt;# brctl addbr br1<br />add bridge failed: Package not installed</p><p>I&#039;ve searching for the solution - it seems that it is not right compiled kernel or package for bridge.</p><p>I&#039;m using a firmware from site <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/adm5120/11306">http://wifi.ozo.com/airo/openwrt/firmwa … 5120/11306</a> and I&#039;ve installed the following packages:<br />kernel<br />wireless-tools<br />libgcc<br />libpcap<br />libncurses<br />kmod-madwifi<br />bridge (1.0.6-1 mipsel)<br />iptables</p><p>When do the same command in version 10774 - it wrotes the same error. Is there some package missing? Or is it really a bug?</p><p>Thanks<br />Alik</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69516">
				<div class="post-metadata">
					<div class="post-num">Post #97</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						12 Jun 2008, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>try to remove and reinstall the bridge package from the package directory of the firmware you are using.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69690">
				<div class="post-metadata">
					<div class="post-num">Post #98</div>
					<div class="post-author">alik.cz</div>
					<div class="post-datetime">
						17 Jun 2008, 00:47					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your answer. I&#039;m trying your solution but it doesn&#039;t work. I&#039;m using MIPSEL packages (bridge, ...) from directory ...\11306\packages\mipsel\ </p><p>Alik</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p91194">
				<div class="post-metadata">
					<div class="post-num">Post #99</div>
					<div class="post-author">unicondor</div>
					<div class="post-datetime">
						11 Jul 2009, 11:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi to all..<br />I have the same problem with the creation of a bridge to my wan and my lan</p><p>I installed on my rb112 kamikaze/2.6/adm5120/13645/</p><p>and this is my packages installed:</p><div class="codebox"><pre><code>base-files-adm5120 - 13-r13645 -
bridge - 1.4-1 -
busybox - 1.11.3-3 -
dropbear - 0.51-2 -
hostap-utils - 0.4.7-1 -
hotplug2 - 0.9+r102-2 -
iptables - 1.4.0-1 -
kernel - 2.6.26.8-adm5120-1 -
kmod-crypto-aes - 2.6.26.8-adm5120-1 -
kmod-crypto-arc4 - 2.6.26.8-adm5120-1 -
kmod-crypto-core - 2.6.26.8-adm5120-1 -
kmod-crypto-michael-mic - 2.6.26.8-adm5120-1 -
kmod-hostap - 2.6.26.8-adm5120-1 -
kmod-ieee80211 - 2.6.26.8-adm5120-1 -
kmod-ipt-core - 2.6.26.8-adm5120-1 -
kmod-madwifi - 2.6.26.8+r3314-adm5120-1 -
libgcc - 4.2.4-13 -
libncurses - 5.6-1 -
libpcap - 0.9.8-1 -
libuci - 0.6.4-1 -
mtd - 8 -
opkg - 4564-1 -
uci - 0.6.4-1 -
uclibc - 0.9.29-13 -
udevtrigger - 106-1 -
wireless-tools - 29-2 -
wpa-supplicant - 0.6.3-1 -</code></pre></div><p>but when i digit:</p><div class="codebox"><pre><code>root@OpenWrt:/lib/network# brctl addbr br-lan
add bridge failed: Package not installed</code></pre></div><p>Can anyone help me please??</p><p>Thanks a lot</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100968">
				<div class="post-metadata">
					<div class="post-num">Post #100</div>
					<div class="post-author">MVV</div>
					<div class="post-datetime">
						20 Jan 2010, 14:20					</div>
				</div>
				<div class="post-content content">
					<p>reporting success in installing 8.09.2 on a RB133C </p><p>BusyBox v1.11.2 (2010-01-19 15:46:03 CET) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> KAMIKAZE (8.09.2, r18961) -------------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br />&nbsp; * 10 oz lime juice&nbsp; Salute!<br /> ---------------------------------------------------<br />root@OpenWrt:/# uname -a<br />Linux OpenWrt 2.6.26.8 #1 Tue Jan 19 16:23:07 CET 2010 mips unknown<br />root@OpenWrt:/#</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 4 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=9655&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=9655&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=9655&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=9655&amp;p=5.html">5</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>