<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Help installing packages</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p118401">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">old skool</div>
					<div class="post-datetime">
						4 Oct 2010, 02:11					</div>
				</div>
				<div class="post-content content">
					<p>I have a wrt54g router that I have flashed with backfire/10.03/brcm-2.4. I have it configured to where I can access it from a webpage or ssh secure shell, but when I try to add packages, nothing loads. From the webpage I get GCI script took to long to respond...when I use ssh secure shell, it says downloading, but it never loads. Tried disabling the Firewall. By the way I am a total noob at this, trying to learn.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118403">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">oneru</div>
					<div class="post-datetime">
						4 Oct 2010, 05:21					</div>
				</div>
				<div class="post-content content">
					<p>Try logging in using SSH and pinging google.com <br />Then run &quot;wget google.com&quot;</p><p>It sounds like the router simply can&#039;t find the internet. Let me know what it returns.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118404">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">old skool</div>
					<div class="post-datetime">
						4 Oct 2010, 06:13					</div>
				</div>
				<div class="post-content content">
					<p>This is what comes back...</p><p>root@OpenWrt:~# ping google.com<br />PING google.com (66.102.7.99): 56 data bytes<br />64 bytes from 66.102.7.99: seq=0 ttl=56 time=28.325 ms<br />64 bytes from 66.102.7.99: seq=1 ttl=56 time=44.381 ms<br />64 bytes from 66.102.7.99: seq=2 ttl=56 time=29.308 ms<br />64 bytes from 66.102.7.99: seq=3 ttl=56 time=26.352 ms<br />64 bytes from 66.102.7.99: seq=4 ttl=56 time=25.389 ms<br />64 bytes from 66.102.7.99: seq=5 ttl=56 time=51.994 ms<br />64 bytes from 66.102.7.99: seq=6 ttl=56 time=40.966 ms<br />64 bytes from 66.102.7.99: seq=7 ttl=56 time=25.539 ms<br />64 bytes from 66.102.7.99: seq=8 ttl=56 time=58.216 ms<br />64 bytes from 66.102.7.99: seq=9 ttl=56 time=29.401 ms<br />64 bytes from 66.102.7.99: seq=10 ttl=56 time=43.692 ms<br />64 bytes from 66.102.7.99: seq=11 ttl=56 time=50.515 ms<br />64 bytes from 66.102.7.99: seq=12 ttl=56 time=26.248 ms<br />64 bytes from 66.102.7.99: seq=13 ttl=56 time=25.038 ms<br />64 bytes from 66.102.7.99: seq=14 ttl=56 time=23.725 ms<br />64 bytes from 66.102.7.99: seq=15 ttl=56 time=27.451 ms<br />64 bytes from 66.102.7.99: seq=16 ttl=56 time=39.125 ms<br />64 bytes from 66.102.7.99: seq=17 ttl=56 time=23.928 ms<br />64 bytes from 66.102.7.99: seq=18 ttl=56 time=26.227 ms</p><br /><p>root@OpenWrt:~# wget <a href="http://google.com">http://google.com</a><br />Connecting to google.com (66.102.7.104:80)<br />Connecting to <a href="http://www.google.com">www.google.com</a> (66.102.7.104:80)<br />wget: can&#039;t open &#039;index.html&#039;: Operation not permitted<br />root@OpenWrt:~# </p><br /><p>This is all the info it gave me for wget google.com.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118406">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">oneru</div>
					<div class="post-datetime">
						4 Oct 2010, 06:49					</div>
				</div>
				<div class="post-content content">
					<p>Sorry. wget is a command. It downloads via http. I literally want you to type &#039;wget google.com&#039; and hit enter. It will try to download the google search page. </p><p>Then try running this command: &#039;opkg update&#039;<br />This should download the list of available packages. Let me know what is returned.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118408">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						4 Oct 2010, 07:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>wget: can&#039;t open &#039;index.html&#039;: Operation not permitted</p></blockquote></div><p>This looks like a readonly filesystem. JFFS errors maybe?</p><p>old skool: post the full output of &quot;dmesg&quot; here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118412">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">old skool</div>
					<div class="post-datetime">
						4 Oct 2010, 08:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>oneru wrote:</cite><blockquote><p>Sorry. wget is a command. It downloads via http. I literally want you to type &#039;wget google.com&#039; and hit enter. It will try to download the google search page. </p><p>Then try running this command: &#039;opkg update&#039;<br />This should download the list of available packages. Let me know what is returned.</p></blockquote></div><p>root@OpenWrt:~# wget google.com<br />wget: not an http or ftp url: google.com</p><p>root@OpenWrt:~# opkg update<br />Downloading <a href="http://downloads.openwrt.org/backfire/10.03/brcm-2.4/packages/Packages.gz">http://downloads.openwrt.org/backfire/1 … ackages.gz</a>.<br />Inflating <a href="http://downloads.openwrt.org/backfire/10.03/brcm-2.4/packages/Packages.gz">http://downloads.openwrt.org/backfire/1 … ackages.gz</a>.<br />Updated list of available packages in /var/opkg-lists/packages.<br />root@OpenWrt:~#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118413">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">old skool</div>
					<div class="post-datetime">
						4 Oct 2010, 08:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><div class="quotebox"><blockquote><p>wget: can&#039;t open &#039;index.html&#039;: Operation not permitted</p></blockquote></div><p>This looks like a readonly filesystem. JFFS errors maybe?</p><p>old skool: post the full output of &quot;dmesg&quot; here.</p></blockquote></div><p>root@OpenWrt:~# dmesg<br />CPU revision is: 00029007<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Linux version 2.4.37.9 (openwrt@wrt1.marcant.net) (gcc version 3.4.6 (OpenWrt-2.0)) #42 Tue Apr 6 15:59:04 CEST 2010<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />CPU: BCM4712 rev 1 at 200 MHz<br />Using 100.000 MHz high precision timer.<br />Calibrating delay loop... 197.83 BogoMIPS<br />Memory: 14240k/16384k available (1447k kernel code, 2144k reserved, 100k data, 84k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: Initializing host<br />PCI: Fixing up bus 0<br />PCI: Fixing up bridge<br />PCI: Setting latency timer of device 01:00.0 to 64<br />PCI: Fixing up bus 1<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />Registering mini_fo version $Id$<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 3) is a 16550A<br />b44.c:v0.93 (Mar, 2004)<br />PCI: Setting latency timer of device 00:02.0 to 64<br />eth0: Broadcom 47xx 10/100BaseT Ethernet 00:0c:41:f2:d0:16<br />Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0<br />cfi_cmdset_0001: Erase suspend on write enabled<br />0: offset=0x0,size=0x2000,blocks=8<br />1: offset=0x10000,size=0x10000,blocks=63<br />Using word write method<br />Flash device: 0x400000 at 0x1c000000<br />bootloader size: 262144<br />Physically mapped flash: Filesystem type: squashfs, size=0x1a68f2<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;cfe&quot;<br />0x00040000-0x003f0000 : &quot;linux&quot;<br />0x000bc000-0x00270000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />0x00270000-0x003f0000 : &quot;rootfs_data&quot;<br />sflash: found no supported devices<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />Linux IP multicast router 0.06 plus PIM-SM<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 84k freed<br />diag: Detected &#039;Linksys WRT54G/GS/GL&#039;<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />roboswitch: Probing device eth0: No Robo switch in managed mode found, phy_id = 0xffffffff<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /overlay<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />jffs2.bbc: SIZE compression mode activated.<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />There is already a switch registered on the device &#039;eth0&#039;<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />eth0.0: add 01:00:5e:00:00:01 mcast address to master interface<br />eth0.1: add 01:00:5e:00:00:01 mcast address to master interface<br />eth0.0: dev_set_promiscuity(master, 1)<br />device eth0 entered promiscuous mode<br />device eth0.0 entered promiscuous mode<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: port 1(eth0.0) entering forwarding state<br />br-lan: topology change detected, propagating<br />PCI: Setting latency timer of device 00:01.0 to 64<br />PCI/DMA<br />wl0: wlc_attach: chiprev 1 coreunit 0 corerev 7 cccap 0x4876a maccap 0x0 band 2.4G, phy_type 2 phy_rev 2 ana_rev 2<br />wl0: Broadcom BCM4320 802.11 Wireless Controller 4.150.10.5<br />CSLIP: code copyright 1989 Regents of the University of California<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2002 Netfilter core team<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 352 bytes per conntrack<br />device wl0 entered promiscuous mode<br />br-lan: port 2(wl0) entering learning state<br />br-lan: port 2(wl0) entering forwarding state<br />br-lan: topology change detected, propagating<br />Write of 68 bytes at 0x00164c94 failed. returned -30, retlen 0<br />Not marking the space at 0x00164c94 as dirty because the flash driver returned retlen zero<br />mini_fo: build_sto_structure: failed to create storage dir [1].<br />mini_fo: get_neg_sto_dentry: ERROR building sto structure.<br />mini_fo: create_sto_file: ERROR getting neg. sto dentry.<br />root@OpenWrt:~#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118414">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						4 Oct 2010, 08:52					</div>
				</div>
				<div class="post-content content">
					<p>Ah, there it is:<br /></p><div class="quotebox"><blockquote><p>Write of 68 bytes at 0x00164c94 failed. returned -30, retlen 0<br />Not marking the space at 0x00164c94 as dirty because the flash driver returned retlen zero</p></blockquote></div><p>Please do this:<br /></p><div class="codebox"><pre><code>mtd unlock rootfs_data
echo &quot;mtd unlock rootfs_data&quot; &gt; /etc/rc.local
reboot</code></pre></div><p>Then try again. You&#039;re probably hitting this bug: <a href="https://dev.openwrt.org/ticket/7437#comment:1">https://dev.openwrt.org/ticket/7437#comment:1</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118471">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">old skool</div>
					<div class="post-datetime">
						5 Oct 2010, 07:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Ah, there it is:<br /></p><div class="quotebox"><blockquote><p>Write of 68 bytes at 0x00164c94 failed. returned -30, retlen 0<br />Not marking the space at 0x00164c94 as dirty because the flash driver returned retlen zero</p></blockquote></div><p>Please do this:<br /></p><div class="codebox"><pre><code>mtd unlock rootfs_data
echo &quot;mtd unlock rootfs_data&quot; &gt; /etc/rc.local
reboot</code></pre></div><p>Then try again. You&#039;re probably hitting this bug: <a href="https://dev.openwrt.org/ticket/7437#comment:1">https://dev.openwrt.org/ticket/7437#comment:1</a></p></blockquote></div><p>That did the trick...you are the best. Thanks!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>