<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Archer C7 new install can&#039;t telnet in</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p329187">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sunox</div>
					<div class="post-datetime">
						20 Jun 2016, 19:31					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,</p><p>I just installed openwrt on my new Archer c7 v2, and I cannot telnet in or access luci. </p><p>This version of the C7 has the&nbsp; gd25q128 chip which is not supported in the main release. According to the quick install guide at <a href="https://wiki.openwrt.org/toh/tp-link/archer-c5-c7-wdr7500:">https://wiki.openwrt.org/toh/tp-link/ar … 7-wdr7500:</a></p><div class="quotebox"><blockquote><p>If you want to install 15.05.1 with support for the new gd25q128 flash chip you can download this factory or sysupgrade image, then manually install the ath10k firmware and kernel module.</p></blockquote></div><p>I presume this means to install the 15.05.1 image (which I have done), telnet in to the router (since luci is not available), and install ath10k and the kernel via the command line. </p><p>When I try to telnet in, I get the following error message:<br /></p><div class="quotebox"><blockquote><p>telnet&gt; open 192.168.1.1 23<br />Unable to connect to remote host: Network is unreachable</p></blockquote></div><p>I am connected to the router through a LAN port, and I do not seem to be receiving an IP address from the router.</p><p>Pinging 192.168.1.1 gives the same &quot;Network is unreachable&quot; error.</p><p>I have a bit of experience with Linux, but not that much, and I&#039;m a little over my head here. I would really appreciate any help anyone can offer.</p><p>Thank you.</p>											<p class="post-edited">(Last edited by <strong>sunox</strong> on 20 Jun 2016, 19:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329194">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						20 Jun 2016, 20:43					</div>
				</div>
				<div class="post-content content">
					<p>Try ssh instead, at least trunk snapshots no longer have a telnetd and only allow ssh (root, no password after firstboot, give it a couple of minutes to settle after booting (to generate the necessary ssh hostkeys, uhttpd certificates, etc.)).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329195">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sera</div>
					<div class="post-datetime">
						20 Jun 2016, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>Did you flash<br /><a href="https://zioncluster.ca/openwrt/archer-c7/openwrt-ar71xx-generic-archer-c7-v2-squashfs-factory.bin">https://zioncluster.ca/openwrt/archer-c … actory.bin</a><br />or <br /><a href="http://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/openwrt-15.05.1-ar71xx-generic-archer-c7-v2-squashfs-factory.bin">http://downloads.openwrt.org/chaos_calm … actory.bin</a></p><p>Only the former apparently supports the new flash chip going by the wiki page you linked. If you flashed the latter you might be in for tftp recovery.</p><p>Going by size, both have luci pre-installed, though that is of little help as long as you don&#039;t get an ip.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329197">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						20 Jun 2016, 21:22					</div>
				</div>
				<div class="post-content content">
					<p>Really.&nbsp; Sometimes is the answer in clear view -</p><div class="quotebox"><cite>sunox wrote:</cite><blockquote><p>I am connected to the router through a LAN port, and I do not seem to be receiving an IP address from the router.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329199">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sera</div>
					<div class="post-datetime">
						20 Jun 2016, 21:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p>Really.&nbsp; Sometimes is the answer in clear view -</p><div class="quotebox"><cite>sunox wrote:</cite><blockquote><p>I am connected to the router through a LAN port, and I do not seem to be receiving an IP address from the router.</p></blockquote></div></blockquote></div><p>The answer for what question, the one in the title or the implied one, the one the OP actually wants an answer for?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329201">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">sunox</div>
					<div class="post-datetime">
						20 Jun 2016, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the responses everyone.</p><p>Sera, I had flashed the second one, which may have been the source of my earlier problems.</p><p>Since my first message I did a TFTP recovery of the stock firmware. I then flashed OpenWRT again, but this time the trunk image, and thankfully I am now able to log in using SSH!</p><p>Thanks again, the information I got here was a huge help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329210">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mikemccartney</div>
					<div class="post-datetime">
						21 Jun 2016, 00:03					</div>
				</div>
				<div class="post-content content">
					<p>Sunox, if possible could you demonstrate how you flashed with TFTP? I&#039;ve been trying for a couple of days now and can&#039;t get it to work for some reason, thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329225">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sunox</div>
					<div class="post-datetime">
						21 Jun 2016, 01:29					</div>
				</div>
				<div class="post-content content">
					<p>I had a bit of trouble with TFTP on linux, but was able to get it to work using Windows by following this guide: <a href="http://www.trishtech.com/2015/06/unbrick-tplink-wr740n-wifi-router/">http://www.trishtech.com/2015/06/unbric … fi-router/</a></p><p>Note that in step three, you have to rename the .bin to ArcherC7v2_tp_recovery.bin, not wr740v4_tp_recovery.bin.</p><p>Hope that helps!</p><p>PS during step 7, click the Log viewer tab to get feedback as to how it&#039;s going.</p>											<p class="post-edited">(Last edited by <strong>sunox</strong> on 21 Jun 2016, 01:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329226">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">sunox</div>
					<div class="post-datetime">
						21 Jun 2016, 01:40					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve run into a little snag while trying to install luci. After logging in to the router (newest snapshot release), I try to opkg update, but it fails, saying &quot;Signature check failed&quot; repeatedly. According to this source (<a href="https://community.onion.io/topic/93/signature-check-failed-var-opkg-lists-chaos_calmer_packages">https://community.onion.io/topic/93/sig … r_packages</a>), the error happens because the signature generated during compilation is different from the signature in the opkg repository. Is his normal for trunk builds? The folks at the hyperlink above solved the problem by disabling the checking of signatures, but it seems like this might problematic from a security standpoint.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329230">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mikemccartney</div>
					<div class="post-datetime">
						21 Jun 2016, 01:56					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, i&#039;m actually working on a Linksys EA3500, but that process seems to be the one i&#039;ve been doing, so it may just be beyond repair unfortunately, i appreciate the help though. On your problems with the Luci signature check, i had a similar problem with opkg update once too, i just closed out the ssh session, started a new one and ran opkg update again and the signature passed, i don&#039;t know if that will help in your case, just thought it might be worth a try if you haven&#039;t already.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329233">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">sunox</div>
					<div class="post-datetime">
						21 Jun 2016, 02:25					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m far from an expert, but according to what I&#039;ve read routers look for the TFTP server at a specific IP address. For TP Link it is the 192.168.1.66 or something, but for Linksys it may be different. Wish I could be more help.</p><p>Thanks for the tip, I&#039;ll give it a try later tonight!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>