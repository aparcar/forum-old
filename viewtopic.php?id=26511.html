<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Open vpn</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p116914">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alitabass</div>
					<div class="post-datetime">
						11 Sep 2010, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>hello all,</p><p>I am working with openwrt kamikaze 2.6.25.20 and try to configure openvpn as a client, the version used is 2.0.9 i386-linux [SSL] [LZO] built on July 17, 2010 and this is my configuration file:<br />&nbsp; &nbsp; &nbsp; &nbsp; option enable 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option client 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option dev tun<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto udp<br />&nbsp; &nbsp; &nbsp; &nbsp; list remote xxx.xxx.xxx.xxx 1194<br />&nbsp; &nbsp; &nbsp; &nbsp; option resolv_retry infinite<br />&nbsp; &nbsp; &nbsp; &nbsp; option persist_key 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option persist_tun 1<br />&nbsp; &nbsp; option ca /etc/openvpn/ca.crt<br />&nbsp; &nbsp; &nbsp; &nbsp; option cert /etc/openvpn/prueba.crt<br />&nbsp; &nbsp; &nbsp; &nbsp; option key /etc/openvpn/prueba.key<br />&nbsp; &nbsp; &nbsp; &nbsp; option comp_lzo 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option verb 3</p><br /><p>When I start up the service tun0 interface and reviewing logs shows me the following:</p><p>Sep 11 17:22:13 openvpn daemon.notice warriors (sample_client) [22 687]: OpenVPN 2.0.9 i386-linux [SSL] [LZO] built on July 17, 2010<br />Sep 11 17:22:13 openvpn daemon.warn warriors (sample_client) [22 687]: IMPORTANT: OpenVPN&#039;s default port number is now 1194, based on an official port number assignment by IANA. OpenVPN 2.0-beta16 and Earlier Used as the default port 5000.<br />Sep 11 17:22:13 openvpn daemon.warn warriors (sample_client) [22 687]: WARNING: No server certificate verification method has-been enabled. See <a href="http://openvpn.net/howto.html">http://openvpn.net/howto.html</a> # MITM for more info.<br />Sep 11 17:22:13 openvpn daemon.notice warriors (sample_client) [22 687]: LZO compression initialized<br />Sep 11 17:22:13 openvpn daemon.notice warriors (sample_client) [22 687]: Control C<br />Hannele MTU parms [L: 1542 D: 138 EF: 38 EB: 0 ET: 0 EL: 0]<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Data Channel MTU parms [L: 1542 D: 1450 EF: 42 EB: 135 ET: 0 EL: 0 AF: 3 / 1]<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Local Opt<br />ions hash (VER = V4): &#039;41690919 &#039;<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Expected<br />Remote Options hash (VER = V4): &#039;530fdded &#039;<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: UDPv4 lin<br />local k: [undef]<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: UDPv4 lin<br />k remote: xxx.xxx.xxx.xxx: 1194<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: TLS: Init<br />ial packet from 189.254.89.114:1194, sid = d398038c ba528fa9<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: VERIFY OK: depth = 1, / C = MX / ST = MX / L = MEXICO / O = VPN-Warriors/OU = Warriors-Defender / CN = warriors / emailAddress = xxxxxxxxxxxxxxxxxxxxxxxxxx<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: VERIFY OK: depth = 0, / C = MX / ST = MX / O = VPN-Warriors/OU = Warriors-Defender/CN = server / emailAddress = xXxXxXxXxXxXxXxXxXx<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: Control C<br />Hannele: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 1024 bit RSA<br />Sep 11 17:22:14 openvpn daemon.notice warriors (sample_client) [22 687]: [server]<br />Peer Connection Initiated with xxx.xxx.xxx.xxx: 1194<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: SENT CONTROL [server]: &#039;PUSH_REQUEST&#039; (status = 1)<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: PUSH: Received control message: &#039;PUSH_REPLY, route 10.2.1.0 255.255.255.0, route 10.8.0.0 255.255.255.0, ping 10, ping-restart 120, ifconfig 10.8.0.22 10.8.0.21 &#039;<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: OPTIONS IMPORT: timers and / or timeouts modified<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: OPTIONS IMPORT: --ifconfig/up modified options<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: OPTIONS IMPORT: route options modified<br />Sep 11 17:22:15 openvpn daemon.warn warriors (sample_client) [22 687]: Note: Can not TUNSETIFF tun ioctl: Inappropriate ioctl for device (errno = 25)<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: Note: Att<br />empting fallback to kernel 2.2 TUN / TAP interface<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: TUN / TAP device / dev/tun0 Opened<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: / sbin / ifc<br />pointopoint onfig 10.8.0.22 10.8.0.21 tun0 mtu 1500<br />Sep 11 17:22:15 openvpn daemon.err warriors (sample_client) [22 687]: Linux ifconf<br />ig failed: shell command exited with error status: 1<br />Sep 11 17:22:15 openvpn daemon.notice warriors (sample_client) [22 687]: Exiting</p><p>reviewing this response seems to be connected, but ultimately does not.</p><p>Anyone know how to solve this problem, I read in some forums that may be a problem of compatibility with the kernel or is about configuration, </p><p>I welcome your comments</p><p>Thanks!<br />Escuchar<br />Leer fon√©ticamente</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>