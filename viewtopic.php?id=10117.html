<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Own IPKG packages build with OpenWRT-SDK (mysql &amp; perl)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p45476">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						29 Mar 2007, 17:30					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody !</p><p>I&#039;m a new OpenWRT user, specially for rb532 boards. </p><p>Now, thanks to the nice Kamikaze svn depot, I&#039;ve been able to build an image with all drivers and packages needed (chilispot, freeradius, ...) exept for mysql-server (seem to be not avaible) and a full perl interpreter. </p><p>In fact, I need a perl interpreter which supports the md5 and filereader functions.</p><p>So I&#039;ve decided to build the myself. Obviously, as I&#039;m a newbie, it&#039;s more easy to say than to do <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Now I&#039;ve got trouble :&lt;</p><p>Here what I&#039;ve done : (as said here : <a href="http://wiki.openwrt.org/BuildingPackagesHowTo)">http://wiki.openwrt.org/BuildingPackagesHowTo)</a></p><p>--&gt; I&#039;ve decompressed the generated SDK.<br />--&gt; Into the OpenWRT-SDK directory I&#039;ve created under the &quot;package&quot; directory, two sub-directories :</p><div class="codebox"><pre><code>BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686$ ll -R package/
package/:
total 16
drwxr-xr-x 4 toboz toboz 4096 2007-03-29 16:14 100-perl-5.8.8
drwxr-xr-x 4 toboz toboz 4096 2007-03-29 16:15 200-mysql-5.0.37
-rw-r--r-- 1 toboz toboz 2068 2007-03-27 09:23 Makefile
-rw-r--r-- 1 toboz toboz 2312 2007-03-24 14:43 rules.mk

package/100-perl-5.8.8:
total 16
-rw-r--r-- 1 toboz toboz  460 2007-03-29 14:15 Config.in
drwxr-xr-x 2 toboz toboz 4096 2007-03-29 11:56 ipkg
-rw-r--r-- 1 toboz toboz 1559 2007-03-29 13:00 Makefile
drwxr-xr-x 2 toboz toboz 4096 2007-03-29 11:03 patches

package/100-perl-5.8.8/ipkg:
total 4
-rw-r--r-- 1 toboz toboz 81 2007-03-29 11:56 perl.control

package/100-perl-5.8.8/patches:
total 0

package/200-mysql-5.0.37:
total 16
-rw-r--r-- 1 toboz toboz  159 2007-03-29 14:53 Config.in
drwxr-xr-x 2 toboz toboz 4096 2007-03-29 16:16 ipkg
-rw-r--r-- 1 toboz toboz 1827 2007-03-29 15:36 Makefile
drwxr-xr-x 2 toboz toboz 4096 2007-03-29 11:03 patches

package/200-mysql-5.0.37/ipkg:
total 4
-rw-r--r-- 1 toboz toboz 89 2007-03-29 14:52 mysql.control

package/200-mysql-5.0.37/patches:
total 0</code></pre></div><p>To begin I show the content of my MySQL files :</p><p>* Content of package/200-mysql-5.0.37/Makefile *</p><div class="codebox"><pre><code>include $(TOPDIR)/rules.mk

PKG_NAME:=mysql
PKG_VERSION:=5.0.37
PKG_RELEASE:=1
PKG_MD5SUM:=26ed76facb58bdeae40c8310e337dde2

PKG_SOURCE_URL:=http://6lv1aliast0b0z.free.fr/OpenWRT/src/
PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
PKG_CAT:=zcat

PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)-$(PKG_VERSION)
PKG_INSTALL_DIR:=$(PKG_BUILD_DIR)/ipkg-install

include $(TOPDIR)/package/rules.mk

$(eval $(call PKG_template,MYSQL,$(PKG_NAME),$(PKG_VERSION)-$(PKG_RELEASE),$(ARCH)))

$(PKG_BUILD_DIR)/.configured: $(PKG_BUILD_DIR)/.prepared
    (cd $(PKG_BUILD_DIR); \
        $(TARGET_CONFIGURE_OPTS) \
        CFLAGS=&quot;$(TARGET_CFLAGS)&quot; \
        CPPFLAGS=&quot;-I$(STAGING_DIR)/usr/include -I$(STAGING_DIR)/include&quot; \
        LDFLAGS=&quot;-L$(STAGING_DIR)/usr/lib -L$(STAGING_DIR)/lib&quot; \
        ./configure \
            --target=$(GNU_TARGET_NAME) \
            --host=$(GNU_TARGET_NAME) \
            --prefix=/usr \
            --without-libiconv-prefix \
            --without-libintl-prefix \
            --bindir=/usr/bin \
            --sbindir=/usr/sbin \
            --libexecdir=/usr/lib \
            --datadir=/usr/share \
            --sysconfdir=/etc \
            --localstatedir=/var \
            --libdir=/usr/lib \
            --includedir=/usr/include \
            --infodir=/usr/share/info \
            --mandir=/usr/share/man \
            $(DISABLE_NLS) \
            $(DISABLE_LARGEFILE) \
    );
    ## Add software specific configurable options above
    ## See : ./configure --help
    touch $@

$(PKG_BUILD_DIR)/.built:
    rm -rf $(PKG_INSTALL_DIR)
    mkdir -p $(PKG_INSTALL_DIR)/usr/bin
    $(MAKE) -C $(PKG_BUILD_DIR)/src \
        $(TARGET_CONFIGURE_OPTS) \
        prefix=&quot;$(PKG_INSTALL_DIR)/usr&quot;
    $(CP) $(PKG_BUILD_DIR)/src/mysql $(PKG_INSTALL_DIR)/usr/bin
    touch $@

$(IPKG_MYSQL):
    install -d -m0755 $(IDIR_MYSQL)/usr/bin
    $(CP) $(PKG_INSTALL_DIR)/usr/bin/mysql $(IDIR_MYSQL)/usr/bin
    $(RSTRIP) $(IDIR_MYSQL)
    $(IPKG_BUILD) $(IDIR_MYSQL) $(PACKAGE_DIR)
mostlyclean:
    make -C $(PKG_BUILD_DIR) clean
    rm $(PKG_BUILD_DIR)/.built</code></pre></div><p>And when I run make :</p><div class="codebox"><pre><code>make V=99
make package/compile
make[1]: entrant dans le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686 »
make[2]: entrant dans le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686 »
Collecting package info...make[3]: entrant dans le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686 »
Collecting package info: done
make[3]: quittant le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686 »
make[2]: quittant le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686 »
make -C package compile SDK=1
make[2]: entrant dans le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/package »
make[2]: quittant le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/package »
make[2]: entrant dans le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/package »
make[2]: « compile » est à jour.
make[2]: quittant le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/package »
make[1]: quittant le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686 »
( \
                cd package; \
                find . -maxdepth 2 -name Config.in | \
                        sed -e &#039;s,/Config.in,,g&#039; | \
                        xargs -r -n1 make compile -C; \
        )
make[1]: entrant dans le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/package/200-mysql-5.0.37 »
(cd /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/build_mipsel/mysql-5.0.37; \
                AR=mipsel-linux-uclibc-ar AS=&quot;mipsel-linux-uclibc-gcc -c -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; LD=mipsel-linux-uclibc-ld NM=mipsel-linux-uclibc-nm CC=&quot;mipsel-linux-uclibc-gcc&quot; GCC=&quot;mipsel-linux-uclibc-gcc&quot; CXX=mipsel-linux-uclibc-g++ RANLIB=mipsel-linux-uclibc-ranlib STRIP=mipsel-linux-uclibc-strip OBJCOPY=mipsel-linux-uclibc-objcopy OBJDUMP=mipsel-linux-uclibc-objdump \
                CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; \
                CPPFLAGS=&quot;-I/home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/staging_dir_mipsel/usr/include -I/home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/staging_dir_mipsel/include&quot; \
                LDFLAGS=&quot;-L/home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/staging_dir_mipsel/usr/lib -L/home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/staging_dir_mipsel/lib&quot; \
                ./configure \
                        --target=mipsel-linux \
                        --host=mipsel-linux \
                        --prefix=/usr \
                        --without-libiconv-prefix \
                        --without-libintl-prefix \
                        --bindir=/usr/bin \
                        --sbindir=/usr/sbin \
                        --libexecdir=/usr/lib \
                        --datadir=/usr/share \
                        --sysconfdir=/etc \
                        --localstatedir=/var \
                        --libdir=/usr/lib \
                        --includedir=/usr/include \
                        --infodir=/usr/share/info \
                        --mandir=/usr/share/man \
                        --disable-nls \
                         \
        );
configure: WARNING: If you wanted to set the --build type, don&#039;t use --host.
    If a cross compiler is detected then cross compile mode will be used.
checking build system type... i686-pc-linux-gnu
checking host system type... mipsel-unknown-linux-gnu
checking target system type... mipsel-unknown-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for gawk... no
checking for mawk... mawk
checking whether make sets $(MAKE)... yes
checking for mipsel-linux-strip... mipsel-linux-uclibc-strip
checking &quot;character sets&quot;... default: latin1, collation: latin1_swedish_ci; compiled in: latin1 latin1 utf8
checking whether to compile national Unicode collations... yes
checking whether build environment is sane... yes
checking whether make sets $(MAKE)... (cached) yes
checking for gawk... (cached) mawk
checking for mipsel-linux-gcc... mipsel-linux-uclibc-gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... yes
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether mipsel-linux-uclibc-gcc accepts -g... yes
checking for mipsel-linux-uclibc-gcc option to accept ANSI C... none needed
checking for style of include used by make... GNU
checking dependency style of mipsel-linux-uclibc-gcc... gcc3
checking for mipsel-linux-g++... mipsel-linux-uclibc-g++
checking whether we are using the GNU C++ compiler... yes
checking whether mipsel-linux-uclibc-g++ accepts -g... yes
checking dependency style of mipsel-linux-uclibc-g++... gcc3
checking how to run the C preprocessor... mipsel-linux-uclibc-gcc -E
checking &quot;C Compiler version&quot;... &quot;mipsel-linux-uclibc-gcc mipsel-linux-uclibc-gcc (GCC) 4.1.2&quot;
checking &quot;C++ compiler version&quot;... &quot;mipsel-linux-uclibc-g++ mipsel-linux-uclibc-g++ (GCC) 4.1.2&quot;
checking for mipsel-linux-ranlib... mipsel-linux-uclibc-ranlib
checking for a sed that does not truncate output... /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/staging_dir_mipsel/bin/sed
checking for egrep... grep -E
checking for ld used by mipsel-linux-uclibc-gcc... mipsel-linux-uclibc-ld
checking if the linker (mipsel-linux-uclibc-ld) is GNU ld... yes
checking for mipsel-linux-uclibc-ld option to reload object files... -r
checking for BSD-compatible nm... mipsel-linux-uclibc-nm
checking whether ln -s works... yes
checking how to recognise dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking how to run the C++ preprocessor... mipsel-linux-uclibc-g++ -E
checking for mipsel-linux-g77... no
checking for mipsel-linux-f77... no
checking for mipsel-linux-xlf... no
checking for mipsel-linux-frt... no
checking for mipsel-linux-pgf77... no
checking for mipsel-linux-fort77... no
checking for mipsel-linux-fl32... no
checking for mipsel-linux-af77... no
checking for mipsel-linux-f90... no
checking for mipsel-linux-xlf90... no
checking for mipsel-linux-pgf90... no
checking for mipsel-linux-epcf90... no
checking for mipsel-linux-f95... no
checking for mipsel-linux-fort... no
checking for mipsel-linux-xlf95... no
checking for mipsel-linux-ifc... no
checking for mipsel-linux-efc... no
checking for mipsel-linux-pgf95... no
checking for mipsel-linux-lf95... no
checking for mipsel-linux-gfortran... no
checking for g77... no
checking for f77... no
checking for xlf... no
checking for frt... no
checking for pgf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for f90... no
checking for xlf90... no
checking for pgf90... no
checking for epcf90... no
checking for f95... no
checking for fort... no
checking for xlf95... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for gfortran... no
checking whether we are using the GNU Fortran 77 compiler... no
checking whether  accepts -g... no
checking the maximum length of command line arguments... 32768
checking command to parse mipsel-linux-uclibc-nm output from mipsel-linux-uclibc-gcc object... ok
checking for objdir... .libs
checking for mipsel-linux-ar... mipsel-linux-uclibc-ar
checking for mipsel-linux-ranlib... (cached) mipsel-linux-uclibc-ranlib
checking for mipsel-linux-strip... (cached) mipsel-linux-uclibc-strip
checking if mipsel-linux-uclibc-gcc supports -fno-rtti -fno-exceptions... no
checking for mipsel-linux-uclibc-gcc option to produce PIC... -fPIC
checking if mipsel-linux-uclibc-gcc PIC flag -fPIC works... yes
checking if mipsel-linux-uclibc-gcc static flag -static works... yes
checking if mipsel-linux-uclibc-gcc supports -c -o file.o... yes
checking whether the mipsel-linux-uclibc-gcc linker (mipsel-linux-uclibc-ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... cat: /etc/ld.so.conf.d/*.conf: No such file or directory
GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
configure: creating libtool
appending configuration tag &quot;CXX&quot; to libtool
checking for ld used by mipsel-linux-uclibc-g++... mipsel-linux-uclibc-ld
checking if the linker (mipsel-linux-uclibc-ld) is GNU ld... yes
checking whether the mipsel-linux-uclibc-g++ linker (mipsel-linux-uclibc-ld) supports shared libraries... yes
checking for mipsel-linux-uclibc-g++ option to produce PIC... -fPIC
checking if mipsel-linux-uclibc-g++ PIC flag -fPIC works... yes
checking if mipsel-linux-uclibc-g++ static flag -static works... yes
checking if mipsel-linux-uclibc-g++ supports -c -o file.o... yes
checking whether the mipsel-linux-uclibc-g++ linker (mipsel-linux-uclibc-ld) supports shared libraries... yes
checking dynamic linker characteristics... cat: /etc/ld.so.conf.d/*.conf: No such file or directory
GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
appending configuration tag &quot;F77&quot; to libtool
checking for a BSD-compatible install... /usr/bin/install -c
checking for bison... bison -y -p MYSQL
checking for pdftex... manual.pdf
checking for tex... manual.dvi
checking &quot;return type of sprintf&quot;... configure: error: cannot run test program while cross compiling
See `config.log&#039; for more details.
make[1]: *** [/home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/build_mipsel/mysql-5.0.37/.configured] Erreur 1
make[1]: quittant le répertoire « /home/toboz/Desktop/RB532_Firmware/OpenWRT/BuildRoot/OpenWrt-SDK-rb532-2.6-for-Linux-i686/package/200-mysql-5.0.37 »
make: [world] Erreur 123 (ignorée)</code></pre></div><p>If you want to see the `config.log&#039; I can pastebin it for you.</p><p>I&#039;ve tried to compile mysql directly whith the same options ($ ./configure --target=mipsel-linux --host=mipsel-linux --prefix=/usr --without-libiconv-prefix --without-libintl-prefix --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var --libdir=/usr/lib --includedir=/usr/include --infodir=/usr/share/info --mandir=/usr/share/man --disable-nls) and no error ... </p><p>And my perl sucks too <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> sorry I&#039;m a big newbie with ipkg build !! It&#039;s more easy to do ipkg install ... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>So if someone has any idea ... thanks in advance for your precious help. See U <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>toboz.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45484">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						29 Mar 2007, 18:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi again !</p><p>In order to solve my problem, I think that I just have to find a way to disable the sprintf test because as said : </p><div class="codebox"><pre><code>checking &quot;return type of sprintf&quot;... configure: error: cannot run test program while cross compiling
See `config.log&#039; for more details.</code></pre></div><p>But how ? I&#039;ve tried to edit the configure file in the mysql sources directory, ~, checked the compilation options, ... I don&#039;t know what to do.<br />Many thanks for your help.</p><p>toboz.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46649">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						18 Apr 2007, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,</p><p>I even answer myself me. I finally gave up the attempt to compile MySQL.&nbsp; </p><p>I baited myself to compile Perl thanks to Makefile of frol (see here: <a href="http://forum.openwrt.org/viewtopic.php?id=4122)">http://forum.openwrt.org/viewtopic.php?id=4122)</a>.<br />I finally succeeded in compiling Perl with the basic modules like DBI and DBD::SQLITE. I say that so that all the people needing absolutely a data base on<br />their board, use perl-dbi-sqite.ipk, it is a good alternative. </p><p>All my builds are targeted for RB532 so if someone wants them, contact me. <br />If other people want my package directory, contact me too. </p><p>Here while hoping to be able to help somebody.</p><p>Ah yes, and still thank you in Frol;)</p><p>toboz.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46971">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						23 Apr 2007, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi toboz,<br />did you use buildroot to compile perl, or just SDK? I&#039;m having problems to do it.<br />I added frol&#039;s source to compile perl for my wp54 wrt. I copied all folders in openwrt/package folder and then I executed &quot;make menuconfig&quot;, but I can&#039;t see Perl in the packages list. I added a Config.in copying microperl&#039;s Config.in, but I still can&#039;t see Perl in the list.<br />I also wrote about this problem at <a href="http://forum.openwrt.org/viewtopic.php?id=4122">http://forum.openwrt.org/viewtopic.php?id=4122</a>.<br />Thank you in advance.</p>											<p class="post-edited">(Last edited by <strong>ggp81</strong> on 23 Apr 2007, 18:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46973">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						23 Apr 2007, 18:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi ggp81,</p><p>I&#039;ve used the OpenWRT SDK for rb532 (that&#039;s my board).<br />I&#039;ve a little modified&nbsp; some frol&#039;s Makefiles and mixed some other from perl 5.8.7 and from perl 5.8.8.<br />I&#039;ve not tried to make perl appear in the make menuconfig since I&#039;ve used the SDK. If you want, I can send you my package directory.</p><p>Good luck.</p><p>toboz.</p>											<p class="post-edited">(Last edited by <strong>toboz</strong> on 23 Apr 2007, 18:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46975">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ali1234</div>
					<div class="post-datetime">
						23 Apr 2007, 18:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>toboz wrote:</cite><blockquote><p>Hi again !</p><p>In order to solve my problem, I think that I just have to find a way to disable the sprintf test because as said : </p><div class="codebox"><pre><code>checking &quot;return type of sprintf&quot;... configure: error: cannot run test program while cross compiling
See `config.log&#039; for more details.</code></pre></div><p>But how ? I&#039;ve tried to edit the configure file in the mysql sources directory, ~, checked the compilation options, ... I don&#039;t know what to do.<br />Many thanks for your help.</p><p>toboz.</p></blockquote></div><p>To fix that error you need to edit configure.ac and run autoconf to regenerate configure.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46976">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						23 Apr 2007, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>oh ... thank you very much. </p><p>I will test as soon as I have a little more spare time can you please say to me or you found this informartion ?</p><p>Many thanks.</p><p>t.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46978">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ali1234</div>
					<div class="post-datetime">
						23 Apr 2007, 19:18					</div>
				</div>
				<div class="post-content content">
					<p>I forget where I read the solution. I first ran into that problem when configure replaced all the calls to malloc() with calls to rpl_malloc() in some program I was trying to cross compile. The solution was the same: It&#039;s a well known problem when cross compiling. The configure script attempts to compile and run a program using the cross-compiler, which obviously will not run on the development machine - so it fails that test.</p>											<p class="post-edited">(Last edited by <strong>ali1234</strong> on 23 Apr 2007, 19:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46981">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						23 Apr 2007, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your quick answer. You are certainly right about the proposed solution.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52374">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						16 Jul 2007, 04:52					</div>
				</div>
				<div class="post-content content">
					<p>It looks like people were pretty close to getting perl build on Kamikaze. I was wondering, if it is available as a package? Microperl is too &quot;micro&quot; for my needs; and I don&#039;t feel knowledgeable enough to create the environment and build myself (not to mention, that I didn&#039;t see the sources that are known to work on Kamikaze).</p><p>TIA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52382">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						16 Jul 2007, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>Look at d1mag homepage:&nbsp; <a href="http://home.mag.cx/openwrt/kamikaze">http://home.mag.cx/openwrt/kamikaze</a><br />It should work!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52401">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						16 Jul 2007, 19:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi all !</p><p>Iymhee_bcex: If you need database access, here my personal repository: <a href="http://mypics.fr/openwrt-sdk/">http://mypics.fr/openwrt-sdk/</a><br />I think of having the same packages as d1mag with in more :</p><p>- perl-dbi_1.54-1_mipsel.ipk (DBI module - tested &amp; ok)<br />- perl-dbd-sqlite_1.13-1_mipsel.ipk (DBD::SQLite - tested &amp; ok)<br />- pgsql-perl_1.9.0-1_mipsel.ipk (Pg module - not yet tested - on standby of DBD::Pg)</p><p>To us all we well will end up having a complete Perl under OpenWrt <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Enjoy and keep me informed of eventual problems. If someone needs my &quot;package&quot; directory of &quot;my&quot; SDK, he (or she) has just to mail me.</p><p>See you soon.</p><p>toboz</p>											<p class="post-edited">(Last edited by <strong>toboz</strong> on 16 Jul 2007, 19:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52427">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						17 Jul 2007, 06:41					</div>
				</div>
				<div class="post-content content">
					<p>ggp81, toboz - thank you both!</p><p>toboz, unfortunately, your directory gives me too many dependency errors. For example, I install perlbase-essentials, it tells me that I need perlbase-config, and perlbase-config also complains about several dependencies.</p><p>Also, perl itself has a (minor) glitch: it installs only perl-5.8.8, but not perl link.</p><p>ggp81 seems to install easier.</p><p>I maintain <a href="http://www.rabinovich.org/G2/">nightly builds</a> for gallery project. I build them at home, and scp to the public site. So, I was hoping to build on the router (ASUS 500gP), rather than to keep server running. So, I don&#039;t need a database, but I need CLI perl and PHP. So far, looks very promising</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52428">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						17 Jul 2007, 07:32					</div>
				</div>
				<div class="post-content content">
					<p>Also, how difficult would it be to build perl with String::CRC32 support? While it is obviously not crucial, we include crc checksup as part of the distribution... and I am afraid people will prefer to have it that way regardless where I am building it <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52437">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						17 Jul 2007, 11:20					</div>
				</div>
				<div class="post-content content">
					<p>You have also to thank d1mag <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />toboz gave me his kamikaze sources, avoiding everybody a lot of work. Those sources had only two problems: the dependency errors (toboz tested perl on SDK and not on the Buildroot), and some variables interpretation problems<br />I was only able to fix the first problem (the less critical and easiest to fix). d1mag fixed the other one, assuring us a full working perl version.<br />So d1mag sources should be better, because they are the same sources which toboz gave me, but improved.</p><p>toboz: you should update your sources on your site, adding your 3 tested modules. Sorry if I forgot to pm/email you and tell the news</p>											<p class="post-edited">(Last edited by <strong>ggp81</strong> on 17 Jul 2007, 16:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52454">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						17 Jul 2007, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi all [!]</p><div class="quotebox"><cite>ggp81 wrote:</cite><blockquote><p>toboz, unfortunately, your directory gives me too many dependency errors. For example, I install perlbase-essentials, it tells me that I need perlbase-config, and perlbase-config also complains about several dependencies.</p></blockquote></div><p>Exact, I&#039;didn&#039;t care about dependancies, I installed my version with the &quot;--force-depends&quot; ipkg option (yeah brutal method I know ...) into an install script. So I install every packages and don&#039;t care about the order. Not very class, sure ...</p><div class="quotebox"><cite>ggp81 wrote:</cite><blockquote><p>Also, perl itself has a (minor) glitch: it installs only perl-5.8.8, but not perl link.</p></blockquote></div><p>Exact too, I linked perl5.8.8 to perl throught my brutal famous install script <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><cite>ggp81 wrote:</cite><blockquote><p>toboz: you should update your sources on your site, adding your 3 tested modules. Sorry if I forgot to pm/email you and tell the news</p></blockquote></div><p>Yeah sure, where can I find d1mag sources ? Can he share them to me ? He may could mail me his package directory...</p><div class="quotebox"><cite>ymhee_bcex wrote:</cite><blockquote><p>Also, how difficult would it be to build perl with String::CRC32 support?</p></blockquote></div><p>Within the SDK and the frol&#039;s permod.mk file, it is feasible. In my case I concentrate on the modules of data bases management but you can do it yourself with some samples files from which you could inspirate to write your own Makefile.</p><div class="quotebox"><cite>ggp81 wrote:</cite><blockquote><p>Sorry if I forgot to pm/email you and tell the news</p></blockquote></div><p>No problem !&nbsp; Now I&#039;ve got some and I&#039;m charmed to see that there is world interested and moved by the bearing of Perl on OpenWrt ! best regards !</p><p>t.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53048">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">d1mag</div>
					<div class="post-datetime">
						29 Jul 2007, 21:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>toboz wrote:</cite><blockquote><p>Yeah sure, where can I find d1mag sources ? Can he share them to me ? He may could mail me his package directory...</p></blockquote></div><p>I just found this thread, and I will collect the makefiles and post it here if they are of interest.<br />I also fixed the problem in Time:HiRes module.</p><p>/Christian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53062">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						30 Jul 2007, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody !</p><div class="quotebox"><blockquote><p>I just found this thread, and I will collect the makefiles and post it here if they are of interest.</p></blockquote></div><p>I am interested <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><blockquote><p>I also fixed the problem in Time:HiRes module.</p></blockquote></div><p>Great news ! What was the problem ? Have you also noticed a problem on the&nbsp; CPAN module (Me yes - I don&#039;t have access on my board to print the error message) ? <br />For my part I still don&#039;t have succeed to porte the DBD :: Pg module.</p><p>t.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53066">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">TemplaraPhoenix</div>
					<div class="post-datetime">
						30 Jul 2007, 03:58					</div>
				</div>
				<div class="post-content content">
					<p>Howdy, the Optware MySQL seems to work. At least with Kamikaze 7.06. Would love an official package or eBuild (I don&#039;t know what we call the makefile and patches on the svn server).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53079">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						30 Jul 2007, 11:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>toboz wrote:</cite><blockquote><p>Great news ! What was the problem ?</p></blockquote></div><p>The usleep function of HiRes didn&#039;t work at all. with the new version of config.sh-mipsel-linux-uclibc.in provided my d1mag, this problem is fixed.</p><div class="quotebox"><cite>toboz wrote:</cite><blockquote><p>Have you also noticed a problem on the&nbsp; CPAN module (Me yes - I don&#039;t have access on my board to print the error message) ? <br />For my part I still don&#039;t have succeed to porte the DBD :: Pg module.</p></blockquote></div><p>Did you find those problems running the old or the fixed version of Perl?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53083">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						30 Jul 2007, 12:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Howdy, the Optware MySQL seems to work. At least with Kamikaze 7.06</p></blockquote></div><p>Where is located this Optware ?<br /></p><div class="quotebox"><blockquote><p>Did you find those problems running the old or the fixed version of Perl?</p></blockquote></div><p>both ! Try to run &quot;perl -M CPAN -e install [whatever]&quot; and you will see.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53100">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">TemplaraPhoenix</div>
					<div class="post-datetime">
						30 Jul 2007, 16:32					</div>
				</div>
				<div class="post-content content">
					<p>Optware is a set of 3rd party packages provided by the NSLUG group. See <a href="http://www.nslu2-linux.org/wiki/Optware/Packages?from=Unslung.Packages">http://www.nslu2-linux.org/wiki/Optware … g.Packages</a> for more info.<br />You might also need the instructions here to install <a href="http://www.dd-wrt.com/wiki/index.php/Optware">http://www.dd-wrt.com/wiki/index.php/Optware</a></p><p>Since the SLUG has USB and hard drive support more effort has been made into porting more fully featured programs like MySQL and apache. Sadly, the Optware apache doesn&#039;t work on OpenWRT (at least on my WRT54GS). However, if getting a LAMP framework is a goal of yours, it would be nice to get some other user&#039;s feedback.</p><p>Personally I&#039;m trying to get apache with modules to work on OpenWRT native, but having some issues.</p><p>Of course a native MySQL would be even better.<br />Also, should mention that my GS (8MB flash) can barely do Optware without its SD mod. Unless you have a GS and don&#039;t need some of the base packages, SD, or USB, its probably not possible to use Optware.</p>											<p class="post-edited">(Last edited by <strong>TemplaraPhoenix</strong> on 30 Jul 2007, 16:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53107">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						30 Jul 2007, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>Thank you TemplaraPhoenix for your very intersting reply ! But I can only find ipk packages destinated to arm architecture (not mine, I&#039;ve got a rb532 - so it&#039;s mipsel). Do you know where I can find ipk packages for rb532 or directly the NSLUG Makefiles ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53111">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">TemplaraPhoenix</div>
					<div class="post-datetime">
						30 Jul 2007, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>My WRT54GS is mipsel. The rb532 isn&#039;t technically supported by Optware, only the broadcom OpenWRT devices (did you check the platforms page on the first page I linked - <a href="http://www.nslu2-linux.org/wiki/Optware/Platforms)">http://www.nslu2-linux.org/wiki/Optware/Platforms)</a>, but I&#039;d try the dd-wrt feed anyway. If it doesn&#039;t work, just rm -fr /opt. It says on the platform page its mipsel and what I used. If this is your board - <a href="http://www.routerboard.com/rb500.html">http://www.routerboard.com/rb500.html</a> Optware seems like something you can do with your 128MB of flash.</p>											<p class="post-edited">(Last edited by <strong>TemplaraPhoenix</strong> on 30 Jul 2007, 18:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53124">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">toboz</div>
					<div class="post-datetime">
						30 Jul 2007, 21:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Also, is this is your board - <a href="http://www.routerboard.com/rb500.html">http://www.routerboard.com/rb500.html</a>?</p></blockquote></div><p>Yes it is and yes I should have enough space to build optware. Now I&#039;m following the DD-WRT optware wiki and I have to adapt the optware-install.sh script because it doesn&#039;t work by default for me (problem with the /etc/resolv.conf file and the /opt partition not mounted).&nbsp; Which version of OpenWrt did you use when you tried the dd-wrt feed ?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>