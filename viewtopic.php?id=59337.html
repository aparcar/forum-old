<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> I need a low cost and easy to use firewall solution for branch offices</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p290037">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">grzmrc</div>
					<div class="post-datetime">
						1 Sep 2015, 18:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,<br />I have some branch offices connected to the headquarter by a routed network.<br />each site is protected by a pfsense firewall installed on a old PC.<br />The solution is not sustainable because of the old hardware employed. The old pcs are breaking often and it is not so easy to configure a pfsense firewall every time.<br />I think that I can save much time if I reach the same solution by installing a openwrt on a cheap TP 1043nd.<br />The configuration will be :<br />Firewall in transparent mode (WAN+1 LAN on the same subnet)<br />Allow traffic to and from the headquarter<br />allow traffic to and from a site in Rome<br />Can anyone help me to create a pre configured solution?<br />My goal is to install openwrt (simple)<br />and install a pre configured set of firewall rules (a file to upload???)<br />can anyone help me?<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290053">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						1 Sep 2015, 20:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>grzmrc wrote:</cite><blockquote><p>can anyone help me?<br />thanks</p></blockquote></div><p>Yes. Simply post a project on freelancer.com</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290096">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">golialive</div>
					<div class="post-datetime">
						2 Sep 2015, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>Hey there.</p><p>Unless you don&#039;t want to write iptables rules -- and trust my, you don&#039;t -- every firewall setting has to go into a single file: /etc/config/firewall.</p><p>That&#039;s the one file you need to manage and synchronize.</p><p>This means: You need to have 100% equal firewall configuration settings in order to use a &quot;just upload and be done&quot; sollution.<br />Having like 99% equal firewall settings but 1% individual per location (rules for local IP ranges, whatever) instantly results in the &quot;just upload and be done&quot; being off the table.</p><p>Depending on the number of sites you want to manage I might suggest to drop the &quot;one firewall file fits for all&quot; idea completely but use some kind of version control system for maintaining and backing up firewall settings.</p><p>I don&#039;t have many sites to connect but I use a couple of access points here. So my use case is mainly vlans and ssids. But that boils down to the same concept, I guess.</p><p>I have a local git working copy on each of my APs placed at /etc/config. <br />Each of my AP hats its very own git, they are *not* using the same source.<br />Every now and then I do adjustments on one of the APs via LuCI.<br />Then I ssh to that AP and do a &quot;git add&quot; and &quot;git commit&quot; of that changes, followed by a &quot;git push&quot; to a git server.</p><p>So a central git server acts basically as a backup system for my APs settings folders.</p><p>When one of my APs drops dead, I simply get a new one (should be the same hardware, but that&#039;s not too much of a problem), put OpenWRT on it, delete /etc/config and clone the invidual settings package to /etc/config freshly from my git server.</p><p>This way, replacing a device is done in a couple of seconds.</p><p>I don&#039;t use that for automated change distribution. My APs do *not* automatically fetch new data from my git server. But that could be done easily with a scheduler task.</p><p>Regards,<br />Stephan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290353">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">grzmrc</div>
					<div class="post-datetime">
						3 Sep 2015, 16:35					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the suggested solution.<br />I&#039;ll try to clone a conf between two openwrt.<br />Do you have a sampe conf of a transparent firewall?<br />thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>