<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> something wrong on 15.5 now</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=63115&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p313415">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						3 Mar 2016, 10:14					</div>
				</div>
				<div class="post-content content">
					<p>I download file OpenWrt-ImageBuilder-15.05-ar71xx-generic.Linux-x86_64.tar.bz2 following&nbsp; link <a href="https://downloads.openwrt.org/chaos_calmer/15.05/ar71xx/generic/OpenWrt-ImageBuilder-15.05-ar71xx-generic.Linux-x86_64.tar.bz2">https://downloads.openwrt.org/chaos_cal â€¦ 64.tar.bz2</a><br />to make my own firmware.<br />when I flash to my router i can not telnet ssh or winscp, ping 192.168.1.1 only respone about 5 times and not respone but wifi and wire lan connected to router&nbsp; OK<br />i found this file only 134Mb and BB,DD version about 500MB, something wrong with this file?<br />Now i only connect to router by failsafe, Please tell me how to tranfer firmware&nbsp; file to /tmp/ on router!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313465">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						3 Mar 2016, 16:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>Now i only connect to router by failsafe, Please tell me how to tranfer firmware&nbsp; file to /tmp/ on router!</p></blockquote></div><p>Netcat probably. Last time I had a similar problem I found enough information on the wiki to lead me out of it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313478">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						3 Mar 2016, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>I read NETCAT but i can not send file from windows to router.<br />on window I change to directory that have NC.exe and flash.bin firmware&nbsp; then I run command:<br /><strong>nc -lvp 2222 &gt; flash.bin</strong><br /> it showed listening on [any] 2222....<br />i used putty connect router(failsafe)<br /><strong>nc 192.168.1.1 2222 &lt; flash.bin</strong><br />but it show <br />&quot;<em>BusyBox v1.24.1 (2015-12-07 17:07:21 CET) multi-call binary.</em></p><p><em>Usage: nc [IPADDR PORT]</em></p><p><em>Open a pipe to IP:PORT</em>&quot;<br />so i can not tranfer firmware file to /tmp/ router directory.<br />please tell me more!</p>											<p class="post-edited">(Last edited by <strong>dktn</strong> on 3 Mar 2016, 17:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313481">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						3 Mar 2016, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Based on instructions under &quot;netcat Indirect method&quot; on this page:</p><p><a href="https://wiki.openwrt.org/doc/howto/generic.sysupgrade">https://wiki.openwrt.org/doc/howto/generic.sysupgrade</a></p><p>you should run on your Windows laptop:</p><p>nc -l -p 2222 &lt; flash.bin</p><p>and on your OpenWRT box run:</p><p>nc 192.168.1.1 2222 &gt; /tmp/flash.bin</p><p>This is slightly modified to remove the pv command which I&#039;m assuming will not be installed on your Windows box.&nbsp; My 2 cents, YMMV....</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313533">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>sorry My router IP: 192.168.1.1, My PC IP: 192.168.1.2<br />On PC I tyre:<br /><strong>nc -l -p 2222 &lt; flash.bin</strong><br />but nothing happpen, no word appear.<br />on router<br /><strong>nc 192.168.1.<span class="bbu">2</span> 2222 &gt; /tmp/flash.bin</strong><br />and nothing happen.<br />i known router may work as server and listening from client but&nbsp; on router&nbsp; only acept Usage: nc [IPADDR PORT]&nbsp; Open a pipe to IP:PORT on bysy box?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313539">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 03:49					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I&#039;m not very experienced with Windows command prompt usage, except with Cygwin (UNIX environment for Windows).&nbsp; If Windows doesn&#039;t use &quot;&lt;&quot; for stdin redirection you may need to pipe it in this way:</p><p>cat flash.bin | nc -l -p 2222</p><p>On the router I <span class="bbu">think</span> you&#039;re right:</p><p>nc 192.168.1.2 2222 &gt; /tmp/flash.bin</p><p>Please try reading the webpage I sent in my last post.&nbsp; It knows more than I do <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" />&nbsp; Again, HTH.</p><p>Clemmitt</p>											<p class="post-edited">(Last edited by <strong>cmsigler</strong> on 4 Mar 2016, 03:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313549">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 08:12					</div>
				</div>
				<div class="post-content content">
					<p>i try on unbuntu but I do not known the way to connect in linux&nbsp; as putty on windows i connect. I use <br />telnet 192.168.1.1 <br />it say refuse to connect.<br />I use <br />ssh 192.168.1.1 but it show printfinger, dropbear. I do not know what to do.<br />thank you so much</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313550">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">manhere</div>
					<div class="post-datetime">
						4 Mar 2016, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>how to tranfer firmware&nbsp; file to /tmp/ on router?</p><p>set a mini web server on pc(ie. 192.168.1.100) hosts a firmware file<br />then you can :<br />wget <a href="http://192.168.1.100/firmware.bin">http://192.168.1.100/firmware.bin</a></p><p>hoping this helps</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313553">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 09:11					</div>
				</div>
				<div class="post-content content">
					<p>This help but why netcat not work router as server by openwrt<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313590">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>i try on unbuntu</p></blockquote></div><p>Good, at least I am conversant with Linux <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>I use telnet 192.168.1.1 it say refuse to connect.</p></blockquote></div><p>The latest versions of OpenWRT have the telnet daemon disabled by default for security.<br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>I use ssh 192.168.1.1 but it show printfinger, dropbear.</p></blockquote></div><p>I think you need to do this:</p><p>ssh root@192.168.1.1</p><p>so you connect as the root user.&nbsp; If you haven&#039;t set a password you&#039;ll be logged in without one.&nbsp; HTH.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313607">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 16:36					</div>
				</div>
				<div class="post-content content">
					<p>I run command <strong>ssh root@192.168.1.1</strong> and it show:</p><p>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />@&nbsp; &nbsp; WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&nbsp; &nbsp; &nbsp;@<br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!<br />Someone could be eavesdropping on you right now (man-in-the-middle attack)!<br />It is also possible that a host key has just been changed.<br />The fingerprint for the RSA key sent by the remote host is<br />SHA256:AAyXTygEdmdP4/rj0ZWH5diHfAdh+rg70Y39bet5rTk.<br />Please contact your system administrator.<br />Add correct host key in /home/huy/.ssh/known_hosts to get rid of this message.<br />Offending RSA key in /home/huy/.ssh/known_hosts:1<br />&nbsp; remove with:<br />&nbsp; ssh-keygen -f &quot;/home/huy/.ssh/known_hosts&quot; -R 192.168.1.1<br />RSA host key for 192.168.1.1 has changed and you have requested strict checking.<br />Host key verification failed.&quot;<br />can you show how to disable it for me or the way i can follow(i could follow the command)<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313612">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 16:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>Offending RSA key in /home/huy/.ssh/known_hosts:1<br />&nbsp; remove with:<br />&nbsp; ssh-keygen -f &quot;/home/huy/.ssh/known_hosts&quot; -R 192.168.1.1<br />can you show how to disable it for me or the way i can follow(i could follow the command)</p></blockquote></div><p>Did you try that ssh-keygen command it gave you?</p><p>The other way is brute force.&nbsp; Use vim to edit /home/huy/.ssh/known_hosts and remove the line containing the address 192.168.1.1 (I think it&#039;s the first line in that file?).&nbsp; HTH.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313622">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 17:37					</div>
				</div>
				<div class="post-content content">
					<p>I did ssh-keygen, but i do not know how to tranfer Rsa_pulic to router, can you type the command i can do it. I check in&nbsp; /home/huy/.ssh/known_hosts and do not have &quot;192.168.1.1&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313623">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 17:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>I did ssh-keygen, but i do not know how to tranfer Rsa_pulic to router, can you type the command i can do it. I check in&nbsp; /home/huy/.ssh/known_hosts and do not have &quot;192.168.1.1&quot;.</p></blockquote></div><p>You shouldn&#039;t have to transfer a public key to the router.&nbsp; It should just allow you to log in by running:</p><p>ssh root@192.168.1.1</p><p>This always works for me with both OpenWRT and dd-wrt.&nbsp; If you get the error message:</p><p>&quot;WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&quot;</p><p>then there <strong>is</strong> still an entry for IP address 192.168.1.1 left over in /home/huy/.ssh/known_hosts.&nbsp; Simple solution:</p><p>rm -i /home/huy/.ssh/known_hosts</p><p>and answer &quot;y&quot; to remove the file.&nbsp; Then the next time you use ssh it will ask you if you want to connect.&nbsp; Say &quot;yes&quot; and Bob&#039;s your uncle <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313625">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						4 Mar 2016, 18:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><p>You shouldn&#039;t have to transfer a public key to the router.&nbsp; It should just allow you to log in by running:<br />ssh root@192.168.1.1<br />This always works for me...</p></blockquote></div><p>Then it must be true... unless (<a href="http://linux.die.net/man/5/ssh_config"><span style="color: #f83300"><strong>R</strong></span>eading <span style="color: #f83300"><strong>T</strong></span>he <span style="color: #f83300"><strong>F</strong></span>ine <span style="color: #f83300"><strong>W</strong></span>eb</a>) -</p><div class="quotebox"><cite>linux.die.net wrote:</cite><blockquote><p><strong>StrictHostKeyChecking</strong><br />If this flag is set to &#039;&#039;yes&#039;&#039;, ssh(1) will never automatically add host keys to the <em>~/.ssh/known_hosts</em> file, and refuses to connect to hosts whose host key has changed. This provides maximum protection against trojan horse attacks, though it can be annoying when the <em>/etc/ssh/ssh_known_hosts</em> file is poorly maintained or when connections to new hosts are frequently made. This option forces the user to manually add all new hosts. If this flag is set to &#039;&#039;no&#039;&#039;, ssh will automatically add new host keys to the user known hosts files. If this flag is set to &#039;&#039;ask&#039;&#039;, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed. The host keys of known hosts will be verified automatically in all cases. The argument must be &#039;&#039;yes&#039;&#039;, &#039;&#039;no&#039;&#039;, or &#039;&#039;ask&#039;&#039;. The default is &#039;&#039;ask&#039;&#039;.</p></blockquote></div><div class="codebox"><pre><code>ssh 192.168.1.1 -o StrictHostKeyChecking=no</code></pre></div><p>Could <a href="http://www.imdb.com/title/tt0033457/">Charlie possibly be your Aunt</a>?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313627">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>I try many times to ssh to router not ok. finaly i use command <br />&quot;<strong>ssh-keygen -f &quot;/root/.ssh/known_hosts&quot; -R 192.168.1.1</strong>&quot; <br />then I connected now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313628">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 18:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>I try many times to ssh to router not ok. finaly i use command <br />&quot;<strong>ssh-keygen -f &quot;/root/.ssh/known_hosts&quot; -R 192.168.1.1</strong>&quot; <br />then I connected now.</p></blockquote></div><p>Glad it&#039;s working <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313633">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						4 Mar 2016, 19:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><p>Hi,</p><p>Based on instructions under &quot;netcat Indirect method&quot; on this page:</p><p><a href="https://wiki.openwrt.org/doc/howto/generic.sysupgrade">https://wiki.openwrt.org/doc/howto/generic.sysupgrade</a></p><p>you should run on your Windows laptop:</p><p>nc -l -p 2222 &lt; flash.bin</p><p>and on your OpenWRT box run:</p><p>nc 192.168.1.1 2222 &gt; /tmp/flash.bin</p><p>This is slightly modified to remove the pv command which I&#039;m assuming will not be installed on your Windows box.&nbsp; My 2 cents, YMMV....</p><p>Clemmitt</p></blockquote></div><p>Shouldn&#039;t the &#039;192.168.1.1&#039; be replaced with the IP of his Windows computer in the command &#039;nc 192.168.1.1 2222 &gt; /tmp/flash.bin&#039;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313634">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						4 Mar 2016, 19:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>I try many times to ssh to router not ok. finaly i use command <br />&quot;<strong>ssh-keygen -f &quot;/root/.ssh/known_hosts&quot; -R 192.168.1.1</strong>&quot; <br />then I connected now.</p></blockquote></div><p>Glad it&#039;s working <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>thank you so much. after that i flash firmware now.<br />I try to know about dropbear, please help me:<br />i copy id_rsa.pub to /tmp on router<br /><strong>scp /home/huy/.ssh/id_rsa.pub root@192.168.1.1:/tmp</strong><br />then<br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />@&nbsp; &nbsp; WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&nbsp; &nbsp; &nbsp;@<br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!<br />Someone could be eavesdropping on you right now (man-in-the-middle attack)!<br />It is also possible that a host key has just been changed.<br />The fingerprint for the RSA key sent by the remote host is<br />SHA256:Z1xYwyeV8xC9EOwUPrirhw/kJ4BCC2Y+wx3MLLKXuc8.<br />Please contact your system administrator.<br />Add correct host key in /root/.ssh/known_hosts to get rid of this message.<br />Offending RSA key in /root/.ssh/known_hosts:1<br />&nbsp; remove with:<br />&nbsp; ssh-keygen -f &quot;/root/.ssh/known_hosts&quot; -R 192.168.1.1<br />RSA host key for 192.168.1.1 has changed and you have requested strict checking.<br />Host key verification failed.<br />lost connection<br />it means there is finggerprint:<br />SHA256:Z1xYwyeV8xC9EOwUPrirhw/kJ4BCC2Y+wx3MLLKXuc8<br />please tell me what can i do now?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313636">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 19:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>This is the same error you had earlier, right?&nbsp; How did you solve it before?&nbsp; (Another solution is:</p><p>sudo rm /root/.ssh/known_hosts )</p><p>I&#039;m also wondering why you want to copy your public key file id_rsa.pub to the router.&nbsp; I&#039;m sure I&#039;m backwards, but I just log in with my password.&nbsp; Are you following instructions from a webpage on this website, or on another website?&nbsp; I&#039;m confused as to why you want to log in using public key authentication.</p><p>Once you fix this problem a second time, can you copy the flash.bin file to /tmp on the router using scp on Linux?</p><p>scp flash.bin root@192.168.1.1:/tmp</p><p>HTH.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313637">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						4 Mar 2016, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br /></p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Shouldn&#039;t the &#039;192.168.1.1&#039; be replaced with the IP of his Windows computer in the command &#039;nc 192.168.1.1 2222 &gt; /tmp/flash.bin&#039;?</p></blockquote></div><p>Thank you for picking up on that <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; dktn figured that out -- please see post 5.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313701">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						5 Mar 2016, 10:09					</div>
				</div>
				<div class="post-content content">
					<p>It work now. <br />* In windows PC do:<br />- I have NC directory with Netcat program and flash.bin in path C:\NC<br />run cmd.exe go to C;\NC :<br />C:\NC\<strong>nc -l -p 2222 &lt; flash.bin </strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # sign &quot; &lt; &quot; for copy from PC to router or &quot;&gt;&quot; for reverse<br />In router:<br />-connect to router by putty run command<br /><strong>nc 192.168.1.2 &gt; /tmp/flash.bin</strong>&nbsp; &nbsp; &nbsp;#192.168.1.2 IP of PC<br />but I do not know when It finish tranfer firmware file, info do not apaer on screen.</p><p>* In linux:<br />- copy file to directory that run command &quot;terminal here&quot; run command<br />cat ~/path to ../flash.bin | pv -b | nc -L -p 2222<br />- connect to router and run:<br />ssh root@192.168.1.1<br /><strong>nc 192.168.1.2 &gt; /tmp/flash.bin</strong> <br /> I do it for someone have problem like me.</p><p>this topic help me to know about dropber<br />* without id-rsa keygen, connect to router:<br />- delete id-rsa, id-rsa.pub, known_hosts...<br />and run<strong><br />ssh-keygen -f &quot;/root/.ssh/known_hosts&quot; -R 192.168.1.1</strong><br />* with id-rsa, keygen<br /><strong> ssh-keygen </strong>&nbsp; <br /> <strong>scp ~/.shh/id-rsa.pub root@192.168.1.1:/tmp</strong>&nbsp; &nbsp;# copy id-rsa to /tmp directory of router, 192.168.1.1 IP f router<br /><strong>ssh root@192.169.1.1 </strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#logon router<br /><strong>cat /tmp/id-rsa.pub &gt;&gt; /etc/dropbear/authorized.keys</strong>&nbsp; # copy contend id-rsa.pub to authorized.keys.<br /><strong>chmod 700 /etc/dropbear</strong><br /><strong>chmod 600 /etc/dropbear/authorized.keys.</strong></p><p>thank you for help me.<br />You know in stock firmware modem to setting portforwad and DMZ very simple, itry to setting openwrt router many times but not success.<br />for example i &#039;d like openrt port 3389 for VNC in firewall file i type:</p><p>config &#039;redirect&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;VNC&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;src&#039; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;tcpudp&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;src_dport&#039; &#039;3389&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dest_ip&#039; &#039;192.168.1.2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dest_port&#039; &#039;3389&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;target&#039; &#039;DNAT&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dest&#039; &#039;lan&#039;</p><p>so port 3389 not open, I check on <a href="http://www.canyouseeme.org">www.canyouseeme.org</a><br />please tell me how i can do?</p>											<p class="post-edited">(Last edited by <strong>dktn</strong> on 5 Mar 2016, 10:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313732">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						5 Mar 2016, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>It work now. thank you for help me.</p></blockquote></div><p>You&#039;re very welcome <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>* In linux:<br />- copy file to directory that run command &quot;terminal here&quot; run command<br />cat ~/path to ../flash.bin | pv -b | nc -L -p 2222<br />- connect to router and run:<br />ssh root@192.168.1.1<br /><strong>nc 192.168.1.2 &gt; /tmp/flash.bin</strong> <br /> I do it for someone have problem like me.</p></blockquote></div><p>I need to correct your commands.&nbsp; What you typed won&#039;t work right.&nbsp; In Linux:</p><p>cat ~/path/to/flash.bin | pv -b | nc -l -p 2222</p><p>The <em>lower case</em> &quot;-l&quot; is important.&nbsp; &quot;-L&quot; is not a valid switch.&nbsp; On the router:</p><p>nc 192.168.1.2 2222 &gt; /tmp/flash.bin</p><p>because you forgot to give the port to connect to!<br /></p><div class="quotebox"><cite>dktn wrote:</cite><blockquote><p>You know in stock firmware modem to setting portforwad and DMZ very simple, itry to setting openwrt router many times but not success.<br />for example i &#039;d like openrt port 3389 for VNC in firewall</p></blockquote></div><p>This is a more complicated topic than copying your firmware flash.bin file to your router for flashing/recovery.&nbsp; Please read OpenWRT firewall docs here:</p><p><a href="https://wiki.openwrt.org/doc/uci/firewall">https://wiki.openwrt.org/doc/uci/firewall</a></p><p>There are many simple examples which do what you want to do at the bottom of that page.&nbsp; If you are able (enough ROM on your router), you can also install LuCI for easy configuration in a web browser.</p><p>At this point, please see <a href="https://forum.openwrt.org/viewtopic.php?id=63146">this post</a> and read the documentation.&nbsp; You&#039;re now on your way to learning all about OpenWRT <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313735">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						5 Mar 2016, 16:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>This is a more complicated topic than copying your firmware flash.bin file to your router for flashing/recovery.&nbsp; Please read OpenWRT firewall docs here:</p><p><a href="https://wiki.openwrt.org/doc/uci/firewall">https://wiki.openwrt.org/doc/uci/firewall</a></p></blockquote></div><p>i had read beore so it diffical to understand so well.<br />in firewall file have some example like this</p><p># port redirect port coming in on wan to lan<br />#config redirect<br />#&nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />#&nbsp; &nbsp; option src_dport&nbsp; &nbsp; 80<br />#&nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lan<br />#&nbsp; &nbsp; option dest_ip&nbsp; &nbsp; &nbsp; &nbsp; 192.168.16.235<br />#&nbsp; &nbsp; option dest_port&nbsp; &nbsp; 80<br />#&nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; tcp</p><p>#config rule<br />#&nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; lan<br />#&nbsp; &nbsp; option src_ip&nbsp; &nbsp; 192.168.45.2<br />#&nbsp; &nbsp; option src_mac&nbsp; &nbsp; 00:11:22:33:44:55<br />#&nbsp; &nbsp; option src_port&nbsp; &nbsp; 80<br />#&nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; wan<br />#&nbsp; &nbsp; option dest_ip&nbsp; &nbsp; 194.25.2.129<br />#&nbsp; &nbsp; option dest_port&nbsp; &nbsp; 120<br />#&nbsp; &nbsp; option proto&nbsp; &nbsp; tcp<br />#&nbsp; &nbsp; option target&nbsp; &nbsp; REJECT</p><p>#config redirect<br />#&nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; lan<br />#&nbsp; &nbsp; option src_ip&nbsp; &nbsp; 192.168.45.2<br />#&nbsp; &nbsp; option src_mac&nbsp; &nbsp; 00:11:22:33:44:55<br />#&nbsp; &nbsp; option src_port&nbsp; &nbsp; &nbsp; &nbsp; 1024<br />#&nbsp; &nbsp; option src_dport&nbsp; &nbsp; 80<br />#&nbsp; &nbsp; option dest_ip&nbsp; &nbsp; 194.25.2.129<br />#&nbsp; &nbsp; option dest_port&nbsp; &nbsp; 120<br />#&nbsp; &nbsp; option proto&nbsp; &nbsp; tcp<br /> I try following these example but not success<br />&nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; option src_dport&nbsp; &nbsp; 3389<br />&nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lan<br />&nbsp; &nbsp; option dest_ip&nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.2<br />&nbsp; &nbsp; option dest_port&nbsp; &nbsp; 3389<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; &nbsp; &nbsp; tcp<br />that means portforward on 3389 port to 192.168.1.2 IP on Lan<br />but i check canyouseeme.org not success.<br />or in&nbsp; luci i go: network/firewall/porforwards<br /><strong>Name cell:RDP<br />protocol cell:tcp+udp<br />external zone:Wan<br />internal zone:Lan<br />internal port:3389</strong><br />click&quot; add &quot;button then &quot;save an apply.&quot; button<br />that add some lines in firewall file:</p><p><strong>config redirect<br />&nbsp; &nbsp; option enabled &#039;1&#039;<br />&nbsp; &nbsp; option target &#039;DNAT&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;lan&#039;<br />&nbsp; &nbsp; option proto &#039;tcpudp&#039;<br />&nbsp; &nbsp; option src_dport &#039;3389&#039;<br />&nbsp; &nbsp; option dest_ip &#039;192.168.1.2&#039;<br />&nbsp; &nbsp; option dest_port &#039;3389&#039;<br />&nbsp; &nbsp; option name &#039;RPD</strong><br />My Internal address:&nbsp; 192.168.1.2&nbsp; IP of PC on Lan<br />check port not success?</p>											<p class="post-edited">(Last edited by <strong>dktn</strong> on 5 Mar 2016, 16:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313741">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						5 Mar 2016, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>I add to firewall some lines so it not work<br />config redirect<br />&nbsp; &nbsp; option target &#039;DNAT&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;lan&#039;<br />&nbsp; &nbsp; option proto &#039;tcp&#039;<br />&nbsp; &nbsp; option src_dport &#039;3389&#039;<br />&nbsp; &nbsp; option dest_port &#039;3389&#039;<br />&nbsp; &nbsp; option name &#039;RPD&#039;<br />&nbsp; &nbsp; option dest_ip &#039;192.168.1.134&#039;</p><p>config rule<br />&nbsp; &nbsp; option enabled &#039;1&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option name &#039;RPD&#039;<br />&nbsp; &nbsp; option family &#039;ipv4&#039;<br />&nbsp; &nbsp; option src_port &#039;3389&#039;<br />&nbsp; &nbsp; option dest_port &#039;3389&#039;<br />&nbsp; &nbsp; option dest_ip &#039;192.168.1.134&#039;<br />&nbsp; &nbsp; option dest &#039;*&#039;<br />plaese help me for right way.</p>											<p class="post-edited">(Last edited by <strong>dktn</strong> on 5 Mar 2016, 17:05)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=63115&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>