<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Should I Change SSH Port On WAN?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p132778">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jason955</div>
					<div class="post-datetime">
						12 Apr 2011, 09:50					</div>
				</div>
				<div class="post-content content">
					<p>I am using my public key authentication for SSH on port 22 over my WAN interface and I have a couple of questions:</p><p>1) Should I be worried about brute force attacks?<br />2) If I change to another port will attackers still be able to fingerprint it as SSH?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132781">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">phip</div>
					<div class="post-datetime">
						12 Apr 2011, 10:15					</div>
				</div>
				<div class="post-content content">
					<p>To your first question, if you&#039;ve turned off password login and only use public key, brute force is not a threat. </p><p>To your second question, It really depends on how determined an attacker you expect. On the one hand, an anonymous attacker would be scanning a big block of ips looking for anything interesting along a narrow range of criteria. Maybe looking for an open port 22 or similar to flag up for a closer look. This attacker won&#039;t be doing a full portscan, and if you put ssh on a non-standard port they likely won&#039;t find it. </p><p>On the other hand, a targeted attack against your ip in particular would likely include a scan of your open ports. In that case, yes, attackers would still be able to fingerprint it as SSH. But again, not bruteforce your password if password login is disabled.</p><p>You can run intrusion detection if you are really concerned, but if you&#039;re not expecting determined attackers after you specifically, you&#039;ve probably already done enough.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132783">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jason955</div>
					<div class="post-datetime">
						12 Apr 2011, 10:16					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132786">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jason955</div>
					<div class="post-datetime">
						12 Apr 2011, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>How would one run intrusion detection?&nbsp; Iptables rule?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132787">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						12 Apr 2011, 10:46					</div>
				</div>
				<div class="post-content content">
					<p>With an <a href="http://en.wikipedia.org/wiki/Intrusion_Detection_System">http://en.wikipedia.org/wiki/Intrusion_Detection_System</a></p><p>Eample <a href="http://en.wikipedia.org/wiki/Snort_%28software%29">http://en.wikipedia.org/wiki/Snort_%28software%29</a></p><p>root@openwrt:~$ opkg info snort<br />Package: snort<br />Version: 2.8.4.1-2<br />Depends: libnet0, libpcap, libpcre<br />Section: net<br />Size: 334897<br />Description: Snort is an open source network intrusion detection and prevention system.<br /> It is capable of performing real-time traffic analysis, alerting, blocking<br /> and packet logging on IP networks.&nbsp; It utilizes a combination of protocol<br /> analysis and pattern matching in order to detect anomalies, misuse and<br /> attacks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132793">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						12 Apr 2011, 11:41					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not allowing connections on port 22 from WAN, but I redirect connections destined for port 222 to 192.168.1.1:22. That way I have port 222 to the outside and 22 on the LAN. Works great, no bruteforce or scanning attempts. Key authentication is the most secure but it&#039;s nice to have the possibility of using password as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132794">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						12 Apr 2011, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>What is &quot;Key authentication&quot;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132800">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						12 Apr 2011, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>Why don&#039;t you try searching the wiki! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><a href="http://wiki.openwrt.org/oldwiki/dropbearpublickeyauthenticationhowto?s">http://wiki.openwrt.org/oldwiki/dropbea â€¦ ionhowto?s</a>[]=ssh</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132804">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						12 Apr 2011, 14:28					</div>
				</div>
				<div class="post-content content">
					<p>Yeah yeah...&nbsp; it says&nbsp; &nbsp; &nbsp;&quot;impossible for an attacker to guess your password on OpenWrt.&quot; And I wonder how this can be...</p><p>Isn&#039;t this simply a very long very long pwd that has to be stored somewhere?</p><br /><p>BTW: the music plays here:&nbsp; <a href="http://wiki.openwrt.org/doc/howto/secure.access">http://wiki.openwrt.org/doc/howto/secure.access</a>&nbsp; :-P</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132808">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						12 Apr 2011, 14:37					</div>
				</div>
				<div class="post-content content">
					<p>No, it&#039;s not a very long password. It&#039;s an RSA/DSA private/public key pair. It&#039;s secure as long as nobody can get your private key. Good luck guessing a 2048 bit RSA key.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132812">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						12 Apr 2011, 15:02					</div>
				</div>
				<div class="post-content content">
					<p>Well, what is your definition of &quot;impossible&quot;? Is it like in the movie &quot;mission impossible&quot;? Or is this &quot;virtually impossible&quot;?</p><p>That is why I prefer the climax of &quot;unlikely&quot;:&nbsp; &quot;not very unlikely&quot; ..&nbsp; &quot;little unlikely&quot; .. &quot;quite unlikely&quot; &quot;totally unlikely&quot; &quot;almost unlikely&quot; &quot;pretty much unlikely&quot; because it&#039;s more accurate then a vague &quot;impossible&quot;.</p><p>Well it also says:&nbsp; the password is no longer sent encrypted to OpenWrt</p><p>Ahh, I think SSH uses private key auth to merely establish a connection then switches to 128bit sync encryption. No. Hmm, well, hmm, I think I ought to read about SSH.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132817">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						12 Apr 2011, 15:40					</div>
				</div>
				<div class="post-content content">
					<p>Anything is techincally possible when it comes to IT. As for somebody managing to successfully break this barrier on your home router, it&#039;s impossible because nobody cares that much about your porn.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132818">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						12 Apr 2011, 16:04					</div>
				</div>
				<div class="post-content content">
					<p>What do you know about my porn? Don&#039;t make me to make you talk...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132831">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						12 Apr 2011, 18:43					</div>
				</div>
				<div class="post-content content">
					<p>Of course the best protection is a Private key with a passphrase. That way if someone steals your key, at least it is encrypted.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>