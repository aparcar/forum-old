<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> I think I bricked Netgear WNR1000v3</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p346725">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mbit</div>
					<div class="post-datetime">
						15 Dec 2016, 01:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello there OpenWRT wizards!</p><p>I&#039;m pretty new in the concept of flashing open-wrt to a router and I believe I did it horribly wrong. Now, out of curiosity I would like to attempt to fix the state my device is in at the moment. </p><p>The victim of my misdoings:<br />Netgear <strong>WNR1000v3</strong> <br />FCC ID: <strong>PY309300117</strong></p><p>Here&#039;s the thing:<br />Today I&#039;ve attempted to download that package: <br /><strong>openwrt-15.05.1-brcm47xx-mips74k-netgear-wnr1000-v3-squashfs.chk</strong><br /></p><div class="codebox"><pre><code>downloads.openwrt.org/chaos_calmer/15.05.1/brcm47xx/mips74k/openwrt-15.05.1-brcm47xx-mips74k-netgear-wnr1000-v3-squashfs.chk</code></pre></div><p>and since it was already a <em>chk</em> file - I&#039;ve simply uploaded it via &quot;Router Upgrade&quot; OEM&#039;s functionality and waited what happens next. Then reloaded my </p><div class="codebox"><pre><code>192.168.1.1</code></pre></div><p> and it yielded 404. Then I started investigating - tried to ping (no responses), tried to reboot router - nothing happened.</p><p>After that I&#039;ve approached the hard reset procedure called <strong>30/30/30</strong> - probably two times already. <br />Since there is no blinking LED pattern I presume it never made it to <strong>failsafe</strong> mode, therefore bricked at bootloader, but I may be wrong (or wrongly used terminology).</p><p>Now, even after plugging it with ethernet cable and setting my computer&#039;s eth0 to 192.168.1.2 - there is no ICMP replies from that device, no telnet activity.</p><p>What do you guys suggest to do now, or maybe there is somebody who could explain me at which step am I stuck and what to try next. I would rather avoid desoldering, or Serial cable debugging - since I do not have proper equipment at the moment.</p><p>Thanks in advance for any insight!</p><p>Kind regards,<br />mbit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347228">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbit</div>
					<div class="post-datetime">
						20 Dec 2016, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Hello there,</p><p>Can anybody help me out here?</p><p>I would be really grateful for any kind of advice, tip, link to articles/writeups/tutorials dealing with tackling such issues.</p><p>Thanks in advance,<br />mbit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348803">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Brian Nixon</div>
					<div class="post-datetime">
						9 Jan 2017, 00:57					</div>
				</div>
				<div class="post-content content">
					<p>I think I’ve just done the same to my WNR1000v3.</p><p>The NETGEAR Knowledge Base has an article <em>“How to upload firmware to a NETGEAR router using TFTP”</em> which I can’t post a link to but I dare say you can find via a search engine.</p><p>I’ve tried the procedure and nothing happens. The downloaded program sends a TFTP write request with the password appended after the firmware file name, but the router doesn’t respond.</p><p>After powering on the router with the reset button held down and waiting for the network link to come up, when you release the reset button the router sends out one gratuitous ARP packet for 192.168.1.1, and will reply to pings for a fraction of a second, but then seems to stop responding.</p><p>I’ve ordered a serial cable and a PCB pin header, and will report back here once I’ve tried hooking up to the bootloader console.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348805">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						9 Jan 2017, 01:08					</div>
				</div>
				<div class="post-content content">
					<p>How long did you hold the reset button?&nbsp; If it&#039;s like most Netgear models, you need to hold the reset button down during the entire start-up.&nbsp; The power LED should eventually start flashing green.&nbsp; Then you can let go of the button and it will continue flashing green.&nbsp; The router is now a TFTP server at 192.168.1.1.&nbsp; Set a static address in your PC and use a TFTP client to upload a firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348807">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Brian Nixon</div>
					<div class="post-datetime">
						9 Jan 2017, 01:54					</div>
				</div>
				<div class="post-content content">
					<p>I was holding the reset button for around 7 seconds (the time from power-on to the LAN port activity LED starting to blink). But I’ve also tried holding it for over a minute and it doesn’t make any difference. In both cases, for a fraction of a second after releasing the button the router will reply to <strong>ping 192.168.1.1</strong>, but otherwise it does not respond to ping, TFTP or even ARP. (I was using Wireshark to watch network traffic.) Power LED remains steady amber.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349003">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Brian Nixon</div>
					<div class="post-datetime">
						11 Jan 2017, 01:41					</div>
				</div>
				<div class="post-content content">
					<p>OK: serial cable has arrived and I’ve soldered a pin header on to the board.</p><p>When I power on the router the bootloader starts and initialises the Ethernet interface, but if I don’t interrupt with Ctrl+C the router hangs as soon as it tries to boot the OS. This is how far it gets:</p><div class="codebox"><pre><code>Decompressing...done
Decompressing...done


CFE for WNR1000v3 version: 3.0.6
Build Date: Thu Jan 21 22:38:48 CST 2010
Boot partition size = 131072(0x20000)
Found a 4MB ST compatible serial flash
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.10.56.46
Device eth0:  hwaddr 20-0C-C8-XX-XX-XX, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set</code></pre></div><p>(Compare with normal full log at wikidevi.com/wiki/Netgear_WNR1000v3.)</p><p>If I do break in to the bootloader I get a prompt and can execute some commands, and the network interface remains up and replies to pings. However, I suspect the bootloader is somehow corrupt because while commands like <strong>ifconfig</strong> and <strong>nvram</strong> seem to work, others like <strong>help</strong> and <strong>ping</strong> don’t (they just give an error message <em>“Invalid command”</em>). I’ve also tried <strong>load</strong> and <strong>save</strong> to transfer data via TFTP, which start to work (they send one TFTP datagram) but then the router hangs as soon as the server responds.</p><p>The next step, I suppose, would be to try to back up the flash memory via JTAG and then see if I can restore a working bootloader that way.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351697">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Brian Nixon</div>
					<div class="post-datetime">
						11 Feb 2017, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>(TL;DR: Still bricked)</p><p>Update, in case anybody is interested:</p><p>I bought a “Black Flash USB+” board from diygadget.com and downloaded “FlashcatUSB” software from embeddedcomputers.net. First thing to note is that the newest Flashcat firmwares do not work with the Black Flash device, because they request 200 mA, which the bus-powered hub on board the Black Flash device cannot deliver; Windows gives a “USB Hub Power Exceeded” error and refuses to start the device. There are some older Flashcat firmwares available for the Black Flash device at tiaowiki.com.</p><p>So, I soldered a pin header on to J2, which I’ve not found documented anywhere but which I hoped might have the pinout shown for the 12-pin header in wiki.openwrt.org/doc/hardware/port.jtag – certainly the odd pins 1–9 seem to be connected straight to the SoC, and even pins 2–10 seem to be grounds, though pins 11–12 look unused. But hooked up to the Black Flash loaded with a JTAG firmware, FlashcatUSB software does not find a JTAG device. I tried a couple of variations of pin connections, but I don’t have the patience to go through all 5<em>P</em>5=120 permutations…</p><p>Next step, then, was to solder wires directly on to the flash chip and load an SPI firmware on the Black Flash. No joy that way, either: FlashcatUSB software does not find a flash device.</p><p>At this point I’m out of ideas. I don’t know why the Black Flash doesn’t find a connected device in either JTAG or flash mode: maybe the router is damaged beyond repair; maybe my soldering is not good enough; maybe the Black Flash doesn’t work at all.</p><p>Suggestions are welcome, but I’m loath to waste any more time or money on this project…</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351702">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">shep</div>
					<div class="post-datetime">
						12 Feb 2017, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>I recently purchased a refurbished Trendnet TEW-732BR directly from Trendnet for $11USD + $7shipping.&nbsp; I would guess that your board and software costs were similiar. The 732BR also has an upright form factor but the network cable socket enter horizontally at the base and twice the wireless speed. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>It was an easy flash.</p><p>I have also had better luck with Trendnet.&nbsp; My previous Netgear 614 both tanked at about 2 years - right after the warrenty expired.</p>											<p class="post-edited">(Last edited by <strong>shep</strong> on 12 Feb 2017, 01:15)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>