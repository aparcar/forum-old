<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> create captive portal with email or facebook authentication</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p321760">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">leoh</div>
					<div class="post-datetime">
						29 Apr 2016, 07:49					</div>
				</div>
				<div class="post-content content">
					<p>I want to create a captive portal , Where users who want to connect to the wireless network (wifi), they are redirected to a webpage . then a form where they have to put email or press like button of facebook to start navigate freely.</p><p>I have installed openwrt on my router, What tools do i need? how can i let them navigate after the login form??</p><p>thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321765">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						29 Apr 2016, 08:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>leoh wrote:</cite><blockquote><p>... press like button of facebook to start navigate freely.</p></blockquote></div><p>&#039;incentivizing&#039; is expressly <a href="https://developers.facebook.com/policy/#properuse">forbidden</a> by FB.<br />N.B. none of the requirements are unique to OpenWrt. This post belongs on <a href="http://www.smallnetbuilder.com/">Small Net Builder</a>.</p><p>Why not install a packaged solution from an AAA provider? Most are OpenWrt-based.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321960">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">wired4net</div>
					<div class="post-datetime">
						30 Apr 2016, 15:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have a solution that provides captive portal with fb, google+, email and passcode.</p><p>Find out more at <a href="http://www.facepoint.me">www.facepoint.me</a></p><p>kind regards</p><p>Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321964">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						30 Apr 2016, 16:49					</div>
				</div>
				<div class="post-content content">
					<p><strong>&lt;hijack&gt;</strong><br />@wired4net - Peter, does the HS trigger the CNA (Apple) upon association with the AP and if yes, care to share the code / mechanism?<br /><strong>&lt;/hijack&gt;</strong></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322108">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">leoh</div>
					<div class="post-datetime">
						1 May 2016, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>i want to do almost the same of facepoint.me<br />i just want to know..how can i let them navigate after the login form??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322109">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">leoh</div>
					<div class="post-datetime">
						1 May 2016, 23:12					</div>
				</div>
				<div class="post-content content">
					<p>i want to develop almost the same. how can i do that.. what tools i need beside openwrt</p><div class="quotebox"><cite>wired4net wrote:</cite><blockquote><p>Hi,</p><p>I have a solution that provides captive portal with fb, google+, email and passcode.</p><p>Find out more at <a href="http://www.facepoint.me">www.facepoint.me</a></p><p>kind regards</p><p>Peter</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325495">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">wired4net</div>
					<div class="post-datetime">
						23 May 2016, 18:33					</div>
				</div>
				<div class="post-content content">
					<p>@Max Hopper</p><p>Sorry for the late reply. My solution is based on wifidog installed on trunk OpenWRT with a custom written web portal and Splash screen management running in the cloud. The question about the CNA . . . IOS looks to see if it can connect to a number of different web pages to determine internet connectivity. If it cannot CNA opens and shows the Splash page. I am doing nothing clever, its all part of wifidog. The Splash page is responsive.</p><p>For fb or google+ authentication you will need to use the respective API and calls and ensure that the necessary URLs are open. Ipset is your friend here. All available for free.</p><p>You cannot force users to give a like or post comment, but you can prompt and have a skip button. This is the solution we have made. We can also host an advert and direct users here or custom URL. We log users MAC and logon details to ensure compliance with the law. User data can be exported and mailed as CSV file. This where fb and google+ logons are good as we get the users primary email address.</p><p>We now support public and private SSID&#039;s and the AR150 based Hotspot is perfect for small venues. We are now running on Linksys 1200AC and this router is a beast . . . its fast.</p><p>Its been a lot of effort and fun while working full time but I have a number of units running around Europe now and cheap at £99 per year <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> unlike other vendors such as purple or wiman. I see one company asking for £99 per month to download all user records in CSV. Crazy!</p><p>I am looking for partners to sell my solution so get in touch if you are interested. You can source your own hardware and set your own prices. Set up takes around 15 mins if you know OpenWRT and vi and I email the web dashboard credentials. We have string support&nbsp; currently for English, Portuguese, Spanish and Vietnamese.</p><p>@leoh&nbsp; . . . its a lot of effort and hard work. </p><br /><p>kind regards</p><p>Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325500">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">chiakhoavang.vn</div>
					<div class="post-datetime">
						23 May 2016, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>I also want to do this, will follow this topic</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325521">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						23 May 2016, 20:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wired4net wrote:</cite><blockquote><p>The question about the CNA . . . IOS looks to see if it can connect to a number of different web pages to determine internet connectivity. If it cannot CNA opens and shows the Splash page. I am doing nothing clever, its all part of wifidog.</p></blockquote></div><p>Aware of this (Chilli&#039;s built-in DNS hook to redirect). The Coova Chilli portals here do not trigger CNA but do force the Android login helper. Other captive solutions implemented here (DNS requests redirected with DNSmasq) also deliver no joy.</p><p>Must delve into WiFiDog...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325541">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">wired4net</div>
					<div class="post-datetime">
						23 May 2016, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>I have only used wifidog. Even facebook use wifidog in their facebook wifi offering. I have heard of chilli and many use it but I have no experience.</p><p>Ipset is your friend together with dnsmasq-full in OpenWRT. Ipset handles the whitelisting.<br />Once you have Ipset, dnsmasq-full and wifidog.conf configured correctly it all works. That&#039;s it.</p><p>The web portal with SQL backend will be your main task to create and get working.</p><p>hope that helps.</p><p>kind regards</p><p>Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325548">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						23 May 2016, 23:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p>Must delve into WiFiDog...</p></blockquote></div><p>No need. Coova-chilli also triggers CNA. <br />In case, walled garden is correct.</p>											<p class="post-edited">(Last edited by <strong>augustus_meyer</strong> on 23 May 2016, 23:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325549">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						23 May 2016, 23:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wired4net wrote:</cite><blockquote><p>I have heard of chilli and many use it but I have no experience.</p></blockquote></div><p>Better (more options) than wifidog.<br />But to use all options effectively, you might need to read C ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325551">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						23 May 2016, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>Certainly (b)ash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325552">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						24 May 2016, 00:02					</div>
				</div>
				<div class="post-content content">
					<p>Thats the easy part. I wrote &quot;C&quot;. Just to verify the various wrong docs, floating on the web.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325553">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						24 May 2016, 00:06					</div>
				</div>
				<div class="post-content content">
					<p>@augustus_meyer Genau.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325807">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">wired4net</div>
					<div class="post-datetime">
						25 May 2016, 17:24					</div>
				</div>
				<div class="post-content content">
					<p>wifidog has had more development recently and works well for me. We are running wifidog version 1.3.0 which supports Ipset natively. Ipset provides the walled garden function and is easy to use.</p><p>chilli or wifidog&nbsp; . . . It&#039;s like beer, the best beer is the one you like <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325813">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">wired4net</div>
					<div class="post-datetime">
						25 May 2016, 17:52					</div>
				</div>
				<div class="post-content content">
					<p><strong>@chiakhoavang.vn</strong>&nbsp; I am looking for competent partners to sell my social wifi solution in their home markets. If you are interested please contact me through <a href="http://www.facepoint.me/contact-us.html">http://www.facepoint.me/contact-us.html</a></p><p>You provide the router and make the setup, we supply the web portal and authentication <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>kind regards</p><p>Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328316">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">freewifimarketing.net</div>
					<div class="post-datetime">
						13 Jun 2016, 18:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wired4net wrote:</cite><blockquote><p><strong>@chiakhoavang.vn</strong>&nbsp; I am looking for competent partners to sell my social wifi solution in their home markets. If you are interested please contact me through <a href="http://www.facepoint.me/contact-us.html">http://www.facepoint.me/contact-us.html</a></p><p>You provide the router and make the setup, we supply the web portal and authentication <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>kind regards</p><p>Peter</p></blockquote></div><p>Hi, I am building the community @FreeWifiMarketing, interested in helping people doing this. However, there are router supporting Facebook Wifi now, how can you sell your solution?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328321">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">facepoint</div>
					<div class="post-datetime">
						13 Jun 2016, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>How can we sell a solution ? </p><p>Business want a solution that works and has the core functions they want for a fair price. We provide this. You get a powerful hotspot router, 2 SSID&#039;s public and private, facebook, google+, email and passcode logins, custom Splash, advert hosting and web dashboard all for 35p a day. Year 2 cost drops to 27p a day!</p><p>Come on for 35p you have a solution that works!</p><p>We are way cheaper than Purple, Wiman, FusionWIFI and others as we dont have flash offices and lots of marketing people and high expenses. </p><p>We are shipping units and people are happy so we must be doing something right. </p><p>kind regards</p><p>Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363700">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">coelho.idemir</div>
					<div class="post-datetime">
						14 Aug 2017, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello there.<br />I&#039;m trying to setup ipset for Facebook, but when I add the ipset in dnsmasq.conf, and restart the router, them connect to it via wifi, it does not fix the connection. Stay reconnecting and dropping connection, in loop.<br />Any idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370864">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Rootcause89</div>
					<div class="post-datetime">
						13 Jan 2018, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi @facepoint, I am interested in what you have done with WiFidog RE: Social Auth, however I noticed facepoint is down at the moment?</p><p>I just wanted to ask if you run into any issues with getting facebook to load via the OSX Captive Portal (CNA)?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>