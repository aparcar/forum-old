<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Deleted root password</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p173172">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Axel86</div>
					<div class="post-datetime">
						25 Jul 2012, 00:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I did a stupid mistake. I deleted the root password and I am not able to login any longer into my TP WR-941ND router. So I tried to access the failsafe mode by pressing the QSS button at the front of the device. The Sys LED starts flashing quickly, like described. But the device isn&#039;t pingable nor telnet connectable. Without pressing the QSS button the device boots normaly and is not accessable because of the deleted password.</p><p>Any Ideas, how I can login or what I&#039;m doing wrong by trying to access the failsafe mode?</p><p>kind regards<br />Axel86</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173200">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cave</div>
					<div class="post-datetime">
						25 Jul 2012, 09:47					</div>
				</div>
				<div class="post-content content">
					<p>have you set your computers ip to 192.168.1.2, subnet 255.255.255.0 <br />maybe disable your firewall to impossible connection problems from this side.</p><p>is it pingable on 192.168.1.1 ? or on the original ip? </p><p>try to press the reset button like in <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n">http://wiki.openwrt.org/toh/tp-link/tl-wr703n</a>&nbsp; or in <a href="http://wiki.openwrt.org/doc/howto/generic.failsafe">http://wiki.openwrt.org/doc/howto/generic.failsafe</a><br />between generic and WR703n are differences, maybe also for WR-941ND</p><p>open a shell with a running ping on 192.168.1.1. to see when the ip comes online.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173224">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Axel86</div>
					<div class="post-datetime">
						25 Jul 2012, 13:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi cave,</p><p>thanks for hints!<br />I&#039;m using a nice Linux without firewall rules and configured the network interface to the 192.168.1.0 subnet with address .5 for my notebook. The link is working and I can see the discover packet of the router. Without presseing a button it boots to the last configuration (without / with wrong root password). <br />I tried several things to boot to failsafe. I tried the button in front, the reset button, sometimes directly after power on, then after Sys LED on, then after 10-12 Seconds like it is recommended for your router, after the discovery packet ... nothing works ;-(</p><p>I&#039;ve installed the generic firmware version from yesterday (24th July 2013).</p><p>If I have to open the device, how shall I connect&nbsp; a nokia CA-42 Cable? Which cable do I have to connect to which PIN? </p><p>Any further tipps are welcome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173225">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ldpinney</div>
					<div class="post-datetime">
						25 Jul 2012, 13:56					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr941nd#serial">http://wiki.openwrt.org/toh/tp-link/tl-wr941nd#serial</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173226">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						25 Jul 2012, 14:01					</div>
				</div>
				<div class="post-content content">
					<p>You might try the TFTP method to upload and flash a new firmware, which method is well described e.g. for wndr3700: <a href="http://wiki.openwrt.org/toh/netgear/wndr3700#recovery.flash.in.failsafe.mode">http://wiki.openwrt.org/toh/netgear/wnd … lsafe.mode</a></p><p><a href="http://wiki.openwrt.org/doc/howto/generic.flashing.tftp">http://wiki.openwrt.org/doc/howto/generic.flashing.tftp</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173229">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Jul 2012, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>have you tried also on WAN port while in failsafe mode (you said that you get quick flashing so that is ok, i can&#039;t understand why after you tell that you can&#039;t get in failsafe and try various buttons at various timings...)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173231">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Axel86</div>
					<div class="post-datetime">
						25 Jul 2012, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>@ldpinney: thanks, I ment the information at this site: <a href="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation">http://buffalo.nas-central.org/index.ph … inkstation</a></p><p>@hnyman: I will give it a try in the evening. Does it have a chance, if no ping is possible?</p><p>@nebbia88: I tried it on the WAN Port and all other ports. Everytime the same result: no ping -&gt; no telnet. I think that I got into something like the failsafe mode, because the LED flashs quickly. But neither a ping nor any other response is given by the router except the first discover udp paket. I tried pressing the buttons at several timing, because of the hint of cave.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173232">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						25 Jul 2012, 15:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Axel86 wrote:</cite><blockquote><p>@hnyman: I will give it a try in the evening. Does it have a chance, if no ping is possible?</p></blockquote></div><p>The TFTP upload time window is open just for a few seconds during the early boot process. I have never bothered to check for pings when unbricking my wndr3700, which I have now done 3-4 times (as I constantly test new builds and some of them have sadly bricked the router).</p><p>If you want to test for pings, launch a ping client with unlimited number of pings in a terminal session and then reboot the router and try pushing buttons during the boot process. You may then notice successful pings for a few seconds, after which the boot process goes forward.</p><p>I have used a TFTP tool with GUI made for firmware uploading. Links to it are on the DD-wrt site:<br /><a href="http://www.dd-wrt.com/wiki/index.php/TFTP_flash#Windows">http://www.dd-wrt.com/wiki/index.php/TFTP_flash#Windows</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173244">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Jul 2012, 16:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Axel86 wrote:</cite><blockquote><p>@hnyman: I will give it a try in the evening. Does it have a chance, if no ping is possible?</p></blockquote></div><p>i don&#039;t think so..</p><p>also, never seen a tutorial to upgrade tp-links with tftp without serial!<br />please post links if existing...</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 25 Jul 2012, 16:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173258">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						25 Jul 2012, 19:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>also, never seen a tutorial to upgrade tp-links with tftp without serial!<br />please post links if existing...</p></blockquote></div><p>I am not sure about that, but as 941ND is an ar71xx architecture based device (just like my WNDR3700), I see no self-evident reason why the TFTP method would not work in that device. </p><p>WNDR3700 has a very good explanation of that method in Wiki, so I used that as example. I also linked the generic wiki article about Openwrt and TFTP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173263">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						25 Jul 2012, 20:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>I am not sure about that, but as 941ND is an ar71xx architecture based device (just like my WNDR3700), I see no self-evident reason why the TFTP method would not work in that device.</p></blockquote></div><p>The Atheros uboot does not come with a tftp server, so Netgear chose to add one, TP-Link didn&#039;t. Therefore the tftp method works for Netgear devices, but not for TP-Link ones.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173273">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Axel86</div>
					<div class="post-datetime">
						25 Jul 2012, 22:03					</div>
				</div>
				<div class="post-content content">
					<p>So, no need to spend any time in the tftp exercise ;-(</p><p>Is the result, that I can only fix the router with a serial cable?<br />Why could this happen? I understand, that login is disabled without a root password by using ssh. But why doesn&#039;t the router switch to failsafe mode with active network devices? Is it a common problem with the tp tl 941nd router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175187">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Axel86</div>
					<div class="post-datetime">
						17 Aug 2012, 23:21					</div>
				</div>
				<div class="post-content content">
					<p>To give the final status. By connecting with a serial cable I was able to set a new root password and the router works fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175231">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						18 Aug 2012, 14:56					</div>
				</div>
				<div class="post-content content">
					<p>Boot to failsafe mode is freakin&#039; easy.</p><p>During power up, within the First 3 sec, press the reset button or WPS button (depends on your h/w)....... press the button, NOT hold the button.<br />then you will see the power LED (or other LED) fresh in high speed.<br />That&#039;s it, you are in failsafe mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175342">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">123serge123</div>
					<div class="post-datetime">
						20 Aug 2012, 08:53					</div>
				</div>
				<div class="post-content content">
					<p>Serial console works OK but I think failsafe netlogon is broken in trunk. For ramips I use <a href="http://patchwork.openwrt.org/patch/2455/">http://patchwork.openwrt.org/patch/2455/</a> to configure network in failsafe mode.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>