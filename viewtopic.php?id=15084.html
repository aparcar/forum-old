<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Crazy?  (Beefy up WRT54G v5 increase RAM)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p65894">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Milkman</div>
					<div class="post-datetime">
						28 Mar 2008, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>I have searched the forums and haven&#039;t seen too many people doing what I would like to try and do.&nbsp; I was given a WRT54G v5 and have successfully loaded dd-wrt micro on it.&nbsp; This made me wonder why not beef up the router to handle the full blown OpenWrt?&nbsp; From the system requirements, it seems the 2 MB of Flash might suffice, and the .bin file for kamikaze (any thoughts on kamikaze vs. WR?) is only 1.8 MB so I should be able to flash it (am I missing anything?&nbsp; I am new to this type of hacking and loving it).&nbsp; I ordered some RAM chips from Micron and intend to bump my RAM up to 64 MB (if not 256 MB if A12 is connected) which seems to be the only reason OpenWrt isn&#039;t supported on v5?</p><p>Anyone have any cautionary tales, or holes in my thinking???</p><p>Following the successful implementation of OpenWrt, I intend to add an SD card for package storage (expanded flash, correcting the second problem with v5).</p><p>Should things go to plan, would anyone be interested in a write up of my adventure?&nbsp; I would be happy to share my experiences if it encourages others to undo what Linksys did (restore functionality to the hardware).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66004">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wl520gu-hax</div>
					<div class="post-datetime">
						30 Mar 2008, 15:45					</div>
				</div>
				<div class="post-content content">
					<p>Good luck with that. If you manage to increase both the 2MB flash and the 8MB system memory without spending more than one hour of effort, then you&#039;ve got my vote. otherwise, it&#039;s too easy to buy a router with 4/16MB. Too easy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66128">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Milkman</div>
					<div class="post-datetime">
						1 Apr 2008, 15:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wl520gu-hax wrote:</cite><blockquote><p>Good luck with that. If you manage to increase both the 2MB flash and the 8MB system memory without spending more than one hour of effort, then you&#039;ve got my vote. otherwise, it&#039;s too easy to buy a router with 4/16MB. Too easy.</p></blockquote></div><p>I only know the Linksys line up, but finding a &quot;proper&quot; WRT54G for less than $50 doesn&#039;t seem to be too easy to me.&nbsp; Most of the ebay auctions that were close to closing seemed to be in the $70 range.&nbsp; Since I got the v5 for free, I think a couple hours of &quot;work&quot; (I consider this fun afterall, hardware is not only my job, but my hobby) to make something useful is well worth it.&nbsp; This would also offer a path for all those boxes that people have collecting dust, plus the older hardware is going to start dying off eventually <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>My primary question is if I do manage to up the RAM (to 64 MB), will that change installing OpenWrt from a guaranteed brick-fest to something usable?&nbsp; Is the RAM the source of the bricks, or do they require the added Flash as well?&nbsp; I would prefer to just change out the RAM, install OpenWrt, then increase the Flash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66140">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">wl520gu-hax</div>
					<div class="post-datetime">
						1 Apr 2008, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>Well, if you want to go for it, go for it! </p><p>I&#039;ll join you in your endeavor if you like, I have a wrt54g v8 over here with a serial mod and 512MB SD dangling out of it already.&nbsp; But then I got frustrated by the scale of the problem and gave up,&nbsp; There are plenty of Linksys WRT54G v8&#039;s for sale in this town... in my case I gleefully bought one without researching it first, thinking - how bad could it be? then, when i found about about the reduced RAM i was kicking myself. It can be very, very bad. The next router I bought after that, I took it up to the counter and insisted that the guy look it up on the OpenWrt Table of Hardware First <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; &nbsp;and even though the WL-520GU is also a somewhat crippled router - at least it has 4MB of flash already! </p><p>Even if adding more memory is possible, you see, there is still the problem of working with a configuration that doesn&#039;t know it, and the problem of telling it how to go about using all the fancy new stuff you just added. it&#039;s a bit of a catch 22. </p><p>The way I imagine it working is: you compile an openwrt kernel that&#039;s using most of brainslayer&#039;s .config so it&#039;s really quite braindead at first. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> That should be the first step to get around this 2MB limitation.&nbsp; </p><p>Once that boots, Then add the RAM, double and triple check everything of course, and boot. If it still isn&#039;t a brick, then change nvram. <br />If it still isn&#039;t a brick, I suppose you could throw all caution to the wind and add more flash. </p><p>And if all of that goes well, then it may be safe to start adding packages or using a proper kernel. </p><p>good luck</p>											<p class="post-edited">(Last edited by <strong>wl520gu-hax</strong> on 1 Apr 2008, 18:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66142">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wl520gu-hax</div>
					<div class="post-datetime">
						1 Apr 2008, 18:52					</div>
				</div>
				<div class="post-content content">
					<p>guys, I&#039;m seriously hoping that this 2MB router flash thing is just a blip on the screen of the entire computer industry... when I found out about it I was hypothesizing that somebody had a very large pile of old RAM chips that they sold at a major discount to linksys just to clear stock. </p><p>If we still see 2MB linksys routers next year, I think we should revolt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66184">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Milkman</div>
					<div class="post-datetime">
						2 Apr 2008, 04:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wl520gu-hax wrote:</cite><blockquote><p>Even if adding more memory is possible, you see, there is still the problem of working with a configuration that doesn&#039;t know it, and the problem of telling it how to go about using all the fancy new stuff you just added. it&#039;s a bit of a catch 22. </p><p>The way I imagine it working is: you compile an openwrt kernel that&#039;s using most of brainslayer&#039;s .config so it&#039;s really quite braindead at first. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> That should be the first step to get around this 2MB limitation.</p></blockquote></div><p>My RAM arrived today, so tomorrow I plan to bump up to 64 MB (will test the 256 MB later since I am still not certain A12 would be connected, and I don&#039;t feel like x-raying the guy to find out).&nbsp; I have installed dd-wrt micro on this guy, so I think I can test out the increased RAM through that, once that is verified, then I plan to try and flash OpenWrt onto it with 2 MB of flash since the .bin file is 1.8 MB.&nbsp; Am I missing something there?</p><p>After OpenWrt is up and running, then it will be time for the mmc hack to increase the flash space, I have a 32 MB SD card waiting with a floppy cable salvaged from the scrap heap in the garage.&nbsp; I love doing hardware on a budget, I have quite the reputation as a dumpster diver around the office <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I&#039;ll keep you posted on my adventures, given the cheap v8s found on ebay, I may try and pick one up to test with since I ordered extra RAM.</p><br /><p>Update:&nbsp; Well, all is not happy in Muddville.&nbsp; Adding the RAM chip is easy when you have proper tools (hot air station, fine tip iron), but you are dead nuts on, the config is not going well.&nbsp; I have installed dd-wrt micro so I have a telnet to change nvram parameters, but that doesn&#039;t seem too kosher to the v5 for some reason.&nbsp; I did have to tie A12 on the RAM to ground (it is NOT connected on the board...geez guys thanks for bothering to take a trace away you had on previous revs!), but it happily boots with the new chip as an 8 MB chip (it is a 256 Mbit chip, so 64 MB onboard).&nbsp; Trying to turn on the &quot;extra&quot; memory leads to wonderful bricklike behavior.&nbsp; Thankfully, a simple erase of the NVRAM and it returns to operation (make a jtag cable before changing any chips...odds are you will need it!).&nbsp; I am going to keep monkeying with the nvram settings and see if I can get it to open up, but I am starting to wonder if the guys at Linksys have actually gone to the trouble to screw us over on the BCM5352.</p><p>OK, some success.&nbsp; I don&#039;t understand why it took so long to work, but this morning I did the following from the telnet prompt:</p><p>nvram set sdram_init=0x0A<br />nvram set sdram_ncdl=0x0000<br />nvram commit</p><p>I then exited the telnet session and instead of power cycling, used the dd-wrt webpage to reboot, and presto, 16 MB now available on my v5 router.&nbsp; I swear I tried the nvram settings above first shot with a brick following a power cycle, but maybe I screwed something up.&nbsp; Sadly, the chip I put in only has 9-bit column addressing, so I can&#039;t get at the rest of the memory (it is a 256 Mbit chip), but if things go well from here on out, I will probably get a better chip to put on now that I have a better understanding of what is happening.&nbsp; I will keep you posted with further progresses as it occurs (just tested a power cycle, all is well, still have my 16 MB).&nbsp; Joy returns to Muddville!</p>											<p class="post-edited">(Last edited by <strong>Milkman</strong> on 9 Apr 2008, 15:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67660">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">wl520gu-hax</div>
					<div class="post-datetime">
						1 May 2008, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>cool! well, now i&#039;m casting a wary eye at the old wrt54g v8 shopping mistake with it&#039;s unfortunate SD-MMC mod hanging out of the side, sitting just over there. </p><p>I did the SD-MMC mod, all excited about increasing it&#039;s memory but noooooooo, there is no such support for such modules under any micro kernel that i have found yet... but i could compile one... i suppose... </p><br /><p>and i do have some old ram chips around here... </p><p>16MB would be nice... </p><p>way to go so far!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79352">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jmlemay</div>
					<div class="post-datetime">
						9 Jan 2009, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>Milkman, can you post which RAM chip you used for your upgrade?<br />I&#039;m looking to do the same mod, as well.</p><p>Also, did you ever look into the Flash chip upgrade?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>