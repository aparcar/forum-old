<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Best router for streaming / video surveillance?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p225385">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Fragment</div>
					<div class="post-datetime">
						15 Feb 2014, 14:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m looking for suggestions on which router model to use for video surveillance. Basically I&#039;m trying to set up IP cameras by using the router&#039;s USB interface to attach a decent HD webcam, and install openwrt firmware on the router with some video streaming software i.e. mjpg-streamer. I&#039;ll be using these to get video streams from around my house, and I&#039;d like to find out what router hardware to use for this purpose. So far I&#039;ve been using TP-Link&#039;s TL-MR3020 routers - they&#039;re small and elegant and they have a single usb port. I&#039;ve even looked at TL-RW703N models that are very similar to the former model. While I like the size and price of these routers, they&#039;re rather limited when it comes to MPU processing power and RAM (400MHz, 32MB RAM).</p><p>I&#039;ve tried to stream some higher resolutions without much success - the streams get torn apart (image tearing). Sometimes the image gets stuck on a single frame until I refresh the stream manually, sometimes the streaming program crashes immediately and sometimes the router reboots. I&#039;ve done some benchmarking, and found out that the higher streams will eat up all the RAM - this is also when the router panics/restarts.</p><p>So I&#039;m looking for a replacement model with a more powerful microprocessor and a bit more RAM (64MB+). Do you have a suggestion?</p><p>Best regards!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225396">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						15 Feb 2014, 17:09					</div>
				</div>
				<div class="post-content content">
					<p>How many cameras and what counts as high resolution?</p><p>You can, of course, use an x86 device to get about as much processing power as you would ever need.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225398">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						15 Feb 2014, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>Not more powerful, but more RAM: DIR-505 (64MB)<br />It like this one because of it&#039;s plug-form, which can be convenient when using the router as webcam-server (minimum extra cables dangling around).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225403">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">grayman4hire</div>
					<div class="post-datetime">
						15 Feb 2014, 18:48					</div>
				</div>
				<div class="post-content content">
					<p>Not sure if it&#039;s the &quot;best&quot; router, but definitely better than the 703n/3020 with twice the flash and memory @ 8MB and 64MB and an extra Ethernet port.</p><p>Unbrickable with built in serial header pins for easy console access and @pepe2k&#039;s uboot pre-installed (<a href="https://forum.openwrt.org/viewtopic.php?id=43237">https://forum.openwrt.org/viewtopic.php?id=43237</a>).</p><p>Also supports camera streaming right out of the box and only $20 shipped on Amazon with Prime - <a href="http://www.amazon.com/gp/product/B00F3TS3U2.">http://www.amazon.com/gp/product/B00F3TS3U2.</a></p><p>GL-iNet -https://forum.openwrt.org/viewtopic.php?id=47715</p><p>Saying that, I would actually recommend a Pogoplug modified with Arch Linux ARM instead, which has a much faster ARM processor and 128MB or 256MB memory depending on the model you get - <a href="http://blog.qnology.com/2013/03/tutorial-pogoplug-e02-with-arch-linux.html">http://blog.qnology.com/2013/03/tutoria … linux.html</a></p>											<p class="post-edited">(Last edited by <strong>grayman4hire</strong> on 15 Feb 2014, 18:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225411">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Fragment</div>
					<div class="post-datetime">
						15 Feb 2014, 21:39					</div>
				</div>
				<div class="post-content content">
					<p>Well yeah the &quot;best&quot; keyword is rather ambigous. &quot;Decent&quot; would be a more appropriate term. The DIR-505 looks like an interesting choice, I&#039;ll have a look at it. I would personally avoid any X86 architecture at least on the cameras, because I can always install a dedicated PC that records all the streams, does motion recognition, etc.</p><p>grayman4hire: Thanks for the links! So you&#039;re suggesting that I use a full lonix OS instead of openWRT? I was thinking about using Raspberry Pi for the job, but I&#039;d like a device that consumes a bit less power than that. Personally I would avoid *anything*plug because I have bad experience with them, and they cost a lot too. A Cubieboard would be a more appropriate board. Still, I was hoping for something openwrt-based <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>EDIT: High resolution is anything above HD720. I&#039;m saying this because I&#039;d like to avoid those cheap 640x480 cams. Baybe even 800x600. The bigger resolution the better. I have a camera that does 1600x1200.</p>											<p class="post-edited">(Last edited by <strong>Fragment</strong> on 15 Feb 2014, 21:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225421">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">grayman4hire</div>
					<div class="post-datetime">
						16 Feb 2014, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>The Pogoplug is only $15-$20, so I don&#039;t think it &quot;cost too much&quot;. Not sure if I call Arch Linux ARM on a embedded device like a Pogoplug a &quot;full linux&quot; OS. If your preference is OpenWRT, the V2/V4 Pogoplugs supports OpenWRT. I don&#039;t run openwrt on my Pogoplugs personally, but it is supported (but seems a little complex for me).<br /><a href="http://slickdeals.net/f/6525616-pogoplug-sale-media-sharing-pro-15-pogo-p21-15-pogo-mobile-14-pogo-dekstop-17-free-shipping">http://slickdeals.net/f/6525616-pogoplu … e-shipping</a></p><p>Motion (video/photo) capture also runs on the Pogoplug, eliminating the need for a PC to record.</p><p>Streaming 720P is not a trivial task (with any decent frame rate). On the Pogoplug&#039;s 1.2Ghz ARM/256MB, I&#039;m running 640x480 at like 10 frames per second I believe. I believe the USB bus ends up being a bottleneck at some point.</p><p>Just wanted to give you some prospective considering the Pogoplug is way more powerful than most, if not all consumer routers under $150 (or maybe even $200).</p><br /><div class="quotebox"><cite>Fragment wrote:</cite><blockquote><p>Well yeah the &quot;best&quot; keyword is rather ambigous. &quot;Decent&quot; would be a more appropriate term. The DIR-505 looks like an interesting choice, I&#039;ll have a look at it. I would personally avoid any X86 architecture at least on the cameras, because I can always install a dedicated PC that records all the streams, does motion recognition, etc.</p><p>grayman4hire: Thanks for the links! So you&#039;re suggesting that I use a full lonix OS instead of openWRT? I was thinking about using Raspberry Pi for the job, but I&#039;d like a device that consumes a bit less power than that. Personally I would avoid *anything*plug because I have bad experience with them, and they cost a lot too. A Cubieboard would be a more appropriate board. Still, I was hoping for something openwrt-based <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>EDIT: High resolution is anything above HD720. I&#039;m saying this because I&#039;d like to avoid those cheap 640x480 cams. Baybe even 800x600. The bigger resolution the better. I have a camera that does 1600x1200.</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>grayman4hire</strong> on 16 Feb 2014, 00:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225447">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Fragment</div>
					<div class="post-datetime">
						16 Feb 2014, 10:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>grayman4hire wrote:</cite><blockquote><p>The Pogoplug is only $15-$20, so I don&#039;t think it &quot;cost too much&quot;.</p></blockquote></div><p> Oh? Sorry, I thought it was in the 90$-150$ range. I bought a SheevaPlug once, but it died out after a while, not to mention its overheating problems.</p><p>The reason I&#039;d like to use OpenWRT is because it is already optimized for ARM devices with flash storage. With arch linux I have to manually perform the optimization to minimize flash writes. Motion capture can be used locally, but personally I would rather run it on a dedicated machine, and have the cameras stream video all the time. A lot of commercial security solutions also behave this way, specially when you have multiple cameras installed.</p><p>I was having problems streaming on MR-3020 with dropped frames, image distortion, and system crashes. But this was due to the low amount of RAM present in the router hardware. A lot of webcams support two different formats - mjpeg and some other that I can&#039;t remember the name of. This second one is usually used for higher resolutions, but takes up a lot more bandwidth. I couldn&#039;t get MR-3020 to stream one of these even at the lowest supported resolution. This is why a powerful CPU is needed to convert this data-heavy stream into a more lightweight protocol (i.e. mjpeg) and then stream it over the ethernet.</p><p>I managed to get the MR-3020 to stream a 800x600 at 25FPS using MJPEG stream without problems though I had to use the latest BB trunk. AA was too unstable. I&#039;ll take a look at pogoplug then.</p><p>Ty.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225475">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						16 Feb 2014, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s been years since I tried it, but as I recall, a WR703N did fine streaming 800x600 with a Logitec Quickcam Pro 9000.&nbsp; The 266mhz NSLU2 (8mb flash, 326mb ram) certainly does.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225491">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">grayman4hire</div>
					<div class="post-datetime">
						16 Feb 2014, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>Actually with Arch Linux ARM, you&#039;re required to run everything on a USB Flash Drive (the internal flash isn&#039;t used). This is where running OpenWRT would be a huge advantage.</p><div class="quotebox"><cite>Fragment wrote:</cite><blockquote><div class="quotebox"><cite>grayman4hire wrote:</cite><blockquote><p>The Pogoplug is only $15-$20, so I don&#039;t think it &quot;cost too much&quot;.</p></blockquote></div><p> Oh? Sorry, I thought it was in the 90$-150$ range. I bought a SheevaPlug once, but it died out after a while, not to mention its overheating problems.</p><p>The reason I&#039;d like to use OpenWRT is because it is already optimized for ARM devices with flash storage. With arch linux I have to manually perform the optimization to minimize flash writes. Motion capture can be used locally, but personally I would rather run it on a dedicated machine, and have the cameras stream video all the time. A lot of commercial security solutions also behave this way, specially when you have multiple cameras installed.</p><p>I was having problems streaming on MR-3020 with dropped frames, image distortion, and system crashes. But this was due to the low amount of RAM present in the router hardware. A lot of webcams support two different formats - mjpeg and some other that I can&#039;t remember the name of. This second one is usually used for higher resolutions, but takes up a lot more bandwidth. I couldn&#039;t get MR-3020 to stream one of these even at the lowest supported resolution. This is why a powerful CPU is needed to convert this data-heavy stream into a more lightweight protocol (i.e. mjpeg) and then stream it over the ethernet.</p><p>I managed to get the MR-3020 to stream a 800x600 at 25FPS using MJPEG stream without problems though I had to use the latest BB trunk. AA was too unstable. I&#039;ll take a look at pogoplug then.</p><p>Ty.</p></blockquote></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>