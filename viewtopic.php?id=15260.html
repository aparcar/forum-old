<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Need Help, stucked in middle in flashing FON 2100 A/B/C</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p66701">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						11 Apr 2008, 17:37					</div>
				</div>
				<div class="post-content content">
					<p>I followed the document <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Fon/Fonera">http://wiki.openwrt.org/OpenWrtDocs/Hardware/Fon/Fonera</a><br />Got the SSH and&nbsp; RedBoot access and started with ..</p><p>Installing OpenWrt with RedBoot</p><br /><p>^C<br />RedBoot&gt; ip_address -h 192.168.5.2 -l 192.168.5.75/24<br />IP: 192.168.5.75/255.255.255.0, Gateway: 0.0.0.0<br />Default server: 192.168.5.2<br />RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-2.6-vmlinux.lzma<br />Using default protocol (TFTP)<br />Raw file loaded 0x80041000-0x800f0fff, assumed entry at 0x80041000<br />RedBoot&gt; fis init</p><p>RedBoot&gt; fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7<br />An image named &#039;vmlinux.bin.l7&#039; exists - continue (y/n)? y<br />... Erase from 0xa8730000-0xa87e0000: ...........<br />... Program from 0x80041000-0x800f1000 at 0xa8730000: ...........<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .</p><p>RedBoot&gt; fis free<br />&nbsp; &nbsp; &nbsp; 0xA80F0000 .. 0xA87E0000</p><p>server:~# bc<br />obase=16<br />ibase=16<br />A87E0000 - A80F0000<br />6F0000</p><p>RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-2.6-root.squashfs<br />Using default protocol (TFTP)<br />|<br />Raw file loaded 0x80041000-0x80200fff, assumed entry at 0x80041000<br />RedBoot&gt; fis create -l 0x006F0000 rootfs<br />An image named &#039;rootfs&#039; exists - continue (y/n)? y<br />... Erase from 0xa8030000-0xa8730000: ...............................<br />... Program from 0x80041000-0x80741000 at 0xa8030000: ............................................<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; reset</p><p>--------------------------------Above worked without any issue-------- </p><p>== Executing boot script in 8.610 seconds - enter ^C to abort</p><p>CRTL-c is not working any more and only special char get display.<br />i am not getting RedBoot prompt...</p><br /><p>Please Help.<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66702">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">davide_lenza</div>
					<div class="post-datetime">
						11 Apr 2008, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />Set your PC to 192.168.1.254 and reboot your fonera.<br />You are not able to see the successful ping to 192.168.1.1?<br />Davide</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66704">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						11 Apr 2008, 18:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davide_lenza wrote:</cite><blockquote><p>Hi,<br />Set your PC to 192.168.1.254 and reboot your fonera.<br />You are not able to see the successful ping to 192.168.1.1?<br />Davide</p></blockquote></div><p>Hello.</p><p>Yes, i did that and it worked half way</p><p>my initial setup for TFTP is ..my PC is set to 192.168.1.166</p><p>ip_addr -h 192.168.1.166 -l 192.168.1.254/24</p><p>RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-2.6-vmlinux.lzma<br />RedBoot&gt; fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7<br />RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-2.6-root.squashfs</p><p>RedBoot&gt; fis create -l 0x006F0000 rootfs</p><p>All above worked OK, Now CTRL-C is not working after reset.. i see message in telnet window</p><p>== Executing boot script in 8.610 seconds - enter ^C to abort</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66705">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">davide_lenza</div>
					<div class="post-datetime">
						11 Apr 2008, 18:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>Maybe you need to modify the REDBOOT fconfig to contain those lines:<br />fis load -l vmlinux.bin.l7<br />exec</p><p>Those are the command to be launched by the bootstrap</p><p>Please post the result of the command &quot;fconfig -l -n&quot;.</p><p>Davide</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66706">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						11 Apr 2008, 18:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davide_lenza wrote:</cite><blockquote><p>Hi, </p><p>Maybe you need to modify the REDBOOT fconfig to contain those lines:<br />fis load -l vmlinux.bin.l7<br />exec</p><p>Those are the command to be launched by the bootstrap</p><p>Please post the result of the command &quot;fconfig -l -n&quot;.</p><p>Davide</p></blockquote></div><p>Thanks </p><p>This time as soon i had<br />telnet 192.168.1.254 9000<br />i started hitting CTRL-C cotineously and got RedBoot prompt. Looks like earlier i was little slow to hit CTRL-C</p><p>Now doing <br />fis load -l vmlinux.bin.l7<br />exec</p><p>Thanks for your help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66707">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">davide_lenza</div>
					<div class="post-datetime">
						11 Apr 2008, 18:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />So now are you able to access OpenWrt or not?<br />Davide</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66708">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						11 Apr 2008, 18:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davide_lenza wrote:</cite><blockquote><p>Hi,<br />So now are you able to access OpenWrt or not?<br />Davide</p></blockquote></div><p>Yes, i am now</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66712">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						11 Apr 2008, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>Actually it&#039;s:</p><div class="codebox"><pre><code>RedBoot&gt; ip_address -h 192.168.5.2 -l 192.168.5.75/24
RedBoot&gt; fis init                                   &lt;---------------------
RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
RedBoot&gt; fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
RedBoot&gt; fis free

server:~# bc
obase=16
ibase=16
A87E0000 - A80F0000
6F0000

RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-2.6-root.squashfs
RedBoot&gt; fis create -l 0x6F0000 rootfs              &lt;---------------------
RedBoot&gt; reset</code></pre></div><p>That always worked for me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 11 Apr 2008, 21:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66808">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						13 Apr 2008, 20:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>forum2008 wrote:</cite><blockquote><p>Actually it&#039;s:</p><div class="codebox"><pre><code>RedBoot&gt; ip_address -h 192.168.5.2 -l 192.168.5.75/24
RedBoot&gt; fis init                                   &lt;---------------------
RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
RedBoot&gt; fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
RedBoot&gt; fis free

server:~# bc
obase=16
ibase=16
A87E0000 - A80F0000
6F0000

RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-2.6-root.squashfs
RedBoot&gt; fis create -l 0x6F0000 rootfs              &lt;---------------------
RedBoot&gt; reset</code></pre></div><p>That always worked for me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Thanks Forum2008</p><p>Now my Fonera is stable with wifi (its my workaround to use it until the Kamekaze 2.4 wifi issue resolve for Asus with broadcom)</p><p>Quick question please..<br />1. The wifi sigal strength for FON is not so good and file transfer is not great.&nbsp; I just compiled the packages from latest trunk using<br />svn checkout <a href="https://svn.openwrt.org/openwrt/trunk/">https://svn.openwrt.org/openwrt/trunk/</a> ~/trunk/<br />cd ~/trunk/<br />./scripts/feeds update<br />./scripts/feeds install &lt;pkg_name_1&gt; &lt;pkg_name_2&gt; ... &lt;pkg_name_N&gt;<br />make menuconfig<br />make world</p><p>is new packages<br />kmod-madwifi_2.6.23.16+r3314-atheros-1_mips.ipk<br />wireless-tools_29-2_mips.ipk<br />will help in wifi performance?</p><p>2. If yes, just removing above two package and installing the latest will work or i have to reflash the router ? is reflash process is same as you described?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66809">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Bartman007</div>
					<div class="post-datetime">
						13 Apr 2008, 21:06					</div>
				</div>
				<div class="post-content content">
					<p>You will have to reflash the router, which uses the same process as above. Packages from trunk cannot be used on Kamikaze because we have updated uClibc (breaks binary compatibility.)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>