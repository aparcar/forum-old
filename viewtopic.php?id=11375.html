<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> openwrt at netgear DG834B v2 ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p51245">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						25 Jun 2007, 21:08					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to flash openwrt to my netgear router. Now I read the tutorials <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/DG834G">DG834G</a> and <a href="http://wiki.openwrt.org/OpenWrtDocs/InstallingAR7#head-2776211fd516cf15f648d940bfd56dbc5a7ebe51">Installing Ar7</a>. At the first one is written that I have to &quot;patch the ADAM2&quot;. Thats no problem and my checksums are correct. Now I have to &quot;Replacing ADAM2&quot;, but my netgear router doesn&#039;t has &quot;wget&quot; so how can I get the &quot;mtd2.bin&quot; from my pc to the router?</p><p>I can only use these commands:<br /></p><div class="codebox"><pre><code>#
\[              ash             atm_monitor     atmarp
atmarpd         br2684ctl       brctl           busybox
cat             chmod           cmd_agent_ap    conf
cp              crond           dd              dmesg
dproxy          echo            egrep           ez-ipupdate
false           free            fw-scripts/     grep
ifconfig        init            insmod          iptables
kill            killall         klogd           ln
ls              lsmod           mini_httpd      mkdir
modprobe        more            mount           mv
nbtscan         netgear_ntp     nocache.cgi     nvram
pb_ap           ping            pppd            pppoe
ps              rc              reaim           reboot
restore_config.cgi              ripd            rm
rmmod           route           scfgmgr         setup.cgi
sh              sleep           smtpc           syslogd
test            touch           true            udhcpc
udhcpd          umount          upgrade_flash.cgi
upnpd           user_drv        utelnetd        wifi_watchdog
wizard          zebra</code></pre></div>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 25 Jun 2007, 22:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51331">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						26 Jun 2007, 22:38					</div>
				</div>
				<div class="post-content content">
					<p>At the router was a Firmware ver 1.x, I did an upgrade to ver 3.x. And now I have wget, so nevermind.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51350">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						27 Jun 2007, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>Next question:<br />I can&#039;t ftp to to the adamflash. I read <a href="http://wiki.openwrt.org/OpenWrtDocs/TroubleshootingAR7">TroubleshootingAR7</a> after typing </p><div class="quotebox"><blockquote><p>cat /proc/ticfg/env | grep my_ipaddress</p></blockquote></div><p>no ip adresse showes up. So I did </p><div class="quotebox"><blockquote><p>echo &quot;my_ipaddress 192.168.1.1&quot; &gt; /proc/sys/dev/adam2/environment</p></blockquote></div><p>Now the IP address showes up. Serial console works correct:<br /></p><div class="quotebox"><blockquote><p>DGB34 &gt; printenv<br />memsize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x01000000<br />flashsize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00400000<br />modetty0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 115200,n,8,1,hw<br />modetty1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 115200,n,8,1,hw<br />bootserport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tty0<br />cpufrequency&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 150000000<br />sysfrequency&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 125000000<br />bootloaderVersion&nbsp; &nbsp; &nbsp;0.18.01<br />ProductID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DG834<br />HWRevision&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Unknown<br />SerialNumber&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; none<br />prompt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DGB34<br />firstfreeaddress&nbsp; &nbsp; &nbsp; 0x9402e088<br />req_fullrate_freq&nbsp; &nbsp; &nbsp;125000000<br />mtd0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x900d0000,0x903e0000<br />mtd1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x90020000,0x900d0000<br />mtd2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x90000000,0x90020000<br />mtd3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x903e0000,0x903f0000<br />autoload<br />maca&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00:0f:b5:1a:5d:c4<br />macb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00:0f:b5:1a:5d:c5<br />Bridge_MODE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />mt_time&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />mtd4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x903f0000,0x90400000<br />oam_lb_timeout&nbsp; &nbsp; &nbsp; &nbsp; 100<br />eoc_vendor_id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;b5004E5447520000<br />enable_margin_retrain&nbsp; 1<br />my_ipaddress&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.1</p></blockquote></div><p>But I still can&#039;t ftp or even ping the router! My PC IP adresse is set up correct. If I use adam2flash.pl it can&#039;t find the router: </p><div class="quotebox"><blockquote><p>(none):/home/oconnor/Desktop # ./adam2flash.pl 192.168.1.1 openwrt-ar7-2.6-squashfs.bin<br />Looking for device: .......... not found!</p></blockquote></div><p>So what can I do to ftp the router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51439">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						28 Jun 2007, 19:02					</div>
				</div>
				<div class="post-content content">
					<p>Nevermind I got it. The Device doesn&#039;t sends a ping back, but the ftp server is working. The Kamikaze is running at the Netgear DG834B v2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52482">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">bubumac</div>
					<div class="post-datetime">
						18 Jul 2007, 12:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi Oconnor,</p><p>I own a DG834 v1 and I&#039;m very interrested by this hack.</p><p>I successfully patched the ADAM2 too with the correct checksum, but I need to know how can I send this file to the router (with firmare v3.01.25).</p><p>I also need to know how to replace the NETGEAR firmware by the openwrt itself (by ftp ?) and where can I get a compiled binary of this firware for my router.</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52485">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						18 Jul 2007, 14:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi bubumac,<br />You have to setup an HTTP Server on your PC then take the patched ADAM2 call it &quot;adam2-fix.bin&quot; to it. Now you have to telnet to your DG834 and get the patched ADAM2 via &quot;wget <a href="http://your.pc.ip.adresse/adam2-fix.bin\">http://your.pc.ip.adresse/adam2-fix.bin&quot;</a> after that do &quot;dd if=adam2-fix.bin of=/dev/mtdblock/2&quot; like it is written in the <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/DG834G">Tutorial</a>.</p><p>You have to setup a new mtd &quot;SETENV mtd5,0x90020000,0x903e0000&quot;. It is also written in this Tutorial.</p><p>Now you have a pached adam2.</p><p>You have to replace Netgear firmware by FTP like this <a href="http://wiki.openwrt.org/OpenWrtDocs/InstallingAR7#head-0b04f6cba67888844a807836c17ef8ea57f1da4d">tutorial</a> the second part. Flash it to mtd5 but double check that! You can try to use a <a href="http://downloads.openwrt.org/snapshots/ar7-2.6/openwrt-ar7-2.6-squashfs.bin">snapshot</a> from openwrt or compile it yourselve I compiled revison 7880 by myselve and it worked also the dslmodem worked <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><p>Please read the tutorial&#039;s carefully!</p>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 18 Jul 2007, 15:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94862">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Crmcbride</div>
					<div class="post-datetime">
						23 Sep 2009, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi All-&nbsp; I am very interested in the hack you guys were doing on the DG834Gv2 router.&nbsp; I am trying to figure out how to patch the ADAM2.&nbsp; OK- i have never done anything like this before, but it seems that the four bytes at the address are AAAAAAAA and when I replace them, the checksum fails.&nbsp; Could you either help a newbie know how to do this patch, or could you send me your patched ADAM2 file?&nbsp; Any help would be greatly appreciated.</p><p>Thanks</p><p>Chris M.</p><p>PS, if you want to send me a file, you can send it to chrismcbr (at) gmail dot com</p>											<p class="post-edited">(Last edited by <strong>Crmcbride</strong> on 23 Sep 2009, 19:39)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>