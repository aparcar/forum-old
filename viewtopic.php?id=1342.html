<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> iptables TTL target howto ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p6442">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">arv</div>
					<div class="post-datetime">
						25 Apr 2005, 02:40					</div>
				</div>
				<div class="post-content content">
					<p>I really need to do someting like that on my wrt54gs:</p><p>iptables -t mangle -A PREROUTING -i vlan1 -j TTL --ttl-inc 1<br />iptables -t mangle -A PREROUTING -o vlan1 -j TTL --ttl-inc 1</p><p>How to add TTL target support ?</p><br /><p>---<br />Arv.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6479">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">arv</div>
					<div class="post-datetime">
						26 Apr 2005, 09:06					</div>
				</div>
				<div class="post-content content">
					<p>Is it at least on TODO list ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6482">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						26 Apr 2005, 11:36					</div>
				</div>
				<div class="post-content content">
					<p>The ttl support is provided as a module for iptables. By installing iptables-extra, you will be able to use this iptables feature.</p><p>Package : <a href="http://openwrt.org/downloads/experimental/bin/packages/iptables-extra_1.3.1-1_mipsel.ipk">http://openwrt.org/downloads/experiment … mipsel.ipk</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6484">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">arv</div>
					<div class="post-datetime">
						26 Apr 2005, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>Not really.</p><p>There is ipt_ttl.o module which allows to filter on ttl values.<br />What I need is ipt_TTL.o which enables TTL target (-j TTL).<br />Support for TTL target requires some patches from path-o-matic. I did it on PC few times however I&#039;m worrying not to brick my wrt54gs ;-(. So I appreciate help.</p><p>---<br />Arv.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6589">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						29 Apr 2005, 17:14					</div>
				</div>
				<div class="post-content content">
					<p>I looked in the package, there is the module you mention : ipt_TTL.so. I think you should update your buildroot or look in the following package : <a href="http://openwrt.org/downloads/experimental/bin/packages/iptables-extra_1.3.1-1_mipsel.ipk">http://openwrt.org/downloads/experiment … mipsel.ipk</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6592">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mtakahar</div>
					<div class="post-datetime">
						29 Apr 2005, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>The current experimental doesn&#039;t apply POM automatically.</p><p>The file in iptables-extra_1.3.1-1_mipsel.ipk is libipt_TTL.so, which is a user space module.&nbsp; He still needs the kernel module ipt_TTL.o in addition to that.</p>											<p class="post-edited">(Last edited by <strong>mtakahar</strong> on 2 May 2005, 06:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6648">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">arv</div>
					<div class="post-datetime">
						1 May 2005, 16:47					</div>
				</div>
				<div class="post-content content">
					<p>Would anyone with experience build it ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6652">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						1 May 2005, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>Install : <a href="http://openwrt.org/downloads/experimental/bin/packages/kmod-iptables-extra_2.4.30-1_mipsel.ipk">http://openwrt.org/downloads/experiment … mipsel.ipk</a><br />Then : <a href="http://openwrt.org/downloads/experimental/bin/packages/iptables-extra_1.3.1-1_mipsel.ipk">http://openwrt.org/downloads/experiment … mipsel.ipk</a></p><p>And you should be able to use the TTL features</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6668">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">arv</div>
					<div class="post-datetime">
						1 May 2005, 21:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RItalMan wrote:</cite><blockquote><p>Install : <a href="http://openwrt.org/downloads/experimental/bin/packages/kmod-iptables-extra_2.4.30-1_mipsel.ipk">http://openwrt.org/downloads/experiment … mipsel.ipk</a><br />Then : <a href="http://openwrt.org/downloads/experimental/bin/packages/iptables-extra_1.3.1-1_mipsel.ipk">http://openwrt.org/downloads/experiment … mipsel.ipk</a></p><p>And you should be able to use the TTL features</p></blockquote></div><p>No, it doesn&#039;t work.</p><p>iptables: No chain/target/match by that name</p><p>There&#039;s no TTL target, and of course there is no ipt_TTL.o</p><p>I appreciate any help, but it seems to me You didn&#039;t even check that.</p><p>---<br />Arv.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6671">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 May 2005, 21:59					</div>
				</div>
				<div class="post-content content">
					<p>If you like to try unofficial pre-release stuff, have a look at my GCC 3.4 build at <a href="http://openwrt.inf.fh-brs.de/~nbd/gcc34/">http://openwrt.inf.fh-brs.de/~nbd/gcc34/</a><br />It should include a TTL module in kmod-iptables-extra, iptables-extra (please do not try to install kernel modules from that repository on your official experimental build, it may lead to unexpected kernel behavior).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6733">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">arv</div>
					<div class="post-datetime">
						3 May 2005, 11:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>If you like to try unofficial pre-release stuff, have a look at my GCC 3.4 build at .</p></blockquote></div><p>Thanks a lot. I&#039;ll try it. (and I hope I won&#039;t brick my router)</p><p>---<br />Arv.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6803">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">emilus</div>
					<div class="post-datetime">
						5 May 2005, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>Are you load kernel module before use of &quot;iptables (...) -j TTL (...)&quot;?<br />insmod ipt_TOS.o<br />or sth like this...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6804">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						5 May 2005, 11:51					</div>
				</div>
				<div class="post-content content">
					<p>the TTL patch is included in the latest official patch-o-matic ng pack. I&#039;ll try to test it as soon as possible</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6805">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						5 May 2005, 11:53					</div>
				</div>
				<div class="post-content content">
					<p>No need to. We had it in CVS for a while now. If you want to test it, you can just grab my build at <a href="http://openwrt.inf.fh-brs.de/~nbd/gcc34/">http://openwrt.inf.fh-brs.de/~nbd/gcc34/</a> (it&#039;s in kmod-iptables-extra, iptables-extra)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p33160">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">geno83</div>
					<div class="post-datetime">
						2 Sep 2006, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>it is possible to change TTL on WAN side on Motorola WR850G ?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>