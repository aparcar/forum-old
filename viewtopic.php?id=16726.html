<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> madwifi ebtables problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p72634">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sara</div>
					<div class="post-datetime">
						25 Aug 2008, 15:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>With the latest trunk, building madwifi and ebtables packages together throws a kernel panic while brining up ath0 interface <br />on the Pronghorn IXP4xx board.</p><p>Can anybody precise me the source of the kernel panic.? </p><p>root@OpenWrt:/# ifconfig<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:08:A2:03:86:F0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:5 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:2 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:794 (794.0 B)&nbsp; TX bytes:812 (812.0 B)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:08:A2:03:86:F0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:5 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:2 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:100<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:794 (794.0 B)&nbsp; TX bytes:812 (812.0 B)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:66 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:66 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:4488 (4.3 KiB)&nbsp; TX bytes:4488 (4.3 KiB)</p><p>root@OpenWrt:/# wlanconfig ath0 create wlandev wifi0 wlanmode ap<br />ath0<br />root@OpenWrt:/# ifconfig ath0 up<br />skb_under_panic: text:bf085148 len:28 put:24 head:c3e8da1e data:c3e8d9f8 tail:0xc3e8da14 end:0xc3e8da80 dev:&lt;NULL&gt;<br />Unable to handle kernel NULL pointer dereference at virtual address 00000000<br />pgd = c0004000<br />[00000000] *pgd=00000000<br />Internal error: Oops: 817 [#1]<br />Modules linked in: ixp4xx_crypto ath_pci wlan_xauth wlan_wep wlan_tkip wlan_ccmp wlan_acl ath_rate_minstrel ath_hal(P) w<br />lan_scan_sta wlan_scan_ap wlan nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp ipt<br />_TTL xt_MARK ipt_ECN xt_CLASSIFY ipt_ttl xt_time ipt_time xt_tcpmss xt_statistic xt_mark xt_mac xt_length ipt_ecn xt_DSC<br />P xt_dscp ipt_LOG xt_CHAOS xt_DELUDE xt_TARPIT xt_quota xt_portscan xt_pkttype xt_physdev iptable_raw arptable_filter ar<br />pt_mangle arp_tables ppp_async ppp_generic slhc crc_ccitt michael_mic des_generic authenc arc4 aes_generic aead deflate<br />ecb cbc crypto_blkcipher crypto_hash cryptomgr crypto_algapi<br />CPU: 0&nbsp; &nbsp; Tainted: P&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(2.6.26.2 #16)<br />pc : [&lt;c01373e8&gt;]&nbsp; &nbsp; lr : [&lt;c002d4f8&gt;]&nbsp; &nbsp; psr: 60000013<br />sp : c3e91cf0&nbsp; ip : c01fa30c&nbsp; fp : c3e91d20<br />r10: c3d3415c&nbsp; r9 : c3d35000&nbsp; r8 : c3d3415c<br />r7 : c3e8da80&nbsp; r6 : c3e8da14&nbsp; r5 : c3e8d9f8&nbsp; r4 : c3e8da1e<br />r3 : 00000000&nbsp; r2 : 60000013&nbsp; r1 : 00000001&nbsp; r0 : 00000076<br />Flags: nZCv&nbsp; IRQs on&nbsp; FIQs on&nbsp; Mode SVC_32&nbsp; ISA ARM&nbsp; Segment user<br />Control: 000039ff&nbsp; Table: 03f08000&nbsp; DAC: 00000015<br />Process ifconfig (pid: 2329, stack limit = 0xc3e90260)<br />Stack: (0xc3e91cf0 to 0xc3e92000)<br />1ce0:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c3e8da1e c3e8d9f8 c3e8da14 c3e8da80<br />1d00: c01d0408 c3e8da1e c3e9e6c0 00000040 c3d34360 c3e91d38 c3e91d24 c01382b0<br />1d20: c01373a0 c3f603f0 c3d34360 c3e91d64 c3e91d3c bf085148 c0138280 c3f603f0<br />1d40: c3d34360 c3d35000 c3e9e6c0 c3f60360 00000000 00000000 c3e91dac c3e91d68<br />1d60: bf08580c bf084fb0 c3d345a4 c3d3415c c3d3415c c3d3415c c3d3415c c3d345a4<br />1d80: c3e8da22 c3e3e000 00000000 c3d34360 c3f60494 c3d3415c 0000001e 400a0fff<br />1da0: c3e91dec c3e91db0 bf08aac8 bf0856e0 bf0978c8 00000000 00000000 00000000<br />1dc0: c3d345a4 00000100 bf08a988 c020cfc0 00000000 c3e90000 c0207d24 400a0fff<br />1de0: c3e91e18 c3e91df0 c003b13c bf08a994 c3e91df0 c3e91df0 00000081 c020cdcc<br />1e00: 0000000a 400a1000 c3f09000 c3e91e34 c3e91e1c c0036ff4 c003b000 00000005<br />1e20: c01fbc8c 00000000 c3e91e44 c3e91e38 c0037380 c0036fa4 c3e91e60 c3e91e48<br />1e40: c0021048 c0037348 ffffffff 0000001f 00000020 c3e91eb8 c3e91e64 c0021664<br />1e60: c002100c c029b160 00000000 60000013 60000093 400a1000 c3f09000 400a1000<br />1e80: 400a1000 c3f09000 c0207d24 400a0fff c3e91eb8 c3e91ebc c3e91eac 00000000<br />1ea0: c005cda0 60000013 ffffffff c3e91ee8 c3e91ebc c0067d64 c005cd94 c3e91f28<br />1ec0: c3db9f6c c3db9f6c c3db9f6c 40000000 00000000 c3e91f28 00001000 c3e91f18<br />1ee0: c3e91eec c0068138 c0067bfc bea1a000 c3e91f28 c3db9738 00000000 c3d9f000<br />1f00: c0021be4 c3e90000 00000001 c3e91f48 c3e91f1c c006949c c00680b8 c3e91f24<br />1f20: 00000000 00000036 c0207d24 c3d9f000 00000000 c3c1bcc0 00000001 c3e91f60<br />1f40: c3e91f4c c0030268 c0069400 c3d9f000 c3d9f038 c3e91f7c c3e91f64 c0033d58<br />1f60: c0030234 c3e90000 c3c1bcc0 00000000 c3e91f94 c3e91f80 c00352dc c0033ca0<br />1f80: c00271d0 c0026f04 c3e91fa4 c3e91f98 c0035818 c0035108 00000000 c3e91fa8<br />1fa0: c0021a40 c003580c 4009b5b4 00000000 00000000 4008fe34 00000000 4009b360<br />1fc0: 4009b5b4 00000000 000000ed 00074ab4 0000002c 00000003 4009b000 0000c95c<br />1fe0: 00000000 bea2ee00 4008a20c 40050ba0 60000010 00000000 00000000 00000000<br />Backtrace:<br />Function entered at [&lt;c0137394&gt;] from [&lt;c01382b0&gt;]<br /> r7:c3d34360 r6:00000040 r5:c3e9e6c0 r4:c3e8da1e<br />Function entered at [&lt;c0138274&gt;] from [&lt;bf085148&gt;]<br /> r5:c3d34360 r4:c3f603f0<br />Function entered at [&lt;bf084fa4&gt;] from [&lt;bf08580c&gt;]<br />Function entered at [&lt;bf0856d4&gt;] from [&lt;bf08aac8&gt;]<br />Function entered at [&lt;bf08a988&gt;] from [&lt;c003b13c&gt;]<br />Function entered at [&lt;c003aff4&gt;] from [&lt;c0036ff4&gt;]<br /> r8:c3f09000 r7:400a1000 r6:0000000a r5:c020cdcc r4:00000081<br />Function entered at [&lt;c0036f98&gt;] from [&lt;c0037380&gt;]<br /> r6:00000000 r5:c01fbc8c r4:00000005<br />Function entered at [&lt;c003733c&gt;] from [&lt;c0021048&gt;]<br />Function entered at [&lt;c0021000&gt;] from [&lt;c0021664&gt;]<br />Exception stack(0xc3e91e64 to 0xc3e91eac)<br />1e60:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c029b160 00000000 60000013 60000093 400a1000 c3f09000 400a1000<br />1e80: 400a1000 c3f09000 c0207d24 400a0fff c3e91eb8 c3e91ebc c3e91eac 00000000<br />1ea0: c005cda0 60000013 ffffffff<br /> r6:00000020 r5:0000001f r4:ffffffff<br />Function entered at [&lt;c005cd88&gt;] from [&lt;c0067d64&gt;]<br />Function entered at [&lt;c0067bf0&gt;] from [&lt;c0068138&gt;]<br />Function entered at [&lt;c00680ac&gt;] from [&lt;c006949c&gt;]<br />Function entered at [&lt;c00693f4&gt;] from [&lt;c0030268&gt;]<br /> r7:00000001 r6:c3c1bcc0 r5:00000000 r4:c3d9f000<br />Function entered at [&lt;c0030228&gt;] from [&lt;c0033d58&gt;]<br /> r5:c3d9f038 r4:c3d9f000<br />Function entered at [&lt;c0033c94&gt;] from [&lt;c00352dc&gt;]<br /> r6:00000000 r5:c3c1bcc0 r4:c3e90000<br />Function entered at [&lt;c00350fc&gt;] from [&lt;c0035818&gt;]<br />Function entered at [&lt;c0035800&gt;] from [&lt;c0021a40&gt;]<br />Code: e88d00f0 e58dc010 ebfbeedf e3a03000 (e5833000)<br />Kernel panic - not syncing: Fatal exception in interrupt<br />Rebooting in 3 seconds..+No devices on IDE controller 0</p><br /><p>Whereas the interface ath0 works fine when deselecting the ebtables packages.</p><p>any ideas pls ?</p><p>Sara</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>