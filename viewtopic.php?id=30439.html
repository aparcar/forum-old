<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Help]Can&#039;t Set up WDS Bridging</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p137131">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Eno</div>
					<div class="post-datetime">
						14 Jun 2011, 07:29					</div>
				</div>
				<div class="post-content content">
					<p>Hello to all, as this is my first post, I like to say Hi to all..</p><p>I&#039;m current working on a school project. The school give me three MIPS Linux Starter Kit to create interfaces (such as Station, Access Points, etc) to connect them together. These Starter kit have OpenWrt Kamikaze (r15349) installed in it. Currently, I&#039;m tasked to create these interfaces:</p><p>Platform 1: One STATION<br />Platform 2: One Access Point, One STATION<br />Platform 3: One Access Point</p><p>Requirements<br />Step 1: Platform 1&#039;s Station is to associate with Platform 2&#039;s Access Point.<br />Step 2: Platform 2&#039;s Station is to associate with Platform 3&#039;s Access Point.<br />Step 3: WDS Bridging to be done on Platform 2&#039;s Station and Access Point together.</p><p>Problem<br />I have carried out Step 1 successfully. My problem is that when I try to do WDS bridging(as showed in <a href="http://madwifi-project.org/wiki/UserDocs/WDSBridge)">http://madwifi-project.org/wiki/UserDocs/WDSBridge)</a>, my earlier association with Platform 1 and 2 will be lost and I can&#039;t ping Platform 1 and 2.</p><p>Additional Information<br />I&#039;m using Window&#039;s HyperTerminal to connect to the Starter Kit via serial. I didn&#039;t use Linux because minicom can&#039;t connect(will get stuck during loading).<br />I have 3 computers. Each computer will connect one MIPS Linux Starter Kit via serial and using a hyperterminal to communicate with the device.</p><p>About this MIPS Linux Starter Kit<br />I&#039;m not sure about this platform so I&#039;m just gonna vomit all the information about this Starter Kit..<br />Ubiquiti Network RouterStation Pro 680Mhz Board with a MIPS32 @ 24Kc CPU.<br />Version of Madwifi inside: No idea how to find. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>If this question have been posted before or I posted in the wrong section, please don&#039;t flame or pban me. Sorry! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137133">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						14 Jun 2011, 08:41					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/recipes/atheroswds">Atheros and MAC80211 WDS (Kernel 2.6) - OpenWrt Wiki</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137187">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Eno</div>
					<div class="post-datetime">
						15 Jun 2011, 05:40					</div>
				</div>
				<div class="post-content content">
					<p>Thank you fyi. I&#039;ve read the UCI system and in particular the configuration files for /etc/config/wireless.</p><p>It states that I have to Disable the DHCP server. Do you know how to do that? Because the configuration files for /etc/config/dhcp didn&#039;t state exactly how to disable it.</p><p>Is it this attribute stated below? (<a href="http://wiki.openwrt.org/doc/uci/dhcp">http://wiki.openwrt.org/doc/uci/dhcp</a>)</p><p>port &nbsp; &nbsp; port number &nbsp; &nbsp; no &nbsp; &nbsp; 53 &nbsp; &nbsp; -p &nbsp; &nbsp; Listening port for DNS queries, disables DNS server functionality if set to 0</p><p>I&#039;m sorry if I ask pretty basic questions. My knowledge of networking is quite shallow.</p>											<p class="post-edited">(Last edited by <strong>Eno</strong> on 15 Jun 2011, 05:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137192">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						15 Jun 2011, 07:10					</div>
				</div>
				<div class="post-content content">
					<p>In platform 1 &amp; 2, /etc/config/dhcp<br /></p><div class="codebox"><pre><code>config &#039;dhcp&#039; &#039;lan&#039;
        option ignore 1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137278">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Eno</div>
					<div class="post-datetime">
						16 Jun 2011, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>Okay thank you fyi. So far, with your help disabling the dhcp, I&#039;ve managed to do the following:</p><p>Platform 1: STA1<br />Platform 2: AP1 &amp; WDS</p><p>So basically, I&#039;ve managed to associate STA1 with AP1 together and the WDS becomes a repeater for the AP1. How do I actually come out with another Platform 3 having an AP to connect to Platform 2?</p><p>STA1&lt;------&gt;(AP1 &amp; WDS REPEATER)&lt;---------&gt;AP2</p><p>My main goal is to be able to ping:<br />-From STA1 to STA2 (via Platform 2)<br />-From STA1 to AP1(already achieved this)<br />-From AP2 to AP1/WDS Repeater</p><p>This is the most challenging part.</p>											<p class="post-edited">(Last edited by <strong>Eno</strong> on 16 Jun 2011, 12:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137311">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						16 Jun 2011, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>The AP2/STA2 pair is similar to AP1/STA1 except the SSID.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137341">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Eno</div>
					<div class="post-datetime">
						17 Jun 2011, 05:25					</div>
				</div>
				<div class="post-content content">
					<p>Okay then how is AP1 and the STA1 connected on the same platform? Do we have to create a bridge(brctl addbr br0) to connect them together or are they automatically associated together since they&#039;re in the same platform?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137348">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						17 Jun 2011, 10:04					</div>
				</div>
				<div class="post-content content">
					<p>STA1 (WDS) &lt;- SSID1 -&gt; AP1 (WDS) &amp; STA2 (WDS) &lt;- SSID2 -&gt; AP2 (WDS)</p><p>Both AP1 &amp; STA2 bridge to the lan interface to create a bridged repeater. If you do not setup separated SSIDs, I think you have to specify BSSID to connect to the specified aps otherwise STA1 might directly connect to AP2, not AP1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137352">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Eno</div>
					<div class="post-datetime">
						17 Jun 2011, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>Ah! I just finished making AP1 and STA2 into a wireless bridge repeater(as shown in <a href="http://wiki.openwrt.org/doc/howto/wireless.repeater)">http://wiki.openwrt.org/doc/howto/wireless.repeater)</a>. Nice, just waiting for the 3rd platform to arrive before I create the last platform.</p><p>Thanks man. </p><p>Anyway, I heard about AP doing a passive scan while a STA does a active scan. Is there any way to disable active scan and only use passive scan?</p><p>Is it about disabling background scan and disabling probe request?</p>											<p class="post-edited">(Last edited by <strong>Eno</strong> on 17 Jun 2011, 11:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137603">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Eno</div>
					<div class="post-datetime">
						21 Jun 2011, 09:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I managed to connect AP2 and STA2 together but I am not able to connect STA1 and AP1 together. What could be the reason? I&#039;ve heard I need to use a different address range? I don&#039;t really understand how to do that. Can anybody help?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>