<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Recover Bricked DGND3700</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p371254">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dejawho</div>
					<div class="post-datetime">
						26 Jan 2018, 10:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I&#039;ve tried to flash openwrt on my DGND3700, I&#039;m pretty sure because the serial is 2KB..... . So I downloaded openwrt-15.05.1-brcm63xx-smp-DGND3700v1-squashfs-factory.chk and flashed it trough the router firmware upgrade page.<br />But on the reboot it got stuck on the GLOD (green light of death), the power green light stay one, every other light is off and I&#039;m not able to connect to the router in any way and also the DHCP seems not working.<br />Have I some way to recover it? Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371260">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						26 Jan 2018, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>If the flashed firmware was bad, the router should enter itself into recovery mode waiting for a firmware via tftp. You can send the firmware with this command (in linux)</p><div class="codebox"><pre><code>tftp 192.168.1.1 -m binary -c put goodfirmware.chk </code></pre></div><p>Previously to execute this command you need a static IP on your computer (i.e 192.168.1.11).</p><p>Othewise you probably will need access via serial console to the device to see what&#039;s going on.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371261">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gybrojby</div>
					<div class="post-datetime">
						26 Jan 2018, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>h t t ps://kb.netgear.com/22688/How-to-upload-firmware-to-a-NETGEAR-router-using-TFTP</p>											<p class="post-edited">(Last edited by <strong>gybrojby</strong> on 26 Jan 2018, 16:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371267">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						26 Jan 2018, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>Ok, it turns out that OpenWrt 15.05.1 has some problem and throws a kernel panic once flashed. This was reported some time ago but not pointed out at the wiki. </p><p>OpenWrt 15.05 works ok.</p><p>You must use the serial port to unbrick the router.</p><p>I updated the wiki with the 15.05.1 issue.</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371268">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">gybrojby</div>
					<div class="post-datetime">
						26 Jan 2018, 16:18					</div>
				</div>
				<div class="post-content content">
					<p>I cant see a change here: h t t ps://wiki.openwrt.org/toh/netgear/dgnd3700</p><p>Why are you using the outdated 15.05? This is the recent firmware version for this device: <br />Flashing from factory image: h t t ps://downloads.openwrt.org/releases/17.01.4/targets/brcm63xx/smp/lede-17.01.4-brcm63xx-smp-DGND3700v1-squashfs-factory.chk</p><p>Flashing from other openwrt image as update: h t t ps://downloads.openwrt.org/releases/17.01.4/targets/brcm63xx/smp/lede-17.01.4-brcm63xx-smp-DGND3700v1-squashfs-sysupgrade.bin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371270">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dejawho</div>
					<div class="post-datetime">
						26 Jan 2018, 16:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Ok, it turns out that OpenWrt 15.05.1 has some problem and throws a kernel panic once flashed. This was reported some time ago but not pointed out at the wiki. </p><p>OpenWrt 15.05 works ok.</p><p>You must use the serial port to unbrick the router.</p><p>I updated the wiki with the 15.05.1 issue.</p><p>Regards</p></blockquote></div><p>Fuck, if I need a serial port then it&#039;s a big problem I&#039;m not able nor I&#039;ve the tools to solder a serial port. I think it is more convinient to throw the router away and buy a new 20 euros TP-LINK&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><br /><div class="quotebox"><cite>gybrojby wrote:</cite><blockquote><p>I cant see a change here: h t t ps://wiki.openwrt.org/toh/netgear/dgnd3700</p><p>Why are you using the outdated 15.05? This is the recent firmware version for this device: <br />Flashing from factory image: h t t ps://downloads.openwrt.org/releases/17.01.4/targets/brcm63xx/smp/lede-17.01.4-brcm63xx-smp-DGND3700v1-squashfs-factory.chk</p><p>Flashing from other openwrt image as update: h t t ps://downloads.openwrt.org/releases/17.01.4/targets/brcm63xx/smp/lede-17.01.4-brcm63xx-smp-DGND3700v1-squashfs-sysupgrade.bin</p></blockquote></div><p>Because of this written in the official page</p><p>&quot;Stable releases<br />If you are a newcomer to OpenWrt, you should install the current stable release. The history page lists all stable releases so far, and the Details Page for your router (check the Table of Hardware) should tell you which image to download and how to install.</p><p>The current stable release is Chaos Calmer 15.05.1 released in March 2016.<br />&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371277">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						26 Jan 2018, 19:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dejawho wrote:</cite><blockquote><p>if I need a serial port then it&#039;s a big problem I&#039;m not able nor I&#039;ve the tools to solder a serial port. I think it is more convinient to throw the router away and buy a new 20 euros TP-LINK&nbsp; sad</p></blockquote></div><p>Some people reported being able to connect the serial port without soldering anything. The UART adapter costs about&nbsp; 2$. </p><p>Since you need to unbrick the board, you only need to send the &quot;tftpd&quot; command to CFE, via the serial port, for sending the firmware via tftp (as I said in my previous message). Even you can omit connecting the RX pin (not comfortable because you won&#039;t see what the console returns, but should work aswell). Only connecting GND and TX is enough.</p><p>I saw people just using a couple of needles for connecting the serial port. If the contact is not good the recovery just won&#039;t work, it won&#039;t cause any damage to the board.</p><p>Anyway, better to have a pin header properly soldered.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371445">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dejawho</div>
					<div class="post-datetime">
						30 Jan 2018, 15:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><div class="quotebox"><cite>dejawho wrote:</cite><blockquote><p>if I need a serial port then it&#039;s a big problem I&#039;m not able nor I&#039;ve the tools to solder a serial port. I think it is more convinient to throw the router away and buy a new 20 euros TP-LINK&nbsp; sad</p></blockquote></div><p>Some people reported being able to connect the serial port without soldering anything. The UART adapter costs about&nbsp; 2$. </p><p>Since you need to unbrick the board, you only need to send the &quot;tftpd&quot; command to CFE, via the serial port, for sending the firmware via tftp (as I said in my previous message). Even you can omit connecting the RX pin (not comfortable because you won&#039;t see what the console returns, but should work aswell). Only connecting GND and TX is enough.</p><p>I saw people just using a couple of needles for connecting the serial port. If the contact is not good the recovery just won&#039;t work, it won&#039;t cause any damage to the board.</p><p>Anyway, better to have a pin header properly soldered.</p></blockquote></div><p>So I&#039;ve bought the serial adapter, soldered the cable, connected everything using putty aaaaand no output from the router.<br />I&#039;ve recorded this video showing the solder point and the connection, can you tell me if I&#039;ve done something wrong:<br />drive.google.com/file/d/1PPXOGJ8fwxTD3VKYKLuqTMZEyeZqbH2T/view?usp=sharing</p><p>EDIT: nvermind, I&#039;ve reversed TX and RX on the adapter, I connected the router RX with the adapter RX. I was able to flash the new firmware, thanks for the support</p>											<p class="post-edited">(Last edited by <strong>dejawho</strong> on 30 Jan 2018, 15:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371446">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						30 Jan 2018, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>Try to swap RX by TX.</p><p>The pin markings on the adapter (and router) for TX and RX may have an incorrect reference.</p><p>Also be sure you are selecting the correct port on Putty (are you sure is COM3?). Better if you test it with another known working device beforte using it on the DGND3700.</p><p>Edit: ok, good to know you finally debricked the device</p><p>Regards</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 30 Jan 2018, 16:12)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>