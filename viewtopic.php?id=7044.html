<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Site survey</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p32699">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">silver71</div>
					<div class="post-datetime">
						24 Aug 2006, 18:22					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone made some useful improvements in webif, so WR/OpenWRT can have site survey tool like DDWRT ?</p><p>If there has been some effort let me know. I&#039;m&nbsp; planning to do it myself if it does not exist.</p><p>SILVER</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p32862">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">db90h</div>
					<div class="post-datetime">
						28 Aug 2006, 00:58					</div>
				</div>
				<div class="post-content content">
					<p>This effort is being undertaken. I&#039;ve already added a survey page, but MUCH work needs to be done still. I&#039;ll soon parse the output and show nice progressbars to indicate the signal integrity.</p><p>Currently, when the radio is not in client mode, the user can press a button to have it automatically switched to client mode, perform a survey, then switched back to its original mode.</p><p>Soon, an early alpha package for OpenWrt will be available (mostly for testing and input and contributions from others). </p><p>I encourage you to work on the code that is being developer rather than start fresh on a page to avoid redundency in work. Improving the output on the survey page is on my agenda, but if you start on it, please let me know so we don&#039;t overlap.</p><p>For now (this may change soon), I am committing new webif changes to svn repository <a href="http://x-wrt.googlecode.com/svn/trunk/">http://x-wrt.googlecode.com/svn/trunk/</a> (/packages/webif) . Once things have been polished enough, we&#039;ll give them to nbd to review for submission into OpenWrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p33811">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">silver71</div>
					<div class="post-datetime">
						14 Sep 2006, 11:20					</div>
				</div>
				<div class="post-content content">
					<p>Freifunk 1.0 webif has some site-survey-like page, but just in client mode for wireless, and it&#039;s bundled in status page as - WLAN Scan subpage.</p><p>SSID, channel, WEP or not and power in dB. It&#039;s graphically rich, but it&#039;s far from what DDWRT has in it&#039;s packages.</p><p>Can DDWRT webif packages regarding site survey (with some modifications) be included into OpenWRT webif ?</p><p>Have you seen Freifunk wlan scan feature ?</p><p>Another thing I&#039;m looking forward which may be out-of-scope ot this thread is this :</p><p>D-Link DWL-900 in client mode can connect to specific AP MAC address not just given SSID. This feature is very interestring if there are more AP&#039;s in the neighbourhood with same SSID. If one wants to connect to specific AP, not just the one with highest power or other constraints. Is this doable in OpenWRT web-if or some other way ?</p><p>Any ideas ?</p><p>SILVER</p>											<p class="post-edited">(Last edited by <strong>silver71</strong> on 14 Sep 2006, 13:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p33821">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">db90h</div>
					<div class="post-datetime">
						14 Sep 2006, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>No, DD-WRT&#039;s webif can not be used with OpenWrt (within reason). Totally different. And I haven&#039;t seen freifunk&#039;s.. maybe u can show me a screenshot if you have one and I&#039;ll try to add any useful things from it.</p><p>How&#039;s this for the survey page? It&#039;s 100% functional now.</p><p><span class="postimg"><img src="http://www.bitsum.com/images/survey0.png" alt="http://www.bitsum.com/images/survey0.png" /></span></p><p>Please, everyone interested in the webif join the efforts we&#039;re already making. We need to centralize all our work. Join #x-wrt on freenode.</p>											<p class="post-edited">(Last edited by <strong>db90h</strong> on 14 Sep 2006, 17:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p33865">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						15 Sep 2006, 04:14					</div>
				</div>
				<div class="post-content content">
					<p>For the Wlan Scan - below is the relevant code from the /www/cgi-bin-status.html page of the freifunk firmware:</p><p>Freifunk&#039;s cgi pages are written as straight sh shell scripts.&nbsp; As you can see - it uses the wl tool.</p><p>I would really like to see a wireless survey page that uses the techniques used in the <a href="http://devices.natetrue.com/wiviz/">WiViz</a> wireless scanning tool - but instead of icons bouncing around the screen, list survey results as moving bar graphs.&nbsp; WiViz is cool because it can see APs *and* their clients and report RSSI for all of them.</p><div class="codebox"><pre><code>cat&lt;&lt;EOF
&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
&lt;TD COLSPAN=&quot;7&quot;&gt; &lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
&lt;TH&gt;SSID&lt;/TH&gt;
&lt;TH&gt;Channel&lt;/TH&gt;
&lt;TH&gt;Ad-Hoc&lt;/TH&gt;
&lt;TH&gt;Open&lt;/TH&gt;
&lt;TH&gt;Signal&lt;/TH&gt;
&lt;TH&gt;Max.&lt;/TH&gt;
&lt;TH&gt;BSSID&lt;/TH&gt;
&lt;/TR&gt;
&lt;TR&gt;
&lt;TD COLSPAN=&quot;7&quot;&gt;
EOF

/usr/sbin/wl -i $WLDEV scan
sleep 2
echo &#039;&lt;/TR&gt;&lt;/TR&gt;&#039;
/usr/sbin/wl -i $WLDEV scanresults|sed -ne&#039;
/^$/d
/^WSEC/d
/^SSID:/{
s/[&quot;\\]//g
s/: \(.*\)/=&quot;\1&quot;/
h
d
}
/^Supported Rates:/{
s/.* \([0-9]\+\).*/RATE=&quot;\1&quot;/
H
g
s/\n/ /g
p
}
s/ dBm//g
s/: \+\([^      ]\+\)/=&quot;\1&quot;/g
s/ \+&quot;/&quot;/g
s/Mode=&quot;Ad Hoc&quot;/ADHOC=&quot;yes&quot;/
s/Mode=&quot;[^&quot;]\+&quot;/ADHOC=&quot;no&quot;/
s/Capability=&quot;.* WEP .*/OPEN=&quot;no&quot;/
s/Capability.*/OPEN=&quot;yes&quot;/g
H
&#039;|while read line; do
eval $line
gif=$(( $RSSI - $noise ))
gif=$(( $gif / 5 ))
test $gif -gt 5 &amp;&amp; gif=5
test $gif -lt 0 &amp;&amp; gif=0
cat&lt;&lt;EOF
&lt;TR&gt;&lt;TD&gt;$SSID&lt;/TD&gt;&lt;TD&gt;$Channel&lt;/TD&gt;
&lt;TD&gt;&lt;IMG SRC=&quot;images/$ADHOC.gif&quot; ALT=&quot;ad hoc&quot; TITLE=&quot;Ad-Hoc mode&quot; ALIGN=&quot;ABSMIDDLE&quot;&gt;&lt;/TD&gt;
&lt;TD&gt;&lt;IMG SRC=&quot;images/$OPEN.gif&quot; ALT=&quot;$OPEN&quot; TITLE=&quot;No WEP/WPA&quot; ALIGN=&quot;ABSMIDDLE&quot;&gt;&lt;/TD&gt;
&lt;TD&gt;&lt;IMG SRC=&quot;images/power$gif.gif&quot; ALT=&quot;P=$gif&quot; TITLE=&quot;RSSI: $RSSI dBm, Noise: $noise dBm&quot; ALIGN=&quot;ABSMIDDLE&quot;&gt;&lt;/TD&gt;
&lt;TD&gt;$RATE&lt;/TD&gt;&lt;TD&gt;$BSSID&lt;/TD&gt;&lt;/tr&gt;
EOF
done
echo &#039;&lt;TR&gt;&lt;TD colspan=&quot;7&quot;&gt; &#039;

cat&lt;&lt;EOF
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;
&lt;/FORM&gt;
EOF</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70394">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dc786</div>
					<div class="post-datetime">
						3 Jul 2008, 01:58					</div>
				</div>
				<div class="post-content content">
					<p>Maybe this is obvious to anybody who knows details about atheros (and other) wireless mini-PCI and other devices.&nbsp; Can a more basic site survey, one that monitors each channel or frequency for a suitable time interval and reports the range of signal levels seen, be done?&nbsp; Just because a channel has no SSID that is being broadcast, and no adhoc packets that can be received, doesn&#039;t mean its quiet spectrum.&nbsp; My relatively expensive Trango radios do have such a site survey, but I certainly would like to use the openwrt system I have installed to check its own environment without having to go mount something else.&nbsp; Of course, if there&#039;s some relatively inexpensive piece of equipment, especially one that rotates a directional antenna and keeps track of signals in all directions over several hours, maybe a dedicated survey instrument would be worthwhile.&nbsp; Anybody know what&#039;s available, in software for atheros equipment, or any specialized 802.11 bands survey instruments?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>