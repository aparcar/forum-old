<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Newbie Ramips MT7621 build fail</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p322542">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">karesch</div>
					<div class="post-datetime">
						4 May 2016, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I tried to make my 1st build on an OSX 10.11.4, following the build howto. Things were going fine: git pull, feed update, menuconfig, defconfig, but when doing <em>make V=s</em>:<br /></p><div class="codebox"><pre><code>make[3]: Entering directory `/Volumes/OpenWRT/openwrt/tools/patch&#039;
mkdir -p /Volumes/OpenWRT/openwrt/dl
/Volumes/OpenWRT/openwrt/scripts/download.pl &quot;/Volumes/OpenWRT/openwrt/dl&quot; &quot;patch-2.7.5.tar.xz&quot; &quot;e3da7940431633fb65a01b91d3b7a27a&quot; &quot;&quot; &quot;@GNU/patch&quot;
Download failed.
Download failed.
Download failed.
Download failed.
Download failed.
Download failed.
Download failed.
Download failed.
No more mirrors to try - giving up.
make[3]: *** [/Volumes/OpenWRT/openwrt/dl/patch-2.7.5.tar.xz] Error 2
make[3]: Leaving directory `/Volumes/OpenWRT/openwrt/tools/patch&#039;
make[2]: *** [tools/patch/compile] Error 2
make[2]: Leaving directory `/Volumes/OpenWRT/openwrt&#039;</code></pre></div><p>I checked the <em>patch-2.7.5.tar.xz</em> file and the MD5 on the servers, and they seem to be right (<em>./tools/patch/Makefile</em> and in <em>./scripts/download.pl</em>). The build was for a D-Link DIR 860L and the target is Ramips MT7621. I tried snapshot and Chaos Calmer, made no difference, googling did not help either.</p><p>The other question I have is: how to change the CONFIG_DEFAULT_TARGET_OPTIMIZATION parameters? On the 860L page (<a href="https://wiki.openwrt.org/toh/d-link/dir-860l">https://wiki.openwrt.org/toh/d-link/dir-860l</a>) it is recommended to add the settings: <em>-mno-mips16 -mdsp</em>. But these settings do not seem to be shown in the menuconfig. Should I write these settings directly into the <em>.config </em>file? The 860L page mentions that these settings are <strong>non standard</strong> - do the non standard settings have implications for the build process? (the former patch problem occur with and without these optimization settings).</p><p>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322857">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">karesch</div>
					<div class="post-datetime">
						7 May 2016, 11:03					</div>
				</div>
				<div class="post-content content">
					<p>Apparently it is an OSX issue, it works on a Linux machine</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>