<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> huawei e220 3g modem slow on asus wl 500g premium</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50317">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">darkza</div>
					<div class="post-datetime">
						12 Jun 2007, 10:59					</div>
				</div>
				<div class="post-content content">
					<p>Hello!<br />I´m new @ Openwrt and i have my asus wlan usb router at the point to talk with the huawei e220 umts 3g modem.<br />My problem is ; i dont know why i only have 50kb if the modem is hookt up on the router, on the Windows pc and Apple i got 100kb+</p><p>My Lsmod :</p><p>Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Tainted: P&nbsp; <br />usb-storage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 68624&nbsp; &nbsp;0 (unused)<br />sd_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12500&nbsp; &nbsp;0 (unused)<br />scsi_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;70616&nbsp; &nbsp;1 [usb-storage sd_mod]<br />printer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9788&nbsp; &nbsp;0 (unused)<br />usbserial&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 24140&nbsp; &nbsp;1<br />ipt_length&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;336&nbsp; &nbsp;5<br />ipt_layer7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10512&nbsp; &nbsp;2<br />ipt_ipp2p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7320&nbsp; &nbsp;1<br />ipt_CONNMARK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; &nbsp;2<br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8108&nbsp; &nbsp;1<br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 22868&nbsp; &nbsp;3 [ppp_async]<br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6352&nbsp; &nbsp;0 [ppp_generic]<br />uhci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;30164&nbsp; &nbsp;0 (unused)<br />usb-ohci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;19204&nbsp; &nbsp;0 (unused)<br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 74808&nbsp; &nbsp;1 [usb-storage printer usbserial uhci usb-ohci]<br />xfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;561120&nbsp; &nbsp;0<br />vfat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11692&nbsp; &nbsp;0<br />fat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 36840&nbsp; &nbsp;0 [vfat]<br />ext3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;72788&nbsp; &nbsp;0<br />jbd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 54872&nbsp; &nbsp;0 [ext3]<br />ext2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;41528&nbsp; &nbsp;0<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15520&nbsp; &nbsp;0 (unused)<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 423640&nbsp; &nbsp;0 (unused)<br />switch-robo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4460&nbsp; &nbsp;0 (unused)<br />switch-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4896&nbsp; &nbsp;0 [switch-robo]<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;18176&nbsp; &nbsp;0 (unused)</p><p>my dmesg:</p><p>All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 84k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />diag: Detected &#039;ASUS WL-500g Premium&#039;<br />Probing device eth0: found!<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /jffs<br />jffs2.bbc: SIZE compression mode activated.<br />PCI: Setting latency timer of device 01:02.0 to 64<br />PCI: Enabling device 01:02.0 (0004 -&gt; 0006)<br />eth2: Broadcom BCM4318 802.11 Wireless Controller 3.90.37.0<br />Journalled Block Device driver loaded<br />SGI XFS with no debug enabled<br />BFL_ENETADM not set in boardflags. Use force=1 to ignore.<br />usb.c: registered new driver usbdevfs<br />usb.c: registered new driver hub<br />PCI: Setting latency timer of device 00:03.0 to 64<br />usb-ohci.c: USB OHCI at membase 0xb8003000, IRQ 6<br />usb-ohci.c: usb-00:03.0, PCI device 14e4:4715<br />usb.c: new USB bus registered, assigned bus number 1<br />hub.c: USB hub found<br />hub.c: 2 ports detected<br />uhci.c: USB Universal Host Controller Interface driver v1.1<br />PCI: Enabling device 01:03.0 (0000 -&gt; 0001)<br />uhci.c: USB UHCI at I/O 0x100, IRQ 2<br />usb.c: new USB bus registered, assigned bus number 2<br />hub.c: USB hub found<br />hub.c: 2 ports detected<br />PCI: Enabling device 01:03.1 (0000 -&gt; 0001)<br />uhci.c: USB UHCI at I/O 0x120, IRQ 2<br />usb.c: new USB bus registered, assigned bus number 3<br />hub.c: USB hub found<br />hub.c: 2 ports detected<br />CSLIP: code copyright 1989 Regents of the University of California<br />PPP generic driver version 2.4.2<br />device eth0 entered promiscuous mode<br />hub.c: new USB device 01:03.0-1, assigned address 2<br />usb.c: USB device 2 (vend/prod 0x12d1/0x1003) is not claimed by any active driver.<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />vlan0: add 01:00:5e:00:00:01 mcast address to master interface<br />vlan0: dev_set_promiscuity(master, 1)<br />vlan0: dev_set_allmulti(master, 1)<br />device eth2 entered promiscuous mode<br />eth2: attempt to add interface with same source address.<br />br0: port 2(eth2) entering listening state<br />br0: port 1(vlan0) entering listening state<br />br0: port 2(eth2) entering learning state<br />br0: port 1(vlan0) entering learning state<br />br0: port 2(eth2) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 1(vlan0) entering forwarding state<br />br0: topology change detected, propagating<br />device wds0.49153 entered promiscuous mode<br />wds0.49153: attempt to add interface with same source address.<br />br0: port 3(wds0.49153) entering listening state<br />br0: port 3(wds0.49153) entering learning state<br />br0: port 3(wds0.49153) entering forwarding state<br />br0: topology change detected, propagating<br />IPP2P v0.8.1_rc1 loading<br />usb.c: registered new driver serial<br />usbserial.c: USB Serial support registered for Generic<br />usbserial.c: Generic converter detected<br />usbserial.c: Generic converter now attached to ttyUSB0 (or usb/tts/0 for devfs)<br />usbserial.c: Generic converter detected<br />usbserial.c: Generic converter now attached to ttyUSB1 (or usb/tts/1 for devfs)<br />usbserial.c: Generic converter detected<br />usbserial.c: Generic converter now attached to ttyUSB2 (or usb/tts/2 for devfs)<br />usbserial.c: USB Serial Driver core v1.4<br />usb.c: registered new driver usblp<br />printer.c: v0.13: USB Printer Device Class driver<br />SCSI subsystem driver Revision: 1.00<br />Initializing USB Mass Storage driver...<br />usb.c: registered new driver usb-storage<br />USB Mass Storage support registered.</p><p>My loginscripts:</p><p>##############<br />##speed<br />460800<br />## reserviere das Gereat fuer die Benutzung<br />lock<br />## normaler Handschlag<br />crtscts<br />## benutze das Gereat als normales Modem<br />modem<br />## jeder darf die Internet-Einwahl verwenden<br />noauth<br />## ersetze Standardroute bei der Einwahl<br />replacedefaultroute<br />## definiere Standardroute<br />defaultroute<br />##Pfad zum chatscript f?r die Autorisierung (Debugmeldungen im Syslog mit ##-v statt -V)<br />connect &quot;/usr/sbin/chat -V -f /etc/ppp/peers/chate220&quot;<br />## akzeptiere vergebene IP des Providers<br />noipdefault <br />## und seinen DNS <br />usepeerdns <br />##vermeide Kompression <br />#nobsdcomp <br />#novj <br />## Verbindung aufrechterhalten<br />persist <br />##remotename #Falls braucht dann das #am satzanfang löschen (zb. drei.at)<br />#user Maxmusteruser<br />#password Beispielspasswort<br />#################</p><br /><br /><p>vi /etc/ppp/peers/chate220<br />#################<br />######<br />ABORT BUSY<br />ABORT &#039;NO CARRIER&#039;<br />ABORT ERROR<br />REPORT CONNECT<br />TIMEOUT 30</p><p>#option1</p><p>&quot;&quot; &quot;AT&quot;<br />&quot;OK&quot; &quot;ATE1&quot;<br />&quot;OK&quot; &quot;AT+CPIN?&quot;<br />&quot;+CPIN: READY&quot;<br />&quot;AT+CGREG?&quot;<br />&quot;+CGREG: 0,1&quot; &quot;ATD*99***1#&quot;</p><p>CONNECT \c <br />###############</p><p>My howto to do this all if you are good in german: <a href="http://www.umtslink.at/3g-forum/showpost.php?p=528907&amp;postcount=8">http://www.umtslink.at/3g-forum/showpos … ostcount=8</a></p><p><a href="http://babelfish.altavista.com/babelfish/tr">http://babelfish.altavista.com/babelfish/tr</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p60831">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hellbound</div>
					<div class="post-datetime">
						24 Dec 2007, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>it explains it:</p><div class="codebox"><pre><code>##speed
460800</code></pre></div><p>460800 / 8 = 57600 &gt; 56.25 kbyte which is almost 48~50kbyte in http after headers</p><p>speedup the port</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61581">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Firetwister</div>
					<div class="post-datetime">
						11 Jan 2008, 11:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I also have the e220 and the problem is not the speed set in pppd.</p><p>You _NEED_ the &quot;option&quot; module for fast and reliable umts/gprs connections. You can find it in the usb serial section of the kernel configuration of 2.6 kernels. There are howtos suggesting to use the usb serial module alone, but they are outdated and somewhat wrong. It took me days to figure that out and the only hint was the original patch adding the option module to a 2.5 kernel.</p><p>However, if your ISP is the fat and disgusting moobicent wale, they may be denying you access to UMTS. This A55h0le5 simply don&#039;t care about contracts. And no, you do not need to make a lot of traffic to get blocked, 3GB could be enough. What a strange definition of a flatrate!!!</p><p>Regards</p><p>Firetwister<br />(One of many moobicent victims)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61583">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						11 Jan 2008, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>Btw. if you install comgt, chat and a few other USB related packages you can configure your 3g modem with just a few options in /etc/config/network.</p><p>Of course, only if you use Kamikaze <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 11 Jan 2008, 11:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90906">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dgonzalezh</div>
					<div class="post-datetime">
						6 Jul 2009, 07:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I have a Huawei E160 which I connect to my ASUS WL500W and I just get the emulated&nbsp; CD Drive.</p><p>You say install chat and those other packages, I&#039;ve installed them but how do I get the device running under # OpenWrt Kamikaze bleeding edge, r16696</p><p>Thanks for any advise.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90912">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Firetwister</div>
					<div class="post-datetime">
						6 Jul 2009, 09:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dgonzalezh wrote:</cite><blockquote><p>I have a Huawei E160 which I connect to my ASUS WL500W and I just get the emulated&nbsp; CD Drive.</p></blockquote></div><p>The E160 must appear as a usb serial device /dev/ttyUSB*. Make sure you have the &quot;option&quot; module loaded. Maybe a kernel update is necessary?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>