<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> overflow OPENWRT log file system buffer.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p244921">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rctaco</div>
					<div class="post-datetime">
						26 Aug 2014, 09:03					</div>
				</div>
				<div class="post-content content">
					<p>We developed a small server program that run on a DJI Phantom that runs Openwrt.&nbsp; &nbsp;16KB shared mem ringbuffer is used.&nbsp; &nbsp;This is the first time we write a Openwrt software and use syslog to log debug info of the program.&nbsp; &nbsp;We read a post <a href="http://www.phantompilots.com/viewtopic.php?f=27&amp;t=13496">http://www.phantompilots.com/viewtopic. … mp;t=13496</a>, <a href="http://www.rcgroups.com/forums/showpost.php?p=29274843&amp;postcount=6497">http://www.rcgroups.com/forums/showpost … count=6497</a> claimed that it is easy to overflow a OPENWRT log file system and implied that the OPENWRT log file system has bugs.&nbsp; &nbsp;We wonder if there is a safe way to log the program info without using syslog.&nbsp; </p><p>The post is long and here is the statment that :<br />3. Every time when I use the app, it keeps generating /var/log/xxx.vpu.dat files (0-4kB) and occupying very limited internal storage of the aircraft. Imagine, what will happen when a PC running out/low of disk space. Firmware upgrade or basically anything might crash in low storage condition, who knows.</p><p> The app may not create those files explicitly, but likely a harmful side product to the aircraft.</p>											<p class="post-edited">(Last edited by <strong>rctaco</strong> on 26 Aug 2014, 12:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244936">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						26 Aug 2014, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>Can&#039;t find the post you refer to and its not clear to me what your actual question is.<br />What do you mean with overflow? What kind of bugs are implied?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244945">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rctaco</div>
					<div class="post-datetime">
						26 Aug 2014, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>We are developing a flight logger that log the DJI Phantom drone flight info to a android, iOS device.&nbsp; &nbsp; The drone runs OPENWRT.&nbsp; &nbsp;16KB shared mem ringbuffer is used.&nbsp; &nbsp;We wrote a server program running on the drone to monitor the serial port data and then send them back to the android, iOS device.&nbsp; &nbsp;</p><p><a href="http://www.phantompilots.com/viewtopic.php?f=27&amp;t=13496">http://www.phantompilots.com/viewtopic. … mp;t=13496</a> is a review of our app.&nbsp; The server program is running on OPENWRT and used the syslog to log the server program debug info.&nbsp; The review stated that&nbsp; </p><br /><p>--&gt;&gt;&gt;<br />3. Every time when I use the app, it keeps generating /var/log/xxx.vpu.dat files (0-4kB) and occupying very limited internal storage of the aircraft. Imagine, what will happen when a PC running out/low of disk space. Firmware upgrade or basically anything might crash in low storage condition, who knows.<br />&lt;&lt;&lt;--</p><br /><p>it implied that syslog function call will overflow the buffer used in the log file system and crash the whole system.&nbsp; &nbsp;</p><p>That is the reason why we wonder&nbsp; if there is a safe way to log the program debug info without using syslog.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244951">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						26 Aug 2014, 12:57					</div>
				</div>
				<div class="post-content content">
					<p>The path &quot;/var/log/xxx.vpu.dat&quot; resembles nothing done by OpenWrt, it must be generated by something else not part of vanilla OpenWrt.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>