<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HAME MPR-A1 - Small and cheap router with built-in battery</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 May 2015 and 2 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 19 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=18.html">18</a></li><li class="pagination-current"><span>19</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=21.html">21</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p199510">
				<div class="post-metadata">
					<div class="post-num">Post #451</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						24 Apr 2013, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>@valentt,</p><p>Sorry, I hadn&#039;t realized there was an email address I could send the Hame A5 file to.&nbsp; Sent now.&nbsp; There&#039;s not much in my build except support for usb/serial.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199621">
				<div class="post-metadata">
					<div class="post-num">Post #452</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						25 Apr 2013, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>Thanks! I&#039;ll try it out soon.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199624">
				<div class="post-metadata">
					<div class="post-num">Post #453</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						25 Apr 2013, 17:00					</div>
				</div>
				<div class="post-content content">
					<p>Re Hame A5</p><p>I flashed a second one yesterday with the file I sent to valentt.&nbsp; I didn&#039;t solder on serial, I just used spring test clips (Mini Grabber Test Probes) on the serial pads--Left is TX, Middle is RX, Right is 0V (rightmost three pads (of 4) with the pads to the bottom right).</p><p>As with some other of these Ralink devices (Poray M3, for example), the A5 doesn&#039;t boot with the serial connected.&nbsp; Disconnect it and it boots fine and can be accessed with telnet through the ethernet cable at 192.168.1.1 as usual.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199675">
				<div class="post-metadata">
					<div class="post-num">Post #454</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						26 Apr 2013, 03:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>Re Hame A5</p><p>I flashed a second one yesterday with the file I sent to valentt.&nbsp; I didn&#039;t solder on serial, I just used spring test clips (Mini Grabber Test Probes) on the serial pads--Left is TX, Middle is RX, Right is 0V (rightmost three pads (of 4) with the pads to the bottom right).</p><p>As with some other of these Ralink devices (Poray M3, for example), the A5 doesn&#039;t boot with the serial connected.&nbsp; Disconnect it and it boots fine and can be accessed with telnet through the ethernet cable at 192.168.1.1 as usual.</p></blockquote></div><p>Maybe, it is because of the noise on the serial cable, oscillator can&#039;t start up. For me, I test the Hame MPR A1 with PL2303 and FTDI serial cable. The pl2303 can&#039;t communicate with MPR-A1, but the FTDI chip works fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199680">
				<div class="post-metadata">
					<div class="post-num">Post #455</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						26 Apr 2013, 05:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gaplee wrote:</cite><blockquote><div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>Re Hame A5</p><p>I flashed a second one yesterday with the file I sent to valentt.&nbsp; I didn&#039;t solder on serial, I just used spring test clips (Mini Grabber Test Probes) on the serial pads--Left is TX, Middle is RX, Right is 0V (rightmost three pads (of 4) with the pads to the bottom right).</p><p>As with some other of these Ralink devices (Poray M3, for example), the A5 doesn&#039;t boot with the serial connected.&nbsp; Disconnect it and it boots fine and can be accessed with telnet through the ethernet cable at 192.168.1.1 as usual.</p></blockquote></div><p>Maybe, it is because of the noise on the serial cable, oscillator can&#039;t start up. For me, I test the Hame MPR A1 with PL2303 and FTDI serial cable. The pl2303 can&#039;t communicate with MPR-A1, but the FTDI chip works fine.</p></blockquote></div><p>CH341 also works fine</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199752">
				<div class="post-metadata">
					<div class="post-num">Post #456</div>
					<div class="post-author">derrij</div>
					<div class="post-datetime">
						26 Apr 2013, 16:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>I flashed a second one yesterday with the file I sent to valentt.&nbsp; I didn&#039;t solder on serial, I just used spring test clips (Mini Grabber Test Probes) on the serial pads--Left is TX, Middle is RX, Right is 0V (rightmost three pads (of 4) with the pads to the bottom right).</p></blockquote></div><p>it is enough to add Squonk42 patch to compile firmware for Hame A5&nbsp; or i need to do something more.<br />please send your firmware to me too. and if possible image of the PCB where are TX,&nbsp; RX,&nbsp; 0V&nbsp; are marked.</p>											<p class="post-edited">(Last edited by <strong>derrij</strong> on 26 Apr 2013, 17:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199761">
				<div class="post-metadata">
					<div class="post-num">Post #457</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						26 Apr 2013, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>pl2303 usb/serial worked for me for gaining access to flash, but the Hame A5 would not boot to openWrt with the serial connected.&nbsp; It booted fine without it (after flashing).</p><p>My build had the kernel command line modification for 16M--otherwise Squonk&#039;s three patches as of early February.&nbsp; I don&#039;t know what patches would be required with trunk at present.</p><p>Valentt said he wanted to put my build file on his dropbox account.&nbsp; My build may be of limited utility, since it has almost nothing enabled except usb serial.&nbsp; There appears not to be enough ram for sysupgrade to run, so any reflashing for additional features would need serial console anyway.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199828">
				<div class="post-metadata">
					<div class="post-num">Post #458</div>
					<div class="post-author">derrij</div>
					<div class="post-datetime">
						27 Apr 2013, 11:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>My build had the kernel command line modification for 16M--otherwise Squonk&#039;s three patches as of early February.&nbsp; I don&#039;t know what patches would be required with trunk at present.</p></blockquote></div><p>as i understand, i need to apply Squonk&#039;s patch and make kernel command line modification for 16M.<br />how to make kernel command line modification for 16M?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199834">
				<div class="post-metadata">
					<div class="post-num">Post #459</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						27 Apr 2013, 12:04					</div>
				</div>
				<div class="post-content content">
					<p>@derrij just try this way.<br /></p><div class="codebox"><pre><code> make kernel_menuconfig </code></pre></div><p>find <strong>kernel hacking</strong> , enter and then find<strong>(rootfstype=squashfs,jffs2) Default kernel command string</strong><br />enter again and manually set SDRAM value <strong>rootfstype=squashfs,jffs2 mem=16M</strong></p>											<p class="post-edited">(Last edited by <strong>gaplee</strong> on 27 Apr 2013, 12:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199914">
				<div class="post-metadata">
					<div class="post-num">Post #460</div>
					<div class="post-author">p1vo</div>
					<div class="post-datetime">
						28 Apr 2013, 16:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xopal wrote:</cite><blockquote><p>@p1vo</p><p>With your resistor modification for 32MB memory configuration, is it still need kernel patches/config to mem=32 ? or no.</p></blockquote></div><br /><p>no.&nbsp; there is no need. Its a proper Mod.</p>											<p class="post-edited">(Last edited by <strong>p1vo</strong> on 30 Apr 2013, 16:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199943">
				<div class="post-metadata">
					<div class="post-num">Post #461</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						28 Apr 2013, 21:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>p1vo wrote:</cite><blockquote><div class="quotebox"><cite>xopal wrote:</cite><blockquote><p>@p1vo</p><p>With your resistor modification for 32MB memory configuration, is it still need kernel patches/config to mem=32 ? or no.</p></blockquote></div><br /><p>no.&nbsp; there is no need.</p></blockquote></div><p>@p1vo</p><p>Thanks , finally my Hame got LuCI after all.</p><p><span class="postimg"><img src="http://i39.tinypic.com/10d7iuu.png" alt="http://i39.tinypic.com/10d7iuu.png" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201449">
				<div class="post-metadata">
					<div class="post-num">Post #462</div>
					<div class="post-author">oschemes</div>
					<div class="post-datetime">
						11 May 2013, 03:49					</div>
				</div>
				<div class="post-content content">
					<p>@p1vo,</p><p>I&#039;ve sent you a PM regarding your postings - if you&#039;re reading, can you reply?&nbsp; Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201867">
				<div class="post-metadata">
					<div class="post-num">Post #463</div>
					<div class="post-author">shmygov</div>
					<div class="post-datetime">
						15 May 2013, 14:42					</div>
				</div>
				<div class="post-content content">
					<p>Re: Hame A2</p><p>Hi<br />Here is my patch to compile OpenWrt new trunk (with Device Tree) for Hame MPR-A2 router:</p><p><a href="https://github.com/shmygov/OpenWrt-HAME-MPR-A2">https://github.com/shmygov/OpenWrt-HAME-MPR-A2</a></p><p>It is based on the Squonk&#039;s patches.<br />(Hame A2 is same as A1, but with 8MB flash, 32MB RAM, and 5200 mAh battery.)</p><p>It is working OK on my A2 which is a genuine Hame from the manufacturer (not a clone).<br />However, there are still some problems with WiFi driver: low data rates, unstable operation if the AP is used without wifi password set.</p><p><a href="http://wiki.openwrt.org/toh/hame/mpr-a2">http://wiki.openwrt.org/toh/hame/mpr-a2</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202032">
				<div class="post-metadata">
					<div class="post-num">Post #464</div>
					<div class="post-author">n1x0nuk</div>
					<div class="post-datetime">
						17 May 2013, 14:28					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,</p><p>I would like to try (my 1st time) to perform a ram upgrade - will the type of ram <br />used for wr703n upgrades be compatible with Hame MPR-A1 ?</p><p>Thanks in advance,<br />Marek</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202100">
				<div class="post-metadata">
					<div class="post-num">Post #465</div>
					<div class="post-author">oschemes</div>
					<div class="post-datetime">
						18 May 2013, 04:27					</div>
				</div>
				<div class="post-content content">
					<p>You need a 256Mbit (32MB) SDRAM (not DDR) chip in a 54 pin TSSOP package.&nbsp; The device can also take 64MB chips, but only 32MB will be used.</p><p>The cheapest place to get this memory is from old laptop memory cards.&nbsp; Search for 256MB PC133 SODIMM on ebay, and find one that uses 8 leaded chips.&nbsp; Next, check to make sure the seller is not using a &quot;stock image&quot; so you are really getting a module with 8x leaded chips.&nbsp; Any question, just ask them.&nbsp; A lot of sellers are using incorrect images but will admit it.</p><p>I bought my (64MB) chips on a 512MB PC133 SODIMM from mem-store on ebay for $15.&nbsp; I used a heat gun to heat up the module.&nbsp; The chips just fell right off and were ready to solder on with no cleanup.</p><p>When removing the old DRAM from the board, I highly recommend Chipquik.&nbsp; It&#039;s not cheap, but using a heat gun on the HAME has a great risk of melting the switches and dislodging the tiny components.&nbsp; I removed the old IC with chipquik, then cleaned the pads with solder wick and soldered a new chip on.&nbsp; </p><p>With a little flux, it&#039;s easy to solder the tiny leads without bridging them.&nbsp; Line up the chip in it&#039;s proper position and hold it with your finger.&nbsp; Solder one corner pin.&nbsp; Double check alignment while you can still move it around, then solder the opposite corner and continue to solder all pins.</p><p>Good luck.</p><br /><br /><div class="quotebox"><cite>n1x0nuk wrote:</cite><blockquote><p>Hello all,</p><p>I would like to try (my 1st time) to perform a ram upgrade - will the type of ram <br />used for wr703n upgrades be compatible with Hame MPR-A1 ?</p><p>Thanks in advance,<br />Marek</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>oschemes</strong> on 18 May 2013, 04:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202104">
				<div class="post-metadata">
					<div class="post-num">Post #466</div>
					<div class="post-author">elaber</div>
					<div class="post-datetime">
						18 May 2013, 05:57					</div>
				</div>
				<div class="post-content content">
					<p>wr703n uses TSOP 66 package<br /><span class="postimg"><img src="http://i44.tinypic.com/21og09.jpg" alt="http://i44.tinypic.com/21og09.jpg" /></span></p><p>the 2 ram on lower right are both TSOP 54 pak (micron 32MB and ESMT 16MB), used to upgrade my HLK module.<br /><span class="postimg"><img src="http://i43.tinypic.com/33eu9ud.jpg" alt="http://i43.tinypic.com/33eu9ud.jpg" /></span><br /><span class="postimg"><img src="http://i39.tinypic.com/b3mo9l.jpg" alt="http://i39.tinypic.com/b3mo9l.jpg" /></span></p><p><strong>thanks to gaplee</strong>, for his work and help.<br />now my hlk module runs hame openwrt with luci.</p><p>@oschemes,<br />thanks for the tip about chipquik, the video looks really simple to use.<br />i used hot air to pull out TSOP 66 and TSOP 54. it almost damage the pads.<br />i&#039;ll surely try chipquik. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>@n1x0nuk<br />i still dont know where to buy TSOP 66 ram.<br />if you find one, pls. tell us.<br />i like to try to upgrade my wr702. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202108">
				<div class="post-metadata">
					<div class="post-num">Post #467</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						18 May 2013, 08:15					</div>
				</div>
				<div class="post-content content">
					<p>@elaber<br />Congratulations. Nice work, and nice picture.<br />My hlk-rm04 module select the external antenna by default, i do not realize that for a long time,&nbsp; and find it until not long ago. How about yours, do you notice that.</p><p>Power of RT5350 is unpowered, only 100mW. WR703N is about 500mW.</p>											<p class="post-edited">(Last edited by <strong>gaplee</strong> on 18 May 2013, 08:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202301">
				<div class="post-metadata">
					<div class="post-num">Post #468</div>
					<div class="post-author">n1x0nuk</div>
					<div class="post-datetime">
						20 May 2013, 11:25					</div>
				</div>
				<div class="post-content content">
					<p>@oschemes - thanks a lot for a detailed description, much appreciated.<br />I must admit I already melted the battery indicator switch while trying<br />to unsolder the memory <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Ordered PC133 256 (32MB modules) for hame mpr-1 upgrade.</p><p>@elaber - While I know it&#039;s not a best deal in the world, there are offers on ebay<br />that sell 1x64MB ram chip + 8MB flash for ~$10 , not ideal but I&#039;ve just ordered one<br /> as I can&#039;t find any matching memory for 703n (fingers crossed for using raspberrypi<br />as STI flash programmer)</p><br /><p>regards,<br />Marek</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202386">
				<div class="post-metadata">
					<div class="post-num">Post #469</div>
					<div class="post-author">mpapec</div>
					<div class="post-datetime">
						21 May 2013, 14:10					</div>
				</div>
				<div class="post-content content">
					<p>I would like to use my Samsung (xcover) like 3g modem and connect it to the HAME. Is that possible?</p><p>With stock firmware I&#039;ve got this<br /># lsusb<br />0000:0000 (bus 2, device 1)<br />04e8:684e (bus 1, device 2)<br />0000:0000 (bus 1, device 1)</p><p>but admin panel tells me there is no 3g module.</p><p>Tnx for any hints.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202392">
				<div class="post-metadata">
					<div class="post-num">Post #470</div>
					<div class="post-author">xakep666</div>
					<div class="post-datetime">
						21 May 2013, 14:24					</div>
				</div>
				<div class="post-content content">
					<p>Driver for switch with features: led polarity control (via swconfig or from DTS directive ralink,led-polarity in esw section), bc-storm protect and transmit good/bad packet counter. I will try to add QoS and IGMP forward. <a href="http://pastebin.com/rBSDmPjX">Link</a></p>											<p class="post-edited">(Last edited by <strong>xakep666</strong> on 21 May 2013, 14:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202435">
				<div class="post-metadata">
					<div class="post-num">Post #471</div>
					<div class="post-author">derrij</div>
					<div class="post-datetime">
						21 May 2013, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>is mine hame a5 only 8Mb of&nbsp; RAM?<br />boot log <a href="http://pastebin.com/sY0x5GUf">http://pastebin.com/sY0x5GUf</a><br />no way openwrt install on my A5?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202438">
				<div class="post-metadata">
					<div class="post-num">Post #472</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						21 May 2013, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>@derrij--Hame A5 works with openWrt after patches are applied and kernel command line modified for 16M<br />(The following is from someone&#039;s post earlier in this thread)</p><p>kernel command line modification for 16M:<br />make menuconfig to set ralink architecture<br />add &quot;mem=16M&quot; command-line option for the kernel to see all 16Mb since the bootloader tells it there&#039;s only 8Mb. </p><p>To do so you need to do &quot;make kernel_menuconfig&quot; in the OpenWRT dir, enter &quot;Kernel hacking&quot; and add &quot;mem=16M&quot; into &quot;Default kernel command string&quot;. Then do make.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202445">
				<div class="post-metadata">
					<div class="post-num">Post #473</div>
					<div class="post-author">derrij</div>
					<div class="post-datetime">
						21 May 2013, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>how to flash A5?<br />how to interrupt the booting to get a U-Boot-console. tpl or how?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202457">
				<div class="post-metadata">
					<div class="post-num">Post #474</div>
					<div class="post-author">bertc3p0</div>
					<div class="post-datetime">
						22 May 2013, 00:52					</div>
				</div>
				<div class="post-content content">
					<p>Many thx shmygo ! Your patch works great also on A5 !</p><p>I&#039;ve replaced the RAM with 32MByte, shortened a missing resistor near to the left bottom edge of the rt5350 and changed in the dts file the flash type accordingly getting:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.8 (Dec  6 2012 - 11:55:27)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb0000
******************************
Software System Reset Occurred
******************************
spi_wait_nsec: 42 
spi device id: 7f 9d 46 7f 9d (9d467f9d)
Warning: un-recognized chip ID, please update bootloader!
raspi_read: from:30000 len:1000 
.raspi_read: from:30000 len:1000 
.============================================ 
Ralink UBoot Version: 3.6.0.0
-------------------------------------------- 
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping 
DRAM_TYPE: SDRAM 
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Dec  6 2012  Time:11:55:27
============================================ 
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384
...
[    0.000000] Linux version 3.8.12 (gerd@nizza) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2012.12 r36655) ) #13 Tue May 21 00:04:52 CEST 2013
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is HAME MPR-A2
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
...
[    0.430000] m25p80 spi0.0: pm25lq032 (4096 Kbytes)
[    0.440000] 4 ofpart partitions found on MTD device spi0.0
...
root@Hame-A5:/# free
             total         used         free       shared      buffers
Mem:         29656        12532        17124            0         1368
-/+ buffers:              11164        18492
Swap:            0            0            0</code></pre></div><p>The startup prints HAME-MPR-A2, but this is only cosmetic.</p><p>I have flashed the sysupgrade image using following sequence on boot (type 4 to stop boot to get into cli):<br /></p><div class="codebox"><pre><code>setenv ipaddr 192.168.0.199                                                            
setenv serverip 192.168.0.9                                                            
setenv bootfile openwrt-ramips-rt305x-mpr-a2-squashfs-sysupgrade.bin
tftpboot
erase linux
cp.linux
reset</code></pre></div><p>Only one thing left - I get lots of following message</p><div class="codebox"><pre><code>root@Hame-A5:/# logread | tail -2
May 21 21:43:59 Hame-A5 daemon.info init: process &#039;/bin/ash --login&#039; (pid 3375) exited. Scheduling for restart.
May 21 21:43:59 Hame-A5 daemon.info init: starting pid 3380, tty &#039;/dev/ttyS1&#039;: &#039;/bin/ash --login&#039;</code></pre></div><p>Does anybody know how to get rid off this ?</p>											<p class="post-edited">(Last edited by <strong>bertc3p0</strong> on 22 May 2013, 01:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202463">
				<div class="post-metadata">
					<div class="post-num">Post #475</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						22 May 2013, 02:17					</div>
				</div>
				<div class="post-content content">
					<p>@derrij--I have two Hame A5s flashed with openWrt--trunk, self-compiled to get the patches included.&nbsp; </p><p>You enter the flash command from serial, and the image is downloaded via lan cable.&nbsp; For the first one, I soldered on the serial connections.&nbsp; For the second, I used mini grabber test hooks:&nbsp; <a href="http://www.ebay.ca/itm/Random-10-Single-Hook-Clip-Mini-Grabber-Test-Probe-for-PCB-SMD-IC-Multimeter-/130899489251?pt=AU_B_I_Electrical_Test_Equipment&amp;hash=item1e7a37b1e3">http://www.ebay.ca/itm/Random-10-Single … 1e7a37b1e3</a></p><p>For the serial connection, I used a pl2303 usb/serial dongle from a Windows 7 PC, with putty.&nbsp; I&#039;m using tftpd64 for my tftp server.</p><p>On the A5 board, with the 4 pads down and to the right, rightmost is 0V, next is RX (to tx on my pl2303 adaptor), third is TX.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 22 May 2013, 14:52)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 19 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=18.html">18</a></li><li class="pagination-current"><span>19</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=21.html">21</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>