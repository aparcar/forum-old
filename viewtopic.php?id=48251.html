<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Computer Time restriction</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p221869">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 04:10					</div>
				</div>
				<div class="post-content content">
					<p>Is there a simple way to restrict a computer by Mac address? A time restricted access. from 11pm to 9am.</p><p>thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221874">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">kgoerbig</div>
					<div class="post-datetime">
						7 Jan 2014, 06:14					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/uci/firewall">http://wiki.openwrt.org/doc/uci/firewall</a></p><p>Look under the section titled:</p><p>&quot;Block access to the Internet for specific IP on certain times&quot;</p><p>Replace option src_ip </p><p>with </p><p>option src_mac</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221933">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 18:00					</div>
				</div>
				<div class="post-content content">
					<p>I did put that in /etc/config/firewall<br />config rule&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Surface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lan&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wan&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option src_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 60:45:bd:93:e7:64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option start_time&nbsp; &nbsp; &nbsp; &nbsp;21:00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option stop_time&nbsp; &nbsp; &nbsp; &nbsp; 09:00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option weekdays&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#039;mon tue wed thu fri&#039;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;REJECT</p><p>But and i can see the rule appear in Traffic Rules. But it block the PC even if it&#039;s not in time range</p>											<p class="post-edited">(Last edited by <strong>Walyks</strong> on 7 Jan 2014, 20:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221935">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						7 Jan 2014, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>are you sure time is setup correctly?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221937">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>Yes I do</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221938">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 18:11					</div>
				</div>
				<div class="post-content content">
					<p>Humm, here it says that depending on my version it&#039;s a different statement.</p><p><a href="http://wiki.openwrt.org/doc/uci/firewall#block.access.to.the.internet.for.specific.ip.on.certain.times">http://wiki.openwrt.org/doc/uci/firewal â€¦ tain.times</a></p><p>How can I upgrade to Firewall 3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221939">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						7 Jan 2014, 18:12					</div>
				</div>
				<div class="post-content content">
					<p>Try to change it to 21:00:00 instead, and see how that goes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221942">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve put that</p><p>config rule&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Surface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; option src&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lan&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; option dest&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wan&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; option src_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 60:45:bd:93:e7:64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; option extra&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;-m time --weekdays Mon,Tue,Wed,Thu,Fri --timestart 23:00 --timestop 09:00&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;REJECT</p><p>and now it seem to work but now I understand that i have Firewall 2.55</p><p>How do I get to Firewall 3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221943">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						7 Jan 2014, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>To get fw3 you could upgrade to barrier breaker, however the solution with &quot;option extra&quot; is fine as well <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221945">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>How can i have information on that one?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221950">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						7 Jan 2014, 18:47					</div>
				</div>
				<div class="post-content content">
					<p>you mean information on BB?</p><p><a href="http://wiki.openwrt.org/about/latest">http://wiki.openwrt.org/about/latest</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221954">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 19:03					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to just download the firewall package from <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/">http://downloads.openwrt.org/snapshots/ â€¦ /packages/</a></p><p>and put it in my Attitude version?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221963">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>Finally you don&#039;t even need to do all that complicated stuff to had a rule with hour restriction. All you have to do is create a rule that block the user in &quot;Trafic Rules&quot; and there is a place where you can had Extra option, you just copy a line like below in it and there you go.</p><p>-m time --weekdays Mon,Tue,Wed,Thu,Fri --timestart 23:00 --timestop 09:00</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221964">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						7 Jan 2014, 20:21					</div>
				</div>
				<div class="post-content content">
					<p>right, and how is that different from what you have posted earlier? <a href="https://forum.openwrt.org/viewtopic.php?pid=221942#p221942">https://forum.openwrt.org/viewtopic.php â€¦ 42#p221942</a> <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221965">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						7 Jan 2014, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>well you don&#039;t have to go in ssh to edit the /etc/config/firewall file</p><p>You do it right in the menu &quot;Traffic Rules&quot; in the Gui</p><p>I could post an image but I can&#039;t figure how lol</p><p><a href="http://s964.photobucket.com/user/walyks/media/TrafficRules.jpg.html"><span class="postimg"><img src="http://i964.photobucket.com/albums/ae127/walyks/TrafficRules.jpg" alt="http://i964.photobucket.com/albums/ae127/walyks/TrafficRules.jpg" /></span></a></p>											<p class="post-edited">(Last edited by <strong>Walyks</strong> on 7 Jan 2014, 21:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221970">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						7 Jan 2014, 21:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Walyks wrote:</cite><blockquote><p>well you don&#039;t have to go in ssh to edit the /etc/config/firewall file</p></blockquote></div><p>wow that sounds really scary XD</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222001">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">doggod</div>
					<div class="post-datetime">
						7 Jan 2014, 23:41					</div>
				</div>
				<div class="post-content content">
					<p>Thank you Walyks, a picture is as good as a thousand words.<br />I was after exactly the same info as yourself and hadnt spotted that <br />New forward rule:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;brings up a new page when editing<br />even though I spent enough hours looking for the info on how to do this.</p><p>Of course my sons arent quite your biggest fans now </p><p>Finally my thanks to the Open Wrt guys/girls for the software</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222100">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Walyks</div>
					<div class="post-datetime">
						8 Jan 2014, 20:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>doggod wrote:</cite><blockquote><p>Thank you Walyks, a picture is as good as a thousand words.<br />I was after exactly the same info as yourself and hadnt spotted that <br />New forward rule:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;brings up a new page when editing<br />even though I spent enough hours looking for the info on how to do this.</p><p>Of course my sons arent quite your biggest fans now </p><p>Finally my thanks to the Open Wrt guys/girls for the software</p></blockquote></div><p>My son didn&#039;t really liked it either ! lol</p><p>But those options should be available in the GUI like for that program that is inspire on Openwrt:</p><p><a href="http://www.gargoyle-router.com/wiki/lib/exe/detail.php?id=screenshots&amp;media=screenshots:13_restrictions.jpg">http://www.gargoyle-router.com/wiki/lib â€¦ ctions.jpg</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222101">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						8 Jan 2014, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>Well to really piss of the kids, you could also redirect to a webpage&nbsp; instead of drop with something like: Go to BED</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 8 Jan 2014, 21:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222120">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">doggod</div>
					<div class="post-datetime">
						8 Jan 2014, 23:27					</div>
				</div>
				<div class="post-content content">
					<p>Just one small issue Ive come across is that the firewall only seems to set rules based on an hourly time rather than part of an hour.</p><p>I set up two types of rules for different sons<br />-m time --weekdays Sun,Mon,Tue,Wed,Thu --timestart 21:15 --timestop 09:15<br />and<br />-m time --weekdays Sun,Mon,Tue,Wed,Thu --timestart 20:30 --timestop 09:15</p><p>however instead of killing the connection at 20.30 and 21.15<br />they got killed at 20.00 and 21.00</p><p>Is the firewall restricted to only use on the hour for its rules ?</p>											<p class="post-edited">(Last edited by <strong>doggod</strong> on 8 Jan 2014, 23:28)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>