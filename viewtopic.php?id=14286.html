<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WL500GP went down after flashing...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p62373">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tasso</div>
					<div class="post-datetime">
						28 Jan 2008, 01:20					</div>
				</div>
				<div class="post-content content">
					<p>I just flashed my wl500gp with &quot;openwrt-brcm47xx-2.6-squashfs.trx&quot;</p><p>Before flashing there was a working DD-WRT installed on the router...<br />and after flashing .. and waiting for over 7 minutes..</p><p>nothing.<br />No Power-LED, no way to get into recovery-mode, no Pin9-Trick, nothing!</p><p>Everything left is the following signals on the address- / data-lines of the flash-chip half a second after powering on:</p><div class="codebox"><pre><code>AAAA DDDD AAAAAAAAAAAAAAAAAAAAAA DDDDDDDDDDDDDDDD
BBBB BBBB 0000000000111111111122 0000000000111111
4321 4321 0123456789012345678901 0123456789012345

0004 0800 0010000000000000000000 0000000000010000
Trig.
0001 1000 1000000000000000000000 0000000000001000
0002 0000 0100000000000000000000 0000000000000000
0003 0000 1100000000000000000000 0000000000000000
1002 53d0 0100000000001000000000 0000101111001010
1003 4083 1100000000001000000000 1100000100000010
1004 7790 0010000000001000000000 0000100111101110
1005 4083 1010000000001000000000 1100000100000010
1006 8f40 0110000000001000000000 0000001011110001
1007 4083 1110000000001000000000 1100000100000010
1008 0000 0001000000001000000000 0000000000000000
1009 4080 1001000000001000000000 0000000100000010
01c0 498c 0000001110000000000000 0011000110010010
01c1 1000 1000001110000000000000 0000000000001000
01c2 0020 0100001110000000000000 0000010000000000
01c3 241a 1100001110000000000000 0101100000100100
14da 0b4f 0101101100101000000000 1111001011010000
14db 0820 1101101100101000000000 0000010000010000
14dc 0000 0011101100101000000000 0000000000000000
14dd 0000 1011101100101000000000 0000000000000000
14dc 0000 0011101100101000000000 0000000000000000</code></pre></div><p>1st row: decoded addresses,<br />2nd row: decoded data<br />3rd row: address-lines<br />4th row: data-lines</p><p>... took me about 5 hours with an oscilloscope to get these signals...</p><p>So .. is there anyone who has same / similar experiences - or who can explain what&#039;s going on?<br />Is there a way to read / write to the flash-chip of thw WL500gP - in circuit or soldered out? - what hardware do I need?!<br />Are there schematics around of the WL500gP (found a CE-Document for a WL500gx, but nothing for gP</p><p>Does anyone have an idea of how this could have happened?! - seems like something really bad happened .. destroyed bootloader?! .. but .. how?!</p><br /><p>Kind regards and have an nice day...</p><p>Tasso</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62405">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">znanev</div>
					<div class="post-datetime">
						28 Jan 2008, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I had a similar experience exactly when tryed to replace a working DD-WRT image with Kamikaze. After the flashing procedure, the router was no longer responding on pings.. nor was accepting a new image via TFTP.</p><p>What I have done was (after reading somewhere on the internet) to press the RESET button while the router is powered down, then while still holding down the RESET button to power on the router. The RESET button should not be released for about 30 seconds. After that, I used the Asus utility to upload an original image to the router (got the latest from Asus web site).</p><p>When the Asus firmware was uploaded and restored to the router, it was alive again <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Then I reflashed it with Kamikaze. And I am still using Kamikaze on it without any problems so far..</p><p>I am just guesing, that DD-WRT is probably destroying some NVRAM variables, used by the Asus recovery mode.</p><br /><p>I hope this helps.</p><p>Edit: If you mange to upload a new firmware to the router, please wait a little longer... leave it for 30 minutes at least.</p><p>Regars,<br />Zdravko</p>											<p class="post-edited">(Last edited by <strong>znanev</strong> on 28 Jan 2008, 15:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62462">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tasso</div>
					<div class="post-datetime">
						29 Jan 2008, 01:18					</div>
				</div>
				<div class="post-content content">
					<p>Thank you!! .. I&#039;ll give it a try and tell about the results - but tomorrow (don&#039;t have the router here).<br />At least you gave me some hope for tomorrow. ;-)</p><p>Kind regards...<br />Tasso</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62548">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">tasso</div>
					<div class="post-datetime">
						30 Jan 2008, 11:42					</div>
				</div>
				<div class="post-content content">
					<p>No success. Sorry.<br />Looks like I do really have to buy a Flashprogrammer + TSOP-adapter for about 1000 $ - or find someone who has it already... :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62554">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						30 Jan 2008, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>did you connect a serial console to the router? it works with the &quot;hold the reset button while powering on&quot; mode... and with a serial connection you&#039;re able to trace to flash process</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62639">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">tasso</div>
					<div class="post-datetime">
						1 Feb 2008, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>I even connected an oscilloscope to the serial console-lines (long before &quot;reading&quot; the flash-bus), but .. nothing! - not even a small RST.</p><p>The bootloader (CFE) has to work to get some signals on the serial lines... without a bootloader and minimal function of the CPU it will be hard to read from a serial console or to write to the flash... at least on a board like the ASUS WL500gP without JTAG or any other option to access the flash without CPU. :-(<br />The only way will be a flash-programmer with 48pin TSOP-Socket for lots of money or .. second option .. maybe 21 + 16 line buffers, lots of wires, and writing to the bad flash-chip (or even better a new one for 18$) in a working WL500gP.<br />But .. the last idea will way sure kill a second Router AND a flash-chip instead of bringing up the first one...</p><p>By the way .. is there anybody near Berlin who has got access to a flash-programmer and a TSOP48-Socket and is able and willing to help me?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>