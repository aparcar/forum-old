<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WPA-Supplicant with Broadcom drivers?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p43163">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tux</div>
					<div class="post-datetime">
						23 Feb 2007, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi Everybody,</p><p>I need urgently a device with support of WPA-Supplicant to authenticate by using EAP-PEAP (username / password credentials).<br />Today I played around with some Broadcom based routers like Buffalo WHR-G54S and Linksys WRT54GS without any success.</p><p>I tried both, WhiteRussian and Kamikaze tree, but Broadcom driver seems not to be compatible with WPA-Supplicant.</p><p>Yes, I know that Atheros based devices work probably with it, so I tried to purchase Accton MR3201A (known as La-Fonera) and / or Meraki Mini (still in beta) here in Germany, but there&#039;s no distributor yet. BTW: Anyone knows a source for it? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>So my question is how I get WPA-Supplicant to work with Broadcom?! <br />Any solutions, or suggestions for other hardware?</p><p>Thanks a lot.<br />Otherwise I have to buy a third-party device, which will not be supported by OpenWRT <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Greetz,<br />tux</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43196">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">dicks</div>
					<div class="post-datetime">
						24 Feb 2007, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>Do you want to use the router as access point or client? For an access point, you can use the &quot;nas&quot; program instead of wpa_supplicant. However, this doesn&#039;t seem to work in client mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43230">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tux</div>
					<div class="post-datetime">
						25 Feb 2007, 12:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply.</p><p>This device should work in client-mode. The other router is an EAP-PEAP (802.1x) enabled WL-500GP with OpenWRT.<br />Today I got a La-Fonera, so I can try wpa-supplicant on a atheros based device.</p><p>But it seems that there is still no source for La-Fonera / Accton MR3201A / Edge-Core WA3101 for commercial use?!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43242">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">tux</div>
					<div class="post-datetime">
						25 Feb 2007, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>WPA_supplicant seems to work on La-Fonera, read on this thread: <br /><a href="http://forum.openwrt.org/viewtopic.php?pid=43241#p43241">http://forum.openwrt.org/viewtopic.php?pid=43241#p43241</a></p><p>No success with Broadcom <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45886">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">VillMann</div>
					<div class="post-datetime">
						5 Apr 2007, 02:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tux wrote:</cite><blockquote><p>Thanks for your reply.</p><p>This device should work in client-mode. The other router is an EAP-PEAP (802.1x) enabled WL-500GP with OpenWRT.<br />Today I got a La-Fonera, so I can try wpa-supplicant on a atheros based device.</p><p>But it seems that there is still no source for La-Fonera / Accton MR3201A / Edge-Core WA3101 for commercial use?!</p></blockquote></div><p>Do you have the WL-500 runnings as 802.1x client towards WAN? I&#039;m trying to set up my 500gP to act as PEAP/MSCHAP client towards the WAN port. As I understand I have to use wpa-supplicant to achieve that, so it sounds bad that it doesn&#039;t work with broadcom <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45903">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">tux</div>
					<div class="post-datetime">
						5 Apr 2007, 10:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>VillMann wrote:</cite><blockquote><p>Do you have the WL-500 runnings as 802.1x client towards WAN? (...) As I understand I have to use wpa-supplicant to achieve that, so it sounds bad that it doesn&#039;t work with broadcom <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>No, it&#039;s authenticating wirelessly.<br />Try &quot;wpasupplicant -D wired&quot; to use wired ports.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46265">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ejgs</div>
					<div class="post-datetime">
						11 Apr 2007, 19:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I was looking for a device such for long time, and finally I found a device which authenticate as a client to a wifi network, but using EAP-TTLS and not PEAP. This is the Pepwave Surf 200 BG.<br />This device works as a router, adquiring an IP address using DHCP in the wireless interface and doing NAT to the internal ethernet network.</p><p>&nbsp; &nbsp; <a href="http://www.pepwave.com/products/surf/">http://www.pepwave.com/products/surf/</a></p><p>Hope this helps</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46337">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">zogness</div>
					<div class="post-datetime">
						13 Apr 2007, 03:03					</div>
				</div>
				<div class="post-content content">
					<p>I have a WHR-G54S running WHITE RUSSIAN (0.9). I need it to be a client/bridge so my Linux desktop can get IP leases through it and the D-Link WAP I have running downstairs. The D-Link WAP is connected via ethernet to my FreeBSD gateway box which is the (sole) dhcpd server for the entire LAN. After much effort the Buffalo device can get a dhcp lease for itself, but can&#039;t seem to forward dhcp requests up the chain to FreeBSD. It can ping out to the Internet if I leave ping running for a several minutes. Strange. Please don&#039;t tell me WPA is still broken on the Broadcom<br />chips. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I can only ssh login to the device using a statically configured port. It cannot be accessed over the IP it gets from my server. Thanks for any help and apologies in advance if I missed the obvious answer in the docs.</p><br /><p>root@wurt:~# iwconfig <br />lo&nbsp; &nbsp; &nbsp; &nbsp; no wireless extensions.</p><p>eth0&nbsp; &nbsp; &nbsp; no wireless extensions.</p><p>eth1&nbsp; &nbsp; &nbsp; IEEE 802.11-DS&nbsp; ESSID:&quot;oak&quot;&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Repeater&nbsp; Frequency:2.422 GHz&nbsp; Access Point: 00:11:95:CF:44:CF&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx-Power:19 dBm&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RTS thr=2347 B&nbsp; &nbsp;Fragment thr=2346 B&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Encryption key:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Link Signal level:-62 dBm&nbsp; Noise level:-96 dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rx invalid nwid:0&nbsp; Rx invalid crypt:0&nbsp; Rx invalid frag:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx excessive retries:1&nbsp; Invalid misc:0&nbsp; &nbsp;Missed beacon:0</p><p>vlan0&nbsp; &nbsp; &nbsp;no wireless extensions.</p><p>##########################################################</p><p>ifconfig output:</p><p>eth1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:16:01:8D:62:23&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.0.37&nbsp; Bcast:192.168.0.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:3 errors:0 dropped:0 overruns:0 frame:10467<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:26 errors:1 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:744 (744.0 B)&nbsp; TX bytes:3860 (3.7 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:2 Base address:0x5000 </p><p>vlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:16:01:8D:62:22&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.0.2&nbsp; Bcast:192.168.0.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:156 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:136 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:18238 (17.8 KiB)&nbsp; TX bytes:18245 (17.8 KiB)</p><p>##########################################################</p><p>Here&#039;s all of nvram.</p><p>opo=8<br />wan_device=vlan1<br />il0macaddr=00:16:01:8D:62:23<br />boardrev=0x13<br />et0macaddr=00:16:01:8D:62:22<br />wl0_akm=psk<br />watchdog=1000<br />boot_wait=on<br />wl0_infra=1<br />et0mdcport=0<br />hw_rev=3<br />reset_gpio=7<br />pmon_ver=CFE 1.0.37-1.08<br />wl0_ifname=eth1<br />gpio1=ses_led<br />ifup_interfaces=lan wl0 wifi<br />vlan0ports=1 2 3 4 5*<br />wl0_mode=wet<br />wl0_gmode=2<br />sromrev=2<br />boardtype=0x467<br />lan_netmask=255.255.255.0<br />wl0_ssid=oak<br />nvram_version=1.03<br />wl0id=0x4318<br />pmon_date=Jul 14 2006 14:09:08<br />ag0=2<br />wl0_closed=1<br />wl0gpio0=0<br />wl0_macmode=allow<br />wl0gpio1=0<br />wl0gpio2=2<br />wl0gpio3=0<br />wl0_lazywds=1<br />wl0_antdiv=-1<br />wl0_wpa_psk=Not going to post that!<br />melco_id=30182<br />wan_proto=none<br />memc_config=0x00048000&nbsp; &nbsp; &nbsp; <br />pa0itssit=62&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />wifi_proto=dhcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />cctl=0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />lan_dns=192.168.0.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />lan_ifnames=vlan0 eth1 eth2 <br />pa0maxpwr=0x4e&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />lan_proto=static&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />lan_ipaddr=192.168.0.2&nbsp; &nbsp; &nbsp; <br />clkfreq=200&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />aa0=3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />vlan1hwname=et0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wl0_wep=disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />sdram_config=0x22&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />vlan1ports=0 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />ccode=0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />lan_ifname=vlan0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />boardflags=0x2758&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />sdram_refresh=0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />sdram_ncdl=0x20521&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />gpio14=ses_button&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />et0phyaddr=30&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wan_ifname=vlan1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />wan_hostname=wurt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wl0_radio=1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wl0_gmode_protection=off&nbsp; &nbsp; <br />pa0b0=0x168b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pa0b1=0xfabf&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pa0b2=0xfeaf&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />sdram_init=0x0100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />vlan0hwname=et0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wl0_channel=6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />et1phyaddr=0x1f&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wl0_proto=dhcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />language=en&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />boardnum=00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />wl0_crypto=tkip</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>