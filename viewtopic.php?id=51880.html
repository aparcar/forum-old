<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WDS configuration issues</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p241777">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ppm</div>
					<div class="post-datetime">
						27 Jul 2014, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m sure I&#039;m running into a common beginner&#039;s problem, but I would nevertheless greatly appreciate any help.</p><p>I have two WRT54GLs. I would like to extend the wireless network range of one router with the other. </p><p>I installed OpenWrt on the primary router about 6 months ago and just installed it on the second one using the following image:<br /><a href="http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/">http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/</a></p><p>I read through the <a href="http://wiki.openwrt.org/doc/howto/clientmode">Client Mode Wireless</a>&nbsp; article and since both routers have Broadcom chips I settled on <a href="http://wiki.openwrt.org/doc/recipes/broadcomwds">Broadcom WDS</a>. I configured both routers like that article describes, but I when I connect a desktop to the 2nd router over Ethernet I cannot access the Internet, much less the 1st router at 192.168.1.1. The 2nd router does broadcast the correct SSID and my wireless devices will fall over to the 2nd router, but when they do the devices won&#039;t fully connect.</p><p>When I configure <em>&#039;wifi-iface&#039;</em> to <em>option &#039;mode&#039; &#039;sta&#039;</em> instead of <em>option &#039;mode&#039; &#039;ap&#039;</em>, as defined the aforementioned article, the desktop is able to connect to the Internet. However the 2n router doesn&#039;t broadcast the SSID.</p><p>The 2nd router&#039;s configuration can be found here: <br /><a href="https://gist.github.com/pamolloy/377eb98da7f5a10ab80f">https://gist.github.com/pamolloy/377eb98da7f5a10ab80f</a></p><p>The 1st router&#039;s configuration is here:<br /><a href="https://gist.github.com/pamolloy/ec10f278c457810f0108">https://gist.github.com/pamolloy/ec10f278c457810f0108</a></p><p>I&#039;ve tried some other methods with less success. For example, I couldn&#039;t even find the relayd package using opkg or online (see <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/packages">packages</a>). And it seems like WDS is a recommended method (see <a href="https://forum.openwrt.org/viewtopic.php">How to extend my wireless network with OpenWrt?</a>). Although perhaps I should consider another method since throughput is halved for all clients connected wirelessly (see <a href="http://en.wikipedia.org/wiki/Wireless_distribution_system">Wireless distribution system</a>).</p>											<p class="post-edited">(Last edited by <strong>ppm</strong> on 27 Jul 2014, 22:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241800">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						28 Jul 2014, 01:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ppm wrote:</cite><blockquote><p>I read through the <a href="http://wiki.openwrt.org/doc/howto/clientmode">Client Mode Wireless</a>&nbsp; article and since both routers have Broadcom chips I settled on <a href="http://wiki.openwrt.org/doc/recipes/broadcomwds">Broadcom WDS</a>. I configured both routers like that article describes, but I when I connect a desktop to the 2nd router over Ethernet I cannot access the Internet, much less the 1st router at 192.168.1.1. The 2nd router does broadcast the correct SSID and my wireless devices will fall over to the 2nd router, but when they do the devices won&#039;t fully connect.</p><p>When I configure <em>&#039;wifi-iface&#039;</em> to <em>option &#039;mode&#039; &#039;sta&#039;</em> instead of <em>option &#039;mode&#039; &#039;ap&#039;</em>, as defined the aforementioned article, the desktop is able to connect to the Internet. However the 2n router doesn&#039;t broadcast the SSID.</p></blockquote></div><p>Did you perform the troubleshooting steps described in the article?<br />Did you set up the peer MAC addresses correctly? All I see is &#039;00&#039;s where they should be.</p><div class="quotebox"><blockquote><p>Although perhaps I should consider another method since throughput is halved for all clients connected wirelessly (see <a href="http://en.wikipedia.org/wiki/Wireless_distribution_system">Wireless distribution system</a>).</p></blockquote></div><p>WDS is the best wireless option. If you have a cable between the routers then this is superior to wireless, and you shouldn&#039;t be using WDS anyway.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241813">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ppm</div>
					<div class="post-datetime">
						28 Jul 2014, 01:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>qasdfdsaq wrote:</cite><blockquote><p>Did you perform the troubleshooting steps described in the article?<br />Did you set up the peer MAC addresses correctly? All I see is &#039;00&#039;s where they should be.</p></blockquote></div><p>I obscured it, not sure if it was necessary. I took another look and realized I used the wired interfaces by accident. When I corrected it I was not longer able to connect to the Internet even when using the Station mode. Reverting the MAC address to the wired one along with Station mode allows me to connect. However although I can access the Internet from the desktop, the 2nd router can&#039;t access the Internet and therefore can&#039;t download the <em>wl</em> package listed in the troubleshooting section.</p><div class="quotebox"><blockquote><p>WDS is the best wireless option. If you have a cable between the routers then this is superior to wireless, and you shouldn&#039;t be using WDS anyway.</p></blockquote></div><p>Good to know. I guess that statement in the Wikipedia article wasn&#039;t clear. I thought it was implying that there were other methods of wirelessly connecting routers that woudn&#039;t reduce throughput.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>