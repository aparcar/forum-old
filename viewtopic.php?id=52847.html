<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Low PPTP Speed (40% Bandwith)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p247598">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">plusoft</div>
					<div class="post-datetime">
						20 Sep 2014, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>Hey . I have This modem router : <a href="http://wiki.openwrt.org/toh/astoria/arv7510pw22">http://wiki.openwrt.org/toh/astoria/arv7510pw22</a><br />and i config PPTP Client On It . with these manuals :<br /><a href="http://wiki.openwrt.org/doc/howto/vpn.client.pptp">http://wiki.openwrt.org/doc/howto/vpn.client.pptp</a><br /><a href="http://pptpclient.sourceforge.net/">http://pptpclient.sourceforge.net/</a><br />. But Speed Is too low (40% of all bandwith)<br />i have no problem with L2TP on This Modem And Windows !<br />but i need pptp client and its so slow !</p><p>Firmware Version : OpenWrt Chaos Calmer r42556 / LuCI Trunk (svn-r10528)<br />Kernel Version&nbsp; &nbsp; 3.14.18 </p><p>someone can help me about that ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247599">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						20 Sep 2014, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>I had performance problems with PPTP a while ago... found no clear reason or any solution.<br />PPTP is old and insecure, unfortunately it is the best supported protocol. I found that OpenVPN works fine on all my clients (iOS and Android, as well as laptops/desktops), so I would suggest you think about OpenVPN.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247604">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">plusoft</div>
					<div class="post-datetime">
						20 Sep 2014, 19:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zo0ok wrote:</cite><blockquote><p>I had performance problems with PPTP a while ago... found no clear reason or any solution.<br />PPTP is old and insecure, unfortunately it is the best supported protocol. I found that OpenVPN works fine on all my clients (iOS and Android, as well as laptops/desktops), so I would suggest you think about OpenVPN.</p></blockquote></div><p>I want to use PPTP &quot;Client&quot; NOT &quot;Server&quot; ( that server i want to connect to it doesnt support OpenVPN protocol )<br />can you configure L2TP/IPSec &quot;Client&quot; (NOT SERVER) openwrt ? i tried a few times but i didnt succed because<br />manuals are not complete or old or doesnt work !</p><p>thanks for your reply .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247615">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						20 Sep 2014, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, should have read your message more properly <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Just my general ideas then... PPTP uses some encryption, and that can be heavy on the CPU. The link you provided suggests your device has a 333MHz CPU. What throughput do you actually get (if you download 100MBytes, how long does it take)?</p><p>While experiencing &quot;just 40% performance&quot;, have you tried running the &quot;top&quot; command (if you are new, you need to SSH into the router, and run the command &quot;top&quot;). Use Google. top will tell you if your CPU is completely loaded, or if there are CPU-cycles to spare.</p><p>You want to look at one of the first lines of top, looking similar to this.<br /></p><div class="codebox"><pre><code>%Cpu(s):  3,3 us,  0,7 sy,  0,0 ni, 95,5 id,  0,5 wa</code></pre></div><p>You want idle to not be close to 0 (or possibly 50 since you seem to have a dual core CPU).</p><p>Sorry if I got too basic here!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247646">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">plusoft</div>
					<div class="post-datetime">
						21 Sep 2014, 10:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zo0ok wrote:</cite><blockquote><p>Sorry, should have read your message more properly <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Just my general ideas then... PPTP uses some encryption, and that can be heavy on the CPU. The link you provided suggests your device has a 333MHz CPU. What throughput do you actually get (if you download 100MBytes, how long does it take)?</p><p>While experiencing &quot;just 40% performance&quot;, have you tried running the &quot;top&quot; command (if you are new, you need to SSH into the router, and run the command &quot;top&quot;). Use Google. top will tell you if your CPU is completely loaded, or if there are CPU-cycles to spare.</p><p>You want to look at one of the first lines of top, looking similar to this.<br /></p><div class="codebox"><pre><code>%Cpu(s):  3,3 us,  0,7 sy,  0,0 ni, 95,5 id,  0,5 wa</code></pre></div><p>You want idle to not be close to 0 (or possibly 50 since you seem to have a dual core CPU).</p><p>Sorry if I got too basic here!</p></blockquote></div><p>I have 9 Mbit/s Internet and with pptp i just have access to 3-4 Mbit on It !<br />and when i using l2tp i can use all of bandwith<br />but that server i want to connect just support pptp and l2tp ipsec !<br />Download With Maximum Speed With L2TP : CPU:&nbsp; &nbsp;0% usr&nbsp; &nbsp;1% sys&nbsp; &nbsp;0% nic&nbsp; 48% idle&nbsp; &nbsp;0% io&nbsp; &nbsp;0% irq&nbsp; 49% sirq<br />Download With 40% Speed With PPTP : CPU:&nbsp; 12% usr&nbsp; &nbsp;2% sys&nbsp; &nbsp;0% nic&nbsp; 66% idle&nbsp; &nbsp;0% io&nbsp; &nbsp;0% irq&nbsp; 18% sirq<br />Download With Maximum Speed WithOUT L2TP OR PPTP : CPU:&nbsp; 14% usr&nbsp; &nbsp;3% sys&nbsp; &nbsp;0% nic&nbsp; 49% idle&nbsp; &nbsp;0% io&nbsp; &nbsp;0% irq&nbsp; 32% sirq</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247651">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						21 Sep 2014, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>Well, your CPU obviously is not the problem with PPTP (as I suggested it could be), as you have 66% idle.</p><p>I set up an OpenWRT PPTP server a while ago. I wanted to use it for my mobile units (an iPad) to be able to appear to be at home when I was actually travelling (there are media services that stop you from accessing content when you go abroad). When I tested it at home it worked just fine. But when I used it from another continent, I got very bad performance (perhaps in your range, or even worse). Without PPTP I got decent performance (to home) from my other-continent-location though.</p><p>I ended up getting a new router and switching from PPTP to OpenVPN, for different reasons, so I never investigated the PPTP problem.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>