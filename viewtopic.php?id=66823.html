<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Luci install on Fresh DD installation</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p334407">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						14 Aug 2016, 03:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys quick question. I just installed latest designated driver and installed LUCI. However I got an error. Any idea on what this is ?</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_base.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/Packages.sig.
Signature check passed.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/kernel/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_kernel.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/kernel/Packages.sig.
Signature check passed.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_luci.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/Packages.sig.
Signature check passed.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/management/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_management.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/management/Packages.sig.
Signature check passed.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/packages/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_packages.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/packages/Packages.sig.
Signature check passed.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/routing/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_routing.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/routing/Packages.sig.
Signature check passed.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/telephony/Packages.gz.
Updated list of available packages in /var/opkg-lists/designated_driver_telephony.
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/telephony/Packages.sig.
Signature check passed.
root@OpenWrt:~# opkg install luci
Installing luci (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci_git-16.217.35130-6a11f                                                                                                                            71-1_all.ipk.
Installing uhttpd (2015-11-08-fe01ef3f52adae9da38ef47926cd50974af5d6b7) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/uhttpd_2015-11-08-fe01ef3f5                                                                                                                            2adae9da38ef47926cd50974af5d6b7_mvebu.ipk.
Installing uhttpd-mod-ubus (2015-11-08-fe01ef3f52adae9da38ef47926cd50974af5d6b7) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/uhttpd-mod-ubus_2015-11-08-                                                                                                                            fe01ef3f52adae9da38ef47926cd50974af5d6b7_mvebu.ipk.
Installing luci-mod-admin-full (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-mod-admin-full_git-16.                                                                                                                            217.35130-6a11f71-1_mvebu.ipk.
Installing luci-base (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-base_git-16.217.35130-                                                                                                                            6a11f71-1_mvebu.ipk.
Installing lua (5.1.5-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/lua_5.1.5-1_mvebu.ipk.
Installing liblua (5.1.5-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/liblua_5.1.5-1_mvebu.ipk.
Installing libuci-lua (2016-07-04.1-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/libuci-lua_2016-07-04.1-1_m                                                                                                                            vebu.ipk.
Installing luci-lib-nixio (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-lib-nixio_git-16.217.3                                                                                                                            5130-6a11f71-1_mvebu.ipk.
Installing luci-lib-ip (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-lib-ip_git-16.217.3513                                                                                                                            0-6a11f71-1_mvebu.ipk.
Installing rpcd (2016-06-30-23417e94d25570e6d62542bac46edd51e8e0243a) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/rpcd_2016-06-30-23417e94d25                                                                                                                            570e6d62542bac46edd51e8e0243a_mvebu.ipk.
Installing libubus-lua (2016-07-02-053be7df871e05478284235732f8b0608089512f) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/libubus-lua_2016-07-02-053b                                                                                                                            e7df871e05478284235732f8b0608089512f_mvebu.ipk.
Installing luci-lib-jsonc (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-lib-jsonc_git-16.217.3                                                                                                                            5130-6a11f71-1_mvebu.ipk.
Installing luci-theme-bootstrap (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-theme-bootstrap_git-16                                                                                                                            .217.35130-6a11f71-1_all.ipk.
Installing luci-app-firewall (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-app-firewall_git-16.21                                                                                                                            7.35130-6a11f71-1_all.ipk.
Installing luci-proto-ppp (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-proto-ppp_git-16.217.3                                                                                                                            5130-6a11f71-1_all.ipk.
Installing libiwinfo-lua (2016-01-25-e4aca3910dff532ed878d0ceaf1ab6e8ad7719bf) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/base/libiwinfo-lua_2016-01-25-e4                                                                                                                            aca3910dff532ed878d0ceaf1ab6e8ad7719bf_mvebu.ipk.
Installing luci-proto-ipv6 (git-16.217.35130-6a11f71-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/mvebu/generic/packages/luci/luci-proto-ipv6_git-16.217.                                                                                                                            35130-6a11f71-1_all.ipk.
Configuring liblua.
Configuring libuci-lua.
Configuring rpcd.
Configuring luci-lib-ip.
Configuring libubus-lua.
Configuring libiwinfo-lua.
Configuring luci-theme-bootstrap.
//usr/lib/opkg/info/luci-theme-bootstrap.postinst: .: line 130: can&#039;t open &#039;./30_luci-theme-bootstrap&#039;
//usr/lib/opkg/info/luci-theme-bootstrap.postinst: .: line 130: can&#039;t open &#039;./30_luci-theme-bootstrap&#039;
Configuring luci-app-firewall.
Configuring lua.
Configuring luci-proto-ppp.
Configuring luci-lib-nixio.
Configuring luci-lib-jsonc.
Configuring luci-base.
Configuring luci-mod-admin-full.
Configuring luci-proto-ipv6.
Configuring uhttpd.
Configuring uhttpd-mod-ubus.
//usr/lib/opkg/info/uhttpd-mod-ubus.postinst: .: line 130: can&#039;t open &#039;./00_uhttpd_ubus&#039;
Configuring luci.
root@OpenWrt:~#</code></pre></div><p>Something to do with line 130.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334414">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Opy</div>
					<div class="post-datetime">
						14 Aug 2016, 05:58					</div>
				</div>
				<div class="post-content content">
					<p>Getting the exact same failures.&nbsp; I wonder if something was updated today.<br />Both files mentioned are only a few lines long (and identical)<br />----------------<br />#!/bin/sh<br />[ &quot;${IPKG_NO_SCRIPT}&quot; = &quot;1&quot; ] &amp;&amp; exit 0<br />. ${IPKG_INSTROOT}/lib/functions.sh<br />default_postinst $0 $@<br />-----------------</p><p>They are calling functions.sh which is a meater file. So assuming &#039;Line 130&#039; refers to this file, here is the section being referenced.<br />------------------<br />123 config_foreach() {<br />124&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local ___function=&quot;$1&quot;<br />125&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ &quot;$#&quot; -ge 1 ] &amp;&amp; shift<br />126&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local ___type=&quot;$1&quot;<br />127&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ &quot;$#&quot; -ge 1 ] &amp;&amp; shift<br />128&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local section cfgtype<br />129 <br />130&nbsp; &nbsp; &nbsp; &nbsp; [ -z &quot;$CONFIG_SECTIONS&quot; ] &amp;&amp; return 0<br />131&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for section in ${CONFIG_SECTIONS}; do<br />132&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;config_get cfgtype &quot;$section&quot; TYPE<br />133&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ -n &quot;$___type&quot; -a &quot;x$cfgtype&quot; != &quot;x$___type&quot; ] &amp;&amp; continue<br />134&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;eval &quot;$___function \&quot;\$section\&quot; \&quot;\$@\&quot;&quot;<br />135&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;done<br />136 }<br />------------------</p><p>In my case, I&#039;ve just reinstalled OpenWRT on a Linksys WRT1900ACS<br />Linux is quite foreign to me.&nbsp; So hoping someone can find this post and rectify soon if it is a bad update somewhere.</p>											<p class="post-edited">(Last edited by <strong>Opy</strong> on 14 Aug 2016, 06:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334416">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Opy</div>
					<div class="post-datetime">
						14 Aug 2016, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>Oh, or more likely, 30_luci-theme-bootstrap is missing. I can&#039;t find it.</p><p>LUCI seems to be fine so far anyway.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334418">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						14 Aug 2016, 07:16					</div>
				</div>
				<div class="post-content content">
					<p>correct. And it seems that this line 130 error is always there. <br />Just tried to install transmission for Luci:</p><div class="codebox"><pre><code>//usr/lib/opkg/info/luci-app-transmission.postinst: .: line 130: can&#039;t open &#039;./40_luci-transmission&#039;</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>