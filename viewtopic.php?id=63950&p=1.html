<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear EVG2000 (Yes, but needs b53 switch detection)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 22 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 4</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=63950&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=63950&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=63950&amp;p=4.html">4</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p318174">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						5 Apr 2016, 00:20					</div>
				</div>
				<div class="post-content content">
					<p>I have just salvaged 2 x Netgear EVG2000 routers. The specs look quite good, but they are not currently supported.</p><p><a href="https://wiki.openwrt.org/toh/netgear/evg2000">https://wiki.openwrt.org/toh/netgear/evg2000</a></p><p>It does say WIP, but is there anyone or anywhere that I can find out where the WIP is at or what work is remaining to get them working?</p><p>It is very similar to the <a href="https://wiki.openwrt.org/toh/netgear/dgnd3700">DGND3700</a>, sharing the same toolchain.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 23 Apr 2016, 16:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318505">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 08:37					</div>
				</div>
				<div class="post-content content">
					<p>I found netgear source code with toolchain for download, it is slightly older than what is running on the devices.</p><p><a href="http://kb.netgear.com/app/answers/detail/a_id/2649/~/open-source-code-for-programmers-">http://kb.netgear.com/app/answers/detai … ogrammers-</a><br /><a href="https://sourceforge.net/projects/officialnetgearfirmware/files/">https://sourceforge.net/projects/offici … are/files/</a></p><p>I also had a read of of the developers guide about first steps and adding a new platform</p><p><a href="https://wiki.openwrt.org/doc/playground/developer">https://wiki.openwrt.org/doc/playground/developer</a></p><p>But I still have no idea at what stage the WIP is, whether there is a platform that could be easily modified, or how to go about using the netgear source and toolchain to add a platform.</p><p>If there is someone working on this, then I would be willing to help test builds, or even supply one or both of the devices that I have so that they could be worked on.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 7 Apr 2016, 14:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318513">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>A &#039;nmap&#039; of the device shows</p><div class="codebox"><pre><code>[graham@tyr telnetenable-0.4]$ nmap -A -T4 192.168.0.1

Starting Nmap 7.10 ( https://nmap.org ) at 2016-04-07 10:31 CEST
Nmap scan report for 192.168.0.1
Host is up (0.00039s latency).
Not shown: 996 closed ports
PORT     STATE SERVICE    VERSION
53/tcp   open  domain     dnsmasq 2.15
| dns-nsid: 
|   id.server: 
|_  bind.version: dnsmasq-2.15
80/tcp   open  http
443/tcp  open  ssl/https?
| ssl-cert: Subject: organizationName=Internet Widgits Pty Ltd/stateOrProvinceName=Some-State/countryName=AU
| Not valid before: 2009-11-03T07:06:19
|_Not valid after:  2012-11-02T07:06:19
5000/tcp open  tcpwrapped
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :
SF-Port80-TCP:V=7.10%I=7%D=4/7%Time=57061AE5%P=x86_64-redhat-linux-gnu%r(G
SF:etRequest,132,&quot;HTTP/1\.0\x20401\x20Unauthorized\r\nWWW-Authenticate:\x2
SF:0Basic\x20realm=\&quot;NETGEAR\x20EVG2000\&quot;\r\nContent-type:\x20text/html\r\
SF:n\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;title&gt;401\x20Unauthorized&lt;/title&gt;&lt;/head&gt;\r\n&lt;body
SF:&gt;&lt;h1&gt;401\x20Unauthorized&lt;/h1&gt;\r\n&lt;p&gt;Access\x20to\x20this\x20resource\x2
SF:0is\x20denied;\x20your\x20client\x20has\x20not\x20supplied\x20the\x20co
SF:rrect\x20authentication\.&lt;/p&gt;&lt;/body&gt;\r\n&lt;/html&gt;\r\n&quot;)%r(HTTPOptions,132
SF:,&quot;HTTP/1\.0\x20401\x20Unauthorized\r\nWWW-Authenticate:\x20Basic\x20rea
SF:lm=\&quot;NETGEAR\x20EVG2000\&quot;\r\nContent-type:\x20text/html\r\n\r\n&lt;html&gt;\r
SF:\n&lt;head&gt;&lt;title&gt;401\x20Unauthorized&lt;/title&gt;&lt;/head&gt;\r\n&lt;body&gt;&lt;h1&gt;401\x20U
SF:nauthorized&lt;/h1&gt;\r\n&lt;p&gt;Access\x20to\x20this\x20resource\x20is\x20denied
SF:;\x20your\x20client\x20has\x20not\x20supplied\x20the\x20correct\x20auth
SF:entication\.&lt;/p&gt;&lt;/body&gt;\r\n&lt;/html&gt;\r\n&quot;)%r(FourOhFourRequest,132,&quot;HTTP/
SF:1\.0\x20401\x20Unauthorized\r\nWWW-Authenticate:\x20Basic\x20realm=\&quot;NE
SF:TGEAR\x20EVG2000\&quot;\r\nContent-type:\x20text/html\r\n\r\n&lt;html&gt;\r\n&lt;head
SF:&gt;&lt;title&gt;401\x20Unauthorized&lt;/title&gt;&lt;/head&gt;\r\n&lt;body&gt;&lt;h1&gt;401\x20Unauthor
SF:ized&lt;/h1&gt;\r\n&lt;p&gt;Access\x20to\x20this\x20resource\x20is\x20denied;\x20yo
SF:ur\x20client\x20has\x20not\x20supplied\x20the\x20correct\x20authenticat
SF:ion\.&lt;/p&gt;&lt;/body&gt;\r\n&lt;/html&gt;\r\n&quot;)%r(GenericLines,132,&quot;HTTP/1\.0\x20401\
SF:x20Unauthorized\r\nWWW-Authenticate:\x20Basic\x20realm=\&quot;NETGEAR\x20EVG
SF:2000\&quot;\r\nContent-type:\x20text/html\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;title&gt;401\
SF:x20Unauthorized&lt;/title&gt;&lt;/head&gt;\r\n&lt;body&gt;&lt;h1&gt;401\x20Unauthorized&lt;/h1&gt;\r\
SF:n&lt;p&gt;Access\x20to\x20this\x20resource\x20is\x20denied;\x20your\x20client
SF:\x20has\x20not\x20supplied\x20the\x20correct\x20authentication\.&lt;/p&gt;&lt;/b
SF:ody&gt;\r\n&lt;/html&gt;\r\n&quot;)%r(SIPOptions,132,&quot;HTTP/1\.0\x20401\x20Unauthorize
SF:d\r\nWWW-Authenticate:\x20Basic\x20realm=\&quot;NETGEAR\x20EVG2000\&quot;\r\nCont
SF:ent-type:\x20text/html\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;title&gt;401\x20Unauthorize
SF:d&lt;/title&gt;&lt;/head&gt;\r\n&lt;body&gt;&lt;h1&gt;401\x20Unauthorized&lt;/h1&gt;\r\n&lt;p&gt;Access\x20
SF:to\x20this\x20resource\x20is\x20denied;\x20your\x20client\x20has\x20not
SF:\x20supplied\x20the\x20correct\x20authentication\.&lt;/p&gt;&lt;/body&gt;\r\n&lt;/html
SF:&gt;\r\n&quot;);

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 211.64 seconds</code></pre></div><p>I doesn&#039;t show any telnet port but I tried &#039;telnetenable&#039; on it anyway but just got a connection refused message. I even tried running &#039;<a href="http://192.168.0.1/setup.cgi?todo=debug">http://192.168.0.1/setup.cgi?todo=debug</a>&#039; but just got a 404.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 7 Apr 2016, 11:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318514">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>Here is the status page of the routers</p><p><span class="postimg"><img src="http://s16.postimg.org/dfu4q70b9/Screenshot_from_2016_04_07_10_23_42.png" alt="http://s16.postimg.org/dfu4q70b9/Screenshot_from_2016_04_07_10_23_42.png" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318522">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						7 Apr 2016, 13:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi Xotic750. Your device should allow to enter into CFE failsafe mode by pressing the reset button while powering up the device, then you should be able to access to <a href="http://192.168.1.1">http://192.168.1.1</a>. This way you can install new firmwares (openwrt or from the manufacturer).</p><p>If you want to add support to this router, the first thing you can do is to connect the serial console, this way it&#039;s more easy to debug possible problems. With the serial console you could also make a backup of the flash chip with cfetool.</p><p>Adding support for this router should be easy, the hardest part is the external switch. By trial and error you can guess the right configuration for the switch once you got Openwrt installed.</p><p>Probably the people who started hacking this device lost interest, or bricked the device, and no more progress was done.</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318524">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 14:03					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. I hold the reset button while powering up but it doesn&#039;t enter CFE failsafe, it just boots into the TELE2 software. I&#039;m wondering if they have made some change so that the CFE isn&#039;t available? On the GUI there is no firmware upgrade selection but I can get to one using</p><p><a href="http://192.168.0.1/UPG_upgrade.htm">http://192.168.0.1/UPG_upgrade.htm</a></p><p><span class="postimg"><img src="http://s16.postimg.org/ovvjenknp/Screenshot_from_2016_04_07_12_59_56.png" alt="http://s16.postimg.org/ovvjenknp/Screenshot_from_2016_04_07_12_59_56.png" /></span></p><p>I don&#039;t have a soldering iron at present so can&#039;t attach a serial.</p><p>I have been unable to find a stock Netgear firmware for it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318525">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						7 Apr 2016, 14:22					</div>
				</div>
				<div class="post-content content">
					<p>You can extract the firmware from the flash backup (again the serial console would help). Or you can build a firmware your own using the sourcecode you mentioned.</p><p>The CFE bootloader is there for sure. Looks like Netgear make some modifications like disabling the web server for flashing, (this also happened in my DGND3700v1).</p><p>Then probably 2 firmwares should be produced. <br />- Factory firmware: for the first flashing over the OEM firmware. Probably with chk format used by Netgear<br />- Sysupgrade firmware: a regular firmware that can be flashed using any CFE bootloader or OpenWrt itself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318571">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>I get quite a long way with building the image with the latest netgear sources, but it fails.</p><div class="codebox"><pre><code>make  install-exec-hook
make[5]: Entering directory &#039;/home/graham/Downloads/EVG2000_v2.2.0.12_with_toolchain_src/EVG2000-TELE2-V2.2.1.64_src_full/EVG2000-TELE2/userspace/bcm963xx_ap/gpl/ntfs-3g-2009.3.8/libntfs-3g&#039;
test -z &quot;/lib&quot; || mkdir -p -- &quot;/lib&quot;
if [ ! &quot;/lib&quot; -ef &quot;/usr/local/lib&quot; ]; then \
    /usr/bin/mv -f &quot;//usr/local/lib&quot;/libntfs-3g.so* &quot;//lib&quot;;  \
fi
/usr/bin/mv: cannot stat ‘//usr/local/lib/libntfs-3g.so*’: No such file or directory
Makefile:792: recipe for target &#039;install-exec-hook&#039; failed
make[5]: *** [install-exec-hook] Error 1
make[5]: Leaving directory &#039;/home/graham/Downloads/EVG2000_v2.2.0.12_with_toolchain_src/EVG2000-TELE2-V2.2.1.64_src_full/EVG2000-TELE2/userspace/bcm963xx_ap/gpl/ntfs-3g-2009.3.8/libntfs-3g&#039;
Makefile:741: recipe for target &#039;install-exec-am&#039; failed
make[4]: *** [install-exec-am] Error 2
make[4]: Leaving directory &#039;/home/graham/Downloads/EVG2000_v2.2.0.12_with_toolchain_src/EVG2000-TELE2-V2.2.1.64_src_full/EVG2000-TELE2/userspace/bcm963xx_ap/gpl/ntfs-3g-2009.3.8/libntfs-3g&#039;
Makefile:697: recipe for target &#039;install-am&#039; failed
make[3]: *** [install-am] Error 2
make[3]: Leaving directory &#039;/home/graham/Downloads/EVG2000_v2.2.0.12_with_toolchain_src/EVG2000-TELE2-V2.2.1.64_src_full/EVG2000-TELE2/userspace/bcm963xx_ap/gpl/ntfs-3g-2009.3.8/libntfs-3g&#039;
Makefile:340: recipe for target &#039;install-recursive&#039; failed
make[2]: *** [install-recursive] Error 1
make[2]: Leaving directory &#039;/home/graham/Downloads/EVG2000_v2.2.0.12_with_toolchain_src/EVG2000-TELE2-V2.2.1.64_src_full/EVG2000-TELE2/userspace/bcm963xx_ap/gpl/ntfs-3g-2009.3.8&#039;
Makefile:63: recipe for target &#039;install&#039; failed
make[1]: *** [install] Error 1
make[1]: Leaving directory &#039;/home/graham/Downloads/EVG2000_v2.2.0.12_with_toolchain_src/EVG2000-TELE2-V2.2.1.64_src_full/EVG2000-TELE2/userspace/bcm963xx_ap/gpl&#039;
Makefile:137: recipe for target &#039;gpl&#039; failed
make: *** [gpl] Error 2</code></pre></div><p>Though what I&#039;m really after is OpenWRT. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318599">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 23:02					</div>
				</div>
				<div class="post-content content">
					<p>Just opened the case and can confirm a few chip numbers:</p><p>Wireless&nbsp; &nbsp;<a href="https://www.broadcom.com/products/wireless-connectivity/wireless-lan/bcm4322">BCM4322LKF86</a><br />Ethernet&nbsp; &nbsp;<a href="https://www.broadcom.com/collateral/pb/53115-PB01-R.pdf">BCM53115SKF86</a><br />Flash-Chip <a href="http://www.mxic.co.jp/datasheet/MX29GL128E,%203V%20(VI-O),%20128Mb,%20v1.5.pdf">MX29GL128ELT2I-90G</a><br />RAM-Chip 2 x Nanya NT5DS8M16CS-5T</p><p>Photos look the same as the boards that I have.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318601">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 23:21					</div>
				</div>
				<div class="post-content content">
					<p>In the wiki, the board ID is 96369PVG</p><p>But in the original source code, it says that the board ID is 96368VVW</p><p>But neither of those IDs are in the Target Profile selector of menuconfig from the trunk?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318604">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						7 Apr 2016, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>There is no support for your router in OpenWrt, and having the same board ID in another supported router means nothing, it could brick yours.</p><p>You really should attach the serial console before testing any firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318606">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						7 Apr 2016, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>I wasn&#039;t intending to flash one until I know as much as possible, and have a serial cable in place. If I can manage to see the pins and hold my hand still enough to tag them on (had a stroke so I&#039;m not the best at that type of thing these days). <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Wrt to the CFE reset, I did a little more testing with that, I set a fixed IP on my network card, 192.168.1.2, and set a ping going ro 192.168.1.1. I found that I only get a response in the first 3 seconds and then it boots the flash. This is different to any other Netgear that I have tried, they have all flashed the power LED and sat there in CFE. So, why is this one different, is this normal on any other Netgear? (Apparently not unusual <a href="https://wiki.openwrt.org/doc/techref/bootloader/cfe)">https://wiki.openwrt.org/doc/techref/bootloader/cfe)</a></p><p>It would be really good to get this working, as there are a large number of these routers in Sweden (Austraila and Asia too so I believe), and many are now finding their way into the trash.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 8 Apr 2016, 00:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318687">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						8 Apr 2016, 14:04					</div>
				</div>
				<div class="post-content content">
					<p>I have now sourced a USB-RS232 adaptor for my PC. <a href="https://wiki.openwrt.org/doc/hardware/port.serial.cables#pl2303_cables">Prolific Technology, Inc. PL2303 Serial Port</a></p><p><span class="postimg"><img src="http://s28.postimg.org/ju652tecd/elecom.jpg" alt="http://s28.postimg.org/ju652tecd/elecom.jpg" /></span></p><p>Seems to be functioning happily with Linux. Now I just need to get a soldering iron and do the dirty. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318688">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						8 Apr 2016, 14:23					</div>
				</div>
				<div class="post-content content">
					<p>Not sure, but I would say that adapter isn&#039;t compatible with the UART 3.3V TTL serial port at the router. Probably inside the adapter there are extra components soldered to the PL2303 for shifting the voltage levels.</p><p>Opening the adapater and soldering TX and RX directly to the PL2303 pins should solve this issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318701">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						8 Apr 2016, 15:06					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve opened the adapter, I don&#039;t understand the description in the wiki about 3pin and 4pin type? Do you mean that VCC would be the problem (I thought not used?) or you mean the actual signal values on TX and RX? The chip is <a href="http://www.stkaiser.de/anleitung/files/PL2303.pdf">PL-2303HX (I think)</a>. I need to confirm otherwise I will have to source another, there isn&#039;t a chance that I can solder directly to the chip pins, I can hardly see them <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. I have a multimeter available if there is some kind of test that can be performed?</p><p><span class="postimg"><img src="http://s14.postimg.org/54knser81/IMG_20160408_135745.jpg" alt="http://s14.postimg.org/54knser81/IMG_20160408_135745.jpg" /></span></p><p><span class="postimg"><img src="http://s28.postimg.org/yfqrvd2hp/IMG_20160408_135723.jpg" alt="http://s28.postimg.org/yfqrvd2hp/IMG_20160408_135723.jpg" /></span></p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 8 Apr 2016, 15:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318703">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						8 Apr 2016, 15:18					</div>
				</div>
				<div class="post-content content">
					<p>VCC is never used, so that&#039;s not the problem. The problem is with TX and RX, as you can see there is another chip apart from the PL2303, probably is a level shifter which translates TX and RX to different voltage levels making it incompatible with the UART port at the router. </p><p>If you aren&#039;t able to hack the adapter then you better should get another adapter like the popular CP2102. Old data cables from mobile phones may also work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318706">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						8 Apr 2016, 15:28					</div>
				</div>
				<div class="post-content content">
					<p>Well that&#039;s a damn shame, this one didn&#039;t cost me anything. I also have an old laptop that has a built in serial port, but I would assume that this would have the same problem? (<a href="https://wiki.openwrt.org/doc/hardware/port.serial.cables#serial_pc_-_serial_router">Reading further the answer would be yes</a>)</p><p>A search for a <a href="https://wiki.openwrt.org/doc/hardware/port.serial.cables#usb_to_rs232_ttl_converter_module">CP2102 module</a> available locally in Sweden has turned up zero. Had a look through the trash and was unable to find any old mobile cables (probably all been disposed of years ago <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> ). So back to searching for a suitable one, otherwise I guess I will have to order one from Amazon or Ebay.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 8 Apr 2016, 16:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318720">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						8 Apr 2016, 16:56					</div>
				</div>
				<div class="post-content content">
					<p>I found this adapter, they ship free to Sweden without having to pay $40 odd dollars like many on Ebay and Amazon. Being pl2303 I guess that it should work with Linux, like my original cable above. Does this look like the correct type?</p><p><a href="http://www.miniinthebox.com/pl2303-usb-to-rs232-ttl-converter-adapter-module_p1113802.html?currency=SEK&amp;litb_from=paid_adwords_shopping&amp;utm_source=google_shopping&amp;utm_medium=cpc&amp;adword_mt=&amp;adword_ct=104789749561&amp;adword_kw=&amp;adword_pos=1o1&amp;adword_pl=&amp;adword_net=g&amp;adword_tar=&amp;adw_src_id=1364803665_328603441_24197850721_pla-150166150162&amp;gclid=Cj0KEQjwrZ24BRC098fr-OqnuMkBEiQAKQ9lgBmhHhaEK47n0ktjtKMetoQE-lcPgONBIMzCTE4vRxwaAmrv8P8HAQ#">http://www.miniinthebox.com/pl2303-usb- … mrv8P8HAQ#</a></p><p>PL2303 USB To RS232 TTL Converter Adapter Module</p><p>Key Features<br />Application:</p><p>1, All kinds of satellites set-top box upgrade</p><p>2, Router,HDD,ADSL,broad band modem firmware upgrade or cracked upgrade</p><p>3,cellphone,XBOX360,GPS serial communication,vehicle inspection and test,DVD flash and so on</p><p>4,Burn write STC MCU,NXP MCU,renesas MCU,NEC MCU and so on</p><p>5, Simple UART communication,commonly used UART debugging tools in supper terminal</p><p>6, USB signal transferred to TTL signal,may be used by electronic enthusiasts</p><p>Features:</p><p>1, Adopt imported controller PL2303HX,which can stabilize the flash with high speed</p><p>2,500mA self recovery fuse for protection</p><p>3,Two data transmission indicator can monitor data transfer status in real time</p><p>4, Reserve 3.3V and 5V pin interface,easy for the DDWRT of different voltage system that need power</p><p>5, The entire board is coated by high quality transparent heat-shrinkable sleeve,making the PCB in insulation state from outside,<br />so that the board won&#039;t burnt down by material short cut.</p><p>6, Electrostatic package,insures the board will not be damaged before use</p><p>7,Support WIN7 system ,not support WIN8!</p><br /><br /><p>Alternatively they have this one, and use it with my current USB to RS232 cable (which is definitely working on my Linux install)</p><p><a href="http://www.miniinthebox.com/max3232-rs232-serial-port-to-ttl-converter-module-db9-connector_p903398.html?pos=ultimately_buy_10&amp;prm=2.3.5.0">http://www.miniinthebox.com/max3232-rs2 … rm=2.3.5.0</a></p><p>MAX3232 RS232 Serial Port To TTL Converter Module DB9 Connector</p><p>China model MAX3232CSE <br />Voltage: 3V to 5V <br />Maximum baud: 150kbps, not recommended higher value <br />Support for USB power and external power, with power, receive, three indicator light <br />Manual welding SMT production <br />Size: 31mm * 22mm (the dimensions do not include seat DB9)</p><br /><p>Anyway, thoughts are welcome.</p><p>(I also found this <a href="http://www.miniinthebox.com/the-new-pl2303-ta-download-cable-usb-to-ttl-rs232-module-upgrade-module-usb-to-serial-download-cable_p3206334.html?currency=SEK&amp;litb_from=paid_adwords_shopping&amp;utm_source=google_shopping&amp;utm_medium=cpc&amp;adword_mt=&amp;adword_ct=73333330842&amp;adword_kw=&amp;adword_pos=1o1&amp;adword_pl=&amp;adword_net=g&amp;adword_tar=&amp;adw_src_id=4196617767_313342602_22461532602_pla-89153321234&amp;gclid=Cj0KEQjwrZ24BRC098fr-OqnuMkBEiQAKQ9lgLhUh9ldiOvWmVOemg1ORm3VtEk2afQP3XVLELrh55MaAliZ8P8HAQ">Adafruit</a> cable, which is PL2303)</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 9 Apr 2016, 03:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318727">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						8 Apr 2016, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>I have one like that PL2303 based module and it works OK. In some rare occasions some people reported they had problems with the PL2303 adapter. Might be more reliable the CP2102 based one. </p><p>I have the PL2303 and the CP2102 based modules, and they both work quite fine for me.</p><p>Regards.</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 8 Apr 2016, 17:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318728">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						8 Apr 2016, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ll keep looking and see if I can find a a CP2102 (without costing the earth in shipping), otherwise I guess I will choose from one of those 2 posted. Thanks.</p><p>(<a href="http://www.clasohlson.com/se/L%C3%B6dpenna-Weller/Pr408938000?userSelection=B2C&amp;rememberCookie=false#moreinfo">Soldering iron fixed</a>)</p><p>(Cable and pins ordered, <a href="http://www.miniinthebox.com/pl2303hx-converter-usb-to-ttl-usb-to-com-cable-module-black-1m_p421817.html?pos=ultimately_buy_3&amp;prm=2.3.5.0">trying this one</a>)</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 16 Apr 2016, 12:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319967">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						16 Apr 2016, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>So, I will have my cables and pin headers within about 20 days, then get them soldered in and working. Once that is completed I am wondering what my next steps will be, I can start doing some reading and stuff. </p><p>As noted, I will need to create a backup of the original firmware. </p><p>Then would I be working with the trunk code or with the CC 15.0.51 release? </p><p>The <a href="https://wiki.openwrt.org/toh/netgear/dgnd3700">DGND3700</a> hardware is very similar in some respects, but the board ID is different 96368MVWG rather than 96369PV, and the onboard chip is <a href="https://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm63xx">BCM6368 rather than a BCM6369</a>, but these chips are very similar from what I have understood. </p><p><a href="https://wiki.openwrt.org/doc/techref/brcm63xx.imagetag">Broadcom Imagetag</a></p><p>They both use BCM53115 for their ethernet switch, but the WIFI is BCM43222 rather than BCM4322 as on the EVG, but I believe there is support for this chip in the b43 driver.</p><p><a href="http://pastebin.com/u/dgnd3700v1">I found some pastebins of someone that was trying to get OpenWRT on the EVG2000.</a></p><p><a href="http://www.richud.com/wiki/DGND3700_V1_Rebuild_Firmware_Toolchain">I also found some instructios from someone that was rebuilding the stock firmware for the DNGD3700, which uses the same toolchain as the EVG2000.</a></p><p><a href="http://www.richud.com/wiki/DGND3700_V1_CFE_Boot_Loader_TFTP_De-Brick">Also some instructions about de-bricking the DNGD3700, which had some useful tips regarding fitting the headers pins.</a></p><p>The USB seems to be similar in the 2 devices, and guess that it could be made to work (USB would be a plus)</p><p>As far as the 2 x telephone (SIP) ports, I am not at all interested in&nbsp; having those working.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319979">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						16 Apr 2016, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>For the official support only patches based on latest trunk revisions are accepted. </p><p>The DGND3700v1 and WAP-5813n are very similar hardware to yours, but their firmwares aren&#039;t compatible with yours, because they have different flash chip sizes, or different partitions that you need to define to keep them untouched before flashing the device.</p><p>But the main differecence might be the ethernet switch. Spite they have the same BCM53115 Gb switch, it seems they are connected in a different way. From the tele2 source code I found this <br /></p><div class="codebox"><pre><code>    {{BP_ENET_EXTERNAL_SWITCH,              /* ucPhyType */
      0x0,                                  /* ucPhyAddress */
      BP_NOT_DEFINED,                       /* usGpioPhyReset */
      BP_NOT_DEFINED,                       /* usGpioPhyLinkSpeed */
      BP_ENET_CONFIG_MDIO_PSEUDO_PHY,       /* usConfigType */
      BP_ENET_RGMII2,                        /* usReverseMii */
      {0x5f, {0x00, 0x01, 0x02, 0x03, 0x18, 0x00, 0x00, 0x00}}},  /* sw */
     {BP_ENET_NO_PHY}},                     /* ucPhyType */</code></pre></div><p>meaning the switch is configured via MDIO, not SPI like in the DGND3700. I&#039;m not sure if the switch is magically autodetected when configured via MDIO, it should because with older SoCs it does.</p><p>For generating the CHK factory firmware, I guess this board ID should be used (found in the tele2 source code):<br /></p><div class="codebox"><pre><code>U12H154T90_NETGEAR</code></pre></div><p>As an example you could take the the DGND3700 patches<br /><a href="https://dev.openwrt.org/changeset/44831">https://dev.openwrt.org/changeset/44831</a><br />To see where you need to add the code for supporting the board. Those patches were previous to CC release, so there were some variations, with different code in actual revisions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320006">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						16 Apr 2016, 20:37					</div>
				</div>
				<div class="post-content content">
					<p>Some of what you just said is like being thrown into a deep lake and being told to swim, when you don&#039;t even know what the words lake and swim mean, though I will give it my best shot to try. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>At the moment my plan is:</p><p>1. Create a github fork/mirror, but where from, there are 2 possibles? <a href="https://github.com/search?utf8=%E2%9C%93&amp;q=openwrt">https://github.com/search?utf8=%E2%9C%93&amp;q=openwrt</a>. Or perhaps direct from? <a href="git://git.openwrt.org/openwrt.git">git://git.openwrt.org/openwrt.git</a></p><p>2. I have a laptop (from the trash, 4Gb:dual 64bit intel:300Gb HDD <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> ) that I can set up on my current internet router (home), running Ubuntu 14.04.4 LTS at present but I could install whatever Linux OS is needed, where I can provide remote access to a working environment and connect the EVG2000 console to its USB and a LAN port to the home DMZ. (I need to set up some kind of DMZ with the home switch ports, another post may be coming if I can&#039;t figure it out myself (<a href="https://wiki.openwrt.org/toh/netgear/wnr1000">WNR1000v2</a> with 15.05.1) <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> )</p><p>That should keep me busy for a few days. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>What else may be required, other than the interest of developers that may be kind enough to help?</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 16 Apr 2016, 22:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320031">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						16 Apr 2016, 22:34					</div>
				</div>
				<div class="post-content content">
					<p>I created a github fork at <a href="https://github.com/Xotic750/openwrt">https://github.com/Xotic750/openwrt</a> from <a href="https://github.com/openwrt-mirror/openwrt,">https://github.com/openwrt-mirror/openwrt,</a> and created a new branch &#039;evg2000&#039;. Now I will make sure that I have everything available for building on the Ubuntu laptop.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320143">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						17 Apr 2016, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>Laptop is now fully installed with Ubuntu 14.04.1 and all the tools necessary to build OpenWRT. Cloned the trunk and built a test build and all compiles fine, so it should be ready for building images for the EVG2000 once configured and patched correctly.</p><p>I also installed virtualbox on it, and created a VM for Ubuntu 8.04.1, a version of OS that has been known to build factory images successfully. Followed the instructions at <a href="http://www.richud.com/wiki/DGND3700_V1_Rebuild_Firmware_Toolchain">http://www.richud.com/wiki/DGND3700_V1_ … _Toolchain</a>, downloaded the prebuilt toolchain with fixes and installed in <em>/opt/toolchains/</em>, grabbed the source code for v2.2.0.12 that the toolchain was originally released with. Ran <em>make PROFILE=TELE2</em> and it got much further than when I had previously tried with Fedora 22.</p><div class="codebox"><pre><code>make[1]: Entering directory `/home/graham/EVG2000-TELE2/hostTools/libcreduction&#039;
Optimizing C run-time library...
if [ &quot;uclibc&quot; = &quot;uclibc&quot; ]; then \
        python ./mklibs.py -D -L /opt/toolchains/uclibc-crosstools-gcc-4.2.3-3/lib -L /opt/toolchains/uclibc-crosstools-gcc-4.2.3-3/usr/lib -L /opt/toolchains/uclibc-crosstools-gcc-4.2.3-3/usr/mips-linux-uclibc/lib -L /home/graham/EVG2000-TELE2/targets/TELE2/fs.install/lib/public -L/home/graham/EVG2000-TELE2/targets/TELE2/fs.install/lib/private -L /home/graham/EVG2000-TELE2/targets/TELE2/fs.install/lib  -L/home/graham/EVG2000-TELE2/targets/TELE2/fs.install/usr/lib --target=/opt/toolchains/uclibc-crosstools-gcc-4.2.3-3/usr/bin/mips-linux-uclibc- --ldlib ld-uClibc.so.0 -d uclibc `find /home/graham/EVG2000-TELE2/targets/TELE2/fs.install -path /home/graham/EVG2000-TELE2/targets/TELE2/fs.install/lib -prune -o -type f -print | file -f - | grep ELF | cut -d&#039;:&#039; -f1`; \
    fi
I: Using ld-uClibc.so.0 as dynamic linker.
warning: /home/graham/EVG2000-TELE2/targets/TELE2/fs.install/bin/pppd may need rpath, but --root not specified
I: library reduction pass 1
425 symbols, 420 unresolved
I: library reduction pass 2
502 symbols, 36 unresolved
I: library reduction pass 3
505 symbols, 15 unresolved
I: library reduction pass 4
500 symbols, 9 unresolved
I: library reduction pass 5
500 symbols, 9 unresolved
I: stripping and copying dynamic linker.
# Do not use optimized version of libdl and dynamic linker (also libdl has different file names in new and old toolchain)
make[1]: Leaving directory `/home/graham/EVG2000-TELE2/hostTools/libcreduction&#039;
cd /home/graham/EVG2000-TELE2/targets; \
    /home/graham/EVG2000-TELE2/hostTools/fakeroot/fakeroot ./buildFS
fakeroot: preload library not found, aborting.
make: *** [buildimage] Error 1</code></pre></div><p>I know I don&#039;t need to build the factory image but it would be good to know that it works. Not sure what is missing or is wrong. I have seen a post where someone had a similar issue when building the code for a Netgear VVG2000</p><div class="quotebox"><blockquote><p>I solved it by installing Ubuntu&#039;s own fakeroot and linking it to the build folder:</p><p>cd &lt;sources folder=&quot;&quot;&gt;<br />sudo apt-get install fakeroot<br />mv hostTools/fakeroot/fakeroot hostTools/fakeroot/fakeroot.bak<br />ln /usr/bin/fakeroot hostTools/fakeroot/fakeroot</p><p>and the building the image once again.</p></blockquote></div><p>Not sure if this is the correct thing to do, or what are the consequences, but it now builds?</p><div class="codebox"><pre><code>/home/graham/EVG2000-TELE2/hostTools/lzmacmd e vmlinux.bin vmlinux.bin.lzma -d22 -lp2 -lc1

LZMA 4.43 Copyright (c) 1999-2006 Igor Pavlov  2006-06-04
Before compression: 2593292  After compression (level=2): 848204
Percent Compression = 67.29
bcmImageBuilder
    File tag size                 : 256
    Root filesystem image size    : 5345280
    Kernel image size             : 848216
    Combined image file size      : 6193752

bcmImageBuilder
    CFE image size                : 56408
    File tag size                 : 256
    Root filesystem image size    : 5345280
    Kernel image size             : 848216
    Combined image file size      : 6250160

createimg: Creating image with the following inputs:
    Board id                : 96368VVW
    Number of Mac Addresses : 11
    Base Mac Address:       : 02:10:18:01:00:01
    Main Thread Number:     : 0
    PSI Size:               : 24
    Input File Name         : bcmTELE2_cfe_fs_kernel
    Output File Name        : bcmTELE2_flash_image_96368VVW

    Image components offsets
    cfe offset              : 0xbfc00000    -- Length: 56408
    file tag offset         : 0xbfc20000    -- Length: 256
    rootfs offset           : 0xbfc20100    -- Length: 5345280
    kernel offset           : 0xc0139100    -- Length: 848216

    The size of the entire flash image is 6390360 bytes.
    A 8 MB or greater flash part is needed.

    The flash space remaining for a 2 MB flash part: -4293208 bytes.
    The flash space remaining for a 4 MB flash part: -2196056 bytes.

    bcmTELE2_flash_image_96368VVW flash image file is
    successfully created.

addvtoken: Output file size = 6390380 with image crc = 0xff1c5065
cd /home/graham/EVG2000-TELE2/targets/TELE2 &amp;&amp; touch rootfs &amp;&amp; \
    /home/graham/EVG2000-TELE2/hostTools/packet -k bcmTELE2_fs_kernel -f rootfs -b compatible.txt -oall kernel_rootfs_image \
            -i ../../userspace/project/acos/include/ambitCfg.h &amp;&amp; \
    rm -f rootfs _*.chk &amp;&amp; \
    cp kernel_rootfs_image.chk EVG2000_`date +%m%d%H%M`.chk
regionIndex = 0x1

-e Done! Image TELE2 has been built in /home/graham/EVG2000-TELE2/images.</code></pre></div><p>As I said previously, I am hoping to put this laptop online and connect it serially to the EVG2000 so that if anyone can help with setting up the OpenWRT build, then they can get access. I am intending to download all the source that I can get my hands on and create a github repo of them, so all the changes can be easily seen between the factory versions.</p><p>(github repo for EVG2000 TELE2 factory source is now at <a href="https://github.com/Xotic750/EVG2000_factory">https://github.com/Xotic750/EVG2000_factory</a>)</p><p>I have also now built the latest factory source code that I can find v2.2.1.64. I did not need to install <em>fakeroot</em> but I did have to change some permissions on some system directories and create a couple of directories.</p><div class="codebox"><pre><code>LZMA 4.43 Copyright (c) 1999-2006 Igor Pavlov  2006-06-04
Before compression: 2715552  After compression (level=2): 908286
Percent Compression = 66.55
bcmImageBuilder
    File tag size                 : 256
    Root filesystem image size    : 5427200
    Kernel image size             : 908298
    Combined image file size      : 6335754

bcmImageBuilder
    CFE image size                : 56408
    File tag size                 : 256
    Root filesystem image size    : 5427200
    Kernel image size             : 908298
    Combined image file size      : 6392162

createimg: Creating image with the following inputs:
    Board id                : 96368VVW
    Number of Mac Addresses : 11
    Base Mac Address:       : 02:10:18:01:00:01
    Main Thread Number:     : 0
    PSI Size:               : 24
    Input File Name         : bcmTELE2_cfe_fs_kernel
    Output File Name        : bcmTELE2_flash_image_96368VVW

    Image components offsets
    cfe offset              : 0xbfc00000    -- Length: 56408
    file tag offset         : 0xbfc20000    -- Length: 256
    rootfs offset           : 0xbfc20100    -- Length: 5427200
    kernel offset           : 0xc014d100    -- Length: 908298

    The size of the entire flash image is 6532362 bytes.
    A 8 MB or greater flash part is needed.

    The flash space remaining for a 2 MB flash part: -4435210 bytes.
    The flash space remaining for a 4 MB flash part: -2338058 bytes.

    bcmTELE2_flash_image_96368VVW flash image file is
    successfully created.

addvtoken: Output file size = 6532382 with image crc = 0x5ae9d403
cd /home/graham/64/EVG2000-TELE2/targets/TELE2 &amp;&amp; touch rootfs &amp;&amp; \
    /home/graham/64/EVG2000-TELE2/hostTools/packet -k bcmTELE2_fs_kernel -f rootfs -b compatible.txt -oall kernel_rootfs_image \
            -i ../../userspace/project/acos/include/ambitCfg.h &amp;&amp; \
    rm -f rootfs _*.chk &amp;&amp; \
    cp kernel_rootfs_image.chk EVG2000_`date +%m%d%H%M`.chk
regionIndex = 0x1

-e Done! Image TELE2 has been built in /home/graham/64/EVG2000-TELE2/images.</code></pre></div>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 18 Apr 2016, 04:12)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 26 to 25 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 4</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=63950&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=63950&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=63950&amp;p=4.html">4</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>