<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tp-Link td-w8970</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Mar 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 16</div><nav><ul><li><a href="viewtopic.php%3Fid=42380&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=42380&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=42380&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=16.html">16</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p277743">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">magum72</div>
					<div class="post-datetime">
						27 May 2015, 20:11					</div>
				</div>
				<div class="post-content content">
					<p>updating</p><p>via putty I managed to get in the path:<br />/ sbin / vdsl_cpe_control --console</p><p>I gave the command:<br />  DSL_CPE #&gt; locs 0 -20<br />  DSL_CPE #&gt; acs 2<br />  DSL_CPE #&gt; quit</p><p>the router loses connection for several seconds then restarts<br />but values do not change snr</p><p>where am I wrong?<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278352">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">hecatae</div>
					<div class="post-datetime">
						31 May 2015, 23:16					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@openwrt:~#   /sbin/vdsl_cpe_control --help 
DSL_CPE: Welcome to DSL CPI API control application
DSL_CPE: usage: [options]
DSL_CPE: following options are available:
DSL_CPE:  --help          (-h)    - help screen
DSL_CPE:  --version       (-v)    - display version
DSL_CPE:  --init          (-i)    - init device w/ &lt;xtu&gt; Bits seperated by underscore (e.g. -i05_01_04_00_04_01_00_00)
DSL_CPE:  --low_cfg       (-l)    - low level configuration file
DSL_CPE:  --console       (-c)    - start console
DSL_CPE:  --event_cnf     (-e)    - configure instance activation handling &lt;enable/disable&gt;[_mask] (e.g. -e1_1)
DSL_CPE:  --msg_dump      (-m)    - enable message dump
DSL_CPE:  --auto_scr_1    (-a)    - autoboot start script for ADSL (empty by default)
DSL_CPE:  --auto_scr_2    (-A)    - autoboot start script for VDSL (empty by default)
DSL_CPE:  --firmware1     (-f)    - firmware file, default /opt/ifx/firmware/xcpe_hw.bin
DSL_CPE:  --notif         (-n)    - notification script name, default ./xdslrc.sh
DSL_CPE:  --tcpmsg        (-t)    - enable dbgtool, listen only on &lt;ipaddr&gt; (optional, e.g. -t0.0.0.0)
DSL_CPE:  --multimode     (-M)    - set multimode config -M&lt;NextMode&gt;[_&lt;AdslSubPref&gt;] (e.g. -M1_1 or -M1)
DSL_CPE:  --tc-layer      (-T)    - set TC-Layer options -T&lt;TcLayer&gt;_&lt;TcConfigUs&gt;_&lt;TcConfigDs&gt; (e.g. -T2_0x3_0x1)
DSL_CPE:  --sequence      (-S)    - set activation sequence -S&lt;Sequence&gt;_&lt;Mode&gt; (e.g. -M0_0)
DSL_CPE:  --debug_drv     (-g)    - 
DSL_CPE:  --debug_app     (-G)    - </code></pre></div><p>nope, no save settings there, looks at:</p><div class="codebox"><pre><code>root@openwrt:~# /sbin/vdsl_cpe_control --console

DSL_CPE#&gt;help
   acog,          AutobootConfigOptionGet
   acos,          AutobootConfigOptionSet
   acs,           AutobootControlSet
   alf,           AutobootLoadFirmware
   asecg,         AutobootScriptExecuteConfigGet
   asecs,         AutobootScriptExecuteConfigSet
   asg,           AutobootStatusGet
   aufg,          AutobootUsedFirmwareGet
   alig,          AuxLineInventoryGet
   bbsg,          BandBorderStatusGet
   bpstg,         BandPlanSTatusGet
   bpsg,          BandPlanSupportGet
   dbgmlg,        DBG_ModuleLevelGet
   dbgmls,        DBG_ModuleLevelSet
   dmms,          DeviceMessageModifySend
   dms,           DeviceMessageSend
   esmcg,         EventStatusMaskConfigGet
   esmcs,         EventStatusMaskConfigSet
   fddg,          FilterDetectionDataGet
   fpsg,          FramingParameterStatusGet
   g997amdpfcg,   G997_AlarmMaskDataPathFailuresConfigGet
   g997amdpfcs,   G997_AlarmMaskDataPathFailuresConfigSet
   g997amlfcg,    G997_AlarmMaskLineFailuresConfigGet
   g997amlfcs,    G997_AlarmMaskLineFailuresConfigSet
   g997bang,      G997_BitAllocationNscGet
   g997bansg,     G997_BitAllocationNscShortGet
   g997cdrtcg,    G997_ChannelDataRateThresholdConfigGet
   g997cdrtcs,    G997_ChannelDataRateThresholdConfigSet
   g997csg,       G997_ChannelStatusGet
   g997dpfsg,     G997_DataPathFailuresStatusGet
   g997dfr,       G997_DeltFreeResources
   g997dhling,    G997_DeltHLINGet
   g997dhlinsg,   G997_DeltHLINScaleGet
   g997dhlogg,    G997_DeltHLOGGet
   g997dqlng,     G997_DeltQLNGet
   g997dsnrg,     G997_DeltSNRGet
   g997fpsg,      G997_FramingParameterStatusGet
   g997gang,      G997_GainAllocationNscGet
   g997gansg,     G997_GainAllocationNscShortGet
   g997lstg,      G997_LastStateTransmittedGet
   g997lacg,      G997_LineActivateConfigGet
   g997lacs,      G997_LineActivateConfigSet
   g997lfsg,      G997_LineFailureStatusGet
   g997lisg,      G997_LineInitStatusGet
   g997lig,       G997_LineInventoryGet
   g997listrg,    G997_LineInventorySTRingGet
   g997lis,       G997_LineInventorySet
   g997lsg,       G997_LineStatusGet
   g997lspbg,     G997_LineStatusPerBandGet
   g997ltsg,      G997_LineTransmissionStatusGet
   g997pmsft,     G997_PowerManagementStateForcedTrigger
   g997pmsg,      G997_PowerManagementStatusGet
   g997racg,      G997_RateAdaptationConfigGet
   g997racs,      G997_RateAdaptationConfigSet
   g997smr,       G997_SnmpMessageReceive
   g997sms,       G997_SnmpMessageSend
   g997sang,      G997_SnrAllocationNscGet
   g997sansg,     G997_SnrAllocationNscShortGet
   g997xtusecg,   G997_XTUSystemEnablingConfigGet
   g997xtusecs,   G997_XTUSystemEnablingConfigSet
   g997xtusesg,   G997_XTUSystemEnablingStatusGet
   help,          Help
   hsdg,          HybridSelectionDataGet
   ics,           InstanceControlSet
   isg,           InstanceStatusGet
   lecg,          LastExceptionCodesGet
   lfcg,          LineFeatureConfigGet
   lfcs,          LineFeatureConfigSet
   lfsg,          LineFeatureStatusGet
   locg,          LineOptionsConfigGet
   locs,          LineOptionsConfigSet
   lsg,           LineStateGet
   llsg,          LoopLengthStatusGet
   llcg,          LowLevelConfigurationGet
   llcs,          LowLevelConfigurationSet
   mlsg,          MiscLineStatusGet
   mfcg,          MultimodeFsmConfigGet
   mfcs,          MultimodeFsmConfigSet
   mfsg,          MultimodeFsmStatusGet
   nsecg,         NotificationScriptExecuteConfigGet
   nsecs,         NotificationScriptExecuteConfigSet
   pm15meet,      PM_15MinElapsedExtTrigger
   pmbms,         PM_BurninModeSet
   pmcc15mg,      PM_ChannelCounters15MinGet
   pmcc1dg,       PM_ChannelCounters1DayGet
   pmccsg,        PM_ChannelCountersShowtimeGet
   pmcctg,        PM_ChannelCountersTotalGet
   pmchs15mg,     PM_ChannelHistoryStats15MinGet
   pmchs1dg,      PM_ChannelHistoryStats1DayGet
   pmct15mg,      PM_ChannelThresholds15MinGet
   pmct15ms,      PM_ChannelThresholds15MinSet
   pmct1dg,       PM_ChannelThresholds1DayGet
   pmct1ds,       PM_ChannelThresholds1DaySet
   pmcg,          PM_ConfigGet
   pmcs,          PM_ConfigSet
   pmdpc15mg,     PM_DataPathCounters15MinGet
   pmdpc1dg,      PM_DataPathCounters1DayGet
   pmdpcsg,       PM_DataPathCountersShowtimeGet
   pmdpctg,       PM_DataPathCountersTotalGet
   pmdpfc15mg,    PM_DataPathFailureCounters15MinGet
   pmdpfc1dg,     PM_DataPathFailureCounters1DayGet
   pmdpfcsg,      PM_DataPathFailureCountersShowtimeGet
   pmdpfctg,      PM_DataPathFailureCountersTotalGet
   pmdpfhs15mg,   PM_DataPathFailureHistoryStats15MinGet
   pmdpfhs1dg,    PM_DataPathFailureHistoryStats1DayGet
   pmdphs15mg,    PM_DataPathHistoryStats15MinGet
   pmdphs1dg,     PM_DataPathHistoryStats1DayGet
   pmdpt15mg,     PM_DataPathThresholds15MinGet
   pmdpt15ms,     PM_DataPathThresholds15MinSet
   pmdpt1dg,      PM_DataPathThresholds1DayGet
   pmdpt1ds,      PM_DataPathThresholds1DaySet
   pmetr,         PM_ElapsedTimeReset
   pmlesc15mg,    PM_LineEventShowtimeCounters15MinGet
   pmlesc1dg,     PM_LineEventShowtimeCounters1DayGet
   pmlescsg,      PM_LineEventShowtimeCountersShowtimeGet
   pmlesctg,      PM_LineEventShowtimeCountersTotalGet
   pmleshs15mg,   PM_LineEventShowtimeHistoryStats15MinGet
   pmleshs1dg,    PM_LineEventShowtimeHistoryStats1DayGet
   pmlfc15mg,     PM_LineFailureCounters15MinGet
   pmlfc1dg,      PM_LineFailureCounters1DayGet
   pmlfcsg,       PM_LineFailureCountersShowtimeGet
   pmlfctg,       PM_LineFailureCountersTotalGet
   pmlfhs15mg,    PM_LineFailureHistoryStats15MinGet
   pmlfhs1dg,     PM_LineFailureHistoryStats1DayGet
   pmlic15mg,     PM_LineInitCounters15MinGet
   pmlic1dg,      PM_LineInitCounters1DayGet
   pmlicsg,       PM_LineInitCountersShowtimeGet
   pmlictg,       PM_LineInitCountersTotalGet
   pmlihs15mg,    PM_LineInitHistoryStats15MinGet
   pmlihs1dg,     PM_LineInitHistoryStats1DayGet
   pmlit15mg,     PM_LineInitThresholds15MinGet
   pmlit15ms,     PM_LineInitThresholds15MinSet
   pmlit1dg,      PM_LineInitThresholds1DayGet
   pmlit1ds,      PM_LineInitThresholds1DaySet
   pmlsc15mg,     PM_LineSecCounters15MinGet
   pmlsc1dg,      PM_LineSecCounters1DayGet
   pmlscsg,       PM_LineSecCountersShowtimeGet
   pmlsctg,       PM_LineSecCountersTotalGet
   pmlshs15mg,    PM_LineSecHistoryStats15MinGet
   pmlshs1dg,     PM_LineSecHistoryStats1DayGet
   pmlst15mg,     PM_LineSecThresholds15MinGet
   pmlst15ms,     PM_LineSecThresholds15MinSet
   pmlst1dg,      PM_LineSecThresholds1DayGet
   pmlst1ds,      PM_LineSecThresholds1DaySet
   pmrtc15mg,     PM_ReTxCounters15MinGet
   pmrtc1dg,      PM_ReTxCounters1DayGet
   pmrtcsg,       PM_ReTxCountersShowtimeGet
   pmrtctg,       PM_ReTxCountersTotalGet
   pmrths15mg,    PM_ReTxHistoryStats15MinGet
   pmrths1dg,     PM_ReTxHistoryStats1DayGet
   pmrtt15mg,     PM_ReTxThresholds15MinGet
   pmrtt15ms,     PM_ReTxThresholds15MinSet
   pmrtt1dg,      PM_ReTxThresholds1DayGet
   pmrtt1ds,      PM_ReTxThresholds1DaySet
   pmr,           PM_Reset
   pmsmg,         PM_SyncModeGet
   pmsms,         PM_SyncModeSet
   ptsg,          PilotTonesStatusGet
   quit,          Quit
   rccg,          RebootCriteriaConfigGet
   rccs,          RebootCriteriaConfigSet
   rusg,          ResourceUsageStatisticsGet
   se,            ScriptExecute
   sicg,          SystemInterfaceConfigGet
   sics,          SystemInterfaceConfigSet
   sisg,          SystemInterfaceStatusGet
   tmcs,          TestModeControlSet
   tmsg,          TestModeStatusGet
   vig,           VersionInformationGet</code></pre></div><p>working through one by one, the snr commands above with g997 look the most promising</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278523">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">magum72</div>
					<div class="post-datetime">
						2 Jun 2015, 01:47					</div>
				</div>
				<div class="post-content content">
					<p>Please you can not make a step by step guide?<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278691">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">joseba_g</div>
					<div class="post-datetime">
						3 Jun 2015, 05:51					</div>
				</div>
				<div class="post-content content">
					<p>take a look:<br /><a href="http://hwupgrade.it/forum/showpost.php?p=40709658&amp;postcount=4193%29:">http://hwupgrade.it/forum/showpost.php? … t=4193%29:</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279332">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">yousdo</div>
					<div class="post-datetime">
						8 Jun 2015, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>I understud so: If I buy a w8970 with a original firmware version newer 28.08.2013 I can install openwrt by serial port without problem but only by serial port. Is it so or not? <br />I found a device with this version:</p><p>TD-W8970B(DE)v1_0.6.0_2.9_up_boot(140722)_2014-07-22_11.04.53</p><p>I&#039; ve no problem with solder tools etc. Buy or not to buy? This is the question.</p>											<p class="post-edited">(Last edited by <strong>yousdo</strong> on 8 Jun 2015, 22:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279334">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						8 Jun 2015, 22:55					</div>
				</div>
				<div class="post-content content">
					<p>no problem with serial, problems with tp-link web gui with ANY version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279361">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">asc</div>
					<div class="post-datetime">
						9 Jun 2015, 03:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yousdo wrote:</cite><blockquote><p>I understud so: If I buy a w8970 with a original firmware version newer 28.08.2013 I can install openwrt by serial port without problem but only by serial port. Is it so or not? <br />I found a device with this version:</p><p>TD-W8970B(DE)v1_0.6.0_2.9_up_boot(140722)_2014-07-22_11.04.53</p><p>I&#039; ve no problem with solder tools etc. Buy or not to buy? This is the question.</p></blockquote></div><p>It&#039;s a &quot;strong buy&quot;. 8) </p><p>Are there other &quot;all in one&quot; routers (xDSL, WLAN, GBit) running OperWRT? Alternatives?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279396">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">joseba_g</div>
					<div class="post-datetime">
						9 Jun 2015, 11:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>asc wrote:</cite><blockquote><p>It&#039;s a &quot;strong buy&quot;. 8) </p><p>Are there other &quot;all in one&quot; routers (xDSL, WLAN, GBit) running OperWRT? Alternatives?</p></blockquote></div><p>I like this device and openwrt works well, but with similar hardware there are other options, <br /><a href="http://wiki.openwrt.org/tag/vr9?do=showtag&amp;tag=VR9/">VR9 lantiq SoC</a>&nbsp; </p><p>In the tplink page i see two firmwares for two diferent versions of TD-W8970, (v1 and v3) this kind of versioning may change internal layout, is not rare. I dont have information about last versión.</p><p>i recently debrick my router:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=279395">https://forum.openwrt.org/viewtopic.php?pid=279395</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279993">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">fasgamboa</div>
					<div class="post-datetime">
						14 Jun 2015, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi there!<br />I have a TD-W8970 Ver:1.2<br />After updating it TD-W8970v1_0.6.0_2.12_up_boot(140613)_2014-06-13_09.17.23 , it does no blinks any other light then the conected lan cable. Also, the computer does no recieves packages. Neither PING or 192.168.1.1 works.<br />Any ideia how to restore?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280706">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">yousdo</div>
					<div class="post-datetime">
						19 Jun 2015, 19:49					</div>
				</div>
				<div class="post-content content">
					<p>I just installed openwrt on my new w8970. I used the barrier breaker 14.07 version here <a href="https://downloads.openwrt.org/barrier_breaker/14.07/lantiq/xrx200/openwrt-lantiq-xrx200-TDW8970-sysupgrade.image">https://downloads.openwrt.org/barrier_b … rade.image</a><br />But I&#039;ve trouble to find vdsl.bin file.<br />Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280795">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">Wingman2k</div>
					<div class="post-datetime">
						20 Jun 2015, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>@fasgamboa not sure what happen during the upgrade, but you flashed official FW? so its a problem with your device, there are two options, if you are on warranty or something send it back. if not get the serial up and running and see if it goes into boot loader or stops working earlier it is much easier to restore your device (of course expecting no HW issue), procedure is the same as in flash or restore FW on the WIKI <a href="http://wiki.openwrt.org/toh/tp-link/td-w8970">http://wiki.openwrt.org/toh/tp-link/td-w8970</a></p><p>@yousdo read!!! (wont sound offensive) but it is written in the WIKI, if you used this already, then I have to say sorry and the solution is download the file to /tmp, you still need to change MD5_FW line in the script. download fails because telekom does not allow http connections or redirects to https an manual download is required.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281134">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">yousdo</div>
					<div class="post-datetime">
						23 Jun 2015, 20:05					</div>
				</div>
				<div class="post-content content">
					<p>After a lot of battle I take this:</p><p>Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lantiq-VRx Unknown<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 68.480 Mb/s / 12.928 Mb/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;25.7dB / 0.0dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.1dB / 9.8dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 21s</p><p>YES!<br />But now I don&#039;t know how to get IP (v4) from my provider Vodafone Deutschland.<br />Has somebody experience with this provider?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281137">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">yousdo</div>
					<div class="post-datetime">
						23 Jun 2015, 21:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yousdo wrote:</cite><blockquote><p>After a lot of battle I take this:</p><p>Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lantiq-VRx Unknown<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 68.480 Mb/s / 12.928 Mb/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;25.7dB / 0.0dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.1dB / 9.8dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 21s</p><p>YES!<br />But now I don&#039;t know how to get IP (v4) from my provider Vodafone Deutschland.<br />Has somebody experience with this provider?</p></blockquote></div><p>I found the solution. In /etc/config/network wan interface must set the ifname option to ptm0.132</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281492">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">khallyxtro</div>
					<div class="post-datetime">
						26 Jun 2015, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>Greetings everyone!</p><p>&nbsp; I have a modem TP-Link TD-W8970 during a firmware update he presented a problem and can no longer access it by LAN port, only the J7 via RS232 adapter with an integrated MAX3232, when I turn the modem appear the following information:</p><p>▒▒▒▒▒▒<br />ROM VER: 1.1.4<br />CFG 05</p><p>ROM VER: 1.1.4<br />CFG 05</p><p>DDR autotuning Rev 0.3ff<br />DDR size from 0xa0000000 - 0xa3ffffff<br />DDR check ok... start booting...</p><br /><br /><p>U-Boot 2010.06-LANTIQ-v-2.0.40-svn4806 (Jun 12 2014 - 10:34:17)</p><p>CLOCK CPU 500M RAM 250M<br />DRAM:&nbsp; 64 MiB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;Internal phy(GE) firmware version: 0x8434<br />vr9 Switch8192 KiB W25Q64 at 0:3 is now current device</p><br /><p>Type &quot;run flash_nfs&quot; to mount root filesystem over NFS</p><p>Hit any key to stop autoboot:&nbsp; 0<br />8192 KiB W25Q64 at 0:3 is now current device<br />8192 KiB W25Q64 at 0:3 is now current device<br />&nbsp; &nbsp; &nbsp; &nbsp; Uncompressing ...<br />Starting kernel ...</p><p>Lantiq xDSL CPE VR9<br />mips_hpt_frequency = 250000000, counter_resolution = 2<br />Linux version 2.6.32.32 (swd@localhost.localdomain) (gcc version 4.3.3 (GCC) ) #34 Fri Jun 13 08:36:06 CST 2014<br />phym = 04000000, mem = 04000000, max_pfn = 00004000<br />Reserving memory for CP1 @0xa4000000, size 0x00000000<br />CPU revision is: 00019556 (MIPS 34Kc)<br />Determined physical RAM map:<br />User-defined physical RAM map:<br /> memory: 04000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00004000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00004000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />Kernel command line: root=/dev/mtdblock2 rw rootfstype=squashfs ip=192.168.1.1:192.168.1.2::::eth0:on console=ttyS0,115200 ethaddr=AC:9A:96:F0:28:39 phym=64M mem=64M panic=1 mtdparts=ifx_sflash:128k(boot),1280k(kernel),6528k(rootfs),64k(config),64k(romfile),64k(rom),64k(radio) init=/sbin/init ethwan=<br />PID hash table entries: 256 (order: -2, 1024 bytes)<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />Writing ErrCtl register=00030240<br />Readback ErrCtl register=00030240<br />Memory: 60632k/65536k available (2855k kernel code, 4832k reserved, 820k data, 184k init, 0k highmem)<br />Hierarchical RCU implementation.<br />NR_IRQS:185<br />Lantiq ICU driver, version 3.0.1, (c) 2001-2011 Lantiq Deutschland GmbH<br />console [ttyS0] enabled<br />Calibrating delay loop... 332.59 BogoMIPS (lpj=1662976)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />Lantiq PCIe Root Complex driver, version 1.5.3, (c) 2001-2011 Lantiq Deutschland GmbH<br />bio: create slab &lt;bio-0&gt; at 0<br />ifx_pcie_rc_class_early_fixup: fixed pcie host bridge to pci-pci bridge<br />pci 0000:00:00.0: PME# supported from D0 D3hot<br />pci 0000:00:00.0: PME# disabled<br />pci 0000:01:00.0: PME# supported from D0 D1 D3hot<br />pci 0000:01:00.0: PME# disabled<br />pci 0000:00:00.0: PCI bridge, secondary bus 0000:01<br />pci 0000:00:00.0:&nbsp; &nbsp;IO window: disabled<br />pci 0000:00:00.0:&nbsp; &nbsp;MEM window: 0x1c000000-0x1c0fffff<br />pci 0000:00:00.0:&nbsp; &nbsp;PREFETCH window: 0x1c100000-0x1c1fffff<br />NET: Registered protocol family 8<br />NET: Registered protocol family 20<br />Switching to clocksource MIPS<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 2048 (order: 2, 16384 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 2048)<br />TCP reno registered<br />NET: Registered protocol family 1<br />gptu: totally 6 16-bit timers/counters<br />gptu: misc_register on minor 63<br />gptu: succeeded to request irq 118<br />gptu: succeeded to request irq 119<br />gptu: succeeded to request irq 120<br />gptu: succeeded to request irq 121<br />gptu: succeeded to request irq 122<br />gptu: succeeded to request irq 123<br />IFX DMA driver, version ifxmips_dma_core.c:v1.0.17<br />,(c)2009 Infineon Technologies AG<br />Lantiq CGU driver, version 1.1.27, (c) 2001-2011 Lantiq Deutschland GmbH<br />vpe1_mem = 0<br />Wired TLB entries for Linux read_c0_wired() = 0<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />Registering mini_fo version $Id$<br />fuse init (API version 7.13)<br />msgmni has been set to 118<br />Line: 127, function: deu_init<br />DMA Referenced PAGE_SIZE = 4096<br />Infineon Technologies DEU driver version 2.0.0<br />IFX DEU DES initialized (multiblock) (DMA).<br />IFX DEU AES initialized (multiblock) (DMA).<br />IFX DEU ARC4 initialized (multiblock) (DMA).<br />IFX DEU SHA1 initialized (DMA).<br />IFX DEU MD5 initialized (DMA).<br />IFX DEU SHA1_HMAC initialized (DMA).<br />IFX DEU MD5_HMAC initialized (DMA).<br />io scheduler noop registered (default)<br />ifx_pmu_init: Major 252<br />Lantiq PMU driver, version 1.2.2, (c) 2001-2011 Lantiq Deutschland GmbH<br />Lantiq GPIO driver, version 1.2.14, (c) 2001-2011 Lantiq Deutschland GmbH<br />Infineon Technologies RCU driver version 1.0.8<br />Lantiq LED Controller driver, version 1.0.6, (c) 2001-2011 Lantiq Deutschland GmbH<br />MEI CPE Driver, Version 1.2.0</p><p>(c) Copyright 2009, Infineon Technologies AG</p><p>### MEI CPE - MEI CPE - MEI CPE - MEI CPE ###</p><p>ttyS0 at MMIO 0xbe100c00 (irq = 105) is a IFX_ASC<br />Register ASC (UART) to PMCU.<br />Lantiq ASC (UART) driver, version 1.0.9, (c) 2001-2011 Lantiq Deutschland GmbH<br />brd: module loaded<br />loop: module loaded<br />Lantiq SSC driver, version 2.2.6, (c) 2001-2011 Lantiq Deutschland GmbH<br />Register flash device:flash0<br />7 cmdlinepart partitions found on MTD device ifx_sflash<br />Creating 7 MTD partitions on &quot;ifx_sflash&quot;:<br />0x000000000000-0x000000020000 : &quot;boot&quot;<br />0x000000020000-0x000000160000 : &quot;kernel&quot;<br />0x000000160000-0x0000007c0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />0x0000007c0000-0x0000007d0000 : &quot;config&quot;<br />0x0000007d0000-0x0000007e0000 : &quot;romfile&quot;<br />0x0000007e0000-0x0000007f0000 : &quot;rom&quot;<br />0x0000007f0000-0x000000800000 : &quot;radio&quot;<br />Lantiq SPI flash driver, version 1.1.9, (c) 2001-2011 Lantiq Deutschland GmbH<br />ifxmips_gpio: Pin ID 10 (port 0, pin 10) has been reserved by module SFLASH from kernel module!<br />ifx_dataflash_init status error 255<br />PPP generic driver version 2.4.2<br />NET: Registered protocol family 24<br />IFX SWITCH API, Version 1.1.7.2<br />SWAPI: Registered character device [switch_api] with major no [81]<br />Switch API: PCE MicroCode loaded !!<br />Init IFX_ETHSW_Switch_API_procModule successfully.<br />Switch Auto Polling value = 0<br />GPHY FW load for A2x !!<br />GPHY FIRMWARE LOAD SUCCESSFULLY AT ADDR : 400000<br />IFX GPHY driver GE Mode, version ifxmips_vr9_gphy: V0.9 - Firmware: 8434<br />Registered led device: broadband_led<br />Registered led device: internet_led<br />Registered led device: usb1_link_led<br />Registered led device: usb2_link_led<br />Lantiq LED driver, version 1.0.17, (c) 2001-2011 Lantiq Deutschland GmbH<br />Mirror/redirect action on<br />u32 classifier<br />&nbsp; &nbsp; Actions configured<br />Netfilter messages via NETLINK v0.30.<br />nf_conntrack version 0.5.0 (948 buckets, 5120 max)<br />CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use<br />nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or<br />sysctl net.netfilter.nf_conntrack_acct=1 to enable it.<br />GRE over IPv4 tunneling driver<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP cubic registered<br />NET: Registered protocol family 10<br />ip6_tables: (C) 2000-2006 Netfilter Core Team<br />IPv6 over IPv4 tunneling driver<br />NET: Registered protocol family 17<br />NET: Registered protocol family 15<br />Bridge firewalling registered<br />Ebtables v2.0 registered<br />NET: Registered protocol family 8<br />atmpvc_init() failed with -17<br />KOAM is loaded successfully.<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />Freeing unused kernel memory: 184k freed<br />starting pid 187, tty &#039;&#039;: &#039;/etc/init.d/rcS&#039;<br />SCSI subsystem initialized<br />CPU 0 Unable to handle kernel paging request at virtual address c002cac0, epc == 80124b9c, ra == 80124b38<br />Oops[#1]:<br />Cpu 0<br />$ 0&nbsp; &nbsp;: 00000000 00000000 c002cac0 fffeb2d8<br />$ 4&nbsp; &nbsp;: 00020000 0000b2d8 fffe0000 c000ebb0<br />$ 8&nbsp; &nbsp;: 81074200 80398360 00000041 4ff92da4<br />$12&nbsp; &nbsp;: 00000000 00b49151 803e0000 5f617368<br />$16&nbsp; &nbsp;: 00000006 00000000 0000b2d7 00009d98<br />$20&nbsp; &nbsp;: c011a644 0000000a 83a5db04 c002e000<br />$24&nbsp; &nbsp;: 00000000 80022a00<br />$28&nbsp; &nbsp;: 83a5c000 83a5dad8 0000b2d8 80124b38<br />Hi&nbsp; &nbsp; : 00000000<br />Lo&nbsp; &nbsp; : e612ed00<br />epc&nbsp; &nbsp;: 80124b9c unlzma+0xf04/0x105c<br />&nbsp; &nbsp; Not tainted<br />ra&nbsp; &nbsp; : 80124b38 unlzma+0xea0/0x105c<br />Status: 1100fc03&nbsp; &nbsp; KERNEL EXL IE<br />Cause : 00800008<br />BadVA : c002cac0<br />PrId&nbsp; : 00019556 (MIPS 34Kc)<br />Modules linked in: scsi_mod<br />Process insmod (pid: 206, threadinfo=83a5c000, task=83891b18, tls=00000000)<br />Stack : 83891ca8 800267a8 8387d6c8 8387d6c8 00000006 0000001e 0000001e 6d000200<br />&nbsp; &nbsp; &nbsp; &nbsp; 00000000 000001e6 0c87d698 80123b10 c000ebb1 c000c000 c0013f08 00007f08<br />&nbsp; &nbsp; &nbsp; &nbsp; 00e7655d 25cc7fa5 25cc7fa5 00000001 00000350 00000096 00000007 00000000<br />&nbsp; &nbsp; &nbsp; &nbsp; c000c000 c011a000 00000003 00000003 00000001 c011a644 c011aa68 c011a664<br />&nbsp; &nbsp; &nbsp; &nbsp; 00000007 803888c4 83a5daf0 83a5daec 803e0000 83a09884 00000000 00000000<br />&nbsp; &nbsp; &nbsp; &nbsp; ...<br />Call Trace:<br />[&lt;80124b9c&gt;] unlzma+0xf04/0x105c<br />[&lt;800da82c&gt;] lzma_uncompress+0x180/0x320<br />[&lt;800d6860&gt;] squashfs_read_data+0x494/0x738<br />[&lt;800d71e8&gt;] squashfs_cache_get+0x1bc/0x2f0<br />[&lt;800d8220&gt;] squashfs_readpage+0x614/0x9c0<br />[&lt;80068540&gt;] __do_page_cache_readahead+0x21c/0x284<br />[&lt;800685d0&gt;] ra_submit+0x28/0x34<br />[&lt;80068bb0&gt;] page_cache_sync_readahead+0x5c/0x68<br />[&lt;80060e24&gt;] generic_file_aio_read+0x28c/0x878<br />[&lt;80086b48&gt;] do_sync_read+0xd4/0x13c<br />[&lt;80087908&gt;] sys_read+0x58/0xa0<br />[&lt;800041a4&gt;] stack_done+0x20/0x3c</p><br /><p>Code: 1440fffb&nbsp; 02651023&nbsp; 02e21021 &lt;90520000&gt; 02f31821&nbsp; 26730001&nbsp; 08049302&nbsp; a0720000&nbsp; 027e1823<br />Disabling lock debugging due to kernel taint<br />Segmentation fault</p><p>The firmware of it is original TP-Link, has not changed, but I really want to try to use it with the OpenWrt, I would like to inform that I have knowledge in electronics and computer science, but in Linux I have little experience.</p><p>It is possible to do this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281514">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">Wingman2k</div>
					<div class="post-datetime">
						27 Jun 2015, 01:33					</div>
				</div>
				<div class="post-content content">
					<p>yes just follow <a href="http://wiki.openwrt.org/toh/tp-link/td-w8970#installation_direct_to_flash">http://wiki.openwrt.org/toh/tp-link/td- … t_to_flash</a><br />you can also reflash OFW i you want, the serial port is on so you can play around.<br />but do not flash your RADIO maybe make an backup first ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281584">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">khallyxtro</div>
					<div class="post-datetime">
						27 Jun 2015, 20:15					</div>
				</div>
				<div class="post-content content">
					<p>I can only do this with Linux?<br />I have a computer that has a virtual machine with Ubuntu works as well?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281594">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">joseba_g</div>
					<div class="post-datetime">
						27 Jun 2015, 23:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>khallyxtro wrote:</cite><blockquote><p>I can only do this with Linux?<br />I have a computer that has a virtual machine with Ubuntu works as well?</p></blockquote></div><p>No, you need a serial interface (like putty) and tftpd server .</p><p>Openwrt works well on this router, Im using for more than a year without trouble.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283507">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">arpanet</div>
					<div class="post-datetime">
						14 Jul 2015, 14:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>joseba_g wrote:</cite><blockquote><div class="quotebox"><cite>stalkerwold wrote:</cite><blockquote><p>hi openwrtuserx you can explain step by step how to include the vdsl.bin firmware inside the image thanks <br />sorry for my english</p></blockquote></div><p>Easy, if you use the imagebuilder, make files folder, and put in&nbsp; desired files, for example:<br /><span style="color: blue"><br />~/src/OpenWrt-ImageBuilder-lantiq_xrx200-for-linux-x86_64/files/lib/firmware/vdsl.bin<br /></span><br />and make your image :<br /><span style="color: blue"><br />make image PROFILE=TDW8970 PACKAGES=&quot;your desired packages&quot;&nbsp; FILES=files/<br /></span><br />or, compiling with buildroot, put files folder in&nbsp; buildroot folder, and both options are well explained at wiki, <a href="http://wiki.openwrt.org/doc/howto/build">http://wiki.openwrt.org/doc/howto/build</a></p></blockquote></div><p>I successfully installed openwrt on the TD-W8970 but now<br />I&#039;m trying to install proper xDSL firmware since vdsl.bin installed is made for ANNEX B xDSLs and here in Italy does not work.</p><p>So I followed these instructions for download, extract and unsquash firmware: <a href="https://xdarklight.github.io/lantiq-xdsl-firmware-info/">https://xdarklight.github.io/lantiq-xdsl-firmware-info/</a><br />This is what I do:<br /></p><div class="codebox"><pre><code>unzip TD-W9980_V1_150507.zip
binwalk &quot;TD-W9980_V1_150507/TD-W9980v1_0.6.0_1.12_up_boot(150507)_2015-05-07_11.12.40.bin&quot; -e
unsquashfs TD-W9980_V1_150507/_TD-W9980v1_0.6.0_1.12_up_boot\(150507\)_2015-05-07_11.12.40.bin.extracted/160200.squashfs</code></pre></div><p>Now I got folder with these files:<br /></p><ul><li><p>vdsl.scr</p></li><li><p>adsl.scr</p></li><li><p>dsl_cpe_pipe.sh</p></li><li><p>dsl_wan_setting.sh</p></li><li><p>eth_wan_setting.sh</p></li><li><p>xcpe_574306_571801.bin</p></li><li><p>xdslrc.sh</p></li></ul><p>but I don&#039;t know what to do with those files.</p><p>Shoud I generate image file (bin) from those files? Using imagebuilder? if so, how can I do that?</p><p>Should I copy .bin to /lib/firmware/ and rename it to vdsl.bin?</p><p>Any help is appreciated, I&#039;m stuck!</p>											<p class="post-edited">(Last edited by <strong>arpanet</strong> on 14 Jul 2015, 14:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283673">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">asc</div>
					<div class="post-datetime">
						15 Jul 2015, 23:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arpanet wrote:</cite><blockquote><p>Now I got folder with these files:<br /></p><ul><li><p>vdsl.scr</p></li><li><p>adsl.scr</p></li><li><p>dsl_cpe_pipe.sh</p></li><li><p>dsl_wan_setting.sh</p></li><li><p>eth_wan_setting.sh</p></li><li><p>xcpe_574306_571801.bin</p></li><li><p>xdslrc.sh</p></li></ul><p>but I don&#039;t know what to do with those files.</p><p>Shoud I generate image file (bin) from those files? Using imagebuilder? if so, how can I do that?</p><p>Should I copy .bin to /lib/firmware/ and rename it to vdsl.bin?</p></blockquote></div><p>Yes, you only need the x(dsl) firmware, which is xcpe_574306_571801.bin, copy this to /lib/firmware,<br />rename it, or create a link (vdsl.bin) to it. There is no guarantee that every dsl firmware is working<br />(some work, others not).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284257">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">BlindSide</div>
					<div class="post-datetime">
						21 Jul 2015, 03:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yousdo wrote:</cite><blockquote><div class="quotebox"><cite>yousdo wrote:</cite><blockquote><p>After a lot of battle I take this:</p><p>Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lantiq-VRx Unknown<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 68.480 Mb/s / 12.928 Mb/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;25.7dB / 0.0dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.1dB / 9.8dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 21s</p><p>YES!<br />But now I don&#039;t know how to get IP (v4) from my provider Vodafone Deutschland.<br />Has somebody experience with this provider?</p></blockquote></div><p>I found the solution. In /etc/config/network wan interface must set the ifname option to ptm0.132</p></blockquote></div><p>Nice! How did you find the VDSL stuff?<br />This is all that I got:<br />root@OpenWrt:~# /etc/init.d/dsl_control lucistat<br />local dsl={}<br />dsl.chipset=&quot;Lantiq-VRx Unknown&quot;<br />dsl.line_state_num=0x200<br />dsl.line_state_detail=&quot;silent&quot;<br />dsl.line_state=&quot;DOWN&quot;<br />dsl.data_rate_down=0<br />dsl.data_rate_up=0<br />dsl.data_rate_down_s=&quot;0 b&quot;<br />dsl.data_rate_up_s=&quot;0 b&quot;<br />dsl.line_attenuation_down=0.0<br />dsl.line_attenuation_up=0.0<br />dsl.noise_margin_down=0.0<br />dsl.noise_margin_up=0.0<br />dsl.line_uptime=0<br />return dsl</p><p>I&#039;m lost here...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284399">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">BlindSide</div>
					<div class="post-datetime">
						21 Jul 2015, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve finally found the answer by reading the full thread!<br />The problem was the vdsl.bin, I got the connect after I tried the RyLoS firmware (<a href="https://github.com/ambrosa/openwrt-TPLINK8970/blob/master/extrapatch/RyLoS/dsl_vr9_firmware_xdsl-05.04.08.00.00.06_05.04.04.04.00.01.bin">https://github.com/ambrosa/openwrt-TPLI … .00.01.bin</a>)</p><p>root@OpenWrt:~# /etc/init.d/dsl_control status<br />Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lantiq-VRx Unknown<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 11.292 Mb/s / 576 Kb/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;4.9dB / 2.4dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;21.5dB / 24.3dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 34m 29s</p><p>I&#039;ll post my network configuration for futher reference for Brazilians...</p><p>root@OpenWrt:~# cat /etc/config/network<br />config interface &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;pppoe&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipv6 &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;14:cc:20:d5:54:85&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option username &#039;oi@oi.com.br&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option password &#039;oi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option _orig_ifname &#039;nas0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option _orig_bridge &#039;false&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;nas0&#039;</p><p>config vdsl &#039;dsl&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option annex &#039;a&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option firmware &#039;/lib/firmware/vdsl.bin&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option tone &#039;av&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option xfer_mode &#039;atm&#039;</p><p>Now, I need to know to write the firmware in the flash memory, can anyone help me?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284761">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">rezad1393</div>
					<div class="post-datetime">
						24 Jul 2015, 03:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>BlindSide wrote:</cite><blockquote><p>&nbsp; &nbsp; &nbsp; &nbsp; option username &#039;oi@oi.com.br&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option password &#039;oi&#039;<br />?</p></blockquote></div><p>are these your real username and password?</p><p>is so ,it is NOT a good idea to post them here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284762">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">rezad1393</div>
					<div class="post-datetime">
						24 Jul 2015, 03:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>BlindSide wrote:</cite><blockquote><p>Now, I need to know to write the firmware in the flash memory, can anyone help me?</p></blockquote></div><p>this is the script that writes the firmware to the partiiton on router.</p><p>/sbin/vdsl_fw_install.sh</p><p>if you cat this script you will see its content and I dont think it&#039;s that hard to modify it and replace the downloading bin file with your firmware and change the md5 and so on.</p><p>hope that helps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284959">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">Wingman2k</div>
					<div class="post-datetime">
						25 Jul 2015, 17:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi there I&#039;m very excited, just tried CC-RC3, FW install works not out of the box but this is because Telekom changed to ssl. <br />Update Wiki for install instructions, can somebody provide a fast install for Annex A FW to mtd4? if necessary.<br />Connection with UMTS via USB (K3765-Z) works after installing required files.<br />When booted reset button short press does REBOOT and long press do&nbsp; FACTORY RESET (did not work for me with BB).<br />No verbose messages on console &quot;ifconfig ptm0 down&quot; (or atm0) only for testing, no Connection, did not connected to DSL yet, but this should work.<br />Free size is similar to BB, hope i can give it a go tomorrow.<br />There should be a Wiki Page that lists DSL settings for different providers, if we get more devices with Modem that might be helpful for those users.</p>											<p class="post-edited">(Last edited by <strong>Wingman2k</strong> on 25 Jul 2015, 18:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290350">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">sillysausage</div>
					<div class="post-datetime">
						3 Sep 2015, 16:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>joseba_g wrote:</cite><blockquote><div class="quotebox"><cite>asc wrote:</cite><blockquote><p>It&#039;s a &quot;strong buy&quot;. 8) </p><p>Are there other &quot;all in one&quot; routers (xDSL, WLAN, GBit) running OperWRT? Alternatives?</p></blockquote></div><p>I like this device and openwrt works well, but with similar hardware there are other options, <br /><a href="http://wiki.openwrt.org/tag/vr9?do=showtag&amp;tag=VR9/">VR9 lantiq SoC</a></p></blockquote></div><p>A lot of the optons there are very hard to source outside of Europe. The TP-Link models TD-W8970, TD-W8980, TD-W9970 are all very similar and much more common in the Asian markets. AVM&#039;s products tend to be expensive, and ship with a non-free bootloader. I wouldn&#039;t want to risk bricking an expensive router. So I think this one is our best bet.</p><p>I recently purchased:</p><ul><li><p>FTDI FT232RL USB to TTL Serial Converter Adapter Module 5V /3.3V</p></li><li><p>20cm Dupont Male to Female</p></li></ul><p>This is the first modem I&#039;ve attempted to use with OpenWrt. I had a Cisco 877W which recently had a NVRAM failure, so that&#039;s why I looked to this. I didn&#039;t feel like dealing with their SmartNet bullshit just to get firmwares - which is what turned me off upgrading to a Cisco 867VAE.</p><br /><p>The stock TP-Link firmware doesn&#039;t let me graph line sync speeds, attenuation, SNR etc. I have heard I can do this with OpenWrt and expose over SNMP to a Cacti server.</p><p>Unfortunately my ISP doesn&#039;t really listen when I tell them the line sync speed has &quot;dropped&quot; because of a &quot;fault&quot; unless I can give them an exact time frame. The plan is to expose it to my Cacti server (another machine on the LAN) so I can continue logging it. That way I can &quot;prove&quot; when I&#039;m not getting &quot;regular service&quot;. (I only get 6mbit, which is considered good - so I am keen to keep all of it).</p><p>Do I need to have serial exposed to upgrade OpenWrt after the initial flash? My understanding is, yes as the bootloader (uboot) is what does the RSA check and OpenWrt doesn&#039;t distribute that.</p><p>It seems the v3 RSA headers are here to stay, newer models are going to have that. I purchased a TD-W9970 so that came with a stock image newer than 12.10.2013, so flashing OpenWrt via serial seems the only way for me. Currently I&#039;m using it with the stock firmware in bridge mode with a router I built <a href="http://wiki.alpinelinux.org/wiki/Linux_Router_with_VPN_on_a_Raspberry_Pi">Linux Router with VPN on a Raspberry Pi</a>. I would continue to use my TD-W9970 without WiFi in bridge mode, (so I don&#039;t really mind about the 5GHZ problems, in fact I&#039;ve currently got RP-SMA dust caps on instead of aerials). There&#039;s no way I could get coverage in my basement or backroom anyway so I went with individual UniFi UAP APs. 802.11ac isn&#039;t worth the money imho.</p><p>If I do need to always use serial, then it might be worth exposing that to the external side of the case. It is going to be a nuisance to have to open it up each time I&#039;m thinking of fitting the USB to TTL converter module in there somehow.</p><p>Would there be room inside for something like that? I&#039;ve not opened the case yet. Maybe I could remove the board from the plastic TP-Link case and put it in a replacement? Sure I&#039;d have to drill holes for the LEDs and make some square holes with a file, and then clean it up with the dremel. I was kind of wondering if it would fit <a href="http://www.tp-link.com/res/images/products/large/TD-W9980-04.jpg">above the WPS and Reset</a> switch?</p>											<p class="post-edited">(Last edited by <strong>sillysausage</strong> on 3 Sep 2015, 16:55)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 176 to 175 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 7 of 16</div><nav><ul><li><a href="viewtopic.php%3Fid=42380&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=42380&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=42380&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=16.html">16</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>