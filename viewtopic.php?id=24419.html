<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Dlink DIR-615 Revision E1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p107630">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						22 Apr 2010, 23:31					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone been successful with loading OpenWrt on this device?</p><p>Platform: Atheros AR7240<br />Wireless: Atheros AR9283</p><p>Bootup log via serial:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Dec 14 2009 - 15:51:34)

AP99 (ar7240 - Python) U-boot
DRAM:  
sri
#### TAP VALUE 1 = 0x8, 2 = 0x8 [0x5555d557: 0x55555554]
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 244k for U-Boot at: 81fc0000
Reserving 192k for malloc() at: 81f90000
Reserving 44 Bytes for Board Info at: 81f8ffd4
Reserving 36 Bytes for Global Data at: 81f8ffb0
Reserving 128k for boot params() at: 81f6ffb0
Stack Pointer at: 81f6ff98
Now running in RAM - U-Boot at: 81fc0000
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
*** Warning - bad CRC, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
Fetching MAC Address from 0x81fe72f0
: cfg1 0xf cfg2 0x7014
eth0: 00:18:e7:e0:04:1c
eth0 up
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Hit any key to stop autoboot:  0 
## Booting image at bf040000 ...
   Image Name:   Linux Kernel Image
   Created:      2009-12-01   1:32:41 UTC
   Image Type:   MIPS Linux Kernel Image (lzma  compressed)
   Data Size:    981060 Bytes = 958.1 kB
   Load Address: 80002000
   Entry Point:  802b0000
   Verifying Checksum ... OK
   LZMA Umcompressing Kernel Image ...    Image loaded from 80002000-802d8086
 OK
No initrd
## Transferring control to Linux (at address 802b0000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Booting AR7240(Python)...
Linux version 2.6.15--LSDK-7.3.0.260 (root@debian) (gcc version 3.4.4) #1 Mon Nov 30 20:28:17 EST 2009
flash_size passed from bootloader = 4
arg 1: console=ttyS0,115200
arg 2: root=31:03
arg 3: rootfstype=squashfs,jffs2
arg 4: init=/sbin/init
arg 5: mtdparts=ar7240-nor0:192k(u-boot),64k(nvram),960k(linux),2560k(rootfs),64k(MAC),192k(LP),64k(ART)
arg 6: mem=32M
CPU revision is: 00019374
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
User-defined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Built 1 zonelists
Kernel command line: console=ttyS0,115200 root=31:03 rootfstype=squashfs,jffs2 init=/sbin/init mtdparts=ar7240-nor0:192k(u-boot),64k(nvram),960k(linux),2560k(rootfs),64k(MAC),192k(LP),64k(ART) mem=32M 
Primary instruction cache 64kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
PID hash table entries: 256 (order: 8, 4096 bytes)
Using 200.000 MHz high precision timer.
Console: colour dummy device 80x25
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 29104k/32768k available (2285k kernel code, 3648k reserved, 454k data, 164k init, 0k highmem)
Mount-cache hash table entries: 512
Checking for &#039;wait&#039; instruction...  available.
NET: Registered protocol family 16
SCSI subsystem initialized
Returning IRQ 48
TC classifier action (bugs to netdev@vger.kernel.org cc hadi@cyberus.ca)
AR7240 GPIOC major 0
squashfs: version 3.1 (2006/08/19) Phillip Lougher
Initializing Cryptographic API
io scheduler noop registered
io scheduler deadline registered
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Software Watchdog Timer: 0.07 initialized. soft_noboot=0 soft_margin=60 sec (nowayout= 0)
Serial: 8250/16550 driver $Revision: 1.1.1.1 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x0 (irq = 19) is a 16550A
RAMDISK driver initialized: 1 RAM disks of 8192K size 1024 blocksize
loop: loaded (max 8 devices)
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
PPTP driver version 0.7.12
7 cmdlinepart partitions found on MTD device ar7240-nor0
Creating 7 MTD partitions on &quot;ar7240-nor0&quot;:
0x00000000-0x00030000 : &quot;u-boot&quot;
0x00030000-0x00040000 : &quot;nvram&quot;
0x00040000-0x00130000 : &quot;linux&quot;
0x00130000-0x003b0000 : &quot;rootfs&quot;
0x003b0000-0x003c0000 : &quot;MAC&quot;
0x003c0000-0x003f0000 : &quot;LP&quot;
0x003f0000-0x00400000 : &quot;ART&quot;
GACT probability on
Mirror/redirect action on
Simple TC action Loaded
netem: version 1.1
u32 classifier
    Perfomance counters on
    input device check on 
    Actions configured 
Netfilter messages via NETLINK v0.30.
NET: Registered protocol family 2
IP route cache hash table entries: 512 (order: -1, 2048 bytes)
TCP established hash table entries: 2048 (order: 1, 8192 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
ip_conntrack version 2.4 (256 buckets, 2048 max) - 232 bytes per conntrack
ip_ct_h323: init success
ip_conntrack_rtsp v0.6.21 loading
ip_nat_rtsp v0.6.21 loading
ip_conntrack_pptp version 3.1 loaded
ip_nat_pptp version 3.0 loaded
ip_tables: (C) 2000-2002 Netfilter core team
ipt_time loading
ipt_recent v0.3.1: Stephen Frost &lt;sfrost@snowman.net&gt;.  http://snowman.net/projects/ipt_recent/
ClusterIP Version 0.8 loaded successfully
TCP bic registered
NET: Registered protocol family 1
NET: Registered protocol family 10
lo: Disabled Privacy Extensions
IPv6 over IPv4 tunneling driver
NET: Registered protocol family 17
arch/mips/ar7240/gpio.c (ar7240_simple_config_init) JUMPSTART_GPIO: 12

ar7240: calling simple_config callback..
ar7240wdt_init: Registering WDT VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 164k freed
init started:  BusyBox v1.01 (2009.12.01-01:32+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5

Please press Enter to activate this console. ag7240_mod: module license &#039;unspecified&#039; taints kernel.
AG7240: Length per segment 1536
AG7240: Max segments per packet 1
AG7240: Max tx descriptor count    80
AG7240: Max rx descriptor count    252
AG7240: fifo cfg 3 01f00140
AG7240CHH: Mac address for unit 0
AG7240CHH: 00:18:e7:e0:04:1c 
AG7240CHH: Mac address for unit 1
AG7240CHH: ff:ff:ff:ff:ff:ff 
in get_default_mac!!!
ag7240_ring_alloc Allocated 1280 at 0x803c9000
ag7240_ring_alloc Allocated 4032 at 0x813d0000
Setting PHY...
ADDRCONF(NETDEV_UP): eth0: link is not ready
eth0: Cannot assign requested address
ag7240_ring_alloc Allocated 1280 at 0x81c91800
ag7240_ring_alloc Allocated 4032 at 0x813c2000
ATHRS26: resetting s26
ATHRS26: s26 reset done
Setting PHY...
ADDRCONF(NETDEV_UP): eth1: link is not ready
eth1: Cannot assign requested address
device eth1 entered promiscuous mode
Mon Nov 30 20:31:00 UTC 2009
Entry gpio_ioctl init_module !!
sh: cannot create /proc/sys/net/ipv6/conf/eth0/accept_ra: Directory nonexistent
lan mac = 00:01:23:45:67:89rc is BUSY now!
eth0: Cannot assign requested address
sh: cannot create /proc/sys/net/ipv6/conf/eth0/accept_ra: Directory nonexistent
eth1: Cannot assign requested address
dhcpd_enabled::::::
=======================
=== insmod_wlan_mod ===
=======================
DHCP client start.
domain empty
Failure parsing line 19 of /var/etc/udhcpd.conf
Failure parsing line 20 of /var/etc/udhcpd.conf
Failure parsing line 21 of /var/etc/udhcpd.conf
DHCP server start.
device_lan_ip=192.168.0.1 , device_lan_subnet_mask=255.255.255.0
max_leases value (254) not sane, setting to 100 instead
Unable to open /var/misc/udhcpd.leases for reading
ath_hal: 0.9.17.1 (AR5416, DEBUG, REGOPS_FUNC, WRITE_EEPROM, 11D)
wlan: 0.8.4.2 (Atheros/multi-bss)
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_pci: 0.9.4.5 (Atheros/multi-bss)
wifi0: Atheros 9280: mem=0x10000000, irq=48 hw_base=0xb0000000
eth0      Link encap:Ethernet  HWaddr 00:26:5A:FC:EC:D9  
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

wlan: mac acl policy registered
Sending discover...
ath0
device br0 already exists; can&#039;t create bridge with the same name
device eth1 left promiscuous mode
br0: port 1(eth1) entering disabled state
device ath0 entered promiscuous mode
device eth1 entered promiscuous mode
Country ie is USI
br0: port 1(ath0) entering learning state
br0: topology change detected, propagating
br0: port 1(ath0) entering forwarding state
Country ie is USI

/************** debug wlan setting ****************/
/* WlanMode: Set to default mode (AP)
/* 80211Mode: 11NGHT40MINUS
/* ChannelWidth: auto
/* PureMode: pure gn
/* Essid: Porterhouse
/* Channel: 11
/* WEP: close
/* WPA TYPE: wpa2auto_psk
/* WPA CIPHER: TKIP CCMP
/* WPS: Disable
/* WPA PHRASE: &lt;hidden&gt;
/**************************************************/

########################
### turn wps-led off ###
########################

br0: File exists
TFTP main
standard_tftp_server launched on port 69.
Reading topology file /tmp/tmp/topology.conf ...
Reading bss configuration file /tmp/tmp/secath0.conf ...

br0: port 1(ath0) entering disabled state
Defaulted uuid based on mac addr 00:26:5a:fc:ec:d8
Could not connect to kernel driver.
Using interface ath0 with hwaddr 00:26:5a:fc:ec:d8 and ssid &#039;Porterhouse&#039;
Country ie is USI
br0: port 1(ath0) entering learning state
br0: topology change detected, propagating
br0: port 1(ath0) entering forwarding state
l2_packet_receive - recvfrom: Network is down
Sending discover...
Mon Nov 30 20:31:00 UTC 2009
Sending discover...
wantimer: dhcpc_release (VCT_DISCONNECT)
DHCPC Received SIGUSR2=&gt;DHCPC Release
Performing a DHCPC release
Entering released state
wan_ipaddr == NULL, firewall don&#039;t start
Start Firewall: Clear iptables
killall: crowdcontrol: no process killed
killall: wakeOnLanProxy: no process killed
rc is IDLE now!
write_radvd_conf_cmd start
write radvd_conf_cmd finished</code></pre></div>											<p class="post-edited">(Last edited by <strong>aport</strong> on 22 Apr 2010, 23:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107634">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						22 Apr 2010, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve loaded OpenWrt via the Dlink recovery mode in U-boot, openwrt-ar71xx-dir-615-c1-squashfs.uni:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Dec 14 2009 - 15:51:34)

AP99 (ar7240 - Python) U-boot
DRAM:  
sri
#### TAP VALUE 1 = 0x8, 2 = 0x8 [0x55555557: 0x55555555]
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 244k for U-Boot at: 81fc0000
Reserving 192k for malloc() at: 81f90000
Reserving 44 Bytes for Board Info at: 81f8ffd4
Reserving 36 Bytes for Global Data at: 81f8ffb0
Reserving 128k for boot params() at: 81f6ffb0
Stack Pointer at: 81f6ff98
Now running in RAM - U-Boot at: 81fc0000
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
*** Warning - bad CRC, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
Fetching MAC Address from 0x81fe72f0
: cfg1 0xf cfg2 0x7014
eth0: 00:10:20:20:04:00
eth0 up
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Hit any key to stop autoboot:  0 
## Booting image at bf040000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.32.9
   Created:      2010-03-14   9:22:13 UTC
   Image Type:   MIPS Linux Kernel Image (lzma  compressed)
   Data Size:    847420 Bytes = 827.6 kB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   LZMA Umcompressing Kernel Image ...    Image loaded from 80060000-802db9b0
 OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.32.9 (buildbot@tksite) (gcc version 4.3.3 (GCC) ) #2 Sun Mar 14 04:20:37 CDT 2010
bootconsole [early0] enabled
CPU revision is: 00019374 (MIPS 24Kc)
Atheros AR7240 rev 2, CPU:400.000 MHz, AHB:200.000 MHz, DDR:400.000 MHz
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=DIR-615-C1 mtdparts=spi0.0:128k(u-boot)ro,64k(config)ro,896k(kernel),2880k(rootfs),64k(art)ro,3776k@0x30000(firmware)
PID hash table entries: 128 (order: -3, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
Memory: 29444k/32768k available (2003k kernel code, 3324k reserved, 388k data, 152k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Hierarchical RCU implementation.
NR_IRQS:56
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
MIPS: machine is D-Link DIR-615 rev. C1
bio: create slab &lt;bio-0&gt; at 0
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  © 2001-2006 Red Hat, Inc.
yaffs Mar 14 2010 04:15:33 Installing. 
msgmni has been set to 57
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console [ttyS0] enabled, bootconsole disabled
console [ttyS0] enabled, bootconsole disabled
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: mx25l3205d (4096 Kbytes)
6 cmdlinepart partitions found on MTD device spi0.0
Creating 6 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000020000 : &quot;u-boot&quot;
0x000000020000-0x000000030000 : &quot;config&quot;
0x000000030000-0x000000110000 : &quot;kernel&quot;
0x000000110000-0x0000003e0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
split_squashfs: no squashfs found in &quot;spi0.0&quot;
0x0000003e0000-0x0000003f0000 : &quot;art&quot;
0x000000030000-0x0000003e0000 : &quot;firmware&quot;
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: no PHY found with phy_mask=0000000f
eth0: Atheros AG71xx at 0xba000000, irq 5
eth0: no PHY found with phy_mask=00000010
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
yaffs: dev is 32505859 name is &quot;mtdblock3&quot;
yaffs: passed flags &quot;&quot;
yaffs: Attempting MTD mount on 31.3, &quot;mtdblock3&quot;
yaffs: MTD device is not NAND it&#039;s type 3
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010000: 0x6873 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010004: 0xc902 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010008: 0xb4aa instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010010: 0x0f00 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010014: 0x0200 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010018: 0xc000 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001001c: 0x0400 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010020: 0x9c1d instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010028: 0xf0c2 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010030: 0xe8c2 instead
Further such events for this erase block will not be printed
Empty flash at 0x00010038 ends at 0x00010040
Old JFFS2 bitmask found at 0x00010914
You cannot use older JFFS2 filesystems with newer kernels
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020000: 0x4b9f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020004: 0x5a50 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020008: 0x990b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002000c: 0x3603 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020010: 0xe37c instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020014: 0x0f70 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020018: 0xdaf4 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002001c: 0xc1c7 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020020: 0x71df instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020024: 0x2849 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030000: 0x096f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030004: 0x3ebb instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030008: 0xae40 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0003000c: 0xb61b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030010: 0xaa8c instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030014: 0xba77 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030018: 0x403f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0003001c: 0x9dcd instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030020: 0xf1bd instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030024: 0x49e9 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040000: 0x6368 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040004: 0x0086 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040008: 0xc15e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0004000c: 0xc8f9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040010: 0x10d3 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040014: 0xccb6 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040018: 0x4e5d instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0004001c: 0x401c instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040020: 0x43ee instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040024: 0x00f7 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050000: 0xfd60 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050004: 0xc60e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050008: 0x2a3c instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0005000c: 0x66d9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050010: 0xd609 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050014: 0x3a05 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050018: 0xd5c7 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0005001c: 0x3901 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050020: 0x72aa instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050024: 0xb2a5 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060000: 0xe9f4 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060004: 0xd4c1 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060008: 0x595d instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0006000c: 0xe19f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060010: 0xd5ab instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060014: 0xf5f0 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060018: 0x9c36 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0006001c: 0xaa7a instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060020: 0x28b6 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060024: 0xc1f6 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070000: 0xaf4a instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070004: 0x8dad instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070008: 0x023a instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0007000c: 0x9d3a instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070010: 0x1621 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070014: 0xfb20 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070018: 0x96a6 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0007001c: 0xfa51 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070020: 0x5900 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070024: 0x7024 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080000: 0xbc3b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080004: 0xddb7 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080008: 0x695d instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0008000c: 0x9c02 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080010: 0x3702 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080014: 0xb3ec instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080018: 0xeb33 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0008001c: 0x0be9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080020: 0x8033 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080024: 0xaf86 instead
Further such events for this erase block will not be printed
Old JFFS2 bitmask found at 0x0008fa4c
You cannot use older JFFS2 filesystems with newer kernels
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090000: 0x2235 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090004: 0x2cd8 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090008: 0x96fd instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0009000c: 0x72ad instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090010: 0x61f9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090014: 0x15c6 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090018: 0x5459 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0009001c: 0xe888 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090020: 0xd5b9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090024: 0x2ae4 instead
Further such events for this erase block will not be printed
Old JFFS2 bitmask found at 0x00093a74
You cannot use older JFFS2 filesystems with newer kernels
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0000: 0xe39f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0004: 0x451e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0008: 0xf6c0 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a000c: 0x857d instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0010: 0xb9f7 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0014: 0x56a9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0018: 0xd4da instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a001c: 0xc1dd instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0020: 0x41a5 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0024: 0x51b4 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0000: 0xee9a instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0004: 0x2608 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0008: 0x729e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b000c: 0xfa53 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0010: 0xea16 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0014: 0xb149 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0018: 0xbfa0 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b001c: 0x36d6 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0020: 0x0fbc instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0024: 0x75ad instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0000: 0x0c1e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0004: 0x7b73 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0008: 0xbff2 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c000c: 0x2e06 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0010: 0xd32b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0014: 0x900b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0018: 0x6990 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c001c: 0x0890 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0020: 0x005a instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0024: 0x9418 instead
Further such events for this erase block will not be printed
Old JFFS2 bitmask found at 0x000c5088
You cannot use older JFFS2 filesystems with newer kernels
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0000: 0x31c8 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0004: 0xd176 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0008: 0x2a8b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d000c: 0x1063 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0010: 0x5fdd instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0014: 0x00e8 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0018: 0x4f05 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d001c: 0xcb19 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0020: 0x3950 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0024: 0x8edd instead
Further such events for this erase block will not be printed
Old JFFS2 bitmask found at 0x000dc9c0
You cannot use older JFFS2 filesystems with newer kernels
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0000: 0x65bd instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0004: 0xfc2e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0008: 0xcaa2 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e000c: 0x8448 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0010: 0x1d87 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0014: 0xb3b0 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0018: 0x2860 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e001c: 0x351b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0020: 0x44fc instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0024: 0xb945 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0000: 0xec29 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0004: 0xe492 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0008: 0x3995 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f000c: 0xdb31 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0010: 0x53ae instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0014: 0x19e7 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0018: 0xdb35 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f001c: 0x68c4 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0020: 0xb690 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0024: 0x4c56 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100000: 0x0658 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100004: 0x7b45 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100008: 0x8050 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0010000c: 0x5eee instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100010: 0xcf1f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100014: 0xd68f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100018: 0x5924 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0010001c: 0xa2cb instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100020: 0x0a9b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100024: 0xc42a instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110000: 0x19ac instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110004: 0xc2ef instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110008: 0x63c8 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0011000c: 0xfaa5 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110010: 0xf0c0 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110014: 0xf315 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110018: 0xd6b1 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0011001c: 0x963e instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110020: 0x899b instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110024: 0xd878 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120000: 0x393d instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120004: 0x9a95 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120008: 0x471c instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0012000c: 0x4338 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120010: 0x5fa9 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120014: 0x4a26 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120018: 0x7fcc instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0012001c: 0x0805 instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120020: 0x6a6f instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120024: 0xbfd9 instead
Further such events for this erase block will not be printed
jffs2_scan_eraseblock(): End of filesystem marker found at 0x130000
Cowardly refusing to erase blocks on filesystem with no valid JFFS2 nodes
empty_blocks 26, bad_blocks 0, c-&gt;nr_blocks 45
VFS: Cannot open root device &quot;&lt;NULL&gt;&quot; or unknown-block(31,3)
Please append a correct &quot;root=&quot; boot option; here are the available partitions:
1f00             128 mtdblock0 (driver?)
1f01              64 mtdblock1 (driver?)
1f02             896 mtdblock2 (driver?)
1f03            2880 mtdblock3 (driver?)
1f04              64 mtdblock4 (driver?)
1f05            3776 mtdblock5 (driver?)
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,3)</code></pre></div><p>Obviously there&#039;s issues since this is for the DIR-615 C1, so it&#039;s using the wrong flash layout. I&#039;ll try making a profile for the E1 with the correct flash map, and see where it goes from there.</p>											<p class="post-edited">(Last edited by <strong>aport</strong> on 23 Apr 2010, 00:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107640">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						23 Apr 2010, 03:04					</div>
				</div>
				<div class="post-content content">
					<p>Well, the U-boot recovery HTTP is dead now, and it doesn&#039;t seem to be using TFTP in recovery mode. So, my device is dead.</p><p>I&#039;ll try to acquire another one soon <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>This hardware is similar to the DIR-600 rev A1, so something to consider when porting to it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108212">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">StrictMachine</div>
					<div class="post-datetime">
						29 Apr 2010, 22:00					</div>
				</div>
				<div class="post-content content">
					<p>What about the D2 version? Virgin media in the UK send these out like hotcakes. I&#039;ve got two sat here I&#039;d like to get up and running openwrt <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p110288">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tarzan_nojane</div>
					<div class="post-datetime">
						31 May 2010, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>The Fry&#039;s FR-300RTR box (identical to D-Link rev E1) is difficult to get back to stock D-Link DIR615E1_FW500NA.bin FW after unsuccessfully loading factory-to-dd-wrt FW. Performed a 30/30/30 to get to the Boot Loader, and after the D-Link FW flashed, I waited an additional 80-90 seconds. I then had to restart the box several times, and finally do a 5 sec reset AFTER powering ON, to get the D-Link factory screen to come back on???</p><p>Maybe this hardware requires additional step after the boot loader finishes flashing (100% - about 100 seconds), to get the new firmware to actually &quot;load&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114215">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">tfft</div>
					<div class="post-datetime">
						2 Aug 2010, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>DD-WRT seems to note support for most DIR-615&#039;s,</p><p>&nbsp; <a href="http://www.dd-wrt.com/wiki/index.php/Supported_Devices#D-Link">http://www.dd-wrt.com/wiki/index.php/Su … ces#D-Link</a></p><p>Isn&#039;t there anything that can be learned from their image(s) or boot<br />process, etc ?&nbsp; I&#039;d much rather use OpenWRT than DD-WRT.</p><p>Hope that helps and gets us closer to support for Revision E1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126507">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">LNC</div>
					<div class="post-datetime">
						26 Jan 2011, 04:01					</div>
				</div>
				<div class="post-content content">
					<p>If anyone is still messing with this, I submitted a patch to Trunk that is working for me: <a href="https://dev.openwrt.org/ticket/8680">https://dev.openwrt.org/ticket/8680</a> . I tested on a FR-300RTR and would be interested to hear how it works on a real DIR-615 E1...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126509">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">regressor</div>
					<div class="post-datetime">
						26 Jan 2011, 05:30					</div>
				</div>
				<div class="post-content content">
					<p>dir600-A1 profile works on E4, known gpios:<br />gpio7 - wan led<br />gpio13-16 - lan1-lan4 leds<br />usb mod possible...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126583">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">LNC</div>
					<div class="post-datetime">
						27 Jan 2011, 00:20					</div>
				</div>
				<div class="post-content content">
					<p>Hello Regressor. I saw the wonderful USB work you have done on the DIR-615 C1. The E1 board looks a little different, especially on the bottom side, but I don&#039;t think it will be too hard to figure out with your work as a guide. I plan to try it when I can find the USB port part to solder in. One thing that may be missing on the E1 is the USB rref resistor pad. Do you know which CPU pin this is connected to? I may have to do it on the top side of the board.</p><p>For some reason gpio7 seems to have no function on the FR-300RTR and can&#039;t make the WAN light turn on, but gpio13-16 do work on the LAN port LEDS. It also has no external buttons except for reset which also has no function with the DIR-600 based gpios.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126588">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">regressor</div>
					<div class="post-datetime">
						27 Jan 2011, 01:14					</div>
				</div>
				<div class="post-content content">
					<p>Reset should be connected to gpio8. I think ar7240 doesn&#039;t require usb rref resistor - you only need solder 4 resistors, one wire (from +5v power source) and usb socket. </p><p>To find out all leds gpio&#039;s do this:</p><p>1. rmmod all ath, gpio_buttons and leds modules<br />2. export all gpio pins using one-line sh script:<br />for i in `seq 0 31`; do echo $i &gt; /sys/class/gpio/export; done<br />3. At each gpioN from /sys/class/gpio/ try &quot;echo out &gt; direction &amp;&amp; echo 1 &gt; value&quot; looking at leds.</p><p>P.S. Looking E1/E2 case &amp; pcb photos for wiki page...</p>											<p class="post-edited">(Last edited by <strong>regressor</strong> on 27 Jan 2011, 05:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126762">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">LNC</div>
					<div class="post-datetime">
						29 Jan 2011, 06:09					</div>
				</div>
				<div class="post-content content">
					<p>Sadly, my USB test is not successful on the E1. I installed the two 22 ohm resistors in the D+ and D- lines, added the 5v jumper and the two 15k pull downs. I ohmed out the USB pins all the way back to the CPU and it seems OK with no shorts, but I get no voltage at the D+ or D- pins with a thumb drive attached. Something else must be missing in software or hardware for this model.</p><p>I found two more gpios for the FR-300RTR though. gpio01 is for the &quot;Status&quot; LED, and gpio17 is for the &quot;Internet&quot; LED.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126799">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">regressor</div>
					<div class="post-datetime">
						29 Jan 2011, 16:42					</div>
				</div>
				<div class="post-content content">
					<p>Please made some hi-res pcb photo (unshielded cpu) - may be we missed something like rref resistor.</p>											<p class="post-edited">(Last edited by <strong>regressor</strong> on 29 Jan 2011, 16:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126815">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">LNC</div>
					<div class="post-datetime">
						29 Jan 2011, 18:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Regressor, but I have solved it this morning! I did not load the OHCI module before. Once I did it came right up. I did not need to use the patch to setup.c ( ar71xx_pll_wr(0x08, 0x00001030); ). I just added &#039;select AR71XX_DEV_USB&#039; to Kconfig and patched my mach-dir-615-e1.c file with the usb initialization call. Now I&#039;m not sure if USB2 is supported on this chip. I&#039;ll do some tests and see how it is working. So now we know for sure that USB is working for the $29 Frys FR-300RTR!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126842">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">regressor</div>
					<div class="post-datetime">
						30 Jan 2011, 00:26					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Photos are still needed - for wiki... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />P.S. Patch ar71xx_pll_wr(0x08, 0x00001030); is for ar91xx. USB PLL register for ar71xx is a 0x04 --&gt; &quot;ar71xx_pll_wr(0x04, 0x00001030);&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127527">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">LNC</div>
					<div class="post-datetime">
						7 Feb 2011, 02:30					</div>
				</div>
				<div class="post-content content">
					<p>My results with the USB mod are reasonably good. The controller is USB 1.1 only and has problems with some USB2 devices. I have a memory stick and a USB2 hub that just won&#039;t work on it. Interestingly, I have an old USB 1.1 only hub and with that hub, the memory stick that won&#039;t work if plugged into the on-board USB port, does work. With the hub, memory stick for external root filesystem/storage, a USB sound card, the MPD package and Ario on my PC, this little router is now a really nice WiFi radio!</p><p>The only thing I am really missing is that this radio does not support a client bridge mode. I imagine I can find a good way to work around this with proxy arp and iptables.</p><p>Sorry Regressor, but I don&#039;t have any access to a camera that can make good pictures at close range.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127531">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">regressor</div>
					<div class="post-datetime">
						7 Feb 2011, 03:34					</div>
				</div>
				<div class="post-content content">
					<p>Ok. I have e4 usb mod allready (see wiki)....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127660">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">opie546</div>
					<div class="post-datetime">
						8 Feb 2011, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>what about with the 615C1 rev A2?? anyone have any luck?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135118">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">betarepeating</div>
					<div class="post-datetime">
						12 May 2011, 03:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi, found this thread via google and i&#039;m necroing it in hopes of finding a solution.</p><p>I have a Dlink DIR-615 Revision E1 which i have been trying to get working as a client bridge for several days.&nbsp; I threw DDWRT on it, which appeared successful, but after a random amount of time between ~1 and ~10 minutes of running the router simply stops responding and must be hard reset.&nbsp; Bridging is unsuccessful, though i was advised that OpenWRT had better bridging support, so i came here in hopes of installing OpenWRT instead.</p><p>I would be happy to hear any advice or insights on the matter, and i&#039;m eager to help.&nbsp; At this point the wiki seems to imply my revision isn&#039;t fully supported, i would be happy to mail my router somewhere (for science!) if someone thinks they will be able to make advancements and get it working.</p><p>Any thoughts?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215926">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">vitaliy_86</div>
					<div class="post-datetime">
						28 Oct 2013, 19:50					</div>
				</div>
				<div class="post-content content">
					<p>What is the voltage regulator (VR1) and the minimum number of other components?<br />I&#039;m afraid to spoil the USB device if the power supply will fail.</p>											<p class="post-edited">(Last edited by <strong>vitaliy_86</strong> on 28 Oct 2013, 19:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215975">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">vitaliy_86</div>
					<div class="post-datetime">
						29 Oct 2013, 04:45					</div>
				</div>
				<div class="post-content content">
					<p>I think it is necessary to use TPS2051BDBVR</p><p>For example TP-Link MR-3220:</p><p><span class="postimg"><img src="http://3.bp.blogspot.com/-pt1MpadxiXM/UNiqUHWUTNI/AAAAAAAAC84/VDjbVYSsmGM/s1600/tp-link_mr3220_hw1.jpg" alt="http://3.bp.blogspot.com/-pt1MpadxiXM/UNiqUHWUTNI/AAAAAAAAC84/VDjbVYSsmGM/s1600/tp-link_mr3220_hw1.jpg" /></span></p><p><span class="postimg"><img src="http://1.bp.blogspot.com/-3h8UghLO_nM/UNiqnIifpsI/AAAAAAAAC9A/oWULPU7zFUo/s1600/tp-link_mr3220_hw2.jpg" alt="http://1.bp.blogspot.com/-3h8UghLO_nM/UNiqnIifpsI/AAAAAAAAC9A/oWULPU7zFUo/s1600/tp-link_mr3220_hw2.jpg" /></span></p><p>SWITCH, CURRENT LTD, 1A, 5SOT23<br /> Power Load Switch Type: High Side<br /> Input Voltage: 5.5V<br /> Current Limit: 1A<br /> On State Resistance: 0.095ohm</p><p>Distribution Switch Case Style: SOT-23<br /> No. of Pins: 5<br /> Thermal Protection: Yes<br /> On / Enable Input Polarity: Active High<br /> No. of Outputs: 1<br /> Operating Temperature Min: -40_C<br /> Operating Temperature Max: 85_C</p>											<p class="post-edited">(Last edited by <strong>vitaliy_86</strong> on 29 Oct 2013, 04:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243704">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">hoatienii</div>
					<div class="post-datetime">
						13 Aug 2014, 08:11					</div>
				</div>
				<div class="post-content content">
					<p>Help me please, the wiki how to mod usb no image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243816">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">hoatienii</div>
					<div class="post-datetime">
						14 Aug 2014, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>anyone please give me fw openwrt support usb mod for dir 615 E4. <br />Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243907">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">hoatienii</div>
					<div class="post-datetime">
						15 Aug 2014, 08:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hoatienii wrote:</cite><blockquote><p>anyone please give me fw openwrt support usb mod for dir 615 E4. <br />Thanks in advance!</p></blockquote></div><p>help me please, i compile error</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>