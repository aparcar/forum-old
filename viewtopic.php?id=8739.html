<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Buildroot Question</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p39567">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">TornadoCFE</div>
					<div class="post-datetime">
						25 Dec 2006, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the double post, initially posted in the wrong forum group</p><br /><p>First of all, great work on this. I am using buildroot to build my toolchains, I find it superior, cleaner and more reliable than other tools designed to do the same thing. Without going thru all the scripts, etc....I would like to know how to control or choose the kernel used, 2.6.18.1 vs 2.6.17, 2.6.19.1 etc ? Is there an easyway to do this as it is not an option in menuconfig.</p><p>I also may be reading older documentation, but I don&#039;t believe so, the documentation that I am reading suggest an option for changing the staging_dir outside of buildroot, however that option does not exist in menuconfig, as is in the documentation.</p><p>Build options -&gt;&nbsp; Toolchain and header file location, which defaults to staging_dir_ARCH/.</p><p>current SVN 5899</p><br /><p>Any help appr.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39580">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">m_osgood</div>
					<div class="post-datetime">
						25 Dec 2006, 22:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I had a Linksys WRT54G (ver 1.0) bought a while ago.&nbsp; Had assigned it a local address 172.16.0.68.&nbsp; Had set up admin password, encripted wireless trasmission etc., until a week ago I decided to go for openwrt, because I was excited about it that it will give me the flexibility of a linux system.</p><p>I followed the documentation, downloaded the white russian openwrt for pppoe, sqash FS and followed the recommended way to flash using the Linksys web-interface and flashed the router.&nbsp; The flashing was successful.&nbsp; One thing I didn&#039;t (and couldn&#039;t do) was to set the boot_wait.&nbsp; &nbsp;Searched the router documentation, but couldn&#039;t find a way to do it.</p><p>Now, I cannot login.&nbsp; I can ping well.&nbsp; However, neither telnet nor ssh work.&nbsp; I am immediately kicked out with a message:</p><p>telnet: connect to address 172.16.0.68: Connection refused.</p><p>I try ssh and the same again:</p><p>ssh: connect to address 172.16.0.68: port 22: Connection refused.</p><p>I think that reflashing wouldn&#039;t help.&nbsp; &nbsp;I don&#039;t remember closing any ports on the router previously with the default linksys firmware.&nbsp; However, I did have encription enabled on the wireless interface with strict mac address checks.</p><p>The router seems to boot well, with Power (green) and Diag (red) light coming ON and then after about 10 secs the DMZ (green) light switch comes on, followed by Link (green) and a couple of blinks on Act.&nbsp; Finally, the power, link and top light in the internet box stay on.&nbsp; &nbsp;I have connected it to the up-link ethernet interface and I can ping it well without any loss of packets.</p><p>I searched the forum posts for similar problems.&nbsp; Couldn&#039;t find any so far.</p><p>Can somebody out there help me?<br />Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39581">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						25 Dec 2006, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>@m_osgood: you&#039;re posting in the wrong thread.<br />@TornadoCFE: There is no easy way to do this, since the new kernel patches no longer apply to old kernels. Why do you want to do this anyway?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39615">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">TornadoCFE</div>
					<div class="post-datetime">
						26 Dec 2006, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>ndb,<br />Thanks, that was the answer I was looking for.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40041">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">margro</div>
					<div class="post-datetime">
						2 Jan 2007, 15:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>TornadoCFE wrote:</cite><blockquote><p>Sorry for the double post, initially posted in the wrong forum group</p><br /><p>First of all, great work on this. I am using buildroot to build my toolchains, I find it superior, cleaner and more reliable than other tools designed to do the same thing. Without going thru all the scripts, etc....I would like to know how to control or choose the kernel used, 2.6.18.1 vs 2.6.17, 2.6.19.1 etc ? Is there an easyway to do this as it is not an option in menuconfig.</p><p>Any help appr.</p></blockquote></div><p>I am also using OpenWRT as buildroot system for other non-router targets. What I did for my own ARM board (the vendor delivers only a patch for 2.4.26 that doesn&#039;t apply on 2.4.33.4) is the following:<br />I&#039;ve created a new target for my board (ts7300) with the following Makefile that overrides the default 2.4.33.4 kernel and the default kernel preparation routine<br />Disadvantage is of course that you do not get the generic 2.4 patches (but I didn&#039;t need them).</p><div class="codebox"><pre><code>include $(TOPDIR)/rules.mk

ARCH:=arm
BOARD:=ts7300
BOARDNAME:=Technologic Systems TS7300 board
FEATURES:=

define Target/Description
    Build firmware images for the Technologic Systems TS7300 ARM board
endef

LINUX_VERSION:=2.4.26
LINUX_RELEASE:=1
LINUX_KERNEL_MD5SUM:=88d7aefa03c92739cb70298a0b486e2c

define Kernel/Prepare/ts7300
    bzcat $(DL_DIR)/$(LINUX_SOURCE) | tar -C $(KERNEL_BUILD_DIR) $(TAR_OPTIONS)
    # [ -d ../generic-$(KERNEL)/patches ] &amp;&amp; $(PATCH) $(LINUX_DIR) ../generic-$(KERNEL)/patches 
    [ -d ./patches ] &amp;&amp; $(PATCH) $(LINUX_DIR) ./patches
endef

# Override Kernel/Prepare from kernel-build.mk to prevent patching with generic-2.4 patches for 2.4.33.4
override define Kernel/Prepare
    $(call Kernel/Prepare/ts7300)
endef

include $(INCLUDE_DIR)/kernel-build.mk

$(eval $(call BuildKernel))</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>