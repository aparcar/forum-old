<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Newbie security question to default firewall rules</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p311393">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">handango</div>
					<div class="post-datetime">
						14 Feb 2016, 21:39					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I installed default openwrt for wndr3700. Then I saw some forwardings and TRaffic rules enabled per default.<br />Thinking every rule being a hole in the firewall I disabled them all. </p><p>Is that reasoning correct? Or are the rules creating extra security?</p><p>Here are the rules which I disabled:</p><p>&nbsp; &nbsp; <br />IPv4-TCP+UDP<br />From any host in any zone<br />Via any router IP<br />&nbsp; &nbsp; <br />any host in any zone<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br /> Allow-DHCP-Renew<br />&nbsp; &nbsp; <br />IPv4-UDP<br />From any host in wan<br />To any router IP at port 68 on this device<br />&nbsp; &nbsp; <br />Accept input<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Allow-Ping<br />&nbsp; &nbsp; <br />IPv4-ICMP with type echo-request<br />From any host in wan<br />To any router IP on this device<br />&nbsp; &nbsp; <br />Accept input<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Allow-IGMP<br />&nbsp; &nbsp; <br />IPv4-IGMP<br />From any host in wan<br />To any router IP on this device<br />&nbsp; &nbsp; <br />Accept input<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Allow-DHCPv6<br />&nbsp; &nbsp; <br />IPv6-UDP<br />From IP range fe80::/10 in wan with source port 547<br />To IP range fe80::/10 at port 546 on this device<br />&nbsp; &nbsp; <br />Accept input<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Allow-MLD<br />&nbsp; &nbsp; <br />IPv6-ICMP with types 130/0, 131/0, 132/0, 143/0<br />From IP range fe80::/10 in wan<br />To any router IP on this device<br />&nbsp; &nbsp; <br />Accept input<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Allow-ICMPv6-Input<br />&nbsp; &nbsp; <br />IPv6-ICMP with types echo-request, echo-reply, destination-unreachable, packet-too-big, time-exceeded, bad-header, unknown-header-type, router-solicitation, neighbour-solicitation, router-advertisement, neighbour-advertisement<br />From any host in wan<br />To any router IP on this device<br />&nbsp; &nbsp; <br />Accept input and limit to 1000 pkts. per second<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Allow-ICMPv6-Forward<br />&nbsp; &nbsp; <br />IPv6-ICMP with types echo-request, echo-reply, destination-unreachable, packet-too-big, time-exceeded, bad-header, unknown-header-type<br />From any host in wan<br />To any host in any zone<br />&nbsp; &nbsp; <br />Accept forward and limit to 1000 pkts. per second<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />-<br />&nbsp; &nbsp; <br />Any IPSEC-ESP<br />From any host in wan<br />To any host in lan<br />&nbsp; &nbsp; <br />Accept forward<br />&nbsp; &nbsp; <br />******************************************&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />-<br />&nbsp; &nbsp; <br />Any UDP<br />From any host in wan<br />To any host, port 500 in lan<br />&nbsp; &nbsp; <br />Accept forward</p>											<p class="post-edited">(Last edited by <strong>handango</strong> on 14 Feb 2016, 21:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311459">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						15 Feb 2016, 07:22					</div>
				</div>
				<div class="post-content content">
					<p>AFAIK default firewall rules in CC/DD ensure the router operation and are not security risk. By disabling them (and restarting firewall afterwards) you&#039;re breaking things up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311484">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">GNULINUX</div>
					<div class="post-datetime">
						15 Feb 2016, 10:11					</div>
				</div>
				<div class="post-content content">
					<p>Can anyone else confirm this?</p><p>I hate to be such a newb. I am learning python in school and really trying to embrace the open source community with my new rpi2 and now I put openwrt on my netgear wnr2000v3. The only issue is the default firewall seems overwhelming to me. I have searched both here and on google but I would like to know,</p><p>Are the default openwrt firewall settings secure? Is there anything else I need to do to a stock openwrt install to make it secure other than a strong root password and a strong wpa2 password? I am not currently running any servers or gaming systems.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311490">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Feb 2016, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>The default firewall rules are secure enough.</p><p>The default rules are there to enable the key internet protocols to work. Removing some of the default rules will decrease functionality of some core protocols. E.g. ipv6 needs to be able to negotiate mtu size and removing the icmpv6 rules prevents that. Same kind of thinking goes for the other default rules.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311647">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">handango</div>
					<div class="post-datetime">
						16 Feb 2016, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>Thanks - thats what I wanted to know. <br />Also I had qualsys online vulnerabilty scanner hitting my router - found only &quot;info&quot; results. Having those mentioned default rules enabled or not did not make a difference.</p><p>Now I can go on discover OpenWrt hyperspace ;-)</p><p>BTW: This book <a href="http://weidner.in-bad-schmiedeberg.de/archives/2012/02/openwrt-paketfilter-firewall/">http://weidner.in-bad-schmiedeberg.de/a â€¦ -firewall/</a><br />is about to be released. I am already subscribed for the first edition! Pitty its only german...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>