<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> package policy</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Jan 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p3743">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">edgimar</div>
					<div class="post-datetime">
						6 Jan 2005, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>It seems to me that there is a need to develop a policy document which provides preferred guidelines on how packages should get/store settings.&nbsp; Currently one can get/store settings in nvram and/or a file somewhere in the filesystem.&nbsp; The problem arises when one package (lets say a &quot;web-based configuration&quot; package) stores settings in one location, and other packages look for setting in a different location, or hardcode the settings in their conffiles.&nbsp; What I think would be ideal is if there were one central location where settings were stored, and all packages could expect to find the &quot;master settings&quot; there.&nbsp; Of course there are some kinds of settings which are shared across many packages, and others which are specific only to a given package.&nbsp; In that case, at least a list of those settings which should be centrally accessible should be decided on, so that those who are packaging software for openwrt can save/read from this location.</p><p>Yes, there might be concerns that doing this will permit one package to screw up all the rest if it changes a setting improperly.&nbsp; Indeed this is a risk, but if there is a policy in place about how and when settings should be changed by a package, the package can be evaluated with respect to this policy and it can be determined whether or not the package would pose problems.</p><p>One example demonstrating the problem of not having a policy is with the /etc/dnsmasq.conf file.&nbsp; It currently contains the following:<br /></p><div class="codebox"><pre><code># no dhcp / dns queries from the wan
except-interface=vlan1</code></pre></div><p>If, however, the user decides to configure the router so that the WAN is no longer vlan1, then dnsmasq no longer behaves exactly as it should unless this conffile is manually modified also.&nbsp; If, however, the conffile got the WAN interface name from a predetermined (in the policy) location that all the programs used to determine the WAN interface, only one change would be necessary--to change this centralized setting.</p><p>One related project I saw was at the following url:</p><p><a href="http://openwrt.org/CentralNvramMaps">http://openwrt.org/CentralNvramMaps</a></p><p>This is a good start, but it doesn&#039;t replace having a policy document.&nbsp; This is because if a piece of software isn&#039;t governed by a clear policy, then it could choose to get its data from the Central nvram maps structure, but it wouldn&#039;t necessarily have to.&nbsp; And as soon as a package doesn&#039;t conform to the policy, then you run into the same problem illustrated above for dnsmasq.</p><p>Your thoughts and proposals are welcome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3746">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						6 Jan 2005, 18:53					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://openwrt.org/forum/viewtopic.php?t=65">http://openwrt.org/forum/viewtopic.php?t=65</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>