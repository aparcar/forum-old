<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Nexx3020 16M Custom flash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p314733">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Jeffiston</div>
					<div class="post-datetime">
						14 Mar 2016, 13:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone! I was just a user of an OpenWRT on my WDR4300, I like it much because of stability and customisation. So I&#039;ve bought a Nexx3020 just for testing the OpenWRT abilities. But I&#039;ve managed to burn my flash memory with a help of my electrician friend, who gave me a 5V programmer instead of 3.3. Sope, I&#039;ve replaced a flash, flashed a Bootloader and Arc part, but. My new flash is winbond 25q128 (the price was the same for 64 (8M) ver, so I&#039;ve decieded to have mooare). So as I understood now I have to compile a custom firmware with a custom .dts (as to <a href="https://forum.openwrt.org/viewtopic.php?id=54717">https://forum.openwrt.org/viewtopic.php?id=54717</a> this topic).<br />I&#039;m doing:<br /></p><div class="codebox"><pre><code>git clone git://git.openwrt.org/openwrt.git
    (on this step I made and edited .dts)
./scripts/feeds update -a
./scripts/feeds install -a
make menuconfig (there I select the target platform)
make -j8</code></pre></div><p>After clonning Git tree I went to .dts folder. There I made a copy of original WT3020-8M.dts to WT3020-16M.dts and edited memory adresses. After I do &lt;make menuconfig&gt; and &lt;make&gt;. But: there is no openwrt-15.05-ramips-mt7620-wt3020-<strong>16M</strong>-squashfs-sysupgrade image in an output folder, as well as those 4M and 8M, which are present in outpud dir are not booting. Please advice me, what am I doing wrong? Thx in advance.</p>											<p class="post-edited">(Last edited by <strong>Jeffiston</strong> on 14 Mar 2016, 13:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314734">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						14 Mar 2016, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>you have to edit several makefiles and imagebuilder (probably) also<br />.dts is used for kernel devices while firmware is running, changing dts does not affects building process</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314755">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">starshipeleven</div>
					<div class="post-datetime">
						14 Mar 2016, 15:40					</div>
				</div>
				<div class="post-content content">
					<p>you need to look into the makefiles where it looks for dts and add your custom dts to the current ones.</p><p>It is probably easier to just replace the 8MB dts with yours (with the same name).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314990">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Jeffiston</div>
					<div class="post-datetime">
						15 Mar 2016, 19:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starshipeleven wrote:</cite><blockquote><p>you need to look into the makefiles where it looks for dts and add your custom dts to the current ones.</p><p>It is probably easier to just replace the 8MB dts with yours (with the same name).</p></blockquote></div><p>Yeap, already done. But any of my built images where not bootable. The reason was an old U-Boot bootloader. So after I changed it to Breed bootloader, it worked! Breed bootloader can be found here <a href="https://routerclub.ru/upload/breed/">https://routerclub.ru/upload/breed/</a> or here <a href="http://breed.hackpascal.net/">http://breed.hackpascal.net/</a><br />If anyone is ineterested - here are my latest Chaos Calmer 16M firmwares plus breed bootloader:<br /><a href="https://mega.nz/#F!YVZTnCrS!4YP_aAzL0kbk7EqW66wDew">https://mega.nz/#F!YVZTnCrS!4YP_aAzL0kbk7EqW66wDew</a><br />All these works fine together!</p>											<p class="post-edited">(Last edited by <strong>Jeffiston</strong> on 15 Mar 2016, 20:34)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>