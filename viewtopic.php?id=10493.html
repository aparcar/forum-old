<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> yet another lighttpd + php5 question</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p47145">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">openwrt</div>
					<div class="post-datetime">
						25 Apr 2007, 20:43					</div>
				</div>
				<div class="post-content content">
					<p>hey,<br />i succesfully installed lighttpd on my wrt54gl. then i wanted to use php, so I installed additional packages:</p><p>lighttpd-mod-cgi<br />php5<br />php5-cgi</p><p>I used this howto <a href="http://forum.openwrt.org/viewtopic.php?id=10330">http://forum.openwrt.org/viewtopic.php?id=10330</a><br />But when I try to view the phpinfo-page I get &quot;500 - Internal Server Error&quot;.<br />logread says the following:</p><div class="codebox"><pre><code>Apr 25 19:26:48 OpenWrt user.info : 2007-04-25 17:26:48: (mod_cgi.c.961) CGI failed: No such file or directory /usr/bin/php
Apr 25 19:26:48 OpenWrt user.info : mod_cgi.c.964: aborted</code></pre></div><p>this is weird because /usr/bin/php is definately there (symlinked to my mmc):</p><div class="codebox"><pre><code>root@OpenWrt:~# ls -la /usr/bin/php
lrwxrwxrwx    1 root     root           16 Apr 25 19:28 /usr/bin/php -&gt; /mmc/usr/bin/php</code></pre></div><p>whats wrong here? <br />thanks</p>											<p class="post-edited">(Last edited by <strong>openwrt</strong> on 25 Apr 2007, 20:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47150">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						25 Apr 2007, 21:22					</div>
				</div>
				<div class="post-content content">
					<p>So, you installed lighttpd and php5 packages on your MMC card, right?</p><p>- which filesystem are you using on your MMC card?<br />- did you set the correct LD_LIBRARY_PATH variable? (see <a href="http://wiki.openwrt.org/PackagesOnExternalMediaHowTo)">http://wiki.openwrt.org/PackagesOnExternalMediaHowTo)</a><br />- from where did you installed the lighttpd and php5 package binaries or did you compiled them by yourself?</p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 25 Apr 2007, 21:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47153">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">openwrt</div>
					<div class="post-datetime">
						25 Apr 2007, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>thanks for your answer. yes all the packages are on my mmc.</p><div class="quotebox"><blockquote><p>- which filesystem are you using on your MMC card?</p></blockquote></div><p>my mmc card has ext2 filesystem</p><div class="quotebox"><blockquote><p>- did you set the correct LD_LIBRARY_PATH variable? (see <a href="http://wiki.openwrt.org/PackagesOnExternalMediaHowTo)">http://wiki.openwrt.org/PackagesOnExternalMediaHowTo)</a></p></blockquote></div><p>here is the part from the /etc/profile<br />It should be correct I think:<br /></p><div class="codebox"><pre><code>export PATH=/bin:/sbin:/usr/bin:/usr/sbin:/mmc/bin:/mmc/sbin:/mmc/usr/bin:/mmc/usr/sbin
export LD_LIBRARY_PATH=/lib:/usr/lib:/mmc/lib:/mmc/usr/lib</code></pre></div><div class="quotebox"><blockquote><p>- from where did you installed the lighttpd and php5 package binaries or did you compiled them by yourself?</p></blockquote></div><p>I did not compile the packages, I used the 0.9-backports repository (<a href="http://downloads.openwrt.org/backports/0.9/">http://downloads.openwrt.org/backports/0.9/</a>)</p><p>The symlinks were set by this howto Point 4.3 (<a href="http://wiki.openwrt.org/UsbStorageHowto?highlight=%28packages%29%7C%28usb%29">http://wiki.openwrt.org/UsbStorageHowto â€¦ C%28usb%29</a>)<br />I dunno what should be wrong....? What else can I do, to make it work?</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>openwrt</strong> on 25 Apr 2007, 22:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47154">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						25 Apr 2007, 22:06					</div>
				</div>
				<div class="post-content content">
					<p>I think you don&#039;t need to symlink the files.</p><p>The other option is to backport (compile) lighttpd and php5 packages by yourself using the WR SDK and the Kamikaze packages repository. In the replys to my howto Oconner got it working after recompiling.</p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 25 Apr 2007, 22:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47155">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">openwrt</div>
					<div class="post-datetime">
						25 Apr 2007, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>Ok, thank you so far.<br />I&#039;ll try to compile the packages, though I&#039;ve never done this (is there a howto? I&#039;m quite new to embedded linux systems...)<br />btw, it doesn&#039;t even work without symlinking the files, so that&#039;s not the failure.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47159">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						25 Apr 2007, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, can&#039;t help you further, because backporting seems broken <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>If you like this feature switch to Kamikaze.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47400">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">openwrt</div>
					<div class="post-datetime">
						30 Apr 2007, 16:46					</div>
				</div>
				<div class="post-content content">
					<p>hello forum2006,<br />I now switched to kamikaze and compiled all necessary packages by myself. I installed the packages regarding your howto onto my mmc and correctly set the LD_LIBRARY_PATH.<br />But I get the same error:<br /></p><div class="codebox"><pre><code>2007-04-30 13:27:08: (mod_cgi.c.703) stat for cgi-handler /mmc/usr/bin/php failed: No such file or directory</code></pre></div><p>I am really confused and I don&#039;t know what else I can do????<br />any help is appreciated!</p><p>:EDIT:<br />I just tried to install lighttpd and php5 packages to root (not to mmc), but even then I get the same error messages.<br />I am desperate.</p>											<p class="post-edited">(Last edited by <strong>openwrt</strong> on 30 Apr 2007, 19:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47646">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jolouis</div>
					<div class="post-datetime">
						3 May 2007, 23:31					</div>
				</div>
				<div class="post-content content">
					<p>This might sound&nbsp; a bit silly, but check your /etc/lighttpd.conf file for your cgi settings; make sure that it points to the actual PHP binary itself (and this should be the PHP CGI binary, not the CLI for fast-cgi version). Also make sure that the server.document-root setting in that config file is valid and points to a directory that actually exists and is readable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47664">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">openwrt</div>
					<div class="post-datetime">
						4 May 2007, 01:52					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your hints, but I&#039;ve already checked all that twice. Unfortunately I couldn&#039;t get php-cgi to work, so that I switched to php-fastcgi now, which works on the first try. after all that trouble I am now happy that I have a working php webserver.<br />thank you,<br />bye</p>											<p class="post-edited">(Last edited by <strong>openwrt</strong> on 4 May 2007, 01:53)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>