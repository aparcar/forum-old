<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> No internet access in router for updating opkg packages</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p332838">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rishi337</div>
					<div class="post-datetime">
						27 Jul 2016, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody,</p><p>I am new to openWRT. Last week I bought TL-MR3020 v1 and flashed openwrt successfully by following instructions from <a href="https://wiki.openwrt.org/doc/playground/newcomer">https://wiki.openwrt.org/doc/playground/newcomer</a></p><p>I downloaded openWrt from <a href="http://downloads.openwrt.org/chaos_calmer/15.05/ar71xx/generic/openwrt-15.05-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin">http://downloads.openwrt.org/chaos_calm … actory.bin</a></p><br /><p>During installation process I found that many installing instructions on internet is outdated because in new version<br />we do not required to access the router via telnet and also now Luci is pre installed in the package.</p><p>After installing openWrt I logged into web interface at <a href="http://192.168.1.1/">http://192.168.1.1/</a> and configure the wifi. Now my android phone connected to router&#039;s wifi. But it has no internet because I have no wired LAN connection. I am using 3g dongle of Reliance communication. I have read that I have to install some opkg packages to avail 3g dongle service.</p><p>So next day I went to my friend who has LAN connection. I connected my router to LAN afrer removing my friend router. Now I was able to get wifi connection with internet.on my phone and laptop. </p><p>Now I logged into web GUI at <a href="http://192.168.1.1/">http://192.168.1.1/</a> and try to update the opkg package but I found that router is unable to get internet connection. <br />Then I went to diagnosticc page (<a href="http://192.168.1.1/cgi-bin/luci/;stok=e7d8d34e8daf1f81b1b5d3c268e95203/admin/network/diagnostics">http://192.168.1.1/cgi-bin/luci/;stok=e … iagnostics</a>)&nbsp; and click on ping button (ip4&nbsp; and then ip6) button. it gave response </p><p>ping: bad address &#039;dev.openwrt.org&#039;</p><p>Then I logged in via ssh and enter the command ping google.com</p><p>it gave ping: bad address &#039;google.com&#039;</p><p>Before posting this question I spent 3 days on openWRT website and youtube but could not get any solution.<br />I am now stuck. Please help me in getting internet in router so that I can update and install new opkg packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332841">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						28 Jul 2016, 00:16					</div>
				</div>
				<div class="post-content content">
					<p>I do not own a TL-MR3020, but have similar devices.&nbsp; The MR3020 has only one Ethernet port, and the default configuration it is probably set up as a LAN port, not a WAN port, so if you plug a WAN cable from your friends ISP into this I do not think it will work.&nbsp; I also do not expect the configuration switch to work either in OpenWrt.</p><p>You are best to do your configuration by connecting a PC to the LAN port, but you can also do it wireless.&nbsp; The default config has a AP OpenWrt with no security.&nbsp; Leave this as is for now. </p><p>At your friends house, with his lan running as usual, you need to find out what the IP subnet he is using.&nbsp; If it is 192.168.1.xxx you need to change your device&#039;s subnet (Networking=&gt;LAN) to something other than this.&nbsp; The two devices need to be on different subnets.&nbsp; Reboot if you change your subnet.</p><p>Now you should be able to connect your STAtion side to your friends home LAN wireless AP.&nbsp; Goto Network=&gt;Wireless and SCAN.&nbsp; Select your friends AP.&nbsp; IN THE NEXT SCREEN THE VERY FIRST THING IS A CHECK BOX THAT SAYS SOMETHING LIKE REPLACE NETWORK. <strong> MAKE SURE THIS IS UNCHECKED</strong>.&nbsp; Scroll down and enter the required security info.&nbsp; There are 2 pages you need to look at.&nbsp; Click Save and Apply.</p><p>You should show 2 wireless connections in LuCi wireless.&nbsp; OpenWrt and your friends AP.&nbsp; Hopefully you can now get to the internet and packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332842">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">davie</div>
					<div class="post-datetime">
						28 Jul 2016, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>same as what RangerZ said but also when your adding the wireless client make sure wan or wwan firewall is selected.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332885">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rishi337</div>
					<div class="post-datetime">
						28 Jul 2016, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>Thank you&nbsp; very much RangerZ &amp; Davie for your quick response.</p><p>After posting my question I impatiently waiting for reply and I got very happy to see 2 response in the morning.</p><p>And I made new interface as recommended by RangerZ and keep the wwan firewall selected as added by Davie..</p><p>And ...OMG!!!&nbsp; :-):-) I am able to access internet in Luci GUI of my router.</p><p>Thank you very much both of you for your help :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332889">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rishi337</div>
					<div class="post-datetime">
						28 Jul 2016, 23:04					</div>
				</div>
				<div class="post-content content">
					<p>Now I need more help in setting my router so that I can share my 3g dongle with my android phone and laptop simultaneously.</p><p>Thing is not as easy as I have thought.</p><p>I updated all opkg packages and installed required packages mentioned on page</p><p><a href="https://wiki.openwrt.org/doc/recipes/3gdongle">https://wiki.openwrt.org/doc/recipes/3gdongle</a></p><p>But still I am not able to share my 3g dongle internet with laptop and mobile via router.</p><p>I have following packages installed.</p><p>kmod-usb-serial-option<br />kmod-usb-serial-wwan<br />kmod-usb2<br />kmod-ledtrig-usbdev<br />kmod-usb-core<br />kmod-usb-serial</p><br /><p>Please help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332890">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						28 Jul 2016, 23:13					</div>
				</div>
				<div class="post-content content">
					<p>I can not help you with the 3G config, however it appears Reliance is your ISP.&nbsp; The dongle is probably made by someone else.&nbsp; Please look for any identifying information as to the make\model number, etc.</p><p>Also look in your system and kernel logs for any info that appears relevant and post that info.&nbsp; Maybe someone else can help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332892">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">rishi337</div>
					<div class="post-datetime">
						29 Jul 2016, 00:07					</div>
				</div>
				<div class="post-content content">
					<p>Yes, Reliance is my ISP</p><p><a href="http://www.rcom.co.in/Rcom/personal/home/index.html">http://www.rcom.co.in/Rcom/personal/home/index.html</a></p><p>and my dongle is made by ZTE.<br />Dongle detail is as follow:<br />ZTE corporation<br />HSUPA&nbsp; USB STICK<br />MODEL: MF190</p><p>&gt;&gt;&gt;&gt;&quot;Also look in your system and kernel logs for any info that appears relevant and post that info.&quot;&lt;&lt;&lt;&lt;</p><p>I am not clear what info I have to look in kernel logs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332899">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						29 Jul 2016, 03:53					</div>
				</div>
				<div class="post-content content">
					<p>So this is it: <a href="http://www.ztemobiles.com.au/MF180.htm">http://www.ztemobiles.com.au/MF180.htm</a></p><p>Regarding your logs, look for anything the seems to reference USB or this device make\model, not found, unable to..., failed to load...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332901">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">npkamen</div>
					<div class="post-datetime">
						29 Jul 2016, 04:42					</div>
				</div>
				<div class="post-content content">
					<p>Try something like this first.</p><p><a href="http://www.ofmodemsandmen.com/index.html">http://www.ofmodemsandmen.com/index.html</a></p><p>It is OpenWRT based and geared towards USB 3G/LTE modems.&nbsp; Pop over to Whirlpool (linked from the omam site) if you&#039;re having trouble and we can help you out.</p><p>I&#039;d get it going there first, then if you need more base OpenWRT functionality you should learn a bit more about what type of modem yours is exactly and should be able to get it going in vanilla OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332924">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">rishi337</div>
					<div class="post-datetime">
						29 Jul 2016, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks everyone especially RangerZ.</p><p>Now my 3g dongle is also working.</p><p>I googled for configuration&nbsp; and found a link</p><p><a href="http://madet.my/2014/10/setup-openwrt-on-tp-link-tl-mr3020/">http://madet.my/2014/10/setup-openwrt-o … tl-mr3020/</a> </p><p>I followed these instructions and when finished the steps mentioned on this page, my router start detecting my dongle but it was not establishing connection.</p><p>Then I found another link on openwrt forum</p><p> <a href="https://forum.openwrt.org/viewtopic.php?id=54917">https://forum.openwrt.org/viewtopic.php?id=54917</a></p><p>Here I noticed the lines</p><br /><br /><div class="quotebox"><blockquote><p>Last thing, I found some nice document on the web to monkey with AT command so I used this one &quot;AT^U2DIAG=0&quot; to change operating modes of the modem.<br />AT^U2DIAG=0</p><p>- AT^U2DIAG=0 – the device is only modem<br />- AT^U2DIAG=1 – device is in modem mode + CD ROM<br />- AT^U2DIAG=255 – the device in modem mode + CD ROM + card reader<br />- AT^U2DIAG=256 – the device in modem mode + card reader</p></blockquote></div><p>Then I realize that my dongle has also card reader and I have already put a card inside it.<br />I removed the sdcard from the dongle and that is...<br />Dongle start blinking and notifications start coming on my android phone and smiile on my face.</p><br /><p>So my issue has been <strong>SOLVED</strong>.</p><p>But I have to do some more thing with this routor. I flashed openWrt in it for the purpose of sharing my 1tb harddisk with it.</p><p>I will google and try to do it and if could not do it then I will create a new thread.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>