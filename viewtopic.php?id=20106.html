<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WL-500gP bricked?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p86882">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						29 Apr 2009, 01:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I wanted to flash my router to the 2.6 kernel, latest kamikaze trunk.<br />I flashed the openwrt-brcm47xx-squashfs.trx with Luci. </p><div class="quotebox"><blockquote><p>Image received. About to start flashing process. DO NOT POWER OFF THE DEVICE!</p><p>Writing firmware...<br />Firmware successfully flashed. Rebooting device...</p></blockquote></div><p>But now when the router rebooted the power led keeps blinking. I can&#039;t ping the router to the default 192.168.1.1 IP nor to the manually configured 192.168.12.1. I never desactivated any boot wait feature.</p><p>Should I solder a serial port to see what is going on? Would I be able to flash back my old firmware with the serial port?</p><p>thanks for your help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86929">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ciscostu</div>
					<div class="post-datetime">
						29 Apr 2009, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>You may want to try the TFTP install procedure first-</p><p><a href="http://oldwiki.openwrt.org/OpenWrtDocs(2f)Installing(2f)TFTP.html">http://oldwiki.openwrt.org/OpenWrtDocs( â€¦ )TFTP.html</a></p><p>The TFTP server is provided by the bootloader (CFE), and works even if the current firmware is hosed.</p><p>Hope this helps,<br />Charlie</p>											<p class="post-edited">(Last edited by <strong>ciscostu</strong> on 29 Apr 2009, 18:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86931">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						29 Apr 2009, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>I successfully flashed back my old firmware with the asus utility (which uses TFTP but don&#039;t even ask for the IP of the router).<br />But I would like to understand what it did (in case I have the same problem again).</p><p>For TFTP to work, I must be able to ping the router, right?<br />Does CFE always configure the router to 192.168.1.1 or it depends on the IP that I set in the firmware? I tried to ping both IPs without success.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86934">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ciscostu</div>
					<div class="post-datetime">
						29 Apr 2009, 18:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>For TFTP to work, I must be able to ping the router, right?<br />Does CFE always configure the router to 192.168.1.1 or it depends on the IP that I set in the firmware? I tried to ping both IPs without success.</p></blockquote></div><p>Yes, CFE on the WL-500gP uses 192.168.1.1 regardless of the configured IP.&nbsp; </p><p>If your workstation is configured with a static IP in the 192.168.1.x subnet, you should be able to ping 192.168.1.1 for a couple of seconds following power-on (before the OS starts).</p><p>Charlie</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86935">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						29 Apr 2009, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, but I am sure that I configured my computer to 192.168.1.2 and ping 192.168.1.1 didn&#039;t work. I tried many times with 2 different computers, with many power cycles on the router. I have no firewall. I tried all ports on the switch (but especially lan port 1). I don&#039;t beleive it myself, and I know I probably did something wrong. The switch is auto MDI/MDIX (dectect cross-over cables), right?</p><div class="quotebox"><blockquote><p>/sbin/ifconfig eth0<br />eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:1d:XX:XX:XX:XX<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet adr:192.168.1.2&nbsp; Bcast:192.168.1.255&nbsp; Masque:255.255.255.0</p></blockquote></div><p>Anyways it&#039;s good to know that with the CFE tftp server I can always recover after a bad flash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87051">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						1 May 2009, 01:39					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I made it again with wireshark, and I can now confirm that my router IP was 192.168.1.<strong>49</strong>. Strange but good to know for tftp. The asus utility connected to this address.</p>											<p class="post-edited">(Last edited by <strong>zorxd</strong> on 1 May 2009, 01:39)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>