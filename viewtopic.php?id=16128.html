<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Smallest possible boot time</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p70093">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">schao</div>
					<div class="post-datetime">
						26 Jun 2008, 00:05					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m using the stable 7.09 image for Ubiquiti LS2 and would like to shave the boot time as much as possible.&nbsp; My only requirement after bootup is to have the wifi and the ethernet ports working and dropbear for configuration.&nbsp; Does anyone have any suggestions?&nbsp; Maybe disable all the unnecessary startup scripts in /etc/rc.d?&nbsp; My dmesg output is as follows:</p><p>Linux version 2.6.21.5 (nbd@ds10) (gcc version 4.1.2) #2 Sun Sep 30 20:16:16 CEST 2007<br />CPU revision is: 00019064<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />On node 0 totalpages: 4096<br />&nbsp; DMA zone: 32 pages used for memmap<br />&nbsp; DMA zone: 0 pages reserved<br />&nbsp; DMA zone: 4064 pages, LIFO batch:0<br />&nbsp; Normal zone: 0 pages used for memmap<br />Built 1 zonelists.&nbsp; Total pages: 4064<br />Kernel command line: console=ttyS0,9600 rootfstype=squashfs,jffs2 init=/etc/preinit<br />Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, linesize 16 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />Using 92.000 MHz high precision timer.<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 13504k/16384k available (1955k kernel code, 2880k reserved, 292k data, 116k init, 0k highmem)<br />Calibrating delay loop... 183.50 BogoMIPS (lpj=917504)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />Radio config found at offset 0xf8(0x1f8)<br />Time: MIPS clocksource has been installed.<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)<br />TCP reno registered<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0xb1100003 (irq = 37) is a 16550A<br />eth0: Dropping NETIF_F_SG since no checksum feature.<br />eth0: Atheros AR231x: 00:15:6d:e0:35:56, irq 4<br />cmdlinepart partition parsing not available<br />Searching for RedBoot partition table in spiflash at offset 0x3d0000<br />Searching for RedBoot partition table in spiflash at offset 0x3e0000<br />6 RedBoot partitions found on MTD device spiflash<br />Creating 6 MTD partitions on &quot;spiflash&quot;:<br />0x00000000-0x00030000 : &quot;RedBoot&quot;<br />0x00030000-0x000f0000 : &quot;kernel&quot;<br />0x000f0000-0x003c0000 : &quot;rootfs&quot;<br />0x003c0000-0x003e0000 : &quot;cfg&quot;<br />0x003e0000-0x003ef000 : &quot;FIS directory&quot;<br />0x003ef000-0x003f0000 : &quot;RedBoot config&quot;<br />nf_conntrack version 0.5.0 (128 buckets, 1024 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP vegas registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (jffs2 filesystem) readonly.<br />Freeing unused kernel memory: 116k freed<br />Warning: unable to open an initial console.<br />Algorithmics/MIPS FPU Emulator v1.5<br />PPP generic driver version 2.4.2<br />tun: Universal TUN/TAP device driver, 1.6<br />tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;<br />wlan: 0.8.4.2 (svn r2568)<br />ath_hal: module license &#039;Proprietary&#039; taints kernel.<br />ath_hal: 0.9.30.13 (AR5212, AR5312, RF2316, TX_DESC_SWAP)<br />ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (svn r2568)<br />ath_rate_minstrel: look around rate set to 10%<br />ath_rate_minstrel: EWMA rolloff level set to 75%<br />ath_rate_minstrel: max segment size in the mrr set to 6000 us<br />wlan: mac acl policy registered<br />ath_ahb: 0.9.4.5 (svn r2568)<br />ath_pci: switching rfkill capability off<br />ath_pci: switching per-packet transmit power control off<br />wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps<br />wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps<br />wifi0: turboG rates: 6Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps<br />wifi0: H/W encryption support: WEP AES AES_CCM TKIP<br />wifi0: mac 11.0 phy 4.8 radio 7.0<br />wifi0: Use hw queue 1 for WME_AC_BE traffic<br />wifi0: Use hw queue 0 for WME_AC_BK traffic<br />wifi0: Use hw queue 2 for WME_AC_VI traffic<br />wifi0: Use hw queue 3 for WME_AC_VO traffic<br />wifi0: Use hw queue 8 for CAB traffic<br />wifi0: Use hw queue 9 for beacons<br />wifi0: Atheros 2315 WiSoC: mem=0xb0000000, irq=3</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70094">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						26 Jun 2008, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>how long does it take to boot now? my wrt54g used to take like 10 seconds from power application with no special configuration. one not so obvious thing you can do is increase the console baud rate, or add the &quot;quiet&quot; option, as the message output is blocking. remove packages and modules you don&#039;t use from your build config.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>