<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Solved] ]Need some information and help with Chinese router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p237811">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">solliq</div>
					<div class="post-datetime">
						23 Jun 2014, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello, </p><p>I bought a couple of routers from China a couple of weeks ago to be used at remote places.<br />I bought these because of that OpenWRT came preinstalled and I knew that this would make the router nice to work with.<br />Until the end of last weeks, they worked quite well but then it started to drop connection to the internal modem.</p><p>I asked the maker of the router of more information about the OpenWRT version but it was like speaking (mailing) with a wall...</p><p>So I was wondering if anyone have a clue if I can just install the newest stable version of OpenWRT and maybe get some of the errors go away.<br />Also, if anyone got a pointer how to solve the problem right away, I would be most pleased.</p><p>I&#039;ll link a couple of system logs with start up until crash and a kernel log.<br />system-log-1:<br /><a href="http://pastebin.com/q73bgYYk">http://pastebin.com/q73bgYYk</a><br />system-log-2:<br /><a href="http://pastebin.com/1Ae89AEN">http://pastebin.com/1Ae89AEN</a><br />kernel-log:<br /><a href="http://pastebin.com/vyYpqnqD">http://pastebin.com/vyYpqnqD</a></p><p>EDIT: Just wanted to add that a software reboot gets the router and connection up and running again, no problem then.<br />EDIT 2: I&#039;ve been moving around on the router and found that:<br />openwrt-release:<br />DISTRIB_ID=&quot;OpenWrt&quot;<br />DISTRIB_RELEASE=&quot;Bleeding Edge&quot;<br />DISTRIB_REVISION=&quot;r34076&quot;<br />DISTRIB_CODENAME=&quot;barrier_breaker&quot;<br />DISTRIB_TARGET=&quot;ar71xx/generic&quot;<br />DISTRIB_DESCRIPTION=&quot;OpenWrt Barrier Breaker r34076&quot;</p><p>So now I need to know which version of the generic version I need :-)</p><p>Best regards</p>											<p class="post-edited">(Last edited by <strong>solliq</strong> on 24 Jun 2014, 10:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237856">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						23 Jun 2014, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>Based on the logs you posted, it&#039;s a TL-MR3220:<br /></p><div class="codebox"><pre><code>Jun 23 10:43:05 OpenWrt kern.notice kernel: [    0.000000] Kernel command line:  board=TL-MR3220 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd</code></pre></div><p>It&#039;s a v1 model, because it uses the AR7240 (v2 uses AR9331)<br /></p><div class="codebox"><pre><code>Jun 23 10:43:05 OpenWrt kern.info kernel: [    0.000000] SoC: Atheros AR7240 rev 2</code></pre></div><p>Basically, flashing this should work:</p><p>12.09 final:<br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin">http://downloads.openwrt.org/attitude_a … actory.bin</a></p><p>Latest trunk:<br /><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a></p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 24 Jun 2014, 00:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237877">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">solliq</div>
					<div class="post-datetime">
						24 Jun 2014, 10:12					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, did not work that thing out by myself.<br />I just flashed in the latest version and seems to be working.<br />I was however unable to connect directly to the internet cause a 3G package was missing, I will try to add it then hopefully the router will be more stable then ever :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237918">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						24 Jun 2014, 17:56					</div>
				</div>
				<div class="post-content content">
					<p>What package?<br />Please read:<br /><a href="http://wiki.openwrt.org/doc/recipes/3gdongle">http://wiki.openwrt.org/doc/recipes/3gdongle</a></p><p>All the packages are easily downloaded and installed with this commands (connect the router to internet first)<br /></p><div class="codebox"><pre><code>opkg update
opkg install comgt kmod-usb2 kmod-usb-ohci kmod-usb-serial kmod-usb-serial-option kmod-usb-serial-wwan
opkg install kmod-usb-acm usb-modeswitch usb-modeswitch-data</code></pre></div>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 24 Jun 2014, 17:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237962">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">solliq</div>
					<div class="post-datetime">
						25 Jun 2014, 08:12					</div>
				</div>
				<div class="post-content content">
					<p>I got the modem working now, needed to add the package for Sierra Modems I think the name was (Its a Ericsson modem)<br />Now the problem is that the modem isn&#039;t initiate at start up, and when I run:<br />gcom -info -d /dev/ttyACM0 or ttyACM1</p><p>I get information regarding the modem but not when I run ttyACM2.</p><p>If I run:<br />gcom -d /dev/ttyACM0 or ttyACM2</p><p>They modem will respond that the modem was unable to connect but after a couple of seconds the system will be connected anyway.</p><p>EDIT: It is only when I do a hard reboot this problem occurs, when I do a soft reboot and the modem has been initiated before the modem will connect directly.</p>											<p class="post-edited">(Last edited by <strong>solliq</strong> on 25 Jun 2014, 08:17)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>