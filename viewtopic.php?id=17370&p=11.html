<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Broadcom BCM63xx codebase with GPL&#039;d Ethernet and USB support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 11 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p81092">
				<div class="post-metadata">
					<div class="post-num">Post #251</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						4 Feb 2009, 22:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Pavel wrote:</cite><blockquote><p>Somebody compile firmware for asus wl-600g on openwrt?</p></blockquote></div><p>You</p><p>we can help to do it</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81093">
				<div class="post-metadata">
					<div class="post-num">Post #252</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						4 Feb 2009, 22:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>LinuxInside wrote:</cite><blockquote><p>Yes! , I have solved the mystery of running kernels without the need for flashing.</p><p>I always wondered why I could not do:</p><p>r 192.168.1.100:vmlinuz</p><br /><p>Now I figured out why, the CFE loads the lzma compressed image to 0x80000000 afterwards it then tries to uncompress&nbsp; the kernel to 0x800010000. Thus overwriting the compressed image with the uncompressed image.</p><p>I now have patched the CFE to use an other TFTP load address, with the result I now can load kernels without the need for reflashing!</p><p>Also I have managed to disable the &quot;dual&quot; image check so no more backups to the lower half of flash which makes another 4M of flash space usable. (this has been tested with the Davolink router)</p><div class="codebox"><pre><code>...
*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 1
web info: Waiting for connection on socket 0.
CFE&gt;
CFE&gt; r 192.168.1.100:vmlinuz
Retry loading it as a compressed image.
Loading 192.168.1.100:vmlinuz ...
Finished loading 768252 bytes
Code Address: 0x80010000, Entry Address: 0x80010000
Decompression OK!
Entry at 0x80010000
Closing network.
Starting program at 0x80010000
Linux version 2.6.27.13 (henk@fx41) (gcc version 4.1.2) #6 Mon Feb 2 16:22:16 C9
...</code></pre></div></blockquote></div><p>Can you tel us how you made it?<br />Greath work, in your line</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81126">
				<div class="post-metadata">
					<div class="post-num">Post #253</div>
					<div class="post-author">Pavel</div>
					<div class="post-datetime">
						5 Feb 2009, 06:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><div class="quotebox"><cite>Pavel wrote:</cite><blockquote><p>Somebody compile firmware for asus wl-600g on openwrt?</p></blockquote></div><p>You</p><p>we can help to do it</p></blockquote></div><p>Ok, I try:)<br />Can you give me manual, how create firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81150">
				<div class="post-metadata">
					<div class="post-num">Post #254</div>
					<div class="post-author">Flipson</div>
					<div class="post-datetime">
						5 Feb 2009, 15:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,<br />i&#039;m trying to make openWRT work on &quot;easygate&quot; which has BCM6348.<br />So, i took the latest revision, and I have added an entry to bcm63xx/boards/board_bcm963xx.c with the name &quot;bcm002_06&quot;. <br />So this is what i get (i selected the RAMdisk option in make menuconfig) : <br /></p><div class="codebox"><pre><code>board_bcm963xx: CFE version: 2.17.101-7.0
console [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
board_bcm963xx: board name: bcm002_06
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00001000

Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
PID hash table entries: 64 (order: 6, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 12208k/16384k available (1890k kernel code, 4176k reserved, 331k data, 1600k init, 0k highmem)
Calibrating delay loop... 255.48 BogoMIPS (lpj=510976)
Mount-cache hash table entries: 512
net_namespace: 592 bytes
NET: Registered protocol family 16
registering 37 GPIOs
registering PCI controller with io_map_base unset
bus: 00 index 0 io port: [8000000, 800ffff]
bus: 00 index 1 mmio: [30000000, 37ffffff]

NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(1.516:1): initialized
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 23
io scheduler noop registered
io scheduler cfq registered (default)
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
console handover: boot [early0] -&gt; real [ttyS0]
bcm63xx_enet MII bus: probed
bcm963xx_flash: 0x01000000 at 0x1f000000
bcm963xx_flash: Failed to probe using CFI
bcm963xx-flash: probe of bcm963xx-flash.0 failed with error -5
TCP bic registered
NET: Registered protocol family 17
Freeing unused kernel memory: 1600k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
    (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
Broadcom 43xx driver loaded [ Features: PL, Firmware-ID: FW13 ]

PPP generic driver version 2.4.2
eth0: link UP - 100/full - flow control off



BusyBox v1.11.3 (2009-02-03 15:00:34 CET) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r14351) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# ls</code></pre></div><p>So OpenWRT is running, but without any write support. Here is the error during the initialisation :<br /></p><div class="codebox"><pre><code>bcm63xx_enet MII bus: probed
bcm963xx_flash: 0x01000000 at 0x1f000000
bcm963xx_flash: Failed to probe using CFI
bcm963xx-flash: probe of bcm963xx-flash.0 failed with error -5</code></pre></div><p>and i can&#039;t manage to find where is the right hexa address i have to tweak (because of the 8MB of flash of my box, instead of the 2).<br />The error &quot;Failed to probe using CFI&quot; is in trunk/linux/brcm63xx/files/drivers/mtd/maps l.171 , but actually i&#039;m rather stuck there :s</p><p>Could someone advise me where i should modify something ?<br />Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81151">
				<div class="post-metadata">
					<div class="post-num">Post #255</div>
					<div class="post-author">martonmiklos</div>
					<div class="post-datetime">
						5 Feb 2009, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>@t3l3m4k0</p><p>Thank you for the pinout.&nbsp; <br />About the USB port again. <br />Could you measure the voltage on the usb enable pin without pullup resistor? <br />I have found 3 suspicious 0 Ohm pulldown resistor, near the area where the <br />pinout said the USB enable pins. I can measure 1.2 Volt on them when the resistors are desoldered.</p><p>Thanks in avance!</p>											<p class="post-edited">(Last edited by <strong>martonmiklos</strong> on 5 Feb 2009, 15:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81195">
				<div class="post-metadata">
					<div class="post-num">Post #256</div>
					<div class="post-author">LinuxInside</div>
					<div class="post-datetime">
						6 Feb 2009, 01:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>Can you tel us how you made it?<br />Greath work, in your line</p></blockquote></div><p>See: <a href="http://wiki.openwrt.org/Hardware/Davolink/DV201AMR">http://wiki.openwrt.org/Hardware/Davolink/DV201AMR</a></p>											<p class="post-edited">(Last edited by <strong>LinuxInside</strong> on 6 Feb 2009, 01:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81208">
				<div class="post-metadata">
					<div class="post-num">Post #257</div>
					<div class="post-author">cshore</div>
					<div class="post-datetime">
						6 Feb 2009, 08:03					</div>
				</div>
				<div class="post-content content">
					<p>I have modified the openwrt imagetag tool so that it is possible to generate the correct tag for firmware with the roofs then kernel.&nbsp; I did this because I wanted to be able to reflash my system with firmware pulled from the mtd devices (which doesn&#039;t include the 256-byte image tag.&nbsp; I can now revert to factory defaults if I want to.</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Comtrend/CT-5621?action=AttachFile&amp;do=get&amp;target=make-flash-image.tar.gz">http://wiki.openwrt.org/OpenWrtDocs/Har … age.tar.gz</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81231">
				<div class="post-metadata">
					<div class="post-num">Post #258</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						6 Feb 2009, 17:14					</div>
				</div>
				<div class="post-content content">
					<p>@ cshore<br />nice work<br />@ martonmiklos<br />voltage must be betwin 0 to 3,3V. You must pullup to 3,3V.<br />Is not important voltage value of pin. It is important you get lucky trying correct pin. I think if points you have discovered are pulled down to 0V, you can try to connect to 3,3V without damage.<br />@Flipson<br />if you use a ramdisk version, its normal it can&#039;t use mtd partitions -&gt; no jffs over mtd -&gt; no write.</p><p>@Pavel,<br />sorry for delay.<br />Advertisement if you need your router to connect to internet, and have no other substitute, i recomend to take a beer and read a good boock.</p><p>Procedure is:<br />1.- You need a serial connexion with your router board and your computer.<br />2.- Make your own firmware.<br />3.- Boot your router, connected via serial to your computer, and break boot procedure from serial connexion (when router boots it waits 1 second from a serial conexion to break boot routine)<br />4.- You must install a tftp server on your computer to serve firmware to router.<br />5.- Use flasimage command to send firmware via lan. It expecs to receive firmware over tftp server.</p><p>To make your own firmware you need:<br />1.: A machine running some sort of Linux distribution (i use Fedora).<br />2.: Install SVN (subversion) package from repositoire of your Linux distribution.<br />3.: And do: </p><p>to get sources</p><p>svn co <a href="https://svn.openwrt.org/openwrt/trunk/">https://svn.openwrt.org/openwrt/trunk/</a></p><p>make menuconfig<br />-----&gt; selec board [bcm63xx]</p><p>make</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 6 Feb 2009, 17:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81302">
				<div class="post-metadata">
					<div class="post-num">Post #259</div>
					<div class="post-author">SuperCed</div>
					<div class="post-datetime">
						7 Feb 2009, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I am a newbee in embeded systems.</p><br /><p>Maybe I don&#039;t post at the right place.</p><p>I read that Hitashi AH4021 (Alicebox) can run OpenWRT. It&#039;s a broadcom bcm63xx, so I think it&#039;s ok.</p><p>So, I tried to go in download part of the openWRT website, and there were a lot of files.<br />I understood that I must download a firmware file but I don&#039;t know which one.</p><p>I tried with some, I used tftp to update my box, it seemed to work but when I reload the box, I always have my ISP interface (Alice).</p><p>I pushed on reset button at the back and wait for 30 secondes before and after updating firmware but it does not seems to work.</p><p>Can you help me to find the good bin file to update my box? Or maybe I do something wrong?</p><p>Last question, I just have MacOS X and a PC under Windows, do I need a Linux system?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81308">
				<div class="post-metadata">
					<div class="post-num">Post #260</div>
					<div class="post-author">falcorn</div>
					<div class="post-datetime">
						7 Feb 2009, 17:22					</div>
				</div>
				<div class="post-content content">
					<p>at the moment not all the bcm63x are supported. i&#039;m waiting for openwrt for alice gate 2 plus wifi and alice gate voip 2 plus wifi. i don&#039;t know if it will be possible but i hope yes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81313">
				<div class="post-metadata">
					<div class="post-num">Post #261</div>
					<div class="post-author">SuperCed</div>
					<div class="post-datetime">
						7 Feb 2009, 18:52					</div>
				</div>
				<div class="post-content content">
					<p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81321">
				<div class="post-metadata">
					<div class="post-num">Post #262</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						7 Feb 2009, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>@falcorn, SuperCed,<br />At this moment there aren&#039;t (generic and not generic) compiled in downloads site for bcm63xx devices. You must make your own compilation.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81323">
				<div class="post-metadata">
					<div class="post-num">Post #263</div>
					<div class="post-author">SuperCed</div>
					<div class="post-datetime">
						7 Feb 2009, 20:03					</div>
				</div>
				<div class="post-content content">
					<p>Do I need Linux to compile theses sources or can it run on MacOS X?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81324">
				<div class="post-metadata">
					<div class="post-num">Post #264</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						7 Feb 2009, 20:11					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m not sure, i think you can do it&nbsp; in macOS, maybe with&nbsp; a virtual machine.</p><p>Try to search across fourums.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81328">
				<div class="post-metadata">
					<div class="post-num">Post #265</div>
					<div class="post-author">SuperCed</div>
					<div class="post-datetime">
						7 Feb 2009, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>Do we need a special environnement to compile?</p><p>Or it&#039;s standard C and Unix library?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81346">
				<div class="post-metadata">
					<div class="post-num">Post #266</div>
					<div class="post-author">cshore</div>
					<div class="post-datetime">
						7 Feb 2009, 23:02					</div>
				</div>
				<div class="post-content content">
					<p>I have posted a modified version of hairydairymaid&#039;s debrick utility (<a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/JTAG_Cable?action=AttachFile&amp;do=get&amp;target=HairyDairyMaid_WRT54G_Debrick_Utility_v48%7Ecshore1.zip">http://wiki.openwrt.org/OpenWrtDocs/Cus … shore1.zip</a>) which</p><p>* Supports dma on bigendian CPU&#039;s (such as the BCM63xx)<br />* Supports reading and writing either bigendian or littleendian images files (little endian is what debrick does by default, bigendian is what dd if=/dev/mtdX will give you)<br />* Includes a trivial endianness translator (a simple commandline filter)<br />* Adds support for the flash chip on various 96348GW-11 based boards (it&#039;s a Fujitsu flash)<br />* Adds support for 64k (and 128k) CFE such as the 64k CFE on various 96348GW-11 boards</p><p>Hope you enjoy!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81348">
				<div class="post-metadata">
					<div class="post-num">Post #267</div>
					<div class="post-author">cshore</div>
					<div class="post-datetime">
						7 Feb 2009, 23:09					</div>
				</div>
				<div class="post-content content">
					<p>I should tell you that the modified imagetag does a minimal amount of work; you already need to know the entry point of the kernel, the size and offset of the kernel in the flash (once flashed), and size of the mtd partition that is used around the rootfs+kernel.&nbsp; </p><p>This information can be obtained from the boot logs of the original (manufacturer&#039;s) firmware plus a ramdisk-based boot of openwrt with the stock kernel in the flash.</p>											<p class="post-edited">(Last edited by <strong>cshore</strong> on 7 Feb 2009, 23:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81411">
				<div class="post-metadata">
					<div class="post-num">Post #268</div>
					<div class="post-author">LinuxInside</div>
					<div class="post-datetime">
						8 Feb 2009, 18:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cshore wrote:</cite><blockquote><p>I have posted a modified version of hairydairymaid&#039;s debrick utility (<a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/JTAG_Cable?action=AttachFile&amp;do=get&amp;target=HairyDairyMaid_WRT54G_Debrick_Utility_v48%7Ecshore1.zip">http://wiki.openwrt.org/OpenWrtDocs/Cus … shore1.zip</a>) which</p><p>* Supports dma on bigendian CPU&#039;s (such as the BCM63xx)<br />* Supports reading and writing either bigendian or littleendian images files (little endian is what debrick does by default, bigendian is what dd if=/dev/mtdX will give you)<br />* Includes a trivial endianness translator (a simple commandline filter)<br />* Adds support for the flash chip on various 96348GW-11 based boards (it&#039;s a Fujitsu flash)<br />* Adds support for 64k (and 128k) CFE such as the 64k CFE on various 96348GW-11 boards</p><p>Hope you enjoy!</p></blockquote></div><p>Great thanx!</p><p>Can you add a description for Davolink flash??</p><p>{ 0x00c2, 0x227e, size8MB, CMD_TYPE_AMD, &quot;MX29LV640MB 4Mx16 BotB&nbsp; &nbsp; (8MB)&quot;&nbsp; &nbsp;,8,size8K, 127,size64K,&nbsp; &nbsp; &nbsp; 0,0,&nbsp; &nbsp; &nbsp; &nbsp; 0,0&nbsp; &nbsp;},</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81415">
				<div class="post-metadata">
					<div class="post-num">Post #269</div>
					<div class="post-author">falcorn</div>
					<div class="post-datetime">
						8 Feb 2009, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>@t3l3m4k0<br />how can i compile it for my router? where i can find all the necessary?<br />many thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81473">
				<div class="post-metadata">
					<div class="post-num">Post #270</div>
					<div class="post-author">SuperCed</div>
					<div class="post-datetime">
						9 Feb 2009, 16:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cshore wrote:</cite><blockquote><p>I should tell you that the modified imagetag does a minimal amount of work; you already need to know the entry point of the kernel, the size and offset of the kernel in the flash (once flashed), and size of the mtd partition that is used around the rootfs+kernel.&nbsp; </p><p>This information can be obtained from the boot logs of the original (manufacturer&#039;s) firmware plus a ramdisk-based boot of openwrt with the stock kernel in the flash.</p></blockquote></div><p>Do you have a step by step guide to do all this, because I am a newbee in embeded system.</p><p>I have a firmware from Alice. Maybe I have to check the offset inside?</p><p>So I need :<br />- entry point of the kernel - How can I found this? What can I do with that? Do I need to edit Alice&#039;s firmware?<br />- size of the kernel - After flashing the firmware? So I get the info with openWRT? (ramdisk-based boot of openwrt with the stock kernel in the flash?)<br />- offset of the kernel - Same questions<br />- size of mtd partition used by rootfs+kernel - How can I find this? </p><p>I am a little bit lost with all that...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81515">
				<div class="post-metadata">
					<div class="post-num">Post #271</div>
					<div class="post-author">LinuxInside</div>
					<div class="post-datetime">
						10 Feb 2009, 00:22					</div>
				</div>
				<div class="post-content content">
					<p>The bcm53xx switch is now supported on bcm63xx:</p><p><a href="https://dev.openwrt.org/ticket/4599">https://dev.openwrt.org/ticket/4599</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81547">
				<div class="post-metadata">
					<div class="post-num">Post #272</div>
					<div class="post-author">Ficu</div>
					<div class="post-datetime">
						10 Feb 2009, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>I search worked firmware version to run on WL600G (usb, torrent, static ip).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81928">
				<div class="post-metadata">
					<div class="post-num">Post #273</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						15 Feb 2009, 21:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>LinuxInside wrote:</cite><blockquote><p>The bcm53xx switch is now supported on bcm63xx:</p><p><a href="https://dev.openwrt.org/ticket/4599">https://dev.openwrt.org/ticket/4599</a></p></blockquote></div><p>Fine.&nbsp; Any advance about it?</p><div class="quotebox"><cite>Cshore wrote:</cite><blockquote><p>I have posted a modified version of hairydairymaid&#039;s debrick utility (http://wiki.openwrt.org/OpenWrtDocs/Cus â€¦ shore1.zip) ......</p></blockquote></div><p>Greath, with early version i must deactivate dma, it takes about 1h to put only CFE.</p><p>cshore, can you explain how to obtain entry point, size and offset .... before flash it? </p><p>thnks in advanced.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81932">
				<div class="post-metadata">
					<div class="post-num">Post #274</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						15 Feb 2009, 21:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falcorn wrote:</cite><blockquote><p>@t3l3m4k0<br />how can i compile it for my router? where i can find all the necessary?<br />many thanks</p></blockquote></div><p>what model is your router ?</p><p>You need.<br />1.- working serial console attached to device (recomended)<br />2.- Linux distribution with &quot;subversion&quot; package installed<br />3.- do from a terminal:<br />mkdir openwrt<br />cd openwrt<br />svn co <a href="https://svn.openwrt.org/openwrt/trunk/">https://svn.openwrt.org/openwrt/trunk/</a><br />4.- do:<br />cd trunk<br />make menuconfig<br />(select your target, bcm63xx, squashfs, ..., and config defaults)<br />5.- if neded install al packages that output &quot;make menuconfig&quot; says<br />6.- do:<br />make<br />7.- at .../openwrt/trunk/bin/ you can found firmware files.</p><p>Before flash your router maybe you must patch some files to adapt firmware to your board. Do other time &quot;make&quot;. At this point if you have info about your board i can guide to patch files.</p><p>best wishes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81977">
				<div class="post-metadata">
					<div class="post-num">Post #275</div>
					<div class="post-author">LinuxInside</div>
					<div class="post-datetime">
						16 Feb 2009, 16:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><div class="quotebox"><cite>LinuxInside wrote:</cite><blockquote><p>The bcm53xx switch is now supported on bcm63xx:</p><p><a href="https://dev.openwrt.org/ticket/4599">https://dev.openwrt.org/ticket/4599</a></p></blockquote></div><p>Fine.&nbsp; Any advance about it?</p></blockquote></div><p>Minimal progress. In my perception every small patch takes weeks to process without results or constructive feedback.</p><p>See:<br /><a href="https://dev.openwrt.org/ticket/4433">https://dev.openwrt.org/ticket/4433</a><br /><a href="https://dev.openwrt.org/ticket/4599">https://dev.openwrt.org/ticket/4599</a></p><p>If anyone has a suggestion on how to resolve this or to make the development process much more efficient please feel free to comment.</p><p>I would assume that we have the same interests: Create the best Linux based firmware support for the routers we own....</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 276 to 275 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 11 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>