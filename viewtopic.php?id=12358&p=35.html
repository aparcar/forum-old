<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for Marvell 88F5xx81 based routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 18 Jan 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 35 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=33.html">33</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=34.html">34</a></li><li class="pagination-current"><span>35</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=36.html">36</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=37.html">37</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p107440">
				<div class="post-metadata">
					<div class="post-num">Post #851</div>
					<div class="post-author">baxter104</div>
					<div class="post-datetime">
						21 Apr 2010, 00:33					</div>
				</div>
				<div class="post-content content">
					<p>Ok, according to post #340, I just have to do after having built wrt350nv2-uImage &amp; root.squashfs :<br/>dd if=wrt350nv2-uImage of=wrt350nv2-uImage.padded bs=1024k conv=sync<br/>cat wrt350nv2-uImage.padded root.squashfs &gt;wrt350nv2.img</p><p>And then sysupgrade -n wrt350nv2.img</p><p>I&#039;ll try tomorrow !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107442">
				<div class="post-metadata">
					<div class="post-num">Post #852</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						21 Apr 2010, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>@baxter:<br/>Why do you do all that stuff? Did you also read <a href="https://forum.openwrt.org/viewtopic.php?pid=92789#p92789">#375</a> as recommended?</p><p>Just transfer your &quot;openwrt-wrt350nv2-squashfs.img&quot; to /tmp, then call:<br/></p><div class="codebox"><pre><code>sysupgrade -n /tmp/openwrt-wrt350nv2-squashfs.img</code></pre></div><p>If you want to flash the official Backfire release, then downloading can be done by sysupgrade itself:<br/></p><div class="codebox"><pre><code>sysupgrade -n http://downloads.openwrt.org/backfire/10.03/orion/openwrt-wrt350nv2-squashfs.img</code></pre></div><p>Looks similar to <a href="https://forum.openwrt.org/viewtopic.php?pid=92789#p92789">#375</a>, doesn&#039;t it?</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 21 Apr 2010, 01:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107448">
				<div class="post-metadata">
					<div class="post-num">Post #853</div>
					<div class="post-author">baxter104</div>
					<div class="post-datetime">
						21 Apr 2010, 02:54					</div>
				</div>
				<div class="post-content content">
					<p>I didn&#039;t see that openwrt-wrt350nv2-squashfs.img was in the bin/orion directory. I only searched in build_dir directory.</p><p>Sorry for that, and thank&#039;s for your patience.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107575">
				<div class="post-metadata">
					<div class="post-num">Post #854</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						22 Apr 2010, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>@baxter:<br/>Glad you managed.</p><div class="quotebox"><cite>maddes.b in #300 wrote:</cite><blockquote><p>After compilation the build can be found in the bin folder.</p></blockquote></div><p>I know it&#039;s a lot of stuff when you start from scratch, but especially that&#039;s the case where you have to read thoroughly and multiple times.<br/>Every sentence contains valuable information and is prerequisite for the following sentences.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 22 Apr 2010, 14:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107576">
				<div class="post-metadata">
					<div class="post-num">Post #855</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						22 Apr 2010, 14:15					</div>
				</div>
				<div class="post-content content">
					<p>Erik&#039;s patch for the mwl8k driver from <a href="https://dev.openwrt.org/ticket/7209">ticket #7209</a> was committed to trunk with <a href="https://dev.openwrt.org/changeset/21077">r21077</a>.<br/>This allows to add the mwl8k driver to the build. Let&#039;s hope that the firmware will be add to the Linux kernel tree soon, so WNR854T with stock hardware will work too.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 22 Apr 2010, 14:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108300">
				<div class="post-metadata">
					<div class="post-num">Post #856</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						1 May 2010, 07:23					</div>
				</div>
				<div class="post-content content">
					<p>X-Wrt is back with Backfire support (r20742) if you miss web interface:<br/><a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/orion/generic/">http://downloads.x-wrt.org/xwrt/backfir … n/generic/</a><br/>BTW there is not OpenVPN build.</p>											<p class="post-edited">(Last edited by <strong>Nilfred</strong> on 1 May 2010, 07:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108305">
				<div class="post-metadata">
					<div class="post-num">Post #857</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						1 May 2010, 12:18					</div>
				</div>
				<div class="post-content content">
					<p>As there is a kmod-tun package in the X-Wrt repository, I assume that they compiled with tun/VPN support.<br/>Try installing package &quot;openvpn&quot;, this will also install kmod-tun.<br/>If it doesn&#039;t panic on start (check with dmesg and ps) then VPN connections should work too.</p><p>Unfortunately there&#039;s no copy of the .config from the X-Wrt builds, otherwise we could just check if &quot;CONFIG_PACKAGE_kmod-tun&quot; was set to &quot;y&quot; or &quot;m&quot; for the builds (again the available kmod-tun package indicates at least &quot;m&quot;).</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 1 May 2010, 12:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108339">
				<div class="post-metadata">
					<div class="post-num">Post #858</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						2 May 2010, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>Erik&#039;s (rectified) patch for the mwl8k driver from <a href="https://dev.openwrt.org/ticket/7209">ticket #7209</a> was committed to trunk with <a href="https://dev.openwrt.org/changeset/21167">r21167</a>.<br/>Hunting season for AP firmware is now officially open.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108630">
				<div class="post-metadata">
					<div class="post-num">Post #859</div>
					<div class="post-author">sjoerd</div>
					<div class="post-datetime">
						6 May 2010, 00:04					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve installed backfire without any problems, but then apparently screwed up vlanning my wrt350n. Now, I cannot reach it anymore and also tftp is not working. I cannot ping the device on 192.168.1.1 during boot or after booting with the reset pressed such that the power led turns orange and starts blinking. I&#039;ve basically nmapped the 192,168.*.* domain in this state, only returning my laptop.<br/>Is there any way to reach this device via the net? Or do I need to use a serial console? If that&#039;s the case, I have found the white J5-connector, but am completely ignorant on which cables to buy where. Thank you for any help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108631">
				<div class="post-metadata">
					<div class="post-num">Post #860</div>
					<div class="post-author">dirkNL</div>
					<div class="post-datetime">
						6 May 2010, 00:05					</div>
				</div>
				<div class="post-content content">
					<p>hi sjoerd, look for &#039;download mode&#039; in this topic, DaBicMac wrote a beautiful guide for you to follow, you won&#039;t need serial to recover, but you will loose all of your settings.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108640">
				<div class="post-metadata">
					<div class="post-num">Post #861</div>
					<div class="post-author">Andrey</div>
					<div class="post-datetime">
						6 May 2010, 04:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello2<br/>some time been tormented with the update wrt350n v2.1 firmware to 2.00.20, this topic has helped restore my router to version 2.00.17 (previously laid out bin file), but wanted patched the latest version.<br/>Again using <a href="https://forum.openwrt.org/viewtopic.php?pid=92928#p92928">instructions</a> I created the bin-file, updated, but there were some problems:<br/>Web interface was a gray-blue (this happens when I have a web pack is 2.00.19 or 2.00.20 format img) - tried to reset to default settings, but this action sent the router into hibernation (solid light yellow light power).<br/>I wrongly converted the firmware? or what could be the problem?<br/>thank you in advance for the help and sorry for my English.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108672">
				<div class="post-metadata">
					<div class="post-num">Post #862</div>
					<div class="post-author">sjoerd</div>
					<div class="post-datetime">
						6 May 2010, 14:45					</div>
				</div>
				<div class="post-content content">
					<p>Thank you Dirk for your information, I will give it a try. The bad news is that I then won&#039;t teach how to get a serial console...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108675">
				<div class="post-metadata">
					<div class="post-num">Post #863</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						6 May 2010, 16:57					</div>
				</div>
				<div class="post-content content">
					<p>@sjoerd: Read <a href="https://forum.openwrt.org/viewtopic.php?pid=82410#p82410">post #300</a> completely, there are links to the relevant posts for serial access and download mode.<br/>Download mode should be <a href="https://forum.openwrt.org/viewtopic.php?pid=94830#p94830">#524</a> and <a href="https://forum.openwrt.org/viewtopic.php?pid=93665#p93665">#436</a>.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 10 May 2010, 00:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108813">
				<div class="post-metadata">
					<div class="post-num">Post #864</div>
					<div class="post-author">sjoerd</div>
					<div class="post-datetime">
						9 May 2010, 17:51					</div>
				</div>
				<div class="post-content content">
					<p>@maddes: thanks for the links. The download mode with the utility was easy enough. Probably a good remark for somebody else with problems: the upgrade utility should be run with admin privileges, else it cannot get the proper access to your ethernet card. Now I still need to figure how to run the utility under wine...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109111">
				<div class="post-metadata">
					<div class="post-num">Post #865</div>
					<div class="post-author">nd_100</div>
					<div class="post-datetime">
						14 May 2010, 21:26					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone know if the WNR854T has a temperature sensor on it?&nbsp; And if so, any packages that could make it accessible.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109198">
				<div class="post-metadata">
					<div class="post-num">Post #866</div>
					<div class="post-author">jcwoltz</div>
					<div class="post-datetime">
						16 May 2010, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>Thank you to everyone who has help get OpenWRT to this point. I am trying to compile trunk revision 21480 for orion. I am able to compile backfire just fine. </p><div class="codebox"><pre><code>make[3]: Entering directory `/media/500g/stfu/src/openwrt/target/linux&#039;
make[4]: Entering directory `/media/500g/stfu/src/openwrt/target/linux/orion&#039;
if [ -s &quot;/media/500g/stfu/src/openwrt/build_dir/linux-orion_generic/linux-2.6.32.12/patches/series&quot; ]; then (cd &quot;/media/500g/stfu/src/openwrt/build_dir/linux-orion_generic/linux-2.6.32.12&quot;; if quilt --quiltrc=- next &gt;/dev/null 2&gt;&amp;1; then quilt --quiltrc=- push -a; else quilt --quiltrc=- top &gt;/dev/null 2&gt;&amp;1; fi ); fi
Applying patch platform/050-wrt350nv2_cfi_workaround.patch
patching file drivers/mtd/chips/cfi_cmdset_0002.c
Hunk #1 FAILED at 374.
1 out of 1 hunk FAILED -- rejects in file drivers/mtd/chips/cfi_cmdset_0002.c
Patch platform/050-wrt350nv2_cfi_workaround.patch does not apply (enforce with -f)
make[4]: *** [/media/500g/stfu/src/openwrt/build_dir/linux-orion_generic/linux-2.6.32.12/.quilt_checked] Error 1
make[4]: Leaving directory `/media/500g/stfu/src/openwrt/target/linux/orion&#039;</code></pre></div><p>Is there a way to just build for the WNR854T and skip the srt350nv2? </p><p>Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109233">
				<div class="post-metadata">
					<div class="post-num">Post #867</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						17 May 2010, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>@jcwoltz:<br/>OpenWrt build system is platform-based and not device-based. Same for the patches.<br/>I last compiled r21156 with kernel 2.6.32.12 for Orion without any problems, and there wasn&#039;t any relevant change since then (as far as I can remember).</p><p>If you have changed something, please backup your changes, revert them, clean up and try again.</p><p><span class="bbu">Update:</span><br/>Could access my system via VPN and Backfire r21485 (kernel 2.6.32) just compiled fine without any issues.<br/>Must be on your side, please issue a &quot;make distclean&quot;.</p><p><span class="bbu">Update #2:</span><br/>[s]With a closer look I assume you want to compile with a 2.6.34 kernel.[/s] There&#039;s 2.6.32.12 in the excerpt.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 17 May 2010, 21:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109267">
				<div class="post-metadata">
					<div class="post-num">Post #868</div>
					<div class="post-author">jcwoltz</div>
					<div class="post-datetime">
						17 May 2010, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>@maddes.b<br/>Thank you for your reply. I have no problem building backfire from svn, its trunk that will not compile for me. I tried this again, but now at revision 21486.</p><div class="codebox"><pre><code>rm -rf openwrt
svn co svn://svn.openwrt.org/openwrt/trunk/ openwrt
cd openwrt
make menuconfig
make V=99</code></pre></div><p>The only thing I changed at this point is the target system to Marvell Orion.<br/>Failed with output:</p><div class="codebox"><pre><code>Applying patch platform/010-ignore_atag_cmdline.patch
patching file arch/arm/kernel/setup.c

Applying patch platform/050-wrt350nv2_cfi_workaround.patch
patching file drivers/mtd/chips/cfi_cmdset_0002.c
Hunk #1 FAILED at 374.
1 out of 1 hunk FAILED -- rejects in file drivers/mtd/chips/cfi_cmdset_0002.c
Patch platform/050-wrt350nv2_cfi_workaround.patch does not apply (enforce with -f)
make[4]: *** [/media/500g/stfu/src/openwrt/build_dir/linux-orion_generic/linux-2.6.32.12/.quilt_checked] Error 1
make[4]: Leaving directory `/media/500g/stfu/src/openwrt/target/linux/orion&#039;
make[3]: *** [compile] Error 2
make[3]: Leaving directory `/media/500g/stfu/src/openwrt/target/linux&#039;
make[2]: *** [target/linux/compile] Error 2
make[2]: Leaving directory `/media/500g/stfu/src/openwrt&#039;
make[1]: *** [/media/500g/stfu/src/openwrt/staging_dir/target-arm_v5t_uClibc-0.9.30.1_eabi/stamp/.target_compile] Error 2
make[1]: Leaving directory `/media/500g/stfu/src/openwrt&#039;
make: *** [world] Error 2</code></pre></div><p><strong>Edit 1</strong> 2010-05-19-1230: Thank you for maddes.b for seeing the problem and entering a ticket.</p>											<p class="post-edited">(Last edited by <strong>jcwoltz</strong> on 19 May 2010, 07:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109271">
				<div class="post-metadata">
					<div class="post-num">Post #869</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						17 May 2010, 22:16					</div>
				</div>
				<div class="post-content content">
					<p>Got it reproduced. Will update this post accordingly.</p><p><span class="bbu">Reason:</span><br/>target/linux/generic-2.6/patches-2.6.32/089-mtd-samsung-flash.patch<br/>collides with <br/>target/linux/orion/patches/050-wrt350nv2_cfi_workaround.patch</p><br/><p><span class="bbu">Update:</span><br/>Created <a href="https://dev.openwrt.org/ticket/7348">ticket #7348</a> for it.</p><p><span class="bbu">Update #2:</span><br/>Updated the ticket with my analysis.</p><p>Currently I would suggest to delete the Orion patch <em>target/linux/orion/patches/050-wrt350nv2_cfi_workaround.patch</em>:<br/></p><div class="codebox"><pre><code>svn delete target/linux/orion/patches/050-wrt350nv2_cfi_workaround.patch</code></pre></div><p>Otherwise update the Orion patch <em>target/linux/orion/patches/050-wrt350nv2_cfi_workaround.patch</em> to:<br/></p><div class="codebox"><pre><code>--- a/drivers/mtd/chips/cfi_cmdset_0002.c
+++ b/drivers/mtd/chips/cfi_cmdset_0002.c
@@ -374,8 +374,9 @@ struct mtd_info *cfi_cmdset_0002(struct 
 
         cfi_fixup_major_minor(cfi, extp);
 
-        if (extp-&gt;MajorVersion &lt; &#039;0&#039; || extp-&gt;MajorVersion &gt; &#039;3&#039; ||
-            (extp-&gt;MinorVersion &lt; &#039;0&#039; || extp-&gt;MinorVersion &gt; &#039;4&#039;)) {
+        if ((extp-&gt;MajorVersion != &#039;0&#039; &amp;&amp; extp-&gt;MinorVersion != &#039;0&#039;) &amp;&amp;
+            (extp-&gt;MajorVersion &lt; &#039;0&#039; || extp-&gt;MajorVersion &gt; &#039;3&#039; ||
+             (extp-&gt;MinorVersion &lt; &#039;0&#039; || extp-&gt;MinorVersion &gt; &#039;4&#039;))) {
                 if (cfi-&gt;mfr == MANUFACTURER_SAMSUNG &amp;&amp;
                 (extp-&gt;MajorVersion == &#039;3&#039; &amp;&amp; extp-&gt;MinorVersion == &#039;3&#039;)) {
                 printk(KERN_NOTICE &quot;  Newer Samsung flash detected, &quot;</code></pre></div><p>Warning! Not tested yet!</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 18 May 2010, 02:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109281">
				<div class="post-metadata">
					<div class="post-num">Post #870</div>
					<div class="post-author">baxter104</div>
					<div class="post-datetime">
						18 May 2010, 02:19					</div>
				</div>
				<div class="post-content content">
					<p>The WRT350N v2 includes 2 buttons : one reset button on the rear and one button for WPS in the front.<br/>I&#039;ve seen that in the patch for led support, the button support is also implemented:</p><div class="codebox"><pre><code>++/*
++ * Buttons attached to GPIO
++ */
++static struct gpio_keys_button wrt350n_v2_buttons[] = {
++        {
++                .code           = KEY_RESTART,
++                .gpio           = 3,
++                .desc           = &quot;Reset Button&quot;,
++                .active_low     = 1,
++        }, {
++                .code           = KEY_WLAN,
++                .gpio           = 2,
++                .desc           = &quot;WPS Button&quot;,
++                .active_low     = 1,
++        },
++};
++
++static struct gpio_keys_platform_data wrt350n_v2_button_data = {
++        .buttons        = wrt350n_v2_buttons,
++        .nbuttons       = ARRAY_SIZE(wrt350n_v2_buttons),
++};
++
++static struct platform_device wrt350n_v2_button_device = {
++        .name           = &quot;gpio-keys&quot;,
++        .id             = -1,
++        .num_resources  = 0,
++        .dev            = {
++                .platform_data  = &amp;wrt350n_v2_button_data,
++        },</code></pre></div><p>But after having added support for gpio buttons and keys, I see nothing in the /sys/devices/platform/gpio-keys directory.</p><p>Does anyone have tried to use those 2 keys ?</p>											<p class="post-edited">(Last edited by <strong>baxter104</strong> on 18 May 2010, 02:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109410">
				<div class="post-metadata">
					<div class="post-num">Post #871</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						19 May 2010, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>@Baxter:<br/>DirkNL or StrikerNL mentioned in this thread that you can already see the interrupts of the buttons somewhere. Just check the last ~10 pages for &quot;button&quot; (<a href="https://forum.openwrt.org/viewtopic.php?pid=100391#p100391">#664</a>, <a href="https://forum.openwrt.org/viewtopic.php?pid=102443#p102443">#724</a>).<br/>Also these two wanted to work on some useful functions for these buttons. Maybe just try to contact them, they are nice guys from the Netherlands.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 19 May 2010, 19:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109412">
				<div class="post-metadata">
					<div class="post-num">Post #872</div>
					<div class="post-author">dirkNL</div>
					<div class="post-datetime">
						19 May 2010, 15:37					</div>
				</div>
				<div class="post-content content">
					<p>hi baxter, buttons are working, take a look at /proc/interrupts for instance.</p><p>The problem for us is spare time, we simply don&#039;t have any more time on our hands. If you&#039;d like to fiddle around with the userspace part for the buttons be my guest. Unfortunately we don&#039;t have any leads to go on so you&#039;ll have to look somewhere on howto get these interrupts in userspace processes.</p><p>The ideas we had for the buttons:<br/>Reset button: when pressed during OpenWRT boot, the jffs2 overlay will NOT be mounted, so you could use this state as a sort of recovery without having to reflash the entire unit<br/>WPS button: when pressed toggle the wifi&#039;s security, this could be useful for people who&#039;d like to give guests access to their wifi.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109555">
				<div class="post-metadata">
					<div class="post-num">Post #873</div>
					<div class="post-author">EuGG</div>
					<div class="post-datetime">
						21 May 2010, 05:24					</div>
				</div>
				<div class="post-content content">
					<p>All I gotta say is =&gt; O M G!!!</p><p>I&#039;ve tried to follow the last 800 posts and i&#039;m just one mess... Especially with the actual Backfire release (i think you guys were testing with RC1?)<br/>It&#039;s confusing as most previous posts relate to rebuilding stuff and i&#039;m completely lost at the moment.</p><p>I&#039;ve got a WRT350N v2</p><p>Stock firmware is super crappy so I want to try OpenWRT.<br/>Can someone point me in the right direction?<br/>- Where do I start?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109587">
				<div class="post-metadata">
					<div class="post-num">Post #874</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						21 May 2010, 14:45					</div>
				</div>
				<div class="post-content content">
					<p>I started with the wiki page for the WRT350N v2 at <a href="http://wiki.openwrt.org/toh/linksys/wrt350nv2">http://wiki.openwrt.org/toh/linksys/wrt350nv2</a>.<br/>It&#039;s currently just a start.<br/>To be added are descriptions/links of recovery methods, serial pin layout, technical details, etc.<br/>Everybody is welcome to join and bring this wiki page to a RTFM-state (will reduce forum noise).</p><p>Does anyone remember the opkg package that allows to change the U-Boot variables?</p><p>@EuGG:<br/>This will answer some of your questions.<br/>By the way tests were done always with the latest release candidate or the final release.<br/>Currently I test on the latest Backfire branch and with Bleeding Edge (trunk).</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 24 May 2010, 00:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109703">
				<div class="post-metadata">
					<div class="post-num">Post #875</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						23 May 2010, 20:56					</div>
				</div>
				<div class="post-content content">
					<p>Orion is compilable in trunk again (<a href="https://dev.openwrt.org/changeset/21551">r21551</a>).<br/>Also kernel 2.6.33.4 is now compilable too (<a href="https://dev.openwrt.org/changeset/21552">r21552</a>).</p><p>@jcwoltz: Ready, set, go.</p><br/><p><span class="bbu">Update:</span><br/>Kernel 2.6.34 is now also possible in trunk (<a href="https://dev.openwrt.org/ticket/7377">ticket #7377</a>)</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 24 May 2010, 02:34)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 35 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=33.html">33</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=34.html">34</a></li><li class="pagination-current"><span>35</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=36.html">36</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=37.html">37</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>