<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> The perfect router for VoIP (SIP)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p104377">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">wilsonhlacerda</div>
					<div class="post-datetime">
						8 Mar 2010, 14:02					</div>
				</div>
				<div class="post-content content">
					<p>Interesting article on &quot;the perfect router&quot; for VoIP/SIP support:<br /><a href="http://sipsorcery.wordpress.com/2009/12/15/the-bullet-proof-solution-to-one-way-audio-buy-a-new-router/">http://sipsorcery.wordpress.com/2009/12 â€¦ ew-router/</a></p><p>Nice tool for NAT testing is mentioned:<br /><a href="http://nattest.net.in.tum.de">http://nattest.net.in.tum.de</a>/</p><p>And....seems OpenWrt (Kamikaze 8.09.2) is not exactly the perfect one.&nbsp; To developers: any way to revert this?</p><br /><p>PS: beside a good NAT solution I&#039;ll put a good QoS as a mandatory feature for &quot;the perfect router&quot; for VoIP.&nbsp; This is somehow present in OpenWrt already.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104380">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						8 Mar 2010, 15:05					</div>
				</div>
				<div class="post-content content">
					<p>What I did to avoid NAT issues is that I installed asterisk on my router. OpenWRT has many SIP packages pre-packaged so it&#039;s easy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104383">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">wilsonhlacerda</div>
					<div class="post-datetime">
						8 Mar 2010, 17:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zorxd wrote:</cite><blockquote><p>What I did to avoid NAT issues is that I installed asterisk on my router. OpenWRT has many SIP packages pre-packaged so it&#039;s easy.</p></blockquote></div><p>Yeap!&nbsp; That&#039;s a good option!&nbsp; In fact I did just the same....by the way I&#039;m facing problems to reach my asterisk from outside.&nbsp; From LAN no problem at all.&nbsp; But I&#039;ll open a new thread for that and not spoil this one here.</p><p>But this thread idea is to share a good article (at least in my opinion).&nbsp; And maybe discuss about a full cone OpenWrt.</p>											<p class="post-edited">(Last edited by <strong>wilsonhlacerda</strong> on 8 Mar 2010, 17:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104875">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">thomasw</div>
					<div class="post-datetime">
						19 Mar 2010, 22:39					</div>
				</div>
				<div class="post-content content">
					<p>If you want asterisk behind an openwrt (bcrm 2.4) router, you have to make sure r19761 is compiled in.&nbsp; Otherwise the port forwarding (NAT) breaks after a relatively short time and your asterisk may (or may not) lose its sip registration and ability to communicate with the outside world. I&#039;ve had issues with this for more than two years, and now it&#039;s been finally fixed in r19761 (this is not included in the 8.09.2 release!) See <a href="https://dev.openwrt.org/ticket/2558">https://dev.openwrt.org/ticket/2558</a> for more details.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104881">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wilsonhlacerda</div>
					<div class="post-datetime">
						20 Mar 2010, 03:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>thomasw wrote:</cite><blockquote><p>If you want asterisk behind an openwrt (bcrm 2.4) router, you have to make sure r19761 is compiled in.&nbsp; Otherwise the port forwarding (NAT) breaks after a relatively short time and your asterisk may (or may not) lose its sip registration and ability to communicate with the outside world. I&#039;ve had issues with this for more than two years, and now it&#039;s been finally fixed in r19761 (this is not included in the 8.09.2 release!) See <a href="https://dev.openwrt.org/ticket/2558">https://dev.openwrt.org/ticket/2558</a> for more details.</p></blockquote></div><p>I&#039;ll better check that.&nbsp; 2 years bug and it is not in latest Kamikaze yet!? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Maybe this can explain what I wrote here:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=23862">https://forum.openwrt.org/viewtopic.php?id=23862</a></p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104882">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">thomasw</div>
					<div class="post-datetime">
						20 Mar 2010, 06:20					</div>
				</div>
				<div class="post-content content">
					<p>Port forwarding was definitely broken for a long long time, including 8.09.2 (even though the release notes state otherwise). Anyway, I checked out the 8.09.2 branch, merged r19761 from trunk and for the first time in years port forwarding actually works. Without that fix, my asterisk server &quot;worked&quot;, but usually not more than 12 to 24 hours, then it just lost it&#039;s sip registration because incoming packets didn&#039;t get delivered properly anymore (not sure if they didn&#039;t get sent to the right machine at all or if they were sent to the wrong port). As soon as I applied that one single revision, everything worked flawlessly.&nbsp; My router hasn&#039;t been rebooted for about four weeks now, and my asterisk server behind the my OpenWRT router has been working great since.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104886">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Dogge</div>
					<div class="post-datetime">
						20 Mar 2010, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>There is no perfect thing...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104896">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">thomasw</div>
					<div class="post-datetime">
						20 Mar 2010, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>Of course there is no perfect thing, but if such a basic essential feature of a router doesn&#039;t work, it kind of defeats the purpose of it.&nbsp; At least I haven&#039;t been able to use OpenWRT for the past two years simply because of this bug.&nbsp; I&#039;m glad it&#039;s finally fixed.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>