<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Error when compile OpenWrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p339705">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Pindos</div>
					<div class="post-datetime">
						29 Sep 2016, 19:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello. I need to get your build of OpenWrt for the router, by adding the required third-party packages, but first I decided to practice on x86. I downloaded the Image Generator (Image Builder). Downloaded needed packages, configured .config and proceeded to compile. When you compile an error occurred and gave me this message </p><div class="codebox"><pre><code> make[3] -C target/linux install
make-r world: build failed. Please re-run make with-j1 V=s to see what&#039;s going on
/home/user/OpenWRT/openwrt/include/toplevel.mk:181: runtime error prescription for the purpose of &quot;world&quot;
make: *** [world] Error 1</code></pre></div><p> and then I launched the command &quot;make with-j1 V=s&quot; and gave me this is a message </p><div class="codebox"><pre><code>rub-mkimage: error: cannot open `/home/user/OpenWRT/openwrt/staging_dir/host/lib/grub/i386-pc/moddep.lst&#039;: No such file or directory.
Makefile:234: recipe for target &#039;install&#039; failed
make[5]: *** [install] Error 1
make[5]: Leaving directory &#039;/home/user/OpenWRT/openwrt/target/linux/x86/image&#039;
Makefile:22: recipe for target &#039;install&#039; failed
make[4]: *** [install] Error 2
make[4]: Leaving directory &#039;/home/user/OpenWRT/openwrt/target/linux/x86&#039;
Makefile:13: recipe for target &#039;install&#039; failed
make[3]: *** [install] Error 2
make[3]: Leaving directory &#039;/home/user/OpenWRT/openwrt/target/linux&#039;
target/Makefile:21: recipe for target &#039;target/linux/install&#039; failed
make[2]: *** [target/linux/install] Error 2
make[2]: Leaving directory &#039;/home/user/OpenWRT/openwrt&#039;
target/Makefile:17: recipe for target &#039;/home/polzovateli/OpenWRT/openwrt/staging_dir/target-i386_i486_uClibc-0.9.33.2/stamp/.target_install&#039; failed
make[1]: * * * [/home/polzovateli/OpenWRT/openwrt/staging_dir/target-i386_i486_uClibc-0.9.33.2/stamp/.target_install] Error 2
make[1]: Leaving directory &#039;/home/user/OpenWRT/openwrt&#039;
/home/user/OpenWRT/openwrt/include/toplevel.mk:181: runtime error prescription for the purpose of &quot;world&quot;
make: *** [world] Error 2</code></pre></div><p>. I also tried to reset .config to the default settings and exclude external packages still coming out this error when compiling. What&#039;s the problem? What do I do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339709">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">giri@nwrk.biz</div>
					<div class="post-datetime">
						29 Sep 2016, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />did you try to copy the missing folder (host/lib/grub) from the build directory to the staging_dir directory?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339881">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Pindos</div>
					<div class="post-datetime">
						1 Oct 2016, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>In the folder (Build_dir/host) I have no directory (lib/grub). The build process I did so (if it helps) </p><div class="codebox"><pre><code>mkdir ~/openwrt
cd ~/openwrt 
git clone git://git.openwrt.org/openwrt.git
make clean
make defconfig
make prereq
make menuconfig
./scripts/feeds update -a
./scripts/feeds install -a
make menuconfig
make -j $(nproc)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339969">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Pindos</div>
					<div class="post-datetime">
						2 Oct 2016, 07:46					</div>
				</div>
				<div class="post-content content">
					<p>No one has ideas why this is happening?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>