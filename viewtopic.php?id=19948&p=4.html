<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> D-Link DIR-615 HW rev C1 USB</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Apr 2018 and 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=19948&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=19948&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=19948&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=19948&amp;p=5.html">5</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p144212">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">axishero</div>
					<div class="post-datetime">
						22 Sep 2011, 08:12					</div>
				</div>
				<div class="post-content content">
					<p>How to mod 615 c2&#039;s flash from 4mb to 8mb or 16mb,any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145081">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">bamb00r</div>
					<div class="post-datetime">
						4 Oct 2011, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>To regressor &amp; tuckata: thanks guys, you&#039;ve done great work.<br />I used tuckata&#039;s binarys to set up.<br />Now I have extroot, usb2 drive (fat32), samba3 server and transmission for torrents. <br />It all work&#039;s together over WiFi and I quite happy.</p><p>But performance of read/write data to/from usb drive just 400/800 KB/s.<br />Is this max usb speed or I do something wrong?<br />In the same time my lan-wlan speed is fine.</p><p>Everyone who has similar configuration what is your max external usb drive speed access?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145264">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						6 Oct 2011, 20:34					</div>
				</div>
				<div class="post-content content">
					<p>bamb00r,</p><p>My estimated bandwidth is ~12MB/s read and ~2MB/s write to a microSD card on USB Card reader mounted on /overlay:</p><div class="codebox"><pre><code>root@ferdo:/overlay# mount
...
/dev/sda1 on /overlay type ext3 (rw,sync,relatime,errors=continue,data=writeback)
...

root@ferdo:/overlay# time dd if=/dev/zero of=zero.bin bs=1M count=32
32+0 records in
32+0 records out
real    0m 16.18s
user    0m 0.00s
sys     0m 1.51s

root@ferdo:/overlay# time dd if=zero.bin of=/dev/null bs=1M
32+0 records in
32+0 records out
real    0m 2.70s
user    0m 0.00s
sys     0m 0.60s</code></pre></div><p>Please tell more about your configuration (software and hardware). How exactly did you install USB support in OpenWRT?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145270">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						6 Oct 2011, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>Uploaded here <a href="http://sites.google.com/site/tuckata/downloads">http://sites.google.com/site/tuckata/downloads</a> are images of OpenWRT Backfire 10.03.1-rc5</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145577">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">bamb00r</div>
					<div class="post-datetime">
						11 Oct 2011, 11:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi tuckata,</p><p>/dev/sda1 on /overlay type ext3 (rw,sync,relatime,errors=continue,data=writeback)</p><p>/dev/sdb1 on /mnt/data type vfat (rw,relatime,fmask=0022,dmask=0000,allow_utime=0022,codepage=cp866,iocharset=cp1251,shortname=mixed,errors=remount-ro)</p><p>root@OpenWrt:/overlay# time dd if=/dev/zero of=zero.bin bs=1M count=32<br />32+0 records in<br />32+0 records out<br />real&nbsp; &nbsp; 0m 10.57s<br />user&nbsp; &nbsp; 0m 0.00s<br />sys&nbsp; &nbsp; &nbsp;0m 1.59s<br />root@OpenWrt:/overlay# time dd if=zero.bin of=/dev/null bs=1M<br />32+0 records in<br />32+0 records out<br />real&nbsp; &nbsp; 0m 5.33s<br />user&nbsp; &nbsp; 0m 0.01s<br />sys&nbsp; &nbsp; &nbsp;0m 0.11s</p><p>sdb1 is the second flash drive that I use as data storage.</p><p>There is all OK with my root flash drive, also all OK when I copy data inside sdb1 (3.5MB/ps).</p><p>But when I copy data from my notebook to sdb1 speed drops down to 100-60Kb/ps.<br />It seems that problem is not in usb but may be in samba.</p><p>I plan to move on 10.03.1-rc5 and see what will change.</p>											<p class="post-edited">(Last edited by <strong>bamb00r</strong> on 11 Oct 2011, 13:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150084">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">fly</div>
					<div class="post-datetime">
						1 Dec 2011, 22:20					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody. I have made up firmware rc6. Also I tried to use the firmware made by Tuckata (<a href="http://sites.google.com/site/tuckata/downloads">http://sites.google.com/site/tuckata/downloads</a>). nfs server doesn&#039;t work. dmesg: <a href="http://pastebin.com/iNAGs3G5">http://pastebin.com/iNAGs3G5</a> . In the official firmware (openwrt RC6) nfs server works, but usb doesn&#039;t work. Help to solve my problem please. By the way, when I copy files to my hdd, samba&#039;s speed is 9 mB/s writing, 11.5 reading. Has anybody succeeded in mounting ext4? As for me, I have not. There is nothing in dmesg.</p>											<p class="post-edited">(Last edited by <strong>fly</strong> on 2 Dec 2011, 07:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150254">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						4 Dec 2011, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi fly,</p><p>Uploaded here <a href="https://sites.google.com/site/tuckata/downloads/">https://sites.google.com/site/tuckata/downloads/</a> is a freshly compiled image of Backfire 10.03.1-rc6 with USB support. NFS should also work, but I haven&#039;t tested it - I have no time right now. If you wish you could test it and post results.</p><p>It seems the problem with nfs starts with: </p><div class="codebox"><pre><code>sunrpc: Unknown symbol __ipv6_addr_type</code></pre></div><p>This symbol is exported by /net/ipv6/addrconf_core.c and this file is included if IPv6 support is enabled in the kernel. The uploaded image is compiled with USB support patch and with IPv6 enabled.</p><p>Good luck,<br />tuckata</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150968">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">jasonsmr</div>
					<div class="post-datetime">
						12 Dec 2011, 13:52					</div>
				</div>
				<div class="post-content content">
					<p>tuckata;</p><p>HI there again, I wanter to tell you and (thanks for help) , I got it working the (sort of) the USB is* partially functional, the drive will still become corrupted though however with IO errors eventually&gt;&gt;&nbsp; and this is dew massive amount of resets from reading and incorrect device descriptor errors.</p><p>Is there anything that may prevent (causes that you can think of?)&nbsp; this?</p><p>Thanks for the previous help.</p><p> PS Im in the Bleeding Edge</p>											<p class="post-edited">(Last edited by <strong>jasonsmr</strong> on 12 Dec 2011, 13:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151027">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						12 Dec 2011, 23:47					</div>
				</div>
				<div class="post-content content">
					<p>Hey, Jason, nice to hear from you again,</p><p>First, as you are using Bleeding Edge it is possible that you are experiencing a software problem. If you were using a stable (Backfire) branch I would say it is a hardware problem, but it cannot be ruled out in this situation. I did also begin initially with trunk branch and after a lot of fight I finally got it working. And after a short while I noticed that when I tried to run a program from the external flash drive filesystem (ext2 or vfat) it crashed with &#039;segmentation fault&#039;. After a lot of additional effort I finally figured that it is in the kernel filesystem code for mips arch - it was missing a data cache flush when necessary. I patched it and it worked like a charm. I never posted the patch because when I&#039;ve downloaded a newer trunk revision it worked fine without the patch! Your problem seems to be different from that I&#039;ve experienced, but just to make sure that you do not have a software problem you may try using a stable branch, which is proven to work without problem (like Backfire 10.03.1-rc5).</p><p>And about hardware, I have two suggestions. First, from time to time I have a similar problem with an external drive and it seems like there is a loose contact within the USB hub connector (I am using an external 4 port USB hub) - when I unplug and then plug back the USB connector the problem disappears. Second, the impedance matching resistors should be no more than 22 ohms. I&#039;ve tried initially 33 ohms resistors and there were a lot of communication errors. 22 ohms should be best, but even without resistors (0 ohms) is also fine.</p><p>The problem you are experiencing seems more similar to my hardware problems so may be you could first rule out any obvious hardware problems and if everything seems fine you could flash a stable firmware just to rule out a software problem.</p><p>OK, good luck!</p><p>tuckata</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151049">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">fly</div>
					<div class="post-datetime">
						13 Dec 2011, 12:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi, Tuckata! After installing your image Backfire 10.03.1-rc6, nfs server still doesn&#039;t work. I am doing everything according to manual <a href="http://wiki.openwrt.org/doc/howto/nfs.server">http://wiki.openwrt.org/doc/howto/nfs.server</a> . My friends has got wndr3700 openwrt Backfire 10.03.1-rc6, he does everything the same way and everything works without any problems. When I type the command exportfs -ar, I see the following:</p><p>root@OpenWrt:~# exportfs -ar<br />exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;192.168.1.109:/mnt/media&quot;.<br />&nbsp; Assuming default behaviour (&#039;no_subtree_check&#039;).<br />&nbsp; NOTE: this default has changed since nfs-utils version 1.0.x</p><p>exportfs: Warning: /mnt/media does not support NFS export.<br />exportfs: can&#039;t open /var/lib/nfs/rmtab for reading<br />exportfs: could not open /var/lib/nfs/.etab.lock for locking: errno 2 (No such file or directory)<br />exportfs: can&#039;t lock /var/lib/nfs/etab for writing<br />exportfs: could not open /var/lib/nfs/.xtab.lock for locking: errno 2 (No such file or directory)<br />exportfs: can&#039;t lock /var/lib/nfs/xtab for writing<br />root@OpenWrt:~#</p><p>When I type /etc/init.d/nfsd start everything stops and logread:</p><p> 1 00:48:28 OpenWrt daemon.notice rpc.statd[2721]: Version 1.1.6 Starting<br />Jan&nbsp; 1 00:48:28 OpenWrt daemon.warn sm-notify[2722]: Failed to open /var/lib/nfs/sm.bak: No such file or directory<br />Jan&nbsp; 1 00:48:28 OpenWrt daemon.notice rpc.statd[2721]: statd running as root. chown /var/lib/nfs/sm to choose different user<br />Jan&nbsp; 1 00:48:28 OpenWrt daemon.warn exportfs[2723]: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;192.168.1.109:/mnt/media&quot;.&nbsp; &nbsp;Assuming default behaviour (&#039;no_subtree_check&#039;).&nbsp; &nbsp;NOTE: this default has changed since nfs-utils versio<br />Jan&nbsp; 1 00:49:03 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:49:38 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:50:13 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:50:48 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:51:23 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:51:58 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:51:58 OpenWrt user.warn kernel: svc: failed to register lockdv1 RPC service (errno 5).<br />Jan&nbsp; 1 00:51:58 OpenWrt user.warn kernel: lockd_up: makesock failed, error=-5<br />Jan&nbsp; 1 00:52:33 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:53:08 OpenWrt user.notice kernel: rpcbind: server localhost not responding, timed out<br />Jan&nbsp; 1 00:53:43 OpenWrt daemon.err nfsd[2724]: nfssvc: writing fds to kernel failed: errno 5 (Input/output error)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151091">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						13 Dec 2011, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>Check owner and permission of the mentioned files/directories (chown, chmod) and as which user nfsd is running normally.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151104">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">fly</div>
					<div class="post-datetime">
						13 Dec 2011, 22:40					</div>
				</div>
				<div class="post-content content">
					<p>I type chmod -R 777 /var and chown -R root /var, still doesn&#039;t work</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151227">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">jasonsmr</div>
					<div class="post-datetime">
						15 Dec 2011, 08:57					</div>
				</div>
				<div class="post-content content">
					<p>tuckata, Would you be interested in assisting me with a full usb mod for the c1 series or later?, The wiki has the full usb spec on it, and I furthermore would like to add some other capabilities to the router like more memory and a serial camera. If your good with SPI maybe I was thinking about adding a different sata interface for a proper hard drive?</p><p>Its a lot to do I know . however please tell me <br />Tell me what you think..</p><p>jason.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151228">
				<div class="post-metadata">
					<div class="post-num">Post #89</div>
					<div class="post-author">jasonsmr</div>
					<div class="post-datetime">
						15 Dec 2011, 09:20					</div>
				</div>
				<div class="post-content content">
					<p>you know tukata, Im not using a flash drive its a micro IDE pluged into the usb via a converter, micro IDE is like a ZIF disk or micro disk-different pins ZIF disks are closely related because well the converter has it too ^^</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151229">
				<div class="post-metadata">
					<div class="post-num">Post #90</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						15 Dec 2011, 09:57					</div>
				</div>
				<div class="post-content content">
					<p>Jason, you are welcome,</p><p>I have thought about using the SPI but there is a drawback - the bus runs at 33 MHz so the highest theoretical throughput is 33 Mbit/s and the <br />USB 2.0&#039;s theoretical throughput is 480 Mbit/s. Also, on USB you could connect (almost) anything you want - an USB camera also.</p><p>About the harddrive - I would suggest that you start it simple until you are sure that everything runs fine and then upgrade. The more complex is the system the more things could go wrong. I started with a simple flash drive and when I was sure that everything runs fine I added an external hub and attached an external haddrive (with USB to IDE converter), USB audio, USB printer, etc.</p><p>Bit by bit everything will be fine <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Please tell me more in detail about the hardware mod you&#039;ve made and more about how you install the firmware on the router.</p><p>tuckata</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151230">
				<div class="post-metadata">
					<div class="post-num">Post #91</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						15 Dec 2011, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>Fly,</p><p>I can tell the kernel modules load properly now. To tackle the nfs problem in more detail I will have to reinstall the whole firmware and will need more time.</p><p>tuckata</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151234">
				<div class="post-metadata">
					<div class="post-num">Post #92</div>
					<div class="post-author">fly</div>
					<div class="post-datetime">
						15 Dec 2011, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>Tuckata, thanks for the help, I&#039;ll wait, I do not know what to do..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151353">
				<div class="post-metadata">
					<div class="post-num">Post #93</div>
					<div class="post-author">jasonsmr</div>
					<div class="post-datetime">
						16 Dec 2011, 20:37					</div>
				</div>
				<div class="post-content content">
					<p>tuckata; I snooped around a little bit (I dont have a probe for it )</p><p>the errors that I am getting in the serial output read as follows::&gt; on a heavy load like a program executing.</p><p>usb 1-1: reset high speed USB device number 2 using ar71xx-ehci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />usb 1-1: device descriptor read/64, error -71</p><p>the above are common^^ they can (I think be safely ignored)</p><p>then the following happens if the load is really big::&gt;&gt;</p><p>sd 0:0:0:0: [sda] Unhandled error code&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />sd 0:0:0:0: [sda]&nbsp; Result: hostbyte=0x07 driverbyte=0x00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />sd 0:0:0:0: [sda] CDB: cdb[0]=0x28: 28 00 02 24 03 28 00 00 08 00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />end_request: I/O error, dev sda, sector 35914536</p><p>the above will usually lead to a corrupt file or inode and ill repair it by umounting the drive at router restart and then pluging it into a pc with a known good usb and run the journal recovery e2fsck</p><p>Im not sure what it is maybe its the &quot;usb reference resister&quot; missing off the bottom of the router? IDK</p><p>Recall;; that we have the full blueprint schematic of this router for referencing the usb &#039;s component.</p><p>and as always any help is greatly appreciated</p><p>HERES a MASSIVE ERROR (looks like a kernel heart failure) Although after this happened the kernel still was running!!</p><p>PasteBin ::&gt;&gt; <a href="http://sprunge.us/GgXZ">http://sprunge.us/GgXZ</a></p>											<p class="post-edited">(Last edited by <strong>jasonsmr</strong> on 16 Dec 2011, 21:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152292">
				<div class="post-metadata">
					<div class="post-num">Post #94</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						28 Dec 2011, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>Jason, I have an idea for what might be going on. This error seems like a hardware one. I have a USB card reader which is working perfectly on one computer and is giving such massive IO errors when connected to another computer. It seems that it has an unusually high resistance on the IO lines and this seems to be causing the problem. If I am correct it is possible that the device might work properly if you use 0 ohms instead of 22 ohms for impedance matching resistors R230 and R237, i.e. just short them out. There is a very simple way to check if this is the problem - just try using some USB flash drive - if it is working correctly (without IO errors) then this problem is highly probable. The other possibility is that the device is malfunctioning.</p><p>Good luck,<br />tuckata</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152294">
				<div class="post-metadata">
					<div class="post-num">Post #95</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						28 Dec 2011, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>Jason, </p><p>Reference resistor is usb_rref 4,7 kohm, picture #4, post #37 <a href="https://forum.openwrt.org/viewtopic.php?pid=125153#p125153">https://forum.openwrt.org/viewtopic.php … 53#p125153</a></p><p>I recall there was some problem with soldering.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152295">
				<div class="post-metadata">
					<div class="post-num">Post #96</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						28 Dec 2011, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>Fly,</p><p>I have recompiled the firmware (Backfire 10.03.1-rc6) with the original config (<a href="http://downloads.openwrt.org/backfire/10.03.1-rc6/ar71xx/config">http://downloads.openwrt.org/backfire/1 … 1xx/config</a>) and the nfs server is working but the wireless is not working properly so it is useless. I don&#039;t know when I will have time to play with it.</p><p>tuckata</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152641">
				<div class="post-metadata">
					<div class="post-num">Post #97</div>
					<div class="post-author">tuckata</div>
					<div class="post-datetime">
						2 Jan 2012, 01:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>Happy New Year!</p><p>Uploaded here <a href="https://sites.google.com/site/tuckata/downloads/">https://sites.google.com/site/tuckata/downloads/</a>, in subfolder openwrt-backfire-10.03.1-rc6, are compiled images of openwrt-backfire-10.03.1-rc6 with USB enabled. NFS is working now, I&#039;ve tested it. The original config is used and everything which is working in the original firmware should work in this one as well.</p><p>Cheers,</p><p>tuckata</p>											<p class="post-edited">(Last edited by <strong>tuckata</strong> on 2 Jan 2012, 01:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153318">
				<div class="post-metadata">
					<div class="post-num">Post #98</div>
					<div class="post-author">fly</div>
					<div class="post-datetime">
						6 Jan 2012, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi tuckata! Happy New Year! I have checked, everything works!!!))) how did you solve the problem? Thanks a lot. You are a superman)))</p>											<p class="post-edited">(Last edited by <strong>fly</strong> on 11 Jan 2012, 12:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170038">
				<div class="post-metadata">
					<div class="post-num">Post #99</div>
					<div class="post-author">Shadyman</div>
					<div class="post-datetime">
						15 Jun 2012, 06:36					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the BIG bump, but..</p><div class="quotebox"><cite>tuckata wrote:</cite><blockquote><p>And about hardware [...] the impedance matching resistors should be no more than 22 ohms. I&#039;ve tried initially 33 ohms resistors and there were a lot of communication errors. 22 ohms should be best, but even without resistors (0 ohms) is also fine.</p></blockquote></div><p>I notice on page 15 of the schematic linked on the Wiki page (<a href="http://wiki.openwrt.org/_media/toh/d-link/dir615c1.pdf">PDF</a>) that, since the footprints of R230/R237 (0R) and L26 (<a href="http://www.digikey.ca/product-detail/en/DLW21SN900SQ2L/490-5137-1-ND/1922888">DLW21SN900SQ2</a> (digikey.ca link) / common mode choke coil, 300mA) are overlapped, it seems to imply an either/or situation. Would the choke help ease some of the (possibly RF-related) USB speed/connection problems that people have been having?</p><p>I pondered populating the USB Overcurrent IC (U4), but then realized that all of its useful I/O is actually either grounded or pulled up. It&#039;d probably just be cheaper to add a MOSFET on a GPIO line.</p><p>And some off-topic...<br />I am also pondering the addition of an extra 8MB flash.. Solder a second one on top with all pins matching except for the !CS pin, and tie that to a GPIO. I wonder if the kernel has support for something like that, or whether it would need some coding hacks... Either way, there seem to be plenty of threads about &quot;flash mods&quot;, I&#039;m sure one of them has done it <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>I got one DIR-615 revC1 from the thrift store for $5, and another 3 used off ebay. A cluster of 615s, you say?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170108">
				<div class="post-metadata">
					<div class="post-num">Post #100</div>
					<div class="post-author">astralstorm</div>
					<div class="post-datetime">
						16 Jun 2012, 06:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,<br />can somebody compile 16M or 8M u-boot for DIR-615 C1?<br />thanks</p>											<p class="post-edited">(Last edited by <strong>astralstorm</strong> on 17 Jun 2012, 12:40)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 4 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=19948&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=19948&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=19948&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=19948&amp;p=5.html">5</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>