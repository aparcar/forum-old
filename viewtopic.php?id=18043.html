<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cambria crashes when sending data</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p78018">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">USMC03</div>
					<div class="post-datetime">
						13 Dec 2008, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone, I am having a problem with my new 2358-4 cambria platform. I have been using openwrt for a while now and it works great on the avila platforms, but with my new cambria boards whenever I send data wirelessly the kernel panics and reboots. It happens with the openwrt that comes with the boards and all the other revisions that I have tried. I have many pt to pt links up working great with the avila&#039;s, but with the cambria i can ping fine but when I iperf or ftp over the wireless link it crashes. I have tried it bridged and out of the bridge and still the same. I&#039;ve tried using the ath5k driver and regular madwifi driver and still the same thing. My programmers and I have exhausted pretty much every idea, if anyone has any ideas or needs more info PLEASE LET ME KNOW. I have 20 of these boards and they are pretty much paper weights at this point. Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78060">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						14 Dec 2008, 13:06					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t have such issues and was wondering, how could I reproduce the problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78081">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">aliosa27</div>
					<div class="post-datetime">
						14 Dec 2008, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>Client connecting to 10.0.1.10, TCP port 5001<br />TCP window sizeUnable to handle kernel NULL pointer dereference at virtual address 00000000<br />pgd = c0004000<br />[00000000] *pgd=00000000<br />Internal error: Oops: 817 [#1]<br />Modules linked in: spi_gpio spi_bitbang uvcvideo quickcam gspca hci_usb hci_uart bnep rfcomm sco l2cap bluei<br />CPU: 0&nbsp; &nbsp; Tainted: P&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(2.6.26.8 #1)<br />pc : [&lt;c0028a4c&gt;]&nbsp; &nbsp; lr : [&lt;bf3440a4&gt;]&nbsp; &nbsp; psr: 80000093<br />sp : c01ede2c&nbsp; ip : 00000001&nbsp; fp : c01ede48<br />r10: 00000000&nbsp; r9 : ffffffe8&nbsp; r8 : c7230360<br />r7 : c7c120c0&nbsp; r6 : 00000c20&nbsp; r5 : c682c8c0&nbsp; r4 : c7c1444c<br />r3 : 00000000&nbsp; r2 : c682c540&nbsp; r1 : 03c39000&nbsp; r0 : a0000093<br />Flags: Nzcv&nbsp; IRQs off&nbsp; FIQs on&nbsp; Mode SVC_32&nbsp; ISA ARM&nbsp; Segment kernel<br />Control: 000039ff&nbsp; Table: 07d9c000&nbsp; DAC: 00000017<br />Process swapper (pid: 0, stack limit = 0xc01ec260)<br />Stack: (0xc01ede2c to 0xc01ee000)<br />de20:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c7250a8c c682fe34 c7250a8c 00000001 c01ede70 <br />de40: c01ede4c bf3440a4 c00289b4 c7230360 c01edeb0 00000000 c7230360 00000002 <br />de60: c723274c c01ede88 c01ede74 bf344148 bf343ff0 60000013 01d4a3e8 c01ede9c <br />de80: c01ede8c bf3442c8 bf344128 00000000 c01ededc c01edea0 bf34dfe8 bf3442b8 <br />dea0: 01d4a3e8 00000001 c71c4000 00000000 c7250a8c 00000013 00000002 c7230360 <br />dec0: c723274c 00000001 69054041 0001c1ec c01edf04 c01edee0 bf34fd94 bf34daa8 <br />dee0: 00000002 c7d61518 c020a50c 00000009 c01f005c 0001c358 c01edf18 c01edf08 <br />df00: c0035240 bf34fd24 00000009 c01edf34 c01edf1c c00350f0 c00351d4 0000001c <br />df20: c01fa704 00000000 c01edf44 c01edf38 c003547c c00350a0 c01edf60 c01edf48 <br />df40: c001f048 c0035444 ffffffff 0000001f 10000000 c01edfc0 c01edf64 c001f664 <br />df60: c001f00c c0205770 c7311800 c01ec000 60000013 c0020ae4 c01ec000 c001def8 <br />df80: c01f005c 0001c358 69054041 0001c1ec c01edfc0 c01edfac c01edfac c00209a8 <br />dfa0: c00209a8 60000013 ffffffff c020cf50 c0204e70 c01edfd0 c01edfc4 c01a8bb0 <br />dfc0: c002097c c01edff4 c01edfd4 c0008b80 c01a8b68 c00083c4 c001def8 000039fd <br />dfe0: c0205330 c001e2fc 00000000 c01edff8 00008034 c0008908 00000000 00000000 <br />Backtrace: <br />Function entered at [&lt;c00289a8&gt;] from [&lt;bf3440a4&gt;]<br /> r7:00000001 r6:c7250a8c r5:c682fe34 r4:c7250a8c<br />Function entered at [&lt;bf343fe4&gt;] from [&lt;bf344148&gt;]<br />Function entered at [&lt;bf34411c&gt;] from [&lt;bf3442c8&gt;]<br /> r5:01d4a3e8 r4:60000013<br />Function entered at [&lt;bf3442ac&gt;] from [&lt;bf34dfe8&gt;]<br /> r4:00000000<br />Function entered at [&lt;bf34da9c&gt;] from [&lt;bf34fd94&gt;]<br />Function entered at [&lt;bf34fd18&gt;] from [&lt;c0035240&gt;]<br /> r8:0001c358 r7:c01f005c r6:00000009 r5:c020a50c r4:c7d61518<br />Function entered at [&lt;c00351c8&gt;] from [&lt;c00350f0&gt;]<br /> r4:00000009<br />Function entered at [&lt;c0035094&gt;] from [&lt;c003547c&gt;]<br /> r6:00000000 r5:c01fa704 r4:0000001c<br />Function entered at [&lt;c0035438&gt;] from [&lt;c001f048&gt;]<br />Function entered at [&lt;c001f000&gt;] from [&lt;c001f664&gt;]<br />Exception stack(0xc01edf64 to 0xc01edfac)<br />df60:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c0205770 c7311800 c01ec000 60000013 c0020ae4 c01ec000 c001def8 <br />df80: c01f005c 0001c358 69054041 0001c1ec c01edfc0 c01edfac c01edfac c00209a8 <br />dfa0: c00209a8 60000013 ffffffff&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /> r6:10000000 r5:0000001f r4:ffffffff<br />Function entered at [&lt;c0020970&gt;] from [&lt;c01a8bb0&gt;]<br /> r5:c0204e70 r4:c020cf50<br />Function entered at [&lt;c01a8b5c&gt;] from [&lt;c0008b80&gt;]<br />Function entered at [&lt;c00088fc&gt;] from [&lt;00008034&gt;]<br /> r6:c001e2fc r5:c0205330 r4:000039fd<br />Code: 0a000029 e595300c e1530006 13a03000 (15833000) <br />: 16.0 KByte (default)<br />----------------------------------------Kernel panic - not syncing: Fatal exception in interrupt<br />--------------------<br />[&nbsp; 3] local 10.0.1.11 port 47211 connectedRebooting in 3 seconds.. with 10.0.1.10 port 5001</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78082">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">aliosa27</div>
					<div class="post-datetime">
						14 Dec 2008, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>It happens when you do an iperf across the boards, from the boards, as well as from computers connected to the ethernet port, in both a routed, and bridged setup..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78094">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						15 Dec 2008, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>Does the problem go away if you limit the kernel memory to 64MB (add &quot;mem=64M&quot; to the kernel command line)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78099">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">aliosa27</div>
					<div class="post-datetime">
						15 Dec 2008, 02:11					</div>
				</div>
				<div class="post-content content">
					<p>worked like a charm...any ideas why we have to limit the boards to 64m?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78100">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">USMC03</div>
					<div class="post-datetime">
						15 Dec 2008, 02:16					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot Kaloz they are working FINALLY! I owe you a beer..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78117">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						15 Dec 2008, 10:21					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s a long standing issue with PCI on IXP4xx devices with more then 64MB of memory.. There were attempts to fix this, and they work most of the time, but hopefully a real fix will follow soon. I will post a reply here when it&#039;s fixed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99913">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">sathyajitb</div>
					<div class="post-datetime">
						7 Jan 2010, 11:41					</div>
				</div>
				<div class="post-content content">
					<p>Hey USMC03,<br />Can you please tell what wireless chipset and card you used ?<br />We read in some forum that there are some issues with atheros chipsets[WLM54AG] on the IXP platform using the ath5k.ko<br />We plan to use mac80211 stack on the ath5k driver.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>