<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Looking for httpd feature</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p6843">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">peterm</div>
					<div class="post-datetime">
						6 May 2005, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>im looking for a http server for my OpenWrt (on wrt54g) where i can do the following:</p><p>The routing tables will redirect all requests to the openwrt</p><p>iptables -t nat -A PREROUTING -s 192.168.5.0/24 -p tcp --dport 80 -j REDIRECT</p><p>Then the http server will receive all requests. I want to respond with the same page for all requests.<br />So when the client requests <a href="http://forum.java.sun.com/forum.jspa?forumID=31">http://forum.java.sun.com/forum.jspa?forumID=31</a>&nbsp; the server should repond every time with the same&nbsp; page.</p><p>I puzzeled with the error page options in thttpd, but the problem is that IE when receives an error&nbsp; code in the header fields does not render the page content, but the build-in error page.</p><p>Any idea what soft can do this ?</p><p>Thank you, Peter.</p>											<p class="post-edited">(Last edited by <strong>peterm</strong> on 6 May 2005, 14:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6845">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						6 May 2005, 15:28					</div>
				</div>
				<div class="post-content content">
					<p>Try lighttpd, I just set it up doing what you want to do.&nbsp; </p><p>I also got thttpd to work correctly.&nbsp; You have to use a &#039;meta refresh&#039; tag in you html doc to do the redirect.&nbsp; I switched to thttpd because it supports https nativly, allowing me to capture http and https requests...</p><p>Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6846">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">uwevoelker</div>
					<div class="post-datetime">
						6 May 2005, 15:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>peterm wrote:</cite><blockquote><p>but the problem is that IE when receives an error&nbsp; code in the header fields does not render the page content, but the build-in error page.</p></blockquote></div><p>I think the page must exceed a certain size (1024 bytes?), then also IE shows the page correctly.</p><p>Bye,<br />Uwe</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6847">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">peterm</div>
					<div class="post-datetime">
						6 May 2005, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi Ben, hi Uwe</p><p>The 1kb hints helps me now. I will check&nbsp; lighttpd later.</p><p>Many thanks for your comments.</p><p>Bye, Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6934">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">peterm</div>
					<div class="post-datetime">
						9 May 2005, 09:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi Ben,</p><p>maybe you can help another time. I&#039;m puzzeling with lighttpd but i get not working the error page option and there is no so much doc available.</p><p>I think with this option i have enough or left i something:</p><p>## error-handler for status 404<br />#server.error-handler-404&nbsp; &nbsp;= &quot;/error-handler.php&quot;<br />server.error-handler-404&nbsp; &nbsp;= &quot;/err404.html&quot;</p><p>I get always a page that shows &quot;404 - Not Found&quot; and not my error page.</p><p>Thank you for your attention, Peter.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6951">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						9 May 2005, 14:52					</div>
				</div>
				<div class="post-content content">
					<p>Peter,</p><p>I believe that is all you should need in your config.&nbsp; Perhaps you have another problem, such as file permissions?&nbsp; You might also try Firefox, as it sometimes will give a more descriptive error message.</p><br /><p>This might save you some time once you get that working.&nbsp; I had to use the following option to prevent the browser from using a persistent connection after I have updated my firewall rules:</p><p>server.max-keep-alive-requests = 0</p><p>Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6998">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">peterm</div>
					<div class="post-datetime">
						10 May 2005, 08:27					</div>
				</div>
				<div class="post-content content">
					<p>Ben,</p><p>it does not work. I&#039;m using FF anyway. The curious thing is, if my error page does&#039;nt exist i get a message in the log. I will check out mini_httpd. </p><p>Thank you so far, Peter.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7010">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jeff</div>
					<div class="post-datetime">
						10 May 2005, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>Can you access the error page explicitly? i.e.</p><p>http://&lt;yourserver&gt;/err404.html</p><p>If that works, then it&#039;s not file permissions.. Check config.<br />If it doesn&#039;t work, then you&#039;re getting a 404 for your 404 page. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>