<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WBMR-HP-G300H ... willing to help</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 2 Oct 2014 and 16 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 7</div><nav><ul><li><a href="viewtopic.php%3Fid=34072&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=34072&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=34072&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p213278">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						27 Sep 2013, 11:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bassman wrote:</cite><blockquote><div class="quotebox"><cite>peps1iko wrote:</cite><blockquote><p>Is it just me or lately the trunk version is broken for this router?</p></blockquote></div><p>Just you.&nbsp; You probably need to make a new .config - old ones won&#039;t&nbsp; build after major changes.</p></blockquote></div><p>Thanks for the reply.</p><p>Strange. I usually build every weekend and I make a new config everytime.<br />Could you share with me your latest config?</p><p><img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213369">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">bassman</div>
					<div class="post-datetime">
						28 Sep 2013, 13:57					</div>
				</div>
				<div class="post-content content">
					<p>@peps1iko<br />You only really have to make menuconfig, choose target (Buffalo), exit menuconfig (saving). Then make defconfig, so the config gets updated to sane defaults, and make menuconfig again choosing packages and options. Making defconfig again after that can&#039;t harm, either.</p><p>However, here&#039;s my present configuration with packages etc. For brevity, I edited it by removing all lines about inactive packages, so you HAVE to make defconfig on this one before using it. I checked that the resulting .config file is identical to the unedited version.</p><p>If it still doesn&#039;t work, you might be out of sync with the distribution for some reason. In this case, try to do the following before using the new configuration file:</p><p>make distclean<br />make download<br />svn update<br />./scripts/feeds update -a<br />./scripts/feeds install -a</p><p>Be forewarned, it will take a while since you will be rebuilding the whole toolchain etc. from scratch.</p><div class="codebox"><pre><code>#
# OpenWrt Configuration
# Edited for brevity
# run &#039;make defconfig&#039; to turn it into a working configuration file
#
CONFIG_MODULES=y
CONFIG_HAVE_DOT_CONFIG=y
CONFIG_TARGET_lantiq=y
CONFIG_TARGET_lantiq_xway=y
CONFIG_TARGET_lantiq_xway_WBMRA=y
CONFIG_HAS_SUBTARGETS=y
CONFIG_TARGET_BOARD=&quot;lantiq&quot;
CONFIG_TARGET_ARCH_PACKAGES=&quot;lantiq&quot;
CONFIG_DEFAULT_TARGET_OPTIMIZATION=&quot;-Os -pipe -mno-branch-likely -mips32r2 -mtune=34kc -mdsp&quot;
CONFIG_CPU_TYPE=&quot;34kc+dsp&quot;
CONFIG_LINUX_3_10=y
CONFIG_DEFAULT_6relayd=y
CONFIG_DEFAULT_base-files=y
CONFIG_DEFAULT_busybox=y
CONFIG_DEFAULT_dnsmasq=y
CONFIG_DEFAULT_dropbear=y
CONFIG_DEFAULT_firewall=y
CONFIG_DEFAULT_hostapd-utils=y
CONFIG_DEFAULT_ip6tables=y
CONFIG_DEFAULT_iptables=y
CONFIG_DEFAULT_kmod-ath9k=y
CONFIG_DEFAULT_kmod-gpio-button-hotplug=y
CONFIG_DEFAULT_kmod-ipt-nathelper=y
CONFIG_DEFAULT_kmod-leds-gpio=y
CONFIG_DEFAULT_kmod-ledtrig-usbdev=y
CONFIG_DEFAULT_kmod-ltq-adsl-ar9=y
CONFIG_DEFAULT_kmod-ltq-adsl-ar9-fw-a=y
CONFIG_DEFAULT_kmod-ltq-adsl-ar9-mei=y
CONFIG_DEFAULT_kmod-ltq-atm-ar9=y
CONFIG_DEFAULT_kmod-ltq-hcd-ar9=y
CONFIG_DEFAULT_libc=y
CONFIG_DEFAULT_libgcc=y
CONFIG_DEFAULT_ltq-adsl-app=y
CONFIG_DEFAULT_mtd=y
CONFIG_DEFAULT_netifd=y
CONFIG_DEFAULT_odhcp6c=y
CONFIG_DEFAULT_opkg=y
CONFIG_DEFAULT_ppp=y
CONFIG_DEFAULT_ppp-mod-pppoa=y
CONFIG_DEFAULT_ppp-mod-pppoe=y
CONFIG_DEFAULT_swconfig=y
CONFIG_DEFAULT_uci=y
CONFIG_DEFAULT_wpad=y
CONFIG_AUDIO_SUPPORT=y
CONFIG_GPIO_SUPPORT=y
CONFIG_PCI_SUPPORT=y
CONFIG_USB_SUPPORT=y
CONFIG_BIG_ENDIAN=y
CONFIG_USES_SQUASHFS=y
CONFIG_HAS_MIPS16=y
CONFIG_mips=y
CONFIG_ARCH=&quot;mips&quot;

#
# Target Images
#
CONFIG_EXTERNAL_CPIO=&quot;&quot;

#
# Root filesystem images
#
CONFIG_TARGET_ROOTFS_SQUASHFS=y

#
# General build options
#
CONFIG_BUILD_PATENTED=y
CONFIG_SHADOW_PASSWORDS=y

#
# Kernel build options
#
CONFIG_KERNEL_DEBUG_FS=y
CONFIG_KERNEL_KALLSYMS=y
CONFIG_KERNEL_DEBUG_KERNEL=y
CONFIG_KERNEL_DEBUG_INFO=y
CONFIG_KERNEL_MAGIC_SYSRQ=y
CONFIG_KERNEL_COREDUMP=y
CONFIG_KERNEL_ELF_CORE=y
CONFIG_KERNEL_PRINTK_TIME=y
CONFIG_KERNEL_RELAY=y

#
# Package build options
#
CONFIG_IPV6=y
CONFIG_PKG_BUILD_PARALLEL=y
CONFIG_PKG_BUILD_USE_JOBSERVER=y

#
# Stripping options
#
CONFIG_USE_SSTRIP=y
CONFIG_USE_UCLIBCXX=y
CONFIG_DOWNLOAD_FOLDER=&quot;&quot;
CONFIG_LOCALMIRROR=&quot;&quot;
CONFIG_AUTOREBUILD=y
CONFIG_BUILD_SUFFIX=&quot;&quot;
CONFIG_TARGET_ROOTFS_DIR=&quot;&quot;
CONFIG_EXTERNAL_KERNEL_TREE=&quot;&quot;
CONFIG_KERNEL_GIT_CLONE_URI=&quot;&quot;
CONFIG_KERNEL_GIT_LOCAL_REPOSITORY=&quot;&quot;
CONFIG_EXTRA_OPTIMIZATION=&quot;-fno-caller-saves&quot;
CONFIG_TARGET_OPTIMIZATION=&quot;-Os -pipe -mno-branch-likely -mips32r2 -mtune=34kc -mdsp&quot;
CONFIG_SOFT_FLOAT=y
CONFIG_EXTRA_BINUTILS_CONFIG_OPTIONS=&quot;&quot;
CONFIG_BINUTILS_VERSION=&quot;2.22&quot;
CONFIG_EXTRA_GCC_CONFIG_OPTIONS=&quot;&quot;
CONFIG_GDB=y
CONFIG_USE_UCLIBC=y
CONFIG_GCC_VERSION_4_6_LINARO=y
CONFIG_GCC_VERSION=&quot;4.6-linaro&quot;
CONFIG_GCC_VERSION_4_6=y
CONFIG_UCLIBC_VERSION=&quot;0.9.33.2&quot;
CONFIG_UCLIBC_VERSION_0_9_33=y
CONFIG_LIBC=&quot;uClibc&quot;
CONFIG_LIBC_VERSION=&quot;0.9.33.2&quot;
CONFIG_TARGET_SUFFIX=&quot;uclibc&quot;
CONFIG_IMAGEOPT=y
CONFIG_TARGET_PREINIT_SUPPRESS_STDERR=y
CONFIG_TARGET_PREINIT_TIMEOUT=2
CONFIG_TARGET_PREINIT_IFNAME=&quot;&quot;
CONFIG_TARGET_PREINIT_IP=&quot;192.168.1.1&quot;
CONFIG_TARGET_PREINIT_NETMASK=&quot;255.255.255.0&quot;
CONFIG_TARGET_PREINIT_BROADCAST=&quot;192.168.1.255&quot;
CONFIG_TARGET_INIT_PATH=&quot;/bin:/sbin:/usr/bin:/usr/sbin&quot;
CONFIG_TARGET_INIT_ENV=&quot;&quot;
CONFIG_TARGET_INIT_CMD=&quot;/sbin/init&quot;
CONFIG_TARGET_INIT_SUPPRESS_STDERR=y
CONFIG_VERSIONOPT=y
CONFIG_VERSION_DIST=&quot;OpenWrt&quot;
CONFIG_VERSION_NICK=&quot;Bassman Buffalo&quot;
CONFIG_VERSION_NUMBER=&quot;&quot;
CONFIG_VERSION_REPO=&quot;http://downloads.openwrt.org/snapshots/trunk/%T/packages&quot;

#
# Package features
#
CONFIG_FEATURE_drawing-backend_DirectFB=y

#
# Base system
#
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_busybox=y
CONFIG_BUSYBOX_CONFIG_HAVE_DOT_CONFIG=y

#
# General Configuration
#
CONFIG_BUSYBOX_CONFIG_INCLUDE_SUSv2=y
CONFIG_BUSYBOX_CONFIG_PLATFORM_LINUX=y
CONFIG_BUSYBOX_CONFIG_FEATURE_BUFFERS_GO_ON_STACK=y
CONFIG_BUSYBOX_CONFIG_SHOW_USAGE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VERBOSE_USAGE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_COMPRESS_USAGE=y
CONFIG_BUSYBOX_CONFIG_LONG_OPTS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_DEVPTS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_PIDFILE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_SUID=y
CONFIG_BUSYBOX_CONFIG_FEATURE_PREFER_APPLETS=y
CONFIG_BUSYBOX_CONFIG_BUSYBOX_EXEC_PATH=&quot;/proc/self/exe&quot;
CONFIG_BUSYBOX_CONFIG_FEATURE_SYSLOG=y

#
# Build Options
#
CONFIG_BUSYBOX_CONFIG_LFS=y
CONFIG_BUSYBOX_CONFIG_CROSS_COMPILER_PREFIX=&quot;&quot;
CONFIG_BUSYBOX_CONFIG_EXTRA_CFLAGS=&quot;&quot;

#
# Debugging Options
#
CONFIG_BUSYBOX_CONFIG_NO_DEBUG_LIB=y

#
# Installation Options (&quot;make install&quot; behavior)
#
CONFIG_BUSYBOX_CONFIG_INSTALL_APPLET_SYMLINKS=y
CONFIG_BUSYBOX_CONFIG_PREFIX=&quot;./_install&quot;

#
# Busybox Library Tuning
#
CONFIG_BUSYBOX_CONFIG_PASSWORD_MINLEN=6
CONFIG_BUSYBOX_CONFIG_MD5_SIZE_VS_SPEED=2
CONFIG_BUSYBOX_CONFIG_FEATURE_FAST_TOP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING=y
CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING_MAX_LEN=512
CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING_HISTORY=256
CONFIG_BUSYBOX_CONFIG_FEATURE_TAB_COMPLETION=y
CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING_FANCY_PROMPT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_NON_POSIX_CP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_COPYBUF_KB=4
CONFIG_BUSYBOX_CONFIG_IOCTL_HEX2STR_ERROR=y

#
# Archival Utilities
#
CONFIG_BUSYBOX_CONFIG_FEATURE_SEAMLESS_GZ=y
CONFIG_BUSYBOX_CONFIG_BUNZIP2=y
CONFIG_BUSYBOX_CONFIG_GUNZIP=y
CONFIG_BUSYBOX_CONFIG_GZIP=y
CONFIG_BUSYBOX_CONFIG_TAR=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TAR_CREATE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TAR_FROM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TAR_GNU_EXTENSIONS=y

#
# Coreutils
#
CONFIG_BUSYBOX_CONFIG_BASENAME=y
CONFIG_BUSYBOX_CONFIG_CAT=y
CONFIG_BUSYBOX_CONFIG_DATE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_DATE_ISOFMT=y
CONFIG_BUSYBOX_CONFIG_ID=y
CONFIG_BUSYBOX_CONFIG_TEST=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TEST_64=y
CONFIG_BUSYBOX_CONFIG_TOUCH=y
CONFIG_BUSYBOX_CONFIG_TR=y
CONFIG_BUSYBOX_CONFIG_CHGRP=y
CONFIG_BUSYBOX_CONFIG_CHMOD=y
CONFIG_BUSYBOX_CONFIG_CHOWN=y
CONFIG_BUSYBOX_CONFIG_CHROOT=y
CONFIG_BUSYBOX_CONFIG_CP=y
CONFIG_BUSYBOX_CONFIG_CUT=y
CONFIG_BUSYBOX_CONFIG_DD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_DD_SIGNAL_HANDLING=y
CONFIG_BUSYBOX_CONFIG_FEATURE_DD_IBS_OBS=y
CONFIG_BUSYBOX_CONFIG_DF=y
CONFIG_BUSYBOX_CONFIG_DIRNAME=y
CONFIG_BUSYBOX_CONFIG_DU=y
CONFIG_BUSYBOX_CONFIG_FEATURE_DU_DEFAULT_BLOCKSIZE_1K=y
CONFIG_BUSYBOX_CONFIG_ECHO=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FANCY_ECHO=y
CONFIG_BUSYBOX_CONFIG_ENV=y
CONFIG_BUSYBOX_CONFIG_EXPR=y
CONFIG_BUSYBOX_CONFIG_EXPR_MATH_SUPPORT_64=y
CONFIG_BUSYBOX_CONFIG_FALSE=y
CONFIG_BUSYBOX_CONFIG_FSYNC=y
CONFIG_BUSYBOX_CONFIG_HEAD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FANCY_HEAD=y
CONFIG_BUSYBOX_CONFIG_HOSTID=y
CONFIG_BUSYBOX_CONFIG_LN=y
CONFIG_BUSYBOX_CONFIG_LS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_FILETYPES=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_FOLLOWLINKS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_RECURSIVE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_SORTFILES=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_TIMESTAMPS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_USERNAME=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_COLOR=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LS_COLOR_IS_DEFAULT=y
CONFIG_BUSYBOX_CONFIG_MD5SUM=y
CONFIG_BUSYBOX_CONFIG_MKDIR=y
CONFIG_BUSYBOX_CONFIG_MKFIFO=y
CONFIG_BUSYBOX_CONFIG_MKNOD=y
CONFIG_BUSYBOX_CONFIG_MV=y
CONFIG_BUSYBOX_CONFIG_NICE=y
CONFIG_BUSYBOX_CONFIG_PRINTF=y
CONFIG_BUSYBOX_CONFIG_PWD=y
CONFIG_BUSYBOX_CONFIG_READLINK=y
CONFIG_BUSYBOX_CONFIG_FEATURE_READLINK_FOLLOW=y
CONFIG_BUSYBOX_CONFIG_RM=y
CONFIG_BUSYBOX_CONFIG_RMDIR=y
CONFIG_BUSYBOX_CONFIG_SEQ=y
CONFIG_BUSYBOX_CONFIG_SLEEP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FANCY_SLEEP=y
CONFIG_BUSYBOX_CONFIG_SORT=y
CONFIG_BUSYBOX_CONFIG_SYNC=y
CONFIG_BUSYBOX_CONFIG_TAIL=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FANCY_TAIL=y
CONFIG_BUSYBOX_CONFIG_TEE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TEE_USE_BLOCK_IO=y
CONFIG_BUSYBOX_CONFIG_TRUE=y
CONFIG_BUSYBOX_CONFIG_UNAME=y
CONFIG_BUSYBOX_CONFIG_UNIQ=y
CONFIG_BUSYBOX_CONFIG_WC=y
CONFIG_BUSYBOX_CONFIG_YES=y

#
# Common options for cp and mv
#
CONFIG_BUSYBOX_CONFIG_FEATURE_PRESERVE_HARDLINKS=y

#
# Common options for ls, more and telnet
#
CONFIG_BUSYBOX_CONFIG_FEATURE_AUTOWIDTH=y

#
# Common options for df, du, ls
#
CONFIG_BUSYBOX_CONFIG_FEATURE_HUMAN_READABLE=y

#
# Common options for md5sum, sha1sum, sha256sum, sha512sum
#
CONFIG_BUSYBOX_CONFIG_FEATURE_MD5_SHA1_SUM_CHECK=y

#
# Console Utilities
#
CONFIG_BUSYBOX_CONFIG_CLEAR=y
CONFIG_BUSYBOX_CONFIG_RESET=y

#
# Debian Utilities
#
CONFIG_BUSYBOX_CONFIG_MKTEMP=y
CONFIG_BUSYBOX_CONFIG_START_STOP_DAEMON=y
CONFIG_BUSYBOX_CONFIG_WHICH=y

#
# Editors
#
CONFIG_BUSYBOX_CONFIG_VI=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_MAX_LEN=1024
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_COLON=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_YANKMARK=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_SEARCH=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_USE_SIGNALS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_DOT_CMD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_READONLY=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_SETOPTS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_SET=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_WIN_RESIZE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_ASK_TERMINAL=y
CONFIG_BUSYBOX_CONFIG_FEATURE_VI_OPTIMIZE_CURSOR=y
CONFIG_BUSYBOX_CONFIG_AWK=y
CONFIG_BUSYBOX_CONFIG_FEATURE_AWK_LIBM=y
CONFIG_BUSYBOX_CONFIG_CMP=y
CONFIG_BUSYBOX_CONFIG_SED=y
CONFIG_BUSYBOX_CONFIG_FEATURE_ALLOW_EXEC=y

#
# Finding Utilities
#
CONFIG_BUSYBOX_CONFIG_FIND=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_PRINT0=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_PERM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_TYPE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_XDEV=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_MAXDEPTH=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_EXEC=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_USER=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_GROUP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_NOT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_DEPTH=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_PAREN=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_SIZE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_PRUNE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_PATH=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FIND_REGEX=y
CONFIG_BUSYBOX_CONFIG_GREP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_GREP_EGREP_ALIAS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_GREP_FGREP_ALIAS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_GREP_CONTEXT=y
CONFIG_BUSYBOX_CONFIG_XARGS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_XARGS_SUPPORT_CONFIRMATION=y
CONFIG_BUSYBOX_CONFIG_FEATURE_XARGS_SUPPORT_QUOTES=y
CONFIG_BUSYBOX_CONFIG_FEATURE_XARGS_SUPPORT_TERMOPT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_XARGS_SUPPORT_ZERO_TERM=y

#
# Init Utilities
#
CONFIG_BUSYBOX_CONFIG_HALT=y

#
# Login/Password Management Utilities
#
CONFIG_BUSYBOX_CONFIG_FEATURE_SHADOWPASSWDS=y
CONFIG_BUSYBOX_CONFIG_PASSWD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_PASSWD_WEAK_CHECK=y

#
# Linux Module Utilities
#
CONFIG_BUSYBOX_CONFIG_INSMOD=y
CONFIG_BUSYBOX_CONFIG_RMMOD=y
CONFIG_BUSYBOX_CONFIG_LSMOD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LSMOD_PRETTY_2_6_OUTPUT=y

#
# Options common to multiple modutils
#
CONFIG_BUSYBOX_CONFIG_FEATURE_CHECK_TAINTED_MODULE=y
CONFIG_BUSYBOX_CONFIG_DEFAULT_MODULES_DIR=&quot;/lib/modules&quot;

#
# Linux System Utilities
#
CONFIG_BUSYBOX_CONFIG_DMESG=y
CONFIG_BUSYBOX_CONFIG_FEATURE_DMESG_PRETTY=y
CONFIG_BUSYBOX_CONFIG_HEXDUMP=y
CONFIG_BUSYBOX_CONFIG_HWCLOCK=y
CONFIG_BUSYBOX_CONFIG_MKSWAP=y
CONFIG_BUSYBOX_CONFIG_MOUNT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_MOUNT_HELPERS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_MOUNT_CIFS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_MOUNT_FLAGS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_MOUNT_FSTAB=y
CONFIG_BUSYBOX_CONFIG_PIVOT_ROOT=y
CONFIG_BUSYBOX_CONFIG_SWAPONOFF=y
CONFIG_BUSYBOX_CONFIG_SWITCH_ROOT=y
CONFIG_BUSYBOX_CONFIG_UMOUNT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_UMOUNT_ALL=y

#
# Common options for mount/umount
#
CONFIG_BUSYBOX_CONFIG_FEATURE_MOUNT_LOOP=y

#
# Miscellaneous Utilities
#
CONFIG_BUSYBOX_CONFIG_LESS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LESS_MAXLINES=9999999
CONFIG_BUSYBOX_CONFIG_CROND=y
CONFIG_BUSYBOX_CONFIG_FEATURE_CROND_DIR=&quot;/var/spool/cron&quot;
CONFIG_BUSYBOX_CONFIG_CRONTAB=y
CONFIG_BUSYBOX_CONFIG_LOCK=y
CONFIG_BUSYBOX_CONFIG_STRINGS=y
CONFIG_BUSYBOX_CONFIG_TIME=y
CONFIG_BUSYBOX_CONFIG_WATCHDOG=y

#
# Networking Utilities
#
CONFIG_BUSYBOX_CONFIG_NC=y
CONFIG_BUSYBOX_CONFIG_PING=y
CONFIG_BUSYBOX_CONFIG_PING6=y
CONFIG_BUSYBOX_CONFIG_FEATURE_FANCY_PING=y
CONFIG_BUSYBOX_CONFIG_FEATURE_IPV6=y
CONFIG_BUSYBOX_CONFIG_FEATURE_PREFER_IPV4_ADDRESS=y
CONFIG_BUSYBOX_CONFIG_VERBOSE_RESOLUTION_ERRORS=y
CONFIG_BUSYBOX_CONFIG_ARPING=y
CONFIG_BUSYBOX_CONFIG_BRCTL=y
CONFIG_BUSYBOX_CONFIG_FEATURE_BRCTL_FANCY=y
CONFIG_BUSYBOX_CONFIG_FEATURE_BRCTL_SHOW=y
CONFIG_BUSYBOX_CONFIG_IFCONFIG=y
CONFIG_BUSYBOX_CONFIG_FEATURE_IFCONFIG_STATUS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_IFCONFIG_HW=y
CONFIG_BUSYBOX_CONFIG_FEATURE_IFCONFIG_BROADCAST_PLUS=y
CONFIG_BUSYBOX_CONFIG_NETMSG=y
CONFIG_BUSYBOX_CONFIG_NETSTAT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_NETSTAT_WIDE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_NETSTAT_PRG=y
CONFIG_BUSYBOX_CONFIG_NSLOOKUP=y
CONFIG_BUSYBOX_CONFIG_NTPD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_NTPD_SERVER=y
CONFIG_BUSYBOX_CONFIG_ROUTE=y
CONFIG_BUSYBOX_CONFIG_TELNET=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TELNET_TTYPE=y
CONFIG_BUSYBOX_CONFIG_TELNETD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TELNETD_STANDALONE=y
CONFIG_BUSYBOX_CONFIG_TRACEROUTE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TRACEROUTE_VERBOSE=y
CONFIG_BUSYBOX_CONFIG_UDHCPC=y
CONFIG_BUSYBOX_CONFIG_UDHCP_DEBUG=0
CONFIG_BUSYBOX_CONFIG_FEATURE_UDHCP_RFC3397=y
CONFIG_BUSYBOX_CONFIG_UDHCPC_DEFAULT_SCRIPT=&quot;/usr/share/udhcpc/default.script&quot;
CONFIG_BUSYBOX_CONFIG_UDHCPC_SLACK_FOR_BUGGY_SERVERS=80
CONFIG_BUSYBOX_CONFIG_VCONFIG=y
CONFIG_BUSYBOX_CONFIG_WGET=y
CONFIG_BUSYBOX_CONFIG_FEATURE_WGET_STATUSBAR=y
CONFIG_BUSYBOX_CONFIG_FEATURE_WGET_AUTHENTICATION=y
CONFIG_BUSYBOX_CONFIG_FEATURE_WGET_LONG_OPTIONS=y

#
# Process Utilities
#
CONFIG_BUSYBOX_CONFIG_UPTIME=y
CONFIG_BUSYBOX_CONFIG_FREE=y
CONFIG_BUSYBOX_CONFIG_KILL=y
CONFIG_BUSYBOX_CONFIG_KILLALL=y
CONFIG_BUSYBOX_CONFIG_PGREP=y
CONFIG_BUSYBOX_CONFIG_PIDOF=y
CONFIG_BUSYBOX_CONFIG_PS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_PS_WIDE=y
CONFIG_BUSYBOX_CONFIG_BB_SYSCTL=y
CONFIG_BUSYBOX_CONFIG_TOP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TOP_CPU_USAGE_PERCENTAGE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TOP_CPU_GLOBAL_PERCENTS=y

#
# Shells
#
CONFIG_BUSYBOX_CONFIG_ASH=y
CONFIG_BUSYBOX_CONFIG_ASH_BASH_COMPAT=y
CONFIG_BUSYBOX_CONFIG_ASH_JOB_CONTROL=y
CONFIG_BUSYBOX_CONFIG_ASH_ALIAS=y
CONFIG_BUSYBOX_CONFIG_ASH_GETOPTS=y
CONFIG_BUSYBOX_CONFIG_ASH_BUILTIN_ECHO=y
CONFIG_BUSYBOX_CONFIG_ASH_BUILTIN_PRINTF=y
CONFIG_BUSYBOX_CONFIG_ASH_BUILTIN_TEST=y
CONFIG_BUSYBOX_CONFIG_ASH_CMDCMD=y
CONFIG_BUSYBOX_CONFIG_ASH_EXPAND_PRMT=y
CONFIG_BUSYBOX_CONFIG_FEATURE_SH_IS_ASH=y
CONFIG_BUSYBOX_CONFIG_FEATURE_BASH_IS_NONE=y
CONFIG_BUSYBOX_CONFIG_SH_MATH_SUPPORT=y
CONFIG_BUSYBOX_CONFIG_SH_MATH_SUPPORT_64=y

#
# System Logging Utilities
#
CONFIG_BUSYBOX_CONFIG_SYSLOGD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_ROTATE_LOGFILE=y
CONFIG_BUSYBOX_CONFIG_FEATURE_REMOTE_LOG=y
CONFIG_BUSYBOX_CONFIG_FEATURE_SYSLOGD_READ_BUFFER_SIZE=256
CONFIG_BUSYBOX_CONFIG_FEATURE_IPC_SYSLOG=y
CONFIG_BUSYBOX_CONFIG_FEATURE_IPC_SYSLOG_BUFFER_SIZE=16
CONFIG_BUSYBOX_CONFIG_KLOGD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_KLOGD_KLOGCTL=y
CONFIG_BUSYBOX_CONFIG_LOGGER=y
CONFIG_PACKAGE_dnsmasq=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall=y
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_libpthread=y
CONFIG_PACKAGE_mtd=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_procd=y
CONFIG_PACKAGE_qos-scripts=y
CONFIG_PACKAGE_swconfig=y
CONFIG_PACKAGE_ubox=y
CONFIG_PACKAGE_ubus=y
CONFIG_PACKAGE_ubusd=y
CONFIG_PACKAGE_uci=y

#
# Block Devices
#
CONFIG_PACKAGE_kmod-scsi-core=y
CONFIG_PACKAGE_kmod-scsi-generic=y

#
# Cryptographic API modules
#
CONFIG_PACKAGE_kmod-crypto-aes=y
CONFIG_PACKAGE_kmod-crypto-arc4=y
CONFIG_PACKAGE_kmod-crypto-core=y
CONFIG_PACKAGE_kmod-crypto-hash=y
CONFIG_PACKAGE_kmod-crypto-manager=y
CONFIG_PACKAGE_kmod-crypto-pcompress=y

#
# Filesystems
#
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fuse=y

#
# LED modules
#
CONFIG_PACKAGE_kmod-leds-gpio=y
CONFIG_PACKAGE_kmod-ledtrig-usbdev=y

#
# Libraries
#
CONFIG_PACKAGE_kmod-lib-crc-ccitt=y
CONFIG_PACKAGE_kmod-lib-crc16=y
CONFIG_PACKAGE_kmod-lib-textsearch=y

#
# Native Language Support
#
CONFIG_PACKAGE_kmod-nls-base=y

#
# Netfilter Extensions
#
CONFIG_PACKAGE_kmod-ip6tables=y
CONFIG_PACKAGE_kmod-ipt-conntrack=y
CONFIG_PACKAGE_kmod-ipt-conntrack-extra=y
CONFIG_PACKAGE_kmod-ipt-core=y
CONFIG_PACKAGE_kmod-ipt-filter=y
CONFIG_PACKAGE_kmod-ipt-ipopt=y
CONFIG_PACKAGE_kmod-ipt-nat=y
CONFIG_PACKAGE_kmod-ipt-nathelper=y

#
# Network Devices
#
CONFIG_PACKAGE_kmod-ifb=y
CONFIG_PACKAGE_kmod-ltq-adsl-ar9=y
CONFIG_PACKAGE_kmod-ltq-adsl-ar9-fw-a=y
CONFIG_PACKAGE_kmod-ltq-adsl-ar9-mei=y
CONFIG_PACKAGE_kmod-ltq-atm-ar9=y

#
# Network Support
#
CONFIG_PACKAGE_kmod-atm=y
CONFIG_PACKAGE_kmod-ipv6=y
CONFIG_PACKAGE_kmod-ppp=y
CONFIG_PACKAGE_kmod-pppoa=y
CONFIG_PACKAGE_kmod-pppoe=y
CONFIG_PACKAGE_kmod-pppox=y
CONFIG_PACKAGE_kmod-sched-connmark=y
CONFIG_PACKAGE_kmod-sched-core=y
CONFIG_PACKAGE_kmod-slhc=y
CONFIG_PACKAGE_kmod-tun=y

#
# Other modules
#
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y

#
# USB Support
#
CONFIG_PACKAGE_kmod-ltq-hcd-ar9=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-extras=y
CONFIG_PACKAGE_kmod-usb2=y

#
# Wireless Drivers
#
CONFIG_PACKAGE_kmod-ath=y
CONFIG_PACKAGE_kmod-ath9k=y
CONFIG_PACKAGE_kmod-ath9k-common=y
CONFIG_PACKAGE_kmod-cfg80211=y
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_MAC80211_DEBUGFS=y
CONFIG_PACKAGE_MAC80211_MESH=y

#
# Lua
#
CONFIG_PACKAGE_libiwinfo-lua=y
CONFIG_PACKAGE_lua=y

#
# Firewall
#
CONFIG_PACKAGE_libip4tc=y
CONFIG_PACKAGE_libip6tc=y
CONFIG_PACKAGE_libxtables=y

#
# SSL
#
CONFIG_PACKAGE_libcyassl=y
CONFIG_PACKAGE_libopenssl=y

#
# Configuration
#
CONFIG_OPENSSL_WITH_EC=y

#
# database
#
CONFIG_PACKAGE_libblkid=y
CONFIG_PACKAGE_libblobmsg-json=y
CONFIG_PACKAGE_libiwinfo=y
CONFIG_PACKAGE_libjson=y
CONFIG_PACKAGE_libjson-c=y
CONFIG_PACKAGE_libltdl=y
CONFIG_PACKAGE_liblua=y
CONFIG_PACKAGE_liblzo=y
CONFIG_PACKAGE_libnet1=y
CONFIG_PACKAGE_libnfnetlink=y
CONFIG_PACKAGE_libnl-tiny=y
CONFIG_PACKAGE_libpcap=y

#
# Configuration
#
CONFIG_PACKAGE_librrd1=y
CONFIG_PACKAGE_libubox=y
CONFIG_PACKAGE_libubus=y
CONFIG_PACKAGE_libubus-lua=y
CONFIG_PACKAGE_libuci=y
CONFIG_PACKAGE_libuci-lua=y
CONFIG_PACKAGE_libustream-cyassl=y
CONFIG_PACKAGE_libuuid=y
CONFIG_PACKAGE_linux-atm=y
CONFIG_PACKAGE_zlib=y

#
# LuCI
#

#
# 1. Collections
#
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-ssl=y

#
# 2. Modules
#
CONFIG_PACKAGE_luci-mod-admin-core=y
CONFIG_PACKAGE_luci-mod-admin-full=y

#
# 3. Applications
#
CONFIG_PACKAGE_luci-app-commands=y
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_luci-app-diag-core=y
CONFIG_PACKAGE_luci-app-diag-devinfo=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-hd-idle=y
CONFIG_PACKAGE_luci-app-qos=y
CONFIG_PACKAGE_luci-app-samba=y
CONFIG_PACKAGE_luci-app-statistics=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-wol=y

#
# 4. Themes
#
CONFIG_PACKAGE_luci-theme-base=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

#
# 5. Translations
#
CONFIG_PACKAGE_luci-i18n-english=y

#
# 6. Protocols
#
CONFIG_PACKAGE_luci-proto-core=y
CONFIG_PACKAGE_luci-proto-ipv6=y
CONFIG_PACKAGE_luci-proto-ppp=y

#
# 7. Server Interfaces
#
CONFIG_PACKAGE_luci-sgi-cgi=y

#
# 8. Libraries
#
CONFIG_PACKAGE_luci-lib-core=y
CONFIG_PACKAGE_luci-lib-core_source=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-lib-nixio=y
CONFIG_PACKAGE_luci-lib-nixio_notls=y
CONFIG_PACKAGE_luci-lib-sys=y
CONFIG_PACKAGE_luci-lib-web=y

#
# Firewall
#
CONFIG_PACKAGE_ip6tables=y
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_iptables-mod-conntrack-extra=y
CONFIG_PACKAGE_iptables-mod-filter=y
CONFIG_PACKAGE_iptables-mod-ipopt=y
CONFIG_PACKAGE_miniupnpd=y

#
# IP Addresses and Names
#
CONFIG_PACKAGE_ddns-scripts=y

#
# Linux ATM tools
#
CONFIG_PACKAGE_br2684ctl=y

#
# Telephony
#
CONFIG_PACKAGE_smap=y
CONFIG_PACKAGE_smap-to-devinfo=y

#
# VPN
#
CONFIG_PACKAGE_openvpn-easy-rsa=y
CONFIG_PACKAGE_openvpn-openssl=y
CONFIG_OPENVPN_openssl_ENABLE_LZO=y
CONFIG_OPENVPN_openssl_ENABLE_SERVER=y
CONFIG_OPENVPN_openssl_ENABLE_HTTP=y
CONFIG_OPENVPN_openssl_ENABLE_SOCKS=y
CONFIG_OPENVPN_openssl_ENABLE_FRAGMENT=y
CONFIG_OPENVPN_openssl_ENABLE_MULTIHOME=y
CONFIG_OPENVPN_openssl_ENABLE_PORT_SHARE=y
CONFIG_OPENVPN_openssl_ENABLE_DEF_AUTH=y
CONFIG_OPENVPN_openssl_ENABLE_PF=y

#
# Web Servers/Proxies
#
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y

#
# wireless
#
CONFIG_PACKAGE_6relayd=y
CONFIG_PACKAGE_etherwake=y
CONFIG_PACKAGE_hostapd-utils=y
CONFIG_PACKAGE_httping=y
CONFIG_PACKAGE_iputils-traceroute6=y
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_ltq-adsl-app=y
CONFIG_PACKAGE_mac-to-devinfo=y
CONFIG_PACKAGE_netdiscover=y
CONFIG_PACKAGE_netdiscover-to-devinfo=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoa=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_samba36-server=y
CONFIG_PACKAGE_SAMBA_MAX_DEBUG_LEVEL=-1
CONFIG_PACKAGE_tc=y
CONFIG_WPA_SUPPLICANT_INTERNAL=y
CONFIG_WPA_MSG_MIN_PRIORITY=3
CONFIG_DRIVER_11N_SUPPORT=y
CONFIG_PACKAGE_wpad=y

#
# Filesystem
#
CONFIG_PACKAGE_ntfs-3g=y

#
# disc
#
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_hd-idle=y
CONFIG_PACKAGE_swap-utils=y

#
# zoneinfo
#
CONFIG_PACKAGE_collectd=y
CONFIG_PACKAGE_collectd-mod-interface=y
CONFIG_PACKAGE_collectd-mod-iwinfo=y
CONFIG_PACKAGE_collectd-mod-load=y
CONFIG_PACKAGE_collectd-mod-rrdtool=y
CONFIG_PACKAGE_jshn=y
CONFIG_PACKAGE_libjson-script=y
CONFIG_PACKAGE_openssl-util=y
CONFIG_PACKAGE_px5g=y
CONFIG_PACKAGE_rrdtool1=y</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213418">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						29 Sep 2013, 07:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the config.</p><p>Yeah, as I thought you use the default gcc and binutils version and I just tested, it compiles without errors.<br />Tried with gcc 4.8 and binutils 2.32.2 and it fails (until a few weeks ago it always compiled).</p><p>I will stick to gcc 4.6 for now until they fix it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222913">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">ferrix</div>
					<div class="post-datetime">
						16 Jan 2014, 17:23					</div>
				</div>
				<div class="post-content content">
					<p>OpenWrt Barrier Breaker r39304 works out of the box with a single VLAN enabled on my WBMR-HP-G300H.</p><p>I spent a day configuring the device and did not crash it. I consciously avoided tagged and untagged VLANs on the same port, no crashes.</p><p>The real trouble was with the VLAN IDs over 128 or so. I am using 500 for the outbound connection and 1000 for management. The enable_vlan4k setting that opens the wider range of numbers for some rtl switches does nothing for this one. That revealed a flaw in my thinking: The vlan option for switch_vlans is an internal number for the switch. The actual VLAN id is the vid parameter.</p><p>This device is just a DSL bridge for me and the actual routing is done by another device. So I terminate my ATM connection here and handle routing, firewalling et al on the other device.</p><p>Here is my config for those who may be interested:</p><div class="codebox"><pre><code>config interface &#039;ap&#039;
        option type &#039;bridge&#039;
        option proto &#039;none&#039;
        option ifname &#039;eth0.1&#039;

config switch
        option name &#039;switch0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0t 2t 3 4&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;15&#039;
        option ports &#039;0t 2t&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;5&#039;
        option vid &#039;555&#039;
        option ports &#039;0t 2t&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;2&#039;
        option vid &#039;1000&#039;
        option ports &#039;0t 2t 5&#039;

config switch_port
        option port &#039;2&#039;
        option pvid &#039;5&#039;

config switch_port
        option port &#039;5&#039;
        option pvid &#039;2&#039;

config atm-bridge &#039;atm&#039;
        option vpi &#039;0&#039;
        option vci &#039;100&#039;
        option encaps &#039;llc&#039;
        option payload &#039;bridged&#039;
        option unit &#039;0&#039;

config interface &#039;wan&#039;
        option type &#039;bridge&#039;
        option ifname &#039;eth0.500 nas0&#039;
        option proto &#039;none&#039;

config interface &#039;mgt&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;10.255.255.2&#039;
        option netmask &#039;255.255.255.0&#039;
        option ifname &#039;eth0.1000&#039;

config interface &#039;alt&#039;
        option proto &#039;none&#039;
        option ifname &#039;eth0.15&#039;
        option type &#039;bridge&#039;</code></pre></div><p>The other two other VLANs (ap and alt) are duplicates of my WLAN at the other end of the apartment.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225356">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">Ciantic</div>
					<div class="post-datetime">
						15 Feb 2014, 01:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ferrix wrote:</cite><blockquote><p>OpenWrt Barrier Breaker r39304 works out of the box with a single VLAN enabled on my WBMR-HP-G300H.</p></blockquote></div><p>Uhh what? I&#039;m using &quot;attitude adjustment&quot;, do I have to get a newer firmware?</p><p>I bought this box today, and was <a href="http://wiki.openwrt.org/toh/buffalo/wbmr-hp-g300h">following the wiki</a>. I got to the point of &quot;Configure switch&quot; and ended up here. Needless to say the Wiki is a bit obscure about this part. First of all I don&#039;t understand what is the purpose of this part? I can login and I get intranet IP. If I were to connect another device in this the intranet would not work between the two? I haven&#039;t gotten that far yet to try.</p><p>Also I want to be able to map multiple DHCP IP&#039;s using kmod-macvlan but tutorial I followed bricked my device, fortunately debricking was simple. If someone can help to get multiple DHCP IP&#039;s working I would appreciate. I followed <a href="http://www.huggill.com/2012/08/22/configuring-multiple-public-dhcp-ip-addresses-on-a-linksys-wrt54g-with-openwrt/">the macvlan tutorial in here</a>. With replacing &quot;eth0.1&quot; with &quot;nas0&quot; which is the ADSL2+ WAN in this Buffalo box.</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226208">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">Etique</div>
					<div class="post-datetime">
						24 Feb 2014, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>hello all,</p><p>I&#039;m using the excellent build from Giuseppe here <a href="http://nayaka.de/">http://nayaka.de/</a></p><p>But I&#039;m struggling to get the adsl to connect. I&#039;m not sure it&#039;s properly set up. I seem to have the packages required so I guess it must be in the configuration.</p><p>My ISP requires:<br />RFC 1483 routed <br />mode : VCMUX <br />VPI: 8 <br />VCI: 36 </p><p>(Free ADSL in France)</p><p>Here&#039;s my network config so far (I added the ADSL part that I saw a few posts above):<br /></p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
    option ifname &#039;lo&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;127.0.0.1&#039;
    option netmask &#039;255.0.0.0&#039;

#config globals &#039;globals&#039;
#    option ula_prefix &#039;fd78:6e4a:7477::/48&#039;

config interface &#039;lan&#039;
    option type &#039;bridge&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;192.168.0.178&#039;
    option netmask &#039;255.255.255.0&#039;
    option ip6assign &#039;60&#039;
    option ifname &#039;eth0.1&#039;
    option gateway &#039;192.168.0.178&#039;
    option dns &#039;192.168.0.178&#039;

config switch
    option name &#039;switch0&#039;
    option reset &#039;1&#039;
    option enable_vlan &#039;1&#039;

config switch_vlan
    option device &#039;switch0&#039;
    option vlan &#039;1&#039;
    option ports &#039;0t 2 3 4 5&#039;

config atm-bridge &#039;atm&#039;
    option encaps &#039;vc&#039;
    option vci &#039;36&#039;
    option vpi &#039;8&#039;
    option payload &#039;routed&#039;

config interface &#039;wan&#039;
    option _orig_ifname &#039;nas0&#039;
    option _orig_bridge &#039;false&#039;
    option ifname &#039;nas0&#039;
    option proto &#039;dhcp&#039;

config adsl-device &#039;adsl&#039;
    option fwannex &#039;a&#039;
        option annex &#039;a2p&#039;</code></pre></div><p>Thanks!</p>											<p class="post-edited">(Last edited by <strong>Etique</strong> on 4 Mar 2014, 00:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235460">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">angelos</div>
					<div class="post-datetime">
						2 Jun 2014, 22:54					</div>
				</div>
				<div class="post-content content">
					<p>And why don&#039;t you use the WBMR as a <strong>modem router</strong> and not only as a <strong>router</strong>?<br />The main purpose of buying a WBMR is NOT to have two (or more) devices instead of one...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240696">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">boris17</div>
					<div class="post-datetime">
						18 Jul 2014, 17:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mishunja wrote:</cite><blockquote><div class="quotebox"><cite>bcosta wrote:</cite><blockquote><p>I am looking to buy this device, and it seems the only version I have easily available to me is: WBMR-HP-G300H-AP (Note extra -AP). </p><p>Does anyone know if this is the same device? or if the build will work on this?</p></blockquote></div><p>Hi!<br />AP stands for Asia/Pacific. I bought WBMR-HP-G300H-RU. It had Russian GUI and this is the same device. Unfortunatelly I coudn&#039;t flash dd-wrt firmware on it. I suspect that new devices check the firmware before flashing.</p></blockquote></div><p>Mishunja,</p><p>Ho did you finally get flashed your WBMR-HP-G300H-RU? I am getting same &quot;Wrong Image&quot; error with the same model.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242620">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">angelos</div>
					<div class="post-datetime">
						3 Aug 2014, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>OK, since we have <strong>Barrier Breaker RC2</strong> and going towards the Final Release, a little feedback for the devs and anyone else who&#039;s interested.</p><p>- My ISP uses IPv6, and without touching anything in the default configuration, my ADSL connection works like a charm. And solid rock!</p><p><span class="postimg"><img src="http://i.imgur.com/eFNffFf.png?1" alt="http://i.imgur.com/eFNffFf.png?1" /></span></p><p>- My two Huawei USB modems (E173 &amp; E3131) need two things to work. First, a file /etc/modules.d/60-usb-serial with the modem&#039;s vendor and product code, for example:<br /></p><div class="quotebox"><blockquote><p>usbserial vendor=0x12d1 product=0x1506</p></blockquote></div><p>And second, usbmode must be enabled:<br /></p><div class="quotebox"><blockquote><p>/etc/init.d/usbmode enable</p></blockquote></div><p>- The led configuration is slightly different than AA 12.09<br />Here is mine:</p><div class="quotebox"><blockquote><p>config led &#039;led_power&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;power&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;power&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;default-on&#039;</p><p>config led &#039;led_security&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;security&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;security&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;phy0tpt&#039;</p><p>config led &#039;led_wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;phy0tpt&#039;</p><p>config led &#039;led_dsl&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;dsl&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;dsl&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;netdev&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;link tx rx&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option dev &#039;nas0&#039;</p><p>config led &#039;led_online&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;online&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;online&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;none&#039;</p><p>config led &#039;led_online2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;online2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;online2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;netdev&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;tx rx&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option dev &#039;nas0&#039;</p><p>config led &#039;led_usb&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;usb&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;usb&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;default-on&#039;</p><p>config led &#039;led_movie&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;movie&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option sysfs &#039;movie&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option default &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option trigger &#039;timer&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option delayon &#039;1000&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option delayoff &#039;1000&#039;</p></blockquote></div><p>- The WAN configuration is also a little different.<br />Here is an example for a PPPoE ADSL connection (with IPv6 enabled):</p><div class="quotebox"><blockquote><p>config atm-bridge &#039;atm&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encaps &#039;llc&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option payload &#039;bridged&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vci &#039;35&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vpi &#039;8&#039;</p><p>config adsl &#039;dsl&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option annex &#039;a&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option firmware &#039;/lib/firmware/adsl.bin&#039;</p><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;nas0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;pppoe&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option username &#039;user@isp.net&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option password &#039;XXXXXXXXX&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipv6 &#039;1&#039;</p><p>config interface &#039;wan6&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;@wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;dhcpv6&#039;</p></blockquote></div><p>- The BB RC2 image includes Annex B firmware, so If you use Annex A, remove B and install A.<br /></p><div class="quotebox"><blockquote><p>opkg remove kmod-ltq-adsl-ar9-fw-b<br />opkg install kmod-ltq-adsl-ar9-fw-a</p></blockquote></div><p>- br2684ctl is enabled by default</p><p>- Default theme is bootstrap, if you want the nice old openwrt theme...<br /></p><div class="quotebox"><blockquote><p>opkg install luci-theme-openwrt</p></blockquote></div><p>- I also have two TP-Link TL-WN722N (Atheros AR9271) WLAN USB dongles, which they do NOT work with ath9k-htc module. <br />(There are a couple of tickets open for this issue).<br />Here is the log:</p><div class="quotebox"><blockquote><p>Sun Aug 3 20:33:30 2014 kern.info kernel: [ 2579.420000] usb 1-1: new high-speed USB device number 2 using ifxusb_hcd<br />Sun Aug 3 20:33:30 2014 kern.info kernel: [ 2579.644000] usb 1-1: ath9k_htc: Firmware htc_9271.fw requested<br />Sun Aug 3 20:33:33 2014 kern.info kernel: [ 2582.352000] usb 1-1: ath9k_htc: Transferred FW: htc_9271.fw, size: 51272<br />Sun Aug 3 20:33:34 2014 kern.err kernel: [ 2583.360000] ath9k_htc 1-1:1.0: ath9k_htc: Target is unresponsive<br />Sun Aug 3 20:33:34 2014 kern.err kernel: [ 2583.364000] ath9k_htc: Failed to initialize the device</p></blockquote></div><br /><p>----------------------------------------------------------------------------<br />If I remember anything else which might be important, I will add it.<br />----------------------------------------------------------------------------</p>											<p class="post-edited">(Last edited by <strong>angelos</strong> on 7 Mar 2017, 11:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287644">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">Goble</div>
					<div class="post-datetime">
						15 Aug 2015, 00:31					</div>
				</div>
				<div class="post-content content">
					<p>I have been running WBMR-HP-G300H box with Chaos Calmer OpenWRT for about one week now.&nbsp; I have also updated the firmware file in OpenWRT image with newer &quot;alternative fw&quot; file as listed in <a href="http://wiki.openwrt.org/toh/buffalo/wbmr-hp-g300h">http://wiki.openwrt.org/toh/buffalo/wbmr-hp-g300h</a> page. The ADSL here is Annex-A, RFC1483, LLC connection (Sonera ADSL in Finland). Works great.</p><p>ADSL line seems to be rock solid and finally the box manages to handshake ADSL line after powering on the box. The stock Buffalo firmware failed 2/3 times to handshake ADSL line after powering on (threw an dhcpc exception into logfile).</p><p>LAN wired connection works just fine.&nbsp; WLAN wireless connection works OK.&nbsp; IPV6 stuff works. LEDs work.<br />USB disk shared folder is yet-to-be-tested.</p><p>However, haven&#039;t done any before-after benchmark tests, but Internet Speedtests show normal download/upload speeds for my 8Mbit ADSL line.</p><p>I used Chaos Calmer GIT sources (2015-08-10) and compiled the image from scratch to include LUCI Gui, Dropbear ssh, Nano editor, usb support and other usual stuff for this box.</p><p>CC-OpenWRT image was at first a bit difficult to configure (mainly ADSL RFC1483 WAN settings) but until realizing how WAN DHCP interface type and ATM options worked together, things started to work just fine.</p>											<p class="post-edited">(Last edited by <strong>Goble</strong> on 15 Aug 2015, 00:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307182">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">Nyx__</div>
					<div class="post-datetime">
						11 Jan 2016, 19:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Is anyone using this device facing the Wifi isse?</p><p>I&#039;ve been struggling with it since I installed OpenWrt on it.</p><p>After a couple of hours, the Wireless becomes unusuable, the logs are flooded with:</p><div class="codebox"><pre><code>[ 8643.360000] ath: phy0: Unable to reset channel, reset status -22
[ 8643.496000] ath: phy0: DMA failed to stop in 10 ms AR_CR=0xffffffff AR_DIAG_SW=0xffffffff DMADBG_7=0xffffffff
[ 8643.612000] ath: phy0: Chip reset failed
[ 8643.616000] ath: phy0: Unable to reset channel, reset status -22
[ 8643.716000] ath: phy0: DMA failed to stop in 10 ms AR_CR=0xffffffff AR_DIAG_SW=0xffffffff DMADBG_7=0xffffffff
[ 8643.832000] ath: phy0: Chip reset failed
[ 8643.836000] ath: phy0: Unable to reset channel, reset status -22
[ 8644.260000] ath: phy0: DMA failed to stop in 10 ms AR_CR=0xffffffff AR_DIAG_SW=0xffffffff DMADBG_7=0xffffffff
[ 8644.376000] ath: phy0: Chip reset failed</code></pre></div><p>I trying setting Wireless in different ways, like disabling N network (keeping it legacy), fixing it to a specific channel, reducing the power, etc. No luck so far.</p><p>Here&#039;s my setup details:</p><div class="codebox"><pre><code>DISTRIB_ID=&#039;OpenWrt&#039;
DISTRIB_RELEASE=&#039;15.05&#039;
DISTRIB_REVISION=&#039;r46767&#039;
DISTRIB_CODENAME=&#039;chaos_calmer&#039;
DISTRIB_TARGET=&#039;lantiq/xway&#039;
DISTRIB_DESCRIPTION=&#039;OpenWrt Chaos Calmer 15.05&#039;
DISTRIB_TAINTS=&#039;&#039;</code></pre></div><div class="codebox"><pre><code>system type        : AR9 rev 1.2
machine            : WBMR - Buffalo WBMR-HP-G300H
processor        : 0
cpu model        : MIPS 34Kc V4.12
BogoMIPS        : 221.18
wait instruction    : yes
microsecond timers    : yes
tlb_entries        : 16
extra interrupt vector    : yes
hardware watchpoint    : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa            : mips1 mips2 mips32r1 mips32r2
ASEs implemented    : mips16 dsp mt
shadow register sets    : 1
kscratch registers    : 0
package            : 0
core            : 0
VCED exceptions        : not available
VCEI exceptions        : not available</code></pre></div><div class="codebox"><pre><code>config wifi-device &#039;radio0&#039;
    option type &#039;mac80211&#039;
    option hwmode &#039;11g&#039;
    option path &#039;pci0000:00/0000:00:0e.0&#039;
    option txpower &#039;20&#039;
    option country &#039;BR&#039;
    option log_level &#039;3&#039;
    option channel &#039;6&#039;
    option htmode &#039;HT20&#039;

config wifi-iface
    option device &#039;radio0&#039;
    option mode &#039;ap&#039;
    option wps_device_name &#039;Buffalo WBMR-HP-G300H&#039;
    option ssid &#039;ABC&#039;
    option key &#039;1234567890&#039;
    option network &#039;lan&#039;
    option wps_pushbutton &#039;0&#039;
    option encryption &#039;psk-mixed+ccmp&#039;

config wifi-iface
    option device &#039;radio0&#039;
    option mode &#039;ap&#039;
    option ssid &#039;DEF&#039;
    option key &#039;1234567890&#039;
    option wps_pushbutton &#039;0&#039;
    option network &#039;lanb&#039;
    option encryption &#039;psk-mixed+ccmp&#039;</code></pre></div><p>I don&#039;t think it is related but I must mention I was able to solve the constant ADSL disconnect following the details on this post:<br /><a href="https://dev.openwrt.org/ticket/18105#comment:15">https://dev.openwrt.org/ticket/18105#comment:15</a></p><p>Is anyone facing similar Wireless problem with this device? Any solution?</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307307">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">angelos</div>
					<div class="post-datetime">
						12 Jan 2016, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Maybe the fact that you have two wifi-iface&#039;s, causes problems.<br />Remove one of them and watch the router&#039;s behaviour for some hours to see if the problem still exist.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307626">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">Goble</div>
					<div class="post-datetime">
						14 Jan 2016, 17:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Nyx__ wrote:</cite><blockquote><p>Is anyone using this device facing the Wifi isse?</p></blockquote></div><p>I have been running WBMR-HP-G300h with OpenWRT/ChaosCalmer for about 6 months and it works great. I didn&#039;t use any existing OpenWRT images, instead I re-compiled the image from OpenWRT/CC sources released about 6 months ago. I know there are newer CC&nbsp; source codes already available but because the one I re-compiled works without problems I haven&#039;t bothered to update it.</p><p>I have several WLAN and few LAN devices connected to the box. The only problem I had was with one of the Win10 laptops. It sometimes lost WLAN connection but the problem was in that laptop because other devices worked just fine (laptops, PS3, television and several Android mobiles and one Windows Phone mobile). Eventually tweaking Win10 laptop settings that problem was also solved so definetly a client problem and not OpenWRT device issue.</p><p>OpenWRT/ChaosCalmer: Bleeding Edge (r46584)</p><p>cat /etc/config/wireless:</p><p>config wifi-device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;mac80211&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode &#039;11g&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option path &#039;pci0000:00/0000:00:0e.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option country &#039;FI&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode &#039;HT20&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option txpower &#039;17&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel &#039;1&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wps_pushbutton &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wps_device_name &#039;OpenWrt - Buffalo WBMR-HP-G300H&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;MyWLAN&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;sensoredPwdKey&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wpa_group_rekey &#039;7200&#039;</p>											<p class="post-edited">(Last edited by <strong>Goble</strong> on 14 Jan 2016, 17:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308861">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">Nyx__</div>
					<div class="post-datetime">
						24 Jan 2016, 18:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Goble wrote:</cite><blockquote><p>I have been running WBMR-HP-G300h with OpenWRT/ChaosCalmer for about 6 months and it works great. I didn&#039;t use any existing OpenWRT images, instead I re-compiled the image from OpenWRT/CC sources released about 6 months ago. I know there are newer CC&nbsp; source codes already available but because the one I re-compiled works without problems I haven&#039;t bothered to update it.</p><p>I have several WLAN and few LAN devices connected to the box. The only problem I had was with one of the Win10 laptops. It sometimes lost WLAN connection but the problem was in that laptop because other devices worked just fine (laptops, PS3, television and several Android mobiles and one Windows Phone mobile). Eventually tweaking Win10 laptop settings that problem was also solved so definetly a client problem and not OpenWRT device issue.</p><p>OpenWRT/ChaosCalmer: Bleeding Edge (r46584)</p></blockquote></div><br /><p>Hi. I tried using a compiled from sources version (CC - r48430). The problem still occurs.</p><p>To compile it, I followed the guide available here: <a href="https://wiki.openwrt.org/doc/howto/build">https://wiki.openwrt.org/doc/howto/build</a></p><p>Can you tell me how to compile that specific version (r46584) you used? How to change to that specific release using GIT?</p><p>I&#039;ll then compile that specific version and test on my device.</p><p>Thank you very much.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309525">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">Goble</div>
					<div class="post-datetime">
						29 Jan 2016, 22:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Nyx__ wrote:</cite><blockquote><p>I tried using a compiled from sources version (CC - r48430). The problem still occurs.<br />Can you tell me how to compile that specific version (r46584) you used? How to change to that specific release using GIT?</p></blockquote></div><p>You can use git checkout command to checkout certain revision. Or you can use <a href="http://git.openwrt.org/?p=openwrt.git;a=shortlog">http://git.openwrt.org/?p=openwrt.git;a=shortlog</a> website to download a snapshot tar.gz package of certain commit (just go back to certain date in a log history). My revision is something like 6-7 months old.</p><p>Are you sure this is not a client related problem (or certain client triggers this hidden bug)? If WLAN dropouts occurs always wihin 2-3 hours of lifetime then how about trying to run in one by one with different clients to see is there certain WLAN client causing this bug.</p><p>One thing I didn&#039;t remember to mention is that I&#039;m using Annex-A &quot;alternative firmware&quot;. The one coming with OpenWRT source package is (presumably) quite old. See <a href="https://dev.openwrt.org/ticket/18105#">https://dev.openwrt.org/ticket/18105#</a> discussion. I updated the OpenWRT image to use dsl_ar9_firmware_adsl_a-04.05.04.09.01.01.bin firmware version.</p><p>This firmware is supposed to fix some ADSL line problems, so probably has nothing to do with WLAN but if you have Annex-A ADSL line then give it a chance.</p><p>EDIT: Aaah. I see you are already using the &quot;alternative fw&quot; (just read again one of your old posts).</p>											<p class="post-edited">(Last edited by <strong>Goble</strong> on 29 Jan 2016, 22:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353685">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">bassplayerchris</div>
					<div class="post-datetime">
						6 Mar 2017, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>Anyone here had any luck upgrading this router to LEDE? It&#039;s not on the support matrix, but it would seem that both Annex-A and Annex-B images continue to be built for this router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353690">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">angelos</div>
					<div class="post-datetime">
						7 Mar 2017, 00:23					</div>
				</div>
				<div class="post-content content">
					<p>I am planning to do the migration from 15.05.1 to 17.01.0 in the next couple of days.<br />So... just be a little patient and I will post any info I think it&#039;s crucial (like important differences etc).<br />Cheers! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353726">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">angelos</div>
					<div class="post-datetime">
						7 Mar 2017, 16:41					</div>
				</div>
				<div class="post-content content">
					<p>Migration from 15.05.1 to 17.01.0... DONE! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><span class="postimg"><img src="https://s24.postimg.org/rhrzvsz6t/wbmr000.png" alt="https://s24.postimg.org/rhrzvsz6t/wbmr000.png" /></span></p><p>Notes:<br /></p><ul><li><p>LuCI respond is slower in comparison to 15.05.1</p></li></ul><ul><li><p>By default, <strong>wpad-mini</strong> is installed. If you want WPA2-EAP support, you must install the <strong>wpad</strong> package.</p></li></ul><ul><li><p>LED config has changed. My new config (from scratch): <a href="http://pastebin.com/3kdj5r0Z">http://pastebin.com/3kdj5r0Z</a></p></li></ul><ul><li><p>DSL improvements and options added...<br /><span class="postimg"><img src="https://s23.postimg.org/ucd5vtr17/wbmr001.png" alt="https://s23.postimg.org/ucd5vtr17/wbmr001.png" /></span><br /><span class="postimg"><img src="https://s9.postimg.org/6ggv75fqn/wbmr002.png" alt="https://s9.postimg.org/6ggv75fqn/wbmr002.png" /></span><br /><span class="postimg"><img src="https://s18.postimg.org/kpixd23gp/wbmr003.png" alt="https://s18.postimg.org/kpixd23gp/wbmr003.png" /></span></p></li></ul><p>If I notice anything else that is worth mentioning, I will add it.</p>											<p class="post-edited">(Last edited by <strong>angelos</strong> on 7 Mar 2017, 16:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353837">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">bassplayerchris</div>
					<div class="post-datetime">
						9 Mar 2017, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for that - before checking this thread - as I forgot to tick the &#039;subscribe to topic option&#039; I went off and did my own upgrade of the Buffalo last night.</p><p>Things I noticed so far:</p><p>- LuCI is slower which you mention above, especially the initial status screen, though the overall memory profile of the entire system is better (lower running memory use).<br />- Cake is available as a built in QoS Scheduler, which does seem to have better CPU usage under network saturation.<br />- The Annex-A firmware file adsl.bin is still the older openwrt one, rather than the one identified in the ticket 18105 (can&#039;t post the url).<br />- Some of the collectd modules are logging extra information that is differentiated by type_instance only - I send everything to a local influx/grafana combo, and it screwed up the graphs until i fixed this.<br />- By default, even if you specify the DNS servers separately in the DNSMASQ file the ones against the connection are also appended on - perhaps there was a setting that made this happen, but I couldn&#039;t find it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353856">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">angelos</div>
					<div class="post-datetime">
						9 Mar 2017, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for the feedback, it&#039;s always useful.</p><p>-----</p><p>3 years ago, I opened a ticket...<br /><a href="https://dev.openwrt.org/ticket/16755">#16755 / ath9k_htc: Failed to initialize the device</a></p><p>Although this was not a WBMR-HP-G300H issue and affected many OpenWrt versions, it seems that it&#039;s fixed in LEDE 17.01.0!</p><p>I don&#039;t know if the problem was the kernel, the firmware, a combination of both or something else, but I&#039;m very happy to see that my TP-LINK TL-WN722N (Atheros AR9271 chipset) is finally working!</p><div class="codebox"><pre><code>Thu Mar  9 15:29:28 2017 kern.info kernel: [  132.707331] usb 1-1: new high-speed USB device number 2 using dwc2
Thu Mar  9 15:29:28 2017 kern.info kernel: [  132.932747] usb 1-1: ath9k_htc: Firmware ath9k_htc/htc_9271-1.4.0.fw requested
Thu Mar  9 15:29:29 2017 kern.info kernel: [  133.783406] usb 1-1: ath9k_htc: Transferred FW: ath9k_htc/htc_9271-1.4.0.fw, size: 51008
Thu Mar  9 15:29:29 2017 kern.info kernel: [  134.024293] ath9k_htc 1-1:1.0: ath9k_htc: HTC initialized with 33 credits
Thu Mar  9 15:29:29 2017 kern.info kernel: [  134.466531] ath9k_htc 1-1:1.0: ath9k_htc: FW Version: 1.4
Thu Mar  9 15:29:29 2017 kern.info kernel: [  134.470660] ath9k_htc 1-1:1.0: FW RMW support: On
Thu Mar  9 15:29:29 2017 kern.debug kernel: [  134.475237] ath: EEPROM regdomain: 0x809c
Thu Mar  9 15:29:29 2017 kern.debug kernel: [  134.479131] ath: EEPROM indicates we should expect a country code
Thu Mar  9 15:29:29 2017 kern.debug kernel: [  134.485235] ath: doing EEPROM country-&gt;regdmn map search
Thu Mar  9 15:29:29 2017 kern.debug kernel: [  134.490511] ath: country maps to regdmn code: 0x52
Thu Mar  9 15:29:29 2017 kern.debug kernel: [  134.495282] ath: Country alpha2 being used: CN
Tue Mar  7 15:29:29 2017 kern.debug kernel: [  134.499656] ath: Regpair used: 0x52
Thu Mar  9 15:29:29 2017 kern.info kernel: [  134.549066] ieee80211 phy1: Atheros AR9271 Rev:1</code></pre></div>											<p class="post-edited">(Last edited by <strong>angelos</strong> on 9 Mar 2017, 21:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359464">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">bassman</div>
					<div class="post-datetime">
						31 May 2017, 02:24					</div>
				</div>
				<div class="post-content content">
					<p>I need to add a WAN port to my WBMR-HP-G300H, because I&#039;m switching to VDSL and the Buffalo can&#039;t handle that. The ISP now forces a crappy modem/router on its subscribers, and if you want your landline to work you have to use THAT, at least for the modem part: VoIP credentials are encrypted in the crappy modem&#039;s firmware.</p><p>So I will use it as modem only, and keep the Buffalo as my main router. As it is now (before switching), the Buffalo&#039;s wan is a pppoe connection to the nas (ATM) adapter. However, the Buffalo has no actual ethernet WAN port. I need to make one so it can connect to the crappy modem. How do I fake a WAN port with VLANS without touching anything else? I&#039;d like to just move the original pppoe connection from the nas adapter to the new virtual WAN ethernet port.</p><p>@angelos<br />In your post dated 2017-03-07 16:41:21, you show some nice pages (DSL, ATM bridges). I also run LEDE now, but I don&#039;t have those pages in LuCi. Is there a specific package I must include when building? Where are those pages located in LuCi&#039;s menus? This isn&#039;t important, as I&#039;m switching to VDSL anyway. Just my curiosity...</p>											<p class="post-edited">(Last edited by <strong>bassman</strong> on 31 May 2017, 02:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366872">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">etness</div>
					<div class="post-datetime">
						17 Oct 2017, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>I have openwrt 14.<br />sysupgrade from openwrt to lede is working for this router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366875">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">bassman</div>
					<div class="post-datetime">
						17 Oct 2017, 15:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>etness wrote:</cite><blockquote><p>I have openwrt 14.<br />sysupgrade from openwrt to lede is working for this router?</p></blockquote></div><p>Yes, it works flawlessly in my experience. Switched to Lede painlessly a long time ago already.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366898">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">bassplayerchris</div>
					<div class="post-datetime">
						17 Oct 2017, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>Just ensure that if you are using Annex A, that you replace the firmware with the more stable firmware linked from the wiki.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p367107">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">etness</div>
					<div class="post-datetime">
						21 Oct 2017, 19:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bassman wrote:</cite><blockquote><p>Yes, it works flawlessly in my experience.</p></blockquote></div><p>Fantastic! I updated today without issue. Thank you for your feedback.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 7 of 7</div><nav><ul><li><a href="viewtopic.php%3Fid=34072&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=34072&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=34072&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>