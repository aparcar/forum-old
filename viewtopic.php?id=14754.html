<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Asus WL-500Gp] Using OpenWRT to record WebCam snapshots to USB drive</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p64516">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">KoMar</div>
					<div class="post-datetime">
						3 Mar 2008, 23:29					</div>
				</div>
				<div class="post-content content">
					<p>[WebCam] Using OpenWRT to record WebCam snapshots to USB drive</p><p>With this tutorial you&#039;ll be able to take snapshots from a WebCam every second and save them to your USB drive.</p><p><strong>Prerequisites</strong><br /></p><ul><li><p>Asus WL-500G Premium (important note: it must not be the V2 version!)</p></li><li><p>USB thumb drive (to save WebCam snapshots on) - either 4 GB (holds approx. 12 hours of snapshots) or 8 GB (holds approx. 24 hours)</p></li><li><p>Logitech QuickCam Pro 5000 (for other supported WebCams, see <a href="http://linux-uvc.berlios.de/">this</a> and <a href="http://mxhaard.free.fr/spca5xx.html">this</a> list)</p></li><li><p>(Optional) Tp-Link TL-WN560G Mini PCI card (the one that comes with the router doesn&#039;t work with our firmware)</p></li></ul><p><strong>Installing OpenWRT firmware</strong><br /></p><ul><li><p>Download <a href="http://www.multiupload.com/4E2IO9U0HJ">this OpenWRT firmware</a> and save it to desktop</p></li><li><p>Connect the router to your PC using port 1 - also disconnect any other LAN connections to your PC</p></li><li><p>Change the IP of your NIC to 192.168.1.10 and the subnet mask to 255.255.255.0</p></li><li><p>Push and hold the restore button and power on your router - the ON light should blink once a second</p></li><li><p>Wait 40 seconds and pull the power cord from the router</p></li><li><p>Change your PC&#039;s NIC IP settings to automatic (DHCP); you can also reattach any other connections</p></li><li><p>Turn on your router - the ON light shouldn&#039;t blink anymore - if it does, upload the firmware again and this time wait a little bit longer</p></li><li><p>After rebooting the router, you can no longer connect via telnet - you must use SSH; use <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a> to connect to your router (its IP is 192.168.86.1) and login with &quot;root&quot; as username and with the passwod you chose</p></li></ul><p><strong>WLAN configuration</strong><br /></p><ul><li><p>If you wish to use WLAN to connect to your router, you must open it and <a href="http://shrani.si/f/1S/VG/2noOcMMt/dsc00244.jpg">replace</a> its wireless card</p></li><li><p>Edit the file /etc/config/wireless: add &quot;#&quot; before &quot;option disabled 1&quot;</p></li><li><p>Change the SSID at &quot;option ssid&quot;, set &quot;option encryption&quot; to &quot;psk2&quot; and add &quot;option key [your-password]&quot;</p></li></ul><p><strong>Preparing the USB drive</strong><br /></p><ul><li><p>Connect the USB drive to one of the router&#039;s 2 USB ports and wait approx. 10 seconds for the drive to initialize</p></li><li><p>You can access the files on your USB drive with any FTP client - use 192.168.86.1 for IP, username is &quot;root&quot; and the passwod is the one you chose earlier</p></li></ul><p><strong>Making the startup script</strong><br /></p><ul><li><p>Now reboot your router and the recording should start automatically</p></li><li><p>On your PC, visit <a href="http://192.168.86.1/java_simple.html">http://192.168.86.1/java_simple.html</a> and enjoy live streaming video <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></li></ul><p><strong>Additional</strong><br /></p><ul></ul><p><strong>Sources:</strong><br /></p><ul><li><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Asus/WL500GP">http://wiki.openwrt.org/OpenWrtDocs/Har … us/WL500GP</a></p></li><li><p><a href="http://forum.openwrt.org/viewtopic.php?id=14186">http://forum.openwrt.org/viewtopic.php?id=14186</a></p></li><li><p><a href="http://wiki.openwrt.org/UsbStorageHowto">http://wiki.openwrt.org/UsbStorageHowto</a></p></li><li><p><a href="http://wiki.openwrt.org/webcam">http://wiki.openwrt.org/webcam</a></p></li><li><p><a href="http://naaa.de/programme/uvc_streamer/openwrt/HowTo-MJPG-streamer-Kamikaze-7.09.txt">http://naaa.de/programme/uvc_streamer/o … e-7.09.txt</a></p></li></ul><div class="codebox"><pre><code>cd [folder]</code></pre></div>											<p class="post-edited">(Last edited by <strong>KoMar</strong> on 20 May 2011, 13:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64517">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						3 Mar 2008, 23:39					</div>
				</div>
				<div class="post-content content">
					<p>Nice <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64519">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">KoMar</div>
					<div class="post-datetime">
						3 Mar 2008, 23:44					</div>
				</div>
				<div class="post-content content">
					<p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>And FYI, the firmware is a freshly compiled trunk from SVN with the newest mjpg_streamer <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65138">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">entikle</div>
					<div class="post-datetime">
						14 Mar 2008, 06:19					</div>
				</div>
				<div class="post-content content">
					<p>Very interesting. I want to do the same thing for the NSLU2 and a QC9000, so I&#039;m rying to build the appropriate firmware from trunk just as you have. My builds seem to hang during startup, though, so I suspect I don&#039;t have the right kernel modules, or something. Could you possibly post the output of lsmod &amp; ipkg list?</p><p>Is there any particular advantage to building a unified firmware like this rather than starting with the stock build and loading the relevant packages/modules with ipkg and insmod, as required, until it works?</p><p>Thanks,<br />Nigel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65154">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">KoMar</div>
					<div class="post-datetime">
						14 Mar 2008, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>lsmod:</p><div class="codebox"><pre><code>root@OpenWrt:~# lsmod
Module                  Size  Used by    Tainted: P
uvcvideo               45744  1
sg                     24704  0
videodev               23104  2 uvcvideo
compat_ioctl32           448  1 uvcvideo
v4l1_compat            11280  2 uvcvideo,videodev
v4l2_common            12608  2 uvcvideo,videodev
usb_storage            28032  2
uhci_hcd               19920  0
ohci_hcd               16656  0
ath_pci               114352  0
wlan_xauth               480  0
wlan_wep                4000  0
wlan_tkip               9664  0
wlan_ccmp               5440  3
wlan_acl                1920  0
ath_rate_minstrel       8256  1
ath_hal               271168  3 ath_pci,ath_rate_minstrel
wlan_scan_sta           8768  1
wlan_scan_ap            6656  0
wlan                  152592  10 ath_pci,wlan_xauth,wlan_wep,wlan_tkip,wlan_ccmp,wlan_acl,ath_rate_minstrel,wlan_scan_sta,wlan_scan_ap
sd_mod                 18512  3
nf_nat_tftp              480  0
nf_conntrack_tftp       2480  1 nf_nat_tftp
nf_nat_irc               960  0
nf_conntrack_irc        2832  1 nf_nat_irc
nf_nat_ftp              1472  0
nf_conntrack_ftp        5152  1 nf_nat_ftp
ppp_async               9856  0
ppp_generic            20192  1 ppp_async
slhc                    5376  1 ppp_generic
crc_ccitt               1024  1 ppp_async
ext3                   98064  1
jbd                    55408  1 ext3
usbcore               106576  5 uvcvideo,usb_storage,uhci_hcd,ohci_hcd
scsi_mod               72256  3 sg,usb_storage,sd_mod
switch_robo             4224  0
switch_core             5024  1 switch_robo
diag                    7056  0</code></pre></div><p>ipkg:</p><div class="codebox"><pre><code>root@OpenWrt:~# ipkg list_installed
base-files-brcm47xx - 12-r10538 -
bridge - 1.0.6-1 -
busybox - 1.8.2-1 -
dnsmasq - 2.40-1 -
dropbear - 0.50-3 -
e2fsprogs - 1.39-1 -
fdisk - 2.13.0.1-1 -
hostapd - 20071107_03ec0ec5cdb974d51a4a2a566bea4c4568138576-1 -
hostapd-utils - 20071107_03ec0ec5cdb974d51a4a2a566bea4c4568138576-1 -
hotplug2 - 0.9+r102-2 -
iptables - 1.3.8-2 -
kernel - 2.6.23.16-brcm47xx-1 -
kmod-diag - 2.6.23.16-brcm47xx-2 -
kmod-fs-ext3 - 2.6.23.16-brcm47xx-1 -
kmod-ipt-nathelper - 2.6.23.16-brcm47xx-1 -
kmod-madwifi - 2.6.23.16+r3314-brcm47xx-1 -
kmod-ppp - 2.6.23.16-brcm47xx-1 -
kmod-pppoe - 2.6.23.16-brcm47xx-1 -
kmod-scsi-core - 2.6.23.16-brcm47xx-1 -
kmod-scsi-generic - 2.6.23.16-brcm47xx-1 -
kmod-switch - 2.6.23.16-brcm47xx-1 -
kmod-usb-core - 2.6.23.16-brcm47xx-1 -
kmod-usb-ohci - 2.6.23.16-brcm47xx-1 -
kmod-usb-storage - 2.6.23.16-brcm47xx-1 -
kmod-usb-uhci - 2.6.23.16-brcm47xx-1 -
kmod-video-core - 2.6.23.16-brcm47xx-1 -
kmod-video-uvc - 2.6.23.16+r151-brcm47xx-1 -
libblkid - 1.39-1 -
libgcc - 4.1.2-12 -
libjpeg - 6b-1 -
libopenssl - 0.9.8e-3 -
libpthread - 0.9.29-12 -
libuci - 0.3.0-1 -
libuuid - 1.39-1 -
mjpg-streamer - rev56-1 -
mtd - 6 -
ntpclient - 2003_194-6 -
ppp - 2.4.3-9 -
ppp-mod-pppoe - 2.4.3-9 -
swap-utils - 2.13.0.1-1 -
uci - 0.3.0-1 -
uclibc - 0.9.29-12 -
udevtrigger - 106-1 -
vsftpd - 2.0.5-2 -
wireless-tools - 29-2 -
wpa-cli - 0.5.9-1 -
wpa-supplicant - 0.5.9-1 -
zlib - 1.2.3-5 -
Done.</code></pre></div><p>Please note that I do not have USB 2.0 enabled in my firmware image since there could be issues with my QuickCam 5000 Pro.</p><p>The primary advantage to building your own firmware image is you don&#039;t have to install everything seperately - it just works out of the box <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>KoMar</strong> on 14 Mar 2008, 12:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67367">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">videshi</div>
					<div class="post-datetime">
						24 Apr 2008, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>Very good. Has anyone tried the 2.4 kernel instead of 2.6. I cannot get the wifi to work with 2.6. Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67373">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">KoMar</div>
					<div class="post-datetime">
						24 Apr 2008, 15:39					</div>
				</div>
				<div class="post-content content">
					<p>2.4 does not support UVC webcams... and of course you cannot get WLAN to work - that&#039;s why you need to replace the MiniPCI WLAN card inside with an Atheros one <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74334">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">tehno</div>
					<div class="post-datetime">
						7 Oct 2008, 01:11					</div>
				</div>
				<div class="post-content content">
					<p>have you suceeded in enabling USB 2.0 support?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76940">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						23 Nov 2008, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>I followed koMar&#039;s instruction and I it&#039;s working perfect with Logitech QuickCam Pro 9000. The only thing it work is that code I insert into /etc/init.d/done is not exectued, so I have to manually enter mount and mjpeg_streamer command everytime I reboot the router. If I try to enter following command, I get response:</p><div class="codebox"><pre><code>root@OpenWrt:~# /etc/init.d/done
/bin/sh: can&#039;t open /etc/rc.common</code></pre></div><p>I would also like to make some additional steps:<br />- put router in wireless client mode, that it will connect to my existing wireless network<br />- save images to Windows server share in local network, instead on USB key<br />- is it possible to enable motion detector with wl-500gp and make picture only when camera captures the motion</p><p>About wireless part I managed to reconfigure wireless and network file, so wireless part get&#039;s ip number 192.168.1.107 from dhcp, but if I remove lan cable from router, it&#039;s not possible to connect to router on his ip anymore?</p><p>Here are my wireless settings:<br /></p><div class="codebox"><pre><code>config wifi-device  wifi0
    option type         atheros
    #option channel      auto
    option channel       6
    option txantenna     2
    option rxantenna     2

    # REMOVE THIS LINE TO ENABLE WIFI:
    #option disabled     1

config wifi-iface
    option device    wifi0
    option network    wlan
    #option mode        ap
    option mode         sta
    option ssid         BENEDICIC
    option encryption    psk
    option key        [password]</code></pre></div><p>Network settings:<br /></p><div class="codebox"><pre><code>config &#039;switch&#039; &#039;eth0&#039;
    option &#039;vlan0&#039;     &#039;1 2 3 4 5*&#039;
    option &#039;vlan1&#039;     &#039;0 5&#039;

config &#039;interface&#039; &#039;loopback&#039;
    option &#039;ifname&#039;     &#039;lo&#039;
    option &#039;proto&#039;     &#039;static&#039;
    option &#039;ipaddr&#039;     &#039;127.0.0.1&#039;
    option &#039;netmask&#039;     &#039;255.0.0.0&#039;

config &#039;interface&#039; &#039;lan&#039;
    option &#039;type&#039;     &#039;bridge&#039;
    option &#039;ifname&#039;     &#039;eth0.0&#039;
    option &#039;proto&#039;     &#039;static&#039;
    option &#039;ipaddr&#039;     &#039;192.168.1.50&#039;
    option &#039;netmask&#039;     &#039;255.255.255.0&#039;
    option &#039;gateway&#039;     &#039;192.168.1.1&#039;
    option &#039;dns&#039;         &#039;192.168.1.1&#039;

config &#039;interface&#039; &#039;wan&#039;
    option &#039;ifname&#039;     &#039;eth0.1&#039;
    option &#039;proto&#039;     &#039;dhcp&#039;

config &#039;interface&#039; &#039;wlan&#039;
    option &#039;ifname&#039;     &#039;wifi0&#039;
    option &#039;proto&#039;     &#039;dhcp&#039;</code></pre></div><p>Response I get from &quot;ifconfig&quot; is:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ifconfig
ath0      Link encap:Ethernet  HWaddr 00:1D:0F:AF:AD:57
          inet addr:192.168.1.107  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:374 errors:0 dropped:0 overruns:0 frame:0
          TX packets:7 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:39764 (38.8 KiB)  TX bytes:1099 (1.0 KiB)

br-lan    Link encap:Ethernet  HWaddr 00:18:F3:3B:69:9C
          inet addr:192.168.1.50  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1310 errors:0 dropped:0 overruns:0 frame:0
          TX packets:532 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:163561 (159.7 KiB)  TX bytes:64693 (63.1 KiB)

eth0      Link encap:Ethernet  HWaddr 00:18:F3:3B:69:9C
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1302 errors:0 dropped:0 overruns:0 frame:0
          TX packets:810 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:191345 (186.8 KiB)  TX bytes:162041 (158.2 KiB)
          Interrupt:4

eth0.0    Link encap:Ethernet  HWaddr 00:18:F3:3B:69:9C
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1310 errors:0 dropped:0 overruns:0 frame:0
          TX packets:532 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:168801 (164.8 KiB)  TX bytes:66821 (65.2 KiB)

eth0.1    Link encap:Ethernet  HWaddr 00:18:F3:3B:69:9C
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:286 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:92664 (90.4 KiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:13 errors:0 dropped:0 overruns:0 frame:0
          TX packets:13 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:1064 (1.0 KiB)  TX bytes:1064 (1.0 KiB)

wifi0     Link encap:UNSPEC  HWaddr 00-1D-0F-AF-AD-57-98-0E-00-00-00-00-00-00-00-00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:15485 errors:0 dropped:0 overruns:0 frame:5
          TX packets:163 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:195
          RX bytes:2089583 (1.9 MiB)  TX bytes:11220 (10.9 KiB)
          Interrupt:6</code></pre></div><p>And &quot;iwconfig&quot;:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

eth0.0    no wireless extensions.

eth0.1    no wireless extensions.

br-lan    no wireless extensions.

wifi0     no wireless extensions.

ath0      IEEE 802.11g  ESSID:&quot;BENEDICIC&quot;  Nickname:&quot;&quot;
          Mode:Managed  Frequency:2.437 GHz  Access Point: 00:14:BF:A5:43:52
          Bit Rate:36 Mb/s   Tx-Power:16 dBm   Sensitivity=1/1
          Retry:off   RTS thr:off   Fragment thr:off
          Encryption key:B35D-59C8-52D7-AF51-2416-6FD1-C944-B054   Security mode:restricted
          Power Management:off
          Link Quality=35/70  Signal level=-61 dBm  Noise level=-96 dBm
          Rx invalid nwid:7336  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0</code></pre></div><p>I am not so experienced in linux so I will be appreciate for any help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77076">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						25 Nov 2008, 20:08					</div>
				</div>
				<div class="post-content content">
					<p>Nobody with some idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77089">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tehno</div>
					<div class="post-datetime">
						26 Nov 2008, 00:36					</div>
				</div>
				<div class="post-content content">
					<p>Urose, so what is you question regarding the camera? It could be possible to save captured pictures to remote server, but regarding the motion detection it could require more resources than just UVC capture/stream.... there is also package &quot;motion&quot;...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77099">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						26 Nov 2008, 09:33					</div>
				</div>
				<div class="post-content content">
					<p>I would like to figure it out why my &quot;done&quot; script is not executing at boot and why my router doesn&#039;t want to work in wireless client mode if LAN cable is not connected (if it is connected it works - it gets new ip on wifi and I can connect with ssh).<br />Is there any example how to configure motion with settings that cpu on wl-500gp will manage?</p><p>I was searching for some tips how to save captures images to remote (local) server, but I didn&#039;t find anything.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77103">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tehno</div>
					<div class="post-datetime">
						26 Nov 2008, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>Check on you AP if the WL500GP is associated? Chech your DHCP settings. Try to setup manual ip on WiFi interface of client router.</p><p>Try just for test disabling encryption. What WiFi card do you have (factory default - broadcom?)? Is your kernel 2.6?</p><p>Also check <a href="http://forum.openwrt.org/viewtopic.php?id=11502">http://forum.openwrt.org/viewtopic.php?id=11502</a> for settiong in sta mode with wpa</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77104">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						26 Nov 2008, 11:27					</div>
				</div>
				<div class="post-content content">
					<p>I have tried everything... static IP, disabled encryption. I replaced wi-fi card with the one kOmAR suggested and wi-fi is connected and is working (it gets ip 192.168.1.107 and I can ssh), but if I unplug LAN cable and reboot, it&#039;s not possible to connect with ssh anymore. Wi-fi is still connected (I see connected clients on AP).</p><p>Kernel is 2.6, I followed instructions step by step.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77213">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Jhon_Doe</div>
					<div class="post-datetime">
						28 Nov 2008, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I am new in OpenWrt. I installed before dd-wrt. I wanted to change because it had not support for UVCÂ´s webcam. I felt very lucky to found this post (some days before I received a mini PCI atheros card). Yesterday I installed.</p><p>I have followed it this post, step, to step, but I have a big problem.</p><p>My router needs to use a specific MAC-address in order to connect to the Internet (WAN). How do I change my MAC-address in this version?.In this moment, this router doesnÂ´t connect to the Internet.</p><p>The previous version, in the OpenWrt page says how to do it (MAC address cloning) . But now, the nvramÂ´s variables, exactly &quot;wan_hwaddr&quot;, donÂ´t exist. The solution doesnÂ´t work now. </p><p>Can you give me a solution for this?.</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77217">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Jhon_Doe</div>
					<div class="post-datetime">
						29 Nov 2008, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>I had found the answer. And it works!!!!</p><p>It is the next:</p><p>This is how settings for WAN look like in /etc/config/network :</p><p>#### WAN configuration<br />config interface&nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;eth0.1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; dhcp<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr XX:XX:XX:XX:XX:XX</p><p>Being XX:XX:XX:XX:XX:XX the MAC address given by the Internet supplier</p><p>Greetings</p><p>P.S. Thanks to Crow</p>											<p class="post-edited">(Last edited by <strong>Jhon_Doe</strong> on 29 Nov 2008, 00:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77222">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Jhon_Doe</div>
					<div class="post-datetime">
						29 Nov 2008, 04:15					</div>
				</div>
				<div class="post-content content">
					<p>My webcam works. But the router canÂ´t do anything more. I canÂ´t&nbsp; conect to internet at the same time.</p><p>And now, I donÂ´t know how to unactivate the webcam recording. I have a 8 GB USB drive. I tried to add &quot;#&quot; before the options of file &quot;/etc/init.d/done&quot;<br /></p><div class="quotebox"><blockquote><p>umount /dev/sda1<br />e2fsck /dev/sda1<br />mount /dev/sda1 /mnt<br />killall httpd<br />while true; do <br />mjpg_streamer -i &quot;input_uvc.so -f 15&quot; -o &quot;output_http.so -p 80 -w /webcam_www&quot; -o &quot;output_file12h.so -f /mnt -d 1000&quot;<br />done</p></blockquote></div><p>But said to me the&nbsp; the unit is full. I couldnÂ´t save it.</p><p>Help! What can I do?</p><p>Greetings</p>											<p class="post-edited">(Last edited by <strong>Jhon_Doe</strong> on 29 Nov 2008, 13:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77263">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Jhon_Doe</div>
					<div class="post-datetime">
						29 Nov 2008, 20:06					</div>
				</div>
				<div class="post-content content">
					<p>I solved the previous question: I conected via FTP, deleted the images files and changed the file &quot;/etc/init.d/done&quot; directly. </p><p>I have a new doubt. What version is&nbsp; this: <a href="http://rapidshare.com/files/117509522/openwrt-brcm47xx-stamcar-2.6-squashfs.trx.html">http://rapidshare.com/files/117509522/o … s.trx.html</a>? I would like to know it&nbsp; because I wanted&nbsp; to install ipkg, and I wouldnÂ´t&nbsp; like to&nbsp; mix different&nbsp; versions.</p><p>And now I have a bigger problem. When I was instaling somehing (for example activing swap), I donÂ´t know when it has happened, the router is working, I can access to it by FTP and by SSH(with Putty), but I lose the Internet connection and twice. After watching the configuration files, I didnÂ´t find any reason for this problems.The only thing I thought was to &quot;flash&quot; it again with the version of this post. This time I didnÂ´t even install the webcam. I was trying to install ipkg files and I lost the Internet connection (in both cases, the connection only work less than an hour).</p><p>Can you give any idea about this problem?&nbsp; </p><p>Thank you.</p>											<p class="post-edited">(Last edited by <strong>Jhon_Doe</strong> on 30 Nov 2008, 14:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77278">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Jhon_Doe</div>
					<div class="post-datetime">
						30 Nov 2008, 16:27					</div>
				</div>
				<div class="post-content content">
					<p>I have solved the problem about the Internet connection. The solution was: /etc/init.d/network restart.</p><p>How to do it regularly in order to keep the connection ?</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80480">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Tom</div>
					<div class="post-datetime">
						27 Jan 2009, 03:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />The most recent MJPG-streamer (r78) revision contains some changes for the &quot;output_file.so&quot; plugin. There are also a few scripting examples (subfolder &quot;examples&quot;) how you can deal with the files. Renaming a file and storing it in some special way can be implemented with a little script, it should not be necessary anymore to patch the plugin.</p><p>There is also a ringbuffer, which keeps the last N files.<br />I improved the performance to the previous version. Also, if you allow the ringbuffer to exceed the number N by lets say 10, it will only tidy up the destination folder every tenth picture, thus lesser runs of the cleanup routine, thus saving CPU cycles.</p><p>Regards,<br />Tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80505">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						27 Jan 2009, 11:48					</div>
				</div>
				<div class="post-content content">
					<p>I which mjpg-streamer has an easier syntax for it&#039;s CLI usage so one could easier write an LuCI application for it...</p>											<p class="post-edited">(Last edited by <strong>Yanira</strong> on 27 Jan 2009, 11:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80841">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Tom</div>
					<div class="post-datetime">
						1 Feb 2009, 07:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi Yanira,<br />Yes, I tried to write a LuCI config one night myself, but I could not find a good solution how to write such a file. However, recommendations are welcome. I think it is not really a matter of the command line parameters, it is more a matter of understanding how to make the config file as modular as the program. It is not an easy config to start with LuCI (which i tried anyway without results).</p><p>I really would like to ask some of the more experienced LuCI developers to have a look at it.</p><p>Regards,<br />Tom</p>											<p class="post-edited">(Last edited by <strong>Tom</strong> on 1 Feb 2009, 07:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81059">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						4 Feb 2009, 16:15					</div>
				</div>
				<div class="post-content content">
					<p>I have 2 webcams Logitech Sphere AF that works perfect with WL-500G Premium (Kamikaze 7.09), but I would like to know two things:</p><p>1. How can I start both webcams automaticaly when router turns on? Right now I am using following command in /etc/init.d/done:</p><p>killall httpd<br />while true; do<br />mjpg_streamer -i &quot;input_uvc.so --device /dev/video0&quot; -o &quot;output_http.so -p 91 -w /webcam_www&quot;<br />done</p><p>and then I have to log in router manually and also enter command for second camera:<br />mjpg_streamer -i &quot;input_uvc.so --device /dev/video1&quot; -o &quot;output_http.so -p 92 -w /webcam_www&quot; &amp;</p><p>Is it possible to run both commands in this loop in script /etc/init.d/done?</p><br /><p>2. I was searching on internet how it is possible to turn the picture upsite-down, because I would like to mount camera upsite-down too, so the picture should be turned then?</p><br /><p>And I realized one more thing... Tom&#039;s instructions for installing mjpg_streamer are only for Kamikaze 7.09: <a href="http://mjpg-streamer.wiki.sourceforge.net/Using+OpenWRT+compatible+routerhardware+as+webcam-server">http://mjpg-streamer.wiki.sourceforge.n … cam-server</a><br />I was trying to make it work on latest release 8.09 RC2, but I didn&#039;t managed to run mjpg_streamer. For example, ipkg is gone, now there is a command opkg instead. Unforunatelly I am not so experienced in linux, I am only following step-by-step manuals <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81115">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						5 Feb 2009, 01:38					</div>
				</div>
				<div class="post-content content">
					<p>If have finally managed to run both cameras on the same time at startup - it was parameter &quot;-b&quot; missing:</p><p>killall httpd<br />while true; do<br />mjpg_streamer -i &quot;input_uvc.so --device /dev/video0&quot; -o &quot;output_http.so -p 91 -w /webcam_www&quot; -b<br />mjpg_streamer -i &quot;input_uvc.so --device /dev/video1&quot; -o &quot;output_http.so -p 92 -w /webcam_www&quot; -b<br />done</p><br /><p>Now I only have to figure out how to make image upsite-down with mjpg_streamer if it is even possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81170">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">urosbe</div>
					<div class="post-datetime">
						5 Feb 2009, 20:20					</div>
				</div>
				<div class="post-content content">
					<p>Is there anyone advanced in C programming who can help me with two things:</p><p>1. modificate output plugin &quot;output_file.so&quot; to make new folder every day and every our, for example:<br />\2008-02-04<br />\2008-02-04\00-00<br />\2008-02-04\01-00<br />\2008-02-04\02-00<br />\2008-02-04\03-00<br />\2008-02-04\...<br />\2008-02-05<br />\2008-02-05\00-00<br />\2008-02-05\01-00<br />\2008-02-05\02-00<br />\2008-02-05\03-00<br />\2008-02-05\...<br />\...</p><p>2. modificate input plugin to add rotate function or vertical/horizontally mirrored (as Logitech driver has from default). This will be useful for all who will have webcam mounted upsite-down.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>