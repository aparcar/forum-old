<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> I want to compile a helloworld program</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p329414">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Student y</div>
					<div class="post-datetime">
						22 Jun 2016, 06:31					</div>
				</div>
				<div class="post-content content">
					<p>My makefile is as follows</p><p>include $(TOPDIR)/rules.mk<br />&nbsp; <br />PKG_NAME:=helloworld<br />PKG_RELEASE:=1 <br />&nbsp; <br />PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)<br />&nbsp; <br />include $(INCLUDE_DIR)/package.mk</p><p>define Package/helloworld<br /> SECTION:=utils<br /> CATEGORY:=Utilities<br /> TITLE:=Helloworld -- prints a snarky message<br />#DEPENDS:+=libstdcpp<br />endef<br />&nbsp; <br />define Package/helloworld/description<br />&nbsp; &nbsp; If you can&#039;t figure out what this program does, you&#039;re probably<br />&nbsp; &nbsp; brain-dead and need immediate medical attention.<br />endef<br />&nbsp; <br />define Build/Prepare<br />&nbsp; &nbsp; mkdir -p $(PKG_BUILD_DIR)<br />&nbsp; &nbsp; $(CP) ./src/* $(PKG_BUILD_DIR)/<br />endef<br />&nbsp; <br />define Package/helloworld/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/bin<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_BUILD_DIR)/helloworld $(1)/bin/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib<br />&nbsp; &nbsp; $(INSTALL_DATA) $(TOOLCHAIN_DIR)/lib/libc.so $(1)/usr/lib/libc.so.6<br />endef</p><p>But i get the following errors when i run make</p><p>/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/host/bin/tar: _ar71xx.ipk: Cannot stat: No such file or directory<br />/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/host/bin/tar: Exiting with failure status due to previous errors<br />Makefile:93: recipe for target &#039;_ar71xx.ipk&#039; failed<br />make[3]: *** [_ar71xx.ipk] Error 2</p><p>i can&#039;t find any solution,can anyone help me with this.</p><p>thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329432">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Student y</div>
					<div class="post-datetime">
						22 Jun 2016, 12:10					</div>
				</div>
				<div class="post-content content">
					<p>This is my complete log </p><p>make[1]: Entering directory &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64&#039;<br />make[2]: Entering directory &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64&#039;<br />make[3]: Entering directory &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/package/helloworld&#039;<br />mkdir -p /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/bin/ar71xx/packages /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/CONTROL /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/target-mips_34kc_musl-1.1.14/pkginfo<br />install -d -m0755 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/bin<br />install -m0755 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/helloworld /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/bin/<br />install -d -m0755 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/usr/lib<br />install -m0644 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/toolchain-mips_34kc_gcc-5.3.0_musl-1.1.14/lib/libc.so /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/usr/lib/libc.so<br />install -m0644 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/toolchain-mips_34kc_gcc-5.3.0_musl-1.1.14/lib/libgcc_s.so /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/usr/lib/libgcc_s.so.1<br />find /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld -name &#039;CVS&#039; -o -name &#039;.svn&#039; -o -name &#039;.#*&#039; -o -name &#039;*~&#039;| xargs -r rm -rf<br />export CROSS=&quot;mips-openwrt-linux-musl-&quot;&nbsp; NO_RENAME=1 ; NM=&quot;mips-openwrt-linux-musl-nm&quot; STRIP=&quot;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/host/bin/sstrip&quot; STRIP_KMOD=&quot;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/scripts/strip-kmod.sh&quot; PATCHELF=&quot;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/host/bin/patchelf&quot; /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/scripts/rstrip.sh /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld<br />rstrip.sh: /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/bin/helloworld: executable<br />rstrip.sh: /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/usr/lib/libc.so: shared object<br />(cd /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld/CONTROL; ( echo &quot;$CONTROL&quot;; printf &quot;Description: &quot;; echo &quot;$DESCRIPTION&quot; | sed -e &#039;s,^[[:space:]]*, ,g&#039;; ) &gt; control; chmod 644 control; ( echo &quot;#!/bin/sh&quot;; echo &quot;[ \&quot;\${IPKG_NO_SCRIPT}\&quot; = \&quot;1\&quot; ] &amp;&amp; exit 0&quot;; echo &quot;. \${IPKG_INSTROOT}/lib/functions.sh&quot;; echo &quot;default_postinst \$0 \$@&quot;; ) &gt; postinst; ( echo &quot;#!/bin/sh&quot;; echo &quot;. \${IPKG_INSTROOT}/lib/functions.sh&quot;; echo &quot;default_prerm \$0 \$@&quot;; ) &gt; prerm; chmod 0755 postinst prerm;&nbsp; )<br />install -d -m0755 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/bin/ar71xx/packages/base<br />/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/scripts/ipkg-build -c -o 0 -g 0 /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/build_dir/target-mips_34kc_musl-1.1.14/helloworld/ipkg-ar71xx/helloworld /postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/bin/ar71xx/packages/base<br />/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/host/bin/tar: _ar71xx.ipk: Cannot stat: No such file or directory<br />/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/host/bin/tar: Exiting with failure status due to previous errors<br />Makefile:94: recipe for target &#039;_ar71xx.ipk&#039; failed<br />make[3]: *** [_ar71xx.ipk] Error 2<br />make[3]: Leaving directory &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/package/helloworld&#039;<br />package/Makefile:196: recipe for target &#039;package/helloworld/compile&#039; failed<br />make[2]: *** [package/helloworld/compile] Error 2<br />make[2]: Leaving directory &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64&#039;<br />package/Makefile:193: recipe for target &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/target-mips_34kc_musl-1.1.14/stamp/.package_compile&#039; failed<br />make[1]: *** [/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/staging_dir/target-mips_34kc_musl-1.1.14/stamp/.package_compile] Error 2<br />make[1]: Leaving directory &#039;/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64&#039;<br />/postgraduateStudy/openwrt/OpenWrt-SDK-ar71xx-generic_gcc-5.3.0_musl-1.1.14.Linux-x86_64/include/toplevel.mk:185: recipe for target &#039;world&#039; failed<br />make: *** [world] Error 2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329488">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nenekofi</div>
					<div class="post-datetime">
						22 Jun 2016, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t see a compile section in your make file. Try this:<br /></p><div class="codebox"><pre><code>define Build/Compile
        $(MAKE) -C $(PKG_BUILD_DIR) \
                CC=&quot;$(TARGET_CC)&quot; \
                CFLAGS=&quot;$(TARGET_CFLAGS) -Wall&quot; \
                LDFLAGS=&quot;$(TARGET_LDFLAGS)&quot;
endef</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329519">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Student y</div>
					<div class="post-datetime">
						23 Jun 2016, 05:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nenekofi wrote:</cite><blockquote><p>I don&#039;t see a compile section in your make file. Try this:<br /></p><div class="codebox"><pre><code>define Build/Compile
        $(MAKE) -C $(PKG_BUILD_DIR) \
                CC=&quot;$(TARGET_CC)&quot; \
                CFLAGS=&quot;$(TARGET_CFLAGS) -Wall&quot; \
                LDFLAGS=&quot;$(TARGET_LDFLAGS)&quot;
endef</code></pre></div></blockquote></div><br /><p>It did&#039;t remove any errors.T_T</p><p>but thank you for your assistance!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>