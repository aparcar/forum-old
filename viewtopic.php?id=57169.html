<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to compile a c program</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p275218">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alokgowda92</div>
					<div class="post-datetime">
						5 May 2015, 08:00					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone,<br />I&#039;m trying to compile a basic hello world c program but i get errors while compiling to openwrt. The makefile and error is is as follows.<br />Makefile</p><p>&nbsp; &nbsp; include $(TOPDIR)/rules.mk<br />&nbsp; &nbsp; PKG_NAME:=helloworld<br />&nbsp; &nbsp; PKG_RELEASE:=1<br />&nbsp; &nbsp; PKG_BUILD_DIR := $(BUILD_DIR)/$(PKG_NAME)</p><p>&nbsp; &nbsp; include $(INCLUDE_DIR)/package.mk</p><p>&nbsp; &nbsp; define Package/helloworld<br />&nbsp; &nbsp; TITLE:=helloworld packet<br />&nbsp; &nbsp; SECTION:=utils<br />&nbsp; &nbsp; CATEGORY:=Utilities<br />endef</p><p>&nbsp; &nbsp; define Package/helloworld/description<br /> If you can&#039;t figure out what this program does,<br /> you&#039;re probably brain-dead and need immediate<br /> medical attention.<br />endef</p><p>&nbsp; &nbsp; define Build/Prepare<br />&nbsp; &nbsp; mkdir -p $(PKG_BUILD_DIR)<br />&nbsp; &nbsp; $(CP) ./src/* $(PKG_BUILD_DIR)/<br />endef</p><p>&nbsp; &nbsp; define Build/Configure<br />endef</p><p>&nbsp; &nbsp; define Build/Compile<br />&nbsp; &nbsp; $(MAKE) -C $(PKG_BUILD_DIR) \<br />&nbsp; &nbsp; CC=&quot;$(TARGET_CC)&quot; \<br />&nbsp; &nbsp; CFLAGS=&quot;$(TARGET_CFLAGS)&quot; \<br />&nbsp; &nbsp; LDFLAGS=&quot;$(TARGET_LDFLAGS)&quot;<br />endef</p><p>&nbsp; &nbsp; define Package/helloworld/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/bin<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_BUILD_DIR)/helloworld $(1)/bin/<br />endef<br />$(eval $(call BuildPackage,helloworld))</p><p>Ther errors i get are<br />tmp/.config-package.in:11:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_helloworld&#039; refer to undefined symbol &#039;PACKAGE_libpthread&#039;<br />tmp/.config-package.in:12:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_helloworld&#039; refer to undefined symbol &#039;PACKAGE_librt&#039;<br />tmp/.config-package.in:13:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_helloworld&#039; refer to undefined symbol &#039;PACKAGE_libc&#039;<br />#<br /># using defaults found in .config<br />#</p><br /><p>*** End of OpenWrt configuration.<br />*** Execute &#039;make&#039; to build the OpenWrt or try &#039;make help&#039;.</p><p>make[1]: Entering directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[2]: Entering directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[3]: Entering directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/package/helloworld&#039;<br />mkdir -p /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld<br />cp -fpR ./src/* /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/<br />touch /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/.prepared_73a66b8faf330ccf45bc83f9f6b830c5<br />(cd /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/./; if [ -x ./configure ]; then /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/host/bin/find /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ -name config.guess | xargs -r chmod u+w; /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/host/bin/find /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ -name config.guess | xargs -r -n1 cp /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/scripts/config.guess; /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/host/bin/find /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ -name config.sub | xargs -r chmod u+w; /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/host/bin/find /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ -name config.sub | xargs -r -n1 cp /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/scripts/config.sub; AR=-openwrt-linux-ar AS=&quot;-openwrt-linux-gcc -c&nbsp; -fhonour-copts -Wno-error=unused-but-set-variable&quot; LD=-openwrt-linux-ld NM=-openwrt-linux-nm CC=&quot;-openwrt-linux-gcc&quot; GCC=&quot;-openwrt-linux-gcc&quot; CXX=&quot;no&quot; RANLIB=-openwrt-linux-ranlib STRIP=-openwrt-linux-strip OBJCOPY=-openwrt-linux-objcopy OBJDUMP=-openwrt-linux-objdump SIZE=-openwrt-linux-size CFLAGS=&quot; -fhonour-copts -Wno-error=unused-but-set-variable &quot; CXXFLAGS=&quot; -fhonour-copts -Wno-error=unused-but-set-variable &quot; CPPFLAGS=&quot;-I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/include &quot; LDFLAGS=&quot;-L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/lib &quot;&nbsp; &nbsp;./configure --target=-openwrt-linux --host=-openwrt-linux --build=i686-linux-gnu --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib --sysconfdir=/etc --datadir=/usr/share --localstatedir=/var --mandir=/usr/man --infodir=/usr/info --disable-nls&nbsp; --disable-ipv6 ; fi; )<br />rm -f /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/.configured_*<br />touch /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/.configured_<br />CFLAGS=&quot; -fhonour-copts -Wno-error=unused-but-set-variable&nbsp; -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/include &quot; CXXFLAGS=&quot; -fhonour-copts -Wno-error=unused-but-set-variable&nbsp; -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/include &quot; LDFLAGS=&quot;-L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/lib &quot; make -j1 -C /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/. AR=-openwrt-linux-ar AS=&quot;-openwrt-linux-gcc -c&nbsp; -fhonour-copts -Wno-error=unused-but-set-variable&quot; LD=-openwrt-linux-ld NM=-openwrt-linux-nm CC=&quot;-openwrt-linux-gcc&quot; GCC=&quot;-openwrt-linux-gcc&quot; CXX=&quot;no&quot; RANLIB=-openwrt-linux-ranlib STRIP=-openwrt-linux-strip OBJCOPY=-openwrt-linux-objcopy OBJDUMP=-openwrt-linux-objdump SIZE=-openwrt-linux-size CROSS=&quot;-openwrt-linux-&quot; ARCH=&quot;&quot; ;<br />make[4]: Entering directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld&#039;<br />openwrt-linux-gcc&nbsp; -fhonour-copts -Wno-error=unused-but-set-variable&nbsp; -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/include -I/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/include&nbsp; -c helloworld.c<br />make[4]: openwrt-linux-gcc: Command not found<br />make[4]: [helloworld.o] Error 127 (ignored)<br />openwrt-linux-gcc -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/usr/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/usr/lib -L/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-_gcc-_-/lib&nbsp; helloworld.o -o helloworld<br />make[4]: openwrt-linux-gcc: Command not found<br />make[4]: [helloworld] Error 127 (ignored)<br />make[4]: Leaving directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld&#039;<br />touch /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/.built<br />mkdir -p /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/bin//packages /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ipkg-/helloworld/CONTROL /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/pkginfo<br />install -d -m0755 /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ipkg-/helloworld/bin<br />install -m0755 /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld /home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld/ipkg-/helloworld/bin/<br />install: omitting directory &#039;/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/helloworld&#039;<br />make[3]: *** [/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/bin//packages/helloworld_1_.ipk] Error 1<br />make[3]: Leaving directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/package/helloworld&#039;<br />make[2]: *** [package/helloworld/compile] Error 2<br />make[2]: Leaving directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[1]: *** [/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/user/OpenWrt-SDK-ar71xx-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make: *** [world] Error 2</p><br /><p>Can Anyone help me with this?<br />Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275235">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						5 May 2015, 10:50					</div>
				</div>
				<div class="post-content content">
					<p>You did not state which SDK you were using (it seems you use AA SDK for ar71xx)</p><p> openwrt-linux-gcc: Command not found</p><p>Some issues with paths / shell?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275250">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">alokgowda92</div>
					<div class="post-datetime">
						5 May 2015, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;am using ar71xx i486-gcc-4.6-linaro_uClibc-0.9.33.2 SDK.&nbsp; I have gcc compiler but still i get that following error.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>