<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> DNotify or the like on WR5?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p27996">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jolouis</div>
					<div class="post-datetime">
						28 May 2006, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone have a working port of DNotify (or something similar) for WR? I&#039;m running MPD on my device and I want to be able to have it automatically update the database file when a file is added or removed from the MPD storage folder... I&#039;ve tried to cross-compile from the source code but I&#039;m a bit new at the whole cross-complining thing and I can&#039;t seem to get it to build properly; for the record I tried this:</p><p>Download the source and untar it:<br /><a href="http://oskarsapps.mine.nu/src/dnotify-0.18.0.tar.gz">http://oskarsapps.mine.nu/src/dnotify-0.18.0.tar.gz</a></p><p>Then<br />./configure --build=mipsel --host=mipsel</p><p>And Finally<br />make CC=mipsel-linux-uclibc-gcc ARCH=mipsel</p><br /><p>But I end up with:</p><p>make&nbsp; all-recursive<br />make[1]: Entering directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0&#039;<br />Making all in m4<br />make[2]: Entering directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0/m4&#039;<br />make[2]: Nothing to be done for `all&#039;.<br />make[2]: Leaving directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0/m4&#039;<br />Making all in po<br />make[2]: Entering directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0/po&#039;<br />make[2]: Nothing to be done for `all&#039;.<br />make[2]: Leaving directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0/po&#039;<br />Making all in src<br />make[2]: Entering directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0/src&#039;<br />if mipsel-linux-uclibc-gcc -DHAVE_CONFIG_H -I. -I. -I..&nbsp; -DLOCALEDIR=\&quot;/usr/local/share/locale\&quot;&nbsp; -Wall -g -O2 -MT main.o -MD -MP -MF &quot;.deps/main.Tpo&quot; -c -o main.o main.c; \<br />then mv -f &quot;.deps/main.Tpo&quot; &quot;.deps/main.Po&quot;; else rm -f &quot;.deps/main.Tpo&quot;; exit 1; fi<br />In file included from main.c:35:<br />gettext.h:26:22: libintl.h: No such file or directory<br />main.c: In function `add_directory&#039;:<br />main.c:129: warning: implicit declaration of function `gettext&#039;<br />main.c: In function `main&#039;:<br />main.c:313: warning: implicit declaration of function `setlocale&#039;<br />main.c:313: error: `LC_ALL&#039; undeclared (first use in this function)<br />main.c:313: error: (Each undeclared identifier is reported only once<br />main.c:313: error: for each function it appears in.)<br />main.c:314: warning: implicit declaration of function `bindtextdomain&#039;<br />main.c:315: warning: implicit declaration of function `textdomain&#039;<br />make[2]: *** [main.o] Error 1<br />make[2]: Leaving directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0/src&#039;<br />make[1]: *** [all-recursive] Error 1<br />make[1]: Leaving directory `/home/rob/openWRTTest/WR/whiterussian/openwrt/staging_dir_mipsel/test/dnotify-0.18.0&#039;<br />make: *** [all] Error 2</p><br /><p>Now forgive me, I could be completely out to lunch with how to cross-compile, but that&#039;s the best I could figure out from scrounging around on the web. Any help either in how to solve the cross-compliling issues (or how to cross-compile for openWRT properly) or in anyone that&#039;s already ported this over would be greatly appreciated!</p><p>Thanks,<br />-Rob</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>