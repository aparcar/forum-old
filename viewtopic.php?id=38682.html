<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> USB web camera stream &quot;problem&quot;</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p174921">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						15 Aug 2012, 06:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi gays <br />can anyone gave me a hint about this trouble as I mentioned before my hw is: router tp link mr3220, web cam 046d:092f Logitech, Inc. QuickCam Express Plus</p><p>I have instaled software for usb support and &quot;some&quot; software for camere, but can not fin a way to start sreaminig. Started from here <a href="http://wiki.openwrt.org/doc/howto/usb.video">http://wiki.openwrt.org/doc/howto/usb.video</a> one by one i relized<br />camera need GSPCA driver and I found gspca_spca561 + kmod-video-gspca-core also I instaled kmod-video-core and thet other stuff here is list</p><div class="quotebox"><blockquote><p>base-files - 113-r33074<br />blkid - 2.21.2-1<br />block-mount - 0.2.0-8<br />busybox - 1.19.4-2<br />dnsmasq - 2.62-1<br />dropbear - 2011.54-2<br />e2fsprogs - 1.42.4-1<br />fdisk - 2.21.2-1<br />firewall - 2-53<br />fswebcam - 20110717-1<br />glib2 - 2.26.1-3<br />gstreamer-utils - 0.10.34-1<br />hotplug2 - 1.0-beta-4<br />iptables - 1.4.10-4<br />iw - 3.3-1<br />jshn - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />kernel - 3.3.8-1-bd655b187e04910d9917973d44f685fb<br />kmod-ath - 3.3.8+2012-07-16-1<br />kmod-ath9k - 3.3.8+2012-07-16-1<br />kmod-ath9k-common - 3.3.8+2012-07-16-1<br />kmod-cfg80211 - 3.3.8+2012-07-16-1<br />kmod-crypto-aes - 3.3.8-1<br />kmod-crypto-arc4 - 3.3.8-1<br />kmod-crypto-core - 3.3.8-1<br />kmod-fs-ext4 - 3.3.8-1<br />kmod-fs-vfat - 3.3.8-1<br />kmod-gpio-button-hotplug - 3.3.8-1<br />kmod-i2c-core - 3.3.8-1<br />kmod-input-core - 3.3.8-1<br />kmod-ipt-conntrack - 3.3.8-1<br />kmod-ipt-core - 3.3.8-1<br />kmod-ipt-nat - 3.3.8-1<br />kmod-ipt-nathelper - 3.3.8-1<br />kmod-leds-gpio - 3.3.8-1<br />kmod-ledtrig-default-on - 3.3.8-1<br />kmod-ledtrig-netdev - 3.3.8-1<br />kmod-ledtrig-timer - 3.3.8-1<br />kmod-ledtrig-usbdev - 3.3.8-1<br />kmod-lib-crc-ccitt - 3.3.8-1<br />kmod-lib-crc16 - 3.3.8-1<br />kmod-mac80211 - 3.3.8+2012-07-16-1<br />kmod-nls-base - 3.3.8-1<br />kmod-nls-cp437 - 3.3.8-1<br />kmod-nls-cp850 - 3.3.8-1<br />kmod-nls-iso8859-1 - 3.3.8-1<br />kmod-nls-iso8859-15 - 3.3.8-1<br />kmod-ppp - 3.3.8-1<br />kmod-pppoe - 3.3.8-1<br />kmod-pppox - 3.3.8-1<br />kmod-scsi-core - 3.3.8-1<br />kmod-usb-core - 3.3.8-1<br />kmod-usb-ohci - 3.3.8-1<br />kmod-usb-storage - 3.3.8-1<br />kmod-usb2 - 3.3.8-1<br />kmod-video-core - 3.3.8-1<br />kmod-video-gspca-core - 3.3.8-1<br />kmod-video-gspca-spca561 - 3.3.8-1<br />kmod-wdt-ath79 - 3.3.8-1<br />libblkid - 2.21.2-1<br />libblobmsg-json - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />libc - 0.9.33.2-1<br />libcom_err - 1.42.4-1<br />libext2fs - 1.42.4-1<br />libgcc - 4.6-linaro-1<br />libgd - 2.0.35-1<br />libgstcheck - 0.10.34-1<br />libgstcontroller - 0.10.34-1<br />libgstdataprotocol - 0.10.34-1<br />libgstnet - 0.10.34-1<br />libgstreamer - 0.10.34-1<br />libgstvideo - 0.10.29-2<br />libip4tc - 1.4.10-4<br />libiwinfo - 35<br />libiwinfo-lua - 35<br />libjpeg - 6b-1<br />libjson - 0.9-2<br />liblua - 5.1.4-8<br />libnl-tiny - 0.1-3<br />libpng - 1.2.46-2<br />libpthread - 0.9.33.2-1<br />librt - 0.9.33.2-1<br />libubox - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />libubus - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />libubus-lua - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />libuci - 2012-03-28.1-1<br />libuci-lua - 2012-03-28.1-1<br />libusb-1.0 - 1.0.9-1<br />libuuid - 2.21.2-1<br />libv4l - 0.8.6-2<br />libxml2 - 2.7.8-1<br />libxtables - 1.4.10-4<br />lua - 5.1.4-8<br />luci-app-firewall - trunk+svn9008-1<br />luci-app-samba - trunk+svn9008-1<br />luci-i18n-english - trunk+svn9008-1<br />luci-lib-core - trunk+svn9008-1<br />luci-lib-ipkg - trunk+svn9008-1<br />luci-lib-lmo - trunk+svn9008-1<br />luci-lib-nixio - trunk+svn9008-1<br />luci-lib-sys - trunk+svn9008-1<br />luci-lib-web - trunk+svn9008-1<br />luci-mod-admin-core - trunk+svn9008-1<br />luci-mod-admin-full - trunk+svn9008-1<br />luci-proto-core - trunk+svn9008-1<br />luci-proto-ppp - trunk+svn9008-1<br />luci-sgi-cgi - trunk+svn9008-1<br />luci-theme-base - trunk+svn9008-1<br />luci-theme-openwrt - trunk+svn9008-1<br />mjpg-streamer - r148-4<br />mtd - 18<br />netifd - 2012-07-12-857874b2d4f92b800ecc12a5e52adeaf3855b101<br />opkg - 618-2<br />ppp - 2.4.5-6<br />ppp-mod-pppoe - 2.4.5-6<br />samba36-server - 3.6.5-2<br />swap-utils - 2.21.2-1<br />swconfig - 10<br />uboot-envtools - 2012.04.01-1<br />ubus - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />ubusd - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />uci - 2012-03-28.1-1<br />uhttpd - 40<br />usbutils - 005-1<br />wireless-tools - 29-5<br />wpad-mini - 20120428-2<br />zlib - 1.2.7-1</p></blockquote></div><p>my problem is thet I can not find any &quot;streamer&quot; program to use, yes I found iptv.mumudvb bu there is no ipk package<br />fswebcam do not work</p><div class="quotebox"><blockquote><p>root@OpenWrt:~# fswebcam <br />--- Opening /dev/video0...<br />Trying source module v4l2...<br />/dev/video0 opened.<br />No input was specified, using the first.<br />Adjusting resolution from 384x288 to 352x288.<br />--- Capturing frame...<br />Captured frame in 0.00 seconds.<br />--- Processing captured image...<br />There are unsaved changes to the image.</p></blockquote></div><p>Im not sure that I can use mjpg-streamer because its used for Linux-UVC compatible webcams<br />And at last there is GStreamer but there is no what is necessary to configure gstremer or what packages are needed ?</p><p>Thanks for any advice</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174922">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cptdondo</div>
					<div class="post-datetime">
						15 Aug 2012, 06:21					</div>
				</div>
				<div class="post-content content">
					<p>ffmpeg?&nbsp; That will certainly let you know if your basic setup works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174950">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						15 Aug 2012, 15:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cptdondo wrote:</cite><blockquote><p>ffmpeg?&nbsp; That will certainly let you know if your basic setup works.</p></blockquote></div><p>Ok I just instaled</p><p>kmod-sound-core<br />alsa-lib<br />libbz2<br />libffmpeg-full</p><p>ffmpeg<br />ffserver</p><p>Im not sure what comand do I need to run to start stremining but when I run ffmpeg -f video4linux2 -i /dev/video0 I got</p><div class="quotebox"><blockquote><p>ffmpeg -f video4linux2 -i /dev/video0<br />ffmpeg version 0.8.7, Copyright (c) 2000-2011 the FFmpeg developers<br />&nbsp; built on Aug 11 2012 21:00:35 with gcc 4.6.3 20120201 (prerelease)<br />&nbsp; configuration: --enable-cross-compile --cross-prefix=mips-openwrt-linux-uclibc- --arch=mips --target-os=linux --prefix=/usr --enable-shared --enable-static --disable-debug --pkg-config=pkg-config --enable-gpl --enable-version3 --disable-asm --disable-doc --disable-dxva2 --enable-pthreads --disable-optimizations --enable-small --disable-stripping --enable-zlib --disable-outdevs<br />&nbsp; libavutil&nbsp; &nbsp; 51.&nbsp; 9. 1 / 51.&nbsp; 9. 1<br />&nbsp; libavcodec&nbsp; &nbsp;53.&nbsp; 8. 0 / 53.&nbsp; 8. 0<br />&nbsp; libavformat&nbsp; 53.&nbsp; 5. 0 / 53.&nbsp; 5. 0<br />&nbsp; libavdevice&nbsp; 53.&nbsp; 1. 1 / 53.&nbsp; 1. 1<br />&nbsp; libavfilter&nbsp; &nbsp;2. 23. 0 /&nbsp; 2. 23. 0<br />&nbsp; libswscale&nbsp; &nbsp; 2.&nbsp; 0. 0 /&nbsp; 2.&nbsp; 0. 0<br />&nbsp; libpostproc&nbsp; 51.&nbsp; 2. 0 / 51.&nbsp; 2. 0<br />[video4linux2 @ 0x9b6410] Cannot find a proper format for codec_id 0, pix_fmt -1.<br />/dev/video0: Input/output error</p></blockquote></div><p>also I tried thisc comand ffmpeg -r 5 -t 2 -s 640x480 -f video4linux2 -i /dev/video0 and got same resoult</p><div class="quotebox"><blockquote><p>root@OpenWrt:/tmp# ffmpeg -r 5 -t 2 -s 640x480 -f video4linux2 -i /dev/video0<br />ffmpeg version 0.8.7, Copyright (c) 2000-2011 the FFmpeg developers<br />&nbsp; built on Aug 11 2012 21:00:35 with gcc 4.6.3 20120201 (prerelease)<br />&nbsp; configuration: --enable-cross-compile --cross-prefix=mips-openwrt-linux-uclibc- --arch=mips --target-os=linux --prefix=/usr --enable-shared --enable-static --disable-debug --pkg-config=pkg-config --enable-gpl --enable-version3 --disable-asm --disable-doc --disable-dxva2 --enable-pthreads --disable-optimizations --enable-small --disable-stripping --enable-zlib --disable-outdevs<br />&nbsp; libavutil&nbsp; &nbsp; 51.&nbsp; 9. 1 / 51.&nbsp; 9. 1<br />&nbsp; libavcodec&nbsp; &nbsp;53.&nbsp; 8. 0 / 53.&nbsp; 8. 0<br />&nbsp; libavformat&nbsp; 53.&nbsp; 5. 0 / 53.&nbsp; 5. 0<br />&nbsp; libavdevice&nbsp; 53.&nbsp; 1. 1 / 53.&nbsp; 1. 1<br />&nbsp; libavfilter&nbsp; &nbsp;2. 23. 0 /&nbsp; 2. 23. 0<br />&nbsp; libswscale&nbsp; &nbsp; 2.&nbsp; 0. 0 /&nbsp; 2.&nbsp; 0. 0<br />&nbsp; libpostproc&nbsp; 51.&nbsp; 2. 0 / 51.&nbsp; 2. 0<br />[video4linux2 @ 0xb80410] The V4L2 driver changed the video from 640x480 to 352x288<br />[video4linux2 @ 0xb80410] Cannot find a proper format for codec_id 0, pix_fmt -1.<br />/dev/video0: Input/output error</p></blockquote></div><p>I guess I do the wrong way but wasnt able do find anythig else useful</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174999">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						16 Aug 2012, 00:37					</div>
				</div>
				<div class="post-content content">
					<p>When I run <br /></p><div class="quotebox"><blockquote><p>ffmpeg -f video4linux2 -i /dev/video0 /tmp/test.mpg</p></blockquote></div><p>Im still geting this error <br /></p><div class="quotebox"><blockquote><p>[video4linux2 @ 0x6af410] Cannot find a proper format for codec_id 0, pix_fmt -1</p></blockquote></div><p>Does anyone know how to solve this</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175254">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						19 Aug 2012, 00:03					</div>
				</div>
				<div class="post-content content">
					<p>after 2 days of working around I can not start web streaming only what I was able to do is to capture jpg picture and thet is all</p><p>Can anyone help me to solve this trouble ? tnx</p><p>Here is my dmesg</p><div class="quotebox"><blockquote><p>root@OpenWrt:~# dmesg <br />[&nbsp; &nbsp; 0.000000] Linux version 3.3.8 (openwrt@OpenWRTBuild) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Fri Aug 10 02:34:17 MST 2012<br />[&nbsp; &nbsp; 0.000000] MyLoader: sysp=f0f0f0f0, boardp=f0f0f0f0, parts=f0f0f0f0<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR7241 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:5.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 8192<br />[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 8031a610, node_mem_map 81000000<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 64 pages used for memmap<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 8128 pages, LIFO batch:0<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: [0] 0 <br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=TL-MR3220 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 28952k/32768k available (2215k kernel code, 3816k reserved, 579k data, 208k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.090000] gpiochip_add: registered GPIOs 0 to 17 on device: ath79<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is TP-LINK TL-MR3220<br />[&nbsp; &nbsp; 0.500000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.540000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.550000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.550000] pci_bus 0000:00: root bus resource [mem 0x10000000-0x13ffffff]<br />[&nbsp; &nbsp; 0.560000] pci_bus 0000:00: root bus resource [io&nbsp; 0x0000]<br />[&nbsp; &nbsp; 0.560000] pci 0000:00:00.0: [168c:002b] type 0 class 0x000280<br />[&nbsp; &nbsp; 0.560000] pci 0000:00:00.0: fixup device configuration<br />[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: reg 10: [mem 0x10000000-0x1000ffff 64bit]<br />[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: supports D1<br />[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: PME# supported from D0 D1 D3hot<br />[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1000ffff 64bit]<br />[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: using irq 40 for pin 1<br />[&nbsp; &nbsp; 0.580000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.580000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.590000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.590000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.600000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.600000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.610000] TCP reno registered<br />[&nbsp; &nbsp; 0.610000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.620000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.630000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.630000] PCI: CLS 0 bytes, default 32<br />[&nbsp; &nbsp; 0.650000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.650000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.660000] msgmni has been set to 56<br />[&nbsp; &nbsp; 0.670000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)<br />[&nbsp; &nbsp; 0.680000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.680000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.690000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled<br />[&nbsp; &nbsp; 0.720000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />[&nbsp; &nbsp; 0.720000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.740000] m25p80 spi0.0: found s25sl032a, expected m25p80<br />[&nbsp; &nbsp; 0.750000] m25p80 spi0.0: s25sl032a (4096 Kbytes)<br />[&nbsp; &nbsp; 0.750000] 5 tp-link partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.760000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.760000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.770000] 0x000000020000-0x00000011ea00 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.770000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.790000] 0x00000011ea00-0x0000003f0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.790000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.810000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[&nbsp; &nbsp; 0.810000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=290000, len=160000 <br />[&nbsp; &nbsp; 0.820000] 0x000000290000-0x0000003f0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.830000] 0x0000003f0000-0x000000400000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.830000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.860000] ag71xx_mdio: probed<br />[&nbsp; &nbsp; 0.870000] eth0: Atheros AG71xx at 0xba000000, irq 5<br />[&nbsp; &nbsp; 1.420000] eth0: Found an AR7240/AR9330 built-in switch<br />[&nbsp; &nbsp; 2.460000] eth1: Atheros AG71xx at 0xb9000000, irq 4<br />[&nbsp; &nbsp; 3.010000] ag71xx ag71xx.0: eth1: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]<br />[&nbsp; &nbsp; 3.020000] TCP cubic registered<br />[&nbsp; &nbsp; 3.020000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 3.030000] Bridge firewalling registered<br />[&nbsp; &nbsp; 3.030000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 3.040000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 3.050000] Freeing unused kernel memory: 208k freed<br />[&nbsp; &nbsp; 6.140000] Registered led device: tp-link:green:system<br />[&nbsp; &nbsp; 6.140000] Registered led device: tp-link:green:qss<br />[&nbsp; &nbsp; 6.140000] Registered led device: tp-link:green:3g<br />[&nbsp; &nbsp; 6.710000] eth0: link up (1000Mbps/Full duplex)<br />[&nbsp; &nbsp; 9.450000] JFFS2 notice: (457) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 7 of xref (0 dead, 0 orphan) found.<br />[&nbsp; &nbsp;10.090000] SCSI subsystem initialized<br />[&nbsp; &nbsp;10.250000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp;10.260000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp;10.270000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp;10.730000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp;10.740000] ehci-platform ehci-platform: Generic Platform EHCI Controller<br />[&nbsp; &nbsp;10.740000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1<br />[&nbsp; &nbsp;10.780000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000<br />[&nbsp; &nbsp;10.800000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00<br />[&nbsp; &nbsp;10.800000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp;10.810000] hub 1-0:1.0: 1 port detected<br />[&nbsp; &nbsp;10.970000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp;11.030000] Initializing USB Mass Storage driver...<br />[&nbsp; &nbsp;11.030000] usbcore: registered new interface driver usb-storage<br />[&nbsp; &nbsp;11.040000] USB Mass Storage support registered.<br />[&nbsp; &nbsp;11.130000] usb 1-1: new high-speed USB device number 2 using ehci-platform<br />[&nbsp; &nbsp;11.280000] hub 1-1:1.0: USB hub found<br />[&nbsp; &nbsp;11.280000] hub 1-1:1.0: 4 ports detected<br />[&nbsp; &nbsp;11.570000] usb 1-1.1: new full-speed USB device number 3 using ehci-platform<br />[&nbsp; &nbsp;11.760000] usb 1-1.4: new high-speed USB device number 4 using ehci-platform<br />[&nbsp; &nbsp;11.870000] scsi0 : usb-storage 1-1.4:1.0<br />[&nbsp; &nbsp;12.870000] scsi 0:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;USB2.0&nbsp; &nbsp;Mobile Disk&nbsp; &nbsp; &nbsp; 1.00 PQ: 0 ANSI: 2<br />[&nbsp; &nbsp;12.880000] sd 0:0:0:0: [sda] 1007616 512-byte logical blocks: (515 MB/492 MiB)<br />[&nbsp; &nbsp;12.890000] sd 0:0:0:0: [sda] Write Protect is off<br />[&nbsp; &nbsp;12.890000] sd 0:0:0:0: [sda] Mode Sense: 00 00 00 00<br />[&nbsp; &nbsp;12.890000] sd 0:0:0:0: [sda] Asking for cache data failed<br />[&nbsp; &nbsp;12.900000] sd 0:0:0:0: [sda] Assuming drive cache: write through<br />[&nbsp; &nbsp;12.910000] sd 0:0:0:0: [sda] Asking for cache data failed<br />[&nbsp; &nbsp;12.920000] sd 0:0:0:0: [sda] Assuming drive cache: write through<br />[&nbsp; &nbsp;13.040000]&nbsp; sda: sda1<br />[&nbsp; &nbsp;13.040000] sd 0:0:0:0: [sda] Asking for cache data failed<br />[&nbsp; &nbsp;13.050000] sd 0:0:0:0: [sda] Assuming drive cache: write through<br />[&nbsp; &nbsp;13.060000] sd 0:0:0:0: [sda] Attached SCSI removable disk<br />[&nbsp; &nbsp;32.970000] EXT4-fs (sda1): recovery complete<br />[&nbsp; &nbsp;32.970000] EXT4-fs (sda1): mounted filesystem with ordered data mode. Opts: (null)<br />[&nbsp; &nbsp;33.310000] eth0: link down<br />[&nbsp; &nbsp;33.910000] Compat-wireless backport release: compat-wireless-2012-07-13<br />[&nbsp; &nbsp;33.920000] Backport based on wireless-testing.git master-2012-07-16<br />[&nbsp; &nbsp;33.920000] compat.git: wireless-testing.git<br />[&nbsp; &nbsp;34.000000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;34.010000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;34.010000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;34.020000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.030000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.040000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.050000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.050000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.810000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp;34.820000] ath: EEPROM regdomain: 0x0<br />[&nbsp; &nbsp;34.820000] ath: EEPROM indicates default country code should be used<br />[&nbsp; &nbsp;34.820000] ath: doing EEPROM country-&gt;regdmn map search<br />[&nbsp; &nbsp;34.820000] ath: country maps to regdmn code: 0x3a<br />[&nbsp; &nbsp;34.820000] ath: Country alpha2 being used: US<br />[&nbsp; &nbsp;34.820000] ath: Regpair used: 0x3a<br />[&nbsp; &nbsp;34.820000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />[&nbsp; &nbsp;34.820000] Registered led device: ath9k-phy0<br />[&nbsp; &nbsp;34.820000] ieee80211 phy0: Atheros AR9285 Rev:2 mem=0xb0000000, irq=40<br />[&nbsp; &nbsp;34.830000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp;34.840000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp;34.840000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;34.850000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />[&nbsp; &nbsp;34.860000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)<br />[&nbsp; &nbsp;34.870000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.870000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.880000] cfg80211:&nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;34.890000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)<br />[&nbsp; &nbsp;35.240000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;35.670000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;35.810000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;35.870000] nf_conntrack version 0.5.0 (455 buckets, 1820 max)<br />[&nbsp; &nbsp;36.270000] i2c /dev entries driver<br />[&nbsp; &nbsp;36.310000] usbcore: registered new interface driver usbserial<br />[&nbsp; &nbsp;36.310000] USB Serial support registered for generic<br />[&nbsp; &nbsp;36.320000] usbcore: registered new interface driver usbserial_generic<br />[&nbsp; &nbsp;36.320000] usbserial: USB Serial Driver core<br />[&nbsp; &nbsp;36.390000] Linux video capture interface: v2.00<br />[&nbsp; &nbsp;36.450000] USB Serial support registered for GSM modem (1-port)<br />[&nbsp; &nbsp;36.460000] usbcore: registered new interface driver option<br />[&nbsp; &nbsp;36.460000] option: v0.7.2:USB Driver for GSM modems<br />[&nbsp; &nbsp;36.490000] gspca_main: v2.14.0 registered<br />[&nbsp; &nbsp;36.510000] gspca_main: spca561-2.14.0 probing 046d:092f<br />[&nbsp; &nbsp;36.520000] input: spca561 as /devices/platform/ehci-platform/usb1/1-1/1-1.1/input/input0<br />[&nbsp; &nbsp;36.530000] usbcore: registered new interface driver spca561<br />[&nbsp; &nbsp;41.150000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;41.750000] eth0: link up (1000Mbps/Full duplex)<br />[&nbsp; &nbsp;41.750000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;41.760000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;43.760000] br-lan: port 1(eth0) entered forwarding state<br />[12255.760000] usb 1-1.3: new full-speed USB device number 5 using ehci-platform<br />[12255.870000] scsi1 : usb-storage 1-1.3:1.0<br />[12255.890000] usb 1-1.3: USB disconnect, device number 5<br />[12256.530000] usb 1-1.3: new full-speed USB device number 6 using ehci-platform<br />[12256.650000] option 1-1.3:1.0: GSM modem (1-port) converter detected<br />[12256.650000] usb 1-1.3: GSM modem (1-port) converter now attached to ttyUSB0<br />[12256.660000] option 1-1.3:1.1: GSM modem (1-port) converter detected<br />[12256.670000] usb 1-1.3: GSM modem (1-port) converter now attached to ttyUSB1<br />[12256.690000] scsi4 : usb-storage 1-1.3:1.2<br />[12257.690000] scsi 4:0:0:0: CD-ROM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HUAWEI&nbsp; &nbsp;Mass Storage&nbsp; &nbsp; &nbsp;2.31 PQ: 0 ANSI: 2<br />[12293.410000] option: option_instat_callback: error -32<br />[12865.310000] usb 1-1.1: USB disconnect, device number 3<br />[13104.670000] usb 1-1.3: USB disconnect, device number 6<br />[13104.680000] option: option_instat_callback: error -143<br />[13104.680000] option1 ttyUSB0: GSM modem (1-port) converter now disconnected from ttyUSB0<br />[13104.690000] option 1-1.3:1.0: device disconnected<br />[13104.700000] option1 ttyUSB1: GSM modem (1-port) converter now disconnected from ttyUSB1<br />[13104.710000] option 1-1.3:1.1: device disconnected<br />[13110.800000] usb 1-1.2: new full-speed USB device number 7 using ehci-platform<br />[13110.910000] gspca_main: spca561-2.14.0 probing 046d:092f<br />[13110.930000] input: spca561 as /devices/platform/ehci-platform/usb1/1-1/1-1.2/input/input1<br />[13590.610000] usbcore: registered new interface driver tv8532</p></blockquote></div><p>lsusb</p><div class="quotebox"><blockquote><p>root@OpenWrt:~# lsusb <br />Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 001 Device 002: ID 05e3:0608 Genesys Logic, Inc. USB-2.0 4-Port HUB<br />Bus 001 Device 007: ID 046d:092f Logitech, Inc. QuickCam Express Plus<br />Bus 001 Device 004: ID 126f:0163 TwinMOS</p></blockquote></div><p>package list</p><div class="quotebox"><blockquote><p>root@OpenWrt:~# opkg list<br />alsa-lib - 1.0.24.1-1<br />base-files - 113-r33074<br />blkid - 2.21.2-1<br />block-mount - 0.2.0-8<br />busybox - 1.19.4-2<br />chat - 2.4.5-6<br />comgt - 0.32-9<br />dnsmasq - 2.62-1<br />dropbear - 2011.54-2<br />e2fsprogs - 1.42.4-1<br />fdisk - 2.21.2-1<br />ffmpeg - 0.8.7-2<br />ffserver - 0.8.7-2<br />firewall - 2-53<br />fswebcam - 20110717-1<br />glib2 - 2.26.1-3<br />gstreamer-utils - 0.10.34-1<br />hotplug2 - 1.0-beta-4<br />iptables - 1.4.10-4<br />iw - 3.3-1<br />jshn - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />kernel - 3.3.8-1-bd655b187e04910d9917973d44f685fb<br />kmod-ath - 3.3.8+2012-07-16-1<br />kmod-ath9k - 3.3.8+2012-07-16-1<br />kmod-ath9k-common - 3.3.8+2012-07-16-1<br />kmod-cfg80211 - 3.3.8+2012-07-16-1<br />kmod-crypto-aes - 3.3.8-1<br />kmod-crypto-arc4 - 3.3.8-1<br />kmod-crypto-core - 3.3.8-1<br />kmod-fs-ext4 - 3.3.8-1<br />kmod-fs-vfat - 3.3.8-1<br />kmod-gpio-button-hotplug - 3.3.8-1<br />kmod-i2c-core - 3.3.8-1<br />kmod-input-core - 3.3.8-1<br />kmod-ipt-conntrack - 3.3.8-1<br />kmod-ipt-core - 3.3.8-1<br />kmod-ipt-nat - 3.3.8-1<br />kmod-ipt-nathelper - 3.3.8-1<br />kmod-leds-gpio - 3.3.8-1<br />kmod-ledtrig-default-on - 3.3.8-1<br />kmod-ledtrig-netdev - 3.3.8-1<br />kmod-ledtrig-timer - 3.3.8-1<br />kmod-ledtrig-usbdev - 3.3.8-1<br />kmod-lib-crc-ccitt - 3.3.8-1<br />kmod-lib-crc16 - 3.3.8-1<br />kmod-mac80211 - 3.3.8+2012-07-16-1<br />kmod-nls-base - 3.3.8-1<br />kmod-nls-cp437 - 3.3.8-1<br />kmod-nls-cp850 - 3.3.8-1<br />kmod-nls-iso8859-1 - 3.3.8-1<br />kmod-nls-iso8859-15 - 3.3.8-1<br />kmod-ppp - 3.3.8-1<br />kmod-pppoe - 3.3.8-1<br />kmod-pppox - 3.3.8-1<br />kmod-scsi-core - 3.3.8-1<br />kmod-sound-core - 3.3.8-1<br />kmod-usb-core - 3.3.8-1<br />kmod-usb-ohci - 3.3.8-1<br />kmod-usb-serial - 3.3.8-1<br />kmod-usb-serial-option - 3.3.8-1<br />kmod-usb-serial-wwan - 3.3.8-1<br />kmod-usb-storage - 3.3.8-1<br />kmod-usb2 - 3.3.8-1<br />kmod-video-core - 3.3.8-1<br />kmod-video-gspca-core - 3.3.8-1<br />kmod-video-gspca-spca561 - 3.3.8-1<br />kmod-video-gspca-tv8532 - 3.3.8-1<br />kmod-wdt-ath79 - 3.3.8-1<br />libblkid - 2.21.2-1<br />libblobmsg-json - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />libbz2 - 1.0.6-1<br />libc - 0.9.33.2-1<br />libcom_err - 1.42.4-1<br />libext2fs - 1.42.4-1<br />libffmpeg-full - 0.8.7-2<br />libgcc - 4.6-linaro-1<br />libgd - 2.0.35-1<br />libgstcheck - 0.10.34-1<br />libgstcontroller - 0.10.34-1<br />libgstdataprotocol - 0.10.34-1<br />libgstnet - 0.10.34-1<br />libgstreamer - 0.10.34-1<br />libgstvideo - 0.10.29-2<br />libip4tc - 1.4.10-4<br />libiwinfo - 35<br />libiwinfo-lua - 35<br />libjpeg - 6b-1<br />libjson - 0.9-2<br />liblua - 5.1.4-8<br />libnl-tiny - 0.1-3<br />libpng - 1.2.46-2<br />libpthread - 0.9.33.2-1<br />librt - 0.9.33.2-1<br />libubox - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />libubus - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />libubus-lua - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />libuci - 2012-03-28.1-1<br />libuci-lua - 2012-03-28.1-1<br />libusb - 0.1.12-3<br />libusb-1.0 - 1.0.9-1<br />libuuid - 2.21.2-1<br />libv4l - 0.8.6-2<br />libxml2 - 2.7.8-1<br />libxtables - 1.4.10-4<br />lua - 5.1.4-8<br />luci-app-firewall - trunk+svn9008-1<br />luci-app-samba - trunk+svn9008-1<br />luci-i18n-english - trunk+svn9008-1<br />luci-lib-core - trunk+svn9008-1<br />luci-lib-ipkg - trunk+svn9008-1<br />luci-lib-lmo - trunk+svn9008-1<br />luci-lib-nixio - trunk+svn9008-1<br />luci-lib-sys - trunk+svn9008-1<br />luci-lib-web - trunk+svn9008-1<br />luci-mod-admin-core - trunk+svn9008-1<br />luci-mod-admin-full - trunk+svn9008-1<br />luci-proto-3g - trunk+svn9062-1<br />luci-proto-core - trunk+svn9008-1<br />luci-proto-ppp - trunk+svn9008-1<br />luci-sgi-cgi - trunk+svn9008-1<br />luci-theme-base - trunk+svn9008-1<br />luci-theme-openwrt - trunk+svn9008-1<br />mtd - 18<br />netifd - 2012-07-12-857874b2d4f92b800ecc12a5e52adeaf3855b101<br />opkg - 618-2<br />ppp - 2.4.5-6<br />ppp-mod-pppoe - 2.4.5-6<br />samba36-server - 3.6.5-2<br />swap-utils - 2.21.2-1<br />swconfig - 10<br />uboot-envtools - 2012.04.01-1<br />ubus - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />ubusd - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />uci - 2012-03-28.1-1<br />uhttpd - 40<br />usb-modeswitch - 1.2.3-2<br />usb-modeswitch-data - 20120120-1<br />usbutils - 005-1<br />wireless-tools - 29-5<br />wpad-mini - 20120428-2<br />zlib - 1.2.7-1</p></blockquote></div><p>ls /dev</p><div class="quotebox"><blockquote><p>root@OpenWrt:~# ls /dev<br />bsg&nbsp; &nbsp; &nbsp; &nbsp; mtd0ro&nbsp; &nbsp; &nbsp;mtd4ro&nbsp; &nbsp; &nbsp;mtdblock5&nbsp; sda1&nbsp; &nbsp; &nbsp; &nbsp;ttyS12&nbsp; &nbsp; &nbsp;ttyS6<br />bus&nbsp; &nbsp; &nbsp; &nbsp; mtd1&nbsp; &nbsp; &nbsp; &nbsp;mtd5&nbsp; &nbsp; &nbsp; &nbsp;null&nbsp; &nbsp; &nbsp; &nbsp;shm&nbsp; &nbsp; &nbsp; &nbsp; ttyS13&nbsp; &nbsp; &nbsp;ttyS7<br />console&nbsp; &nbsp; mtd1ro&nbsp; &nbsp; &nbsp;mtd5ro&nbsp; &nbsp; &nbsp;port&nbsp; &nbsp; &nbsp; &nbsp;snd&nbsp; &nbsp; &nbsp; &nbsp; ttyS14&nbsp; &nbsp; &nbsp;ttyS8<br />full&nbsp; &nbsp; &nbsp; &nbsp;mtd2&nbsp; &nbsp; &nbsp; &nbsp;mtdblock0&nbsp; ppp&nbsp; &nbsp; &nbsp; &nbsp; tty&nbsp; &nbsp; &nbsp; &nbsp; ttyS15&nbsp; &nbsp; &nbsp;ttyS9<br />kmsg&nbsp; &nbsp; &nbsp; &nbsp;mtd2ro&nbsp; &nbsp; &nbsp;mtdblock1&nbsp; ptmx&nbsp; &nbsp; &nbsp; &nbsp;ttyS0&nbsp; &nbsp; &nbsp; ttyS2&nbsp; &nbsp; &nbsp; urandom<br />log&nbsp; &nbsp; &nbsp; &nbsp; mtd3&nbsp; &nbsp; &nbsp; &nbsp;mtdblock2&nbsp; pts&nbsp; &nbsp; &nbsp; &nbsp; ttyS1&nbsp; &nbsp; &nbsp; ttyS3&nbsp; &nbsp; &nbsp; video0<br />mem&nbsp; &nbsp; &nbsp; &nbsp; mtd3ro&nbsp; &nbsp; &nbsp;mtdblock3&nbsp; random&nbsp; &nbsp; &nbsp;ttyS10&nbsp; &nbsp; &nbsp;ttyS4&nbsp; &nbsp; &nbsp; watchdog<br />mtd0&nbsp; &nbsp; &nbsp; &nbsp;mtd4&nbsp; &nbsp; &nbsp; &nbsp;mtdblock4&nbsp; sda&nbsp; &nbsp; &nbsp; &nbsp; ttyS11&nbsp; &nbsp; &nbsp;ttyS5&nbsp; &nbsp; &nbsp; zero</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175725">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">JaromirN</div>
					<div class="post-datetime">
						24 Aug 2012, 19:49					</div>
				</div>
				<div class="post-content content">
					<p>I can see&nbsp; /dev/video0 so u have video device available..<br />Now u have to pass output from that device to outside by some acceptable protocol and way.<br />There are two apps used mostly.. mjpg-streamer or motion. i see no one of them installed. <br />Of course u will need to know correct&nbsp; camera&#039;s color model and protocol of camera&#039;s video output also,</p><p>BTW: if you want stream up some video from camera.. that is possible but u have to understand - u r using router class device.. so 3-4fr/sec = cpu 100%.. better to buy IP camera in that case.</p>											<p class="post-edited">(Last edited by <strong>JaromirN</strong> on 24 Aug 2012, 19:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175772">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">StratoSnn</div>
					<div class="post-datetime">
						25 Aug 2012, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>You can try palantir. Start it like this:</p><div class="codebox"><pre><code>palantir -d /dev/video0 -s 320x240 -r 5 -p 8081</code></pre></div><p>Keep in mind that it gives high CPU load. <br />If you want to use camera with openwrt follow the advice from JaromirN and by IP camera.</p><p>Other option is mjpg-streamer + UVC camera capable of MJPEG output. In that case all JPEG encoding is done by the camera itself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176337">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						30 Aug 2012, 02:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>JaromirN wrote:</cite><blockquote><p>I can see&nbsp; /dev/video0 so u have video device available..<br />Now u have to pass output from that device to outside by some acceptable protocol and way.<br />There are two apps used mostly.. mjpg-streamer or motion. i see no one of them installed. <br />Of course u will need to know correct&nbsp; camera&#039;s color model and protocol of camera&#039;s video output also,</p><p>BTW: if you want stream up some video from camera.. that is possible but u have to understand - u r using router class device.. so 3-4fr/sec = cpu 100%.. better to buy IP camera in that case.</p></blockquote></div><p>Ok I did not tried mjpg-streamer because he is used for &quot;Streaming application for Linux-UVC compatible webcams &quot;, and driver for my web cam is kmod-video-gspca-spca561 so I tried gst-launch a few days ago but I did not have luck</p><div class="codebox"><pre><code>gst-launch v4l2src ! video/x-raw-yuv,width=320,height=240,framer
ate=\(fraction\)5/1 ! ffmpegcolorspace ! jpegenc ! multipartmux ! tcpserversink
host=192.168.1.1 port=9080

ERROR: pipeline could not be constructed: no element &quot;v4l2src&quot;.</code></pre></div><p>I&#039;m not sure how to use motion for streaming, as far as I know motion is used for capturing images when a &quot;motion&quot;, movement happens, I also managed to take a picture with fswebcam which gave me some information about my camera <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I noticed that &quot;pixel format&quot; is &#039;S561&#039; (S561) or&nbsp; &#039;GBRG&#039; (GBRG), now I did not find this pixel format in gst, I tried on google but I have not managed to solve the problem</p><div class="codebox"><pre><code>root@OpenWrt:/tmp# fswebcam -v -r 640x480 -F 2 -S 1 /tmp/slika.jpg
main,1609: gd has no fontconfig support
--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
src_v4l2_get_capability,87: /dev/video0 information:
src_v4l2_get_capability,88: cap.driver: &quot;spca561&quot;
src_v4l2_get_capability,89: cap.card: &quot;Camera&quot;
src_v4l2_get_capability,90: cap.bus_info: &quot;usb-ehci-platform-1.3&quot;
src_v4l2_get_capability,91: cap.capabilities=0x05000001
src_v4l2_get_capability,92: - VIDEO_CAPTURE
src_v4l2_get_capability,101: - READWRITE
src_v4l2_get_capability,103: - STREAMING
No input was specified, using the first.
src_v4l2_set_input,181: /dev/video0: Input 0 information:
src_v4l2_set_input,182: name = &quot;spca561&quot;
src_v4l2_set_input,183: type = 00000002
src_v4l2_set_input,185: - CAMERA
src_v4l2_set_input,186: audioset = 00000000
src_v4l2_set_input,187: tuner = 00000000
src_v4l2_set_input,188: status = 00000000
src_v4l2_set_pix_format,541: Device offers the following V4L2 pixel formats:
src_v4l2_set_pix_format,554: 0: [0x31363553] &#039;S561&#039; (S561)
src_v4l2_set_pix_format,554: 1: [0x47524247] &#039;GBRG&#039; (GBRG)
Using palette S561
Adjusting resolution from 640x480 to 352x288.
src_v4l2_set_mmap,693: mmap information:
src_v4l2_set_mmap,694: frames=4
src_v4l2_set_mmap,741: 0 length=53248
src_v4l2_set_mmap,741: 1 length=53248
src_v4l2_set_mmap,741: 2 length=53248
src_v4l2_set_mmap,741: 3 length=53248
--- Capturing 2 frames...
Skipping frame...
Capturing 2 frames...
Captured 3 frames in 0.22 seconds. (13 fps)
--- Processing captured image...
Unable to load font &#039;sans&#039;: libgd was not built with FreeType font support

Disabling the the banner.
Writing JPEG image to &#039;/tmp/slika.jpg&#039;.
root@OpenWrt:/tmp# ls
TZ lock resolv.conf state
dhcp.leases log resolv.conf.auto sysinfo
etc opkg-lists run usr
fstab overlay slika.jpg
root@OpenWrt:/tmp#</code></pre></div><p>Any ideas ? tnx JaromirN</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176338">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						30 Aug 2012, 02:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StratoSnn wrote:</cite><blockquote><p>Hi,</p><p>You can try palantir. Start it like this:</p><div class="codebox"><pre><code>palantir -d /dev/video0 -s 320x240 -r 5 -p 8081</code></pre></div><p>Keep in mind that it gives high CPU load. <br />If you want to use camera with openwrt follow the advice from JaromirN and by IP camera.</p><p>Other option is mjpg-streamer + UVC camera capable of MJPEG output. In that case all JPEG encoding is done by the camera itself.</p></blockquote></div><p>&quot; In that case all JPEG encoding is done by the camera itself.&quot; I did not know that, thet is good thing, but my camera is based on gspca kernel driver modul, also I have a question for u<br />where I can find palantir.ipk because there is no that package in snapshots/trunk/ar71xx/packages ?</p><p>I found <a href="http://www.fastpath.it/products/palantir/">http://www.fastpath.it/products/palantir/</a> does this mean that i need to compile it by my self ?</p><p>tnx StratoSnn</p><p>Edit:</p><p>Sorry i found palantir <a href="http://downloads.openwrt.org/backfire/10.03.1-rc6/ar71xx/packages/">http://downloads.openwrt.org/backfire/1 … /packages/</a><br />but again I have an error</p><div class="codebox"><pre><code>root@OpenWrt:/tmp# palantir -d /dev/video0 -s 320x240 -r 5 -p 8081
Jan  1 09:08:09 [config] Default config file `/usr/local/share/palantir/palantir.conf&#039; not found
Jan  1 09:08:09 [main] -- palantir 2.7 starting --
Jan  1 09:08:09 [main] Definitions for 0 devices found
Jan  1 09:08:09 [main] No serial port specified
Jan  1 09:08:10 [main] No named pipe specified
Jan  1 09:08:10 [video] GCAP: Inappropriate ioctl for device
Jan  1 09:08:10 [video] Capabilities:    4365472 (clipping scales mpeg_decoder mpeg_encoder mjpeg_decoder (null) Segmentation fault</code></pre></div>											<p class="post-edited">(Last edited by <strong>vido</strong> on 30 Aug 2012, 02:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176646">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">vido</div>
					<div class="post-datetime">
						1 Sep 2012, 23:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>James wrote:</cite><blockquote><p>man.. you are mixing different topics..&nbsp; so what&nbsp; are u solving?..</p></blockquote></div><p>I&#039;m not sure, how do you mean &quot;mixing&quot; ? Can you tell me what you do not understand? Try re-read my post intended to you ?</p><p> Im traying to start streaming, drivers are installed but streaminig programs like gstreamer mjepg-streamer can not detect camera or video4linux2, my camea is based spca561 driver :=) I hope that u now understand ?<br />intended<br />Do u have any question or idea what I should try ? tnx</p>											<p class="post-edited">(Last edited by <strong>vido</strong> on 1 Sep 2012, 23:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177007">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">JaromirN</div>
					<div class="post-datetime">
						5 Sep 2012, 21:04					</div>
				</div>
				<div class="post-content content">
					<p>U r presentig &quot;edited&quot; information here.. so that is hard to check something if could be something important missing also <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Your dmesg says something else than lsusb.. I see no GSM modem, external USB disk etc.. </p><br /><p>The Modules look ok for spca5xx driver:</p><p>kmod-usb2 - 3.3.8-1<br />kmod-video-core - 3.3.8-1<br />kmod-video-gspca-core - 3.3.8-1<br />kmod-video-gspca-spca561 - 3.3.8-1</p><p>But I see two cameras here:</p><p>[&nbsp; &nbsp;36.390000] Linux video capture interface: v2.00<br />[&nbsp; &nbsp;36.460000] usbcore: registered new interface driver option<br />[&nbsp; &nbsp;36.490000] gspca_main: v2.14.0 registered<br />[&nbsp; &nbsp;36.510000] gspca_main: spca561-2.14.0 probing 046d:092f<br />[&nbsp; &nbsp;36.520000] input: spca561 as /devices/platform/ehci-platform/usb1/1-1/1-1.1/input/input0<br />[&nbsp; &nbsp;36.530000] usbcore: registered new interface driver spca561</p><p>and second or reconnect later on? If yes.. connected and registered as second devices:</p><p>[13110.910000] gspca_main: spca561-2.14.0 probing 046d:092f<br />[13110.930000] input: spca561 as /devices/platform/ehci-platform/usb1/1-1/1-1.2/input/input1<br />[13590.610000] usbcore: registered new interface driver tv8532</p><br /><p>usbcore: registered new interface driver spca561<br />&nbsp; and later on!:<br />usbcore: registered new interface driver tv8532</p><p>Or u have single camera and u re-plug it with different conf? </p><br /><p>Anyway.. dmesg says - u have video v4l device registered and should be /dev/video0 (and may second /dev/video1) created, check.</p><p>According GSPCA - your webcam is supported by general gspca driver (gspca.txt model 105)<br />Also <a href="http://www.logitech.com/en-gb/488/4770">http://www.logitech.com/en-gb/488/4770</a>&nbsp; and <a href="http://www.ideasonboard.org/uvc/#devices">http://www.ideasonboard.org/uvc/#devices</a> says no UVC compatible.<br />BTW: Today is really better to buy UVC cameras = they are supported by generic drivers in Windows and MAC also. <br />SPCA is supporting some UVC cameras also but i don&#039;t like this app so much so i never test it... </p><p>Anyway.. if you have /dev/video0 - u can use streamer, for example motion isn&#039;t bad.</p><p>as i can see, there is input_gspcav1.so modul in mjpg-streamer available, so it is possible to use him also probably <br />(<a href="https://forum.openwrt.org/viewtopic.php?id=13977">https://forum.openwrt.org/viewtopic.php?id=13977</a>)<br />(or hints here: <a href="http://sourceforge.net/projects/mjpg-streamer/forums/forum/739917/topic/3335156)">http://sourceforge.net/projects/mjpg-st … c/3335156)</a></p><p>Of course all streamers needs proper configuration files</p><p>So man, game over.. now is google your turn.. sorry <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> i have no more time... back in business.</p>											<p class="post-edited">(Last edited by <strong>JaromirN</strong> on 5 Sep 2012, 21:11)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>