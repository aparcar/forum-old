<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bullet M support?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p95120">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alfred_m</div>
					<div class="post-datetime">
						30 Sep 2009, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I am getting a pair of bullets soon (2HP and M2 HP),<br />I understand that bullet2HP should work, but I didn&#039;t see anything about Bullet M, is it supported with kamikaze?<br />Which firmware should I use for each of them?</p><p>Thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>alfred_m</strong> on 1 Oct 2009, 11:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95161">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">alfred_m</div>
					<div class="post-datetime">
						1 Oct 2009, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>According to <a href="http://www.ubnt.com/forum/showthread.php?t=13903">this thread</a>, bullet M uses Atheros 71xx processor and should be supported under openwrt,<br />Does anyone know which file(s) should I use from <a href="http://downloads.openwrt.org/kamikaze/8.09.2-RC2/ar71xx">http://downloads.openwrt.org/kamikaze/8.09.2-RC2/ar71xx</a> ?<br />Did anyone try it with a bullet M?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95326">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">alfred_m</div>
					<div class="post-datetime">
						4 Oct 2009, 10:18					</div>
				</div>
				<div class="post-content content">
					<p>Anyone???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p96406">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						26 Oct 2009, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>things <a href="http://www.ubnt.com/forum/showthread.php?t=14222&amp;page=2">don&#039;t look that good</a> with this product series ... I think if there is someone to blame that is Atheros itself and the obvious lack of competition in this field of market.&nbsp; Not that broadcom or Intel is any better when it comes to Open Source culture/movement</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98386">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						6 Dec 2009, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>Bullet M5 boots openwrt just fine.&nbsp; Used <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/ar71xx/18672/openwrt-ar71xx-ubnt-bullet-m-jffs2-factory.bin">this</a> custom image.&nbsp; Haven&#039;t played with ath9k/wifi yet though.&nbsp; Ethernet driver and system in general feels rock stable!<br /></p><div class="codebox"><pre><code>Linux version 2.6.32 (alex@motard) (gcc version 4.4.2 (GCC) ) #2 Sun Dec 6 16:06:05 EET 2009
prom: fw_arg0=00000007, fw_arg1=a1f77fb0, fw_arg2=a1f78460, fw_arg3=00000008               
MyLoader: sysp=00ff00ff, boardp=00ff00ff, parts=0ff00ff0                                   
bootconsole [early0] enabled                                                               
CPU revision is: 00019374 (MIPS 24Kc)                                                       
Atheros AR7240 rev 2, CPU:400.000 MHz, AHB:200.000 MHz, DDR:400.000 MHz                     
Determined physical RAM map:                                                               
memory: 02000000 @ 00000000 (usable)                                                       
Initrd not found or empty - disabling initrd                                               
Zone PFN ranges:                                                                           
  Normal   0x00000000 -&gt; 0x00002000                                                         
Movable zone start PFN for each node                                                       
early_node_map[1] active PFN ranges                                                         
    0: 0x00000000 -&gt; 0x00002000                                                             
On node 0 totalpages: 8192                                                                 
free_area_init_node: node 0, pgdat 802b14b0, node_mem_map 81000000                         
  Normal zone: 64 pages used for memmap                                                     
  Normal zone: 0 pages reserved                                                             
  Normal zone: 8128 pages, LIFO batch:0                                                     
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128                   
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=UBNT-BM mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,1024k(kernel),6528k(rootfs),256k(cfg)ro,64k(EEPROM)ro,7552k@0x50000(firmware)
PID hash table entries: 128 (order: -3, 512 bytes)                                                                                                                                                                             
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)                                                                                                                                                                 
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)                                                                                                                                                                   
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.                                                                                                                                                               
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes                                                                                                                                                         
Writing ErrCtl register=00000000                                                                                                                                                                                               
Readback ErrCtl register=00000000                                                                                                                                                                                             
Memory: 29464k/32768k available (1927k kernel code, 3304k reserved, 448k data, 140k init, 0k highmem)                                                                                                                         
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1                                                                                                                                                         
Hierarchical RCU implementation.                                                                                                                                                                                               
NR_IRQS:56                                                                                                                                                                                                                     
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)                                                                                                                                                                       
Mount-cache hash table entries: 512                                                                                                                                                                                           
devtmpfs: initialized                                                                                                                                                                                                         
NET: Registered protocol family 16                                                                                                                                                                                             
MIPS: machine is Ubiquiti Bullet M
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
pci 0000:00:00.0: reg 10 64bit mmio: [0x000000-0x00ffff]
pci 0000:00:00.0: supports D1
pci 0000:00:00.0: PME# supported from D0 D1 D3hot
pci 0000:00:00.0: PME# disabled
PCI: mapping irq 48 to pin1@0000:00:00.0
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  © 2001-2006 Red Hat, Inc.
yaffs Dec  6 2009 16:00:59 Installing.
msgmni has been set to 57
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console [ttyS0] enabled, bootconsole disabled
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: m25p64 (8192 Kbytes)
7 cmdlinepart partitions found on MTD device spi0.0
Creating 7 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000040000 : &quot;u-boot&quot;
0x000000040000-0x000000050000 : &quot;u-boot-env&quot;
0x000000050000-0x000000150000 : &quot;kernel&quot;
0x000000150000-0x0000007b0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
split_squashfs: no squashfs found in &quot;spi0.0&quot;
0x0000007b0000-0x0000007f0000 : &quot;cfg&quot;
0x0000007f0000-0x000000800000 : &quot;EEPROM&quot;
0x000000050000-0x0000007b0000 : &quot;firmware&quot;
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
Atheros AR71xx hardware watchdog driver version 0.1.0
ar71xx-wdt: timeout=15 secs (max=21)
TCP westwood registered
NET: Registered protocol family 17
yaffs: dev is 32505859 name is &quot;mtdblock3&quot;
yaffs: passed flags &quot;&quot;
yaffs: Attempting MTD mount on 31.3, &quot;mtdblock3&quot;
yaffs: MTD device is not NAND it&#039;s type 3
VFS: Mounted root (jffs2 filesystem) readonly on device 31:3.
devtmpfs: mounted
Freeing unused kernel memory: 140k freed
eth0: link up (100Mbps/Full duplex)
eth0: link down
eth0: link up (100Mbps/Full duplex)
ar71xx-wdt: enabling watchdog timer

BusyBox v1.14.4 (2009-12-06 15:40:17 EET) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.                 

  _______                     ________        __
|       |.-----.-----.-----.|  |  |  |.----.|  |_
|   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
|_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M     
KAMIKAZE (bleeding edge, r18672) ------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!                       
---------------------------------------------------
root@OpenWrt:/#</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/interrupts
           CPU0                     
  2:          0            MIPS  cascade [AR724X PCI]
  4:     173005            MIPS  eth0               
  6:          0            MIPS  cascade [AR71XX MISC]
  7:       5767            MIPS  timer               
10:          0     AR71XX MISC  cascade [AR71XX GPIO]
11:         22     AR71XX MISC  serial               

ERR:          0</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/cpuinfo
system type             : Atheros AR7240 rev 2
machine                 : Ubiquiti Bullet M   
processor               : 0                   
cpu model               : MIPS 24Kc V7.4     
BogoMIPS                : 266.24             
wait instruction        : yes                 
microsecond timers      : yes                 
tlb_entries             : 16                 
extra interrupt vector  : yes                 
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x0fb0, 0x07e0, 0x07c0]
ASEs implemented        : mips16                                                           
shadow register sets    : 1                                                               
core                    : 0                                                               
VCED exceptions         : not available                                                   
VCEI exceptions         : not available</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99525">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Plano</div>
					<div class="post-datetime">
						30 Dec 2009, 01:45					</div>
				</div>
				<div class="post-content content">
					<p>I recently flashed Bullet M5 with trunk checkout. I also compiled madwifi for the same build. </p><p>Everything looks ok other than that I cannot see any wifi interface. Can somebody please point me in the right direction.</p><p>Portion of dmesg:<br />ath_hal: module license &#039;Proprietary&#039; taints kernel.<br />Disabling lock debugging due to kernel taint<br />ath_hal: 2009-05-08 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, RF2425, REGOPS_FUNC, XR)<br />ath_pci: trunk<br />wlan: trunk<br />wlan: mac acl policy registered<br />ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)<br />ath_rate_minstrel: look around rate set to 10%<br />ath_rate_minstrel: EWMA rolloff level set to 75%<br />ath_rate_minstrel: max segment size in the mrr set to 6000 us<br />ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />ar71xx-wdt: enabling watchdog timer</p><p>root@OpenWrt:~# lsmod | grep ath<br />ath_pci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;280800&nbsp; 0<br />ath_hal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;293920&nbsp; 1 ath_pci</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99545">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Plano</div>
					<div class="post-datetime">
						30 Dec 2009, 10:19					</div>
				</div>
				<div class="post-content content">
					<p>Considering HAL from openwrt-madwifi is way too old for Bullet 5M chipset series, I compiled madwifi-trunk-r4022 (without binary HAL) for Bullet 5M HP series. Still no success though.</p><p>Would appreciate some pointers.</p><p>root@OpenWrt:~# lspci -v<br />00:00.0 Network controller: Atheros Communications Inc. AR928X Wireless Network Adapter (PCI-Express) (rev 01)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Device 0777:e205<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: fast devsel, IRQ 48<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at 10000000 (64-bit, non-prefetchable) [size=64K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [40] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [50] MSI: Enable- Count=1/1 Maskable- 64bit-<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [60] Express Legacy Endpoint, MSI 00<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [90] MSI-X: Enable- Count=1 Masked-<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [100] Advanced Error Reporting<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [140] Virtual Channel &lt;?&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [160] Device Serial Number 00-00-00-00-00-00-00-00</p><p>root@OpenWrt:~# lspci -n<br />00:00.0 0280: 168c:002a (rev 01)<br />root@OpenWrt:~#</p><p>Added the following lines to ath/if_ath_pci.c</p><p>static struct pci_device_id ath_pci_id_table[] __devinitdata = {<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0007, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0012, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0013, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0xa727, 0x0013, PCI_ANY_ID, PCI_ANY_ID }, /* 3com */<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x10b7, 0x0013, PCI_ANY_ID, PCI_ANY_ID }, /* 3com 3CRDAG675 */<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x1014, PCI_ANY_ID, PCI_ANY_ID }, /* IBM minipci 5212 */<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x101a, PCI_ANY_ID, PCI_ANY_ID }, /* some Griffin-Lite */<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0015, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0016, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0017, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0018, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0019, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x001a, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x001b, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x001c, PCI_ANY_ID, PCI_ANY_ID }, /* PCI Express 5424 */<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x001d, PCI_ANY_ID, PCI_ANY_ID }, /* PCI Express ???&nbsp; */<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0023, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0024, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x0027, PCI_ANY_ID, PCI_ANY_ID },<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x9013, PCI_ANY_ID, PCI_ANY_ID }, /* sonicwall */<br />+&nbsp; &nbsp; &nbsp; &nbsp; { 0x168c, 0x002a, PCI_ANY_ID, PCI_ANY_ID }, /* Bullet 5M*/<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0 }<br />};</p><p>static u16 ath_devidmap[][2] = {<br />&nbsp; &nbsp; &nbsp; &nbsp; { 0x9013, 0x0013 },<br />+&nbsp; &nbsp; &nbsp; &nbsp; { 0xff1a, 0x001a }<br />};</p><p>Finally dmesg<br />PCI: Setting latency timer of device 0000:00:00.0 to 64<br />MadWifi: unable to attach hardware: &#039;&#039; (HAL status 0)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99547">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Plano</div>
					<div class="post-datetime">
						30 Dec 2009, 10:24					</div>
				</div>
				<div class="post-content content">
					<p>Finally realized that madwifi does not have support for AR928X chipset. Madwifi code has bits and pieces of AH_SUPPORT_AR9280 mention but lacking .h files and hal structures to make it work.</p><p>So openwrt madwifi is ruled out since closed HAL doesnt support Bullet 5M.<br />Madwifi-trunk is ruled out since madwifi doesnt have AR928X chipset support. </p><p>So does that mean the only way you can have wifi working on Bullet M5 for now is to go with firmware provided by UBNT ??? Please reply if you have an alternate working setup for Bullet M5 HP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99551">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						30 Dec 2009, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>you can try ath9k, but you have to get latest hostapd from git.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100570">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">vemax78</div>
					<div class="post-datetime">
						15 Jan 2010, 13:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />&nbsp; &nbsp; &nbsp;i have flashed Bullet M2 with Trunk r19148. I have used this Openwrt configuration:</p><p>Target System -&gt; Atheros AR71xx/AR7240/AR913x<br />Target Profile -&gt; Ubiquiti Products<br />Wireless Driver -&gt; ath9k</p><p>MTD Partition tables is:<br /></p><div class="codebox"><pre><code>ar7240&gt; mtdparts

device nor0 &lt;ar7240-nor0&gt;, # parts = 5
 #: name                        size            offset          mask_flags
 0: u-boot                      0x00040000      0x00000000      0
 1: u-boot-env                  0x00010000      0x00040000      0
 2: kernel                      0x00760000      0x00050000      0
 3: cfg                         0x00040000      0x007b0000      0
 4: EEPROM                      0x00010000      0x007f0000      0

active partition: nor0,0 - (u-boot) 0x00040000 @ 0x00000000

defaults:
mtdids  : nor0=ar7240-nor0
mtdparts: mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),1024k(kernel),6528k(rootfs),256k(cfg),64k(EEPROM)</code></pre></div><p>U-Boot Environment Variables:<br /></p><div class="codebox"><pre><code>ar7240&gt; printenv
bootdelay=1
baudrate=115200
ethaddr=00:15:6d:0d:00:00
bootcmd=bootm 0xbf050000
mtdids=nor0=ar7240-nor0
mtdparts=mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),7552k(kernel),256k(cfg),64k(EEPROM)
ethact=eth0
filesize=280000
fileaddr=81000000
ipaddr=192.168.1.20
serverip=192.168.1.60
stdin=serial
stdout=serial
stderr=serial
partition=nor0,0
mtddevnum=0
mtddevname=u-boot

Environment size: 374/65532 bytes</code></pre></div><p>I have flashed into <strong>kernel</strong> partition the Openwrt file openwrt-ar71xx-ubnt-bullet-m-squashfs-sysupgrade.bin<br />Unfortunately, I have a kernel panic twice to three times on bootstrap of Access Point.</p><br /><div class="codebox"><pre><code>U-Boot 1.1.4.1 (Dec  8 2009 - 16:09:30)

Board: Ubiquiti Networks XM board
DRAM:  32 MB
Flash:  8 MB
Net:   eth0, eth1
Hit any key to stop autoboot:  0
## Booting image at bf050000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.30.10
   Created:      2010-01-15  10:36:28 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    849301 Bytes = 829.4 kB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Linux version 2.6.30.10 (massimo@mobman) (gcc version 4.3.3 (GCC) ) #3 Fri Jan 15 11:35:46 CET 2010
console [early0] enabled
CPU revision is: 00019374 (MIPS 24Kc)
Atheros AR7240 rev 2, CPU:400.000 MHz, AHB:200.000 MHz, DDR:400.000 MHz
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=UBNT-BM mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,1024k(kernel),6528k(rootfs),256k(cfg)ro,64k(EEPROM)ro,7552k@0x50000(firmware)
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
NR_IRQS:56
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29488k/32768k available (1940k kernel code, 3280k reserved, 426k data, 140k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
net_namespace: 528 bytes
NET: Registered protocol family 16
MIPS: machine is Ubiquiti Bullet M
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
PCI: fixup device 0000:00:00.0
pci 0000:00:00.0: PME# supported from D0 D1 D3hot
pci 0000:00:00.0: PME# disabled
PCI: mapping irq 48 to pin1@0000:00:00.0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
yaffs Jan 13 2010 16:43:57 Installing.
msgmni has been set to 57
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: m25p64 (8192 Kbytes)
7 cmdlinepart partitions found on MTD device spi0.0
Creating 7 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000040000 : &quot;u-boot&quot;
0x000000040000-0x000000050000 : &quot;u-boot-env&quot;
0x000000050000-0x000000150000 : &quot;kernel&quot;
0x000000150000-0x0000007b0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2D0000, len=4E0000
0x0000002d0000-0x0000007b0000 : &quot;rootfs_data&quot;
0x0000007b0000-0x0000007f0000 : &quot;cfg&quot;
0x0000007f0000-0x000000800000 : &quot;EEPROM&quot;
0x000000050000-0x0000007b0000 : &quot;firmware&quot;
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
Freeing unused kernel memory: 140k freed
Please be patient, while OpenWrt loads ...
- preinit -
Registered led device: ubnt:red:link1
Registered led device: ubnt:orange:link2
Registered led device: ubnt:green:link3
Registered led device: ubnt:green:link4
Press CTRL-C for failsafe
gpio-buttons driver version 0.1.2
input: gpio-buttons as /devices/platform/gpio-buttons/input/input0
Button Hotplug driver version 0.3.1
eth0: link up (100Mbps/Full duplex)
eth0: link down
Kernel panic - not syncing: Attempted to kill init!</code></pre></div><p>Tips to solve the problem ?</p><p>Ciao<br />Massimo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100573">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						15 Jan 2010, 14:48					</div>
				</div>
				<div class="post-content content">
					<p>Perhaps you write what the problem is yourself; flashing a sysupgrade.bin into the kernel partition.<br />...-sysupgrade.bin is just that and should be used via the sysupgrade script.<br />Use tftp with a ...-factory.bin image the first time.</p>											<p class="post-edited">(Last edited by <strong>doddel</strong> on 15 Jan 2010, 14:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100576">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">vemax78</div>
					<div class="post-datetime">
						15 Jan 2010, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>I used <strong>openwrt-ar71xx-ubnt-bullet-m-squashfs-sysupgrade.bin</strong> and not <strong>openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin</strong> because with <strong>openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin</strong> UBoot write <strong>Bad Magic Number</strong>. Maybe I done something wrong.</p><div class="codebox"><pre><code>U-Boot 1.1.4.1 (Dec  8 2009 - 16:09:30)

Board: Ubiquiti Networks XM board
DRAM:  32 MB
Flash:  8 MB
Net:   eth0, eth1
Hit any key to stop autoboot:  0
ar7240&gt; mtdparts

device nor0 &lt;ar7240-nor0&gt;, # parts = 5
 #: name                        size            offset          mask_flags
 0: u-boot                      0x00040000      0x00000000      0
 1: u-boot-env                  0x00010000      0x00040000      0
 2: kernel                      0x00760000      0x00050000      0
 3: cfg                         0x00040000      0x007b0000      0
 4: EEPROM                      0x00010000      0x007f0000      0

active partition: nor0,0 - (u-boot) 0x00040000 @ 0x00000000

defaults:
mtdids  : nor0=ar7240-nor0
mtdparts: mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),1024k(kernel),6528k(rootfs),256k(cfg),64k(EEPROM)
ar7240&gt; erase nor0,2
Erase Flash Parition nor0,2, bank 0, 0xbf050000 - 0xbf7affff ...................................................................................................................... done
Erased 118 sectors
ar7240&gt; tftpboot 0x81000000 openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin
Using eth0 device
TFTP from server 192.168.1.60; our IP address is 192.168.1.20
Filename &#039;openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ##################
done
Bytes transferred = 2752920 (2a0198 hex)
ar7240&gt; cp.b 0x81000000 0xbf050000 0x2a0198
Copy to Flash... done
ar7240&gt; reset

Resetting...

U-Boot 1.1.4.1 (Dec  8 2009 - 16:09:30)

Board: Ubiquiti Networks XM board
DRAM:  32 MB
Flash:  8 MB
Net:   eth0, eth1
Hit any key to stop autoboot:  0
## Booting image at bf050000 ...
Bad Magic Number
ar7240&gt;</code></pre></div><p>Ciao Massimo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100578">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">vemax78</div>
					<div class="post-datetime">
						15 Jan 2010, 15:34					</div>
				</div>
				<div class="post-content content">
					<p>Ok i have flashed <strong>openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin</strong> <br />Linux continue to go in Kernal Panic.</p><div class="codebox"><pre><code>U-Boot 1.1.4.1 (Dec  8 2009 - 16:09:30)

Board: Ubiquiti Networks XM board
DRAM:  32 MB
Flash:  8 MB
Net:   eth0, eth1
Hit any key to stop autoboot:  0
## Booting image at bf050000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.30.10
   Created:      2010-01-15  10:36:28 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    849301 Bytes = 829.4 kB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Linux version 2.6.30.10 (massimo@mobman) (gcc version 4.3.3 (GCC) ) #3 Fri Jan 15 11:35:46 CET 2010
console [early0] enabled
CPU revision is: 00019374 (MIPS 24Kc)
Atheros AR7240 rev 2, CPU:400.000 MHz, AHB:200.000 MHz, DDR:400.000 MHz
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=UBNT-BM mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,1024k(kernel),6528k(rootfs),256k(cfg)ro,64k(EEPROM)ro,7552k@0x50000(firmware)
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
NR_IRQS:56
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29488k/32768k available (1940k kernel code, 3280k reserved, 426k data, 140k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
net_namespace: 528 bytes
NET: Registered protocol family 16
MIPS: machine is Ubiquiti Bullet M
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
PCI: fixup device 0000:00:00.0
pci 0000:00:00.0: PME# supported from D0 D1 D3hot
pci 0000:00:00.0: PME# disabled
PCI: mapping irq 48 to pin1@0000:00:00.0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
yaffs Jan 13 2010 16:43:57 Installing.
msgmni has been set to 57
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: m25p64 (8192 Kbytes)
7 cmdlinepart partitions found on MTD device spi0.0
Creating 7 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000040000 : &quot;u-boot&quot;
0x000000040000-0x000000050000 : &quot;u-boot-env&quot;
0x000000050000-0x000000150000 : &quot;kernel&quot;
0x000000150000-0x0000007b0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2D0000, len=4E0000
0x0000002d0000-0x0000007b0000 : &quot;rootfs_data&quot;
0x0000007b0000-0x0000007f0000 : &quot;cfg&quot;
0x0000007f0000-0x000000800000 : &quot;EEPROM&quot;
0x000000050000-0x0000007b0000 : &quot;firmware&quot;
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
Freeing unused kernel memory: 140k freed
Please be patient, while OpenWrt loads ...
- preinit -
Registered led device: ubnt:red:link1
Registered led device: ubnt:orange:link2
Registered led device: ubnt:green:link3
Registered led device: ubnt:green:link4
Press CTRL-C for failsafe
gpio-buttons driver version 0.1.2
input: gpio-buttons as /devices/platform/gpio-buttons/input/input0
Button Hotplug driver version 0.3.1
eth0: link up (100Mbps/Full duplex)
eth0: link down
Kernel panic - not syncing: Attempted to kill init!</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103613">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Plano</div>
					<div class="post-datetime">
						24 Feb 2010, 01:00					</div>
				</div>
				<div class="post-content content">
					<p>I flashed bullet M2HP with UBNT fimrware and then used openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin to flash Bullet from GUI. It came up just fine with ath9k drivers. I am using them in IBSS mode and havent seen any kernel panics. I have used this procedure on both Bullet M2HP and Bullet M5HP.</p><p>I picked up the latest firmware from trunk daily builds.</p>											<p class="post-edited">(Last edited by <strong>Plano</strong> on 24 Feb 2010, 01:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104232">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">alfred_m</div>
					<div class="post-datetime">
						4 Mar 2010, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I downloaded the latest firmware for my Bullet M2HP and tried both openwrt-ar71xx-ubnt-bullet-m-squashfs-factory.bin and openwrt-ar71xx-ubnt-bullet-m-squashfs-sysupgrade.bin<br />I didn&#039;t have wireless enabled on any of these, can you please tell me what did I do wrong?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104256">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">skingchico</div>
					<div class="post-datetime">
						5 Mar 2010, 02:33					</div>
				</div>
				<div class="post-content content">
					<p>Here is what I did to get a NanoStation M2 working. I have not played with wireless N and Openwrt so this is all new to me as well so don&#039;t expect me to be able to answer questions. I am still not sure how well things are working.</p><p>I checked out openwrt<br />svn checkout svn://svn.openwrt.org/openwrt/trunk/ ./ns</p><p>then</p><p>cd ns<br />./scripts/feeds update packages luci<br />./scripts/feeds install -a -p luci</p><p>make menuconfig <br />and change target system to AR71xxx....<br />change target profile to Ubiquiti Products<br />I modified my target images to just squashfs to lower the number of bin files to choose from later.</p><p>I changed my Image configuration. Changed my IP address to 192.168.1.20 and gateway to 192.168.1.1. I don&#039;t want it booting up with my router&#039;s IP address.</p><p>&lt;*&gt; hostapd&nbsp; under network.<br />&lt;*&gt; wpa-supplicant under network<br />&lt;*&gt; iw&nbsp; &nbsp; &nbsp; under network (may already be selected). I just included it in case I need to use it.</p><p>Do not enable anything Under LuCI, Collections. If I enabled, I got the &quot;mini&quot; verson of luci and I want the full version.</p><p>Under LuCI Components, select Luci-admin-full<br />I think firewall is already selected</p><p>under kernel modules / wireless drivers, select kmod-ath9k</p><p>&quot;make V=99&quot; and cross your fingers.&nbsp; </p><p>I load the squashfs-factory.bin file </p><p>when I run dmesg, I see a bunch of ehci_hcd and ohci_hcd errors, which I have not tried to address. I see USB drivers are enabled in the default configuration and you might be able to turn them off but I decided to play with that later. Maybe just leave the USB core enabled. Again, I will play with that later.</p><p>I only got this working about 2 hours ago. I am able to connect to the wireless NanoStation as an access point, with the lan connected to my router.</p><p>I was having trouble getting things to work by editing the /etc/config/network and wireless files so I decided to use LuCI and got it working. If you are using the bullet as an access point, it seem like you would only need to check the enable box under network, wifi, RADIO0.</p><p>If you want to use the wireless as a station, you will need to experiment since I have not tried that.&nbsp; </p><p>Hope this helps and I did not forget an important step.&nbsp; Like I said, I am about as far along with this as you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104309">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						6 Mar 2010, 14:33					</div>
				</div>
				<div class="post-content content">
					<p>You don&#039;t need to select hostapd manually. The default builds for the UBNT profile contain the &#039;wpad&#039; package which is a multicall binary of hostapd+wpa_supplicant, leading to a smaller image size.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104370">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">alfred_m</div>
					<div class="post-datetime">
						8 Mar 2010, 10:18					</div>
				</div>
				<div class="post-content content">
					<p>skingchico:<br />Thanks, it works!</p><p>Monitor mode seems to be present at all times, this is weird but I don&#039;t care for it much.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104440">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">skingchico</div>
					<div class="post-datetime">
						10 Mar 2010, 05:23					</div>
				</div>
				<div class="post-content content">
					<p>Glad it worked alfred_m.&nbsp; And thanks nbd for the information on hostapd.&nbsp; </p><p>I also tried the Backfire 10.03 Beta with pretty good luck although it takes much more IP address juggling and package installations to get everything working.&nbsp; I have a PC running Fedora 12 that seemed to freeze unless I used something other than the NanoStation with the Backfire firmware.&nbsp; So I am back to the manufacturers firmware for a bit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202613">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Justice</div>
					<div class="post-datetime">
						24 May 2013, 03:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>I have a bullet m5.</p><p>my device is hang some times and disconnect me from internet or network specialy when I try use email in outlook or web.</p> <br /><br /><p>in this case some times it doesn&#039;t answer to my ping.</p> <br /><br /><p>what should I do?</p><br /><p>when I ping it , I have seen destination unrechable</p><p>request time out</p><p>General Failure</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>