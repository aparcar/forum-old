<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wds (briding) won&#039;t work between 2 Linksys wrt54gl</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p62873">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sebelk</div>
					<div class="post-datetime">
						5 Feb 2008, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I can&#039;t get wds, after long hours of breaking my head on the wall <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />I have a Linksys wrt54gl as AP router and other one as client (brdging).</p><br /><p>I think that I configure well... please take a look to my configuration, and tell me if&nbsp; it&#039;s wrong :</p><p>(I set equal SSID names for both APs)</p><p>AP router</p><p>wl0_ifname=eth1<br />dhcp_start=100<br />dhcp_lease=0<br />lan_dhcp_num=50<br />wl_lazywds=1<br />lan_dhcp_enabled=1<br />lan_dhcp=0<br />wl0_lazywds=0<br />wl_wds_timeout=1<br />dhcp_wins=wan<br />wds_ifname=<br />wl0_wds=00:1D:7E:DC:AA:55 00:1D:7E:DC:AA:57<br />wan_dhcp_num=50<br />lan_ifnames=vlan0 eth1 eth2 eth3<br />wan_ifnames=vlan1<br />wl_wds=<br />lan_ifname=br0<br />dhcp_domain=wan<br />dhcp_num=50<br />wl_ifname=<br />wl0_wds_timeout=1</p><p>Client (Bridging)</p><p>wl0_ifname=eth1<br />wl_lazywds=1<br />wl0_lazywds=0<br />wl_wds_timeout=1<br />wds_ifname=<br />wl0_wds=00:1D:7E:DC:A8:98<br />lan_ifnames=vlan0 eth1 eth2 eth3<br />pppoe_ifname=<br />wan_ifnames=vlan1<br />wl_wds=<br />lan_ifname=br0<br />wl_ifname=<br />wan_ifname=vlan1<br />wl0_wds_timeout=1</p><p>Thanks in advance!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63000">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sebelk</div>
					<div class="post-datetime">
						7 Feb 2008, 13:09					</div>
				</div>
				<div class="post-content content">
					<p>Well, sorry for answer myself. But I guess that it could be useful for others. I&#039;ve found that when I set wl0_mode=wep in the &quot;secondary&quot; wrt54gl, openwrt undo the bridge, I don&#039;t understadn well why, but that&#039;s what it happens. Then I set both to wl0_mode=ap. I could do the bridge an works when I use no encryption and when I use wep. I&#039;ve tried to use wpa2 with radius on both routers but it doesn&#039;t work. So I disable encryption between APs but it doesn&#039;t work either. Please could you say me what&#039;s wrong with my settings?:</p><br /><p>Access Point 1</p><br /><p>wl0_wds_akm=none<br />wl_lazywds=1<br />wl0_lazywds=0<br />wl_wds_timeout=1<br />wl0_wds_ssid=test<br />wl0_wds= 00:1D:7E:DC:AA:57<br />wl_wds=<br />wl0_akm=wpa wpa2<br />wl0_wds_akm=none<br />wl_akm=<br />wl0_ssid=xxradius<br />wl0_mode=ap</p><br /><p>Access Point 2 (only connected to electric power)<br />wl0_wds_akm=none<br />wl_lazywds=1<br />wl0_lazywds=0<br />wl_wds_timeout=1<br />wl0_wds_ssid=test<br />wds_ifname=<br />wl0_wds=00:06:25:F1:70:36<br />wl_wds=<br />wl0_akm=wpa wpa2<br />wl_akm=<br />wl0_ssid=xxradius<br />wl0_mode=<br />wl0_mode=ap</p><p>Thanks in advance!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63006">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sebelk</div>
					<div class="post-datetime">
						7 Feb 2008, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>Well, I was looking but it seems that it&#039;s impossible that wpa-radius works fine with wds, I mean wds links won&#039;t work. If someone has running wds+wpa/wpa2-radius using White russian, please could you tell me?</p><p>Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63106">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						9 Feb 2008, 11:50					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think you can use WPA2 with WDS and I don&#039;t think you can use radius with WDS.</p><p>However, have you tried using WPA-PSK for the WDS link (using the wl0_wds_* parameters) while using WPA2-PSK for the regular access point functions?</p><p>I am now using different ESSIDs for AP/clients and for WDS, by setting them separately with wl0_ssid and wl0_wds_ssid... interestingly, iwconfig shows eth1 as not having encryption enabled.&nbsp; I think this means that the WPA-PSK is being handled at a different software layer instead of within the wireless driver, so perhaps it can also handle WPA-PSK and WPA radius for the separate functions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63539">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">kacti</div>
					<div class="post-datetime">
						17 Feb 2008, 01:25					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been having trouble with setting up WDS + WPA(aes) on between my two WRT54GL routers. I thought is was a bug with NAS, as I had read that WPA2 doesn&#039;t work with WDS. It works fine without encryption, but I can&#039;t even get it to work with WPA1. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Not sure if anyone has been able to get WDS+WPA working. If they have could they pls send a copy of their settings. I&#039;m sure I&#039;m missing something obvious, but I can&#039;t see it.</p><p>My settings are as follows:</p><p>root@brdg:/usr/sbin#&nbsp; nvram show | grep wl0 | egrep &#039;_wds|close|mode=|wpa|akm|wep|ssid&#039;<br />size: 10126 bytes (22642 left)<br />wl0_net_mode=mixed<br />wl0_wep_buf=<br />wl0_akm=psk<br />wl0_mode=ap<br />wl0_gmode=1<br />wl0_wep_last=<br />wl0_ssid=test<br />wl0_closed=1<br />wl0_macmode=allow<br />wl0_wpa_psk=somestring<br />wl0_wds=00:18:F8:D2:69:CE<br />wl0_wep=disabled<br />wl0_wep_bit=64<br />wl0_wpa_gtk_rekey=3600<br />wl0_wep_gen=<br />wl0_wds_timeout=1<br />wl0_auth_mode=none</p><p>root@fwall:~#&nbsp; nvram show | grep wl0 | egrep &#039;_wds|close|mode=|wpa|akm|wep|ssid&#039;<br />size: 10097 bytes (22671 left)<br />wl0_net_mode=mixed<br />wl0_akm=psk<br />wl0_wep_buf=<br />wl0_mode=ap<br />wl0_gmode=1<br />wl0_wep_last=<br />wl0_ssid=test<br />wl0_closed=1<br />wl0_macmode=allow<br />wl0_wpa_psk=somestring<br />wl0_wds=00:1D:7E:C3:64:5C<br />wl0_wep=disabled<br />wl0_wep_bit=64<br />wl0_wpa_gtk_rekey=3600<br />wl0_wep_gen=<br />wl0_wds_timeout=1<br />wl0_auth_mode=none</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63575">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rhashimoto</div>
					<div class="post-datetime">
						17 Feb 2008, 18:44					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m on RC5.&nbsp; I have WPA1 PSK working, but with tkip instead of aes (haven&#039;t tried aes).&nbsp; The other difference I have from your config is I have wl0_closed=0.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63669">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">kacti</div>
					<div class="post-datetime">
						19 Feb 2008, 04:25					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m running 0.9, so I would have thought that my config would work. I tried turning ESSID b/cast on, but still no joy. i&#039;m tempted to try upgrading to Kamikaze if I can&#039;t make it work with the current version <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63882">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sebelk</div>
					<div class="post-datetime">
						22 Feb 2008, 15:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kacti wrote:</cite><blockquote><p>i&#039;m running 0.9, so I would have thought that my config would work. I tried turning ESSID b/cast on, but still no joy. i&#039;m tempted to try upgrading to Kamikaze if I can&#039;t make it work with the current version <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Similar problem here <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>I was told that these problems are because of WDS is not yet an standard...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>