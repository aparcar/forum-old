<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-LINK TD-W8980 support ( atheros based )</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 28 Apr 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=49413&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=49413&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=49413&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=49413&amp;p=5.html">5</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p306248">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">Inovator</div>
					<div class="post-datetime">
						5 Jan 2016, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply. What is HW difference between 8980B and 8980? Mainboard is the same, I think only difference is FW?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306361">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						5 Jan 2016, 21:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Inovator wrote:</cite><blockquote><p>Thanks for your reply. What is HW difference between 8980B and 8980? Mainboard is the same, I think only difference is FW?</p></blockquote></div><p>Just the firmware. The hardware is identical.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306534">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">mkresin</div>
					<div class="post-datetime">
						7 Jan 2016, 00:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Inovator wrote:</cite><blockquote><p>Thanks for your reply. What is HW difference between 8980B and 8980? Mainboard is the same, I think only difference is FW?</p></blockquote></div><p>Yes, the Mainboard is the same, but the soldered components differ. For example, next to the DSL Port you will find the line transformer. The partnumber of that line transformer is MNC EP-833SG for the Annex B and MNC EP-832SG for the Annex A version. Next to the line transformer you will find either a 10 Ohm (Annex B) or a 25 Ohm (Annex A) resistor. And so on...</p><p>You can find high res pictures of the (my) 8980 board in the wiki. Feel free to do a compare by yourself.</p><div class="quotebox"><cite>zhadoom wrote:</cite><blockquote><p>Just the firmware. The hardware is identical.</p></blockquote></div><p>Am I right, that you never tried the combination of ADSL + 8980 board + 8980B stock firmware or the other way round (same applies to openwrt + using the Annex A xdsl firmware with an Annex B board or the other way round)? Using that combination, you will get the error message &quot;Wrong combination of DSL PHY Firmware and hybrid type used! Please change one of it&quot;.</p><p>Among others, there are a few pull-up/down resistors which locks the xDSL Chip to a particular ADSL Annex and you will never get a sync.</p><p>As written before, this doesn&#039;t apply to VDSL. VDSL does work with the Annex A as well as the Annex B boards.</p>											<p class="post-edited">(Last edited by <strong>mkresin</strong> on 7 Jan 2016, 01:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307069">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">Inovator</div>
					<div class="post-datetime">
						10 Jan 2016, 23:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mkresin wrote:</cite><blockquote><p>Yes, the Mainboard is the same, but the soldered components differ. For example, next to the DSL Port you will find the line transformer. The partnumber of that line transformer is MNC EP-833SG for the Annex B and MNC EP-832SG for the Annex A version. Next to the line transformer you will find either a 10 Ohm (Annex B) or a 25 Ohm (Annex A) resistor. And so on...</p><p>You can find high res pictures of the (my) 8980 board in the wiki. Feel free to do a compare by yourself.</p></blockquote></div><p>Yes, you&#039;re right. I did&#039;nt look carefuly at all SMD components...</p><p>I&#039;m unable to send you a PM, so feel free to contact me thru inovator[at]gmail.com for info about shipping costs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310998">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">dlang</div>
					<div class="post-datetime">
						11 Feb 2016, 05:18					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to come up to speed on this device (I purchased it after finding that my DNDR3700 DSL was not going to be supported, people on the forum pointed me at this)</p><p>looking at <a href="https://github.com/xdarklight/mktplinkfw3">https://github.com/xdarklight/mktplinkfw3</a> it seems as if there is a way to flash openwrt onto this without having to break out a serial cable, can anyone more familiar with this tell me if I&#039;m understanding things correctly?</p><p>Is there a nightly build for this?</p><p>If this router is still not really supported, can anyone point me at a DSL router that is supported?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313411">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">hpfmn</div>
					<div class="post-datetime">
						3 Mar 2016, 10:02					</div>
				</div>
				<div class="post-content content">
					<p>Yeah would be really nice if someone who already flashed his/her device could give some more information. I think install via webinterface won&#039;t work. But do I need UART Bootmode? And do I need this patched U-Boot? Isn&#039;t it possible to just use the normal U-Boot and boot via TFTP and patch it from there?</p><p>EDIT: Also what about the DSL-Modem? Where do I get the firmware and everything. I think we can really improve that wiki article!</p>											<p class="post-edited">(Last edited by <strong>hpfmn</strong> on 3 Mar 2016, 10:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313611">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">adamsutton2101</div>
					<div class="post-datetime">
						4 Mar 2016, 16:46					</div>
				</div>
				<div class="post-content content">
					<p>Apologies for cross-posting. I&#039;ve just submitted a new topic, <a href="https://forum.openwrt.org/viewtopic.php?id=63145">https://forum.openwrt.org/viewtopic.php?id=63145</a></p><p>I&#039;m trying to get VDSL setup working on this router. To summarise:</p><p>- I&#039;m using custom build from master (as of a few days ago)<br />- I believe VDSL modem is syncing<br />- I can setup PPPoE from this box via external modem<br />- I CANNOT seem to get PPPoE to go via internal modem (ptm0).</p><p>Any ideas?</p><p>Adam</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313657">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">skfree</div>
					<div class="post-datetime">
						4 Mar 2016, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>Today i have manage to physically compare both versions (annex A, annex B).</p><p>There is also different PCB layout in XDSL area and components are following:</p><p>TD-89xxB - annex B </p><p>EP-833SG<br />R198 - 10R<br />diodes D10,D20,D9 unreadable</p><p>89xx - annex A</p><p>EP-832SG<br />R198 - 24R9 2<br />diodes D9,D10 - unreadable<br />D20 is missing from layout</p><p>Tried to run 89xx (ANNEX A) version on ANNEX B - not sync at all. Make sense. VDSL2 ANNEX A modem works on ANNEX B with Openwrt, just needed to use firmware mentioned in TPLink8970 OpenWRT wiki. 5 GHz wifi card has non-propietar driver and I dont expect that this will ever work. Its hardly work with genuine TPLINK fw.<br />My personal option for 8980 hw will be to crossflash to 9980 (same HW), where you can easily change xDSL mode (ADSL-&gt;VDSL and back). ADSL annex A/B is also possible, but dont work as expected.</p><p>According install of Openwrt, there are 2 basic approaches:</p><p>1) using USB to TTL convertor + 3 wires. No soldering is required, as 8980 has wholes, just put wires according wiki and you are go. You can completely follow 8970 guidline, hw is identical<br />2) using raspberry pi + POMONA 5250 EEPROM clip-on. I have written article about procedure, please check<br /><a href="http://www.skfree.sk/2015/08/26/tp-link-td-w8970-debricking/">http://www.skfree.sk/2015/08/26/tp-link … ebricking/</a><br />3) ask somebody to have for you box programmed</p>											<p class="post-edited">(Last edited by <strong>skfree</strong> on 4 Mar 2016, 22:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315607">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">fghorow</div>
					<div class="post-datetime">
						19 Mar 2016, 00:58					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone successfully gotten the UART boot method to work on the 8980? If so, how? Shorting the right-side of R225 to ground, as described in the wiki, did not work for me. </p><p>Any tips appreciated, as I&#039;ve now got an inoperative u-boot image flashed... :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316205">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">Scotch&#039;s</div>
					<div class="post-datetime">
						22 Mar 2016, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>@fghorow<br />Have you tried to connect the left side of R225 to GND?<br />This method works in W8970 for sure and it is also described in the wiki: <a href="https://wiki.openwrt.org/toh/tp-link/td-w8970">https://wiki.openwrt.org/toh/tp-link/td-w8970</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316340">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">fghorow</div>
					<div class="post-datetime">
						23 Mar 2016, 19:06					</div>
				</div>
				<div class="post-content content">
					<p>@Scotch&#039;s Yes!!! That got it! Thanks for the suggestion!!!! I&#039;ll modify the 8980 wiki if I have the required permissions...</p><p>Thank you very much again!!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321046">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">Snakus</div>
					<div class="post-datetime">
						24 Apr 2016, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>Lantiq is Now Intel</p><div class="quotebox"><blockquote><p><strong>Lantiq is now the Intel Connected Home Division</strong>. We provide the global communications industry with solutions for ultrafast broadband access and secure, effortless connected home experiences.&nbsp; </p><p>The Connected Home Division portfolio includes cable, DSL and fiber access technologies, home and business gateway SoCs, and key components for voice and data communications. Our products are used by service providers and equipment manufacturers to deliver content and computing services that make people’s homes smarter and more connected than ever before.</p></blockquote></div><p><a href="http://www.intel.com/content/www/us/en/connected-home/connected-home-solutions.html">http://www.intel.com/content/www/us/en/ … tions.html</a></p><p>So it&#039;s time to rename Lantiq to Intel in trunk ?</p>											<p class="post-edited">(Last edited by <strong>Snakus</strong> on 24 Apr 2016, 10:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321121">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">dziny</div>
					<div class="post-datetime">
						24 Apr 2016, 22:55					</div>
				</div>
				<div class="post-content content">
					<p>BTW this issue of Annex A board not working on Annex B line and vice versa only affects the new chips that support VDSL. Apparently there is no issue with this hardware <a href="https://wiki.openwrt.org/toh/bt/homehub_v2b">https://wiki.openwrt.org/toh/bt/homehub_v2b</a> if correct firmware is used. This is a first hand experience I am/was operating it in both Annex A country (UK) as well as Annex B one (Slovakia).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325902">
				<div class="post-metadata">
					<div class="post-num">Post #89</div>
					<div class="post-author">datla</div>
					<div class="post-datetime">
						26 May 2016, 09:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi </p><p>&nbsp; I purchased a brand new TP-link w8980 in Australia, with following versions</p><p>Firmware version:&nbsp; 0.6.0 1.8 v000e.0 Build 150514 Rel.40138n<br />Hardware version: TD-W8980 v1 00000000</p><p>&nbsp; I build a custom openwrt firmware, can I do a direct upload through the gui interface?<br />&nbsp; <br /><a href="https://wiki.openwrt.org/toh/tp-link/td-w8980">https://wiki.openwrt.org/toh/tp-link/td-w8980</a> throws a warning about the firmware version, when checked the tplink official page for firmware, it dosent list firmware before &quot;12.10.2013 &quot;.&nbsp; </p><p>Any help regarding this is highly regarded.</p><p>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325913">
				<div class="post-metadata">
					<div class="post-num">Post #90</div>
					<div class="post-author">mkresin</div>
					<div class="post-datetime">
						26 May 2016, 10:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>datla wrote:</cite><blockquote><p>Hi <br />Firmware version:&nbsp; 0.6.0 1.8 v000e.0 Build 150514 Rel.40138n<br />Hardware version: TD-W8980 v1 00000000</p><p>&nbsp; I build a custom openwrt firmware, can I do a direct upload through the gui interface?</p></blockquote></div><p>It&#039;s unlikely that the firmware will be accepted. But give it a try! The worst that can happen is that the gui refuses to accept the firmware and doesn&#039;t start the upgrade.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326678">
				<div class="post-metadata">
					<div class="post-num">Post #91</div>
					<div class="post-author">datla</div>
					<div class="post-datetime">
						1 Jun 2016, 08:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi Mkresin, I will try that and post the output, meanwhile i got an older TPLink w8980, could not connect to Internet via ADSL, neither via WAN/LAN port of the switch. </p><p> If anyone could do that can you please share the configuration ?</p><p>Thanks,<br />Datla</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326693">
				<div class="post-metadata">
					<div class="post-num">Post #92</div>
					<div class="post-author">datla</div>
					<div class="post-datetime">
						1 Jun 2016, 11:13					</div>
				</div>
				<div class="post-content content">
					<p>Below is my configuration<br />Please share your views..</p><p>root@OpenWrt:~# cat /etc/config/network </p><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; option ula_prefix &#039;fdb0:40f6:f803::/48&#039;</p><p>config atm-bridge &#039;atm&#039;<br />&nbsp; &nbsp; option encaps &#039;llc&#039;<br />&nbsp; &nbsp; option payload &#039;bridged&#039;<br />&nbsp; &nbsp; option vci &#039;35&#039;<br />&nbsp; &nbsp; option vpi &#039;8&#039;</p><p>config dsl &#039;dsl&#039;<br />&nbsp; &nbsp; option annex &#039;a&#039;<br />&nbsp; &nbsp; option tone &#039;av&#039;<br />&nbsp; &nbsp; option xfer_mode &#039;ptm&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; option type &#039;bridge&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0.1&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option ip6assign &#039;60&#039;<br />&nbsp; &nbsp; option ipaddr &#039;192.168.112.1&#039;</p><p>config device &#039;lan_dev&#039;<br />&nbsp; &nbsp; option name &#039;eth0.1&#039;<br />&nbsp; &nbsp; option macaddr &#039;c4:e9:84:2a:f8:28&#039;</p><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; option _orig_ifname &#039;ptm0&#039;<br />&nbsp; &nbsp; option _orig_bridge &#039;false&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0.2&#039;<br />&nbsp; &nbsp; option proto &#039;dhcp&#039;</p><p>config device &#039;wan_dev&#039;<br />&nbsp; &nbsp; option name &#039;ptm0&#039;<br />&nbsp; &nbsp; option macaddr &#039;c4:e9:84:2a:f8:29&#039;</p><p>config switch<br />&nbsp; &nbsp; option name &#039;switch0&#039;<br />&nbsp; &nbsp; option reset &#039;1&#039;<br />&nbsp; &nbsp; option enable_vlan &#039;1&#039;</p><p>config switch_vlan<br />&nbsp; &nbsp; option device &#039;switch0&#039;<br />&nbsp; &nbsp; option vlan &#039;1&#039;<br />&nbsp; &nbsp; option vid &#039;1&#039;<br />&nbsp; &nbsp; option ports &#039;0 2 4 6t&#039;</p><p>config switch_vlan<br />&nbsp; &nbsp; option device &#039;switch0&#039;<br />&nbsp; &nbsp; option vlan &#039;2&#039;<br />&nbsp; &nbsp; option vid &#039;2&#039;<br />&nbsp; &nbsp; option ports &#039;5&#039;</p><p>config interface &#039;wan_pppoe&#039;<br />&nbsp; &nbsp; option proto &#039;pppoe&#039;<br />&nbsp; &nbsp; option ifname &#039;ptm0&#039;<br />&nbsp; &nbsp; option username &#039;sdfsdfsdf&#039;<br />&nbsp; &nbsp; option password &#039;sdfsdfsdf&#039;<br />&nbsp; &nbsp; option ipv6 &#039;auto&#039;</p><br /><p>Thanks,<br />Datla</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326698">
				<div class="post-metadata">
					<div class="post-num">Post #93</div>
					<div class="post-author">skfree</div>
					<div class="post-datetime">
						1 Jun 2016, 11:46					</div>
				</div>
				<div class="post-content content">
					<p>Your config option</p><p>config dsl &#039;dsl&#039;<br />&nbsp; &nbsp; option annex &#039;a&#039;<br />&nbsp; &nbsp; option tone &#039;av&#039;<br />&nbsp; &nbsp; option xfer_mode &#039;ptm&#039;</p><p>is wrong</p><p>xfer_mode ptm is for VDSL.</p><p>Try to use:</p><p>config vdsl &#039;dsl&#039;<br />&nbsp; &nbsp; option annex &#039;a&#039;<br />&nbsp; &nbsp; option firmware &#039;/lib/firmware/vdsl.bin&#039;<br />&nbsp; &nbsp; option tone &#039;av&#039;<br />&nbsp; &nbsp; option xfer_mode &#039;atm&#039;</p><p>also login via ssh and run</p><p># cd /etc/init.d<br /># ./dsl_control status</p><p>output should be like:</p><p>root@OpenWrt:/etc/init.d# ./dsl_control status<br />Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lantiq-VRx Unknown<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 84.000 Mb/s / 8.400 Mb/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;8.5dB / 0.0dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10.1dB / 24.6dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 54d 15h 28m 38s</p><p>also share your network/ADSL operator country and name and we can advise</p>											<p class="post-edited">(Last edited by <strong>skfree</strong> on 1 Jun 2016, 11:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326709">
				<div class="post-metadata">
					<div class="post-num">Post #94</div>
					<div class="post-author">datla</div>
					<div class="post-datetime">
						1 Jun 2016, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi Skfree,</p><p>&nbsp; Thanks for pointing to this, but it still dosent resolve my issue.</p><p>&nbsp; 1. I did not find the file vdsl.bin any where in the box and in openwrt codebase. Am I missing something ?</p><p>&nbsp; 2.&nbsp; cd /etc/init.d/<br />root@OpenWrt:/etc/init.d# ./dsl_control status<br />ATU-C Vendor ID:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Infineon 113.185<br />ATU-C System Vendor ID:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;00,00,30,30,30,30,00,00<br />Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lantiq-VRX200 Unknown<br />Firmware Version:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.7.1.8.0.1<br />API Version:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.16.6.3<br />XTSE Capabilities:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0<br />Annex:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A<br />Line Mode:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G.992.5 (ADSL2+)<br />Profile:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Forward Error Correction Seconds (FECS):&nbsp; Near: 0 / Far: 0<br />Errored seconds (ES):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Near: 0 / Far: 0<br />Severely Errored Seconds (SES):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Near: 0 / Far: 0<br />Loss of Signal Seconds (LOSS):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Near: 0 / Far: 2<br />Unavailable Seconds (UAS):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Near: 55 / Far: 55<br />Header Error Code Errors (HEC):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Near: 0 / Far: 7<br />Non Pre-emtive CRC errors (CRC_P):&nbsp; &nbsp; &nbsp; &nbsp; Near: 0 / Far: 0<br />Pre-emtive CRC errors (CRCP_P):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Near: 0 / Far: 0<br />Power Management Mode:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; L0 - Synchronized<br />Latency / Interleave Delay:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Down: Interleave (10.75 ms) / Up: Interleave (1.25 ms)<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Down: 12.052 Mb/s / Up: 1.020 Mb/s<br />Line Attenuation (LATN):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Down: 34.7dB / Up: 15.7dB<br />Signal Attenuation (SATN):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Down: 33.0dB / Up: 16.1dB<br />Noise Margin (SNR):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Down: 6.8dB / Up: 9.2dB<br />Aggregate Transmit Power (ACTATP):&nbsp; &nbsp; &nbsp; &nbsp; Down: 20.4dB / Up: 11.9dB<br />Max. Attainable Data Rate (ATTNDR):&nbsp; &nbsp; &nbsp; &nbsp;Down: 12.480 Mb/s / Up: 1.112 Mb/s<br />Line Uptime Seconds:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 232<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3m 52s</p><p>&nbsp; 3. Output of log read is :<br />Sun Apr 17 18:34:40 2016 daemon.warn pppd[5356]: Timeout waiting for PADO packets<br />Sun Apr 17 18:34:40 2016 daemon.err pppd[5356]: Unable to complete PPPoE Discovery<br />Sun Apr 17 18:34:40 2016 daemon.info pppd[5356]: Exit.<br />Sun Apr 17 18:34:40 2016 daemon.notice netifd: Interface &#039;wan_pppoe&#039; is now down<br />Sun Apr 17 18:34:40 2016 daemon.notice netifd: Interface &#039;wan_pppoe&#039; is disabled<br />Sun Apr 17 18:34:40 2016 daemon.notice netifd: Interface &#039;wan_pppoe&#039; is enabled<br />Sun Apr 17 18:34:40 2016 daemon.notice netifd: Interface &#039;wan_pppoe&#039; is setting up now<br />Sun Apr 17 18:34:40 2016 daemon.info pppd[5544]: Plugin rp-pppoe.so loaded.<br />Sun Apr 17 18:34:40 2016 daemon.info pppd[5544]: RP-PPPoE plugin version 3.8p compiled against pppd 2.4.7<br />Sun Apr 17 18:34:40 2016 daemon.notice pppd[5544]: pppd 2.4.7 started by root, uid 0</p><p>4. I&#039;m using this device from sydney, its TPG network.</p><p>Thanks,<br />Datla</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326748">
				<div class="post-metadata">
					<div class="post-num">Post #95</div>
					<div class="post-author">skfree</div>
					<div class="post-datetime">
						1 Jun 2016, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi Datla,</p><p>1. very good question. In case you want to use ADSL, you dont need VDSL firmware (which is supporting ADSL also), but it may be reason why you have problems. What is good, that dsl_control show live ADSL line, so you probably dont have problem with firmware at all, but on ATM/PPPoE setup!!!</p><p>All is documented on TPLINK 8970 wiki page, as TPLINK 8970 and 8980 are identical, only difference is 5ghz radio, which is NOT WORKING with OPENWRT on TPLINK 8980. 5ghz wifi works only with stock firmware!!!</p><p><a href="https://wiki.openwrt.org/toh/tp-link/td-w8970">https://wiki.openwrt.org/toh/tp-link/td-w8970</a> - &gt; check VDSL.BIN section!</p><p>vdsl.bin located in /lib/firmware is obtained using script /sbin/vdsl_fw_install.sh. First check, if you have this file.<br />If yes, try to run it, it will download file from DE telekom with original firmware. I suppose file is already lost, so workaround is to download bin file manually using browser and put it into /tmp and have name </p><p>/tmp/Firmware_Speedport_W921V_1.21.000.bin</p><p>then rerun /sbin/vdsl_fw_install.sh and it will do its job with installing firmware file into /lib/firmware.</p><p>All firmware is here</p><p><a href="https://xdarklight.github.io/lantiq-xdsl-firmware-info/">https://xdarklight.github.io/lantiq-xdsl-firmware-info/</a></p><p>but here is link for firmware i am still using:</p><p><a href="https://mega.nz/#!xpQ0QCTL!Iw2ZD5Of-4ytDsqWcIecBNIxBFfUabO_f8xqaas6mko">https://mega.nz/#!xpQ0QCTL!Iw2ZD5Of-4yt … 8xqaas6mko</a></p><p>2. this shows, that your ADSL line is ALIVE! Line is UP, you are in sync, so-far so good! Checked your provider settins, your setup looks good as this:</p><p><a href="https://www.tpg.com.au/helpdesk/pppoe/Draytek_Vigor_2500_PPPoE.pdf">https://www.tpg.com.au/helpdesk/pppoe/D … _PPPoE.pdf</a></p><p>I assume to try this:</p><p>1. login via web interface Network-&gt;Interfaces and check ATM Bridges setting. Set it and apply. In advanced mode, set Bridged and apply!<br />2. in Interfaces - WAN set protocol to PPPoE (also you can try PPPoA) and have proper PAP/CHAP credentials and password</p><p>this is basically a problem</p><p>pppd[5356]: Timeout waiting for PADO packets</p><p>if above not help, you can try to use this ADSL setup-&gt;<br />change in /etc/config/network and enter proper data<br />then reboot</p><p># file /etc/config/network<br /># after saving this modem need to be restarted. IP will be 192.168.1.1<br />config interface &#039;loopback&#039;<br />&nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; option ula_prefix &#039;fd12:faa3:0000::/48&#039;</p><p>config switch<br />&nbsp; &nbsp; option name &#039;switch0&#039;<br />&nbsp; &nbsp; option reset &#039;1&#039;<br />&nbsp; &nbsp; option enable_vlan &#039;1&#039;</p><p>config atm-bridge &#039;atm&#039;<br />&nbsp; &nbsp; option vpi &#039;8&#039;<br />&nbsp; &nbsp; option vci &#039;35&#039;<br />&nbsp; &nbsp; option encaps &#039;llc&#039;<br />&nbsp; &nbsp; option payload &#039;bridged&#039;</p><p>config vdsl &#039;dsl&#039;<br />&nbsp; &nbsp; option annex &#039;a&#039;<br />&nbsp; &nbsp; option firmware &#039;/lib/firmware/vdsl.bin&#039;<br />&nbsp; &nbsp; option tone &#039;av&#039;<br />&nbsp; &nbsp; option xfer_mode &#039;atm&#039;</p><p>config interface &#039;wifi&#039;<br />&nbsp; &nbsp; option _orig_ifname &#039;wlan0&#039;<br />&nbsp; &nbsp; option _orig_bridge &#039;true&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;10.10.1.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option broadcast &#039;10.10.1.255&#039;<br />&nbsp; &nbsp; option gateway &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; option dns &#039;8.8.8.8&#039;</p><p>config route</p><p>config switch_vlan<br />&nbsp; &nbsp; option device &#039;switch0&#039;<br />&nbsp; &nbsp; option vlan &#039;2&#039;<br />&nbsp; &nbsp; option vid &#039;100&#039;<br />&nbsp; &nbsp; option ports &#039;5 6t&#039;</p><p>config switch_vlan<br />&nbsp; &nbsp; option device &#039;switch0&#039;<br />&nbsp; &nbsp; option vlan &#039;3&#039;<br />&nbsp; &nbsp; option vid &#039;200&#039;<br />&nbsp; &nbsp; option ports &#039;0 6t&#039;</p><p>config switch_vlan<br />&nbsp; &nbsp; option device &#039;switch0&#039;<br />&nbsp; &nbsp; option vlan &#039;4&#039;<br />&nbsp; &nbsp; option vid &#039;300&#039;<br />&nbsp; &nbsp; option ports &#039;2 6t&#039;</p><p>config switch_vlan<br />&nbsp; &nbsp; option device &#039;switch0&#039;<br />&nbsp; &nbsp; option vlan &#039;5&#039;<br />&nbsp; &nbsp; option vid &#039;400&#039;<br />&nbsp; &nbsp; option ports &#039;4 6t&#039;</p><p>config interface &#039;WAN&#039;<br />&nbsp; &nbsp; option proto &#039;dhcp&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0.400&#039;</p><p>config interface &#039;LAN1&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0.100&#039;<br />&nbsp; &nbsp; option ipaddr &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;</p><p>config interface &#039;LAN2&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0.200&#039;<br />&nbsp; &nbsp; option ipaddr &#039;192.168.2.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;</p><p>config interface &#039;LAN3&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0.300&#039;<br />&nbsp; &nbsp; option ipaddr &#039;192.168.3.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;</p>											<p class="post-edited">(Last edited by <strong>skfree</strong> on 1 Jun 2016, 18:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334584">
				<div class="post-metadata">
					<div class="post-num">Post #96</div>
					<div class="post-author">zenodallavalle</div>
					<div class="post-datetime">
						15 Aug 2016, 15:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>massimo.sanna wrote:</cite><blockquote><p>Hi all,<br />i&#039;ve compiled succesfully an image and flashed my TD-W8980 with ADSL and Wifi (2.4GHz only) working. </p><p>I&#039;ve noticed that the rootfs&#039;s size is only 4MB. After installing a pair of packets i&#039;ve no space left on device. </p><p>Flash is 8MB large, but seems to be used only 4MB. Some bug assembling flash image? </p><p>Regards</p><p> Max</p></blockquote></div><p>Hi max,<br />I&#039;ve seen your username Massimo.sanna sounds very Italian! Also I&#039;m Italian, I&#039;m experiencing a lot of problem installing open wrt on my W8980! I would be very happy if you wanted to help me installing it! My email is zeno.dalla@libero.it contact me there please!<br />Best regards,<br />Zeno</p>											<p class="post-edited">(Last edited by <strong>zenodallavalle</strong> on 15 Aug 2016, 15:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344526">
				<div class="post-metadata">
					<div class="post-num">Post #97</div>
					<div class="post-author">devseb</div>
					<div class="post-datetime">
						23 Nov 2016, 01:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I compiled openwrt from source, and Wlan and DSL work fine. You are doing a really good job. Thanks.<br />I still have one problem though, my ethernet connection (the internal one) dies after some time, and the only possible solutions is either to replug the cabels or restart the router. I still can access the router and i-net via wlan.<br />Here is my /etc/config/network (in case it helps):<br /></p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
        option ula_prefix &#039;fdcd:dad7:3e1c::/48&#039;

config atm-bridge &#039;atm&#039;
        option vpi &#039;1&#039;
        option vci &#039;32&#039;
        option encaps &#039;llc&#039;
        option payload &#039;bridged&#039;

config dsl &#039;dsl&#039;
        option line_mode &#039;vdsl&#039;
        option annex &#039;b&#039;
        option xfer_mode &#039;ptm&#039;

config interface &#039;lan&#039;
        option type &#039;bridge&#039;
        option ifname &#039;eth0.1&#039;
        option proto &#039;static&#039;
        option netmask &#039;255.255.255.0&#039;
        option ip6assign &#039;60&#039;
        option ipaddr &#039;192.168.178.1&#039;

config device &#039;lan_dev&#039;
        option name &#039;eth0.1&#039;
        option macaddr &#039;14:cc:20:62:b7:5d&#039;

config interface &#039;wan&#039;
        option proto &#039;pppoe&#039;
        option ipv6 &#039;auto&#039;
        option username &#039;#########&#039;
        option password &#039;#########&#039;
        option _orig_ifname &#039;ptm0&#039;
        option _orig_bridge &#039;false&#039;
        option mtu &#039;1492&#039;
        option ifname &#039;ptm0.7&#039;

config device &#039;wan_dev&#039;
        option name &#039;ptm0&#039;
        option macaddr &#039;14:cc:20:62:b7:5e&#039;

config interface &#039;wan6&#039;
        option _orig_ifname &#039;pppoe-wan&#039;
        option _orig_bridge &#039;false&#039;
        option proto &#039;dhcpv6&#039;
        option type &#039;bridge&#039;
        option ifname &#039;ptm0&#039;
        option reqaddress &#039;try&#039;
        option reqprefix &#039;auto&#039;

config switch
        option name &#039;switch0&#039;
        option reset &#039;1&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 2 4 5 6t&#039;
        option vid &#039;1&#039;</code></pre></div><p>Any ideas??</p><p>Thank you,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; devseb</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350989">
				<div class="post-metadata">
					<div class="post-num">Post #98</div>
					<div class="post-author">BizonGod</div>
					<div class="post-datetime">
						3 Feb 2017, 11:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>skfree wrote:</cite><blockquote><p>Today i have manage to physically compare both versions (annex A, annex B).</p><p>There is also different PCB layout in XDSL area and components are following:</p><p>TD-89xxB - annex B </p><p>EP-833SG<br />R198 - 10R<br />diodes D10,D20,D9 unreadable</p><p>89xx - annex A</p><p>EP-832SG<br />R198 - 24R9 2<br />diodes D9,D10 - unreadable<br />D20 is missing from layout</p></blockquote></div><p>Hi skfree!<br /> Are You able to provide some hi-res photos of xDSL PCB section of 89xx and 89xxB?<br />Maybe it would be possible (with some soldering) to switch between annex A and B.</p><p>Thanks,<br />BizonGod</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353483">
				<div class="post-metadata">
					<div class="post-num">Post #99</div>
					<div class="post-author">justcurious</div>
					<div class="post-datetime">
						4 Mar 2017, 10:21					</div>
				</div>
				<div class="post-content content">
					<p>No wifi, no usb in current trunk (Bleeding Edge, 50104)</p><p>I have read &quot;wiki.openwrt.org/toh/tp-link/td-w9980&quot; and installed latest trunk according to the instructions there. After successfully installing i was shocked to find no wifi and no usb support. A web search resulted in finding &quot;forum.openwrt.org/viewtopic.php?id=67536&quot; which explains how to make usb operational by installing &quot;kmod-usb-dwc2&quot; but i failed to find anything on wifi. The image posted by olewales (forum.openwrt.org/viewtopic.php?pid=283807#p283807) worked for wifi but there were no packages for this image. <strong>Finally i was able to make wifi operational on current trunk (50104) by installing &quot;kmod-ath9k&quot;.&nbsp; </strong><br />Really, i found no mention of this anywhere including the greatest information source i found: <strong>this thread</strong>. This might be as simple as 2+2=4 for experts like you but i have searched for 2 days and even recompiled openwrt for this. So i decided to write this post to make it easier for newbies like myself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355396">
				<div class="post-metadata">
					<div class="post-num">Post #100</div>
					<div class="post-author">tassapan</div>
					<div class="post-datetime">
						1 Apr 2017, 05:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>justcurious wrote:</cite><blockquote><p>No wifi, no usb in current trunk (Bleeding Edge, 50104)</p><p>I have read &quot;wiki.openwrt.org/toh/tp-link/td-w9980&quot; and installed latest trunk according to the instructions there. After successfully installing i was shocked to find no wifi and no usb support. A web search resulted in finding &quot;forum.openwrt.org/viewtopic.php?id=67536&quot; which explains how to make usb operational by installing &quot;kmod-usb-dwc2&quot; but i failed to find anything on wifi. The image posted by olewales (forum.openwrt.org/viewtopic.php?pid=283807#p283807) worked for wifi but there were no packages for this image. <strong>Finally i was able to make wifi operational on current trunk (50104) by installing &quot;kmod-ath9k&quot;.&nbsp; </strong><br />Really, i found no mention of this anywhere including the greatest information source i found: <strong>this thread</strong>. This might be as simple as 2+2=4 for experts like you but i have searched for 2 days and even recompiled openwrt for this. So i decided to write this post to make it easier for newbies like myself.</p></blockquote></div><p>Thank you for your valuable information.<br />How about LEDE?</p><p>I&#039;ll get this amazing little router next week.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 4 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=49413&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=49413&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=49413&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=49413&amp;p=5.html">5</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>