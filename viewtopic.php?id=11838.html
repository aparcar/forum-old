<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wrt300n v2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p52981">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">winterdog</div>
					<div class="post-datetime">
						28 Jul 2007, 14:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi i see there is an image for the wrt300n in the 7.07 folder </p><p>i would like to give this a try but not sure how to install this or if it has wireless working yet </p><p>any ideas any one. </p><p>thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54544">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yuri1312</div>
					<div class="post-datetime">
						25 Aug 2007, 01:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I also saw this zImage on kk 7.07 and would like to give it a go. <br />Is it possible to install through tftp or the web interface?</p><p>Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54923">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pookey</div>
					<div class="post-datetime">
						1 Sep 2007, 22:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I would also like details on how to install this image onto the wrt300n. Has anyone figured this out?</p><p>Many Thanks,</p><p>Ian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54953">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">pookey</div>
					<div class="post-datetime">
						2 Sep 2007, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>I forgot to mention, the zImage is here:<br /><a href="http://downloads.openwrt.org/kamikaze/7.07/ixp4xx-2.6/">http://downloads.openwrt.org/kamikaze/7.07/ixp4xx-2.6/</a></p><p>but I&#039;m not sure how you go about installing it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p55026">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">neon</div>
					<div class="post-datetime">
						4 Sep 2007, 03:02					</div>
				</div>
				<div class="post-content content">
					<p>Some Testresults? I will buy a ne Router and think about the 300N or 350N models. So if you same infos for me let me know, please. What are you thinking about the 350N?</p><p>greets,</p><p>neon</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p55030">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Bartman007</div>
					<div class="post-datetime">
						4 Sep 2007, 05:49					</div>
				</div>
				<div class="post-content content">
					<p>The WRT300N v2 is an IXP4xx (XScale) based device.&nbsp; They do not have a standardized image format similar to the trx format for the WRT300N v1 (and other Broadcom based routers.)&nbsp; You will need both the kernel, openwrt-wrt300nv2-2.6-zImage, and the filesystem, openwrt-ixp4xx-2.6-squashfs.img.&nbsp; Most of the IXP devices I have run across are running RedBoot as their bootloader, not sure what the WRT300N runs.&nbsp; <span class="bbu">Assuming the WRT300N v2 runs RedBoot</span>, flashing consists of several steps:<br /></p><div class="quotebox"><blockquote><p><strong><span class="bbu">Do not blindly copy and paste, I do not have a WRT300N.<br />Read the <a href="http://ecos.sourceware.org/docs-latest/redboot/redboot-guide.html">RedBoot docs</a></span></strong></p><p>1) Getting access to RedBoot, serial is typically the most straight forward method for all devices.&nbsp; The <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Linksys/WRT300N">WRT300N page</a> gives the serial pinout for the WRT300N v2.&nbsp; The info on <a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/Serial_Console">this page</a> also applies.&nbsp; You may need to configure the network and/or transfer method.</p><p>2) Loading the kernel image into memory, this can be done with </p><div class="quotebox"><blockquote><p>load -r -b %{FREEMEMLO} openwrt-wrt300nv2-2.6-zImage</p></blockquote></div><p>3) Writing it to flash,&nbsp; replace &lt;kernel partition name&gt; with the proper name, this varies depending on the device. </p><div class="quotebox"><blockquote><p>fis create &lt;kernel partition name&gt;</p></blockquote></div><p>4) Loading the filesystem image into memory </p><div class="quotebox"><blockquote><p>load -r -b %{FREEMEMLO} openwrt-ixp4xx-2.6-squashfs.img</p></blockquote></div><p>5) Writing the filesystem to flash, this also varies depending on the device. </p><div class="quotebox"><blockquote><p>fis create &lt;filesystem partition name&gt;</p></blockquote></div></blockquote></div><p>If all goes well, you now have a working device running OpenWrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p55031">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						4 Sep 2007, 06:32					</div>
				</div>
				<div class="post-content content">
					<p>Whoa, looks like the next generation routers aren&#039;t as easy as the WRT54Gs were to upgrade! Though I do find it strange that Linksys is still releasing some sort of bin file to upgrade. I suppose OpenWRT has to do more than what the Linksys upgrades are doing?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p55617">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">neon</div>
					<div class="post-datetime">
						13 Sep 2007, 12:28					</div>
				</div>
				<div class="post-content content">
					<p>Have someone tested the guidance from Bartman007? Does it work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58018">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">awaqas</div>
					<div class="post-datetime">
						25 Oct 2007, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I able to create a console cable (using MAX3232) and successfully connected to the console of the WRT300NEU v2.0.17. I downloaded both fs and kernel files (openwrt-wrt300nv2-2.6-zImage &amp; openwrt-ixp4xx-2.6-squashfs.img) and tftp32(to transfer the files to router) then I booted the router and pressed ctrl+c to access redboot console. I wasn&#039;t able to run the below commands (by batman007), because the redboot version does not support the load command with %{FREEMEMLO} parameters and also It does not have the fis command with &#039;create&#039; parameter (but only erease and write). Neon, I think batman007 can help us. Below is boot process output:-</p><br /><br /><p>+<br />RedBoot(tm) bootstrap and debug environment [ROMRAM]<br />Red Hat certified release, version 2.02 - built 14:59:11, Aug 16 2006</p><p>Platform: Intel Generic Residential Gateway (IXP42X 266MHz) BE<br />Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.</p><p>RAM: 0x00000000-0x01000000, [0x00066480-0x00ff4000] available<br />FLASH: 0x50000000 - 0x50400000, 64 blocks of 0x00010000 bytes each.<br />== Executing boot script in 2.000 seconds - enter ^C to abort<br />RedBoot&gt; boot;exe<br />eRcOmM signature found<br />Copying kernel. Size:&nbsp; &nbsp;&nbsp; &nbsp;11c190<br />Using base address 0x00400000 and length 0x0011c190<br />Uncompressing Linux.............................................................................. done, booting the kernel.</p><p>Linux version 2.6.13.2 (root@5c10-187-9-1) (gcc version 3.4.3) #1 Thu Oct 12 14:53:29 CST 2006</p><p>CPU: XScale-IXP42x Family [690541f1] revision 1 (ARMv5TE)</p><p>Machine: ADI Engineering Coyote</p><p>Memory policy: ECC disabled, Data cache writeback</p><p>CPU0: D VIVT undefined 5 cache</p><p>CPU0: I cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets</p><p>CPU0: D cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets</p><p>Built 1 zonelists</p><p>Kernel command line: console=ttyS0,115200 root=/dev/mtdblock2 noinitrd rootfstype=squashfs mem=16M@0x00000000 init=/sbin/init</p><p>PID hash table entries: 128 (order: 7, 2048 bytes)</p><p>Console: colour dummy device 80x30</p><p>Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)</p><p>Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)</p><p>Memory: 16MB = 16MB total</p><p>Memory: 13316KB available (1686K code, 838K data, 324K init)</p><p>Mount-cache hash table entries: 512</p><p>CPU: Testing write buffer coherency: ok</p><p>NET: Registered protocol family 16</p><p>PCI: IXP4xx is host</p><p>PCI: IXP4xx Using direct access for memory space</p><p>PCI: bus0: Fast back to back transfers enabled</p><p>dmabounce: registered device 0000:00:01.0 on pci bus</p><p>NetWinder Floating Point Emulator V0.97 (double precision)</p><p>Squashfs 2.2-r2 (released 2005/09/08) (C) 2002-2005 Phillip Lougher</p><p>Initializing Cryptographic API</p><p>HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096</p><p>N_HDLC line discipline registered.</p><p>IXP4xx Watchdog Timer: heartbeat 60 sec</p><p>Serial: 8250/16550 driver $Revision: 1.1.1.1 $ 2 ports, IRQ sharing disabled</p><p>ttyS0 at MMIO 0xc8001000 (irq = 13) is a XScale</p><p>io scheduler noop registered</p><p>PPP generic driver version 2.4.2</p><p>PPP Deflate Compression module registered</p><p>PPP BSD Compression module registered</p><p>NET: Registered protocol family 24</p><p>SLIP: version 0.8.4-NET3.019-NEWTTY (dynamic channels, max=256).</p><p>CSLIP: code copyright 1989 Regents of the University of California.</p><p>IXP4XX-Flash.0: Found 1 x16 devices at 0x0 in 16-bit bank</p><p> Amd/Fujitsu Extended Query Table at 0x0040</p><p>number of CFI chips: 1</p><p>cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.</p><p>Creating 5 MTD partitions on &quot;IXP4XX-Flash.0&quot;:</p><p>0x00000000-0x00060000 : &quot;boot&quot;</p><p>0x00060000-0x003b0000 : &quot;linux&quot;</p><p>0x001a0000-0x003b0000 : &quot;rootfs&quot;</p><p>0x003f0000-0x00400000 : &quot;nvram&quot;</p><p>0x003b0000-0x003f0000 : &quot;lang&quot;</p><p>i2c /dev entries driver</p><p>u32 classifier</p><p>&nbsp; &nbsp; OLD policer on </p><p>NET: Registered protocol family 2</p><p>IP route cache hash table entries: 256 (order: -2, 1024 bytes)</p><p>/proc/eth1_tm created</p><p>TCP established hash table entries: 1024 (order: 1, 8192 bytes)</p><p>TCP bind hash table entries: 1024 (order: 0, 4096 bytes)</p><p>TCP: Hash tables configured (established 1024 bind 1024)</p><p>TCP reno registered</p><p>ip_conntrack version 2.1 (128 buckets, 1024 max) - 268 bytes per conntrack</p><p>ip_conntrack_rtsp v0.6.21 loading</p><p>ip_nat_rtsp v0.6.21 loading</p><p>ip_tables: (C) 2000-2002 Netfilter core team</p><p>netfilter PSD loaded - (c) astaro AG</p><p>ipt_random match loaded</p><p>ip_conntrack_pptp version 3.0 loaded</p><p>ip_nat_pptp version 3.0 loaded</p><p>TCP bic registered</p><p>NET: Registered protocol family 1</p><p>NET: Registered protocol family 17</p><p>802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;</p><p>All bugs added by David S. Miller &lt;davem@redhat.com&gt;</p><p>VFS: Mounted root (squashfs filesystem) readonly.</p><p>Freeing init memory: 324K</p><br /><p>init started:&nbsp; BusyBox v1.1.0 (2006.10.12-05:58+0000) multi-call binary</p><p>init started:&nbsp; BusyBox v1.1.0 (2006.10.12-05:58+0000) multi-call binary</p><p>Starting pid 15, console /dev/console: &#039;/etc/rcS&#039;<br />ixp400: module license &#039;unspecified&#039; taints kernel.</p><p>ixp400_eth: Initializing IXP400 NPE Ethernet driver software v. 1.4A </p><p>ixp400_eth: CPU clock speed (approx) = 266 MHz</p><p>[warning] Warning: the NPE A component you specified does not exist</p><p>ixp400_eth: ixp0 is using NPEB and the PHY at address 16</p><p>ixp400_eth: ixp1 is using NPEC and the PHY at address 1</p><p>ixp400_eth: Use default MAC address 00:02:b3:01:01:01 for port 0</p><p>ixp400_eth: Use default MAC address 00:02:b3:02:02:02 for port 1</p><p>rc_init 137 <br />V2.00.17<br />device eth0 entered promiscuous mode</p><p>ap_name=(null),action=start<br />br0: port 1(eth0) entering learning state</p><p>br0: topology change detected, propagating</p><p>br0: port 1(eth0) entering forwarding state</p><p>start printk...<br />start wifi<br />ath0<br />Interface doesn&#039;t accept private ioctl...<br />maccmd (8BE0): Invalid argument<br />wlan up!!<br />start wifi return 0<br />Configuration file: /tmp/madwifi.conf<br />start syslog...<br />syslog_cmd=-R 192.168.1.100:514<br />Configure bridge br0 for EAPOL traffic.<br />start httpd...<br />madwifi_set_iface_flags: dev_up=0<br />Using interface ath0 with hwaddr 00:18:39:20:e9:7a and ssid &#039;EIAL-TRAINING&#039;<br />httpd_cfg.c, load_langpkt(), xchage(header.lang_id)=1, xchage(header.ver)=2000d<br />madwifi_set_ieee8021x: enabled=1<br />madwifi_configure_wpa: group key cipher=1<br />madwifi_configure_wpa: pairwise key ciphers=0xa<br />madwifi_configure_wpa: key management algorithms=0x2<br />madwifi_configure_wpa: rsn capabilities=0x0<br />madwifi_configure_wpa: enable WPA= 0x3<br />madwifi_set_iface_flags: dev_up=1<br />madwifi_set_privacy: enabled=1<br />WPA: group state machine entering state GTK_INIT<br />GMK - hexdump(len=32): 90 05 df 3d 3f 98 b1 52 9a 8e fd 82 42 20 69 4d d6 2f 6f 88 df 3e 4b 5b c9 27 eb 7c d1 cf a8 9c<br />GTK - hexdump(len=32): 30 84 fe 45 5c 03 48 24 7f b7 e2 90 c5 38 9e 33 24 b6 9c 2a cc fc f8 e7 74 ae d6 7f 19 3c 02 77<br />WPA: group state machine entering state SETKEYSDONE<br />madwifi_set_key: alg=TKIP addr=00:00:00:00:00:00 key_idx=1<br />Flushing old station entries<br />Deauthenticate all stations<br />start dhcpd...<br />killall: upnpd: no process killed<br />ap_name=firewall,action=stop<br />/usr/sbin/fw-scripts/firewall: .: 19: Can&#039;t open /tmp/firewall.conf<br />killall: reaim: no process killed<br />killall: IGMPProxy: no process killed<br />RTNETLINK answers: No such file or directory<br />RTNETLINK answers: No such file or directory<br />interface eth0.2 does not exist!<br />interface eth0.3 does not exist!<br />interface eth0.4 does not exist!<br />interface eth0.5 does not exist!<br />device eth0 is already a member of a bridge; can&#039;t enslave it to bridge br0.<br />SIOCGIFFLAGS: No such device<br />SIOCGIFFLAGS: No such device<br />SIOCGIFFLAGS: No such device<br />SIOCGIFFLAGS: No such device<br />ERROR: trying to remove VLAN -:eth0.2:- error: Invalid argument<br />ERROR: trying to remove VLAN -:eth0.3:- error: Invalid argument<br />ERROR: trying to remove VLAN -:eth0.4:- error: Invalid argument<br />ERROR: trying to remove VLAN -:eth0.5:- error: Invalid argument<br />phy_id=29<br />return 3<br />return 3<br />ap_name=dhcpd,action=create<br />ap_name=(null),action=restart<br />/usr/sbin/fw-scripts/firewall: .: 19: Can&#039;t open /tmp/firewall.conf<br />/etc/rcS: /etc/rcS: 91: cannot create /proc/sys/vm/pagetable_cache: Directory nonexistent<br />killall: reaim: no process killed<br />/usr/sbin/wizard: waiting for data on port UDP 916<br />killall: IGMPProxy: no process killed<br />RTNETLINK answers: No such file or directory<br />RTNETLINK answers: No such file or directory<br />interface eth0.2 does not exist!<br />interface eth0.3 does not exist!<br />interface eth0.4 does not exist!<br />interface eth0.5 does not exist!<br />device eth0 is already a member of a bridge; can&#039;t enslave it to bridge br0.<br />SIOCGIFFLAGS: No such device<br />SIOCGIFFLAGS: No such device<br />SIOCGIFFLAGS: No such device<br />SIOCGIFFLAGS: No such device<br />ERROR: trying to remove VLAN -:eth0.2:- error: Invalid argument<br />ERROR: trying to remove VLAN -:eth0.3:- error: Invalid argument<br />ERROR: trying to remove VLAN -:eth0.4:- error: Invalid argument<br />ERROR: trying to remove VLAN -:eth0.5:- error: Invalid argument<br />phy_id=29<br />return 3<br />return 3<br />Starting firewall<br />Please press Enter to activate this console. iptables: No chain/target/match by that name<br />iptables: No chain/target/match by that name<br />proxy:1</p><br /><p>Starting pid 435, console /dev/console: &#039;/bin/sh&#039;</p><br /><p>BusyBox v1.1.0 (2006.10.12-05:58+0000) Built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>-sh: can&#039;t access tty; job control turned off<br />~ #</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59239">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Magnusart</div>
					<div class="post-datetime">
						19 Nov 2007, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m new to this forum. I&#039;m wondering if there have been any improvment with getting a custom firmware to run on WRT300N v2? I would really like to have a different firmware in my WRT300n v2 router, and be able to do some more advanced network configuration (subnetting etc).</p><p>From what I can gather the issue seems to be that no developers have access to the hardware (being US based?) so no firmware is developed. Is this correct? As long as the version used is fairly stable (ie won&#039;t brick my router the first thing), I&#039;m willing to do some beta testing.</p><p>Thanks for any pointers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65360">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						19 Mar 2008, 04:28					</div>
				</div>
				<div class="post-content content">
					<p>anything new: at least, this is the command to flash the linksys firmware:<br /></p><div class="codebox"><pre><code> load -r -b 0x70000 -m (choose between &#039;http&#039; or &#039;tftp&#039;, assuming http, default tftp) http -h 192.168.0.9 (change this to your ip) /wrt300n.bin 
fis write -f 0x50000000 -b 0x70000 -l 0x3fffff</code></pre></div><p>then, type reset and hard reboot your router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65410">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						20 Mar 2008, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>ok, if you&#039;re using linksys&#039;s linuxbb utility from the WRT300N-2.00.20 sources, it is possible to create a bootable OpenWRT image, but it cannot read the partition table and fails booting.BTW does anyone know how to rebuild Linksys&#039;s RedBoot??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65417">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						20 Mar 2008, 04:45					</div>
				</div>
				<div class="post-content content">
					<p>you need a custom redboot to flash linux, i think. i upload it soon on davidkra.net</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65418">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						20 Mar 2008, 05:02					</div>
				</div>
				<div class="post-content content">
					<p>woot i got openwrt running, here&#039;s the boot log:<br /></p><div class="codebox"><pre><code>Uncompressing Linux................................................................. done, booting the kernel.
Linux version 2.6.21.6 (nbd@ds10) (gcc version 4.1.2) #2 Sun Sep 30 20:44:34 CEST 2007
CPU: XScale-IXP42x Family [690541f1] revision 1 (ARMv5TE), cr=000039ff
Machine: Linksys WRT300N v2
Memory policy: ECC disabled, Data cache writeback
CPU0: D VIVT undefined 5 cache
CPU0: I cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets
CPU0: D cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets
Built 1 zonelists.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
PID hash table entries: 64 (order: 6, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 16MB = 16MB total
Memory: 14172KB available (1788K code, 167K data, 76K init)
Mount-cache hash table entries: 512
CPU: Testing write buffer coherency: ok
NET: Registered protocol family 16
IXP4xx: Using 16MiB expansion bus window size
PCI: IXP4xx is host
PCI: IXP4xx Using direct access for memory space
PCI: bus0: Fast back to back transfers enabled
dmabounce: registered device 0000:00:01.0 on pci bus
Time: OSTS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NetWinder Floating Point Emulator V0.97 (double precision)
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler deadline registered (default)
IXP4xx Watchdog Timer: heartbeat 60 sec
Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0xc8001000 (irq = 13) is a XScale
IXP4XX Q Manager 0.2.1 initialized.
IXP4XX NPE driver Version 0.3.0 initialized
ixp_crypto: No HW crypto available
IXP4XX-Flash.0: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
Searching for RedBoot partition table in IXP4XX-Flash.0 at offset 0x3f0000
5 RedBoot partitions found on MTD device IXP4XX-Flash.0
Creating 5 MTD partitions on &quot;IXP4XX-Flash.0&quot;:
0x00000000-0x00080000 : &quot;RedBoot&quot;
0x00080000-0x00170000 : &quot;kernel&quot;
0x00170000-0x00290000 : &quot;rootfs&quot;
0x00260000-0x00290000 : &quot;rootfs_data&quot;
0x00290000-0x003f0000 : &quot;unallocated&quot;
0x003f0000-0x00400000 : &quot;FIS directory&quot;
i2c /dev entries driver
nf_conntrack version 0.5.0 (128 buckets, 1024 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP westwood registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
XScale DSP coprocessor detected.
ixp4xx_mac driver 0.3.1: eth0 on NPE-B with PHY[-1] initialized
ixp4xx_mac driver 0.3.1: eth1 on NPE-C with PHY[1] initialized
drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
VFS: Mounted root (squashfs filesystem) readonly.
Freeing init memory: 76K
Warning: unable to open an initial console.
- preinit -
jffs2 not ready yet; using ramdisk
mini_fo: using base directory: /
mini_fo: using storage directory: /tmp/root
- init -
init started:  BusyBox v1.4.2 (2007-09-29 10:12:09 CEST) multi-call binary

Please press Enter to activate this console. eth0: NPE-B not running
eth0: NPE-B not running
PPP generic driver version 2.4.2
wlan: 0.8.4.2 (svn r2568)
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, REGOPS_FUNC)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (svn r2568)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: 0.9.4.5 (svn r2568)
PCI: enabling device 0000:00:01.0 (0340 -&gt; 0342)
irq 25: nobody cared (try booting with the &quot;irqpoll&quot; option)
handlers:
[&lt;bf089258&gt;]
Disabling IRQ #25
MadWifi: unable to attach hardware: &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
jffs2: Too few erase blocks (3)



BusyBox v1.4.2 (2007-09-29 10:12:09 CEST) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (7.09) -----------------------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65420">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						20 Mar 2008, 05:31					</div>
				</div>
				<div class="post-content content">
					<p>flashing instructions are at <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Linksys/WRT300N">http://wiki.openwrt.org/OpenWrtDocs/Har … ys/WRT300N</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65612">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">dINIs</div>
					<div class="post-datetime">
						24 Mar 2008, 00:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Davidkra wrote:</cite><blockquote><p>you need a custom redboot to flash linux, i think. i upload it soon on davidkra.net</p></blockquote></div><p>Great job with WRT300N v2, David!<br />I am trying to flash my router to OpenWRT and I need a custom RedBoot. Unfortunately, I have no linux machine at hand. Could you please, public the custom RedBoot binary?<br />Thank you in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65629">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						24 Mar 2008, 10:05					</div>
				</div>
				<div class="post-content content">
					<p>ok<br />grab it at davidkra.net (<a href="http://davidkra.net/downloads2.html">http://davidkra.net/downloads2.html</a>)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65637">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">dINIs</div>
					<div class="post-datetime">
						24 Mar 2008, 12:26					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for RedBoot binary!<br />I have a question.<br />Step 10 in <strong>How to install OpenWRT</strong><br /><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Linksys/WRT300N">http://wiki.openwrt.org/OpenWrtDocs/Har … ys/WRT300N</a><br /></p><div class="codebox"><pre><code>fis write -f 0x50060000 -b 0x70000 -l 0x4d254</code></pre></div><p>But RedBoot image you provided is 4FD00 bytes length.<br />What length I should use&nbsp; in the fis command, 0x4FD00 or 0x4d254? Or it just typo in the instruction?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65638">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						24 Mar 2008, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>4fd00</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65642">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">dINIs</div>
					<div class="post-datetime">
						24 Mar 2008, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>Unable to program custom RedBoot.<br /></p><div class="codebox"><pre><code>RedBoot&gt; fis write -f 0x50060000 -b 0x70000 -l 0x4fd00                         
* CAUTION * about to program FLASH                                             
            at 0x50060000..0x500affff from 0x00070000 - continue (y/n)? y      
... Erase from 0x50060000-0x500b0000: .....                                    
RedBoot&gt;</code></pre></div><p>Why fis do not program the flash, only erase?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65643">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						24 Mar 2008, 13:39					</div>
				</div>
				<div class="post-content content">
					<p>it programs it<br />trust me <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />join #openwrt plz</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 24 Mar 2008, 13:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66087">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						31 Mar 2008, 21:23					</div>
				</div>
				<div class="post-content content">
					<p>Hmm... can it be i typoed the flash addr too? it should be 0x50000000, i think.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67504">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">awaqas</div>
					<div class="post-datetime">
						27 Apr 2008, 15:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi Davidkra, </p><p>Can you please help me in recovering my WRT300n v2.00.20 as I did somthing wrong and It is no longer booting.</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104212">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">talmou</div>
					<div class="post-datetime">
						4 Mar 2010, 10:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I realise this is an old thread, but I hope someone can help.</p><p>Here we go..</p><p>I have a wrt300n that crashed during a firmware upgrade (.17&nbsp; --&gt; .21)</p><p>I couldn&#039;t get a ping response on the default ip 192.168.1.1 or the one I had had it configured to 192.168.30.1</p><p>After some reading I came across redboot and the 30/30/30 reset.</p><p>I successfully booted into redboot, and tried to install openwrt from these instructions <a href="http://nuwiki.openwrt.org/oldwiki/OpenW">http://nuwiki.openwrt.org/oldwiki/OpenW</a> … ys/WRT300N</p><p>Everything seemed to go ok, but then I noticed the section at the bottom referring to recovering a failed linksys firmware update. Should have noticed this earlier.</p><p>I followed these new instructions and they worked, I was back into the original 2.00.17 linksys firmware.<br />However when I tried to reboot the device I got nothing.</p><p>After some investigation I discovered that the unit was booting into redboot and not the linksys firmware. I also found that if I let redboot start for more that 10 secs then try to &#039;telnet 192.168.0.10 9000&#039; and &#039;ctrl C&#039; &#039;d a couple of times, it would stop pinging in the redboot ip and start pinging on the linksys one, and I would be able to access the linksys web interface.</p><p>What&nbsp; I&#039;m trying to do is get the unit to automatically boot into the linksys firmware.</p><p>If anyone can give me any help with this it would be great.</p><br /><p>Thanks</p><p>Jim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108119">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">RollerDK</div>
					<div class="post-datetime">
						29 Apr 2010, 01:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I tried to flash my wrt300n v2 following the wiki (Davidkra): <a href="http://nuwiki.openwrt.org/oldwiki/OpenWrtDocs/Hardware/Linksys/WRT300N">http://nuwiki.openwrt.org/oldwiki/OpenW … ys/WRT300N</a></p><p>Redboot was flashed right and images (Backfire 10.03) right too. I think but I can&#039;t boot linux kernel.</p><p>This is my log on redboot:</p><p>----------------------------------------------------------------------------------------------------------<br />^C<br />Aborted by user<br />== Executing boot script in 0.000 seconds - enter ^C to abort<br />RedBoot&gt; fconfig -l -n<br />boot_script: true<br />boot_script_data:</p><p>boot_script_timeout: 0<br />bootp: false<br />bootp_my_gateway_ip: 0.0.0.0<br />bootp_my_ip: 192.168.0.10<br />bootp_my_ip_mask: 255.255.255.0<br />bootp_server_ip: 192.168.0.2<br />console_baud_rate: 115200<br />gdb_port: 9000<br />info_console_force: false<br />net_debug: false<br />net_device: npe_eth0<br />RedBoot&gt; fconfig boot:script_timeout 2<br />** entry &#039;boot:script_timeout&#039; not found<br />RedBoot&gt; fconfig boot_script_timeout 2<br />boot_script_timeout: Setting to 2<br />Update RedBoot non-volatile configuration - continue (y/n)? y<br />... Erase from 0x503f0000-0x50400000: .<br />RedBoot&gt; fis list<br />Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FLASH addr&nbsp; Mem addr&nbsp; &nbsp; Length&nbsp; &nbsp; &nbsp; Entry point<br />RedBoot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x50000000&nbsp; 0x50000000&nbsp; 0x00080000&nbsp; 0x00000000<br />kernel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x50080000&nbsp; 0x00070000&nbsp; 0x000F0000&nbsp; 0x00070000<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x50170000&nbsp; 0x00070000&nbsp; 0x00120000&nbsp; 0x00070000<br />FIS directory&nbsp; &nbsp; &nbsp;0x503F0000&nbsp; 0x503F0000&nbsp; 0x0000F000&nbsp; 0x00000000<br />RedBoot config&nbsp; &nbsp; 0x503FF000&nbsp; 0x503FF000&nbsp; 0x00001000&nbsp; 0x00000000<br />RedBoot&gt; fconfig -l -n<br />boot_script: true<br />boot_script_data:</p><p>boot_script_timeout: 2<br />bootp: false<br />bootp_my_gateway_ip: 0.0.0.0<br />bootp_my_ip: 192.168.0.10<br />bootp_my_ip_mask: 255.255.255.0<br />bootp_server_ip: 192.168.0.2<br />console_baud_rate: 115200<br />gdb_port: 9000<br />info_console_force: false<br />net_debug: false<br />net_device: npe_eth0<br />RedBoot&gt; fis init<br />About to initialize [format] FLASH image system - continue (y/n)? y<br />*** Initialize FLASH Image System<br />... Erase from 0x503f0000-0x50400000: .<br />RedBoot&gt; fis list<br />Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FLASH addr&nbsp; Mem addr&nbsp; &nbsp; Length&nbsp; &nbsp; &nbsp; Entry point<br />RedBoot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x50000000&nbsp; 0x50000000&nbsp; 0x00080000&nbsp; 0x00000000<br />FIS directory&nbsp; &nbsp; &nbsp;0x503F0000&nbsp; 0x503F0000&nbsp; 0x0000F000&nbsp; 0x00000000<br />RedBoot config&nbsp; &nbsp; 0x503FF000&nbsp; 0x503FF000&nbsp; 0x00001000&nbsp; 0x00000000<br />RedBoot&gt; load -r -b 0x70000 -m tftp openwrt-wrt300nv2-zImage<br />Raw file loaded 0x00070000-0x00144c77, assumed entry at 0x00070000<br />RedBoot&gt; fis create kernel<br />... Erase from 0x50080000-0x50160000: ..............<br />... Erase from 0x503f0000-0x50400000: .<br />RedBoot&gt; load -r -b 0x70000 -m tftp openwrt-ixp4xx-squashfs.img<br />Raw file loaded 0x00070000-0x0022ffff, assumed entry at 0x00070000<br />RedBoot&gt; fis create rootfs<br />... Erase from 0x50160000-0x50320000: ............................<br />... Erase from 0x503f0000-0x50400000: .<br />RedBoot&gt; fis load kernel<br />RedBoot&gt; fconfig boot_script_timeout 5<br />boot_script_timeout: Setting to 5<br />Update RedBoot non-volatile configuration - continue (y/n)? y<br />... Erase from 0x503f0000-0x50400000: .<br />RedBoot&gt; ether<br />RedBoot&gt; fis load kernel<br />RedBoot&gt; exec</p><p>--------------------------------------<br />It&#039;s need to restart router<br />--------------------------------------<br />Again on redboot:</p><p>^C<br />RedBoot&gt; boot;exe<br />** command abort - illegal memory access?<br />Can&#039;t execute Linux - invalid entry address<br />RedBoot&gt; fis list<br />Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FLASH addr&nbsp; Mem addr&nbsp; &nbsp; Length&nbsp; &nbsp; &nbsp; Entry point<br />RedBoot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x50000000&nbsp; 0x50000000&nbsp; 0x00080000&nbsp; 0x00000000<br />kernel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x50080000&nbsp; 0x00070000&nbsp; 0x000E0000&nbsp; 0x00070000<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x50160000&nbsp; 0x00070000&nbsp; 0x001C0000&nbsp; 0x00070000<br />FIS directory&nbsp; &nbsp; &nbsp;0x503F0000&nbsp; 0x503F0000&nbsp; 0x0000F000&nbsp; 0x00000000<br />RedBoot config&nbsp; &nbsp; 0x503FF000&nbsp; 0x503FF000&nbsp; 0x00001000&nbsp; 0x00000000<br />RedBoot&gt;</p><p>------------------------------------------------</p><p>Can anyone help me to load linux kernel?</p><p>I don&#039;t understand what&#039;s wrong!!!</p><p>Thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>