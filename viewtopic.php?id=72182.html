<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 2 Routers, can access clients from 2 different subnets?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p366020">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">seandex</div>
					<div class="post-datetime">
						28 Sep 2017, 01:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello I have 2 routers,</p><br /><p>the first router,<br />192.168.1.1 and then client computer(1) 192.168.1.151</p><p>the second router <br />192.168.2.1 and then client computer(2) 192.168.2.200</p><br /><p>is it possible for 192.168.151 to access 192.168.2.200? if so what should i enable it?</p><br /><p>for your information the seconds router have openvpn client installed and connected to remote server like road warrior(just wanted to mention this if this matters)</p><p>vpn is working fine. everythign works fine. just wanted access 192.168.2.200 from 192.168.1.151</p><p>I can&#039;t even ping computer(2) from computer(1) nor the second router.</p><p>Diagram, </p><p>INTERNET ---&gt; FIRST ROUTER ---&gt; SECOND ROUTER</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366032">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mikma</div>
					<div class="post-datetime">
						28 Sep 2017, 12:28					</div>
				</div>
				<div class="post-content content">
					<p>The problem is probably that NAT is enabled on the second router.</p><p>My solution would be to remove 192.168.2.x from the second router and add another network between the routers instead, use for example 192.168.3.x and configure 192.168.3.1 on the first router and 192.168.3.2 on the second router. This is to avoid asymmetric routing that may be a problem otherwise. Add this network to the lan zone on both routers if you want to.</p><p>Next disable NAT in the second router, and use 192.168.3.1 as default gateway. Add a static route to 192.168.2.0/255.255.255.0 via 192.168.3.2 on the first router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366037">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						28 Sep 2017, 13:40					</div>
				</div>
				<div class="post-content content">
					<p><strong>seandex</strong>, you should use port forwarding on second router. I am not sure, how Strongswan influences on it. What port do you want to access?</p><p><strong>mikma</strong>, second router serves to run vpn-client, your approach is trivial and not applicable in this case.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366068">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mikma</div>
					<div class="post-datetime">
						28 Sep 2017, 22:01					</div>
				</div>
				<div class="post-content content">
					<p><strong>ulmwind</strong>, of course it can be tweaked. I only mentioned the basics that need to be in place. VPN should work if you make exceptions for 192.168.0.0/22 on the router with vpn.</p>											<p class="post-edited">(Last edited by <strong>mikma</strong> on 28 Sep 2017, 22:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366073">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						29 Sep 2017, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t understand, what is your configuration? If nat is disabled in second router, how vpn client running on it may influence on computers in lan?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>