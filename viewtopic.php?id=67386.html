<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> DSL on TP-WR841N</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p337238">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ulelf</div>
					<div class="post-datetime">
						5 Sep 2016, 16:53					</div>
				</div>
				<div class="post-content content">
					<p>Hey there,</p><p>I installed OpenWRT on a TP-WR841N device. This Router has 4 LAN ethernet ports and one WAN port. Currently the WAN port is configured to be an ethernet interface. I can connect it statically or with dhcp to other devices. However what I need is a DSL connection on the WAN port. It should be possible for the hardware since in the description on amazon the possibility to connect via DSL is mentioned.</p><p>I already tried to configure the DSL connection as described here<br />/doc/howto/internet.connection<br />and here<br />/doc/uci/network<br />but none of them worked. I don&#039;t know that much about device drivers and interfaces and how they work together. Do I have to set up another driver (one for DSL) on the WAN port or can I configure DSL on top of an ethernet interface ?</p><p>My current configuration<br /></p><div class="codebox"><pre><code>#/etc/config/network
...
config interface &#039;wan&#039;
    option proto pppoe
    option username &#039;xxxxxxxxx@t-online.de&#039;
    option password &#039;xxxxxxxxx&#039;

config atm-bridge &#039;atm&#039;
    option unit 0
    option encaps llc
    option payload bridged
    option vpi 1
    option vci 32

config vdsl &#039;dsl
    option fwannex a
    option annex a2p
...</code></pre></div><p>I installed and started the br2684ctl service (whatever that is), but nothing changed. Ip link shows the following:<br /></p><div class="codebox"><pre><code>&gt; ip link
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc oqueue state UNKNOWN qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel master br-lan state UP qlen 1000
    link/ether ec:08:6b:6f:7c:68 brd ff:ff:ff:ff:ff:ff
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP qlen 1000
    link/ether ec:08:6b:6f:7c:69 brd ff:ff:ff:ff:ff:ff
4: wlan0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN qlen 1000
    link/ether ec:08:6b:6f:7c:68 brd ff:ff:ff:ff:ff:ff
13: br-lan: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP qlen 1000
    link/ether ec:08:6b:6f:7c:68 brd ff:ff:ff:ff:ff:ff</code></pre></div><p>I think there should be some interface for the DSL setup, but it isn&#039;t there.</p><p>I would be happy if anybody can help me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337239">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						5 Sep 2016, 16:57					</div>
				</div>
				<div class="post-content content">
					<p>The TL-WR841N can do PPPoE, but it doesn&#039;t include an xDSL modem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337241">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ulelf</div>
					<div class="post-datetime">
						5 Sep 2016, 17:10					</div>
				</div>
				<div class="post-content content">
					<p>So I have to buy a DSL modem. I take it that I don&#039;t need the br2684ctl and the config sections for atm-bridge and vdsl anymore then. The DSL modem translates DSL to Ethernet is that correct ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337256">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						5 Sep 2016, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>Correct.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>