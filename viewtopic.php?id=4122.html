<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Full Perl packages avail for testing</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p19129">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">frol</div>
					<div class="post-datetime">
						17 Jan 2006, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>I built full-blown Perl distribution for OpenWrt/mipsel.<br />Prebuilt packages (tested on WR RC4) for anyone interested:</p><p><a href="ftp://ftp.riss-telecom.ru/pub/openwrt/local/whiterussian/packages/perl/">ftp://ftp.riss-telecom.ru/pub/openwrt/l … ages/perl/</a></p><p><em>Edit: You probably will want to install perl_5.8.7-1_mipsel.ipk and perlbase-essential_5.8.7-1_mipsel.ipk in the first place</em></p><p>Package sources (including packages for some perl modules):</p><p><a href="ftp://ftp.riss-telecom.ru/pub/openwrt/local/sources/package-20060117.tar.gz">ftp://ftp.riss-telecom.ru/pub/openwrt/l … 117.tar.gz</a></p><p>To build from sources using OpenWrt SDK:</p><div class="codebox"><pre><code>tar xjvf OpenWrt-SDK-Linux-i686-1.tar.bz2
tar xzvf package-20060117.tar.gz
mv openwrt/package/perl* openwrt/package/libdb openwrt/package/libgdbm OpenWrt-SDK-Linux-i686-1/package/
cd OpenWrt-SDK-Linux-i686-1
make libdb-compile libgdbm-compile perl-compile</code></pre></div><p>Package sources currently lack Config.in files and doesn&#039;t generate dependencies.<br />Suggestions, bug reports and patches are welcome.</p><p><em>Update: Read this: <a href="ftp://ftp.riss-telecom.ru/pub/openwrt/local/README.perl">ftp://ftp.riss-telecom.ru/pub/openwrt/local/README.perl</a></em></p><p><em>Update: LWP, URI and HTML modules by Peter Colberg: <a href="http://www.cip.ifi.lmu.de/~colberg/OpenWRT/package/">http://www.cip.ifi.lmu.de/~colberg/OpenWRT/package/</a>&nbsp; <a href="http://www.cip.ifi.lmu.de/~colberg/OpenWRT/bin/packages/">http://www.cip.ifi.lmu.de/~colberg/Open … /packages/</a></em></p><p><em>[s]Update: Want to maintain perl for openwrt? Email me using E-Mail link on the left.[/s]</em></p><p><em>Update: Packages at <a href="ftp://ftp.riss-telecom.ru">ftp.riss-telecom.ru</a> are obsolete. Use packages from Peter Colberg: <a href="http://forum.openwrt.org/viewtopic.php?pid=52600#p52600">http://forum.openwrt.org/viewtopic.php?pid=52600#p52600</a></em></p>											<p class="post-edited">(Last edited by <strong>frol</strong> on 21 Mar 2008, 07:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19168">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						17 Jan 2006, 17:00					</div>
				</div>
				<div class="post-content content">
					<p>Good timing. I was just thinking about this this morning. I was trying to figure out how to use Kismet::Client and Net::Kismet with microperl.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19457">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">d1mag</div>
					<div class="post-datetime">
						20 Jan 2006, 23:46					</div>
				</div>
				<div class="post-content content">
					<p>Nice...</p><p>I will try to compile owperl (a module to the owfs-package) and see if I have any comments or suggestions to your package.<br />So far I have compiled the extensions owphp and owtcl with success.</p><p>/Christian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22781">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mrdvt92</div>
					<div class="post-datetime">
						14 Mar 2006, 06:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>frol wrote:</cite><blockquote><p>I built full-blown Perl distribution for OpenWrt/mipsel.<br />Prebuilt packages (tested on WR RC4) for anyone interested:</p></blockquote></div><p>Works great on WRTSL54GS. Took a bit of trail and error to get just the right batch of the modules installed.<br />I needed the newer Math::Trig and Math::Complex so I just copied CPAN over frol&#039;s.</p><p><a href="http://gpsd.davisnetworks.com/bin/view/Main/ProjectWRTSL54GS">http://gpsd.davisnetworks.com/bin/view/ … tWRTSL54GS</a></p><p>Thanks!<br />Mike</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p26664">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mtgstuber</div>
					<div class="post-datetime">
						6 May 2006, 08:03					</div>
				</div>
				<div class="post-content content">
					<p>Help!<br />&nbsp; I&#039;ve been trying to get Perl running on OpenWRT.&nbsp; I&#039;ve installed all the packages above.&nbsp; When I try to use CPAN to grab a module I get:</p><p>Untagged opnames: ne i_le scalar pushmark print vec trans regcreset substcont gnetent fttext i_predec dofile ftsize stat entereval setpriority backtick eof bit_or tied ehostent i_subtract system shmget time custom ftbinary ftrwrite getpriority enterwrite leaveeval readline enterloop ord concat sservent gsbyport bless wait seekdir ftdir exists ghostent ftfile ftewrite flop substr kill lineseq readdir stringify gprotoent seq exp ioctl gpwnam values eservent negate subst shift hex add sprotoent msgctl gv postdec msgrcv modulo epwent aelem rv2av goto accept ftrexec lc schomp i_postdec atan2 regcmaybe fcntl sysread closedir study list semctl setstate ref match abs pushre tell rcatline repeat leave sysopen int rv2hv fteowned flip syswrite glob pos i_modulo gservent gnbyaddr bit_xor syscall chr ftblk shmctl semop gnbyname orassign subtract mkdir ftzero leavewrite lstat regcomp lock multiply getc fileno leavesub msgget ftsock prototype exec sselect srand sockpair defined telldir ftsgid enter cond_expr reverse entersub aassign setpgrp send rv2sv gsockopt crypt symlink gpwuid log dbmopen hslice ftrowned i_ncmp leavetry return pow enetent msgsnd ftmtime dbmclose seek anoncode sqrt le anonhash getppid rename ghbyaddr sge chop i_preinc snetent caller schop wantarray each undef ftctime open ggrnam flock scmp qr delete i_lt rindex and getpeername ge quotemeta aslice i_ge tms divide die unshift ftchr open_dir uc warn helem last truncate predec i_gt ncmp ftsvtx threadsv getlogin length index sort xor chdir gt shmwrite prtf require next shmread ggrent exit ggrgid ftis egrent unlink ghbyname padav split right_shift null sin push gelem dbstate sle pack getpgrp padhv gsbyname pipe_op andassign keys gpbyname grepstart close ftrread lslice unstack select ssockopt formline leaveloop i_eq leavesublv gmtime chmod i_negate fork splice rewinddir postinc ftlink spwent refgen sgt sassign entertry not getsockname i_ne padsv listen mapwhile eq scope localtime lcfirst enteriter sgrent chown join const av2arylen ftsuid sne nextstate fttty shostent rv2cv range untie unpack method_named gvsv padany alarm method oct rv2gv tie fteread binmode i_add waitpid semget ucfirst pop bit_and redo fteexec ftpipe rmdir sysseek or shutdown eprotoent read gpwent i_multiply iter chroot stub i_divide readlink bind socket lt srefgen preinc utime recv anonlist grepwhile dump cos reset left_shift sprintf connect link aelemfast rand ftatime gpbynumber slt i_postinc complement chomp mapstart umask sleep</p><p>I answer all the prompts and then get the error:</p><p>Can&#039;t locate object method &quot;maybe_command&quot; via package &quot;MM&quot; at /usr/lib/perl5/5.8/CPAN/FirstTime.pm line 517, &lt;STDIN&gt; line 9.</p><p>Any thoughts?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p26665">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mtgstuber</div>
					<div class="post-datetime">
						6 May 2006, 09:17					</div>
				</div>
				<div class="post-content content">
					<p>Well I rebuilt Perl using the package files above, and the whiterussian RC5 SDK.&nbsp; Rather than reinstall the packages, I just tarred and copied over the whole output directory.&nbsp; Things seem to be working now . . . sort of.&nbsp; I need more modules.&nbsp; : )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p27100">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">frol</div>
					<div class="post-datetime">
						13 May 2006, 09:51					</div>
				</div>
				<div class="post-content content">
					<p>Here are some common questions and answers:</p><p><a href="ftp://ftp.riss-telecom.ru/pub/openwrt/local/README.perl">ftp://ftp.riss-telecom.ru/pub/openwrt/local/README.perl</a></p><p>If anyone wants to take maintainership over perl packages, mail me using &quot;E-Mail&quot; link on the left.</p>											<p class="post-edited">(Last edited by <strong>frol</strong> on 13 May 2006, 09:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48568">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						16 May 2007, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>Problem concerning Perl, and not strictly OpenWrt.<br />I installed frol&#039;s Perl on WRT54GL with WhiteRussian and works great.<br />I am trying now to install it on Compex WP54 main board (so under Kamikaze)</p><p>At first Perl didn&#039;t work.<br />On WRT54GL i had both usr/bin/perl5.8.7 and usr/bin/perl files (I think the second to be just a link). But on WP54 I had just /usr/bin/perl5.8.7. So I typed</p><div class="codebox"><pre><code>root@OpenWrt:~# cd /usr/bin/
root@OpenWrt:/usr/bin# ln perl5.8.7 perl</code></pre></div><p>And Perl now works right.<br />I installed also the following modules:</p><p>perlbase-autoloader - 5.8.7-1 -<br />perlbase-config - 5.8.7-1 -<br />perlbase-cpan - 5.8.7-1 -<br />perlbase-dynaloader - 5.8.7-1 -<br />perlbase-errno - 5.8.7-1 -<br />perlbase-essential - 5.8.7-1 -<br />perlbase-getopt - 5.8.7-1 -<br />perlbase-io - 5.8.7-1 -<br />perlbase-selectsaver - 5.8.7-1 -<br />perlbase-socket - 5.8.7-1 -<br />perlbase-symbol - 5.8.7-1 -<br />perlbase-time - 5.8.7-1 -<br />perlbase-xsloader - 5.8.7-1 -</p><p>But they seem not to work, because I am getting errors like:<br /></p><div class="codebox"><pre><code>Can&#039;t locate loadable object for module Time::HiRes in @INC (@INC contains: /usr/lib/perl5/5.8 .) at FILE_NAME line 13</code></pre></div><p>I am a newbie of Perl, I would like to know how Perl loads its modules. Maybe it would be enough for me to solve my problem.<br />Thanks</p>											<p class="post-edited">(Last edited by <strong>ggp81</strong> on 16 May 2007, 18:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48617">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						17 May 2007, 13:54					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@OpenWrt:~# perl -V
Summary of my perl5 (revision 5 version 8 subversion 7) configuration:
  Platform:
    osname=mipsel-linux, osvers=, archname=mipsel-linux-uclibc
    uname=&#039;linux wrtdev 2.4.27-1-386 #1 fri sep 3 06:24:46 utc 2004 i686 gnulinux &#039;
    config_args=&#039;undef&#039;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=undef use5005threads=undef useithreads=undef usemultiplicity=undef
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=y, bincompat5005=undef
  Compiler:
    cc=&#039;/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/mipsel-linux-uclibc-gcc&#039;, ccflags =&#039;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time  -DUSE_CROSS_COMPILE -I/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include -I/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include&#039;,
    optimize=&#039;-O&#039;,
    cppflags=&#039;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time  -DUSE_CROSS_COMPILE -I/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include -I/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include&#039;
    ccversion=&#039;&#039;, gccversion=&#039;3.4.4&#039;, gccosandvers=&#039;&#039;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=8
    ivtype=&#039;long&#039;, ivsize=4, nvtype=&#039;double&#039;, nvsize=8, Off_t=&#039;off_t&#039;, lseeksize=4
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#039;/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/mipsel-linux-uclibc-gcc&#039;, ldflags =&#039;-rdynamic -L/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib -L/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib&#039;
    libpth=/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib /home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib
    libs=-lgdbm -ldb -lnsl -ldl -lm -lcrypt -lutil -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lc
    libc=/home/frol/openwrt/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib/libc.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#039;&#039;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#039; &#039;
    cccdlflags=&#039;-fpic&#039;, lddlflags=&#039;-shared -rdynamic -L/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib -L/home/frol/openwrt/WR-RC4/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib&#039;


Characteristics of this binary (from libperl):
  Compile-time options: USE_LARGE_FILES
  Built under mipsel-linux
  Compiled at May  8 2007 13:20:38
  @INC:
    /usr/lib/perl5/5.8
    .
root@OpenWrt:~# cd /usr/lib/perl5/5.8/
root@OpenWrt:/usr/lib/perl5/5.8# ls
AutoLoader.pm    Carp.pm          Errno.pm         HiRes.pm         Socket.pm        auto             newgetopt.pl     vars.pm
CPAN             Config.pm        Exporter         IO               Symbol.pm        constant.pm      overload.pm      warnings
CPAN.pm          Config_heavy.pl  Exporter.pm      IO.pm            Time             lib.pm           strict.pm        warnings.pm
Carp             DynaLoader.pm    Getopt           SelectSaver.pm   XSLoader.pm      locale.pm        subs.pm
root@OpenWrt:/usr/lib/perl5/5.8# ls Time/
HiRes.pm      Local.pm      gmtime.pm     localtime.pm  tm.pm
root@OpenWrt:/usr/lib/perl5/5.8# uname -a
Linux OpenWrt 2.6.19.2 #1 Mon May 7 11:08:29 SGT 2007 mips unknown</code></pre></div><p>I compiled Perl for 2.4 Kernel and now i&#039;m using a 2.6, but I don&#039;t think that&#039;s a problem. Interpreter seems to run correctly pl scripts without &quot;use&quot; directive</p>											<p class="post-edited">(Last edited by <strong>ggp81</strong> on 17 May 2007, 13:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48979">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						23 May 2007, 13:03					</div>
				</div>
				<div class="post-content content">
					<p>Well, it was a kernel problem!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50242">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">szdombi</div>
					<div class="post-datetime">
						11 Jun 2007, 19:03					</div>
				</div>
				<div class="post-content content">
					<p>Is the package simple.pm available?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50536">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">d1mag</div>
					<div class="post-datetime">
						15 Jun 2007, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>I have managed to compile the owperl-module (a part of OWFS) with your perl packages.</p><p>The owfs and perl-packages are available at: <a href="http://owfs.sourceforge.net/openwrt/packages">http://owfs.sourceforge.net/openwrt/packages</a><br />if someone wants to try it.&nbsp; (I have only tried it on a WRT54G with whiterussian 0.9.)</p><br /><br /><div class="codebox"><pre><code>root@repeater3:~# ipkg install owfs

root@repeater3:~# ipkg install owperl
Installing owperl (2.6p5-14) to root...
Downloading http://home.mag.cx/openwrt/packages/./owperl_2.6p5-14_mipsel.ipk
Installing perl (5.8.7-1) to root...
Downloading http://home.mag.cx/openwrt/packages/./perl_5.8.7-1_mipsel.ipk
Installing perlbase-autoloader (5.8.7-1) to root...
Downloading http://home.mag.cx/openwrt/packages/./perlbase-autoloader_5.8.7-1_mipsel.ipk
Installing perlbase-config (5.8.7-1) to root...
Downloading http://home.mag.cx/openwrt/packages/./perlbase-config_5.8.7-1_mipsel.ipk
Installing perlbase-dynaloader (5.8.7-1) to root...
Downloading http://home.mag.cx/openwrt/packages/./perlbase-dynaloader_5.8.7-1_mipsel.ipk
Installing perlbase-essential (5.8.7-1) to root...
Downloading http://home.mag.cx/openwrt/packages/./perlbase-essential_5.8.7-1_mipsel.ipk
Installing perlbase-io (5.8.7-1) to root...
Downloading http://home.mag.cx/openwrt/packages/./perlbase-io_5.8.7-1_mipsel.ipk
Configuring owperl
Configuring perl
Configuring perlbase-autoloader
Configuring perlbase-config
Configuring perlbase-dynaloader
Configuring perlbase-essential
Configuring perlbase-io
Successfully terminated.
root@repeater3:~#


root@repeater3:~# echo &#039;OPTIONS=&quot;-p 3002 --fake 28 --fake 10&quot;&#039; &gt;&gt; /etc/default/owserver
root@repeater3:~# run-owfs
Using /lib/modules/2.4.30/fuse.o
root@repeater3:~# cat test1.pl 
#!/usr/bin/perl

use OW;
print &quot;Version: &quot;.OW::version.&quot;\n&quot;;
print OW::init(&quot;localhost:3002&quot;).&quot;\n&quot;;
print &quot;dir: &quot;.OW::get(&quot;/&quot;).&quot;\n&quot;;
print OW::get(&quot;10.67C6697351FF/temperature&quot;).&quot;\n&quot;;
OW::finish();

root@repeater3:~# ./test1.pl 
Version: 2.6p5
1
dir: structure/,bus.0/,uncached/,settings/,system/,statistics/,28.4AEC29CDBAAB/,10.67C6697351FF/,alarm/,simultaneous/
     36.4784
root@repeater3:~#</code></pre></div><p>Thanks for the help with the perl-package!</p><p>/Christian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50539">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						15 Jun 2007, 10:49					</div>
				</div>
				<div class="post-content content">
					<p>I tried to compile Perl on Kamikaze+2.6 kernel and it seems to be unstable <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />If someone is able to build a stable version of Perl on Kamikaze with 2.6 kernel, I would appreciate if he/she could drop me an e-mail. I am afraid the problem is dealing with Kamikaze or Kernel and not with Perl itself <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>ggp81</strong> on 15 Jun 2007, 10:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50541">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">d1mag</div>
					<div class="post-datetime">
						15 Jun 2007, 11:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ggp81 wrote:</cite><blockquote><p>I tried to compile Perl on Kamikaze+2.6 kernel and it seems to be unstable <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Do you have any Makefiles for Kamikaze that I could use?</p><p>/Christian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52493">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						18 Jul 2007, 17:10					</div>
				</div>
				<div class="post-content content">
					<p>I asked the question <a href="http://forum.openwrt.org/viewtopic.php?id=10117">elsewhere</a>, but I think this thread is a better place. Can someone help me with adding CRC32 module to perl. Hopefully, build it - since I am a little scared of building perl myself, or give noobie instructions how to do that. </p><p>I had buildroot installed; but I was afraid to brick the router and leave the family without phone or internet - so I waited for kamikaze binaries <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> Also, frol&#039;s instructions leave me with more questions than answers.</p><p>TIA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52600">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">peterco</div>
					<div class="post-datetime">
						21 Jul 2007, 11:31					</div>
				</div>
				<div class="post-content content">
					<p>Just a quick note regarding perl packages for kamikaze...</p><p>For whiterussian, I had previously ported frol&#039;s perl makefiles (2006-03-20)<br />to the new buildroot, and introduced a preliminary dependency scanning<br />mechanism to generate proper dependencies for the perlbase-* packages and<br />third-party CPAN module packages.</p><p>Now that others have already been successful[1] in compiling perl for kamikaze<br />using my adjusted makefiles, I added support for all architectures currently<br />in kamikaze. Thus, perl packages are no longer not only available for mipsel,<br />but also for armeb, mips, powerpc and i386 (and arm, once a prebuilt kamikaze<br />SDK is released for this arch).</p><p>Lacking time and hardware, I have not tested these packages[2] yet, so all<br />reports on success or failure are welcome. Please note that the dependencies<br />between perlbase-* packages might be a little too strict in a few cases<br />(especially regarding perlbase-unicore), so a little experimentation with<br />&quot;ipkg -force-depends&quot; might be helpful to save space.</p><p>For building your own custom CPAN module packages, have a look at the existing<br />perl-* module packages in my source tree[3], which can be checked out with<br />darcs[4].</p><p>Peter</p><p>[1] <a href="http://forum.openwrt.org/viewtopic.php?id=10117">http://forum.openwrt.org/viewtopic.php?id=10117</a><br />[2] <a href="http://www.cip.ifi.lmu.de/~colberg/openwrt/bin/">http://www.cip.ifi.lmu.de/~colberg/openwrt/bin/</a><br />[3] <a href="http://www.cip.ifi.lmu.de/~colberg/openwrt/packages/">http://www.cip.ifi.lmu.de/~colberg/openwrt/packages/</a><br />[4] <a href="http://darcs.net">http://darcs.net</a>/</p>											<p class="post-edited">(Last edited by <strong>peterco</strong> on 28 Jul 2007, 17:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52819">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">kazor</div>
					<div class="post-datetime">
						25 Jul 2007, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Great work Frol,</p><p>Thanks to your efforts, i&#039;ve managed to decomission a pc and cut 100w power usage.</p><p>The perl is now happily running on a usb key expanded r100/wl500g with openwrt RC5 !</p><p>Thanks </p><p>Kazor</p>											<p class="post-edited">(Last edited by <strong>kazor</strong> on 25 Jul 2007, 23:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53053">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">d1mag</div>
					<div class="post-datetime">
						29 Jul 2007, 22:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>peterco wrote:</cite><blockquote><p>Just a quick note regarding perl packages for kamikaze...</p><p>For whiterussian, I had previously ported frol&#039;s perl makefiles (2006-03-20)<br />to the new buildroot, and introduced a preliminary dependency scanning<br />mechanism to generate proper dependencies for the perlbase-* packages and<br />third-party CPAN module packages.</p></blockquote></div><p>I think you should modify your files/config.sh-*-linux-uclibc.in files and make sure they really works under 2.6-kernels.<br />I guess you have used the makefiles under <a href="http://www.cip.ifi.lmu.de/~colberg/openwrt/packages/perl/files/">http://www.cip.ifi.lmu.de/~colberg/open … erl/files/</a> , and I doubt they will work correctly according to some old posts. (Look at <a href="http://forum.openwrt.org/viewtopic.php?id=10944">http://forum.openwrt.org/viewtopic.php?id=10944</a> )</p><p>Some math-functions doesn&#039;t work under mipsel 2.6-kernels. You should really look more into the &quot;fpossize&quot; variable and think if size &quot;24&quot; in config.sh-mipsel-linux-uclibc.in is a good value. When I changed this to &quot;4&quot; + changed u32align, the math-functions seemed to work correctly.<br />d_u32align=&#039;define&#039;<br />fpossize=&#039;4&#039;</p><p>The Time:HiRes module need some config-vars to be defined, since it tries to compile, link and run some test-programs to verify existence of nanosleep() for example, and it doesn&#039;t work while cross-compiling perl.<br /># Fix problem with HiRes timer.<br />d_nanosleep=&#039;define&#039;<br />d_clock_gettime=&#039;define&#039;<br />d_clock_getres=&#039;define&#039;<br />d_clock_nanosleep=&#039;define&#039;<br />d_clock=&#039;define&#039;</p><p>I can&#039;t promise these change will be good for all platforms, but I hope you could change and verify it for mipsel at least.</p><p>/Christian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53183">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">peterco</div>
					<div class="post-datetime">
						1 Aug 2007, 00:28					</div>
				</div>
				<div class="post-content content">
					<p>Hello Christian,</p><div class="quotebox"><cite>d1mag wrote:</cite><blockquote><p>I think you should modify your files/config.sh-*-linux-uclibc.in files and make sure they really works under 2.6-kernels.<br />I guess you have used the makefiles under <a href="http://www.cip.ifi.lmu.de/~colberg/openwrt/packages/perl/files/">http://www.cip.ifi.lmu.de/~colberg/open … erl/files/</a> ,</p></blockquote></div><p>Yes, all my packages are compiled exactly from these sources.</p><div class="quotebox"><blockquote><p>and I doubt they will work correctly according to some old posts. (Look at <a href="http://forum.openwrt.org/viewtopic.php?id=10944">http://forum.openwrt.org/viewtopic.php?id=10944</a> )</p><p>Some math-functions doesn&#039;t work under mipsel 2.6-kernels. You should really look more into the &quot;fpossize&quot; variable and think if size &quot;24&quot; in config.sh-mipsel-linux-uclibc.in is a good value. When I changed this to &quot;4&quot; + changed u32align, the math-functions seemed to work correctly.<br />d_u32align=&#039;define&#039;<br />fpossize=&#039;4&#039;</p></blockquote></div><p>Following the above-mentioned post, I tested the included perl snippet with official images of kamikaze 7.07 for the platforms brcm-2.4 and brcm47xx-2.6 (on a WRT54Gv4), using my kamikaze perl packages. Contrary to the result described in the post, the correct values were printed.</p><p>In conclusion, I believe the problems experienced might be related to a uClibc version mismatch between compile time and runtime. Maybe the above poster tried running a perl binary compiled for whiterussian on kamikaze, or (taking a wild guess, for someone who has not followed the development of kamikaze) one for an older version of kamikaze on a newer version with major uClibc ABI changes?</p><p>(I tested my whiterussian perl package on brcm47xx-2.6, and promptly received a &quot;bus error&quot; executing the above script. However, the perl package compiled with a kamikaze brcm-2.4 SDK worked fine on brcm47xx-2.6, as expected.)</p><p>Using the original define of fpossize=&#039;24&#039; in the config.sh template, have there been any other math test cases which failed for you?</p><br /><div class="quotebox"><blockquote><p>The Time:HiRes module need some config-vars to be defined, since it tries to compile, link and run some test-programs to verify existence of nanosleep() for example, and it doesn&#039;t work while cross-compiling perl.<br /># Fix problem with HiRes timer.<br />d_nanosleep=&#039;define&#039;<br />d_clock_gettime=&#039;define&#039;<br />d_clock_getres=&#039;define&#039;<br />d_clock_nanosleep=&#039;define&#039;<br />d_clock=&#039;define&#039;</p><p>I can&#039;t promise these change will be good for all platforms, but I hope you could change and verify it for mipsel at least.</p><p>/Christian</p></blockquote></div><p>Thanks, I added these defines to all config.sh templates (and subsequently uploaded new perl packages, version 5.8.8-2).</p><p>Regards,<br />Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54898">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">CrazyScntst</div>
					<div class="post-datetime">
						1 Sep 2007, 00:52					</div>
				</div>
				<div class="post-content content">
					<p>First of all, a big thanks to <strong>frol</strong> and <strong>peterco</strong> for doing the great work on getting perl on OpenWrt.</p><p>I needed to get IPv6 multicast working in OpenWrt, so I&#039;ve done the legwork to create the necessary packages.<br />Binaries and patches (packages):<br /><a href="http://www.cs.drexel.edu/~ib29/dev/openwrt/">http://www.cs.drexel.edu/~ib29/dev/openwrt/</a></p><p>I&#039;ve tested this on whiterussian, but not kamikaze yet.&nbsp; Any comments welcome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p55976">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						19 Sep 2007, 12:20					</div>
				</div>
				<div class="post-content content">
					<p>As Perl now looks like to be pretty stable on all platform tested, we could ask the inclusion on the Buildroot by opening a ticket. Couldn&#039;t we?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56904">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">mlilien</div>
					<div class="post-datetime">
						2 Oct 2007, 23:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>i succesfully builded perl for kamikaze from petercos sources. But I got into trouble after that. <br />Now the perl-scripts from kamikazes build system use the new builded host-perl, not my system-perl anymore. <br />The Problem is that the environment of the host-perl is corrupted and searches for modules in /usr/local/lib/perl...<br />When I add &quot;-Dprefix=$(STAGING_DIR)/usr&quot; to&nbsp; the Configure options in Stage 1, the host-perl searches for<br />its modules in $(STAGING_DIR)/usr/lib/perl5/5.8.8/... .<br />This is wrong too, the modules are actually installed in $(STAGING_DIR)/usr/lib/perl5/5.8/...<br />Is there a way to fix that or to prevent kamikaze from using the new builded host-perl?</p><p>Regards,<br />Marcel</p>											<p class="post-edited">(Last edited by <strong>mlilien</strong> on 3 Oct 2007, 00:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61234">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">colchaodemola</div>
					<div class="post-datetime">
						4 Jan 2008, 04:11					</div>
				</div>
				<div class="post-content content">
					<p>could anyone release a perl version to kamikaze ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61792">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">byoung</div>
					<div class="post-datetime">
						16 Jan 2008, 23:46					</div>
				</div>
				<div class="post-content content">
					<p>First of all I should say thanks to everyone that has gotten this working.&nbsp; I really needed a full featured perl in OpenWRT but had no idea how to get it to build by myself, so this has been a lifesaver.</p><p>I&#039;ve run into a problem recently:&nbsp; I had this package building fine on the kamikaze 7.09 release, but I have had to switch to the development trunk to get support for some platforms that were unavailable in 7.09.&nbsp; I can&#039;t get this package to build in the current trunk buildroot.</p><p>Is there any plan to incorporate this package into kamikaze in addition to microperl?&nbsp; Or does anyone have patches or an updated Makefile that will allow it to build from the current trunk?</p><p>Thanks,<br />Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62028">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">S_J</div>
					<div class="post-datetime">
						21 Jan 2008, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>Thanks to those who helped getting perl to run under OpenWRT. Can anyone gives any clues as to how to get perl modules, such as Crypt::CBC and others, installed and working?<br />Any help is much appreciated!</p><p>SJ</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>