<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> kamikaze build - old problem??</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p61544">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">carlo</div>
					<div class="post-datetime">
						10 Jan 2008, 17:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,<br />I&#039;m new to the community and I was trying to compile openwrt trunk branch for an atheros device but without success.....</p><p>Probably, there is a bug in the build system or in my environment....</p><p>I&#039;m using Ubuntu 7.10 under VmWare on a Windows XP system.<br />I&#039;ve already installed all the needed packages (newest version):</p><p>gcc, g++, binutils, patch, bzip2, flex, bison, make, gettext, unzip, ncurses (libncurses-dev), libz-dev and<br />libc headers -- additional package dependencies: madwifi: uudecode(sharutils), privoxy: autoconf pkg-config automake (see FAQ)</p><p>Anyway, It seems that I&#039;m not able to build the toolchain (or something else) :-(</p><p>This is an extract of config.log :</p><p>configure:2151: $? = 0<br />configure:2153: gcc -v &lt;/dev/null &gt;&amp;5<br />Using built-in specs.<br />Target: i486-linux-gnu<br />Configured with: ../src/configure -v --enable-languages=c,c++,fortran,objc,obj-c++,treelang --prefix=/usr --enable-shared --with-system-zlib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.1.3 --program-suffix=-4.1 --enable-__cxa_atexit --enable-clocale=gnu --enable-libstdcxx-debug --enable-mpfr --enable-checking=release i486-linux-gnu<br />Thread model: posix<br />gcc version 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)<br />configure:2156: $? = 0<br />configure:2158: gcc -V &lt;/dev/null &gt;&amp;5<br />gcc: &#039;-V&#039; option must have argument<br />configure:2161: $? = 1<br />configure:2184: checking for C compiler default output file name<br />configure:2187: gcc -g -O2&nbsp; &nbsp; conftest.c&nbsp; &gt;&amp;5<br />/home/jars/Development/trunk/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-as: unrecognized option `-Qy&#039;<br />configure:2190: $? = 1<br />configure: failed program was:<br />| /* confdefs.h.&nbsp; */<br />|<br />| #define PACKAGE_NAME &quot;&quot;<br />| #define PACKAGE_TARNAME &quot;&quot;<br />| #define PACKAGE_VERSION &quot;&quot;<br />| #define PACKAGE_STRING &quot;&quot;<br />| #define PACKAGE_BUGREPORT &quot;&quot;<br />| /* end confdefs.h.&nbsp; */<br />|<br />| int<br />| main ()<br />| {<br />|<br />|&nbsp; &nbsp;;<br />|&nbsp; &nbsp;return 0;<br />| }<br />configure:2228: error: C compiler cannot create executables<br />See `config.log&#039; for more details.</p><p>The assembler doesn&#039;t like the -Qy option....</p><p>I found in the trac that somebody else had a similar problem <a href="https://dev.openwrt.org/ticket/2800">https://dev.openwrt.org/ticket/2800</a> solved with <a href="https://dev.openwrt.org/changeset/9717">https://dev.openwrt.org/changeset/9717</a> therefore it seems strange that it is happening again...there&#039;s been a regression problem on some file or it is a wrong build environment??</p><p>Should I start from a particular revision to solve???</p><p>Any hint is welcome because I&#039;m not able to go further....</p><p>Sorry for long post</p><p>Thank you<br />Carlo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61549">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">colchaodemola</div>
					<div class="post-datetime">
						10 Jan 2008, 18:45					</div>
				</div>
				<div class="post-content content">
					<p>apt-get install build-essential</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61558">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">carlo</div>
					<div class="post-datetime">
						10 Jan 2008, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your answer but It is not the problem....</p><p>I&#039;ve already installed build-essential.... :-( (sorry but It wasn&#039;t in the list of installed package but I&#039;ve already installed) </p><p>Now I&#039;m compiling with revision 9717 and for broadcom target...it seems going...but then I want to try with atheros....</p><p>I will post my results....</p><p>Thank you </p><p>Carlo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61563">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">carlo</div>
					<div class="post-datetime">
						10 Jan 2008, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>ok...no problem in compiling for target bradcom...same problem for atheros target...even with revision 9717...</p><p>/home/jars/Development/trunk/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-as: unrecognized option `-Qy&#039;</p><p>I don&#039;t know why but that&#039;s it..... :-(</p><p>At the momen I&#039;m able to compile only for broadcom target....</p><p>Any help is welcome...I don&#039;t know how to overcome the problem...</p><p>Carlo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61568">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">carlo</div>
					<div class="post-datetime">
						11 Jan 2008, 00:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi again,<br />I found the way to solve the problem....I hope that my solution can be useful for other developers.....</p><p>I compiled from latest trunk (revision &gt; 10000) but in the &quot;advanced configuration option&quot; -&gt; &quot;toolchain options&quot; -&gt; &quot;gcc compiler version&quot; I set to use gcc 3.4.6 instead of default (gcc 4.1.2).</p><p>The clue came from bradcom compiling...in fact, in that case, gcc 3.4.6 is used by default.....I simply compiled for atheros using the same gcc....</p><p>Bye, Carlo</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>