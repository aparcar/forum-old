<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cross compiling problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p362660">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">adnan</div>
					<div class="post-datetime">
						27 Jul 2017, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi all </p><p>To do cross compiling I am following this instruction : <a href="https://wiki.openwrt.org/doc/devel/crosscompile">https://wiki.openwrt.org/doc/devel/crosscompile</a> <br />In the 5th task they mentioned &quot;Download and unpack the code to be compiled, change into the unpacked directory&quot;<br />Is it means that I have to locate the downloaded code inside the openwrt build root directory ? or ? </p><p>why does it necessary to set the path variable? </p><p>I can not understand that where should I put the downloaded code to be compile. Inside the openwrt build root directory there is a file name &quot;Makefile&quot;&nbsp; and my downloaded source directory has a file named &quot;Makefile&quot; . Should I patch them for compiling?? </p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362673">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bernat.pedrol</div>
					<div class="post-datetime">
						27 Jul 2017, 19:53					</div>
				</div>
				<div class="post-content content">
					<p>You have to locate your code inside ~/OpenWrt-SDK/feeds/packages/utils.<br />There you create a directory and inside it, the &quot;exterior&quot; Makefile and inside another directory created by you called src, you have to put the &quot;interior&quot; Makefile which will compile your C code, and obviously, your C code.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362675">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						27 Jul 2017, 20:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adnan wrote:</cite><blockquote><p>Is it means that I have to locate the downloaded code inside the openwrt build root directory ? or ?</p></blockquote></div><p>No, you do not need to unpack the source code of your new program into the OpenWRT build directory. You can unpack it wherever you want to. In fact, it is recommended to unpack the sourcecode outside of the build directory.</p><div class="quotebox"><cite>adnan wrote:</cite><blockquote><p>why does it necessary to set the path variable?</p></blockquote></div><p>The path variable ensures that commands such as &#039;cc&#039; that the external source&#039;s makefile invokes get directed to the cross-compilation tools that are built as part of the OpenWRT Buildroot&#039;s build process. These tools are capable of building binary images that can run on the target system. This is the essence of what cross-compilation does.</p><div class="quotebox"><cite>adnan wrote:</cite><blockquote><p>I can not understand that where should I put the downloaded code to be compile. Inside the openwrt build root directory there is a file name &quot;Makefile&quot;&nbsp; and my downloaded source directory has a file named &quot;Makefile&quot; . Should I patch them for compiling??</p></blockquote></div><p>I recommend you unpack your new program&#039;s source code somewhere else, say, &#039;/home/user/myshinyprogram/&#039;</p><p>It is possible to integrate your external program to be a part of the OWRT build process, so that it gets compiled and placed to the root filesystem image that you can then flash to your router. This is known as adding a new package into the OWRT.</p><p>But I recommend you do not attempt this yet. Creating a new package is not necessary in order to test your program, and it is quite difficult to do unless you know the ins and outs of the OWRT build system.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362736">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">adnan</div>
					<div class="post-datetime">
						28 Jul 2017, 17:30					</div>
				</div>
				<div class="post-content content">
					<p>Thanks</p><p>It is working.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>