<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bricked Motorola wr850g v2 with 7.07 - help???</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p53563">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						8 Aug 2007, 05:13					</div>
				</div>
				<div class="post-content content">
					<p>I followed the instructions at <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Motorola/WR850G">http://wiki.openwrt.org/OpenWrtDocs/Har â€¦ ola/WR850G</a> to install 7.07 on my<br />Motorola wr850g v2, and it is not responding.&nbsp; Here is what I have tried so far, any suggestions are appreciated!!!</p><p>1) Following 4.2 in the instructions, installed Motorola 4.03<br />2) Downloaded openwrt-wr850g-squashfs.bin, renamed it to openwrt-wr850g-squashfs.trx per 4.2 instructions<br />3) Download was successful, clicked reboot on the web page, waited a while, no response<br />4) Tried to ping 192.168.10.1, no response<br />5) Added a serial cable as described in 5.2, no response at 9600 N,8,1<br />6) Tried debricking as described in section 6, no help<br />7) Tried debricking as described in section 8, no help</p><p>I can get this wr850g into two different running states by pressing the reset button at various times.</p><p>1) If I power on without pressing the button, all lights but Wireless come on briefly, then just Power and<br />link for the port that I am plugged into are on, and the link light blinks as I try to send it traffic.&nbsp; If I press<br />reset again at this point, then all lights but Wireless stay on, and my link light keeps blinking with traffic.</p><p>2) If I power on while pressing reset, hold it for a few seconds, all lights stay on except wireless<br />If I hold reset briefly again, then I get Power and link for the port that I am plugged into</p><p>Not sure what to try next.&nbsp; I should always be using 192.168.10.1/C to try to access this device?<br />Any other debricking ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53568">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">plagerism</div>
					<div class="post-datetime">
						8 Aug 2007, 12:58					</div>
				</div>
				<div class="post-content content">
					<p>I just started fiddling with openwrt(7.0.7) on my motorolla wr850g, and ran into similar issues.&nbsp; <br />When the device boots up it isn&#039;t at the same ip address as before it was flashed. <br />I can&#039;t remember what it is exactly( I saw it in the documentation somewhere) but I do believe it was 192.168.0.1.<br />Just set yourself up with an ip in that subnet 192.168.0.2-&gt;192.168.0.254&nbsp; &nbsp;and you should be able to contact it.<br />If that is&nbsp; not the ip, then try different subnets 192.168.x.1</p><p>Now I have a question about the release of 7.0.7, alot of posts lay mention of the nvram program, which I cannot find in the packages or on the squashfs, has this program been depreciated in 7.0.7?&nbsp; </p><p>Also my WR850G is a V2 and the wireless was not recognized I tried inserting the bcm43xx kernel modules, to no avail.&nbsp; Anyone know an exact process to getting the wireless interface up on these devices.</p><br /><p>Other than these two problems I am absolutely amazed as to how far this distrobution has come, and I can&#039;t wait to brag to my geek friends when I get to work today.</p><br /><p>Thank you in Advance</p><p>Terry</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53581">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						8 Aug 2007, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>I set my IP to 192.168.1.10, and set my mask to 255.0.0.0 and used a scan tool to scan for ICMP and ports 23 and 80 on all addresses from 192.168.0.1 to 192.168.100.1, and got no responses.</p><p>Does anyone know of a more effective set of debricking procedures for this unit?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53585">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						8 Aug 2007, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>Also, can anyone confirm my serial port connections and speed?</p><p>I connected using the wr850G serial port #1 pin locations described in section 5.2<br />I connected the TX to pin 2 on my DB9 (PC&#039;s RX), RX to pin 3 on my DB9 (PC&#039;s TX), and Ground to pin 5.</p><p>I am trying 9600, 8, N, 1</p><p>Are these connections and data rates correct, or were the TX and RX in 5.2 supposed to be where the PC&#039;s TX and RX go?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53592">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						8 Aug 2007, 21:52					</div>
				</div>
				<div class="post-content content">
					<p>I used a serial monitor and it appears that my wiring is correct.&nbsp; I tried 9600 and 115200 and a few others, no response during bootup or otherwise.</p><p>So, back to asking for any tried and true debricking methods??????</p><p>For that matter, has anyone gotten 7.07 to work on the wr850g?&nbsp; It says that its &quot;supported&quot;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53594">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">e226329</div>
					<div class="post-datetime">
						8 Aug 2007, 22:53					</div>
				</div>
				<div class="post-content content">
					<p>have you try failsafe mode ?</p><p>you can use sniffer to determine moment for entering filesafe (if firmware at least partly alive). See <a href="http://wiki.openwrt.org/OpenWrtDocs/Troubleshooting">http://wiki.openwrt.org/OpenWrtDocs/Troubleshooting</a><br />You should connect&nbsp; Router &lt;-&gt; Hub &lt;-&gt; PC to eliminate time lag between powering router on and link comming up on pc</p><p>I&#039;m almost sure that console speed is 115200-8-n-1. if your serial cable connection is ok, you should see at least cfe.</p><p>Good luck !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53602">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						9 Aug 2007, 03:04					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I thought of that, and I have a hub connected between the router and the PC - otherwise the PC&#039;s network interface would not stay up when I tried various methods of pinging right after powerup.&nbsp; I am working on a JTAG cable right now, but the files that come with it are all for Linksys routers.&nbsp; What do I need to upload to fix my Motorola?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53603">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						9 Aug 2007, 03:16					</div>
				</div>
				<div class="post-content content">
					<p>One more note - it does appear that the router is trying to work on 192.168.1.1, but it has lost its MAC address, or it got overwritten?</p><p>If I view my ARP cache after trying to scan for the device, it shows an invalid entry 00-00-00-00-00-00 for address 192.168.1.1</p><p>How do I fix the MAC address????</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53605">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">NickSwan</div>
					<div class="post-datetime">
						9 Aug 2007, 06:11					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I have a working JTAG cable, it IDs my hardware and communicates with it.&nbsp; I backed up my CFE and NVRAM and viewed them in a hex editor and they seem to have various valid data.&nbsp; I tried erasing the NVRAM as suggested, but that did not help.&nbsp; In the hex editor I see boot_wait=off in the NVRAM.&nbsp; I tried to edit it to =on and then followed the boot_wait instructions, but it made no difference, so maybe the kernel or something else is fubar.</p><p>1) Has ANYONE gotten 7.07 to work on a wr850g v2, so I&#039;m not wasting my time???&nbsp; Or suggest a different version?</p><p>2) Any helpful hints about how to complete the debrick now that I have the JTAG working?&nbsp; Where can I find the right files to upload with my shiny new JTAG?&nbsp; I have searched around but have not found any details about people bringing wr850g&#039;s back from the dead with JTAG?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58017">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">yans</div>
					<div class="post-datetime">
						25 Oct 2007, 00:15					</div>
				</div>
				<div class="post-content content">
					<p>NickSwan <br />Did You fix the device ? Let me know of current status if You still need some help....</p><br /><p>Michal</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58346">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Hugh</div>
					<div class="post-datetime">
						1 Nov 2007, 06:39					</div>
				</div>
				<div class="post-content content">
					<p>For what it is worth, I got 7.09 working on my WR850Gv2.&nbsp; In the process, I learned some things and have updated the wiki page on this device.</p><p>Out of the box, 7.09 misidentified the hardware.&nbsp; One consequence (I think) was that the WAN port was treated as a LAN port and LAN4 was treated as the WAN port.&nbsp; Is there any chance that that problem exists in 7.07?&nbsp; If so, try using a different WAN port to talk with the router.</p><p>I don&#039;t think wiping NVRAM is a good idea.&nbsp; Can you restore it?&nbsp; I think that the MAC address lives there so that could explain your observation of invalid zero MAC addresses.&nbsp; The proper MAC address is printed on the label on the bottom of my router and so it is probably on yours too.</p><p>Kamikaze doesn&#039;t use NVRAM for much.&nbsp; It does read it to discover what platform it is running on (kernel file diag.c).&nbsp; That detection is broken with respect to this router as I have mentioned above.</p><p>I have submitted a patch to trac about a month ago to fix diag.c but I don&#039;t think that any action has happened.&nbsp; I don&#039;t understand the informal structure of the project to understand why nothing has happened.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>