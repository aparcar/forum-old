<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> &#039;hardwiring&#039; bootup configuration options?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p45549">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Vchat20</div>
					<div class="post-datetime">
						30 Mar 2007, 14:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi there. Hoping this little question doesn&#039;t come off too newbish, but to be frank im fairly green to OpenWRT (though I already have a dd-wrt enabled router going and I&#039;ve had some experience with various linux distros here and there and can hold my own on a command line environment given access to google to look up stuff <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> )</p><p>Anyways, I have this FON router here which I have some pretty odd expectations of. Those being to nuke anything that makes it a routing device, give it one interface/ip off the single WAN port which would be a dhcp address from the upstream dd-wrt router, then with ssh access, turn it into a micro-server type device to run small apps here and there like an httpd, ftpd, etc.. coupled with a CIFS mounted share. It&#039;s already half on it&#039;s way with the antenna being fully removed (right now it is making good use as an external antenna for the minipci card on my dell laptop which alternatively uses mere pieces of scrap metal under the LCD bezel as antennas), essentially (and literally) neutering the device. Though it still seems to get a decent signal out locally so I could probably keep that option open for certain applications later on.</p><p>Well, my first problem is this: I&#039;ve tried numerous kamikaze atheros builds including one from x-wrt.org and all seem to run fine (well, the x-wrt.org build seemed to nag about a missing nvram mount on numerous pages. if this could be explained, i&#039;d greatly appreciate it.), but I can&#039;t seem to get it to even hold a custom set static ip on eth0. It all reverts after a reboot and it ends up at 192.168.1.1 again which conflicts with the upstream router.</p><p>Is there any way around this so that it will hold the configuration after a reboot? Or am I looking at a custom compile of kamikaze with a custom boot script of sorts compiled into the image?</p><p>Thanks for any help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45550">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						30 Mar 2007, 14:11					</div>
				</div>
				<div class="post-content content">
					<p>Upon bootup it should reformat the flash and give you a jffs2 filesystem, at that point anything you change on the filesystem should persist across reboots.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45551">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Vchat20</div>
					<div class="post-datetime">
						30 Mar 2007, 14:14					</div>
				</div>
				<div class="post-content content">
					<p>Well, I&#039;ll be honest with you. The only thing I tried was an &#039;ifconfig -a eth0 192.168.1.5&#039; to give it a static ip. at that point it took and I could re-telnet in from the new address. but once I called a &#039;reboot&#039; from the telnet interface and it came back up, I found it reverted back to 192.168.1.1 . I don&#039;t know if I should attempt something else here or what.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45584">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Vchat20</div>
					<div class="post-datetime">
						31 Mar 2007, 07:09					</div>
				</div>
				<div class="post-content content">
					<p>Well, I kinda found a way around this little issue. I just went in and compiled my own copy of the image with the WAN interface set for dhcp by default. All seems to be running real smooth so far. I did run into a minor problem right off the bat with a gateway address not being set on the adapter so access to anything off the LAN would error out. I edited that into the /etc/config/network file and rebooted and it held fine.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>