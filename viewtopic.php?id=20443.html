<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kamikaze/8.09: console query</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p88633">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nina</div>
					<div class="post-datetime">
						25 May 2009, 04:32					</div>
				</div>
				<div class="post-content content">
					<p>Friends:</p><p>I grant to all geeks free license to take offense at my newbie question that follows.</p><p>I am using K/8.09 c/w LuCi to manage my ISP access via WRT54GL. And it works only ... perfectly! And was very simple to install. The writers are to be congratulated for a wizard job!</p><p>Aber.<br />Now I need to get out and connect to smxi (to dist-upgrade my sidux OS) from console (with X-server shut down). And I can&#039;t find how to do that. In console, I&#039;m able to log in to my Kamikaze software. And to call up &quot;help&quot;- which doesn&#039;t. So what do I do next to get out to the web- where do I find a howto, please?</p><p>Friendly greetings from Alberta. Spring has f i n a l l y sprung!<br />nina</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88657">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						25 May 2009, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>You want to use smxi scripts on kamikaze? I am not familiar with smxi, but I would assume you should do that on your desktop. Logging into kamikaze won&#039;t help you.<br />If you need help with smxi you should read it&#039;s online docu or ask questions in the appropriate forum.<br /><a href="http://smxi.org/docs/smxi-manual.htm">http://smxi.org/docs/smxi-manual.htm</a><br /><a href="http://techpatterns.com/forums/forum-33.html">http://techpatterns.com/forums/forum-33.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88715">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nina</div>
					<div class="post-datetime">
						26 May 2009, 04:51					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for replying, MMCM. You have misunderstood me; I&#039;m sorry for having been so unclear.<br />To access internet from console, I (appear to) need to be logged onto my router. So I: ssh 192.168.x.x, and give my root password, and it&#039;s accepted.<br />But then? SVP, how do I then ask console to connect me to a URL in the outside world?<br />nina</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88802">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						27 May 2009, 01:42					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t really know what smxi is, but I suppose it has something to do with upgrading your desktop machine. You do not need to log into the router in order to access the internet. Just run the necessary commands on your desktop machine. Any command that would work in a terminal while running X should work in a virtual console too (without X). E.g. Try &quot;ping google.com&quot;. Press ctrl-c to kill it. If you are still confused I think the smxi forums would probably be the best place to ask. Your router should be irrelevant. The router does not know if you are running X,&nbsp; so if you do not need to jog into it to access the internet when you are running X, you will also not need to when you are not running X.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88804">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						27 May 2009, 01:57					</div>
				</div>
				<div class="post-content content">
					<p>Can&#039;t you just use an SSH tunnel to achieve this?&nbsp; If it&#039;s an X11 application just make sure you have used -X parmeter and/or enabled the &quot;forwardX11&quot; flags in your SSH configuration files.&nbsp; Alternatively if it&#039;s not X11 just use port forwarding e.g. ssh -L 5090:internalIP:5090 root@router and then from your local system connect to localhost:5090.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 27 May 2009, 02:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88829">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						27 May 2009, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>vincentfox: I think we need more info.&nbsp; I doubt any SSH tunnels etc. are necessary.&nbsp; To access the internet from a virtual console on the desktop machine you don&#039;t need to do anything that you wouldn&#039;t have to do if you were trying to access the internet from X.</p><p>nina: If you want to browse the web from the virtual console you will need a text-based browser (e.g. Lynx, Links or w3m) on your desktop machine, but I doubt this is what you are trying to do.&nbsp; If you just need to run the smxi script(s) then just run them and see what happens.&nbsp; Why do you think you need to SSH to the router first?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88870">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ratbug</div>
					<div class="post-datetime">
						28 May 2009, 00:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nina wrote:</cite><blockquote><p>Friends:<br />Now I need to get out and connect to smxi (to dist-upgrade my sidux OS) from console (with X-server shut down)</p></blockquote></div><p>Explain in layman term</p><br /><p> </p><div class="quotebox"><cite>Woodin wrote:</cite><blockquote><p>If you want to browse the web from the virtual console you will need a text-based browser (e.g. Lynx, Links or w3m) on your desktop machine, but I doubt this is what you are trying to do.&nbsp; If you just need to run the smxi script(s) then just run them and see what happens.&nbsp; Why do you think you need to SSH to the router first?</p></blockquote></div><p>I seconfd that if that he/she means</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88873">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">nina</div>
					<div class="post-datetime">
						28 May 2009, 04:03					</div>
				</div>
				<div class="post-content content">
					<p>Thank you all for replying. <br />Please ignore my reference to smxi- it&#039;s only where I want to go. Sorry for that red herring.<br />So. In pure console, not having started x; as root, from root directory:<br />I did: ping google.com<br />and lines displayed at intervals, ad infinitem, which began:<br />64 bytes from gw-in-f100.google.com (74.125.67.100);<br />And control-c let me back to my root prompt.<br />I then did: man elinks&nbsp; &nbsp; &nbsp;Yes, man elinks is there.<br />q put me back to root prompt. I then did: elinks&nbsp; &nbsp;It displayed.<br />I fed elinks the URL HTTP:/www.google.com , pressed enter, and a new screen displayed, showing only &quot;Making connection&quot; And nothing else happens. At the top of the screen one can access menus: File, View, Link, etc.<br />But the connection isn&#039;t made.<br />I offered another URL: same result.<br />So to put this as politely as I can: why am I not connecting if not because my router&#039;s not letting me out because I&#039;m not logged on?</p><p>Sidux (my OS) frowns on users going online as root. I haven&#039;t asked, but could there perhaps be a built-in prevention which one has to explicitely over-ride?</p><p>Thanks, all. Any patience left for further suggestions? This is all rocket surgery to me.<br />nina</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88903">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						28 May 2009, 18:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nina wrote:</cite><blockquote><p>Thank you all for replying. <br />Please ignore my reference to smxi- it&#039;s only where I want to go. Sorry for that red herring.<br />So. In pure console, not having started x; as root, from root directory:<br />I did: ping google.com<br />and lines displayed at intervals, ad infinitem, which began:<br />64 bytes from gw-in-f100.google.com (74.125.67.100);<br />And control-c let me back to my root prompt.</p></blockquote></div><p>This means that you are able to send packets from your desktop through your router all the way to google and get replies from google again, so your Internet access looks like it&#039;s working.&nbsp; DNS lookups are also working.&nbsp; It is, of course, possible that there is a firewall that prevents you from talking to web servers on port 80 and that you have to use a proxy server.&nbsp; This firewall could potentially be at your ISP, but I think that&#039;s unlikely.&nbsp; It could also be on your router, but then you should probably know it&#039;s there <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Do you use a proxy server from your GUI browser?&nbsp; If so, put the same settings into elinks.</p><p>If you have netcat installed on your desktop machine, you could try:<br />echo -en &quot;HEAD / HTTP/1.0\r\nHost: <a href="http://www.google.com">www.google.com</a>\r\n\r\n&quot; | nc <a href="http://www.google.com">www.google.com</a> 80</p><p>to see if you can connect to Google&#039;s web site.&nbsp; That should output something like:</p><div class="codebox"><pre><code>HTTP/1.0 200 OK
Cache-Control: private, max-age=0
Date: Thu, 28 May 2009 14:49:48 GMT
Expires: -1
Content-Type: text/html; charset=ISO-8859-1
Set-Cookie: PREF=ID=bcd1f930d8472cde:TM=1243522188:LM=1243522188:S=9f4L1222btBLc-Uj; expires=Sat, 28-May-2011 14:49:48 GMT; path=/; domain=.google.com
Server: gws</code></pre></div><p>I it takes a long time and then prints out a &quot;Connection timed out&quot; message, then there&#039;s definitely something blocking port 80.</p><div class="quotebox"><cite>nina wrote:</cite><blockquote><p>I then did: man elinks&nbsp; &nbsp; &nbsp;Yes, man elinks is there.<br />q put me back to root prompt. I then did: elinks&nbsp; &nbsp;It displayed.<br />I fed elinks the URL HTTP:/www.google.com , pressed enter, and a new screen displayed, showing only &quot;Making connection&quot; And nothing else happens.</p></blockquote></div><p>Just in case that wasn&#039;t a typo, make sure you use a lowercase &quot;http&quot; and two slashes.&nbsp; i.e. <a href="http://www.google.com">http://www.google.com</a></p><div class="quotebox"><cite>nina wrote:</cite><blockquote><p>At the top of the screen one can access menus: File, View, Link, etc.<br />But the connection isn&#039;t made.<br />I offered another URL: same result.<br />So to put this as politely as I can: why am I not connecting if not because my router&#039;s not letting me out because I&#039;m not logged on?</p></blockquote></div><p>Let me ask my question again <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; You don&#039;t need to log on to the router in order to browse from a GUI browser, right?&nbsp; So why should you when you try from the console?</p><div class="quotebox"><cite>nina wrote:</cite><blockquote><p>Sidux (my OS) frowns on users going online as root. I haven&#039;t asked, but could there perhaps be a built-in prevention which one has to explicitely over-ride?</p></blockquote></div><p>It&#039;s possible, I think, but highly improbable.&nbsp; You&#039;d have to ask on the Sidux mailing lists/forums.</p><div class="quotebox"><cite>nina wrote:</cite><blockquote><p>Thanks, all. Any patience left for further suggestions? This is all rocket surgery to me.<br />nina</p></blockquote></div><p>My first guess, given what you&#039;ve said in this message, is that you need to configure the proxy settings in elinks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89098">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">nina</div>
					<div class="post-datetime">
						2 Jun 2009, 04:09					</div>
				</div>
				<div class="post-content content">
					<p>Thank you all very much for your friendly and thoughtful replies.<br />Responding to Wodin.</p><p>I am not using a proxy server.<br />Two machines running on my desk (connected to the same router) are, by default, allowed by my router to pass to the web.<br />On this third machine (the one giving me grief), even with X-server running, I must log in to LuCi b/4 being allowed to pass.<br />I don&#039;t appear to have netcat installed.</p><p>There&#039;s some very small glitsch in my sidux system, methink. And now I think I&#039;ll stop trying your patience, and file a query with sidux. I hope /expect to come back and report success shortly.</p><p>nina</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89108">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						2 Jun 2009, 11:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nina wrote:</cite><blockquote><p>Two machines running on my desk (connected to the same router) are, by default, allowed by my router to pass to the web.<br />On this third machine (the one giving me grief), even with X-server running, I must log in to LuCi b/4 being allowed to pass.</p></blockquote></div><p>OK, I&#039;ve never used LuCi, so I didn&#039;t know it had this functionality.<br />In that case, you could try logging in to the router using elinks.&nbsp; (I&#039;m guessing you use Firefox or something like that to log in to LuCi normally.)<br />If elinks doesn&#039;t work for some reason, you could try to run Firefox on your desktop, but display it over the network on one of your other machines.<br />e.g. on one of the other machines that is running an X server, start up a terminal and run: &quot;ssh -X desktopmachine&quot; and log in.&nbsp; Then at the command line, run &quot;firefox&quot; and the window should pop up on the machine you&#039;re sitting at, even though Firefox is running on the &quot;desktopmachine&quot; without the X server running on &quot;desktopmachine&quot;.</p><p>This might not work, depending on your sshd configuration, though.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>