<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Opewrt support for  mini2440</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p247572">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hades</div>
					<div class="post-datetime">
						20 Sep 2014, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>hiï¼Œguys<br />i want to tansplant openwrt to mini2440 (arm s3c2440), here is boot information:<br />OK<br />Using machid 0x7cf from environment<br />MACH_TYPE_ID_HEX=0x7cf MACH_TYPE_ID_DEC=1999<br />LINUX_BOOT_CMD=root=/dev/mtdblock3 console=ttySAC0,115200 rootfstype=squashfs,ext2</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Booting Linux on physical CPU 0x0<br />[&nbsp; &nbsp; 0.000000] Linux version 3.10.49-hades (hades@PandoraBox-Server) (gcc version 4.8.3 (PandoraBox/Linaro GCC 4.8-2014.04 svn-r127) ) #5 Thu Sep 18 14:36:37 CST 2014<br />[&nbsp; &nbsp; 0.000000] CPU: ARM920T [41129200] revision 0 (ARMv4T), cr=c0007177<br />[&nbsp; &nbsp; 0.000000] CPU: VIVT data cache, VIVT instruction cache<br />[&nbsp; &nbsp; 0.000000] Machine: MINI2440<br />[&nbsp; &nbsp; 0.000000] Memory policy: ECC disabled, Data cache writeback<br />[&nbsp; &nbsp; 0.000000] CPU S3C2440A (id 0x32440001)<br />[&nbsp; &nbsp; 0.000000] S3C24XX Clocks, Copyright 2004 Simtec Electronics<br />[&nbsp; &nbsp; 0.000000] S3C244X: core 405.000 MHz, memory 101.250 MHz, peripheral 50.625 MHz<br />[&nbsp; &nbsp; 0.000000] CLOCK: Slow mode (1.500 MHz), fast, MPLL on, UPLL on<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />[&nbsp; &nbsp; 0.000000] Kernel command line: root=/dev/mtdblock3 console=ttySAC0,115200 rootfstype=squashfs,ext2<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Memory: 64MB = 64MB total<br />[&nbsp; &nbsp; 0.000000] Memory: 53832k/53832k available, 11704k reserved, 0K highmem<br />[&nbsp; &nbsp; 0.000000] Virtual kernel memory layout:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;vector&nbsp; : 0xffff0000 - 0xffff1000&nbsp; &nbsp;(&nbsp; &nbsp;4 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;fixmap&nbsp; : 0xfff00000 - 0xfffe0000&nbsp; &nbsp;( 896 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;vmalloc : 0x84800000 - 0xff000000&nbsp; &nbsp;(1960 MB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;lowmem&nbsp; : 0x80000000 - 0x84000000&nbsp; &nbsp;(&nbsp; 64 MB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;modules : 0x7f000000 - 0x80000000&nbsp; &nbsp;(&nbsp; 16 MB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp;.text : 0x80008000 - 0x8044ad5c&nbsp; &nbsp;(4364 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp;.init : 0x8044b000 - 0x80a7cde4&nbsp; &nbsp;(6344 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp;.data : 0x80a7e000 - 0x80aa835c&nbsp; &nbsp;( 169 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp; .bss : 0x80aa835c - 0x80ad5768&nbsp; &nbsp;( 182 kB)<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:111<br />[&nbsp; &nbsp; 0.000000] S3C2440: IRQ Support<br />[&nbsp; &nbsp; 0.000000] irq: clearing pending status 02000000<br />[&nbsp; &nbsp; 0.000000] irq: clearing pending status 00000003<br />[&nbsp; &nbsp; 0.000000] irq: clearing pending status 00000002<br />[&nbsp; &nbsp; 0.000000] sched_clock: 16 bits at 1012kHz, resolution 987ns, wraps every 64ms<br />[&nbsp; &nbsp; 0.000394] Calibrating delay loop... 201.52 BogoMIPS (lpj=503808)<br />[&nbsp; &nbsp; 0.044930] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.045338] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.047519] CPU: Testing write buffer coherency: ok<br />[&nbsp; &nbsp; 0.049116] Setting up static identity map for 0x80010280 - 0x800102e0<br />[&nbsp; &nbsp; 0.005634] regulator-dummy: no parameters<br />[&nbsp; &nbsp; 0.007926] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.010914] DMA: preallocated 256 KiB pool for atomic coherent allocations<br />[&nbsp; &nbsp; 0.036759] MINI2440: Option string mini2440=0tb<br />[&nbsp; &nbsp; 0.036834] MINI2440: &#039;t&#039; ignored, touchscreen not compiled in<br />[&nbsp; &nbsp; 0.036900] MINI2440: LCD [0:240x320] 1:800x480 2:1024x768 3:320x240<br />[&nbsp; &nbsp; 0.062262] S3C2440: Initialising architecture<br />[&nbsp; &nbsp; 0.063605] S3C244X: Clock Support, DVS off<br />[&nbsp; &nbsp; 0.063671] S3C24XX DMA Driver, Copyright 2003-2006 Simtec Electronics<br />[&nbsp; &nbsp; 0.063892] DMA channel 0 at 84846000, irq 33<br />[&nbsp; &nbsp; 0.063942] DMA channel 1 at 84846040, irq 34<br />[&nbsp; &nbsp; 0.063961] DMA channel 2 at 84846080, irq 35<br />[&nbsp; &nbsp; 0.063982] DMA channel 3 at 848460c0, irq 36<br />[&nbsp; &nbsp; 0.006659] S3C24XX CPU Frequency driver, s3c244x cpu support<br />[&nbsp; &nbsp; 0.039244] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.052811] SCSI subsystem initialized<br />[&nbsp; &nbsp; 0.064703] Linux video capture interface: v2.00<br />[&nbsp; &nbsp; 0.002698] pps_core: LinuxPPS API ver. 1 registered<br />[&nbsp; &nbsp; 0.002763] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;<br />[&nbsp; &nbsp; 0.003839] PTP clock support registered<br />[&nbsp; &nbsp; 0.017100] Switching to clocksource samsung_clocksource_timer<br />[&nbsp; &nbsp; 0.033632] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.035727] TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.035828] TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />[&nbsp; &nbsp; 0.035871] TCP: Hash tables configured (established 512 bind 512)<br />[&nbsp; &nbsp; 0.036285] TCP: reno registered<br />[&nbsp; &nbsp; 0.036365] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.036424] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.037500] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.262655] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.262743] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.263703] msgmni has been set to 105<br />[&nbsp; &nbsp; 0.271752] io scheduler noop registered<br />[&nbsp; &nbsp; 0.271829] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.271968] io scheduler cfq registered<br />[&nbsp; &nbsp; 0.278500] s3c2410-lcd s3c2410-lcd: fb0: s3c2410fb frame buffer device<br />[&nbsp; &nbsp; 0.282065] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.287541] s3c2440-uart.0: ttySAC0 at MMIO 0x50000000 (irq = 74) is a S3C2440<br />[&nbsp; &nbsp; 0.306939] console [ttySAC0] enabled<br />[&nbsp; &nbsp; 0.247376] s3c2440-uart.1: ttySAC1 at MMIO 0x50004000 (irq = 77) is a S3C2440<br />[&nbsp; &nbsp; 0.254419] s3c2440-uart.2: ttySAC2 at MMIO 0x50008000 (irq = 80) is a S3C2440<br />[&nbsp; &nbsp; 0.263825] [drm] Initialized drm 1.1.0 20060810<br />[&nbsp; &nbsp; 0.270362] [drm] Supports vblank timestamp caching Rev 1 (10.10.2010).<br />[&nbsp; &nbsp; 0.271541] [drm] No driver support for vblank timestamp query.<br />[&nbsp; &nbsp; 0.280021] exynos-drm: probe of exynos-drm failed with error -22<br />[&nbsp; &nbsp; 0.292206] s3c24xx-nand s3c2440-nand: Tacls=3, 29ns Twrph0=7 69ns, Twrph1=4 39ns<br />[&nbsp; &nbsp; 0.294083] s3c24xx-nand s3c2440-nand: NAND soft ECC<br />[&nbsp; &nbsp; 0.299175] NAND device: Manufacturer ID: 0xec, Chip ID: 0xda (Samsung NAND 256MiB 3,3V 8-bit), 256MiB, page size: 2048, OOB size: 64<br />[&nbsp; &nbsp; 0.312192] Creating 4 MTD partitions on &quot;nand&quot;:<br />[&nbsp; &nbsp; 0.315244] 0x000000000000-0x000000060000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.326252] 0x000000060000-0x000000080000 : &quot;u-boot-env&quot;<br />[&nbsp; &nbsp; 0.332361] 0x000000080000-0x000000580000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.339867] 0x000000580000-0x000010000000 : &quot;root&quot;<br />[&nbsp; &nbsp; 0.433591] dm9000 dm9000: read wrong id 0x01010101<br />[&nbsp; &nbsp; 0.433705] dm9000 dm9000: eth%d: Invalid ethernet MAC address. Please set using ifconfig<br />[&nbsp; &nbsp; 0.444509] eth0: dm9000e at 848c0300,848c2304 IRQ 55 MAC: 92:27:05:d3:e1:ce (random)<br />[&nbsp; &nbsp; 0.454305] s3c-rtc s3c2410-rtc: rtc disabled, re-enabling<br />[&nbsp; &nbsp; 0.455956] s3c-rtc s3c2410-rtc: rtc core: registered s3c as rtc0<br />[&nbsp; &nbsp; 0.461627] i2c /dev entries driver<br />[&nbsp; &nbsp; 0.464959] s3c2410-wdt s3c2410-wdt: tmr_margin value out of range, default 15 used<br />[&nbsp; &nbsp; 0.473802] s3c2410-wdt s3c2410-wdt: watchdog inactive, reset disabled, irq disabled<br />[&nbsp; &nbsp; 0.480033] cpufreq: Unable to obtain msysclk: -2<br />[&nbsp; &nbsp; 0.483507] cpuidle: using governor ladder<br />[&nbsp; &nbsp; 0.489462] s3c-sdi s3c2440-sdi: running at 0kHz (requested: 0kHz).<br />[&nbsp; &nbsp; 0.506598] s3c-sdi s3c2440-sdi: running at 398kHz (requested: 400kHz).<br />[&nbsp; &nbsp; 0.521629] s3c-sdi s3c2440-sdi: mmc0 - using pio, sw SDIO IRQ<br />[&nbsp; &nbsp; 0.522334] s3c-sdi s3c2440-sdi: powered down.<br />[&nbsp; &nbsp; 0.529466] TCP: cubic registered<br />[&nbsp; &nbsp; 0.529568] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.534242] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.538318] VFP support v0.3: not present<br />[&nbsp; &nbsp; 0.548110] regulator-dummy: incomplete constraints, leaving on<br />[&nbsp; &nbsp; 0.551811] s3c-rtc s3c2410-rtc: setting system clock to 2041-06-11 06:32:35 UTC (2254545155)<br />[&nbsp; &nbsp; 0.593861] Freeing unused kernel memory: 6340K (8044b000 - 80a7c000)<br />procd: Console is alive<br />procd: - watchdog -<br />procd: - preinit -<br />Failed to find input-core. Maybe it is a built in module ?<br />Failed to find input-polldev. Maybe it is a built in module ?<br />Failed to find gpio_buttons. Maybe it is a built in module ?<br />Failed to find gpio_keys. Maybe it is a built in module ?<br />Failed to find button-hotplug. Maybe it is a built in module ?<br />Failed to find leds-gpio. Maybe it is a built in module ?<br />Press the [f] key and hit [enter] to enter failsafe mode<br />Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br />Failed to find leds-gpio. Maybe it is a built in module ?<br />procd: - early -<br />procd: - watchdog -<br />procd: - ubus -<br />procd: - init -<br />Please press Enter to activate this console.<br />[&nbsp; &nbsp; 4.296553] dm9000 dm9000 eth0: link down<br />[&nbsp; &nbsp; 4.326660] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp; 4.328086] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp; 4.331097] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp; 4.609378] br-lan: port 1(eth0) entered disabled state<br />[&nbsp; &nbsp; 4.852781] dm9000 dm9000 eth0: link up, 100Mbps, full-duplex, lpa 0xCDE1<br />[&nbsp; &nbsp; 4.882790] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp; 4.883056] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp; 5.463585] br-lan: port 1(eth0) entered forwarding state<br />procd: - init complete -<br />: read wrong id 0x01010101procd: Instance odhcpd::instance1 s in a crash loop 6 crashes, 0 seconds since last crash<br />cpufreq: Unable to obtain msysclk: -2</p><br /><p>BusyBox v1.22.1 (2014-09-17 19:21:06 CST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><br /><p>&nbsp; _______________________________________________________________<br />|&nbsp; &nbsp; ____&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;____&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />|&nbsp; &nbsp;|&nbsp; _ \ __ _ _ __&nbsp; &nbsp;__| | ___&nbsp; _ __ __ _| __ )&nbsp; _____&nbsp; __&nbsp; &nbsp;|<br />|&nbsp; &nbsp;| |_) / _` | &#039;_ \ / _` |/ _ \| &#039;__/ _` |&nbsp; _ \ / _ \ \/ /&nbsp; &nbsp;|<br />|&nbsp; &nbsp;|&nbsp; __/ (_| | | | | (_| | (_) | | | (_| | |_) | (_) &gt;&nbsp; &lt;&nbsp; &nbsp; |<br />|&nbsp; &nbsp;|_|&nbsp; &nbsp;\__,_|_| |_|\__,_|\___/|_|&nbsp; \__,_|____/ \___/_/\_\&nbsp; &nbsp;|<br />|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PabdoraBox SDK Plantform&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Copyright 2013-2014&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;D-Team Technology Co.,Ltd. ShenZhen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />|______________________________________________________________|<br />&nbsp; Base on OpenWrt BARRIER BREAKER (14.09, r127)<br />[root@PandoraBox:/]#dm9000 dm9000: read wrong id 0x01010101<br />et using /bin/ashifconfig: dm9000: not found<br />[root@PandoraBox:/]#[&nbsp; &nbsp; 0.433705] dm9000 dm9000: eth%d: Invalid ethernet MAC ad</p><br /><p>there is a question that the dm9000 doesn&#039;t work. it couldn&#039;t ping 192.168.1.1 , why .??...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250311">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hades</div>
					<div class="post-datetime">
						13 Oct 2014, 05:32					</div>
				</div>
				<div class="post-content content">
					<p>arch/arm/mach-s3c24xx/mach-mini2440.c </p><p>static struct resource mini2440_dm9k_resource[] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; [0] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .start = MACH_MINI2440_DM9K_BASE,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .end&nbsp; &nbsp;= MACH_MINI2440_DM9K_BASE + 3,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .flags = IORESOURCE_MEM&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; },&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; [1] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .start = MACH_MINI2440_DM9K_BASE + 4,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .end&nbsp; &nbsp;= MACH_MINI2440_DM9K_BASE + 7,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .flags = IORESOURCE_MEM&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; },&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; [2] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .start = IRQ_EINT7,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .end&nbsp; &nbsp;= IRQ_EINT7,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .flags = IORESOURCE_IRQ | IORESOURCE_IRQ_HIGHEDGE,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; <br />};</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250312">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hades</div>
					<div class="post-datetime">
						13 Oct 2014, 05:34					</div>
				</div>
				<div class="post-content content">
					<p>modify the file ---arch/arm/mach-s3c24xx/mach-mini2440.c </p><p>static struct resource mini2440_dm9k_resource[] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; [0] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .start = MACH_MINI2440_DM9K_BASE,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .end&nbsp; &nbsp;= MACH_MINI2440_DM9K_BASE + 3,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .flags = IORESOURCE_MEM&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; },&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; [1] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .start = MACH_MINI2440_DM9K_BASE + 4,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .end&nbsp; &nbsp;= MACH_MINI2440_DM9K_BASE + 7,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .flags = IORESOURCE_MEM&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; },&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; [2] = {&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .start = IRQ_EINT7,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .end&nbsp; &nbsp;= IRQ_EINT7,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .flags = IORESOURCE_IRQ | IORESOURCE_IRQ_HIGHEDGE,&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; <br />};</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250313">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hades</div>
					<div class="post-datetime">
						13 Oct 2014, 05:37					</div>
				</div>
				<div class="post-content content">
					<p>add init in dm9000.c<br />add&nbsp; &quot;#include &lt;mach/regs-mem.h&gt;&quot; and&nbsp; regs-mem.h <br />----------------------------------------------------------<br />static int __init<br />dm9000_init(void)<br />{<br />&nbsp; &nbsp; //#if defined(CONFIG_ARCH_S3C2410) <br />&nbsp; &nbsp; unsigned int oldval_bwscon = *(volatile unsigned int *)S3C2410_BWSCON; <br />&nbsp; &nbsp; unsigned int oldval_bankcon4 = *(volatile unsigned int *)S3C2410_BANKCON4; <br />&nbsp; &nbsp; *((volatile unsigned int *)S3C2410_BWSCON) = (oldval_bwscon&nbsp; &amp;&nbsp; ~(3&lt;&lt;16))&nbsp; |&nbsp; S3C2410_BWSCON_DW4_16&nbsp; |<br />&nbsp; &nbsp; S3C2410_BWSCON_WS4 | S3C2410_BWSCON_ST4; <br />&nbsp; &nbsp; *((volatile unsigned int *)S3C2410_BANKCON4) = 0x1f7c; <br />&nbsp; &nbsp; //#endif<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; printk(KERN_INFO &quot;dm9000 init!&quot;);</p><p>&nbsp; &nbsp; return 0;<br />}</p><p>module_init(dm9000_init);</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>