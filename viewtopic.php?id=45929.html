<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WR1043ND Can&#039;t Enter Failsafe Mode</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p210566">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">shft_l2neku</div>
					<div class="post-datetime">
						23 Aug 2013, 18:16					</div>
				</div>
				<div class="post-content content">
					<p>When powering on the router, the SYS light only lights up once and never again (until you power on the device from the off state).</p><p>I&#039;ve tried power-on+qss (hold and or tap for 30s) to no avail.</p><p>I know that I have entered failsafe mode once before using the power-on and hold qss method, but this doesn&#039;t seem to work now.</p><p>Anyone have any ideas?</p><p>EDIT: thought i would add a little additional information<br />While the SYS LED does not flicker after the initial instance when the SYS LED is lit, the LAN and WAN ports respond when connected.</p><p>Also, my 1043 is version 1.8.</p><p>Prior to this situation, my 1043 was running 12.09 and I flashed a sysupgrade of Gargoyle to it - which to my understanding, works.</p>											<p class="post-edited">(Last edited by <strong>shft_l2neku</strong> on 23 Aug 2013, 18:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210579">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Aug 2013, 21:04					</div>
				</div>
				<div class="post-content content">
					<p>well, to my understanding the gargoyle image you flashed for some reason does not work xD</p><p>i&#039;m afraid you will need serial console to recover..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210583">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">shft_l2neku</div>
					<div class="post-datetime">
						23 Aug 2013, 21:29					</div>
				</div>
				<div class="post-content content">
					<p>Pretty sure it was the right Gargoyle image... but either way, thanks.</p><p>I was gonna say &#039;solutions preferably without the need for a serial cable&#039;, but that&#039;s probably impossible.</p><p>On to acquire usb2ttl cable. </p><p>I take it all the information I will need to unbrick the 1043 via serial is readily available on the openwrt 1043 page, correct?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210748">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">shft_l2neku</div>
					<div class="post-datetime">
						25 Aug 2013, 13:10					</div>
				</div>
				<div class="post-content content">
					<p>Went out to buy equipment for a makeshift serial solution and when I ran Putty on the Serial COM, it returned this:</p><p>[...]<br />[&nbsp; &nbsp; 6.880000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0000: 0xabf2 instead<br />[&nbsp; &nbsp; 6.890000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0004: 0xac60 instead<br />[&nbsp; &nbsp; 6.900000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0008: 0x7b3d instead<br />[&nbsp; &nbsp; 6.900000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;000c: 0x8b85 instead<br />[&nbsp; &nbsp; 6.910000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0010: 0x2f05 instead<br />[&nbsp; &nbsp; 6.920000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0014: 0xb713 instead<br />[&nbsp; &nbsp; 6.930000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0018: 0x123a instead<br />[&nbsp; &nbsp; 6.940000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001c: 0x50fa instead<br />[&nbsp; &nbsp; 6.950000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0020: 0xb643 instead<br />[&nbsp; &nbsp; 6.960000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0024: 0xcd9c instead<br />[&nbsp; &nbsp; 6.970000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 6.990000] CLEANMARKER node found at 0x002a7200, not first node in block (0x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;002a0000)<br />[&nbsp; &nbsp; 7.000000] Node at 0x002aff0c with length 0x000005fc would run over the end&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; of the erase block<br />[&nbsp; &nbsp; 7.010000] Perhaps the file system was created with the wrong erase size?<br />[&nbsp; &nbsp; 7.020000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0000: 0x5773 instead<br />[&nbsp; &nbsp; 7.030000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0004: 0xcc1c instead<br />[&nbsp; &nbsp; 7.040000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0008: 0xbe11 instead<br />[&nbsp; &nbsp; 7.050000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;000c: 0x15c2 instead<br />[&nbsp; &nbsp; 7.060000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0010: 0x389f instead<br />[&nbsp; &nbsp; 7.070000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0014: 0x51ef instead<br />[&nbsp; &nbsp; 7.070000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0018: 0x6b99 instead<br />[&nbsp; &nbsp; 7.080000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001c: 0x187c instead<br />[&nbsp; &nbsp; 7.090000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0020: 0xa33b instead<br />[&nbsp; &nbsp; 7.100000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0024: 0xd5aa instead<br />[&nbsp; &nbsp; 7.110000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 7.130000] CLEANMARKER node found at 0x002b7200, not first node in block (0x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;002b0000)<br />[&nbsp; &nbsp; 7.160000] JFFS2 notice: (1) jffs2_build_xattr_subsystem: complete building&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 or&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;phan) found.<br />[&nbsp; &nbsp; 7.180000] VFS: Mounted root (jffs2 filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 7.190000] Freeing unused kernel memory: 212k freed<br />[&nbsp; &nbsp; 7.190000] Kernel panic - not syncing: No init found.&nbsp; Try passing init= opt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ion to kernel. See Linux Documentation/init.txt for guidance.</p><p>Help Please.</p><p>EDIT: <br />Okay, so I realized that the details above happen RIGHT after:<br />&quot;No valid address in Flash. Using fixed address<br />: cfg1 0xf cfg2 0x7114<br />eth0 up<br />eth0<br />Autobooting in 1 seconds&quot;<br />It was just a matter of how quickly you access your router from Putty against power on time.</p><p>I followed the instructions from <a href="https://forum.openwrt.org/viewtopic.php?pid=173844#p173844">https://forum.openwrt.org/viewtopic.php … 44#p173844</a><br />although, I feel like just hitting enter when it says &quot;Autobooting in 1second&quot; is just as effective a way to interrupt - don&#039;t think mine responded to &#039;tpl&#039;.</p><p>My situation has been resolved now.</p>											<p class="post-edited">(Last edited by <strong>shft_l2neku</strong> on 25 Aug 2013, 13:53)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>