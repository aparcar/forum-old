<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> amule @ kamikaze</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=10280&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p58324">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">marven</div>
					<div class="post-datetime">
						31 Oct 2007, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>Oconnor, if you get segmentation fault errors I suppose you compiled amule for X86 platform.<br />For the moment, at least for what I know, there is not a solution for this problem.<br />Me and Ramponis are trying to solve this.</p><p>I successfully patched and compiled amule for the brcm47xx-2.6/ WGT634U (MIPS) platform.<br />If you have such or similar platform, the steps are:</p><p>1) <br />From the tarball<br /><a href="http://eko.one.pl/openwrt/amule_src.tgz">http://eko.one.pl/openwrt/amule_src.tgz</a><br />extract the patches</p><p>configure1.patch<br />math.patch</p><p>2) From the tarball at<br /><a href="http://wl500g.info/attachment.php?attachmentid=1396&amp;d=1176055300">http://wl500g.info/attachment.php?attac â€¦ 1176055300</a><br />extract the patch:</p><p>amule-1gb-uclibc-mipsel.patch</p><p>3) Copy those three patches in this directory:</p><p>~/trunk/feeds/https_svn.openwrt.org_openwrt_packages_/net/amule/patches</p><p>and rename them:</p><p>002-configure1.patch<br />003-math.patch<br />004-amule-1gb-uclibc-mipsel.patch</p><p>4) Select amule in menuconfig, save and compile everything with:</p><p>make V=99</p><p>That&#039;s all.</p>											<p class="post-edited">(Last edited by <strong>marven</strong> on 31 Oct 2007, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58357">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						1 Nov 2007, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>I compile it for brcm47xx-2.6 too, but install it on a asus wl-500gP. <br />I copied the 3 files 002-configure1.patch, 003-math.patch, 004-amule-1gb-uclibc-mipsel.patch to .../amule/patch , but I&#039;m still getting &quot;segmentation faults&quot;. But if I install your packages, everything works well. Maybe it has something to do that I&#039;m not using the trunk compiler environment. I&#039;m using the kamikaze7.09 compiler environment? But than, why can I use your packages at my kamikaze7.09?</p><p>edit:<br />If I start aMule the first time, it generates all files to &quot;/tmp/.aMule&quot; if I restart my router everything is lost and I have to fix &quot;/tmp/.aMule/amule.conf&quot; can I start amule somehow with another &quot;Homedirectory&quot; as /tmp/.aMule? That I&#039;m not loosing everything?</p>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 1 Nov 2007, 16:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66117">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">elect86</div>
					<div class="post-datetime">
						1 Apr 2008, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>Oconnor, news? Have you success?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66374">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						5 Apr 2008, 14:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Oconnor wrote:</cite><blockquote><p>Maybe it has something to do that I&#039;m not using the trunk compiler environment. I&#039;m using the kamikaze7.09 compiler environment.</p></blockquote></div><p>Yes I had success. I compiled amule with the trunk environment that worked. I could install amule at trunk and at kamikaze 7.09 at my Asus wl-500gP. Download speed was at about 250 kB/s that was the limit of the cpu.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71909">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						7 Aug 2008, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi there is a new Version from amule 2.2.2rc2. I&#039;m trying to compile amule but just changing the md5sum and the download path doesn&#039;t work <br />amule.patch<br /></p><div class="quotebox"><blockquote><p>--- Makefile&nbsp; &nbsp; 2008-08-07 14:33:57.000000000 +0200<br />+++ Makefile~&nbsp; &nbsp; 2008-08-06 16:05:39.000000000 +0200<br />@@ -9,12 +9,12 @@<br /> include $(TOPDIR)/rules.mk</p><p> PKG_NAME:=aMule<br />-PKG_VERSION:=2.2.2<br />-PKG_RELEASE:=rc2<br />+PKG_VERSION:=2.1.3<br />+PKG_RELEASE:=2</p><p>-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION)$(PKG_RELEASE).tar.bz2<br />+PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.bz2<br /> PKG_SOURCE_URL:=@SF/amule<br />-PKG_MD5SUM:=cda9fec601e461a4181c0ea301ebea52<br />+PKG_MD5SUM:=0aafdd159edb8ad5f0064da87998b47d</p><p> PKG_BUILD_DEPENDS:=libgd</p></blockquote></div><p>I&#039;m getting following error:<br /></p><div class="quotebox"><blockquote><p>make[3]: Entering directory `/home/oconnor/Desktop/trunk/feeds/packages/net/amule&#039;<br />bzcat /home/oconnor/Desktop/trunk/dl/aMule-2.2.2rc2.tar.bz2 | /bin/tar -C /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/.. -xf -<br />ls: cannot access ./patches: No such file or directory<br />touch /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/.prepared_1b4b07835b3b584c361c2d451c6caa2a<br />(cd /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/./; if [ -x ./configure ]; then /usr/bin/find /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/ -name config.guess | xargs -r -n1 cp /home/oconnor/Desktop/trunk/scripts/config.guess; /usr/bin/find /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/ -name config.sub | xargs -r -n1 cp /home/oconnor/Desktop/trunk/scripts/config.sub; AR=mipsel-linux-uclibc-ar AS=&quot;mipsel-linux-uclibc-gcc -c -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts&quot; LD=mipsel-linux-uclibc-ld NM=mipsel-linux-uclibc-nm CC=&quot;mipsel-linux-uclibc-gcc&quot; GCC=&quot;mipsel-linux-uclibc-gcc&quot; CXX=mipsel-linux-uclibc-g++ RANLIB=mipsel-linux-uclibc-ranlib STRIP=mipsel-linux-uclibc-strip OBJCOPY=mipsel-linux-uclibc-objcopy OBJDUMP=mipsel-linux-uclibc-objdump SIZE=mipsel-linux-uclibc-size CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts &quot; CXXFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts &quot; CPPFLAGS=&quot;-I/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr/include -I/home/oconnor/Desktop/trunk/staging_dir/mipsel/include &quot; LDFLAGS=&quot;-L/home/oconnor/Desktop/trunk/staging_dir/toolchain-mipsel_gcc4.1.2/lib -L/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr/lib -L/home/oconnor/Desktop/trunk/staging_dir/mipsel/lib &quot; PKG_CONFIG_PATH=&quot;/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr/lib/pkgconfig:/home/oconnor/Desktop/trunk/staging_dir/host/usr/lib/pkgconfig&quot; PKG_CONFIG_LIBDIR=&quot;/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr/lib/pkgconfig&quot;&nbsp; ./configure --target=mipsel-linux --host=mipsel-linux --build=i486-linux-gnu --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib --sysconfdir=/etc --datadir=/usr/share --localstatedir=/var --mandir=/usr/man --infodir=/usr/info --disable-nls --enable-shared --disable-static --disable-rpath --with-gnu-ld --disable-ccache --disable-debug --disable-optimize --disable-profile --disable-monolithic --enable-amule-daemon --enable-amulecmd --disable-amulecmdgui --enable-webserver --disable-webservergui --disable-amule-gui --disable-cas --disable-wxcas --disable-ed2k --disable-alc --disable-alcc --disable-systray --disable-utf8-systray --enable-embedded-crypto --enable-gsocket --disable-gtktest --with-zlib=&quot;/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr&quot; --with-gdlib-prefix=&quot;/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr&quot; --with-libpng-prefix=&quot;/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr&quot; --with-wx-prefix=&quot;/home/oconnor/Desktop/trunk/staging_dir/mipsel/usr&quot; --without-crypto-prefix --without-libiconv-prefix --without-libintl-prefix --without-x&nbsp; ; fi; )<br />touch /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/.configured<br />make -C /home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2 HOSTCC=&quot;gcc&quot; DESTDIR=&quot;/home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/ipkg-install&quot; all install<br />make[4]: Entering directory `/home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2&#039;<br />make[4]: *** No rule to make target `all&#039;.&nbsp; Stop.<br />make[4]: Leaving directory `/home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2&#039;<br />make[3]: *** [/home/oconnor/Desktop/trunk/build_dir/mipsel/aMule-2.2.2/.built] Error 2<br />make[3]: Leaving directory `/home/oconnor/Desktop/trunk/feeds/packages/net/amule&#039;<br />make[2]: *** [package/feeds/packages/amule/compile] Error 2<br />make[2]: Leaving directory `/home/oconnor/Desktop/trunk&#039;<br />make[1]: *** [/home/oconnor/Desktop/trunk/staging_dir/mipsel/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/oconnor/Desktop/trunk&#039;</p></blockquote></div><p>I guess the error is &quot;make[4]: *** No rule to make target `all&#039;.&nbsp; Stop.&quot; but if I change the makefile at the point there is written &quot;all install&quot; to &quot;install&quot; I&#039;m getting the same error &quot;make[4]: *** No rule to make target `install&#039;.&nbsp; Stop.&quot; so what can I do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73441">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">e226329</div>
					<div class="post-datetime">
						17 Sep 2008, 06:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />I&#039;ve tried compile amule 2.2.2&nbsp; too, but without any success.</p><p>According amule site, in v2.2.2 there is no embedded crypto, so option --without-crypto-prefix&nbsp; does not work. So we need to compile and use CryptoPP.</p><p>I&#039;ve successfully compiled cryptopp with this Makefile:<br /></p><div class="quotebox"><blockquote><p>include $(TOPDIR)/rules.mk</p><p>PKG_NAME:=cryptopp<br />PKG_VERSION:=5.5.2<br />PKG_RELEASE:=1</p><p>PKG_SOURCE:=cryptopp552.zip<br />PKG_SOURCE_URL:=@SF/cryptopp<br />PKG_MD5SUM:=a889be9d9ad5c202c925fb105caa4857</p><br /><p>include $(INCLUDE_DIR)/package.mk</p><p>define Package/cryptopp<br />&nbsp; SECTION:=libs<br />&nbsp; CATEGORY:=Libraries<br />&nbsp; TITLE:=crypto++<br />&nbsp; URL:=http://www.cryptopp.com/</p><p>&nbsp; DEPENDS:=+libstdcpp<br />endef</p><p>define Package/cyptopp/description<br />&nbsp; Crypto++ Library is a free C++ class library of cryptographic schemes.<br />endef</p><p>define Build/Prepare<br />&nbsp; &nbsp; &nbsp; &nbsp; unzip -d $(PKG_BUILD_DIR)&nbsp; $(DL_DIR)/$(PKG_SOURCE)<br />endef</p><p>define Build/Compile</p><p>define Build/Compile<br />&nbsp; &nbsp; &nbsp; &nbsp; $(call Build/Compile/Default, \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PREFIX=&quot;$(PKG_INSTALL_DIR)/usr&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; all install \<br />&nbsp; &nbsp; &nbsp; &nbsp; )<br />endef</p><p>define Build/InstallDev<br />&nbsp; &nbsp; &nbsp; &nbsp; mkdir -p $(1)/usr/include/cryptopp<br />&nbsp; &nbsp; &nbsp; &nbsp; $(CP)&nbsp; &nbsp;$(PKG_INSTALL_DIR)/usr/include/cryptopp/*&nbsp; $(1)/usr/include/cryptopp<br />&nbsp; &nbsp; &nbsp; &nbsp; mkdir -p $(1)/usr/lib<br />&nbsp; &nbsp; &nbsp; &nbsp; $(CP)&nbsp; &nbsp;$(PKG_INSTALL_DIR)/usr/lib/libcryptopp.a&nbsp; &nbsp;$(1)/usr/lib/<br />endef</p><p>$(eval $(call BuildPackage,cryptopp))</p></blockquote></div><p>After compilation I copy files cryptest.exe and usage.dat&nbsp; to router and try to start self tests. Self tests fails complaining about mips/mipsel misconfiguration:<br /></p><div class="quotebox"><blockquote><p>root@MMX-GATEWAY:/# ./cryptest.exe v</p><p>Using seed: 1221617269</p><p>Testing Settings...</p><p>FAILED:&nbsp; Your machine is little endian.<br />passed:&nbsp; sizeof(byte) == 1<br />passed:&nbsp; sizeof(word16) == 2<br />passed:&nbsp; sizeof(word32) == 4<br />passed:&nbsp; sizeof(word64) == 8<br />passed:&nbsp; sizeof(hword) == 2, sizeof(word) == 4, sizeof(dword) == 8<br />passed:&nbsp; hasMMX == 0, hasISSE == 0, hasSSE2 == 0, hasSSSE3 == 0, isP4 == 0, cacheLineSize == 32Some critical setting in config.h is in error.&nbsp; Please fix it and recompile.<br />Aborted</p></blockquote></div><p>Another problem for me was disabling unicode in amule configuration. It&#039;s needed because libwxbase compiled with --disable-unicode flag.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=10280&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>