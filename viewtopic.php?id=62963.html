<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> RevoRPCD - new websocket based rpc server for OpenWRT</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p312684">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mkschreder</div>
					<div class="post-datetime">
						26 Feb 2016, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>I have recently started working on a new RPC server as part of my OpenWRT project work and you can find it here: <a href="https://github.com/mkschreder/jucid.git">https://github.com/mkschreder/jucid.git</a> </p><p>This RPC server now handles all backend functionality for upcoming release of JUCI webgui project (<a href="https://github.com/mkschreder/juci">https://github.com/mkschreder/juci</a>). (the server is not ready for release yet but I&#039;m working on it. There are a few TODOs left on the list). </p><p>Key features of this new server are: <br />- Fast LUA based RPC backend that makes JSON RPC interface available over a websocket connection to any outside client (you can for example also use lighttpd with websocket proxy module and connect to this rpc through a url like ws://device/websocket/).<br />- Very small footprint (Application itself 30k + 140k lua scripts). <br />- New way of doing access control over RPC. (new access lists use the same idea as original openwrt rpcd session object but are much easier to write and understand). <br />- Easily interfacable with current ubus interface (you can &quot;export&quot; ubus functions through this RPC server using a little lua glue - although in the future it can probably be done even better). </p><p>Anyway, even though the server is a work in progress, it is already usable and provides all necessary backend calls for webgui. </p><p>Docs for rpc objects here: <a href="https://github.com/mkschreder/jucid/blob/master/docs/rpc-api.md">https://github.com/mkschreder/jucid/blo … rpc-api.md</a><br />A few (rather poor) examples here: <a href="https://github.com/mkschreder/jucid/tree/master/example">https://github.com/mkschreder/jucid/tree/master/example</a><br />For a proper (and working) example of usage from web app check this javascript interface: <a href="https://github.com/mkschreder/juci/blob/master/juci/src/js/rpc.js">https://github.com/mkschreder/juci/blob … /js/rpc.js</a> </p><p>Building: <br />./autogen.sh<br />./configure<br />make</p>											<p class="post-edited">(Last edited by <strong>mkschreder</strong> on 26 Feb 2016, 16:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312834">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">diizzy</div>
					<div class="post-datetime">
						28 Feb 2016, 03:09					</div>
				</div>
				<div class="post-content content">
					<p>Nice work! :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340029">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hongkongkiwi</div>
					<div class="post-datetime">
						3 Oct 2016, 09:36					</div>
				</div>
				<div class="post-content content">
					<p>How can I integrate this into my openwrt build?</p><p>(I mean just the websockets part, not integrating the whole juci system)</p>											<p class="post-edited">(Last edited by <strong>hongkongkiwi</strong> on 3 Oct 2016, 09:41)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>