<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link Archer C2 AC750 support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 14</div><nav><ul><li><a href="viewtopic.php%3Fid=52625&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=52625&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=52625&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=52625&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=52625&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=52625&amp;p=14.html">14</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p347733">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">calanto59</div>
					<div class="post-datetime">
						26 Dec 2016, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Same behavior with pimpkin, 3com, tftpd32 and your simple linux server (from windows 10 and linux mint)<br />I will search for another router with Openwrt compatibily (It will not certainly be tplink of course)</p><p>Thanks you for your help</p><p>calanto59</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347968">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">gargle</div>
					<div class="post-datetime">
						29 Dec 2016, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi All. I&#039;m a bit confused, trying to get 5G to work. </p><p>I already have unpacked wifi5G.tar.gz in /:</p><div class="codebox"><pre><code>openwrt@OpenWrt:~$ sudo ls -haltrR /mt7610_ap.ko 
-rwxr-x---    1 root     root        1.1M Dec 24 12:23 /mt7610_ap.ko
openwrt@OpenWrt:~$ sudo ls -haltrR /etc/Wireless/
/etc/Wireless/:
drwxr-xr-x    1 root     root           0 Dec 29 17:32 ..
drwxr-x---    3 root     root           0 Dec 29 17:32 .
drwxr-x---    2 root     root           0 Dec 29 17:32 iNIC

/etc/Wireless/iNIC:
drwxr-x---    3 root     root           0 Dec 29 17:32 ..
-rwxr-x---    1 root     root        2.1K Dec 29 17:32 iNIC_ap.dat
-rwxr-x---    1 root     root        6.6K Dec 29 17:32 SingleSKU.dat
drwxr-x---    2 root     root           0 Dec 29 17:32 .
openwrt@OpenWrt:~$ sudo ls -haltrR /etc_ro/
/etc_ro/:
drwxr-x---    2 root     root           0 Dec 29 17:32 Wireless
drwxr-xr-x    1 root     root           0 Dec 29 17:32 ..
drwxr-x---    3 root     root           0 Dec 29 17:32 .

/etc_ro/Wireless:
-rwxr-x---    1 root     root         512 Dec 29 17:32 MT7610E-V10-FEM.bin
drwxr-x---    3 root     root           0 Dec 29 17:32 ..
drwxr-x---    2 root     root           0 Dec 29 17:32 .</code></pre></div><br /><br /><p>Here are the md5sum&#039;s. I took the Xmas wifi5G.tar.gz:</p><div class="codebox"><pre><code>openwrt@OpenWrt:~$ sudo md5sum /etc/Wireless/iNIC/SingleSKU.dat
e892e1b417521ae1ffd089d5cc65ab43  /etc/Wireless/iNIC/SingleSKU.dat
openwrt@OpenWrt:~$ sudo md5sum /etc/Wireless/iNIC/iNIC_ap.dat
4b895c01467c3d590ea115c6f9e3f357  /etc/Wireless/iNIC/iNIC_ap.dat
openwrt@OpenWrt:~$ sudo md5sum /etc_ro/Wireless/MT7610E-V10-FEM.bin
55a576b8d98d7673605f6e6321026e30  /etc_ro/Wireless/MT7610E-V10-FEM.bin
openwrt@OpenWrt:~$ sudo md5sum /mt7610_ap.ko 
7631934f39bb663fd30d8e4c2b30d6a5  /mt7610_ap.ko</code></pre></div><br /><br /><p>And I have this in my /etc/rc.local</p><div class="codebox"><pre><code>insmod /mt7610_ap.ko mac=&quot;00:0C:F6:EB:13:B8&quot;
      
ifconfig rai0 up
iwpriv rai0 set AuthMode=WPA2PSK
iwpriv rai0 set EncrypType=AES
iwpriv rai0 set SSID=mySSID
iwpriv rai0 set WPAPSK=myPassphrase
 
iwpriv rai0 set Channel=36</code></pre></div><br /><p>rai0 shows up when I do ifconfig:</p><div class="codebox"><pre><code>rai0      Link encap:Ethernet  HWaddr 00:0C:F6:EB:13:B8  
          inet6 addr: fe80::20c:f6ff:feeb:13b8/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:4</code></pre></div><br /><br /><p>When I scan for networks with any other computer I can&#039;t seem to find mySSID. What am I missing? Can someone point me to a good HOW-TO? <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>gargle</strong> on 29 Dec 2016, 22:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348053">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">eddy551</div>
					<div class="post-datetime">
						30 Dec 2016, 13:09					</div>
				</div>
				<div class="post-content content">
					<p>I bet you forgot to bridge your lan interface with the rai0 device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348074">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">gargle</div>
					<div class="post-datetime">
						30 Dec 2016, 19:23					</div>
				</div>
				<div class="post-content content">
					<p>@eddy551, I did, I added rai0 in the physical settings. I think I&#039;m missing out on something important.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348097">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">eddy551</div>
					<div class="post-datetime">
						31 Dec 2016, 01:00					</div>
				</div>
				<div class="post-content content">
					<p><span class="postimg"><img src="https://s27.postimg.org/xdr13zusz/2016_12_30_23_57_01_nils_Home_Interfaces_Lu_CI.png" alt="https://s27.postimg.org/xdr13zusz/2016_12_30_23_57_01_nils_Home_Interfaces_Lu_CI.png" /></span></p><p>You have to set the settings like in the screenshot. The actual interface is the one your wired lan is running.<br />Simply adding the ral0 as an interface will not work. There is no DHCP server running. Maybe you could try to set up one, but I think your purpose is to add wireless clients to your eth0, therefore this is your way to go.</p>											<p class="post-edited">(Last edited by <strong>eddy551</strong> on 31 Dec 2016, 01:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348111">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">gargle</div>
					<div class="post-datetime">
						31 Dec 2016, 10:11					</div>
				</div>
				<div class="post-content content">
					<p>I have the exact same configuration :</p><p><span class="postimg"><img src="https://s30.postimg.org/rhomt241t/Untitled.png" alt="https://s30.postimg.org/rhomt241t/Untitled.png" /></span>. </p><p>When I scan for networks I can see the 2.4G btw, but not the 5G <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>gargle</strong> on 2 Jan 2017, 12:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348114">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">gargle</div>
					<div class="post-datetime">
						31 Dec 2016, 11:00					</div>
				</div>
				<div class="post-content content">
					<p>(UPDATED: I don&#039;t think that that error matters. Check <a href="http://www.flupzor.nl/downloads/tplink_uart_output.txt">http://www.flupzor.nl/downloads/tplink_uart_output.txt</a>, it appears on the original tp-link firmware too)</p><p>This is what happens when I insmod /mt7610_ap.ko mac=&quot;00:0C:F6:EB:13:B9&quot;:</p><p>Sat Dec 31 09:56:36 2016 authpriv.notice sudo:&nbsp; openwrt : TTY=pts/0 ; PWD=/home/openwrt ; USER=root ; COMMAND=/usr/sbin/insmod /mt7610_ap.ko mac=00:0C:F6:EB:13:B9<br />Sat Dec 31 09:56:38 2016 kern.debug kernel: [&nbsp; 740.987908] rtpci 0000:01:00.0: no of_node; not parsing pinctrl DT<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 740.999675] <br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 740.999675] <br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 740.999675] === pAd = c0b81000, size = 837024 ===<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 740.999675] <br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.009465] &lt;-- RTMPAllocTxRxRingMemory, Status=0<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.015510] &lt;-- RTMPAllocAdapterBlock, Status=0<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.020139] device_id =0x7650<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.023203] RtmpFlashRead(82d9c334, 80000, 400)<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.033569] RtmpFlashWrite(82d9c334, 80000, 200) IGNORED!<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.039190] ==&gt;MT76x0_WLAN_ChipOnOff(): OnOff:1, pAd-&gt;WlanFunCtrl:0x0, Reg-WlanFunCtrl=0xff000002<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.048305] MACVersion = 0x76502000<br />Sat Dec 31 09:56:38 2016 kern.warn kernel: [&nbsp; 741.051882] MT7610 AP Driver version: 3.0.0.9</p><br /><p>When I put rai0 up I get an error:<br />Sat Dec 31 09:57:25 2016 authpriv.notice sudo:&nbsp; openwrt : TTY=pts/0 ; PWD=/home/openwrt ; USER=root ; COMMAND=/sbin/ifconfig rai0 up<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 757.550281] load fw spent 20ms<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 757.553907] RX DESC a2c5c000 size = 2048<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 757.560774] RX1 DESC a2c5d000 size = 2048<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 757.575109] cfg_mode=14<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 757.577681] cfg_mode=14<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 757.580183] wmode_band_equal(): Band Not Equal!<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.199548] 1. Phy Mode = 49<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.202572] 2. Phy Mode = 49<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.205587] ERROR!!! E2PROM: WRONG VERSION 0x2, should be 1<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.211335] ext_pa_current_setting = 1<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.215178] TXALC&gt; bInternalTxALC = 0<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.218975] 3. Phy Mode = 49<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.221969] AntCfgInit: primary/secondary ant 0/1<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.227267] MCS Set = ff 00 00 00 01<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.231156] MT76x0_ChipBBPAdjust():rf_bw=2, ext_ch=1, PrimCh=36, HT-CentCh=38, VHT-CentCh=42<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.241141] MT76x0_ChipSwitchChannel: DefaultTargetPwr = 28<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.246838] TXALC&gt; bInternalTxALC = 0<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.250671] APStartUp(): AP Set CentralFreq at 42(Prim=36, HT-CentCh=38, VHT-CentCh=42, BBP_BW=2)<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.263813] Main bssid = 00:0c:f6:eb:13:b8<br />Sat Dec 31 09:57:25 2016 kern.warn kernel: [&nbsp; 758.268087] &lt;==== rt28xx_init, Status=0<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.277145] MT76x0_Calibration - Channel = 42, bPowerOn = 1, bSaveCal = 1<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.285997] MT76x0_ChipSwitchChannel: DefaultTargetPwr = 28<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.291708] TXALC&gt; bInternalTxALC = 0<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.295514] FullCalibration():&nbsp; docal = [0006] valid bit[0]<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.301224] FullCalibration - Channel = 42, param = 0x301, bSave = 1, CalibrationMode = 255<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.675579] MT76x0_ChipSwitchChannel: DefaultTargetPwr = 28<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.681293] TXALC&gt; bInternalTxALC = 0<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.685086] FullCalibration():&nbsp; docal = [0006] valid bit[0]<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 758.690791] FullCalibration - Channel = 136, param = 0x401, bSave = 1, CalibrationMode = 255<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.065227] MT76x0_ChipSwitchChannel: DefaultTargetPwr = 28<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.070936] TXALC&gt; bInternalTxALC = 0<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.074727] FullCalibration():&nbsp; docal = [0006] valid bit[0]<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.080432] FullCalibration - Channel = 155, param = 0x501, bSave = 1, CalibrationMode = 255<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.454850] MT76x0_ChipSwitchChannel: DefaultTargetPwr = 28<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.460560] TXALC&gt; bInternalTxALC = 0<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.464350] FullCalibration():&nbsp; docal = [0006] valid bit[0]<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.470056] FullCalibration - Channel = 42, param = 0x701, bSave = 0, CalibrationMode = 255<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.494328] RTMPDrvOpen(1):Check if PDMA is idle!<br />Sat Dec 31 09:57:27 2016 kern.warn kernel: [&nbsp; 759.499177] RTMPDrvOpen(2):Check if PDMA is idle!</p>											<p class="post-edited">(Last edited by <strong>gargle</strong> on 3 Jan 2017, 14:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348507">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">gbordier</div>
					<div class="post-datetime">
						5 Jan 2017, 19:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yoq wrote:</cite><blockquote><p>xmas release <a href="http://beinder.at/pub/c2_r50020.zip">OpenWrt r50020 + 5G driver</a> <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br /> - will now read the correct mac address from rom, for both 2.4G and 5G wifi</p><p>and here is a new openwrt recovery image, back-to-stock recovery image, and a simple tftp server for linux:<br /><a href="http://beinder.at/pub/c2_recovery.zip">beinder.at/pub/c2_recovery.zip</a><br /></p><div class="quotebox"><blockquote><p><strong>TFTP flashing:</strong><br /> - turn the C2 off<br /> - connect a ethernet cable from any port to your machine<br /> - set your machines&#039; IP to static 192.168.0.66/255.255.255.0<br /> - set up your TFTP server (windows: tftpd32, linux: simple server in folder)<br /> - hold the WPS/Reset button<br /> - turn the C2 on<br /> - keep holding the WPS/Reset button until the WPS light comes on (takes ~10sec)<br /> - the C2 will now attempt to pull the file ArcherC2V1_tp_recovery.bin from your TFTP server<br /> - flashing takes about 1 minute and reboot afterwards<br /> - set your machines&#039; IP back to dynamic<br /> - WebUI for stock firmware is at 192.168.0.1, OpenWrt is at 192.168.1.1</p></blockquote></div></blockquote></div><p>Thanks Yoq for this, it works perfectly.<br />Would you mind sharing a kmod-tun module from your build environment ?<br />, using the kmod-tun from the trunk triggers kernel panics.</p><p>Alternatively I&#039;ll try compiling my own, but I could use your .config file and a few pointers.<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348556">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">iryna7</div>
					<div class="post-datetime">
						6 Jan 2017, 05:11					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://bitbucket.org/dbeinder/profile/repositories">https://bitbucket.org/dbeinder/profile/repositories</a></p><p>for Archer C2. link detection is not working, i guess. once i unpluged WAN(dhcp) port it still has dhcp ip address and link informations. any ideas ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348599">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">eddy551</div>
					<div class="post-datetime">
						6 Jan 2017, 19:37					</div>
				</div>
				<div class="post-content content">
					<p>@gargle <br />Did you install the &quot;wireless-tools&quot; package? It&#039;s mandatory for the 5Ghz extension.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348670">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">gargle</div>
					<div class="post-datetime">
						7 Jan 2017, 11:54					</div>
				</div>
				<div class="post-content content">
					<p>@eddy551, I did, you need that package for the iwpriv command.</p><div class="codebox"><pre><code>openwrt@OpenWrt:~$ sudo opkg list-installed wireless-tools
wireless-tools - 29-5</code></pre></div><p>What am I missing?</p><p>AFAIK, the only things needed should be the wireless-tools, the extra etc and etc_ro files, insmod /mt7610_ap.ko mac=&quot;00:0C:F6:EB:13:B9&quot;, ifconfig rai0 up, iwpriv rai0 set AuthMode=WPA2PSK,iwpriv rai0 set EncrypType=AES,iwpriv rai0 set SSID=Gargle5G,iwpriv rai0 set WPAPSK=&lt;pw&gt;,iwpriv rai0 set Channel=36, and modifying the settings in physical settings. That should be it, no?</p>											<p class="post-edited">(Last edited by <strong>gargle</strong> on 9 Jan 2017, 11:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349245">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">gargle</div>
					<div class="post-datetime">
						13 Jan 2017, 18:48					</div>
				</div>
				<div class="post-content content">
					<p>@eddy551, my problem sat between the keyboard and my chair... I&#039;m an idiot! Chromecast and the old laptop I was using don&#039;t support 5 Ghz. </p><p>5 Ghz works with a laptop I brought from work <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p>Sorry for the confusion. The new years&#039; celebrations must have clouded my brain.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349349">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">EXcomZkko</div>
					<div class="post-datetime">
						16 Jan 2017, 01:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello yoq,</p><p>I&#039;ve used linked recovery file for back to stock, but I have a problem. I was in the US firmware before installing openwrt, but it&#039;s converted to EU one after coming back stock. (Revert file is include a EU firmware I think) I tried to flash US firmware via web ui, but it does not accept.</p><p>Is there any way to flash US version?</p><p><strong>Edit</strong>: I&#039;ve done it. Downloaded latest US firmware and cutted myself. Then flashed via tftp. Everything is fine now.</p><div class="quotebox"><cite>yoq wrote:</cite><blockquote><p>xmas release <a href="http://beinder.at/pub/c2_r50020.zip">OpenWrt r50020 + 5G driver</a> <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br /> - will now read the correct mac address from rom, for both 2.4G and 5G wifi</p><p>and here is a new openwrt recovery image, back-to-stock recovery image, and a simple tftp server for linux:<br /><a href="http://beinder.at/pub/c2_recovery.zip">beinder.at/pub/c2_recovery.zip</a><br /></p><div class="quotebox"><blockquote><p><strong>TFTP flashing:</strong><br /> - turn the C2 off<br /> - connect a ethernet cable from any port to your machine<br /> - set your machines&#039; IP to static 192.168.0.66/255.255.255.0<br /> - set up your TFTP server (windows: tftpd32, linux: simple server in folder)<br /> - hold the WPS/Reset button<br /> - turn the C2 on<br /> - keep holding the WPS/Reset button until the WPS light comes on (takes ~10sec)<br /> - the C2 will now attempt to pull the file ArcherC2V1_tp_recovery.bin from your TFTP server<br /> - flashing takes about 1 minute and reboot afterwards<br /> - set your machines&#039; IP back to dynamic<br /> - WebUI for stock firmware is at 192.168.0.1, OpenWrt is at 192.168.1.1</p></blockquote></div></blockquote></div>											<p class="post-edited">(Last edited by <strong>EXcomZkko</strong> on 17 Jan 2017, 10:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349623">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">viciuascuns</div>
					<div class="post-datetime">
						18 Jan 2017, 18:11					</div>
				</div>
				<div class="post-content content">
					<p>Is this firmware working properly ? Are there any issues with it ? Can I just flash it and everything will work ?</p>											<p class="post-edited">(Last edited by <strong>viciuascuns</strong> on 18 Jan 2017, 18:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349640">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">Heinz</div>
					<div class="post-datetime">
						18 Jan 2017, 20:31					</div>
				</div>
				<div class="post-content content">
					<p>@yoq Can You send short instruction to compile padavan 5GHz&nbsp; module?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350139">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">norulez.nikita</div>
					<div class="post-datetime">
						24 Jan 2017, 14:48					</div>
				</div>
				<div class="post-content content">
					<p>Good day guys (or night maybe)! I am trying to flash openwrt recovery via tftp using method from post 124. I set serverip to 192.168.0.66 and client (uboot) ip 192.168.0.1. (Server: tftpd64) But something wrong, i cant download firmware from my server. I watching this:</p><div class="codebox"><pre><code>MT7620 # setenv serverip 192.168.0.66
MT7620 # tftpboot 0x82000000 test.bin

 netboot_common, argc= 3

 NetTxPacket = 0x83FE5800

 KSEG1ADDR(NetTxPacket) = 0xA3FE5800

 NetLoop,call eth_halt !

 NetLoop,call eth_init !
Trying Eth0 (10/100-M)

 Waitting for RX_DMA_BUSY status Start... done


 ETH_STATE_ACTIVE!!
TFTP from server 192.168.0.66; our IP address is 192.168.0.1
Filename &#039;test.bin&#039;.

 TIMEOUT_COUNT=10,Load address: 0x82000000
Loading: Got ARP REPLY, set server/gtwy eth addr (00:e0:aa:0a:02:78)
Got it
##
 Same block again; ignore it
T #
 Same block again; ignore it
T ##
 Same block again; ignore it
T
 Same block again; ignore it
T Got ARP REQUEST, return our IP

 Same block again; ignore it
T ####
 Same block again; ignore it
T #
 Same block again; ignore it
T ##
 Same block again; ignore it
T ##
 Same block again; ignore it
T #####
 Same block again; ignore it
T
 Same block again; ignore it

Retry count exceeded; starting again
do_bootm:argc=2, addr=0xbc020000</code></pre></div><p>Same block again; ignore it <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> I turned off firewall and antivirus. Also trying with another server (3com,pimpkin)&nbsp; and back_to_stock bin, get the same. P&#039;s: test.bin is ArcherC2V1_tp_recovery.bin (openwrt build for this router)</p><p>Here uboot version:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Aug 31 2015 - 16:32:16)</code></pre></div><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>norulez.nikita</strong> on 24 Jan 2017, 22:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350263">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">nebik</div>
					<div class="post-datetime">
						26 Jan 2017, 05:28					</div>
				</div>
				<div class="post-content content">
					<p>Same problem. Router connects to tftpd64 on Windows, but after random amount of time (max i got 34%)Timeout error. <br />OS: 0.9.1 4.0 v0032.0 Build 160516 Rel.40209n<br />model: Archer C2 v1 00000001</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350350">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">eddy551</div>
					<div class="post-datetime">
						27 Jan 2017, 09:38					</div>
				</div>
				<div class="post-content content">
					<p>Guys, the filename is not chosen at one&#039;s convenience. The router listens to only one specific file, depending on the model. In your case &quot;ArcherC2V1_tp_recovery.bin&quot;, not something else like &quot;test.bin&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350360">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">Vezexe</div>
					<div class="post-datetime">
						27 Jan 2017, 14:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi, flashed a C20i with release Chaos Chalmer 15.05.1 via tftp method (original TP-Link bootloader + OpenWRT), it works.</p><p>USB port however isn&#039;t working (installed kmod-cxacru for using an ADSL modem but connecting the modem don&#039;t show anything in dmesg), so i tried to update to the latest trunk (openwrt-ramips-mt7620-ArcherC20i-squashfs-sysupgrade.bin oon 2017-01-27 date) from LUCI&#039;s flash firmware interface, sysupgrade from SSH and both updates the firmware, but on reboot i have no web interface (trunk doesn&#039;t have LUCI, so it&#039;s expected) but neither SSH or telnet access!</p><p>I also tried with tftp flash with TP-Link bootloader + trunk, nothing.</p><p>Tried both keeping settings and removing settings from the choice before upgrading, it&#039;s nearly the 5th time i reflash CC via tftp (also, the failsafe mode window is too short and seems no button press does anything, so gone again with tftp)</p>											<p class="post-edited">(Last edited by <strong>Vezexe</strong> on 27 Jan 2017, 14:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350825">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">norulez.nikita</div>
					<div class="post-datetime">
						1 Feb 2017, 16:27					</div>
				</div>
				<div class="post-content content">
					<p>Hey there! I tried flash with name &quot;ArcherC2V1_tp_recovery.bin&quot; and get &quot; Same block again; ignore it&quot; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> What&#039;s wrong ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350826">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">norulez.nikita</div>
					<div class="post-datetime">
						1 Feb 2017, 16:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eddy551 wrote:</cite><blockquote><p>Guys, the filename is not chosen at one&#039;s convenience. The router listens to only one specific file, depending on the model. In your case &quot;ArcherC2V1_tp_recovery.bin&quot;, not something else like &quot;test.bin&quot;.</p></blockquote></div><p>Unfortunately, it&#039;s nonsense <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Update: I can download via tftp another bin files to memory (like original firmware or empty bin file), but when i downloading via tftp files from post 124, i get same block again</p>											<p class="post-edited">(Last edited by <strong>norulez.nikita</strong> on 1 Feb 2017, 18:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351380">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">chrisargiris</div>
					<div class="post-datetime">
						7 Feb 2017, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>Is there a way to use 2.4GHz and 5GHz simultaneously?<br />So far I haven&#039;t managed to make it work...</p><p>Edit...5GHz is working...But no in parallel with the 2.4GHz</p>											<p class="post-edited">(Last edited by <strong>chrisargiris</strong> on 7 Feb 2017, 23:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351550">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">kafarowski</div>
					<div class="post-datetime">
						10 Feb 2017, 00:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />sorry for my English. Could someone tell me step by step how to flash openWRT into my Archer C2?<br />I downloaded c2_r50020.zip Inside I have got&nbsp; file openwrt-ramips-mt7620-ArcherC2-squashfs-sysupgrade.bin I see that I can&#039;t flash this file through factory web interface because in file name the isn&#039;t word: &quot;factory&quot; only sysupgrade.<br />Have I to use the second archive: c2_recovery.zip ?<br />Inside I have got two directories: back_to_stock and openwrt_r50020. First is to restore factory firmware. Second is openwrt but file name isn&#039;t: openwrt-ramips-mt7620-ArcherC2-squashfs-sysupgrade.bin but the same like in first directory: ArcherC2V1_tp_recovery.bin<br />Is this the way to cheat TP-Link recovery procedure with tftp?<br />Will I need to use console cable like in TL-W8970/8980 model?<br />How to install wifi5G.tar.gz step by step?<br />How can I install some GUI after flashing clean openwrt? <br />Thank You for your answers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351613">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">dom133_pl</div>
					<div class="post-datetime">
						10 Feb 2017, 19:07					</div>
				</div>
				<div class="post-content content">
					<p>Its posible to flash this from web interfeca, because i have c20i and i flash stock firmware for c2 and lan ports dont work</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351663">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">Vezexe</div>
					<div class="post-datetime">
						11 Feb 2017, 14:56					</div>
				</div>
				<div class="post-content content">
					<p>@dom133_pl: under C20i OpenWRT wiki, follow the link under &quot;Information on how to install OpenWrt to the device, how to unbrick it and how to TFTP-flash it are provided here.&quot;</p><p>Flashing OpenWRT from the OEM web interface tends to brick the device as written in the wiki.</p><p>Also, C2 != C20i: </p><div class="quotebox"><blockquote><p>Note: The TP-Link Archer C2 AC750 used to link to this page, it now has its own entry at ::link removed as forum permits 0 links:: It is similar to C20i, but has a Gigabit switch instead of the 100M switch in the C20i.</p></blockquote></div><p>There&#039;s also a Kickstarter for &quot;Better support for MT7620A/N in OpenWrt/LEDE&quot; as it should be the SOC used in this router.</p>											<p class="post-edited">(Last edited by <strong>Vezexe</strong> on 11 Feb 2017, 15:00)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 7 of 14</div><nav><ul><li><a href="viewtopic.php%3Fid=52625&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=52625&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=52625&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=52625&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=52625&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=52625&amp;p=14.html">14</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>