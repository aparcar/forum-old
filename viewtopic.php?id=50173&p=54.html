<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Update on Linksys WRT1900AC support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 16 Sep 2014 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 54 of 598</div><nav><ul><li><a href="viewtopic.php%3Fid=50173&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50173&amp;p=52.html">52</a></li><li><a href="viewtopic.php%3Fid=50173&amp;p=53.html">53</a></li><li class="pagination-current"><span>54</span></li><li><a href="viewtopic.php%3Fid=50173&amp;p=55.html">55</a></li><li><a href="viewtopic.php%3Fid=50173&amp;p=56.html">56</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50173&amp;p=598.html">598</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p253564">
				<div class="post-metadata">
					<div class="post-num">Post #1326</div>
					<div class="post-author">gufus</div>
					<div class="post-datetime">
						8 Nov 2014, 01:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fluxsmith wrote:</cite><blockquote><p>I recently asked for help with WPA and OpenVPN</p><p>After &#039;gufus&#039; assured me WPA should work (thank you), I found the reason it was missing from Luci was just missing packages.&nbsp; I rebuilt with the luci-ssl master package selected and everything wpa related configured with Luci just fine.</p><p>My OpenVPN problem turned out to be a firewall issue, never would have guessed it from the LZO error logged, but the firewall wasn&#039;t even allowing the packets to forward.&nbsp; --resolved.</p></blockquote></div><p>@fluxsmith Is openvpn working for you?</p>											<p class="post-edited">(Last edited by <strong>gufus</strong> on 8 Nov 2014, 01:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253566">
				<div class="post-metadata">
					<div class="post-num">Post #1327</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						8 Nov 2014, 01:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nitroshift wrote:</cite><blockquote><p>@Chadster or mmilburn</p><p>Could you PLEASE compile a u-boot file in .kwb format for armada xp / kirkwood architecture from the one here: <a href="https://github.com/jimmychungbelkin/Mamba/commit/a9089651f3bf3d5db62afcea655ece6280ba28fb">https://github.com/jimmychungbelkin/Mam … 6280ba28fb</a> ? It is done with mkimage and the switches needed are -A and -d. I would do it myself but lack the skills and the right toolchain. Thanks!</p></blockquote></div><p>Looking into it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253678">
				<div class="post-metadata">
					<div class="post-num">Post #1328</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						9 Nov 2014, 05:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nitroshift wrote:</cite><blockquote><p>Could you PLEASE compile a u-boot file in .kwb format for armada xp / kirkwood architecture from the one here: <a href="https://github.com/jimmychungbelkin/Mamba/commit/a9089651f3bf3d5db62afcea655ece6280ba28fb">https://github.com/jimmychungbelkin/Mam … 6280ba28fb</a> ? It is done with mkimage and the switches needed are -A and -d. I would do it myself but lack the skills and the right toolchain. Thanks!</p></blockquote></div><p>What&#039;s up with current u-boot binary?&nbsp; Is bubt giving you errors?&nbsp; The reason I ask is because kirkwood is pretty different from armada xp.</p><div class="codebox"><pre><code>$./mkimage -A arm -d u-boot-v1.3.25.bin u-boot-v1.3.25.bin.kwb
Image Name:
Created:      Sat Nov  8 19:55:38 2014
Image Type:   ARM Linux Kernel Image (gzip compressed) #This worries me!
Data Size:    913664 Bytes = 892.25 kB = 0.87 MB
Load Address: 00000000
Entry Point:  00000000</code></pre></div><p>I don&#039;t think it&#039;s right, but here&#039;s your image:<br /><a href="http://www.protechs-online.com/downloads/McWRT/Images/u-boot-v1.3.25.bin.kwb.gz">http://www.protechs-online.com/download … bin.kwb.gz</a></p><p>Some food for thought:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00100000 00020000 &quot;u-boot&quot;
mtd1: 00040000 00020000 &quot;u_env&quot;
mtd2: 00040000 00020000 &quot;s_env&quot;
mtd3: 00100000 00020000 &quot;devinfo&quot;
mtd4: 02800000 00020000 &quot;kernel1&quot;
mtd5: 02500000 00020000 &quot;ubi&quot;
mtd6: 02800000 00020000 &quot;kernel2&quot;
mtd7: 02500000 00020000 &quot;rootfs2&quot;
mtd8: 02600000 00020000 &quot;syscfg&quot;
mtd9: 00008000 00008000 &quot;spi0.0&quot;
root@OpenWrt:/# hexdump -C /dev/mtd0 | head -n10
00000000  8b 00 00 00 00 61 0c 00  01 01 00 90 00 90 01 00  |.....a..........|
00000010  00 00 00 00 00 00 00 00  00 02 01 00 00 00 01 da  |................|
00000020  02 01 98 80 02 00 00 00  5b 00 00 00 68 00 00 00  |........[...h...|
00000030  ff 5f 2d e9 1c 00 00 fa  00 00 a0 e3 ff 9f bd e8  |._-.............|
00000040  fe 1f 2d e9 36 0f 07 ee  fe 1f bd e8 1e ff 2f e1  |..-.6........./.|
00000050  fe 1f 2d e9 ba 0f 07 ee  3e 0f 07 ee 9a 0f 07 ee  |..-.....&gt;.......|
00000060  fe 1f bd e8 1e ff 2f e1  fe 1f 2d e9 5f f0 7f f5  |....../...-._...|
00000070  3e 0f 07 ee 4f f0 7f f5  fe 1f bd e8 1e ff 2f e1  |&gt;...O........./.|
00000080  10 1f 11 ee 02 1a c1 e3  00 10 81 e1 10 1f 01 ee  |................|
00000090  4f f0 7f f5 1e ff 2f e1  00 10 0f e1 01 1c c1 e3  |O...../.........|
root@OpenWrt:/# hexdump -C /dev/mtd4 | head -n10
00000000  27 05 19 56 4d e0 13 df  54 54 5a 1f 00 16 65 21  |&#039;..VM...TTZ...e!|
00000010  00 00 80 00 00 00 80 00  1e 5c cd 8c 05 02 02 00  |.........\......|
00000020  41 52 4d 20 4f 70 65 6e  57 72 74 20 4c 69 6e 75  |ARM OpenWrt Linu|
00000030  78 2d 33 2e 31 34 2e 31  38 00 00 00 00 00 00 00  |x-3.14.18.......|
00000040  00 00 a0 e1 00 00 a0 e1  00 00 a0 e1 00 00 a0 e1  |................|
*
00000060  02 00 00 ea 18 28 6f 01  00 00 00 00 b8 2f 16 00  |.....(o....../..|
00000070  00 90 0f e1 f9 0d 00 eb  01 70 a0 e1 02 80 a0 e1  |.........p......|
00000080  00 20 0f e1 03 00 12 e3  01 00 00 1a 17 00 a0 e3  |. ..............|
00000090  56 34 12 ef 00 00 0f e1  1a 00 20 e2 1f 00 10 e3  |V4........ .....|</code></pre></div><div class="codebox"><pre><code>$hexdump -C u-boot-v1.3.25.bin | head -n10
00000000  8b 00 00 00 00 61 0c 00  01 01 00 90 00 90 01 00  |.....a..........|
00000010  00 00 00 00 00 00 00 00  00 02 01 00 00 00 01 da  |................|
00000020  02 01 98 80 02 00 00 00  5b 00 00 00 68 00 00 00  |........[...h...|
00000030  ff 5f 2d e9 1c 00 00 fa  00 00 a0 e3 ff 9f bd e8  |._-.............|
00000040  fe 1f 2d e9 36 0f 07 ee  fe 1f bd e8 1e ff 2f e1  |..-.6........./.|
00000050  fe 1f 2d e9 ba 0f 07 ee  3e 0f 07 ee 9a 0f 07 ee  |..-.....&gt;.......|
00000060  fe 1f bd e8 1e ff 2f e1  fe 1f 2d e9 5f f0 7f f5  |....../...-._...|
00000070  3e 0f 07 ee 4f f0 7f f5  fe 1f bd e8 1e ff 2f e1  |&gt;...O........./.|
00000080  10 1f 11 ee 02 1a c1 e3  00 10 81 e1 10 1f 01 ee  |................|
00000090  4f f0 7f f5 1e ff 2f e1  00 10 0f e1 01 1c c1 e3  |O...../.........|

$hexdump -C u-boot-v1.3.25.bin.kwb | head -n10
00000000  27 05 19 56 41 6d 6b c6  54 5e d7 aa 00 0d f1 00  |&#039;..VAmk.T^......|
00000010  00 00 00 00 00 00 00 00  e9 b0 7d 9d 05 02 02 01  |..........}.....|
00000020  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00000040  8b 00 00 00 00 61 0c 00  01 01 00 90 00 90 01 00  |.....a..........|
00000050  00 00 00 00 00 00 00 00  00 02 01 00 00 00 01 da  |................|
00000060  02 01 98 80 02 00 00 00  5b 00 00 00 68 00 00 00  |........[...h...|
00000070  ff 5f 2d e9 1c 00 00 fa  00 00 a0 e3 ff 9f bd e8  |._-.............|
00000080  fe 1f 2d e9 36 0f 07 ee  fe 1f bd e8 1e ff 2f e1  |..-.6........./.|
00000090  fe 1f 2d e9 ba 0f 07 ee  3e 0f 07 ee 9a 0f 07 ee  |..-.....&gt;.......|</code></pre></div><p>Note that the header of my running uboot image looks like u-boot-v1.3.25.bin.&nbsp; u-boot-v1.3.25.bin.kwb has a header similar to a kernel image.&nbsp; It looks like mkimage only added 64 bytes to the whole image (I think those bytes are the magic that tells the loader &quot;Hey, this is a kernel image&quot;):</p><div class="codebox"><pre><code>$wc -c u-boot-v1.3.25.bin*
 913664 u-boot-v1.3.25.bin
 913728 u-boot-v1.3.25.bin.kwb
1827392 total</code></pre></div>											<p class="post-edited">(Last edited by <strong>mmilburn</strong> on 9 Nov 2014, 10:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253682">
				<div class="post-metadata">
					<div class="post-num">Post #1329</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						9 Nov 2014, 06:47					</div>
				</div>
				<div class="post-content content">
					<p>wlan-v7 firmware analysis follow along [part 2/?]:</p><p>Did some more thinking about the firmware file today.&nbsp; Write-up is here:<br /><a href="https://github.com/mmilburn/88W8764-firmware/wiki/Firmware-investigation-20141108">https://github.com/mmilburn/88W8764-fir … n-20141108</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253691">
				<div class="post-metadata">
					<div class="post-num">Post #1330</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						9 Nov 2014, 08:34					</div>
				</div>
				<div class="post-content content">
					<p>@mmilburn</p><p>My router&#039;s u-boot is corrupt, it doesn&#039;t load but I found a way to transfer it from a Linux machine, however, the tool needs a .kwb image, .bin errors out while transferring. Got a u-boot file for a different armada xp box (mirabox, taken from here: <a href="http://1wt.eu/articles/mirabox-vs-guruplug/">http://1wt.eu/articles/mirabox-vs-guruplug/</a> that gets transferred fine but doesn&#039;t boot (obviously). That .kwb image says it is made for Kirkwood, that&#039;s why I asked. Will try it very soon and come back with my result. Thanks a lot for now.</p><p>nitroshift</p><p>PS. On the other hand, if you could dump your router&#039;s u-boot image in .kwb format, that would be really helpful in reviving my router.</p><p>EDIT:</p><p>Tried the .kwb file made by mmilburn, errors out with &quot;Invalid Header Checksum&quot;. I feel I&#039;m getting closer to reviving my unit, I only need a working u-boot.kwb file for this router.</p>											<p class="post-edited">(Last edited by <strong>nitroshift</strong> on 9 Nov 2014, 14:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253717">
				<div class="post-metadata">
					<div class="post-num">Post #1331</div>
					<div class="post-author">piwi3910</div>
					<div class="post-datetime">
						9 Nov 2014, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys just quickly wanted to share how to get Multi-ssid running on 1.0.5 MCWRT<br />it seems the Marvel driver creates sub-interfaces automatic but openwrt doesn&#039;t use them as they are non standard.<br />the easiest way to get the multi-ssid running is the follow</p><p>open /etc/config/wireless</p><p>duplicate the following statements in the config</p><p>config wifi-device &#039;wdev0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;marvell&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wmm &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htbw &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel &#039;6&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode &#039;11an&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device_name &#039;MAMBA&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option manufacturer &#039;belkin.com&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;wdev0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;wdev0ap0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ampdutx &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option amsdu &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wps_config &#039;label display push_button&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;piwifi-oman&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;mypassword&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option doth &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option compression &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option bursting &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option turbo &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ff &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wmm &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option xr &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ar &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;</p><p>and replace wdev0 by wdev3 in all statements<br />and replace wdev0ap0 with wdev0ap1</p><p>if you want the 5ghz interface just use wdev1ap1 </p><p>network restart and un luci you can now config your wdev3 interface<br />all real wifi related settings don&#039;t do anything, but you can change the authentication and so.<br />and get multi-ssid running until we get a wifi driver that follows the standards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253773">
				<div class="post-metadata">
					<div class="post-num">Post #1332</div>
					<div class="post-author">gufus</div>
					<div class="post-datetime">
						10 Nov 2014, 01:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>piwi3910 wrote:</cite><blockquote><p>Hi guys just quickly wanted to share how to get Multi-ssid running on 1.0.5 MCWRT<br />it seems the Marvel driver creates sub-interfaces automatic but openwrt doesn&#039;t use them as they are non standard.<br />the easiest way to get the multi-ssid running is the follow</p><p>open /etc/config/wireless</p><p>duplicate the following statements in the config</p><p>config wifi-device &#039;wdev0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;marvell&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wmm &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htbw &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel &#039;6&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode &#039;11an&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device_name &#039;MAMBA&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option manufacturer &#039;belkin.com&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;wdev0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;wdev0ap0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ampdutx &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option amsdu &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wps_config &#039;label display push_button&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;piwifi-oman&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;mypassword&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option doth &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option compression &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option bursting &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option turbo &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ff &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option wmm &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option xr &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ar &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;</p><p>and replace wdev0 by wdev3 in all statements<br />and replace wdev0ap0 with wdev0ap1</p><p>if you want the 5ghz interface just use wdev1ap1 </p><p>network restart and un luci you can now config your wdev3 interface<br />all real wifi related settings don&#039;t do anything, but you can change the authentication and so.<br />and get multi-ssid running until we get a wifi driver that follows the standards.</p></blockquote></div><p>FYI<br /><a href="https://github.com/Chadster766/McWRT/issues/56">https://github.com/Chadster766/McWRT/issues/56</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253775">
				<div class="post-metadata">
					<div class="post-num">Post #1333</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						10 Nov 2014, 02:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nitroshift wrote:</cite><blockquote><p>My router&#039;s u-boot is corrupt, it doesn&#039;t load but I found a way to transfer it from a Linux machine, however, the tool needs a .kwb image, .bin errors out while transferring. Got a u-boot file for a different armada xp box (mirabox, taken from here: <a href="http://1wt.eu/articles/mirabox-vs-guruplug/">http://1wt.eu/articles/mirabox-vs-guruplug/</a> that gets transferred fine but doesn&#039;t boot (obviously).</p></blockquote></div><p>I&#039;m starting to understand the problem now.&nbsp; That URL is the key.&nbsp; The writeup is excellent, but there are a few critical bits missing (like how he identified the header of the DDR initialization image).</p><div class="quotebox"><cite>nitroshift wrote:</cite><blockquote><p>PS. On the other hand, if you could dump your router&#039;s u-boot image in .kwb format, that would be really helpful in reviving my router.</p></blockquote></div><p>Here&#039;s what&#039;s going on:<br />The uboot bin image taken from Mamba works, but it&#039;s not really a u-boot image.&nbsp; This image (and consequently, what is running on every WRT1900ac) is actually the output of the &#039;doimage&#039; utility described in that writeup.&nbsp; This image is marvell specific binary with a DDR init module and uboot embedded inside of it.</p><p>The kwb format is neither here nor there.&nbsp; What needs to be done is to: <br />a) study the doimage code to understand the marvell binary format (so one can correctly extract the embedded images)<br />b) extract the ddr init image from our uboot bin<br />c) extract uboot image from our uboot bin<br />d) patch ddr init image to output on something other than the serial interface (this is described in the writeup)<br />e) build a recovery image using the extracted and patched images with doimage (doimage -T uart ...)</p><p>One can build the doimage tool by grabbing u-boot code.&nbsp; Just go ahead and grab a copy of uboot.&nbsp; Specific version doesn&#039;t seem to matter too much, but a marvell specific branch is here <a href="http://git.denx.de/?p=u-boot/u-boot-marvell.git;a=summary">http://git.denx.de/?p=u-boot/u-boot-mar … ;a=summary</a>.&nbsp; Then, look at the readup again, and follow the instructions for obtaining and applying that patch so you can get a copy of the doimage code.&nbsp; After doing that, go into the uboot checkout, run make menuconfig and make sure the &quot;sandbox&quot; arch is selected.&nbsp; Save changes.&nbsp; Run make tools.&nbsp; Doimage should be built now.&nbsp; At this point, you&#039;ll have to read through the doimage code to understand the format of our uboot image.&nbsp; Once you can confirm the init images contained within our uboot image, extract them and use doimage to build your recovery image.&nbsp; It should be noted that the ddr init will probably have to be patched to not output to the serial console, unfortunately, I do not know where the output should go.</p><p>I was able to find the start of the ddr image last night, unfortunately, I did not have a good enough understanding of the code to find the start and end positions of each init image.</p><p>Also, I have no reason to believe that Marvell would see this, but I just want to vent some frustrations in a public place.</p><p>WTF IS UP WITH YOUR CODE MARVELL?&nbsp; The only exception seems to be the linux kernel (because they won&#039;t let you commit trash).&nbsp; All the code of yours that I seem to find are:<br />1. crazy hackjobs<br />2. have 20kb of nonsensical license headers (either default to the most permissive one, or select the one that applies to the project)<br />3. contained within gigantic, braindead patches that seem to be inevitably rejected (with good reason) and are scattered across the internet.</p><p>Where is your GPL page?&nbsp; You could keep all your crazy patches there.&nbsp; I&#039;m really starting to believe you&#039;re maintaining GPL compliance in the most antagonistic way possible.</p><p>Thank goodness for the free electrons people.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253780">
				<div class="post-metadata">
					<div class="post-num">Post #1334</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						10 Nov 2014, 03:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><p>b) extract the ddr init image from our uboot bin<br />c) extract uboot image from our uboot bin<br />d) patch ddr init image to output on something other than the serial interface (this is described in the writeup)</p></blockquote></div><p>Looks like you could get the ddr image from here: <a href="https://patchwork.ozlabs.org/project/uboot/list/?submitter=13&amp;state=*&amp;q=arm&amp;archive=both&amp;delegate=1696">https://patchwork.ozlabs.org/project/ub … egate=1696</a></p><p>Assuming you have a cross-compiler setup.&nbsp; Given the information detailed in that patchset, mainline uboot may not be too far away from fully supporting this device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253796">
				<div class="post-metadata">
					<div class="post-num">Post #1335</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						10 Nov 2014, 09:07					</div>
				</div>
				<div class="post-content content">
					<p>Thanks @mmilburn</p><p>I have read EVERYTHING you wrote above but unfortunately I&#039;m not proficient in Linux almost at all. That&#039;s why I came to ask you for help. Could you or Chadster build a u-boot.kwb that I can transfer to the router and boot it up? On the other hand I was thinking to get in touch with Linksys / Belkin and ask them nicely to send me the file I need. Unfortunately it&#039;s too early to phone them up but I will definitely try this option too and come back with their reply.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253806">
				<div class="post-metadata">
					<div class="post-num">Post #1336</div>
					<div class="post-author">Chadster766</div>
					<div class="post-datetime">
						10 Nov 2014, 10:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>piwi3910 wrote:</cite><blockquote><p>Hi guys just quickly wanted to share how to get Multi-ssid running on 1.0.5 MCWRT<br />it seems the Marvel driver creates sub-interfaces automatic but openwrt doesn&#039;t use them as they are non standard.<br />the easiest way to get the multi-ssid running is the follow</p></blockquote></div><p>Thanks I added this to the OpenWRT McWRT Wiki.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253825">
				<div class="post-metadata">
					<div class="post-num">Post #1337</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						10 Nov 2014, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>Belkin declined to send me a working copy of u-boot.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253837">
				<div class="post-metadata">
					<div class="post-num">Post #1338</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						10 Nov 2014, 18:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nitroshift wrote:</cite><blockquote><p>Belkin declined to send me a working copy of u-boot.<br />nitroshift</p></blockquote></div><p>I will build an image.&nbsp; It will take me some time.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253848">
				<div class="post-metadata">
					<div class="post-num">Post #1339</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						10 Nov 2014, 20:05					</div>
				</div>
				<div class="post-content content">
					<p>@mmilburn</p><p>I really appreciate your work and time to help me. Once I have the file I will write a how-to and ask Chadster to make me a contributor so others can benefit too.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253862">
				<div class="post-metadata">
					<div class="post-num">Post #1340</div>
					<div class="post-author">lifehacksback</div>
					<div class="post-datetime">
						10 Nov 2014, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>Quick questions,</p><p>Can we use uhttpd (<a href="http://wiki.openwrt.org/doc/howto/http.uhttpd">http://wiki.openwrt.org/doc/howto/http.uhttpd</a>)? Benefits?</p><p>Will McWRT focus on Luci2 (<a href="http://wiki.openwrt.org/doc/techref/luci2">http://wiki.openwrt.org/doc/techref/luci2</a>)?</p><p>Finally would incorporating systemd be possible or beneficial? </p><p>Thanks,</p><p>lifehacksback</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253871">
				<div class="post-metadata">
					<div class="post-num">Post #1341</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						11 Nov 2014, 01:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lifehacksback wrote:</cite><blockquote><p>Quick questions,<br />Can we use uhttpd (<a href="http://wiki.openwrt.org/doc/howto/http.uhttpd">http://wiki.openwrt.org/doc/howto/http.uhttpd</a>)? Benefits?<br />Will McWRT focus on Luci2 (<a href="http://wiki.openwrt.org/doc/techref/luci2">http://wiki.openwrt.org/doc/techref/luci2</a>)?<br />Finally would incorporating systemd be possible or beneficial?</p></blockquote></div><p>1.&nbsp; I think we&#039;re already using uhttpd?&nbsp; I don&#039;t have a way to confirm at the moment, I broke my dyn dns.</p><p>2.&nbsp; No one has voiced a desire to work on that, you&#039;re welcome to look into it.</p><p>3.&nbsp; I would be hesitant to use anything other than OpenWRT&#039;s default system architecture simply because I have a strong suspicion that we&#039;d never be allowed to push the changes back into the mainline.</p><p>OpenWRT architecture overview:<br /><a href="http://wiki.openwrt.org/doc/techref/procd#openwrt.operating.system.architecture">http://wiki.openwrt.org/doc/techref/pro … chitecture</a></p><p>Someone has done it, but it looks like some core OpenWRT systems (like overlayfs) don&#039;t work from the get go.<br /><a href="https://forum.openwrt.org/viewtopic.php?id=49599">https://forum.openwrt.org/viewtopic.php?id=49599</a></p><p>Is there some reason why you&#039;d like to run systemd?</p>											<p class="post-edited">(Last edited by <strong>mmilburn</strong> on 11 Nov 2014, 01:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253882">
				<div class="post-metadata">
					<div class="post-num">Post #1342</div>
					<div class="post-author">lifehacksback</div>
					<div class="post-datetime">
						11 Nov 2014, 04:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><p>1.&nbsp; I think we&#039;re already using uhttpd?&nbsp; I don&#039;t have a way to confirm at the moment, I broke my dyn dns.</p></blockquote></div><p>Yes! Apparently uhttpd is a dependency for LuCi.</p><div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><p>2.&nbsp; No one has voiced a desire to work on that, you&#039;re welcome to look into it.</p></blockquote></div><p>I&#039;ll try my best to look into it</p><div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><p>3.&nbsp; I would be hesitant to use anything other than OpenWRT&#039;s default system architecture simply because I have a strong suspicion that we&#039;d never be allowed to push the changes back into the mainline.</p></blockquote></div><p>I see. Maybe (later on) I&#039;ll try to fork McWRT and try to integrate systemd and test performance.</p><div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><p>Is there some reason why you&#039;d like to run systemd?</p></blockquote></div><p>Speed mainly and the nice structure it has. I want to learn system administration and mastering one of these would be nice, and since systemd is so popular i was wondering if we could at lease try to see if porting it would work! idk just something im curious about.</p><p>---------------------------------------------------------------------------------------------------------------------------------------------------</p><p>Reading the port-in-progress here is the code to integrate systemd (<a href="https://github.com/aport/openwrt-systemd">https://github.com/aport/openwrt-systemd</a>) into Openwrt. I dont know why I have such facination for systemd but i want to at lease want to toy around with this idea.</p><p>Anyone can help me set up a build environment on ubuntu to build an image? (PS if you need someone to make an image just ask me I have 2 quad core computer that I can leave on for lon periods of time [one has ssds to speed up the process]) </p><p>Thanks Again,<br />lifehacksback</p>											<p class="post-edited">(Last edited by <strong>lifehacksback</strong> on 11 Nov 2014, 04:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253887">
				<div class="post-metadata">
					<div class="post-num">Post #1343</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						11 Nov 2014, 04:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lifehacksback wrote:</cite><blockquote><p>Anyone can help me set up a build environment on ubuntu to build an image? (PS if you need someone to make an image just ask me I have 2 quad core computer that I can leave on for lon periods of time [one has ssds to speed up the process]) </p><p>Thanks Again,<br />lifehacksback</p></blockquote></div><p>General OpenWRT build info:<br /><a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence">http://wiki.openwrt.org/doc/howto/buildroot.exigence</a></p><p>All the pre-reqs (I think it has some stuff in there that is no longer required, but whatever):<br /><a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence#examples.of.package.installations">http://wiki.openwrt.org/doc/howto/build … tallations</a></p><p>More specific build info:<br /><a href="https://github.com/Chadster766/McWRT/wiki/Building">https://github.com/Chadster766/McWRT/wiki/Building</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253909">
				<div class="post-metadata">
					<div class="post-num">Post #1344</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						11 Nov 2014, 10:39					</div>
				</div>
				<div class="post-content content">
					<p>@mmilburn</p><p>Here&#039;s the output of cat /proc/mtd:</p><p>mtd0: 00100000 00020000 &quot;uboot&quot;<br />mtd1: 00040000 00020000 &quot;u_env&quot;<br />mtd2: 00040000 00020000 &quot;s_env&quot;<br />mtd3: 00100000 00020000 &quot;devinfo&quot;<br />mtd4: 02800000 00020000 &quot;kernel&quot;<br />mtd5: 02500000 00020000 &quot;rootfs&quot;<br />mtd6: 02800000 00020000 &quot;alt_kernel&quot;<br />mtd7: 02500000 00020000 &quot;alt_rootfs&quot;<br />mtd8: 05000000 00020000 &quot;ubifs&quot;<br />mtd9: 02600000 00020000 &quot;syscfg&quot;</p><p>Maybe it helps figuring out the offset and size of mtd0.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253925">
				<div class="post-metadata">
					<div class="post-num">Post #1345</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						11 Nov 2014, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>Had another talk with Linksys Customer Support and the lady I talked to said that she will make everything possible to send me today the u-boot.kwb file needed. Will come back with the result.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253949">
				<div class="post-metadata">
					<div class="post-num">Post #1346</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						11 Nov 2014, 18:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Chadster766 wrote:</cite><blockquote><p>OpenWRT Chaos Calmer for mvebu target creates a usable squashfs image but not a usable jffs2 image. I&#039;d prefer a jffs2 or UBI firmware image if possible.</p><p>If I try to load &quot;openwrt-mvebu-root.jffs2-128k&quot; image file onto the WRT1900AC I get the below error:<br /></p><div class="codebox"><pre><code>NAND read: device 0 offset 0x3200000, size 0x400000
 4194304 bytes read: OK
Wrong Image Format for bootm command
ERROR: can&#039;t get kernel image!</code></pre></div><p>Please advise <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Chad,</p><p>have you had any help on this? I too have been able to build the Chaos Calmer image but it does not generate a flashable factory image, just sysupgrades.</p><p>Do you frequent the Openwrt irc channel? Perhaps one of the developers might be able to weigh in on this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254022">
				<div class="post-metadata">
					<div class="post-num">Post #1347</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						12 Nov 2014, 10:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><div class="quotebox"><cite>mmilburn wrote:</cite><blockquote><p>b) extract the ddr init image from our uboot bin<br />c) extract uboot image from our uboot bin<br />d) patch ddr init image to output on something other than the serial interface (this is described in the writeup)</p></blockquote></div><p>Looks like you could get the ddr image from here: <a href="https://patchwork.ozlabs.org/project/uboot/list/?submitter=13&amp;state=*&amp;q=arm&amp;archive=both&amp;delegate=1696">https://patchwork.ozlabs.org/project/ub … egate=1696</a></p><p>Assuming you have a cross-compiler setup.&nbsp; Given the information detailed in that patchset, mainline uboot may not be too far away from fully supporting this device.</p></blockquote></div><p>What is the exact ddr image from that link?</p><p>nitroshift</p><p>I also just bought for 1 Euro (~1.25 USD) a USB to TTL adapter from here: <a href="http://www.ebay.com/itm/111454965049?_trksid=p2060778.m2749.l2649&amp;ssPageName=STRK%3AMEBIDX%3AIT">http://www.ebay.com/itm/111454965049?_t … EBIDX%3AIT</a></p>											<p class="post-edited">(Last edited by <strong>nitroshift</strong> on 12 Nov 2014, 11:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254027">
				<div class="post-metadata">
					<div class="post-num">Post #1348</div>
					<div class="post-author">lifehacksback</div>
					<div class="post-datetime">
						12 Nov 2014, 11:44					</div>
				</div>
				<div class="post-content content">
					<p>Just an update</p><p>1) I got a rig set up with Ubuntu Gnome 14.10 (I wanted to test the early iterations of systemd and I like ubuntu [long story]) I followed the guide in the github repo and installed everything along with cloning the source. While building there were a bunch of [Y/n/?] or [N/y/?] or [Y/m/?] i just allowed the &quot;default&quot; but since I wasnt sure what I was doing I stopped the build. What are those thing? and why werent they set in the makeconfig screen?</p><p>2) Still waiting for the TTY to USB adapter... man i should have just bought one from amazon lol.</p><p>3) What version of the kernel will CC use? I wanted to see if maybe file systems could be build so the router could detect my external HDD that may be formatted in btrfs or xfs. </p><p>Edit:<br />Reading through the wiki i see that btrfs is supported. Did they backport btrfs or is it an old iteration? </p><p>-lifehacksback</p>											<p class="post-edited">(Last edited by <strong>lifehacksback</strong> on 12 Nov 2014, 11:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254047">
				<div class="post-metadata">
					<div class="post-num">Post #1349</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						12 Nov 2014, 15:36					</div>
				</div>
				<div class="post-content content">
					<p>Update:</p><p>Linksys declined again to send me u-boot.kwb... Waiting for @mmilburn to revive my unit and the RMA to get a new one.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254090">
				<div class="post-metadata">
					<div class="post-num">Post #1350</div>
					<div class="post-author">mmilburn</div>
					<div class="post-datetime">
						12 Nov 2014, 21:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nitroshift wrote:</cite><blockquote><p>What is the exact ddr image from that link?</p></blockquote></div><p>In that patchset, there is C code for the ddr driver (this becomes the image).&nbsp; I did some more looking into it last night, and decided against using it right now.&nbsp; My reasoning is as follows:<br />1)&nbsp; Gotta do a little messing around to build said DDR image<br />2)&nbsp; DDR image is not guaranteed to be the same version, or necessarily compatible with the u-boot binary you will need<br />3)&nbsp; For lack of a concise way to express it, I still have to extract the &quot;core&quot; u-boot binary from our u-boot image.&nbsp; Given the structure of the file, I need to know the offset and length of each previous image embedded in our u-boot to find the start of the next image (so I&#039;ll have to find the start and length of the DDR image embedded in our u-boot anyway).&nbsp; At the moment, I&#039;m screwing up my math somehow.&nbsp; I know where the DDR image starts, and the address at which it gives me the length of the image, I&#039;m just somehow computing the jump to the end of the image incorrectly.</p><p>relevant code bits from doimage_armada_xp/boostrap_os.h:<br /></p><div class="codebox"><pre><code>typedef struct BHR_t
{
//      type            name                byte order
        MV_U8           blockID;                //0
        MV_U8           rsvd1;                  //1
        MV_U16          nandPageSize;           //2-3
        MV_U32          blockSize;              //4-7
        MV_U8           version;                //8
        MV_U8           hdrSizeMsb;             //9
        MV_U16          hdrSizeLsb;             //10-11
        MV_U32          sourceAddr;             //12-15
        MV_U32          destinationAddr;        //16-19
        MV_U32          executionAddr;          //20-23
        MV_U8           rsvd3;                  //24
        MV_U8           nandBlockSize;          //25
        MV_U8           nandTechnology;         //26
        MV_U8           rsvd4;                  //27
        MV_U16          rsvd2;                  //28-29
        MV_U8           ext;                    //30
        MV_U8           checkSum;               //31

} BHR_t, * pBHR_t;

#define MAIN_HDR_GET_LEN(pHdr)  \
        (((MV_U32)((pHdr)-&gt;hdrSizeMsb) &lt;&lt; 16) | ((MV_U32)((pHdr)-&gt;hdrSizeLsb)))

#define EXT_HDR_TYP_SECURITY    0x01
#define EXT_HDR_TYP_BINARY      0x02
#define EXT_HDR_TYP_REGISTER    0x03

typedef struct headExtBHR_t /* Common extention header head */
{
//  type        name        byte order
        MV_U8           type;
        MV_U8           lenMsb;
        MV_U16          lenLsb;

} headExtBHR_t;

#define EXT_HDR_SET_LEN(pHead, len)     \
        do {\
                (pHead)-&gt;lenMsb = ((len) &amp; 0x00FF0000) &gt;&gt; 16;\
                (pHead)-&gt;lenLsb =  (len) &amp; 0x0000FFFF;\
        } while(0)

#define EXT_HDR_GET_LEN(pHead)  \
        (((MV_U32)((pHead)-&gt;lenMsb) &lt;&lt; 16) | ((pHead)-&gt;lenLsb))

typedef struct tailExtBHR_t /* Common extention header tail */
{
// type        name        byte order
        MV_U8           nextHdr;
        MV_U8           delay;
        MV_U16          rsvd2;

} tailExtBHR_t;

...

/* Boot Type - block ID */
#define IBR_HDR_I2C_ID          0x4D
#define IBR_HDR_SPI_ID          0x5A
#define IBR_HDR_NAND_ID         0x8B
#define IBR_HDR_SATA_ID         0x78
#define IBR_HDR_PEX_ID          0x9C
#define IBR_HDR_UART_ID         0x69
#define IBR_DEF_ATTRIB          0x00</code></pre></div><p>begining of u-boot-v1.3.25.bin:<br />(opened with vim u-boot-v1.3.25.bin then :%!xxd)<br /></p><div class="codebox"><pre><code>0000000: 8b00 0000 0061 0c00 0101 0090 0090 0100  .....a..........
0000010: 0000 0000 0000 0000 0002 0100 0000 01da  ................
0000020: 0201 9880 0200 0000 5b00 0000 6800 0000  ........[...h...
0000030: ff5f 2de9 1c00 00fa 0000 a0e3 ff9f bde8  ._-.............
0000040: fe1f 2de9 360f 07ee fe1f bde8 1eff 2fe1  ..-.6........./.</code></pre></div><p>To help you make a little sense of the hex:<br />For your rescue u-boot image, we&#039;ll need that first byte to be a 0x69 instead of a 0x8b (IBR_HDR_UART_ID instead of IBR_HDR_NAND_ID), that part is easy though, we just pass -T uart to doimage.&nbsp; Our first extension header &quot;headExtBHR_t&quot; starts at address 0x20.&nbsp; First byte reads 0x02 so it&#039;s a EXT_HDR_TYP_BINARY, the second byte is 0x01 which is our &quot;lenMsb&quot;, the next two bytes are the &quot;lenLsb&quot;.&nbsp; My hangup is that I&#039;m putting lenMsb and lenLsb together incorrectly, and the resulting address doesn&#039;t have the start of the next image (I&#039;m jumping to 0x19098 + 0x24, the next &quot;headExtBHR_t&quot; should be in that region).&nbsp; I have a feeling I&#039;m making some simple mistake.<br />Feel free to check my work.&nbsp; Oh, and the start of the DDR image: 0200 0000 5b00 0000 matches what&#039;s here: <a href="http://1wt.eu/articles/mirabox-vs-guruplug/">http://1wt.eu/articles/mirabox-vs-guruplug/</a></p>											<p class="post-edited">(Last edited by <strong>mmilburn</strong> on 12 Nov 2014, 23:29)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 54 of 598</div><nav><ul><li><a href="viewtopic.php%3Fid=50173&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50173&amp;p=52.html">52</a></li><li><a href="viewtopic.php%3Fid=50173&amp;p=53.html">53</a></li><li class="pagination-current"><span>54</span></li><li><a href="viewtopic.php%3Fid=50173&amp;p=55.html">55</a></li><li><a href="viewtopic.php%3Fid=50173&amp;p=56.html">56</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50173&amp;p=598.html">598</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>