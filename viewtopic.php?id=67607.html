<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [solved] Desactivated access to my WRT1200AC</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p338522">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Arthropode</div>
					<div class="post-datetime">
						18 Sep 2016, 02:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have just made a fresh installation of OpenWRT on my new WRT1200AC. However I have by mistake bricked my router : I think I had deleted the WAN and LAN interfaces. So I can&#039;t get access to my router, even if the system should still work.<br />Is there a way to retrieve control on my router ?</p><p>I have read the page about generic.failsafe<br />I don&#039;t have a serial console, and pushing the button (the rest or the second with arrows) during the led flashing didn&#039;t do anything and I didn&#039;t see any broadcast packet.</p><p>I am well familiarized with Linux (my OS), but I am quite new to networking.</p><p>Thank you</p>											<p class="post-edited">(Last edited by <strong>Arthropode</strong> on 19 Sep 2016, 20:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338524">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Villeneuve</div>
					<div class="post-datetime">
						18 Sep 2016, 03:08					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/toh/linksys/wrt1x00ac_series#firmware_recovery">This</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338535">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Arthropode</div>
					<div class="post-datetime">
						18 Sep 2016, 12:11					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much. I did the instruction, the LED pattern changed and I can now connect to the Lynksys firmware. <br />But now how can I exit from alternate firmware partition ? Have I only to reinstall openwrt from the OEM and reboot ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338538">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">moccolo</div>
					<div class="post-datetime">
						18 Sep 2016, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>now you are on the second partition, the firmware with blocked access is on the other partition. take openwrt or lynksis original and flash from the partition/firmware you are now..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338569">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Villeneuve</div>
					<div class="post-datetime">
						18 Sep 2016, 20:33					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s basically a round-robin, when you flash an image it goes to the partition that you are not currently running. If something goes wrong you can go back to the last working image. With owrt/lede, if you want to keep an image on a parition while trying other images in the second/other partition:<br /></p><div class="codebox"><pre><code>#!/bin/sh
#hacked from /lib/upgrade/linksys.sh

cur_boot_part=`/usr/sbin/fw_printenv -n boot_part`
target_firmware=&quot;&quot;
if [ &quot;$cur_boot_part&quot; = &quot;1&quot; ]
then
    target_firmware=&quot;kernel2&quot;
    fw_setenv boot_part 2
    fw_setenv bootcmd &quot;run altnandboot&quot;
elif [ &quot;$cur_boot_part&quot; = &quot;2&quot; ]
then
    target_firmware=&quot;kernel1&quot;
    fw_setenv boot_part 1
    fw_setenv bootcmd &quot;run nandboot&quot;
fi
# re-enable recovery so we get back if the new firmware is broken
fw_setenv auto_recovery yes
echo &quot;$target_firmware&quot;
reboot</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338660">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Arthropode</div>
					<div class="post-datetime">
						19 Sep 2016, 20:39					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot, all work</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>