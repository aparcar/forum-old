<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Whiterussian rc3 bug?  NVRAM intermittent Bus Error</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p13600">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rniemi</div>
					<div class="post-datetime">
						12 Oct 2005, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;ve spent quite a bit of time trying to track down an issue where my WRT GS v1.1&#039;s and v2.0&#039;s intermittently are unreachable over ethernet after powering up (but from the LED&#039;s, the startup scripts obviously complete).&nbsp; Power cycling a few times eventually brings them back.&nbsp; This occurs both with my own build of Whiterussian rc1, and with the pre-built Whiterussian rc3 squashfs image on the OpenWRT website (tried the pre-built image to rule out that it was a bad build when I built rc1 myself).&nbsp; Interestingly enough, this occurs on roughly 40% of all the GS v1.1&#039;s and v2.0&#039;s I&#039;ve tried (about two dozen total), and loading the Linksys firmware back on them shows that the Linksys firmware does not exhibit the problem, only OpenWRT.&nbsp; Generally on WRT&#039;s that do exhibit the problem, the problem shows up 100% of the time on the first power-up, and usually persists through a few more power cycles, then when it finally starts working, it continues working after power cycles until the WRT has been sitting for a few minutes powered off, then it&#039;s back to square one.&nbsp; I&#039;ve already ruled out temperature, faulty wall warts, power anomalies, chaos, mayhem, etc..</p><p>I played with a GS v1.1 tonight that was exhibiting the problem.&nbsp; To figure it out, I inserted a script as S98blah in /etc/init.d to append a bunch of info (dmesg, nvram show, robocfg, ifconfig, bunch of /proc stuff) to /blah.log.&nbsp; The script is below, as well as the output from a normal startup where everything works properly, followed by the output from a faulty startup where the WRT is unreachable via ethernet.&nbsp; Note that on the faulty startup, &quot;nvram show&quot; yields no output and throws the &quot;Bus Error&quot; fault.&nbsp; It&#039;s apparent the reason the WRT is then unreachable over ethernet is the network NVRAM variables are unavailable and the ethernet interface and VLAN settings are never brought up.</p><p>First, the script I&#039;m using to log what happens on each boot (/etc/init.d/S98blah):<br /></p><div class="quotebox"><blockquote><p>#!/bin/sh</p><p>echo ------------------------------------------------------------- &gt;&gt; /blah.log<br />echo Startup: &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo dmesg: &gt;&gt; /blah.log<br />dmesg &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo Logs: &gt;&gt; /blah.log<br />logread &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo ifconfig: &gt;&gt; /blah.log<br />ifconfig &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo robocfg show: &gt;&gt; /blah.log<br />robocfg show &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo NVRAM variables: &gt;&gt; /blah.log<br />nvram show &gt; /tmp/nvram1.log 2&gt; /tmp/nvram2.log<br />sort &lt; /tmp/nvram1.log &gt;&gt; /blah.log<br />cat /tmp/nvram2.log &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo Environment: &gt;&gt; /blah.log<br />env &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo ps aux: &gt;&gt; /blah.log<br />ps aux &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/net/dev: &gt;&gt; /blah.log<br />cat /proc/net/dev &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/net/vlan/config: &gt;&gt; /blah.log<br />cat /proc/net/vlan/config &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/mtd: &gt;&gt; /blah.log<br />cat /proc/mtd &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/cpuinfo: &gt;&gt; /blah.log<br />cat /proc/cpuinfo &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/meminfo: &gt;&gt; /blah.log<br />cat /proc/meminfo &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/cmdline: &gt;&gt; /blah.log<br />cat /proc/cmdline &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/devices: &gt;&gt; /blah.log<br />cat /proc/devices &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/modules: &gt;&gt; /blah.log<br />cat /proc/modules &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo /proc/interrupts: &gt;&gt; /blah.log<br />cat /proc/interrupts &gt;&gt; /blah.log<br />echo &gt;&gt; /blah.log</p><p>echo &gt;&gt; /blah.log</p><p># End</p></blockquote></div><p>Here&#039;s what ends up in blah.log on a *normal* startup where everything works properly and the NVRAM variables are readable:<br /></p><div class="quotebox"><blockquote><p>-------------------------------------------------------------<br />Startup:</p><p>dmesg:<br />CPU revision is: 00029007<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Linux version 2.4.30 (wbx@ux-2y01) (gcc version 3.4.4) #1 Wed Sep 14 17:49:26 CEST 2005<br />Setting the PFC value as 0x15<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />On node 0 totalpages: 8192<br />zone(0): 8192 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />CPU: BCM4712 rev 1 at 200 MHz<br />Using 100.000 MHz high precision timer.<br />Calibrating delay loop... 199.47 BogoMIPS<br />Memory: 30504k/32768k available (1390k kernel code, 2264k reserved, 100k data, 80k init, 0k highmem)<br />Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)<br />Inode cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: Disabled<br />PCI: Fixing up bus 0<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 0) is a 16550A<br />Software Watchdog Timer: 0.05, timer margin: 60 sec<br />Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />cfi_cmdset_0001: Erase suspend on write enabled<br />0: offset=0x0,size=0x20000,blocks=64<br />Using buffer write method<br />Flash device: 0x800000 at 0x1c000000<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;pmon&quot;<br />0x00040000-0x007e0000 : &quot;linux&quot;<br />0x000ba4b0-0x001c0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x007e0000-0x00800000 : &quot;nvram&quot;<br />0x001c0000-0x007e0000 : &quot;OpenWrt&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 2048 bind 4096)<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack<br />ip_tables: (C) 2000-2002 Netfilter core team<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 80k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />diag boardtype: 00000708<br />jffs2.bbc: SIZE compression mode activated.<br />PCI: Setting latency timer of device 00:02.0 to 64<br />eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0<br />PCI: Setting latency timer of device 00:01.0 to 64<br />eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0<br />device eth0 entered promiscuous mode<br />vlan0: add 01:00:5e:00:00:01 mcast address to master interface<br />device eth1 entered promiscuous mode<br />br0: port 2(eth1) entering learning state<br />br0: port 1(vlan0) entering learning state<br />br0: port 2(eth1) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 1(vlan0) entering forwarding state<br />br0: topology change detected, propagating<br />vlan1: add 01:00:5e:00:00:01 mcast address to master interface</p><p>Logs:<br />Jan&nbsp; 1 00:00:14 (none) syslog.info syslogd started: BusyBox v1.00 (2005.09.14-15:55+0000)<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: klogd started: BusyBox v1.00 (2005.09.14-15:55+0000)<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: CPU revision is: 00029007<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Linux version 2.4.30 (wbx@ux-2y01) (gcc version 3.4.4) #1 Wed Sep 14 17:49:26 CEST 2005<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Setting the PFC value as 0x15<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Determined physical RAM map:<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel:&nbsp; memory: 02000000 @ 00000000 (usable)<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: On node 0 totalpages: 8192<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: zone(0): 8192 pages.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: zone(1): 0 pages.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: zone(2): 0 pages.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: CPU: BCM4712 rev 1 at 200 MHz<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Using 100.000 MHz high precision timer.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Calibrating delay loop... 199.47 BogoMIPS<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Memory: 30504k/32768k available (1390k kernel code, 2264k reserved, 100k data, 80k init, 0k highmem)<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Inode cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Page-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: POSIX conformance testing by UNIFIX<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: PCI: Disabled<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: PCI: Fixing up bus 0<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Linux NET4.0 for Linux 2.4<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Based upon Swansea University Computer Society NET3.039<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Initializing RT netlink socket<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Starting kswapd<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: devfs: boot_options: 0x1<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: pty: 256 Unix98 ptys configured<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: ttyS01 at 0xb8000400 (irq = 0) is a 16550A<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Software Watchdog Timer: 0.05, timer margin: 60 sec<br />Jan&nbsp; 1 00:00:14 (none) kern.debug kernel: Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:14 (none) kern.debug kernel: Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:14 (none) kern.debug kernel: Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: cfi_cmdset_0001: Erase suspend on write enabled<br />Jan&nbsp; 1 00:00:14 (none) kern.debug kernel: 0: offset=0x0,size=0x20000,blocks=64<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: Using buffer write method<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: Flash device: 0x800000 at 0x1c000000<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: 0x00000000-0x00040000 : &quot;pmon&quot;<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: 0x00040000-0x007e0000 : &quot;linux&quot;<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: 0x000ba4b0-0x001c0000 : &quot;rootfs&quot;<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: 0x007e0000-0x00800000 : &quot;nvram&quot;<br />Jan&nbsp; 1 00:00:14 (none) kern.notice kernel: 0x001c0000-0x007e0000 : &quot;OpenWrt&quot;<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: Initializing Cryptographic API<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: NET4: Linux TCP/IP 1.0 for NET4.0<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: IP Protocols: ICMP, UDP, TCP, IGMP<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: IP: routing cache hash table of 512 buckets, 4Kbytes<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: TCP: Hash tables configured (established 2048 bind 4096)<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack<br />Jan&nbsp; 1 00:00:14 (none) kern.warn kernel: ip_tables: (C) 2000-2002 Netfilter core team<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />Jan&nbsp; 1 00:00:14 (none) kern.info kernel: NET4: Ethernet Bridge 008 for NET4.0<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: VFS: Mounted root (squashfs filesystem) readonly.<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Mounted devfs on /dev<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Freeing unused kernel memory: 80k freed<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Algorithmics/MIPS FPU Emulator v1.5<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: diag boardtype: 00000708<br />Jan&nbsp; 1 00:00:16 (none) kern.warn kernel: jffs2.bbc: SIZE compression mode activated.<br />Jan&nbsp; 1 00:00:16 (none) kern.debug kernel: PCI: Setting latency timer of device 00:02.0 to 64<br />Jan&nbsp; 1 00:00:16 (none) kern.warn kernel: eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0<br />Jan&nbsp; 1 00:00:16 (none) user.info : Using /lib/modules/2.4.30/et.o<br />Jan&nbsp; 1 00:00:16 (none) user.info : Warning: loading et will taint the kernel: no license<br />Jan&nbsp; 1 00:00:16 (none) user.info :&nbsp; &nbsp;See <a href="http://www.tux.org/lkml/#export-tainted">http://www.tux.org/lkml/#export-tainted</a> for information about tainted modules<br />Jan&nbsp; 1 00:00:17 (none) kern.debug kernel: PCI: Setting latency timer of device 00:01.0 to 64<br />Jan&nbsp; 1 00:00:17 (none) kern.warn kernel: eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0<br />Jan&nbsp; 1 00:00:17 (none) user.info : Using /lib/modules/2.4.30/wl.o<br />Jan&nbsp; 1 00:00:17 (none) user.info : Warning: loading wl will taint the kernel: no license<br />Jan&nbsp; 1 00:00:17 (none) user.info :&nbsp; &nbsp;See <a href="http://www.tux.org/lkml/#export-tainted">http://www.tux.org/lkml/#export-tainted</a> for information about tainted modules<br />Jan&nbsp; 1 00:00:17 (none) user.info : Using /lib/modules/2.4.30/wlcompat.o<br />Jan&nbsp; 1 00:00:18 (none) kern.info kernel: device eth0 entered promiscuous mode<br />Jan&nbsp; 1 00:00:19 (none) kern.debug kernel: vlan0: add 01:00:5e:00:00:01 mcast address to master interface<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: device eth1 entered promiscuous mode<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: br0: port 2(eth1) entering learning state<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: br0: port 1(vlan0) entering learning state<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: br0: port 2(eth1) entering forwarding state<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: br0: topology change detected, propagating<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: br0: port 1(vlan0) entering forwarding state<br />Jan&nbsp; 1 00:00:19 (none) kern.info kernel: br0: topology change detected, propagating<br />Jan&nbsp; 1 00:00:21 (none) user.info : cat: /var/run/vlan1.pid: No such file or directory<br />Jan&nbsp; 1 00:00:21 (none) user.info : info, udhcpc (v0.9.9-pre) started<br />Jan&nbsp; 1 00:00:21 (none) kern.debug kernel: vlan1: add 01:00:5e:00:00:01 mcast address to master interface<br />Jan&nbsp; 1 00:00:21 (none) user.info : debug, Sending discover...<br />Jan&nbsp; 1 00:00:22 (none) user.info : kill: 1: Usage: kill [-s sigspec | -signum | -sigspec] [pid | job]... or<br />Jan&nbsp; 1 00:00:22 (none) user.info : kill -l [exitstatus]<br />Jan&nbsp; 1 00:00:23 (none) user.info : debug, Sending discover...<br />Jan&nbsp; 1 00:00:23 (none) kern.info dnsmasq[317]: started, version 2.22 cachesize 150<br />Jan&nbsp; 1 00:00:23 (none) kern.info dnsmasq[317]: using local addresses only for domain lan<br />Jan&nbsp; 1 00:00:23 (none) kern.err dnsmasq[317]: failed to load names from /etc/hosts: Permission denied<br />Jan&nbsp; 1 00:00:23 (none) kern.warn dnsmasq[317]: failed to access /etc/resolv.conf: No such file or directory<br />Jan&nbsp; 1 00:00:24 (none) kern.info dropbear[324]: Running in background</p><p>ifconfig:<br />br0&nbsp; &nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:13:10:19:E4:9B&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:10 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:10 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:1108 (1.0 KiB)&nbsp; TX bytes:1708 (1.6 KiB)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:13:10:19:E4:9B&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING PROMISC MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:12 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:12 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:1464 (1.4 KiB)&nbsp; TX bytes:2936 (2.8 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5 Base address:0x2000 </p><p>eth1&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:13:10:19:E4:9D&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:2 errors:9 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:1196 (1.1 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:4 Base address:0x1000 </p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>vlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:13:10:19:E4:9B&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:10 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:10 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:1148 (1.1 KiB)&nbsp; TX bytes:1748 (1.7 KiB)</p><p>vlan1&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:13:10:19:E4:9B&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:2 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:1188 (1.1 KiB)</p><br /><p>robocfg show:<br />Switch: enabled<br />Port 0(W):&nbsp; DOWN enabled stp: none vlan: 1 mac: 00:00:00:00:00:00<br />Port 1(4): 100FD enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 2(3):&nbsp; DOWN enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 3(2):&nbsp; DOWN enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 4(1):&nbsp; DOWN enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 5(C): 100FD enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />VLANs: BCM5325/535x enabled mac_check mac_hash<br />vlan0: 1 2 3 4 5t<br />vlan1: 0 5t<br />vlan2:<br />vlan3:<br />vlan4:<br />vlan5:<br />vlan6:<br />vlan7:<br />vlan8:<br />vlan9:<br />vlan10:<br />vlan11:<br />vlan12:<br />vlan13:<br />vlan14:<br />vlan15:</p><p>NVRAM variables:<br />aa0=3<br />ag0=255<br />boardflags2=0<br />boardflags=0x0318<br />boardnum=42<br />boardrev=0x10<br />boardtype=0x0708<br />boot_ver=v3.4<br />boot_wait=off<br />bootnv_ver=2<br />ccode=0<br />cctl=0<br />clkfreq=200<br />dl_ram_addr=a0001000<br />eou_device_id=R3ACWT4T<br />eou_private_key=387a33107afd5810c2cfa092dc7a83fc28c7635d1428bad6226e8f7ab0d34766e7b619aeb71b5a0e9ecbd32219e28a81fd4111fa3075867d31b524cdaea7e0b294bf5de8ceb61b9bfcf418fa9578fc3f00bddeb86ea0b3831deb9427d674acd71bea1322572b8f6bf22aaf6b60ce52206c1139c89464800f0e7268d1698514f1<br />eou_public_key=f00759060ab4b6473bf26a702908b0efad4f664b95ad1a0e1255e1c96f81ef7558c5ed268a343ebe22e24150ee02cca874548c674df37b941341dc6a26497af8e7fbc4696895a2ecf11b618f4097e8da64d38ddad1e028619635d88093120cb7285b16d2a90d28355567cb8da287a8187c854cfebc7172cc2c505a17004ecc7511<br />et0macaddr=00:13:10:19:E4:9B<br />et0mdcport=0<br />et0phyaddr=30<br />gpio5=robo_reset<br />il0macaddr=00:13:10:19:e4:9d<br />lan_ifname=br0<br />lan_ifnames=vlan0 eth1 eth2<br />lan_ipaddr=192.168.1.1<br />lan_netmask=255.255.255.0<br />lan_proto=static<br />os_flash_addr=bfc40000<br />os_ram_addr=80001000<br />pa0b0=0x15eb<br />pa0b1=0xfa82<br />pa0b2=0xfe66<br />pa0itssit=62<br />pa0maxpwr=0x4e<br />pmon_ver=CFE 3.61.13.0<br />scratch=a0180000<br />sdram_config=0x0062<br />sdram_init=0x000b<br />sdram_ncdl=0xfdfe08<br />sdram_refresh=0x0000<br />sromrev=2<br />vlan0hwname=et0<br />vlan0ports=1 2 3 4 5*<br />vlan1hwname=et0<br />vlan1ports=0 5<br />wan_ifname=vlan1<br />wan_proto=dhcp<br />watchdog=5000<br />wl0_ifname=eth1<br />wl0_infra=1<br />wl0_mode=ap<br />wl0_radio=1<br />wl0_ssid=OpenWrt<br />wl0gpio2=0<br />wl0gpio3=0<br />wl0id=0x4320<br />size: 1438 bytes (31330 left)</p><p>Environment:<br />USER=root<br />HOME=/<br />TERM=vt102<br />PATH=/usr/bin:/bin:/usr/sbin:/sbin<br />SHELL=/bin/sh<br />PWD=/</p><p>ps aux:<br />&nbsp; PID&nbsp; Uid&nbsp; &nbsp; &nbsp;VmSize Stat Command<br />&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp; &nbsp; 392 S&nbsp; &nbsp;init&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; 2 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [keventd]<br />&nbsp; &nbsp; 3 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SWN [ksoftirqd_CPU0]<br />&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [kswapd]<br />&nbsp; &nbsp; 5 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [bdflush]<br />&nbsp; &nbsp; 6 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [kupdated]<br />&nbsp; &nbsp; 7 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [mtdblockd]<br />&nbsp; &nbsp;24 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SWN [jffs2_gcd_mtd4]<br />&nbsp; &nbsp;41 root&nbsp; &nbsp; &nbsp; &nbsp; 384 S&nbsp; &nbsp;syslogd -C 16 <br />&nbsp; &nbsp;42 root&nbsp; &nbsp; &nbsp; &nbsp; 348 S&nbsp; &nbsp;klogd <br />&nbsp; &nbsp;43 root&nbsp; &nbsp; &nbsp; &nbsp; 424 S&nbsp; &nbsp;/bin/sh /etc/init.d/rcS <br />&nbsp; &nbsp;44 root&nbsp; &nbsp; &nbsp; &nbsp; 372 S&nbsp; &nbsp;logger -s -p 6 -t&nbsp; <br />&nbsp; &nbsp;47 root&nbsp; &nbsp; &nbsp; &nbsp; 392 S&nbsp; &nbsp;init&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; 274 root&nbsp; &nbsp; &nbsp; &nbsp; 400 S&nbsp; &nbsp;udhcpc -i vlan1 -b -p /var/run/vlan1.pid -R <br />&nbsp; 317 nobody&nbsp; &nbsp; &nbsp; 364 S&nbsp; &nbsp;dnsmasq <br />&nbsp; 324 root&nbsp; &nbsp; &nbsp; &nbsp; 420 S&nbsp; &nbsp;/usr/sbin/dropbear <br />&nbsp; 325 root&nbsp; &nbsp; &nbsp; &nbsp; 304 S&nbsp; &nbsp;telnetd -l /bin/login <br />&nbsp; 326 root&nbsp; &nbsp; &nbsp; &nbsp; 416 S&nbsp; &nbsp;/bin/sh /etc/init.d/S98blah start <br />&nbsp; 349 root&nbsp; &nbsp; &nbsp; &nbsp; 568 R&nbsp; &nbsp;/usr/sbin/dropbear <br />&nbsp; 352 root&nbsp; &nbsp; &nbsp; &nbsp; 384 R&nbsp; &nbsp;ps aux </p><p>/proc/net/dev:<br />Inter-|&nbsp; &nbsp;Receive&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; Transmit<br /> face |bytes&nbsp; &nbsp; packets errs drop fifo frame compressed multicast|bytes&nbsp; &nbsp; packets errs drop fifo colls carrier compressed<br />&nbsp; &nbsp; lo:&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; eth0:&nbsp; &nbsp; 2381&nbsp; &nbsp; &nbsp; 17&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;4185&nbsp; &nbsp; &nbsp; 19&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; eth1:&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;1196&nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; &nbsp;15&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp;br0:&nbsp; &nbsp; 1915&nbsp; &nbsp; &nbsp; 15&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;2339&nbsp; &nbsp; &nbsp; 16&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br /> vlan0:&nbsp; &nbsp; 1975&nbsp; &nbsp; &nbsp; 15&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;2403&nbsp; &nbsp; &nbsp; 16&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br /> vlan1:&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;1782&nbsp; &nbsp; &nbsp; &nbsp;3&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><p>/proc/net/vlan/config:<br />VLAN Dev name&nbsp; &nbsp;&nbsp; | VLAN ID<br />Name-Type: VLAN_NAME_TYPE_PLUS_VID_NO_PAD<br />vlan0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 0&nbsp; | eth0<br />vlan1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 1&nbsp; | eth0</p><p>/proc/mtd:<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00020000 &quot;pmon&quot;<br />mtd1: 007a0000 00020000 &quot;linux&quot;<br />mtd2: 00105b50 00020000 &quot;rootfs&quot;<br />mtd3: 00020000 00020000 &quot;nvram&quot;<br />mtd4: 00620000 00020000 &quot;OpenWrt&quot;</p><p>/proc/cpuinfo:<br />system type&nbsp; &nbsp; &nbsp; &nbsp; : Broadcom BCM947XX<br />processor&nbsp; &nbsp; &nbsp; &nbsp; : 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; : BCM3302 V0.7<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; : 199.47<br />wait instruction&nbsp; &nbsp; : no<br />microsecond timers&nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; : 32<br />extra interrupt vector&nbsp; &nbsp; : no<br />hardware watchpoint&nbsp; &nbsp; : no<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; : not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; : not available</p><p>/proc/meminfo:<br />&nbsp; &nbsp; &nbsp; &nbsp; total:&nbsp; &nbsp; used:&nbsp; &nbsp; free:&nbsp; shared: buffers:&nbsp; cached:<br />Mem:&nbsp; 31318016&nbsp; 7880704 23437312&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;847872&nbsp; 2572288<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0<br />MemTotal:&nbsp; &nbsp; &nbsp; &nbsp; 30584 kB<br />MemFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;22888 kB<br />MemShared:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;828 kB<br />Cached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2512 kB<br />SwapCached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Active:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1880 kB<br />Inactive:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1480 kB<br />HighTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />HighFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />LowTotal:&nbsp; &nbsp; &nbsp; &nbsp; 30584 kB<br />LowFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;22888 kB<br />SwapTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />SwapFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB</p><p>/proc/cmdline:<br />root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200</p><p>/proc/devices:<br />Character devices:<br />&nbsp; 1 mem<br />&nbsp; 2 pty/m%d<br />&nbsp; 3 pty/s%d<br />&nbsp; 4 tts/%d<br />&nbsp; 5 cua/%d<br /> 10 misc<br /> 90 mtd<br />128 ptm<br />136 pts/%d<br />162 raw<br />253 nvram<br />254 gpio</p><p>Block devices:<br /> 31 mtdblock</p><p>/proc/modules:<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14688&nbsp; &nbsp;0 (unused)<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 423640&nbsp; &nbsp;0 (unused)<br />et&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32064&nbsp; &nbsp;0 (unused)<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2560&nbsp; &nbsp;0 (unused)</p><p>/proc/interrupts:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPU0&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; 3:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; serial<br />&nbsp; 4:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; eth1<br />&nbsp; 5:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;63&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; eth0<br />&nbsp; 7:&nbsp; &nbsp; &nbsp; &nbsp;2783&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; timer</p><p>ERR:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p></blockquote></div><p>Now, here&#039;s what ends up in /blah.log when startup fails and NVRAM variables are not readable:<br /></p><div class="quotebox"><blockquote><p>-------------------------------------------------------------<br />Startup:</p><p>dmesg:<br />CPU revision is: 00029007<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Linux version 2.4.30 (wbx@ux-2y01) (gcc version 3.4.4) #1 Wed Sep 14 17:49:26 CEST 2005<br />Setting the PFC value as 0x15<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />On node 0 totalpages: 8192<br />zone(0): 8192 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />CPU: BCM4712 rev 1 at 200 MHz<br />Using 100.000 MHz high precision timer.<br />Calibrating delay loop... 199.47 BogoMIPS<br />Memory: 30504k/32768k available (1390k kernel code, 2264k reserved, 100k data, 80k init, 0k highmem)<br />Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)<br />Inode cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: Disabled<br />PCI: Fixing up bus 0<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 0) is a 16550A<br />Software Watchdog Timer: 0.05, timer margin: 60 sec<br />Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />cfi_cmdset_0001: Erase suspend on write enabled<br />0: offset=0x0,size=0x20000,blocks=64<br />Using buffer write method<br />Flash device: 0x800000 at 0x1c000000<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;pmon&quot;<br />0x00040000-0x007e0000 : &quot;linux&quot;<br />0x000ba4b0-0x001c0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x007e0000-0x00800000 : &quot;nvram&quot;<br />0x001c0000-0x007e0000 : &quot;OpenWrt&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 2048 bind 4096)<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack<br />ip_tables: (C) 2000-2002 Netfilter core team<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 80k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />diag boardtype: 00000708<br />jffs2.bbc: SIZE compression mode activated.<br />PCI: Setting latency timer of device 00:02.0 to 64<br />eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0<br />PCI: Setting latency timer of device 00:01.0 to 64<br />eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0<br />device eth0 entered promiscuous mode</p><p>Logs:<br />Jan&nbsp; 1 00:00:15 (none) syslog.info syslogd started: BusyBox v1.00 (2005.09.14-15:55+0000)<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: klogd started: BusyBox v1.00 (2005.09.14-15:55+0000)<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: CPU revision is: 00029007<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Linux version 2.4.30 (wbx@ux-2y01) (gcc version 3.4.4) #1 Wed Sep 14 17:49:26 CEST 2005<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Setting the PFC value as 0x15<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Determined physical RAM map:<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel:&nbsp; memory: 02000000 @ 00000000 (usable)<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: On node 0 totalpages: 8192<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: zone(0): 8192 pages.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: zone(1): 0 pages.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: zone(2): 0 pages.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: CPU: BCM4712 rev 1 at 200 MHz<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Using 100.000 MHz high precision timer.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Calibrating delay loop... 199.47 BogoMIPS<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Memory: 30504k/32768k available (1390k kernel code, 2264k reserved, 100k data, 80k init, 0k highmem)<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Inode cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Page-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: POSIX conformance testing by UNIFIX<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: PCI: Disabled<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: PCI: Fixing up bus 0<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Linux NET4.0 for Linux 2.4<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Based upon Swansea University Computer Society NET3.039<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Initializing RT netlink socket<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Starting kswapd<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: devfs: boot_options: 0x1<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: pty: 256 Unix98 ptys configured<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: ttyS01 at 0xb8000400 (irq = 0) is a 16550A<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Software Watchdog Timer: 0.05, timer margin: 60 sec<br />Jan&nbsp; 1 00:00:15 (none) kern.debug kernel: Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:15 (none) kern.debug kernel: Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:15 (none) kern.debug kernel: Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: cfi_cmdset_0001: Erase suspend on write enabled<br />Jan&nbsp; 1 00:00:15 (none) kern.debug kernel: 0: offset=0x0,size=0x20000,blocks=64<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Using buffer write method<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: Flash device: 0x800000 at 0x1c000000<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: 0x00000000-0x00040000 : &quot;pmon&quot;<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: 0x00040000-0x007e0000 : &quot;linux&quot;<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: 0x000ba4b0-0x001c0000 : &quot;rootfs&quot;<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: 0x007e0000-0x00800000 : &quot;nvram&quot;<br />Jan&nbsp; 1 00:00:15 (none) kern.notice kernel: 0x001c0000-0x007e0000 : &quot;OpenWrt&quot;<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Initializing Cryptographic API<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: NET4: Linux TCP/IP 1.0 for NET4.0<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: IP Protocols: ICMP, UDP, TCP, IGMP<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: IP: routing cache hash table of 512 buckets, 4Kbytes<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: TCP: Hash tables configured (established 2048 bind 4096)<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: ip_tables: (C) 2000-2002 Netfilter core team<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: NET4: Ethernet Bridge 008 for NET4.0<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: VFS: Mounted root (squashfs filesystem) readonly.<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Mounted devfs on /dev<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: Freeing unused kernel memory: 80k freed<br />Jan&nbsp; 1 00:00:15 (none) kern.warn kernel: Algorithmics/MIPS FPU Emulator v1.5<br />Jan&nbsp; 1 00:00:15 (none) kern.info kernel: diag boardtype: 00000708<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:15 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:16 (none) kern.warn kernel: jffs2.bbc: SIZE compression mode activated.<br />Jan&nbsp; 1 00:00:17 (none) kern.debug kernel: PCI: Setting latency timer of device 00:02.0 to 64<br />Jan&nbsp; 1 00:00:17 (none) kern.warn kernel: eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0<br />Jan&nbsp; 1 00:00:17 (none) user.info : Using /lib/modules/2.4.30/et.o<br />Jan&nbsp; 1 00:00:17 (none) user.info : Warning: loading et will taint the kernel: no license<br />Jan&nbsp; 1 00:00:17 (none) user.info :&nbsp; &nbsp;See <a href="http://www.tux.org/lkml/#export-tainted">http://www.tux.org/lkml/#export-tainted</a> for information about tainted modules<br />Jan&nbsp; 1 00:00:18 (none) kern.debug kernel: PCI: Setting latency timer of device 00:01.0 to 64<br />Jan&nbsp; 1 00:00:18 (none) kern.warn kernel: eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0<br />Jan&nbsp; 1 00:00:18 (none) user.info : Using /lib/modules/2.4.30/wl.o<br />Jan&nbsp; 1 00:00:18 (none) user.info : Warning: loading wl will taint the kernel: no license<br />Jan&nbsp; 1 00:00:18 (none) user.info :&nbsp; &nbsp;See <a href="http://www.tux.org/lkml/#export-tainted">http://www.tux.org/lkml/#export-tainted</a> for information about tainted modules<br />Jan&nbsp; 1 00:00:18 (none) user.info : Using /lib/modules/2.4.30/wlcompat.o<br />Jan&nbsp; 1 00:00:18 (none) kern.info kernel: device eth0 entered promiscuous mode<br />Jan&nbsp; 1 00:00:18 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:18 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:18 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:18 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:19 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:20 (none) user.info : Bus error<br />Jan&nbsp; 1 00:00:20 (none) user.info : udhcpc: option requires an argument -- i<br />Jan&nbsp; 1 00:00:20 (none) user.info : BusyBox v1.00 (2005.09.14-15:55+0000) multi-call binary<br />Jan&nbsp; 1 00:00:20 (none) user.info : Usage: udhcpc [-fbnqv] [-c CLIENTID] [-H HOSTNAME] [-i INTERFACE]<br />Jan&nbsp; 1 00:00:20 (none) user.info : [-p pidfile] [-r IP] [-s script]<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-c,^I--clientid=CLIENTID^IClient identifier<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-H,^I--hostname=HOSTNAME^IClient hostname<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-h,^I&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^IAlias for -H<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-f,^I--foreground^IDo not fork after getting lease<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-b,^I--background^IFork to background if lease cannot be immediately negotiated.<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-i,^I--interface=INTERFACE^IInterface to use (default: eth0)<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-n,^I--now^IExit with failure if lease cannot be immediately negotiated.<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-p,^I--pidfile=file^IStore process ID of daemon in file<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-q,^I--quit^IQuit after obtaining lease<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-R,^I--release^IRelease IP on quit<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-r,^I--request=IP^IIP address to request (default: none)<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-s,^I--script=file^IRun file at dhcp events (default: /usr/share/udhcpc/default.script)<br />Jan&nbsp; 1 00:00:20 (none) user.info : ^I-v,^I--version^IDisplay version<br />Jan&nbsp; 1 00:00:20 (none) user.info : /etc/init.d/S50dnsmasq: 27: Syntax error: &lt;&lt;24|&lt;&lt;16|&lt;&lt;8|<br />Jan&nbsp; 1 00:00:20 (none) user.info : /etc/init.d/S50dnsmasq: 27: Syntax error: ipaddr&amp;netmask<br />Jan&nbsp; 1 00:00:20 (none) kern.info dropbear[212]: Running in background</p><p>ifconfig:<br />lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><br /><p>robocfg show:<br />Switch: enabled<br />Port 0(W):&nbsp; DOWN enabled stp: none vlan: 1 mac: 00:00:00:00:00:00<br />Port 1(4): 100FD enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 2(3):&nbsp; DOWN enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 3(2):&nbsp; DOWN enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 4(1):&nbsp; DOWN enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />Port 5(C): 100FD enabled stp: none vlan: 0 mac: 00:00:00:00:00:00<br />VLANs: BCM5325/535x enabled mac_check mac_hash<br />vlan0: 1 2 3 4 5t<br />vlan1: 0 5t<br />vlan2:<br />vlan3:<br />vlan4:<br />vlan5:<br />vlan6:<br />vlan7:<br />vlan8:<br />vlan9:<br />vlan10:<br />vlan11:<br />vlan12:<br />vlan13:</p><p>vlan14:<br />vlan15:</p><p>NVRAM variables:<br />Bus error</p><p>Environment:<br />USER=root<br />HOME=/<br />TERM=vt102<br />PATH=/usr/bin:/bin:/usr/sbin:/sbin<br />SHELL=/bin/sh<br />PWD=/</p><p>ps aux:<br />&nbsp; PID&nbsp; Uid&nbsp; &nbsp; &nbsp;VmSize Stat Command<br />&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp; &nbsp; 392 S&nbsp; &nbsp;init&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; 2 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [keventd]<br />&nbsp; &nbsp; 3 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SWN [ksoftirqd_CPU0]<br />&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [kswapd]<br />&nbsp; &nbsp; 5 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [bdflush]<br />&nbsp; &nbsp; 6 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [kupdated]<br />&nbsp; &nbsp; 7 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SW&nbsp; [mtdblockd]<br />&nbsp; &nbsp;24 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SWN [jffs2_gcd_mtd4]<br />&nbsp; &nbsp;41 root&nbsp; &nbsp; &nbsp; &nbsp; 384 S&nbsp; &nbsp;syslogd -C 16 <br />&nbsp; &nbsp;42 root&nbsp; &nbsp; &nbsp; &nbsp; 348 S&nbsp; &nbsp;klogd <br />&nbsp; &nbsp;43 root&nbsp; &nbsp; &nbsp; &nbsp; 428 S&nbsp; &nbsp;/bin/sh /etc/init.d/rcS <br />&nbsp; &nbsp;44 root&nbsp; &nbsp; &nbsp; &nbsp; 372 S&nbsp; &nbsp;logger -s -p 6 -t&nbsp; <br />&nbsp; &nbsp;47 root&nbsp; &nbsp; &nbsp; &nbsp; 392 S&nbsp; &nbsp;init&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; 212 root&nbsp; &nbsp; &nbsp; &nbsp; 420 S&nbsp; &nbsp;/usr/sbin/dropbear <br />&nbsp; 213 root&nbsp; &nbsp; &nbsp; &nbsp; 420 S&nbsp; &nbsp;/bin/sh /etc/init.d/S98blah start <br />&nbsp; 215 root&nbsp; &nbsp; &nbsp; &nbsp; 304 S&nbsp; &nbsp;telnetd -l /bin/login <br />&nbsp; 239 root&nbsp; &nbsp; &nbsp; &nbsp; 384 R&nbsp; &nbsp;ps aux </p><p>/proc/net/dev:<br />Inter-|&nbsp; &nbsp;Receive&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; Transmit<br /> face |bytes&nbsp; &nbsp; packets errs drop fifo frame compressed multicast|bytes&nbsp; &nbsp; packets errs drop fifo colls carrier compressed<br />&nbsp; &nbsp; lo:&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; eth0:&nbsp; &nbsp; &nbsp;272&nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; eth1:&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><p>/proc/net/vlan/config:<br />VLAN Dev name&nbsp; &nbsp;&nbsp; | VLAN ID<br />Name-Type: VLAN_NAME_TYPE_PLUS_VID_NO_PAD</p><p>/proc/mtd:<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00020000 &quot;pmon&quot;<br />mtd1: 007a0000 00020000 &quot;linux&quot;<br />mtd2: 00105b50 00020000 &quot;rootfs&quot;<br />mtd3: 00020000 00020000 &quot;nvram&quot;<br />mtd4: 00620000 00020000 &quot;OpenWrt&quot;</p><p>/proc/cpuinfo:<br />system type&nbsp; &nbsp; &nbsp; &nbsp; : Broadcom BCM947XX<br />processor&nbsp; &nbsp; &nbsp; &nbsp; : 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; : BCM3302 V0.7<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; : 199.47<br />wait instruction&nbsp; &nbsp; : no<br />microsecond timers&nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; : 32<br />extra interrupt vector&nbsp; &nbsp; : no<br />hardware watchpoint&nbsp; &nbsp; : no<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; : not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; : not available</p><p>/proc/meminfo:<br />&nbsp; &nbsp; &nbsp; &nbsp; total:&nbsp; &nbsp; used:&nbsp; &nbsp; free:&nbsp; shared: buffers:&nbsp; cached:<br />Mem:&nbsp; 31318016&nbsp; 7106560 24211456&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;802816&nbsp; 2396160<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0<br />MemTotal:&nbsp; &nbsp; &nbsp; &nbsp; 30584 kB<br />MemFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;23644 kB<br />MemShared:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;784 kB<br />Cached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2340 kB<br />SwapCached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Active:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1712 kB<br />Inactive:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1428 kB<br />HighTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />HighFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />LowTotal:&nbsp; &nbsp; &nbsp; &nbsp; 30584 kB<br />LowFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;23644 kB<br />SwapTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />SwapFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB</p><p>/proc/cmdline:<br />root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200</p><p>/proc/devices:<br />Character devices:<br />&nbsp; 1 mem<br />&nbsp; 2 pty/m%d<br />&nbsp; 3 pty/s%d<br />&nbsp; 4 tts/%d<br />&nbsp; 5 cua/%d<br /> 10 misc<br /> 90 mtd<br />128 ptm<br />136 pts/%d<br />162 raw<br />253 nvram<br />254 gpio</p><p>Block devices:<br /> 31 mtdblock</p><p>/proc/modules:<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14688&nbsp; &nbsp;0 (unused)<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 423640&nbsp; &nbsp;0 (unused)<br />et&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32064&nbsp; &nbsp;0 (unused)<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2560&nbsp; &nbsp;0 (unused)</p><p>/proc/interrupts:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPU0&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; 3:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;24&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; serial<br />&nbsp; 4:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; eth1<br />&nbsp; 5:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; eth0<br />&nbsp; 7:&nbsp; &nbsp; &nbsp; &nbsp;2411&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; timer</p><p>ERR:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p></blockquote></div><p>One note, you&#039;ll notice my nvram variables are the minimal defaults set up by CFE.&nbsp; In this case, I&#039;ve done &quot;mtd erase nvram&quot; earlier to reset to defaults.&nbsp; I&#039;ve confirmed the same problem occurs whether running with the minimal default nvram variables, or the whole slew of nvram variables as set up by the Linksys firmware (and just not reset after loading up OpenWRT).&nbsp; Seems to make no difference.</p><p>I&#039;m not sure how to proceed in debugging this further.&nbsp; It&#039;s been a very frustrating problem, and I have a whole stack of WRT GS&#039;s that I have had to take out of service because they startup only intermittently when OpenWRT is on them.&nbsp; Argh!&nbsp; Anyone have any ideas, or seen this before?</p><p>-Ryan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13601">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						12 Oct 2005, 11:36					</div>
				</div>
				<div class="post-content content">
					<p>See here, for a possible solution to this problem: <a href="http://openwrt.org/forum/viewtopic.php?id=2874">http://openwrt.org/forum/viewtopic.php?id=2874</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13602">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rniemi</div>
					<div class="post-datetime">
						12 Oct 2005, 11:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>See here, for a possible solution to this problem: <a href="http://openwrt.org/forum/viewtopic.php?id=2874">http://openwrt.org/forum/viewtopic.php?id=2874</a></p></blockquote></div><p>Hi nbd,</p><p>Interestingly enough, tweaking those NVRAM variables did indeed fix it.&nbsp; Fascinating.&nbsp; There&#039;s nothing more fun than chasing down incorrect hardware timings..&nbsp; :-)</p><p>-Ryan</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>