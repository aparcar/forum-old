<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> DHCPv6 prefix delegation from /56 not inclusive of a /64 on the int...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p296996">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hojuruku</div>
					<div class="post-datetime">
						22 Oct 2015, 09:05					</div>
				</div>
				<div class="post-content content">
					<p>TRIGGER WARNING: The is a backstory to why I want to do this non-standard ipv6 configuration here. However this kind of setup i think is pretty common, my VPS provider uses it, and many tunnels do. However this setup is different because I want to use a /64 from one tunnel on an interface and a /56 group of addresses to assign to routers on that subnet, that have an address from the /64 on their wan ports.</p><p>OK let me try and try and explain what&#039;s going on and why I&#039;m trying to do this because the subject line is rather cryptic<br />This is all about <a href="https://en.wikipedia.org/wiki/Prefix_delegation">https://en.wikipedia.org/wiki/Prefix_delegation</a> on openwrt trunk (compiled and/or downloaded)</p><p><strong>I have a static /64 6in4 siit tunnel, that&#039;s configured by an ddns script every time i log in with my dynamic ipv4 address (tunnelbroker.netnam.vn). You can&#039;t request a larger subnet but you can get a bgp enabled tunnel.</strong></p><p><strong>I have a routed /56 to play with on my VPS.</strong></p><p><strong>I have a massive switched network of fellow IT geeks in our building who want to get an IPV6 lan party happening with routeable internet addresses. Multicast IPV6 MLD is already provided by the ISP&#039;s trunk router.</strong></p><p><strong>I want to use the /64 I&#039;m stuck with for allocating any host or router itself that connects to the DMZ lan party network (static on the wan port)</strong></p><p><strong>I am banned from getting a /48 on SIXXS</strong> (the only way of getting a &gt; /64&nbsp; tunnelbroker service in Vietnam).&nbsp; It uses the same Tunnelbroker POP I currently use because I did the crime of exercising free speech on IRC, and the founder of SIXXS is not a heterosexual. That is a pain because I made a keepalive /bin/ash script for openwrt and sixxs dynamic keepalive without using aiccu bloatware before the lifetime ban, as only those who support Gay Marriage can use their local tunnelbroker. I came out of the closet of my political views on this topic on IRC 3 years ago, and that gets you banned from the Internet v2 for life.</p><p>Does this remind anyone of the Mozilla Foundation and Brendan Etch?<br />Long story - I wont explain the whole saga go here if your interested....<br />Since the Sixxs.net ban things really got interesting with my family members and friends also being targeted by the @NSWGLRL</p><p><a href="http://www.talkshoe.com/talkshoe/web/talkCast.jsp?masterId=139182&amp;cmd=tc">http://www.talkshoe.com/talkshoe/web/ta … amp;cmd=tc</a><br /><a href="http://bernardgaynor.com.au/ncat-ruling-protects-freedom-from-lgbt-attack/">http://bernardgaynor.com.au/ncat-ruling … bt-attack/</a> (fellow victim of the same gay marriage / anti-free speech activist as my father) &amp; my father&#039;s scribd <a href="http://scribd.com/smokehaze">http://scribd.com/smokehaze</a> - yep they do gay mafia tactics and persecute your family members if they can&#039;t get you as you are a <a href="http://bit.ly/ausrefugee">http://bit.ly/ausrefugee</a> UNHCR recognized political refugee living abroad - my youtube <a href="http://youtube.com/hojuruku">http://youtube.com/hojuruku</a> see most popular video. It&#039;s a crime in Australia to vilify the men in the most popular video there who plead guilty to sodomy of an infant. <a href="http://archive.org/details/TwoDadsAreBetterThanOne">http://archive.org/details/TwoDadsAreBetterThanOne</a> (Government produced now censored content - listen to taxpayer funded journalist giggling with the gay dads baby rapists). Gay Marriage activists are posting up pictures of their mates child rape victim and wordpress and google aka <a href="http://accelerate.lgbt">http://accelerate.lgbt</a> says we must not do hate speech against gay marriage activists (Alex Au) hosting pictures of children and identifying them who were raped since 20 months old and&nbsp; hence inspired Russia to make their anti-gay adoption and child indoctrination laws after this very same incident involving the same boy. Here is the case law that says just liking to my youtube channel is a crime, because it vilifies those who plead guilty to incestual gay dads baby rape!<br />(John Sunol v Gary Burns) <a href="https://www.caselaw.nsw.gov.au/decision/558b3c8ee4b0f1d031de9eb8">https://www.caselaw.nsw.gov.au/decision … d031de9eb8</a> <a href="https://globalfreedomofexpression.columbia.edu/cases/burns-v-sunol/">https://globalfreedomofexpression.colum … s-v-sunol/</a> Don&#039;t get me started I&#039;ve already said to much, Put &quot;dyson devine&quot; into austlii.edu.au case law database, and you&#039;ll also find it&#039;a crime to vilify satanic sex magick cults (rumored to involve children too) otoaustralia.org.au - because that court ruled satanism or &quot;baphomet worship&quot; is a religion.</p><p><a href="http://yawningbread.wordpress.com/2013/01/20/pastor-ambushes-goh-chok-tong-with-demand-to-defend-377a/">http://yawningbread.wordpress.com/2013/ … fend-377a/</a> You are welcome to complaint too about child rape victims being used as poster boys for gay marriage and decrimilizing sodomy (377a crimes act) in singapore to wordpress support. You will be abused for hate speech against gay dads child/rape rapists. You are welcome to try and report this for yourself and see how political correct we are today in the era of pedophilia normalization, especially if the pepetrator is..... The poster of that link above opened the first gay orgy bar in Singapore, Alex Au on wikipedia. </p><p>HE.net in HK lags due to the traffic shaping on international bandwidth where I live and it&#039;s not a good option.</p><p>Even Vietnamese people living in the same building are banned from Sixxs due to the crime of association with someone who doesn&#039;t support gay marriage. It&#039;s insane, so I give up on those nutjobs, and one of our ISPs is rolling out IPv6 soon anyway.</p><p>Needless to say, I can&#039;t ever make up with sixxs.net, so here&#039;s my workaround....<br />Anyway disgusting as that is lets get back on topic.</p><p>I am unable to do the more practical solution due to [gay] political reasons.</p><p><strong>So what I am asking for is some suggestions and sample to do the following:</strong></p><p><strong>ndp proxy for my own wifi , lan self managed interfaces (or another /64 from my vps - what is best?), and put the /64 allocated via the local tunnelbroker on the DMZ lan party network (wan port when not being used for pppoe). DHCPv6 aware routers on this subnet get /64 subnet assignments and routing is set up from the /56 subnet on a ip6 in ip6 tunnel from my vps. </strong></p><p>Speaking of which I need an /etc/ppp/ifup.d/ script in order to share pppoe and ipv4 static on the same interface. I&#039;m bashing my head around why uci /etc/init.d/network can&#039;t do it.</p><div class="codebox"><pre><code>#!/bin/ash
/sbin/ip address add 192.168.1.252/24 brd 192.168.1.255 dev wan
/sbin/ip address add 172.16.0.1/20 brd 172.16.15.255 dev wan
/sbin/ip route add 172.16.16.128/29 via 172.16.0.2 dev wan src 172.16.0.1</code></pre></div><p>Also ip6assign 64 breaks the tunnel as it chooses the same tunnel endpoint ipv6 address (subnet::1) so I manually assign an ipv6 interface to the dmz. You need to use a ip6prefix if you use ip6assign with some static tunnels because of this</p><p>The first BIG question?<br />Should I use dnssmasq recompiled for ipv6 / hybrid, radvd , or rely on the openwrt version odhcpd.</p><p>For example my VPS gives me a /64 on the eth0 interface and then routes a /56 to the address given.<br />I wish to do the same, make use of the fast /64 in Vietnam for DMZ hosts, but if routers on the that do router solicitation, they get a /64 taken from the /56 subnet on my vps that is connected by an ipv6 tunnel.</p><p>That&#039;s where I think I may run into trouble with odhcpd. <br /><a href="http://wiki.openwrt.org/doc/techref/odhcpd">http://wiki.openwrt.org/doc/techref/odhcpd</a> is good, but some more practical documentation would be better.</p><p>Can odhcpd do this configuration? Can someone provide an example?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>