<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Help with DSL setup : lineInitStatusData=LINIT_COMMUNICATION_PROBLEM</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p267816">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rumple</div>
					<div class="post-datetime">
						6 Mar 2015, 01:02					</div>
				</div>
				<div class="post-content content">
					<p>I put OpenWRT 14.07 on a Netgear DGN3500, and I&#039;m trying to connect it to my &quot;AT&amp;T&quot; (SBC really : in the San Francisco area).</p><p>The DSL connection gets to the &quot;handshake&quot;, but then stops with :</p><p>sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_COMMUNICATION_PROBLEM</p><p>Is there a way to further isolate the problem ?&nbsp; Perhaps AT&amp;T / SBC is locked to a MAC address or serial number ?</p><p>FYI, the DSL works fine with the AT&amp;T supplied Motorola 2210 running in &quot;ADSL2+&quot; mode.</p><p>Here is a detailed output of &quot;dsl_cpe_control&quot; :</p><br /><p>root@OpenWrt:~# dsl_cpe_control -i04_01_04_00_00_01_00_00 -f /lib/firmware/adsl.bin -m -c</p><p>DSL_CPE: Using message dump (debug level: 0x80)<br />DSL_CPE: using 1st firmware file - /lib/firmware/adsl.bin<br />DSL_CPE: Device /dev/dsl_cpe_api opened successfully<br />DSL_CPE: Welcome to the CLI interface of DSL CPE API<br />DSL_CPE: Enter &#039;help all&#039; for a list of built-in commands.<br />DSL_CPE: failed to set message dump debug level for device 0!<br />DSL_CPE: Already initialized - ignoring &#039;-i&#039; option!</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p><p>sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=3 nFirmwareRequestType=1</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF (idle request)</p><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100 (idle)</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200 (silent)</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000300 (handshake)</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000001 (exception)</p><p>sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_COMMUNICATION_PROBLEM</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267821">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rumple</div>
					<div class="post-datetime">
						6 Mar 2015, 01:31					</div>
				</div>
				<div class="post-content content">
					<p>FYI, &quot;vig&quot; output is :</p><br /><p>DSL_CPE#&gt;vig<br />nReturn=0 DSL_DriverVersionApi=3.24.4.4 DSL_ChipSetFWVersion=4.4.4.0.0.1 DSL_ChipSetHWVersion=1.2 DSL_ChipSetType=Ifx-AR9 DSL_DriverVersionMeiBsp=5.0.0</p><br /><p>... and firmware file is a link : adsl.bin -&gt; /lib/firmware//ltq-dsl-fw-a-ar9.bin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268836">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rumple</div>
					<div class="post-datetime">
						15 Mar 2015, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>FYI, when I connect to the &quot;Sonic&quot; DSL service, it gets past the handshake and works fairly well (it does retrain few hours, so I&#039;ll make another post about that).</p><p>Some log output :</p><p>BusyBox v1.22.1 (2014-09-21 06:13:27 CEST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> -----------------------------------------------------<br /> BARRIER BREAKER (14.07, r42625)<br /> -----------------------------------------------------<br />&nbsp; * 1/2 oz Galliano&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pour all ingredients into<br />&nbsp; * 4 oz cold Coffee&nbsp; &nbsp; &nbsp; &nbsp; an irish coffee mug filled<br />&nbsp; * 1 1/2 oz Dark Rum&nbsp; &nbsp; &nbsp; &nbsp;with crushed ice. Stir.<br />&nbsp; * 2 tsp. Creme de Cacao<br /> -----------------------------------------------------<br />root@dgn3500:~# ifdown wan</p><p>root@dgn3500:~# /etc/init.d/dsl_control status</p><p>Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Ifx-AR9 1.2<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DOWN [0x200: silent]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 b/s / 0 b/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;0.0dB / 0.0dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0dB / 0.0dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; down</p><p>root@dgn3500:~# /etc/init.d/dsl_control stop</p><p>root@dgn3500:~#&nbsp; dsl_cpe_control -i04_01_04_00_00_01_00_00 -f /lib/firmware/adsl.bin -m -c</p><p>DSL_CPE: Using message dump (debug level: 0x80)<br />DSL_CPE: using 1st firmware file - /lib/firmware/adsl.bin<br />DSL_CPE: Device /dev/dsl_cpe_api opened successfully<br />DSL_CPE: Welcome to the CLI interface of DSL CPE API<br />DSL_CPE: Enter &#039;help all&#039; for a list of built-in commands.<br />DSL_CPE: failed to set message dump debug level for device 0!<br />DSL_CPE: Already initialized - ignoring &#039;-i&#039; option!<br />sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><br /><p>DSL_CPE#&gt;sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200</p><br /><br /><p>DSL_CPE#&gt;sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_NO_PEER_XTU</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p><p>sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=3 nFirmwareRequestType=1</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_REQUEST nFirmwareRequestType=DSL_FW_REQUEST_ADSL</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200</p><p>sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_NO_PEER_XTU</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p><p>sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=3 nFirmwareRequestType=1</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_REQUEST nFirmwareRequestType=DSL_FW_REQUEST_ADSL</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200</p><p>sEventType=DSL_EVENT_S_PM_SYNC b15MinElapsed=1 b1DayElapsed=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000300&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;&lt;== plugged in , &quot;handshake&quot;</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000001</p><p>sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_COMMUNICATION_PROBLEM</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p><p>sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=3 nFirmwareRequestType=1</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_REQUEST nFirmwareRequestType=DSL_FW_REQUEST_ADSL</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000300</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000001</p><p>sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_COMMUNICATION_PROBLEM</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p><p>sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=3 nFirmwareRequestType=1</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_REQUEST nFirmwareRequestType=DSL_FW_REQUEST_ADSL</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000300</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000380&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;## full_init</p><p>sEventType=DSL_EVENT_S_SYSTEM_INTERFACE_STATUS nTcLayer=1 nEfmTcConfigUs=0x00000000 nEfmTcConfigDs=0x00000000 nSystemIf=3</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000001</p><p>sEventType=DSL_EVENT_S_LINIT_FAILURE lineInitStatusData=LINIT_COMMUNICATION_PROBLEM</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000000</p><p>sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=3 nFirmwareRequestType=1</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_REQUEST nFirmwareRequestType=DSL_FW_REQUEST_ADSL</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=000000FF</p><br /><p>sEventType=DSL_EVENT_S_FIRMWARE_DOWNLOAD_STATUS nError=0 nFwType=1<br />sEventType=DSL_EVENT_S_AUTOBOOT_STATUS nStatus=2 nFirmwareRequestType=0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000100</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000200</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000300</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000380</p><p>sEventType=DSL_EVENT_S_SYSTEM_INTERFACE_STATUS nTcLayer=1 nEfmTcConfigUs=0x00000000 nEfmTcConfigDs=0x00000000 nSystemIf=3</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000800&nbsp; &nbsp;## showtime_no_sync</p><p>sEventType=DSL_EVENT_S_CHANNEL_DATARATE nChannel=0 nAccessDir=DSL_UPSTREAM ActualDataRate=1315926 PreviousDataRate=0 ActualInterleaveDelay=25 ActualImpulseNoiseProtection=0</p><p>sEventType=DSL_EVENT_S_CHANNEL_DATARATE nChannel=0 nAccessDir=DSL_DOWNSTREAM ActualDataRate=9016922 PreviousDataRate=0 ActualInterleaveDelay=25 ActualImpulseNoiseProtection=0</p><p>sEventType=DSL_EVENT_S_LINE_POWERMANAGEMENT_STATE nPowerManagementStatus=DSL_G997_PMS_L0</p><p>sEventType=DSL_EVENT_S_LINE_STATE nLineState=00000801&nbsp; &nbsp;## showtime_tc_sync</p><p>sEventType=DSL_EVENT_S_FE_INVENTORY_AVAILABLE G994VendorID=(B5,00,49,46,54,4E,71,C5) SystemVendorID=(00,00,00,00,00,00,00,00) VersionNumber=(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00) SerialNumber=(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00) SelfTestResult=0 XTSECapabilities=(00,00,00,00,00,01,00,00) </p><br /><p>######################### dmesg</p><p>[ 5718.384000] [DSL_BSP_Showtime 894]: Datarate US intl = 1315926, fast = 0<br />[ 5718.388000] enter showtime, cell rate: 0 - 3103, 1 - 3103, xdata addr: 0x82e30000</p><br /><p>root@dgn3500:~# /etc/init.d/dsl_control status<br />Chipset:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Ifx-AR9 1.2<br />Line State:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UP [0x801: showtime_tc_sync]<br />Data Rate:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9.016 Mb/s / 1.315 Mb/s<br />Line Attenuation:&nbsp; &nbsp; &nbsp; &nbsp;33.0dB / 17.1dB<br />Noise Margin:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.0dB / 6.2dB<br />Line Uptime:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3m 42s</p><br /><p>DSL_CPE#&gt;sEventType=DSL_EVENT_S_PM_SYNC b15MinElapsed=1 b1DayElapsed=0</p><p>fpsg 0 0<br />nReturn=0 nChannel=0 nDirection=0 nTp=4 nMp=1 nSEQ=18 nBP=40 nMSGC=12 nMSGLP=0</p><p>DSL_CPE#&gt;fpsg 0 1<br />nReturn=0 nChannel=0 nDirection=1 nTp=5 nMp=1 nSEQ=15 nBP=254 nMSGC=9 nMSGLP=0</p><p>DSL_CPE#&gt;g997amlfcg 0<br />nReturn=0 nDirection=0 nLineFailures=0x0</p><p>DSL_CPE#&gt;g997amlfcg 1<br />nReturn=0 nDirection=1 nLineFailures=0x0</p><p>DSL_CPE#&gt;g997fpsg 0 0<br />nReturn=0 nChannel=0 nDirection=0 nNFEC=41 nRFEC=0 nLSYMB=331 nINTLVDEPTH=1 nINTLVBLOCK=41 nLPATH=0</p><p>DSL_CPE#&gt;g997fpsg 0 1<br />nReturn=0 nChannel=0 nDirection=1 nNFEC=255 nRFEC=0 nLSYMB=2256 nINTLVDEPTH=1 nINTLVBLOCK=255 nLPATH=0</p><p>DSL_CPE#&gt;g997lig 0<br />nReturn=0 nDirection=0 G994VendorID=(B5,00,49,46,54,4E,44,40) SystemVendorID=(32,33,34,35,36,37,38,39) VersionNumber=(30,31,32,33,34,35,36,37,38,39,30,31,32,33,34,35) SerialNumber=(30,31,32,33,34,35,36,37,38,39,30,31,32,33,34,35,36,37,38,39,30,31,32,33,34,35,36,37,38,39,30,31) SelfTestResult=0 XTSECapabilities=(04,01,04,00,00,01,00,00)</p><p>DSL_CPE#&gt;g997lig 1<br />nReturn=0 nDirection=1 G994VendorID=(B5,00,49,46,54,4E,71,C5) SystemVendorID=(00,00,00,00,00,00,00,00) VersionNumber=(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00) SerialNumber=(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00) SelfTestResult=0 XTSECapabilities=(00,00,00,00,00,01,00,00)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>