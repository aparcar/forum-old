<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-link TL-WR841N V10 and Coova chilli: No space left on device</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p316027">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dipixx@tiscali.itdipixx</div>
					<div class="post-datetime">
						22 Mar 2016, 01:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I have flashed a TL-WR841N V10 with Chaos Calmer 15.05.1 but when I try to install coovachilli it runs out of disk space. On an older version of the same router (V9) I installed Barrier Breaker 14.07 and I had no problems at all.<br />Any idea on how to install coovachilli on this firmware? Please help.<br />Thank you,<br />Piero</p><br /><p>The disk space before trying to install is:<br />root@OpenWrt:~# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 576.0K&nbsp; &nbsp; 232.0K&nbsp; &nbsp; 344.0K&nbsp; 40% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.3M&nbsp; &nbsp; &nbsp; 2.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14.0M&nbsp; &nbsp; 876.0K&nbsp; &nbsp; &nbsp;13.1M&nbsp; &nbsp;6% /tmp<br />/dev/mtdblock3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 576.0K&nbsp; &nbsp; 232.0K&nbsp; &nbsp; 344.0K&nbsp; 40% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; 576.0K&nbsp; &nbsp; 232.0K&nbsp; &nbsp; 344.0K&nbsp; 40% /<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev</p><p>I have installed with <br />opkg install -V3 coova-chilli<br />The last part of the installation output is:</p><p>opkg_recurse_pkgs_in_order: Descending on pkg kmod-pppoe.<br />opkg_recurse_pkgs_in_order: pkg kmod-pppoe already visited, skipping.<br />opkg_recurse_pkgs_in_order: pkg kmod-ipt-nat already visited, skipping.<br />write_status_files_if_changed: Writing status file.<br />pkg_write_changed_filelists: Saving changed filelists.<br />hash_table: pkg-hash, 12288 bytes<br />&nbsp; &nbsp; n_buckets=1024, n_elements=4550, n_collisions=3539<br />&nbsp; &nbsp; max_bucket_len=12, n_used_buckets=1011, ave_bucket_len=4.50<br />&nbsp; &nbsp; n_hits=12341, n_misses=4550<br />hash_table: file-hash, 12288 bytes<br />&nbsp; &nbsp; n_buckets=1024, n_elements=743, n_collisions=196<br />&nbsp; &nbsp; max_bucket_len=3, n_used_buckets=547, ave_bucket_len=1.36<br />&nbsp; &nbsp; n_hits=0, n_misses=793<br />hash_table: obs-file-hash, 768 bytes<br />&nbsp; &nbsp; n_buckets=64, n_elements=0, n_collisions=0<br />&nbsp; &nbsp; max_bucket_len=0, n_used_buckets=0, ave_bucket_len=0.00<br />&nbsp; &nbsp; n_hits=0, n_misses=50<br />Collected errors:<br /> * pkg_write_filelist: Failed to open //usr/lib/opkg/info/coova-chilli.list: No space left on device.<br /> * opkg_install_pkg: Failed to extract data files for coova-chilli. Package debris may remain!<br /> * opkg_install_cmd: Cannot install package coova-chilli.<br /> * opkg_conf_write_status_files: Can&#039;t open status file //usr/lib/opkg/status: No space left on device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316081">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						22 Mar 2016, 11:11					</div>
				</div>
				<div class="post-content content">
					<p>TL-WR841N has only 4MB flash. So you will need to build own image, without LuCi or other, unnecessary packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316082">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dipixx@tiscali.itdipixx</div>
					<div class="post-datetime">
						22 Mar 2016, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi Augustus, thank you for your answer, despite the fact this wasn&#039;t the kind of solution I wanted to read :-)<br />The problem is that Coova chilli DOES seem to have enough disk space before the installation. It has 344K, when it only claims to require &lt;250K. So, it is the installation process that probably occupies more space than necessary.<br />So, my qyestion is: is there a manual way to install the required package from the ipk file?<br />I would like to try every possible solution before building my own image.</p><p>Thak you<br />Piero</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316084">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						22 Mar 2016, 11:48					</div>
				</div>
				<div class="post-content content">
					<p>Use image builder to put your package to squashfs. It will be compressed there</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316104">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dktn</div>
					<div class="post-datetime">
						22 Mar 2016, 15:08					</div>
				</div>
				<div class="post-content content">
					<p>with ver 15.05.01, you have to remove something&nbsp; about IP6&nbsp; for example like that:<br />make image PROFILE=&quot;TLWR841&quot; PACKAGES=&quot;luci-ssl&nbsp; coova-chilli -ip6tables -kmod-nf-contrack6 -libip6tc -odhcp6c&quot;<br />i have make it OKay.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316114">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dipixx@tiscali.itdipixx</div>
					<div class="post-datetime">
						22 Mar 2016, 15:46					</div>
				</div>
				<div class="post-content content">
					<p>Thank you dktn, I&#039;ll try that one. Preinstalling coova should also definitely solve the problem.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>