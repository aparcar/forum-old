<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Hi-Link wireless module HLK-RM04</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Jan 2018 and 26 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=42142&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42142&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=42142&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=42142&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=42142&amp;p=9.html">9</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p239373">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">blubbb</div>
					<div class="post-datetime">
						5 Jul 2014, 12:19					</div>
				</div>
				<div class="post-content content">
					<p>While we are talking about busses, is it possible to use some pins for SPI communication? I mean native, not bitbanging.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242492">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">hadi47</div>
					<div class="post-datetime">
						2 Aug 2014, 13:05					</div>
				</div>
				<div class="post-content content">
					<p>hi<br />I have HLK-RM04 and can&#039;t connect to default IP 192.168.16.254 of Browser<br />can you help me for Fix?<br />by connect Serial port Display below Log<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jan  9 2014 - 18:11:05)                                     

Board: Ralink APSoC DRAM:  16 MB                                
relocate_code Pointer at: 80fb4000                                  
spi_wait_nsec: 42                 
spi device id: ef 40 16 0 0 (40160000)                                      
find flash: W25Q32BV                    
raspi_read: from:30000 len:1000                               
.*** Warning - bad CRC, using default environment                                                 

============================================                                            
Ralink UBoot Version: 3.6.0.0                             
--------------------------------------------                                            
ASIC 5350_MP (Port5&lt;-&gt;None)                           
DRAM_CONF_FROM: Boot-Strapping                              
DRAM_TYPE: SDRAM                
DRAM_SIZE: 256 Mbits                    
DRAM_WIDTH: 16 bits                   
DRAM_TOTAL_WIDT              
TOTAL_MEMORY_SIZE: 32 MBytes                            
Flash component: SPI Flash                          
Date:Jan  9 2014  Time:18:11:05                               
============================================                                            
icache: sets:256, ways:4, linesz:32 ,total:32768                                                
dcache: sets:128, ways:4, linesz:32 ,total:16384                                                

 ##### The CPU freq = 360 MHZ ####                                  
 estimate memory size =16 Mbytes                                

Please choose the operation:                            
   1: Load system code to SDRAM via TFTP.                                         
   2: Load system code then write to Flash via TFTP.                                                    
   3: Boot system code via Flash (default).                                     
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.
 0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   HLK-RM02
   Created:      2013-07-23  12:01:07 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3289822 Bytes =  3.1 MB
   Load Address: 80000000
   Entry Point:  8024e000
raspi_read: from:50040 len:3232de
...................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 8024e000) ...
## Giving linux memsize in MB, 16

Starting kernel ...</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242965">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">sskriblo</div>
					<div class="post-datetime">
						6 Aug 2014, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I&#039;ve&nbsp; problem for WiFi client connection. AP mode works well. My image flashed from here:<br /><a href="https://github.com/bogdanr/HLK-RM04/blob/master/images/rt305x-hlk-rm04-minimal-sysupgrade.bin">https://github.com/bogdanr/HLK-RM04/blo … pgrade.bin</a></p><p>Then when I did try restart network:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# /etc/init.d/network restart
[ 5686.090000] device eth0 left promiscuous mode
root@OpenWrt:/# [ 5688.780000] device eth0 entered promiscuous mode
[ 5694.230000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready</code></pre></div><p>My config files are following:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/config/network 

config interface &#039;loopback&#039;
    option ifname &#039;lo&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;127.0.0.1&#039;
    option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
    option ula_prefix &#039;fd34:f3b3:e8f1::/48&#039;

config interface &#039;lan&#039;
#    option ifname &#039;eth0.1&#039;
    option ifname &#039;wlan0&#039;
#    option type &#039;bridge&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;192.168.0.183&#039;
    option netmask &#039;255.255.255.0&#039;
    option gateway &#039;192.168.0.10&#039;
    option dns &#039;192.168.0.10&#039;
#    option ip6assign &#039;60&#039;
    option macaddr &#039;44:33:4c:ce:14:c8&#039;

config interface &#039;wan&#039;
    option ifname &#039;eth0.2&#039;
    option proto &#039;dhcp&#039;
    option macaddr &#039;44:33:4c:ce:14:c9&#039;

config interface &#039;wan6&#039;
    option ifname &#039;@wan&#039;
    option proto &#039;dhcpv6&#039;

config switch
    option name &#039;switch0&#039;
    option reset &#039;1&#039;
    option enable_vlan &#039;1&#039;

config switch_vlan
    option device &#039;switch0&#039;
    option vlan &#039;1&#039;
    option ports &#039;0 1 2 3 6t&#039;

config switch_vlan
    option device &#039;switch0&#039;
    option vlan &#039;2&#039;
    option ports &#039;4 6t&#039;</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/config/wireless 
config wifi-device  radio0
    option type     mac80211
    option channel  11
    option hwmode    11ng
    option path    &#039;10180000.wmac&#039;
    option htmode    HT20
    list ht_capab    GF
    list ht_capab    SHORT-GI-20
    list ht_capab    SHORT-GI-40
    list ht_capab    RX-STBC1
    # REMOVE THIS LINE TO ENABLE WIFI:
#    option disabled 1

config wifi-iface
    option device   radio0
    option network  lan
    option mode     sta
    option ssid     MYROUTER
    option encryption psk
    option key MYROUTERPASSWORD</code></pre></div><p>May be somebody has have similar issue?</p><p>--<br />Thanks and Regards,<br />sskriblo<br />------------<br />UPDATE: Solved - as far as I understand, this device is very very sensitive for any additional changes. When I enable WiFi my own build and many another 3rd builds goes to reboot. It&#039;s due to small RAM value - 16M.<br />So I did try many images and found this one: <a href="https://github.com/bogdanr/HLK-RM04/blob/master/images/rt305x-hlk-rm04-minimal-sysupgrade.bin">https://github.com/bogdanr/HLK-RM04/blo … pgrade.bin</a>. This repository has proper network and wireless config files: <a href="https://github.com/bogdanr/HLK-RM04/tree/master/files/etc/config">https://github.com/bogdanr/HLK-RM04/tre … etc/config</a>. After that device works fine. Wifi connected to my router, ping works well.</p>											<p class="post-edited">(Last edited by <strong>sskriblo</strong> on 27 Aug 2014, 13:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243521">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">djbugs</div>
					<div class="post-datetime">
						11 Aug 2014, 23:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi there,<br />I&#039;m new to openwrt and Sorry about my Bad englisch <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />I got 2 of this nice modules + dev Board. I changed the SD-RAM to 16MBx16 ( 32MByte ) and flashed UBoot256. <br />Which FWimage should i have to flash? I&#039;m Not able to compile my on?<br />The function i only need is: wifi reapeater and WebUI.<br />But Wifi reapeater with One wifi I get only a half bandwidgh?! So my idea is connect 2 modules with a short LAN-cable and one Module is wifi-Client to connect to my AP and the other Module is the new AP.<br />Can OpenWrt handle this? If yes, what I have to do?</p><p>Greetings Bugs</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243662">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">FrolHuppSe</div>
					<div class="post-datetime">
						12 Aug 2014, 23:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hadi47 wrote:</cite><blockquote><p>hi<br />I have HLK-RM04 and can&#039;t connect to default IP 192.168.16.254 of Browser<br />can you help me for Fix?<br />by connect Serial port Display below Log<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jan  9 2014 - 18:11:05)                                     

Board: Ralink APSoC DRAM:  16 MB                                
relocate_code Pointer at: 80fb4000                                  
spi_wait_nsec: 42                 
spi device id: ef 40 16 0 0 (40160000)                                      
find flash: W25Q32BV                    
raspi_read: from:30000 len:1000                               
.*** Warning - bad CRC, using default environment                                                 

============================================                                            
Ralink UBoot Version: 3.6.0.0                             
--------------------------------------------                                            
ASIC 5350_MP (Port5&lt;-&gt;None)                           
DRAM_CONF_FROM: Boot-Strapping                              
DRAM_TYPE: SDRAM                
DRAM_SIZE: 256 Mbits                    
DRAM_WIDTH: 16 bits                   
DRAM_TOTAL_WIDT              
TOTAL_MEMORY_SIZE: 32 MBytes                            
Flash component: SPI Flash                          
Date:Jan  9 2014  Time:18:11:05                               
============================================                                            
icache: sets:256, ways:4, linesz:32 ,total:32768                                                
dcache: sets:128, ways:4, linesz:32 ,total:16384                                                

 ##### The CPU freq = 360 MHZ ####                                  
 estimate memory size =16 Mbytes                                

Please choose the operation:                            
   1: Load system code to SDRAM via TFTP.                                         
   2: Load system code then write to Flash via TFTP.                                                    
   3: Boot system code via Flash (default).                                     
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.
 0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   HLK-RM02
   Created:      2013-07-23  12:01:07 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3289822 Bytes =  3.1 MB
   Load Address: 80000000
   Entry Point:  8024e000
raspi_read: from:50040 len:3232de
...................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 8024e000) ...
## Giving linux memsize in MB, 16

Starting kernel ...</code></pre></div></blockquote></div><p>This looks exactly like the way my module is behaving. I flashed uboot128.img using the web page as per the wiki, and then I ended up in this state. In my case I get the Linux kernel output on the other serial port (TX2 @ 9600 bps), but it panics because it cannot find the rootfs.</p><div class="codebox"><pre><code>Linux version 2.6.21 (tim@debian6) (gcc version 3.4.2) #103 Tue Jun 18 22:27:43 HKT 2013

 The CPU frequency set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Built 1 zonelists.  Total pages: 4064
Kernel command line:
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.

...

NET: Registered protocol family 1
NET: Registered protocol family 17
Ebtables v2.0 registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Cannot open root device &quot;&lt;NULL&gt;&quot; or unknown-block(0,0)
Please append a correct &quot;root=&quot; boot option
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div><p>I haven&#039;t tried flashing OpenWrt yet, maybe that will fix it. But I am a little worried about the &quot;Warning - bad CRC, using default environment&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244026">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">blubbb</div>
					<div class="post-datetime">
						16 Aug 2014, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>You need to flash OpenWRT now. Swapping the bootloader alone does not work. The original firmware would not start.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244431">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">FrankW</div>
					<div class="post-datetime">
						21 Aug 2014, 00:12					</div>
				</div>
				<div class="post-content content">
					<p>To whom it may concern </p><p>I&#039;ve been playing with the HLK-RM04 board for a while now. <br />I&#039;m using Open-Wrt trunk. </p><p>Today I found out how to read a pushbutton using gpio-button-hotplug. </p><p>On this <a href="http://www.hlktech.com/en/productshow.asp?id=143">Hi-Link shield</a> I&#039;m using, there are two pushbuttons. <br />They are labeled &quot;WPS&quot; and &quot;Exit&quot;.</p><br /><p>Pushbutton &quot;WPS&quot; is allready configured as &quot;reboot&quot;.<br />Pushbutton &quot;Exit&quot; did not have any function.</p><p>How to connect The &quot;Exit&quot; Button. <br />This button is wired to GPIO0 (&nbsp; Pin 10 ) </p><p>DTS File: -----------------------------------------------------------------------------------</p><p>We &quot;connect&quot; GPIO0 in our DTS file (target/linux/ramips/dts/HLKRM04.dts)</p><div class="codebox"><pre><code>....
        gpio-keys-polled {
                compatible = &quot;gpio-keys-polled&quot;;
                #address-cells = &lt;1&gt;;
                #size-cells = &lt;0&gt;;
                poll-interval = &lt;20&gt;;
                wps {
                        label = &quot;reset&quot;;
                        gpios = &lt;&amp;gpio0 14 1&gt;; // 14 = gpio14
                        linux,code = &lt;0x198&gt;;  // 0x198 = keycode to send KEY_RESTART
                };
                BTN_0 {
                        label = &quot;BTN_0&quot;;
                        gpios = &lt;&amp;gpio0 0 1&gt;;   // 0 = gpio0
                        linux,code = &lt;0x100&gt;;  // Keycodes in linux-3.10.49/include/uapi/linux/input.h
                };
        };</code></pre></div><p>In the DTS file, I found gpio0 allready used. It&#039;s used as an LED. <br /></p><div class="codebox"><pre><code>//           gpio-leds {
//                   compatible = &quot;gpio-leds&quot;;
//                   power {
//                           label = &quot;hlk-rm04:red:power&quot;;
//                           gpios = &lt;&amp;gpio0 0 1&gt;;
//                   };
//           };</code></pre></div><p>Since gpio0 obvioulsy it not a LED output on the &quot;test board&quot; I have, but rather a pushbutton input,<br />removed the LED part. </p><br /><br /><p>KEY-Script :&nbsp; -----------------------------------------------------------------------------------</p><p>In&nbsp; &nbsp; /etc/rc.button/&nbsp; &nbsp;create a file named BTN_0<br />This script will be executed on key-press and key release. </p><p>Here is my example <br /></p><div class="codebox"><pre><code>#!/bin/sh

echo &quot;--&gt; KEY_0 : $ACTION &quot; &gt; /dev/console
[ &quot;${ACTION}&quot; = &quot;released&quot; ] || exit 0

. /lib/functions.sh

logger &quot;$BUTTON pressed for $SEEN seconds&quot;

if [ &quot;$SEEN&quot; -lt 1 ]
then
        echo &quot;KEY_0 for less than 1 sec&quot; &gt; /dev/console
elif [ &quot;$SEEN&quot; -lt 5 ]
then
        echo &quot;KEY_0 for $SEEN sec&quot; &gt; /dev/console
elif [ &quot;$SEEN&quot; -gt 5 ]
then
        echo &quot;KEY_0 long for $SEEN sec&quot; &gt; /dev/console
fi</code></pre></div>											<p class="post-edited">(Last edited by <strong>FrankW</strong> on 21 Aug 2014, 10:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244636">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">FrolHuppSe</div>
					<div class="post-datetime">
						23 Aug 2014, 00:24					</div>
				</div>
				<div class="post-content content">
					<p>(Just for completeness to reply to my previous post.)</p><p>I eventually got around to actually flashing OpenWrt in addition to only the bootloader. Now everything seems to work just as it shoud. Nice <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I basically followed the steps in the wiki:<br />1) Flash the bootloader using the stock web interface.<br />2) Flash openwrt-ramips-rt305x-hlk-rm04-squashfs-sysupgrade.bin from the bootloader using a serial console.</p><p>Thanks to everyone who made this work.<br />/Fredrik</p><p>Update a few minutes later:<br />After using it a little bit more, it turns out it is rebooted due to out of memory as soon as I try to do anything more advanced than editing the configutation files. Guess I have some more work to do to get this useful..</p>											<p class="post-edited">(Last edited by <strong>FrolHuppSe</strong> on 23 Aug 2014, 00:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244642">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">blubbb</div>
					<div class="post-datetime">
						23 Aug 2014, 02:00					</div>
				</div>
				<div class="post-content content">
					<p>look in /etc/init.d/<br />you can disable some of the daemons<br />you can also unload some modules (usb, pppoe, ipv6, ...)</p><p>However, RAM is very limited as soon as you need Wifi and DHPCD.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245337">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">spanky</div>
					<div class="post-datetime">
						29 Aug 2014, 19:12					</div>
				</div>
				<div class="post-content content">
					<p>Greetings all,</p><p>This probably bears a new thread, but its directly related to the HLK-RM04, so I figured this would be a good place to start.</p><p>Hi-Link has started offering an 8MB flash, 32MB RAM module (I&#039;m not sure if its widely available yet, and there doesn&#039;t appear to be any easily identifiable physical differences - labeling and whatnot).</p><br /><p>I had no problem identifying the 32MB of ram, but I am having difficulties making use of the additional flash space. I&#039;m compiling from the latest trunk.</p><br /><p>It looks to be identifying the 8MB chip based on the boot log:<br />[&nbsp; &nbsp; 0.470000] m25p80 spi32766.0: found mx25l6405d, expected gd25q64<br />[&nbsp; &nbsp; 0.490000] m25p80 spi32766.0: mx25l6405d (8192 Kbytes)<br />[&nbsp; &nbsp; 0.500000] 4 ofpart partitions found on MTD device spi32766.0<br />[&nbsp; &nbsp; 0.510000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:<br />[&nbsp; &nbsp; 0.520000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.540000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;<br />[&nbsp; &nbsp; 0.540000] 0x000000040000-0x000000050000 : &quot;factory&quot;<br />[&nbsp; &nbsp; 0.570000] 0x000000050000-0x000000400000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.570000] 0x000000152014-0x000000400000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.590000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.620000] mtd: device 4 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 0.630000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x370000, len=0x90000<br />[&nbsp; &nbsp; 0.650000] 0x000000370000-0x000000400000 : &quot;rootfs_data&quot;</p><br /><p>But when I check the file system usage, the /overlay does not appear to be utilizing the remaining flash space.<br /># df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 576.0K&nbsp; &nbsp; 204.0K&nbsp; &nbsp; 372.0K&nbsp; 35% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.3M&nbsp; &nbsp; &nbsp; 2.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14.3M&nbsp; &nbsp; &nbsp;64.0K&nbsp; &nbsp; &nbsp;14.3M&nbsp; &nbsp;0% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14.3M&nbsp; &nbsp; &nbsp;32.0K&nbsp; &nbsp; &nbsp;14.3M&nbsp; &nbsp;0% /tmp/root<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />/dev/mtdblock5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 576.0K&nbsp; &nbsp; 204.0K&nbsp; &nbsp; 372.0K&nbsp; 35% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; 576.0K&nbsp; &nbsp; 204.0K&nbsp; &nbsp; 372.0K&nbsp; 35% /</p><br /><p>Any ideas would be greatly appreciated.</p><br /><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245507">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">wowbaggerHU</div>
					<div class="post-datetime">
						31 Aug 2014, 21:13					</div>
				</div>
				<div class="post-content content">
					<p>@spanky:<br />Hi,</p><p>I think that your image most likely has a built in kernel command line, that basically hard-codes the partition layout of the flash.<br />To check if this is the case, enter the following command:</p><div class="codebox"><pre><code># cat /proc/cmdline</code></pre></div><p>If the output contains a substring starting with &quot;mtdparts=&quot;, then you will have to modify/remove it from the build config, and rebuild your openwrt image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245566">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">dgrover</div>
					<div class="post-datetime">
						1 Sep 2014, 06:00					</div>
				</div>
				<div class="post-content content">
					<p>I have a V2.3 development board and have installed uboot128 and successfully (I think) built and installed, via uboot and tftp, an image made from build 42229 (8/20/14).&nbsp; While early on I had disabled installing things like PPP, etc., to reduce RAM, at the moment the only change I&#039;m making to the default installation is in the kernel_menuconfig for 16M memory and to the .dts file to change the serial port to 19200 baud.&nbsp; (57600 was dropping chars.)&nbsp; (Did &quot;make defconfig&quot;, &quot;svn revert -R target/linux/&quot;, and &quot;make clean&quot;--I think this is a clean build.)&nbsp; After booting, I edit the network config file to be:<br />config interface &quot;lan&quot;<br />&nbsp; &nbsp; option ifname &quot;eth0&quot;<br />&nbsp; &nbsp; option proto &quot;static&quot;<br />&nbsp; &nbsp; option ipaddr &quot;192.168.16.67&quot;<br />&nbsp; &nbsp; option netmask &quot;255.255.255.0&quot;<br />(Followed by /etc/init.d/network restart.)<br />The problem is that I can&#039;t ping the RM04, nor ping from the RM04, though on the &quot;WAN&quot; (&quot;internet 1&quot; on schematic) and middle LEDs do show activity when external devices send data.<br />Ping from the RM04 to the development system (192.168.16.100):<br />root@OpenWrt:/# ping 192.168.16.100<br />PING 192.168.16.100 (192.168.16.100): 56 data bytes<br />^C<br />--- 192.168.16.100 ping statistics ---<br />34 packets transmitted, 0 packets received, 100% packet loss</p><p>route gives:<br />root@OpenWrt:/# route<br />Kernel IP routing table<br />Destination&nbsp; &nbsp; &nbsp;Gateway&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags Metric Ref&nbsp; &nbsp; Use Iface<br />192.168.16.0&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.0&nbsp; &nbsp;U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth0<br />root@OpenWrt:/#</p><p>I know at least the &quot;LAN&quot; (&quot;internet 2&quot;) port physically works--that&#039;s how I tftp&#039;d the kernel using uboot.&nbsp; I am running wireshark on the (ubuntu) host and see the outgoing pings from the host, but no replies nor any pings from the HLK-RM04 when I ping from there.&nbsp; I&#039;ve tried both the &quot;WAN&quot; and &quot;LAN&quot; ethernet jacks.</p><p>What (else) do I need to do to be able to connect via ethernet to the RM04?<br />Are the WAN and LAN ports after a switch, or two separate ports?</p><br /><p>Thanks.</p><p>--Dale</p>											<p class="post-edited">(Last edited by <strong>dgrover</strong> on 1 Sep 2014, 15:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245614">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">chuvakpasha</div>
					<div class="post-datetime">
						1 Sep 2014, 15:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gabriel.klein wrote:</cite><blockquote><p>To extract the content of the directory. (Using Ubuntu...)</p><p>Install the software from<br /><a href="http://www.binaryanalysis.org/en/content/show/download">http://www.binaryanalysis.org/en/content/show/download</a><br />and install binwalk:<br />apt-get install binwalk</p><p>Note: you can *probably* do it with mtd0 as it contains everything!</p><p>Install binwalk and analyse mtd6 that was previously extracted.<br />binwalk mtd6 </p><p>You see something like<br />791189&nbsp; &nbsp; &nbsp; &nbsp; 0xC1295&nbsp; &nbsp;&nbsp; &nbsp; Squashfs filesystem, little endian, non-standard signature,&nbsp; version 3.0, size: 2449471 bytes, 563 inodes, blocksize: 65536 bytes, created: Mon Apr&nbsp; 1 16:09:18 2013 </p><p>Extract the squashfs image (filesystem image)<br />dd if=DIR-320A1_FW121WWb03.bin bs=1 skip=721024 count=2960636 of=fs.squashfs</p><p>And run<br />sudo bat-unsquashfs-ralink data.squashfs </p><p>You should have now the file system of your ralink/HLK-RM02 device in a local folder.</p><br /><p>Next step: Modify and repackage the file system.</p></blockquote></div><p>Hi.<br />I tried to make a copy of the firmware and extract the contents, but when I run the command &quot;cat&quot; module freezes. <br />You can send me on my e-mail (golinskiy007@gmail.com) dump firmware and extracted firmware. <br />Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246302">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">dgrover</div>
					<div class="post-datetime">
						7 Sep 2014, 16:56					</div>
				</div>
				<div class="post-content content">
					<p>In case it is useful to anyone else, a configuration for /etc/config/network that works for enabling the LAN port (no wifi, and WAN is just set to some arbitrary static IP) is:</p><div class="codebox"><pre><code>config interface &#039;lan&#039;
    option ifname &#039;eth0.1&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;192.168.16.67&#039;
    option netmask &#039;255.255.255.0&#039;

config interface &#039;wan&#039;
    option ifname &#039;eth0.2&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;192.168.13.1&#039;
    option netmask &#039;255.255.255.0&#039;

config switch
    option name &#039;switch0&#039;
    option reset &#039;1&#039;
    option enable_vlan &#039;1&#039;
config switch_vlan
    option device &#039;switch0&#039;
    option vlan &#039;1&#039;
    option ports &#039;0 1 2 3 6t&#039;

config switch_lan
    option device &#039;switch0&#039;
    option vlan &#039;2&#039;
    option ports &#039;4 6t&#039;

config interface &#039;loopback&#039;
    option ifname &#039;lo&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;127.0.0.1&#039;
    option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
    option ula_prefix &#039;fdb1:a57f:2544::/48&#039;</code></pre></div><p>Then<br />/etc/init.d/network restart</p><br /><br /><div class="quotebox"><cite>dgrover wrote:</cite><blockquote><p>I have a V2.3 development board and have installed uboot128 and successfully (I think) built and installed, via uboot and tftp, an image made from build 42229 (8/20/14).&nbsp; While early on I had disabled installing things like PPP, etc., to reduce RAM, at the moment the only change I&#039;m making to the default installation is in the kernel_menuconfig for 16M memory and to the .dts file to change the serial port to 19200 baud.&nbsp; (57600 was dropping chars.)&nbsp; (Did &quot;make defconfig&quot;, &quot;svn revert -R target/linux/&quot;, and &quot;make clean&quot;--I think this is a clean build.)&nbsp; After booting, I edit the network config file to be:<br />config interface &quot;lan&quot;<br />&nbsp; &nbsp; option ifname &quot;eth0&quot;<br />&nbsp; &nbsp; option proto &quot;static&quot;<br />&nbsp; &nbsp; option ipaddr &quot;192.168.16.67&quot;<br />&nbsp; &nbsp; option netmask &quot;255.255.255.0&quot;<br />(Followed by /etc/init.d/network restart.)<br />The problem is that I can&#039;t ping the RM04, nor ping from the RM04, though on the &quot;WAN&quot; (&quot;internet 1&quot; on schematic) and middle LEDs do show activity when external devices send data.<br />...</p><p>What (else) do I need to do to be able to connect via ethernet to the RM04?<br />Are the WAN and LAN ports after a switch, or two separate ports?</p><br /><p>Thanks.</p><p>--Dale</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246472">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">spanky</div>
					<div class="post-datetime">
						8 Sep 2014, 19:37					</div>
				</div>
				<div class="post-content content">
					<p>RE: 8MB flash</p><p>wowbaggerHU: Sorry for the delayed response. I was stuck rebuilding multiple times on account of what turned out to be a silent firmware build size issue. I checked the kernel commandline and there are no non-standard items (i.e. no mtdparts)</p><br /><p>I also created a new thread as this will probably be more of an issue going forward (assuming Hi-link releases more of these larger modules):<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=246471">https://forum.openwrt.org/viewtopic.php?pid=246471</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246579">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">rtek1000</div>
					<div class="post-datetime">
						9 Sep 2014, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I found this list of memory chip. <br />(Was not tested)<br />- Power supply: 3V3<br />- Type: SDRAM<br />- Clock Frequency: 133MHz<br />- DATA BUS: 16 bits<br />- Plastic package: 54-pin TSOP</p><p>256Mbit:<br />H57V2562GTR-75C<br />mt48lc16m16a2 tg-75d<br />is42s16160g-7tli<br />mt48lc16m16a2</p><p>512Mbit:<br />IS42S16320B - 6TLI<br />MT48LC32M16A2<br />MEM5116SDBATG</p><p>I saw that RA5350 can operate up to 512 Mbits, but many guys say the OpenWrt does not recognize.<br />Anyone has been successful with a chip 512Mbit?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246583">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">rtek1000</div>
					<div class="post-datetime">
						9 Sep 2014, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>Hello again.</p><p>Please, does anyone have a picture of the native bootloader? (uboot)</p><p>I replaced my system with OpenWrt, but I have no backup.</p><p>I would go back to test the native HLK-RM04 again.</p><p>I requested the file.bin the factory, but they sent me without bootloader.</p><p>I tried with bootloader OpenWrt, but returned an error:<br />Bad Magic Number</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246592">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">rtek1000</div>
					<div class="post-datetime">
						10 Sep 2014, 00:07					</div>
				</div>
				<div class="post-content content">
					<p>I noticed that this type of memory is used in computer with PC133 board.</p><p>I&#039;ll buy one to test.</p><p><a href="http://en.wikipedia.org/wiki/PC133">http://en.wikipedia.org/wiki/PC133</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246751">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">hot-dog</div>
					<div class="post-datetime">
						11 Sep 2014, 16:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rtek1000 wrote:</cite><blockquote><p>Hello again.</p><p>Please, does anyone have a picture of the native bootloader? (uboot)</p></blockquote></div><p>I have a dump here of the orginal firmware:<br /><a href="https://dl.dropboxusercontent.com/u/74177736/hlk-rm04/hlk-rm04-original-dump.zip">https://dl.dropboxusercontent.com/u/741 … l-dump.zip</a></p><p>You need to extract the uBoot from it, or just flash it with a programmer and use as You want.</p><br /><p>Ok, I&#039;ve got today a 32MB RAM, 8MB flash version.</p><p>I would like to use it up. </p><p>First thing that i did, I&#039;ve upload the uboot256.img from here <a href="https://github.com/JiapengLi/OpenWrt-HiLink-HLK-RM04/tree/master/image">https://github.com/JiapengLi/OpenWrt-Hi … ster/image</a></p><p>Then I&#039;ve uploaded a image I&#039;ve created using ImageBuilder for Barier Braker rc3. </p><p>The system started but there is only 16MB RAM and 4MB flash. </p><p>What do I need to do to change the flash, and RAM amount?</p><p>The uBoot is recognizing properly 32MB, but linux has only 16MB.</p><p>I would be happy to contribute and create a 32/8 MB image/profile, but need some hints form the gurus.</p><p>Is the kernel compiled with mem=16M, therefore system is not using the rest? What about the flash?</p><p>Much appreciate any help. <br />Jakub </p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jan  9 2014 - 17:10:03)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
******************************
Software System Reset Occurred
******************************
spi_wait_nsec: 42
spi device id: c2 20 17 c2 20 (2017c220)
find flash: MX25L6405D
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 3.6.0.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: EEPROM
DRAM_SIZE: 256 Mbits SDR
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Jan  9 2014  Time:17:10:03
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.                                                                                                                                                                                  0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   HLK-RM02
   Created:      2014-09-08  18:20:30 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1054484 Bytes =  1 MB
   Load Address: 80000000
   Entry Point:  80000000
raspi_read: from:50040 len:101714
.................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 32

Starting kernel ...

[    0.000000] Linux version 3.10.49 (bb@builder1) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42001) ) #1 Fri Aug 8 04:01:07 CEST 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is HILINK HLK-RM04
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 01000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x00ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x00ffffff]
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
[    0.000000] Kernel command line: console=ttyS1,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 64 (order: -4, 256 bytes)
[    0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Writing ErrCtl register=00063110
[    0.000000] Readback ErrCtl register=00063110
[    0.000000] Memory: 12916k/16384k available (2284k kernel code, 3468k reserved, 575k data, 212k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.080000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.140000] bio: create slab &lt;bio-0&gt; at 0
[    0.150000] rt2880_gpio 10000600.gpio: registering 22 gpios
[    0.160000] rt2880_gpio 10000600.gpio: registering 22 irq handlers
[    0.170000] Switching to clocksource MIPS
[    0.180000] NET: Registered protocol family 2
[    0.190000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.210000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.220000] TCP: Hash tables configured (established 512 bind 512)
[    0.230000] TCP: reno registered
[    0.240000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.260000] NET: Registered protocol family 1
[    0.270000] rt-timer 10000100.timer: maximum frequncy is 7324Hz
[    0.330000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.340000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.360000] msgmni has been set to 25
[    0.370000] io scheduler noop registered
[    0.380000] io scheduler deadline registered (default)
[    0.390000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.420000] rt2880-pinmux pinctrl.1: pin io7 already requested by pinctrl.1; cannot claim for 10000500.uart
[    0.440000] rt2880-pinmux pinctrl.1: pin-7 (10000500.uart) status -22
[    0.450000] rt2880-pinmux pinctrl.1: could not request pin 7 on device rt2880-pinmux
[    0.470000] of_serial 10000500.uart: Error applying setting, reverse things back
[    0.480000] 10000500.uart: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    0.500000] 10000c00.uartlite: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.510000] console [ttyS1] enabled, bootconsole disabled
[    0.510000] console [ttyS1] enabled, bootconsole disabled
[    0.550000] m25p80 spi32766.0: found mx25l6405d, expected gd25q64
[    0.560000] m25p80 spi32766.0: mx25l6405d (8192 Kbytes)
[    0.570000] 4 ofpart partitions found on MTD device spi32766.0
[    0.580000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.590000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.610000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.620000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.630000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.650000] 0x000000151754-0x000000400000 : &quot;rootfs&quot;
[    0.660000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.690000] mtd: device 4 (rootfs) set to be root filesystem
[    0.700000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x2f0000, len=0x110000
[    0.720000] 0x0000002f0000-0x000000400000 : &quot;rootfs_data&quot;
[    0.740000] eth0: done loading
[    0.750000] rt3xxx-usbphy usbphy.3: loaded
[    0.760000] rt2880_wdt 10000120.watchdog: Initialized
[    0.770000] TCP: cubic registered
[    0.780000] NET: Registered protocol family 17
[    0.790000] Bridge firewalling registered
[    0.800000] 8021q: 802.1Q VLAN Support v1.8
[    0.830000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.840000] Freeing unused kernel memory: 212K (802cb000 - 80300000)
procd: Console is alive
procd: - watchdog -
[    6.610000] usbcore: registered new interface driver usbfs
[    6.620000] usbcore: registered new interface driver hub
[    6.630000] usbcore: registered new device driver usb
[    6.660000] dwc_otg: version 2.72a 24-JUN-2008
procd: - preinit -
[    7.470000] rt305x-esw 10110000.esw: link changed 0x00
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is ready
jffs2 is ready
[   11.200000] jffs2: notice: (285) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 9 of xref (0 dead, 2 orphan) found.
switching to overlay
procd: - early -
procd: - watchdog -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   13.420000] NET: Registered protocol family 10
[   13.450000] nf_conntrack version 0.5.0 (205 buckets, 820 max)
[   13.470000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.500000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   13.520000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   13.540000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.620000] xt_time: kernel timezone is -0000
[   13.660000] cfg80211: Calling CRDA to update world regulatory domain
[   13.680000] cfg80211: World regulatory domain updated:
[   13.690000] cfg80211:  DFS Master region: unset
[   13.690000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   13.710000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.730000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.750000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   13.760000] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   13.780000] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.790000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.810000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   13.830000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   17.320000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   17.340000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
procd: - init complete -
[   27.880000] device eth0.1 entered promiscuous mode
[   27.890000] device eth0 entered promiscuous mode
[   27.910000] br-lan: port 1(eth0.1) entered forwarding state
[   27.920000] br-lan: port 1(eth0.1) entered forwarding state
[   29.920000] br-lan: port 1(eth0.1) entered forwarding state



BusyBox v1.22.1 (2014-08-05 13:22:56 CEST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 BARRIER BREAKER (14.07-rc3, r42056)
 -----------------------------------------------------
  * 1/2 oz Galliano         Pour all ingredients into
  * 4 oz cold Coffee        an irish coffee mug filled
  * 1 1/2 oz Dark Rum       with crushed ice. Stir.
  * 2 tsp. Creme de Cacao
 -----------------------------------------------------
root@OpenWrt:/# free
             total         used         free       shared      buffers
Mem:         13128        11980         1148            0          800
-/+ buffers:              11180         1948
Swap:            0            0            0
root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                    1.1M    204.0K    884.0K  19% /
/dev/root                 1.8M      1.8M         0 100% /rom
tmpfs                     6.4M     56.0K      6.4M   1% /tmp
/dev/mtdblock5            1.1M    204.0K    884.0K  19% /overlay
overlayfs:/overlay        1.1M    204.0K    884.0K  19% /
tmpfs                   512.0K         0    512.0K   0% /dev
root@OpenWrt:/# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &quot;u-boot&quot;
mtd1: 00010000 00010000 &quot;u-boot-env&quot;
mtd2: 00010000 00010000 &quot;factory&quot;
mtd3: 003b0000 00010000 &quot;firmware&quot;
mtd4: 002ae8ac 00010000 &quot;rootfs&quot;
mtd5: 00110000 00010000 &quot;rootfs_data&quot;
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246766">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">hot-dog</div>
					<div class="post-datetime">
						11 Sep 2014, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;ve managed to fix the flash issue, need to edit two files (but I&#039;m not sure if the first one is 100% required):</p><p>target/linux/ramips/image/Makefile<br /></p><div class="codebox"><pre><code>--- BuildFirmware/HLKRM04/squashfs=$(call BuildFirmware/Default4M/squashfs,$(1),$(2),$(3),$(4))
+++ BuildFirmware/HLKRM04/squashfs=$(call BuildFirmware/Default8M/squashfs,$(1),$(2),$(3),$(4))</code></pre></div><p>target/linux/ramips/dts/HLKRM04.dts<br /></p><div class="codebox"><pre><code>                partition@50000 {
                    label = &quot;firmware&quot;;
---                    reg = &lt;0x50000 0x3b0000&gt;;
+++                    reg = &lt;0x50000 0x7b0000&gt;;</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &quot;u-boot&quot;
mtd1: 00010000 00010000 &quot;u-boot-env&quot;
mtd2: 00010000 00010000 &quot;factory&quot;
mtd3: 007b0000 00010000 &quot;firmware&quot;
mtd4: 006ae94f 00010000 &quot;rootfs&quot;
mtd5: 00510000 00010000 &quot;rootfs_data&quot;
root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                    5.1M    272.0K      4.8M   5% /
/dev/root                 1.8M      1.8M         0 100% /rom
tmpfs                     6.4M     60.0K      6.4M   1% /tmp
tmpfs                     6.4M     24.0K      6.4M   0% /tmp/root
tmpfs                   512.0K         0    512.0K   0% /dev
/dev/mtdblock5            5.1M    272.0K      4.8M   5% /overlay
overlayfs:/overlay        5.1M    272.0K      4.8M   5% /</code></pre></div><p>still no luck with RAM</p>											<p class="post-edited">(Last edited by <strong>hot-dog</strong> on 11 Sep 2014, 18:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246771">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">hot-dog</div>
					<div class="post-datetime">
						11 Sep 2014, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>Ok, RAM is solved:</p><p>target/linux/ramips/dts/HLKRM04.dts<br /></p><div class="codebox"><pre><code>    memory@0 {
        device_type = &quot;memory&quot;;
---        reg = &lt;0x0 0x1000000&gt;;
+++        reg = &lt;0x0 0x2000000&gt;;
    };</code></pre></div><div class="codebox"><pre><code>U-Boot 1.1.3 (Jan  9 2014 - 17:10:03)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
******************************
Software System Reset Occurred
******************************
spi_wait_nsec: 42
spi device id: c2 20 17 c2 20 (2017c220)
find flash: MX25L6405D
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 3.6.0.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: EEPROM
DRAM_SIZE: 256 Mbits SDR
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Jan  9 2014  Time:17:10:03
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.                                                                                                                                                                                  0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   HLK-RM02
   Created:      2014-09-11  15:35:25 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1054554 Bytes =  1 MB
   Load Address: 80000000
   Entry Point:  80000000
raspi_read: from:50040 len:10175a
.................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 32

Starting kernel ...

[    0.000000] Linux version 3.10.49 (bb@builder1) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42001) ) #1 Fri Aug 8 04:01:07 CEST 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is HILINK HLK-RM04
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS1,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00063110
[    0.000000] Readback ErrCtl register=00063110
[    0.000000] Memory: 29160k/32768k available (2284k kernel code, 3608k reserved, 575k data, 212k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.080000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.140000] bio: create slab &lt;bio-0&gt; at 0
[    0.150000] rt2880_gpio 10000600.gpio: registering 22 gpios
[    0.160000] rt2880_gpio 10000600.gpio: registering 22 irq handlers
[    0.170000] Switching to clocksource MIPS
[    0.180000] NET: Registered protocol family 2
[    0.190000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.210000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.220000] TCP: Hash tables configured (established 512 bind 512)
[    0.230000] TCP: reno registered
[    0.240000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.260000] NET: Registered protocol family 1
[    0.270000] rt-timer 10000100.timer: maximum frequncy is 7324Hz
[    0.330000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.340000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.360000] msgmni has been set to 56
[    0.370000] io scheduler noop registered
[    0.380000] io scheduler deadline registered (default)
[    0.390000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.420000] rt2880-pinmux pinctrl.1: pin io7 already requested by pinctrl.1; cannot claim for 10000500.uart
[    0.440000] rt2880-pinmux pinctrl.1: pin-7 (10000500.uart) status -22
[    0.450000] rt2880-pinmux pinctrl.1: could not request pin 7 on device rt2880-pinmux
[    0.470000] of_serial 10000500.uart: Error applying setting, reverse things back
[    0.480000] 10000500.uart: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    0.500000] 10000c00.uartlite: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.510000] console [ttyS1] enabled, bootconsole disabled
[    0.510000] console [ttyS1] enabled, bootconsole disabled
[    0.550000] m25p80 spi32766.0: found mx25l6405d, expected mx25l3205d
[    0.560000] m25p80 spi32766.0: mx25l6405d (8192 Kbytes)
[    0.570000] 4 ofpart partitions found on MTD device spi32766.0
[    0.580000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.590000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.610000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.620000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.630000] 0x000000050000-0x000000800000 : &quot;firmware&quot;
[    0.650000] 0x00000015179a-0x000000800000 : &quot;rootfs&quot;
[    0.660000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.690000] mtd: device 4 (rootfs) set to be root filesystem
[    0.700000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x2f0000, len=0x510000
[    0.720000] 0x0000002f0000-0x000000800000 : &quot;rootfs_data&quot;
[    0.740000] eth0: done loading
[    0.750000] rt3xxx-usbphy usbphy.3: loaded
[    0.760000] rt2880_wdt 10000120.watchdog: Initialized
[    0.770000] TCP: cubic registered
[    0.780000] NET: Registered protocol family 17
[    0.790000] Bridge firewalling registered
[    0.800000] 8021q: 802.1Q VLAN Support v1.8
[    0.830000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.850000] Freeing unused kernel memory: 212K (802cb000 - 80300000)
procd: Console is alive
procd: - watchdog -
[    6.610000] usbcore: registered new interface driver usbfs
[    6.620000] usbcore: registered new interface driver hub
[    6.630000] usbcore: registered new device driver usb
[    6.660000] dwc_otg: version 2.72a 24-JUN-2008
procd: - preinit -
[    7.470000] rt305x-esw 10110000.esw: link changed 0x00
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is ready
jffs2 is ready
[   11.240000] jffs2: notice: (285) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 9 of xref (0 dead, 2 orphan) found.
switching to overlay
procd: - early -
procd: - watchdog -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   13.440000] NET: Registered protocol family 10
[   13.470000] nf_conntrack version 0.5.0 (458 buckets, 1832 max)
[   13.490000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.520000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   13.540000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   13.560000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.640000] xt_time: kernel timezone is -0000
[   13.690000] cfg80211: Calling CRDA to update world regulatory domain
[   13.700000] cfg80211: World regulatory domain updated:
[   13.710000] cfg80211:  DFS Master region: unset
[   13.720000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   13.740000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.760000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.770000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   13.790000] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   13.810000] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.820000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.840000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   13.850000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   13.990000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   14.010000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
procd: - init complete -
[   23.760000] device eth0.1 entered promiscuous mode
[   23.770000] device eth0 entered promiscuous mode
[   23.790000] br-lan: port 1(eth0.1) entered forwarding state
[   23.800000] br-lan: port 1(eth0.1) entered forwarding state
[   25.800000] br-lan: port 1(eth0.1) entered forwarding state
free


BusyBox v1.22.1 (2014-08-05 13:22:56 CEST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 BARRIER BREAKER (14.07-rc3, r42056)
 -----------------------------------------------------
  * 1/2 oz Galliano         Pour all ingredients into
  * 4 oz cold Coffee        an irish coffee mug filled
  * 1 1/2 oz Dark Rum       with crushed ice. Stir.
  * 2 tsp. Creme de Cacao
 -----------------------------------------------------
root@OpenWrt:/# free
             total         used         free       shared      buffers
Mem:         29372        15012        14360            0         1492
-/+ buffers:              13520        15852
Swap:            0            0            0
root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                    5.1M    272.0K      4.8M   5% /
/dev/root                 1.8M      1.8M         0 100% /rom
tmpfs                    14.3M     56.0K     14.3M   0% /tmp
/dev/mtdblock5            5.1M    272.0K      4.8M   5% /overlay
overlayfs:/overlay        5.1M    272.0K      4.8M   5% /
tmpfs                   512.0K         0    512.0K   0% /dev
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251338">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">chuvakpasha</div>
					<div class="post-datetime">
						20 Oct 2014, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi! <br />Please help <br />Restore factory firmware after a failed upgrade. </p><p>For TFTP firmware pour I can not. No answer</p><p>log in UART</p><p>0 d:2068&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />2 d:2068&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />1 d:2068&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><p>3: System Boot system code via Flash.<br />## Booting image at bc050000 ...<br />raspi_read: from:50000 len:40<br />.&nbsp; &nbsp;Image Name:&nbsp; &nbsp;HLK-RM02<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2013-07-23&nbsp; 12:01:07 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 3289822 Bytes =&nbsp; 3.1 MB<br />&nbsp; &nbsp;Load Address: 80000000<br />&nbsp; &nbsp;Entry Point:&nbsp; 8024e000<br />raspi_read: from:50040 len:3232de<br />...................................................&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 8024e000) ...<br />## Giving linux memsize in MB, 16</p><p>Starting kernel ...</p>											<p class="post-edited">(Last edited by <strong>chuvakpasha</strong> on 20 Oct 2014, 23:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251579">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">Tooraj</div>
					<div class="post-datetime">
						22 Oct 2014, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I want to use HLK-RM04 for real time monitoring solution.<br />How can i send command to a specific serialport from PC to receive the answer just like direct serial cable connection?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252978">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">morfeus</div>
					<div class="post-datetime">
						3 Nov 2014, 18:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I think I have bricked my HLK-RM04 in a very dumb way:( I was working by the JiapengLi directions and instead of clicking on uboot128.img and then downloading (when file is opened in RAW format) I have entered image folder, clicked with right mouse button and chose Save link as... After that, I uploaded that file to HLK and that went through. Well, until a reboot when I see only all three LED light up and nothing else happens. So, I opened the downloaded uboot128.img in notepad and saw that the file contains html data and stuff like that:((( So, is there any way to put the right boot? Do I have to de-solder winbond 25Q32FV (on the side of connectors, not the big chip on the side where main processor is) then use some USB to SPI adapter and write firmware to it? Where to obtain firmware? Thanks.</p><p>Kind regards,<br />Gabrijel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253254">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">spanky</div>
					<div class="post-datetime">
						5 Nov 2014, 23:26					</div>
				</div>
				<div class="post-content content">
					<p>morfeus: I too bricked my HLK-RM04 while trying to flash the bootloader. I&#039;d be interested if anyone has info on how to recover from this. Fortunately these modules are cheap, but I&#039;m trying to build a custom uboot, so I&#039;m pretty sure this wont be the last time I brick one of these.</p><p>If anyone knows anything about building uboot for the HLK-RM04, I started a new thread here:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=53809">https://forum.openwrt.org/viewtopic.php?id=53809</a></p><p>Thanks</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 7 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=42142&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42142&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=42142&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=42142&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=42142&amp;p=9.html">9</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>