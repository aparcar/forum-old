<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Lighttpd + php5 + gd</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p66048">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">viruss</div>
					<div class="post-datetime">
						31 Mar 2008, 04:11					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve recently installed lighttpd with php5 on my WL500G Premium according to this tutorial <a href="http://www.rabinovich.org/ymheebcex/">http://www.rabinovich.org/ymheebcex/</a> and everything seems just fine when looking at phpinfo();</p><p>Troubles come, though, when I try to resize images using imagecopyresample() from gd library. I realize that it&#039;s not a very good idea to resize images on something running at 266Mhz, but I need it very rarely, so I hoped it could work if I set script timeout long enough.</p><p>The problem is that when I try to resize .png image, after couple of seconds, I get following message on root&#039;s console:</p><div class="codebox"><pre><code>Allowed memory size of 8 bytes exhausted (tried to allocate 256 bytes)</code></pre></div><p>If I immediately run free command, I get this result:<br /></p><div class="codebox"><pre><code>free
              total         used         free       shared      buffers
  Mem:        30512        21488         9024            0         2180
 Swap:      4016208            0      4016208
Total:      4046720        21488      4025232</code></pre></div><p>The memory limit in php is set to 64M.</p><p>Moreover, when I try to resize .jpeg file, I immediately get the following error:</p><div class="codebox"><pre><code>(mod_cgi.c.584) cgi died, pid: 630</code></pre></div><p>Can someone guess what might be the reason of these errors?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66349">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ahu</div>
					<div class="post-datetime">
						4 Apr 2008, 23:47					</div>
				</div>
				<div class="post-content content">
					<p>Try to set a mem limit to 2M, 4M or 8M in php.ini ... any changes?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66751">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">viruss</div>
					<div class="post-datetime">
						12 Apr 2008, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>No, it seems it&#039;s always the same, getting the error with any of the settings.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>