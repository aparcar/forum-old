<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Trying to porting Kamikaze-7.06-x86 to RDC (i386) CPU</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50173">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">macpaul</div>
					<div class="post-datetime">
						10 Jun 2007, 11:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I&#039;m trying to porting Kamikaze_7.06-x86 to RDC&#039;s CPU product.<br />While the default CPU name in menuconfig is Sokeris Net4801.<br />After successfully build the kernel and filesystem image, I loaded them to the target platform.<br />When booting the kernel, I got the following from the serial console.<br />Could someone please help me to solve the problem?<br />According to the message output, it seems Sokeris Net4801 is a 486 CPU while RDC is a 386 product.<br />Maybe I also need to port some files to repleace the asm file in RDC.<br />The following is the booting message from serial console.</p><br /><p>GPIO 0-31 CONT: 1247c400<br />Loader$31 DATA: ffb87fff<br />mem_size: 2000000<br />initrd 1a00000 len 5e0000<br />Linux version 2.6.19.2 (macpaul@x60vm) (gcc version 4.1.2) #1 Tue Jun 5 21:15:23 CST 2007<br />BIOS-provided physical RAM map:<br /> BIOS-e801: 0000000000000000 - 000000000009f000 (usable)<br /> BIOS-e801: 0000000000100000 - 0000000002000000 (usable)<br />32MB LOWMEM available.<br />Zone PFN ranges:<br />&nbsp; DMA&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />&nbsp; Normal&nbsp; &nbsp; &nbsp; &nbsp;4096 -&gt;&nbsp; &nbsp; &nbsp;8192<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0:&nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;8192<br />DMI not present or invalid.<br />Allocating PCI resources starting at 10000000 (gap: 02000000:fe000000)<br />Built 1 zonelists.&nbsp; Total pages: 8128<br />Kernel command line: console=ttyS0,38400<br />Initializing CPU#0<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />Console: colour dummy device 80x25<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 23976k/32768k available (1439k kernel code, 8404k reserved, 359k data, 128k init, 0k highmem<br />)<br />virtual kernel memory layout:<br />&nbsp; &nbsp; fixmap&nbsp; : 0xffffc000 - 0xfffff000&nbsp; &nbsp;(&nbsp; 12 kB)<br />&nbsp; &nbsp; vmalloc : 0xc2800000 - 0xffffa000&nbsp; &nbsp;( 983 MB)<br />&nbsp; &nbsp; lowmem&nbsp; : 0xc0000000 - 0xc2000000&nbsp; &nbsp;(&nbsp; 32 MB)<br />&nbsp; &nbsp; &nbsp; .init : 0xc02c4000 - 0xc02e4000&nbsp; &nbsp;( 128 kB)<br />&nbsp; &nbsp; &nbsp; .data : 0xc0267e16 - 0xc02c1dc8&nbsp; &nbsp;( 359 kB)<br />&nbsp; &nbsp; &nbsp; .text : 0xc0100000 - 0xc0267e16&nbsp; &nbsp;(1439 kB)<br />Checking if this processor honours the WP bit even in supervisor mode... Ok.<br />Mount-cache hash table entries: 512<br />Compat vDSO mapped to ffffe000.<br />CPU: 486<br />No coprocessor found and no math emulation present.<br />Giving up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50174">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						10 Jun 2007, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>*cough* rdc-2.6<br /><a href="https://dev.openwrt.org/wiki/platforms">https://dev.openwrt.org/wiki/platforms</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50205">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">macpaul</div>
					<div class="post-datetime">
						11 Jun 2007, 04:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi mbm,</p><p>Thanks for your information.<br />However Kamikaze_7.06-x86 use Linux 2.6.19 as its default kernel.<br />While <a href="https://dev.openwrt.org/wiki/rdc-2.6">https://dev.openwrt.org/wiki/rdc-2.6</a> reports it brokes with 2.6.21.<br />I&#039;ll try to contact Florian for detail debugging. Thank U.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>