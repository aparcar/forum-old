<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> harddisk not found: rev10325 kernel 2.4 target wl-700ge</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p62574">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">n00ben</div>
					<div class="post-datetime">
						30 Jan 2008, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>just compiled an image (well I&#039;ve tried installing several to get openwrt to find my harddisk) with no luck...</p><p>there is no harddisk in /dev/ide/</p><p>as written, target is wl-700ge, so <br />kmod-ide-aec62xx<br />kmod-ide-core<br />are selected by default.</p><p>besides I&#039;ve enabled scsi-core. scsi-generic, and some of the usb modules.</p><p>hope anyone can help.</p><p>regards<br />Henrik</p><p><strong>insmod aec62xx</strong><br />insmod: init_module: aec62xx: No such device</p><p><strong>lsmod</strong>: note kmod-ide-aec62xx is not loaded, though it is in /etc/modules</p><p>Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Not tainted<br />sg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29252&nbsp; &nbsp;0 (unused)<br />uhci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29060&nbsp; &nbsp;0 (unused)<br />usb-ohci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;19252&nbsp; &nbsp;0 (unused)<br />msdos&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6028&nbsp; &nbsp;0 (unused)<br />soundcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4048&nbsp; &nbsp;0 (unused)<br />vfat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11340&nbsp; &nbsp;0 (unused)<br />fat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 34448&nbsp; &nbsp;0 [msdos vfat]<br />ntfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;59168&nbsp; &nbsp;0 (unused)<br />ext2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;40304&nbsp; &nbsp;0 (unused)<br />usb-storage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 69632&nbsp; &nbsp;1<br />sd_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12500&nbsp; &nbsp;2<br />scsi_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;66048&nbsp; &nbsp;3 [sg usb-storage sd_mod]<br />ehci-hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;20556&nbsp; &nbsp;0 (unused)<br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 71296&nbsp; &nbsp;1 [uhci usb-ohci usb-storage ehci-hcd]<br />ext3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;71388&nbsp; &nbsp;1<br />jbd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 51152&nbsp; &nbsp;1 [ext3]<br />ide-disk&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16444&nbsp; &nbsp;0<br />ide-detect&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;188&nbsp; &nbsp;0 (unused)<br />ide-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 113088&nbsp; &nbsp;0 [ide-disk ide-detect]<br />switch-robo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4540&nbsp; &nbsp;0 (unused)<br />switch-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4864&nbsp; &nbsp;0 [switch-robo]<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;26864&nbsp; &nbsp;0 (unused)</p><br /><p><strong>here is my syslog, where it seems it find&#039;s the bus controlling the hd controller:</strong></p><p>Jan&nbsp; 1 00:00:29 OpenWrt syslog.info syslogd started: BusyBox v1.8.2<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: CPU revision is: 00029006<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Primary data cache 16kB, 2-way, linesize 16 bytes.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Linux version 2.4.35.4 (henrik@myhost) (gcc version 3.4.6 (OpenWrt-2.0)) #3 Wed Jan 30 13:18:50 CET 2008<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Setting the PFC to its default value<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Determined physical RAM map:<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel:&nbsp; memory: 04000000 @ 00000000 (usable)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: On node 0 totalpages: 16384<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: zone(0): 16384 pages.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: zone(1): 0 pages.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: zone(2): 0 pages.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: CPU: BCM4704 rev 8 at 264 MHz<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Using 132.000 MHz high precision timer.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Calibrating delay loop... 263.78 BogoMIPS<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Memory: 62824k/65536k available (1476k kernel code, 2712k reserved, 100k data, 88k init, 0k highmem)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Dentry cache hash table entries: 8192 (order: 4, 65536 bytes)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Inode cache hash table entries: 4096 (order: 3, 32768 bytes)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Buffer cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Page-cache hash table entries: 16384 (order: 4, 65536 bytes)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: POSIX conformance testing by UNIFIX<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: PCI: Initializing host<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: PCI: Fixing up bus 0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: PCI: Fixing up bridge<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: PCI: Setting latency timer of device 01:00.0 to 64<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: PCI: Fixing up bus 1<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Linux NET4.0 for Linux 2.4<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Based upon Swansea University Computer Society NET3.039<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Initializing RT netlink socket<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Starting kswapd<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Registering mini_fo version $Id$<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: devfs: boot_options: 0x1<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: pty: 256 Unix98 ptys configured<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: ttyS01 at 0xb8000400 (irq = 3) is a 16550A<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: b44.c:v0.93 (Mar, 2004)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:01.0 to 64<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: eth0: Broadcom 47xx 10/100BaseT Ethernet 00:17:31:96:6d:b1<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:02.0 to 64<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: eth1: Broadcom 47xx 10/100BaseT Ethernet 00:17:31:96:6d:b2<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x200000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x600000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0xa00000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0xe00000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1200000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1600000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1a00000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1e00000 for the chip at 0x0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel:&nbsp; Amd/Fujitsu Extended Query Table v1.0 at 0x0040<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Physically mapped flash: JEDEC Device ID is 0xC4. Assuming broken CFI table.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Physically mapped flash: Swapping erase regions for broken CFI table.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: number of CFI chips: 1<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: cfi_cmdset_0002: Disabling fast programming due to code brokenness.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: Flash device: 0x200000 at 0x1c000000<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: bootloader size: 262144<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Physically mapped flash: Filesystem type: squashfs, size=0x11d03a<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: 0x00000000-0x00040000 : &quot;cfe&quot;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: 0x00040000-0x001f0000 : &quot;linux&quot;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: 0x000bf400-0x001e0000 : &quot;rootfs&quot;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: <br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: 0x001f0000-0x00200000 : &quot;nvram&quot;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.notice kernel: 0x001e0000-0x001f0000 : &quot;rootfs_data&quot;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Initializing Cryptographic API<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: NET4: Linux TCP/IP 1.0 for NET4.0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: IP Protocols: ICMP, UDP, TCP, IGMP<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: IP: routing cache hash table of 512 buckets, 4Kbytes<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: TCP: Hash tables configured (established 4096 bind 8192)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: ip_conntrack version 2.1 (5953 buckets, 5953 max) - 344 bytes per conntrack<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: ip_tables: (C) 2000-2002 Netfilter core team<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: NET4: Ethernet Bridge 008 for NET4.0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: VFS: Mounted root (squashfs filesystem) readonly.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Mounted devfs on /dev<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Freeing unused kernel memory: 88k freed<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Algorithmics/MIPS FPU Emulator v1.5<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: diag: Detected &#039;ASUS WL-700gE&#039;<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: diag: Spinning up HDD and enabling leds<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Probing device eth0: found!<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Uniform Multi-Platform E-IDE driver Revision: 7.00beta4-2.4<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Journalled Block Device driver loaded<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: usb.c: registered new driver usbdevfs<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: usb.c: registered new driver hub<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: PCI: Enabling device 01:03.2 (0000 -&gt; 0002)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: ehci_hcd 01:03.2: PCI device 1106:3104<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: ehci_hcd 01:03.2: irq 2, pci mem c011d000<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: usb.c: new USB bus registered, assigned bus number 1<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: EHCI: Enabling VIA 6212 workarounds<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: ehci_hcd 01:03.2: USB 2.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: hub.c: USB hub found<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: hub.c: 4 ports detected<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: SCSI subsystem driver Revision: 1.00<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Initializing USB Mass Storage driver...<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: usb.c: registered new driver usb-storage<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: USB Mass Storage support registered.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: hub.c: new USB device 01:03.2-1, assigned address 2<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: scsi0 : SCSI emulation for USB Mass Storage devices<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel:&nbsp; &nbsp;Vendor: SanDisk&nbsp; &nbsp;Model: Cruzer Crossfire&nbsp; Rev: 0.1 <br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel:&nbsp; &nbsp;Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: SCSI device sda: 2001888 512-byte hdwr sectors (1025 MB)<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: sda: Write Protect is off<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: Partition check:<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel:&nbsp; /dev/scsi/host0/bus0/target0/lun0: p1<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: WARNING: USB Mass Storage data integrity not assured<br />Jan&nbsp; 1 00:00:29 OpenWrt user.debug kernel: USB Mass Storage device found at 2<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: kjournald starting.&nbsp; Commit interval 5 seconds<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: EXT3 FS 2.4-0.9.19, 19 August 2002 on sd(8,1), internal journal<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: EXT3-fs: recovery complete.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.info kernel: EXT3-fs: mounted filesystem with ordered data mode.<br />Jan&nbsp; 1 00:00:29 OpenWrt user.warn kernel: jffs2.bbc: SIZE compression mode activated.<br />Jan&nbsp; 1 00:00:30 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.<br />Jan&nbsp; 1 00:00:30 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.<br />Jan&nbsp; 1 00:00:32 OpenWrt user.info kernel: device eth0.0 entered promiscuous mode<br />Jan&nbsp; 1 00:00:32 OpenWrt user.info kernel: eth0.0: dev_set_promiscuity(master, 1)<br />Jan&nbsp; 1 00:00:32 OpenWrt user.info kernel: device eth0 entered promiscuous mode<br />Jan&nbsp; 1 00:00:32 OpenWrt user.info kernel: br-lan: port 1(eth0.0) entering learning state<br />Jan&nbsp; 1 00:00:32 OpenWrt user.info kernel: br-lan: port 1(eth0.0) entering forwarding state<br />Jan&nbsp; 1 00:00:32 OpenWrt user.info kernel: br-lan: topology change detected, propagating<br />Jan&nbsp; 1 00:00:32 OpenWrt user.warn kernel: eth0.1: Setting MAC address to&nbsp; 00 17 31 96 6d b2.<br />Jan&nbsp; 1 00:00:32 OpenWrt user.warn kernel: BFL_ENETADM not set in boardflags. Use force=1 to ignore.<br />Jan&nbsp; 1 00:00:33 OpenWrt user.notice kernel: NTFS driver v1.1.22 [Flags: R/O MODULE]<br />Jan&nbsp; 1 00:00:33 OpenWrt user.debug kernel: eth0.1: add 01:00:5e:00:00:01 mcast address to master interface<br />Jan&nbsp; 1 00:00:33 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:03.0 to 64<br />Jan&nbsp; 1 00:00:33 OpenWrt user.info kernel: usb-ohci.c: USB OHCI at membase 0xb8003000, IRQ 6<br />Jan&nbsp; 1 00:00:33 OpenWrt user.info kernel: usb-ohci.c: usb-00:03.0, PCI device 14e4:4715<br />Jan&nbsp; 1 00:00:33 OpenWrt user.info kernel: usb.c: new USB bus registered, assigned bus number 2<br />Jan&nbsp; 1 00:00:33 OpenWrt user.info kernel: hub.c: USB hub found<br />Jan&nbsp; 1 00:00:33 OpenWrt user.info kernel: hub.c: 2 ports detected<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: uhci.c: USB Universal Host Controller Interface driver v1.1<br />Jan&nbsp; 1 00:00:34 OpenWrt user.warn kernel: PCI: Enabling device 01:03.0 (0000 -&gt; 0001)<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: uhci.c: USB UHCI at I/O 0x200, IRQ 2<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: usb.c: new USB bus registered, assigned bus number 3<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: hub.c: USB hub found<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: hub.c: 2 ports detected<br />Jan&nbsp; 1 00:00:34 OpenWrt user.warn kernel: PCI: Enabling device 01:03.1 (0000 -&gt; 0001)<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: uhci.c: USB UHCI at I/O 0x220, IRQ 2<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: usb.c: new USB bus registered, assigned bus number 4<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: hub.c: USB hub found<br />Jan&nbsp; 1 00:00:34 OpenWrt user.info kernel: hub.c: 2 ports detected<br />Jan&nbsp; 1 00:00:36 OpenWrt authpriv.info dropbear[400]: Running in background<br />Jan&nbsp; 1 00:00:39 OpenWrt authpriv.info dropbear[454]: Child connection from 192.168.1.202:58952<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: started, version 2.38 cachesize 150<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: compile time options: IPv6 GNU-getopt ISC-leasefile no-DBus no-I18N TFTP<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: DHCP, IP range 192.168.1.100 -- 192.168.1.250, lease time 12h<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: using local addresses only for domain lan<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: reading /tmp/resolv.conf.auto<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: using nameserver 84.238.1.4#53<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: using nameserver 84.238.0.66#53<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: using nameserver 10.2.2.10#53<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: using local addresses only for domain lan<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.info dnsmasq[465]: read /etc/hosts - 1 addresses<br />Jan&nbsp; 1 00:00:40 OpenWrt daemon.err dnsmasq[465]: failed to read /etc/ethers:No such file or directory<br />Jan&nbsp; 1 00:00:44 OpenWrt authpriv.notice dropbear[454]: password auth succeeded for &#039;root&#039; from 192.168.1.202:58952<br />Jan&nbsp; 1 00:01:13 OpenWrt user.info : sysctl: error: &#039;net.ipv6.conf.all.forwarding&#039; is an unknown key</p>											<p class="post-edited">(Last edited by <strong>n00ben</strong> on 30 Jan 2008, 21:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62924">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zwirek75</div>
					<div class="post-datetime">
						6 Feb 2008, 10:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>n00ben wrote:</cite><blockquote><p>just compiled an image (well I&#039;ve tried installing several to get openwrt to find my harddisk) with no luck...</p><p>there is no harddisk in /dev/ide/</p><p>as written, target is wl-700ge, so <br />kmod-ide-aec62xx<br />kmod-ide-core<br />are selected by default.</p><p>besides I&#039;ve enabled scsi-core. scsi-generic, and some of the usb modules.</p></blockquote></div><p>Does it mean you have selected them as loadable modules ?<br />Based on the current works - when I follow the steps below&nbsp; it&nbsp; works (minimize number of modules in the squashfs image):<br />1. remove current configuration rm .config<br />2. make menuconfig<br />3. select broadcom-2.4<br />4. select wl-700ge<br />5. deselect &quot;dropbear&quot; in the base packages</p><p>For this step do not select anything else otherwise the image wont fit in flash.</p><p>After booting df reports sth like this:<br />root@OpenWrt:/# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1k-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31460&nbsp; &nbsp; &nbsp; &nbsp; 20&nbsp; &nbsp; &nbsp;31440&nbsp; &nbsp;0% /tmp<br />mini_fo:/tmp/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 832&nbsp; &nbsp; &nbsp; &nbsp;832&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /tmp/root<br />/dev/mtdblock/4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 384&nbsp; &nbsp; &nbsp; &nbsp;324&nbsp; &nbsp; &nbsp; &nbsp; 60&nbsp; 84% /jffs<br />mini_fo:/jffs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 832&nbsp; &nbsp; &nbsp; &nbsp;832&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /<br />which means there still is a little space for root_fs switch.<br />After flashing the initial image and switching the root fs it is possible to compile rest of packages and install them on hdd.</p><br /><p>Regards<br />Tomasz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62927">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mrx</div>
					<div class="post-datetime">
						6 Feb 2008, 10:41					</div>
				</div>
				<div class="post-content content">
					<p>As far as i see your disk is detected:</p><div class="codebox"><pre><code>an  1 00:00:29 OpenWrt user.info kernel: scsi0 : SCSI emulation for USB Mass Storage devices
Jan  1 00:00:29 OpenWrt user.warn kernel:   Vendor: SanDisk   Model: Cruzer Crossfire  Rev: 0.1
Jan  1 00:00:29 OpenWrt user.warn kernel:   Type:   Direct-Access                      ANSI SCSI revision: 02
Jan  1 00:00:29 OpenWrt user.warn kernel: Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0
Jan  1 00:00:29 OpenWrt user.warn kernel: SCSI device sda: 2001888 512-byte hdwr sectors (1025 MB)
Jan  1 00:00:29 OpenWrt user.warn kernel: sda: Write Protect is off
Jan  1 00:00:29 OpenWrt user.info kernel: Partition check:
Jan  1 00:00:29 OpenWrt user.info kernel:  /dev/scsi/host0/bus0/target0/lun0: p1
Jan  1 00:00:29 OpenWrt user.debug kernel: WARNING: USB Mass Storage data integrity not assured
Jan  1 00:00:29 OpenWrt user.debug kernel: USB Mass Storage device found at 2</code></pre></div><p>You might find your disk here:<br /></p><div class="codebox"><pre><code>/dev/scsi/host0/bus0/target0/lun0</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62932">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">n00ben</div>
					<div class="post-datetime">
						6 Feb 2008, 11:47					</div>
				</div>
				<div class="post-content content">
					<p>mrx:<br />no the disk you see is an USB-stick...</p><p>zwirek75:<br />how large is your image? mine ends out at around 1.6 mb - 1.8 mb, with usb / scsi / dnsmasq / bridge / iptables selected... is that too big? </p><p>/regards<br />Henrik</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62934">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zwirek75</div>
					<div class="post-datetime">
						6 Feb 2008, 12:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>n00ben wrote:</cite><blockquote><p>zwirek75:<br />how large is your image? mine ends out at around 1.6 mb - 1.8 mb, with usb / scsi / dnsmasq / bridge / iptables selected... is that too big? </p><p>/regards<br />Henrik</p></blockquote></div><p>My image does not have usb/scsi/dnsmasq selected. <br />I am using an image&nbsp; 1 445 888&nbsp; bytes&nbsp; big.</p><p>Thus it requires a lot of work to make it function correcly after installing. But I needed to do this cause of wl driver upgrade - kamikaze 7.09 is horribly unstable for me when wifi interface and cpu load is high.</p><br /><p>Tomasz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62945">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">n00ben</div>
					<div class="post-datetime">
						6 Feb 2008, 14:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zwirek75 wrote:</cite><blockquote><p>Thus it requires a lot of work to make it function correcly after installing. But I needed to do this cause of wl driver upgrade - kamikaze 7.09 is horribly unstable for me when wifi interface and cpu load is high.Tomasz</p></blockquote></div><p>so are you using 7.09 or trunk? my issues are with trunk.</p><p>Just got home, so I&#039;ll try building a really minimum image, and see if it works.</p><p>UPDATE: Sorry all for wasting your time, I opened the box, and I noticed the hdd was jumpered to Cable Select, I changed it to master and voila... </p><p>thanks for your time</p><p>/regards<br />Henrik</p>											<p class="post-edited">(Last edited by <strong>n00ben</strong> on 6 Feb 2008, 18:53)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>