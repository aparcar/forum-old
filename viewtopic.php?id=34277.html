<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Simple fast way to revert to stock firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p155151">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">phukit</div>
					<div class="post-datetime">
						23 Jan 2012, 18:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Here is a fast and simple way to put your stock firmware back on your router from any 3rd party firmware.&nbsp; I haven&#039;t found anything that is simple and fast so I put this together and this should only take you a couple of mins to do.</p><p>I have done this with the following routers and firmwares with no problems</p><p>TP Link TL-WR1034ND OpenWRT/MLPPP, OpenWRT and DD-WRT<br />TEW-632BRP v1.1&nbsp; &nbsp; &nbsp; &nbsp;OpenWRT and DD-WRT</p><p>1. download latest firmware for your routers (makes it easy to rename it to something simple like tplink.bin)<br />2. download winscp (google it its FREE)<br />3. reset your router to default settings with a hard reset<br />4. login to your router 192.168.1.1 with the SCP protocol<br />5. upload your firmware to the /tmp directory (do not change directory!)<br />6. push ctrl+t or click on commands menu than on open terminal<br />7. type this command in:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; mtd -r write firmware.bin firmware&nbsp; (change firmware.bin to your bin)</p><p>*** This will install the firmware and will reboot your router and than you will get a message in winscp that you are not connected to the router this is normal and good.&nbsp; Once the router has been rebooted close winscp and continue</p><p>8. go back to your browser and login to your router with the stock firmware<br />9. IMPORTANT now use the stock firmware webgui upgrade option to rewrite the stock firmware or you can have the option to switch to another 3rd party firmware, but you MUST write the firmware again with the webgui<br />10. All DONE!!</p><p>Enjoy!</p>											<p class="post-edited">(Last edited by <strong>phukit</strong> on 23 Jan 2012, 19:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157408">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">diago</div>
					<div class="post-datetime">
						14 Feb 2012, 22:16					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, works in Tp-link TL-MR3220</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172705">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">xadox</div>
					<div class="post-datetime">
						19 Jul 2012, 09:56					</div>
				</div>
				<div class="post-content content">
					<p>I was trying to revert from openwrt back to stock firmware on my Netgear WNDR3800.</p><p>I have flashed the firmware the way you have described but after rebooting my the router the power led does not stop blinking and a can not connect to the router anymore <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172709">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">xadox</div>
					<div class="post-datetime">
						19 Jul 2012, 10:24					</div>
				</div>
				<div class="post-content content">
					<p>I have managed to unbrick the router with the help of:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=103295#p103295">https://forum.openwrt.org/viewtopic.php â€¦ 95#p103295</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181724">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Marcusza</div>
					<div class="post-datetime">
						29 Oct 2012, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi </p><p>I am new to openwrt and tried it out but find that my wifi speed slowed down and that it has a rather complicated usb support. So I wanted to switch back to firmware bzw. try different software as well to compare it to the performance with openwrt. I own a Netgear WNDR 3800 as well and when I lock into the Router via Winscp I am able to copy the image File of the original Netgear firmware into the tmp folder but the Comand : </p><p>mtd -r write WNDR3800.img (via Comander)&nbsp; is not working.</p><p>what am I doing wrong?</p><p>Iam runing the squashfs-factory OpenWrt Backfire 10.03.1 image right now.</p><p>I really would appreciate some help. Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210480">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">sash-kan</div>
					<div class="post-datetime">
						23 Aug 2013, 03:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Marcusza wrote:</cite><blockquote><p>Hi <br />mtd -r write WNDR3800.img (via Comander)&nbsp; is not working.</p></blockquote></div><p>not for Marcusza, but for the one who reads it:</p><p>1. erase firmware partition (be patient, it&#039;s a long process):<br /># mtd -r erase firmware</p><p>2. after the router reboots, you will see that the power led is blinking. it&#039;s ok.</p><p>3.use <a href="http://wiki.openwrt.org/doc/howto/generic.flashing.tftp#bootloader.contains.tftp.server">standard method for routers with tftp server</a> to upload stock firmware.<br />f.e. with gnu/linux and atftp:<br />$ sudo ip route add 192.168.1.1 dev eth0<br />$ afttp -p --option &quot;timeout 1&quot; --no-source-port-checking -l &lt;file with firmware&gt; 192.168.1.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226748">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">piercy007</div>
					<div class="post-datetime">
						4 Mar 2014, 00:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>New to this so please bare with me.</p><p>Router is a Lynsys wt54g2 v4.&nbsp; This was flashed with OpenWRT but I do want to try other builds so need to flash back to original firmware.&nbsp; Finally found this as it is no longer on Lynsys site.</p><p>I have tries this method but continually get an error message saying it cant open the file with error code 0.&nbsp; Logged in as root etc any ideas ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p256472">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lwjacob</div>
					<div class="post-datetime">
						4 Dec 2014, 00:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>phukit wrote:</cite><blockquote><p>*** This will install the firmware and will reboot your router and than you will get a message in winscp that you are not connected to the router this is normal and good.&nbsp; Once the router has been rebooted close winscp and continue</p></blockquote></div><p>Please, help!<br />This didn&#039;t happen. I followed every step and now my router is bricked/looping!</p><p>I turn it on and the lights are blinking like crazy.<br />If I press the reset button for a few seconds, it is recognized by the computer for 10 seconds, and then it disappears again!<br />It became unstable for me to access and insert codes.<br />I can&#039;t believe this! I bought this thing today!<br />You can find me faster sendind me an email: lwjacob@hotmail.com</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p256478">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						4 Dec 2014, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>which router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263738">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">moonlightafridi</div>
					<div class="post-datetime">
						1 Feb 2015, 17:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>phukit wrote:</cite><blockquote><p>Hi,</p><p>Here is a fast and simple way to put your stock firmware back on your router from any 3rd party firmware.&nbsp; I haven&#039;t found anything that is simple and fast so I put this together and this should only take you a couple of mins to do.</p><p>I have done this with the following routers and firmwares with no problems</p><p>TP Link TL-WR1034ND OpenWRT/MLPPP, OpenWRT and DD-WRT<br />TEW-632BRP v1.1&nbsp; &nbsp; &nbsp; &nbsp;OpenWRT and DD-WRT</p><p>1. download latest firmware for your routers (makes it easy to rename it to something simple like tplink.bin)<br />2. download winscp (google it its FREE)<br />3. reset your router to default settings with a hard reset<br />4. login to your router 192.168.1.1 with the SCP protocol<br />5. upload your firmware to the /tmp directory (do not change directory!)<br />6. push ctrl+t or click on commands menu than on open terminal<br />7. type this command in:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; mtd -r write firmware.bin firmware&nbsp; (change firmware.bin to your bin)</p><p>*** This will install the firmware and will reboot your router and than you will get a message in winscp that you are not connected to the router this is normal and good.&nbsp; Once the router has been rebooted close winscp and continue</p><p>8. go back to your browser and login to your router with the stock firmware<br />9. IMPORTANT now use the stock firmware webgui upgrade option to rewrite the stock firmware or you can have the option to switch to another 3rd party firmware, but you MUST write the firmware again with the webgui<br />10. All DONE!!</p><p>Enjoy!</p></blockquote></div><p>can you upload a video tutorial about this process .?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268026">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">HooTooBeatMe</div>
					<div class="post-datetime">
						7 Mar 2015, 19:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>phukit wrote:</cite><blockquote><p>Here is a fast and simple way to put your stock firmware back on your router</p><p>I have done this with the following routers and firmwares with no problems</p><p>TP Link TL-WR1034ND OpenWRT/MLPPP, OpenWRT and DD-WRT<br />TEW-632BRP v1.1&nbsp; &nbsp; &nbsp; &nbsp;OpenWRT and DD-WRT</p></blockquote></div><p>Thanks for taking the time to outline the process with very simple and easy steps, but I have a bricked failure. Yes, I knew the risks. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Just thought I would add a post as the HooToo Nano TM02 with OpenWrt is bricked. Not blaming you, just a warning to anyone who tries it. Not to try it - that is. </p><p>WinSCP got part way through and returned an error, &quot;failed to erase file.&quot; Probably a lack of internal memory thing. Still, for 18-bucks I am not crying as the USB access with OpenWrt was not working, so no great shakes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p273377">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">tdot</div>
					<div class="post-datetime">
						22 Apr 2015, 09:57					</div>
				</div>
				<div class="post-content content">
					<p>I tried op&#039;s method but could not get winscp to login to the router. Winscp asks for a password which I do not have. I did reset the openwrt to default before doing that. So I do not know what password it is asking. <br />Can someone help me with that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p273724">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">vilpalu</div>
					<div class="post-datetime">
						24 Apr 2015, 13:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tdot wrote:</cite><blockquote><p>I tried op&#039;s method but could not get winscp to login to the router. Winscp asks for a password which I do not have. I did reset the openwrt to default before doing that. So I do not know what password it is asking. <br />Can someone help me with that?</p></blockquote></div><p>login to router via telnet and set password (type passwd command). I recommend you use putty telnet ssh client software</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290952">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						8 Sep 2015, 23:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>phukit wrote:</cite><blockquote><p>1. download latest firmware for your routers (makes it easy to rename it to something simple like tplink.bin)<br />2. download winscp (google it its FREE)<br />3. reset your router to default settings with a hard reset<br />4. login to your router 192.168.1.1 with the SCP protocol<br />5. upload your firmware to the /tmp directory (do not change directory!)<br />6. push ctrl+t or click on commands menu than on open terminal<br />7. type this command in:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; mtd -r write firmware.bin firmware&nbsp; (change firmware.bin to your bin)</p><p>*** This will install the firmware and will reboot your router and than you will get a message in winscp that you are not connected to the router this is normal and good.&nbsp; Once the router has been rebooted close winscp and continue</p><p>8. go back to your browser and login to your router with the stock firmware<br />9. IMPORTANT now use the stock firmware webgui upgrade option to rewrite the stock firmware or you can have the option to switch to another 3rd party firmware, but you MUST write the firmware again with the webgui<br />10. All DONE!!</p><p>Enjoy!</p></blockquote></div><p>Has this info made it into the wiki? If yes: where? if no: when will you add it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290955">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						9 Sep 2015, 00:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>frietpan wrote:</cite><blockquote><p>Has this info made it into the wiki? If yes: where? if no: when will you add it?</p></blockquote></div><p>Unless you want to keep bricking Tp-Link routers<br />Tp-Link routers you need a strpped file 1043 has stripped files on the web but not the rest of the models. <br />Here 2 pages with stripped firmware <a href="ftp://tplink-forum.pl/orgin_bez_boot/">ftp://tplink-forum.pl/orgin_bez_boot/</a><br /><a href="http://www.friedzombie.com/tplink-stripped-firmware/">http://www.friedzombie.com/tplink-stripped-firmware/</a><br />If you have LuCi from there</p>											<p class="post-edited">(Last edited by <strong>danymarc</strong> on 9 Sep 2015, 00:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304971">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">m.aguirre.g</div>
					<div class="post-datetime">
						25 Dec 2015, 09:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danymarc wrote:</cite><blockquote><div class="quotebox"><cite>frietpan wrote:</cite><blockquote><p>Has this info made it into the wiki? If yes: where? if no: when will you add it?</p></blockquote></div><p>Unless you want to keep bricking Tp-Link routers<br />Tp-Link routers you need a strpped file 1043 has stripped files on the web but not the rest of the models. <br />Here 2 pages with stripped firmware <a href="ftp://tplink-forum.pl/orgin_bez_boot/">ftp://tplink-forum.pl/orgin_bez_boot/</a><br /><a href="http://www.friedzombie.com/tplink-stripped-firmware/">http://www.friedzombie.com/tplink-stripped-firmware/</a><br />If you have LuCi from there</p></blockquote></div><p>I just get tired trying to figure out, how to back to the original firmware of my TL-MR3220 v2. I just download the stripped firmware from the second site (updated today) and put it into my router. Flash again from the original firmware upgrade menu, and voilÃ¡, just like the first time!</p><p>By the way, anyone knows how to build a firmware just to use the USB 2.0 port on this router, because, the openwrt firmware isn&#039;t allowing to install the basic packages to make an extroot there because there is very few space available to store.</p><p>Thank you very much for the tip!</p>											<p class="post-edited">(Last edited by <strong>m.aguirre.g</strong> on 25 Dec 2015, 09:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313344">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">hynruji</div>
					<div class="post-datetime">
						2 Mar 2016, 19:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi<br />I have a Vizio xwr100 run on openwrt-ar71xx-generic-xwr100-squashfs-sysupgrade. The new platform is hard for me to config and connection is not stable. I wish to go back to my stock firmware. Could anyone help me?<br />I am newbie so do not much about flashing. Please guide me to revert to stock firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313375">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						2 Mar 2016, 23:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>m.aguirre.g wrote:</cite><blockquote><p>By the way, anyone knows how to build a firmware just to use the USB 2.0 port on this router, because, the openwrt firmware isn&#039;t allowing to install the basic packages to make an extroot there because there is very few space available to store.</p></blockquote></div><p>You can compile your own firmware from scratch, but if you only want to remove/add packages you may want to look up OpenWrt Image Builder.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324954">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">lassade</div>
					<div class="post-datetime">
						20 May 2016, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>Work like a charm with my TL-WR741ND. Nice tutorial phukit.</p><p>I recomend use mobaXterm it have SCP and SHH plus it is free for personal use.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330557">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Cristian</div>
					<div class="post-datetime">
						5 Jul 2016, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>Worked for my TP-Link WR841ND v9 (on the back it says 9.2) with a slight difference: after the reboot at step no. 7, my router IP adress became 192.168.0.1 instead of remaining at the old 192.168.1.1.</p><p>I don`t understand step no. 9 procedure. What`s the importance of that? After reverting back to stock firmware I tried doing the software upgrade of the router, but it gave an error: &quot;File name too long&quot;.<br />According to TP-Link website, my router has the latest version of official firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330629">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						6 Jul 2016, 14:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Cristian wrote:</cite><blockquote><p>Worked I don`t understand step no. 9 procedure. What`s the importance of that?</p></blockquote></div><p>Simple, step #1 is missing info. as you can read on post #3 he bricked his router, why, cause he didn&#039;t use a firmware without boot, if you have a 1043 and some others models, you get away with step #1 i.e. if you have like a 741 V4 you will brick it.<br />to answer your post, if you go back to stock with firmware without boot, you must do step #9.<br />If you read my previous post there is a link to stripped (or no boot) firmware, using this link for downloading your firmware would be the safest way to go back to stock <br />In case your router is not on those 2 links, in this&nbsp; link, is the way to strip firmware <a href="http://www.gargoyle-router.com/phpbb/viewtopic.php?f=5&amp;t=4816">http://www.gargoyle-router.com/phpbb/vi â€¦ amp;t=4816</a> this is the missing line dd if=orig.bin of=tplink.bin skip=257 bs=512</p>											<p class="post-edited">(Last edited by <strong>danymarc</strong> on 7 Jul 2016, 20:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335136">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">wcage03</div>
					<div class="post-datetime">
						20 Aug 2016, 04:49					</div>
				</div>
				<div class="post-content content">
					<p>Using Netgear WNDR3400v2.&nbsp; Flashed OpenWrt Barrier Breaker 14.07 r42625.&nbsp; I have had problems with it so I am looking to go back to stock.&nbsp; I am following the instructions at the top of this post.&nbsp; When I get to step 7, I have a problem.&nbsp; When I execute &quot;mtd -r write firmware.chk firmware&quot;&nbsp; (note: the netgear names it&#039;s files with a chk extension.&nbsp; I renamed my file to be firmware.chk)&nbsp; I get a response of </p><p>&nbsp; &nbsp;Please specify the correct file or use -f to force.<br />&nbsp; &nbsp;Image check failed.</p><p>I am leery of using the -f option.&nbsp; Thoughts?</p><p>Also, I am curious about this and the tftp process.&nbsp; This may be off topic, but the tftp route seems to simply upload a file.&nbsp; What makes it start the firmware update?&nbsp; Why can&#039;t the scp command work similarly by putting it into the same place as tftp?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>