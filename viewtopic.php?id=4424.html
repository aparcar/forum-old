<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wan link dies suddenly on asus wl-500g</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p20707">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						12 Feb 2006, 12:10					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I was using an old pre-rc3 snapshot and it worked good (apart WDS). I recently upgraded to the latest pre-rc5 whiterussian snapshot from nbd because I needed WDS. Now everything is ok, but when I start a &quot;large&quot; http download (e.g. <a href="http://downloads.openwrt.org/people/nbd/whiterussian/OpenWrt-ImageBuilder-Linux-i686.tar.bz2)">http://downloads.openwrt.org/people/nbd â€¦ 6.tar.bz2)</a> the wan port link dies, i.e. I cannot ping my adsl modem, then comes up, then dies again, making the connection almost unusable. Here is an example ping (10.0.0.138 is my adsl modem).<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ping 10.0.0.138
PING 10.0.0.138 (10.0.0.138): 56 data bytes
64 bytes from 10.0.0.138: icmp_seq=0 ttl=255 time=4.6 ms
64 bytes from 10.0.0.138: icmp_seq=1 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=2 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=3 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=4 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=5 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=6 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=7 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=8 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=9 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=10 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=11 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=12 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=13 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=14 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=15 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=16 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=17 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=18 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=19 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=20 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=21 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=22 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=23 ttl=255 time=2.9 ms
64 bytes from 10.0.0.138: icmp_seq=24 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=25 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=26 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=27 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=28 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=29 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=30 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=31 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=32 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=33 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=34 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=35 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=36 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=37 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=38 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=39 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=40 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=41 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=42 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=43 ttl=255 time=4.4 ms
64 bytes from 10.0.0.138: icmp_seq=44 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=45 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=46 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=47 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=48 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=49 ttl=255 time=3.6 ms
64 bytes from 10.0.0.138: icmp_seq=50 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=51 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=52 ttl=255 time=4.9 ms
64 bytes from 10.0.0.138: icmp_seq=53 ttl=255 time=12025.7 ms
64 bytes from 10.0.0.138: icmp_seq=54 ttl=255 time=11034.8 ms
64 bytes from 10.0.0.138: icmp_seq=55 ttl=255 time=10035.2 ms
64 bytes from 10.0.0.138: icmp_seq=56 ttl=255 time=9035.6 ms
64 bytes from 10.0.0.138: icmp_seq=57 ttl=255 time=8035.9 ms
64 bytes from 10.0.0.138: icmp_seq=58 ttl=255 time=7036.3 ms
64 bytes from 10.0.0.138: icmp_seq=59 ttl=255 time=6036.6 ms
64 bytes from 10.0.0.138: icmp_seq=60 ttl=255 time=5037.0 ms
64 bytes from 10.0.0.138: icmp_seq=61 ttl=255 time=4037.3 ms
64 bytes from 10.0.0.138: icmp_seq=62 ttl=255 time=3037.7 ms
64 bytes from 10.0.0.138: icmp_seq=63 ttl=255 time=2038.0 ms
64 bytes from 10.0.0.138: icmp_seq=64 ttl=255 time=1038.4 ms
64 bytes from 10.0.0.138: icmp_seq=65 ttl=255 time=38.7 ms
64 bytes from 10.0.0.138: icmp_seq=66 ttl=255 time=8225.4 ms
64 bytes from 10.0.0.138: icmp_seq=67 ttl=255 time=7225.8 ms
64 bytes from 10.0.0.138: icmp_seq=68 ttl=255 time=6226.2 ms
64 bytes from 10.0.0.138: icmp_seq=69 ttl=255 time=5226.5 ms
64 bytes from 10.0.0.138: icmp_seq=70 ttl=255 time=4226.9 ms
64 bytes from 10.0.0.138: icmp_seq=71 ttl=255 time=3227.2 ms
64 bytes from 10.0.0.138: icmp_seq=72 ttl=255 time=2227.6 ms
64 bytes from 10.0.0.138: icmp_seq=73 ttl=255 time=1227.9 ms
64 bytes from 10.0.0.138: icmp_seq=74 ttl=255 time=228.3 ms
64 bytes from 10.0.0.138: icmp_seq=75 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=76 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=77 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=78 ttl=255 time=3.6 ms
64 bytes from 10.0.0.138: icmp_seq=79 ttl=255 time=6121.7 ms
64 bytes from 10.0.0.138: icmp_seq=80 ttl=255 time=5130.4 ms
64 bytes from 10.0.0.138: icmp_seq=81 ttl=255 time=4130.8 ms
64 bytes from 10.0.0.138: icmp_seq=82 ttl=255 time=3131.1 ms
64 bytes from 10.0.0.138: icmp_seq=83 ttl=255 time=2131.5 ms
64 bytes from 10.0.0.138: icmp_seq=84 ttl=255 time=1131.8 ms
64 bytes from 10.0.0.138: icmp_seq=85 ttl=255 time=132.2 ms
64 bytes from 10.0.0.138: icmp_seq=86 ttl=255 time=3427.7 ms
64 bytes from 10.0.0.138: icmp_seq=87 ttl=255 time=2428.1 ms
64 bytes from 10.0.0.138: icmp_seq=88 ttl=255 time=1428.5 ms
64 bytes from 10.0.0.138: icmp_seq=89 ttl=255 time=428.8 ms
64 bytes from 10.0.0.138: icmp_seq=90 ttl=255 time=2.2 ms
64 bytes from 10.0.0.138: icmp_seq=91 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=92 ttl=255 time=4.1 ms

--- 10.0.0.138 ping statistics ---
93 packets transmitted, 93 packets received, 0% packet loss
round-trip min/avg/max = 1.8/1572.6/12025.7 ms</code></pre></div><p>No packets are lost, but the RTT is extremely high. This also happens during casual browsing (frequently enough to annoy people), but starting a download is a sure way to trigger it. The modem is an alcatel speedtouch home, I&#039;m using pptp to connect to my adsl provider. I just installed today nbd snapshot but the problem is still here. <br />Here is my ifconfig:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ifconfig
br0       Link encap:Ethernet  HWaddr 00:11:2F:C4:30:99
          inet addr:192.168.1.254  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3672 errors:0 dropped:0 overruns:0 frame:0
          TX packets:5298 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:249491 (243.6 KiB)  TX bytes:6364438 (6.0 MiB)

eth0      Link encap:Ethernet  HWaddr 00:11:2F:C4:30:99
          UP BROADCAST RUNNING PROMISC ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:3677 errors:0 dropped:0 overruns:0 frame:0
          TX packets:5299 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:315955 (308.5 KiB)  TX bytes:6389175 (6.0 MiB)
          Interrupt:3

eth1      Link encap:Ethernet  HWaddr 00:11:2F:C4:30:99
          inet addr:10.0.0.1  Bcast:10.255.255.255  Mask:255.0.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:6600 errors:1291 dropped:599 overruns:0 frame:612
          TX packets:4777 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1106 txqueuelen:1000
          RX bytes:7149348 (6.8 MiB)  TX bytes:447065 (436.5 KiB)
          Interrupt:4

eth2      Link encap:Ethernet  HWaddr 00:11:2F:C4:30:99
          UP BROADCAST RUNNING ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:31 errors:8 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:4194 (4.0 KiB)
          Interrupt:6 Base address:0x2000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

ppp0      Link encap:Point-Point Protocol
          inet addr:84.222.62.170  P-t-P:213.205.24.74  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1452  Metric:1
          RX packets:5059 errors:0 dropped:0 overruns:0 frame:0
          TX packets:3373 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:3
          RX bytes:6217528 (5.9 MiB)  TX bytes:225143 (219.8 KiB)

wds0.4915 Link encap:Ethernet  HWaddr 00:11:2F:C4:30:99
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</code></pre></div><p>Please let me know if you need more information. Thank you.</p><p>Best regards,<br />Davide</p>											<p class="post-edited">(Last edited by <strong>davide125</strong> on 12 Feb 2006, 12:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20713">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						12 Feb 2006, 13:14					</div>
				</div>
				<div class="post-content content">
					<p>I think I know where to look for a fix for this. I will post here when I have an image for you to test...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20724">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						12 Feb 2006, 15:34					</div>
				</div>
				<div class="post-content content">
					<p>Please try this image: <a href="http://openwrt.inf.fh-brs.de/~nbd/b44test/">http://openwrt.inf.fh-brs.de/~nbd/b44test/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20727">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						12 Feb 2006, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your prompt reply! Unfortunately. i&#039;ve just tried your image, and it looks like the problem is still here:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc# ping 10.0.0.138
PING 10.0.0.138 (10.0.0.138): 56 data bytes
64 bytes from 10.0.0.138: icmp_seq=0 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=1 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=2 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=3 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=4 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=5 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=6 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=7 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=8 ttl=255 time=4.1 ms
64 bytes from 10.0.0.138: icmp_seq=9 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=10 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=11 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=12 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=13 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=14 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=15 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=16 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=17 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=18 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=19 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=20 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=21 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=22 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=23 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=24 ttl=255 time=3.6 ms
64 bytes from 10.0.0.138: icmp_seq=25 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=26 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=27 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=28 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=29 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=30 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=31 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=32 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=33 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=34 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=35 ttl=255 time=3.1 ms
64 bytes from 10.0.0.138: icmp_seq=36 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=37 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=38 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=39 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=40 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=41 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=42 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=43 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=44 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=45 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=46 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=47 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=48 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=49 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=50 ttl=255 time=3.8 ms
64 bytes from 10.0.0.138: icmp_seq=51 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=52 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=53 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=54 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=55 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=56 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=57 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=58 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=59 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=60 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=61 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=62 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=63 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=64 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=65 ttl=255 time=8015.3 ms
64 bytes from 10.0.0.138: icmp_seq=66 ttl=255 time=7016.6 ms
64 bytes from 10.0.0.138: icmp_seq=67 ttl=255 time=6018.9 ms
64 bytes from 10.0.0.138: icmp_seq=68 ttl=255 time=5020.8 ms
64 bytes from 10.0.0.138: icmp_seq=69 ttl=255 time=4021.1 ms
64 bytes from 10.0.0.138: icmp_seq=70 ttl=255 time=3021.4 ms
64 bytes from 10.0.0.138: icmp_seq=71 ttl=255 time=2021.8 ms
64 bytes from 10.0.0.138: icmp_seq=72 ttl=255 time=1022.1 ms
64 bytes from 10.0.0.138: icmp_seq=73 ttl=255 time=22.5 ms
64 bytes from 10.0.0.138: icmp_seq=74 ttl=255 time=2.2 ms
64 bytes from 10.0.0.138: icmp_seq=75 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=76 ttl=255 time=8815.2 ms
64 bytes from 10.0.0.138: icmp_seq=77 ttl=255 time=7823.4 ms
64 bytes from 10.0.0.138: icmp_seq=78 ttl=255 time=6825.4 ms
64 bytes from 10.0.0.138: icmp_seq=79 ttl=255 time=5828.8 ms
64 bytes from 10.0.0.138: icmp_seq=80 ttl=255 time=4833.1 ms
64 bytes from 10.0.0.138: icmp_seq=81 ttl=255 time=3833.5 ms
64 bytes from 10.0.0.138: icmp_seq=82 ttl=255 time=2833.8 ms
64 bytes from 10.0.0.138: icmp_seq=83 ttl=255 time=1834.2 ms
64 bytes from 10.0.0.138: icmp_seq=84 ttl=255 time=834.5 ms
64 bytes from 10.0.0.138: icmp_seq=85 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=86 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=87 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=88 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=89 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=90 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=91 ttl=255 time=1.7 ms
64 bytes from 10.0.0.138: icmp_seq=92 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=93 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=94 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=95 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=96 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=97 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=98 ttl=255 time=1.7 ms
64 bytes from 10.0.0.138: icmp_seq=99 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=100 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=101 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=102 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=103 ttl=255 time=3.4 ms
64 bytes from 10.0.0.138: icmp_seq=104 ttl=255 time=10.6 ms
64 bytes from 10.0.0.138: icmp_seq=105 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=106 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=107 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=108 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=109 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=110 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=111 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=112 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=113 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=114 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=115 ttl=255 time=2.3 ms
64 bytes from 10.0.0.138: icmp_seq=116 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=117 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=118 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=119 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=120 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=121 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=122 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=123 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=124 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=125 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=126 ttl=255 time=10010.9 ms
64 bytes from 10.0.0.138: icmp_seq=127 ttl=255 time=9019.8 ms
64 bytes from 10.0.0.138: icmp_seq=128 ttl=255 time=8020.3 ms
64 bytes from 10.0.0.138: icmp_seq=129 ttl=255 time=7020.6 ms
64 bytes from 10.0.0.138: icmp_seq=130 ttl=255 time=6021.0 ms
64 bytes from 10.0.0.138: icmp_seq=131 ttl=255 time=5021.3 ms
64 bytes from 10.0.0.138: icmp_seq=132 ttl=255 time=4021.7 ms
64 bytes from 10.0.0.138: icmp_seq=133 ttl=255 time=3022.0 ms
64 bytes from 10.0.0.138: icmp_seq=134 ttl=255 time=2022.3 ms
64 bytes from 10.0.0.138: icmp_seq=135 ttl=255 time=1022.7 ms
64 bytes from 10.0.0.138: icmp_seq=136 ttl=255 time=23.1 ms
64 bytes from 10.0.0.138: icmp_seq=137 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=138 ttl=255 time=9.4 ms
64 bytes from 10.0.0.138: icmp_seq=139 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=140 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=141 ttl=255 time=3.9 ms
64 bytes from 10.0.0.138: icmp_seq=142 ttl=255 time=1.8 ms

--- 10.0.0.138 ping statistics ---
143 packets transmitted, 143 packets received, 0% packet loss
round-trip min/avg/max = 1.7/944.9/10010.9 ms</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20746">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						12 Feb 2006, 23:25					</div>
				</div>
				<div class="post-content content">
					<p>davide125, i&#039;m also using an asus wl-500g and had with RC4 problems that the router rebooted under mildly load every now and then. i&#039;m now using a snapshot from feb 6th that works flawlessly, the router is stable for 6 days and 8 hours now; atm i&#039;m pinging my sever via WAN port, 170 pings and no problem so far, alos my downloads work as expected.</p><p>which ethernet-driver are you using, et.o or b44.o? </p><p>if you want, i can post the image i&#039;m using on my webspace or mail it directly to you, let me know if you want to try that.</p><p>greetings, <br />andy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20826">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						14 Feb 2006, 10:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mauritzius wrote:</cite><blockquote><p>davide125, i&#039;m also using an asus wl-500g and had with RC4 problems that the router rebooted under mildly load every now and then. i&#039;m now using a snapshot from feb 6th that works flawlessly, the router is stable for 6 days and 8 hours now; atm i&#039;m pinging my sever via WAN port, 170 pings and no problem so far, alos my downloads work as expected.<br />which ethernet-driver are you using, et.o or b44.o? <br />if you want, i can post the image i&#039;m using on my webspace or mail it directly to you, let me know if you want to try that.</p></blockquote></div><p>Currently I&#039;m using b44.o. I think (but can&#039;t verify it now, unless you know how to extract files from a trx image) the old pre-rc3 image I was using before had et.o. I&#039;ll gladly try your image. Since my email has some problems with attachments, please upload it and post here the address or PM it to me if you prefere. Thank you.</p><p>Davide</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20850">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						14 Feb 2006, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>Just tried yesterday&#039;s nbd snapshot and the problem is still here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20881">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						15 Feb 2006, 02:53					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m sorry, i promised too much: the file is on the computer in the city i study, i don&#039;t have access to this machine until beginning of march!</p><p>maybe nbd has still got the old build, it was dated feb 6th 2006?</p><p>andy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21019">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						17 Feb 2006, 15:13					</div>
				</div>
				<div class="post-content content">
					<p>As a temporary solution I&#039;ve put back on the router the old image (pre-rc3). Here the problem doesn&#039;t show up, but wds is broken. This image uses et.o, so the problem may be in the b44.o driver. Can I use et.o with a recent whiterussian build? Do I need to build an image myself from svn or I can use some premade snapshot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21032">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">candlerb</div>
					<div class="post-datetime">
						17 Feb 2006, 18:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davide125 wrote:</cite><blockquote><p>Can I use et.o with a recent whiterussian build? Do I need to build an image myself from svn or I can use some premade snapshot?</p></blockquote></div><p>I am running RC4 and pre-RC5 [Feb 12th] on two WL-500g Deluxe boxes [are your boxes &quot;Deluxe&quot; as well?]. On the RC4 box, et is used by default:</p><div class="codebox"><pre><code>root@OpenWrt:~# lsmod
Module                  Size  Used by    Tainted: P
ipsec                 348944   0
wlcompat               14896   0 (unused)
wl                    423640   0 (unused)
et                     32064   0 (unused)
diag                    2560   0 (unused)
root@OpenWrt:~#</code></pre></div><p>Strangely, on the pre-RC5 box, I see something else:</p><div class="codebox"><pre><code>root@OpenWrt:~# lsmod
Module                  Size  Used by    Tainted: P
ebtable_filter           876   0 (unused)
ebtables               22752   1 [ebtable_filter]
switch-robo             4444   0 (unused)
switch-core             4896   0 [switch-robo]
wlcompat               14896   0 (unused)
wl                    423640   0 (unused)
diag                    2720   0 (unused)
root@OpenWrt:~#</code></pre></div><p>The underlying difference seems to be:</p><div class="codebox"><pre><code>[RC4]
root@OpenWrt:~# ls -l /etc/modules.d/
lrwxrwxrwx    1 root     root           30 Jan  1 00:00 10-wlcompat -&gt; /rom/etc/modules.d/10-wlcompat
root@OpenWrt:~# ipkg list_installed | grep kmod
kmod-brcm-et - 2.4.30-brcm-2 - Proprietary driver for Broadcom Ethernet chipsets
kmod-brcm-wl - 2.4.30-brcm-2 - Proprietary driver for Broadcom Wireless chipsets
kmod-diag - 2.4.30-brcm-2 - Driver for Router LEDs and Buttons
kmod-openswan - 2.4.30brcm+2.4.4-1 - Openswan IPSec kernel module
kmod-wlcompat - 2.4.30-brcm-3 - Compatibility module for using the Wireless Extension with broadcom&#039;s wl

[pre-RC5]
root@OpenWrt:~# ls -lR /etc/modules.d
/etc/modules.d:
lrwxrwxrwx    1 root     root           30 Jan  1 00:00 10-wlcompat -&gt; /rom/etc/modules.d/10-wlcompat
lrwxrwxrwx    1 root     root           28 Jan  1 00:00 50-switch -&gt; /rom/etc/modules.d/50-switch
root@OpenWrt:~# ipkg search /etc/modules.d/50-switch
kmod-switch - 2.4.30-brcm-1 - /etc/modules.d/50-switch
Successfully terminated.
root@OpenWrt:~# ipkg list_installed | grep kmod
kmod-brcm-wl - 2.4.30-brcm-3 - Proprietary driver for Broadcom Wireless chipsets
kmod-diag - 2.4.30-brcm-3 - Driver for Router LEDs and Buttons
kmod-ebtables - 2.4.30-brcm-3 - Ethernet bridge firewalling kernel modules
kmod-ppp - 2.4.30-brcm-3 - PPP support
kmod-pppoe - 2.4.30-brcm-3 - PPP over Ethernet support
kmod-switch - 2.4.30-brcm-1 - switch driver for robo/admtek switch
kmod-wlcompat - 2.4.30-brcm-3 - Compatibility module for using the Wireless Extension with broadcom&#039;s wl
root@OpenWrt:~# find / -name &#039;b44*&#039;
root@OpenWrt:~#</code></pre></div><p>So I don&#039;t have &quot;b44.o&quot;, but I do have two different drivers for the ethernet (kmod-brcm-et and kmod-switch). Both seem to work fine though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21033">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						17 Feb 2006, 18:55					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s a &quot;regular&quot; wl500g, not deluxe. On pre-rc5 lsmod showed switch-core (which, AFAIK, should be part of the b44 driver), but not et and it has installed package kmod-switch. On the pre-rc3 I&#039;m currently using it has et but not switch-core, and it has installed package kmod-brcm-et.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21042">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						18 Feb 2006, 02:24					</div>
				</div>
				<div class="post-content content">
					<p>as far as i understand openwrt-development, the proprietary et-driver is replaced by the opensource b44 driver. in the current pre-rc5 builds, b44 is built right into the kernel, while et was built as a module in the earlier builds.</p><p>in the older rcs, et took care of adjusting the switch (though i&#039;m not sure about this, is this correct?), the b44-driver does not. therefore, seperate switch-drivers are used.</p><p>these are my guesses about openwrt-development, are they correct?</p>											<p class="post-edited">(Last edited by <strong>mauritzius</strong> on 18 Feb 2006, 12:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21053">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">candlerb</div>
					<div class="post-datetime">
						18 Feb 2006, 10:48					</div>
				</div>
				<div class="post-content content">
					<p>If that&#039;s true, then the &quot;right&quot; solution would be to identify and fix the problem in the open-source driver. Backing out to et.o would be a temporary fix for the OP&#039;s problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21057">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						18 Feb 2006, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>right, but et.o has in RC4 other problems: the router reboots every now and then because of a bug in the driver!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21058">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						18 Feb 2006, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>Actually, I just tried installing rc4 and I couldn&#039;t even telnet to the box. ping reported 93% of packets lost. I reverted to the pre-rc3 firmware using the asus firmware recovery utility.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21245">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						21 Feb 2006, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve posted a trac ticked on this problem: <a href="https://dev.openwrt.org/ticket/314">https://dev.openwrt.org/ticket/314</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21380">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						22 Feb 2006, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>here&#039;s a new test image: <a href="http://openwrt.inf.fh-brs.de/~nbd/b44test/">http://openwrt.inf.fh-brs.de/~nbd/b44test/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21407">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						23 Feb 2006, 10:37					</div>
				</div>
				<div class="post-content content">
					<p>Just tried, the problem is still here :-(<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ping 10.0.0.138
PING 10.0.0.138 (10.0.0.138): 56 data bytes
64 bytes from 10.0.0.138: icmp_seq=0 ttl=255 time=4.8 ms
64 bytes from 10.0.0.138: icmp_seq=1 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=2 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=3 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=4 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=5 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=6 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=7 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=8 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=9 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=10 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=11 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=12 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=13 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=14 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=15 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=16 ttl=255 time=8.3 ms
64 bytes from 10.0.0.138: icmp_seq=17 ttl=255 time=10568.2 ms
64 bytes from 10.0.0.138: icmp_seq=18 ttl=255 time=9576.2 ms
64 bytes from 10.0.0.138: icmp_seq=19 ttl=255 time=8578.2 ms
64 bytes from 10.0.0.138: icmp_seq=20 ttl=255 time=7580.3 ms
64 bytes from 10.0.0.138: icmp_seq=21 ttl=255 time=6580.6 ms
64 bytes from 10.0.0.138: icmp_seq=22 ttl=255 time=5581.0 ms
64 bytes from 10.0.0.138: icmp_seq=23 ttl=255 time=4581.3 ms
64 bytes from 10.0.0.138: icmp_seq=24 ttl=255 time=3581.7 ms
64 bytes from 10.0.0.138: icmp_seq=25 ttl=255 time=2582.0 ms
64 bytes from 10.0.0.138: icmp_seq=26 ttl=255 time=1582.3 ms
64 bytes from 10.0.0.138: icmp_seq=27 ttl=255 time=582.7 ms
64 bytes from 10.0.0.138: icmp_seq=28 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=29 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=30 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=31 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=32 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=33 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=34 ttl=255 time=8020.7 ms
64 bytes from 10.0.0.138: icmp_seq=35 ttl=255 time=7030.1 ms
64 bytes from 10.0.0.138: icmp_seq=36 ttl=255 time=6030.5 ms
64 bytes from 10.0.0.138: icmp_seq=37 ttl=255 time=5030.8 ms
64 bytes from 10.0.0.138: icmp_seq=38 ttl=255 time=4031.2 ms
64 bytes from 10.0.0.138: icmp_seq=39 ttl=255 time=3031.5 ms
64 bytes from 10.0.0.138: icmp_seq=40 ttl=255 time=2031.9 ms
64 bytes from 10.0.0.138: icmp_seq=41 ttl=255 time=1032.2 ms
64 bytes from 10.0.0.138: icmp_seq=42 ttl=255 time=32.6 ms
64 bytes from 10.0.0.138: icmp_seq=43 ttl=255 time=13009.0 ms
64 bytes from 10.0.0.138: icmp_seq=44 ttl=255 time=12009.5 ms
64 bytes from 10.0.0.138: icmp_seq=45 ttl=255 time=11009.9 ms
64 bytes from 10.0.0.138: icmp_seq=46 ttl=255 time=10010.3 ms
64 bytes from 10.0.0.138: icmp_seq=47 ttl=255 time=9010.6 ms
64 bytes from 10.0.0.138: icmp_seq=48 ttl=255 time=8011.0 ms
64 bytes from 10.0.0.138: icmp_seq=49 ttl=255 time=7011.3 ms
64 bytes from 10.0.0.138: icmp_seq=50 ttl=255 time=6011.7 ms
64 bytes from 10.0.0.138: icmp_seq=51 ttl=255 time=5012.0 ms
64 bytes from 10.0.0.138: icmp_seq=52 ttl=255 time=4012.4 ms
64 bytes from 10.0.0.138: icmp_seq=53 ttl=255 time=3012.7 ms
64 bytes from 10.0.0.138: icmp_seq=54 ttl=255 time=2013.0 ms
64 bytes from 10.0.0.138: icmp_seq=55 ttl=255 time=1013.4 ms
64 bytes from 10.0.0.138: icmp_seq=56 ttl=255 time=13.7 ms
64 bytes from 10.0.0.138: icmp_seq=57 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=58 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=59 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=60 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=61 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=62 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=63 ttl=255 time=1.8 ms

--- 10.0.0.138 ping statistics ---
64 packets transmitted, 64 packets received, 0% packet loss
round-trip min/avg/max = 1.8/2951.1/13009.0 ms
root@OpenWrt:~#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21423">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						23 Feb 2006, 15:11					</div>
				</div>
				<div class="post-content content">
					<p>It looks like it happens less frequently though, maybe the fixes are in the right direction!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21712">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						28 Feb 2006, 03:10					</div>
				</div>
				<div class="post-content content">
					<p>New test image: <a href="http://openwrt.inf.fh-brs.de/~nbd/b44test/">http://openwrt.inf.fh-brs.de/~nbd/b44test/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21838">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						1 Mar 2006, 19:17					</div>
				</div>
				<div class="post-content content">
					<p>Still here:<br /></p><div class="codebox"><pre><code>64 bytes from 10.0.0.138: icmp_seq=44 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=45 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=46 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=47 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=48 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=49 ttl=255 time=2964.5 ms
64 bytes from 10.0.0.138: icmp_seq=50 ttl=255 time=1976.7 ms
64 bytes from 10.0.0.138: icmp_seq=51 ttl=255 time=977.1 ms
64 bytes from 10.0.0.138: icmp_seq=52 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=53 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=54 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=55 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=56 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=57 ttl=255 time=4.9 ms
64 bytes from 10.0.0.138: icmp_seq=58 ttl=255 time=1801.4 ms
64 bytes from 10.0.0.138: icmp_seq=59 ttl=255 time=801.8 ms
64 bytes from 10.0.0.138: icmp_seq=60 ttl=255 time=9.4 ms
64 bytes from 10.0.0.138: icmp_seq=61 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=62 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=63 ttl=255 time=2.2 ms
64 bytes from 10.0.0.138: icmp_seq=64 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=65 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=66 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=67 ttl=255 time=3565.7 ms
64 bytes from 10.0.0.138: icmp_seq=68 ttl=255 time=2577.7 ms
64 bytes from 10.0.0.138: icmp_seq=69 ttl=255 time=1578.1 ms
64 bytes from 10.0.0.138: icmp_seq=70 ttl=255 time=578.5 ms
64 bytes from 10.0.0.138: icmp_seq=71 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=72 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=73 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=74 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=75 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=76 ttl=255 time=2.7 ms
64 bytes from 10.0.0.138: icmp_seq=77 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=78 ttl=255 time=1.7 ms
64 bytes from 10.0.0.138: icmp_seq=79 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=80 ttl=255 time=1.8 ms

--- 10.0.0.138 ping statistics ---
81 packets transmitted, 81 packets received, 0% packet loss
round-trip min/avg/max = 1.7/209.6/3565.7 ms</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21839">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 Mar 2006, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>Is it a coincidence that the delays seem less severe in the dump you pasted here?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21888">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						2 Mar 2006, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>Just tried again, it looks like it was a coincidence to get such low values, but it actually lowered a bit:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ping 10.0.0.138
PING 10.0.0.138 (10.0.0.138): 56 data bytes
64 bytes from 10.0.0.138: icmp_seq=0 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=1 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=2 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=3 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=4 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=5 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=6 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=7 ttl=255 time=2.2 ms
64 bytes from 10.0.0.138: icmp_seq=8 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=9 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=10 ttl=255 time=3.3 ms
64 bytes from 10.0.0.138: icmp_seq=11 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=12 ttl=255 time=8024.8 ms
64 bytes from 10.0.0.138: icmp_seq=13 ttl=255 time=7026.8 ms
64 bytes from 10.0.0.138: icmp_seq=14 ttl=255 time=6028.3 ms
64 bytes from 10.0.0.138: icmp_seq=15 ttl=255 time=5030.6 ms
64 bytes from 10.0.0.138: icmp_seq=16 ttl=255 time=4030.9 ms
64 bytes from 10.0.0.138: icmp_seq=17 ttl=255 time=3031.3 ms
64 bytes from 10.0.0.138: icmp_seq=18 ttl=255 time=2031.6 ms
64 bytes from 10.0.0.138: icmp_seq=19 ttl=255 time=1032.0 ms
64 bytes from 10.0.0.138: icmp_seq=20 ttl=255 time=32.3 ms
64 bytes from 10.0.0.138: icmp_seq=21 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=22 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=23 ttl=255 time=3.7 ms
64 bytes from 10.0.0.138: icmp_seq=24 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=25 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=26 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=27 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=28 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=29 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=30 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=31 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=32 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=33 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=34 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=35 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=36 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=37 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=38 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=39 ttl=255 time=1.7 ms
64 bytes from 10.0.0.138: icmp_seq=40 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=41 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=42 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=43 ttl=255 time=2.7 ms
64 bytes from 10.0.0.138: icmp_seq=44 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=45 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=46 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=47 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=48 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=49 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=50 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=51 ttl=255 time=2.4 ms
64 bytes from 10.0.0.138: icmp_seq=52 ttl=255 time=2.5 ms
64 bytes from 10.0.0.138: icmp_seq=53 ttl=255 time=2.9 ms
64 bytes from 10.0.0.138: icmp_seq=54 ttl=255 time=6015.1 ms
64 bytes from 10.0.0.138: icmp_seq=55 ttl=255 time=5031.5 ms
64 bytes from 10.0.0.138: icmp_seq=56 ttl=255 time=4031.9 ms
64 bytes from 10.0.0.138: icmp_seq=57 ttl=255 time=3032.3 ms
64 bytes from 10.0.0.138: icmp_seq=58 ttl=255 time=2032.6 ms
64 bytes from 10.0.0.138: icmp_seq=59 ttl=255 time=1032.9 ms
64 bytes from 10.0.0.138: icmp_seq=60 ttl=255 time=33.3 ms
64 bytes from 10.0.0.138: icmp_seq=61 ttl=255 time=2.1 ms
64 bytes from 10.0.0.138: icmp_seq=62 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=63 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=64 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=65 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=66 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=67 ttl=255 time=2.8 ms
64 bytes from 10.0.0.138: icmp_seq=68 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=69 ttl=255 time=1.6 ms
64 bytes from 10.0.0.138: icmp_seq=70 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=71 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=72 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=73 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=74 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=75 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=76 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=77 ttl=255 time=1.8 ms
64 bytes from 10.0.0.138: icmp_seq=78 ttl=255 time=1.9 ms
64 bytes from 10.0.0.138: icmp_seq=79 ttl=255 time=4.0 ms
64 bytes from 10.0.0.138: icmp_seq=80 ttl=255 time=2.6 ms
64 bytes from 10.0.0.138: icmp_seq=81 ttl=255 time=2.0 ms
64 bytes from 10.0.0.138: icmp_seq=82 ttl=255 time=3.2 ms
64 bytes from 10.0.0.138: icmp_seq=83 ttl=255 time=2.4 ms

--- 10.0.0.138 ping statistics ---
84 packets transmitted, 84 packets received, 0% packet loss
round-trip min/avg/max = 1.6/686.0/8024.8 ms</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21889">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">candlerb</div>
					<div class="post-datetime">
						2 Mar 2006, 15:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davide125 wrote:</cite><blockquote><div class="codebox"><pre><code>64 bytes from 10.0.0.138: icmp_seq=12 ttl=255 time=8024.8 ms
64 bytes from 10.0.0.138: icmp_seq=13 ttl=255 time=7026.8 ms
64 bytes from 10.0.0.138: icmp_seq=14 ttl=255 time=6028.3 ms
64 bytes from 10.0.0.138: icmp_seq=15 ttl=255 time=5030.6 ms
64 bytes from 10.0.0.138: icmp_seq=16 ttl=255 time=4030.9 ms
64 bytes from 10.0.0.138: icmp_seq=17 ttl=255 time=3031.3 ms
64 bytes from 10.0.0.138: icmp_seq=18 ttl=255 time=2031.6 ms
64 bytes from 10.0.0.138: icmp_seq=19 ttl=255 time=1032.0 ms</code></pre></div></blockquote></div><p>All those packets appear on the screen at once? Looks like maybe interrupts are blocked out for a while.</p><p>You could put a hub on the uplink and monitor with tcpdump from another machine. That would show whether the packets are backing up in the outbound or the inbound direction.</p><p>i.e. perhaps you see an 8-second gap, followed by a burst of 8 outbound pings and 8 inbound pings. That would imply the packets are sitting in a transmit buffer until the blockage has cleared. Alternatively, perhaps you see outbound and inbound pings once per second throughout this period. That implies that the inbound packets are sitting in a queue, before the kernel wakes up and reads them in one burst.</p><p>Just a thought... Brian.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21907">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">davide125</div>
					<div class="post-datetime">
						2 Mar 2006, 19:30					</div>
				</div>
				<div class="post-content content">
					<p>Yes, they appear on the screen at once. I don&#039;t have a hub handy now, but I&#039;ll try to get one and have a look at tcpdump behaviour.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>