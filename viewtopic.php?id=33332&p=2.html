<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Router for mpd like Asus WL 500g</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=33332&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p158484">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						23 Feb 2012, 21:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>Hi mpd-mini is installed over trunk packages over backfire rc4 without error messages.</p><p>But now I get an error like this:</p><p>root@OpenWrt:~# /etc/init.d/mpd start</p><p>Simple mixer control &#039;PCM&#039;,0<br />&nbsp; Capabilities: pvolume pswitch pswitch-joined penum<br />&nbsp; Playback channels: Front Left - Front Right<br />&nbsp; Limits: Playback 0 - 128<br />&nbsp; Mono:<br />&nbsp; Front Left: Playback 40 [31%] [0.00dB] [on]<br />&nbsp; Front Right: Playback 40 [31%] [0.00dB] [on]<br />BusyBox v1.15.3 (2010-11-11 23:54:31 PST) multi-call binary</p><p>Usage: nice [-n ADJUST] [PROG [ARGS]]</p><p>Run PROG with modified scheduling priority</p><p>Options:<br />&nbsp; &nbsp; -n ADJUST&nbsp; &nbsp; Adjust priority by ADJUST</p><p>/etc/rc.common: line 78: service_start: not found</p><p>Could I fix this? (Maybe opkg upgrade on trunk...?)</p><p>Thanks for helping me! <br />Tobbes</p></blockquote></div><p>replace content of the /etc/init.d/mpd file with this <a href="https://dev.openwrt.org/browser/branches/packages_10.03.1/sound/mpd/files/mpd.init">https://dev.openwrt.org/browser/branche … s/mpd.init</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158603">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						24 Feb 2012, 20:34					</div>
				</div>
				<div class="post-content content">
					<p>Thank you flux!<br />I have changed the /etc/init.d/mpd file.</p><p>Now I get this:<br />root@OpenWrt:/usr/bin# /etc/init.d/mpd start<br />Simple mixer control &#039;PCM&#039;,0<br />&nbsp; Capabilities: pvolume pswitch pswitch-joined penum<br />&nbsp; Playback channels: Front Left - Front Right<br />&nbsp; Limits: Playback 0 - 128<br />&nbsp; Mono:<br />&nbsp; Front Left: Playback 40 [31%] [0.00dB] [on]<br />&nbsp; Front Right: Playback 40 [31%] [0.00dB] [on]<br />/usr/bin/mpd: can&#039;t resolve symbol &#039;pipe2&#039;</p><p>The binary file /usr/bin/mpd exists.</p><p>Can I do something?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158610">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						24 Feb 2012, 21:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>Thank you flux!<br />I have changed the /etc/init.d/mpd file.</p><p>Now I get this:<br />root@OpenWrt:/usr/bin# /etc/init.d/mpd start<br />Simple mixer control &#039;PCM&#039;,0<br />&nbsp; Capabilities: pvolume pswitch pswitch-joined penum<br />&nbsp; Playback channels: Front Left - Front Right<br />&nbsp; Limits: Playback 0 - 128<br />&nbsp; Mono:<br />&nbsp; Front Left: Playback 40 [31%] [0.00dB] [on]<br />&nbsp; Front Right: Playback 40 [31%] [0.00dB] [on]<br />/usr/bin/mpd: can&#039;t resolve symbol &#039;pipe2&#039;</p><p>The binary file /usr/bin/mpd exists.</p><p>Can I do something?</p></blockquote></div><p>no. A binary from the trunk is not supposed to work with the backfire.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158663">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						25 Feb 2012, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>Hello flux,</p><p>an upgrade from backfire rc4 to trunk via opkg upgrade will not work or do you think I should try it?</p><p>Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158684">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						25 Feb 2012, 20:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>Hello flux,</p><p>an upgrade from backfire rc4 to trunk via opkg upgrade will not work or do you think I should try it?</p><p>Tobbes</p></blockquote></div><p>NEVER do opkg upgrade. It won&#039;t work!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173391">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">EUM</div>
					<div class="post-datetime">
						27 Jul 2012, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>Hello tobbes,<br />did you make it work on the asus wl 600 g? I bought the same router to put the mpd on it. I could flash it with this version of openwrt : <a href="http://downloads.openwrt.org/backfire/10.03.1-rc4/brcm63xx/openwrt-96348GW-generic-squashfs-cfe.bin">http://downloads.openwrt.org/backfire/1 … fs-cfe.bin</a> (from the wiki page of this router). My first problem occures now while putting the entire thing into the client mode. I think the problem is the b43 driver that doesn&#039;t support this mode.Which image of openwrt did you put on your router and could you finally configure it to make a wifi radio with mpd work?</p><p>Regards.<br />Nicolas</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173400">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						27 Jul 2012, 11:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi EUM,<br />I was not able to use the box as wifi radio. MPD was always stopping for seconds ...</p><p>The wifi config I have done in the web menu of the router. I was also not able to do it in the terminal.</p><p>Sorry but this will not help you.</p><p>Now I use a Synology NAS for mp3 streaming and wifi radio. (For mpd my DS 108J is also to weak - so I use the DS Audio app.)<br />But I am looking forward to buy a DS 111 ....</p><p> Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p180020">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						4 Oct 2012, 01:35					</div>
				</div>
				<div class="post-content content">
					<p><strong>(Edited)</strong><br />Hi, I think to use this router as a wifi radio should be possible, and without extroot. I&#039;m using a diferent router but with almost the same hardware and it works quite fine.</p><p>The problem here is the flash and RAM size, they are too small capacity. I&#039;ve built Openwrt Backfire for this router without lot of the default stuff: </p><p>- without sshd (dropbear)<br />- without luci<br />- without dnsmask (dhcp server)<br />- without iptables, no firewall<br />- without other minor stuff</p><p>- with OHCI and EHCI modules<br />- with support for mounting storage drives (vfat or ext2)<br />- support for telnet logging with password<br />- with alsa and alsalib (libasound), mpd already configured with alsa<br />- with amixer<br />- with mpc<br />- with other minor stuff (playlist, etc).</p><p>It should fit in a 4 MiB flash chip.</p><p>I&#039;ve included all the required packages to play internet radios. To configure you must set manually an IP in your computer in the range 192.168.1.x<br />then telnet 192.168.1.1 and configure Openwrt with the text editor <strong>vi</strong></p><div class="quotebox"><blockquote><p>vi /etc/config/wireless<br />vi /etc/config/network</p></blockquote></div><p>This can be called a &quot;dumb&quot; wifi-radio. Some stuff is already preconfigured. The wifi interface is prepared to act as a wifi client, you only need to edit /etc/config/wireless, and put your wep key and AP name you connect to. The wifi interface is separated from lan (192.168.1.1). Of course you can configure however you want, but remember you don&#039;t have iptables, as a result of this no complex network configurations are allowed.</p><p>Ok this is just for testing. Some feedback is welcome, post your dmesg, cpu usage, or any issues you have. I don&#039;t own this router so I don&#039;t know if this custom firmware will work.</p><p><a href="http://files.myopera.com/danitool/linux/WL600g_Backfire_10.03.2_wifiradio3.zip">WL600g_Backfire_10.03.2_wifiradio3.zip</a></p><p>The above firmware maybe compatible with other bcm6348 routers.</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 6 Oct 2012, 21:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182682">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">TorontoFish</div>
					<div class="post-datetime">
						8 Nov 2012, 03:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p><strong>(Edited)</strong><br />Hi, I think to use this router as a wifi radio should be possible, and without extroot. I&#039;m using a diferent router but with almost the same hardware and it works quite fine.</p><p>The problem here is the flash and RAM size, they are too small capacity. I&#039;ve built Openwrt Backfire for this router without lot of the default stuff: </p><p>- without sshd (dropbear)<br />- without luci<br />- without dnsmask (dhcp server)<br />- without iptables, no firewall<br />- without other minor stuff</p><p>- with OHCI and EHCI modules<br />- with support for mounting storage drives (vfat or ext2)<br />- support for telnet logging with password<br />- with alsa and alsalib (libasound), mpd already configured with alsa<br />- with amixer<br />- with mpc<br />- with other minor stuff (playlist, etc).</p><p>It should fit in a 4 MiB flash chip.</p><p>I&#039;ve included all the required packages to play internet radios. To configure you must set manually an IP in your computer in the range 192.168.1.x<br />then telnet 192.168.1.1 and configure Openwrt with the text editor <strong>vi</strong></p><div class="quotebox"><blockquote><p>vi /etc/config/wireless<br />vi /etc/config/network</p></blockquote></div><p>This can be called a &quot;dumb&quot; wifi-radio. Some stuff is already preconfigured. The wifi interface is prepared to act as a wifi client, you only need to edit /etc/config/wireless, and put your wep key and AP name you connect to. The wifi interface is separated from lan (192.168.1.1). Of course you can configure however you want, but remember you don&#039;t have iptables, as a result of this no complex network configurations are allowed.</p><p>Ok this is just for testing. Some feedback is welcome, post your dmesg, cpu usage, or any issues you have. I don&#039;t own this router so I don&#039;t know if this custom firmware will work.</p><p><a href="http://files.myopera.com/danitool/linux/WL600g_Backfire_10.03.2_wifiradio3.zip">WL600g_Backfire_10.03.2_wifiradio3.zip</a></p><p>The above firmware maybe compatible with other bcm6348 routers.</p></blockquote></div><p>Wow, thank you very much Danitool for trying this!!!</p><p>I have been searching for this for a while. I bought 4 Asus WL-HDD routers when a local store was clearing them out. I have been running Oleg firmware on one for almost 3 years. The unit is quite slow in today&#039;s standard, but I don&#039;t use it as my main router, I basically use it for BT stuff.</p><p>A few days ago, I happened to see a clip on YouTube on how to make Wifi Radio, I thought I could give these WL-HDDs new livies again, so I unwraped another one, and started to explore...</p><p>Unfortunately the firmware from mightyohm doesn&#039;t work, also the one called &quot;wrtradio0.3&quot; didn&#039;t work either. I have tried to put Backfire brcm47xx or brcm-2.4 on it, both are running fine. Especially the Backfire brcm-2.4, following the wiki, I got everything running smoothly. For those having WL-HDD and want to run Backfire, I highly recommend the brcm-2.4 build.</p><p>But the issue is, after loading the Backfire, there ares not a lot of space left on the device (only 4M of rom), so I can&#039;t install mpd. WL-HDD has only one USB 1.1 port, so I can&#039;t use it for additional storage. I also don&#039;t want to install an internal 2.5&quot; IDE HDD (which is possible with WL-HDD), because of the noise and the fact that the Wifi Radio will be used by everyone in my family, except me, no one will be bothered to shut it down properly, so the internal HDD will be so corrupted before I know it.</p><p>Last night, I found the firmware you posted, and I gave it a try today on my WL-HDD with Asus Restoration Tool. At first, the tool doesn&#039;t like the .BIN file type, so I tried to be smart, rename it to .TRX file which is the type for WL-HDD, but the tool still doesn&#039;t like it, gave me some weird error message.</p><p>I am planning to install the lastest Ubuntu and try to compile Backfire and mpd/mpc myself, but it will take a while before it can be realized. Meanwhile, I am wondering if you can help by complie your image again for WL-HDD? I can help the community by testing it.</p><p>Thank You In Advanced! (this is really long, isn&#039;t it?)</p><p>Fish</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182683">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						8 Nov 2012, 03:50					</div>
				</div>
				<div class="post-content content">
					<p>Well my firmware isn&#039;t for bcm47xx targets, it is for bcm63xx targets. Well, we can try to build backfire for your target to fit in a 4MiB flash, it shouldn&#039;t be so difficult.</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182687">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">TorontoFish</div>
					<div class="post-datetime">
						8 Nov 2012, 05:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Well my firmware isn&#039;t for bcm47xx targets, it is for bcm63xx targets. Well, we can try to build backfire for your target to fit in a 4MiB flash, it shouldn&#039;t be so difficult.</p><p>Regards.</p></blockquote></div><p>Much appreciated!!!</p><p>I read very little about how to compile firmware. I know my WL-HDD is using a different CPU than wl-500g, but I thought I should give it try anyways.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182724">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						8 Nov 2012, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know much about WL-HDD hardware. However this is an attempt to build it for bcm47xx target. I suppose it uses bcm43-legacy drivers, I didn&#039;t include stuff for mounting external hard drives, and switch since this device only has 1 eth. Nor preconfigured nothing for the network, do it yourself, remember to use vi to edit the proper files. Let me know if works or not, or if you have any issues.</p><p><a href="https://files.myopera.com/danitool/linux/WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio.zip">WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio.zip</a></p><p>And post a bootlog if possible.</p><p>Maybe I&#039;ll try later to build the&nbsp; brcm-2.4 target for this device.</p><br /><br /><p><strong>EDIT:<br /></strong>Since I&#039;m not sure which are the correct drivers I&#039;ve built it again withou b43legacy, but with b43 instead. Let me know which one works.<br /><a href="https://files.myopera.com/danitool/linux/WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio2.zip">WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio2.zip</a></p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 8 Nov 2012, 18:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182769">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">TorontoFish</div>
					<div class="post-datetime">
						9 Nov 2012, 06:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>I don&#039;t know much about WL-HDD hardware. However this is an attempt to build it for bcm47xx target. I suppose it uses bcm43-legacy drivers, I didn&#039;t include stuff for mounting external hard drives, and switch since this device only has 1 eth. Nor preconfigured nothing for the network, do it yourself, remember to use vi to edit the proper files. Let me know if works or not, or if you have any issues.</p><p><a href="https://files.myopera.com/danitool/linux/WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio.zip">WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio.zip</a></p><p>And post a bootlog if possible.</p><p>Maybe I&#039;ll try later to build the&nbsp; brcm-2.4 target for this device.</p><br /><br /><p><strong>EDIT:<br /></strong>Since I&#039;m not sure which are the correct drivers I&#039;ve built it again withou b43legacy, but with b43 instead. Let me know which one works.<br /><a href="https://files.myopera.com/danitool/linux/WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio2.zip">WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio2.zip</a></p></blockquote></div><p>Hi Dani, thank you for the effort you put into this. I have tried both of them. The second one (wifiradio2.zip) flashes successfully through Asus Restoration Tool, but the unit goes back to Recovery mode right after it reboots. So looks like it doesn&#039;t work.</p><p>Now the first one(wifiradio.zip) lets the unit boot successfully after the flash, and I can log into 192.168.1.1, but /etc/config/wireless is empty (is this on purpose?); I managed to create one and then tried to enable it using command &quot;wifi&quot;, but received some error messages, too bad I didn&#039;t note it down (I closed the terminal window by accident), it&#039;s something like device &#039;wl0&#039; (type &#039;broadcom&#039;) not supported.. ... Since I tried both brcm47xx and brcm-2.4 Backfire before, I kind of remember in brcm47xx, it uses device name &#039;radio0&#039; for wirelss, so I changed the /etc/config/wireless again to reflect that, but the result is the same, except this time it complains about device &#039;radio0&#039; ... ... I don&#039;t know how to capture a bootlog, or I will post it here.</p><p>You said you didn&#039;t include stuff for switch, don&#039;t I need it to route between client and wireless AP? If space permit, can you just leave it there?</p><p>My personal experience is that brcm-2.4 is more stable on these WL-HDD units, so I hope one day I can test a build targeting brcm-2.4 on these units.</p><p>Thanks again. Even it didn&#039;t work, at least we started, and I am truely happy that I have something to try out on these WL-HDDs.</p><p>Fish</p>											<p class="post-edited">(Last edited by <strong>TorontoFish</strong> on 9 Nov 2012, 21:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184604">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">TorontoFish</div>
					<div class="post-datetime">
						28 Nov 2012, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>Finally build an Backfire image for my Asus WL-HDD! It turned out, I only had to take out Dropbear and Luci from the default selection. The final 2.4 image is about 3.3M in size, with all USB / Sound and mpd-mini support in it.</p><p>If anyone wants to give it a try, let me know, I will then post it here.</p><p>Thanks,</p><p>Fish</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195195">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">marosy</div>
					<div class="post-datetime">
						17 Mar 2013, 21:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>TorontoFish wrote:</cite><blockquote><p>Finally build an Backfire image for my Asus WL-HDD! It turned out, I only had to take out Dropbear and Luci from the default selection. The final 2.4 image is about 3.3M in size, with all USB / Sound and mpd-mini support in it.</p><p>If anyone wants to give it a try, let me know, I will then post it here.</p><p>Thanks,</p><p>Fish</p></blockquote></div><p>Hi,</p><p>Could you please post your wifi radio image? I&#039;d like to try it.</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278879">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">ovywan</div>
					<div class="post-datetime">
						4 Jun 2015, 20:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p><strong>(Edited)</strong><br />Hi, I think to use this router as a wifi radio should be possible, and without extroot. I&#039;m using a diferent router but with almost the same hardware and it works quite fine.</p><p>The problem here is the flash and RAM size, they are too small capacity. I&#039;ve built Openwrt Backfire for this router without lot of the default stuff: </p><p>- without sshd (dropbear)<br />- without luci<br />- without dnsmask (dhcp server)<br />- without iptables, no firewall<br />- without other minor stuff</p><p>- with OHCI and EHCI modules<br />- with support for mounting storage drives (vfat or ext2)<br />- support for telnet logging with password<br />- with alsa and alsalib (libasound), mpd already configured with alsa<br />- with amixer<br />- with mpc<br />- with other minor stuff (playlist, etc).</p><p>It should fit in a 4 MiB flash chip.</p><p>I&#039;ve included all the required packages to play internet radios. To configure you must set manually an IP in your computer in the range 192.168.1.x<br />then telnet 192.168.1.1 and configure Openwrt with the text editor <strong>vi</strong></p><div class="quotebox"><blockquote><p>vi /etc/config/wireless<br />vi /etc/config/network</p></blockquote></div><p>This can be called a &quot;dumb&quot; wifi-radio. Some stuff is already preconfigured. The wifi interface is prepared to act as a wifi client, you only need to edit /etc/config/wireless, and put your wep key and AP name you connect to. The wifi interface is separated from lan (192.168.1.1). Of course you can configure however you want, but remember you don&#039;t have iptables, as a result of this no complex network configurations are allowed.</p><p>Ok this is just for testing. Some feedback is welcome, post your dmesg, cpu usage, or any issues you have. I don&#039;t own this router so I don&#039;t know if this custom firmware will work.</p><p><a href="http://files.myopera.com/danitool/linux/WL600g_Backfire_10.03.2_wifiradio3.zip">WL600g_Backfire_10.03.2_wifiradio3.zip</a></p><p>The above firmware maybe compatible with other bcm6348 routers.</p></blockquote></div><br /><p>Hello! I have a WL520GU already configured as a radio and it works great. I also have a WL600G and I tried to configure it as a radio using the same steps as for the WL520GU, but I failed. Then I found this post and tried to download your zip file from MyOpera and found a dead link. Can you please provide a new download link for the file, so I can have one more try with my router? Thank you very much!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278897">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						4 Jun 2015, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi, here you have <br /><a href="https://drive.google.com/file/d/0B-EMoBe-_OdBT055aTlvV1RfZUk/view?usp=sharing">https://drive.google.com/file/d/0B-EMoB … sp=sharing</a><br />But this firmware probably won&#039;t work with a usb1.1 audio card, it must be USB2.0. If you have an USB1.1 sound card you can plug a usb2.0 hub between the router and the sound card to make it work.</p><p>BTW nobody tested the firmware, I can&#039;t say if it at least will boot ok.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278973">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">ovywan</div>
					<div class="post-datetime">
						5 Jun 2015, 15:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Hi, here you have <br /><a href="https://drive.google.com/file/d/0B-EMoBe-_OdBT055aTlvV1RfZUk/view?usp=sharing">https://drive.google.com/file/d/0B-EMoB … sp=sharing</a><br />But this firmware probably won&#039;t work with a usb1.1 audio card, it must be USB2.0. If you have an USB1.1 sound card you can plug a usb2.0 hub between the router and the sound card to make it work.</p><p>BTW nobody tested the firmware, I can&#039;t say if it at least will boot ok.</p></blockquote></div><p>Thank you very much. Your firmware booted just fine and telnet also works. I changed the config files to connect to my network, and again, every thing was ok. The soundcard powered-up only through a USB-hub, just as you said, but mpd does not recognize it. It reports an error with the oss device declared in the mpd.conf file, it has no plugin for it. I have to find out what kind of chip my soundcard has and find that plugin for it.<br />Anyway, until now I was unable to install mpd, due to low space warnings, so your firmware is a great step forward. Now it&#039;s my job to read more about this new problem and find a solution.<br />Once again, thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295648">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">foldif</div>
					<div class="post-datetime">
						11 Oct 2015, 18:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Hi, here you have <br /><a href="https://drive.google.com/file/d/0B-EMoBe-_OdBT055aTlvV1RfZUk/view?usp=sharing">https://drive.google.com/file/d/0B-EMoB … sp=sharing</a><br />But this firmware probably won&#039;t work with a usb1.1 audio card, it must be USB2.0. If you have an USB1.1 sound card you can plug a usb2.0 hub between the router and the sound card to make it work.</p><p>BTW nobody tested the firmware, I can&#039;t say if it at least will boot ok.</p></blockquote></div><p>Could you send or list the packages for your wl600G netradio firmware?<br />I trying build image for wl500G (4MiB) with alsa, mpc, mpd based your description. Now the firmware is 4,3MiB, it is too big.<br />******************<br />Configuring libc.<br />Configuring libogg.<br />Configuring libtheora.<br />Configuring opkg.<br />Configuring kernel.<br />Configuring kmod-usb-core.<br />Configuring librt.<br />Configuring libpthread.<br />Configuring kmod-input-core.<br />Configuring kmod-sound-core.<br />Configuring alsa-lib.<br />Configuring busybox.<br />Configuring glib2.<br />Configuring wireless-tools.<br />Configuring kmod-wlcompat.<br />Configuring libvorbisidec.<br />Configuring zlib.<br />Configuring libopenssl.<br />Configuring libcurl.<br />Configuring kmod-diag.<br />Configuring kmod-ppp.<br />Configuring kmod-pppoe.<br />Configuring kmod-ipt-core.<br />Configuring kmod-ipt-conntrack.<br />Configuring base-files.<br />Configuring libmms.<br />Configuring libaudiofile.<br />Configuring kmod-switch.<br />Configuring kmod-usb-ohci.<br />Configuring libflac.<br />Configuring libspeex.<br />Configuring libmpdclient.<br />Configuring mpc.<br />Configuring libfaad2.<br />Configuring libmad.<br />Configuring libvorbis.<br />Configuring libshout.<br />Configuring libid3tag.<br />Configuring mpd.<br />Configuring libuci.<br />Configuring uci.<br />Configuring mtd.<br />Configuring kmod-brcm-wl.<br />Configuring libgcc.<br />Configuring nvram.<br />Configuring ppp.<br />Configuring kmod-lp.<br />Configuring kmod-ipt-nat.<br />Configuring kmod-ipt-nathelper.<br />Configuring wlc.<br />Configuring nas.<br />Configuring ppp-mod-pppoe.<br />*****************************</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295651">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						11 Oct 2015, 19:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi <strong>foldif</strong>, I can&#039;t remember exactly the packages I used for the build. But essentially I used the ones, as I said previously<br />- without sshd (dropbear)<br />- without luci<br />- without dnsmask (dhcp server)<br />- without iptables, no firewall<br />- without other minor stuff</p><p>- with OHCI and EHCI modules<br />- with support for mounting storage drives (vfat or ext2)<br />- support for telnet logging with password<br />- with alsa and alsalib (libasound), mpd already configured with alsa<br />- with amixer<br />- with mpc<br />- with other minor stuff (playlist, etc).</p><p>BTW the Asus wl500g (brcm47xx) and wl600g (brcm63xx), are different routers. The best option for you is to use the old Openwrt Backfire version for the brcm2.4 target.</p><p>You don&#039;t need firewall, nor luci, nor dropbear, nor the kmod-ipt-... stuff among other things.</p><p>Using more modern versions of Openwrt may also be possible, but the mpd package is fat as a cow in latest versions. You can but using the old <strong>0.13.2 mpd</strong> version (you may need port the old mpd for a modern Openwrt version).</p><p>Regards.</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 11 Oct 2015, 19:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295656">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">foldif</div>
					<div class="post-datetime">
						11 Oct 2015, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. I use backfire 2.4. I know the routers different, but i have only 4MiB as wl600g. I use image builder.<br />I trying. Yes with mpd the size is 4,3M, without 1,9M. I don&#039;t need all of libs of mpd, i don&#039;t now how inhibit them during image building.</p>											<p class="post-edited">(Last edited by <strong>foldif</strong> on 11 Oct 2015, 20:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295661">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						11 Oct 2015, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>Looks like the mpd version in backfire is still too new. You need to downgrade the mpd version to 0.13.2, this can be done in the Makefile of mpd. As an example these are the modifications I made some time ago.<br /></p><div class="codebox"><pre><code>Index: feeds/packages/sound/mpd/Makefile
===================================================================
--- feeds/packages/sound/mpd/Makefile    (revision 33131)
+++ feeds/packages/sound/mpd/Makefile    (working copy)
@@ -8,12 +8,12 @@
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=mpd
-PKG_VERSION:=0.16.5
-PKG_RELEASE:=2
+PKG_VERSION:=0.13.2
+PKG_RELEASE:=1
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.bz2
-PKG_SOURCE_URL:=@SF/musicpd
-PKG_MD5SUM:=f7564cff12035f6a1112cce770655df7
+PKG_SOURCE_URL:=http://www.musicpd.org/uploads/files/
+PKG_MD5SUM:=b461896369949ff3cff955692ead9f8b
 
 PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)-$(BUILD_VARIANT)/$(PKG_NAME)-$(PKG_VERSION)
 PKG_BUILD_PARALLEL:=1
@@ -86,7 +86,6 @@
 
 
 CONFIGURE_ARGS += \
-    $(call autoconf_bool,CONFIG_IPV6,ipv6) \
     --disable-debug \
     --disable-documentation \
     --disable-gprof \
@@ -124,11 +123,8 @@
     \
     --enable-curl \
     --enable-flac \
-    --enable-httpd-output \
     $(call autoconf_bool,CONFIG_BUILD_PATENTED,mad) \
-    $(call autoconf_bool,CONFIG_AUDIO_SUPPORT,oss) \
     --enable-tcp \
-    --enable-un \
 
 CONFIGURE_VARS += \
     FLAC_CFLAGS=&quot;$(TARGET_CFLAGS) -I$(STAGING_DIR)/usr/include/FLAC&quot; \
@@ -169,8 +165,8 @@
 
   # oggflac is not compatible with tremor
   CONFIGURE_ARGS += \
+    $(call autoconf_bool,CONFIG_AUDIO_SUPPORT,alsa) \
     --disable-aac \
-    --disable-alsa \
     --disable-audiofile \
     --disable-fifo \
     --disable-ffmpeg \
@@ -184,7 +180,12 @@
     --disable-sndfile \
     --disable-vorbis \
     --disable-vorbis-encoder \
-    --with-tremor=yes \
+    --with-tremor=no \
+    --with-vorbis=no \
+--disable-oggvorbis \
+--disable-ipv6 \
+--disable-oss \
+--disable-flac \
 
 endif
 
@@ -192,9 +193,14 @@
     $(INSTALL_DIR) $(1)/usr/bin
     $(CP) $(PKG_INSTALL_DIR)/usr/bin/mpd $(1)/usr/bin/
     $(INSTALL_DIR) $(1)/etc
-    $(CP) $(PKG_BUILD_DIR)/doc/mpdconf.example $(1)/etc/mpd.conf
     $(INSTALL_DIR) $(1)/etc/init.d
     $(INSTALL_BIN) ./files/mpd.init $(1)/etc/init.d/mpd
+    $(INSTALL_DIR) $(1)/etc/wifiradio/playlists #mod
+    $(INSTALL_DATA) ./files/radiostations.m3u $(1)/etc/wifiradio/playlists #mod
+    $(INSTALL_BIN) ./files/mailsend.sh $(1)/etc/wifiradio #mod
+    $(INSTALL_CONF) ./files/mpd.conf $(1)/etc/ #mod
+    $(INSTALL_BIN) ./files/usbplay.sh $(1)/etc/wifiradio #mod
+    $(INSTALL_BIN) ./files/sleep.sh $(1)/etc/wifiradio #mod
 endef
 
 define Package/mpd-full/install</code></pre></div><p>The important parts are, the mpd version, and support for alsa for the mpd mini. I had better results with alsa instead OSS.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295740">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">foldif</div>
					<div class="post-datetime">
						12 Oct 2015, 10:52					</div>
				</div>
				<div class="post-content content">
					<p>Thank you again. It is exciting. I will report about result.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297259">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">foldif</div>
					<div class="post-datetime">
						24 Oct 2015, 13:04					</div>
				</div>
				<div class="post-content content">
					<p>I was not success. No more time to experiment with it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303285">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">drsmoll</div>
					<div class="post-datetime">
						11 Dec 2015, 10:18					</div>
				</div>
				<div class="post-content content">
					<p>Please renew files <br />WL600g_Backfire_10.03.2_wifiradio3.zip<br /> WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio2.zip<br />WL-HDD_Backfire_bcm47xx_10.03.2_wifiradio.zip<br />service myopera.com is closed <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>drsmoll</strong> on 11 Dec 2015, 10:19)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=33332&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>