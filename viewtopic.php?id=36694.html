<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> make fail of backfire 10.03.01 for TP-Link TL-WR1043ND</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p166816">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hidouri</div>
					<div class="post-datetime">
						8 May 2012, 12:04					</div>
				</div>
				<div class="post-content content">
					<p>hi all,</p><p> i downloaded the SDK from&nbsp; <a href="http://downloads.openwrt.org/backfire/10.03.1-rc6/ar71xx/">http://downloads.openwrt.org/backfire/1 â€¦ c6/ar71xx/</a> in order to compile the backfire 10.03.1 for TP-linl TL WR1043ND </p><p>I added sources (backfire 10.03.1 filesystem to SDK concerned filesystem )</p><p>then tape make menuconfig</p><p>i have correct interface configuration so i can select target and profile</p><p>after exit and saving the new configuration , i tape make command , but fails at the end of build</p><p>then tape make V=99 in order to have more details about errors </p><br /><br /><p>make build fails at the end with this message format :</p><br /><div class="quotebox"><blockquote><p>cc -O2 -I/home/hlejri/OpenWrt-SDK-ar71xx-for-Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1/staging_dir/host/include -include endian.h -o /home/hlejri/OpenWrt-SDK-ar71xx-for-<br /> Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1/build_dir/host/firmware-utils/bin/imagetag src/imagetag.c<br /> In file included from src/imagetag.c:19:0:<br /> src/bcm_tag.h:1:6: error: expected &#039;=&#039;, &#039;,&#039;, &#039;;&#039;, &#039;asm&#039; or__attribute__&#039; before &#039;.&#039; token<br /> src/imagetag.c:46:24: error: &#039;NUM_PIRELLI&#039; undeclared here (not in a function)<br /> src/imagetag.c:46:37: error: &#039;BOARDID_LEN&#039; undeclared here (not in a function)<br /> src/imagetag.c:46:52: error: &#039;PIRELLI_BOARDS&#039; undeclared here (not in a function)<br /> src/imagetag.c: In function &#039;tagfile&#039;:<br /> src/imagetag.c:135:17: error: storage size of &#039;tag&#039; isn&#039;t known<br /> src/imagetag.c:140:22: error: &#039;IMAGETAG_CRC_START&#039; undeclared (first use in this function)<br /> src/imagetag.c:140:22: note: each undeclared identifier is reported only once for each function it appears in<br /> src/imagetag.c:145:24: error: storage size of &#039;intchar&#039; isn&#039;t known<br /> src/imagetag.c:149:25: error: invalid application of &#039;sizeof&#039; to&nbsp; incomplete type &#039;struct bcm_tag&#039;<br /> src/imagetag.c:252:31: error: &#039;TAGVER_LEN&#039; undeclared (first use in this function)<br /> src/imagetag.c:270:45: error: &#039;RSASIG_LEN&#039; undeclared (first use in this function)<br /> src/imagetag.c:274:45: error: &#039;TAGLAYOUT_LEN&#039; undeclared (first use in this function)<br /> src/imagetag.c:285:3: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;union int2char&#039;<br /> src/imagetag.c:287:10: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;union int2char&#039;<br /> src/imagetag.c:289:9: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;union int2char&#039;<br /> src/imagetag.c:290:9: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;union int2char&#039;<br /> src/imagetag.c:291:2: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;union int2char&#039;<br /> src/imagetag.c:292:2: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;union int2char&#039;<br /> make[3]: *** [/home/hlejri/OpenWrt-SDK-ar71xx-for-<br /> Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1/build_dir/host/firmware-<br /> utils/.built] Error 1<br /> make[3]: Leaving directory `/home/hlejri/OpenWrt-SDK-ar71xx-for-<br /> Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1/tools/firmware-utils&#039;<br /> make[2]: *** [tools/firmware-utils/compile] Error 2<br /> make[2]: Leaving directory `/home/hlejri/OpenWrt-SDK-ar71xx-for-<br /> Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1&#039;<br /> make[1]: *** [/home/hlejri/OpenWrt-SDK-ar71xx-for-<br /> Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1/staging_dir/target-<br /> mips_r2_uClibc-0.9.30.1/stamp/.tools_install_nnynn] Error 2<br /> make[1]: Leaving directory `/home/hlejri/OpenWrt-SDK-ar71xx-for-<br /> Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1&#039;<br /> make: *** [world] Error 2</p></blockquote></div><p>any help will be appreciated !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166828">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						8 May 2012, 15:40					</div>
				</div>
				<div class="post-content content">
					<p>Seems your source checkout is corrupt, tools/firmware-utils/src/bcm_tag.h is a symlink within the repository, pointing to the actual file.<br />If you checkout the source on windows, or on a file system that does not support symlinks, it will get corrupted and the build fails as shown above.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166861">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hidouri</div>
					<div class="post-datetime">
						9 May 2012, 01:05					</div>
				</div>
				<div class="post-content content">
					<p>now i think i should expand home filesystem for more memory</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177736">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">eminempark</div>
					<div class="post-datetime">
						11 Sep 2012, 08:16					</div>
				</div>
				<div class="post-content content">
					<p>Is there any solution yet for the error?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177747">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						11 Sep 2012, 10:59					</div>
				</div>
				<div class="post-content content">
					<p>The solution is to check out onto a filesystem that supports symlinks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177750">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">eminempark</div>
					<div class="post-datetime">
						11 Sep 2012, 11:11					</div>
				</div>
				<div class="post-content content">
					<p>May I know how to do it? Sorry, I&#039;m a new user... Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189505">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Libo.Wang</div>
					<div class="post-datetime">
						21 Jan 2013, 11:08					</div>
				</div>
				<div class="post-content content">
					<p>Funny. Same issue.<br />If you use svn to check out the project, just remove the file and update it.<br />SVN will help you get an new file.</p><p>I meet this issue by check out the project from Cygwin and copy it to linux and try to build</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>