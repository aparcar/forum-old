<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Solved] TP-Link wr703n with openwrt on Windows</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p187733">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;ve recently got a tp-lik wr703n and flashed it successfully with openwrt. I even set the password for root in first login and can now connect to ssh successfully.<br />But I&#039;m not sure where I need to enter my ISP provided username and password s i can connect to the internet and also I need to enable wifi after that.<br />I&#039;m completely a noob in this and I&#039;ve gone through the wiki for some time now, but I see that most of them are for linux based OS. I&#039;ve downloaded putty for windows, but i don&#039;t kow how i go about configuring the router. Any help would be greatly appreciated.</p><p>Here are some links I&#039;ve gone through:<br /><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n">http://wiki.openwrt.org/toh/tp-link/tl-wr703n</a></p><p><a href="http://wiki.xinchejian.com/wiki/Install_OpenWRT_on_TPlink_WR703N">http://wiki.xinchejian.com/wiki/Install â€¦ ink_WR703N</a></p>											<p class="post-edited">(Last edited by <strong>YanOri</strong> on 3 Jan 2013, 18:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187734">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>YanOri, what is your physical setup? There must be some kind of modem between the 703 and the internet for connectivity.<br />Either a USB 3G dongle, or the router your ISP provided (which can be connected to the 703 via WiFi or ethernet cable).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187736">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 12:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>YanOri, what is your physical setup? There must be some kind of modem between the 703 and the internet for connectivity.<br />Either a USB 3G dongle, or the router your ISP provided (which can be connected to the 703 via WiFi or ethernet cable).</p></blockquote></div><p>Hi, Thanks a lot for your reply, I have the router that my ISP provided which works fine.</p><p>EDIT: I even have the USB cable and ethernet for the purpose. Currently I&#039;ve connected the ethernet to my PC.</p>											<p class="post-edited">(Last edited by <strong>YanOri</strong> on 3 Jan 2013, 12:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187737">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 12:48					</div>
				</div>
				<div class="post-content content">
					<p>Next step is deciding what you want the 703 to do.<br />Do you want to extend the wireless reach, or create a private network??<br />Or? Or? Lots of possibilities</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187739">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 12:54					</div>
				</div>
				<div class="post-content content">
					<p>I want&nbsp; to enable wifi (as my current router doesn&#039;t have wifi) so that i can use it in my phone.<br />Right now my phone doesn&#039;t detect my 703 (it used to detect before i flashed openwrt, the firmware was chinese by then and it has a GUI at 192.168.1.1)</p>											<p class="post-edited">(Last edited by <strong>YanOri</strong> on 3 Jan 2013, 12:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187741">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 13:13					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/recipes/bridgedap">http://wiki.openwrt.org/doc/recipes/bridgedap</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187742">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>As I already said, I&#039;m using windows. Where do I find those folders?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187743">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 13:49					</div>
				</div>
				<div class="post-content content">
					<p>They are on the router (703) NOT on your PC. <br />ssh into the router.<br />You will need to use vi to edit the files.<br />Here is a summary of vi commands:<br /><a href="http://www.lagmonster.org/docs/vi.html">http://www.lagmonster.org/docs/vi.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187744">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 14:04					</div>
				</div>
				<div class="post-content content">
					<p>So I&#039;ll have to use putty to edit them?</p><p>EDIT: Ok, I could edit the file as mentioned in step 1, using putty.<br />On the second step while trying to edit the file I get &#039;No such file or directory&#039;</p>											<p class="post-edited">(Last edited by <strong>YanOri</strong> on 3 Jan 2013, 14:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187745">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>you use putty in order to get into the router using ssh root@192.168.1.1<br />then you need to go to the right place, e.g. cd /etc/config<br />Then using vi you edit the network and wireless files</p><p>Alternatively, depending on what version of openwrt you installed, you may be able to type <a href="http://192.168.1.1">http://192.168.1.1</a> into your PC browser and access luci to set things up. (make sure your PC is plugged into the 703 and NOT your other router with ethernet cable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187746">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 14:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>you use putty in order to get into the router using ssh root@192.168.1.1<br />then you need to go to the right place, e.g. cd /etc/config<br />Then using vi you edit the network and wireless files</p><p>Alternatively, depending on what version of openwrt you installed, you may be able to type <a href="http://192.168.1.1">http://192.168.1.1</a> into your PC browser and access luci to set things up. (make sure your PC is plugged into the 703 and NOT your other router with ethernet cable.</p></blockquote></div><p>Thanks a lot, I&#039;ll try it again. <br />BTW i can&#039;t download and install luci while connecting via 703, because I cannot connect from my 703 to internet. I don&#039;t know where to add the username and password of my ISP. Without which I can&#039;t connect to the net.<br />Sorry I really don&#039;t understand how to explain it in technical terms, and thanks a lot for your time with my problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187747">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 14:29					</div>
				</div>
				<div class="post-content content">
					<p>Ok, all the steps done and changes applied. But on the last step i get this error:</p><div class="codebox"><pre><code>root@OpenWrt:~# ifup wifi
Interface wifi not found
root@OpenWrt:~# wifi
wifi0(atheros): Interface type not supported
wifi0(atheros): Interface type not supported
root@OpenWrt:~#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187748">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 14:32					</div>
				</div>
				<div class="post-content content">
					<p>instead of atheros you should have mac80211<br />see: <a href="http://wiki.openwrt.org/doc/uci/wireless">http://wiki.openwrt.org/doc/uci/wireless</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187749">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 14:34					</div>
				</div>
				<div class="post-content content">
					<p>By default, this was there in the wireless file, please tell me what to edit in that:</p><div class="codebox"><pre><code>config wifi-device  radio0
        option type     mac80211
        option channel  11
        option hwmode   11ng
        option path     &#039;platform/ar933x_wmac&#039;
        option htmode   HT20
        list ht_capab   SHORT-GI-20
        list ht_capab   SHORT-GI-40
        list ht_capab   RX-STBC1
        list ht_capab   DSSS_CCK-40
        # REMOVE THIS LINE TO ENABLE WIFI:
        #option disabled 1

config wifi-iface
        option device   radio0
        option network  wan
        option mode     sta
        option ssid     &#039;Openwrt&#039;
        option encryption none</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187750">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>quickly looking, that seems OK. Did you edit the file or does it still like that?<br />If it is like that now, what does ifup wifi say now?<br />also, just to be sure, delete the line: #option disabled 1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187751">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						3 Jan 2013, 14:41					</div>
				</div>
				<div class="post-content content">
					<p>If you installed Attitude Adjustment RC1 (recommended), then LuCI is already installed. It is unclear what you have done already. Anyhow, here&#039;s a simple step-by-step, assuming you have just installed OpenWRT and haven&#039;t changed anything yet.</p><p>1. Connect the router to your PC with ethernet cable. In a command window (on the PC), type<br />&nbsp; &nbsp; telnet 192.168.1.1</p><p>2. If step 1 was successful, you should see OpenWRT greeting. Enable WiFi with the commands<br />&nbsp; &nbsp; uci set wireless.@wifi-device[0].disabled=0<br />&nbsp; &nbsp; uci commit wireless<br />&nbsp; &nbsp; wifi<br />After this step, WiFi should be up.</p><p>3. Enable LuCI web interface (or is it enabled by default? cannot remember):<br />&nbsp; &nbsp; /etc/init.d/uhttpd enable<br />&nbsp; &nbsp; /etc/init.d/uhttpd start</p><p>You should now be able to connect to the router at <a href="http://192.168.1.1">http://192.168.1.1</a> and use that for further configuration.</p><br /><p>OK, now I see you&#039;re almost there. Your WiFi is already enabled (re-boot just in case?) You probably need to change &quot;option network&nbsp; wan&quot; to &quot;option network&nbsp; lan&quot; (but youu can do that later through web interface)<br />If you cannot access LuCI, do step 3 above</p><p>EDIT. and probably change &quot;option mode&nbsp; &nbsp; &nbsp;sta&quot; into &quot;option mode&nbsp; &nbsp; &nbsp;ap&quot;. You want the router to function as access point, right?</p>											<p class="post-edited">(Last edited by <strong>rambler</strong> on 3 Jan 2013, 14:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187752">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 14:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>quickly looking, that seems OK. Did you edit the file or does it still like that?<br />If it is like that now, what does ifup wifi say now?<br />also, just to be sure, delete the line: #option disabled 1</p></blockquote></div><p>Did that, now i get this error:</p><div class="codebox"><pre><code>root@OpenWrt:~# /etc/init.d/dnsmasq disable
root@OpenWrt:~# ifup wifi
Interface wifi not found
root@OpenWrt:~# wifi
&#039;radio0&#039; is disabled
&#039;radio0&#039; is disabled</code></pre></div><p>Hi, rambler, I&#039;ve done the following till now:<br />1-Download and flash openwrt with the chinese web interface<br />2-set password for root and completed first login thingy, I&#039;m now able to login via ssh<br />3-Completed the step to enable wifi as shown in the link. This is where I&#039;m stuck now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187753">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						3 Jan 2013, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t know how you reached it, but your &quot;config wifi-device&quot; section is missing &quot;option macaddr xx:yy:...&quot; entry which identifies the radio, so it cannot be enabled.</p><p>It seems almost easier to get to the default confifuratiion:<br />&nbsp; &nbsp; mtd -r erase rootfs_data<br />and do the tree steps that I suggested above.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187754">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						3 Jan 2013, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>His config is fine, there just is no interface called &quot;wifi&quot;.<br />ifup wifi != wifi up</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187755">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 15:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>His config is fine, there just is no interface called &quot;wifi&quot;.<br />ifup wifi != wifi up</p></blockquote></div><p>haha, oops.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187756">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						3 Jan 2013, 15:05					</div>
				</div>
				<div class="post-content content">
					<p>Isn&#039;t &quot;phy&quot; or &quot;macaddr&quot; necessary?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187757">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 15:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks again for all your help on this, here are things i tried as per your suggesion</p><br /><p>First I did this:<br /></p><div class="codebox"><pre><code>mtd -r erase rootfs_data</code></pre></div><p>I got something like:<br /></p><div class="codebox"><pre><code>Unlocking rootfs_data ...
Erasing rootfs_data ...
Rebooting ...</code></pre></div><p>Then I did step1: I got the greeting as expected<br />Then step2:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# uci set wireless.@wifi-device[0].disabled=0
root@OpenWrt:/# uci commit wireless
root@OpenWrt:/# wifi
Configuration file: /var/run/hostapd-phy0.conf
Using interface wlan0 with hwaddr f8:d1:11:f6:cd:22 and ssid &quot;OpenWrt&quot;
root@OpenWrt:/#</code></pre></div><p>Proceeding to step3:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# /etc/init.d/uhttpd enable
/bin/ash: /etc/init.d/uhttpd: not found
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187758">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">YanOri</div>
					<div class="post-datetime">
						3 Jan 2013, 15:13					</div>
				</div>
				<div class="post-content content">
					<p>Awesome, I can now see wifi connection on my phone and connect to it. But for some unknown reason I cannot connect to the internet. Same problem when i try to connect my ethernet through 703. It just doesn&#039;t connect. <br />I&#039;m still thinking I need to add my username and password that my ISP provided to enable me to connect to interent. Am i wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187759">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						3 Jan 2013, 15:14					</div>
				</div>
				<div class="post-content content">
					<p>Your WiFi should be up now.</p><p>/etc/init.d/uhttpd: not found means that it isn&#039;t included in the OpenWRT version that you flashed. What did you flash by the way (where did you get it from, exactly?)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187760">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Jan 2013, 15:15					</div>
				</div>
				<div class="post-content content">
					<p>Your Wifi is up.<br />On the PC search for wifi network OpenWRT.<br />You should be able to join it without password.<br />Now check whether luci is working: Turn off wifi on your PC. Connect via ethernet cable.<br />Type <a href="http://192.168.1.1">http://192.168.1.1</a> into your PC browser.<br />You should be in Luci.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>