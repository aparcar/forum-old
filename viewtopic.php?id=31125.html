<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build own Image for TL-MR3220 / MR3420</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p140283">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						30 Jul 2011, 14:49					</div>
				</div>
				<div class="post-content content">
					<p>hi...<br />I from Indonesia...<br />I have router TL-MR3220 with openwrt kernel 2.6.39.. <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a><br />and it running very well</p><p>but I want to build own image my MR3220 on my ubuntu 10.10. </p><p>and I try compile it with command &quot;make menuconfig&quot; and &quot;make&quot; but &quot;target profile&quot; no option for &quot;TL-MR3220&quot; </p><p>so I try again with image builder (download this <a href="http://downloads.openwrt.org/backfire/10.03/ar71xx/OpenWrt-ImageBuilder-ar71xx-for-Linux-i686.tar.bz2)">http://downloads.openwrt.org/backfire/1 … 6.tar.bz2)</a></p><p>but it same problem, that no option target&nbsp; for TL-MR3220..</p><p>I think, with the target TL-WA901ND who will produce an image with a TL-MR3220 the capability, but have not dared to flash into my router</p><p>may be, there are&nbsp; a solution??</p><p>thank</p>											<p class="post-edited">(Last edited by <strong>mang</strong> on 30 Jul 2011, 14:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140319">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						31 Jul 2011, 06:50					</div>
				</div>
				<div class="post-content content">
					<p>Not backfire supported. Just trunk for now.<br />That also means no support for you, specially <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140322">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						31 Jul 2011, 09:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Nilfred wrote:</cite><blockquote><p>Not backfire supported. Just trunk for now.<br />That also means no support for you, specially <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>thank Bro Nilfred...</p><p>that means we have not chance to modify the trunk version??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140411">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						1 Aug 2011, 18:12					</div>
				</div>
				<div class="post-content content">
					<p>Checkout trunk instead of backfire, use the search engine and read the wiki.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140446">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						2 Aug 2011, 11:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Nilfred wrote:</cite><blockquote><p>Checkout trunk instead of backfire, use the search engine and read the wiki.</p></blockquote></div><p>thank Bro Nilfred</p><p>now I have easy step.<br />and this&#039;s my step in ubuntu 10.10:<br /></p><div class="codebox"><pre><code> nay@HPmini:~$ mkdir naywrt  
 nay@HPmini:~$ cd naywrt 
 nay@HPmini:~/naywrt$ svn co svn://svn.openwrt.org/openwrt/trunk/
 ........this process download source......................................

 nay@HPmini:~/naywrt$ cd trunk
 nay@HPmini:~/naywr/trunk$ make menuconfig
 .................this process make config target AR71XX, mr3220, etc..........
nay@HPmini:~/naywr/trunk$ make defconfig
 ................this process check for ready to compile................. 
nay@HPmini:~/naywr/trunk$ make download
 .................this process download file source..........
  nay@HPmini:~/naywr/trunk$ make v=99
 ................this process compile to be image...........................</code></pre></div>											<p class="post-edited">(Last edited by <strong>mang</strong> on 19 Aug 2011, 05:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140470">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						2 Aug 2011, 18:05					</div>
				</div>
				<div class="post-content content">
					<p>You must select a target before &quot;make defconfig&quot; or default broadcom is selected:<br /></p><div class="codebox"><pre><code>echo CONFIG_TARGET_ar71xx=y &gt; .config
make defconfig</code></pre></div><p>Then is advisable to run make without any further modification to menuconfig for test and debug purposes. If fail at this point must fill a bug and wait another revision...<br />BUT, before any make is advisable to download sources at once:<br /></p><div class="codebox"><pre><code>echo CONFIG_TARGET_ar71xx=y &gt; .config
make defconfig
make download</code></pre></div><p>This fill up &quot;dl&quot; directory, so the real time saver is keep &quot;dl&quot; away from distclean reach:<br /></p><div class="codebox"><pre><code>echo CONFIG_TARGET_ar71xx=y &gt; .config
make defconfig
ln -sf ../../dl
make download
make</code></pre></div><p>Finally if all goes well you are free to issue &quot;make menuconfig&quot; and go on.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140496">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						3 Aug 2011, 00:52					</div>
				</div>
				<div class="post-content content">
					<p>if I want to include this modul on my image openwrt.:<br />1. my modem<br /></p><div class="codebox"><pre><code>blkid_1.41.12-1_ar71xx.ipk
chat_2.4.4-17_ar71xx.ipk
comgt_0.32-9_ar71xx.ipk
kmod-usb-core_2.6.39.6-1_ar71xx.ipk
kmod-usb-ohci_2.6.39.6-1_ar71xx.ipk
kmod-usb-serial-option_2.6.39.6-1_ar71xx.ipk
kmod-usb-serial-wwan_2.6.39.6-1_ar71xx.ipk
kmod-usb-serial_2.6.39.6-1_ar71xx.ipk
kmod-usb-uhci_2.6.39.6-1_ar71xx.ipk
libblkid_1.41.12-1_ar71xx.ipk
libuuid_1.41.12-1_ar71xx.ipk</code></pre></div><p>2. luci interface<br /></p><div class="codebox"><pre><code>ddns-scripts_1.0.0-14_all.ipk
libiwinfo_15_ar71xx.ipk
liblua_5.1.4-8_ar71xx.ipk
libuci-lua_2011-03-27.2-1_ar71xx.ipk
lua_5.1.4-8_ar71xx.ipk
luci_0.10+svn7258-1_ar71xx.ipk
luci-app-ddns_0.10+svn7258-1_ar71xx.ipk
luci-app-firewall_0.10+svn7258-1_ar71xx.ipk
luci-i18n-english_0.10+svn7258-1_ar71xx.ipk
luci-lib-core_0.10+svn7258-1_ar71xx.ipk
luci-lib-ipkg_0.10+svn7258-1_ar71xx.ipk
luci-lib-lmo_0.10+svn7258-1_ar71xx.ipk
luci-lib-nixio_0.10+svn7258-1_ar71xx.ipk
luci-lib-sys_0.10+svn7258-1_ar71xx.ipk
luci-lib-web_0.10+svn7258-1_ar71xx.ipk
luci-mod-admin-core_0.10+svn7258-1_ar71xx.ipk
luci-mod-admin-full_0.10+svn7258-1_ar71xx.ipk
luci-sgi-cgi_0.10+svn7258-1_ar71xx.ipk
luci-theme-base_0.10+svn7258-1_ar71xx.ipk
luci-theme-openwrt_0.10+svn7258-1_ar71xx.ipk
uhttpd_22_ar71xx.ipk</code></pre></div><p>how to set them when It want to include on my image??</p>											<p class="post-edited">(Last edited by <strong>mang</strong> on 3 Aug 2011, 01:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140805">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						8 Aug 2011, 10:02					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.compile">RTFW</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140840">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						8 Aug 2011, 21:37					</div>
				</div>
				<div class="post-content content">
					<p>I have been successful<br />create my own image TL-MR3220 and TL-MR3420<br />in it already includes luci webinterfaces and drivers usb modem</p><p>download firmware here:</p><p><a href="http://www.ziddu.com/download/15958853/openwrt-mr3220-v1-squashfs-factory-by-mang.rar.html">MR3220</a><br /><a href="http://www.ziddu.com/download/15958854/openwrt-mr3420-v1-squashfs-factory-by-mang.bin.zip.html">MR3420</a></p><br /><br /><p>it working......</p>											<p class="post-edited">(Last edited by <strong>mang</strong> on 8 Aug 2011, 21:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140969">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">threeminutes</div>
					<div class="post-datetime">
						10 Aug 2011, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>Just wanted to thank mang for this build which I am now using on my TL-MR3220. Hopefully I will figure out how to use openwrt as a repeater, I have read quite a bit but it is all a bit confusing to figure out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140972">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Jaco</div>
					<div class="post-datetime">
						10 Aug 2011, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi mang, I&#039;m also interested in creating my own image for my mr3220. Actually I&#039;m configuring the makefile for the image, can you post the .config you used to compile your image? what way you used to flash the ap with your custom image? the mtd method?<br />thank you in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141205">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						13 Aug 2011, 14:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mang wrote:</cite><blockquote><p>I have been successful<br />create my own image TL-MR3220 and TL-MR3420<br />in it already includes luci webinterfaces and drivers usb modem</p><p>download firmware here:</p><p><a href="http://www.ziddu.com/download/15958853/openwrt-mr3220-v1-squashfs-factory-by-mang.rar.html">MR3220</a><br /><a href="http://www.ziddu.com/download/15958854/openwrt-mr3420-v1-squashfs-factory-by-mang.bin.zip.html">MR3420</a><br />it working......</p></blockquote></div><p>and .. this my completed image for TL-MR3220 and TL-MR3420<br /><a href="http://www.ziddu.com/download/16032760/mr3420squasfsfactorylengkap.zip.html">MR3420squasfsfactory</a><br /><a href="http://www.ziddu.com/download/16032761/mr3220squasfsupgradelengkap.zip.html">MR3220squasfssysupgrade</a><br /><a href="http://www.ziddu.com/download/16032762/mr3220squasfsfactorylengkap.zip.html">MR3220squasfsfactory</a><br /><a href="http://www.ziddu.com/download/16032763/mr3420squasfsupgradelengkap.zip.html">MR3420squasfssysupgrade</a><br />include:<br />- luci webinterface<br />- luci ddns<br />- wireless on<br />- driver modem ready<br />- switch modem <br />- switch modem huawei<br />- ready for external root<br />- image size 3,3MB</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141208">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						13 Aug 2011, 14:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>threeminutes wrote:</cite><blockquote><p>Just wanted to thank mang for this build which I am now using on my TL-MR3220. Hopefully I will figure out how to use openwrt as a repeater, I have read quite a bit but it is all a bit confusing to figure out.</p></blockquote></div><p>welcome<br />and good luck </p><div class="quotebox"><cite>Jaco wrote:</cite><blockquote><p>Hi mang, I&#039;m also interested in creating my own image for my mr3220. Actually I&#039;m configuring the makefile for the image, can you post the .config you used to compile your image? what way you used to flash the ap with your custom image? the mtd method?<br />thank you in advance.</p></blockquote></div><p>step bye step like above<br />- I make standar image<br />- in &quot;make menuconfig &quot;checklist &quot;image builder&quot; it will make image builder<br />- with image builder I can include packet (*.ipk) to image. step like above </p><p>oke good luck</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141280">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cindy.wijaya</div>
					<div class="post-datetime">
						14 Aug 2011, 09:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>threeminutes wrote:</cite><blockquote><p>Just wanted to thank mang for this build which I am now using on my TL-MR3220. Hopefully I will figure out how to use openwrt as a repeater, I have read quite a bit but it is all a bit confusing to figure out.</p></blockquote></div><p>I have successful make the router client &amp; master(AP) in the same time with the same ESSID &amp; Channell. I think it was the simple way to make router &#039;like&#039; repeater <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>											<p class="post-edited">(Last edited by <strong>cindy.wijaya</strong> on 14 Aug 2011, 09:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141512">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						17 Aug 2011, 01:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cindy.wijaya wrote:</cite><blockquote><div class="quotebox"><cite>threeminutes wrote:</cite><blockquote><p>Just wanted to thank mang for this build which I am now using on my TL-MR3220. Hopefully I will figure out how to use openwrt as a repeater, I have read quite a bit but it is all a bit confusing to figure out.</p></blockquote></div><p>I have successful make the router client &amp; master(AP) in the same time with the same ESSID &amp; Channell. I think it was the simple way to make router &#039;like&#039; repeater <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p></blockquote></div><p>you&#039;re posting without step by step...<br />please deh..<br />cape deh <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>											<p class="post-edited">(Last edited by <strong>mang</strong> on 19 Aug 2011, 05:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141596">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">cpplab</div>
					<div class="post-datetime">
						18 Aug 2011, 04:18					</div>
				</div>
				<div class="post-content content">
					<p>thanks Nilfred is a good man</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141725">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						20 Aug 2011, 06:11					</div>
				</div>
				<div class="post-content content">
					<p>You&#039;re welcome <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141898">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">xtreme</div>
					<div class="post-datetime">
						22 Aug 2011, 23:48					</div>
				</div>
				<div class="post-content content">
					<p>good job mang</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142554">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">blues55</div>
					<div class="post-datetime">
						30 Aug 2011, 23:22					</div>
				</div>
				<div class="post-content content">
					<p>Great build mang <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> If you have a time, please make another one, maybe my e372 will property works with mr3420. I have no problem with e182e.</p>											<p class="post-edited">(Last edited by <strong>blues55</strong> on 30 Aug 2011, 23:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143043">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						7 Sep 2011, 17:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>blues55 wrote:</cite><blockquote><p>Great build mang <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> If you have a time, please make another one, maybe my e372 will property works with mr3420. I have no problem with e182e.</p></blockquote></div><p>thank if it useful <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I will try, if the server&nbsp; &quot;svn-trunk&quot; is already stable,<br />I will make again the latest firmware<br />Yesterday, I tried but still less stable<br />my USB modem not detect</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p163922">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">z-level</div>
					<div class="post-datetime">
						10 Apr 2012, 05:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mang wrote:</cite><blockquote><div class="quotebox"><cite>mang wrote:</cite><blockquote><p>I have been successful<br />create my own image TL-MR3220 and TL-MR3420<br />in it already includes luci webinterfaces and drivers usb modem</p><p>download firmware here:</p><p><a href="http://www.ziddu.com/download/15958853/openwrt-mr3220-v1-squashfs-factory-by-mang.rar.html">MR3220</a><br /><a href="http://www.ziddu.com/download/15958854/openwrt-mr3420-v1-squashfs-factory-by-mang.bin.zip.html">MR3420</a><br />it working......</p></blockquote></div><p>and .. this my completed image for TL-MR3220 and TL-MR3420<br /><a href="http://www.ziddu.com/download/16032760/mr3420squasfsfactorylengkap.zip.html">MR3420squasfsfactory</a><br /><a href="http://www.ziddu.com/download/16032761/mr3220squasfsupgradelengkap.zip.html">MR3220squasfssysupgrade</a><br /><a href="http://www.ziddu.com/download/16032762/mr3220squasfsfactorylengkap.zip.html">MR3220squasfsfactory</a><br /><a href="http://www.ziddu.com/download/16032763/mr3420squasfsupgradelengkap.zip.html">MR3420squasfssysupgrade</a><br />include:<br />- luci webinterface<br />- luci ddns<br />- wireless on<br />- driver modem ready<br />- switch modem <br />- switch modem huawei<br />- ready for external root<br />- image size 3,3MB</p></blockquote></div><p>Hello</p><p>May be you can help me to up WiFi (for TL-MR3420 MR3420squasfsfactory) ?&nbsp; &nbsp; ...not working</p><p>and.. how i can create extroot (on usb flash) for this devise ?&nbsp; &nbsp; (I not andestand in wiki how to do)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>