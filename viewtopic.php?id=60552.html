<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenVPN on OpenWRT CHAOS CALMER 15.05, r46767 routing</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p297668">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						27 Oct 2015, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello OpenWRT developer team and the OpenWRT community...</p><p>I would like to reach out to all of you for help.</p><p>The issue - Setting up packet routing on OpenWRT OS running OpenVPN instance.</p><p>There is a multiple guides available on <a href="http://www.openwrt.org">www.openwrt.org</a>, however, most address a very generic set up scenarios mostly applicable to interprise(ish) kinda of a set up when two OpenWRT dev. connect two remote sites via VPN tunnel.</p><p>As some one who would like to use the consumer grade hardware at home and be able to use power of linux and open source code... this scenarios described in tech wiki, at the end of the day did not resulted in a properly running router with VPN and correctly set-up routing.</p><p>I would argue that average consumer would greatly benefit if some one who knows and understands iptable routing of OpenWRT OS well enough to be able to write one reasonable guide with a clear steps setting up the routing.</p><p>I spend over a week reading the guides, felt like all of them available on the i-net... the once by openwrt.org, the off-site guides written by the people that set this up on their own... and it never worked quite right resulting in some frustrating time cursing and getting disappointed at the time waisted?! No, no it was an experience but a bit frustrating one.</p><p>Frustration came from the fact that I have a virtual PFsense instance running on the Esxi host at home doing everything I could possibly want/get out of the router. Downside is electrical bill and that&#039;s why using OpenWRT OS running on a small energy efficient dev sounded like a good idea.</p><p>Here what I wanted to do:</p><p>1. To have a mobile/remote client to connect via VPN coming in from the i-net, to WAN interface of OpenWRT in to internal LAN and<br />&nbsp; &nbsp; 1.1 Communicate with a local hosts in LAN;<br />&nbsp; &nbsp; 1.2 Be able to reach back out to the i-net so that it appears as of mobile/remote client&#039;s public IP is the one assigned to a cable modem at home.</p><p>2. All this using a &#039;tun&#039; set up and NOT a bridge iface &#039;tap&#039;;<br />3. All this on using the OpenWRT OS: OpenWrt Chaos Calmer 15.05 - r46767 / LuCI (git-15.248.30277-3836b45).</p><p>That&#039;s what PFsense are able to do with only one port open for incoming packets for OpenVPN instance.</p><p>After spending countless hours reading the guides and settings things up according to the official OpenWRT wiki, all I was able to do.... is to come-in from WAN and be re-routed back to WAN. This means that mobile dev/client by utilizing the secure tunnel, connects to the router at home, and appear to have a public IP of my home ISP.</p><p>That was awesome but did not last long. I wanted to also be able to route the VPN &#039;tun&#039; iface traffic in to a local LAN, and after reading 15+ guides and trying things... the initial routing broke and i never been able to replicate the set up that worked.</p><p>Now, I do anticipate the advise to read again, and try it. Trust me, I did not wanted anyone to waist their time reading this for nothing, and so I did attempts to this all of this before reaching out to the forum...</p><p>1. Re-set the OS to factory setting (OpenWRT that is) -&gt; Start from clean set up. =&gt; Did not worked.<br />2. Tried to follow to a teeth the guides from OpenWRT WITHOUT modding things to fit my LAN just to see if the original guides actually do work as the written. =&gt; Never worked!<br />3. Followed the 3rd party guide... it worked, sort off but the guy used tap bridging and placed OpenVPN clients pull-list in to the same subnet as the LAN and that was not something I was looking for.</p><p>Following the OpenWRT wiki I was able very quickly to get the secure VPN tunnel up and running and be bale to reach the router from WAN but once you are in... the internal routing with in OpenWRT OS, from 10.0.8.0/24 subnet in to WAN and LAN just simply NOT happening. ;(</p><p>I tortured OpenVPN server settings up and down, I re-confgured /etc/conf/firewall about million times with the zone forwarding approach (tun0 is iface of VPN zone) and writing &#039;config rule&#039; directives to firewall. =&gt; none of it worked. jsut none!</p><p>And yes! smile /etc/firewall.user iptables custom directive approach was one of the configurations I&#039;ve tried... with no success.</p><p>Now I am relevantly savvy with Linux in genera, at least enough to be able to set up PFSesnse on a virtual host, and a custom separate DNS server (bind9) on a Ubuntu instance... so on and so forth, but whats happening with in the OpenWRT OS a routing between subnets... I can&#039;t figure out sad</p><p>... and so that&#039;s why I am reaching out to the community. Guys, please help, there is got to be some one out there who have done it successfully and willing to share. And if not, maybe at least clarify if the set-up of the PFsense+OpenVPN I&#039;m trying to replicate with OpenWRT+OpenVPN is something that is not realistic by default?!</p><p>Thank you in advance for your time.</p><p>PS: OpenWRT OS team - your documentation absolutely horrible!!! But your project and work that you do on your spare time is awesome. Thank you for all the work you do and I do realize that you are not getting paid for any of it. You guys are the once who bring some level of home router security back to the average, less tech advanced consumers. And that&#039;s huge and important. Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297671">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">N0EL</div>
					<div class="post-datetime">
						27 Oct 2015, 23:07					</div>
				</div>
				<div class="post-content content">
					<p>Why double post?<br />( <a href="https://forum.openwrt.org/viewtopic.php?id=60551">https://forum.openwrt.org/viewtopic.php?id=60551</a> )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297676">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						27 Oct 2015, 23:18					</div>
				</div>
				<div class="post-content content">
					<p>Double the post because one in General Discussion in hope that some one who was more successful at setting OpenVPN on CC 15.05 than me and hopefully would share. <br />The second post is under &quot;Documentation&quot; forum in home that some one from OpenWRT project would take a look at the OpenWRT wiki to see the difficult experience users have attempting to follow the guide currently posted on wiki page. <br />Even some one familiar with Linux admin routines has a hell of a time getting this work <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <br />reading multiple guides post on openwrt.org site itself made it apparent that there is a key steps are missing in all of them in one way or other. <br />That makes people (me at least) wonder if the wiki page relevant to a current CC 15.05 release. It does not seem to be working config. If some one would be able to actually clarify it say definitely - This is for BB release and DOES NOT currently works on CC 15.05, people would not spend a lot of time replicating it to find out it does not work. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297678">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						27 Oct 2015, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>Did you try to simply copy the working openvpn config from your pfsense to openwrt? There is not much openwrt specific about setting up openvpn, apart from maybe the firewall integration but even that can be set up quickly with &quot;iptables -I FORWARD -i tun+ -j ACCEPT&quot; and &quot;iptables -I FORWARD -o tun+ -j ACCEPT&quot; in rc.local or firewall.user.</p><p>Edit: also since there usually is no bidirectional routing in place you need to masquerade the traffic leaving your vpn interface, this is the most important thing at all if you want to reach stuff beyound the openvpn server! &quot;iptables -t nat -I POSTROUTING -o tun+ -j MASQUERADE&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297680">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						27 Oct 2015, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>Thank you &quot;jow&quot; for your comment. <br />I love the question... and yes your right on target... here&#039;s what happened tho:</p><p>1. custom options in: /etc/firewall.user<br />&nbsp; &nbsp; &nbsp;Yes, I did include the options, in terms of forwarding. <br />&nbsp; &nbsp; &nbsp;The option &quot;iptables -t nat -I POSTROUTING -o tun+ -j MASQUERADE&quot; i did NOT try. </p><p>What you are suggesting makes sense ... theoretically ?! but after trying everything in the world, I&#039;m even more confused than ever before. So... if the custom iptables instructions are in place and laded when firewall starts, do I still need to have tun0 iface assigned to a vpn zone and write out the zone forwarding or that&#039;s not needed if iptables rules are in place? </p><p>There is so many variables and if one thing is not in place, vpn routing just does not work... right? </p><p>That&#039;s why I am desperately asking some one more experienced for a total sequence of configuration changes to OpenWRT OS (/etc/config/firewall; /etc/config/network) and OpenVPN daemon config (/etc/config/openvpn) </p><p>Four sleepless nights later lol&nbsp; aaaaa ... oi! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />))) I am so disappointed in myself lol for not been able to do this!</p><p>Now, I love your question about copying the config file from OpenVPN instance on PFsense.... - yes, I stuck my grubby&nbsp; little fingers in to the holly grail of PFsense (i think it based on CentosOS?!) <br />So, I ssh-ed in to it, looked around and this what i learned - the OpenVPN so deeply integrated in to PFsense in terms of administration and seamless GUI management, there is no simple saved config file for OpenVPN daemon. It appears to be dynamic and compiled every time when PFsense boots up. I did figure out how to integrate all the certificates and the keys in to client123.ovpn config file to &quot;feed&quot; it in to iTunes to pass it in to iOS OpenVPN Connect app.... that was useful and works... but the OpenVPN server config - nope, no dice. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>SoCal_sky</strong> on 27 Oct 2015, 23:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297682">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						28 Oct 2015, 00:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>SoCal_sky wrote:</cite><blockquote><p>What you are suggesting makes sense ... theoretically ?! but after trying everything in the world, I&#039;m even more confused than ever before. So... if the custom iptables instructions are in place and laded when firewall starts, do I still need to have tun0 iface assigned to a vpn zone and write out the zone forwarding or that&#039;s not needed if iptables rules are in place?</p></blockquote></div><p>Once you have those custom rules in place you do not need to do anything else regarding zones, forwardings etc.</p><div class="quotebox"><cite>SoCal_sky wrote:</cite><blockquote><p>There is so many variables and if one thing is not in place, vpn routing just does not work... right?</p></blockquote></div><p>Yes, more or less though one can usually differentiate the failure modes, for example when attmepting to ping via VPN into your lan the following things might happen:</p><p> * You get &quot;Destination Port Unreachable&quot; -&gt; this is an indication that traffic would flow but the default firewall policies are preventing it<br /> * You get nothing at all, ping &quot;hangs&quot; -&gt; this is an indication of improper routing, more specifically a missing return route. Usually you would solve that by setting up proper routing into both directions but often this is not feasible, for example in a road warrior scenario, in this case you can cure the problem by masquerading response traffic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297686">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						28 Oct 2015, 00:26					</div>
				</div>
				<div class="post-content content">
					<p>Yes Sir, <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> that&#039;s exactly what I did... i had a host in LAN pinging the client connected from WAN via VPN tunnel... here&#039;s what happening... <br />Once client is connected to a tunnel (done that by opening a port in WAN interface) tunnel gets established, OpenVPN Connect client is happy... everything is good... but... </p><p>The host connected via VPN can ping the router itself (routers IP is 192.168.0.1) the clients IP is 10.0.8.6.<br />I can start a browser on host machine connected via VPN and pull up the front GUI config of LuCI. That&#039;s it! I can&#039;t ping other hosts in LAN, and that&#039;s the case when get a time out... as of host I am pinging does not respond. <br />So the packets do reach from VPN in to the router on &#039;tun0&#039; interface, but replies never get routed properly back to &#039;tun0&#039; interface. </p><p>I can see traffic from VPNed clients in to the router but nothing get returned. </p><p>I told the WPS LED to blink green on incoming VPN traffic and blink yellow on outgoing VPN traffic. <br />And so.... it flashes green and does not flashes yellow! </p><p>If i pull the log in page of the router from the VPNed client... LED lids up blinking green/yellow just as expected. </p><p>That&#039;s what leads me to believe internal routing (ether by OepenWRT OS or by OpenVPN server) is not configured properly. And this is where I get stuck and can&#039;t figure out why traffic does not get&#039;s passed back to VPN. </p><p>Yes, <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> there is a list push &#039;route 192.168.0.0 255.255.255.0&#039; directive in openvpn config. </p><p>One of the million guides I read suggested that in CC 15.05, there should not be a &quot;list&quot; option and the directive should be just: push &quot;route .....&quot; </p><p>Is that right? is it not? should there be a single quotes &#039;&#039; or double &quot;&quot; ?! There is no consensus or clarity... just a mess in my head at this point. ;(</p><p>Now, I hear what you are saying about masquerading the return traffic.... but I don&#039;t think i know how to do this.. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>SoCal_sky</strong> on 28 Oct 2015, 00:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297714">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						28 Oct 2015, 09:56					</div>
				</div>
				<div class="post-content content">
					<p>You can masquerade with </p><div class="codebox"><pre><code>iptables -t nat -I POSTROUTING -o tun0 -j MASQUERADE </code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297832">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						29 Oct 2015, 12:11					</div>
				</div>
				<div class="post-content content">
					<p>Hello Mr. &quot;jow&quot;. <br />Thank you for your guidance. <br />I have added instructions you provided for iptables. I used /etc/firewall.user file. <br />Restarted the router, restarted ddns daemon, got IP updated. </p><p>The result: my iOS client comes through the firewall on the port I specified, get&#039;s forwarded to OpenVPN server;</p><p>OpenVPN server assigns the IP from 10.0.8.xx subnet address to the client;</p><p>From that point I can see incoming traffic (requests from the iOS) coming through to a tun0 interface, but in return - silence... nothing gets routed back to the VPN client. </p><p>If I pull the internal privet web interface of the router (192.168.0.1) using the remote host connect via vpn (in this case my phone with iOS Safari browser) I can log in to the routers WEB-GUI and when that takes place - I can see traffic flowing both ways just as expected.&nbsp; </p><p>Could I confirm with you one more time... </p><p>I have not done any config changes to the /etc/config/firewall and /etc/firewall.user other than:<br />1. opened one port on WAN to let the VPN client to connect to OpenVPN server <br />2. the custom instructions for the iptables:</p><p>iptables -I FORWARD -i tun+ -j ACCEPT<br />iptables -I FORWARD -o tun+ -j ACCEPT<br />iptables -t nat -I POSTROUTING -o tun+ -j MASQUERADE</p><br /><p>Was I supposed to do anything else? </p><p>According to this guide: <a href="http://wiki.openwrt.org/inbox/vpn.howto">http://wiki.openwrt.org/inbox/vpn.howto</a> there is more instructions should be added, and there is a hardcoded reference to the port used by the client to come-in through the WAN.&nbsp; <br />Those seem to be applicable to much older vertion of OpenWRT OS ( Backfire&quot; 10.03.1 ) and i&#039;m not sure if they are still applicable to the current CC 15.05. </p><p>Could you please advise and suggest what other config changes should I make to get this working. </p><p>Thank you Sir for you time.</p>											<p class="post-edited">(Last edited by <strong>SoCal_sky</strong> on 29 Oct 2015, 12:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298088">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						31 Oct 2015, 04:17					</div>
				</div>
				<div class="post-content content">
					<p>After looking in to this issue more and modifying ip tables instructions in /etc/firewall.user to:<br />Assuming: <br />tun0 - is an interface assigned to a OpenVPN instance;<br />eth0.1 - is an interface assigned to a LAN </p><br /><p>iptables -A INPUT -p tcp –dport 1194 -j ACCEPT<br />iptables -A INPUT -i tun+ -j ACCEPT<br />iptables -A FORWARD -i tun+ -j ACCEPT<br />iptables -A FORWARD -i tun0 -o eth0.1 -j ACCEPT<br />iptables -A FORWARD -i eth0.1 -o tun0 -j ACCEPT<br />iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0.1 -j MASQUERADE</p><p>... routing from tun0 to internal LAN still not working.</p><p>Kernel parameter for ipv4 forwarding is set to 1 to enable forwarding:</p><p>/etc/sysctl.conf:<br />net.ipv4.ip_forward = 1</p><p>Could anyone from OpenWRT project comment on this issue? </p><p>Is there something in CHAOS CALMER 15.05, r46767&nbsp; Kernel or iptables was modified in some way causing the routing not work?</p><p>If not, than how would a user of the OpenWRT OS can set up the routing between VPN tunnel and the LAN, and the WAN?</p>											<p class="post-edited">(Last edited by <strong>SoCal_sky</strong> on 4 Nov 2015, 12:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298613">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						4 Nov 2015, 13:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, could anyone please provide some help with this....<br />Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298652">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">epek</div>
					<div class="post-datetime">
						5 Nov 2015, 00:42					</div>
				</div>
				<div class="post-content content">
					<p>I have to admit, that I did not read all of your posts.<br />The combination pfSense (2.2.4) with OpenVPN on OpenWRT should work out fine. I&#039;ve been using such a setup for quite some time.<br />The trick is to let pfSense push most of the configuration to the client and not to use adaptive compression - it&#039;s faulty.<br />Then it&#039;ll work with Device Mode tun.<br />In case you are connecting over 3G/4G networks, you may suffer from missing pmtu support. You will need to set the tun-mtu accordingly (the real mtu will differ at both ends).</p><p>Basically, you&#039;ll need this on pfSense - as an example:<br />tun-mtu 1500;fragment 1280;mssfix;route 192.168.250.0 255.255.255.0;keepalive 15 45;push &quot;route 192.168.250.0 255.255.255.0&quot;;fast-io;</p><p>Where 192.168.250.0 is the routed network. Don&#039;t mix that up with the linknet (pfSense calls that &quot;IPv4 Tunnel Network&quot;).</p><p>On the OpenWRT router you should manually create a config in /etc/openvpn/<br />with the following content:<br />#-----------<br />remote [your pfsense gateway] 1194<br />fragment 1280<br />mssfix<br />tun-mtu 1500<br />dev tun0<br />dev-type tun<br />proto udp<br />client<br />tls-auth ta.key 1<br /># let pfSense create these certs/keys:<br /># and copy them over via ssh/scp<br />ca /etc/openvpn/yourca.crt<br />cert /etc/openvpn/your.crt<br />key /etc/openvpn/your.key<br />#<br />ns-cert-type server<br />verb 5<br />key-method 2<br />script-security 3<br />cipher AES-256-CBC<br /># if compression is faulty, this will help<br />comp-lzo<br />comp-noadapt<br />fast-io<br />#--------------<br />remember, that pfSense may also push (/override) values to (/o) the client.</p><p>You still have to reference that config in /etc/config/openvpn:<br />...<br />config openvpn custom_config</p><p>&nbsp; &nbsp; # Set to 1 to enable this instance:<br />&nbsp; &nbsp; option enabled 1</p><p>&nbsp; &nbsp; # Include OpenVPN configuration<br />&nbsp; &nbsp; option config /etc/openvpn/my-vpn.conf<br />...</p><p>Now there are only forwarding issues to be solved. As jow stated, you&#039;ll need to forward from your local network to the remote network. Just some insecure basic samples for a sample custom script.</p><p>iptables -A INPUT -i tun0 -j ACCEPT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />iptables -A OUTPUT -o tun0 -j ACCEPT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />#route vpn&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />iptables -A FORWARD -i bri0 -o tun0 -j ACCEPT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />iptables -A FORWARD -o bri0 -i tun0 -j ACCEPT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p><p># bri0 is your OpenWRT bridged lan interface in this example - you could also use vlans depending on how complex your setup should be. it may correlate to eth0.1 in your example.</p><p>echo &quot;1 &quot; &gt; /proc/sys/net/ipv4/ip_forward<br />#valid input <br />iptables -A INPUT -i lo -j ACCEPT<br /># route/nat back established connections<br /># accept answer packets for outgoing connections<br />iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT<br /># accept newly established connections, as long as they don&#039;t stem from your mobile broadband interface:<br />iptables -A INPUT -m state --state NEW -i !3g-WWAN -j ACCEPT</p><p>Since mobile broadband internet connections tend to be unstable, a custom reconnect/watchdog script may be necessary.<br />Such a script could be invoked by cron. It could, if necessary reset USB/modem or modem radio (At+cfun), call ifup, ifdown and restart the openvpn service or re-run the firewall script or do some ddns.</p><p>You will NOT need to forward/postroute/masquerade tunnel traffic over your tunnel interface. Instead you will use mere IP routing without any NAT for this. You may let your pfSense NAT outbound internet requests afterwards, if necessary.<br />Doing so may be an impact to the overall performance. Please consider to let OpenWRT NAT your outbound internet traffic - with the exception of your internally routed subnets. (e.g. 192.168.250.0/24 and it&#039;s equivalent on your pfSense network e.g. 10.0.80.0/24).</p><p>Also keep in mind, if you set the default route over the tunnel, that a host route for the tunnel remote endpoint exists.</p><p>Please try these first steps and let us know, what else you need.</p>											<p class="post-edited">(Last edited by <strong>epek</strong> on 5 Nov 2015, 01:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298770">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">SoCal_sky</div>
					<div class="post-datetime">
						6 Nov 2015, 00:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>epek wrote:</cite><blockquote><p>I have to admit, that I did not read all of your posts.<br />The combination pfSense (2.2.4) with OpenVPN on OpenWRT should work out fine. I&#039;ve been using such a setup for quite some time.</p></blockquote></div><p>Hello &quot;EPEK&quot;, while I do appreciate you taking your time to respond... unfortunately you missed the whole point of this topic and the reason I reached out to the community for help...</p><br /><p>I&#039;m NOT trying to get the VPN tunnel up between OpenWRT dev and PFSense Appliance.</p><br /><br /><p>This post is about getting the routing and the firewall rules set correctly, to allow:</p><p>1. OpenWRT router with OpenVPN server running in it... to allow a remote client (mobile cellular client AND any other remote client)&nbsp; to connect via VPN tunnel from WAN;</p><p>2. Once connection is made and VPN tunnel is established, allow traffic from remote client to be forwarded in to local LAN behind the OpenWRT router, facilitating communication between remote client and the hosts in a LAN;</p><p>3. Once connection is made and VPN tunnel is established, allow traffic from remote client to be forwarded in to external WAN, facilitating communication between remote client and the Internet through OpenWRT router. Only the traffic between remote client and the OpenWRT router is &quot;wrapped&quot; in to a VPN tunnel. </p><br /><br /><p>That&#039;s what this post is about, and NOT about establishing a tunnel between two routers. </p><br /><p>It sounds that you know your stuff, and if you could please please read what I am (and many many other users out there) is trying to configure... this would be such a huge and much appreciated help. </p><p>The only reason PFSense was mentioned in this post is because PFSennse router is doing the routing in exactly the same way as it described above. </p><br /><p>The gaol is to get OpenWRT+OpenVPN router OS (running on a low powered Netgear hardware) to do the same..... so that OpenWRT router could be used INSTEAD of PFSense </p><br /><p>Thank you for your time Sir.</p>											<p class="post-edited">(Last edited by <strong>SoCal_sky</strong> on 6 Nov 2015, 00:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298835">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">epek</div>
					<div class="post-datetime">
						6 Nov 2015, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>Hello SoCal_sky!</p><p>The answer and the example configs&nbsp; I gave you, are easily adapted for your use case, no matter if pfSense was involved or not.<br />Please always check your routing tables first, before looking at the firewall rules.</p><p>Regarding 1)<br />It doesn&#039;t really matter, if your are using pfSense or OpenWRT, since they both use OpenVPN.<br />For the set of available features of your OpenWRT binary see <br /></p><div class="codebox"><pre><code>openvpn --version
OpenVPN 2.3.6 mips-openwrt-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [MH] [IPv6] built on Jul 25 2015
library versions: OpenSSL 1.0.2d 9 Jul 2015, LZO 2.08
Originally developed by James Yonan
Copyright (C) 2002-2010 OpenVPN Technologies, Inc. &lt;sales@openvpn.net&gt;</code></pre></div><p>The INPUT for port 1194/TCP looks correct. You may want to fine tune it to use the appropriate interface using the -i parameter.</p><p>Regarding 2)<br />First look at the &quot;push routes&quot; part of the OpenVPN config examples, please.<br />What you want to do in step 2 does not require iptables forward chains, basically.<br />Check the routing tables and try to traceroute from your road warrior to the server and vice versa. <br />If that fails, try without forwarding rules (try policy allow in your test setup). Start to work on the firewall only if the routing is working in the first place.<br />Iptables shall only secure the router from invalid requests, it has no influence on routing itself, unless network address translation is used later on.</p><p>As step 2.1 now set up firewalling rules:<br />tun0/tunX is -as you assumed- the router tunnel interface with OpenVPN&#039;s tunnel endpoint address (from the road warrior&#039;s view).<br />a) Access to your OpenWRT+OpenVPN router from the clients. Create rules for the INPUT chain (e.g. port 53,80,443). Create an OUTPUT rule for RELATED and ESTABLISHED states, if the OUTPUT policy is not ACCEPT.<br />b) Create FORWARD chain rules for the &#039;advertised&#039; subnets. i.e. the pushed routes and the local networks. You still won&#039;t need any POSTROUTING, PREROUTING chains nor MASQUERADE, DNAT, SNAT targets at this point.<br />E.g. iptables -A FORWARD -i tun+ -o eth0.1 -j ACCEPT and vice versa may be sufficient. <br />c) You may want to create RELATED, ESTABLISHED state rules, so a forwarded connection backwards to the road warrior will work.<br />See my previous example config for this.</p><p>Regarding 3)<br />[cite]3. Once connection is made and VPN tunnel is established, allow traffic from remote client to be forwarded in to external WAN, facilitating communication between remote client and the Internet through OpenWRT router. Only the traffic between remote client and the OpenWRT router is &quot;wrapped&quot; in to a VPN tunnel. [/cite]</p><p>Step 2 faciliates, that only your internal subnets get routed through the OpenVPN tunnel.<br />Every route other than the more specific routes, that you pushed to the road warriors, will leave through their respective default gateway.<br />At this point there is still no NAT involved.</p><p>If you decide that your OpenVPN server should act as a &quot;default&quot; gateway for your road warriors (see OpenVPN howtos), too, you will need a static host route in your road warrior&#039;s routing table, so that the host in &quot;remote .... 1194&quot; is guaranteed to be accessible through their default gateway in any case. If the tunnel and routing are then up and seem to be working basically, you can then move on to creating masquerading (NAT) for them on the server.</p><p>You can always redirect certain destinations by pushing a route from the server to the clients.</p><p>Please keep in mind, that OpenWRT&#039;s standard firewall scripts and the GUI allow for a restriction of source and target network ranges when using NAT.</p><p>BTW: pfSense is based on FreeBSD, linux is not involved here.</p><p>Does that answer your questions?</p>											<p class="post-edited">(Last edited by <strong>epek</strong> on 9 Nov 2015, 02:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330197">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">kentavr55</div>
					<div class="post-datetime">
						30 Jun 2016, 14:56					</div>
				</div>
				<div class="post-content content">
					<p>I would like to join this forum with a similar recommendation.<br />First, I am fascinated by OpenWrt.<br />Second, I spent a whole week tuning openvpn and finally got it working, but....</p><p>Earlier I used Microsoft pp2p from my workplace to my home router on DD-wrt. Normally I established a connection over pp2p VPN and could access my home cameras (local LAN) and bypass the corporate restrictions (Internet access through my home router over VPN).</p><p>Recently my company hardened the rules and closed all the ports on the corporate proxy necessary for pp2p. So, I switched to OpenWrt Openvpn (tcp protocol, port 443). The idea is the same - have a VPN tunnel for surfing and home LAN access.</p><p>I could not find any consistent manual on network settings when my Openvpn is up. I can access my home router OpenWrt Luci interface from my workplace via openvpn, but I cannot access the hosts on my LAN. I can surf the Internet from work through my Openvpn channel to my home router but, strangely, some sites would not open (nor would they be pinged) which is confusing to me.</p><p>What shall I read for correct network settings on my router or using Luci Openvpn interface for these? (My Openvpn server-client and home router LAN are on different subnets).</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330208">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						30 Jun 2016, 17:50					</div>
				</div>
				<div class="post-content content">
					<p>SIMPLE ANSWER - Start with these links<br /><a href="https://wiki.openwrt.org/start?do=search&amp;id=openvpn">https://wiki.openwrt.org/start?do=search&amp;id=openvpn</a><br /><a href="https://community.openvpn.net/openvpn/wiki/BridgingAndRouting">https://community.openvpn.net/openvpn/w … AndRouting</a><br /><a href="http://www.frogiswrong.com/blog/articles/8/openvpn-on-openwrt-a-little-more-detail">http://www.frogiswrong.com/blog/article … ore-detail</a><br />I think the &quot;Streamlined&quot; link is the current best overall.</p><p>NOT SO SIMPLE - seeing you are new to the forum, JOW is a dev and his comments are probably the most accurate, however his suggestions for rules are not fully incorporated in any WIKI link I can find.&nbsp; There are probably another half dozen or so similar forum posts.&nbsp; Easiest way to find is to search the iptable string.&nbsp; Not the first time I have heard the issue with access to some web sites, and not others.&nbsp; Not sure there is a solution.&nbsp; </p><p>The WIKI articles are mostly server articles and you will see client configs NOT focused on OpenWRT clients.&nbsp; They also are a mix of UCI config and some Luci.&nbsp; Not all include the created config files (basically inconsistent and confusing). I think there are some issues with OpenWrt OpenVPN controls (enable disable in the service I find unreliable).&nbsp; Missing from the WIKI are articles with OpenWrt configs for the most popular services, but this is not relevant to you.&nbsp; &nbsp;Also, and I can not put my finger on it, OpenWrt&#039;s implementation of OpenVpn does not include all OpenVPN options.&nbsp; </p><p>It was not until recently I learned one can use an OPVN file and reference it in the OpenVpn config.&nbsp; Not tried this, though it seems like it should be easier to manage a mix of OpenWrt and other clients.&nbsp; </p><p>I run TAP (as opposed to TUN) and while I can get to the local resources, I usually have to access them by IP vs name or browse (Windows Clients).&nbsp; I tried, but not very hard, to get TUN working with the above additional rules.&nbsp; It&#039;s hard to get things tested as one needs to be outside the LAN to test.&nbsp; Having TAP running, my incentive is low.</p><p>If you want specific help you will need to post your configs, and may be better off starting a new thread.&nbsp; Include your HW, SW versions for anything relevant, and config files (openvpn - both, network, firewall and anything else relevant).&nbsp; Also probably should follow the WIKI and redirect your OpenVPN logs to a separate file that you can easily grab.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330245">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">kentavr55</div>
					<div class="post-datetime">
						1 Jul 2016, 08:04					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, RangerZ. It looks that I shall have to provide my config and seek somebody&#039;s help. My intention was to look into the things myself, but as far as I understand there is no simple and step-by-step guide into the most obvious configuration which is similar to that of Microsoft pp2p VPN (connect to the router from outside and pretend you are on the LAN behind the router...)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330246">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						1 Jul 2016, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>The fact that you are connected is half the battle.&nbsp; I encourage you to read the links and fail a few times.&nbsp; </p><p>If&nbsp; your goal is LAN access, consider TAP.&nbsp; Indeed, there is no reason why you can not have multiple servers running.&nbsp; I have both.&nbsp; TAP for my PC with LAN &amp; internet access.&nbsp; TUN for my iPhone for internet only access.&nbsp; If you are using the standard PC based client, you can choose which OPVN file you want to connect with.</p><p>OpenVPN is not simple IMHO.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330248">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">kentavr55</div>
					<div class="post-datetime">
						1 Jul 2016, 09:03					</div>
				</div>
				<div class="post-content content">
					<p>Shame on me!! It was so simple and I did it from the Luci firewall tab. I had my tun0 interface forward to wan only. I added lan - and voila! I have access both to internet and lan. The only problem remaining is not all internet sites available (some are pinged and some are not). Where shall I dig to?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330260">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						1 Jul 2016, 12:44					</div>
				</div>
				<div class="post-content content">
					<p>start with your local station routing table - maybe those sites are routed internally, then check you have a dns resolution correctly set up for those sites and lastly - check if you don&#039;t have a proxy intercepting your traffic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330265">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">kentavr55</div>
					<div class="post-datetime">
						1 Jul 2016, 13:58					</div>
				</div>
				<div class="post-content content">
					<p>local station settings</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.1&nbsp; &nbsp; &nbsp; &nbsp;10.0.18.12&nbsp; &nbsp; &nbsp;20<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 128.0.0.0&nbsp; &nbsp; &nbsp; 192.168.5.5&nbsp; &nbsp; &nbsp; 192.168.5.6&nbsp; &nbsp; &nbsp;30<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 255.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; &nbsp;21<br />&nbsp; &nbsp; &nbsp; &nbsp;10.0.0.100&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.1&nbsp; &nbsp; &nbsp; &nbsp;10.0.18.12&nbsp; &nbsp; &nbsp;20<br />&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.0&nbsp; &nbsp; 255.255.255.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; &nbsp;10.0.18.12&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; 10.0.18.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; 276<br />&nbsp; &nbsp;10.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; &nbsp; 127.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 255.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;127.0.0.1&nbsp; &nbsp; 306<br />&nbsp; &nbsp; &nbsp; &nbsp; 127.0.0.1&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;127.0.0.1&nbsp; &nbsp; 306<br />&nbsp; 127.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;127.0.0.1&nbsp; &nbsp; 306<br />&nbsp; &nbsp; &nbsp; &nbsp; 128.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 128.0.0.0&nbsp; &nbsp; &nbsp; 192.168.5.5&nbsp; &nbsp; &nbsp; 192.168.5.6&nbsp; &nbsp; &nbsp;30<br />&nbsp; &nbsp; &nbsp; 192.168.5.1&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; 192.168.5.5&nbsp; &nbsp; &nbsp; 192.168.5.6&nbsp; &nbsp; &nbsp;30<br />&nbsp; &nbsp; &nbsp; 192.168.5.4&nbsp; 255.255.255.252&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.5.6&nbsp; &nbsp; 286<br />&nbsp; &nbsp; &nbsp; 192.168.5.6&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.5.6&nbsp; &nbsp; 286<br />&nbsp; &nbsp; &nbsp; 192.168.5.7&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.5.6&nbsp; &nbsp; 286<br />&nbsp; &nbsp; &nbsp; 192.168.6.0&nbsp; &nbsp; 255.255.255.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.6.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; 192.168.6.1&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.6.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; 192.168.6.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.6.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; 192.168.179.0&nbsp; &nbsp; 255.255.255.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp;192.168.179.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; 192.168.179.1&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp;192.168.179.1&nbsp; &nbsp; 276<br />&nbsp; 192.168.179.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp;192.168.179.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; &nbsp; 224.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 240.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;127.0.0.1&nbsp; &nbsp; 306<br />&nbsp; &nbsp; &nbsp; &nbsp; 224.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 240.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.5.6&nbsp; &nbsp; 286<br />&nbsp; &nbsp; &nbsp; &nbsp; 224.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 240.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp;192.168.179.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; &nbsp; 224.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 240.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.6.1&nbsp; &nbsp; 276<br />&nbsp; &nbsp; &nbsp; &nbsp; 224.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 240.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; 276<br />&nbsp; 255.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;127.0.0.1&nbsp; &nbsp; 306<br />&nbsp; 255.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.5.6&nbsp; &nbsp; 286<br />&nbsp; 255.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp;192.168.179.1&nbsp; &nbsp; 276<br />&nbsp; 255.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp;192.168.6.1&nbsp; &nbsp; 276<br />&nbsp; 255.255.255.255&nbsp; 255.255.255.255&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On-link&nbsp; &nbsp; &nbsp; &nbsp; 10.0.18.12&nbsp; &nbsp; 276<br />===========================================================================</p><p>openvpn IP&nbsp; -&nbsp; 192.168.5.6<br />win 10 PC local IP -&nbsp; &nbsp; 10.0.18.12</p><p>Some sites IPs could not be pinged when openvpn is up. DNS is not involved...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>