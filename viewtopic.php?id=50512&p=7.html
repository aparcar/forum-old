<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> airmusic NW11 - AR9331/32M RAM/8M Flash/Audio Codec</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 28 Mar 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=50512&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50512&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=50512&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=50512&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=50512&amp;p=9.html">9</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p324751">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						19 May 2016, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>Thanks SebastianFM for all these inflammations !</p><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>You need to remove &#039;option disabled 1&#039; from lib/wifi/mac80211.sh.<br />Optionally, after flashing OpenWrt you can connect using serial cable and type in terminal:<br />uci delete wireless.@wifi-device[0].disabled<br />uci commit wireless<br />wifi</p></blockquote></div><p>Understood. May be it&#039;s better to enable it by default. But what happens when wifi is enabled ? Is there a default SSID generated ?</p><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>I already know that pepe2k created such driver. Furthermore I found other ALSA drivers for AR9331. <br />But none of them supports 24, 32 bit formats and rates up to 96 KHz.</p></blockquote></div><p>I&#039;m now really looking forward to test your version <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324762">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">kuku</div>
					<div class="post-datetime">
						19 May 2016, 14:52					</div>
				</div>
				<div class="post-content content">
					<p>as this device has no ethernet it would be good to include emergency access daemon <a href="https://wiki.openwrt.org/doc/howto/ead">https://wiki.openwrt.org/doc/howto/ead</a> in the default build-then it would be working similar as the original firmware-when network settings are screwed then it falls back to default. then you don&#039;t have to take it apart to connect the serial cable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324783">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">SebastianFM</div>
					<div class="post-datetime">
						19 May 2016, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>I forgot about something. I added block mount to my firmware to extend storage space. So all the changes in fs are stored on USB flash drive and can be restored easily.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324791">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						19 May 2016, 17:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kuku wrote:</cite><blockquote><p>as this device has no ethernet it would be good to include emergency access daemon <a href="https://wiki.openwrt.org/doc/howto/ead">https://wiki.openwrt.org/doc/howto/ead</a> in the default build-then it would be working similar as the original firmware-when network settings are screwed then it falls back to default. then you don&#039;t have to take it apart to connect the serial cable.</p></blockquote></div><p>Great, kuku, thanks.<br />SebastianFM it can be a good solution to avoid to use a serial cable, isn&#039;t it ?</p><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>I forgot about something. I added block mount to my firmware to extend storage space. So all the changes in fs are stored on USB flash drive and can be restored easily.</p></blockquote></div><p>It allow to install packages on the USB key with opkg ?<br />It seems great.</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 19 May 2016, 17:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324849">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">SebastianFM</div>
					<div class="post-datetime">
						19 May 2016, 22:40					</div>
				</div>
				<div class="post-content content">
					<p>Did you read EAD howto? It allows to run commands on device connected over ethernet. So not useful in case of wrong Wi-Fi settings.</p><p>schmurtz, if you want to test OpenWrt on your device you will need to use ImageBuilder, command: make image PROFILE=TLWR703 PACKAGES=&quot;block-mount kmod-usb-storage kmod-scsi-core kmod-crypto-hash kmod-lib-crc16 kmod-fs-ext4 liblua libuci-lua rpcd luci-lib-ip libiwinfo libiwinfo-lua luci-theme-bootstrap luci-app-firewall lua luci-proto-ppp libubus-lua luci-mod-admin-full luci-lib-nixio luci-base luci-proto-ipv6 uhttpd luci uhttpd-mod-ubus&quot;. It will create default firmware with added block mount and USB storage support. ImageBuilder allows you to add/replace files, so by adding to command FILES=... you can replace lib/wifi/mac80211.sh.<br />When you&#039;ll have firmware with added block mount and enabled Wi-Fi:<br />1. Backup all device&#039;s partitions.<br />2. Flash new firmware.<br />3. Connect to it, SSID: OpenWrt.<br />4. Open device&#039;s configuration page.<br />5. Enable and configure block mount. You&#039;ll find there instructions how to prepare storage.<br />6. Reboot device.<br />Please ensure that block mount is enabled before you&#039;ll start to modifying device&#039;s configuration or fs.</p>											<p class="post-edited">(Last edited by <strong>SebastianFM</strong> on 19 May 2016, 22:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324964">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						20 May 2016, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi, yesterday I&#039;ve tried 3 things... and it was 3 fails <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /><br /></p><ul><li><p>I&#039;ve soldered an ethernet port. Pretty easy with the help of the <a href="https://forum.openwrt.org/viewtopic.php?pid=280450#p280450">post from ircama</a>. I tried with the firmware&nbsp; IB-MP401 (which contains a visible interface ethernet whith &quot;ifconfig&quot;) and with 1.0.08-A32(A.01) but my ethernet never works <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> </p></li><li><p>As <a href="https://forum.openwrt.org/viewtopic.php?pid=279979#p279979">I read that</a> some firmware &quot;are also offering the Linux ALSA driver&quot; I tried the squeezelite bin file on different firmwares without success : I always have the same message : &quot;can&#039;t load library &#039;libasound.so.2&#039;&quot; .&nbsp; If someone know which firmware offer ALSA driver I&#039;m interested ! </p></li><li><p>I tried to compile a new firmware with SebastianFM&#039;s command line : failed. I think that my old ubuntu 12 32 bits is too old to compile a new openwrt firmware.</p></li></ul><p>To conclude : I will install a new ubuntu to compile a new OpenWRT firmware, I will try my ethernet port again with this new firmware (can be useful to debug if I make error on my wifi configuration and it may be interesting to have better connection for streaming synchronization).</p><p>By the way :<br /></p><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>1. Backup all device&#039;s partitions.</p></blockquote></div><p> <br />In two word what is the right way to do that ? <a href="https://forum.openwrt.org/viewtopic.php?pid=175111#p175111">This way</a> ?&nbsp; <a href="https://wiki.openwrt.org/doc/howto/generic.backup">Or this way</a> ? Sorry for this question, I&#039;m a real beginner to backup OpenWRT firmware... I&#039;m able to backup and flash the Winbond memory with USBASP but I have to remove the chip first..not very easy <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 20 May 2016, 16:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325060">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						21 May 2016, 03:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>schmurtz, if you want to test OpenWrt on your device you will need to use ImageBuilder, command: make image.... It will create default firmware with added block mount and USB storage support. ImageBuilder allows you to add/replace files, so by adding to command FILES=... you can replace lib/wifi/mac80211.sh.<br />When you&#039;ll have firmware with added block mount and enabled Wi-Fi:</p></blockquote></div><p>OK I&#039;ve done it. I used ImageBuilder from this url : <a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/">https://downloads.openwrt.org/chaos_cal … x/generic/</a><br />My firmware is named : &quot;openwrt-15.05.1-ar71xx-generic-root.squashfs&quot;. The file size is 2.8 MB instead of 8.1 MB for original firmware. This difference of file size is normal ?<br /></p><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>1. Backup all device&#039;s partitions.</p></blockquote></div><p>I&#039;ve got <span style="color: green">boot.backup</span> and <span style="color: green">art, firmware, kernel, rootfs, rootfs_data, u-boot</span> on my hard drive. Is it OK ?<br /></p><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>2. Flash new firmware.</p></blockquote></div><p>I have to use USB key with $$update$$ file to do that or a command line MTD ?</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 21 May 2016, 04:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325085">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">SebastianFM</div>
					<div class="post-datetime">
						21 May 2016, 08:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>schmurtz wrote:</cite><blockquote><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>schmurtz, if you want to test OpenWrt on your device you will need to use ImageBuilder, command: make image.... It will create default firmware with added block mount and USB storage support. ImageBuilder allows you to add/replace files, so by adding to command FILES=... you can replace lib/wifi/mac80211.sh.<br />When you&#039;ll have firmware with added block mount and enabled Wi-Fi:</p></blockquote></div><p>OK I&#039;ve done it. I used ImageBuilder from this url : <a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/">https://downloads.openwrt.org/chaos_cal … x/generic/</a><br />My firmware is named : &quot;openwrt-15.05.1-ar71xx-generic-root.squashfs&quot;. The file size is 2.8 MB instead of 8.1 MB for original firmware. This difference of file size is normal ?</p></blockquote></div><p>The final firmare file built by IB is openwrt-15.05.1-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin.</p><div class="quotebox"><cite>schmurtz wrote:</cite><blockquote><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>1. Backup all device&#039;s partitions.</p></blockquote></div><p>I&#039;ve got <span style="color: green">boot.backup</span> and <span style="color: green">art, firmware, kernel, rootfs, rootfs_data, u-boot</span> on my hard drive. Is it OK ?</p></blockquote></div><p>Yep.</p><div class="quotebox"><cite>schmurtz wrote:</cite><blockquote><div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>2. Flash new firmware.</p></blockquote></div><p>I have to use USB key with $$update$$ file to do that or a command line MTD ?</p><p>Thanks.</p></blockquote></div><p>You&#039;ll need to flash it manually.<br />mtd -r write openwrt-15.05.1-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin firmware</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325149">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						21 May 2016, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />The bin file is not generated, I&#039;ve got this message : <br /></p><div class="codebox"><pre><code>[mktplinkfw] kernel length aligned to 1176540
[mktplinkfw] *** error: images are too big</code></pre></div><p>There is probably too much packages. If I remove some packages it&#039;s OK.<br />Which one you recommand to remove ?</p><p>Edit : no, finally I think this is because TLWR703 has 4MB of flash memory and not 8MB as the M2. At that time I don&#039;t find how to customize this size...</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 22 May 2016, 02:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325347">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						22 May 2016, 22:38					</div>
				</div>
				<div class="post-content content">
					<p>At that time I&#039;m trying to modify TLWR703&#039;s profile to increase the firmware size up to 8MB.<br />I read <a href="https://forum.openwrt.org/viewtopic.php?id=43585">this topic</a> but I&#039;m not really sure that it is the right way to do that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325359">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">f.d.roscamabbing</div>
					<div class="post-datetime">
						22 May 2016, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, I am following this topic with much interest. In particular installing a new OpenWrt image onto the device.<br />Being quite new into OpenWrt development, I am looking into the Image Generator now.</p><p>BTW, FYI: I have a Soundmate M1 and I&#039;m running version 1.0.02. I tried 1.1.01, it booted and I could get to the web interface and telnet when connected directly to it, but it would not connect to my home WiFi. Even with manual configuration of the /etc/config/network and /etc/config/wireless files. So I reverted back to 1.0.02 (I did not try other versions as I could not find these at the time).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325367">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">kuku</div>
					<div class="post-datetime">
						22 May 2016, 23:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>schmurtz wrote:</cite><blockquote><p>At that time I&#039;m trying to modify TLWR703&#039;s profile to increase the firmware size up to 8MB.<br />I read <a href="https://forum.openwrt.org/viewtopic.php?id=43585">this topic</a> but I&#039;m not really sure that it is the right way to do that.</p></blockquote></div><p>Found different way to make the image - just disable ppp and ppp-mod-pppoe and then it&nbsp; makes the image<br /></p><div class="codebox"><pre><code>make image PROFILE=TLWR703 PACKAGES=&quot;-ppp -ppp-mod-pppoe block-mount kmod-usb-storage kmod-scsi-core kmod-crypto-hash kmod-lib-crc16 kmod-fs-ext4 liblua libuci-lua rpcd luci-lib-ip libiwinfo libiwinfo-lua luci-theme-bootstrap luci-app-firewall lua luci-proto-ppp libubus-lua luci-mod-admin-full luci-lib-nixio luci-base luci-proto-ipv6 uhttpd luci uhttpd-mod-ubus&quot; FILES=&quot;files&quot;</code></pre></div><p>or add this and make image for target TLWR703-8M:<br /></p><div class="codebox"><pre><code>vi target/linux/ar71xx/image/Makefile


line 463

define Device/tl-wr703n-v1
    $(Device/tplink-8mlzma)
    BOARDNAME := TL-WR703N
    DEVICE_PROFILE := TLWR703-8M
    TPLINK_HWID := 0x07030101
    CONSOLE := ttyATH0,115200
endef

vi target/linux/ar71xx/generic/profiles/tp-link.mk 

line 128

define Profile/TLWR703-8M
    NAME:=TP-LINK TL-WR703N
    PACKAGES:=kmod-usb-core kmod-usb2
endef


define Profile/TLWR703-8M/Description
    Package set optimized for the TP-LINK TL-WR703N.
endef
$(eval $(call Profile,TLWR703-8M))</code></pre></div>											<p class="post-edited">(Last edited by <strong>kuku</strong> on 23 May 2016, 00:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325382">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">kuku</div>
					<div class="post-datetime">
						23 May 2016, 00:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>f.d.roscamabbing wrote:</cite><blockquote><p>BTW, FYI: I have a Soundmate M1 and I&#039;m running version 1.0.02. I tried 1.1.01, it booted and I could get to the web interface and telnet when connected directly to it, but it would not connect to my home WiFi. Even with manual configuration of the /etc/config/network and /etc/config/wireless files. So I reverted back to 1.0.02 (I did not try other versions as I could not find these at the time).</p></blockquote></div><p>Why can&#039;t you connect to the network ?<br />Maybe try different browser - my firefox doesn&#039;t display the password dialog on computer and on android - I have to put the password in android default browser - then it works</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325390">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						23 May 2016, 02:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kuku wrote:</cite><blockquote><div class="quotebox"><cite>schmurtz wrote:</cite><blockquote><p>At that time I&#039;m trying to modify TLWR703&#039;s profile to increase the firmware size up to 8MB.<br />I read <a href="https://forum.openwrt.org/viewtopic.php?id=43585">this topic</a> but I&#039;m not really sure that it is the right way to do that.</p></blockquote></div><p>Found different way to make the image - just disable ppp and ppp-mod-pppoe and then it&nbsp; makes the image<br /></p><div class="codebox"><pre><code>make image PROFILE=TLWR703 PACKAGES=&quot;-ppp -ppp-mod-pppoe block-mount kmod-usb-storage kmod-scsi-core kmod-crypto-hash kmod-lib-crc16 kmod-fs-ext4 liblua libuci-lua rpcd luci-lib-ip libiwinfo libiwinfo-lua luci-theme-bootstrap luci-app-firewall lua luci-proto-ppp libubus-lua luci-mod-admin-full luci-lib-nixio luci-base luci-proto-ipv6 uhttpd luci uhttpd-mod-ubus&quot; FILES=&quot;files&quot;</code></pre></div><p>or add this and make image for target TLWR703-8M:<br /></p><div class="codebox"><pre><code>vi target/linux/ar71xx/image/Makefile
...</code></pre></div></blockquote></div><br /><p>Thank you for that, I have already flashed my device and I don&#039;t have any wifi SSID network anymore <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> <br />I&#039;m waiting for my serial cable now...</p><p>I had already modified &quot;target/linux/ar71xx/image/Makefile&quot; when I read your post. I think that I&#039;ve done is pretty similar : (I&#039;ve only replace tplink-4mlzma&nbsp; by tplink-8mlzma)<br /></p><div class="codebox"><pre><code>define Device/tl-wr703n-v1
    $(Device/tplink-8mlzma)
    BOARDNAME := TL-WR703N
    DEVICE_PROFILE := TLWR703
    TPLINK_HWID := 0x07030101
    CONSOLE := ttyATH0,115200
endef</code></pre></div><br /><p>I don&#039;t specify &quot;FILES=&quot;files&quot; at the end of my command line because I read that this folder is included automatically if it is present... But may be I&#039;m wrong.</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 23 May 2016, 02:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325466">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						23 May 2016, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>OK, I used an arduino without chip as FTDI and I enable again the wifi. So it&#039;s working now. Thanks again SebastianFM.</p><p>2 questions :<br /></p><ul><li><p><span style="color: green">Edit : OK, block-mount is configured <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></span><br /><span style="color: gray">I&#039;m gonna configure block-mount now. Which tutorial do you recommand ? <br />You said &quot;You&#039;ll find there instructions how to prepare storage.&quot; , is there a missing url link ?</span></p></li><li><p>When I want to revert back changes to FS, I have just to unplug the USB key to get back on the non modified Openwrt firmware ?</p></li><li><p>I don&#039;t make any sound test at that time but I suppose that I have to include your driver before earing any sound ? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></li></ul><p>So I&#039;m waiting for informations about SebastianFM&#039;s driver <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 23 May 2016, 19:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325542">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">SebastianFM</div>
					<div class="post-datetime">
						23 May 2016, 22:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>schmurtz wrote:</cite><blockquote><p>OK, I used an arduino without chip as FTDI and I enable again the wifi. So it&#039;s working now. Thanks again SebastianFM.</p><p>2 questions :<br /></p><ul><li><p><span style="color: green">Edit : OK, block-mount is configured <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></span><br /><span style="color: gray">I&#039;m gonna configure block-mount now. Which tutorial do you recommand ? <br />You said &quot;You&#039;ll find there instructions how to prepare storage.&quot; , is there a missing url link ?</span></p></li><li><p>When I want to revert back changes to FS, I have just to unplug the USB key to get back on the non modified Openwrt firmware ?</p></li><li><p>I don&#039;t make any sound test at that time but I suppose that I have to include your driver before earing any sound ? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></li></ul><p>So I&#039;m waiting for informations about SebastianFM&#039;s driver <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thanks.</p></blockquote></div><p>After enabling block mount all the changes in FS are stored on the USB flash drive so to revert them you must just copy once again unmodified files from rootfs to USB flash drive.<br />I need your e-mail address. I&#039;ll send you compiled kernel modules for OpenWrt 15.05.1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325543">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">f.d.roscamabbing</div>
					<div class="post-datetime">
						23 May 2016, 22:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kuku wrote:</cite><blockquote><p>Why can&#039;t you connect to the network ?<br />...</p></blockquote></div><p>A different browser may work (tried Firefox and Edge), but even with the configuration manually modified using Telnet it didn&#039;t work. Anyway, I&#039;m not so interested in getting this version to work, much more in getting a new OpenWrt to work.</p><p>I looked into the details of my device. For audio it uses a module called &quot;ar7240_i2s&quot; (like all others probably). This is not standard in the OpenWrt tree, but I do find the aforementioned Domino.Io module, based on the same SoC, uses a module by this name. It seems tailored to the Wolfson WM8978 DAC, not the WM8918 DAC. They do not seem 100% compatible, although the code could be a base for a WM8918 tailored driver.</p><p>Source can be found here: <a href="https://github.com/domino-team/domino-firmware/tree/master/domino-pi">https://github.com/domino-team/domino-f … /domino-pi</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325546">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						23 May 2016, 23:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>SebastianFM wrote:</cite><blockquote><p>I need your e-mail address. I&#039;ll send you compiled kernel modules for OpenWrt 15.05.1.</p></blockquote></div><p>Here&#039;s my mail</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 24 May 2016, 10:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326351">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						29 May 2016, 05:33					</div>
				</div>
				<div class="post-content content">
					<p>Hello, <br />I&#039;ve got squeezelite that working fine on my spdif output. That&#039;s really great ! Gapless and responsive <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Now I want to use it with a little portable speaker so the jack output is useful for me&nbsp; sometime. For the jack analogic output, SebastianFM, does it require to install a generic driver or a new version of your driver ? </p><br /><p>I also try to have a good UPNP audio renderer so I read (and try) a lot of things about that. <span style="color: green">(Resolved, see edit below)</span> Gmediarender&nbsp; is not easy to make it works and seems to require a lot of dependence packages. So I think that upmpdcli is probably the best way to make it work.&nbsp; I have the following packages : upmpdcli and mpd-mini. <br />The 2 daemons seem to be OK :<br /></p><div class="codebox"><pre><code> 1285 root     18716 S &lt;  /usr/bin/mpd --no-daemon /etc/mpd.conf
 1333 upmpdcli 20556 S    /usr/bin/upmpdcli -i br-lan</code></pre></div><p>But I can&#039;t see any new upnp renderer on my network.... Does it need another package ? Or may be I have to modify the command line to make it work correctly ?</p><p><span style="color: green">edit</span> : I tried an mpd client and it&#039;s working. So the problem comes from upmpdcli, I don&#039;t know why it doesn&#039;t expose an new rednderer on my network...<br /><span style="color: green">edit2</span> : Finally everything is working correctly&nbsp; : it was a problem from my network <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /><br />If my M2 and my upnp controller are on the same wifi AP I can&#039;t see upmpdcli &#039;s renderer but it&#039;s OK if I connect my upnp controller (with my iPhone and Allcast for example).</p>											<p class="post-edited">(Last edited by <strong>schmurtz</strong> on 29 May 2016, 14:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326690">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">f.d.roscamabbing</div>
					<div class="post-datetime">
						1 Jun 2016, 10:41					</div>
				</div>
				<div class="post-content content">
					<p>@schmurz<br />This means you have got audio working isn&#039;t it? How did you do this? Or did SebastianFM make a driver for that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326706">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">SebastianFM</div>
					<div class="post-datetime">
						1 Jun 2016, 13:02					</div>
				</div>
				<div class="post-content content">
					<p>Currently my driver supports only S/PDIF output but I decided that I&#039;ll try to add support for analog output. I&#039;ll release kernel modules and source code when it will be finished. If you want to test it just send me e-mail.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326712">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						1 Jun 2016, 13:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>f.d.roscamabbing wrote:</cite><blockquote><p>@schmurz<br />This means you have got audio working isn&#039;t it? How did you do this? Or did SebastianFM make a driver for that?</p></blockquote></div><p>Yes, it working on S/PDIF output only. But it&#039;s working fine <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I look forward the analog ouput because I want to use it easily as a portable squeezebox too and may be I will buy a second one to transform my old speaker into squeezebox player too <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>All I have made is following SebastianFM&#039;s explanations about firmware building (see previous posts) and include his drivers inside.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327448">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">f.d.roscamabbing</div>
					<div class="post-datetime">
						6 Jun 2016, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d be interested to test it once it works. I cannot see your email address in your profie, so could you send me a mail? Address is my username @gmail.com.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329697">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">schmurtz</div>
					<div class="post-datetime">
						24 Jun 2016, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m working with my airmusic and SebastianFM&#039;s driver since few weeks now. It seems to be a very stable driver.<br />I&#039;m only working with optical output I&#039;m still waiting for a new version from SebastianFM wich will support analog-jack output. SebastianFM, if you read this... <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><br /><p><strong>Some news and some questions :</strong><br /></p><ul><li><p><strong>1 -</strong> Upmpdcli is really a good stuff, thanks for that discover !<br />I asked for an update of Upmpdcli, that&#039;s done on the trunk version of OpenWRT with the last version of UPNPDCLI (1.1.3) and libupnpp (0.14.1). You can have all the new functionalities including webradios. Webradios needs python which take a lot of space, you&#039;ll need block-mount if you really want to use this functionality. I tried SebastianFM driver on the dev branch (trunk) of OpenWRT but it is not compatible with kernel 4.1.23. So it was a little complicated but I&#039;ve copied updated files for upnpdcli and libupnp from the trunk version and imported them in the current stable version of OpenWRT image builder and it seems OK. I think that this new version is little less stable than the old one.</p><br /></li><li><p><strong>2 -</strong> I ask <a href="https://forum.openwrt.org/viewtopic.php?id=65393">on the forum </a>the creation of a new package for <a href="https://www.lesbonscomptes.com/upmpdcli/sc2mpd.html">sc2mpd</a>.<br />This application is made by the same developper then upmpdcli. This can very very interesting because &quot;the Linn Songcast protocol distributes an audio stream on a local network so that multiple hosts (Receivers) can play quasi-synchronously from a single source ( Sender).&quot; It means you can send the sound from your computer without any lag... I&#039;m not able to make this package and I don&#039;t have any answer from the community :&#039;( .I&#039;m sure it will interest someone in the near futur <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> <a href="https://github.com/medoc92/sc2mpd">Sources are here</a>, if someone is able to transform it into an OpenWRT package I&#039;m very interested to try it !</p><br /></li><li><p><strong>3 -</strong> I&#039;m trying to use the reset button to launch a script. What I want is a wifi toggle to launch the default Wifi Access Point because for now if your wifi config is bad the only way to modify it is the serial port... not very handy.. I have took a look to the old implementation on the original firmware (I think it is hotplug2 daemon : Folder -&gt; etc\hotplug.d\button\50-restorefactory), I also follow <a href="https://wiki.openwrt.org/doc/howto/hardware.button">this guide</a> about procd and tried to copy 50-restorefactory&nbsp; into /etc/rc.button/&nbsp; but without success. I think that I&#039;m missing something but I don&#039;t know what. If someone have an idea or is able to make it work I&#039;m also interested <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>I also remark that if you press reset button during boot uboot tries to boot on something that not exists (including with the original firmware), it try to boot image at 9fc10000 instead Booting image at 9f020000<br /><span style="color: gray">## Booting image at 9fc10000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... Stream with EOS marker is not supportedLZMA ERROR 1 - must RESET board to recover<br />cccccccccccccccccc<br />Failed to execute bootcmd and switch_boot_mode, starting httpd to update firmware...<br /></span>May be it can be a way to reset wifi configuration (boot on a little image which launch a reset wifi configuration script) ?</p><br /></li><li><p><strong>4 - </strong> I also tried to add an ethernet port on the motherboard. it seems easy if you take a look on the datasheet but may be it is necessary to add some components like HSC1616 to make it work, <a href="http://www.music802.com/wp-content/uploads/2015/11/Music802.pdf"> Look here.</a></p></li></ul><br /><br /><p>I&#039;ll continue to work on it, keep you informed. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329716">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">trumee</div>
					<div class="post-datetime">
						25 Jun 2016, 01:24					</div>
				</div>
				<div class="post-content content">
					<p>Is <a href="http://www.aliexpress.com/item/Wireless-Wifi-Audio-Receiver-music-streaming-receiver-Supports-iOS-Android-Airmusic-DLNA-AirPlay-Qplay-Music-Radio/1993464174.html?spm=2114.01010208.3.11.3W0RNq&amp;ws_ab_test=searchweb201556_7,searchweb201602_2_10037_10017_404_507_9986_10032_10040,searchweb201603_1&amp;btsid=960c4ba1-8297-4696-b81e-1df3cf07a5cc">this</a> the same device and openwrt supported?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 7 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=50512&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50512&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=50512&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=50512&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=50512&amp;p=9.html">9</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>