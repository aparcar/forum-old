<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> UBNT RS Pro Overclock to 800MHz</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Apr 2018 and 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=26870&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p118706">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">yeow</div>
					<div class="post-datetime">
						8 Oct 2010, 11:28					</div>
				</div>
				<div class="post-content content">
					<p>Anyone knows how to overclock the RS Pro to 800MHz?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118707">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						8 Oct 2010, 11:39					</div>
				</div>
				<div class="post-content content">
					<p>Find proper offset and enetr proper value into bootloader.</p><p><a href="http://svn.dd-wrt.com:8000/dd-wrt/browser/src/router/services/tools/overclock_routerstation.c">http://svn.dd-wrt.com:8000/dd-wrt/brows … rstation.c</a></p><p>Offset: 0xd3 or 0x3f (depends on bootloader version), value: 0xf or 0x1f</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120560">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						7 Nov 2010, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys<br />I have bougth a rs pro, it clocked at 720Mhz by default.</p><p>Now i wanna overclock at 800Mhz. How is possibible know a revision of redbot for correct ofset?</p><br /><p>*I have opened this <a href="https://dev.openwrt.org/ticket/7938">request</a><br />The similar file for fonera (It use RedBoot as bootloader and architecture is AR2315&nbsp; ) was modified for to use with open wrt...</p><p>Is possible &quot;convert&quot; <a href="http://svn.dd-wrt.com:8000/dd-wrt/browser/src/router/services/tools/overclock_routerstation.c">overclock_routerstation.c</a> for openwrt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120561">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						7 Nov 2010, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>Set it in the bootloader...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121878">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						24 Nov 2010, 17:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obsy wrote:</cite><blockquote><p>Find proper offset and enetr proper value into bootloader.</p><p><a href="http://svn.dd-wrt.com:8000/dd-wrt/browser/src/router/services/tools/overclock_routerstation.c">http://svn.dd-wrt.com:8000/dd-wrt/brows … rstation.c</a></p><p>Offset: 0xd3 or 0x3f (depends on bootloader version), value: 0xf or 0x1f</p></blockquote></div><p>Hi,</p><p>How i&nbsp; can read version of redbot?</p><p>How set new hex value in it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123257">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Jonman409</div>
					<div class="post-datetime">
						15 Dec 2010, 02:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dk_giuse89 wrote:</cite><blockquote><p>Hi guys<br />I have bougth a rs pro, it clocked at 720Mhz by default.</p><p>Now i wanna overclock at 800Mhz. How is possibible know a revision of redbot for correct ofset?</p><br /><p>*I have opened this <a href="https://dev.openwrt.org/ticket/7938">request</a><br />The similar file for fonera (It use RedBoot as bootloader and architecture is AR2315&nbsp; ) was modified for to use with open wrt...</p><p>Is possible &quot;convert&quot; <a href="http://svn.dd-wrt.com:8000/dd-wrt/browser/src/router/services/tools/overclock_routerstation.c">overclock_routerstation.c</a> for openwrt?</p></blockquote></div><p>I rebuild the application without nvram and have tested it with a Meraki mini as well as an EnGenius ECB3500. I&#039;ve only tested it @200mhz and reverting to stock. I&#039;ll look into submitting it as a package. Once I get a new RS I was going to build the appropriate one for that as well. </p><br /><p>cat /proc/cpuinfo<br />system type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Atheros AR2315<br />processor&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: MIPS 4KEc V6.4<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 199.47<br />wait instruction&nbsp; &nbsp; &nbsp; &nbsp; : yes<br />microsecond timers&nbsp; &nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 16<br />extra interrupt vector&nbsp; : yes<br />hardware watchpoint&nbsp; &nbsp; &nbsp;: no<br />ASEs implemented&nbsp; &nbsp; &nbsp; &nbsp; :<br />shadow register sets&nbsp; &nbsp; : 1<br />core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 0<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125952">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">levi</div>
					<div class="post-datetime">
						19 Jan 2011, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi, any news with topic? <br />I am also interested in this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126070">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						20 Jan 2011, 23:18					</div>
				</div>
				<div class="post-content content">
					<p>..Nothing, <br />Under dd-wrt there is &quot;overclocked-service&quot;, while there isn&#039;t&nbsp; similar package for open -wrt / Deb-wrt,</p><p>&quot;Jonman409&quot; has adapt a C code developed for dd-wrt for use under openwrt, but this is only for Ar2315, such as fonera. If you read this replay, you can send me your compilated code?</p><p>For router stations need to identify one&#039;s bootloader version for re-write hex value, as reported by&nbsp; &quot;obsy&quot;.</p><p>How do it? I don&#039;t now?? </p><p>If anyone has done it, you can write a wiki? or how to??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126115">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">levi</div>
					<div class="post-datetime">
						21 Jan 2011, 12:09					</div>
				</div>
				<div class="post-content content">
					<p>Too bad :-( Hope someone will make the magic happen!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132549">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						9 Apr 2011, 00:58					</div>
				</div>
				<div class="post-content content">
					<p>hi </p><p>from rs232:</p><p>1) FIRST: my redboot version<br /></p><div class="codebox"><pre><code>RedBoot(tm) bootstrap and debug environment [ROMRAM]
Ubiquiti Networks certified release, version 0.9.00318M.0905121200 - built 12:01:38, May 12 2009

Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.

Board: Ubiquiti RouterStation PRO
 Arch: ar7100pro
  RAM: 0x80000000-0x88000000, [0x8003bf00-0x87fe1000] available
Flash: 0xbf000000-0xc0000000, in 256 blocks of 0x00010000 bytes each</code></pre></div><p>2) SECOND: default values:<br /></p><div class="codebox"><pre><code>RedBoot&gt; freq
                        CPU ID          00AA

[DDR Registers]
            AR7100_DDR_CONFIG1    0x72284668
            AR7100_DDR_CONFIG2    0x8102B2A8
               AR7100_DDR_MODE    0x00000033
           AR7100_DDR_EXT_MODE    0x00000002
            AR7100_DDR_REFRESH    0x0000461B
 AR7100_DDR_RD_DATA_THIS_CYCLE    0x000000FF
      AR7100_DDR_TAP_CONTROL_0    0x00000007
      AR7100_DDR_TAP_CONTROL_1    0x00000007
      AR7100_DDR_TAP_CONTROL_2    0x00000007
      AR7100_DDR_TAP_CONTROL_3    0x00000007

[PLL Control Registers]
             AR7100_CONFIG_PLL    0xC0142088
         AR7100_CONFIG_SEC_PLL    0x400050C0
  AR7100_CONFIG_ETH_INT0_CLOCK    0x01111000
  AR7100_CONFIG_ETH_INT1_CLOCK    0x01111000
   AR7100_CONFIG_ETH_EXT_CLOCK    0x00001313
       AR7100_CONFIG_PCI_CLOCK    0x000000EE
              AR7100_MII0_CTRL    0x00000022
              AR7100_MII1_CTRL    0x00000020
              AR7100_SPI_CLOCK    0x3C088000

[Clock Frequencies]
         Primary PLL Frequency           720 MHz
           CPU Clock Frequency           720 MHz
      DDR Core Clock Frequency           360 MHz
       AHB Bus Clock Frequency           180 MHz
       Secondary PLL Frequency          1000 MHz
       PCI Bus Clock Frequency            33 MHz
               &quot;SYS&quot; Frequency           180 MHz
         SPI Control Frequency            90 MHz
RedBoot&gt;</code></pre></div><p>3) Third: interesting option from help:<br /></p><div class="codebox"><pre><code>RedBoot&gt; help
...
Read AR7100 register
   ar7100_reg_rd &lt;hex_addr&gt;
Write AR7100 register
   ar7100_reg_wr &lt;hex_addr&gt; &lt;val&gt;
...
RedBoot&gt;</code></pre></div><p>I wanna set cpu at 800Mhz, how do it ?&nbsp; or is mission impossible....?</p><br /><p>From DD-wrt source code <a href="http://webcache.googleusercontent.com/search?q=cache:n4mvtF1d5sgJ:svn.dd-wrt.com/browser/src/router/services/tools/overclock_routerstation.c%3Frev%3D11706+overclock_routerstation.c&amp;cd=1&amp;hl=it&amp;ct=clnk&amp;gl=it&amp;lr=lang_en|lang_it&amp;client=ubuntu&amp;source=www.google.it">here</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132579">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">BrainSlayer</div>
					<div class="post-datetime">
						9 Apr 2011, 17:00					</div>
				</div>
				<div class="post-content content">
					<p>just some cents from me since i wrote this code originally. dont expect that 800 mhz runs stable on all rspro devices. i have seen temperature problems on some. for my own curiosity the original rs (not pro) does not that have that much problems with overclocking. originally i wrote this code to set a lower clock than 720 mhz, since some users already had temperature problems with the standard clock rate. what you have todo to get my code to work in openwrt. simply add a small main function and remove the nvram stuff. simply handle it with commandline parameters. thats all. the rest is really plain standard. should be a job of 5 minutes for a skilled developer</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132580">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						9 Apr 2011, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>I have a DIR-300: <a href="http://wiki.openwrt.org/toh/d-link/dir-300">http://wiki.openwrt.org/toh/d-link/dir-300</a>&nbsp; and I think redboot and his FIS partition is the reason why I cannot conveniently use mtd (<a href="http://wiki.openwrt.org/doc/techref/mtd">http://wiki.openwrt.org/doc/techref/mtd</a>) to reflash.</p><p>Is my assumption true?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132597">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">BrainSlayer</div>
					<div class="post-datetime">
						9 Apr 2011, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>sure you can use mtd. i see no reason why you can&#039;t use it in that way. for sure you need to setup a correct partition layout within redboot. for perfect reflashing its also good to set the checksum to zero before flashing. so redboot will not check the partition checksum</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132605">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">crisman</div>
					<div class="post-datetime">
						9 Apr 2011, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>OK, I adapted the dd-wrt code to work with openwrt. </p><p>See below for the source code</p><p>How to use:<br />just scp the file in /tmp<br />make sure it is executable: chmod +x /tmp/overclock_routerstation<br />/tmp/overclock_routerstation mhz<br />where mhz can be: 200, 300 ,333, 400, 600, 680, 720, 800</p><p>Please, consider I have not tested it because I don&#039;t own a RS neither a RS PRO, so use it at your own risk, you may brick your board!!!</p>											<p class="post-edited">(Last edited by <strong>crisman</strong> on 27 Apr 2011, 01:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132647">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						10 Apr 2011, 20:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>crisman wrote:</cite><blockquote><p>OK, I adapted the dd-wrt code to work with openwrt. </p><p>Here you can download the software: <a href="http://www.zshare.net/download/88811809c9458981/">overclock_routerstation - 0.01MB</a></p><p>md5sum is f370b2baabec76d82452a67a041e171c</p><p>How to use:<br />just scp the file in /tmp<br />make sure it is executable: chmod +x /tmp/overclock_routerstation<br />/tmp/overclock_routerstation mhz<br />where mhz can be: 200, 300 ,333, 400, 600, 680, 720, 800</p><p>Please, consider I have not tested it because I don&#039;t own a RS neither a RS PRO, so use it at your own risk, you may brick your board!!!</p></blockquote></div><p>You can share code?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132673">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						11 Apr 2011, 11:02					</div>
				</div>
				<div class="post-content content">
					<p>Download link not work</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132687">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">crisman</div>
					<div class="post-datetime">
						11 Apr 2011, 14:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dk_giuse89 wrote:</cite><blockquote><p>Download link not work</p></blockquote></div><p>I tried now the link and it works fine...</p><div class="quotebox"><cite>dk_giuse89 wrote:</cite><blockquote><p>You can share code?</p></blockquote></div><p>I&#039;ll post source code this weekend, but I don&#039;t know how source code could be useful to you...</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p133474">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">crisman</div>
					<div class="post-datetime">
						19 Apr 2011, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>this is the source code for over/under clock of RS/ RS PRO</p><div class="codebox"><pre><code>/*
 * overclock_routerstation.c
 *
 * Copyright (C) 2009 Sebastian Gottschall &lt;gottschall@dd-wrt.com&gt;
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 *
 * usage:
 * overclock_routerstation mhz
 * 
 * valid values for mhz are 200, 300 ,333, 400, 600, 680, 720, 800
 */
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;fcntl.h&gt;

int overclock(FILE * out, char *freq, int value)
{
    fseek(out, 0xd3, SEEK_SET);
    int val = getc(out);
    if (val == value) {
        fprintf(stderr, &quot;board already clocked to %sMhz\n&quot;, freq);
        return -1;
    }
    fseek(out, 0xd3, SEEK_SET);
    putc(value, out);
    return 0;
}

int overclock_3(FILE * out, char *freq, int value)
{
    fseek(out, 0x3f, SEEK_SET);
    int val = getc(out);
    if (val == value) {
        fprintf(stderr, &quot;board already clocked to %sMhz\n&quot;, freq);
        return -1;
    }
    fseek(out, 0x3f, SEEK_SET);
    putc(value, out);
    return 0;
}

void start_overclock(int mhz)
{
    long len;
    long i;

    FILE *in = fopen(&quot;/dev/mtdblock0&quot;, &quot;rb&quot;);
    fseek(in, 0, SEEK_END);
    len = ftell(in);
    rewind(in);
    char check[8];
    char check2[8];
    char values[8] = { 0x24, 0x08, 0x00, 0xaa, 0x15, 0x09, 0x00, 0x04 };
    char values2[8] = { 0x24, 0x0a, 0x00, 0x0f, 0x11, 0x2a, 0x00, 0x04 };
    fseek(in, 0xc0, SEEK_SET);
    fread(check, 1, 8, in);
    fseek(in, 0xc4, SEEK_SET);
    fread(check2, 1, 8, in);
    int ret1 = 0xff;
    int ret2 = 0xff;
    int ret3 = 0xff;
    if ((ret1 = memcmp(check, values, 8))
        &amp;&amp; (ret2 = memcmp(check2, values, 8))
        &amp;&amp; (ret3 = memcmp(check2, values2, 8))) {
        fprintf(stderr,
            &quot;no compatible routerstation bootloader found\n&quot;);
        fclose(in);
        return;
    }
    if (!ret1)
        fprintf(stderr, &quot;bootloader rev1 found\n&quot;);
    if (!ret2)
        fprintf(stderr, &quot;bootloader rev2 found\n&quot;);
    if (!ret3)
        fprintf(stderr, &quot;bootloader rev3 found\n&quot;);
    FILE *out = fopen(&quot;/tmp/boot&quot;, &quot;w+b&quot;);
    rewind(in);
    for (i = 0; i &lt; len; i++)
        putc(getc(in), out);
    fclose(in);
    int ret = 1;
    if (!ret3) {
        if (mhz == 200)
            ret = overclock_3(out, &quot;200&quot;, 0x1);
        if (mhz == 300)
            ret = overclock_3(out, &quot;300&quot;, 0x2);
        if (mhz == 333)
            ret = overclock_3(out, &quot;333&quot;, 0x3);
        if (mhz == 400)
            ret = overclock_3(out, &quot;400&quot;, 0x6);
        if (mhz == 600)
            ret = overclock_3(out, &quot;600&quot;, 0x7);
        if (mhz == 680)
            ret = overclock_3(out, &quot;680&quot;, 0xc);    //special ubiquiti setting with different ddram clock settings
        if (mhz == 720)
            ret = overclock_3(out, &quot;720&quot;, 0xe);    //need to be validated
        if (mhz == 800)
            ret = overclock_3(out, &quot;800&quot;, 0xf);
    } else {
        if (mhz == 200)
            ret = overclock(out, &quot;200&quot;, 0x1);
        if (mhz == 300)
            ret = overclock(out, &quot;300&quot;, 0x2);
        if (mhz == 333)
            ret = overclock(out, &quot;333&quot;, 0x3);
        if (mhz == 400)
            ret = overclock(out, &quot;400&quot;, 0x6);
        if (mhz == 600)
            ret = overclock(out, &quot;600&quot;, 0x7);
        if (mhz == 680)
            ret = overclock(out, &quot;680&quot;, 0xa);    //special ubiquiti setting with different ddram clock settings
        if (mhz == 720)
            ret = overclock(out, &quot;720&quot;, 0x1e);    //magic atheros values
        if (mhz == 800)
            ret = overclock(out, &quot;800&quot;, 0x1f);
    }

    fclose(out);
    if (!ret) {
        fprintf(stderr, &quot;write new bootloader\n&quot;);

        pid_t child_pid;
        int child_status=-1;

        child_pid = fork();

        if (child_pid == -1) {
            fprintf(stderr,&quot;Fork failed.\n&quot;);
            exit(1);
        }
        else if (child_pid &gt; 0){
            /* This is the parent process. */
            ret = child_pid;
        }
            else {
                /* child process */
                execlp(&quot;mtd&quot;, &quot;mtd&quot;, &quot;-f&quot;, &quot;write&quot;, &quot;/tmp/boot&quot;, &quot;RedBoot&quot;, NULL);
                /* The execl function returns only if an error occurs. */
                fprintf (stderr, &quot;An error occurred writing new Redboot.\n&quot;);
                exit(-1);
            }

        wait(&amp;child_status);
        if (WIFEXITED (child_status))
            fprintf(stderr, &quot;board now clocked to %u Mhz\n&quot;, mhz);
        else
            fprintf (stderr, &quot;An error occurred writing new Redboot.\n&quot;);
    }
}

int main (int argc, char *argv[]) 
{
    int mhz;

    if (argc == 2) {
        mhz = atoi(argv[1]);
        if (mhz != 200 &amp;&amp; mhz != 300 &amp;&amp; mhz != 333 &amp;&amp; mhz != 400 &amp;&amp; mhz != 600 &amp;&amp; mhz != 680 &amp;&amp; mhz != 720 &amp;&amp; mhz != 800) {
            fprintf(stderr, &quot;Allowed values are 200,300,333,400,600,680,720,800\n&quot;); 
            exit(1);
        } 
        else {
            start_overclock (mhz);
        }
    }
    else {
        fprintf(stderr, &quot;Usage: %s mhz\nAllowed values for mhz are 200,300,333,400,600,680,720,800\n&quot;, argv[0]);
        exit(1);
    }

    return 0;

}</code></pre></div><p>Regards</p>											<p class="post-edited">(Last edited by <strong>crisman</strong> on 22 Apr 2011, 10:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134098">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">s-g-r</div>
					<div class="post-datetime">
						27 Apr 2011, 00:09					</div>
				</div>
				<div class="post-content content">
					<p>2.6.37.6 - r26751</p><p>root@OpenWrt:~# cat /proc/cpuinfo <br />system type&nbsp; &nbsp; &nbsp; &nbsp; : Atheros AR7161 rev 2<br />machine&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : Ubiquiti RouterStation<br />processor&nbsp; &nbsp; &nbsp; &nbsp; : 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; : MIPS 24Kc V7.4<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; : 452.19</p><p>root@OpenWrt:~# ./overclock_routerstation<br />Usage: ./overclock_routerstation mhz<br />Allowed values for mhz are 200,300,333,400,600,680,720,800</p><p>root@OpenWrt:~# ./overclock_routerstation 720<br />Segmentation fault<br />root@OpenWrt:~#&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134101">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">crisman</div>
					<div class="post-datetime">
						27 Apr 2011, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>have you compiled yourself the code or used the compiled one?</p>											<p class="post-edited">(Last edited by <strong>crisman</strong> on 27 Apr 2011, 01:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134104">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">s-g-r</div>
					<div class="post-datetime">
						27 Apr 2011, 02:47					</div>
				</div>
				<div class="post-content content">
					<p>it&#039;s was the compiled one - still: Clocks: CPU:680.000MHz, DDR:170.000MHz, AHB:85.000MHz, Ref:40.000MHz</p><p>How do I compile overclock_routerstation.c with a trunk build environment ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134161">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">crisman</div>
					<div class="post-datetime">
						27 Apr 2011, 15:17					</div>
				</div>
				<div class="post-content content">
					<p>please try this one:<br /><a href="http://www.zshare.net/download/8948648502b63404/">overclock_routerstation</a><br />md5sum is b99e9340b92f3c76d916f5622378507a</p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134176">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">s-g-r</div>
					<div class="post-datetime">
						27 Apr 2011, 17:39					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> great! it works:</p><p>root@OpenWrt:~# ./overclock_routerstation 720<br />bootloader rev2 found<br />write new bootloader<br />Unlocking RedBoot ...</p><p>Writing from /tmp/boot to RedBoot ...&nbsp; &nbsp; &nbsp;<br />board now clocked to 720 Mhz<br />root@OpenWrt:~# </p><p>SoC: Atheros AR7161 rev 2<br />Clocks: CPU:720.000MHz, DDR:360.000MHz, AHB:90.000MHz, Ref:40.000MHz</p><br /><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134179">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">crisman</div>
					<div class="post-datetime">
						27 Apr 2011, 17:44					</div>
				</div>
				<div class="post-content content">
					<p>thank you for the feedback!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134276">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">dk_giuse89</div>
					<div class="post-datetime">
						29 Apr 2011, 00:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>crisman wrote:</cite><blockquote><p>thank you for the feedback!</p></blockquote></div><p>Hi, <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> </p><p>You can share your code in new ticket?? </p><p>Someone can be make a patch for adding your code in system target for routerstation.</p>											<p class="post-edited">(Last edited by <strong>dk_giuse89</strong> on 29 Apr 2011, 00:19)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=26870&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>