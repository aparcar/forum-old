<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can&#039;t do a HTML Form post with appWeb Web server</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p3692">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rfisher1968</div>
					<div class="post-datetime">
						3 Jan 2005, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m writing very simple C code to see what I can do with the appWeb server via the cgi module. Here is the code:</p><p>/* ------------------------------------------------------------------------ */<br />/* ------------------------------------------------------------------------ */</p><p>#include &lt;stdio.h&gt;</p><p>/* ------------------------------------------------------------------------ */</p><p>int main( int argc, char *argv[] )<br />{<br />&nbsp; &nbsp; char&nbsp; &nbsp; pszStr[1000];<br />&nbsp; &nbsp; char&nbsp; &nbsp; pszStr1[1000];<br />&nbsp; &nbsp; int&nbsp; &nbsp; &nbsp;iCnt;<br />&nbsp; &nbsp; char&nbsp; &nbsp; cChr;</p><p>//&nbsp; &nbsp; while ( iCnt &lt; 50 )<br />//&nbsp; &nbsp; {<br />//&nbsp; &nbsp; &nbsp; &nbsp; cChr = getc(stdin);<br />//&nbsp; &nbsp; &nbsp; &nbsp; pszStr1[iCnt] = cChr;<br />//&nbsp; &nbsp; &nbsp; &nbsp; ++iCnt;&nbsp; <br />//&nbsp; &nbsp; }<br />//&nbsp; &nbsp; pszStr1[iCnt] = 0;</p><p>&nbsp; &nbsp; printf(&quot;Content-type: text/htmlnn&quot;);<br />&nbsp; &nbsp; printf(&quot;&lt;html&gt;n&quot;);<br />&nbsp; &nbsp; printf(&quot;&lt;head&gt;n&quot;);<br />&nbsp; &nbsp; printf(&quot;&lt;/head&gt;n&quot;);<br />&nbsp; &nbsp; printf(&quot;&lt;body&gt;n&quot;);<br />&nbsp; &nbsp; printf(&quot;post: %s&lt;br&gt;&lt;br&gt;&quot;,pszStr1);<br />&nbsp; &nbsp; iCnt = 0;<br />&nbsp; &nbsp; while ( iCnt &lt; argc )<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; strcpy(pszStr,argv[iCnt]);<br />&nbsp; &nbsp; &nbsp; &nbsp; printf(&quot;%s&lt;br&gt;&quot;,pszStr);<br />&nbsp; &nbsp; &nbsp; &nbsp; ++iCnt;<br />&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; printf(&quot;&lt;/body&gt;n&quot;);<br />&nbsp; &nbsp; printf(&quot;&lt;/html&gt;n&quot;);<br />&nbsp; &nbsp; return(0);<br />}</p><p>/* --------------------------------------------------------------------------- */</p><p>It compiles fine and when doing a request method of &quot;get&quot; it displays the result in the web browser, but there are limits to the amount sent this way. What I really want to do is use a &quot;post&quot; and read the results from the &quot;stdin&quot;, but it gives me a error in the browser that the page can&#039;t be displayed. Any thoughts would be appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3778">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rfisher1968</div>
					<div class="post-datetime">
						7 Jan 2005, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>Well i gave up on appWeb because it just didn&#039;t work. Then I tried thttpd and it didn&#039;t work either. Then i compiled mini_httpd and it worked.</p><p>All i&#039;m trying to do is just compile a &quot;C program&quot; as a cgi script and be able to process form post and get command line information. It looks like mini_httpd is the way to go.</p><p>I can offer mini_httpd as a ipkg if anybody is interested. </p><p>bob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3794">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jopi</div>
					<div class="post-datetime">
						8 Jan 2005, 18:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I can offer mini_httpd as a ipkg if anybody is interested. <br />bob</p></blockquote></div><p>I also tried appweb 1.2 and 1.3 getting always a segmentation fault. Now i was trying thttpd, but I would be glad of a mini_httpd ipk package for trying.</p><p>see you,</p><p>Daniel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3802">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rfisher1968</div>
					<div class="post-datetime">
						9 Jan 2005, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>Well appWeb and thttpd each worked great, but not with CGI executables when a HTML form post is done. Mini_httpd works great for this situation. </p><p>I can package it, but I only compiled it without the SSL but I&#039;m using stunnel and it works great.</p><p>bob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50112">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">delirium</div>
					<div class="post-datetime">
						9 Jun 2007, 05:37					</div>
				</div>
				<div class="post-content content">
					<p>I mildly understand what you&#039;re talking about, and would like to ask for your help with one of my problems.&nbsp; I&#039;d like to use nocatsplash to serve a page hosted on the router (html?) that can write information entered in a form to a textfile on the router.&nbsp; Would a cgi or html submission work? thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>