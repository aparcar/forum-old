<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> problem with new utility on wrt54g.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p8279">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">MrUmunhum</div>
					<div class="post-datetime">
						11 Jun 2005, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>&nbsp; I have written a little utility to monitor CPU and Network utilizaion on my wrt54g.&nbsp; The code is the<br />same as on my Fedora Core 3 system.&nbsp; The code runs on both systems and functions correctly.<br />My problem is that when I ssh into the wrt54g and run the program, all is well until I quit the <br />program.&nbsp; At that time, the ssh session drops it&#039;s connections.</p><p>&nbsp; The program is written in &#039;C&#039; and I use &#039;exit (0)&#039; to terminate the program.&nbsp; There are no error<br />messages during compile or run time.</p><p>&nbsp; This is the output with debuging turned on for ssh:</p><p># pfssh_mips debug2: channel 0: rcvd adjust 1</p><p>#!interval 1<br />603 CMD<br /># PFSSH: Version 1.0 Started; Admin@Mt-Umunhum-Wireless.net<br />74776.00&nbsp; cpu0 3 1 eth0 212 268<br />74777.02&nbsp; cpu0 1 0 eth0 180 312<br />74778.01&nbsp; cpu0 1 1 eth0 180 248<br />debug2: channel 0: rcvd adjust 1<br />debug2: channel 0: rcvd adjust 1<br />74779.01&nbsp; cpu0 1 1 eth0 749 719<br />287 quit<br />q<br /># PFSSH: q<br /># PFSSH: pfssh_mips.c: 309 q</p><p>426 quit<br /># PFSSH: Quit<br />#!quit<br /># PFSSH: pfssh_mips.c: 617 Setlinebuf failed: No such file or directory<br /># PFSSH: pfssh_mips.c: 624 Setlinebuf failed: No such file or directory<br /># exiting Quit<br />428 quit<br />603 CMD<br />312 quit<br />74780.03&nbsp; cpu0 2 0 eth0 846 1538<br /># Terminating<br /># debug1: channel 0: rcvd eof<br />debug1: channel 0: output open -&gt; drain<br />debug1: channel 0: obuf empty<br />debug1: channel 0: close_write<br />debug1: channel 0: output drain -&gt; closed<br />debug1: client_input_channel_req: channel 0 rtype exit-status reply 0<br />debug1: channel 0: rcvd close<br />debug1: channel 0: close_read<br />debug1: channel 0: input open -&gt; closed<br />debug1: channel 0: almost dead<br />debug1: channel 0: gc: notify user<br />debug1: channel 0: gc: user detached<br />debug1: channel 0: send close<br />debug1: channel 0: is dead<br />debug1: channel 0: garbage collecting<br />debug1: channel_free: channel 0: client-session, nchannels 1<br />Connection to 10.1.1.4 closed.<br />debug1: Transferred: stdin 0, stdout 0, stderr 32 bytes in 460.0 seconds<br />debug1: Bytes per second: stdin 0.0, stdout 0.0, stderr 0.1<br />debug1: Exit status 0</p><p>&nbsp; Any ideas??</p><p>&nbsp; William Estrada</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>