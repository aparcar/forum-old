<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WR941ND  Version 3.8 anyone</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 15 Jan 2018 and 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=45922&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p210504">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						23 Aug 2013, 09:40					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone had any luck with this version. I&#039;ve got a WR941ND v 3.6 working quiet happily with Open-Wrt with Gargoyle on top but managed to brick a V3.8 version.</p><p>I know there were some issues with the h/w v3.2 flash chip not being writeable, but can&#039;t find anything online about anyone with any experience with Open-wrt, DD-wrt, or anything else on a v3.8 version</p><p>Strange thing is it is totally bricked, in that I can&#039;t even get any response from a serial cable. Note even to u-boot, and I&#039;m quiet experienced about wiring on a serial cable, making sure the pins under the TX pin are shorted and so on. I&#039;m not even getting 3.3v between the TX pin and GND implying a hardware problem, but the only thing I did from brand new was to try installing the firmware and it is difficult to see how this could cause a hardware fault.</p><br/><p>Any help gratefully received, will also post in the Gargoyle forum</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210505">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Aug 2013, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>how are led behaving?</p><p>it&#039;s impossible you damaged uboot.. about serial, my multimeter also does not see voltage between tx and gnd, but serial works.. only a scope can give you true visual on what comes out from serial..</p><p>can you follow tx trace from serial header to cpu pin to by checking resistance? i think it must be interrupted somewhere..</p><p>anyway, list of components inside??<br/>&nbsp; cpu, flash..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210519">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						23 Aug 2013, 11:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>how are led behaving?</p><p>it&#039;s impossible you damaged uboot.. about serial, my multimeter also does not see voltage between tx and gnd, but serial works.. only a scope can give you true visual on what comes out from serial..</p><p>can you follow tx trace from serial header to cpu pin to by checking resistance? i think it must be interrupted somewhere..</p><p>anyway, list of components inside??<br/>&nbsp; cpu, flash..</p></blockquote></div><br/><p>Thanks for replying, interesting about the no voltage between gnd and TX</p><p>Any idea what pin on CPU, not very easy to trace even with a magnifying glass as the line goes under lots of components</p><p>LED&#039;s are all come on initially. 4 seconds later all go off except for power. No difference if trying failsafe mode (doesn&#039;t&nbsp; even get into failsafe mode)</p><p>Components are</p><p>CPU - Atheros AR9132-BC1E<br/>Ethernet - Marvell 88E6060-RCJ1<br/>Memory - Winbond W9425G6JH-5<br/>Flash, think it is a Efeon 0326 or 032G, it is very difficult to read</p><p>Picture of board attached</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210522">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Aug 2013, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>flash could be</p><p>cFeon Q32B-104HIP, 4MB</p><p>like</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr1041n">http://wiki.openwrt.org/toh/tp-link/tl-wr1041n</a></p><p>for serial, already tried a pullup resistor like mr3420?</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial">http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial</a></p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr842nd#serial">http://wiki.openwrt.org/toh/tp-link/tl-wr842nd#serial</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210529">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						23 Aug 2013, 12:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>flash could be</p><p>cFeon Q32B-104HIP, 4MB</p><p>like</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr1041n">http://wiki.openwrt.org/toh/tp-link/tl-wr1041n</a></p><p>for serial, already tried a pullup resistor like mr3420?</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial">http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial</a></p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr842nd#serial">http://wiki.openwrt.org/toh/tp-link/tl-wr842nd#serial</a></p></blockquote></div><p>Yep, having looked at it closely again I will agree the flash is cFeon Q32B-104HIP</p><p>No, not tried the resistor. Don&#039;t have one and it would be a 8 hours round trip drive to get one, though would be very easy to fit nicely between the 3.3 and TX if I did have one. </p><p>I do have other serial/usb adaptors though so will try those. Is this pull up resistor thing a known problem with those components, and if so the 3.6 board must be different from the 3.8 board as exactly the same setup and exactly the same TTL/USB convertor works fine on a 3.6 board with no need for resistor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210538">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Aug 2013, 13:10					</div>
				</div>
				<div class="post-content content">
					<p>the resistor could be necessary because of some missing components around the tx pin, could you post some close image of the 2 boards? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink"/></p><p>yes trying another adapter could also work.. </p><p>8 hours to find a resistor? come on you must have some old electronics to destroy and pull out some resistors.. obviously a series of smaller value (1k) could also work!</p><p>about the wiring.. attach only 4 wires to the pads (maybe 5 inches long or so..) then you can make connections to resistors and adapter outside of the board without the risk of damaging pads or doing shortcuts </p><p>sorry for the &quot;noob&quot; advices, i hope that also other people can read and learn something!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210541">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						23 Aug 2013, 13:51					</div>
				</div>
				<div class="post-content content">
					<p>Just tried it with a different USB/TTL, still nothing. Will hunt around for resistor</p><p>And no can&#039;t post any images, doesn&#039;t seem to let me in this forum.</p>											<p class="post-edited">(Last edited by <strong>larcy</strong> on 23 Aug 2013, 13:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210543">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Aug 2013, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>yes you should upload them somewhere..</p><p>tinypic, postimage, imageshack... or better dropbox so they wont be deleted after some months...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210544">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">sash-kan</div>
					<div class="post-datetime">
						23 Aug 2013, 14:03					</div>
				</div>
				<div class="post-content content">
					<p>with linux 3.8.13 my wr941nd does not boot <strong>if wan cable connected</strong>.<br/>with linux 3.10.4 the router boots properly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210545">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						23 Aug 2013, 14:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sash-kan wrote:</cite><blockquote><p>with linux 3.8.13 my wr941nd does not boot <strong>if wan cable connected</strong>.<br/>with linux 3.10.4 the router boots properly.</p></blockquote></div><p>Nothing to do with Linux I&#039;m afraid, this is Hardware version 3.8.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210547">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						23 Aug 2013, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>i think he was referring to the kernel version of the openwrt image.</p><p>AA 12.09 has 3.3.8<br/>lastest BB trunk build has 3.10.4, an old trunk build (ex. r36000 has 3.8.2..)</p><p>so maybe your router could boot ok if you use a recent image, once you will be able to reflash it from uboot <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210549">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">sash-kan</div>
					<div class="post-datetime">
						23 Aug 2013, 14:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>larcy wrote:</cite><blockquote><div class="quotebox"><cite>sash-kan wrote:</cite><blockquote><p>with linux 3.8.13 my wr941nd does not boot <strong>if wan cable connected</strong>.<br/>with linux 3.10.4 the router boots properly.</p></blockquote></div><p>Nothing to do with Linux I&#039;m afraid, this is Hardware version 3.8.</p></blockquote></div><p>misunderstanding. sorry.</p><p>my router has hw ver. 3.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210638">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						24 Aug 2013, 16:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>flash could be</p><p>cFeon Q32B-104HIP, 4MB</p><p>like</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr1041n">http://wiki.openwrt.org/toh/tp-link/tl-wr1041n</a></p><p>for serial, already tried a pullup resistor like mr3420?</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial">http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial</a></p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr842nd#serial">http://wiki.openwrt.org/toh/tp-link/tl-wr842nd#serial</a></p></blockquote></div><p>O.K, 10K pull-up resistor obtained and tried. Makes no difference other than to pull up the voltage on the TX from router to RX on TTL/USB line to 3.3v. Interestingly the voltage on the TX from TTL/USB to RX on router line is about 1v</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210648">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Aug 2013, 19:15					</div>
				</div>
				<div class="post-content content">
					<p>obviously tried again to swap tx and rx??</p><p>you talk about voltage between adapter tx and router rx with all cables disconnected, I guess..</p><p>well that voltage is completely irrelevant imho!</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 24 Aug 2013, 19:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210649">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						24 Aug 2013, 19:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>obviously tried again to swap tx and rx??</p></blockquote></div><p>Nope, as TX and RX were in this place on a 3.6 board, but happy to try. With or without the pull-up?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210650">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Aug 2013, 19:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>larcy wrote:</cite><blockquote><div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>obviously tried again to swap tx and rx??</p></blockquote></div><p>Nope, as TX and RX were in this place on a 3.6 board, but happy to try. With or without the pull-up?</p></blockquote></div><p>well if it works with a v3.6 with the very same adapter then the pin are correct for sure and no need to swap anything...</p><p>i&#039;m out of ideas to be honest!</p><p>you take 3.3 from the router and never connected VCC pin of serial adapter right? that is a common mistake..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210651">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Aug 2013, 19:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>yes you should upload them somewhere..</p></blockquote></div><p>i&#039;m curious to see close picture of the serial pads area differences (if any) from 3.6 to 3.8...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210652">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						24 Aug 2013, 19:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><div class="quotebox"><cite>larcy wrote:</cite><blockquote><div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>obviously tried again to swap tx and rx??</p></blockquote></div><p>Nope, as TX and RX were in this place on a 3.6 board, but happy to try. With or without the pull-up?</p></blockquote></div><p>well if it works with a v3.6 with the very same adapter then the pin are correct for sure and no need to swap anything...</p><p>i&#039;m out of ideas to be honest!</p><p>you take 3.3 from the router and never connected VCC pin of serial adapter right? that is a common mistake..</p></blockquote></div><p>Yep, 3.3 from the right hand pin on router just bridged via 10K onto TX pin on router. Have not touched VCC pin on serial, only TX RX and GND</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210689">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						24 Aug 2013, 23:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>yes you should upload them somewhere..</p></blockquote></div><p>i&#039;m curious to see close picture of the serial pads area differences (if any) from 3.6 to 3.8...</p></blockquote></div><br/><p>Picture of the board and close up of Serial pads shown</p><p>Note to other readers, this is shown with R356 unshorted. In real life you need to short these, either on a permanent basis with solder or liquid metal, or on a temporary basis with&nbsp; some kind of metal pressed against both pads and held in place somehow.</p><p><span class="postimg"><img src="http://i39.tinypic.com/2zioabn.jpg" alt="http://i39.tinypic.com/2zioabn.jpg"/></span></p><p><span class="postimg"><img src="http://i39.tinypic.com/241l8xw.jpg" alt="http://i39.tinypic.com/241l8xw.jpg"/></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210691">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						24 Aug 2013, 23:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>obviously tried again to swap tx and rx??</p><p>you talk about voltage between adapter tx and router rx with all cables disconnected, I guess..</p><p>well that voltage is completely irrelevant imho!</p></blockquote></div><p>No with all cables connected, on one of my TTL/USB convertors</p><p>With a different TTL/USB convertor it is 3.3 on both (with all cables connected)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210692">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Aug 2013, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>that&#039;s puzzling me.<br/>how could you have a voltage between 2 pins that are connected?</p><p>you are talking about the rx pin of the router, that should be connected to the tx pin of the adapter, right?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210705">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Aug 2013, 00:31					</div>
				</div>
				<div class="post-content content">
					<p>about the picture.. i was hoping for a board (and a picture ^^) like this:</p><p><a href="https://forum.openwrt.org/viewtopic.php?pid=83328#p83328">https://forum.openwrt.org/viewtopic.php … 328#p83328</a></p><p>as you see it was much easier to follow the trace looking for missing components, cannot imagine what&#039;s wrong with yours, other than a really defective unit?</p><p>anyway i&#039;d never bridge that r356 by &quot;keeping something metal pressed&quot;, this tricks could cause bad signal in serial (but this for sure it&#039;s not your problem, since you get NOTHING..)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210712">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Aug 2013, 00:53					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wikidevi.com/w/images/d/d4/TP-LINK_TL-WR941ND_v3p6_board_top.jpg">http://wikidevi.com/w/images/d/d4/TP-LI … rd_top.jpg</a></p><br/><p>has R252 (close to the CPU) some connection with serial pads? i cannot see it very well from that pic.. and neither from yours <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210719">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						25 Aug 2013, 02:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>that&#039;s puzzling me.<br/>how could you have a voltage between 2 pins that are connected?</p><p>you are talking about the rx pin of the router, that should be connected to the tx pin of the adapter, right?</p></blockquote></div><p>No, between ground and that cable</p><p>There are three cables going from Router to TTL/USB Convertor</p><p>Cable 1, Between GND on router and GND on TTL/USB Convertor<br/>Cable 2, Between TX pin on router and RX on TTL/USB Convertor<br/>Cable 3, Between RX pin on router and TX on TTL/USB Convertor</p><p>With both router and TTL/USB Convertor switched on, and 10K pull-up resistor in place (between 3.3v pin on router and TX pin on Router)</p><p>I have two different TTL/USB Convertors</p><p>With one of them (call it Convertor A), I get<br/>3.3v between Cable 1 and Cable 2<br/>3.3v between Cable 1 and Cable 3</p><p>With the other of them (call it Convertor B), I get<br/>3.3v between Cable 1 and Cable 2<br/>1.0v between Cable 1 and Cable 3</p><p>Convertor A is one I know works with a v 3.6 board. I have not tried Convertor B with a v 3.6 board. Have therefore stopped using Convertor B since having 3.3v all round seems more logical to me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210721">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">larcy</div>
					<div class="post-datetime">
						25 Aug 2013, 02:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>about the picture.. i was hoping for a board (and a picture ^^) like this:</p><p><a href="https://forum.openwrt.org/viewtopic.php?pid=83328#p83328">https://forum.openwrt.org/viewtopic.php … 328#p83328</a></p><p>as you see it was much easier to follow the trace looking for missing components, cannot imagine what&#039;s wrong with yours, other than a really defective unit?</p><p>anyway i&#039;d never bridge that r356 by &quot;keeping something metal pressed&quot;, this tricks could cause bad signal in serial (but this for sure it&#039;s not your problem, since you get NOTHING..)</p></blockquote></div><p>Agree, but only have a iphone 3 camera available. Will try again in the morning when light is better</p><p>Agree on bad signal in serial but method works fine with 3.6 board. My advice to others would be make sure it isn&#039;t a human doing the pressing, set it up so that it doesn&#039;t move and any cables you want to attach or detach are well away from the board and clamped so that movement in them will not affect connections on board. Once and only once you have demonstrated you have correct pin and serial line will work then either solder the short or use liquid metal to make it permanent if you need it permanent. You do not want to find you have used the wrong pins, or on your version of the board those pins do something else after you have soldered/put liquid metal on.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=45922&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>