<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WR840n V1 (BCM5357C0) 4MB Flash, 32MB ram</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p263605">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Janne</div>
					<div class="post-datetime">
						31 Jan 2015, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I accidently bought a TP-Link TL-WR840n V1 (BCM5357) for OpenWRT purposes, but it seeams that this particular version is not supported directly by OpenWRT. Is there a any change get this working? Web UI won&#039;t accept OpenWRT firmware images. I was able to hook up a serial connection. According to the boot log, the router should have 4MB flash and 32MB ram, please see bellow. Boot sequence ends up on login prompt, asking for username and password. Standard TP-Link passwords don&#039;t work. I&#039;ll post some images later on.</p><div class="codebox"><pre><code>Decompressing...done


CFE version 5.100.138.2202 based on BBP 1.0.37 for BCM947XX (32bit,SP,LE)
Build Date: Thu Aug 29 14:38:19 CST 2013 (tplink@localhost.localdomain)
Copyright (C) 2000-2008 Broadcom Corporation.

Init Arena
Init Devs.
Boot partition size = 131072(0x20000)
Found an ST compatible serial flash with 64 64KB blocks; total size 4MB
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.100.138.2202
CPU type 0x19749: 300MHz
Tot mem: 32768 KBytes

CFE mem:    0x80700000 - 0x80798440 (623680)
Data:       0x8072E260 - 0x807314B0 (12880)
BSS:        0x807314B0 - 0x80732440 (3984)
Heap:       0x80732440 - 0x80796440 (409600)
Stack:      0x80796440 - 0x80798440 (8192)
Text:       0x80700000 - 0x8072E25C (189020)

Device eth0:  hwaddr 10-FE-ED-A2-B5-DA, ipaddr 192.168.0.1, mask 255.255.255.0
        gateway not set, nameserver not set
Loader:raw Filesys:tftp Dev:eth0 File:: Options:(null)
Loading: Failed.
Could not load :: Timeout occured
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: ..... 2633862 bytes read
Entry at 0x80001000
Closing network.
Starting program at 0x80001000
Linux version 2.6.22 (tplink@localhost.localdomain) (gcc version 4.2.3) #1 PREEMPT Thu Aug 29 14:43:45 CST 2013
CPU revision is: 00019749
Found an ST compatible serial flash with 64 64KB blocks; total size 4MB
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal          0 -&gt;     8192
early_node_map[1] active PFN ranges
    0:        0 -&gt;     8192
Built 1 zonelists.  Total pages: 8192
Kernel command line: root=/dev/mtdblock2 console=ttyS0,115200 init=/sbin/preinit
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 256 (order: 8, 1024 bytes)
CPU: BCM53572 rev 1 at 300 MHz
Using 150.000 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28972k/32768k available (2092k kernel code, 3780k reserved, 295k data, 184k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
PCI: no core
PCI: no core
PCI: Fixing up bus 0
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
io scheduler noop registered (default)
Serial: 8250/16550 driver $Revision: 1.1.1.1 $ 1 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x0 (irq = 8) is a 16550A
RAMDISK driver initialized: 16 RAM disks of 4096K size 1024 blocksize
PPP generic driver version 2.4.2
NET: Registered protocol family 24
pflash: found no supported devices
sflash: squash filesystem with lzma found at block 18
Creating 4 MTD partitions on &quot;sflash&quot;:
0x00000000-0x00020000 : &quot;boot&quot;
0x00020000-0x003f0000 : &quot;linux&quot;
0x00120000-0x003e0000 : &quot;rootfs&quot;
0x003f0000-0x00400000 : &quot;nvram&quot;
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
Ooops, why the devices couldn&#039;t been initialed?
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 184k freed
Failed to execute /init
Failed to execute /sbin/preinit.  Attempting defaults...
init started:  BusyBox v1.01 (2013.08.29-06:47+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5
mount: Mounting devpts on /dev/pts failed: No such device
This board use 2.6.22
ctf: module license &#039;Proprietary&#039; taints kernel.
et_module_init: passivemode set to 0x0
et_module_init: et_txq_thresh set to 0x200
eth0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.100.138.2202
xt_time: kernel timezone is -0000
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.3

 (none) mips #1 PREEMPT Thu Aug 29 14:43:45 CST 2013 (none)
(none) login: device eth0.1 entered promiscuous mode
eth0.1: dev_set_promiscuity(master, 1)
device eth0 entered promiscuous mode
br0: port 1(eth0.1) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0.1) entering forwarding state
eth0.2: Setting MAC address to  10 fe ed a2 b5 db.
br0: port 1(eth0.1) entering disabled state
br0: port 1(eth0.1) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0.1) entering forwarding state
br0: port 1(eth0.1) entering disabled state
eth0.1: Setting MAC address to  10 fe ed a2 b5 da.
VLAN (eth0.1):  Underlying device (eth0) has same MAC, not checking promiscious mode.
br0: port 1(eth0.1) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0.1) entering forwarding state
br0: port 1(eth0.1) entering disabled state
eth0.1: dev_set_promiscuity(master, 1)
br0: port 1(eth0.1) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0.1) entering forwarding state
eth0.2: dev_set_promiscuity(master, 1)
====&gt;&gt;&gt;&gt;DHCP start.dhcpc.c,dhcpcStart,1079
====&gt;&gt;&gt;&gt;DHCP end.dhcpc.c,dhcpcStart,1139
nf_conntrack_rtsp v0.6.21 loading
nf_nat_rtsp v0.6.21 loading
====&gt;&gt;&gt;&gt;Find test flag:5357!
wl_module_init: passivemode set to 0x0
eth1: Broadcom BCM4329 802.11 Wireless Controller 5.100.138.2202 (WLTEST)
device eth1 entered promiscuous mode
br0: port 2(eth1) entering learning state
br0: topology change detected, propagating
br0: port 2(eth1) entering forwarding state
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 1 used by exiting BSSs
COEX: downgraded chanspec 0x2d03 to 0x2b01: channel 3 used by exiting BSSs
====&gt;&gt;&gt;&gt;wlanBootupAll:760, wlan start over!

wl0: HAMMERING info, CNT = 3
wlc_do_hammer:wl0: flush tx queues.
wl0: skip hammer 0.
wl0: HAMMERING info, CNT = 3
wlc_do_hammer:wl0: flush tx queues.
wl0: skip hammer 1.
wl0: HAMMERING info, CNT = 3
wlc_do_hammer:wl0: flush tx queues.
wl0: skip hammer 2.
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 1 used by exiting BSSs
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 1 used by exiting BSSs
COEX: downgraded chanspec 0x2d03 to 0x2b01: channel 3 used by exiting BSSs
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 1 used by exiting BSSs
COEX: downgraded chanspec 0x2d03 to 0x2b01: channel 3 used by exiting BSSs
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 6 used by exiting BSSs
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 1 used by exiting BSSs
COEX: downgraded chanspec 0x2d03 to 0x2b01: channel 3 used by exiting BSSs
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 6 used by exiting BSSs
COEX: downgraded chanspec 0x2e05 to 0x2b07: channel 1 used by exiting BSSs
COEX: downgraded chanspec 0x2d03 to 0x2b01: channel 3 used by exiting BSSs</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263626">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						31 Jan 2015, 16:04					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve download firmware for this device from TP-LINK site: <a href="http://www.tp-link.us/products/details/?categoryid=238&amp;model=TL-WR840N#down">http://www.tp-link.us/products/details/ … R840N#down</a> to analyze it. I wanted to see if we can generate a compatible image that TP-LINK interface will accept.</p><p>Well, I guess we can&#039;t. Or more likely we don&#039;t want to try.</p><p>TP-LINK firmware for this device contains almost whole flash content, including bootloader! It means every time you upgrade firmware you also rewrite the bootloader. It means that:<br />1) It&#039;s dangerous in case upgrade fails<br />2) You&#039;ll brick the device if you provide a wrong bootloader<br />3) You have to *have* bootloader copy to be able to build the firmware image</p><p>There is also a small TP-LINK specific header. We could RE it and build a similar one on our own. But the bootloader being included in a firmware image is a real problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264158">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Janne</div>
					<div class="post-datetime">
						4 Feb 2015, 17:20					</div>
				</div>
				<div class="post-content content">
					<p>Here are some pictures, if someone is interessed investigating more:</p><p><span class="postimg"><img src="http://i.imgur.com/nCTyzLm.jpg?1" alt="http://i.imgur.com/nCTyzLm.jpg?1" /></span></p><p><a href="http://imgur.com/UiIJtBh"><span class="postimg"><img src="http://i.imgur.com/UiIJtBh.jpg" alt="http://i.imgur.com/UiIJtBh.jpg" /></span></a></p><p><a href="http://imgur.com/mGeTo1b"><span class="postimg"><img src="http://i.imgur.com/mGeTo1b.jpg?1" alt="http://i.imgur.com/mGeTo1b.jpg?1" /></span></a></p><p>4-pin serial connector pinout is also marked in the picture.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286683">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">kanzer</div>
					<div class="post-datetime">
						7 Aug 2015, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello friends,</p><p>I suffer from the same problem,<br />I have 2 routers of this type is the international wr840n v1 but not Chinese.</p><p>try to install dd-wrt but it was for the Chinese vercion and not of BCM5357</p><p>so now I&#039;ll take a brick,<br />One-then I press the 2 button back reset / wps and wireless<br />2-I turn the buttons pressed<br />3-enters the &quot;Broadcom miniweb server&quot;<br />4-Download and install the following image<br /><a href="https://downloads.openwrt.org/latest/brcm47xx/generic/openwrt-brcm47xx-generic-squashfs.trx">https://downloads.openwrt.org/latest/br … uashfs.trx</a></p><p>I load luci well, but I do not see either interface wifi I would like to go into this router according brings two internal antennas with BCM5357</p><p>I do not know if I need special driver or make up interface wifi</p><p>I hope someone can help me, I will leave here my dmesg displays an error in wifi support.<br /></p><div class="codebox"><pre><code>[   16.320000] b43-phy0: Broadcom 53572 WLAN found (core revision 28)
[   16.320000] b43-phy0: Found PHY: Analog 9, Type 4 (N), Revision 17
[   16.330000] b43-phy0 ERROR: FOUND UNSUPPORTED RADIO (Manuf 0x17F, ID 0x2057, Revision 13, Version 0)
[   16.340000] b43: probe of bcma0:0 failed with error -122
[   16.350000] Broadcom 43xx driver loaded [ Features: PNL ]
[   16.370000] Broadcom 43xx-legacy driver loaded [ Features: PLD ]</code></pre></div><p><strong>COMPLETE DMESG</strong><br /></p><div class="codebox"><pre><code>root@OpenWrt:~# dmesg
[    0.000000] Linux version 3.10.49 (bb@builder1) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42625) ) #3 Wed Oct 1 14:51:04 CEST 2014
[    0.000000] CPU revision is: 00019749 (MIPS 74Kc)
[    0.000000] bcm47xx: using bcma bus
[    0.000000] bcma: bus0: Found chip with id 0xD144, rev 0x01 and package 0x08
[    0.000000] bcma: bus0: Core 0 found: ChipCommon (manuf 0x4BF, id 0x800, rev 0x27, class 0x0)
[    0.000000] bcma: bus0: Core 3 found: MIPS 74K (manuf 0x4A7, id 0x82C, rev 0x05, class 0x0)
[    0.000000] bcma: bus0: Found rev 9 PMU (capabilities 0x28982A09)
[    0.000000] bcma: bus0: Found serial flash
[    0.000000] bcma: bus0: Found M25P32 serial flash (size: 4096KiB, blocksize: 0x10000, blocks: 64)
[    0.000000] bcma: bus0: Early bus registered
[    0.000000] MIPS: machine is Unknown Board
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 802e6b80, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 28916k/32768k available (2453k kernel code, 3852k reserved, 597k data, 208k init, 0k highmem)
[    0.000000] NR_IRQS:128
[    0.000000] Setting up vectored interrupts
[    0.060000] Calibrating delay loop... 148.88 BogoMIPS (lpj=744448)
[    0.060000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.070000] NET: Registered protocol family 16
[    0.100000] bio: create slab &lt;bio-0&gt; at 0
[    0.100000] Switching to clocksource MIPS
[    0.110000] NET: Registered protocol family 2
[    0.110000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.110000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.110000] TCP: Hash tables configured (established 512 bind 512)
[    0.110000] TCP: reno registered
[    0.110000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.110000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.110000] NET: Registered protocol family 1
[    0.110000] PCI: CLS 0 bytes, default 32
[    0.110000] bcma: bus0: Core 1 found: IEEE 802.11 (manuf 0x4BF, id 0x812, rev 0x1C, class 0x0)
[    0.110000] bcma: bus0: Core 2 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x03, class 0x0)
[    0.110000] bcma: bus0: Core 4 found: SDR/DDR1 Memory Controller (manuf 0x4BF, id 0x835, rev 0x02, class 0x0)
[    0.120000] can not parse nvram name sb/1/rxpo2g(null) with value 0xff got -34
[    0.120000] can not parse nvram name sb/1/ag3(null) with value 0xff got -34
[    0.150000] bcma: bus0: Using SPROM revision 8 provided by platform.
[    0.150000] bcma: bus0: PMU resource config unknown or not needed for device 0xD144
[    0.150000] bcma: bus0: Workarounds unknown or not needed for device 0xD144
[    0.150000] bcma: bus0: Initializing MIPS core...
[    0.150000] bcma: bus0: set_irq: core 0x0812, irq 3 =&gt; 3
[    0.150000] bcma: bus0: set_irq: core 0x082d, irq 4 =&gt; 4
[    0.150000] bcma: bus0: set_irq: core 0x0800, irq 2 =&gt; 2
[    0.150000] bcma: bus0: IRQ reconfiguration done
[    0.150000] bcma: core 0x0800, irq : 2(S)* 3  4  5  6  D  I 
[    0.150000] bcma: core 0x082c, irq : 2(S)  3  4  5  6  D  I*
[    0.150000] bcma: core 0x0812, irq : 2(S)  3* 4  5  6  D  I 
[    0.150000] bcma: core 0x082d, irq : 2(S)  3  4* 5  6  D  I 
[    0.150000] bcma: core 0x0835, irq : 2(S)  3  4  5  6  D* I 
[    0.150000] bcma: bus0: Bus registered
[    0.160000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.160000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.160000] msgmni has been set to 56
[    0.160000] io scheduler noop registered
[    0.160000] io scheduler deadline registered (default)
[    0.160000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.200000] serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 2) is a U6_16550A
[    0.530000] console [ttyS0] enabled
[    0.550000] 6 bcm47xxpart partitions found on MTD device bcm47xxsflash
[    0.550000] Creating 6 MTD partitions on &quot;bcm47xxsflash&quot;:
[    0.560000] 0x000000000000-0x000000020000 : &quot;boot&quot;
[    0.570000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
[    0.580000] 0x00000002001c-0x00000002090c : &quot;loader&quot;
[    0.590000] 0x00000002090c-0x000000132c00 : &quot;linux&quot;
[    0.590000] mtd: partition &quot;linux&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.610000] 0x000000132c00-0x0000003f0000 : &quot;rootfs&quot;
[    0.610000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.630000] mtd: device 4 (rootfs) set to be root filesystem
[    0.630000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x380000, len=0x70000
[    0.640000] 0x000000380000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.650000] 0x0000003f0000-0x000000400000 : &quot;nvram&quot;
[    0.670000] libphy: Fixed MDIO Bus: probed
[    0.680000] bcm47xx-wdt bcm47xx-wdt.0: BCM47xx Watchdog Timer enabled (30 seconds)
[    0.680000] GPIO_WDT: failed to register misc device
[    0.690000] TCP: cubic registered
[    0.690000] NET: Registered protocol family 17
[    0.700000] Bridge firewalling registered
[    0.700000] 8021q: 802.1Q VLAN Support v1.8
[    0.720000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.730000] Freeing unused kernel memory: 208K (802fc000 - 80330000)
[    5.170000] pps_core: LinuxPPS API ver. 1 registered
[    5.170000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;
[    5.180000] PTP clock support registered
[    5.200000] bgmac bcma0:1: Found PHY addr: 30 (NOREGS)
[    5.210000] bgmac bcma0:1: Support for Roboswitch not implemented
[    5.220000] libphy: bgmac mii bus: probed
[    5.240000] b53_common: found switch: BCM5325, rev 4
[    5.250000] bgmac: Broadcom 47xx GBit MAC driver loaded
[   15.830000] NET: Registered protocol family 10
[   15.850000] nf_conntrack version 0.5.0 (455 buckets, 1820 max)
[   15.870000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   15.890000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   15.900000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   15.910000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   16.000000] xt_time: kernel timezone is -0000
[   16.050000] cfg80211: Calling CRDA to update world regulatory domain
[   16.050000] cfg80211: World regulatory domain updated:
[   16.060000] cfg80211:  DFS Master region: unset
[   16.060000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   16.070000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   16.080000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   16.090000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   16.100000] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   16.110000] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   16.110000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   16.120000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   16.130000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   16.260000] PPP generic driver version 2.4.2
[   16.280000] NET: Registered protocol family 24
[   16.320000] b43-phy0: Broadcom 53572 WLAN found (core revision 28)
[   16.320000] b43-phy0: Found PHY: Analog 9, Type 4 (N), Revision 17
[   16.330000] b43-phy0 ERROR: FOUND UNSUPPORTED RADIO (Manuf 0x17F, ID 0x2057, Revision 13, Version 0)
[   16.340000] b43: probe of bcma0:0 failed with error -122
[   16.350000] Broadcom 43xx driver loaded [ Features: PNL ]
[   16.370000] Broadcom 43xx-legacy driver loaded [ Features: PLD ]
[   27.620000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   27.730000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   27.730000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   31.680000] jffs2: notice: (785) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[   32.750000] device eth0.1 entered promiscuous mode
[   32.750000] device eth0 entered promiscuous mode
[   32.780000] br-lan: port 1(eth0.1) entered forwarding state
[   32.780000] br-lan: port 1(eth0.1) entered forwarding state
[   34.780000] br-lan: port 1(eth0.1) entered forwarding state
[  195.460000] br-lan: port 1(eth0.1) entered disabled state
[  195.460000] device eth0.1 left promiscuous mode
[  195.470000] device eth0 left promiscuous mode
[  195.470000] br-lan: port 1(eth0.1) entered disabled state
[  195.520000] IPv6: ADDRCONF(NETDEV_UP): eth0.1: link is not ready
[  195.610000] device eth0.1 entered promiscuous mode
[  195.610000] device eth0 entered promiscuous mode
[  195.640000] br-lan: port 1(eth0.1) entered forwarding state
[  195.640000] br-lan: port 1(eth0.1) entered forwarding state
[  197.640000] br-lan: port 1(eth0.1) entered forwarding state</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298725">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">okalman</div>
					<div class="post-datetime">
						5 Nov 2015, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>A also have this model. I&#039;ve flashed dd-wrt firmware, and now I can&#039;t restore the original firmware. I can&#039;t acces CFE web server, and tftp also doesn&#039;t work. I opened the device and hooked a serial connection. In Putty I see the folowing:</p><p>Decompressing...done</p><br /><p>CFE version 5.100.138.2202 based on BBP 1.0.37 for BCM947XX (32bit,SP,LE)<br />Build Date: Thu Aug 29 14:38:19 CST 2013 (tplink@localhost.localdomain)<br />Copyright (C) 2000-2008 Broadcom Corporation.</p><p>Init Arena<br />Init Devs.<br />Boot partition size = 131072(0x20000)<br />Found an ST compatible serial flash with 64 64KB blocks; total size 4MB<br />et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.100.138.2202<br />CPU type 0x19749: 300MHz<br />Tot mem: 32768 KBytes</p><p>CFE mem:&nbsp; &nbsp; 0x80700000 - 0x80798440 (623680)<br />Data:&nbsp; &nbsp; &nbsp; &nbsp;0x8072E260 - 0x807314B0 (12880)<br />BSS:&nbsp; &nbsp; &nbsp; &nbsp; 0x807314B0 - 0x80732440 (3984)<br />Heap:&nbsp; &nbsp; &nbsp; &nbsp;0x80732440 - 0x80796440 (409600)<br />Stack:&nbsp; &nbsp; &nbsp; 0x80796440 - 0x80798440 (8192)<br />Text:&nbsp; &nbsp; &nbsp; &nbsp;0x80700000 - 0x8072E25C (189020)</p><p>Device eth0:&nbsp; hwaddr 00-90-4C-08-00-01, ipaddr 192.168.1.1, mask 255.255.255.0<br />gateway not set, nameserver not set<br />Invalid boot block on disk<br />flash0.0: Device not found<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: PANIC: out of memory!<br />raw_fileop_uninit: warning: refcnt not zero<br />Entry at 0x00000000</p><p>Is it possible to bring it back to life? Via jTag port?<br />Thanks for reply.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>