<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Add support of VIZIO XWR100 (based on WRT400N)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 22 Mar 2018 and 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=43609&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=43609&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p229832">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">dony71</div>
					<div class="post-datetime">
						10 Apr 2014, 20:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adm1jtg wrote:</cite><blockquote><p>Ok I lied since updating everything on the staus/overview page always just reads collecting data and never displays any information. I have tried re-flashing and powering down and up the router and cant get it to display information on this page.</p><p>Not sure what else to try....</p><p>Also would you happen to have the <br />vmlinux-xwr100.uImage mtd2<br />openwrt-ar71xx-generic-root.squashfs-64k mtd<br />files that match your original version as the orginal updated that status page properly</p><p>I could even sysupdate with a sysupdate version of the original firmeware if you have that available</p><p>While the firmware works really well i need the status page to work so I can see things like dhcp leases and wan ip adress and all.</p><p>Let me know what you recommend</p></blockquote></div><p>Did you try to reset to factory default?<br />As for old firmware, I only keep firmware which I&#039;m currently using</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229845">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">adm1jtg</div>
					<div class="post-datetime">
						10 Apr 2014, 21:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dony71 wrote:</cite><blockquote><div class="quotebox"><cite>adm1jtg wrote:</cite><blockquote><p>Ok I lied since updating everything on the staus/overview page always just reads collecting data and never displays any information. I have tried re-flashing and powering down and up the router and cant get it to display information on this page.</p><p>Not sure what else to try....</p><p>Also would you happen to have the <br />vmlinux-xwr100.uImage mtd2<br />openwrt-ar71xx-generic-root.squashfs-64k mtd<br />files that match your original version as the orginal updated that status page properly</p><p>I could even sysupdate with a sysupdate version of the original firmeware if you have that available</p><p>While the firmware works really well i need the status page to work so I can see things like dhcp leases and wan ip adress and all.</p><p>Let me know what you recommend</p></blockquote></div><p>Did you try to reset to factory default?<br />As for old firmware, I only keep firmware which I&#039;m currently using</p></blockquote></div><p>I am happy to say its NOT the firmware after all. I re-did all the flashing, factory reset and all that and no change. Still no status updates but the I tried IE browser instead of my default chrome and everything works perfectly. No idea why this is the case but as i said this means it has NOTHING to do with the firmware which makes me very happy.</p><p>I will try and figure out what plugin or extension chrome is missing.</p><p>Thanks again for all the help the openwrt firmware makes this router so much better.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229942">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">c.lee</div>
					<div class="post-datetime">
						11 Apr 2014, 22:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dony71 wrote:</cite><blockquote><div class="quotebox"><cite>adm1jtg wrote:</cite><blockquote><p>Great. I appreciate it and yes it did seem very stable so your probably right about some other network device being the culprit. Does this latest version by chance have DLNA support off the usb port? as thats really the main feature i missed.</p></blockquote></div><p>why you need DLNA?<br />router is for network routing purpose, not for video streaming.<br />this router has only 32MB RAM and it will be easily exhausted <br />doing DLNA streaming which might cause instability function of the router.<br />buy media streaming device like roku if you need DLNA streaming.<br />for doing router job, openwrt enrich a lot of routing feature<br />such as QOS priority, extensive firewall like blocking certain<br />website on certain period of time and/or on certain device, etc<br />i have include such extensive firewall feature and QOS as well in this firmware image.</p></blockquote></div><p>I&#039;ve found DLNA to be a royal pain to be honest.but I don&#039;t think devices like the roku are really worth the money to be honest.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229946">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">dony71</div>
					<div class="post-datetime">
						11 Apr 2014, 22:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dony71 wrote:</cite><blockquote><p>i try compiling uboot from vizio GPL but somehow network is not working in uboot</p><p>cmtsij,<br />did you try to compile uboot whether network working?</p></blockquote></div><p>something wrong with athrs26_phy.c<br />anybody familiar with this code? cmtsij?</p><p>btw, AP94 has several sources and I check u-boot.bin original from package, all of them don&#039;t work <br />even recompile also, network still failure </p><p>Vizio GPL <br /><a href="http://store.vizio.com/xwr100-routercodes">http://store.vizio.com/xwr100-routercodes</a></p><p>WRT400N GPL <br /><a href="http://sourceforge.net/projects/officiallinksysfirmware/files/wrt400n/v1/">http://sourceforge.net/projects/officia … rt400n/v1/</a></p><p>WR703N GPL <br /><a href="https://code.google.com/p/wr703n-uboot-with-web-failsafe/source/checkout">https://code.google.com/p/wr703n-uboot- … e/checkout</a></p><p>compile has some warning below<br />anything could break network function?</p><p>In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from bzlib.c:2:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />&lt;command line&gt;:5:1: warning: this is the location of the previous definition<br />In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from bzlib_decompress.c:2:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />&lt;command line&gt;:5:1: warning: this is the location of the previous definition<br />In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from crc32.c:12:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />&lt;command line&gt;:5:1: warning: this is the location of the previous definition<br />In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from display_options.c:24:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />&lt;command line&gt;:5:1: warning: this is the location of the previous definition<br />In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from vsprintf.c:17:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />&lt;command line&gt;:5:1: warning: this is the location of the previous definition<br />LzmaDecode.c: In function `LzmaDecodeProperties&#039;:<br />LzmaDecode.c:127: warning: implicit declaration of function `printf&#039;<br />In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from LzmaWrapper.c:32:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />&lt;command line&gt;:5:1: warning: this is the location of the previous definition<br />LzmaWrapper.c: In function `lzma_inflate&#039;:<br />LzmaWrapper.c:149: warning: comparison between pointer and integer<br />LzmaWrapper.c: At top level:<br />LzmaWrapper.c:46: warning: &#039;dpos&#039; defined but not used<br />LzmaTools.c: In function `lzma_inflate&#039;:<br />LzmaTools.c:149: warning: comparison between pointer and integer<br />LzmaTools.c: At top level:<br />LzmaTools.c:46: warning: &#039;dpos&#039; defined but not used<br />mips-linux-ar: creating lib_lzma.a<br />cmd_boot.c: In function `do_go&#039;:<br />cmd_boot.c:63: warning: passing arg 1 of pointer to function makes integer from pointer without a cast<br />cmd_bootm.c:157:1: warning: &quot;CONFIG_LZMA&quot; redefined<br />In file included from /home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/common.h:102,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from cmd_bootm.c:27:<br />/home/dony71/Project/VIZIO_1.01.02/boot/u-boot-1.1.4/include/image.h:129:1: warning: this is the location of the previous definition<br />cmd_bootm.c: In function `do_bootm&#039;:<br />cmd_bootm.c:327: warning: implicit declaration of function `mips_cache_flush&#039;<br />xyzModem.c: In function `zm_flush&#039;:<br />xyzModem.c:266: warning: unused variable `p&#039;<br />xyzModem.c: In function `xyzModem_stream_open&#039;:<br />xyzModem.c:455: warning: unused variable `console_chan&#039;<br />ap94.c: In function `ar7100_mem_config&#039;:<br />ap94.c:46: warning: implicit declaration of function `ar7100_ddr_find_size&#039;<br />../common/ar7100_flash.c:28:1: warning: &quot;display&quot; redefined<br />In file included from ../common/ar7100_flash.c:21:<br />../common/ar7100_flash.h:41:1: warning: this is the location of the previous definition<br />../common/ar7100_flash.c:39: warning: function declaration isn&#039;t a prototype<br />../common/ar7100_flash.c:43: warning: function declaration isn&#039;t a prototype<br />../common/ar7100_flash.c:53: warning: function declaration isn&#039;t a prototype<br />../common/ar7100_flash.c: In function `flash_init&#039;:<br />../common/ar7100_flash.c:86: warning: passing arg 1 of `flash_get_geom&#039; from incompatible pointer type<br />../common/ar7100_flash.c:70: warning: unused variable `i&#039;<br />../common/ar7100_flash.c:71: warning: unused variable `rd&#039;<br />ap94_pci.c: In function `plat_dev_init&#039;:<br />ap94_pci.c:92: warning: implicit declaration of function `ar7100_pci_write_config&#039;<br />ap94_pci.c: At top level:<br />ap94_pci.c:310: warning: static declaration of &#039;ar7100_pci_write_config&#039; follows non-static declaration<br />ap94_pci.c:92: warning: previous implicit declaration of &#039;ar7100_pci_write_config&#039; was here<br />ap94_pci.c: In function `pci_init_board&#039;:<br />ap94_pci.c:429: warning: `return&#039; with a value, in function returning void<br />ap94_pci.c:362: warning: unused variable `val&#039;<br />cpu.c: In function `flush_cache&#039;:<br />cpu.c:74: warning: implicit declaration of function `dcache_flush_range&#039;<br />cpu.c:68: warning: unused variable `i&#039;<br />ag7100.c:54: warning: return type defaults to `int&#039;<br />ag7100.c: In function `ag7100_check_link&#039;:<br />ag7100.c:289: warning: unused variable `fdx&#039;<br />ag7100.c:289: warning: unused variable `i&#039;<br />ag7100.c: In function `ag7100_mac_addr_loc&#039;:<br />ag7100.c:513: warning: unused variable `flash_info&#039;<br />ag7100.c: In function `pkt_push&#039;:<br />ag7100.c:60: warning: control reaches end of non-void function<br />ag7100.c: At top level:<br />ag7100.c:249: warning: &#039;is_setup_done&#039; defined but not used<br />meminit.c: In function `ar7100_ddr_tap_config&#039;:<br />meminit.c:93: warning: initialization makes pointer from integer without a cast<br />meminit.c:93: warning: initialization makes pointer from integer without a cast<br />meminit.c:117: warning: passing arg 1 of `flush_cache&#039; makes integer from pointer without a cast<br />meminit.c:137: warning: passing arg 1 of `flush_cache&#039; makes integer from pointer without a cast<br />meminit.c:91: warning: unused variable `prev&#039;<br />meminit.c: In function `ar7100_ddr_get_width&#039;:<br />meminit.c:161: warning: initialization makes pointer from integer without a cast<br />meminit.c:161: warning: initialization makes pointer from integer without a cast<br />meminit.c: In function `sanity_mem_check&#039;:<br />meminit.c:197: warning: initialization makes pointer from integer without a cast<br />meminit.c: In function `ar7100_ddr_find_size&#039;:<br />meminit.c:220: warning: initialization makes pointer from integer without a cast<br />meminit.c:221: warning: unused variable `incr&#039;<br />meminit.c: In function `ar7100_ddr_tap_config&#039;:<br />meminit.c:92: warning: &#039;floor&#039; might be used uninitialized in this function<br />meminit.c:92: warning: &#039;ceiling&#039; might be used uninitialized in this function<br />net.c: In function `NetLoop&#039;:<br />net.c:514: warning: label `skip_netloop&#039; defined but not used<br />net.c: In function `NetStartAgain&#039;:<br />net.c:643: warning: integer overflow in expression<br />net.c: In function `PingStart&#039;:<br />net.c:819: warning: integer overflow in expression<br />eth.c: In function `eth_initialize&#039;:<br />eth.c:235: warning: implicit declaration of function `ag7100_enet_initialize&#039;<br />nfs.c: In function `NfsHandler&#039;:<br />nfs.c:673: warning: integer overflow in expression<br />nfs.c: In function `NfsStart&#039;:<br />nfs.c:762: warning: integer overflow in expression<br />pci_indirect.c: In function `indirect_read_config_byte&#039;:<br />pci_indirect.c:110: warning: implicit declaration of function `out_le32&#039;<br />pci_indirect.c:110: warning: implicit declaration of function `in_8&#039;<br />pci_indirect.c: In function `indirect_read_config_word&#039;:<br />pci_indirect.c:111: warning: implicit declaration of function `in_le16&#039;<br />pci_indirect.c: In function `indirect_read_config_dword&#039;:<br />pci_indirect.c:112: warning: implicit declaration of function `in_le32&#039;<br />pci_indirect.c: In function `indirect_write_config_byte&#039;:<br />pci_indirect.c:118: warning: implicit declaration of function `out_8&#039;<br />pci_indirect.c: In function `indirect_write_config_word&#039;:<br />pci_indirect.c:119: warning: implicit declaration of function `out_le16&#039;</p>											<p class="post-edited">(Last edited by <strong>dony71</strong> on 12 Apr 2014, 02:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230142">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">shawnbon206</div>
					<div class="post-datetime">
						14 Apr 2014, 09:35					</div>
				</div>
				<div class="post-content content">
					<p>I thought I would share this, I made a video documenting all the steps required to get this router into failsafe mode:</p><p><a href="http://youtu.be/w5axinUSo6I">http://youtu.be/w5axinUSo6I</a></p><p>Of course this information was taken from the failsafe.generic wiki page, but this video takes the guesswork out of it because it shows exactly what the lights do the exact moment the broadcast packet is sent</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231119">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">dony71</div>
					<div class="post-datetime">
						23 Apr 2014, 21:08					</div>
				</div>
				<div class="post-content content">
					<p>today i compile another u-boot with DEBUGOUT enable in athrs26_phy.h<br />i&#039;m very puzzle because i don&#039;t see anything wrong on DEBUGOUT print below,<br />but ping still shows unsuccessful</p><p>=============================================================<br />U-Boot 1.1.4 (Apr 16 2014 - 16:51:50)<br />AP94 (ar7100) U-boot 0.0.12<br />DRAM:&nbsp; b8050000: 0xc0140180<br />32 MB<br />Top of RAM usable for U-Boot at: 82000000<br />Reserving 224k for U-Boot at: 81fc4000<br />Reserving 192k for malloc() at: 81f94000<br />Reserving 44 Bytes for Board Info at: 81f93fd4<br />Reserving 36 Bytes for Global Data at: 81f93fb0<br />Reserving 128k for boot params() at: 81f73fb0<br />Stack Pointer at: 81f73f98<br />Now running in RAM - U-Boot at: 81fc4000<br />id read 0x100000ff<br />flash size 8MB, sector count = 128<br />Flash:&nbsp; 8 MB<br />In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7100_enet_initialize...<br />No valid address in Flash. Using fixed address<br />start auto negogiation on each phy<br />PHY Base: 0x0 PHY Addr: 0x0<br />PHY Base: 0x0 PHY Addr: 0x1<br />PHY Base: 0x0 PHY Addr: 0x2<br />PHY Base: 0x0 PHY Addr: 0x3<br />associated PHY<br />Port 0, Neg Success<br />Port 1, Neg Success<br />Port 2, Neg Success<br />Port 3, Neg Success<br />Initialize software status<br />eth0: Phy Specific Status=0010<br />eth0: Phy Specific Status=0010<br />eth0: Phy Specific Status=0010<br />eth0: Phy Specific Status=0010;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;eth0: 00:03:7f:09:0b:ad<br />eth0 up<br />No valid address in Flash. Using fixed address<br />start auto negogiation on each phy<br />PHY Base: 0x0 PHY Addr: 0x4<br />associated PHY<br />Port 4, Neg Success<br />Initialize software status<br />eth1: Phy Specific Status=0010<br />eth1: 00:03:7f:09:0b:ad<br />eth1 up<br />eth0, eth1<br />Hit any key to stop autoboot:&nbsp; 0<br />ar7100&gt; ping 192.168.1.5<br />enet0 port0 up<br />Using eth0 device<br />sending ARP for c0a80105<br />ARP broadcast 1<br />ARP broadcast 2<br />ping failed; host 192.168.1.5 is not alive</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234036">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">mrhanman</div>
					<div class="post-datetime">
						21 May 2014, 02:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dony71 wrote:</cite><blockquote><p>you can update firmware via SSH<br />to do this, you need to download all 3 files for env, uImage and rootfs<br />upload those 3 files in /tmp via SCP, go to /tmp, then issue command below :<br />mtd -e mtd1 write env.bin mtd1<br />mtd -e mtd2 write vmlinux-xwr100.uImage mtd2<br />mtd -e mtd3 write openwrt-ar71xx-generic-root.squashfs-64k mtd3</p><br /><p><a href="http://www.mediafire.com/download/p3pms753t0lcgfr/env.bin">http://www.mediafire.com/download/p3pms … fr/env.bin</a><br /><a href="http://www.mediafire.com/download/zd02d47rubm0rzj/vmlinux-xwr100.uImage">http://www.mediafire.com/download/zd02d … 100.uImage</a><br /><a href="http://www.mediafire.com/download/pyibh9tdpmk9yl0/openwrt-ar71xx-generic-root.squashfs-64k">http://www.mediafire.com/download/pyibh … uashfs-64k</a></p></blockquote></div><p>I flashed this, and now the router won&#039;t boot.&nbsp; The power LED flashes for a couple seconds, then the Ethernet LEDs flash once, and a link is established.&nbsp; Wireshark detects no packets from it.&nbsp; I can&#039;t get it into failsafe mode.&nbsp; Is there anything else I can do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234354">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">mrhanman</div>
					<div class="post-datetime">
						23 May 2014, 07:09					</div>
				</div>
				<div class="post-content content">
					<p>I hooked up to the onboard serial port, but all I&#039;m getting in putty is garbage.&nbsp; What are the proper settings?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267619">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">cmtsij</div>
					<div class="post-datetime">
						4 Mar 2015, 16:31					</div>
				</div>
				<div class="post-content content">
					<p>I build the image of XWR100 and upgrade the kernel to 3.18.8 with OpenVPN/PPTP/L2TP.<br />download here: <a href="https://github.com/cmtsij/openwrt/releases/tag/XWR100_LINUX_3.18.8">https://github.com/cmtsij/openwrt/relea … NUX_3.18.8</a><br />WARNING: Flash at you own risk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267620">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">cmtsij</div>
					<div class="post-datetime">
						4 Mar 2015, 16:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mrhanman wrote:</cite><blockquote><p>I hooked up to the onboard serial port, but all I&#039;m getting in putty is garbage.&nbsp; What are the proper settings?</p></blockquote></div><p>115200 8n1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275802">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">abescalamis</div>
					<div class="post-datetime">
						10 May 2015, 02:57					</div>
				</div>
				<div class="post-content content">
					<p>I been trying to compile the image for this firmware, I got the first build created, and I wanted to upgrade I been three days searching how to compile but that is way beyond my knowledge, I found the link above to download the latest version already compiled but it trows me to the github and there is no .bin.</p><p>Can someone help me please</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276151">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">abescalamis</div>
					<div class="post-datetime">
						13 May 2015, 01:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmtsij wrote:</cite><blockquote><p>I build the image of XWR100 and upgrade the kernel to 3.18.8 with OpenVPN/PPTP/L2TP.<br />download here: <a href="https://github.com/cmtsij/openwrt/releases/tag/XWR100_LINUX_3.18.8">https://github.com/cmtsij/openwrt/relea … NUX_3.18.8</a><br />WARNING: Flash at you own risk.</p></blockquote></div><p>I see that you build the image for a XWR100, can you share it with me? I see your posted the link but I think I still need to compile it, I&#039;ve been trying to compile it for a few days, I wanted to use the XWR100 as a repeater/extender but I&#039;m starting to give up. I see that openwrt has image for a lot of routers but not for this one.</p><p>Thank you.</p><p>My email is abescalamis@gmail.com</p>											<p class="post-edited">(Last edited by <strong>abescalamis</strong> on 13 May 2015, 01:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321853">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">sharrq27</div>
					<div class="post-datetime">
						29 Apr 2016, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>I am currently using cmtsij&#039;s 3.18.8 version referenced above (Chaos Calmer r44596) and was previously using the Attitude Adjustment version before that. I am wanting to enable the SQM features but all the current repositories are for a slightly different version of kernel. Wondering if anyone has successfully built for Chaos Calmer 15.05.1 so that the software repositories work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322338">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">sharrq27</div>
					<div class="post-datetime">
						3 May 2016, 07:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmtsij wrote:</cite><blockquote><p>[<br />Also I backup all stock firmware by dump /dev/mtdblockX before working to being OpenWrt.</p></blockquote></div><p>Any chance anyone still has all the stock firmware available? I mistakenly erased my calibration data during one of my flash attempts.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334150">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">cmtsij</div>
					<div class="post-datetime">
						12 Aug 2016, 04:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sharrq27 wrote:</cite><blockquote><p>I am currently using cmtsij&#039;s 3.18.8 version referenced above (Chaos Calmer r44596) and was previously using the Attitude Adjustment version before that. I am wanting to enable the SQM features but all the current repositories are for a slightly different version of kernel. Wondering if anyone has successfully built for Chaos Calmer 15.05.1 so that the software repositories work?</p></blockquote></div><p>I still works patches for XWR100.<br />Please fetch those patches from here:<br /><a href="https://github.com/cmtsij/openwrt/tree/Board/XWR100%4020160725">https://github.com/cmtsij/openwrt/tree/ … 4020160725</a></p><p>Once finish the build:<br />you can see those files:<br />## use this firemware from Vizio stock to OpenWrt<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-squashfs-<strong>factory</strong>.bin</p><p>## flash in OpenWrt command line or Luci GUI<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-squashfs-<strong>sysupgrade</strong>.bin</p><p>## bootloader recovery rootfs.<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-<strong>tftp-rootfs.squash</strong>.bin<br /># setup a tftp server on you PC with ip 192.168.1.5, and host the renamed file in your tftp server.<br /># rename it as &quot;rootfs.squash&quot;<br /># and &quot;<strong>run loadFiles</strong>&quot; on bootloader</p><p>## bootloader recovery kernel.<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-<strong>tftp-vmlinux.lzma.uImage</strong>.bin<br /># setup a tftp server on you PC with ip 192.168.1.5, and host the renamed file in your tftp server.<br /># rename it as vmlinux.lzma.uImage<br /># and &quot;<strong>run loadLinux</strong>&quot; on bootloader</p><p>- OR - you and &quot;run upgrade&quot; to recovery kernel and rootfs.<br />here is the detail of run commands<br /></p><div class="codebox"><pre><code>loadLinux=tftpboot 0x80010000 vmlinux.lzma.uImage;erase 0xbf040000 +0x160000;cp.b 0x80010000 0xbf040000 0x160000                                                        
loadFiles=tftpboot 0x80010000 rootfs.squash;erase 0xbf1b0000 +0x600000;cp.b 0x80010000 0xbf1b0000 0x600000                                                              
upgrade=run loadLinux;run loadFiles</code></pre></div>											<p class="post-edited">(Last edited by <strong>cmtsij</strong> on 12 Aug 2016, 04:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334155">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">cmtsij</div>
					<div class="post-datetime">
						12 Aug 2016, 06:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sharrq27 wrote:</cite><blockquote><div class="quotebox"><cite>cmtsij wrote:</cite><blockquote><p>[<br />Also I backup all stock firmware by dump /dev/mtdblockX before working to being OpenWrt.</p></blockquote></div><p>Any chance anyone still has all the stock firmware available? I mistakenly erased my calibration data during one of my flash attempts.</p></blockquote></div><div class="quotebox"><cite>sharrq27 wrote:</cite><blockquote><div class="quotebox"><cite>cmtsij wrote:</cite><blockquote><p>[<br />Also I backup all stock firmware by dump /dev/mtdblockX before working to being OpenWrt.</p></blockquote></div><p>Any chance anyone still has all the stock firmware available? I mistakenly erased my calibration data during one of my flash attempts.</p></blockquote></div><p>I can&#039;t provide my calibration data to you.<br />But a nice person dumped whole flash content.<br /><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=746859#746859">http://www.dd-wrt.com/phpBB2/viewtopic. … 859#746859</a><br />you can use it to export factory and caldata<br />Download it and un-rar it.<br />and run command<br /></p><div class="codebox"><pre><code>dd if=XWR100.bin of=mtdbloack6_factory.bin skip=$((0x007c0000)) bs=1 count=$((0x00010000))
dd if=XWR100.bin of=mtdbloack8_caldata.bin skip=$((0x007f0000)) bs=1 count=$((0x00010000))</code></pre></div><br /><p>write the label mac address to caldata<br /></p><div class="codebox"><pre><code>#!/bin/sh

label_mac=00:11:22:33:44:55
label_mac_plus_one=00:11:22:33:44:56

mac_to_hex()
{
    local mac=&quot;${1//:/}&quot;
    for hex in $(echo $mac | grep -o ..); do
        printf \\$(printf &#039;%03o&#039; 0x$hex)
    done
}

mac_to_hex $label_mac      | dd of=mtdbloack8_caldata.bin conv=notrunc seek=$((0x520c)) bs=1 count=6
mac_to_hex $label_mac_plus | dd of=mtdbloack8_caldata.bin conv=notrunc seek=$((0x110c)) bs=1 count=6</code></pre></div>											<p class="post-edited">(Last edited by <strong>cmtsij</strong> on 12 Aug 2016, 06:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354699">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">abescalamis</div>
					<div class="post-datetime">
						21 Mar 2017, 05:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmtsij wrote:</cite><blockquote><p>I still works patches for XWR100.<br />Please fetch those patches from here:</p><p>Once finish the build:<br />you can see those files:<br />## use this firemware from Vizio stock to OpenWrt<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-squashfs-<strong>factory</strong>.bin</p><p>## flash in OpenWrt command line or Luci GUI<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-squashfs-<strong>sysupgrade</strong>.bin</p><p>## bootloader recovery rootfs.<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-<strong>tftp-rootfs.squash</strong>.bin<br /># setup a tftp server on you PC with ip 192.168.1.5, and host the renamed file in your tftp server.<br /># rename it as &quot;rootfs.squash&quot;<br /># and &quot;<strong>run loadFiles</strong>&quot; on bootloader</p><p>## bootloader recovery kernel.<br />bin/ar71xx/openwrt-ar71xx-generic-xwr100-<strong>tftp-vmlinux.lzma.uImage</strong>.bin<br /># setup a tftp server on you PC with ip 192.168.1.5, and host the renamed file in your tftp server.<br /># rename it as vmlinux.lzma.uImage<br /># and &quot;<strong>run loadLinux</strong>&quot; on bootloader</p><p>- OR - you and &quot;run upgrade&quot; to recovery kernel and rootfs.<br />here is the detail of run commands<br /></p><div class="codebox"><pre><code>loadLinux=tftpboot 0x80010000 vmlinux.lzma.uImage;erase 0xbf040000 +0x160000;cp.b 0x80010000 0xbf040000 0x160000                                                        
loadFiles=tftpboot 0x80010000 rootfs.squash;erase 0xbf1b0000 +0x600000;cp.b 0x80010000 0xbf1b0000 0x600000                                                              
upgrade=run loadLinux;run loadFiles</code></pre></div></blockquote></div><p>Has anyone compiled the above? if so, can you please share the compiled version.</p><p>I am currently using cmtsij&#039;s 3.18.8 version, I want to use the above but I&#039;m a NOOB, I&#039;m sure that it has been compiled but wondering why no one shares it, I will try to compile it myself but it looks very hard, I know it will take me weeks if not months, I will start by downloading ubuntu.</p>											<p class="post-edited">(Last edited by <strong>abescalamis</strong> on 21 Mar 2017, 06:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363485">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">Spork Schivago</div>
					<div class="post-datetime">
						10 Aug 2017, 18:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>abescalamis wrote:</cite><blockquote><p>Has anyone compiled the above? if so, can you please share the compiled version.</p><p>I am currently using cmtsij&#039;s 3.18.8 version, I want to use the above but I&#039;m a NOOB, I&#039;m sure that it has been compiled but wondering why no one shares it, I will try to compile it myself but it looks very hard, I know it will take me weeks if not months, I will start by downloading ubuntu.</p></blockquote></div><p>I just finished compiling it.&nbsp; &nbsp;I downloaded OpenWRT from the github.com/openwrt/openwrt.git, then I went to cmtsij&#039;s repository, pulled the three commits he made and ported them over to the newest version of OpenWRT.</p><p>I changed a few things.&nbsp; &nbsp;I made it so that Vizio XWR100 was the default profile.&nbsp; Then I set it so the Vizio XWR100 profile built with these packages:<br /></p><div class="codebox"><pre><code>kmod-usb-core kmod-usb2 kmod-usb-ohci kmod-user-hid kmod-usb-storage kmod-usb-storage-extras kmod-ledtrig-usbdev</code></pre></div><p>It was setup to build with these packages (the generic profile that was selected):<br /></p><div class="codebox"><pre><code>kmod-usb-core kmod-usb-ohci kmod-usb2 kmod-ledtrig-usbdev</code></pre></div><p>Because this router supports a USB port, I was trying to set it up where that USB port could be used as external storage, if someone hooked up a USB hard drive or a USB thumb drive.&nbsp; &nbsp;I also wanted it so someone could hook a keyboard up to that USB port, if they wanted, and have it recognized and be able to type to the console.</p><p>The build was successful.&nbsp; &nbsp;I made a simple batch script that downloaded the latest version of OpenWRT from github, patched it, update the feeds, install the feeds, etc.&nbsp; &nbsp;It was supposed to call make menuconfig and then make, but I have a custom trap setup to catch error messages, to display them a bit nicer.&nbsp; &nbsp;But after the feeds get installed, for whatever reason, the script exits.&nbsp; &nbsp;I have to manually change into the directory the script creates and then manually run make menuconfig and make.&nbsp; &nbsp; I think this because the feed script calls exit.&nbsp; &nbsp;I&#039;ll have to look into that and try to come up with a workaround.</p><p>I will test the file.&nbsp; &nbsp;The openwrt-ar71xx-generic-xwr100-squashfs-factory.bin file is 3.3MB.&nbsp; &nbsp;The Vizio XWR100 has an 8MB flash with 32MB of RAM.&nbsp; &nbsp;This should be enough.</p><p>I want to work on upgrading the Nor flash and the RAM in this router though.&nbsp; &nbsp;For the RAM, I need to check to see how many address lines there are going to RAM.&nbsp; &nbsp;I figure 32MB requires 25 address lines, but someone said that this router uses DRAM, which uses a Matrix, so less address lines are required.&nbsp; &nbsp;If it requires 25 address lines for 32MB, for 64MB of RAM, it&#039;d require 26.&nbsp; &nbsp;Not sure how to calculate the address lines for DRAM though, which use those Matrixes.&nbsp; &nbsp;I gotta research that some more.</p><p>Anyway.&nbsp; &nbsp;I&#039;m new to this and had some questions.&nbsp; &nbsp; Is uboot the stock bootloader that comes with this Vizio?&nbsp; &nbsp;Does OpenWRT update that bootloader?&nbsp; &nbsp;The bootloader determines what types of flash are compatible, I believe.&nbsp; &nbsp;So I wanted to try and custom build uboot, if it didn&#039;t support the flash I was going to add (a 128MB (1Gb)) Nor flash (16-SOIC package).</p><p>Once I upload the OpenWRT openwrt-ar71xx-generic-xwr100-squashfs-factory.bin firmware I built and verify it doesn&#039;t brick the system or anything, I will try to upload it here for you and everyone else.</p><p>Also, I don&#039;t understand those run commands that cmtsij talks about.&nbsp; &nbsp;Do I run those on the actual router, once I get OpenWRT installed?&nbsp; &nbsp;Could someone show me an example of the entire command that I&#039;d run?</p><p>I see he mentions tftp.&nbsp; &nbsp;That&#039;d make me think I have to run it from my Linux box.&nbsp; &nbsp;But to my knowledge, there isn&#039;t any Linux run command.&nbsp; &nbsp;Unless it&#039;s a command for the tftp client.&nbsp; &nbsp;I don&#039;t have a lot of experience with TFTP, although, I have used it (way back when I went to college).&nbsp; &nbsp;That was with Cisco routers though.&nbsp; &nbsp;I don&#039;t remember much about it.</p><p>What are the purposes of the openwrt-ar71xx-generic-xwr100-tftp-rootfs.squash.bin image?&nbsp; &nbsp;Is there no recovery image when I install the openwrt-ar71xx-generic-xwr100-squashfs-factory.bin firmware?&nbsp; &nbsp;I see the openwrt-ar71xx-generic-xwr100-squashfs-sysupgrade.bin image is a uboot legacy uImage.&nbsp; &nbsp;Does that mean once I get OpenWRT on there, by going from stock firmware directly to OpenWRT, using the factory.bin image, if I install that sysupgrade.bin image, it&#039;ll update the bootloader?</p><p>Thanks!<br />Thanks!!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363532">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">Spork Schivago</div>
					<div class="post-datetime">
						11 Aug 2017, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>I compiled the kernel with LuCI.&nbsp; &nbsp;There&#039;s an issue that I don&#039;t know how to fix.</p><p>When I go to the web interface, I click on System -&gt; Attended Sysupgrade and see the following:<br /></p><div class="codebox"><pre><code>This page contains the following errors:
error on line 319 at column 7: Opening and ending tag mismatch: input line 0 and div
Below is a rendering of the page up to the first error.</code></pre></div><p>This is my first time using OpenWRT, so I don&#039;t know how to verify if that System Upgrade works yet from the web interface.&nbsp; &nbsp;But I can perform one from the SSH prompt.</p><p>When I plug a connection in the WAN port, an LED lights up on the front, like it&#039;s supposed to.&nbsp; &nbsp;But when I hit the WPS button, no LEDs light up.&nbsp; &nbsp;When I insert a USB thumb drive, I don&#039;t see any LEDs lighting up on the front.&nbsp; &nbsp;Not sure if they&#039;re supposed to or how to fix that either.</p><p>I can&#039;t figure out how to upload files here, so I&#039;ve uploaded them to my server, where they can be downloaded:</p><p>But I cannot post links to my site.&nbsp; &nbsp;Any suggestions?</p><p>This is the latest version of OpenWRT, from github.&nbsp; If you want, I can compile the version provided directly by cmtsij.&nbsp; &nbsp;Let me know, thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p367593">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">cmtsij</div>
					<div class="post-datetime">
						31 Oct 2017, 04:36					</div>
				</div>
				<div class="post-content content">
					<p>update XWR100 source based on LEDE-project.<br /><a href="https://github.com/cmtsij/source/tree/XWR100%4020171031">https://github.com/cmtsij/source/tree/XWR100%4020171031</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p367594">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">cmtsij</div>
					<div class="post-datetime">
						31 Oct 2017, 04:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>What are the purposes of the openwrt-ar71xx-generic-xwr100-tftp-rootfs.squash.bin image?&nbsp; &nbsp;Is there no recovery image when I install the openwrt-ar71xx-generic-xwr100-squashfs-factory.bin firmware?&nbsp; &nbsp;I see the openwrt-ar71xx-generic-xwr100-squashfs-sysupgrade.bin image is a uboot legacy uImage.&nbsp; &nbsp;Does that mean once I get OpenWRT on there, by going from stock firmware directly to OpenWRT, using the factory.bin image, if I install that sysupgrade.bin image, it&#039;ll update the bootloader?</p></blockquote></div><p>tftp-xxxx.bin for bootloade upgrade<br />you need to have UART access and reboot device and hold it in bootloader(ctrl+c).<br />then you can flash these images by bootloader commands:<br /></p><div class="codebox"><pre><code>run loadFiles
run loadLinux</code></pre></div><p>before you &quot;run&quot; bootloader commands:<br />Please remember to rename files and place these files in your tftp server with IP 192.168.1.5:<br /></p><div class="codebox"><pre><code>lede-ar71xx-generic-xwr100-tftp-rootfs.squash.bin -&gt; rootfs.squash
lede-ar71xx-generic-xwr100-tftp-vmlinux.lzma.uImage.bin -&gt; vmlinux.lzma.uImage</code></pre></div><p>lede-ar71xx-generic-xwr100-squashfs-factory.bin is used for (stock =&gt; OpenWrt/Lede)<br />lede-ar71xx-generic-xwr100-squashfs-sysupgrade.bin is used for (OpenWrt/Lede =&gt; OpenWrt/Lede)<br />If you need to rollback to stock, you need these images from Vizio released.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 3 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=43609&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=43609&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>