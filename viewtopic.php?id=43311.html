<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wpa_supplicant and wan autentification</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Feb 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p197134">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Almer</div>
					<div class="post-datetime">
						3 Apr 2013, 23:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>i found myself a big problem on my TP WR841N with OpenWrt Attitude Adjustment 12.09-rc1 and my network. I have WIRED connection so router works as AP. But i need to authenticate to this network...via IEEE802.1X so ... i need to use wpa_supplicant.</p><p>I have created configuration:<br /></p><div class="codebox"><pre><code>#/etc/wpa_supplicant.conf

ctrl_interface=/var/run/wpa_supplicant
ctrl_interface_group=0
eapol_version=1
ap_scan=0
fast_reauth=1

network={
        key_mgmt=IEEE8021X
        eap=TTLS
        anonymous_identity=&quot;anonymous&quot;
        ca_cert=&quot;/etc/certs/cacert.pem&quot;
        identity=&quot;moje_cislo_ISIC&quot;
        password=&quot;moje_heslo&quot;
        phase2=&quot;auth=PAP&quot;
}</code></pre></div><p>and run this command:<br /></p><div class="codebox"><pre><code>wpa_supplicant -D wired -i eth0 -c /etc/wpa_supplicant.conf -B</code></pre></div><p>and got output:<br /></p><div class="codebox"><pre><code>Successfully initialized wpa_supplicant
Line 11: unknown network field &#039;eap&#039;.
Line 12: unknown network field &#039;anonymous_identity&#039;.
Line 13: unknown network field &#039;ca_cert&#039;.
Line 14: unknown network field &#039;identity&#039;.
Line 15: unknown network field &#039;password&#039;.
Line 16: unknown network field &#039;phase2&#039;.
Line 17: failed to parse network block.
Failed to read or parse configuration &#039;/etc/wpa_supplicant.conf&#039;.</code></pre></div><p>What to do? Maybe compiled wpa_supplicant (included one) doesnt have wired support?</p>											<p class="post-edited">(Last edited by <strong>Almer</strong> on 3 Apr 2013, 23:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197573">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Almer</div>
					<div class="post-datetime">
						7 Apr 2013, 19:26					</div>
				</div>
				<div class="post-content content">
					<p>For the next generations...</p><p>I installed wpad-mini version and didn&#039;t read this carefully: <a href="http://wiki.openwrt.org/doc/howto/wireless.utilities">http://wiki.openwrt.org/doc/howto/wireless.utilities</a> . Tips shows that wpad-mini supports only WPA-PSK and wired config i need uses EAP. </p><p>I need to use wpa_supplicant full or wpad full version. Also debug option didn&#039;t work. Maybe in full version it also works, but didnt try - no need to do that. </p><p>What was bad i didnt see wpad enlisted in LUCI gui, i need to install it manually from ssh console and opkg package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197580">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						7 Apr 2013, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>you did not see wpad in luci package list after &quot;update&quot;??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197630">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Almer</div>
					<div class="post-datetime">
						8 Apr 2013, 09:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>you did not see wpad in luci package list after &quot;update&quot;??</p></blockquote></div><p>No.</p><p>Maybe because i didnt hit update button (i see wpad-mini and read what i read -&gt; no need for other packages). And later i didnt have inet connection. Dont know - maybe ask for update when you first time open LUCI?</p><p>Btw, why is wpad-mini listed and wpad not? maybe update release or luci to latest package content?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>