<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problems with spcacat</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p49451">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Jakson</div>
					<div class="post-datetime">
						31 May 2007, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I have a &quot;ASUS WL-500g Premium&quot; with two &quot;Labtec Webcam Pro [0x46d/0x8a2]&quot; cams.</p><p>I have tried several methods to get pictures from two cams in to jpg files.</p><p>1.)</p><p>Starting twice the spcacat for both cams in different directories:</p><div class="codebox"><pre><code> cd /tmp/cam1
 spcacat -d /dev/video0 -g -f jpg -s 640x480 -p 1000 -o &gt; /dev/null &amp;
 cd /tmp/cam2
 spcacat -d /dev/video1 -g -f jpg -s 640x480 -p 1000 -o &gt; /dev/null &amp;</code></pre></div><p>But the saved images have sometimes errors in the image (broken in the middle, false colours or other errors)</p><p> So I thought I access the halve written File through the web browser.</p><p>2.)</p><p>To compensate this I let the spcacat write continuous files:</p><div class="codebox"><pre><code> cd /tmp/cam1
 spcacat -d /dev/video0 -g -f jpg -s 640x480 -p 1000 &gt; /dev/null &amp;
 cd /tmp/cam2
 spcacat -d /dev/video1 -g -f jpg -s 640x480 -p 1000 &gt; /dev/null &amp;</code></pre></div><p>After a while I have al lot of saved images but sometimes the have also the errors in the files.</p><p>3.)</p><p>My new idea is to start the spcacat alternating in a script:</p><div class="codebox"><pre><code>while [ 1 = 1 ]
 do

###### CAM 1 BEGIN ######
  if [ -e /dev/video0 ]; 
   then
    cd /tmp/cam1/
    /usr/bin/spcacat -d /dev/video0 -g -f jpg -s 640x480 -N 1 -o 
    mv /tmp/cam1/SpcaPict.jpg /tmp/webcam1.jpg
  fi 
###### CAM 1 END ######

###### CAM 2 BEGIN ######
  if [ -e /dev/video1 ]; 
   then
    cd /tmp/cam2/
    /usr/bin/spcacat -d /dev/video1 -g -f jpg -s 640x480 -N 1 -o 
    mv /tmp/cam2/SpcaPict.jpg /tmp/webcam2.jpg
  fi 
###### CAM 2 END ######

 done</code></pre></div><p>That works fine but had a very poor refresh rate.<br />The spcacat always test the device every loop. <br />For two cams it will approximately take 6 seconds.</p><p>It looks like the image errors occurs when two grabber using the same USB line at the same time.</p><p>So my question is now is there a way to tell the spcacat to skip the init test sequence or to force it to use pre selected pallets and size through parameters?</p><p>If not where I get the source code to alter the spcacat.</p><p>My wish is a config file like motion where I can describe two or more cams with different output files and maybe output size.</p><br /><p>thanks Jakson</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49549">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MegaDave</div>
					<div class="post-datetime">
						1 Jun 2007, 22:54					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>my config is the same. 6 sec switchtime is ok for me, but on the picture is no timestamp.</p><p>the source is located:<br /><a href="http://www.koders.com/c/fid9A9DECD3F11237BA882BFFC7B34CFF273BF4968E.aspx">http://www.koders.com/c/fid9A9DECD3F112 â€¦ 4968E.aspx</a></p><p>good luck</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>