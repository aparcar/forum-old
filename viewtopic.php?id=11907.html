<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Ipkg not installing locally</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p53254">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						2 Aug 2007, 04:27					</div>
				</div>
				<div class="post-content content">
					<p>For some reason I can&#039;t use ipkg to install from the tmp directory. I scp it over and run</p><div class="codebox"><pre><code>root@host:~# ipkg install /tmp/wpa-supplicant_0.5.7-1_mipsel.ipk.gz</code></pre></div><p>The file is certainly still there (in the /tmp directory) and there were no errors from scp but I get the error:</p><div class="codebox"><pre><code>Nothing to be done
An error ocurred, return value: 4.
Collected errors:
Cannot find package /tmp/wpa-supplicant_0.5.7-1_mipsel.ipk.gz.
Check the spelling or perhaps run &#039;ipkg update&#039;</code></pre></div><p>The router is offline so I can&#039;t run ipkg update or install it over the network. I can&#039;t figure out what I can do to fix this.</p>											<p class="post-edited">(Last edited by <strong>napierzaza</strong> on 2 Aug 2007, 05:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53264">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						2 Aug 2007, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>I think ipkg to install only IPK extensions files, not compressed GZ files... <br />Try to uncompress your package and retry</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53271">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						2 Aug 2007, 15:19					</div>
				</div>
				<div class="post-content content">
					<p>I tried that as well and it said something along the lines of &quot;no gz magic.&quot; Yes it used the word magic.<br />So I really don&#039;t know what I can do.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53273">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">candlerb</div>
					<div class="post-datetime">
						2 Aug 2007, 15:34					</div>
				</div>
				<div class="post-content content">
					<p>Try just renaming the original file to .ipk and then installing it. (i.e. don&#039;t decompress it, just fix the filename)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53286">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">RicMoreira</div>
					<div class="post-datetime">
						2 Aug 2007, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>This happens to me as well... I have the packages (.ipk) in my /tmp directory and i get the exact same error as napierzaza...</p><p>I thought i was doing something wrong but now it seems i am not the only one with the problem.</p><p>Any help would be welcome...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53294">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						2 Aug 2007, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>Have you tried removing the gz extension without unpacking? I haven&#039;t had the chance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53297">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">RicMoreira</div>
					<div class="post-datetime">
						2 Aug 2007, 23:44					</div>
				</div>
				<div class="post-content content">
					<p>i have the same error as you but not with the same packages... in my case i was trying to install vsftpd which has .ipk only as &quot;extension&quot;.</p><p>I type</p><p>ipkg install name_of_the_package.ipk</p><p>and i get that same error... i can&#039;t figure out why...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53299">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						3 Aug 2007, 00:33					</div>
				</div>
				<div class="post-content content">
					<p>You had navigated to the /tmp dir?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53304">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RicMoreira</div>
					<div class="post-datetime">
						3 Aug 2007, 01:35					</div>
				</div>
				<div class="post-content content">
					<p>i tried several ways, i downloaded the fipk file to /tmp and tried to install to ram, tried to install to root, etc...</p><p>didn&#039;t work...</p><p>now i downgraded from kamikaze 7.07 to 7.06 and i installed vsftpd (and it is working) but i still can&#039;t install files downloaded locally</p><p>:S</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53316">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">TemplaraPhoenix</div>
					<div class="post-datetime">
						3 Aug 2007, 07:48					</div>
				</div>
				<div class="post-content content">
					<p>I somewhat doubt ipkg likes the extra gzip layer. I assume .ipkgs use some form of compression, but possibly ipkg isn&#039;t smart enough to realize this since the header is now incorrect. I compiled my own packages and installed locally on 7.06 and 7.07, so its not an OpenWRT problem. Where are you getting the package from? Did you try copying it to a Linux box and extracting the contents (just the .ipkg) then copying that back and installing locally?</p>											<p class="post-edited">(Last edited by <strong>TemplaraPhoenix</strong> on 3 Aug 2007, 07:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53320">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						3 Aug 2007, 08:24					</div>
				</div>
				<div class="post-content content">
					<p>The packages are from the OpenWRT Kamikaze 707 folder called &quot;packages.&quot; I download something wpa-supplicant_0.5.7-1_mipsel.ipk&nbsp; &nbsp; &nbsp; &nbsp;and it doen&#039;t install. I was already gz&#039;ped and I did no manipulating aside from scp&#039;ing it and it didn&#039;t work. Then I tried just opening up the gz and installing only the ipkg and that didn&#039;t work.</p><p>Downloaded from here:<br /><a href="http://downloads.openwrt.org/kamikaze/7.07/brcm-2.4/packages/">http://downloads.openwrt.org/kamikaze/7 â€¦ /packages/</a></p>											<p class="post-edited">(Last edited by <strong>napierzaza</strong> on 3 Aug 2007, 08:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53323">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Arnaud</div>
					<div class="post-datetime">
						3 Aug 2007, 08:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>If I use the link you provide I can download wpa-supplicant but it&#039;s <strong>not</strong> a gzip archive. It&#039;s just a ipkg package so you shouldn&#039;t do anything with but running <strong>ipkg install /share/wpa-supplicant_0.5.7-1_mipsel.ipk</strong>. The package works fine when I download it. It sounds like the system that you are using to download the package screws up the package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53337">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						3 Aug 2007, 15:28					</div>
				</div>
				<div class="post-content content">
					<p>Yes it is a gzip. On the site it&#039;s not listed as one though. I don&#039;t know why.</p><p>I&#039;m using Safari.</p><p>EDIT:</p><p>Yes indeed it appears as if Safari is adding the .gz extension to the file. It now installs properly when it is removed (just edit the file-name).</p>											<p class="post-edited">(Last edited by <strong>napierzaza</strong> on 3 Aug 2007, 16:12)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>