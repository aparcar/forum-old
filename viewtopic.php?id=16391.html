<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> v8 WRT54G debrick</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p71234">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">bdjohnso10</div>
					<div class="post-datetime">
						22 Jul 2008, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>Well I&#039;ve been searching for a couple of months now and can&#039;t de-brick my v8 WRT54G.&nbsp; I have the Xilinix JTAG cable and linux as my OS.&nbsp; I have tried all of the pre fixes of 30 second reset and the boot wait but none have worked.&nbsp; So I decided to move onto the JTAG.&nbsp; I have the hairydairymaid software and tried many times to compile.</p><p>My first question is can I de-brick my v8. I saw one of the forums that said that v5 isn&#039;t supported which would probably mean that the v8 isn&#039;t supported.&nbsp; Also if it would work with some of the peramiters.</p><p>Second question is if v8 is supported then how do I compile the program.&nbsp; I use linux Mint a derivatve of Ubuntu and when I try to run configure it says it cant find the command.&nbsp; I read that configure creats a makefile and one is already included.&nbsp; So I moved onto running make and it created two new files.&nbsp; then when i run make install it says that </p><p>make: *** No rule to make target `install&#039;.&nbsp; Stop.</p><p>And now I am stuck</p><p>third question is if not supported is there any other suggestions to de-bricking my router?</p><p>Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71236">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yoonix</div>
					<div class="post-datetime">
						22 Jul 2008, 01:40					</div>
				</div>
				<div class="post-content content">
					<p>I am actively supporting </p><p><a href="http://wiki.openwrt.org/yoonix">http://wiki.openwrt.org/yoonix</a></p><p>There is a version of hairydairymary code there as well.<br />You should just be able to type make.</p><p>It&#039;s heavily modified hairydairymary code. </p><p>Anyway let me know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71241">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">bdjohnso10</div>
					<div class="post-datetime">
						22 Jul 2008, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>That seems like what I need but I run make and it creates new files then when I type in &#039;tjtagspi&#039; and hit return it says &quot;command not found&quot; but I can see the file tjtagspi and it looks like an executable file.</p><p>This seems to be the same problem that I was running into before.&nbsp; I think its a problem with my syntax or programming or whatever I am typing in.</p>											<p class="post-edited">(Last edited by <strong>bdjohnso10</strong> on 22 Jul 2008, 03:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71260">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bdjohnso10</div>
					<div class="post-datetime">
						22 Jul 2008, 07:26					</div>
				</div>
				<div class="post-content content">
					<p>I think I may have bricked for good now it take forever to flash or erase and nothing seems to happen.&nbsp; Here is the output.</p><div class="quotebox"><blockquote><p>sudo ./tjtagspi -flash:nvram</p><p>==========================================<br /> EJTAG Debrick Utility v2.1.4-Tornado-MOD <br />==========================================</p><p>Probing bus ... Done</p><p>Instruction Length set to 8</p><p>CPU Chip ID: 00100101001101010100000101111111 (2535417F)<br />*** Found a Broadcom BCM5354 KFBG Rev 2 CPU chip ***</p><p>&nbsp; &nbsp; - EJTAG IMPCODE ....... : 00000000100000010000100100000100 (00810904)<br />&nbsp; &nbsp; - EJTAG Version ....... : 1 or 2.0<br />&nbsp; &nbsp; - EJTAG DMA Support ... : Yes<br />&nbsp; &nbsp; - EJTAG Implementation flags: R4k MIPS16 MIPS32</p><p>Issuing Processor / Peripheral Reset ...&nbsp; ECR: 0x00228100 Done</p></blockquote></div><p>Do I need the nvram.bim in the same folder and where can I get it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71315">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">bdjohnso10</div>
					<div class="post-datetime">
						23 Jul 2008, 01:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>sudo ./tjtagspi -flash:custom /window:bfc00000 /start:bfc00000 /length:28718 /noreset<br />[sudo] password for:</p><p>==========================================<br /> EJTAG Debrick Utility v2.1.4-Tornado-MOD <br />==========================================</p><p>Probing bus ... Done</p><p>Instruction Length set to 8</p><p>CPU Chip ID: 00100101001101010100000101111111 (2535417F)<br />*** Found a Broadcom BCM5354 KFBG Rev 2 CPU chip ***</p><p>&nbsp; &nbsp; - EJTAG IMPCODE ....... : 00000000100000010000100100000100 (00810904)<br />&nbsp; &nbsp; - EJTAG Version ....... : 1 or 2.0<br />&nbsp; &nbsp; - EJTAG DMA Support ... : Yes<br />&nbsp; &nbsp; - EJTAG Implementation flags: R4k MIPS16 MIPS32</p><p>Issuing Processor / Peripheral Reset ... Skipped<br />Enabling Memory Writes ... Done<br />Halting Processor ... &lt;Processor Entered Debug Mode!&gt; ... Done<br />Clearing Watchdog ... Done<br />Probing Flash at (Flash Window: 0xbfc00000) ... DMA Read Addr = bfc00000&nbsp; Data = (00000000)ERROR ON READ<br />DMA Read Addr = bfc00002&nbsp; Data = (00000000)ERROR ON READ<br />DMA Read Addr = bfc00000&nbsp; Data = (00000000)ERROR ON READ<br />DMA Read Addr = bfc00002&nbsp; Data = (00000000)ERROR ON READ<br />DMA Read Addr = bfc00000&nbsp; Data = (00000000)ERROR ON READ<br />DMA Read Addr = bfc00002&nbsp; Data = (00000000)ERROR ON READ</p></blockquote></div><p>Ive gotten this far with a .bin that is supposed to debrick it completely but I run into this problem when it gets erros on read.&nbsp; Maybe its the wrong addres start?</p>											<p class="post-edited">(Last edited by <strong>bdjohnso10</strong> on 23 Jul 2008, 04:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71323">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">bdjohnso10</div>
					<div class="post-datetime">
						23 Jul 2008, 06:09					</div>
				</div>
				<div class="post-content content">
					<p>Well i&#039;ve found a forum and supposidly all I have to do is flash this new cfe onto it and everything should be hunky-dorey</p><p>but it seems to get stuck after clearing watchdog</p><div class="quotebox"><blockquote><p>sudo ./tjtagspi -flash:cfe /nobreak /noemw /noreset</p><p>==========================================<br /> EJTAG Debrick Utility v2.1.4-Tornado-MOD <br />==========================================</p><p>Probing bus ... Done</p><p>Instruction Length set to 8</p><p>CPU Chip ID: 00100101001101010100000101111111 (2535417F)<br />*** Found a Broadcom BCM5354 KFBG Rev 2 CPU chip ***</p><p>&nbsp; &nbsp; - EJTAG IMPCODE ....... : 00000000100000010000100100000100 (00810904)<br />&nbsp; &nbsp; - EJTAG Version ....... : 1 or 2.0<br />&nbsp; &nbsp; - EJTAG DMA Support ... : Yes<br />&nbsp; &nbsp; - EJTAG Implementation flags: R4k MIPS16 MIPS32</p><p>Issuing Processor / Peripheral Reset ... Skipped<br />Enabling Memory Writes ... Skipped<br />Halting Processor ... Skipped<br />Clearing Watchdog ... Done</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>bdjohnso10</strong> on 23 Jul 2008, 22:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71580">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">yoonix</div>
					<div class="post-datetime">
						30 Jul 2008, 23:39					</div>
				</div>
				<div class="post-content content">
					<p>ya seems like you have the older version. it&#039;s hanging on flash detection. sorry about the hassle but you have to uncomment the line 1618 and 1619 on my code which is printing devid and productid.</p><p>then recompile to get your product and devid after that you have to create a new entry for your own flash chip.</p><p>once you have the product and devid you make a new entry to the supported chip list. then you should be able to program it.</p><br /><p>good luck.</p><p>the readme should help a bit.</p>											<p class="post-edited">(Last edited by <strong>yoonix</strong> on 30 Jul 2008, 23:42)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>