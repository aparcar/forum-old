<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asterisk 1.6.x</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 13 Apr 2018 and 26 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=18178&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=18178&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=18178&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p117786">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						24 Sep 2010, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Zandbelt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118037">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">enzo</div>
					<div class="post-datetime">
						28 Sep 2010, 13:36					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m having a strange problem with Asterisk 1.6.2.13-1, built based on the current svn trunk. The first time I start it, it crashes almost silently just before starting to load the modules, i.e. (if started with &quot;-vvvvvvd&quot;) after displaying:<br /></p><div class="codebox"><pre><code>[...]
  == Registered application &#039;Park&#039;
  == Manager registered action ParkedCalls
  == Manager registered action Park
  == Manager registered action Bridge
  == Manager registered action DBGet
  == Manager registered action DBPut
  == Manager registered action DBDel
  == Manager registered action DBDelTree
 Asterisk Dynamic Loader Starting:
  == Parsing &#039;/opt/etc/asterisk/modules.conf&#039;:   == Found
[Sep 28 10:26:10] NOTICE[2416]: loader.c:1060 load_modules: 41 modules will be loaded.
Illegal instruction</code></pre></div><p>Nothing else is reported by dmesg, logread or in /var/log/asterisk/messages .<br />If I retry, it works. It also works the first time if, before it, I run a program that allocates enough RAM, e.g. the Python interpreter. Smaller stuff (e.g., vi or small non-busybox utilities such as bw_set without parameters) won&#039;t achieve that result.</p><p>It smacks of unitialized memory bug to me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118038">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">enzo</div>
					<div class="post-datetime">
						28 Sep 2010, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>Forgot to say that this also happened with the previous version 1.6.2.11, but not if I didn&#039;t load chan_iax2.so (at that time I assumed there was something wrong in that module). Now it doesn&#039;t make a difference, but perhaps if I omitted more modules the bug would not show up...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118929">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">bob42</div>
					<div class="post-datetime">
						12 Oct 2010, 14:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello Hans,</p><p>I had a question but answered it on my own <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Thanks again for all the hard work done to get 1.6 in OpenWRT.</p>											<p class="post-edited">(Last edited by <strong>bob42</strong> on 12 Oct 2010, 14:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119727">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">noelbou</div>
					<div class="post-datetime">
						25 Oct 2010, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>Hello All.</p><p>Setting up an asterisk 1.6 test system on an old WRT54GS router ... with the lates BackFire RC.</p><p>The link for the list of available modules for V1.6 given by zandbelt does&#039;t seem to work anymore. And the list of package available in the current release seems to miss quite a few of the ones listed ... </p><p>I would need app_queue.so (and probably a few others appenrently not available in the current realease). <br />Anyone can tell me where i can get it ?</p><br /><p>Is the list of package given by zandbelt still available somewhere ?</p><p>Thank you for any help ...</p><p>Noel</p>											<p class="post-edited">(Last edited by <strong>noelbou</strong> on 26 Oct 2010, 01:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120860">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						12 Nov 2010, 02:53					</div>
				</div>
				<div class="post-content content">
					<p>Zandbelt,</p><p>Perhaps, it is time to support asterisk-1.8.x which includes a chan_gtalk. This way, we can place/receive GV calls using chan_gtalk through GTalk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120873">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						12 Nov 2010, 09:43					</div>
				</div>
				<div class="post-content content">
					<p>I would include Asterisk 1.8 (there&#039;s already a ticket with a proposed patch on that) but only when we drop support for 1.4 and 1.6 to be able to keep up with maintenance. How do people feel about that? Do we need to create a poll?</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120903">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						12 Nov 2010, 16:27					</div>
				</div>
				<div class="post-content content">
					<p>Hans,</p><p>Thanks for your quick response.</p><p>I no longer use asterisk-1.4.x; however, that doesn&#039;t mean it is no longer needed. The reason I said this is asterisk-1.4 is the smallest asterisk package with basic PBX functionalities that some people are still interested to use, especially if their device has a limited space on Flash/RAM. But, that doesn&#039;t mean we can move on to support asterisk-1.8.</p><p>W.r.t. the asterisk-1.8.x, if you are talking about ticket #<a href="https://dev.openwrt.org/ticket/8132">8132</a>, I have already patched to my existing asterisk-1.6.x without any problem. The only problem in building the asterisk-1.8.x is the missing *.gsm files. In this case, the build can&#039;t include both <em>asterisk18-sounds</em> and <em>asterisk18-voicemail</em> packages. If you decide to support asterisk-1.8.x, then I am sure you will have no problem to fix this.</p><p>One good reason to include asterisk-1.8.x in OpenWRT is its new support for Google Voice (GV) calls through chan_gtalk.so module. This will make a lot of asterisk users very happy to migrate to asterisk-1.8.x. I hope you will consider to support for asterisk-1.8.x.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122641">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						5 Dec 2010, 07:35					</div>
				</div>
				<div class="post-content content">
					<p>I really would like to have asterisk 1.8 supported.&nbsp; I am even try to build it on my own for Dockstar using the diff files in ticket 8132.&nbsp; Unfortunately, I encountered a lot of trouble because my lack experience in Openwrt.&nbsp; Moreover, the diff files given are for Asterisk 1.6.2.13 but the one available in the trunk is Asterisk 1.6.2.14.&nbsp; If I can have the correct Makefile and patch files, I can certainly give it a try.&nbsp; Is there such a plan to create such a task?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122655">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						5 Dec 2010, 17:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>twinclouds wrote:</cite><blockquote><p>I really would like to have asterisk 1.8 supported.&nbsp; I am even try to build it on my own for Dockstar using the diff files in ticket 8132.&nbsp; Unfortunately, I encountered a lot of trouble because my lack experience in Openwrt.</p></blockquote></div><p>Wht troubles did you encounter? The only problem I encountered is it seems asterisk v1.8.x doesn&#039;t include the (voicemail) sound files by default. As such, the existing patch file will cause the compilation break down if the voicemail and/or sound packages are selected.</p><div class="quotebox"><blockquote><p>Moreover, the diff files given are for Asterisk 1.6.2.13 but the one available in the trunk is Asterisk 1.6.2.14.&nbsp; If I can have the correct Makefile and patch files, I can certainly give it a try.</p></blockquote></div><p>You can take a look at the patch file and manually patch the existing Makefile. Then, create your own patch file.</p><div class="quotebox"><blockquote><p>Is there such a plan to create such a task?</p></blockquote></div><p>I hope Hans will consider this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127194">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">twinclouds</div>
					<div class="post-datetime">
						3 Feb 2011, 03:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>Hans,</p><p>Thanks for your quick response.</p><p>I no longer use asterisk-1.4.x; however, that doesn&#039;t mean it is no longer needed. The reason I said this is asterisk-1.4 is the smallest asterisk package with basic PBX functionalities that some people are still interested to use, especially if their device has a limited space on Flash/RAM. But, that doesn&#039;t mean we can move on to support asterisk-1.8.</p><p>W.r.t. the asterisk-1.8.x, if you are talking about ticket #<a href="https://dev.openwrt.org/ticket/8132">8132</a>, I have already patched to my existing asterisk-1.6.x without any problem. The only problem in building the asterisk-1.8.x is the missing *.gsm files. In this case, the build can&#039;t include both <em>asterisk18-sounds</em> and <em>asterisk18-voicemail</em> packages. If you decide to support asterisk-1.8.x, then I am sure you will have no problem to fix this.</p><p>One good reason to include asterisk-1.8.x in OpenWRT is its new support for Google Voice (GV) calls through chan_gtalk.so module. This will make a lot of asterisk users very happy to migrate to asterisk-1.8.x. I hope you will consider to support for asterisk-1.8.x.</p></blockquote></div><p>Mazilo:<br />I have been able to compile the Asterisk-1.8.x packages with the patch based on the suggested fix by radael, except for the two packages (sounds and voicemail) as you said.&nbsp; However, it appears that Mario does not have the problem to compile these two packages in brcm2.4 and ar71xx platform.&nbsp; I am not sure if the cause is the missing gsm files or not.&nbsp; If it is how Mario can get a way with that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127196">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						3 Feb 2011, 04:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>twinclouds wrote:</cite><blockquote><p>Mazilo:<br />I have been able to compile the Asterisk-1.8.x packages with the patch based on the suggested fix by radael, except for the two packages (sounds and voicemail) as you said.&nbsp; However, it appears that Mario does not have the problem to compile these two packages in brcm2.4 and ar71xx platform.&nbsp; I am not sure if the cause is the missing gsm files or not.&nbsp; If it is how Mario can get a way with that?</p></blockquote></div><p>IIRC, sound files are not part of Asterisk source code. However, why the sounds and voicemail modules on Asterisk v1.6.x are build able? Someone needs to ask Mario for his OpenWRT Makefile for Asterisk v1.8.x. He probably has created additional patches. I sure don&#039;t mind to be informed once the information is made available.</p>											<p class="post-edited">(Last edited by <strong>mazilo</strong> on 3 Feb 2011, 04:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132590">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">simulator</div>
					<div class="post-datetime">
						9 Apr 2011, 19:41					</div>
				</div>
				<div class="post-content content">
					<p>Someone can provide me the chan_datacard package for brcm47xx? I have not idea how to compile it..Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p133150">
				<div class="post-metadata">
					<div class="post-num">Post #89</div>
					<div class="post-author">fpaliuc</div>
					<div class="post-datetime">
						16 Apr 2011, 00:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello Hans,</p><p>Could you upgrade the makefile in order to work with asterisk 1.8?</p><br /><div class="quotebox"><cite>zandbelt wrote:</cite><blockquote><div class="codebox"><pre><code>#
# Copyright (C) 2010 OpenWrt.org
#
# This is free software, licensed under the GNU General Public License v2.
# See /LICENSE for more information.
#

include $(TOPDIR)/rules.mk

PKG_NAME:=asterisk16-chan-datacard
PKG_REV:=55
PKG_VERSION:=1.0.0_r$(PKG_REV)
PKG_RELEASE:=1

PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
PKG_SOURCE_URL:=https://www.makhutov.org/svn/chan_datacard/trunk/
PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
PKG_SOURCE_VERSION:=$(PKG_REV)
PKG_SOURCE_PROTO:=svn

include $(INCLUDE_DIR)/package.mk

define Package/asterisk16-chan-datacard
  SUBMENU:=asterisk16 (Complete Open Source PBX), v1.6.x
  SECTION:=net
  CATEGORY:=Network
  URL:=http://www.asterisk.org/
  MAINTAINER:=Hans Zandbelt &lt;hans.zandbelt@gmail.com&gt;
  DEPENDS:= +asterisk16 +libiconv
  TITLE:=Huawei UMTS 3G datacards support
endef

define Package/asterisk16-chan-datacard/description
  Asterisk channel driver for Huawei UMTS 3G datacards
endef

MAKE_ARGS:= \
    CC=&quot;$(TARGET_CC)&quot; \
    LD=&quot;$(TARGET_LD)&quot; \
    CFLAGS=&quot;$(TARGET_CFLAGS) $(TARGET_CPPFLAGS) -I$(STAGING_DIR)/usr/lib/libiconv/include&quot; \
    LDFLAGS=&quot;$(TARGET_LDFLAGS)&quot; \

define Build/Compile
    mkdir -p $(PKG_INSTALL_DIR)/usr/lib/asterisk/modules
    $(MAKE_VARS) \
    $(MAKE) -C &quot;$(PKG_BUILD_DIR)&quot; \
        $(MAKE_ARGS) \
        DESTDIR=&quot;$(PKG_INSTALL_DIR)&quot; \
        all install
endef

define Package/asterisk16-chan-datacard/conffiles
/etc/asterisk/datacard.conf
endef

define Package/asterisk16-chan-datacard/install
    $(INSTALL_DIR) $(1)/etc/asterisk
    $(INSTALL_DATA) $(PKG_BUILD_DIR)/datacard.conf $(1)/etc/asterisk/
    $(INSTALL_DIR) $(1)/usr/lib/asterisk/modules
    $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/lib/asterisk/modules/chan_datacard.so $(1)/usr/lib/asterisk/modules/
endef

$(eval $(call BuildPackage,asterisk16-chan-datacard))</code></pre></div></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142367">
				<div class="post-metadata">
					<div class="post-num">Post #90</div>
					<div class="post-author">ammaree</div>
					<div class="post-datetime">
						28 Aug 2011, 12:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi Hans,</p><p>Any information on the availability of the Asterisk GUI for 1.8.x.x?</p><p>I am running OpenWRT r28078 on a Buffalo WZR-HP-G300NH. Have Asterisk 1.8.4.4-1 working reasonable stable (thanks for the good work)&nbsp; but REALLY need a full function GUI.</p><p>Have tried FIVN 1.6 but function is limited. Cannot get FIVN 2.x to work.</p><p>Andre</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142378">
				<div class="post-metadata">
					<div class="post-num">Post #91</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						28 Aug 2011, 15:17					</div>
				</div>
				<div class="post-content content">
					<p>you can try and pick it up from: <a href="https://dev.openwrt.org/ticket/6543">https://dev.openwrt.org/ticket/6543</a></p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142389">
				<div class="post-metadata">
					<div class="post-num">Post #92</div>
					<div class="post-author">ammaree</div>
					<div class="post-datetime">
						28 Aug 2011, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi Hans,</p><p>Thanks for the response, but before I go ahead and mess things up completely, maybe you can clarify for me.<br />The package at #6543 states that it is:<br />a) a binary<br />b) for x86</p><p>Would this still be correct for the G300NH (ie AR71xx)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142391">
				<div class="post-metadata">
					<div class="post-num">Post #93</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						28 Aug 2011, 18:15					</div>
				</div>
				<div class="post-content content">
					<p>I meant for you to take the sources/Makefile and build it for yourself, possibly modifying things as required for 1.8.x...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142395">
				<div class="post-metadata">
					<div class="post-num">Post #94</div>
					<div class="post-author">ammaree</div>
					<div class="post-datetime">
						28 Aug 2011, 19:15					</div>
				</div>
				<div class="post-content content">
					<p>Sorry Hans, from the comments in the forum it appeared it was not really a binary, hence it should install.</p><p>As for me doing the whole thing myself, building the Dev environment and then building the package, I guess it is not going to happen for a loooong time. I am still busy trying to find my feet with openwrt from a user/configuration side, nowhere near ready to develop.</p><p>Thanks anyway.</p><p>Andre</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143378">
				<div class="post-metadata">
					<div class="post-num">Post #95</div>
					<div class="post-author">PsychoMantis</div>
					<div class="post-datetime">
						12 Sep 2011, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>Another question: How i can create func_iconv.so for OpenWrt for Asterisk?<br />Now i know it: There are two lines in the Makefile: </p><div class="codebox"><pre><code>    ASTCFLAGS=&quot;$(EXTRA_CFLAGS) -DLOW_MEMORY&quot; \
    ASTLDFLAGS=&quot;$(EXTRA_LDFLAGS)&quot; \ 
#I changed these two lines into: 
    ASTCFLAGS=&quot;$(EXTRA_CFLAGS) -DLOW_MEMORY -I$(STAGING_DIR)/usr/lib/libiconv-full/include&quot; \
    ASTLDFLAGS=&quot;$(EXTRA_LDFLAGS) -L$(STAGING_DIR)/usr/lib/libiconv-full/lib -liconv&quot; \</code></pre></div><p>Now it compiles, and i have my func_iconv.so [s]With this asterisk function i can do many things in the dialplan.[/s] I use SHELL instead: </p><div class="codebox"><pre><code>exten =&gt; ussd,n,NoOp(${SHELL(echo -n &#039;${BASE64_DECODE(${USSD_BASE64})}&#039; | iconv -f utf-8 -t koi8-ru):0:-1})</code></pre></div>											<p class="post-edited">(Last edited by <strong>PsychoMantis</strong> on 17 Sep 2011, 20:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143433">
				<div class="post-metadata">
					<div class="post-num">Post #96</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						12 Sep 2011, 18:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>PsychoMantis wrote:</cite><blockquote><p>Another question: How i can create func_iconv.so for OpenWrt for Asterisk?<br />Now i know it: There are two lines in the Makefile: </p><div class="codebox"><pre><code>    ASTCFLAGS=&quot;$(EXTRA_CFLAGS) -DLOW_MEMORY&quot; \
    ASTLDFLAGS=&quot;$(EXTRA_LDFLAGS)&quot; \</code></pre></div><p>I changed it to: </p><div class="codebox"><pre><code>    ASTCFLAGS=&quot;$(EXTRA_CFLAGS) -DLOW_MEMORY -I$(STAGING_DIR)/usr/lib/libiconv-full/include&quot; \
    ASTLDFLAGS=&quot;$(EXTRA_LDFLAGS) -L$(STAGING_DIR)/usr/lib/libiconv-full/lib -liconv&quot; \</code></pre></div><p>Now it compiles, and i have my func_iconv.so With this asterisk function i can do many things in the dialplan.</p></blockquote></div><p>If I had to do this, I would add the following to the OpenWRT Makefile for asterisk:<br /></p><div class="codebox"><pre><code>include $(INCLUDE_DIR)/nls.mk
.
:
ASTCFLAGS=&quot;$(EXTRA_CFLAGS) -DLOW_MEMORY -I$(ICONV_PREFIX)/include&quot;
ASTLDFLAGS=&quot;$(EXTRA_LDFLAGS) -L$(ICONV_PREFIX)/lib -liconv&quot;</code></pre></div><p>OR:<br /></p><div class="codebox"><pre><code>include $(INCLUDE_DIR)/nls.mk
.
:
CONFIGURE_ARGS+= \
        --with-iconv=&quot;$(ICONV_PREFIX)&quot; \</code></pre></div><p>This way, the ICONV_PREFIX variable will point to the correct iconv (full or stub version) directory.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151410">
				<div class="post-metadata">
					<div class="post-num">Post #97</div>
					<div class="post-author">mrzaphodb</div>
					<div class="post-datetime">
						17 Dec 2011, 22:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m looking for app_readfile.so but can&#039;t seem to find it. I&#039;m running asterisk 1.8 on trunk rv28943. Any pointers to where it is?</p><p>Cheers,</p><p>Keith</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155155">
				<div class="post-metadata">
					<div class="post-num">Post #98</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						23 Jan 2012, 19:13					</div>
				</div>
				<div class="post-content content">
					<p>To try the conf. with 3-4 friends around the world, got the new Router Buffalo WZR-HP-G300NH because of more RAM.<br />(posted same in &#039;General&#039; section , since more asterisk users are in this thread, posting my issues here too)</p><p>zandbelt/Hans you around ?<br />Please someone help here who successfully using meetme using dahdi dummy timer..</p><br /><p>I am trying to use meetme with latest trunk in 2.6. After some google got details in <a href="https://dev.openwrt.org/ticket/9491">https://dev.openwrt.org/ticket/9491</a> .<br />I am able to compile</p><p>&nbsp; &nbsp; asterisk18-app-meetme_1.8.7.1-1_ar71xx.ipk<br />&nbsp; &nbsp; dahdi-tools-libtonezone_2.6.0-1_ar71xx.ipk<br />&nbsp; &nbsp; dahdi-cfg_2.6.0-1_ar71xx.ipk&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;kmod-dahdi-linux_2.6.39.4+2.6.0-1_ar71xx.ipk</p><p>Now, Hotplug code is not fixing the nodes (dahdi known bug). I tried manually creating them using following commands as i am not sure how to write them in hotplug2. I tried in hotplug but that bricked my router. is the below process correct? may be we have to create them while boot only.</p><p>rm /dev/dahdi*<br />/bin/mkdir -p /dev/dahdi<br />/bin/mknod -m 0644 /dev/dahdi/timer c 196 253<br />/bin/mknod -m 0644 /dev/dahdi/channel c 196 254<br />/bin/mknod -m 0644 /dev/dahdi/pseudo c 196 255<br />/bin/mknod -m 0644 /dev/dahdi/ctl c 196 0</p><br /><p># lsmod | grep dahdi<br />dahdi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;183536&nbsp; 0<br />crc_ccitt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 944&nbsp; 2 dahdi,ppp_async</p><p># dmesg | grep dahdi<br />[&nbsp; &nbsp;11.450000] dahdi: Telephony Interface Registered on major 196<br />[&nbsp; &nbsp;11.460000] dahdi: Version: 2.6.0<br />[&nbsp; &nbsp;41.300000] dahdi: Detected time shift.</p><p>OpenWrt*CLI&gt; module load chan_dahdi<br />Unable to load module chan_dahdi<br />Command &#039;module load chan_dahdi&#039; failed.<br />[Jan 22 04:52:17] WARNING[19689]: loader.c:400 load_dynamic_module: Module &#039;chan_dahdi&#039; did not register itself during load<br />[Jan 22 04:52:17] WARNING[19689]: loader.c:839 load_resource: Module &#039;chan_dahdi&#039; could not be loaded.<br />OpenWrt*CLI&gt;</p><p>Look like i have two issues <br />1. creating proper dahdi nodes using hotplug<br />2. anything else is needed which i am not aware of?</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>baba2s</strong> on 23 Jan 2012, 19:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155159">
				<div class="post-metadata">
					<div class="post-num">Post #99</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						23 Jan 2012, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>nowadays it is completely frustrating and hopeless to try and get new packages like dahdi into OpenWRT, hence I won&#039;t invest in it, sorry</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155165">
				<div class="post-metadata">
					<div class="post-num">Post #100</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						23 Jan 2012, 20:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zandbelt wrote:</cite><blockquote><p>nowadays it is completely frustrating and hopeless to try and get new packages like dahdi into OpenWRT, hence I won&#039;t invest in it, sorry</p></blockquote></div><p>no problem Hans,&nbsp; &nbsp;Its good that you are still around and quickly helps thousands of openwrt Asterisk users.</p><p>Thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=18178&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=18178&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=18178&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>