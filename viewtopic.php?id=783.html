<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Request for known good version numbers to compile...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p3665">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">case</div>
					<div class="post-datetime">
						2 Jan 2005, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I&#039;ve been away from the project for a few months. The last days I wanted to build a new image with the following new features:</p><p>1. IMQ<br />2. SIP nat</p><p>I can only compile when I replace $(SNAPSHOT) to snapshot in buildroot/Makefile:</p><div class="codebox"><pre><code>SNAPSHOT:=20041031

ARCH:=mipsel
USE_UCLIBC_SNAPSHOT:=snapshot      &lt;---
USE_UCLIBC_LDSO_0_9_24:=false
USE_BUSYBOX_SNAPSHOT:=snapshot     &lt;---
USE_NETFILTER_SNAPSHOT:=20041009
USE_BRIDGE_VERSION:=1.0.4
BUILD_WITH_LARGEFILE:=true</code></pre></div><p>I have download a new buildroot-tree via cvs yesterday. The changes I have made are these I have mentioned above, nothing else.</p><p>uclibc compiles. I had to answer a question regarding security extensions. I have answered it with N, as suggested.</p><p>busybox does not compile:</p><div class="codebox"><pre><code>/home/openwrt/buildroot/build_mipsel/staging_dir/bin/mipsel-linux-uclibc-gcc -I/home/openwrt/buildroot/build_mipsel/busybox/include -I/home/openwrt/buildroot/build_mipsel/busybox/include -I/home/openwrt/buildroot/build_mipsel/busybox/libbb -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -Wall -Wstrict-prototypes -Wshadow -Os -fomit-frame-pointer -D_GNU_SOURCE -DNDEBUG   -Os  -Os -mips2  -fomit-frame-pointer -c -o /home/openwrt/buildroot/build_mipsel/busybox/libbb/loop.o /home/openwrt/buildroot/build_mipsel/busybox/libbb/loop.c
In file included from /home/openwrt/buildroot/build_mipsel/busybox/libbb/loop.c:22:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:53: error: parse error before &quot;__kernel_fd_set&quot;
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: In function `__FD_SET&#039;:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:55: error: `__fd&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:55: error: (Each undeclared identifier is reported only once
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:55: error: for each function it appears in.)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:55: error: `__NFDBITS&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:57: error: `__fdsetp&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: At top level:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:61: error: parse error before &quot;__kernel_fd_set&quot;
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: In function `__FD_CLR&#039;:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:63: error: `__fd&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:63: error: `__NFDBITS&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:65: error: `__fdsetp&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: At top level:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:69: error: parse error before &#039;*&#039; token
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: In function `__FD_ISSET&#039;:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:71: error: `__fd&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:71: error: `__NFDBITS&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:73: error: `__p&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: At top level:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:81: error: parse error before &#039;*&#039; token
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h: In function `__FD_ZERO&#039;:
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:83: error: `__p&#039; undeclared (first use in this function)
/home/openwrt/buildroot/build_mipsel/staging_dir/mipsel-linux-uclibc/sys-include/asm/posix_types.h:86: error: `__FDSET_LONGS&#039; undeclared (first use in this function)
make[1]: *** [/home/openwrt/buildroot/build_mipsel/busybox/libbb/loop.o] Error 1
make[1]: Leaving directory `/home/openwrt/buildroot/build_mipsel/busybox&#039;
make: *** [/home/openwrt/buildroot/build_mipsel/busybox/busybox] Error 2</code></pre></div><br /><p>This is why I would like to ask for version numbers of at least the uclibc- and the buysbox-package. I personally think this forum is a good place to start a discussion when I suggest the following:</p><p>- OpenWRT-build-versions with a list of working software and their version numbers<br />- A standard for kernel-patches. Those of you who read the patches distributed in this forum and are not expert-developers can maybe understand my difficulties with lines like these in patch-files:<br /></p><div class="codebox"><pre><code>--- linux/net/sched/sch_htb.c    2003-10-14 01:09:35.000000000 -0700
+++ linux.2.4.26/net/sched/sch_htb.c    2004-05-10 00:05:51.000000000 -0700</code></pre></div><p>- A standard or skeleton-patchfile for patching software<br />- A publically readable and centrally maintained list of patches that have been included into buildroot and others that are available but have not been included.<br />- A central repository for all this. If there&#039;s the need for space and manpower, I can offer it.</p><p>I think we all would benefit from standards and documentation&nbsp; for this valuable project. What you think? Additional suggestions, pure criticism, deep anger or warm &quot;d&#039;accord&quot;? Let us all know...</p><p>case<br />who&#039;s rather on wire or waves then on code...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3666">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ldc</div>
					<div class="post-datetime">
						2 Jan 2005, 15:36					</div>
				</div>
				<div class="post-content content">
					<p>In main makefile:<br />SNAPSHOT:=20041220<br />and remove<br />USE_BUSYBOX_SNAPSHOT</p><p>in make/busybox.mk:<br />BUSYBOX_DIR:=$(BUILD_DIR)/busybox-1.00<br />BUSYBOX_SOURCE:=busybox-1.00.tar.bz2</p><p>should be enough</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3667">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">case</div>
					<div class="post-datetime">
						2 Jan 2005, 15:45					</div>
				</div>
				<div class="post-content content">
					<p>Wow, thanks. What a fast reply...</p><p>I did change in Makefile:<br />USE_BUSYBOX_SNAPSHOT:=1.00-rc3</p><p>and in make/busybox.mk:</p><p>ifneq ($(strip $(USE_BUSYBOX_SNAPSHOT)),)<br /># Be aware that this changes daily....<br />BUSYBOX_DIR:=$(BUILD_DIR)/busybox-snapshot<br />BUSYBOX_SOURCE:=busybox-snapshot.tar.bz2<br />BUSYBOX_SITE:=http://www.busybox.net/downloads/snapshots<br />else<br />BUSYBOX_DIR:=$(BUILD_DIR)/busybox-$(strip $(USE_BUSYBOX_SNAPSHOT))<br />BUSYBOX_SOURCE:=busybox-$(strip $(USE_BUSYBOX_SNAPSHOT)).tar.bz2<br />BUSYBOX_SITE:=http://www.busybox.net/downloads<br />endif<br />BUSYBOX_UNZIP=bzcat<br />BUSYBOX_CONFIG:=$(SOURCE_DIR)/openwrt/busybox/busybox.config</p><br /><p>I will run a make clean and a make. Can take a while...</p><p>Case</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3668">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						2 Jan 2005, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>The snapshot version 20041201 works fine for me, for both uClibc and busybox</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3672">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						2 Jan 2005, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>Maybe update Your CVS tree <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3709">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">case</div>
					<div class="post-datetime">
						4 Jan 2005, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>I have downloaded the tree via cvs before doing anything.</p><p>snapshots of uclibc from 20041201 are not available anymore.</p><p>compilation of busybox with version 1.00-rc3 does not work.</p><p>Any other ideas?</p><p>case</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3711">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						4 Jan 2005, 19:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I have downloaded the tree via cvs before doing anything.</p><p>snapshots of uclibc from 20041201 are not available anymore.</p><p>compilation of busybox with version 1.00-rc3 does not work.</p><p>Any other ideas?</p><p>case</p></blockquote></div><p>We use uClibc 20050102, and tbusybox 1.00 final. As I said, update the CVS.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p3713">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">case</div>
					<div class="post-datetime">
						4 Jan 2005, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>done. works.<br />thanx. i got images built.<br />i will try to play in patches now.</p><p>case</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>