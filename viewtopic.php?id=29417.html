<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ar71xx WR741ND 1.6 Crash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p132323">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">adamham</div>
					<div class="post-datetime">
						5 Apr 2011, 14:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have a custom built Backfire 10.0.3.1 (r24045) image running on a TP-Link TL-WR741nd(1.6) device.</p><p>The device is running in my office, and has little to no traffic running through it. This morning I noticed it was not broadcasting any SSID, and discovered that it had logged the following (dmesg):</p><div class="codebox"><pre><code>SysRq : HELP : loglevel(0-9) reBoot Crash terminate-all-tasks(E) memory-full-oom-kill(F) kill-all-tasks(I) thaw-filesystems(J) show-memory-usage(M) nice-all-RT-tasks(N) show-registers(P) show-all-timers(Q) Sync show-task-states(T) Unmount show-blocked-tasks(W)</code></pre></div><p>Other things to note:<br />I can&#039;t get a dhcp address plugging into any LAN port (usually handled by coova-chilli 1.2.5 in this case, which is still running quite happily)<br />Given a static address I can&#039;t contact the router on any LAN port (usually I can).<br /><strong>iwconfig</strong> Appears to show the wireless interfaces up:<br /></p><div class="codebox"><pre><code>wlan0     IEEE 802.11bgn  Mode:Master  Frequency:2.432 GHz  Tx-Power=17 dBm   
          RTS thr:off   Fragment thr:off
          Power Management:on
          
mon.wlan0  IEEE 802.11bgn  Mode:Monitor  Tx-Power=17 dBm   
          RTS thr:off   Fragment thr:off
          Power Management:off
          
wlan1     IEEE 802.11bgn  Mode:Master  Tx-Power=17 dBm   
          RTS thr:off   Fragment thr:off
          Power Management:off</code></pre></div><p>A while before this happened (when I&#039;m not sure) I saw eth0 crashing. This is probably unrelated, and the interface certainly was bouncing up and down afterwards, but I thought I&#039;d include this to give as much information as I can.</p><div class="codebox"><pre><code>WARNING: at net/sched/sch_generic.c:261 0x801f7ba8()
NETDEV WATCHDOG: eth0 (ag71xx): transmit queue 0 timed out
Modules linked in: nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp ipt_MASQUERADE iptable_nat nf_nat xt_NOTRACK iptable_raw xt_state nf_conntrack_ipv4 nf_defrag_ipv4 nf_conntrack pppoe pppox ipt_REJECT xt_TCPMSS ipt_LOG xt_comment xt_multiport xt_mac xt_limit iptable_mangle iptable_filter ip_tables xt_tcpudp x_tables tun ppp_async ppp_generic slhc ath9k ath9k_common ath9k_hw ath mac80211 crc_ccitt cfg80211 compat_firmware_class compat arc4 aes_generic deflate ecb cbc leds_gpio button_hotplug gpio_buttons input_polldev input_core
Call Trace:[&lt;80068374&gt;] 0x80068374
[&lt;80068374&gt;] 0x80068374
[&lt;8007cf1c&gt;] 0x8007cf1c
[&lt;801f7ba8&gt;] 0x801f7ba8
[&lt;8007cf9c&gt;] 0x8007cf9c
[&lt;801e39b8&gt;] 0x801e39b8
[&lt;801f7ba8&gt;] 0x801f7ba8
[&lt;801f7a44&gt;] 0x801f7a44
[&lt;80087820&gt;] 0x80087820
[&lt;8007096c&gt;] 0x8007096c
[&lt;8008295c&gt;] 0x8008295c
[&lt;80082a3c&gt;] 0x80082a3c
[&lt;8006082c&gt;] 0x8006082c
[&lt;80060a00&gt;] 0x80060a00
[&lt;8006b2bc&gt;] 0x8006b2bc
[&lt;8006c75c&gt;] 0x8006c75c
[&lt;80060a20&gt;] 0x80060a20
[&lt;802bda54&gt;] 0x802bda54
[&lt;802bd3a8&gt;] 0x802bd3a8

---[ end trace 2dd229f1306f8962 ]---
eth0: tx timeout
eth0: link down
eth0: link up (1000Mbps/Full duplex)
eth0: tx timeout
eth0: link down
eth0: link up (1000Mbps/Full duplex)
eth0: tx timeout
eth0: link down
eth0: link up (1000Mbps/Full duplex)</code></pre></div><p>I can provide more information regarding my build should anyone want it, but given that this device has crashed without any obvious input from me, and given that there is little information in the message, I could do with some pointers from anyone who knows more about this sort of thing.</p><p>Many thanks in advance,<br />Adam</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p136365">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">adamham</div>
					<div class="post-datetime">
						1 Jun 2011, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>Boing</p><p>I&#039;ve now seen this happen on version 1.8 of the hardware as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p136838">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">warwick</div>
					<div class="post-datetime">
						10 Jun 2011, 15:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m getting a similar output from a 2.0 741ND, seemingly every 5 hours or so that it is in use. I&#039;m fiddling about with talking to it from a serial console connected to a small micro board, so it may be my fiddling thats the issue, but looks the same in any case.</p><p>Hope that helps in some way.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p136840">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">adamham</div>
					<div class="post-datetime">
						10 Jun 2011, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Warwick,</p><p>I think you may be right - I&#039;ve tried to trigger this and didn&#039;t get anywhere. Then yesterday evening I was fiddling as well (connected via serial) and triggered it when I was moving it. Probably something as simple as crossing a couple of wires by a mistake.</p><p>False alarm <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>