<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> mac address of wireless interface</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p74507">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">kgy</div>
					<div class="post-datetime">
						10 Oct 2008, 13:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have built the svn rev #12820 and installed on an Asus WL500gP with Broadcom wifi.<br />The question is: how to change the mac address of the wireless interface? I tried the command &quot;ifconfig $ifname hw ether $macaddr&quot; which has changed the address. However, the command &quot;ifconfig&quot; shows the new address, but clients see the old address (e.g. using the command &quot;iwlist scanning&quot;) and therefore cannot connect.<br />I found nvram entries for mac address of the wired interfaces, but not for wireless.</p><p>Thanks in advance<br />K. Gy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74515">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						10 Oct 2008, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>Which kernel? 2.6.x with b43 or 2.4.x with brcm-wl?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74537">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">phorn</div>
					<div class="post-datetime">
						11 Oct 2008, 05:58					</div>
				</div>
				<div class="post-content content">
					<p>You need to set the MAC address of the bridge as well as the MAC address of the wifi interface.</p><p>I noticed that setting the MAC address of the wireless interface usually only changes the address of the Wireless AP.&nbsp; But the bridge (which has an IP address) will keep the old mac address.<br />Similarly, if you change the mac address of the bridge, but not that of the AP, the AP will keep its old mac address while 192.168.1.1 will change.</p><p>You can test this by also looking running &quot;arp -an&quot; and comparing it to &quot;iwlist wlan0 scan&quot;&nbsp; Arp will show the address of the bridge while iwlist will show the MAC of the wireless interface.</p><p>Also, in order to set the MAC address of the interface, you may have to remove it from the bridge with &quot;brctl delif br-lan wlan0&quot;, bring the wireless down, change the mac address, run &quot;wifi&quot; and then add it back to the bridge.&nbsp; It depends on the wireless driver you are doing--some may let you do it while the interface is up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74605">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">kgy</div>
					<div class="post-datetime">
						13 Oct 2008, 09:40					</div>
				</div>
				<div class="post-content content">
					<p>My kernel is 2.4.35.4</p><p>Now i am totally confused about mac addresses.<br />According to ifconfig, my bridge have the mac address of eth0. I set a different one for wl0, while the &#039;iwlist scan&#039; and &#039;arp -an&#039; commands (on another machine) shows the old value of wl0.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>