<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> nas with experimental &gt;=2005-05-25</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p8645">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Yogi</div>
					<div class="post-datetime">
						22 Jun 2005, 18:15					</div>
				</div>
				<div class="post-content content">
					<p>I had a running setup with experimental 2005-04-23, nas from <a href="http://www.bingner.com/openwrt/">http://www.bingner.com/openwrt/</a>. AP mode, WPA-PSK, TKIP.</p><p>Newer versions (2005-05-25, 2005-06-17) do not work with the nas binary for me. iwconfig says &quot;encryption key:off&quot;. I found a recent <a href="http://forum.openwrt.org/viewtopic.php?pid=8571#p8571">post</a> on this topic. The solution was to use a newer version of the nas binary: <a href="http://openwrt.alphacore.net/experimental/nas_0.2-1_mipsel.ipk">http://openwrt.alphacore.net/experiment … mipsel.ipk</a></p><p>But this does not work for me either. Moreover the mentioned post talks about changing the &quot;-m 2&quot; parameter to &quot;-m 4&quot;. I do not understand why this needs to be changed. &quot;-m 2&quot; should mean WPA-PSK, while &quot;-m 4&quot; seems to undocumented.</p><p>Any ideas? Or would be a better idea to give wpa_supplicant a try?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8659">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tuannd</div>
					<div class="post-datetime">
						23 Jun 2005, 04:25					</div>
				</div>
				<div class="post-content content">
					<p>There reason of changing option &quot;-m 2&quot; to &quot;-m 4&quot; was that I found it through Console (through COM1) when using LINKSYS Beta firmware 4.50.05 -&gt; so I suppose new nas binary have change their option for this parameters (including new option such AES...)</p><p>So currently I use nico lasted testing firmware with the following packages</p><p>1. siproxd sip voip proxy -&gt; it is working very goods<br />2. tc package for QoS <br />3. with modify firewall.user with port forwarding under /etc folder I able to public Windows 2000 PPTP Server, webserver behind LINKSYS WRT54GS to Internet</p><p>But I still have troubles with <br />1. Make DynDNS work and start automatically at startup, so I have use Dyndns client in my Webserver inside LAN<br />2. Unable to access LAN Webserver using Dyndns name (external IP address of WRT54GS)<br />(I didn&#039;t have about troubles when using LINKSYS original firmware)</p><p>Please advice how to fix this troubles</p><p>TuanND from VIETNAM</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8669">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Yogi</div>
					<div class="post-datetime">
						23 Jun 2005, 16:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tuannd wrote:</cite><blockquote><p>There reason of changing option &quot;-m 2&quot; to &quot;-m 4&quot; was that I found it through Console (through COM1) when using LINKSYS Beta firmware 4.50.05 -&gt; so I suppose new nas binary have change their option for this parameters (including new option such AES...)</p></blockquote></div><p>With firmware 4.50.05 you are using a WRT54GS. I have a WRT54G 2.2. Do they need different versions of nas? From which firmware is the package at <a href="http://openwrt.alphacore.net/experimental/nas_0.2-1_mipsel.ipk">http://openwrt.alphacore.net/experiment … mipsel.ipk</a>?</p><p>I just fetched the beta firmware WRT54GV3.1_4.00.5_US_code.bin from the linksys server. But I&#039;m not able to mount it. The method from <a href="http://openwrt.org/OpenWrtFaq">http://openwrt.org/OpenWrtFaq</a> does not work. The image does not seem to include the string &quot;Compressed ROMFS&quot;. I tried different substrings with grep. Any hints how to extract this binary?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8671">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Yogi</div>
					<div class="post-datetime">
						23 Jun 2005, 19:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Yogi wrote:</cite><blockquote><p>From which firmware is the package at <a href="http://openwrt.alphacore.net/experimental/nas_0.2-1_mipsel.ipk">http://openwrt.alphacore.net/experiment … mipsel.ipk</a>?</p></blockquote></div><p>Oops, missed info a the package tracker. Says it&#039;s from 4.50.5 US. So it&#039;s from a WRT54GS firmware, not WRT54G.</p><p>But the question remains: do the G and GS version of the WRT need different nas binaries?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8673">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						23 Jun 2005, 21:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Yogi wrote:</cite><blockquote><div class="quotebox"><cite>Yogi wrote:</cite><blockquote><p>From which firmware is the package at <a href="http://openwrt.alphacore.net/experimental/nas_0.2-1_mipsel.ipk">http://openwrt.alphacore.net/experiment … mipsel.ipk</a>?</p></blockquote></div><p>Oops, missed info a the package tracker. Says it&#039;s from 4.50.5 US. So it&#039;s from a WRT54GS firmware, not WRT54G.</p><p>But the question remains: do the G and GS version of the WRT need different nas binaries?</p></blockquote></div><p>No way. The only hardware difference is the size of flash and ram, software differences are just some nvram variables.<br />The same binary works on both.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8719">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Yogi</div>
					<div class="post-datetime">
						25 Jun 2005, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>Just wanted to say that everything works fine now. I guess my main problem was that &quot;iwconfig eth1&quot; only shows a key if a wireless client is connected. I knew if WPA works, the key shows up there so I made most of my tests without trying to connect with the notebook. <img src="https://forum.openwrt.org/img/smilies/neutral.png" width="15" height="15" alt="neutral" /></p><div class="quotebox"><cite>tuannd wrote:</cite><blockquote><p>There reason of changing option &quot;-m 2&quot; to &quot;-m 4&quot; was that I found it through Console (through COM1) when using LINKSYS Beta firmware 4.50.05 -&gt; so I suppose new nas binary have change their option for this parameters (including new option such AES...)</p></blockquote></div><p>As you have a serial console on your WRT, do you know how to use WPA2? The new beta firmware offers it, so the nas binary should be able to handle it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8730">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sbingner</div>
					<div class="post-datetime">
						26 Jun 2005, 01:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Yogi wrote:</cite><blockquote><p>Just wanted to say that everything works fine now. I guess my main problem was that &quot;iwconfig eth1&quot; only shows a key if a wireless client is connected. I knew if WPA works, the key shows up there so I made most of my tests without trying to connect with the notebook. <img src="https://forum.openwrt.org/img/smilies/neutral.png" width="15" height="15" alt="neutral" /></p><div class="quotebox"><cite>tuannd wrote:</cite><blockquote><p>There reason of changing option &quot;-m 2&quot; to &quot;-m 4&quot; was that I found it through Console (through COM1) when using LINKSYS Beta firmware 4.50.05 -&gt; so I suppose new nas binary have change their option for this parameters (including new option such AES...)</p></blockquote></div><p>As you have a serial console on your WRT, do you know how to use WPA2? The new beta firmware offers it, so the nas binary should be able to handle it.</p></blockquote></div><p>Do I need to make some change(s) to the stuff on my website?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8745">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Yogi</div>
					<div class="post-datetime">
						26 Jun 2005, 12:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sbingner wrote:</cite><blockquote><p>Do I need to make some change(s) to the stuff on my website?</p></blockquote></div><p>Current versions (both HEAD and whiterussian branch) use a new wireless driver (3.90.23.0). These versions require two changes:</p><p>* needs nas binary from Linksys beta firmware (4.50.05/4.00.5)<br />* PSK option changed from &quot;-m 2&quot; to &quot;-m 4&quot;</p><p>The nas binary can be found at: <a href="http://openwrt.alphacore.net/experimental/nas_0.2-1_mipsel.ipk">http://openwrt.alphacore.net/experiment … mipsel.ipk</a></p><p>Remaining questions:</p><p>* What do the new &quot;-m&quot; options do?<br />* How to enable WPA2?<br />* Is it possible to extract nas binary from Linksys firmware image? Method from the wiki does not work anymore with this version.</p><p>Edit: My impression is &quot;wl0_wep&quot; key is not needed. So either set it to &quot;disabled&quot; or remove it.</p>											<p class="post-edited">(Last edited by <strong>Yogi</strong> on 26 Jun 2005, 12:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8780">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">tuannd</div>
					<div class="post-datetime">
						27 Jun 2005, 08:14					</div>
				</div>
				<div class="post-content content">
					<p>Here are option of command nas of LINKSYS WRT54GS ver 4.50.5</p><p>1. Security disable<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954</p><p>2. Security WPA-PSK TKIP<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 4 -k &lt;share-key&gt; -s linksys -w 2 -g 3600</p><p>3. Security WPA-PSK AES<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 4 -k &lt;share-key&gt; -s linksys -w 4 -g 3600</p><p>4. Security WPA-PSK TKIP+AES<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 4 -k &lt;share-key&gt; -s linksys -w 6 -g 3600</p><p>5. Security WPA -RADIUS - TKIP<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 2 -r &lt;share-key&gt; -s linksys -w 2 -g 3600 -h &lt;Radius server ip&gt; -p 1812 -t 36000</p><p>6. Security WPA2-PSK-TKIP<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 128 -k &lt;share-key&gt; -s linksys -w 2 -g 3600</p><p>7. Security WPA2-RADIUS-TKIP<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 64 -r &lt;share-key&gt; -s linksys -w 2 -g 3600 -h &lt;Radius IP&gt; -p 1812 -t 36000</p><p>8. Security WPA2-RADIUS-AES<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 64 -r &lt;share-key&gt; -s linksys -w 4 -g 3600 -h &lt;Radius IP&gt; -p 1812 -t 36000</p><p>9. Security WPA2-PSK-TKIP Mixed<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 132 -k &lt;share-key&gt; -s linksys -w 2 -g 3600</p><p>10. Security WPA2-RADIUS-TKIP Mixed<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 66 -r &lt;share-key&gt; -s linksys -w 2 -g 3600 -h &lt;Radius IP&gt; -p 1812 -t 36000</p><p>11. Security WEP64bit -RADIUS<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 32 -r &lt;Radius share-key&gt; -s linksys -w 1 -I 1 -K &lt;WEP share key&gt; -h &lt;Radius IP&gt; -p 1812 -t 36000</p><p>12. Security WEP64bit (same as security disabled and nas daemon is not running)<br />nas -P /tmp/nas.lan.pid -l br0 -H 34954</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8926">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">kaldek</div>
					<div class="post-datetime">
						30 Jun 2005, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>I can concur with all of the above information.&nbsp; Having downloaded the latest release of OpenWRT today, the recommended nas binary (<a href="http://openwrt.alphacore.net/experimental/nas_0.2-1_mipsel.ipk">http://openwrt.alphacore.net/experiment … mipsel.ipk</a>) and reconfigured the S41wpa script supplied by sbinger (<a href="http://www.bingner.com/openwrt/wpa.html">http://www.bingner.com/openwrt/wpa.html</a>) to use the &quot;-m 4&quot; option , my wireless link works perfectly - as it did three hours ago when I was running official Linksys firmware on my WRT54G v2.2.</p><p>Way to go ppls, this is awesome stuff.</p><p>Kaldek</p><p>P.S.&nbsp; For anyone who is curious, WPA &quot;AES&quot; is more secure than WPA &quot;TKIP&quot; because it uses AES-CCMP cryptography with all the benefits of TKIP (I keep seeing this question on the &#039;net).&nbsp; By using AES it is effectively then considered WPA2 (I also keep seeing questions on &quot;how to use WPA2&quot; on the &#039;net).&nbsp; If you don&#039;t believe me, I quote directly from the media briefing on WPA2 at wi-fi.org when I say &quot;The primary difference between WPA and WPA2 is the encryption algorithm used - RC4 and AES respectively&quot;.&nbsp; Unfortunately, when we use WPA with &quot;TKIP&quot;, it means &quot;TKIP using the RC4 algorithm&quot;, and when we use WPA with &quot;AES&quot; it means &quot;TKIP using the AES-CCMP algorithm&quot;.&nbsp; It is not, in any way, obvious.</p>											<p class="post-edited">(Last edited by <strong>kaldek</strong> on 30 Jun 2005, 16:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8992">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Vincent Bernat</div>
					<div class="post-datetime">
						1 Jul 2005, 18:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tuannd wrote:</cite><blockquote><p>Here are option of command nas of LINKSYS WRT54GS ver 4.50.5</p></blockquote></div><p>BTW, it is possible to have both WPA and no WPA for an access point ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9010">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						2 Jul 2005, 01:32					</div>
				</div>
				<div class="post-content content">
					<p>Hey WPA users,<br />I just made a package containing the current version of nas (works with whiterussian) and init/hotplug scripts. The scripts are basically those from <a href="http://www.bingner.com/openwrt">http://www.bingner.com/openwrt</a> with added WPA2 support. Please try this package and let me know if it works. You can get it here: <a href="http://openwrt.inf.fh-brs.de/~nbd/non-free/">http://openwrt.inf.fh-brs.de/~nbd/non-free/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9060">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">kaldek</div>
					<div class="post-datetime">
						3 Jul 2005, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>Great stuff.&nbsp; I had to hack up the nas script myself so it&#039;s great that there&#039;s a package out there for it now.&nbsp; I would have done the same myself but I didn&#039;t get around to installing all the source on my Gentoo box.</p><p>Kaldek</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9120">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Yogi</div>
					<div class="post-datetime">
						5 Jul 2005, 00:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>Hey WPA users,<br />I just made a package containing the current version of nas (works with whiterussian) and init/hotplug scripts. The scripts are basically those from <a href="http://www.bingner.com/openwrt">http://www.bingner.com/openwrt</a> with added WPA2 support. Please try this package and let me know if it works. You can get it here: <a href="http://openwrt.inf.fh-brs.de/~nbd/non-free/">http://openwrt.inf.fh-brs.de/~nbd/non-free/</a></p></blockquote></div><p>Works for me. WPA2-PSK-AES settings.</p><p>Just one note: I guess /var/run/ would be a better location for the pid file.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9446">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">schorsch01</div>
					<div class="post-datetime">
						13 Jul 2005, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to run wpa or wpa2 with boxes which are in ad-hoc mode (I use olsr as the mesh-routing protocol)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9464">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">kaldek</div>
					<div class="post-datetime">
						14 Jul 2005, 05:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>schorsch01 wrote:</cite><blockquote><p>Is it possible to run wpa or wpa2 with boxes which are in ad-hoc mode (I use olsr as the mesh-routing protocol)?</p></blockquote></div><p>Honestly I don&#039;t know, but this sounds less like a question for OpenWRT, and more like a question for 802.11 WPA in general.&nbsp; I&#039;d recommend googling this and looking for as much info on the limitations of ad-hoc mode as possible.</p><p>Personally, I&#039;d <strong>guess</strong> that you can&#039;t do WPA and ad-hoc mode.</p><p>Kaldek</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9504">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						14 Jul 2005, 23:53					</div>
				</div>
				<div class="post-content content">
					<p>Trying to get WDS (and WPA) working on WhiteRussian.</p><p>I&#039;ve read all the threads I can get my hands on and I&#039;m not sure where things stand with this release.&nbsp; The release notes kind of point to WDS problems but then it sounds like if you change some things around and hold your tongue right you can get it to work.&nbsp; I&#039;d like to hear from someone who has WhiteRussian RC1 doing WDS+WPA-PSK on a WRT54GS.&nbsp; So far I&#039;ve tried it between two rev 1.0 boxes and a 1.1 and 2.0 box without getting it working.</p><p>I followed these instructions <a href="http://jean.nu/view.php/page/openwrt">http://jean.nu/view.php/page/openwrt</a> to start off with.</p><p>I didn&#039;t follow the instructions on extracting the nas binary and instead saw a post that said someone (nbd) made .ipk&#039;s of the new nas, S41 &amp; hotplug scripts so then I installed the two packages from <a href="http://openwrt.inf.fh-brs.de/~nbd/non-free/">http://openwrt.inf.fh-brs.de/~nbd/non-free/</a> instead of wgetting the ones in the instructions from the first link I mentioned.</p><p>I can&#039;t ping from one WRT to the other over the wireless so I guess they are not associating etc.&nbsp; I&#039;ve tried about all I can think of.</p><p>I may fall back to the experimental version I see people having the most success with and try that since the release notes of WhiteRussian point to issues with WDS.</p><p>If anyone has this working and can square me away I really would appreciate it.&nbsp; I&#039;ll try to figure out how to post my nvram settings and my S41 &amp; hotplug scripts so others can check me out since I obviously don&#039;t know what I&#039;m doing!</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9711">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						19 Jul 2005, 08:00					</div>
				</div>
				<div class="post-content content">
					<p>Update on my situation.</p><p>I was able to get WDS working (without WPA-PSK) on my two WRT54GS V1.0 boxes running 2005-05-25 experimental.&nbsp; This was after I finally gave up and ran mtd erase nvram to go back to defaults.</p><p>After being able to ping from one box to the other over the wireless link, I tried to get WPA-PSK working after installing these packages:<br /><a href="http://downloads.openwrt.org/whiterussian/packages/non-free/nas_3.90.23-3_mipsel.ipk">http://downloads.openwrt.org/whiterussi … mipsel.ipk</a><br /><a href="http://downloads.openwrt.org/whiterussian/packages/non-free/wl_3.90.23-1_mipsel.ipk">http://downloads.openwrt.org/whiterussi … mipsel.ipk</a></p><p>I set all of my nvram settings according to these instructions:<br /><a href="http://jean.nu/view.php/page/openwrt">http://jean.nu/view.php/page/openwrt</a></p><p>I couldn&#039;t ping once I set the WPA-PSK nvram settings.&nbsp; I tripple checked everything and tried all I knew and couldn&#039;t get it to work.</p><p>I changed clockfreq to 216 and got both boxes hung in the reset cycle.&nbsp; Time to make a JTAG cable!</p><p>Next I tried to get whiterussian working with my remaining WRTGS V1.1 and V2.0 box.&nbsp; Here is what I have done so far:</p><p>Installled whiterussian binary<br />Did a mtd erase nvram to start with fresh nvram settings.&nbsp; nvram get wl0_hwaddr does nothing by the way.<br />Did an ipkg update &amp; upgrade<br />installed packages:<br /><a href="http://downloads.openwrt.org/whiterussian/packages/non-free/nas_3.90.23-3_mipsel.ipk">http://downloads.openwrt.org/whiterussi … mipsel.ipk</a><br /><a href="http://downloads.openwrt.org/whiterussian/packages/non-free/wl_3.90.23-1_mipsel.ipk">http://downloads.openwrt.org/whiterussi … mipsel.ipk</a></p><p>Saw the post where wl0_wds doesn&#039;t work so I did the wl wds &lt;my other boxes MAC&gt; on both boxes.&nbsp; If I do a wl wds right after this command it displays the MAC I entered.&nbsp; After a reboot, running wl wds shows nothing.&nbsp; Is this right?</p><p>The WLAN light will blink some but I am still not able to ping one WRT box from the other over the air using the wireless interface.</p><p>iwconfig displays:<br />lo&nbsp; &nbsp; &nbsp; &nbsp; no wireless extensions.</p><p>eth0&nbsp; &nbsp; &nbsp; no wireless extensions.</p><p>eth1&nbsp; &nbsp; &nbsp; IEEE 802.11-DS&nbsp; ESSID:&quot;Temple&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Master&nbsp; Frequency:2.412 GHz&nbsp; Access Point: 00:13:10:19:32:2F<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx-Power:31 dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RTS thr=2347 B&nbsp; &nbsp;Fragment thr=2346 B<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Encryption key:off</p><p>br0&nbsp; &nbsp; &nbsp; &nbsp;no wireless extensions.</p><p>vlan0&nbsp; &nbsp; &nbsp;no wireless extensions.</p><p>vlan1&nbsp; &nbsp; &nbsp;no wireless extensions.</p><p>I only tried to get WDS working with whiterussian (following the WDS+WPA-PSK instructions above) up to the point where you should be able to ping the other box.&nbsp; I didn&#039;t try setting any of the WPA settings yet except for the ssid.</p><p>If someone has WDS+WPA-PSK working on a WRT54GS 1.1 or 2.0 box,&nbsp; please, please, pretty please square me away.</p><p>Here are the nvram setting so far of box 1:<br /></p><div class="codebox"><pre><code>root@wrt1:/sbin# nvram show
wan_ipadd=192.168.2.1
os_ram_addr=80001000
boardrev=0x10
il0macaddr=00:13:10:19:32:2f
bootnv_ver=2
et0macaddr=00:13:10:19:32:2D
boot_wait=on
watchdog=5000
et0mdcport=0
pmon_ver=CFE 3.61.13.0
gpio5=robo_reset
vlan0ports=1 2 3 4 5*
os_flash_addr=bfc40000
sromrev=2
boardtype=0x0708
lan_netmask=255.255.255.0
wl0_ssid=Temple
wl0id=0x4320
ag0=255
wl0gpio2=0
wl0gpio3=0
boardflags2=0
wl0_afterburner=off
wan_proto=static
pa0itssit=62
cctl=0
lan_ifnames=vlan0 eth1
lan_dns=216.12.0.20
pa0maxpwr=0x4e
clkfreq=200
lan_ipaddr=192.168.0.59
vlan1hwname=et0
aa0=3
sdram_config=0x0062
vlan1ports=0 5
scratch=a0180000
eou_private_key=77a9ed52bfd4694227ff972bf16e159e6b6bf30a9152715fbcd962815ac11f8fdac17149d9b2785f3d9b6d2f86a72d07489125803093fcd108770390e97bf6a616cb99db9394159b6934f028a5b0b691991f7429560e78127211ce17f83c0b5dfa6ba77f8299749f65cfcc62c2cfde0039604a17f1768d92ff22a287781acef1
ccode=0
eou_device_id=BKZFVK7U
lan_ifname=br0
boardflags=0x118
sdram_refresh=0x0000
sdram_ncdl=0xfeff09
et0phyaddr=30
wan_hostname=wrt1
pa0b0=0x15eb
pa0b1=0xfa82
pa0b2=0xfe66
sdram_init=0x000b
vlan0hwname=et0
dl_ram_addr=a0001000
boot_ver=v3.4
boardnum=42
eou_public_key=cb6dad0cac82b2f0773280fde73b24c0836ab6c52a3f5a55f43e5aa8b3e1e8daf3e273ca587c33084f21d33731b5cc8c61c38c8d1f61fa968e63ec7659b9234f57c782f67169702f593ec4d6000717bbf76f0929743cf2d568b7df05e0a862439da23ef1b7c827e1caac41a067351e15c889bc98c4933b22f5d68b32333c2d1511
size: 1427 bytes (31341 left)</code></pre></div><p>Here is a dump of nvram settings on box 2:<br /></p><div class="codebox"><pre><code>root@wrt2:/# nvram show
os_ram_addr=80001000
il0macaddr=00:13:10:2e:0f:2c
boardrev=0x10
et0macaddr=00:13:10:2E:0F:2A
bootnv_ver=2
watchdog=5000
boot_wait=on
et0mdcport=0
pmon_ver=CFE 3.61.13.0
vlan0ports=1 2 3 4 5*
gpio5=robo_reset
os_flash_addr=bfc40000
sromrev=2
boardtype=0x0708
lan_netmask=255.255.255.0
wl0_ssid=Temple
wl0id=0x4320
ag0=255
wl0gpio2=0
wl0gpio3=0
boardflags2=0
wl0_afterburner=off
wan_proto=static
pa0itssit=62
cctl=0
lan_ifnames=vlan0 eth1
lan_dns=216.12.0.20
pa0maxpwr=0x4e
lan_ipaddr=192.168.0.60
clkfreq=200
aa0=3
vlan1hwname=et0
sdram_config=0x0062
vlan1ports=0 5
eou_private_key=3d2c023506f6062c848a934bf6c2f3bbacd85868bdad68ea42f8e80d3fa8d306f340136c573db0192f9ae860881198f1f05533fe22dba6331128e8cb33ebf7a903ceccd46d1bee6c70f215b7c60340c34717187f69b8c5ca5d77a63d3a47c3017720720deb4022c16ce47c7969bcbe5baaa167fd1570080a315eb8c383c45449
scratch=a0180000
ccode=0
eou_device_id=N59OE7IM
lan_ifname=br0
boardflags=0x118
sdram_refresh=0x0000
sdram_ncdl=0xfeff08
wan_ipaddr=192.168.2.1
et0phyaddr=30
wan_hostname=wrt2
pa0b0=0x15eb
pa0b1=0xfa82
pa0b2=0xfe66
sdram_init=0x000b
vlan0hwname=et0
dl_ram_addr=a0001000
boot_ver=v3.4
boardnum=42
eou_public_key=cffc078117aae1ca8f70c19be096d64ae545f9641e80cb1c7d4e482d0ba46717a173753d289e89ef3b75161501d56e69cabb4a60101e01e0d3f17de616ef16da0fca7582203f055b0d55c8fef685e2ee74fb2a96945c06e2543c51aa824e4d04d66e9b1b68c30b8692f109ac6eba8d986907f5d2f8cf349405961c8d4607bcdb11
size: 1428 bytes (31340 left)</code></pre></div><p>I&#039;ve also read about getting WDS+WPA-PSK working with the linksys firware then loading OpenWRT to get the right nvram settings.&nbsp; This is about the only thing I have not tried!</p><p>Thanks in advance for any advice!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9743">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						19 Jul 2005, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>hutchman, I may be mistaken or not understand what you are doing, but I have WPA-PSK+aes working on a WRT-54GS with OpenWRT and your nvram settings do not seem to include the ones I found to control whether it works or not.&nbsp; I posted these before:</p><p><a href="http://openwrt.org/forum/viewtopic.php?id=2002">http://openwrt.org/forum/viewtopic.php?id=2002</a></p><p>but here they are again:<br />----<br />wl0_lazywds=0<br />wl0_wds= &lt;WRT-54G MAC&gt; &lt;--- my other WDS system<br />wl0_auth_mode = psk<br />wl0_crypto = aes<br />wl0_wep = disabled<br />wl0_wpa_psk = &lt;passphrase&gt;</p><p>It seems to take a while for the two systems to start talking to each other, but once they do, that&#039;s it!<br />----<br />Hope this helps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9793">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						20 Jul 2005, 19:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yawlhoo wrote:</cite><blockquote><p>hutchman, I may be mistaken or not understand what you are doing, but I have WPA-PSK+aes working on a WRT-54GS with OpenWRT and your nvram settings do not seem to include the ones I found to control whether it works or not.&nbsp; I posted these before:</p><p><a href="http://openwrt.org/forum/viewtopic.php?id=2002">http://openwrt.org/forum/viewtopic.php?id=2002</a></p><p>but here they are again:<br />----<br />wl0_lazywds=0<br />wl0_wds= &lt;WRT-54G MAC&gt; &lt;--- my other WDS system<br />wl0_auth_mode = psk<br />wl0_crypto = aes<br />wl0_wep = disabled<br />wl0_wpa_psk = &lt;passphrase&gt;</p><p>It seems to take a while for the two systems to start talking to each other, but once they do, that&#039;s it!<br />----<br />Hope this helps.</p></blockquote></div><p>Hey,</p><p>My goal is to get WDS &amp; WPA-PSK working with AES.&nbsp; My problem is I was able to get WDS working on my WRT54GS V1.0 boxes but couldn&#039;t get WPA working ... and I finally bricked (looped) them so then I had to give up and try again using a V1.1 and V2.0 box.&nbsp; On these I installed whiterussian RC1.&nbsp; I can&#039;t get WDS to work so I haven&#039;t even tried to set the WPA nvram settings as the instructions I was following says to get WDS working first, then try to get WPA working.</p><p>I just installed whiterussian RC2 yesterday but haven&#039;t gotten very far yet.&nbsp; I have noticed though that doing a nvram get wl0_hwaddr still doesn&#039;t display the radio&#039;s MAC so I&#039;m wondering if there is some magic to getting WDS working on RC2.&nbsp; &nbsp;I hope to try things out more today.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12395">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">kaldek</div>
					<div class="post-datetime">
						20 Sep 2005, 07:13					</div>
				</div>
				<div class="post-content content">
					<p>Checking the options of the latest nas binary, it looks like the use of &quot;WPA2&quot; is a bit ambiguous.&nbsp; As previously stated, all you need to use to get WPA2 is AES encryption because that normally also implies TKIP.&nbsp; Just be aware of that.</p><p>Kaldek</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45871">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">VillMann</div>
					<div class="post-datetime">
						4 Apr 2007, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone know if nas can be used to set up wpa-psk towards the WAN/ethernet interface in client/supplicant mode?</p><p>Thanks!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>