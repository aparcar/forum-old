<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> kmod-madwifi missing and unable to add USB WiFi Adapter</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p248545">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">WilliamTai</div>
					<div class="post-datetime">
						30 Sep 2014, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m new in OpenWrt, trying to make my RPi (Ver. B+) become a 5Ghz WiFi Router with TP-LINK TL-WDN3200 USB WiFi Adapter.<br />I download the Barrier Braker image file from the Wiki of OpenWrt and install it, then follow this topic<br /><a href="https://forum.openwrt.org/viewtopic.php?id=48248">https://forum.openwrt.org/viewtopic.php?id=48248</a></p><p>When I trying add a new WiFi interface with the following command<br /></p><div class="codebox"><pre><code>cd /etc/config
wifi detect &gt; wireless</code></pre></div><p>I found that the wireless config file is empty, and I can&#039;t install kmod-madwifi module.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update
Downloading http://downloads.openwrt.org/barrier_breaker/14.07-rc3/brcm2708/generic/packages/Packages.gz.
Updated list of available packages in /var/opkg-lists/barrier_breaker.
root@OpenWrt:~# opkg install kmod-madwifi
Unknown package &#039;kmod-madwifi&#039;.
Collected errors:
 * opkg_install_cmd: Cannot install package kmod-madwifi.
root@OpenWrt:~# </code></pre></div><br /><p>Here is the dmesg<br /></p><div class="codebox"><pre><code>[    8.456552] usbhid: USB HID core driver
[    8.516789] xt_time: kernel timezone is -0000
[    8.543109] cfg80211: Calling CRDA to update world regulatory domain
[    8.572473] cfg80211: World regulatory domain updated:
[    8.582633] cfg80211:  DFS Master region: unset
[    8.587141] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[    8.606367] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[    8.619249] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[    8.632068] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[    8.644735] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[    8.657490] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[    8.670170] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[    8.682786] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[    8.695197] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[    8.753256] PPP generic driver version 2.4.2
[    8.764547] NET: Registered protocol family 24
[    8.892175] usb 1-1.2.6: reset high-speed USB device number 6 using dwc_otg
[    9.031684] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5592, rev 0222 detected
[    9.093097] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 000f detected
[    9.106286] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;</code></pre></div><p>ls -l /sys/class/net<br /></p><div class="codebox"><pre><code>lrwxrwxrwx    1 root     root             0 Jan  1  1970 eth0 -&gt; ../../devices/platform/bcm2708_usb/usb1/1-1/1-1.1/1-1.1:1.0/net/eth0
lrwxrwxrwx    1 root     root             0 Jan  1  1970 lo -&gt; ../../devices/virtual/net/lo
lrwxrwxrwx    1 root     root             0 Sep 30 21:50 wlan0 -&gt; ../../devices/platform/bcm2708_usb/usb1/1-1/1-1.2/1-1.2.6/1-1.2.6:1.0/net/wlan0</code></pre></div><p>And there is no wireless interface option in my LuCI.</p><p>How can I add the USB WiFi Adapter?</p>											<p class="post-edited">(Last edited by <strong>WilliamTai</strong> on 30 Sep 2014, 16:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248549">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">WilliamTai</div>
					<div class="post-datetime">
						30 Sep 2014, 17:19					</div>
				</div>
				<div class="post-content content">
					<p>Hmm...I install wireless-tools and reboot twice, and it works! <br />Now trying to setup AP mode.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>