<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Browse folders in Windows Network Neighborhood in different subnet</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p239751">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dr431</div>
					<div class="post-datetime">
						9 Jul 2014, 16:35					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m having problems browsing the Windows Network Neighborhood for machines in a different subnet.</p><p>I am able to map a network drive if I explicitly specify it in the Map Network Drive configuration window i.e:</p><p>Drive: Z<br />Folder: \\computer_name_in_different_subnet\folder_name</p><p>If I try to map the folder by clicking on the Browse button the only computer that shows up in the Network window is my local machine. </p><p>Do I need to open any additional ports to be able to browse/view machines in other subnets?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239758">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						9 Jul 2014, 19:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dr431 wrote:</cite><blockquote><p>If I try to map the folder by clicking on the Browse button the only computer that shows up in the Network window is my local machine</p></blockquote></div><p>that is a Windows OS question not OpenWrt<br />the way i do it everything is in same subnet</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239775">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dr431</div>
					<div class="post-datetime">
						9 Jul 2014, 21:13					</div>
				</div>
				<div class="post-content content">
					<p>thanks, but I don&#039;t think it&#039;s a Windows OS problem. If I only access machines in the same subnet, everything works fine for me as well. I only encounter problems going to the different subnet, which is on the Openwrt router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239781">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						9 Jul 2014, 21:52					</div>
				</div>
				<div class="post-content content">
					<p>Set the OpenWrt on same subnet</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239788">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						9 Jul 2014, 22:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dr431 wrote:</cite><blockquote><p>thanks, but I don&#039;t think it&#039;s a Windows OS problem. If I only access machines in the same subnet, everything works fine for me as well. I only encounter problems going to the different subnet, which is on the Openwrt router.</p></blockquote></div><p>That IS a Windows problem. Windows is designed that way. It is not supposed to work across different subnets.</p>											<p class="post-edited">(Last edited by <strong>qasdfdsaq</strong> on 9 Jul 2014, 22:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239790">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						9 Jul 2014, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>btw you can use ip instead of name and it will work <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239866">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dr431</div>
					<div class="post-datetime">
						10 Jul 2014, 15:37					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your responses everyone, but I still think it is a router question. </p><br /><p>I don&#039;t agree that Windows isn&#039;t designed to work on different subnets because there are a lot of big companies that have many subnets in a Windows environment and PC&#039;s accessing folders that are on servers housed in large data centers. If Windows didn&#039;t work on different subnets, these companies would have to use *nix servers running Samba for PC&#039;s to get to the data, and while some companies do that, many don&#039;t and stick with Windows.</p><p>So what am I missing?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239869">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						10 Jul 2014, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>well you are sure that your OS can do something just because &quot;it must be able to do that! big companies use this os!&quot;</p><br /><p>that is a wrong starting point imho.</p><p>anyway if it&#039;s a router problem why don&#039;t you try another couple of different routers with completely different firmwares to see if something change?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239873">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						10 Jul 2014, 16:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dr431 wrote:</cite><blockquote><p>I don&#039;t agree that Windows isn&#039;t designed to work on different subnets because there are a lot of big companies that have many subnets in a Windows environment and PC&#039;s accessing folders that are on servers housed in large data centers.</p></blockquote></div><p>Irrelevant. Big companies have things such as DNS, Active Directory,&nbsp; and DFS, which negates the need for local subnet broadcast based discovery.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239876">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">dr431</div>
					<div class="post-datetime">
						10 Jul 2014, 17:14					</div>
				</div>
				<div class="post-content content">
					<p>The point is, it can be done because others are doing it.</p><p>I have DNS, so do I need an active directory server to be able to browse Windows servers in different subnets?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239878">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						10 Jul 2014, 17:25					</div>
				</div>
				<div class="post-content content">
					<p>You have already been told how you can access the contents of any server on any network.</p><p>You have already been told that the ability to browse servers outside of the local subnet is intentionally disabled by Microsoft.</p><p>If you&#039;re unhappy with these answers then you can to try implement various hacks to trick Windows into doing something it was specifically designed not to do. I&#039;m not going to help you with that.</p>											<p class="post-edited">(Last edited by <strong>qasdfdsaq</strong> on 10 Jul 2014, 18:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239906">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Middling</div>
					<div class="post-datetime">
						10 Jul 2014, 21:59					</div>
				</div>
				<div class="post-content content">
					<p>I believe you can do this by using a WINS server, and by announcing that WINS server using DHCP.</p><p>I&#039;m not too familiar with Windows so can&#039;t give any info on how to set it up.&nbsp; <a href="http://technet.microsoft.com/en-us/library/ff710463(v=ws.10).aspx">Here</a>&#039;s an article on doing so.</p><p>Once setup you should modify /etc/config/dhcp for each subnet&#039;s DHCP server to announce the WINS server.</p><p>/etc/config/dhcp:<br /></p><div class="codebox"><pre><code>config dhcp &#039;lan&#039;
    option interface &#039;lan&#039;
    ...
    list dhcp_option &#039;44,192.168.0.10&#039;</code></pre></div><p>modify the IP to match the machine hosting the WINS server.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239934">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">dr431</div>
					<div class="post-datetime">
						11 Jul 2014, 03:09					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Middling. I&#039;ll look into the WINS Server.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239953">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Middling</div>
					<div class="post-datetime">
						11 Jul 2014, 11:53					</div>
				</div>
				<div class="post-content content">
					<p>Samba also implements a WINS server, so if you&#039;ve a *nix box somewhere (or enough space on your OpenWrt router) you could try that.</p><p>Cerowrt has a <a href="https://www.bufferbloat.net/projects/cerowrt/wiki/Sharing_Windows_Files_from_wired_to_wireless">page</a> with more details.</p><p>You should keep in mind that you&#039;ll only be able to do the older-style network neighbourhood browsing.&nbsp; Windows 7 brought in &quot;Homegroups&quot; which use completely different discovery and communication protocols and i don&#039;t believe there&#039;s any way of reflecting them between subnets.</p><p>I wish Windows would get with the times and use the Apple/*nix preferred way of service discovery.&nbsp; After struggling with the Windows method, mDNS/DNS-SD/Zeroconf is a dream to use and reflecting between subnets requires just one line in the Avahi config file.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239973">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						11 Jul 2014, 15:45					</div>
				</div>
				<div class="post-content content">
					<p>I wish Windows stays as it is, as it actually plays nice with corporate networks, unlike Mac OS which loves to violate network standards, spam broadcasts everywhere, and trip security monitoring and IDS all over by deliberately stealing other devices&#039; IPs.</p><p>One of the corporate networks I used to deal with came close to banning Apple devices altogether because of this.</p>											<p class="post-edited">(Last edited by <strong>qasdfdsaq</strong> on 11 Jul 2014, 15:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240077">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">digital</div>
					<div class="post-datetime">
						12 Jul 2014, 18:44					</div>
				</div>
				<div class="post-content content">
					<p>This might be already resolved, but...<br />Windows uses broadcasts to find other computers that are in the SAME network. Routers receive that broadcast and don&#039;t pass it along.<br />SO, &quot;browsing&quot; the network only works on the same subnet... EVEN in BIG companies.<br />In big companies, they create FILE SERVERS with DFS and people are informed of their address (or names) and have to map the file share they want to access. The DFS is responsible to find the server that is sharing that resource<br />Well... this is how windows network works.<br />If you want to browse all your computers, you will have to put then in the same subnet.</p><p>Sorry for my bad english.</p>											<p class="post-edited">(Last edited by <strong>digital</strong> on 12 Jul 2014, 18:45)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>