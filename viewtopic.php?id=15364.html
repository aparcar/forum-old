<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unhandled kernel unaligned access[#1]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p67100">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pfugl</div>
					<div class="post-datetime">
						18 Apr 2008, 16:58					</div>
				</div>
				<div class="post-content content">
					<p>After compiling the latest svn (10857) (openwrt-brcm47xx-squashfs.trx) and transfering it to my WL-500gp, I get the following message in the dmesg log:</p><div class="codebox"><pre><code>jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
jffs2_build_filesystem(): unlocking the mtd device... done.
jffs2_build_filesystem(): erasing all blocks after the end marker... done.
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
Unhandled kernel unaligned access[#1]:
Cpu 0
$ 0   : 00000000 1000dc00 fffffffe 1000dc01
$ 4   : 81b851d0 00000001 00024000 00000000
$ 8   : 72733200 81b85147 00000008 746b3933
$12   : 4808a2f9 00000000 4808a2f9 00000000
$16   : 80210000 81b851d0 00000000 80237800
$20   : 8132b3c0 81d02000 fffffffe 81b1bea4
$24   : 00000018 00000000
$28   : 81baa000 81babc80 7ffe89a0 800cd810
Hi    : ed3f3fb2
Lo    : 0d3d4a83
epc   : 800cd814     Not tainted
ra    : 800cd810 Status: 1000dc03    KERNEL EXL IE
Cause : 00000010
BadVA : 00000006
PrId  : 00029006
Modules linked in: k8055d usb_storage usblp ehci_hcd uhci_hcd ohci_hcd sd_mod nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp ext3 jbd ext2 b43 nls_cp850 usbcore scsi_mod nls_base mac80211 cfg80211 arc4 aes deflate ecb cbc blkcipher crypto_hash cryptomgr crypto_algapi switch_robo switch_core diag
Process mount (pid: 841, threadinfo=81baa000, task=812be148)
Stack : 812b3200 800d2c78 00000000 801ff484 8008f738 00000003 81b1bea4 81d96400
        00000000 80237800 8132b3c0 81d02000 81b44000 81babd88 7ffe89a0 800d3060
        80084fc0 80084fac 81b44000 fffffff4 00000000 800d2e84 81d96400 81d96400
        00000000 800d2e84 80288920 8007b9b4 00000001 00000000 00000001 00000000
        80288920 fffffff4 80238600 00000000 81b44000 8007b27c 81d02000 00000000
        ...
Call Trace:[&lt;800d2c78&gt;][&lt;8008f738&gt;][&lt;800d3060&gt;][&lt;80084fc0&gt;][&lt;80084fac&gt;][&lt;800d2e84&gt;][&lt;800d2e84&gt;][&lt;8007b9b4&gt;][&lt;8007b27c&gt;][&lt;8009332c&gt;][&lt;8007b348&gt;][&lt;8000e6e4&gt;][&lt;80095a6c&gt;][&lt;80084fc0&gt;][&lt;80084fac&gt;][&lt;8005236c&gt;][&lt;80055560&gt;][&lt;80003ea0&gt;][&lt;8008633c&gt;][&lt;80093ca8&gt;][&lt;801f8608&gt;][&lt;80095b90&gt;][&lt;80095b38&gt;][&lt;800346c8&gt;][&lt;8000c7b0&gt;][&lt;8000c7b0&gt;]

Code: 0c020c95  02202821  0040b021 &lt;8c420008&gt; 14400005  00000000  0c02389b  02c02021  080336b8
root@OpenWrt:</code></pre></div><p>Any ideas what this is?<br />/Peter</p>											<p class="post-edited">(Last edited by <strong>pfugl</strong> on 18 Apr 2008, 17:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67325">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lgvienna</div>
					<div class="post-datetime">
						23 Apr 2008, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>asus WL-500GPV2 R1.51<br />kamikaze svn r10910</p><div class="codebox"><pre><code>jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
jffs2_build_filesystem(): unlocking the mtd device... done.
jffs2_build_filesystem(): erasing all blocks after the end marker... done.
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
Unhandled kernel unaligned access in unaligned.c::emulate_load_store_insn, line 481:
$0 : 00000000 1000fc00 fffffffe 00000002 00000018 8105bf20 816ea040 8105bf18
$8 : 8105bf28 1000fc01 00000008 746b3933 480dbd0c 00000000 0000000a 00000000
$16: 816eaee0 81445400 81d332c0 00000000 00000000 fffffffe 8105e520 816eaee0
$24: 00000018 00000000                   81498000 81499d68 8145e000 80060c04
Hi : 00000000
Lo : 0000001a
epc   : 80060c08    Tainted: P 
Status: 1000fc03
Cause : 00000010
PrId  : 00029029
Process mount (pid: 545, stackpage=81498000)
Stack:    8145e000 800669e4 8145e000 81445400 8004e9c0 00000001 816eaee0
 81445400 81d332c0 00000000 00000000 8019c660 8105e520 00000000 8145e000
 80067110 fffffff4 8145f000 81499e50 8003e444 00000000 00000000 80154a24
 00000001 00000000 8145f000 81445400 8145f000 81499e50 8145f000 8003e95c
 8003e930 811f2001 00000003 00271d65 81498000 816552a0 816553a0 811f2000
 81499e50 ...
Call Trace:   [&lt;800669e4&gt;] [&lt;8004e9c0&gt;] [&lt;80067110&gt;] [&lt;8003e444&gt;] [&lt;80154a24&gt;]
 [&lt;8003e95c&gt;] [&lt;8003e930&gt;] [&lt;80053abc&gt;] [&lt;800305f0&gt;] [&lt;800534d4&gt;] [&lt;80137824&gt;]
 [&lt;80053fc4&gt;] [&lt;80008a60&gt;] [&lt;8000f034&gt;] [&lt;8005bb0c&gt;]

Code: 0c011224  24060017  0040a821 &lt;8c420008&gt; 14400005  00000000  0c01381c  02a02021  080183a2</code></pre></div><p>edit: this happens on the first boot only</p>											<p class="post-edited">(Last edited by <strong>lgvienna</strong> on 23 Apr 2008, 12:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67327">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						23 Apr 2008, 12:42					</div>
				</div>
				<div class="post-content content">
					<p>Trunk really needs some stabilizing instead of adding more crap for some time now...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67332">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lgvienna</div>
					<div class="post-datetime">
						23 Apr 2008, 17:58					</div>
				</div>
				<div class="post-content content">
					<p>ok this seems to be config-related. <br />it does not occur with an unchanged (broadcom-2.4/generic-broadcom-default-)config.<br />even with kernel-modules for usb-storage and filesystems everything is ok.<br />i will try to find out which package/option is causing this ...</p><p>(used r10926 now)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67377">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">lgvienna</div>
					<div class="post-datetime">
						24 Apr 2008, 16:58					</div>
				</div>
				<div class="post-content content">
					<p>mount-utils is causing this.<br />rechecked with r10934 now.</p><p>&quot;pfugl&quot;: can you confirm you had mount-utils enabled?</p><p>edit: opened ticket, <a href="https://dev.openwrt.org/ticket/3374">https://dev.openwrt.org/ticket/3374</a></p>											<p class="post-edited">(Last edited by <strong>lgvienna</strong> on 24 Apr 2008, 18:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67425">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">pfugl</div>
					<div class="post-datetime">
						25 Apr 2008, 10:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lgvienna wrote:</cite><blockquote><p>mount-utils is causing this.<br />rechecked with r10934 now.</p><p>&quot;pfugl&quot;: can you confirm you had mount-utils enabled?</p><p>edit: opened ticket, <a href="https://dev.openwrt.org/ticket/3374">https://dev.openwrt.org/ticket/3374</a></p></blockquote></div><p>Yes, I did have mount-utils enabled. Thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>