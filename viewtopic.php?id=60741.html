<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [SOLVED] some packages are not shown in openwrt make menuconfig menu</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p298689">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rezad1393</div>
					<div class="post-datetime">
						5 Nov 2015, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>hi<br />I have this issue that some packages are not shown in make menuconfig menu.<br />they are available in feeds folder in openwrt git folder but are not available in the menu to select.</p><p>the weird part is that I can search them in the menu and in search result it shows their place <br />like this :</p><br /><br /><p> Symbol: PACKAGE_minidlna [=n]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │ Type&nbsp; : tristate&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │&nbsp; <br />&nbsp; │ Prompt: minidlna.................................... UPnP A/V &amp; DLNA Media Server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │&nbsp; &nbsp;Location:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │ (3) -&gt; Multimedia&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │&nbsp; &nbsp;Defined at tmp/.config-package.in:43270</p><br /><br /><br /><p>but when I select that result it goes to the section that it say&nbsp; that item is there ,in this example it shows this:<br />&nbsp; &nbsp; &nbsp; Base system&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Administration&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Boot Loaders&nbsp; ----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Development&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Firmware&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Kernel modules&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Languages&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Libraries&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LuCI&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mail&nbsp; ---&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│ │&nbsp; <br />&nbsp; │ │&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Multimedia&nbsp; ---&gt;</p><br /><br /><p>and the multimedia part highlighted<br /> but the item is not there.</p><p>the main package that right&nbsp; now I am searching for is minidlna.</p><p>does this have anything to do with my router arch selected in make menuconfig?</p><p>ps: i know about single package compile.<br />I want to know if this behaviour is normal or not and if not how to fix it.</p>											<p class="post-edited">(Last edited by <strong>rezad1393</strong> on 5 Nov 2015, 17:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298693">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						5 Nov 2015, 12:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rezad1393 wrote:</cite><blockquote><p> Symbol: PACKAGE_minidlna [=n]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │ Type&nbsp; : tristate&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │&nbsp; <br />&nbsp; │ Prompt: minidlna.................................... UPnP A/V &amp; DLNA Media Server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │&nbsp; &nbsp;Location:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │ (3) -&gt; Multimedia&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;│&nbsp; <br />&nbsp; │&nbsp; &nbsp;Defined at tmp/.config-package.in:43270<br />...<br />I want to know if this behaviour is normal or not and if not how to fix it.</p></blockquote></div><p>Normal behaviour, but the package definition of minidlna is a bit complicated. The author is probably trying to ensure that you have a ffmpeg library available.</p><p>You left out the key line &quot;Depends on:&quot; from your message...<br /></p><div class="quotebox"><blockquote><p>Symbol: PACKAGE_minidlna [=n]<br />&nbsp; │ Type&nbsp; : tristate<br />&nbsp; │ Prompt: minidlna.................................... UPnP A/V &amp; DLNA Media Server<br />&nbsp; │&nbsp; &nbsp;Location:<br />&nbsp; │ (3) -&gt; Multimedia<br />&nbsp; │&nbsp; &nbsp;Defined at tmp/.config-package.in:43270<br />&nbsp; │&nbsp; &nbsp;Depends on: PACKAGE_libffmpeg-custom [=n] || PACKAGE_libffmpeg-full [=n] ...&nbsp; <br />&nbsp; │&nbsp; &nbsp;Selects: PACKAGE_libvorbis [=n] &amp;&amp; PACKAGE_libc [=y] &amp;&amp; PACKAGE_libexif [=n] ... <br />&nbsp; │&nbsp; &nbsp;Selected by: PACKAGE_luci-app-minidlna [=n] &amp;&amp; (PACKAGE_libffmpeg-custom [=n] ...</p></blockquote></div><p>The &quot;Depends on&quot; line shows you the conditions for this package being visible in menuconfig. The condition need to be true. This time there are several libffmpeg variants ORed (with || ), so one is enough. But currently all items on the line are not-selected &quot;=n&quot;. </p><p>&quot;Depends on&quot; = pre-conditions for enabling this package. Needs to be true.<br />&quot;Selects&quot; = which packages will get automatically enabled when this package is enabled<br />&quot;Selected by&quot; = which packages enable this, is they are first enabled</p><p>If you first select e.g. libffmpeg-full (from the libraries section), then the minidlna item gets visible. I tested that just now.</p><p>Based on last line &quot;Selected by&quot;,&nbsp; this minidlna will also get automatically selected, if you select one libffmpeg variant and then luci-app-minidlna.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 5 Nov 2015, 12:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298715">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rezad1393</div>
					<div class="post-datetime">
						5 Nov 2015, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>before I saw your post I found out that it seems that I cant get minidlna to compile separately in openwrt dev env as&nbsp; a single package.<br />it complains with this massage : </p><p>........<br />&quot;<br />checking for linux/netlink.h... yes<br />checking libavutil/avutil.h usability... no<br />checking libavutil/avutil.h presence... no<br />checking for libavutil/avutil.h... no<br />checking ffmpeg/libavutil/avutil.h usability... no<br />checking ffmpeg/libavutil/avutil.h presence... no<br />checking for ffmpeg/libavutil/avutil.h... no<br />checking libav/libavutil/avutil.h usability... no<br />checking libav/libavutil/avutil.h presence... no<br />checking for libav/libavutil/avutil.h... no<br />checking avutil.h usability... no<br />checking avutil.h presence... no<br />checking for avutil.h... no<br />checking ffmpeg/avutil.h usability... no<br />checking ffmpeg/avutil.h presence... no<br />checking for ffmpeg/avutil.h... no<br />checking libav/avutil.h usability... no<br />checking libav/avutil.h presence... no<br />checking for libav/avutil.h... no<br />checking libavutil/avutil.h usability... no<br />checking libavutil/avutil.h presence... no<br />checking for libavutil/avutil.h... no<br />checking ffmpeg/libavutil/avutil.h usability... no<br />checking ffmpeg/libavutil/avutil.h presence... no<br />checking for ffmpeg/libavutil/avutil.h... no<br />checking libav/libavutil/avutil.h usability... no<br />checking libav/libavutil/avutil.h presence... no<br />checking for libav/libavutil/avutil.h... no<br />checking avutil.h usability... no<br />checking avutil.h presence... no<br />checking for avutil.h... no<br />checking ffmpeg/avutil.h usability... no<br />checking ffmpeg/avutil.h presence... no<br />checking for ffmpeg/avutil.h... no<br />checking libav/avutil.h usability... no<br />checking libav/avutil.h presence... no<br />checking for libav/avutil.h... no<br />configure: error: libavutil headers not found or not usable&quot;</p><p>so it is seems to not accept my ffmpeg (installed on archlinux) as acceptable.</p><p>btw the ffmpeg items have the same behaviour as minidlna. they are search-able but not shown.<br />so &#039;make menuconfig&#039; command checks the libraries (on my system) for all&nbsp; packages first? and hide the ones that their dependencies are not available?</p><p>how do I fix this ffmpeg issue?<br />i have the standard archlinux install with ffmpeg installed.(the file that it complains about is in&nbsp; ffmpeg package ,there is no dev package like in ubuntu&#039;s libavutil)</p><br /><p>and also thanks for clearing the issue. I didn&#039;t know about this point.</p><p>and why this isn&#039;t in wiki?<br />this would save a lot of time for people like me.</p>											<p class="post-edited">(Last edited by <strong>rezad1393</strong> on 5 Nov 2015, 16:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298716">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						5 Nov 2015, 16:43					</div>
				</div>
				<div class="post-content content">
					<p>Menuconfig checks the items selected for the target firmware configuration.<br />host libraries do not have much role.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298717">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rezad1393</div>
					<div class="post-datetime">
						5 Nov 2015, 17:01					</div>
				</div>
				<div class="post-content content">
					<p>thank you for the prompt responses.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>