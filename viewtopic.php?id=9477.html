<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Establishing/sharing a PPTP VPN connection</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p42741">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">slowscan</div>
					<div class="post-datetime">
						15 Feb 2007, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to establish a PPTP VPN connection between an OpenWrt-enabled router and my ISP&#039;s VPN server (sadly, that&#039;s the way I connect to the internet), and then share that connection to the machines connected to the router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42785">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">extremoburo</div>
					<div class="post-datetime">
						16 Feb 2007, 18:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi. I&#039;m trying to solve this out.&nbsp; but my ISP&nbsp; want me to log with a username and password. It looks like openvpn cannot manage this kind of things. Anyway i will post any news.</p><p>Fabrizio.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42797">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						16 Feb 2007, 22:16					</div>
				</div>
				<div class="post-content content">
					<p>openvpn and PPTP vpn connection use different protocols and are not compatible.<br />You could use the PPTP client on openwrt to connect to your ISP.<br />Are you using PPTP with an ADSL connection?<br />I still have one Asus WL-500gx with Olegs firmware and it&#039;s connection with PPTP over ADSL.<br />It should be no problem do to this with OpenWrt, I think I will upgrade the router to Kamikaze some time.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42825">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">extremoburo</div>
					<div class="post-datetime">
						17 Feb 2007, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>yes. I&#039;m connecting to an adsl service. i&#039;ve installed and configured pptp, i&#039;ve also installed knod-ppp kmo-gre and ppp</p><p>after configuring it to authenticate using chap it actually connects to my remote vpn server, but still doesn&#039;t&nbsp; work properly.</p><p>that&#039;s my ps -aux</p><br /><p>&nbsp; 898 root&nbsp; &nbsp; &nbsp; &nbsp; 360 S&nbsp; &nbsp;sh -c pptp 10.248.2.107 --nolaunchpppd&nbsp; <br />&nbsp; 899 root&nbsp; &nbsp; &nbsp; &nbsp; 344 S&nbsp; &nbsp;pptp: GRE-to-PPP gateway on /dev/ptmx<br />&nbsp; 907 root&nbsp; &nbsp; &nbsp; &nbsp; 344 S&nbsp; &nbsp;pptp: call manager for 10.248.2.107<br />&nbsp; 908 root&nbsp; &nbsp; &nbsp; &nbsp; 664 S&nbsp; &nbsp;pppd call Ariacom updetach </p><p>that&#039;s ok as i&#039;ve tried it from my laptop when directly connected to&nbsp; my ISP. but that&#039;s my rotuing table</p><p>Destination&nbsp; &nbsp; &nbsp;Gateway&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags Metric Ref&nbsp; &nbsp; Use Iface<br />85.116.137.156&nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.255 UH&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 ppp0<br />10.150.0.0&nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.0&nbsp; &nbsp;U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 vlan1<br />192.168.1.0&nbsp; &nbsp; &nbsp;0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.0&nbsp; &nbsp;U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 br0<br />0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10.150.0.1&nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UG&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 vlan1</p><p>As you can see it does not redirect everything to my vpn remote server&nbsp; 85.116.137.156</p><p>i will try to change this. i&#039;ll let you know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42921">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">slowscan</div>
					<div class="post-datetime">
						19 Feb 2007, 13:44					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for pointing me to the PPTP client! I am on a LAN, though, and I&#039;m not quite sure if this <a href="http://wiki.openwrt.org/Faq#head-6faef78fc87ad815335a6b0500842bb1535f6fbd">FAQ entry</a> (&quot;How do I configure PPTP for internet access?&quot;) really applies to me. Am I right?</p>											<p class="post-edited">(Last edited by <strong>slowscan</strong> on 19 Feb 2007, 13:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42996">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">extremoburo</div>
					<div class="post-datetime">
						20 Feb 2007, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p><a href="http://wiki.openwrt.org/PPTPClientHowto">http://wiki.openwrt.org/PPTPClientHowto</a></p><p>follow this guide. that&#039;s all you need.</p><p>Take care when doing routing as you may want tunnel all the lan traffic to your ISP sever. </p><p>i fixed my routing table adding this:</p><p>route add -net $ISP_VPN_SERVER_IP netmask 255.255.255.255 gw $ISP_GATEWAY_IP dev vlan1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />route add -net 0.0.0.0 dev $1</p><p>let me know.</p><p>Fabrizio.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>