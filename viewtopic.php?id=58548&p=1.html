<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Edimax EW-7811Un - Micro Wireless-N USB adapter</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 27 Mar 2018 and 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=58548&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p283975">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						18 Jul 2015, 18:41					</div>
				</div>
				<div class="post-content content">
					<p>I have configured an Edimax EW-7811Un as a second wireless device on a HooToo TM-02 travel Router (CC RC2).&nbsp; It is so tiny that one will barely notice it is attached, and there is no need to remove it (other than to use a thumb drive).&nbsp; Available in the $10 range.<br /><a href="http://www.edimax.com/edimax/merchandise/merchandise_detail/data/edimax/global/wireless_adapters_n150/ew-7811un">http://www.edimax.com/edimax/merchandis … /ew-7811un</a></p><p>It only will support a single SSID.&nbsp; I have tested it with the device configured as both an AP and a Router.&nbsp; As a router I tested the device as both the WWAN and WLAN.&nbsp; Performance appears to be marginally better than the HooToo on board wireless.</p><p>Each radio now has it&#039;s own Scan/Add function.&nbsp; This means that one can change the radio configs independently and not loose an AP when changing Clients.</p><p>Regarding configuration, searching led me to the following requirements:</p><p>Installed with Image<br />wpad &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 238KB</p><p>Basic USB (already installed, not sure that all are required)<br />kmod-scsi-core<br />kmod-usb-storage<br />kmod-crypto-hash<br />kmod-lib-crc16<br />block-mount</p><p>The required kmod-rtl8192cu installs all of the following:<br />kmod-rtl8192cu&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 43kb<br />kmod-rtl8192c-common&nbsp; &nbsp; 18kb<br />kmod-rtlwifi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28kb<br />kmod-rtlwifi-usb &nbsp; &nbsp; &nbsp; &nbsp; 8kb</p><p>This seems relevant, but was not installed and the device appears to function with out it.<br />kmod-net-rtl8192su&nbsp; &nbsp; &nbsp; &nbsp; 139kb</p><p>The ticket below suggested the need for wpad, but wpad-mini works at about 150kb less.<br />wpad &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 395kb</p><p>References<br />-----------<br />These appear to be the relevant posts:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=56030">https://forum.openwrt.org/viewtopic.php?id=56030</a><br /><a href="https://dev.openwrt.org/ticket/17649">https://dev.openwrt.org/ticket/17649</a></p><p>Performance <br />-------------<br />Configured as an AP (the device is about 10ft away through a wall and in proximity of other electronics)<br />--------------------------<br />AP EdiMaxx - rtl8192<br />15.42/9.71 (<a href="http://www.att.com/speedtest/">http://www.att.com/speedtest/</a>)<br />21.5 connection speed (reported by windows)<br />7.78/8.09&nbsp; lan speed&nbsp; (TutoSoft Lan Speed Test Lite)</p><p>AP On Board - RT5350F <br />10.50/9.72&nbsp; (<a href="http://www.att.com/speedtest/">http://www.att.com/speedtest/</a>)<br />14.5 connection speed (reported by windows)<br />12.98/11.58 lan speed (TutoSoft Lan Speed Test Lite)</p><p>As a Router located about 1 ft from the Client PC<br />-----------<br />LAN Side (EDIMAX =&gt; HooToo)<br />11.50/7.37<br />11.12/6.97<br />15.41/7.16 w/lan cable also attached</p><p>WAN Side (HooToo =&gt; Edimax)<br />11.21/9.63<br />10.60/9.70<br />23.42/9.35 w/lan cable also attached (my max is 10)<br />4.50/2.85 openvpn<br />3.80/2.40 openvpn<br />4.30/2.22 openvpn</p><p><a href="http://www.totusoft.com/downloads.html">http://www.totusoft.com/downloads.html</a></p><p>I also tried to run this off of a USB hub.&nbsp; That did not work, but a USB thumb drive attached to the hub did work.&nbsp; Carrying a hub is not really practical, but it would be nice to know if anyone gets it working and what additional packages are needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287872">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						17 Aug 2015, 03:28					</div>
				</div>
				<div class="post-content content">
					<p>So, it seems I still have much to learn, and many of my questions you seem to have solved already, so hopefully you are feeling helpful!</p><p>How do you install kmod-rtl8192cu on the HooToo?&nbsp; I have installed the Chaos Calmer r44945 from WingSpinner.&nbsp; A quick search from the Luci software package page shows nothing for &quot;kmod-rtl8192cu&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287877">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						17 Aug 2015, 05:40					</div>
				</div>
				<div class="post-content content">
					<p>Also, since you earlier outed yourself as a OpenVPN newbie just a few months ago, (!!!) can you point this noob to how you set up your VPN client?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287926">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						17 Aug 2015, 17:16					</div>
				</div>
				<div class="post-content content">
					<p>I will suggest you upgrade from the r44945 to CC RC3.&nbsp; Luci is installed so the upgrade is pretty easy.&nbsp; If you have any significant config you would like, make a backup and you can restore it.&nbsp; Make sure to un-select &quot;Keep Settings&quot;.</p><p>Here I know you will find the correct kmod assuming that you have downloaded the packages list successfully.&nbsp; I can not remember if the path for downloads is correct in this release.&nbsp; I know there were some problems with the path in RC1.</p><p>As for OpenVPN I had everything working in my test environment, but when I moved it to live I am now having issues and no time to fix it.&nbsp; I think it is the firewall rules.&nbsp; I am not a good teacher for this.&nbsp; I suggest you decide on a few things, which is basically TUN or TAP, service or private server, and if the later route all traffic or just internet.&nbsp; There is a note on Routed and Bridged on the OPENVPN site that you should find and read.&nbsp; I think it is linked in one of the OpenWRT basic VPN articles.</p><p>My guiding article was this:<br /><a href="http://www.frogiswrong.com/blog/articles/8/openvpn-on-openwrt-a-little-more-detail">http://www.frogiswrong.com/blog/article … ore-detail</a></p><p>There are many confusing articles on configuring OpenVPN in the OpenWRT site.&nbsp; The &quot;beginners&quot; wiki is only a beginners article if you understand UCI, which I do not.</p><p>If you are connecting to a service you are probably going to use a routed config and they may give it to you.&nbsp; You will need to mod it to fit the OpenWRT format, but hopefully that is all.</p><p>I did not like editing the config in Luci and forget UCI.&nbsp; It was to difficult and not all the parameters are available.&nbsp; I am a windows user and used WinSCP to connect.&nbsp; It has a built in editor to edit the config files (/etc/config/OpenVPN).&nbsp; I suggest downloading the default OpenVPN file and saving/renaming it as a reference, and creating your own from scratch.&nbsp; There is good info in the comments, but for some reason comments are stripped from the working file.&nbsp; Keep notes on your changes.</p><p>Keep it simple.&nbsp; Get connected.&nbsp; Read the logs.&nbsp; Question everything.&nbsp; I suggest you do this easy mod. <a href="https://forum.openwrt.org/viewtopic.php?id=58715">https://forum.openwrt.org/viewtopic.php?id=58715</a> so you can see your log files separate from the system logs.&nbsp; You can save your log files and get to them via WinSCP, but it means opening winSCP every time you want to see a log file.&nbsp; Actually you need to send the logs to files to use this mod.&nbsp; It&#039;s just a short cut to accessing them.</p><p>I honestly think the whole OpenVPN solution is too fragile for the average user.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288001">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						18 Aug 2015, 02:00					</div>
				</div>
				<div class="post-content content">
					<p>Just to confirm my understanding, you are suggesting moving off the 44945 snapshot that Wingspinner provided, so as to make the package installation and dependencies less challenging?&nbsp; That seems sensible.</p><p>Also, can you confirm that you are able to configure the Edimax from the Luci interface?&nbsp; Can you send a screen shot of your wireless page to give me a taste of what I&#039;m working towards?</p><p>As for VPN, I agree that the OpenVPN wiki entries are not well organized, and perhaps a bit more work than they are worth.&nbsp; I am seriously considering seeing if something weaker (broken, according to the security folks) like PPTP, might suffice.&nbsp; (It is what many use on phones and tablets, after all.)&nbsp; I&#039;ll let you know if I make progress.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288024">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						18 Aug 2015, 08:31					</div>
				</div>
				<div class="post-content content">
					<p>I believe I successfully downloaded and flashed&nbsp; Chaos Calmer 15.05-rc3.&nbsp; I was surprised that Luci survived the upgrade, as well as a lot of packages previously installed.&nbsp; I did an update on the Software page, and everything seemed OK (no error messages).&nbsp; Hard to tell if any packages were updated in the process.&nbsp; I guess I need to read up on package management.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288076">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						18 Aug 2015, 16:49					</div>
				</div>
				<div class="post-content content">
					<p>The packages that are installed in CC RC3 I do not think are the ones that WingSpinner included.&nbsp; His was a custom image based upon that particular release.&nbsp; I do not know how that differs from the standard release.&nbsp; &nbsp;You may want to go back to his post and you will find a list in one of the OPKG statements.&nbsp; That said, depending on what you want to do, that list may not be meaningful.&nbsp; No packages other than the default should be installed after your upgrade.&nbsp; </p><p>If you have the Edimax its just as above.&nbsp; There will be a second Radio section that looks exactly like the first, but says Radio1 as opposed to Radio0.&nbsp; The unit and laptop are packed away in my travel bag right no, so it&#039;s not convenient to take a picture.</p><p>This also gets you basic USB support, so it&#039;s only a couple more files depending on which file system you want.&nbsp; I suggest NOT trying NTFS (I did not get it to work) and sticking with EXT4 and VFAT.&nbsp; But if you are using the radio, you may not actually even want this.&nbsp; I did USB first and now do not use it.&nbsp; Tell me what you want to do with USB and I can probably help, but you need to be specific.</p><p>Yes, read up on package management.&nbsp; Do this first.&nbsp; Everything you want builds on this.&nbsp; Also know that you have NOT downloaded the packages.&nbsp; You have only downloaded a LIST of the packages.&nbsp; The list goes away after each reboot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288085">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						18 Aug 2015, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>After installing the 15.05-rc3, here are the packages that are installed.&nbsp; Are you saying that </p><div class="codebox"><pre><code>root@OpenWrt:~# opkg list_installed
base-files - 157-r46163
busybox - 1.23.2-1
dnsmasq - 2.73-1
dropbear - 2015.67-1
firewall - 2015-05-26
fstools - 2015-05-24-09027fc86babc3986027a0e677aca1b6999a9e14
hostapd-common - 2015-03-25-1
ip6tables - 1.4.21-1
iptables - 1.4.21-1
iw - 3.17-1
jshn - 2015-06-14-d1c66ef1131d14f0ed197b368d03f71b964e45f8
jsonfilter - 2014-06-19-cdc760c58077f44fc40adbbe41e1556a67c1b9a9
kernel - 3.18.17-1-73d2b013e81727fe0664fd1b78bd291e
kmod-cfg80211 - 3.18.17+2015-03-09-3
kmod-crypto-aes - 3.18.17-1
kmod-crypto-arc4 - 3.18.17-1
kmod-crypto-core - 3.18.17-1
kmod-eeprom-93cx6 - 3.18.17-1
kmod-gpio-button-hotplug - 3.18.17-1
kmod-ip6tables - 3.18.17-1
kmod-ipt-conntrack - 3.18.17-1
kmod-ipt-core - 3.18.17-1
kmod-ipt-nat - 3.18.17-1
kmod-ipv6 - 3.18.17-1
kmod-leds-gpio - 3.18.17-1
kmod-ledtrig-usbdev - 3.18.17-1
kmod-lib-crc-ccitt - 3.18.17-1
kmod-lib-crc-itu-t - 3.18.17-1
kmod-mac80211 - 3.18.17+2015-03-09-3
kmod-nf-conntrack - 3.18.17-1
kmod-nf-conntrack6 - 3.18.17-1
kmod-nf-ipt - 3.18.17-1
kmod-nf-ipt6 - 3.18.17-1
kmod-nf-nat - 3.18.17-1
kmod-nf-nathelper - 3.18.17-1
kmod-nls-base - 3.18.17-1
kmod-ppp - 3.18.17-1
kmod-pppoe - 3.18.17-1
kmod-pppox - 3.18.17-1
kmod-rt2800-lib - 3.18.17+2015-03-09-3
kmod-rt2800-mmio - 3.18.17+2015-03-09-3
kmod-rt2800-soc - 3.18.17+2015-03-09-3
kmod-rt2x00-lib - 3.18.17+2015-03-09-3
kmod-rt2x00-mmio - 3.18.17+2015-03-09-3
kmod-slhc - 3.18.17-1
kmod-usb-core - 3.18.17-1
kmod-usb-ohci - 3.18.17-1
kmod-usb2 - 3.18.17-1
libblobmsg-json - 2015-06-14-d1c66ef1131d14f0ed197b368d03f71b964e45f8
libc - 0.9.33.2-1
libgcc - 4.8-linaro-1
libip4tc - 1.4.21-1
libip6tc - 1.4.21-1
libiwinfo - 2015-06-01-ade8b1b299cbd5748db1acf80dd3e9f567938371
libiwinfo-lua - 2015-06-01-ade8b1b299cbd5748db1acf80dd3e9f567938371
libjson-c - 0.12-1
libjson-script - 2015-06-14-d1c66ef1131d14f0ed197b368d03f71b964e45f8
liblua - 5.1.5-1
libnl-tiny - 0.1-4
libubox - 2015-06-14-d1c66ef1131d14f0ed197b368d03f71b964e45f8
libubus - 2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
libubus-lua - 2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
libuci - 2015-04-09.1-1
libuci-lua - 2015-04-09.1-1
libxtables - 1.4.21-1
lua - 5.1.5-1
luci - git-15.179.51004-cf2e3f6-1
luci-app-firewall - git-15.179.51004-cf2e3f6-1
luci-base - git-15.179.51004-cf2e3f6-1
luci-lib-ip - git-15.179.51004-cf2e3f6-1
luci-lib-nixio - git-15.179.51004-cf2e3f6-1
luci-mod-admin-full - git-15.179.51004-cf2e3f6-1
luci-proto-ipv6 - git-15.179.51004-cf2e3f6-1
luci-proto-ppp - git-15.179.51004-cf2e3f6-1
luci-theme-bootstrap - git-15.179.51004-cf2e3f6-1
mtd - 20
netifd - 2015-06-08-8795f9ef89626cd658f615c78c6a17e990c0dcaa
odhcp6c - 2015-06-10-d21764d12bb799f89d42c94dc20d4adb6d588077
odhcpd - 2015-05-21-2ebf6c8216287983779c8ec6597d30893b914a7c
opkg - 9c97d5ecd795709c8584e972bfdf3aee3a5b846d-7
ppp - 2.4.7-6
ppp-mod-pppoe - 2.4.7-6
procd - 2015-06-18-8559df08db51a2e5fe056e6a1c07984e51068eaf
rpcd - 2015-05-17-3d655417ab44d93aad56a6d4a668daf24b127b84
swconfig - 10
ubox - 2015-05-22-ab5b47397cc143798ba2f367f04579e5b5b82070
ubus - 2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
ubusd - 2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
uci - 2015-04-09.1-1
uhttpd - 2015-05-31-daeea305298197bb50c1e63cdd842ee1d9461d80
uhttpd-mod-ubus - 2015-05-31-daeea305298197bb50c1e63cdd842ee1d9461d80
usign - 2015-05-08-cf8dcdb8a4e874c77f3e9a8e9b643e8c17b19131
wpad-mini - 2015-03-25-1
root@OpenWrt:~#</code></pre></div><p>Are you saying that these were all installed anew with the 15.05-rc3 (none are left over from wingspinner&#039;s earlier install)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288089">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						18 Aug 2015, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>Yes, upgrades remove and replace ALL files. This way all files are at a compatible level.</p><p>Do you see relayd?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288093">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						18 Aug 2015, 18:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RangerZ wrote:</cite><blockquote><p>Yes, upgrades remove and replace ALL files. This way all files are at a compatible level.</p><p>Do you see relayd?</p></blockquote></div><p>Nope, no relayd here, and I know the Wingspinner version had it.&nbsp; Good example.&nbsp; Thanks!&nbsp; Also successfully installed kmod-rtl8192cu and got these dependent files installed</p><p>kmod-rtl8192c-common&nbsp; &nbsp; 18kb<br />kmod-rtlwifi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28kb<br />kmod-rtlwifi-usb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8kb</p><p>I also ordered the Edimax and should have it when I get back later this week.&nbsp; This should be a slick little travel router.&nbsp; Many thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288339">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						19 Aug 2015, 20:21					</div>
				</div>
				<div class="post-content content">
					<p>When you get to VPN make sure you read this article.&nbsp; <br /><a href="http://wiki.openwrt.org/doc/howto/openvpn-streamlined-server-setup?s">http://wiki.openwrt.org/doc/howto/openv … er-setup?s</a>[]=openvpn&amp;s[]=firewall<br />It turns out most of my issues were the order of the firewall rules.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288754">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						22 Aug 2015, 07:48					</div>
				</div>
				<div class="post-content content">
					<p>I am using the Edimax with my HooToo TM02 and it is working great!&nbsp; This seems like a no-brainer for those that want all of the flexibility of a dual-radio repeater!</p><p>My only niggle is that the connection speed is a little disappointing.&nbsp; Connecting directly from my laptop (wirelessly) to my home AP gets be about 8 Mbps down.&nbsp; If I connect to the Edimax (in AP mode), with the HooToo in client mode to the same home AP as before, the download speed drops to 1-2 Mbps.&nbsp; Note that the Edimax and HooToo radios are on different channels (6 and 11 respectively).&nbsp; Is this the max switching speed in the TM02?&nbsp; A driver issue?&nbsp; Slow memory?</p><p>It is perfectly respectable, and I will likely use it, but just wanted to see if your download speeds were similar (seeing that you are using the same HW and firmware as me).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288792">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						22 Aug 2015, 19:14					</div>
				</div>
				<div class="post-content content">
					<p>My device is set as a router and is sitting behind my Home LAN right now.&nbsp; I have a 50/10 service and hard wired usually get 52/~10, wireless just tested at 32.59/9.75 (direct through home router).&nbsp; &nbsp;Testing with AT&amp;T Speed Test (not my ISP)&nbsp; <a href="http://www.att.com/speedtest/">www.att.com/speedtest/</a></p><p>HooToo 192.168.2.1 &lt;=&gt; Home Router 192.168.111.1 &lt;=&gt; Internet &lt;=&gt; AT&amp;T</p><p>Testing with a PC connected by Cat-5 to the HooToo internal radio (WWAN) to AP about 20 feet away and through 1 wall.<br />down 24.95/up 8.65</p><p>Testing with both radios (EDIMAX LAN and internal WAN), laptop is also using an EDImax 7811 and as above.<br />down 11.68/up 9.33&nbsp; (no clue why it was better, variance)</p><p>Radios are both on ch7 which I need to connect to my primary router at home.&nbsp; </p><p>I got 5.9/3.4 over OpenVPN this past weekend, so I am sorry to say I do not consider your performance respectable.&nbsp; My standard is can I watch a HD YouTube video over the connection.&nbsp; I find that about 6mb down is as low as I can have to watch a HD video without more than minor breakup.</p><p>Unfortunately I do not think I can really help you with this issue, but: <br />Are all devices set to use N speed.&nbsp; <br />What do you get for speed if you connect to the HooToo with a cat 5 (ie test only the connection between HooToo and Router to see which side is the problem)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289556">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						28 Aug 2015, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>RangerZ, perhaps my poor performance is that I have not configured the device properly for a 2-radio repeater.&nbsp; My dumb strategy was to just set up an AP (wired to my main router), then used the remaining radio to scan for SSIDs, and accepted the default client configuration.&nbsp; I haven&#039;t done anything with firewalls or routing.</p><p>Could you explain how you set yours up?&nbsp; Either with a pointer to a howto or sharing your config files?</p><p>My intuition is that I should follow some of the classical recipies for a routed repeater, but just use the second radio in all places where they use a virtual SSID.&nbsp; Any other advice is most welcome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289557">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						28 Aug 2015, 21:45					</div>
				</div>
				<div class="post-content content">
					<p>I also am frustrated by the lack of clarity in setting up openvpn, despite your kind directions.&nbsp; This comes after seeing how simple it was to setup OpenVPN on a Tomato firmware.&nbsp; I am also concerned about the performance hit from using such low-cost hardware.</p><p>My inclination (haven&#039;t started yet) is to ditch OpenVPN and go with the much simpler PPTP option.&nbsp; Much less secure, but much lighter weight, performance wise.&nbsp; I&#039;ll let you know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289569">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						28 Aug 2015, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>klaberte, lets start with what you are trying to accomplish.&nbsp; I am not clear on what the network map you are trying to build is.&nbsp; Maybe you can try to represent it with some arrows or upload something to a image service or share.&nbsp; </p><p>PPTP is simpler for sure.&nbsp; I have spent months getting this to work, so it is not easy, but this is not my skill set either.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289575">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						29 Aug 2015, 00:38					</div>
				</div>
				<div class="post-content content">
					<p>I think my goal is nearly the same as yours, a travel router that will connect wirelessly to a hotel&#039;s&nbsp; wireless network, then provides a private wireless AP for me to connect my devices.&nbsp; I can choose my private SSID name and security scheme (at least password) independent of what the hotel uses.&nbsp; Using the Edimax and a hootoo TM02 running OpenWRT.</p><p>Once I get this working (at &quot;respectable throughput&quot;), I will shift gears to add VPN (probably PPTP, perhaps OpenVPN).&nbsp; But let&#039;s leave VPN aside for the time being.</p><p>Is that use case clear, or do you want me to draw a picture and post?</p><p>Thanks as always!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289587">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						29 Aug 2015, 02:50					</div>
				</div>
				<div class="post-content content">
					<p>The first part is clear, and should be easy.&nbsp; Try this as a reference.&nbsp; Let me know you have it so I can remove it.&nbsp; <a href="https://www.dropbox.com/s/f5dfd5yzngjb8cr/HooToo.zip?dl=0">https://www.dropbox.com/s/f5dfd5yzngjb8 … o.zip?dl=0</a></p><p>The second part is still not sufficiently clear, so I will start with:<br />Do you want to connect to a VPN service or do you want to connect to a OpenVPN server at your home or business?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290510">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Panderine</div>
					<div class="post-datetime">
						4 Sep 2015, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>I&#039;m trying to achieve the same with the same usb card but with other router (WNDR4300). I believe the process should be the same right? I manage to install the kmod-rtl8192cu driver (all the other mentioned packages were included in the build I&#039;m using). Luci seems to see the new radio, but the moment I press scan it breaks. Also ifconfig hangs my ssh session. Do you experienced something like that? How can I troubleshoot this ... i have no idea in where&nbsp; this should be logged.</p><p>Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290554">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						5 Sep 2015, 02:48					</div>
				</div>
				<div class="post-content content">
					<p>Try plugging the radio into a PC and make sure it works.&nbsp; I have not had a single issue from day 1.</p><p>Yes, the process should be the same.&nbsp; I think that all you should need to check is in the 2 files wireless and network.&nbsp; Radio 1 is the EDIMAX in my case, and probably yours.&nbsp; </p><p>I have never ifconged anything or tried SSH, but I think that if clicking scan is an issue, then you have a problem.&nbsp; I do not have the device available, but I think you need to add it to the LAN bridge.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291301">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						11 Sep 2015, 21:22					</div>
				</div>
				<div class="post-content content">
					<p>RangerZ, I did download your config files, but was hoping to solve this using Luci, as it will be more intuitive than just copy/paste of config files; Either I&#039;m doing something stupid, or I am missing a key point.</p><p>At this point, I can make the HooToo TM02 and Edimax work on different channels, but I find throughput to be worse than when I remove the Edimax and do both Master and Client on the same radio (and same channel).&nbsp; That is not how I think it is supposed to be.</p><p>To be specific, here are the steps I take:</p><p>Case A (using the Edimax)<br />1. firstboot &amp;&amp; reboot to start clean, direct ethernet connection to computer, Edimax in USB port<br />2. Set passwords<br />3. Download/install kmod-rtl8192cu, reboot<br />4. Go to wifi, scan, and join my home SSID (SSID=KL on channel 11), apply settings, confirm that hootoo is working as client to reach the internet.<br />5. Go to wifi, enable second radio (Edimax), configure as AP on channel 6 (SSID=OWRT), set WPA2 password, commit changes<br />6. Disable ethernet connection, enable wireless connection in windows7, join OWRT wireless<br />7. <a href="http://www.att.com/speedtest">www.att.com/speedtest</a>.&nbsp; Here I get only 3-4 Mbps download</p><p>Case B (no Edimax)<br />1. firstboot &amp;&amp; reboot to start clean, direct ethernet connection to computer<br />2. Set passwords<br />3. (skip, keeping same step numbering as Case A for easy comparison)<br />4. Go to wifi, scan, and join my home SSID (SSID=KL on channel 11), apply settings, confirm that hootoo is working as client to reach the internet.<br />5. Go to wifi, click Add (creating a VSSID on the hootoo&#039;s radio), configure as AP&nbsp; (SSID=OWRT), set WPA2 password, commit changes (Luci requires to use same channel 11 for this second VSSID<br />6. Disable ethernet connection, enable wireless connection in windows7, join OWRT wireless<br />7. <a href="http://www.att.com/speedtest">www.att.com/speedtest</a>.&nbsp; Here I get a higher speed 6-8 Mbps download</p><p>It seems that since both WAN and LAN share the same Channel 11, the speedtest should be lower in Case B.&nbsp; But it is not.</p><p>Note in particular that in both cases, I am doing all of the configuration in the wifi screen.&nbsp; I&#039;m not doing anything in either the interface screen or the firewall screen.&nbsp; I guess since I am configuring one side to be in the LAN zone, and the other in the WAN zone, that all the NAT, forwarding, firewalling will just work.&nbsp; Perhaps this is my mistake?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291309">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						11 Sep 2015, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>I was not suggesting you copy and paste my files, but compare them to what you have and see if there is anything that jumps out in the differences between the config files.</p><p>I recently redid this testing and was surprised to find that the 2 radio solution does not, as I have suggested, perform faster than the 1 radio solution.&nbsp; I still does address the connection issues so I&#039;m sticking to it.&nbsp; My test results are below.&nbsp; You really only should care about tests 2 and 3.&nbsp; It may be the distance, but I think it is the USB bus.&nbsp; I have not found my original test data, but know it was done in the clear at about 8-10 feet, and with a different AP on the WAN side (Buffalo WZR-G300NH CC 15.05 RC2 as opposed to a TP-LINK WDR3600 on DD-WRT).</p><p>I can not explain the relatively slow performance you get as compared to my self.&nbsp; My tests above were as a router and not using relayd.&nbsp; Are you configured as a router or AP/repeater?&nbsp; <br />What is your bandwidth?&nbsp; <br />Do you see any noticeable speed difference if you test on another speed tool?&nbsp; <br />Where are you?<br />What do you get if you connect the win7 machine via it&#039;s wireless to the KL ssid? (lots I assume)</p><br /><div class="codebox"><pre><code>I used a laptop with an EDIMAX 7811 Wireless N adapter.  The Travel Router had the same adapter connected by USB, and the internal radio.  The router connected to the internet is about 20 feet away and through a wall.

Test 1 is for reference only, and shows best speed point to point.
Test 2 is EDImax to EDIMax on the LAN side and internal radio to Wireless AP on the WAN side.
Test 3 is using only the internal router radio for both functions.
Test 4 is with a cat5 cable on the LAN side and radio on the WAN side. 

http://www.att.com/speedtest/

Dn       Up     Latency Jitter

Test1 - AP Point direct from PC (reference)
32.34    9.69    16ms    3ms
28.94    9.76    15ms    3ms
30.46    9.73    16ms    2ms

Test2 - 2 radios
10.20    5.41    23ms    3ms
12.08    9.02    18ms    7ms
11.01    8.07    17ms    8ms

Test 3 - 1 radio (wan\lan)
13.07    7.83    18ms    23ms
14.38    6.76    16ms    5ms
14.18    7.37    16ms    288ms

Test 4 - lan\1 radio
21.62    9.49    15ms    2ms
21.71    9.83    20ms    1ms
23.05    9.44    14ms    1ms</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291311">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						11 Sep 2015, 22:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>klaberte wrote:</cite><blockquote><p>Note in particular that in both cases, I am doing all of the configuration in the wifi screen.&nbsp; I&#039;m not doing anything in either the interface screen or the firewall screen.&nbsp; I guess since I am configuring one side to be in the LAN zone, and the other in the WAN zone, that all the NAT, forwarding, firewalling will just work.&nbsp; Perhaps this is my mistake?</p></blockquote></div><p>Ok, so your set as a router.&nbsp; And yes, I believe I have no special config for the other elements, other than default.&nbsp; PCs not available right now, but you have the config files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291328">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">klaberte</div>
					<div class="post-datetime">
						11 Sep 2015, 23:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RangerZ wrote:</cite><blockquote><p>I was not suggesting you copy and paste my files, but compare them to what you have and see if there is anything that jumps out in the differences between the config files.</p><p>I recently redid this testing and was surprised to find that the 2 radio solution does not, as I have suggested, perform faster than the 1 radio solution.&nbsp; I still does address the connection issues so I&#039;m sticking to it.&nbsp; My test results are below.&nbsp; You really only should care about tests 2 and 3.&nbsp; It may be the distance, but I think it is the USB bus.&nbsp; I have not found my original test data, but know it was done in the clear at about 8-10 feet, and with a different AP on the WAN side (Buffalo WZR-G300NH CC 15.05 RC2 as opposed to a TP-LINK WDR3600 on DD-WRT).</p><p>I can not explain the relatively slow performance you get as compared to my self.&nbsp; My tests above were as a router and not using relayd.&nbsp; Are you configured as a router or AP/repeater?&nbsp; <br />What is your bandwidth?&nbsp; <br />Do you see any noticeable speed difference if you test on another speed tool?&nbsp; <br />Where are you?<br />What do you get if you connect the win7 machine via it&#039;s wireless to the KL ssid? (lots I assume)</p></blockquote></div><p>Thanks for this.&nbsp; I&#039;ll track down the answers to some of your questions soon, but wanted to follow up with this:</p><p>My home APs are still running G.&nbsp; My speeds I am seeing are way lower than a decent G connection should be, so I never considered this an issue.&nbsp; But perhaps I have too many devices connecting wirelessly (about 4-8 for each of 2 APs (the APs are on different channels)), or worse, some of them are B.&nbsp; I will need to track this down.</p><p>BTW, when you mention sticking to two radios for the connectivity concerns, you mean that you want to connect to your HooToo wirelessly before you connect it to the hotel&#039;s AP, no?&nbsp; I almost never travel without a laptop and ethernet cable, so this might be less of an issue for me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291369">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						12 Sep 2015, 03:22					</div>
				</div>
				<div class="post-content content">
					<p>There are two issues.&nbsp; </p><p>1 - As frietpan points out if there is a WWAN and WLAN connection configured on a single radio, and when the device is rebooted, if the WWAN is not available the wireless crashes.&nbsp; You need a LAN cable to access this and reconfigure the wireless.</p><p>2 - If my WLAN is configured on CH6 and my laptop has a saved config to match, I can only connect to a WWAN on CH6.&nbsp; As I do not have control of the channel on the WWAN side, this would mean I need to reconfigure the WLAN and my PC to use the same channel as the client side AP.&nbsp; &nbsp; Too much work.</p><p>If you connect with a cable to a PC you are really not using the WLAN, and both of these issues may go away.&nbsp; I am trying to use my phone more thru the VPN, so if the LAN side is unavailable I can not reconfigure it.&nbsp; More importantly, I just do not want to do this each time I connect.</p><p>I am not clear on what impact the volume of devices has, but I will suggest being connected and not doing nothing should not bean issue.&nbsp; If a device is streaming audio or video continuously when you run the test then I would think your speed is impacted.&nbsp; On your main router, open the Graphs=&gt;Traffic tab and select br-lan (probably) to see what traffic is going through the routers lan ports.&nbsp; Noise level is a low kbits number.&nbsp; On my lan its about 50.&nbsp; Then watch the traffic during the test (on the different tabs)</p><p>Also test some of your other devices connected tot he same AP and see if you get similar performance.&nbsp; This would indicate the problem is not the travel router, but the AP.&nbsp; A B device should not impact things.&nbsp; Do you have the wireless on the HooToo set to b-g (N off)?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=58548&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>