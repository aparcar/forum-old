<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to build a OpenWRT for D-Link DIR 600 B2?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p130762">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jilingshu</div>
					<div class="post-datetime">
						15 Mar 2011, 08:11					</div>
				</div>
				<div class="post-content content">
					<p>hi there,<br />I just read this thread (<a href="http://wiki.openwrt.org/toh/d-link/dir-300revb">http://wiki.openwrt.org/toh/d-link/dir-300revb</a>) and learn that OpenWRT currently has no official support for my device. But according to the links in this thread(Right now you can build OpenWrt, but there will be no network functionality at all. Read on here and here. ), it said I need to apply some patches to OpenWRT. I just wanna know if it is still required me to apply these patches or the latest SVN of OpenWRT has already contain these patches? Thanks</p><p>BTW: According to wiki, it seems that there is nobody working on this device, so I wanna know if there are someone interested in this device? I own this device and I wanna do some porting as possible as I can <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130795">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						15 Mar 2011, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>The Ralink RT305x devices are still a work-in-progress for OpenWrt support... but they do work fine with latest trunk and a few patches for ethernet (USB support is not in trunk yet).&nbsp; I am currently working on this.</p><p>If you can build your own image, then you can patch it up and be running... otherwise hang tight.&nbsp; It&#039;s just around the corner.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130838">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jilingshu</div>
					<div class="post-datetime">
						16 Mar 2011, 06:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>LinkZ wrote:</cite><blockquote><p>but they do work fine with latest trunk and a few patches for ethernet (USB support is not in trunk yet).</p></blockquote></div><p>Could you tell me which patch is still needed and which patch are already merged into trunk? Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130839">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						16 Mar 2011, 06:29					</div>
				</div>
				<div class="post-content content">
					<p>You&#039;ll need this patch:<br /><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2011-February/009759.html">https://lists.openwrt.org/pipermail/ope … 09759.html</a></p><p>Or you could just modify your /etc/config/network accordingly and your ethernet should be good.</p><p>Also, see this thread:<br /><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2011-February/009759.html">https://lists.openwrt.org/pipermail/ope … 09759.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130841">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jilingshu</div>
					<div class="post-datetime">
						16 Mar 2011, 07:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>LinkZ wrote:</cite><blockquote><p>You&#039;ll need this patch:<br /><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2011-February/009759.html">https://lists.openwrt.org/pipermail/ope … 09759.html</a></p><p>Or you could just modify your /etc/config/network accordingly and your ethernet should be good.</p><p>Also, see this thread:<br /><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2011-February/009759.html">https://lists.openwrt.org/pipermail/ope … 09759.html</a></p></blockquote></div><p>hi,<br />It seems like that you post one link twice <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I have already done that modification and also, I followed this thread(https://forum.openwrt.org/viewtopic.php?id=28010) and modified my /package/base-files/files/etc/config/network with<br /></p><div class="codebox"><pre><code>config interface lan
-      option ifname   eth0
+      option ifname   eth0.1
       option type     bridge
       option proto    static</code></pre></div><p>For this is my first time building OpenWRT, in &quot;make menuconfig&quot;, I keep everything default except the Target System and Subtarget. Now it is compiling. I hope it can work well <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130842">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						16 Mar 2011, 09:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jilingshu wrote:</cite><blockquote><p>It seems like that you post one link twice <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I have already done that modification and also, I followed this thread(https://forum.openwrt.org/viewtopic.php?id=28010)</p></blockquote></div><p>That&#039;s the link I meant to post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130844">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jilingshu</div>
					<div class="post-datetime">
						16 Mar 2011, 10:57					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />I have already built my OpenWRT with two patches mentioned above and flash it into my DIR 600 B2. Now I can log in my router and the LAN ports works well. The problem is WAN port cannot work. If I plug cable into WAN port, the correct LED would light but I cannot access my router. Only I plug the cable into one of four LAN ports, I can get access to it. The telnet and SSH are both work fine. Wifi is still under testing. Now I am trying to compile Luci2 into my OpenWRT can get GUI access to my router <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />BTW: I am not familiar with OpenWRT so I dont know how to configure it via CLI.<br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:~# ifconfig<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:3667 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:195 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:320923 (313.4 KiB)&nbsp; TX bytes:26793 (26.1 KiB)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:5373 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:264 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:697023 (680.6 KiB)&nbsp; TX bytes:33681 (32.8 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5 </p><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:4818 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:209 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:631889 (617.0 KiB)&nbsp; TX bytes:28553 (27.8 KiB)</p><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:10.0.0.196&nbsp; Bcast:10.0.255.255&nbsp; Mask:255.255.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:550 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:55 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:64290 (62.7 KiB)&nbsp; TX bytes:4031 (3.9 KiB)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:15 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:15 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:1995 (1.9 KiB)&nbsp; TX bytes:1995 (1.9 KiB)</p><p>root@OpenWrt:~# <br />root@OpenWrt:~# iwconfig<br />lo&nbsp; &nbsp; &nbsp; &nbsp; no wireless extensions.</p><p>eth0&nbsp; &nbsp; &nbsp; no wireless extensions.</p><p>eth0.1&nbsp; &nbsp; no wireless extensions.</p><p>eth0.2&nbsp; &nbsp; no wireless extensions.</p><p>br-lan&nbsp; &nbsp; no wireless extensions.</p><p>root@OpenWrt:~#</p></blockquote></div><p>BTW: It seems like that there is no Wifi adapter found <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p130890">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						16 Mar 2011, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>Your WAN issue is most likely a VLAN conflict with the defaults in the ramips switch driver.&nbsp; The driver does not currently support swconfig, so the VLANs are hard-coded in the driver.&nbsp; You can modify the ramips_esw.c driver as required to set the VLANs as required for your setup... until swconfig support is in ramips, this is the only way.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>