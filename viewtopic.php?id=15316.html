<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wrt + linksys router hacked to turn ac power on/off to reboot a PC</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p66913">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">thekidd</div>
					<div class="post-datetime">
						15 Apr 2008, 12:22					</div>
				</div>
				<div class="post-content content">
					<p>Hello, I have been running WRT on a few Linksys routers for a while now and absolutely love the work this community has put into the firmware.</p><p>I had a question though and wondered if anyone had noted a way to do the following.</p><p>I currently have a Olimex AVR I/O Controller (<a href="http://www.sparkfun.com/commerce/product_info.php?products_id=766">http://www.sparkfun.com/commerce/produc â€¦ cts_id=766</a>) board recently and set it up to where I could send the onboard microcontroller a signal to turn off and turn on an AC outlet. It works great and I currently have it running to an embedded Linux card so I can login via SSH and switch a few servers on and off. Problem is I need my embedded Linux card for other projects so I figure what better way than to consolidate.</p><p>Here is my question, are there pins inside Linksys routers where I could grab a general digital I/O signal (GPIO? basically Low/High pin + GND) to send to my current setup so that I can eliminate the embedded Linux card and allow server power resets via a button in the WRT site?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66919">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Slammer</div>
					<div class="post-datetime">
						15 Apr 2008, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>Maybe an output from a led ?<br />You can use a ready-made solid state relay (low current input) or use a transistor to amplify the signal.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66925">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">thekidd</div>
					<div class="post-datetime">
						15 Apr 2008, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>I was thinking about that too. I already have a setup running on an Arduino with a relay to switch a PC on and off. I&#039;m wondering how the environment (WRT) might control your idea with the LED.</p><p>Obviously, I&#039;m looking for a simple push button in the web config to make it happen. I&#039;ve actually just pulled a WRT45G apart to see what might be available. I&#039;m even willing to kill a LAN port or two if it makes sense.</p>											<p class="post-edited">(Last edited by <strong>thekidd</strong> on 15 Apr 2008, 18:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66944">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">star882</div>
					<div class="post-datetime">
						15 Apr 2008, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>Have you thought about just wiring a signal relay to emulate a reset switch?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66946">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">thekidd</div>
					<div class="post-datetime">
						16 Apr 2008, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m sorry, how would that work. I&#039;m a bit dumb when it comes to this. Been programming for a bit but just got into the hardware stuff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67069">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">oasisbob</div>
					<div class="post-datetime">
						18 Apr 2008, 02:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>star882 wrote:</cite><blockquote><p>Have you thought about just wiring a signal relay to emulate a reset switch?</p></blockquote></div><p>That&#039;s a good idea. So, what star882 is getting at is instead of controlling an AC line-level relay (dangerous, more expensive), you could directly control the reset button on the PC instead. </p><p>In other words, instead of setting up a relay to momentarily break the AC power connection to reset the server, you could use a relay (or similar solid state device) to momentarily connect the mobo pins which the reset button connects to.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67071">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">thekidd</div>
					<div class="post-datetime">
						18 Apr 2008, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>Makes since to me. My biggest problem though would be how to pull the relay or whatever high and low to switch it. Is it actually possible in the WRT code to control LEDs on the Linksys board?</p><p>See I already have a design to do this with a Linux controller board but I would like to cut out the middle man and hook up the relay directly to the linksys router and use WRT code to turn on/off/reset the server.</p><p>Is this possible in the code? If so, where might I look? Kinda lost in the source at the moment.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67072">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">thekidd</div>
					<div class="post-datetime">
						18 Apr 2008, 02:55					</div>
				</div>
				<div class="post-content content">
					<p>Nevermind, I spoke too soon and realized people have already been busy doing this. Guess I need to pull my Linksys router apart and figure out where I can rob a few GPIO pins. I&#039;ll keep this post going as I learn more.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>