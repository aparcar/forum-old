<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 31 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=29.html">29</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=30.html">30</a></li><li class="pagination-current"><span>31</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=32.html">32</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=33.html">33</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p217610">
				<div class="post-metadata">
					<div class="post-num">Post #751</div>
					<div class="post-author">mmhorda</div>
					<div class="post-datetime">
						15 Nov 2013, 15:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>mmhorda wrote:</cite><blockquote><p>Could you please compile a new build with kmod-usb-serial-option&nbsp; I will try if that works. <br/>Thanks in advance.</p></blockquote></div><p>That is only for &quot;Option&quot; modems, so most likely you do not need it.<br/><a href="https://dev.openwrt.org/browser/trunk/package/kernel/linux/modules/usb.mk#L583">https://dev.openwrt.org/browser/trunk/package/kernel/linux/modules/usb.mk#L583</a></p><p>(I think that wiki has wrong info, and option is not needed, but it is used for selecting wwan (on which it depends))</p></blockquote></div><p>Hi.<br/>I had to make some other tricks to make it work without this package.</p><p>I tried to force install since the kernel version is the same. and it worked.<br/>modswitch is working as it suppose to work now.</p><br/><p>i have huawei k3765</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217618">
				<div class="post-metadata">
					<div class="post-num">Post #752</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Nov 2013, 16:46					</div>
				</div>
				<div class="post-content content">
					<p>did you force install this &quot;option&quot; package? or something else?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217661">
				<div class="post-metadata">
					<div class="post-num">Post #753</div>
					<div class="post-author">jigglywiggly</div>
					<div class="post-datetime">
						16 Nov 2013, 09:09					</div>
				</div>
				<div class="post-content content">
					<p>was going to make an overclocked version but i can&#039;t seem to compile<br/></p><div class="codebox"><pre><code>make[3]: Entering directory `/Openwrt/trunk/toolchain/uClibc/utils&#039;
make[2]: Entering directory `/Openwrt/trunk&#039;
make[3]: Entering directory `/Openwrt/trunk/target/linux&#039;
make[4]: Entering directory `/Openwrt/trunk/target/linux/ar71xx&#039;
Applying patch generic/003-11-004-hso-Earlier-catch-of-error-condition.patch
make[4]: *** [/Openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/linux-3.10.18/.quilt_checked] Error 1
make[3]: *** [compile] Error 2
make[2]: *** [target/linux/compile] Error 2
make[1]: *** [/Openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.target_compile] Error 2
make: *** [world] Error 2
u64g@u64g:/Openwrt/trunk$ </code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217662">
				<div class="post-metadata">
					<div class="post-num">Post #754</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Nov 2013, 09:55					</div>
				</div>
				<div class="post-content content">
					<p>First guess is that your new patch is malformed. Does it apply cleanly?<br/>And did you &quot;make clean&quot; first?<br/>Use the &quot;singlecompile.sh&quot; and then check the end of the build.log to see what is the reason for your error.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Nov 2013, 09:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217664">
				<div class="post-metadata">
					<div class="post-num">Post #755</div>
					<div class="post-author">mmhorda</div>
					<div class="post-datetime">
						16 Nov 2013, 10:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>did you force install this &quot;option&quot; package? or something else?</p></blockquote></div><p>Yes. I force install &quot;kmod-usb-serial-option_3.3.8-1_ar71xx.ipk&nbsp; &quot; taken from here _http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/packages/</p><p>here is the dmesg:</p><p>[&nbsp; &nbsp;34.600000] option 1-1:1.0: GSM modem (1-port) converter detected<br/>[&nbsp; &nbsp;34.600000] usb 1-1: GSM modem (1-port) converter now attached to ttyUSB0<br/>[&nbsp; &nbsp;34.610000] option 1-1:1.3: GSM modem (1-port) converter detected<br/>[&nbsp; &nbsp;34.620000] usb 1-1: GSM modem (1-port) converter now attached to ttyUSB1<br/>[&nbsp; &nbsp;34.620000] option 1-1:1.4: GSM modem (1-port) converter detected<br/>[&nbsp; &nbsp;34.630000] usb 1-1: GSM modem (1-port) converter now attached to ttyUSB2<br/>[&nbsp; &nbsp;34.640000] usbcore: registered new interface driver option<br/>[&nbsp; &nbsp;34.640000] option: v0.7.2:USB Driver for GSM modems</p><br/><p>without this package i had to play with usbserial to make the modem work ) and even after some success I had NO CARRIER all the time.<br/>Installing this package made the modem work just from the first plugin to the router.</p>											<p class="post-edited">(Last edited by <strong>mmhorda</strong> on 16 Nov 2013, 10:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217709">
				<div class="post-metadata">
					<div class="post-num">Post #756</div>
					<div class="post-author">burning daylight</div>
					<div class="post-datetime">
						16 Nov 2013, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>does this build contain <a href="http://wiki.openwrt.org/doc/howto/vpn.ipsec.basics#ipsec.tuning">unaligned access patches</a> for higher encryption/vpn performance?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217711">
				<div class="post-metadata">
					<div class="post-num">Post #757</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Nov 2013, 22:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>burning daylight wrote:</cite><blockquote><p>does this build contain <a href="http://wiki.openwrt.org/doc/howto/vpn.ipsec.basics#ipsec.tuning">unaligned access patches</a> for higher encryption/vpn performance?</p></blockquote></div><p>My build has the default patches, so yes for the first patch that is incorporated in trunk, but no for the second &quot;not yet implemented&quot; patch.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Nov 2013, 22:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217728">
				<div class="post-metadata">
					<div class="post-num">Post #758</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						17 Nov 2013, 00:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi Hnyman,<br/>I can not see the graphics of the statistics page. This lasted for some time. When I do a clean installation of firmware, the graphics are just visible for a few seconds.<br/></p><div class="codebox"><pre><code>Erreur d&#039;analyse XML : mal formé Emplacement : http://192.168.1.1/cgi-bin/luci/;stok=73a3c6d46cfb8b11482f2d5f67fc6f1b/admin/statistics/graph/uptime/? Numéro de ligne 173, Colonne 131 :    &lt;img src=&quot;/cgi-bin/luci/;stok=73a3c6d46cfb8b11482f2d5f67fc6f1b/admin/statistics/graph/uptime?img=WNDR3700/uptime/1.3600.png&amp;host=WNDR3700&quot; /&gt; ------------------------------------------------------------------------------------------------------------------------------------------------^</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217741">
				<div class="post-metadata">
					<div class="post-num">Post #759</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						17 Nov 2013, 09:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>Hi Hnyman,<br/>I can not see the graphics of the statistics page. This lasted for some time. When I do a clean installation of firmware, the graphics are just visible for a few seconds.</p></blockquote></div><p>I see all included statistics graphs ok, both with Firefox and with IE.</p><p>You might try with another browser, and also try to purge your browser cache in case there is something malformed being stored.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217748">
				<div class="post-metadata">
					<div class="post-num">Post #760</div>
					<div class="post-author">jigglywiggly</div>
					<div class="post-datetime">
						17 Nov 2013, 11:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>First guess is that your new patch is malformed. Does it apply cleanly?<br/>And did you &quot;make clean&quot; first?<br/>Use the &quot;singlecompile.sh&quot; and then check the end of the build.log to see what is the reason for your error.</p></blockquote></div><p>I successfully compiled your build with the default settings. I then just deleted the directory and started all over.</p><p>Here&#039;s the end of the file, though</p><div class="codebox"><pre><code>Applying patch platform/900-overclock.patch
patching file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Hunk #1 FAILED at 23.
1 out of 1 hunk FAILED -- rejects in file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Patch platform/900-overclock.patch does not apply (enforce with -f)
make[4]: *** [/Openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/linux-3.10.18/.quilt_checked] Error 1
make[4]: Leaving directory `/Openwrt/trunk/target/linux/ar71xx&#039;
make[3]: *** [compile] Error 2
make[3]: Leaving directory `/Openwrt/trunk/target/linux&#039;
make[2]: *** [target/linux/compile] Error 2
make[2]: Leaving directory `/Openwrt/trunk&#039;
make[1]: *** [/Openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.target_compile] Error 2
make[1]: Leaving directory `/Openwrt/trunk&#039;
make: *** [world] Error 2</code></pre></div><br/><p>inside is just<br/></p><div class="codebox"><pre><code>--- a/arch/mips/include/asm/mach-ath79/kernel-entry-init.h.orig
+++ b/arch/mips/include/asm/mach-ath79/kernel-entry-init.h
@@ -23,6 +23,8 @@
     and    t0, t1
     ori    t0, CONF_CM_CACHABLE_NONCOHERENT
     mtc0    t0, CP0_CONFIG
+    li t2, 0xc0140198
+    sw t2, 0x18050000
     nop
     .endm</code></pre></div><br/><br/><p>The file you linked, <br/></p><div class="codebox"><pre><code>/*
 *  Atheros AR71XX/AR724X/AR913X specific kernel entry setup
 *
 *  Copyright (C) 2009 Gabor Juhos &lt;juhosg@openwrt.org&gt;
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License version 2 as published
 *  by the Free Software Foundation.
 *
 */
#ifndef __ASM_MACH_ATH79_KERNEL_ENTRY_H
#define __ASM_MACH_ATH79_KERNEL_ENTRY_H

    /*
     * Some bootloaders set the &#039;Kseg0 coherency algorithm&#039; to
     * &#039;Cacheable, noncoherent, write-through, no write allocate&#039;
     * and this cause performance issues. Let&#039;s go and change it to
     * &#039;Cacheable, noncoherent, write-back, write allocate&#039;
     */
    .macro    kernel_entry_setup
    mfc0    t0, CP0_CONFIG
    li    t1, ~CONF_CM_CMASK
    and    t0, t1
    ori    t0, CONF_CM_CACHABLE_NONCOHERENT
    mtc0    t0, CP0_CONFIG
    nop
    .endm

    .macro    smp_slave_setup
    .endm

#endif /* __ASM_MACH_ATH79_KERNEL_ENTRY_H */</code></pre></div><p>I realize I could just edit that to be</p><div class="codebox"><pre><code>/*
 *  Atheros AR71XX/AR724X/AR913X specific kernel entry setup
 *
 *  Copyright (C) 2009 Gabor Juhos &lt;juhosg@openwrt.org&gt;
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License version 2 as published
 *  by the Free Software Foundation.
 *
 */
#ifndef __ASM_MACH_ATH79_KERNEL_ENTRY_H
#define __ASM_MACH_ATH79_KERNEL_ENTRY_H

    /*
     * Some bootloaders set the &#039;Kseg0 coherency algorithm&#039; to
     * &#039;Cacheable, noncoherent, write-through, no write allocate&#039;
     * and this cause performance issues. Let&#039;s go and change it to
     * &#039;Cacheable, noncoherent, write-back, write allocate&#039;
     */
    .macro    kernel_entry_setup
    mfc0    t0, CP0_CONFIG
    li    t1, ~CONF_CM_CMASK
    and    t0, t1
    ori    t0, CONF_CM_CACHABLE_NONCOHERENT
    mtc0    t0, CP0_CONFIG
+    li t2, 0xc0140198
+    sw t2, 0x18050000
    nop
    .endm

    .macro    smp_slave_setup
    .endm

#endif /* __ASM_MACH_ATH79_KERNEL_ENTRY_H */</code></pre></div><p>I added two lines, but where would I put these changes? I can&#039;t find any file called kernel-entry-init.h</p><p>or would I just call this file 900-overclock.patch and place it into /Openwrt/trunk/target/linux/ar71xx/patches-3.10</p><p>sorry for the noobness</p><br/><br/><br/><br/><p>Thanks for your help, really appreciated.</p>											<p class="post-edited">(Last edited by <strong>jigglywiggly</strong> on 17 Nov 2013, 11:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217751">
				<div class="post-metadata">
					<div class="post-num">Post #761</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						17 Nov 2013, 11:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jigglywiggly wrote:</cite><blockquote><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>First guess is that your new patch is malformed. Does it apply cleanly?</p></blockquote></div><div class="codebox"><pre><code>Applying patch platform/900-overclock.patch
patching file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Hunk #1 FAILED at 23.
1 out of 1 hunk FAILED -- rejects in file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Patch platform/900-overclock.patch does not apply (enforce with -f)</code></pre></div></blockquote></div><p>So, the patch is malformed.<br/>Check the whitespace inside that patch. Most likely you have spaces instead of tabs on the lines. Or something like that.</p><p>EDIT: Or did you forget to correct the filename on the first a/ line?<br/>not a/arch/mips/include/asm/mach-ath79/kernel-entry-init.h.orig<br/>but a/arch/mips/include/asm/mach-ath79/kernel-entry-init.h</p><p>(Although your error message refers to the correct file?)</p><p>EDIT2:<br/>Link to patch that applies cleanly for me: <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/lv-IYMq3ra/900-overclock.patch">https://www.dropbox.com/sh/t52c02rm20y8x9p/lv-IYMq3ra/900-overclock.patch</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 17 Nov 2013, 11:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217757">
				<div class="post-metadata">
					<div class="post-num">Post #762</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						17 Nov 2013, 12:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>Hi Hnyman,<br/>I can not see the graphics of the statistics page. This lasted for some time. When I do a clean installation of firmware, the graphics are just visible for a few seconds.</p></blockquote></div><p>I see all included statistics graphs ok, both with Firefox and with IE.</p><p>You might try with another browser, and also try to purge your browser cache in case there is something malformed being stored.</p></blockquote></div><p>I tried unsuccessfully with Firefox, IE and Google Chrome.</p><p>Google Chrome:<br/></p><div class="codebox"><pre><code>This page contains the following errors:
error on line 173 at column 130: EntityRef: expecting &#039;;&#039;
Below is a rendering of the page up to the first error.</code></pre></div><p>Maybe a problem with my router. I still have problems routing IPv6.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217760">
				<div class="post-metadata">
					<div class="post-num">Post #763</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						17 Nov 2013, 12:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>I still have problems routing IPv6.</p></blockquote></div><p>There will be a 6rd patch in the next build. Hopefully it helps you.<br/><a href="https://dev.openwrt.org/changeset/38818">https://dev.openwrt.org/changeset/38818</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 17 Nov 2013, 12:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217778">
				<div class="post-metadata">
					<div class="post-num">Post #764</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						17 Nov 2013, 14:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>I still have problems routing IPv6.</p></blockquote></div><p>There will be a 6rd patch in the next build. Hopefully it helps you.<br/><a href="https://dev.openwrt.org/changeset/38818">https://dev.openwrt.org/changeset/38818</a></p></blockquote></div><p>I hope so too.<br/>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217779">
				<div class="post-metadata">
					<div class="post-num">Post #765</div>
					<div class="post-author">jigglywiggly</div>
					<div class="post-datetime">
						17 Nov 2013, 14:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>jigglywiggly wrote:</cite><blockquote><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>First guess is that your new patch is malformed. Does it apply cleanly?</p></blockquote></div><div class="codebox"><pre><code>Applying patch platform/900-overclock.patch
patching file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Hunk #1 FAILED at 23.
1 out of 1 hunk FAILED -- rejects in file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Patch platform/900-overclock.patch does not apply (enforce with -f)</code></pre></div></blockquote></div><p>So, the patch is malformed.<br/>Check the whitespace inside that patch. Most likely you have spaces instead of tabs on the lines. Or something like that.</p><p>EDIT: Or did you forget to correct the filename on the first a/ line?<br/>not a/arch/mips/include/asm/mach-ath79/kernel-entry-init.h.orig<br/>but a/arch/mips/include/asm/mach-ath79/kernel-entry-init.h</p><p>(Although your error message refers to the correct file?)</p><p>EDIT2:<br/>Link to patch that applies cleanly for me: <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/lv-IYMq3ra/900-overclock.patch">https://www.dropbox.com/sh/t52c02rm20y8x9p/lv-IYMq3ra/900-overclock.patch</a></p></blockquote></div><p>Weird, same issue<br/></p><div class="codebox"><pre><code>Applying patch platform/900-overclock.patch
patching file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Hunk #1 FAILED at 23.
1 out of 1 hunk FAILED -- rejects in file arch/mips/include/asm/mach-ath79/kernel-entry-init.h
Patch platform/900-overclock.patch does not apply (enforce with -f)
make[4]: *** [/Openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/linux-3.10.18/.quilt_checked] Error 1
make[4]: Leaving directory `/Openwrt/trunk/target/linux/ar71xx&#039;
make[3]: *** [compile] Error 2
make[3]: Leaving directory `/Openwrt/trunk/target/linux&#039;
make[2]: *** [target/linux/compile] Error 2
make[2]: Leaving directory `/Openwrt/trunk&#039;
make[1]: *** [/Openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.target_compile] Error 2
make[1]: Leaving directory `/Openwrt/trunk&#039;
make: *** [world] Error 2</code></pre></div><p>When you run </p><div class="codebox"><pre><code>./updateNmake.sh</code></pre></div><p>I am immediately hit exit, and choose to keep the default configuration, is that how you did it?</p><div class="codebox"><pre><code>--- a/arch/mips/include/asm/mach-ath79/kernel-entry-init.h
+++ b/arch/mips/include/asm/mach-ath79/kernel-entry-init.h
@@ -23,6 +23,8 @@
    and t0, t1
    ori t0, CONF_CM_CACHABLE_NONCOHERENT
    mtc0    t0, CP0_CONFIG
+   li t2, 0xc0140198
+   sw t2, 0x18050000
    nop
    .endm</code></pre></div><p> </p><p>is what my 900-overclock.patch looks like</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217787">
				<div class="post-metadata">
					<div class="post-num">Post #766</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						17 Nov 2013, 15:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>Hi Hnyman,<br/>I can not see the graphics of the statistics page. This lasted for some time. When I do a clean installation of firmware, the graphics are just visible for a few seconds.</p></blockquote></div><p>I see all included statistics graphs ok, both with Firefox and with IE.</p><p>You might try with another browser, and also try to purge your browser cache in case there is something malformed being stored.</p></blockquote></div><p>I understand the problem. This is the theme that I change after each update:<br/></p><div class="codebox"><pre><code>luci-theme-openwrt</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217852">
				<div class="post-metadata">
					<div class="post-num">Post #767</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Nov 2013, 14:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>I can not see the graphics of the statistics page. This lasted for some time. <br/>...<br/>I understand the problem. This is the theme that I change after each update:<br/></p><div class="codebox"><pre><code>luci-theme-openwrt</code></pre></div></blockquote></div><p>When has this problem started for you? A few days ago? A few months ago? (The default theme was changed to &quot;bootstrap&quot; in April.)</p><p>I added one line in early November to Luci config making the default theme selection more robust, but I am wondering if that has caused this problem for you (as you are changing the theme). Have you had the problem already in October or earlier?</p><p>I am not quite sure if that old &quot;openwrt&quot; theme is still compatible. It has not been maintained since Nov 2012...</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Nov 2013, 14:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217853">
				<div class="post-metadata">
					<div class="post-num">Post #768</div>
					<div class="post-author">jigglywiggly</div>
					<div class="post-datetime">
						18 Nov 2013, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>Oh wait I got it. I started over again, and this time after I ran </p><div class="codebox"><pre><code>./updateNmake.sh</code></pre></div><p> I hit, exit and hit yes to save. It successfully compiled, will test now.</p><p>EDIT: it works!</p><br/><br/><p>if anyone wants to try it <a href="https://www.dropbox.com/sh/u0bspioeoq4hyig/Zdh67nRIQA">https://www.dropbox.com/sh/u0bspioeoq4hyig/Zdh67nRIQA</a></p><div class="codebox"><pre><code>root@OpenWrt:~# cat proc/cpuinfo
cat: can&#039;t open &#039;proc/cpuinfo&#039;: No such file or directory
root@OpenWrt:~# cat /proc/cpuinfo
system type             : Atheros AR7161 rev 2
machine                 : NETGEAR WNDR3700/WNDR3800/WNDRMAC
processor               : 0
cpu model               : MIPS 24Kc V7.4
BogoMIPS                : 531.66
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available</code></pre></div><p>Thanks a lot man for your help.</p>											<p class="post-edited">(Last edited by <strong>jigglywiggly</strong> on 18 Nov 2013, 15:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217856">
				<div class="post-metadata">
					<div class="post-num">Post #769</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Nov 2013, 16:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jigglywiggly wrote:</cite><blockquote><p>EDIT: it works!</p><p>if anyone wants to try it <a href="https://www.dropbox.com/sh/u0bspioeoq4hyig/Zdh67nRIQA">https://www.dropbox.com/sh/u0bspioeoq4hyig/Zdh67nRIQA</a></p><p>Thanks a lot man for your help.</p></blockquote></div><p>You are welcome.<br/>One hint:<br/>Right now the patch is shown as an unknown file in the status report and is not shown in the generated patch files.<br/>&nbsp; ?&nbsp; &nbsp; &nbsp; &nbsp;trunk/target/linux/ar71xx/patches-3.10/900-overclock.patch<br/>You should &quot;svn add&quot; needed patch for it to be properly included in the generated patch files.<br/>&nbsp; svn add target/linux/ar71xx/patches-3.10/900-overclock.patch</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Nov 2013, 16:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217861">
				<div class="post-metadata">
					<div class="post-num">Post #770</div>
					<div class="post-author">jigglywiggly</div>
					<div class="post-datetime">
						18 Nov 2013, 17:04					</div>
				</div>
				<div class="post-content content">
					<p>Got it, it was changed to an &#039;A&#039; now, instead of a &#039;?&#039;</p><p><a href="https://www.dropbox.com/sh/nkh6sqvgh0ku4rr/_uAOR20NYn">https://www.dropbox.com/sh/nkh6sqvgh0ku4rr/_uAOR20NYn</a></p><p>I haven&#039;t actually tested this, but nothing else was changed other than the svn addition, so it should definitely work for anyone who wants to try it.</p>											<p class="post-edited">(Last edited by <strong>jigglywiggly</strong> on 18 Nov 2013, 17:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217877">
				<div class="post-metadata">
					<div class="post-num">Post #771</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Nov 2013, 19:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jigglywiggly wrote:</cite><blockquote><p>Got it, it was changed to an &#039;A&#039; now, instead of a &#039;?&#039;</p></blockquote></div><p>Yep, and the patch itself is now at the end of ...openwrt.patch</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Nov 2013, 20:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217880">
				<div class="post-metadata">
					<div class="post-num">Post #772</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Nov 2013, 19:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Manani wrote:</cite><blockquote><p>I can not see the graphics of the statistics page. This lasted for some time. <br/>...<br/>I understand the problem. This is the theme that I change after each update:<br/></p><div class="codebox"><pre><code>luci-theme-openwrt</code></pre></div></blockquote></div><p>When has this problem started for you? A few days ago? A few months ago? (The default theme was changed to &quot;bootstrap&quot; in April.)</p><p>I am not quite sure if that old &quot;openwrt&quot; theme is still compatible. It has not been maintained since Nov 2012...</p></blockquote></div><p>If I change theme to the old Openwrt, I get the same error for the statistics graphs.<br/>&nbsp; &quot;XML Parsing Error: not well-formed&quot;, <br/>And the error pointer points to the only = char there. <br/>&nbsp; 1.3600.png&amp;host=WNDR3700&quot;<br/>Possibly that = char should be escaped in proper XML, or actually the &amp; starts an escapte sequence (of style &amp;jotakin; ) and then = suddenly stops it.</p><p>When I look at the generated page source code, the file from Openwrt theme claims to be XML, while the bootstrap page does not. And public XML validators choke on the page...</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Nov 2013, 20:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217906">
				<div class="post-metadata">
					<div class="post-num">Post #773</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						18 Nov 2013, 23:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>When has this problem started for you? A few days ago? A few months ago? (The default theme was changed to &quot;bootstrap&quot; in April.)</p><p>I am not quite sure if that old &quot;openwrt&quot; theme is still compatible. It has not been maintained since Nov 2012...</p></blockquote></div><p>If I change theme to the old Openwrt, I get the same error for the statistics graphs.<br/>&nbsp; &quot;XML Parsing Error: not well-formed&quot;, <br/>And the error pointer points to the only = char there. <br/>&nbsp; 1.3600.png&amp;host=WNDR3700&quot;<br/>Possibly that = char should be escaped in proper XML, or actually the &amp; starts an escapte sequence (of style &amp;jotakin; ) and then = suddenly stops it.</p><p>When I look at the generated page source code, the file from Openwrt theme claims to be XML, while the bootstrap page does not. And public XML validators choke on the page...</p></blockquote></div><p>This problem started there about a month. I&#039;ll have to abandon the old theme.</p><p>I found another problem, customizing the data directory (/mnt/sda1/storage/rrd) results in a display bug even with the new theme.<br/></p><div class="codebox"><pre><code>/usr/lib/lua/luci/dispatcher.lua:448: Failed to execute call dispatcher target for entry &#039;/admin/statistics/graph/memory&#039;.
The called action terminated with an exception:
/usr/lib/lua/luci/util.lua:209: attempt to get length of local &#039;str&#039; (a nil value)
stack traceback:
    [C]: in function &#039;assert&#039;
    /usr/lib/lua/luci/dispatcher.lua:448: in function &#039;dispatch&#039;
    /usr/lib/lua/luci/dispatcher.lua:195: in function &lt;/usr/lib/lua/luci/dispatcher.lua:194&gt;</code></pre></div><p>Edit: Reverting to the default directory (/tmp/rrd) does not correct the display abnormality.</p>											<p class="post-edited">(Last edited by <strong>Manani</strong> on 18 Nov 2013, 23:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218276">
				<div class="post-metadata">
					<div class="post-num">Post #774</div>
					<div class="post-author">acema</div>
					<div class="post-datetime">
						23 Nov 2013, 16:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello hnyman,</p><p>I just tried your very new build r38896 but if fails:Installing package &#039;batman-adv&#039;<br/>Installing package &#039;luci-app-bmx6&#039;<br/>svn: warning: W155010: »/Openwrt/attitude/files« nicht gefunden<br/>svn: E200009: Could not add all targets because some targets don&#039;t exist<br/>svn: E200009: Ungültiges Ziel für die angeforderte Operation<br/>svn: warning: W155010: »/Openwrt/attitude/.config.init« nicht gefunden<br/>svn: E200009: Could not add all targets because some targets don&#039;t exist<br/>svn: E200009: Ungültiges Ziel für die angeforderte Operation<br/>chmod: Zugriff auf „files/etc/*.sh“ nicht möglich: Datei oder Verzeichnis nicht gefunden<br/>chmod: Zugriff auf „files/etc/rc.button/*“ nicht möglich: Datei oder Verzeichnis nicht gefunden<br/>cp: der Aufruf von stat für „.config.init“ ist nicht möglich: Datei oder Verzeichnis nicht gefunden</p><p>Have I missed something? Well, I am missing &lt;target&gt;/files. Where can I find it?</p><br/><p>Thanx,<br/>Michael</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218278">
				<div class="post-metadata">
					<div class="post-num">Post #775</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						23 Nov 2013, 17:45					</div>
				</div>
				<div class="post-content content">
					<p>I am not quite sure what you are trying to do.<br/>You talk about 38896 build, which is trunk, but the texts do include Openwrt/attitude/</p><p>Are you trying to create a build environment?<br/>If yes, I guess that you are trying to create an Attitude 12.09 build environment from the trunk build without modifying the 3 patch names. (or you have not downloaded the patch contents)</p><p>Have you read the message #2 in this thread?</p><p>If you want an attitude build environment, easiest would be to use the latest attitude build for that. (there will probably be /etc/rc.button error for attitude, but I guess no other errors should be visible)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 23 Nov 2013, 17:47)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 31 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=29.html">29</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=30.html">30</a></li><li class="pagination-current"><span>31</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=32.html">32</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=33.html">33</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>