<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> openwrt on belkin f7d4302</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p216898">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jfrhqx9974</div>
					<div class="post-datetime">
						6 Nov 2013, 18:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi i have a&nbsp; belkin f7d4302 which until this morning was running ddwrt 2.4 mega<br />however this morning because I needed it for a project that requires openwrt I decided to see if it would run backfire10.03.1/openwrt-brcm47xx-squashfs.trx <br />The firmware loaded but now I can&#039;t find its IP address <br />I used ipscan to try and find it but to no avail. (note: the router still works as a switch.) <br />I tried to get to the CFE mini webserver but also to no avail<br />I can still use putty through the serial port&nbsp; to reflash&nbsp; but I&#039; rather have this run openwrt </p><br /><p>p.s. I know this router is not officially supported but I figured I&#039;d try it anyway as the first guinea pig.</p>											<p class="post-edited">(Last edited by <strong>jfrhqx9974</strong> on 6 Nov 2013, 18:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216905">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						6 Nov 2013, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>If you have a serial connection, you should be able to get a shell, and ask the IP address using ipconfig.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216932">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jfrhqx9974</div>
					<div class="post-datetime">
						7 Nov 2013, 02:41					</div>
				</div>
				<div class="post-content content">
					<p>Shortly after i posted this I was able to get into CFE so Its not as bricked as I thought.<br />As for Openwrt I found the serial port and Ill try to post some boot logs when I have Time.</p>											<p class="post-edited">(Last edited by <strong>jfrhqx9974</strong> on 7 Nov 2013, 02:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217069">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jfrhqx9974</div>
					<div class="post-datetime">
						8 Nov 2013, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>although I am able to get into CFE I was still unable to reflash with the special ddwrt mini build.<br />also here is&nbsp; the boot log</p><br /><br /><br /><br /><p>Decompressing...done<br />Decompressing...done<br />Init Arena<br />Init Devs.<br />Boot partition size = 131072(0x20000)<br />Boot partition size = 131072(0x20000)<br />CPU type 0x19740: 453MHz<br />Tot mem: 65536 KBytes</p><p>CFE mem:&nbsp; &nbsp; 0x80700000 - 0x8079A640 (632384)<br />Data:&nbsp; &nbsp; &nbsp; &nbsp;0x80731730 - 0x80733AF0 (9152)<br />BSS:&nbsp; &nbsp; &nbsp; &nbsp; 0x80733AF0 - 0x80734640 (2896)<br />Heap:&nbsp; &nbsp; &nbsp; &nbsp;0x80734640 - 0x80798640 (409600)<br />Stack:&nbsp; &nbsp; &nbsp; 0x80798640 - 0x8079A640 (8192)<br />Text:&nbsp; &nbsp; &nbsp; &nbsp;0x80700000 - 0x80731730 (202544)</p><br /><p>Copying boot params.....DONE</p><p>Bootloader version 0.06e boot_version 0.06e<br />Project name : WG8017F22 1-LF-AK<br />Press space bar to cancel startup...<br />Device eth0:&nbsp; hwaddr 94-44-52-1B-5E-4F, ipaddr 192.168.2.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: .. 4092 bytes read<br />Entry at 0x80001000<br />Closing network.<br />Starting program at 0x80001000</p><br /><br /><br /><br /><br /><p>hope this helps!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217071">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jfrhqx9974</div>
					<div class="post-datetime">
						8 Nov 2013, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>small update</p><p>even though it says its on 192.168.2.1 it&nbsp; cannot be pinged.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225251">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						13 Feb 2014, 20:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi jfrhqx9974<br />I picked up one of these recently f7d8302/1 (apparently the same as f7d4302).</p><p>DD-wrt goes on but as noted not what I want.<br />I have tried various builds with no luck.</p><p>I understand there is a patch OpenWrt-Devel-7-8-brcm47xx-image-build-Belkin-F7Dxxxx-images but have not tried it.</p><p>Have you had any further luck getting OpenWrt on it?</p><p>~john</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225290">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						14 Feb 2014, 09:13					</div>
				</div>
				<div class="post-content content">
					<p>I applied patch to current trunk and built images.<br />OpenWrt-Devel-7-8-brcm47xx-image-build-Belkin-F7Dxxxx-images</p><p>I used the cfe to load image via tftp server via a serial terminal connection.</p><p>Router ip 192.168.1.1<br />Using this image it hangs at the Starting program at 0x80001000.<br />Image: openwrt-f7dxxxx-squashfs</p><p>CFE&gt; flash -noheader : flash1.trx<br />Reading :: Done. 6623232 bytes read<br />Programming...done. 6623232 bytes written<br />*** command status = 0<br />CFE&gt; reboot<br />Decompressing...done<br />Init Arena<br />Init Devs.<br />Boot partition size = 131072(0x20000)<br />et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.10.128.0<br />CPU type 0x19740: 453MHz<br />Tot mem: 65536 KBytes</p><p>CFE mem:&nbsp; &nbsp; 0x80700000 - 0x8079CDF0 (642544)<br />Data:&nbsp; &nbsp; &nbsp; &nbsp;0x80733E20 - 0x807361E0 (9152)<br />BSS:&nbsp; &nbsp; &nbsp; &nbsp; 0x807361E0 - 0x80736DF0 (3088)<br />Heap:&nbsp; &nbsp; &nbsp; &nbsp;0x80736DF0 - 0x8079ADF0 (409600)<br />Stack:&nbsp; &nbsp; &nbsp; 0x8079ADF0 - 0x8079CDF0 (8192)<br />Text:&nbsp; &nbsp; &nbsp; &nbsp;0x80700000 - 0x80733E20 (212512)</p><p>Copying boot params.....<br />DONE</p><p>Bootloader version 0.07e boot_version 0.07e<br />Project name : WG8017F22 1-LF-AK<br />Press space bar to cancel startup...<br />Device eth0:&nbsp; hwaddr 94-44-52-B4-EE-A8, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />It&#039;s QA firmware<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: .. 3780 bytes read<br />Entry at 0x80001000<br />Closing network.<br />Starting program at 0x80001000</p><br /><br /><p>Image: openwrt-f7d4302-squashfs fail to boot at all.</p><p>CFE&gt; flash -noheader : flash1.trx<br />Reading :: Done. 6623232 bytes read<br />Programming...done. 6623232 bytes written<br />*** command status = 0<br />CFE&gt; reboot<br />Decompressing...done<br />Init Arena<br />Init Devs.<br />Boot partition size = 131072(0x20000)<br />et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.10.128.0<br />CPU type 0x19740: 453MHz<br />Tot mem: 65536 KBytes</p><p>CFE mem:&nbsp; &nbsp; 0x80700000 - 0x8079CDF0 (642544)<br />Data:&nbsp; &nbsp; &nbsp; &nbsp;0x80733E20 - 0x807361E0 (9152)<br />BSS:&nbsp; &nbsp; &nbsp; &nbsp; 0x807361E0 - 0x80736DF0 (3088)<br />Heap:&nbsp; &nbsp; &nbsp; &nbsp;0x80736DF0 - 0x8079ADF0 (409600)<br />Stack:&nbsp; &nbsp; &nbsp; 0x8079ADF0 - 0x8079CDF0 (8192)<br />Text:&nbsp; &nbsp; &nbsp; &nbsp;0x80700000 - 0x80733E20 (212512)</p><p>Copying boot params.....<br />DONE</p><p>Bootloader version 0.07e boot_version 0.07e<br />Project name : WG8017F22 1-LF-AK<br />Press space bar to cancel startup...<br />Device eth0:&nbsp; hwaddr 94-44-52-B4-EE-A8, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />TRX check magic for QA firmware = 12345678<br />Assume magic 0x20091006, Current magic 0x20101006<br />Invalid boot block on disk<br />Reading :: Failed.: Timeout occured<br />Reading :: Failed.: Timeout occured<br />Reading :: Failed.: Timeout occured<br />CFE&gt;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309419">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">freeman01</div>
					<div class="post-datetime">
						29 Jan 2016, 02:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnisaacson wrote:</cite><blockquote><p>I applied patch to current trunk and built images.<br />OpenWrt-Devel-7-8-brcm47xx-image-build-Belkin-F7Dxxxx-images</p><p>I used the cfe to load image via tftp server via a serial terminal connection.</p><p>Router ip 192.168.1.1<br />Using this image it hangs at the Starting program at 0x80001000.<br />Image: openwrt-f7dxxxx-squashfs</p><p>CFE&gt; flash -noheader : flash1.trx<br />Reading :: Done. 6623232 bytes read<br />Programming...done. 6623232 bytes written<br />*** command status = 0<br />CFE&gt; reboot<br />Decompressing...done<br />Init Arena<br />Init Devs.<br />Boot partition size = 131072(0x20000)<br />et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.10.128.0<br />CPU type 0x19740: 453MHz<br />Tot mem: 65536 KBytes</p><p>CFE mem:&nbsp; &nbsp; 0x80700000 - 0x8079CDF0 (642544)<br />Data:&nbsp; &nbsp; &nbsp; &nbsp;0x80733E20 - 0x807361E0 (9152)<br />BSS:&nbsp; &nbsp; &nbsp; &nbsp; 0x807361E0 - 0x80736DF0 (3088)<br />Heap:&nbsp; &nbsp; &nbsp; &nbsp;0x80736DF0 - 0x8079ADF0 (409600)<br />Stack:&nbsp; &nbsp; &nbsp; 0x8079ADF0 - 0x8079CDF0 (8192)<br />Text:&nbsp; &nbsp; &nbsp; &nbsp;0x80700000 - 0x80733E20 (212512)</p><p>Copying boot params.....<br />DONE</p><p>Bootloader version 0.07e boot_version 0.07e<br />Project name : WG8017F22 1-LF-AK<br />Press space bar to cancel startup...<br />Device eth0:&nbsp; hwaddr 94-44-52-B4-EE-A8, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />It&#039;s QA firmware<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: .. 3780 bytes read<br />Entry at 0x80001000<br />Closing network.<br />Starting program at 0x80001000</p><br /><br /><p>Image: openwrt-f7d4302-squashfs fail to boot at all.</p><p>CFE&gt; flash -noheader : flash1.trx<br />Reading :: Done. 6623232 bytes read<br />Programming...done. 6623232 bytes written<br />*** command status = 0<br />CFE&gt; reboot<br />Decompressing...done<br />Init Arena<br />Init Devs.<br />Boot partition size = 131072(0x20000)<br />et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.10.128.0<br />CPU type 0x19740: 453MHz<br />Tot mem: 65536 KBytes</p><p>CFE mem:&nbsp; &nbsp; 0x80700000 - 0x8079CDF0 (642544)<br />Data:&nbsp; &nbsp; &nbsp; &nbsp;0x80733E20 - 0x807361E0 (9152)<br />BSS:&nbsp; &nbsp; &nbsp; &nbsp; 0x807361E0 - 0x80736DF0 (3088)<br />Heap:&nbsp; &nbsp; &nbsp; &nbsp;0x80736DF0 - 0x8079ADF0 (409600)<br />Stack:&nbsp; &nbsp; &nbsp; 0x8079ADF0 - 0x8079CDF0 (8192)<br />Text:&nbsp; &nbsp; &nbsp; &nbsp;0x80700000 - 0x80733E20 (212512)</p><p>Copying boot params.....<br />DONE</p><p>Bootloader version 0.07e boot_version 0.07e<br />Project name : WG8017F22 1-LF-AK<br />Press space bar to cancel startup...<br />Device eth0:&nbsp; hwaddr 94-44-52-B4-EE-A8, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />TRX check magic for QA firmware = 12345678<br />Assume magic 0x20091006, Current magic 0x20101006<br />Invalid boot block on disk<br />Reading :: Failed.: Timeout occured<br />Reading :: Failed.: Timeout occured<br />Reading :: Failed.: Timeout occured<br />CFE&gt;</p></blockquote></div><br /><p>Hi, I was just curious if you were ever able to figure out something to your problem that was on this thread? If for whatever reason you stopped or openwrt doesn&#039;t just support it? I&#039;m just beginning here and like to get some ideals on how you were able to even get an image going for this router model I&#039;d like to know. Personally the first two times I tried I was able to build firmware for a couple router models i don&#039;t even own. Kinda funny but time consuming</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309524">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						29 Jan 2016, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>Never got it to work. Quit on it long time ago.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309902">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">freeman01</div>
					<div class="post-datetime">
						1 Feb 2016, 21:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnisaacson wrote:</cite><blockquote><p>Never got it to work. Quit on it long time ago.</p></blockquote></div><p>I understand, thank you for replying. Did you buy a supported router now or even deal with openwrt firmware as far as building a customized firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309925">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						2 Feb 2016, 00:56					</div>
				</div>
				<div class="post-content content">
					<p>I have had many routers over years. I build all my own firmware on those units that can be done. I like to tinker and build devices to suit my whim. If you are just starting out and want to learn perhaps check the forum topics and supported devices. Choose one that is more current and has a built in USB port. This will allow your device to stay current with the latest builds in trunk. Start by down loading a stable build and play with it for a while to learn and build your confidence. The USB port will allow you to add devices later as you want to expand the routers capability. Good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350401">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Dross</div>
					<div class="post-datetime">
						28 Jan 2017, 11:55					</div>
				</div>
				<div class="post-content content">
					<p>@ johnisaacson<br />Do you still use the D-link&nbsp; DVA g3810bn?? </p><p>if so what fw are you using on it?<br />with openwrt-15.05.1-brcm63xx-generic-DVAG3810BN-squashfs-cfe.bin the wan port wont work.</p><p>openwrt-15.05.1-brcm63xx-generic-96358VW-generic-squashfs-cfe.bin and VW2 the wan port works..<br />but the light stays on doesnt blink, even when i d/c the cable, and stays off after connecting if booted with the cable d/c&#039;d </p><br /><p>also did you get the gpio LEDs sorted out?<br />i found this via google: patchwork ozlabs&nbsp; id: 432581 and same for openwrts list</p><p>look for; DVAG3810BN, 96358VW and 96358VW2</p><p>dva=VOIP: 1 0<br />dva=power:4 0<br />vw=power:4 0<br />vw2=stop:4 1<br />vw2=power:5 1 <br />dva=stop:5 0<br />vw=stop:5 0<br />vw=adslfail:15 1<br />DVA=dsl:22 1<br />vw2=adsl:22 1<br />vw=ppp:22 1<br />dva=internet:23 1<br />vw=pppfail:23 1<br />vw=pppfail:23 0</p><p>im mostly wanting the wan port to act properly and use the Voip phone LED on when i tether my phone to it</p>											<p class="post-edited">(Last edited by <strong>Dross</strong> on 28 Jan 2017, 11:57)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>