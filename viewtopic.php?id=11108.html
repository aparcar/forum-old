<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bricked WGT634U</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50153">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ElGatoFlojo</div>
					<div class="post-datetime">
						9 Jun 2007, 22:15					</div>
				</div>
				<div class="post-content content">
					<p>Ok, so I have a few questions that are somewhat specific. First off obviously I have a WGT643U. I got OpenWRT on there, and then flashed it with the x-wrt package. All was going well until I bungled something in the bridge devices section and when it rebooted, no network interfaces!&nbsp; I know the device is still booting because I can sniff the &#039;failsafe&#039; packet it sends out on 192.168.1.1, how-ever I can&#039;t get to anything at all. Unless I&#039;m missing something. Also I read that the fail-safe mode doesn&#039;t work for this router yet, so I&#039;m out of luck there.</p><p>First I&#039;ve tried the tftp method of getting it to take new firmware. I&#039;ve hooked it up to a switch, I can sniff the failsafe packet, but it never seems to look for the tftp packets I&#039;m sending. I&#039;ve tried both tftp and atftp and both just time out. So, that method of recovery seems out</p><p>Next, I&#039;ve tried a serial cable. I hooked up a USB to serial device to my laptop. I then connected pins 1,2 and 5 to the corresponding pins on the router. I&#039;m using 115200, 8N1 for the settings. Now, I&#039;ve tried both minicom and screen pointing to /dev/ttyUSB0 but the best I&#039;ve been able to get is garbage on the screen. Now, it does appear to correspond with the boot times. But I&#039;m not sure what I&#039;m doing wrong that I can&#039;t seem to get the text right.</p><p>So, at this point I&#039;m totally stumped. The router seems just fine. It boots up, lights blink and when I try to ping it I can see the lights flash in reply. To no avail of course since its not longer holding the proper IP address. And sniffing network traffic reveals nothing either. So I&#039;m hoping maybe someone knows of a trick I&#039;m missing, or something I&#039;ve done wrong on the serial port. Or who knows what. I&#039;ve scoured the wiki for days so I&#039;m pretty confident no one will be telling me to RTFM <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51134">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">whbjr</div>
					<div class="post-datetime">
						24 Jun 2007, 05:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ElGatoFlojo wrote:</cite><blockquote><p>Next, I&#039;ve tried a serial cable. I hooked up a USB to serial device to my laptop. I then connected pins 1,2 and 5 to the corresponding pins on the router. I&#039;m using 115200, 8N1 for the settings. Now, I&#039;ve tried both minicom and screen pointing to /dev/ttyUSB0 but the best I&#039;ve been able to get is garbage on the screen. Now, it does appear to correspond with the boot times. But I&#039;m not sure what I&#039;m doing wrong that I can&#039;t seem to get the text right.</p></blockquote></div><p>I can&#039;t offer any help with the other pieces, but I&#039;ve spent plenty of time with serial connections! I&#039;d suggest trying different baud rates - set the minicom rate, then reboot the router, and see how the garbage changes! :-)&nbsp; If you leave the parity at 8N1 and change the baud rate, chances are that you&#039;ll eventually see at least a glimmer of recognizable characters.&nbsp; Good luck!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51135">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						24 Jun 2007, 06:27					</div>
				</div>
				<div class="post-content content">
					<p>Set flow control to disabled.</p><p>Not clear what you mean by USB-serial cable. What type? Sure it works? Right voltage levels of 3.3V TTL?</p><p>Define &quot;corresponding pins&quot;.&nbsp; TX&lt;-&gt;TX or did you couple TX&lt;-&gt;RX?</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 24 Jun 2007, 06:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51189">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ElGatoFlojo</div>
					<div class="post-datetime">
						25 Jun 2007, 04:31					</div>
				</div>
				<div class="post-content content">
					<p>Well, many late nights of no reults I hunted down the Merike (sp) cable. Its just a little PCB board with a mini-usb connector on it. And paid $30 for it <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>But, I was able to attach it, and right away got a serial connection to the router. And was able to reconfigure it!</p><p>So, all ended well. I&#039;ve still no idea what was wrong with my USB to serial connector. It said on the web site that it did the 3.3v and all. But I&#039;m guessing there was something else I was missing. Its kinda sad that I had to buy a $30 cable to get to the $50 router to fix it. But thats the way these things usually go anyway.</p><p>I do appreciate the advice and the suggestions!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>