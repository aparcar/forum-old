<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Building out # REMOVE THIS LINE TO ENABLE WIFI:</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p68561">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nickf</div>
					<div class="post-datetime">
						22 May 2008, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m VERY new to openwrt, generally being a windows CE type of guy!</p><p>I have built and flashed a linksys WRT54g AP, but am having difficulty in understanding the build structure (come back platform builder....) so I can bring up the Wifi without playing with the AP command line. The offending line is shown in the title (I think)</p><p>I think I understand that the AP /etc/config/networking scripts are run when the AP boots and that these inturn are built by the general kamikaze build scripts.</p><p>I have managed to track down this line in the build_mipsel\root\lib\wifi\broadcom.sh file&nbsp; and also in the <br />build_mipsel\linux-2.4..\broadcom\-wl-...\ipkg\wlc\libwifi\broadcom.sh directory</p><p>Both these files get re-generated by the build process.</p><p>So what is the correct way of dealing with this in OpenWRT</p><p>I have looked at the FAQ/Docs but did not find anything on this - sorry if its too obvious for these!</p><p>Regards</p><p>nick</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68562">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ciscostu</div>
					<div class="post-datetime">
						22 May 2008, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>Try $YOUR_BUILDROOT/package/broadcom-wl/files/lib/wifi/broadcom.sh.</p><p>Hope this helps,<br />Charlie</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68563">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						22 May 2008, 19:27					</div>
				</div>
				<div class="post-content content">
					<p>there&#039;s a good reason it&#039;s disabled by default. it&#039;s so that people won&#039;t just plug in the router and use it with the stock settings like a normal consumer router - which allows full access to the system via wireless with no password. you are expected to configure it at least once via the command line (or web interface if you installed one) before using it.<br /></p><div class="codebox"><pre><code>kevin@xen:/stuff/openwrt/trunk$ grep -R &quot;REMOVE THIS LINE&quot; * 2&gt;/dev/null
docs/.svn/text-base/wireless.tex.svn-base:      # REMOVE THIS LINE TO ENABLE WIFI:
docs/wireless.tex:      # REMOVE THIS LINE TO ENABLE WIFI:
package/hostap-driver/files/lib/wifi/.svn/text-base/hostap.sh.svn-base: # REMOVE THIS LINE TO ENABLE WIFI:
package/hostap-driver/files/lib/wifi/hostap.sh: # REMOVE THIS LINE TO ENABLE WIFI:
package/madwifi/files/lib/wifi/madwifi.sh:      # REMOVE THIS LINE TO ENABLE WIFI:
package/madwifi/files/lib/wifi/.svn/text-base/madwifi.sh.svn-base:      # REMOVE THIS LINE TO ENABLE WIFI:
package/mac80211/files/lib/wifi/mac80211.sh:    # REMOVE THIS LINE TO ENABLE WIFI:
package/mac80211/files/lib/wifi/.svn/text-base/mac80211.sh.svn-base:    # REMOVE THIS LINE TO ENABLE WIFI:
package/broadcom-wl/files/lib/wifi/.svn/text-base/broadcom.sh.svn-base: # REMOVE THIS LINE TO ENABLE WIFI:
package/broadcom-wl/files/lib/wifi/broadcom.sh: # REMOVE THIS LINE TO ENABLE WIFI:</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68600">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dlbogdan</div>
					<div class="post-datetime">
						23 May 2008, 13:14					</div>
				</div>
				<div class="post-content content">
					<p>yes indeed it makes a lot of sense but it also was a pain for me when i built my first openwrt kamikaze image (used whiterussian before) and flashed it and BANG... offline. the router was on top of a building, i was having&nbsp; only wireless access to it possible at that time. (the wire part was going in someone&#039;s appartment to a local network with some servers running, he was not home FOR ANOTHER BLOODY WEEK) ...</p><p>wwow... just thinking of it makes my head spin again. what a pain it was that day for me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68601">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dlbogdan</div>
					<div class="post-datetime">
						23 May 2008, 13:17					</div>
				</div>
				<div class="post-content content">
					<p>now... especially for the svn non release, debug versions (which i doubt will be ever used by someone not evolved enough to protect the router within the first 7 seconds of it&#039;s first run), i think it really is safe to just enable the wifi by default.</p>											<p class="post-edited">(Last edited by <strong>dlbogdan</strong> on 23 May 2008, 13:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68602">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						23 May 2008, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>While I think that disabling wifi by default is a good thing(tm), I think it would be great if the image builder offered a way to preconfigure wifi for the image so you can get working wireless (with encryption) out of the box.<br />(I think I read somewhere one could do it manually by placing a prefilled files/etc/config/wireless into the root directory of the openwrt-sources, but I never tried this).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68616">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nickf</div>
					<div class="post-datetime">
						23 May 2008, 17:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Thanks for all the replies.</p><p>It seems that the &#039;master&#039; script is in trunk/package/broadcom-wl/files/lib/wifi/broadcom.sh anything you put in here gets into the scripts that are generated in the trunk/build_mipsel/...... and these get into the access point /etc/config/networking script that is run up on boot.</p><p>Thanks for the security warnings, this is for some research and is a sealed 2 box network.</p><p>I guess I was trying to make the more general point that I cant seem to find where all this sort of stuff is laid down and what the higher level of structure is. For instance if I wanted to make the http server on port 1234 or wanted to disable vlans..(from the build)&nbsp; I cant believe its down to greping and trial build until you find the magic file!</p><p>Any authoritative resources in this area most welcome!</p><p>Regards</p><p>nick</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68817">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">whbjr</div>
					<div class="post-datetime">
						28 May 2008, 03:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dlbogdan wrote:</cite><blockquote><p>... and flashed it and BANG... offline. the router was on top of a building, i was having&nbsp; only wireless access to it possible at that time.</p></blockquote></div><p>You&#039;re not going to like this response, but... Perhaps this shows the need to TEST a new setup before actually putting it into service, especially in a hard-to-access location?&nbsp; Anytime you&#039;re taking your hands off some equipment, whether it&#039;s a router going to the top of a roof or a laptop going to your sister, ask yourself - If this breaks in some way, what will I do?&nbsp; What can I check before I allow myself to make a horrendous error? (In case you&#039;re wondering, my most-stressful case was making changes to a router in Germany while I was sitting in Texas)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>