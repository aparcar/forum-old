<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How do I install an older version of php?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p286074">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">steveharman</div>
					<div class="post-datetime">
						3 Aug 2015, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>// TP-Link WR3600<br />// Barrier Breaker</p><p>Currently I&#039;m going round in circles trying to get Wordpress to work with PHP 5.4.&nbsp; Another forum member kindly suggested I might get around the timezonedb issues by installing a previous (5.3) version of PHP.</p><p>I&#039;ve located an older PHP for my architecture here:&nbsp; <br /><a href="https://downloads.openwrt.org/backfire/10.03.1/ar71xx/packages/">https://downloads.openwrt.org/backfire/ … /packages/</a> I</p><p>And then tried: &#039;opkg install <a href="https://downloads.openwrt.org/backfire/10.03.1/ar71xx/packages/php5-cgi_5.3.6-3.3_ar71xx.ipk">https://downloads.openwrt.org/backfire/10.03.1/ar71xx/packages/php5-cgi_5.3.6-3.3_ar71xx.ipk&#039;</a> but I get:</p><p>Collected errors:<br /> * wfopen: <a href="https://downloads.openwrt.org/backfire/10.03.1/ar71xx/packages/php5-cgi_5.3.6-3.3_ar71xx.ipk:">https://downloads.openwrt.org/backfire/ … r71xx.ipk:</a> No such file or directory.<br /> * pkg_init_from_file: Failed to extract control file from <a href="https://downloads.openwrt.org/backfire/10.03.1/ar71xx/packages/php5-cgi_5.3.6-3.3_ar71xx.ipk.">https://downloads.openwrt.org/backfire/ … r71xx.ipk.</a><br />root@OpenWrt:~# </p><p>Am I going about installing a previous version of a package the wrong way?&nbsp; Any help gratefully received.</p><p>Thanks,</p><p>Steve</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286090">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						3 Aug 2015, 15:46					</div>
				</div>
				<div class="post-content content">
					<p>A few thoughts...</p><p>1) I guess you can download the packages locally, manually, and then install them from there (to avoid some confusion about downloading from the wrong directory)<br />2) opkg provides --verbose=N and --force-Xxxxx, those can probably help to solve problems<br />3) I would start installing some smaller and more simple package (like xxd) from the wrong repository, before trying with the more complex/heavy php<br />4) There are obviously two big php5-cli and php5-cgi... and then a small package named just php5. Perhaps you should try php5 and see if it installs the other packages<br />5) This (together with database) is probably not going to fit on the 8MB flash of your device. You probably should have a strategy for installing php to a USB-drive rather than the flash</p><p>Finally... I installed PHP/Wordpress the other day to a 500MHz ARMv5-cpu with 128MB Ram (not OpenWrt). Very bad performance. I think your WDR3600 is in the same ballpark as my device. Depending on what you are doing... perhaps it is wiser to put Wordpress on a RPi2 or something.</p>											<p class="post-edited">(Last edited by <strong>zo0ok</strong> on 3 Aug 2015, 15:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286094">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">steveharman</div>
					<div class="post-datetime">
						3 Aug 2015, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply.&nbsp; In the short time between my post and now, I have coincidentally managed to solve the PHP5 timezone issue which prevented Wordpress from running.</p><p>Install zoneinfo-core and zoneinfo-europe.&nbsp; &nbsp;A quick restart and Wordpress stopped complaining about timezone data being missing.&nbsp; </p><p>I&#039;ll copy this on to my other post about PHP5 &amp; timezone data in case anyone else falls into the same trap.</p><p>Thanks again,</p><p>Steve</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286096">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						3 Aug 2015, 16:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>steveharman wrote:</cite><blockquote><p>I have coincidentally managed to solve the PHP5 timezone issue which prevented Wordpress from running.<br />Steve</p></blockquote></div><p>That was probably a much better solution than trying to use old PHP!<br />Still curious if you manage to get acceptable performance though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286098">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">steveharman</div>
					<div class="post-datetime">
						3 Aug 2015, 17:00					</div>
				</div>
				<div class="post-content content">
					<p>Agreed.&nbsp; ;-)&nbsp; Performance is as you suggested it would be I&#039;m afraid.&nbsp; </p><p>I have some external storage on USB where the db and everything else is running these days, which probably doesn&#039;t help either. I may experiment with Wordpress on my NAS (Synology) which has a little more grunt than the WDR3600.</p><p>Thanks again for your initial reply. </p><p>Steve</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286099">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						3 Aug 2015, 17:08					</div>
				</div>
				<div class="post-content content">
					<p>My QNAP TS-109 (ARMv5@500MHz, 128MB RAM) is unacceptably slow (20-30 seconds to load anything).<br />My Apple PowerBook (PowerPC G4@866MHz, 1GB RAM) is just fine.</p><p>Difference is much bigger than the ~2x MHz-difference would suggest.</p><p>Not sure if the worst problem is CPU or lack of RAM. Or too little cache. I don&#039;t think I/O to storage is the bottleneck.<br />JavaScript is very FPU-dependent, perhaps the same with PHP, and that could explain it.</p>											<p class="post-edited">(Last edited by <strong>zo0ok</strong> on 3 Aug 2015, 17:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286107">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						3 Aug 2015, 18:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>steveharman wrote:</cite><blockquote><p>Install zoneinfo-core and zoneinfo-europe.&nbsp; &nbsp;A quick restart and Wordpress stopped complaining about timezone data being missing.</p></blockquote></div><p>Also dokuwiki doesn&#039;t work if the timezone is not correctly set.<br />It&#039;s a good idea to install the above packages when installing php.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286225">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">onebillion</div>
					<div class="post-datetime">
						4 Aug 2015, 15:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zo0ok wrote:</cite><blockquote><p>My QNAP TS-109 (ARMv5@500MHz, 128MB RAM) is unacceptably slow (20-30 seconds to load anything).<br />My Apple PowerBook (PowerPC G4@866MHz, 1GB RAM) is just fine.</p><p>Difference is much bigger than the ~2x MHz-difference would suggest.</p><p>Not sure if the worst problem is CPU or lack of RAM. Or too little cache. I don&#039;t think I/O to storage is the bottleneck.<br />JavaScript is very FPU-dependent, perhaps the same with PHP, and that could explain it.</p></blockquote></div><br /><p>Latest version of PHP (5.6.10) in trunk supports OPcache. Suggest you try installing that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286258">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						4 Aug 2015, 20:15					</div>
				</div>
				<div class="post-content content">
					<p>For reference, I had problems even running a small PHP powered site on my Beaglebone Black. That&#039;s a 1 GHz ARM Cortex A8. I don&#039;t think PHP treats &#039;weaker&#039; CPUs too kindly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286423">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">onebillion</div>
					<div class="post-datetime">
						5 Aug 2015, 17:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Borromini wrote:</cite><blockquote><p>For reference, I had problems even running a small PHP powered site on my Beaglebone Black. That&#039;s a 1 GHz ARM Cortex A8. I don&#039;t think PHP treats &#039;weaker&#039; CPUs too kindly.</p></blockquote></div><p>Performance may be less than stellar, but the is room for tuning most PHP apps. I&#039;ve found the best combination to be PHP + OPcache, nginx or lighttpd as the webserver, along with a tuned MySQL as the DB.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>