<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Splitting the WLAN From the Switch Bridge</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p53200">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">HalNineThousand</div>
					<div class="post-datetime">
						1 Aug 2007, 09:50					</div>
				</div>
				<div class="post-content content">
					<p>At this point, I&#039;m not even completely sure of what questions I should be asking on this, so I&#039;m hoping I can get some guidance.&nbsp; I&#039;m not asking anyone to do the work for me, since, in the long run, I want to know what I&#039;m doing.</p><p>As of now I have my own LAN in the 172.16.7.xxx range with all the computers connected through a Linksys wired switch.&nbsp; I have a cable from this switch to my WRT54G, running OpenWRT with X-WRT on it.&nbsp; The main reason I&#039;m using wireless is for a music streaming setup (I&#039;ve brought that up elsewhere).&nbsp; I&#039;m using Slimserver to stream the music from the server.&nbsp; I have one Squeezebox but I&#039;ll be adding more players based on the WRTLS54GS with OpenWRT on them and speakers added.&nbsp; Other than Squeezeboxes, Slimserver keeps track of separate players by their IP addresses.&nbsp; That means any other players I put on the WLAN will all end up with the same IP address because of NAT after their packets pass through the WRT54G, so they&#039;ll all be seen as the same player.</p><p>To solve this, I&#039;ve noticed in WebIF^2 that I can split the WLAN from the switch bridge.&nbsp; This is where I am confused.&nbsp; I *think* what will work is to split the WLAN from the bridge, run a cable from the Linksys switch to the LAN side on the WRT54G, continue let the router be seen as a specific address in the 172.16.7.xxx range, then on the WLAN side, use a different range, like 172.16.8.xxx for anything on the WLAN, which would give each item on the WLAN side a separate address that could recognized as distinct by my other net (I might have to change any case where I masked with 255.255.255.0 to 255.255.0.0).</p><p>Is this possible?&nbsp; If it&#039;s possible, then when I create any firewall rules, is it possible to specify the firewall is between the WLAN and the wired connections?</p><p>As I said, I&#039;m not clear if this can work and what I need to study to understand it.&nbsp; If there&#039;s a better way to do it, then I&#039;m open to it.&nbsp; I am basically trying to keep a firewall between my existing LAN and the WLAN, but I want the systems on the LAN to be able to recognize the distinct IP addresses within the WLAN.&nbsp; Is there a better way to do this?</p><p>I&#039;m not quite sure where to start reading to figure this out so I&#039;m open to suggestions on better ways to do this.&nbsp; My goal is to be able to all off the WLAN (for security) but still have the LAN see the different IP addresses on the WLAN side.</p><p>Thanks for any help, suggestions, links or ideas!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53219">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pric0112</div>
					<div class="post-datetime">
						1 Aug 2007, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>Yes it is all possible. The first thing you&#039;ll want to do is remove the setting that links the wl0 wifi interface with the lan switch. I used: &quot;uci del wireless.cfg2.network&quot;. After that you&#039;ll need to name and add the wl0 interface to the network config. I used &quot;uci set network.wifi=interface&quot;, then set the network.wifi.* settings. Then as you mentioned, you&#039;ll have some firewall configuration to tackle.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>