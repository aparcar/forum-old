<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Now Marvell Kirkwood ONLY supports a single DEFAULT Target Profile</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p170187">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						17 Jun 2012, 17:43					</div>
				</div>
				<div class="post-content content">
					<p>Today, I updated my local SVN trunk to r32403 to find out that Marvell Kirkwood now ONLY has one Target Profile and that is <em>Default</em>. In other words, Target Profile for Seagate DockStar, SheevaPlug, etc., are no longer available. Has anyone encountered this?</p>											<p class="post-edited">(Last edited by <strong>mazilo</strong> on 17 Jun 2012, 17:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170754">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">felixka</div>
					<div class="post-datetime">
						23 Jun 2012, 13:04					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I saw this. Why is that?<br />so, I guess no way to build openwrt for the Dockstar anymore?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170865">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						25 Jun 2012, 04:58					</div>
				</div>
				<div class="post-content content">
					<p>Today, I managed to recompile (after an SVN update to r32492 and a <em>make dirclean</em>) OpenWRT for Marvel Kirkwood with a DEFAULT target. Now, my Seagate DockStar is already up running with the newly compiled firmware. So far, so good.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170904">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">felixka</div>
					<div class="post-datetime">
						25 Jun 2012, 17:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>Today, I managed to recompile (after an SVN update to r32492 and a <em>make dirclean</em>) OpenWRT for Marvel Kirkwood with a DEFAULT target. Now, my Seagate DockStar is already up running with the newly compiled firmware. So far, so good.</p></blockquote></div><p>I tested the day before yesterday and it didnt work. <br />Only when I performed the procedure from yawlhoo described <a href="https://forum.openwrt.org/viewtopic.php?pid=121452#p121452">here</a> it worked.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170940">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						26 Jun 2012, 03:10					</div>
				</div>
				<div class="post-content content">
					<p>The firmware I built for my Seagate DockStar is in the form of a tar.gz Target Image. My Seagate DockStar has no problem to boot the firmware from an SD card.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171715">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">felixka</div>
					<div class="post-datetime">
						6 Jul 2012, 14:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>The firmware I built for my Seagate DockStar is in the form of a tar.gz Target Image. My Seagate DockStar has no problem to boot the firmware from an SD card.</p></blockquote></div><p>so if I understand you correctly, you did not flash the compiled &#039;openwrt-kirkwood---jffs2-128k.img&#039; ( I found not working).<br />Instead, you un-tared the contents of openwrt-kirkwood-rootfs.tar.gz onto a SD Card and boot from SD card? Am I right?</p><p>How did you wire the SD Card? Is there a HowTo?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171723">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						6 Jul 2012, 16:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>felixka wrote:</cite><blockquote><div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>The firmware I built for my Seagate DockStar is in the form of a tar.gz Target Image. My Seagate DockStar has no problem to boot the firmware from an SD card.</p></blockquote></div><p>so if I understand you correctly, you did not flash the compiled &#039;openwrt-kirkwood---jffs2-128k.img&#039; ( I found not working).<br />Instead, you un-tared the contents of openwrt-kirkwood-rootfs.tar.gz onto a SD Card and boot from SD card? Am I right?</p></blockquote></div><p>You are right. Using <em>make menuconfig</em>, I checked the <strong>tar.g</strong> option under <strong>Target Images</strong> to build and produce a firmware in a tarred format.</p><div class="quotebox"><blockquote><p>How did you wire the SD Card? Is there a HowTo?</p></blockquote></div><p>Not am aware of. However, I used this <a href="http://www.frys.com/product/6044668">SIIG USB 2.0 memory card reader/writer</a> (see the avatar on my <a href="http://freeswitch-users.2379917.n2.nabble.com/Bobsled-tp7579077.html">post</a>) to connect an SD memory card to my Seagate DockStar. If you have some unused USB memory sticks available, you sure can use that too. The reason I chose to use a <a href="http://www.frys.com/product/6044668">SIIG USB 2.0 memory card reader/writer</a> with an SD memory card is simply I got both the <a href="http://www.frys.com/product/6044668">SIIG USB 2.0 memory card reader/writer</a> and some SD memory cards FREE (after rebates). Also, the <a href="http://www.frys.com/product/6044668">SIIG USB 2.0 memory card reader/writer</a> can loosely slide into the docking port of a Seagate DockStar. From the avatar, you will notice that I wrapped some rubber bands on the <a href="http://www.frys.com/product/6044668">SIIG USB 2.0 memory card reader/writer</a> to make it snugly into the docking port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171731">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">felixka</div>
					<div class="post-datetime">
						6 Jul 2012, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. <br />Just to ensure I understood correctly.<br />Can I use the openwrt-kirkwood-rootfs.tar.gz from snapshots?</p><p>And follow this procedure:</p><div class="codebox"><pre><code>1. Format an USB drive /memory Stick with one partition containing an ext2 filesystem.
 
2. As root, un-tar the contents of openwrt-kirkwood-rootfs.tar.gz onto the USB drive.

3. In 2nd bootloader - do:
   setenv bootargs_root root=/dev/sda1 rootdelay=10 rootfstype=ext2
   saveenv
   boot</code></pre></div><p>...and my dockstar should boot openwrt...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171734">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						6 Jul 2012, 20:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>felixka wrote:</cite><blockquote><p>Can I use the openwrt-kirkwood-rootfs.tar.gz from snapshots?</p></blockquote></div><p>I built/compiled my own OpenWRT firmware for my Seagate DocckStar using the latest SVN trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171740">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">felixka</div>
					<div class="post-datetime">
						6 Jul 2012, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>Ok, i do now compiling myself as well. </p><p>Did you do similar procedure to boot from usb drive ???</p><div class="codebox"><pre><code>1. Format an USB drive /memory Stick with one partition containing an ext2 filesystem.
 
2. As root, un-tar the contents of openwrt-kirkwood-rootfs.tar.gz onto the USB drive.

3. In 2nd bootloader - do:
   setenv bootargs_root root=/dev/sda1 rootdelay=10 rootfstype=ext2
   saveenv
   boot</code></pre></div><p>Is this correct</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171747">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						6 Jul 2012, 23:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>felixka wrote:</cite><blockquote><p>Did you do similar procedure to boot from usb drive ???</p></blockquote></div><p>No. I flashed my Seagate DockStar unit with someone&#039;s uboot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171814">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">felixka</div>
					<div class="post-datetime">
						7 Jul 2012, 20:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><div class="quotebox"><cite>felixka wrote:</cite><blockquote><p>Did you do similar procedure to boot from usb drive ???</p></blockquote></div><p>No. I flashed my Seagate DockStar unit with someone&#039;s uboot.</p></blockquote></div><p>Would you kindly tell me, which files you put on the SD Card?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171819">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						7 Jul 2012, 22:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>felixka wrote:</cite><blockquote><div class="quotebox"><cite>mazilo wrote:</cite><blockquote><div class="quotebox"><cite>felixka wrote:</cite><blockquote><p>Did you do similar procedure to boot from usb drive ???</p></blockquote></div><p>No. I flashed my Seagate DockStar unit with someone&#039;s uboot.</p></blockquote></div><p>Would you kindly tell me, which files you put on the SD Card?</p></blockquote></div><p>After mounting the SD card to /mnt directory and untarring the firmware to the SD card, I have to manually copy the Linux kernel (openwrt-kirkwood-uImage) file to the /mnt/boot directory. The later part has to do with how uboot is configured to look and load the Linux kernel file. In my case, my uboot is configured to look for a /boot/openwrt-kirkwood-uImage file on /dev/sda1 partition.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>