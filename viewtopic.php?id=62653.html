<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Building Trunk for ALIX 2D3?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p310912">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						10 Feb 2016, 16:06					</div>
				</div>
				<div class="post-content content">
					<p>I have an ALIX 2D3 and I&#039;ve run into the slow LuCI issues as described <a href="https://forum.openwrt.org/viewtopic.php?id=59113">here</a>. It is old hardware, but even on early RC versions of 15.05 the web interface was perfectly usable, where as with the current stable version the entire system runs at a crawl (and I see this same issue with a RouterStation Pro board as well). The solution is to build from trunk, so while I haven&#039;t done this before I found the documentation easy enough to follow and setup a working build environment on an Ubuntu server. I can produce images with no issue.</p><p>The problem I have is that I&#039;m not clear on what packages I should be building to get the same out of the box image as I would get with the released openwrt-15.05-x86-geode-combined-ext4.img. From what I can see the build process produces a minimal image rather then a stock image. </p><p>Is there a list of the packages I should include to produce a &quot;as released&quot; image using trunk source for a given target, or a way of getting this? I have tried to load the 15.05 .config file into menumaker but there is an error displayed behind the menu (so I can&#039;t read it) when I try.</p><p>A side question, my understanding is that if I go with a trunk build, I should include all the non-standard packages (collectd, SQM etc) in that image rather than adding packages from the internet repository? </p><p>Any pointers you could give would be greatly appreciated, I think I&#039;m about 95% of the way there.</p>											<p class="post-edited">(Last edited by <strong>VaKo</strong> on 10 Feb 2016, 16:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310985">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						11 Feb 2016, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>I may be no more than a voyeur on this post, but I also have an ALIX (2 actually).&nbsp; I run RC2 and have no complaints with the GUI, but lighting fast it is not.&nbsp; Login seems to be the slowest at over 10 seconds, but nothing else that slow.&nbsp; I am not motivated to upgrade, too much work now.&nbsp; Using the stock build, not as advanced as you.&nbsp; I am running 15.05 on a Kingston MLGW2 and it seems to load the front page and wifi pages in 1-2 seconds.</p><p>I run Windows clients and am not sure if the router is the cause for slow network browsing.&nbsp; Sometimes it&#039;s 5-10 seconds to get a network share to open up.&nbsp; </p><p>The advantage of building your own image is that what ever you build is what your reset state goes to, and they take up less space, which is not a concern on this device.&nbsp; On the other hand you can not remove them if you decide you do not want them.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310991">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						11 Feb 2016, 03:28					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s not a speed demon, but having to wait 30+ seconds to see IP information on the dashboard page seems a bit much.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311044">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						11 Feb 2016, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>Not sure if this post helps<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=311036#p311036">https://forum.openwrt.org/viewtopic.php … 36#p311036</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311054">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						11 Feb 2016, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>That has pointed me in the right direction.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311085">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						12 Feb 2016, 00:53					</div>
				</div>
				<div class="post-content content">
					<p>Rereading your first post I am not clear if you are making an image based on 15.05, 15.05.1&nbsp; or DD?&nbsp; I guess there are a lot of fixes for 15.05 that if you compile you can get.&nbsp; Search openwrt 15.05.1 on Google.<br /><a href="https://git.openwrt.org/?p=15.05/openwrt.git;a=summary">https://git.openwrt.org/?p=15.05/openwrt.git;a=summary</a><br /><a href="https://www.mail-archive.com/openwrt-devel@lists.openwrt.org/msg36820.html">https://www.mail-archive.com/openwrt-de … 36820.html</a></p><p>What do you plan on adding to the image over stock?&nbsp; By any chance will you include a crypto card (Soekris 1411)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311147">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						12 Feb 2016, 16:02					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m quite new to this, so my initial assumption was that if I wanted to build an image with changes after the 15.05 build I would need to build from Trunk. Which proved to be incorrect, so I am now building from the 15.05 branch which I assume is where 15.05.1 lives. This has proved easier, because I can compare the .config file included with the x86 ImageBuilder file with the ones I am making, and use the diff files. Bit of manual work but easy once you figure it out. The only issues I have now is that a load of the required downloads are 404&#039;ing, so I have to manually wget them from other sources. </p><p>TBH I am not planning on adding a great deal beyond SSL for the web interface, collectd and USB storage support. The main thing I wanted was bug fixes rather than additional bits. For crypto, I&#039;m just using the functionality I get from the geode rather than an addon card. </p><p>My next challenge is to work out how to build this for ESXi or for a Braswell SoC SBC system from AliExpress. But I figure I can just add hardware support for *everything* and throw RAM at it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311210">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						13 Feb 2016, 02:47					</div>
				</div>
				<div class="post-content content">
					<p>I got it working, GUI is very quick now. Not got the packages quite right, but it does at least show that 15.05.1 will fix my issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311212">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						13 Feb 2016, 03:47					</div>
				</div>
				<div class="post-content content">
					<p>Congratulations!&nbsp; Might you be willing to share once you get the packages worked out?&nbsp; I would want to be able to add a few more things, mostly VPN.</p><p>What are you using collectd for?</p><p>This is cool.&nbsp; Even has AES-NI on it.&nbsp; Not seeing a price anywhere??<br /><a href="http://www.axiomtek.com/Default.aspx?MenuId=Products&amp;FunctionId=ProductView&amp;ItemId=10882&amp;upcat=136">http://www.axiomtek.com/Default.aspx?Me … ;upcat=136</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311213">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						13 Feb 2016, 04:04					</div>
				</div>
				<div class="post-content content">
					<p>Sure, I can share. I don&#039;t think packages via the normal routes will work, the first one I tried to install complained about the kernel version, so I would expect to have to bake in everything required. </p><p>Collectd produces various rrd graphs for system variables, things like bandwidth usage and so forth. </p><p>As for that board, most of the ITX boards from OEM&#039;s making embedded stuff for industrial uses kit are quite pricey, in the $200+ range if not higher. This is why I&#039;m looking at stuff from China direct like <a href="http://www.aliexpress.com/store/product/Partaker-B5-Business-Office-Mini-Pc-with-5th-Gen-Intel-14nm-Quad-Core-N3150-Processor/800900_32550695648.html">this</a>. Add RAM, storage and your choice of WLAN card, and you will have something far more powerful than most routers on the market, which consumes less than 10w at the wall under load.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311220">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						13 Feb 2016, 05:38					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s not obvious from the PC-Engines web site, but they have a new board<br /><a href="http://pcengines.ch/apu2b4.htm">http://pcengines.ch/apu2b4.htm</a><br /><a href="http://pcengines.ch/order1.php?c=4">http://pcengines.ch/order1.php?c=4</a> US Priceing<br />Still run close to the same with all the accessories.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312998">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">VaKo</div>
					<div class="post-datetime">
						29 Feb 2016, 01:18					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://mega.nz/#!CgEU1AZQ!8uLVFUXUEFxbh5Fy45CHtbm3H_KbVEtLsO0wOJ71H9I">https://mega.nz/#!CgEU1AZQ!8uLVFUXUEFxb … O0wOJ71H9I</a></p><br /><p>Give this a try.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>