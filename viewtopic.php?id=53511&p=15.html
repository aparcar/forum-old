<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> P-2812HNU-FX: getting OpenWrt installed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Jun 2015 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 15 of 23</div><nav><ul><li><a href="viewtopic.php%3Fid=53511&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=13.html">13</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=14.html">14</a></li><li class="pagination-current"><span>15</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=17.html">17</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=23.html">23</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p281247">
				<div class="post-metadata">
					<div class="post-num">Post #351</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						24 Jun 2015, 21:18					</div>
				</div>
				<div class="post-content content">
					<p>Should that really be C#? I can provide it in C.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281255">
				<div class="post-metadata">
					<div class="post-num">Post #352</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						24 Jun 2015, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>nop, any C:</p><p>thank u.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281256">
				<div class="post-metadata">
					<div class="post-num">Post #353</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						24 Jun 2015, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>but i need to do this:</p><p>Move bytes in file like this</p><p>0x1234 in 0x3412</p><p>00 80 5D 00&nbsp; ----&gt;&gt;&gt; 5D 00 00 80</p>											<p class="post-edited">(Last edited by <strong>cornelus2009</strong> on 25 Jun 2015, 08:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281311">
				<div class="post-metadata">
					<div class="post-num">Post #354</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						25 Jun 2015, 12:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>but i need to do this:</p><p>Move bytes in file like this</p><p>0x1234 in 0x3412</p><p>00 80 5D 00&nbsp; ----&gt;&gt;&gt; 5D 00 00 80</p></blockquote></div><p>The first one is a byte wrap, the second one is a word wrap. As your initial spec was a word wrap, I implemented that:</p><div class="codebox"><pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;errno.h&gt;

int openfile( char *name, int mode, int def )
{
        if( !strcmp( name, &quot;-&quot; ) )
            return def;
        def = open( name, mode );
        if( -1 == def )
        {
                int err = errno;
                printf( &quot;cannot open %s; error %d\n&quot;, name, err );
                exit( err );
        }
        return def;
}


int main( int argc, char **argv )
{
        int in = 0, out = 1;
        short buf[ 2 ];
        if( 3 == argc )
        {
                in = openfile( argv[ 1 ], O_RDONLY, 0 );
                out = openfile( argv[ 2 ], O_WRONLY, 1 );
        }
        else if( 1 != argc )
        {
                printf( &quot;Use %s [ in out ]\n&quot;, argv[ 0 ] );
                return 0;
        }
        
        while( 4 == read( in, buf, 4 ) )
        {
                short t=buf[ 0 ];
                buf[ 0 ] = buf[ 1 ];
                buf[ 1 ] = t;
                write( out, buf, 4 );
        }
        
        return 0;
}</code></pre></div><p>Not the most efficient program I ever wrote, but without knowledge how it will be used it cannot be optimized. It can be used two ways, simply piping:</p><div class="codebox"><pre><code>~$ echo 1234 | exchangebytes
3412</code></pre></div><p>or using files</p><div class="codebox"><pre><code>exchangebytes inputfile outputfile</code></pre></div><p>If you use a &#039;-&#039; as filename it will be stdin (or -out).<br />Input is read in chunks of 4 bytes. An incomplete chunk at the end is ignored.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281319">
				<div class="post-metadata">
					<div class="post-num">Post #355</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						25 Jun 2015, 14:38					</div>
				</div>
				<div class="post-content content">
					<p>thank u.<br />program do desired order of bytes, but seems is not a valid lzma.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281327">
				<div class="post-metadata">
					<div class="post-num">Post #356</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						25 Jun 2015, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I want to say thank you to everyone that has contributed and I was wondering if somebody could help me restore my bricked Zyxel P-2812HNU-F3-telenor so I can get it working again. The firmware I would like to have flashed is this one: 311BLN18D0.bin <a href="http://www.solidfiles.com/d/8897ddf307/">http://www.solidfiles.com/d/8897ddf307/</a> or anything like OpenWRT will be a bonus but the router is branded (Telenor) so as long as I get it working I&#039;m pretty much happy. They do not use ADSL it has a switch to set it to WAN and that&#039;s what Telenor is using on my set-up here.</p><p>I have opened the router and connected to the pins next to the NAND but there is no reply: <a href="http://i.imgur.com/g99cQYG.png">http://i.imgur.com/g99cQYG.png</a> I might have plugged wrong ones but it seems like when I power it over the power connection it boots. Picture: <a href="http://i.imgur.com/J7Km4zh.jpg">http://i.imgur.com/J7Km4zh.jpg</a><br />I&#039;ve been trying to press &quot;z&quot; during the bootup but since it&#039;s self-testing all the time that might not work like it should have. I have been reading up on replacing the U-boot but I&#039;m not sure how to short (sorry I&#039;m a complete newbie) is it something in the range of holding a resistor against the bootsels? (I probably have to call my friend over to do this part)</p><p>The router is blinking and that means that it is self-testing and after about 15-20 secounds all lights flash and it reboots in a loop of self-test that means it&#039;s bricked. I believe it might be best for me to just give up on this router and order a new ASUS or TP-LINK but that would cost quite a bit of money to do. </p><p>Currently using Windows 8.1 but can also run Windows 7 or Debian 8 from Raspberry PI.</p><div class="quotebox"><cite>feitingen wrote:</cite><blockquote><p>If you want a F3, let me know <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Alternatively, i have a P8702N I&#039;m not using, someone posted bootlog and stuff here:<br /><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=922659">http://www.dd-wrt.com/phpBB2/viewtopic.php?p=922659</a></p></blockquote></div><p>ZyXEL P8702N is probably the only Telenor one that does 5Ghz so it&#039;s better for heavily populated areas.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 26 Jun 2015, 01:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281364">
				<div class="post-metadata">
					<div class="post-num">Post #357</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						25 Jun 2015, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>You&#039;ll first have to fix your serial connection. Without serial you can&#039;t do nothing. Did you use a 3.3V TTL level uart? Connected only GND RX and TX?<br />Baudrate 115200 N 8 1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281400">
				<div class="post-metadata">
					<div class="post-num">Post #358</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						26 Jun 2015, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>Yeah I have only those connected now GND, RX, TX. It needs to be in UART mode before it will get replies in terminal, obviously, is what I assume at least. If not then I guess maybe there is something wrong in the serial connection? I have it set on 115200Baud, 8 bit data, no parity, 1 bit stop and no flow control. 0 msec/char and 0 msec/line since no uploading of ASCII.</p><p>I have minimal soldering experience so I was wondering what to do. I found R24 and R15 right next to the Samsung NAND on my F3 which according to wiki needs shortening to be in UART mode (only these two needed? I see somebody mentioned R20 and I assume the other one is for the F1). Now to shorten the pins it looks like a small tin blob on specifically these in particular and maybe the tin layer is a protection. I can get one of my friends to do this its very small and I have only worked with normal ones. </p><p>If I understand correctly you can short them with a screwdriver after removing the tin protection blobs by connecting the two pins with two screwdrivers both at once and then turning on the power? (seems like I need three hands here)</p><p>But it would be simpler if I could just make a connection between the two blobs on R24 and R15 with two more solder blobs, boot and then remove it as I assume it can&#039;t stay shorted since that would cause PCB issues or do I remove each of the four solder tin with solder wix and use the screwdriver (are there even pins under the blobs? If so they must be very small). I assume other people did this before so I don&#039;t want to mess up since I have next to no experience especially when it&#039;s this small, and I assume after this process is done once it does not need to be repeated.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 26 Jun 2015, 02:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281445">
				<div class="post-metadata">
					<div class="post-num">Post #359</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						26 Jun 2015, 10:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>It needs to be in UART mode before it will get replies in terminal, obviously, is what I assume at least.</p></blockquote></div><p>Wrong. UART mode is only to be able to boot from UART. Without UART mode you should still see the u-boot and kernel bootlog. And you should get a shell or login prompt when the box is fully booted.</p><p>About the shorting, I think it&#039;s a bad idea to solder anything. You&#039;ll have to desolder it after flashing the u-boot, and as you saw it&#039;s really small. I used a small screwdriver to short my blobs. But that was on an F1, which only needs a single shortage.<br />As soon as you see the &#039;UART&#039; message on the terminal you can unshort the pins. So the procedure is, short the blobs, powerup the box, and wait until you see either &#039;UART&#039; or the normal bootlog. In case of UART you can unshort, and upload the special bootloader. In case of normal bootlog unpower the box, and try again. <br />I think in case of the F3 you&#039;ll need 3 hands and 2 small screwdrivers. (Or 2 hands an a foot switch)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281458">
				<div class="post-metadata">
					<div class="post-num">Post #360</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						26 Jun 2015, 13:12					</div>
				</div>
				<div class="post-content content">
					<p>Yesterday I started getting a little small line with ASCII characters just about two three of them then I thought hmm, strange, and switched around the Rx and Tx cables and sure enough that was the error. Not sure if it was the device or this particular cable that was the cause. Sorry for making this basic mistake it seems the serial is okay after all.</p><p>Tried to change UART mode but it ended up in CFG5 instead of 4, maybe I was doing somthing wrong? like only one got shorted? Used two jewelers screwdrivers with Phillips head on one hand and the power on button with the other.<br />I managed to flash the ISP firmware 311BLN18D0.bin using ATUR and TFTP and got to the login screen but I don&#039;t know how to login as no idea about the credentials on this on and got<br /></p><div class="codebox"><pre><code>enable:wds0     wds1    wds2    wds3
       0        0       0       0
WdsEncrypType:;;;&lt;------&gt;;;;
WdsList:;;;&lt;------&gt;;;;
sh: wlan_wds_down.sh: Permission denied</code></pre></div><p>trying to enable Wi-Fi + having issues accesing the web panel the router blinks but nothing on the browser. I think there were quite a few errors with rules on iptables and permssion denied during bootup so something must be wrong and it could have something to do with the router being bricked before (or just that this flash wiped everything) but thankfully it at least boots now. Here are some of the errors and as you can see it looks like some Telenor related does not exist:<br /></p><div class="codebox"><pre><code>cat: can&#039;t open &#039;/var/tmp/hosts&#039;: No such file or directory
Starting celld daemon......
setwan 0x10 Success
Enter user spaceclearallmacs Success
ifconfig: SIOCGIFFLAGS: No such device
bridge br1 doesn&#039;t exist; can&#039;t delete it
cp: cannot stat &#039;/tmp/ccc_account_*****//etc/passwd&#039;: No such file or directory
deluser: can&#039;t find TelenorRemoteAdmin in /etc/passwd
deluser: /etc/gshadow: No such file or directory
deluser: can&#039;t find supervisor in /etc/passwd
deluser: can&#039;t find supervisor in /etc/shadow
deluser: can&#039;t find supervisor in /etc/group
deluser: /etc/gshadow: No such file or directory

dnsmasq: cannot read /etc/SIK.conf: No such file or directory
cat: can&#039;t open &#039;/tmp/schedule/*.sche&#039;: No such file or directory
killall: updatedd: no process killed</code></pre></div><p>I do not think I could be able to run OpenWRT as it is branded to Telenor so there might not be much point of me trying to replace the bootloader by having it go into UART mode. If it is possible, like it might very well be, maybe I should try switching to OpenWRT if the ISP firmware won&#039;t work. But nonetheless can anyone help me with the branded firmware, maybe I need to set some additional settings or uploading just this file wasn&#039;t enough since it was broken and lacked something from before such as these files it can&#039;t find. The firmware could be broken apperantly it was released June 18 2015 which is recently.</p><p>EDIT: I got sent access to all of these firmwares BLN 10, 11, 12, 15, 16, 18, 17 from support but not sure if flashing any would make a difference.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 26 Jun 2015, 14:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281506">
				<div class="post-metadata">
					<div class="post-num">Post #361</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						26 Jun 2015, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>Yup, everything is now fixed. The credentials for user admin is written below the router as the SSID password.<br />If you want to know what was the problem you had to access the router on 10.0.0.138, just wipe the temporary settings used to upload as the DHCP is running and they use 10.0.0.* and you will reach a setup screen.<br />Don&#039;t do that, their software doesn&#039;t even run on Windows 8.1 it seems - so simply hit abort and it will redirect you to <a href="http://10.0.0.138/SIK_off.cgi">http://10.0.0.138/SIK_off.cgi</a> (which you can do manually). After that I plugged in the WAN and set it to WAN by the switch on the back (reboot if you haven&#039;t). Flash again from GUI in case you want to feel safe that it happened correctly which I did. After I ran this to verify my connection setting it to fibre: <a href="http://hjelpen.telenor.net/telenorhjelpen/update/TelenorhjelpenSetup.exe">http://hjelpen.telenor.net/telenorhjelp … nSetup.exe</a> the wi-fi started working and now the router runs like it should.</p><p>Of course OpenWRT would have been fun too, but I do have my other $40 ASUS router running DD-WRT and a Raspberry Pi to do the things I need so this is going to hold. I don&#039;t know how safe this firmware is but I&#039;m going to trust the ISP that their firmware released this very month is safe enough.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 26 Jun 2015, 23:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281548">
				<div class="post-metadata">
					<div class="post-num">Post #362</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						27 Jun 2015, 10:08					</div>
				</div>
				<div class="post-content content">
					<p>Glad you sorted it.<br /></p><div class="quotebox"><blockquote><p>I do not think I could be able to run OpenWRT as it is branded to Telenor</p></blockquote></div><p>Installing OpenWRT involves overwriting *all* of the firmware, including the bootloader. And it doesn&#039;t use the firmware capabilities as it starts with the low-level UART boot mode of the CPU. So unless rebranding involves a hardware change, it should just work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281583">
				<div class="post-metadata">
					<div class="post-num">Post #363</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						27 Jun 2015, 18:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p> So unless rebranding involves a hardware change, it should just work.</p></blockquote></div><p>Yeah, I think the reason I didn&#039;t get the right mode might have been due to having one hand and maybe only one got shorted. Since the instructions here and the ones on the wiki is a bit hard to follow, but also that scapi no longer has a device and I have no idea about his version or just get one from the trunk directly.</p><p>I put the router together for the time being to test it out. It is performing well but it seems to sometimes get a little stuck loading webpages but that might be the DNS servers from the ISP that does not have the entry cached which I can just switch out. Did you test it out and see any performance differences over using OpenWRT VS the original firmware? And are the USB ports working after switching it out?</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 27 Jun 2015, 18:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281908">
				<div class="post-metadata">
					<div class="post-num">Post #364</div>
					<div class="post-author">scapi</div>
					<div class="post-datetime">
						30 Jun 2015, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>Trunk has all my patches (except new DSL driver, VDSL firmware and Wireless EEPROM), my &quot;Unit&quot; is still working <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> without Ethernet and DSL part only wifi so it is bit useless to me, nerveless if I find any Bug I will try to fix it, but my testing enq is quite limited <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>scapi</strong> on 30 Jun 2015, 20:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282009">
				<div class="post-metadata">
					<div class="post-num">Post #365</div>
					<div class="post-author">feitingen</div>
					<div class="post-datetime">
						1 Jul 2015, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>courfazor: I got it working on a telenor router</p><p>You have to short both, I soldered them, and that was a really bad idea, i spent a lot of time getting it off.</p><p>I&#039;m getting good speeds on the DSL with no problems so far, i haven&#039;t tested the wifi since i have another device for that.<br />I noticed when downloading at full speed, upload speed suffers, so I used wondershaper with some modifications to get good latency on DNS and stuff, works much better than it ever did before.</p><p>USB seems to work, but i never tested anything on the port, just verified that it shows up somewhere in /sys</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282873">
				<div class="post-metadata">
					<div class="post-num">Post #366</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						9 Jul 2015, 01:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>feitingen wrote:</cite><blockquote><p>courfazor: I got it working on a telenor router</p><p>You have to short both, I soldered them, and that was a really bad idea, i spent a lot of time getting it off.</p><p>I&#039;m getting good speeds on the DSL with no problems so far, i haven&#039;t tested the wifi since i have another device for that.<br />I noticed when downloading at full speed, upload speed suffers, so I used wondershaper with some modifications to get good latency on DNS and stuff, works much better than it ever did before.</p><p>USB seems to work, but i never tested anything on the port, just verified that it shows up somewhere in /sys</p></blockquote></div><p>I can see why that can be a pain to get off when you don&#039;t need to have it on anymore <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> I know that Telenor is going to make Download speed suffer if you Upload and the same the other way. I myself was unable to browse internet when uploading a YouTube video some years back on the 16/0.6Mbps ADSL on their previous Thomson modem which was very funny. </p><p>Anyway, I tested Wi-Fi and it has been behaving okay. But I have only been streaming HD videos and done normal surfing.<br />Today, however, I was doing some hardcore gaming just for the old days and been playing for many many hours on Terraria 1.3 + TeamSpeak and it suddenly just disconnected in the middle of a heavy boss fight. The router had signal and everything and displayed green the Wi-Fi was up it just wouldn&#039;t give me internet access nor would it let me reconnect even if the name was being broadcasted. After that I quickly connected a 25m cable to get internet directly from the 7 LAN port switch my provider gave me and after some more hours I tried connecting again and the Wi-Fi was working perfectly.</p><p>For gaming the Wi-Fi on this device is potentially dangerous. Do you believe that Wi-Fi can get better if I switch over to OpenWRT? It might be due to the poor Wi-Fi performance you choose to use another router for that, and maybe I should just let this one retire now since wi-fi is the only fuction I really want it to do. I have the ASUS router which currently serves as a 6to4 tunnel and therefore I didn&#039;t want it to be the main AP but I guess I can enable the firewall on router level and have it give out unique IPv6 addresses to each device over DHCP. It has less RAM and CPU but the Wi-Fi performance is superb (also has dnsmasq) and it never did anything similar to what the ZyXel did when I got disconnected earlier today. It might be related to something else, the speedtest seems to be able to cope with my max connection over wireless which isn&#039;t that high since I&#039;m not living in any big city: <a href="http://www.speedtest.net/result/4490931364.png">http://www.speedtest.net/result/4490931364.png</a></p><p>Maybe I can use it to run umurmur only <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 9 Jul 2015, 01:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284133">
				<div class="post-metadata">
					<div class="post-num">Post #367</div>
					<div class="post-author">geos</div>
					<div class="post-datetime">
						20 Jul 2015, 11:16					</div>
				</div>
				<div class="post-content content">
					<p>The instruction about making <a href="http://wiki.openwrt.org/toh/zyxel/p2812hnu-f3">Openwrt running on P-2812 F3</a> says that R15 and R24 should be shortened. Should they be shortened the way it is pictured below or some other way?</p><p><span class="postimg"><img src="http://images70.fotosik.pl/1051/520535e323d20fc2gen.jpg" alt="PunBB bbcode test" /></span></p><p>Will the initializing process stop itself after &quot;CFG 04 UART&quot; appears or it should be stopped somehow?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284140">
				<div class="post-metadata">
					<div class="post-num">Post #368</div>
					<div class="post-author">feitingen</div>
					<div class="post-datetime">
						20 Jul 2015, 13:33					</div>
				</div>
				<div class="post-content content">
					<p>The picture is correct (and helpful if you add it to the wiki)</p><p>The initializing process will stop and you&#039;ll see &quot;CFG 04 UART&quot; in the console. If you see a different number (CFG xx) one of them aren&#039;t shortened properly.</p><p>Tip: Don&#039;t solder them unless you&#039;re good at desoldering, it was a major struggle for me, but I&#039;m not good at it.<br />You only need to keep them shortened during boot until you see &quot;CFG 04 UART&quot;, but you can keep them shortened until you&#039;ve written the new bootloader to flash if it&#039;s more convenient for you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284290">
				<div class="post-metadata">
					<div class="post-num">Post #369</div>
					<div class="post-author">geos</div>
					<div class="post-datetime">
						21 Jul 2015, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>thanks for replying! I finally managed to install openwrt on this box. a few remarks from my experience, maybe they will be helpful for others:</p><p>1) when doing this on windows make sure that COM port parameters in manager device match those in tera term. in my case there was 9600 in manager and 115200 in tera term which (probably) was responsible for low speed during *.asc file transfer (64b/s)</p><p>2) generally I was following wiki: <a href="http://wiki.openwrt.org/toh/zyxel/p2812hnu-f3">http://wiki.openwrt.org/toh/zyxel/p2812hnu-f3</a> but at some point I encountered an issue with this command:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# ubidetach -p /dev/mtd4
ubidetach: error!: cannot detach &quot;/dev/mtd4&quot;
           error 19 (No such device)</code></pre></div><p>Verified against this file <a href="https://www.dropbox.com/sh/9aup68dv6oq5rzo/AAAZWfq9Ifo1OHFS9viySMG1a/F3%20OpenWRT/openwrt.txt?dl=0">https://www.dropbox.com/sh/9aup68dv6oq5 … t.txt?dl=0</a> and found difference: /dev/mtd4 on wiki and /dev/mtd5 inside a file. I&#039;m not sure if this is a typo at wiki. </p><p>after a change it all went well:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# ubidetach -p /dev/mtd5
[ 1191.436000] UBI: detaching mtd5 from ubi0
[ 1191.440000] UBI: mtd5 is detached from ubi0
root@OpenWrt:/# ubiformat /dev/mtd5 -f /tmp/openwrt-lantiq-xrx200-P2812HNUF3-squashfs-ubinized.bin
ubiformat: mtd5 (nand), size 132120576 bytes (126.0 MiB), 1008 eraseblocks of 131072 bytes (128.0 KiB), min. I/O size 2048 bytes
libscan: scanning eraseblock 1007 -- 100 % complete
ubiformat: 1004 eraseblocks have valid erase counter, mean value is 1
ubiformat: 4 bad eraseblocks found, numbers: 64, 296, 482, 727
ubiformat: flashing eraseblock 28 -- 100 % complete
ubiformat: formatting eraseblock 1007 -- 100 % complete</code></pre></div><p>the rest was as wiki described. </p><p>thank you!<br />geos</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284298">
				<div class="post-metadata">
					<div class="post-num">Post #370</div>
					<div class="post-author">feitingen</div>
					<div class="post-datetime">
						21 Jul 2015, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve changed the wiki so it&#039;s correct, I also had to use /dev/mtd5, and i used the &#039;mount&#039; command to check which partition was the correct one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284552">
				<div class="post-metadata">
					<div class="post-num">Post #371</div>
					<div class="post-author">scapi</div>
					<div class="post-datetime">
						23 Jul 2015, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>Please don&#039;t change something that is right.</p><div class="codebox"><pre><code>                fpi@10000000 {
                localbus@0 {
                            nor-boot@0 {
                                    compatible = &quot;lantiq,nor&quot;;
                                    bank-width = &lt;2&gt;;
                                    reg = &lt;0 0x0 0x800000&gt;;
                                    #address-cells = &lt;1&gt;;
                                    #size-cells = &lt;1&gt;;
    
                                    partition@0 {
                                            label = &quot;uboot&quot;;               &lt;--mtd0
                                            reg = &lt;0x0 0x50000&gt;;
                                            read-only;
                                    };
                                    partition@50000 {
                                            label = &quot;uboot-env&quot;;         &lt;--mtd1
                                            reg = &lt;0x50000 0x10000&gt;;
                                    };
                                    partition@60000 {
                                            label = &quot;unused&quot;;              &lt;--mtd2
                                            reg = &lt;0x60000 0x7a0000&gt;;
                                    };
                            };
    
                            nand-parts@0 {
                                    compatible = &quot;gen_nand&quot;, &quot;lantiq,nand-xway&quot;;
                                    lantiq,cs = &lt;1&gt;;
                                    bank-width = &lt;2&gt;;
                                    reg = &lt;1 0x0 0x2000000&gt;;
                                    #address-cells = &lt;1&gt;;
                                    #size-cells = &lt;1&gt;;
    
                                    partition@0 {
                                            label = &quot;kernel&quot;;               &lt;--mtd3
                                            reg = &lt;0x0 0x200000&gt;;
                                    };
                                    partition@200000 {
                                            label = &quot;ubi&quot;;                   &lt;--mtd4
                                            reg = &lt;0x200000 0x7e00000&gt;;
                                    };
                            };
                    };
            }</code></pre></div><p>Dropbox have old images, pre-official trunk, there were two unused partitions on F3 so mtd5, since trunk mtd4 is correct one.</p><p>Also in trunk or github bootlog:</p><div class="codebox"><pre><code>[    1.376000] 8021q: 802.1Q VLAN Support v1.8
[    1.384000] UBI: auto-attach mtd4
[    1.384000] UBI: attaching mtd4 to ubi0
[    1.576000] UBI: scanning is finished
[    1.588000] UBI: attached mtd4 (name &quot;ubi&quot;, size 126 MiB) to ubi0</code></pre></div>											<p class="post-edited">(Last edited by <strong>scapi</strong> on 23 Jul 2015, 00:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285683">
				<div class="post-metadata">
					<div class="post-num">Post #372</div>
					<div class="post-author">geos</div>
					<div class="post-datetime">
						30 Jul 2015, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>when I use newest files for F1 the router falls into loop like this:</p><div class="codebox"><pre><code>P-2812HNU-Fx # nand erase.chip

NAND erase.chip: device 0 whole chip
Erasing at 0x1700000 --  17% complete.
Erasing at 0x2e00000 --  36% complete.
Erasing at 0x4500000 --  54% complete.
Erasing at 0x5d60000 --  72% complete.
Erasing at 0x7460000 --  91% complete.
Erasing at 0x7fe0000 -- 100% complete.
OK
P-2812HNU-Fx # 
P-2812HNU-Fx # tftp 0x80700000 /tftpboot/dl.eko.one.pl/chaos_calmer/lantiq/uboot-lantiq-p2812hnufx_nandspl/openwrt-lantiq-p2812hnufx_nandspl-u-boot.img
ltq_phy: addr 0, link 0, speed 10, duplex 0
ltq_phy: addr 1, link 1, speed 1000, duplex 1
ltq_phy: addr 17, link 0, speed 100, duplex 0
ltq_phy: addr 19, link 0, speed 100, duplex 0
ltq_phy: addr 5, link 0, speed 10, duplex 0
Using ltq-eth device
TFTP from server 192.168.1.2; our IP address is 192.168.1.1
Filename &#039;/tftpboot/dl.eko.one.pl/chaos_calmer/lantiq/uboot-lantiq-p2812hnufx_nandspl/openwrt-lantiq-p2812hnufx_nandspl-u-boot.img&#039;.
Load address: 0x80700000
Loading: ###########
     2.5 MiB/s
done
Bytes transferred = 158227 (26a13 hex)
P-2812HNU-Fx # nand write 0x80700000 0x0 0x26a13

NAND write: device 0 offset 0x0, size 0x26a13
 158227 bytes written: OK
P-2812HNU-Fx # 
P-2812HNU-Fx # 
ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK

U-Boot SPL 2013.10-openwrt4 (Jul 21 2015 - 18:11:11)
SPL: initializing NAND flash

ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK

U-Boot SPL 2013.10-openwrt4 (Jul 21 2015 - 18:11:11)
SPL: initializing NAND flash

ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK

U-Boot SPL 2013.10-openwrt4 (Jul 21 2015 - 18:11:11)
SPL: initializing NAND flash

ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK

U-Boot SPL 2013.10-openwrt4 (Jul 21 2015 - 18:11:11)
SPL: initializing NAND flash

ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK</code></pre></div><p>when I use old files from dropbox everything is OK. I was told this is somehow known issue:<br /></p><div class="quotebox"><blockquote><p>&quot;The openwrt-lantiq-p2812hnufx_nandspl-u-boot.img indeed does not boot correctly. Is anyone working on fixing it? (Apparently conversion to TPL is needed) For F1 board it looks to me that it is just a matter of updating u-boot version in openwrt repository and adding a few patches on top of that.&quot;</p></blockquote></div><p>and I&#039;m wondering if this can attract attention of developers to fix it. I can use my F1 to test and verify when needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285699">
				<div class="post-metadata">
					<div class="post-num">Post #373</div>
					<div class="post-author">scapi</div>
					<div class="post-datetime">
						30 Jul 2015, 22:00					</div>
				</div>
				<div class="post-content content">
					<p>TPL images were temporary fix, there are some issues with these kind of images, they will be updated as soon as Daniel finds some time, unfortunately I cannot touch my U-Boot and test anything as LAN section on my unit is fried.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285727">
				<div class="post-metadata">
					<div class="post-num">Post #374</div>
					<div class="post-author">geos</div>
					<div class="post-datetime">
						30 Jul 2015, 23:45					</div>
				</div>
				<div class="post-content content">
					<p>thanks scapi!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286257">
				<div class="post-metadata">
					<div class="post-num">Post #375</div>
					<div class="post-author">geos</div>
					<div class="post-datetime">
						4 Aug 2015, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>does anyone experience any issues with DHCP on those routers? I noticed <a href="https://forum.openwrt.org/viewtopic.php?pid=257906#p257906">DGDodo post</a> on page 4 of this thread where he presents &quot;Sending discover...&quot; message for WAN port and says that it is dead. Has it been solved? I experience an issue with DHCP on F1, the router is having problems getting IP assigned. I described the issue <a href="https://forum.openwrt.org/viewtopic.php?id=58838">in this thread</a>, maybe someone could take a look and advise.</p><p>thank you<br />geos</p>											<p class="post-edited">(Last edited by <strong>geos</strong> on 4 Aug 2015, 20:38)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 15 of 23</div><nav><ul><li><a href="viewtopic.php%3Fid=53511&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=13.html">13</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=14.html">14</a></li><li class="pagination-current"><span>15</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=17.html">17</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=23.html">23</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>