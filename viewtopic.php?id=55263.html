<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Trendnet TEW-691GR is not accessible after first flash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p262319">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">anton.v.timin</div>
					<div class="post-datetime">
						21 Jan 2015, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>Good time of a day!<br />I have initiated flashing my TRENDnet TEW-691GR with<br /><a href="https://downloads.openwrt.org/barrier_breaker/14.07/ramips/rt3883/openwrt-ramips-rt3883-tew-691gr-squashfs-factory.bin">https://downloads.openwrt.org/barrier_b â€¦ actory.bin</a><br />and went walking... When I came home, it was not accessible!<br />When it boots, the WPS led is blinking (like it is booting), then it becomes always on. But it does not answer:<br />1. Tried to set my comp to &quot;DHCP client&quot; - no answer<br />2. Tried to set static IP with different masks and addresses on my comp (192.168.0.2 - 192.168.10.2) - no answer<br />3. It enters Failsafe mode!!! but only by led indication (after rebooting and pressing hard button, the WPS led begins blinking very fast until next reboot). With different IPs on my computer I get:<br />a. no message on my udp sniffer from boot<br />b. no connection through Putty and Windows Telnet</p><p>When I connect something to LAN(1-4) or WAN port, it&#039;s led is working, but it seems that the router doesn&#039;t see it&#039;s RJ45 ports :-)</p><p>Does anyone have any ideas how to bring it to life?</p><p>Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262416">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">anton.v.timin</div>
					<div class="post-datetime">
						22 Jan 2015, 11:14					</div>
				</div>
				<div class="post-content content">
					<p>It seems that nobody ever seen this... Ok, going to flash through JTAG )) God bless me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264765">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">erwan574</div>
					<div class="post-datetime">
						9 Feb 2015, 14:26					</div>
				</div>
				<div class="post-content content">
					<p>Ok. I did the exact same flash as you, I should have searched more the forum...</p><p>The image we flashed from the official release should maybe be renamed to warn potential &quot;users&quot;.</p><p>I will also be opening my 691GR to look for a way to reflash the internal storage.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264772">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">anton.v.timin</div>
					<div class="post-datetime">
						9 Feb 2015, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve opened my router and in another my thread you can find the photos of it!<br />One of the users told me, that there is no JTAG on my PCB and it seems that the only connection possible is UART. I&#039;ve already bought USB-TO-UART connector, but didn&#039;t have enough time to try...</p>											<p class="post-edited">(Last edited by <strong>anton.v.timin</strong> on 9 Feb 2015, 14:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294448">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">buzzic</div>
					<div class="post-datetime">
						3 Oct 2015, 12:22					</div>
				</div>
				<div class="post-content content">
					<p>Reporting the same issue with TEW-691GR and latest version of OpenWRT - Chaos Calmer 15.05<br />After flashing &quot;openwrt-15.05-ramips-rt3883-tew-691gr-squashfs-factory.bin&quot; and rebooting, device is alive, but all ports seem not visible by firmware, even LEDs show reaction to incoming packets.<br />Entering Failsafe mode doesn&#039;t help, device easily goes into this mode by pressing WPS button after power-on, but completely no network activity shown on ports.<br />Seems that CC 15.05 has the same unfixed bug with a net driver.<br />Any comments?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294474">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hostle19</div>
					<div class="post-datetime">
						3 Oct 2015, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>Its been a while since i have had to recover a router, but I believe the following methods should still work using safemode...</p><p>I am sure someone will correct me if I am wrong ... </p><p><strong>SAFEMODE RECOVERY</strong></p><p><strong>Recovery Using Ubuntu </strong></p><p>1. log into router using safemode </p><p>2. issue the mount root command .. </p><div class="codebox"><pre><code>mount_root</code></pre></div><p>3 . change to the tmp directory ..</p><div class="codebox"><pre><code> cd /tmp</code></pre></div><p>4. use scp to load a working bin to the tmp directory from your ubuntu machine ..<br /></p><div class="codebox"><pre><code> scp &lt;username&gt;@&lt;ip of ubuntu machine&gt;:/path/to/good.bin ./</code></pre></div><p>5. then use sysupgrade to write the good bin .. </p><div class="codebox"><pre><code>sysupgrade -n good.bin</code></pre></div><p><strong>Recover Using Windows with winscp</strong><br />** I use putty as a terminal **</p><p>1. log into router in safemode</p><p>2. mount root then set a password ..<br /></p><div class="codebox"><pre><code>mount_root
passwd
&lt;enter password and press enter, do this 2 times &gt;</code></pre></div><p>3. issue the following cmds .. </p><div class="codebox"><pre><code>touch jffs2 
touch root 
/etc/init.d/dropbear start</code></pre></div><p>4. start winscp and connect to router using the following settings ..<br /></p><div class="codebox"><pre><code>Protocol: SCP
Host: 192.168.1.1 
Port: 22 
User: root 
Password: &lt;your password&gt;</code></pre></div><p>5. use scp to click and drag the good.bin to the tmp directory of the router</p><p>6. from the safemood terminal cd to the tmp directory .. </p><div class="codebox"><pre><code> cd /tmp</code></pre></div><p>7. use sysupgrade to write the good.bin ..</p><div class="codebox"><pre><code>sysupgrade -n good.bin</code></pre></div><p>hope this helps <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>hostle19</strong> on 3 Oct 2015, 18:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294480">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">anton.v.timin</div>
					<div class="post-datetime">
						3 Oct 2015, 19:12					</div>
				</div>
				<div class="post-content content">
					<p>Dear hostle19,<br />thanks for the info, BUT even in failsafe mode this router doesn&#039;t see its LAN-ports ))) No way to connect to it except UART.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294570">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hostle19</div>
					<div class="post-datetime">
						4 Oct 2015, 05:49					</div>
				</div>
				<div class="post-content content">
					<p>my bad, i thought it was mentioned that these units were accessible via safe mode.</p>											<p class="post-edited">(Last edited by <strong>hostle19</strong> on 4 Oct 2015, 05:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294596">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">buzzic</div>
					<div class="post-datetime">
						4 Oct 2015, 13:32					</div>
				</div>
				<div class="post-content content">
					<p>No way <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Surprised that CC release still having this bug</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334284">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mkresin</div>
					<div class="post-datetime">
						13 Aug 2016, 08:30					</div>
				</div>
				<div class="post-content content">
					<p>I might have found the issue for the failing switch initialisation.</p><p>Since the TEW-691GR support is broken for a long time, there might be more issues. If possible attach a full bootlog.</p>											<p class="post-edited">(Last edited by <strong>mkresin</strong> on 20 Aug 2016, 13:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334757">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">n8b</div>
					<div class="post-datetime">
						16 Aug 2016, 21:59					</div>
				</div>
				<div class="post-content content">
					<p>Brilliant! The lan ports are alive <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Non-working lan ports fixed by @mkresin.</p><p>Goto <a href="http://lede-project.org">http://lede-project.org</a> and find latest snapshot.</p><p>The snapshot is commandline-only but just do:<br /># opkg update<br /># opkg install luci</p><p>The wireless configuration of luci isn&#039;t working atm. so again use commandline:</p><p><a href="http://www.lede-project.org/docs/uci.html">http://www.lede-project.org/docs/uci.html</a><br /><a href="http://www.lede-project.org/docs/uci_wireless.html">http://www.lede-project.org/docs/uci_wireless.html</a></p><p>I have no idea if the lan port fix will end up in OpenWRT also.</p><p>Non-working luci reported in <a href="http://github.com/openwrt/luci/issues/780">http://github.com/openwrt/luci/issues/780</a></p>											<p class="post-edited">(Last edited by <strong>n8b</strong> on 22 Aug 2016, 21:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335954">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">n8b</div>
					<div class="post-datetime">
						25 Aug 2016, 23:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>n8b wrote:</cite><blockquote><p>The wireless configuration of luci isn&#039;t working atm.</p></blockquote></div><p>Fixed in LEDE build r1442 <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>