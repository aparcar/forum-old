<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Installation of adm5120 on mg-11g(np28g)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p48917">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						22 May 2007, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>First of all, thank florian and Gabor Juhos for their great hacks.</p><p>I have a mg-11g,<br /><a href="http://www.tcbtech.co.jp/diho/Diho_050406_dl.html">http://www.tcbtech.co.jp/diho/Diho_050406_dl.html</a><br />(firmware)<br /><a href="http://www.tcbtech.co.jp/diho/fw/DIHO_MG-11G_V1.37_B0627.IMG">http://www.tcbtech.co.jp/diho/fw/DIHO_M â€¦ _B0627.IMG</a><br />this device has &quot;11f6-044d&quot; as device id. Np28g has &quot;11f6-040c&quot; and np28ghs has &quot;11f6-040e&quot;. So this device is same as np28g, I believe....</p><p>Anyway, I installed.<br />[Output from serial console]<br /></p><div class="codebox"><pre><code>Main Menu

1 - Load Firmware
2 - Load Program
3 - BIOS Setup
4 - Fdisk Utility
5 - Update Flash (Binary Mode)
6 - Update Firmware (Image Mode)
7 - Reboot System

Please select : 6

Update Firmware (Image Mode)

Mini TFTP Server 1.0 (IP : 192.168.168.1)
Usage (Windows 2000/XP) :
  tftp -i 192.168.168.1 put &lt;filename&gt;


Starting the TFTP download from IP (192.168.168.10)...
.......................................................
TFTP download completed...

Updating firmware, please wait ......
Update firmware successfully! Please reboot.

Update Firmware (Image Mode)

Mini TFTP Server 1.0 (IP : 192.168.168.1)
Usage (Windows 2000/XP) :
  tftp -i 192.168.168.1 put &lt;filename&gt;


Main Menu

1 - Load Firmware
2 - Load Program
3 - BIOS Setup
4 - Fdisk Utility
5 - Update Flash (Binary Mode)
6 - Update Firmware (Image Mode)
7 - Reboot System

Please select : 7

Reboot System



MyLoader version 2.31.0310

Probe Flash Device: 00400000 at bfc00000
Flash Device: Found 1 x16 devices at 0x0 in 16-bit mode
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1


Load Firmware

Loading Firmware . Done.

decompress kernel ... ok
Linux version 2.6.19.2 (owrt@localhost) (gcc version 4.1.2) #1 Wed May 23 04:42:59 JST 2007
ADM5120 revision 8, running at 175MHz
Boot loader is: MyLoader
Booted from   : NOR flash
Board is      : Compex NetPassage 28G
GETENV: envname is memsize
GETENV: returning 0x001000000
CPU revision is: 0001800b
ADM5120 board setup
Determined physical RAM map:
 memory: 00d47000 @ 002b9000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 4064
Kernel command line: console=ttyS0,115200 rootfs=jffs2,squashfs init=/etc/preinit
Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 64 (order: 6, 256 bytes)
start_kernel(): bug: interrupts were enabled early
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 13448k/13596k available (2219k kernel code, 148k reserved, 333k data, 124k init, 0k highmem)
Mount-cache hash table entries: 512
Checking for &#039;wait&#039; instruction...  available.
NET: Registered protocol family 16
adm5120: system has PCI BIOS
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
IP route cache hash table entries: 128 (order: -3, 512 bytes)
TCP established hash table entries: 512 (order: -1, 2048 bytes)
TCP bind hash table entries: 256 (order: -2, 1024 bytes)
TCP: Hash tables configured (established 512 bind 256)
TCP reno registered
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
yaffs May 23 2007 04:40:30 Installing.
io scheduler noop registered
io scheduler deadline registered (default)
Registered led device: adm5120:led
ttyS0 at I/O 0x12600000 (irq = 1) is a ADM5120
ttyS1 at I/O 0x12800000 (irq = 2) is a ADM5120
eth0: ADM5120 switch port0
eth1: ADM5120 switch port1
eth2: ADM5120 switch port2
eth3: ADM5120 switch port3
adm5120 : flash init : 0x1fc00000 0x00400000
adm5120 physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
Flash device: 0x400000 at 0x1fc00000
adm5120 : using MyLoader flash mapping
Searching for MyLoader partition table in adm5120 physically mapped flash at offset 0x10000
Creating 4 MTD partitions on &quot;adm5120 physically mapped flash&quot;:
0x00000000-0x00010000 : &quot;MyLoader&quot;
0x00010000-0x00020000 : &quot;Partition Table&quot;
0x00020000-0x00030000 : &quot;partition0&quot;
0x00030000-0x00400000 : &quot;partition1&quot;
block2mtd: version $Revision: 1.30 $
RB1xx nand
No NAND device found!!!
No NAND device found!!!
No NAND device found!!!
No NAND device found!!!
RB1xxx nand device not found
ip_conntrack version 2.4 (106 buckets, 848 max) - 240 bytes per conntrack
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Cannot open root device &quot;&lt;NULL&gt;&quot; or unknown-block(1,0)
Please append a correct &quot;root=&quot; boot option
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(1,0)</code></pre></div><p>It seems an installation went well.</p><p>I have two question.<br />1. The message &quot;RB1xxx nand device not found&quot; is put out from target/linux/adm5120-2.6/patches/500-Nand.patch<br />? I think this module is dependent on &quot;make menuconifg -&gt; Target Profile -&gt; RouterBoard RB1xx&quot; in a normal situation. <br />Is&#039;t it harmful to disable this module by &quot;make kernel_menuconfig&quot;?</p><p>2. I want to know whether the message &quot;Please append a correct &quot;root=&quot; boot option&quot; is specific to mg-11g or not.<br />Has anybody installed on np28g yet? Can you show me your boot log?</p><p>regards,</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49306">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						29 May 2007, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem on a wp54g: linux kernel boot but filesystem is not found. You find something? You now where to change the boot-options of the kernel? </p><p>My board has mylo bootloader, and i can only upload a new firmware. boh.. </p><p>thanks<br />ilBets</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49314">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						29 May 2007, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>We could modify linux/init/main.c to force a kernel option to find the filesystem:&nbsp; but witch kernel option we have to put?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49389">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						30 May 2007, 18:53					</div>
				</div>
				<div class="post-content content">
					<p>Seeking around, seem that the correct option is :&nbsp; rootfstype=squashfs root=/dev/mtdblock1&nbsp; (0?) or similar, to tell to the kernel to explicit mount partition 0 or 1. </p><p>The problem is that using mylo we can&#039;t give a kernel command line. There is a makefile where there are command line parameters.. you think that changing this we obtain something? </p><p>./target/linux/adm5120-2.6/config/default: CONFIG_CMDLINE=&quot;console=ttyS0,115200 rootfs=jffs2,squashfs init=/etc/preinit&quot;</p><p>I will try.. tell me if you find something working.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49396">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						30 May 2007, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi, ilBets.</p><p>I&#039;m happy for your response.</p><p>How about this?<br />&quot;make kernel_menuconfig&quot; -&gt; select &quot;Kernel hacking&quot; -&gt; select &quot;Default kernel command string&quot; -&gt; add &quot;root=/dev/mtdblock1 (0?)&quot; -&gt; &quot;OK&quot; -&gt; &quot;Exit&quot; -&gt; &quot;Exit&quot; -&gt; &quot;Yes&quot; -&gt; &quot;make target/linux-clean V=99&quot;</p><p>I&#039;m sorry that I&#039;m not skilled developer, so this may not be the right way. I wish sombody show us how.</p><p>regards,</p><p>zukky</p><p>P.S.<br />A while ago, enormous changes were added for adm5120. So I&#039;ll try it as it is first.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49398">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						30 May 2007, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi, ilBets.</p><p>This change may be fit for you.<br /><a href="https://dev.openwrt.org/changeset/7395">https://dev.openwrt.org/changeset/7395</a><br />&quot;make menuconfig&quot; -&gt; &quot;Target Images&quot; -&gt; &quot;ramdisk&quot;</p><p>and me, too......</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49431">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">malbon</div>
					<div class="post-datetime">
						31 May 2007, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,<br />Changing the mtdblock device for the root won&#039;t help. Partition0 is the lzma-loader which looks for a trx presently.<br />This trx file is kept in Partition1, but is currently not parsed. Work is being done on a better way to handle this on Compex platforms.</p><p>Please be patient, or hack $KERNEL_SOURCE/drivers/mtd/maps/adm5120_mtd.c</p><p>TTFN</p><p>Mike</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49455">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						31 May 2007, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi, Mike.<br />I&#039;m glad from your reply.</p><p>Oh, I see.<br />Maybe I can&#039;t understand at all, but I&#039;ll see the file for my learning.</p><p>I&#039;ll wait for the time. I am always ready to test.</p><p>Thanks,</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49955">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						7 Jun 2007, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>I tried to modify the file <br />$KERNEL_SOURCE/drivers/mtd/maps/adm5120_mtd.c<br />but without result <br />On each function in the file i tried to put a printk at the beginning and at the end of the code, i deleted all the .o files and i build a new kernel: <br />The kernel hangs in the same way, but none of the messages that i add are shown. Sure that the kernel is using this code to find data in the mtd partition?</p>											<p class="post-edited">(Last edited by <strong>ilBets</strong> on 7 Jun 2007, 19:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50319">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						12 Jun 2007, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to do it with a ramdisk, in this way: </p><p>First, selected the ramdisk option o target images. The result is that vmlinux.lzma contain also the filesystem, all in the same partiction. <br />Second, i used the following commands to pack the kernel, and to send it to the board: </p><p>#TRX: pacchetto compresso con loader, kernel, filesystem </p><p>/home/enrico/kamikaze/trunk/staging_dir_mipsel/bin/trx -o /home/enrico/kamikaze/trunk/bin/openwrt-adm5120-RAMDISK.trx -f /home/enrico/kamikaze/trunk/build_mipsel/linux-2.6-adm5120/loader.gz -f /home/enrico/kamikaze/trunk/build_mipsel/linux-2.6-adm5120/vmlinux.lzma -a 1024</p><p>#MKMYLOFW: pachetto bin per compex board </p><p>/home/enrico/kamikaze/trunk/staging_dir_mipsel/bin/mkmylofw -B WP54G -p0x20000:0x10000:ahp:0x80001000 -p0x30000:0 -b0x20000:0x10000:h:/home/enrico/kamikaze/trunk/build_mipsel/linux-2.6-adm5120/loader.gz -b0x30000:0::/home/enrico/kamikaze/trunk/bin/openwrt-adm5120-RAMDISK.trx /home/enrico/kamikaze/trunk/bin/openwrt-ramdisk-wp54g.bin </p><p>The loader start, but the kernel don&#039;t uncompress. </p><p>Some idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50484">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						14 Jun 2007, 16:42					</div>
				</div>
				<div class="post-content content">
					<p>Roaming in the code of the loader and adding a lot of tracing comments i understood that the problem is this: </p><p>(from anoter message...) <br />I know a problem: the size of the flash/gzipped image must be less than 0x1E6666, because the bootloader write/decompress exactly this quantity of bytes to the flash/sdram. If the size of the generated image greater than this value, you need to disable some features. Additionally, the mtd driver is don&#039;t work on Edimax boards, yet.</p><p>Also for me, the loader stop when the size of the kernel is over this, and uncompress only a part of it. </p><p>Someone has a patch? or simply i have to make a kernel+ramfs VERY LITTLE?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50493">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ilBets</div>
					<div class="post-datetime">
						14 Jun 2007, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Reduced the size of the kernel.. it works, but now i&#039;m having problems on seeing the ramdisk. <br />i&#039;mworking on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50562">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						15 Jun 2007, 16:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I installed after a interval.<br />(openwrt-adm5120-2.6-jffs2-np28g.bin, the check of mtd about nand is disabled by &#039;make kernel_menuconfig&#039;)<br /></p><div class="codebox"><pre><code>MyLoader version 2.31.0310

Probe Flash Device: 00400000 at bfc00000
Flash Device: Found 1 x16 devices at 0x0 in 16-bit mode
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1


Load Firmware

Loading Firmware . ?

LZMA loader for ADM5120, Copyright (C) 2007 OpenWrt.org

Looking for TRX header... found at 0xBFC30000, kernel in partition 0
decompressing kernel... done!
launching kernel...

mem_detect: checking for 16MB chip
mem_detect: 1st pattern at 0x200000 is 0x06
mem_detect: 1st pattern at 0x400000 is 0x54
mem_detect: 1st pattern at 0x800000 is 0xec
mem_detect: 16MB chip found
mem_detect: checking second bank
mem_detect: 32MB memory found
Linux version 2.6.21.5 (owrt@localhost) (gcc version 3.4.6 (OpenWrt-2.0)) #1 Sat Jun 16 06:46:14 JST 2007
ADM5120 revision 8, running at 175MHz
Boot loader is: MyLoader
Booted from   : NOR flash
Board is      : Compex NetPassage 28G
Memory size   : 32MB
CPU revision is: 0001800b
ADM5120 board setup
Determined physical RAM map:
 memory: 01d27000 @ 002d9000 (usable)
Wasting 23328 bytes for tracking 729 unused pages
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS0,115200 rootfs=jffs2,squashfs,yaffs2 init=/etc/preinit
Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 128 (order: 7, 512 bytes)
Using 87.500 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29564k/29852k available (2321k kernel code, 288k reserved, 351k data, 128k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
adm5120: system has PCI BIOS
registering PCI controller with io_map_base unset
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
PCI: mapping irq for device 0000:00:02.0, slot:2, pin:1, irq:15
PCI: mapping irq for device 0000:00:03.0, slot:3, pin:1, irq:16
PCI: mapping irq for device 0000:00:03.1, slot:3, pin:2, irq:16
PCI: mapping irq for device 0000:00:03.2, slot:3, pin:3, irq:16
Time: MIPS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
yaffs Jun 16 2007 06:44:02 Installing.
io scheduler noop registered
io scheduler deadline registered (default)
Registered led device: adm5120:led
ttyS0 at I/O 0x12600000 (irq = 9) is a ADM5120
ttyS1 at I/O 0x12800000 (irq = 10) is a ADM5120
eth0: ADM5120 switch port0
eth1: ADM5120 switch port1
eth2: ADM5120 switch port2
eth3: ADM5120 switch port3
adm5120 : flash init : 0x1fc00000 0x00400000
adm5120 physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
Flash device: 0x400000 at 0x1fc00000
adm5120 : using MyLoader flash mapping
Searching for MyLoader partition table in adm5120 physically mapped flash at offset 0x10000
Creating 4 MTD partitions on &quot;adm5120 physically mapped flash&quot;:
0x00000000-0x00010000 : &quot;MyLoader&quot;
0x00010000-0x00020000 : &quot;Partition Table&quot;
0x00020000-0x00030000 : &quot;partition0&quot;
0x00030000-0x00400000 : &quot;partition1&quot;
block2mtd: version $Revision: 1.30 $
nf_conntrack version 0.5.0 (233 buckets, 1864 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Cannot open root device &quot;&lt;NULL&gt;&quot; or unknown-block(0,0)
Please append a correct &quot;root=&quot; boot option
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div><p>Same end. But loading message shows<br />&#039;Looking for TRX header... found at 0xBFC30000, kernel in partition 0&#039;<br />, this means &quot;rootfs in partition 1&quot;, doesn&#039;t it?<br />Now is the time to add cmdline &quot;root=/dev/xxxxxx&quot; ?<br />What is the right value of &quot;xxxxxx&quot; ?</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52218">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						12 Jul 2007, 12:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi, everyone.</p><p>I&#039;m glad to tell you that Kamikaze(r7929) eventually runs on my mg-11g(np28g)!</p><p>I installed openwrt-adm5120-2.6-squashfs-np28g.bin<br /></p><div class="codebox"><pre><code>MyLoader version 2.31.0310

Probe Flash Device: 00400000 at bfc00000
Flash Device: Found 1 x16 devices at 0x0 in 16-bit mode
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1


Update Firmware (Image Mode)

Mini TFTP Server 1.0 (IP : 192.168.168.1)
Usage (Windows 2000/XP) :
  tftp -i 192.168.168.1 put &lt;filename&gt;


Starting the TFTP download from IP (192.168.168.10)...
..................................................
TFTP download completed...

Updating firmware, please wait ......
Update firmware successfully! Please reboot.

Update Firmware (Image Mode)

Mini TFTP Server 1.0 (IP : 192.168.168.1)
Usage (Windows 2000/XP) :
  tftp -i 192.168.168.1 put &lt;filename&gt;


Main Menu

1 - Load Firmware
2 - Load Program
3 - BIOS Setup
4 - Fdisk Utility
5 - Update Flash (Binary Mode)
6 - Update Firmware (Image Mode)
7 - Reboot System

Please select : 7

Reboot System



MyLoader version 2.31.0310

Probe Flash Device: 00400000 at bfc00000
Flash Device: Found 1 x16 devices at 0x0 in 16-bit mode
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1


Load Firmware

Loading Firmware . Done.



LZMA loader for ADM5120, Copyright (C) 2007 OpenWrt.org

Looking for TRX header... found at 0xBFC30000, kernel in partition 0
decompressing kernel... done!
launching kernel...

Linux version 2.6.22.1 (owrt@localhost) (gcc version 4.1.2) #1 Thu Jul 12 21:59:13 JST 2007
CPU revision is: 0001800b
mem_detect: disable buffers for both banks
mem_detect: checking for 16MB chip in 1st bank
mem_detect: chip size in 1st bank is 16MB
mem_detect: check presence of 2nd bank
mem_detect: write 0x55555555 to 0xA1FFFFFC
mem_detect: delay 10000 ns
mem_detect: pattern at 0xA1FFFFFC is 0x55555555
mem_detect: enable buffers for both banks
mem_detect: 2x16MB memory found
SoC      : ADM5120 revision 8, running at 175MHz
Bootdev  : NOR flash
Prom     : MyLoader
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS0,115200 rootfs=jffs2,squashfs,yaffs2 init=/etc/preinit
Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 128 (order: 7, 512 bytes)
Using 87.500 MHz high precision timer.
console handover: boot [early0] -&gt; real [ttyS0]
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29604k/32768k available (2267k kernel code, 3164k reserved, 360k data, 128k init, 0k highmem)
Mount-cache hash table entries: 512
adm5120: registered board &#039;Generic ADM5120 board&#039;
adm5120: registered board &#039;Cellvision CAS-630/630W&#039;
adm5120: registered board &#039;Cellvision CAS-670/670W&#039;
adm5120: registered board &#039;Cellvision CAS-700/700W&#039;
adm5120: registered board &#039;Cellvision CAS-771/771W&#039;
adm5120: registered board &#039;Cellvision CAS-790&#039;
adm5120: registered board &#039;Cellvision CAS-861/861W&#039;
adm5120: registered board &#039;Compex NetPassage 27G&#039;
adm5120: registered board &#039;Compex NetPassage 28G&#039;
adm5120: registered board &#039;Compex WP54AG&#039;
adm5120: registered board &#039;Compex WP54G&#039;
adm5120: registered board &#039;Compex WP54G-WRT&#039;
adm5120: registered board &#039;Compex WPP54AG&#039;
adm5120: registered board &#039;Compex WPP54G&#039;
adm5120: registered board &#039;Edimax BR-6104K&#039;
adm5120: registered board &#039;Infineon EASY-83000&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 111&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 112&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 133&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 133C&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 153&#039;
adm5120: registered board &#039;ZyXEL Prestige 334WT&#039;
adm5120: registered board &#039;ZyXEL Prestige 335/335WT&#039;
NET: Registered protocol family 16
adm5120: setting up board &#039;Compex NetPassage 28G&#039;
adm5120: system has PCI BIOS
registering PCI controller with io_map_base unset
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
PCI: mapping irq for 0000:00:02.0 pin:1, irq:14
PCI: mapping irq for 0000:00:03.0 pin:1, irq:14
PCI: mapping irq for 0000:00:03.1 pin:2, irq:15
PCI: mapping irq for 0000:00:03.2 pin:3, irq:16
Time: MIPS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  c 2001-2006 Red Hat, Inc.
yaffs Jul 12 2007 21:56:41 Installing.
io scheduler noop registered
io scheduler deadline registered (default)
ttyS0 at I/O 0x12600000 (irq = 9) is a ADM5120
ttyS1 at I/O 0x12800000 (irq = 10) is a ADM5120
eth0: ADM5120 switch port0
eth1: ADM5120 switch port1
eth2: ADM5120 switch port2
adm5120-flash.0: probing at 0x1FC00000, size:4096KiB, width:16 bits
adm5120-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
adm5120-flash.0: found at 0x1FC00000, size:4096KiB, width:16 bits
adm5120-flash.0: parsing &quot;cmdlinepart&quot; partitions
adm5120-flash.0: parsing &quot;MyLoader&quot; partitions
adm5120-flash.0: searching for MyLoader partition table at offset 0x10000
4 MyLoader partitions found on MTD device adm5120-flash.0
adm5120-flash.0: adding &quot;MyLoader&quot; partitions
Creating 4 MTD partitions on &quot;adm5120-flash.0&quot;:
0x00000000-0x00010000 : &quot;MyLoader&quot;
0x00010000-0x00020000 : &quot;Partition Table&quot;
0x00020000-0x00030000 : &quot;partition0&quot;
0x00030000-0x00400000 : &quot;partition1&quot;
block2mtd: version $Revision: 1.30 $
RB1xx nand
No NAND device found!!!
No NAND device found!!!
No NAND device found!!!
No NAND device found!!!
RB1xxx nand device not found
GPIO LEDs driver registered
Registered led device: gpio0
Registered led device: gpio1
Registered led device: gpio2
Registered led device: gpio3
Registered led device: gpio4
gpio-led gpio-led.5: gpio_request failed
gpio-led: probe of gpio-led.5 failed with error -16
Registered led device: gpio6
Registered led device: gpio7
Registered led device: port0led0
Registered led device: port0led1
Registered led device: port0led2
Registered led device: port1led0
Registered led device: port1led1
Registered led device: port1led2
Registered led device: port2led0
Registered led device: port2led1
Registered led device: port2led2
Registered led device: port3led0
Registered led device: port3led1
Registered led device: port3led2
Registered led device: port4led0
Registered led device: port4led1
Registered led device: port4led2
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
trxsplit: searching TRX header in &#039;MyLoader&#039;
trxsplit: no TRX header found
trxsplit: searching TRX header in &#039;Partition Table&#039;
trxsplit: no TRX header found
trxsplit: searching TRX header in &#039;partition0&#039;
trxsplit: no TRX header found
trxsplit: searching TRX header in &#039;partition1&#039;
trxsplit: TRX header found at 0x0
trxsplit: creating TRX partitions in &#039;partition1&#039;
Creating 2 MTD partitions on &quot;partition1&quot;:
0x0000001c-0x000d0800 : &quot;trx_kernel&quot;
mtd: partition &quot;trx_kernel&quot; doesn&#039;t start on an erase block boundary -- force read-only
0x000d0800-0x003d0000 : &quot;trx_rootfs&quot;
mtd: partition &quot;trx_rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only
trxsplit: set &#039;trx_rootfs&#039; to be root filesystem
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 128k freed
Warning: unable to open an initial console.
Algorithmics/MIPS FPU Emulator v1.5
- preinit -
- init -
init started:  BusyBox v1.4.2 (2007-07-09 22:22:46 JST) multi-call binary

Please press Enter to activate this console. device eth0 entered promiscuous mode
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
PPP generic driver version 2.4.2



BusyBox v1.4.2 (2007-07-09 22:22:46 JST) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r7929) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/#
root@OpenWrt:/#
root@OpenWrt:/#
root@OpenWrt:/#
root@OpenWrt:/# ifconfig
br-lan    Link encap:Ethernet  HWaddr 00:41:44:4D:51:20
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:319 (319.0 B)

eth0      Link encap:Ethernet  HWaddr 00:41:44:4D:51:20
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:319 (319.0 B)
          Interrupt:17

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@OpenWrt:/# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

eth2      no wireless extensions.

br-lan    no wireless extensions.

root@OpenWrt:/# lsmod
Module                  Size  Used by    Not tainted
ppp_async               9664  0
ppp_generic            23456  1 ppp_async
slhc                    5408  1 ppp_generic
crc_ccitt               1024  1 ppp_async
root@OpenWrt:/#</code></pre></div><p>G, Great.....</p><p>Now is the time to get Compex NP28G.<br />This device is very useful potentially. This has 4 ethernet port which is configured by vlan, 4 usb port (!) and Of cource, wireless (Atheros b/g).</p><p>Thank you Developers, especially juhosg and florian for your great works. It must make the World a better place to live....</p><p>BTW, Do you have anything to make me test?</p><p>Best regards,</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52259">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						13 Jul 2007, 06:04					</div>
				</div>
				<div class="post-content content">
					<p>A little more information.</p><p>Added madwifi and usb modules.<br /></p><div class="codebox"><pre><code>.....
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
wlan: 0.8.4.2 (svn r2568)
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, REGOPS_FUNC)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (svn r2568)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: 0.9.4.5 (svn r2568)
PCI: Enabling device 0000:00:02.0 (0000 -&gt; 0002)
ath_pci: switching rfkill capability off
ath_pci: switching per-packet transmit power control off
wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
wifi0: turboG rates: 6Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
wifi0: H/W encryption support: WEP AES AES_CCM TKIP
wifi0: mac 7.9 phy 4.5 radio 5.6
wifi0: Use hw queue 1 for WME_AC_BE traffic
wifi0: Use hw queue 0 for WME_AC_BK traffic
wifi0: Use hw queue 2 for WME_AC_VI traffic
wifi0: Use hw queue 3 for WME_AC_VO traffic
wifi0: Use hw queue 8 for CAB traffic
wifi0: Use hw queue 9 for beacons
wifi0: Atheros 5212: mem=0x11400000, irq=14
PCI: Enabling device 0000:00:03.2 (0000 -&gt; 0002)
ehci_hcd 0000:00:03.2: EHCI Host Controller
ehci_hcd 0000:00:03.2: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:03.2: irq 16, io mem 0x11410000
ehci_hcd 0000:00:03.2: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 4 ports detected



BusyBox v1.4.2 (2007-07-09 22:22:46 JST) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r7935) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# lsmod
Module                  Size  Used by    Tainted: P
ehci_hcd               26096  0
ohci_hcd               14032  0
ath_pci                94256  0
wlan_xauth               480  0
wlan_wep                4000  0
wlan_tkip               9664  0
wlan_ccmp               5408  0
wlan_acl                1888  0
ath_rate_minstrel       7808  1
ath_hal               271168  3 ath_pci,ath_rate_minstrel
wlan_scan_sta           8736  0
wlan_scan_ap            2624  0
wlan                  146400  10 ath_pci,wlan_xauth,wlan_wep,wlan_tkip,wlan_ccmp,wlan_acl,ath_rate_minstrel,wlan_scan_sta,wlan_scan_ap</code></pre></div><p>Wireless setting<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

eth2      no wireless extensions.

br-lan    no wireless extensions.

wifi0     no wireless extensions.

root@OpenWrt:/# wlanconfig ath0 create wlandev wifi0 wlanmode ap
ath0
root@OpenWrt:/# iwconfig ath0 essid Openwrt-Np28g
root@OpenWrt:/# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

eth2      no wireless extensions.

br-lan    no wireless extensions.

wifi0     no wireless extensions.

ath0      IEEE 802.11b  ESSID:&quot;Openwrt-Np28g&quot;  Nickname:&quot;&quot;
          Mode:Master  Channel:0  Access Point: Not-Associated
          Bit Rate:0 kb/s   Tx-Power:0 dBm   Sensitivity=1/1
          Retry:off   RTS thr:off   Fragment thr:off
          Encryption key:off
          Power Management:off
          Link Quality=0/70  Signal level=-256 dBm  Noise level=-256 dBm
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

root@OpenWrt:/#</code></pre></div><p>It looks like ath0 works as AP. But It can&#039;t find from wireless client (PC/atheros chip). It have not worked yet.</p><p>And file system is readonly at present.</p><p>regards,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52260">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						13 Jul 2007, 06:16					</div>
				</div>
				<div class="post-content content">
					<p>I tried to install jffs2 firmware.<br /></p><div class="codebox"><pre><code>MyLoader version 2.31.0310

Probe Flash Device: 00400000 at bfc00000
Flash Device: Found 1 x16 devices at 0x0 in 16-bit mode
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1


Update Firmware (Image Mode)

Mini TFTP Server 1.0 (IP : 192.168.168.1)
Usage (Windows 2000/XP) :
  tftp -i 192.168.168.1 put &lt;filename&gt;


Starting the TFTP download from IP (192.168.168.10)...
.........................................................................
TFTP download completed...

Updating firmware, please wait ......
Update firmware successfully! Please reboot.

Update Firmware (Image Mode)

Mini TFTP Server 1.0 (IP : 192.168.168.1)
Usage (Windows 2000/XP) :
  tftp -i 192.168.168.1 put &lt;filename&gt;


Main Menu

1 - Load Firmware
2 - Load Program
3 - BIOS Setup
4 - Fdisk Utility
5 - Update Flash (Binary Mode)
6 - Update Firmware (Image Mode)
7 - Reboot System

Please select : 7

Reboot System



MyLoader version 2.31.0310

Probe Flash Device: 00400000 at bfc00000
Flash Device: Found 1 x16 devices at 0x0 in 16-bit mode
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1


Load Firmware

Loading Firmware . Done.



LZMA loader for ADM5120, Copyright (C) 2007 OpenWrt.org

Looking for TRX header... found at 0xBFC30000, kernel in partition 0
decompressing kernel... done!
launching kernel...

Linux version 2.6.22.1 (owrt@localhost) (gcc version 4.1.2) #2 Fri Jul 13 04:14:35 JST 2007
CPU revision is: 0001800b
mem_detect: disable buffers for both banks
mem_detect: checking for 16MB chip in 1st bank
mem_detect: chip size in 1st bank is 16MB
mem_detect: check presence of 2nd bank
mem_detect: write 0x55555555 to 0xA1FFFFFC
mem_detect: delay 10000 ns
mem_detect: pattern at 0xA1FFFFFC is 0x55555555
mem_detect: enable buffers for both banks
mem_detect: 2x16MB memory found
SoC      : ADM5120 revision 8, running at 175MHz
Bootdev  : NOR flash
Prom     : MyLoader
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS0,115200 rootfs=jffs2,squashfs,yaffs2 init=/etc/preinit
Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 128 (order: 7, 512 bytes)
Using 87.500 MHz high precision timer.
console handover: boot [early0] -&gt; real [ttyS0]
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29604k/32768k available (2267k kernel code, 3164k reserved, 360k data, 128k init, 0k highmem)
Mount-cache hash table entries: 512
adm5120: registered board &#039;Generic ADM5120 board&#039;
adm5120: registered board &#039;Cellvision CAS-630/630W&#039;
adm5120: registered board &#039;Cellvision CAS-670/670W&#039;
adm5120: registered board &#039;Cellvision CAS-700/700W&#039;
adm5120: registered board &#039;Cellvision CAS-771/771W&#039;
adm5120: registered board &#039;Cellvision CAS-790&#039;
adm5120: registered board &#039;Cellvision CAS-861/861W&#039;
adm5120: registered board &#039;Compex NetPassage 27G&#039;
adm5120: registered board &#039;Compex NetPassage 28G&#039;
adm5120: registered board &#039;Compex WP54AG&#039;
adm5120: registered board &#039;Compex WP54G&#039;
adm5120: registered board &#039;Compex WP54G-WRT&#039;
adm5120: registered board &#039;Compex WPP54AG&#039;
adm5120: registered board &#039;Compex WPP54G&#039;
adm5120: registered board &#039;Edimax BR-6104K&#039;
adm5120: registered board &#039;Infineon EASY-83000&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 111&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 112&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 133&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 133C&#039;
adm5120: registered board &#039;Mikrotik RouterBOARD 153&#039;
adm5120: registered board &#039;ZyXEL Prestige 334WT&#039;
adm5120: registered board &#039;ZyXEL Prestige 335/335WT&#039;
NET: Registered protocol family 16
adm5120: setting up board &#039;Compex NetPassage 28G&#039;
adm5120: system has PCI BIOS
registering PCI controller with io_map_base unset
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
PCI: mapping irq for 0000:00:02.0 pin:1, irq:14
PCI: mapping irq for 0000:00:03.0 pin:1, irq:14
PCI: mapping irq for 0000:00:03.1 pin:2, irq:15
PCI: mapping irq for 0000:00:03.2 pin:3, irq:16
Time: MIPS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  c 2001-2006 Red Hat, Inc.
yaffs Jul 12 2007 21:56:41 Installing.
io scheduler noop registered
io scheduler deadline registered (default)
ttyS0 at I/O 0x12600000 (irq = 9) is a ADM5120
ttyS1 at I/O 0x12800000 (irq = 10) is a ADM5120
eth0: ADM5120 switch port0
eth1: ADM5120 switch port1
eth2: ADM5120 switch port2
adm5120-flash.0: probing at 0x1FC00000, size:4096KiB, width:16 bits
adm5120-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
adm5120-flash.0: found at 0x1FC00000, size:4096KiB, width:16 bits
adm5120-flash.0: parsing &quot;cmdlinepart&quot; partitions
adm5120-flash.0: parsing &quot;MyLoader&quot; partitions
adm5120-flash.0: searching for MyLoader partition table at offset 0x10000
4 MyLoader partitions found on MTD device adm5120-flash.0
adm5120-flash.0: adding &quot;MyLoader&quot; partitions
Creating 4 MTD partitions on &quot;adm5120-flash.0&quot;:
0x00000000-0x00010000 : &quot;MyLoader&quot;
0x00010000-0x00020000 : &quot;Partition Table&quot;
0x00020000-0x00030000 : &quot;partition0&quot;
0x00030000-0x00400000 : &quot;partition1&quot;
block2mtd: version $Revision: 1.30 $
RB1xx nand
No NAND device found!!!
No NAND device found!!!
No NAND device found!!!
No NAND device found!!!
RB1xxx nand device not found
GPIO LEDs driver registered
Registered led device: gpio0
Registered led device: gpio1
Registered led device: gpio2
Registered led device: gpio3
Registered led device: gpio4
gpio-led gpio-led.5: gpio_request failed
gpio-led: probe of gpio-led.5 failed with error -16
Registered led device: gpio6
Registered led device: gpio7
Registered led device: port0led0
Registered led device: port0led1
Registered led device: port0led2
Registered led device: port1led0
Registered led device: port1led1
Registered led device: port1led2
Registered led device: port2led0
Registered led device: port2led1
Registered led device: port2led2
Registered led device: port3led0
Registered led device: port3led1
Registered led device: port3led2
Registered led device: port4led0
Registered led device: port4led1
Registered led device: port4led2
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
trxsplit: searching TRX header in &#039;MyLoader&#039;
trxsplit: no TRX header found
trxsplit: searching TRX header in &#039;Partition Table&#039;
trxsplit: no TRX header found
trxsplit: searching TRX header in &#039;partition0&#039;
trxsplit: no TRX header found
trxsplit: searching TRX header in &#039;partition1&#039;
trxsplit: TRX header found at 0x0
trxsplit: creating TRX partitions in &#039;partition1&#039;
Creating 2 MTD partitions on &quot;partition1&quot;:
0x0000001c-0x000e0000 : &quot;trx_kernel&quot;
mtd: partition &quot;trx_kernel&quot; doesn&#039;t start on an erase block boundary -- force read-only
0x000e0000-0x003d0000 : &quot;trx_rootfs&quot;
trxsplit: set &#039;trx_rootfs&#039; to be root filesystem
yaffs: dev is 32505861 name is &quot;mtdblock5&quot;
yaffs: passed flags &quot;&quot;
yaffs: Attempting MTD mount on 31.5, &quot;mtdblock5&quot;
yaffs: MTD device is not NAND it&#039;s type 3
yaffs: dev is 32505861 name is &quot;mtdblock5&quot;
yaffs: passed flags &quot;&quot;
yaffs: Attempting MTD mount on 31.5, &quot;mtdblock5&quot;
yaffs: MTD device is not NAND it&#039;s type 3
List of all partitions:
1f00         64 mtdblock0 (driver?)
1f01         64 mtdblock1 (driver?)
1f02         64 mtdblock2 (driver?)
1f03       3904 mtdblock3 (driver?)
1f04        895 mtdblock4 (driver?)
1f05       3008 mtdblock5 (driver?)
No filesystem could mount root, tried:  squashfs yaffs yaffs2
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,5)</code></pre></div><p>It has not booted yet.<br />But let&#039;s take it easy! ;-)</p><p>regards,</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54055">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">DD7</div>
					<div class="post-datetime">
						17 Aug 2007, 04:41					</div>
				</div>
				<div class="post-content content">
					<p>From the msg i get from the Tech support. Only Myloder V2.4 above is supporting OpenWRT. Some Version of board might encounter the Kernel panic after you using the latest my loader all the problem seems disappear. </p><p>I try with 2 board (WP54 and Wp18). 1 with loader v2.3 and another one with 2.4 </p><p>2.4 loader seem work find for me. </p><p>Just a simple information to share with u all. </p><p>hope will help</p>											<p class="post-edited">(Last edited by <strong>DD7</strong> on 20 Aug 2007, 04:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54219">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						20 Aug 2007, 07:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi, DD7.</p><p>Thank you for your valuable information.<br />I asked compex tech support of myloader 2.4 above for np28g. Unfortunately, they don&#039;t provide it.<br />They support wp54, wp18 and wp188 only.</p><p>I&#039;d better install cfe.bin?<br /><a href="http://wiki.openwrt.org/MyLoader?highlight=%28myloader%29">http://wiki.openwrt.org/MyLoader?highli â€¦ yloader%29</a></p><p>regards,</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68233">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">XIONG</div>
					<div class="post-datetime">
						14 May 2008, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>Now wp18 not provided,</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>