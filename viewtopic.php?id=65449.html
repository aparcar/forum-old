<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cannot get python virtualenv to work</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p327952">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pycos86</div>
					<div class="post-datetime">
						10 Jun 2016, 19:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I am trying to setup a virtualenv, on a USB stick which has one ext4 partition.<br />I haven&#039;t actually installed virtualenv (didn&#039;t run setup.py), I have just cloned the source code to the stick which is then mounted at /mnt/SEBKEY/ on the router. When I try to run &quot;python virtualenv.py /mnt/SEBKEY/env&quot; I get the following error : </p><div class="codebox"><pre><code>New python executable in /mnt/SEBKEY/env/bin/python
Installing setuptools, pip, wheel...
  Complete output from command /mnt/SEBKEY/env/bin/python - setuptools pip wheel:
  Collecting setuptools
  Using cached setuptools-23.0.0-py2.py3-none-any.whl
Collecting pip
----------------------------------------
...Installing setuptools, pip, wheel...done.
Traceback (most recent call last):
  File &quot;virtualenv.py&quot;, line 2316, in &lt;module&gt;
    main()
  File &quot;virtualenv.py&quot;, line 708, in main
    symlink=options.symlink)
  File &quot;virtualenv.py&quot;, line 941, in create_environment
    download=download,
  File &quot;virtualenv.py&quot;, line 897, in install_wheel
    call_subprocess(cmd, show_stdout=False, extra_env=env, stdin=SCRIPT)
  File &quot;virtualenv.py&quot;, line 792, in call_subprocess
    % (cmd_desc, proc.returncode))
OSError: Command /mnt/SEBKEY/env/bin/python - setuptools pip wheel failed with error code -9</code></pre></div><p>The strange thing is that the exact same operation used to work 2 months ago. It was a different USB stick and probably different versions of the code, or libs, but unfortunately I cannot recover these...<br />Couldn&#039;t get any answer from google, and couldn&#039;t figure out what this -9 return code means. Any pointers would be greatly appreciated <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>PS : <br />Python 2.7.9<br />Chaos Calmer, r46996</p>											<p class="post-edited">(Last edited by <strong>pycos86</strong> on 10 Jun 2016, 19:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330477">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pycos86</div>
					<div class="post-datetime">
						4 Jul 2016, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>Ok I found a workaround. The only reason I needed <strong>virtualenv</strong> is to be able to install packages on my USB key instead of the standard Python directory &quot;site-packages&quot;. So through <strong>opkg</strong>, I installed the package <strong>python-pip</strong>, and then when installing new packages with <strong>pip</strong>, I explicitly tell were to install them with the <strong>--target</strong> switch. Example :</p><div class="codebox"><pre><code>pip install --target=/mnt/MYKEY/site-packages mypackage</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>