<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Request: NVRAM dumps from Broadcom hardware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p35928">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						23 Oct 2006, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody.</p><p>We&#039;re working on a rewrite of the diag driver for the upcoming White Russian RC6 release and we&#039;d like to make sure that the hardware detection is working properly.<br />Please grab some nvram dumps from Broadcom hardware and send them to <a href="mailto:nvramdumps@nbd.name">nvramdumps@nbd.name</a>. <br />Remember to include important information like the exact model name and version of your hardware, and (if it is not well supported by our current releases) information about the GPIO pins of your hardware (buttons and led).<br />If you need to figure out the GPIO mapping manually, please use the &#039;gpio&#039; utility from <a href="http://downloads.openwrt.org/people/nbd/tmp/gpio">http://downloads.openwrt.org/people/nbd/tmp/gpio</a> (binary) or <a href="http://downloads.openwrt.org/people/nbd/tmp/gpio.c">http://downloads.openwrt.org/people/nbd/tmp/gpio.c</a> (source).<br />I will keep a list of all the models that I have dumps for in this thread.</p><p>Thanks</p><br /><p><strong>Update: I have nvram dumps for the following routers:</strong><br />- WL-HDD<br />- WL-500g<br />- WL-500g Deluxe<br />- WL-500g Premium<br />- USR5461<br />- WAP54G v3<br />- WRT54G (v2 and later)<br />- WRT54GS (all)<br />- WRTSL54GS<br />- WRT54GL v1.1<br />- WHR-G54S<br />- WHR-HP-G54<br />- WHR2-A54G54<br />- SE505 V2</p>											<p class="post-edited">(Last edited by <strong>nbd</strong> on 1 Nov 2006, 18:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36127">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">av1shay</div>
					<div class="post-datetime">
						27 Oct 2006, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>hi <br />how do i get the requested info ?<br />downloaded ,chmod +x it, &amp; it asks <br />./gpio &lt;poll | enable | disable&gt; &lt;pin&gt;</p><p>now what ?<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36146">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">collen</div>
					<div class="post-datetime">
						27 Oct 2006, 18:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>av1shay wrote:</cite><blockquote><p>hi <br />how do i get the requested info ?<br />downloaded ,chmod +x it, &amp; it asks <br />./gpio &lt;poll | enable | disable&gt; &lt;pin&gt;</p><p>now what ?<br />thanks</p></blockquote></div><p>simple try something like:</p><p>./gpio enable 06<br />./gpio disable 12<br />./gpio poll 01</p><p>on my wap54g <br />gpio 06 = yellow ses led (linksys button)<br />gpio 12 = white ses led (linksys button)</p><p>so ./gpio disable 12, makes the linksys logo turn white!!</p><p>this is just an example....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36148">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						27 Oct 2006, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>collen: Does your WAP54G have a diag led? Or can you change the behavior of the power led? What version is it? v2 or v3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36153">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">collen</div>
					<div class="post-datetime">
						27 Oct 2006, 19:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>collen: Does your WAP54G have a diag led? Or can you change the behavior of the power led? What version is it? v2 or v3?</p></blockquote></div><p>What&#039;s a &#039;diag&#039; led ??</p><p>mine has 3 led&#039;s and a linksys button/led<br />- power<br />- lan<br />- wifi</p><p>and a linksys/cisco logo for SES setup..</p><p>it&#039;s a v3 eu</p><p>i can change the behavior of this led/button, the power led i can&#039;t</p><p>06 = amber<br />12 = white<br />14 = read button pressed<br />0 = reset button on the back</p><p>that&#039;s all i got with the gpio util...</p><p>Cheers. Have fun</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36154">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						27 Oct 2006, 19:08					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the info, that&#039;s all I need.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36707">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Ivoshiee</div>
					<div class="post-datetime">
						7 Nov 2006, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>The WE800G diag results:<br /><a href="https://dev.openwrt.org/ticket/503">https://dev.openwrt.org/ticket/503</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36708">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						7 Nov 2006, 13:18					</div>
				</div>
				<div class="post-content content">
					<p>Try the rc6 image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36827">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Ivoshiee</div>
					<div class="post-datetime">
						8 Nov 2006, 23:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mbm wrote:</cite><blockquote><p>Try the rc6 image.</p></blockquote></div><p>Tried, no change.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36828">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						8 Nov 2006, 23:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ivoshiee wrote:</cite><blockquote><div class="quotebox"><cite>mbm wrote:</cite><blockquote><p>Try the rc6 image.</p></blockquote></div><p>Tried, no change.</p></blockquote></div><p>Everything in the source matches the information provided in 503, so I need more information than &quot;it doesn&#039;t work&quot;. Is your nvram still the same as shown in the ticket?</p><p>The diag code is checking for a few specific nvram values:<br /></p><div class="codebox"><pre><code>GemtekPmonVer=9
et0phyaddr=30
ModelId=WE800G</code></pre></div><p>That should result in /proc/diag/model showing &quot;Motorola WE800G&quot;.</p><p>Questions:<br />1&gt; Does diag correctly identify the model?<br />2&gt; If so, are any of the buttons/leds working correctly?</p><p>If diag doesn&#039;t report the correct model, then there&#039;s an issue with nvram. If the buttons and leds aren&#039;t mapped correctly then it&#039;s an issue with diag and the pins given in the ticket are wrong.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36848">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Ivoshiee</div>
					<div class="post-datetime">
						9 Nov 2006, 09:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mbm wrote:</cite><blockquote><div class="quotebox"><cite>Ivoshiee wrote:</cite><blockquote><div class="quotebox"><cite>mbm wrote:</cite><blockquote><p>Try the rc6 image.</p></blockquote></div><p>Tried, no change.</p></blockquote></div><p>Everything in the source matches the information provided in 503, so I need more information than &quot;it doesn&#039;t work&quot;. Is your nvram still the same as shown in the ticket?</p><p>The diag code is checking for a few specific nvram values:<br /></p><div class="codebox"><pre><code>GemtekPmonVer=9
et0phyaddr=30
ModelId=WE800G</code></pre></div></blockquote></div><p>These NVRAM variables are the same:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# nvram get GemtekPmonVer
9
root@OpenWrt:~# nvram get et0phyaddr   
30
root@OpenWrt:~# nvram get ModelId   
WE800G
root@OpenWrt:~#</code></pre></div><div class="quotebox"><blockquote><p>That should result in /proc/diag/model showing &quot;Motorola WE800G&quot;.</p></blockquote></div><p>The diag code will detect the wrong model:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# cat /proc/diag/model 
Linksys WAP54G V1
root@OpenWrt:~#</code></pre></div><div class="quotebox"><blockquote><p>Questions:<br />1&gt; Does diag correctly identify the model?</p></blockquote></div><p>No.</p><div class="quotebox"><blockquote><p>2&gt; If so, are any of the buttons/leds working correctly?</p></blockquote></div><p>Partially. Reset button is not working, but LEDs are a bit different - device LED is amber and network traffic will flash it red.</p><div class="quotebox"><blockquote><p>If diag doesn&#039;t report the correct model, then there&#039;s an issue with nvram. If the buttons and leds aren&#039;t mapped correctly then it&#039;s an issue with diag and the pins given in the ticket are wrong.</p></blockquote></div><p>NVRAM seems to be correct, but the diag code will fail and thus the LEDs/buttons get messed up as well.</p>											<p class="post-edited">(Last edited by <strong>Ivoshiee</strong> on 9 Nov 2006, 09:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37166">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						14 Nov 2006, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>Please try the new image from <a href="http://downloads.openwrt.org/people/nbd/diagtest/">http://downloads.openwrt.org/people/nbd/diagtest/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37191">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Timo Beil</div>
					<div class="post-datetime">
						14 Nov 2006, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi nbd</p><p>I tested both the official RC6 and today&#039;s built on a Siemens SE 505 V2. </p><p>What I get is:</p><p>* &quot;WWW&quot;-LED works as WLAN LED (na also!)</p><p>* Jan&nbsp; 1 00:00:07 (none) kern.warn kernel: diag: Router model not detected.</p><p>* /etc/hotplug.d/button and /proc/diag/led don&#039;t exist </p><p>Cheers<br />/T</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37192">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						14 Nov 2006, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>Send me an nvram dump please, along with descriptions of how the GPIO pins are mapped</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37193">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Timo Beil</div>
					<div class="post-datetime">
						15 Nov 2006, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>SE 505 V2 LEDs:</p><div class="codebox"><pre><code>POWER on: gpio disable  5,  POWER off: gpio enable 5          
WWW   on: gpio disable  0,  WWW   off: gpio enable  0               
WLAN  on: gpio disable  3,  WLAN  off: gpio enable  3</code></pre></div><p>Here&#039;s the NVRAM listing. There&#039;s been dd-wrt on the box, so there are many obsolete entries. I&#039;ll delete this listing later on. </p><p>Edit: I won&#039;t be back before Thursday for testing...</p><p>&nbsp; <br /></p><div class="codebox"><pre><code>wl_radius_port=1812
wl_mac_deny=
filter_dport_grp3=
wl_wds2_ospf=
filter_dport_grp4=
wl0_wds10_ospf=
filter_dport_grp5=
filter=on
wan_unit=0
NC_Verbosity=0
filter_dport_grp6=
sv_localdns=0.0.0.0
os_ram_addr=80001000
wl0_net_mode=mixed
chilli_interface=wan
altdns1=
wl_br1_enable=0
filter_dport_grp7=
altdns2=
wl_wds9_netmask=
wl0_frameburst=off
filter_dport_grp8=
wds_watchdog_interval_sec=1000
altdns3=
filter_dport_grp9=
wan_device=vlan1
zebra_log=0
ddns_username_2=
log_ipaddr=0
chilli_enable=0
boardrev=0x10
il0macaddr=00:90:96:xx:xx:xx
wl0_wds3_desc=
wl0_wds7_ospf=
ppp_idletime=5
ppp_passwd=
NC_SplashURL=http://externalsite
zebra_copt=0
wl_wds3_enable=0
snmpd_rocommunity=public
ddns_enable=0
et0macaddr=00:90:96:xx:xx:xx
wl_radmacpassword=0
skip_intel_check=0
wl_maxassoc=128
wl_wds9_enable=0
ddns_hostname_buf=
wl0_akm=none
d11g_mode=1
wan_get_dns=
wl0_wep_buf=
sipgate=0
wl_wds_if1=
wl_wds2_hwaddr=
syslogd_rem_ip=
boot_wait=on
wl_wds_if2=
nas_enable=1
wl_phytypes=
filter_web_host1=
wl0_macmode1=disabled
wl_wds_if3=
filter_web_host2=
wl0_infra=1
wl_wds_if4=
filter_web_host3=
fw_disable=0
wl0_country_code=JP
et0mdcport=0
wl_wds_if5=
router_name=WRT54G
pppoe_keepalive=0
filter_web_host4=
wl0_wds1_desc=
wl0_wds5_ospf=
wl_radportal=0
wshaper_enable=0
sh_masq=br0 wds0.2
wl_wds_if6=
wl_wds8_hwaddr=
filter_web_host5=
wl_wds_if7=
ddns_wildcard=
filter_web_host6=
wl0_wds6_enable=0
wl_wds_if8=
apwatchdog_enable=0
wl_infra=1
filter_web_host7=
svqos_port2bw=full
wl_wds_if9=
l2tp_get_ip=
filter_web_host8=
ses_event=2
reset_gpio=7=0
wl0_wds3_netmask=
dhcpfwd_ip=0.0.0.0
filter_web_host9=
wl_wds1_ipaddr=
pptp_server_ip=
ppp_get_ac=
pmon_ver=2.01.01
restore_defaults=0
pptp_use_dhcp=0
wl0_wds5_hwaddr=
wshaper_downlink=0
wl_wds7_ipaddr=
ppp_username=
wl0_wds10_hwaddr=
wl0_wme_sta_be=15 1023 3 0 0 off
sh_rules=
wl_wds_if10=
wan_lease=0
filter_port=
wl_wds_if11=
ddns_enable_buf=
d11g_dtim=1
ip_conntrack_tcp_timeouts=3600
wl_wds_if12=
ddns_hostname=
wl_radius_ipaddr=
http_wanport=8080
filter_ip_grp1=
fw_reset=0
wl0_wds7_netmask=
wl0_wds3_ospf=
wl_wds_if13=
filter_ip_grp2=
lan_gateway=0.0.0.0
wl_wds_if14=
filter_ip_grp3=
wl0_ifname=eth1
boot_flash_addr=bfc00000
wl_wds_if15=
dr_lan_rx=0
filter_ip_grp4=
lan_domain=
wl0_wme_sta_bk=15 1023 7 0 0 off
snmpd_rwcommunity=private
wl_wds_if16=
filter_ip_grp5=
timer_interval=3600
gpio1=adm_eesk
wl0_wds4_ipaddr=
wl0_wds_if1=
log_accepted=0
hs_html=
filter_ip_grp6=
gpio2=adm_eecs
wl0_wds_if2=
wshaper_uplink=0
chilli_backup=0.0.0.0
pppoe_ac=
filter_ip_grp7=
filter_rule1=
wl0_wds_if3=
loopback_enable=1
hb_server_ip=
ipsec_pass=1
filter_ip_grp8=
filter_rule2=
gpio4=adm_rc
wl0_wds_if4=
rflow_enable=0
filter_ip_grp9=
filter_rule3=
ses_enable=1
vlan0ports=0 1 2 3 4 5*
wl0_wds_if5=
schedule_minutes=00
expert_mode=1
filter_rule4=
gpio6=adm_eedi
wl0_wds_if6=
port5vlans=0 1 16
filter_rule5=
wl0_wds_if7=
filter_ip_grp10=
filter_rule6=
wl0_wds_if8=
wol_passwd=
wl0_mode=sta
filter_rule7=
wan_gateway=0.0.0.0
wl0_wds_if9=
dhcp_start=100
filter_rule8=
wl0_wds1_ospf=
chilli_uamanydns=
filter_rule9=
pptpd_enable=0
ident_pass=1
wl0_ap_isolate=0
eou_configured=1
chilli_uamallowed=
svqos_port4prio=10
NC_DocumentRoot=/jffs/nocat
wshaper_nopriohostsrc=
chilli_radius=0.0.0.0
l2tp_server_ip=
wl_akm=
os_flash_addr=bfc40000
wl0_wme_no_ack=off
wl0_gmode=1
dhcp_lease=1440
sromrev=2
wds_watchdog_ips=
wl_wds2_netmask=
wl_wds4_enable=0
boardtype=0x0101
chilli_additional=
dnsmasq_enable=1
is_default=0
wl_active_add_mac=0
router_version=211005
kaid_macs=
port3vlans=0
wl_gmode=1
ping_ip=
et1macaddr=00:90:96:xx:xx:xx
wl_wds9_desc=
stats_server=
wl_br1_nat=0
static_route=
sip_port=5060
d11g_rate=0
need_commit=0
wl_wds3_hwaddr=
radvd_conf=
lan_netmask=255.255.255.0
wl0_wep_last=
wds0.491510=
dmz_enable=0
wl0_wds1_enable=0
wl_wme_sta_vi=7 15 2 6016 3008 off
wds0.491511=
wl_wds6_netmask=
wl0_dtim=1
wl0_ssid=default
http_username=
http_source_network=0.0.0.0
sh_routestopped=br0 -
eth0 -
eth2 -
wds0.2 -
wds0.491512=
port_trigger=
et1mdcport=1
wl_wme_ap_be=15 63 3 0 0 off
wds0.491513=
wl_wds9_hwaddr=
filter_web_host10=
burnin=0
wds0.491514=
os_date=Dec 25 2005
http_redirect_enable=0
svqos_port2prio=10
wds0.491515=
cron_enable=1
wl0_wds7_enable=0
http_lanport=80
wl_wme_sta_vo=3 7 2 3264 1504 off
wl_plcphdr=long
filter_mac_grp1=
port1vlans=0
wl_wds2_ipaddr=
wl_macmode=disabled
ppp_service=
ppp_redialperiod=30
filter_mac_grp2=
wl_wme_ap_bk=15 1023 7 0 0 off
wl_wds7_desc=
filter_mac_grp3=
wan_domain=
wan_hwname=
wl0_key1=xxxxxxxxxxxxxxxxxxxxxxxxxxx
wl_phytype=g
filter_mac_grp4=
wan_netmask=0.0.0.0
lan_lease=86400
wl0id=0x4320
wl0_wds6_hwaddr=
chilli_macauth=
wl0_key2=
wl_lazywds=0
pppoe_static_ip=
filter_mac_grp5=
wl0_key3=
filter_mac_grp6=
chilli_radiusnasid=
wl_wds8_ipaddr=
wl0_key4=
filter_mac_grp7=
wshaper_nopriohostdst=
filter_mac_grp8=
filter_client0=
chilli_url=https://set.me.now
filter_mac_grp9=
filter_maclist=
wl_wds10_enable=0
pptp_pass=1
pptp_get_ip=
wl_auth_mode=disabled
ppp_demand=0
mtu_enable=0
ppp_keepalive=0
wl0_br1_nat=0
sh_interfaces=loc br0
loc eth0
loc eth2
net wds0.2
block_activex=0
d11g_rts=2347
forward_upnp=
wl0_wds5_ipaddr=
wl_wpa_psk=
http_passwd=admin
ag0=255
wl0_br1_enable=0
wl_wds9_ospf=
wl_wds5_desc=
block_wan=0
wl0_wds10_ipaddr=
lan_stp=1
wl0_wme_ap_vi=7 15 1 6016 3008 off
router_style=cyan.css
skip_amd_check=0
wl_mode=ap
pppd_pppifname=
forward_spec=
bird_ospf=Please read the BIRD setup instructions at http://bird.network.cz/bird.html
wl0_plcphdr=long
wl0_rate=0
wl0_closed=0
schedule_enable=0
wds0.49150=
wl_wpa_gtk_rekey=3600
d11g_rateset=default
wl0_macmode=disabled
wl0_wds4_netmask=
wl0_wme_ap_vo=3 7 1 3264 1504 off
svqos_port1bw=full
wds0.49151=
wl0gpio1=0
wl0_radioids=BCM2050
wds0.49152=
wl0_phytype=g
wl0gpio2=0
NC_RouteOnly=0
wds0.49153=
dr_wan_rx=0
wl0_lazywds=0
filter_services0=$NAME:006:100bao$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:aim$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:013:aimwebcontent$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:010:applejuice$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:ares$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:011:audiogalaxy$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:015:battlefield1942$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:012:battlefield2$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:bgp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:biff$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:010:bittorrent$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:ciscovpn$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:citrix$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:code_red$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:020:counterstrike-source$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:cvs$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:018:dayofdefeat-source$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:dhcp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:013:directconnect$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:dns$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:doom3$PROT:002:l7$PORT:003:0:0&lt; &gt;
filter_tod_buf1=
wl0gpio3=0
wds0.49154=
block_proxy=0
filter_services1=$NAME:007:edonkey$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:exe$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:fasttrack$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:finger$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:flash$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:freenet$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:ftp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:gif$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:gkrellm$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:011:gnucleuslan$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:gnutella$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:goboogy$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:gopher$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:h323$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:020:halflife2-deathmatch$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:hddtemp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:hotline$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:html$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:http$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:011:http-itunes$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:httpaudio$PROT:002:l7$PORT:003:0:0&lt; &gt;
filter_tod_buf2=
wl0gpio4=0
wl_radmactype=0
rflow_port=0
snmpd_syslocation=Unknown
wds0.49155=
filter_services2=$NAME:012:httpcachehit$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:013:httpcachemiss$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:httpvideo$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:ident$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:imap$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:ipp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:irc$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:jabber$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:jpeg$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:kugoo$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:live365$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:lpd$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:012:msnmessenger$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:016:msn-filetransfer$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:mute$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:napster$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:nbns$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:ncp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:netbios$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:nimda$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:nntp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:ntp$PROT:002:l7$PORT:003:0:0&lt; &gt;
filter_tod_buf3=
wl0gpio5=0
wds0.49156=
wl_wds7_ospf=
wl_wds3_desc=
chilli_pass=
pptpd_rip=
filter_services3=$NAME:003:ogg$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:openft$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:pdf$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:perl$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:poco$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:pop3$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:010:postscript$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:pressplay$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:002:qq$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:014:quake-halflife$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:quake1$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:quicktime$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:rar$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:rdp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:rlogin$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:rpm$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:rtf$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:rtsp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:shoutcast$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:sip$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:skypeout$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:012:skypetoskype$PROT:002:l7$PORT:003:0:0&lt; &gt;
filter_tod_buf4=
boardflags2=0
wds0.49157=
filter_services4=$NAME:003:smb$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:smtp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:snmp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:snmp-mon$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:009:snmp-trap$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:socks$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:soribada$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:soulseek$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:ssdp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:ssh$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:ssl$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:subspace$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:tar$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:telnet$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:tesla$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:004:tftp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:tls$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:tsp$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:007:unknown$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:012:validcertssl$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:vnc$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:whois$PROT:002:l7$PORT:003:0:0&lt; &gt;
filter_tod_buf5=
wds0.49158=
wl_wds5_enable=0
dr_lan_tx=0
wl0_afterburner=off
filter_services5=$NAME:003:x11$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:008:xboxlive$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:006:xunlei$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:yahoo$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:003:zip$PROT:002:l7$PORT:003:0:0&lt; &gt;$NAME:005:zmaap$PROT:002:l7$PORT:003:0:0&lt; &gt;
filter_tod_buf6=
http_client_ip=192.168.1.199
wol_macs=
wds0.49159=
apwatchdog_interval=15
wl0_antdiv=3
filter_services6=
filter_tod_buf7=
filter_tod10=
lan_hwaddr=00:90:96:xx:xx:xx
wl0_wds8_netmask=
filter_tod_buf8=
wan_dns=
filter_tod_buf9=
http_client_mac=00:xx:xx:xx:xx:xx
action_service=
ip_conntrack_max=512
ipv6_enable0=0
wl_wds4_hwaddr=
wl_dtim=1
wl_ssid=linksys
wl0_wds8_desc=
forward_entries=0
log_dropped=0
wl0_wpa_psk=
wl0_wds2_enable=0
d11g_bcn=100
web_wl_filter=0
macupd_ip=0.0.0.0
wl_passphrase=
daylight_time=1
wl0_mac_list=
wl_wds5_ospf=
wl_wds1_desc=
security_mode=disabled
dhcp_wins=wan
multicast_pass=1
filter_tod_buf10=
os_server=
wl0_wds8_enable=0
wl0_wds1_hwaddr=
pppoe_static=0
hb_server_domain=
wl_key1=
wan_proto=dhcp
wl_wds3_ipaddr=
wl_key2=
mmc_enable=0
ospfd_conf=
wl0_unit=0
wl_key3=
wshaper_noprioportsrc=
wl_key4=
wl0_wds7_hwaddr=
ddns_cache=
wl_hwaddr=
wl0_wds6_desc=
enable_jffs2=0
wl_wds9_ipaddr=
aol_block_traffic1=0
static_route_name=
aol_block_traffic2=0
wl_wds3_netmask=
samba_script=yourscript
ntp_enable=1
wl_active_mac=
wl_net_mode=mixed
pa0itssit=62
enable_game=0
wl_wds3_ospf=
def_et1macaddr=00:90:96:xx:xx:xx
forward_port=
wl0_wds6_ipaddr=
NC_HomePage=http://www.dd-wrt.com
smtp_redirect_enable=0
sys_enable_jffs2=0
wshaper_dev=WAN
wl_wds10_netmask=
wl_wds10_hwaddr=
samba_user=username/computer
d11g_frag=2346
snmpd_sysname=dd-wrt
wl_wds7_netmask=
wl0_wds=
filter_mac_grp10=
wl0_wds4_desc=
wl0_wds8_ospf=
sh_policy=loc net ACCEPT
net all DROP info
all all REJECT info
wl_rate=0
ppp_static_ip=
telnetd_enable=1
block_java=0
log_level=0
cctl=0
static_leasenum=0
hs_urls=
ntp_server=
ct_modules=
wan_hwaddr=00:90:96:xx:xx:xx
NC_GatewayName=DD-WRT
wl_wds1_ospf=
lan_ifnames=vlan0
sshd_dss_host_key=
wl_macmode1=disabled
pppoe_ifname=vlan1
wl0_wme=off
snmpd_enable=0
wl0_radius_port=1812
wl0_auth=0
wl0_mac_deny=
smtp_source_network=0.0.0.0
sshd_port=22
httpd_enable=1
wl0_radius_ipaddr=
wshaper_noprioportdst=
pppoe_service=
wl0_wme_sta_vi=7 15 2 6016 3008 off
svqos_macs=
wl_country=Japan
wl_wds6_enable=0
pa0maxpwr=66
wl0_wds2_desc=
wl0_wds6_ospf=
schedule_weekdays=00
traceroute_ip=
ddns_change=
remote_management=1
wan_ifnames=vlan1
wl0_wme_sta_vo=3 7 2 3264 1504 off
NC_ExcludePorts=25
schedule_time=1
hs_enable=
svqos_port4bw=full
wl_wds5_hwaddr=
wl_rateset=default
wl_crypto=off
wl0_wds1_netmask=
wl0_wds3_enable=0
svqos_svcs=
wl_wep_bit=64
ppp_mru=1500
http_method=post
sshd_web=1
hs_exempt=
chilli_uamsecret=
wl_wds10_desc=
wl_radius_key=
filter_port_grp1=
lan_proto=static
os_name=linux
lan_ipaddr=192.168.2.1
clkfreq=200
filter_port_grp2=
vlan1hwname=et0
aa0=3
wl0_wds9_enable=0
wl0_maxassoc=128
ddns_passwd_2=
filter_port_grp10=
filter_port_grp3=
wl0_wds2_hwaddr=
trigger_entries=0
clean_jffs2=0
dr_wan_tx=0
wl_unit=0
filter_port_grp4=
filter_id=1
wl0_wds4_ospf=
wol_enable=0
wl_wds4_ipaddr=
filter_port_grp5=
wl0_phytypes=g
wl0_frag=2346
d11g_channel=6
wl0_wep=enabled
filter_port_grp6=
router_disable=0
wl0_wds5_netmask=
maskmac=1
syslogd_enable=1
ddns_username=
filter_port_grp7=
ddns_passwd=
pppoe_passwd=
filter_port_grp8=
wl0_wds8_hwaddr=
filter_port_grp9=
dhcpfwd_enable=0
hs_image=
ppp_ac=
log_enable=0
sdram_config=0x0000
sip_domain=
filter_web_url10=
wl0_country=Japan
dmz_ipaddr=0
vlan1ports=4 5
wl0_wds1_ipaddr=
schedule_hours=00
sshd_passwd_auth=1
rc_startup=
security_mode_last=
wl_wds=
pptpd_client_enable=0
wol_interval=86400
sshd_enable=0
ddns_hostname_2=
scratch=a0180000
wl0_wds9_netmask=
ccode=0
trunking=0
wl0_rateset=default
wl0_wds7_ipaddr=
wl0_wds2_ospf=
macupd_port=0
cpu_type=0x4712
wl0_wds_if10=
pptpd_client_srvuser=DOMAIN\\Username
wl0_wep_bit=64
wl0_wds_if11=
wl_wme=off
wl_radauth=0
pppoe_idletime=5
wl0_wds_if12=
ping_times=
wl0_wds_if13=
fullswitch=0
wl_wme_ap_vi=7 15 1 6016 3008 off
wan_primary=1
lan_ifname=br0
wl0_wds_if14=
filter_services=
boardflags=0x0388
wl0_wds_if15=
sdram_refresh=0x8040
wl0_wds_if16=
dhcp_domain=wan
port4vlans=0
wl_wds10_ospf=
wl_auth=0
vlans=0
wl_wds10_ipaddr=
samba_mount=0
wl_wep_last=
sdram_ncdl=0x29
wl_wme_ap_vo=3 7 1 3264 1504 off
wan_gateway_buf=0.0.0.0
wl_wds1_enable=0
resetbutton_enable=1
block_cookie=0
chilli_dns1=0.0.0.0
rc_firewall=
samba_share=//yourserverip/yourshare
wl_frameburst=off
ezc_enable=1
NC_enable=0
upnp_wan_proto=
wl_wds7_enable=0
is_modified=1
smtp_redirect_destination=0.0.0.0
svqos_port3prio=10
wl_wds4_netmask=
dhcp_num=50
filter_web_url1=
wan_ipaddr=0.0.0.0
filter_web_url2=
wl0_passphrase=
filter_web_url3=
wl0_rts=2347
filter_web_url4=
ospfd_copt=0
zebra_conf=
filter_web_url5=
port2vlans=0
wl_wds6_hwaddr=
wl_ifname=
filter_web_url6=
wan_wins=
kaid_enable=0
snmpd_syscontact=root
wl_wds8_desc=
ipv6_enable=0
ntp_mode=auto
wl_wep=off
http_enable=1
filter_web_url7=
wl0_wds4_enable=0
l2tp_pass=1
filter_web_url8=
wl0_radauth=0
svqos_ips=
ddns_dyndnstype=
pppoe_username=
filter_web_url9=
os_version=3.90.7.0
wl_wds8_netmask=
wl_gmode_protection=off
sshd_rsa_host_key=
wl0_wpa_gtk_rekey=3600
mac_clone_enable=0
ppp_get_srv=
wl_frag=2346
wl0_wds3_hwaddr=
wan_mtu=1500
wl_wep_gen=
wl0_key=1
wl_wds5_ipaddr=
wl0_active_mac=
wl_maclist=
filter_macmode=deny
txant=3
wl0_wds9_hwaddr=
svqos_port1prio=10
console_loglevel=1
et0phyaddr=30
NC_LoginTimeout=86400
port0vlans=1
dnsmasq_options=
time_zone=-08 1 1
wl_wds6_desc=
wan_get_domain=
wl0_wds2_ipaddr=
wan_ifname=eth1
wl_wme_sta_be=15 1023 3 0 0 off
sshd_authorized_keys=
radvd_enable=0
wl_radioids=
wan_hostname=potato
sh_zones=net Net Internet
loc Local Local Networks
dmz DMZ Dmz Zone
wl0_radio=1
wl_corerev=
ppp_mtu=1500
wl0_wds8_ipaddr=
sv_restore_defaults=1
zebra_enable=1
wl0_wds0=
ddns_interval=60
svqos_port3bw=full
wl0_wds1=
wl_channel=6
wl0_wds2_netmask=
wl_wme_sta_bk=15 1023 7 0 0 off
manual_boot_nv=0
wl0_wds2=
wl0_bcn=100
snmpd_conf=See http://www.net-snmp.org for expert snmpd.conf options
wl0_wds3=
pptpd_auth=
macupd_interval=10
wl0_wds4=
wl_afterburner=off
wl_radio=1
ppp_static=0
filter_tod1=
wl0_hwaddr=00:90:96:xx:xx:xx
log_rejected=0
dyn_default=0
wl0_wds5=
wl_wds8_ospf=
wl_wds4_desc=
filter_tod2=
wl0_wds6=
filter_tod3=
wl0_wds7=
filter_tod4=
ezc_version=2
wl0_wep_gen=
wl0_wds8=
ddns_passwd_buf=
wk_mode=gateway
wl0_gmode_protection=off
filter_tod5=
pa0b0=0x119a
wl0_wds9=
rc_shutdown=
wl0_maclist=
filter_tod6=
pa0b1=0xfb93
filter_tod7=
pa0b2=0xfea5
wl0_wds6_netmask=
wl_wds2_enable=0
wl_rts=2347
filter_tod8=
sdram_init=0x0419
filter_tod9=
wl0_wds9_desc=
wl_ap_isolate=0
lan_wins=
aol_block_traffic=0
vlan0hwname=et0
dhcp_dnsmasq=0
ip_conntrack_udp_timeouts=3600
dhcpd_options=
wl_mac_list=
lan_hwnames=
dl_ram_addr=a0001000
static_leases=
wl_wme_no_ack=off
wds_watchdog_enable=0
wl_wds8_enable=0
pppoe_demand=0
dhcpd_usejffs=0
wl_wds1_hwaddr=
local_dns=0
wl_wds6_ospf=
wl_wds2_desc=
wl0_radius_key=
filter_dport_grp10=
wl0_wds10_desc=
wl0_wme_ap_be=15 63 3 0 0 off
ddns_username_buf=
wl0_wds10_netmask=
wl0_corerev=7
wl0_lazy_wds=
wl_wds7_hwaddr=
wl_key=1
wl0_channel=3
pptp_encrypt=0
wl0_wds5_enable=0
wl0_wme_ap_bk=15 1023 7 0 0 off
schedule_hour_time=1
dr_setting=0
upnp_enable=0
wl0_wds10_enable=0
wl0_wds7_desc=
hs_redirect=
http_redirect_destination=0.0.0.0
dhcpc_vendorclass=
wol_hostname=
pptpd_lip=
wl0_wds4_hwaddr=
ddns_status=
filter_rule10=
forwardspec_entries=0
samba_password=iwer573495u7340
wl_wds4_ospf=
wl_wds1_netmask=
wl_wds6_ipaddr=
NC_AllowedWebHosts=dd-wrt.com
def_whwaddr=00:00:00:00:00:00
txpwr=28
wl0_auth_mode=disabled
wl_closed=0
status_auth=1
et1phyaddr=31
autofw_port0=
wl0_crypto=
language=english
def_hwaddr=00:00:00:00:00:00
wl_bcn=100
macupd_enable=0
wl_wep_buf=
wl0_wds3_ipaddr=
wl0_wds5_desc=
wl0_wds9_ospf=
mmc_enable0=0
rflow_ip=0.0.0.0
wl_wds5_netmask=
pppoe_ver=0
filter_dport_grp1=
wl_antdiv=3
filter_dport_grp2=
wl0_wds9_ipadd</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37229">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Ivoshiee</div>
					<div class="post-datetime">
						15 Nov 2006, 12:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>Please try the new image from <a href="http://downloads.openwrt.org/people/nbd/diagtest/">http://downloads.openwrt.org/people/nbd/diagtest/</a></p></blockquote></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/diag/model
Motorola WE800G
root@OpenWrt:/#</code></pre></div><p>But reset pressing still will do nothing:<br /></p><div class="quotebox"><blockquote><p>Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!</p></blockquote></div><p>Reset button polling on WE800G with <a href="http://downloads.openwrt.org/people/nbd/tmp/gpio">http://downloads.openwrt.org/people/nbd/tmp/gpio</a>:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc# ./gpio poll 0
01
00
01
00
01
00
01
00
01</code></pre></div><p>01 - reset button not pressed;<br />00 - reset button pressed;</p><p>The WE800G has all other LEDs turned off than device LED what is blinking red/amber.</p><p>I played with the gpio a bit more:<br /></p><div class="quotebox"><blockquote><p>A little update to the WE800G GPIO LED control:<br />5=disable 7=disable wireless LED is amber;<br />5=disable 7=enable wireless LED is red;<br />5=enable 7=disable wireless LED is green;<br />5=enable 7=enable wireless LED is off;</p><p>Disabling pin 1 will turn wireless LED on (if 5 and 7 are not enabled).<br />Enabling pin 1 will turn the wireless LED off.</p><p>3=disable 4=disable power LED is (green/red) amber;<br />3=disable 4=enable power LED is blinking red;<br />3=enable 4=disable power LED is green;<br />3=enable 4=enable power LED is off;</p><p>Pin 2 is the status of a device LED, manual setting of it will play no role.<br />Pin 0 is the reset button, manual setting of it will play no role:<br />poll status of pin 0=01 is reset button not pressed (up);<br />poll status of pin 0=00 is reset button pressed (down);</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>Ivoshiee</strong> on 15 Nov 2006, 13:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37230">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						15 Nov 2006, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>Diag is definitely using GPIO 0 for reset (it even was when it was misdetecting your unit for a WAP54G). Try pressing reset repeatedly and see if that helps...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37232">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Ivoshiee</div>
					<div class="post-datetime">
						15 Nov 2006, 13:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>Diag is definitely using GPIO 0 for reset (it even was when it was misdetecting your unit for a WAP54G). Try pressing reset repeatedly and see if that helps...</p></blockquote></div><p>OK, by repeatedly pressing the reset button the device does enter the failsafe!<br />But still there is no message about this ever happening:<br /></p><div class="quotebox"><blockquote><p>Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!<br />Msg from 192.168.1.1: Press reset now, to enter Failsafe!</p></blockquote></div><p>Power LED started blinking green and device LED is amber.<br /></p><div class="codebox"><pre><code>telnet 192.168.1.1</code></pre></div><p>Will show this:<br /></p><div class="codebox"><pre><code>root@(none):/# ps ax
  PID  Uid     VmSize Stat Command
    1 root        404 S   /bin/sh /etc/preinit noinitrd
    2 root            SW  [keventd]
    3 root            SWN [ksoftirqd_CPU0]
    4 root            SW  [kswapd]
    5 root            SW  [bdflush]
    6 root            SW  [kupdated]
    9 root            SW  [mtdblockd]
   24 root        376 S   /bin/sh /sbin/hotplug.failsafe button
   29 root        228 S   lock /tmp/.failsafe
   41 root        216 S   lock /tmp/.failsafe
   56 root        300 S   telnetd -l /bin/login
   72 root        216 S   lock -w /tmp/.failsafe
   73 root        436 S   /bin/ash --login
   80 root        344 R   ps ax
root@(none):/#</code></pre></div><p>Notes:<br />1) Holding the reset button down does nothing to help me get into the failsafe mode.<br />2) Holding or repeatedly pressing the reset button after the &quot;Msg from 192.168.1.1: Press reset now, to enter Failsafe!&quot; will do nothing to help me get into the failsafe mode.<br />3) Only starting the repeated pressing of the reset button as soon as the device is connected to the mains will help me into the failsafe mode.<br />4) The &quot;reboot&quot; command will not reboot the device and the device will remain in a zomby state.</p>											<p class="post-edited">(Last edited by <strong>Ivoshiee</strong> on 15 Nov 2006, 13:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37248">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">hoernchen</div>
					<div class="post-datetime">
						15 Nov 2006, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>microsoft mn-700:</p><p>power led : enable 6: green, disable 6:orange<br />poll 6 turns it off (rather strange..)<br />gpio 7 is the button</p><div class="codebox"><pre><code>boardtype=bcm94710ap
boardnum=mn700
clkfreq=125
sdram_init=0x0419
sdram_config=0x0000
sdram_refresh=0x8040
et0macaddr=00:0d:3a:xx:xx:xx
et0phyaddr=30
et0mdcport=0
et1macaddr=00:0d:3a:xx:xx:xx
et1phyaddr=5
et1mdcport=1
dl_ram_addr=a0001000
os_ram_addr=80001000
os_flash_addr=bfc40000
lan_ipaddr=192.168.1.1
lan_netmask=255.255.255.0
scratch=a0180000
boot_wait=on
watchdog=3000
hardware_version=WL500-02-02-01-00
regulation_domain=0x00</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37279">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">utx</div>
					<div class="post-datetime">
						16 Nov 2006, 01:05					</div>
				</div>
				<div class="post-content content">
					<p>Yesterday I collected Asus WL-500gP defaults for different versions of original firmware - &quot;factory_defaults&quot; were created after calling proer menu item, &quot;default&quot; is created after pressing Restore for 5 seconds. Settings are in original Asus settings format. Interesting differences:</p><p>1.9.6.8:<br />sdram_init=0x000b<br />sdram_ncdl=0x307<br />wl_radio_power_x=19</p><p>1.9.7.2 (detects 32MB):<br />sdram_init=0x0009<br />sdram_ncdl=0x208<br />wl0_radio_power_x=17</p><p><a href="ftp://ftp.penguin.cz/pub/users/utx/asus-wl500gp/firmware_defaults">ftp://ftp.penguin.cz/pub/users/utx/asus … e_defaults</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37736">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">youngjd</div>
					<div class="post-datetime">
						24 Nov 2006, 14:36					</div>
				</div>
				<div class="post-content content">
					<p>WZR-G54(4MB flash 64MB RAM), maybe the same PCB with WHR3-AG54 and WZR-RS-G54, a little late:<br /></p><div class="codebox"><pre><code>gpio poll 0 AOSS button
gpio poll 4 reset button

AOSS led:
gpio disable 6 AOSS led amber
gpio enable 6 AOSS led closed

Diag led:
gpio disable 7 diag led red
gpio enable 7 diag led closed</code></pre></div><p>after flash OPENWRT, I run &quot;mtd erase nvram&quot;, then run &quot;nvram show&quot;, bellow is the nvram:<br /></p><div class="codebox"><pre><code>size: 864 bytes (31904 left)
DOUBLE_NVRAM=1
DOUBLE_SYSYTEM=0
boardflags=0x10
boardnum=42
boardrev=0x10
boardtype=0x042f
boot_wait=on
clkfreq=264
dl_ram_addr=80400000
et0macaddr=00:0D:0B:27:17:DC
et0mdcport=0
et0phyaddr=30
et1macaddr=00:0D:0B:27:17:DD
et1mdcport=1
et1phyaddr=5
kernel_args=noinitrd console=ttyS0,115200 root=/dev/mtdblock2 panic=1
lan_ifname=br0
lan_ifnames=vlan0 eth1 eth2
        # openwrt&#039;s default value not work, must change to:  lan_ifnames=eth0 eth2
        # or the wired lan can not get IP address under router&#039;s  DHCP.
lan_ipaddr=192.168.11.1
lan_netmask=255.255.255.0
lan_proto=static
max_linuxsize=0x00380000
melco_id=29115
os_flash_addr=bc040000
os_ram_addr=80001000
pmon_date=Mar 15 2004 17:37:18
pmon_ver=PMON 3.51.5.0-MEL1.0_005
scratch=a0180000
sdram_config=0x0062
sdram_init=0x0149
sdram_ncdl=0x00000406
sdram_refresh=0x0000
tmp_flash_addr=bc3c0000
wan_device=vlan1
         # openwrt&#039;s default value not work, must change to:  wan_device=eth1
wan_ifname=vlan1
         # openwrt&#039;s default value not work, I&#039;m use PPPOE, after set PPPOE in web-UI, 
         # wan_ifname changed to wan_ifname=ppp0, then I have to add this value: 
         # wan_ifnames=eth1, or the wan not work.
wan_proto=dhcp
watchdog=1000
wl0_ifname=eth2
wl0_infra=1
wl0_mode=ap
wl0_radio=1
wl0_ssid=OpenWrt
wl0id=0x4320</code></pre></div><p>here is the nvram most value of original Buffalo&#039;s + part of openwrt&#039;s:<br /></p><div class="codebox"><pre><code>size: 8894 bytes (23874 left)
DOUBLE_NVRAM=1
DOUBLE_SYSYTEM=0
ap_fw_code=00
ap_hw_code=00
ap_name=AP000D0B2717DC
ap_version=WZR-G54 Ver.2.41
ap_wl_version=WLI-MPCI-G54 Ver.3.60.9.0
asts_data=
asts_deny_mac=
asts_enable=1
asts_sta_data=
attack_cm_addr=
attack_cm_select=0
attack_dos_rules=0
attack_mail_from=
attack_mail_pop_addr=
attack_mail_pop_pass=
attack_mail_pop_user=
attack_mail_select=0
attack_mail_smtp_addr=
attack_mail_to=
attack_select=0
attack_spoofing=0
attack_synfd_iplimit=5
attack_synfd_limit=0
attack_threshold=5
autofw_port0=
boardflags=0x10
boardnum=42
boardrev=0x10
boardtype=0x042f
boardtype_2=0
boot_wait=on
clkfreq=264
console_loglevel=1
cwf_admin_host_ipaddr=65.245.128.70
cwf_admin_host_name=admin.cwfservice.net
cwf_admin_host_url=site/index.jsp
cwf_auth_ipaddr=
cwf_buffalo_host_ipaddr=210.167.160.102
cwf_buffalo_host_name=online.buffalo.jp
cwf_buffalo_host_port=80
cwf_cate_code=
cwf_categories=
cwf_cf_enbl=1
cwf_cf_upday=1
cwf_change_message_on=0
cwf_change_param_flag=0
cwf_contents_filter=0
cwf_contents_filter_userid_type=0
cwf_disable_filter_hostname=
cwf_disable_filter_ip=
cwf_disable_filter_mac=
cwf_disable_filter_mode=
cwf_dns_request_time=3600
cwf_free_pass_url=
cwf_free_pass_url_list=http://sitereview.cwfservice.net,http://online.buffalo.jp,http://buffalo.jp/setting
cwf_httpc_ipaddr=
cwf_license_code=BUF3zW3y
cwf_mode=ADR
cwf_org_dst_addr=
cwf_partner_id=108
cwf_password=
cwf_password_confirm=
cwf_path_through2=disable
cwf_path_through=disable
cwf_path_through_off_time=1800
cwf_rating_timeout=40
cwf_recv_timeout2=30
cwf_recv_timeout2a=60
cwf_recv_timeout=30
cwf_send_timeout2=5
cwf_send_timeout=5
cwf_sp_host_ipaddr=65.166.64.141
cwf_sp_host_name=sp.cwfservice.net
cwf_toroku_default_onoff=1
cwf_user=BUF3zW3y
cwf_user_table_setting_flag=1
cwf_vendor=buffalo
dhcp_dns_ip1=
dhcp_dns_ip2=
dhcp_dns_select=AP
dhcp_domain=
dhcp_domain_select=DHCPC
dhcp_end=192.168.11.17
dhcp_except=
dhcp_except_tmp=
dhcp_gw_ip=
dhcp_gw_select=AP
dhcp_lease_time=48
dhcp_manual=
dhcp_range=16
dhcp_range_tmp=16
dhcp_server=
dhcp_start=192.168.11.2
dhcp_start_melco=192.168.11.2
dhcp_start_melco_tmp=192.168.11.2
dhcp_wins=
dhcp_wins_select=NONE
dl_ram_addr=80400000
dmz_ipaddr=
dns=
dns_manual0=
dns_manual1=
domain=
et0macaddr=00:0D:0B:27:17:DC
et0mdcport=0
et0phyaddr=30
et1macaddr=00:0D:0B:27:17:DD
et1mdcport=1
et1phyaddr=5
filter_client0=
filter_ident=1
filter_ip=
filter_lansetup=0
filter_mac=
filter_maclist=
filter_macmode=deny
filter_melco=
filter_nbt=1
filter_tcp=
filter_udp=
filter_wanping=1
filter_wdssetup=0
filter_wlansetup=0
flash_recover=1
flets_preset=DISABLE
forward_enable=1
forward_group=
forward_ipmasq_time=5
forward_melco=
forward_port0=
forward_tcp=
forward_udp=
fw_disable=0
gateway=
gateway_manual=
hostname=
hostname_auto=
hostname_manual=
http_lanport=80
http_passwd=
http_passwd_confirm=
http_username=root
http_wanport=
httpc_auth_ipaddr=192.168.11.2
httpc_auth_ipaddr_tmp=192.168.11.2
httpc_auth_start_time=1009811955
httpc_ipaddr=192.168.11.2
httpc_login_off_time=5
httpd_enable=1
ini_ipaddr=192.168.11.1
ini_netmask=255.255.255.0
is_modified=0
kernel_args=noinitrd console=ttyS0,115200 root=/dev/mtdblock2 panic=1
lan_domain=
lan_host=air.setup
lan_host_buffalo=buffalo.setup
lan_hwaddr=00:0D:0B:27:17:DC
lan_hwnames=et0 wl0
lan_ifname=br0
lan_ifnames=eth0 eth2
lan_ipaddr=192.168.11.1
lan_lease=86400
lan_netmask=255.255.255.0
lan_proto=static
lan_speed=AUTO
lan_stp=0
lan_wins=
lcp_echo_failure=6
lcp_echo_failure_1=6
lcp_echo_failure_2=6
lcp_echo_failure_3=6
lcp_echo_failure_4=6
lcp_echo_interval=60
lcp_echo_interval_1=60
lcp_echo_interval_2=60
lcp_echo_interval_3=60
lcp_echo_interval_4=60
log_attack=1
log_config=1
log_dhcp_cli=1
log_dhcp_serv=1
log_disp_name=NEWEST
log_disp_page=0
log_etc=1
log_filter=1
log_firewall=1
log_forward=1
log_ipaddr=
log_level=1
log_level_err=1
log_level_notice=1
log_ntpcli=1
log_power=1
log_pppoe=1
log_send_attack=1
log_send_config=1
log_send_dhcp_cli=1
log_send_dhcp_serv=1
log_send_enable=0
log_send_etc=1
log_send_filter=1
log_send_firewall=1
log_send_forward=1
log_send_level_err=1
log_send_level_notice=1
log_send_ntpcli=1
log_send_power=1
log_send_pppoe=1
log_send_wired=1
log_send_wlcli=1
log_server=
log_wired=1
log_wlcli=1
max_linuxsize=0x00380000
melco_id=29115
melco_web_carrier_select=
melco_web_lan=0
melco_web_select=
melco_web_setuzoku=0
melco_web_wan=0
netfilter_ipsec=0
ntp_enable=0
ntp_interval=24
ntp_server=
os_date=May 18 2005 21:44:16
os_flash_addr=bc040000
os_name=linux
os_ram_addr=80001000
os_server=
os_version=3.60.9.0
phytst=0
ping_ipaddr=192.168.11.1
pmon_date=Mar 15 2004 17:37:18
pmon_upgrade=0
pmon_upgrade_mode=0
pmon_ver=PMON 3.51.5.0-MEL1.0_005
pppoe_ac_name=
pppoe_ac_name_1=
pppoe_ac_name_2=
pppoe_ac_name_3=
pppoe_ac_name_4=
pppoe_active=BOTH
pppoe_active_1=BOTH
pppoe_active_2=BOTH
pppoe_active_3=BOTH
pppoe_active_4=BOTH
pppoe_auth=AUTO
pppoe_auth_1=AUTO
pppoe_auth_2=AUTO
pppoe_auth_3=AUTO
pppoe_auth_4=AUTO
pppoe_demand=0
pppoe_demand_1=0
pppoe_demand_2=0
pppoe_demand_3=0
pppoe_demand_4=0
pppoe_demand_select=1
pppoe_demand_select_1=1
pppoe_demand_select_2=1
pppoe_demand_select_3=1
pppoe_demand_select_4=1
pppoe_disable=0
pppoe_disable_1=0
pppoe_disable_2=0
pppoe_disable_3=0
pppoe_disable_4=0
pppoe_hostuniq=
pppoe_hostuniq_1=
pppoe_hostuniq_2=
pppoe_hostuniq_3=
pppoe_hostuniq_4=
pppoe_idletime=20
pppoe_idletime_1=20
pppoe_idletime_2=20
pppoe_idletime_3=20
pppoe_idletime_4=20
pppoe_ifname=eth1
pppoe_incom=0
pppoe_incom_1=0
pppoe_incom_2=0
pppoe_incom_3=0
pppoe_incom_4=0
pppoe_keepalive=1
pppoe_keepalive_1=1
pppoe_keepalive_2=1
pppoe_keepalive_3=1
pppoe_keepalive_4=1
pppoe_label=
pppoe_label_1=
pppoe_label_2=
pppoe_label_3=
pppoe_label_4=
pppoe_manual=0
pppoe_mru=1454
pppoe_mru_1=1454
pppoe_mru_2=1454
pppoe_mru_3=1454
pppoe_mru_4=1454
pppoe_mtu=1454
pppoe_mtu_1=1454
pppoe_mtu_2=1454
pppoe_mtu_3=1454
pppoe_mtu_4=1454
pppoe_passwd=
pppoe_passwd_1=
pppoe_passwd_2=
pppoe_passwd_3=
pppoe_passwd_4=
pppoe_passwd_confirm=
pppoe_passwd_confirm_1=
pppoe_passwd_confirm_2=
pppoe_passwd_confirm_3=
pppoe_passwd_confirm_4=
pppoe_registered=0
pppoe_registered_1=0
pppoe_registered_2=0
pppoe_registered_3=0
pppoe_registered_4=0
pppoe_retransmit=4
pppoe_retransmit_1=4
pppoe_retransmit_2=4
pppoe_retransmit_3=4
pppoe_retransmit_4=4
pppoe_service=
pppoe_service_1=
pppoe_service_2=
pppoe_service_3=
pppoe_service_4=
pppoe_session_default=-1
pppoe_username=
pppoe_username_1=
pppoe_username_2=
pppoe_username_3=
pppoe_username_4=
product_name=WZR-G54
restore_defaults=0
rip_lan_recv=3
rip_lan_send=0
rip_wan_recv=0
rip_wan_send=0
route_pppoe=
router_disable=0
scratch=a0180000
sdram_config=0x0062
sdram_init=0x0149
sdram_ncdl=0x00000406
sdram_refresh=0x0000
static_route=
stats_server=
time_backup=2002.01.01-00:20:30
time_zone=PST8PDT
time_zone_melco=GMT-9
timer_interval=3600
tmp_flash_addr=bc3c0000
upnp_enable=1
wan0_connecttime=
wan0_desc=Default Connection
wan0_dns=
wan0_domain=
wan0_gateway=0.0.0.0
wan0_hostname=
wan0_hwaddr=
wan0_hwaddr_select_def=1
wan0_hwname=et1
wan0_ifname=eth1
wan0_ifnames=
wan0_ipaddr=1.1.1.1
wan0_ipaddr_bak=
wan0_lease=864000
wan0_mdi=0
wan0_netmask=255.255.255.0
wan0_pppoe_ac=
wan0_pppoe_demand=0
wan0_pppoe_idletime=60
wan0_pppoe_ifname=
wan0_pppoe_keepalive=0
wan0_pppoe_mru=1492
wan0_pppoe_mtu=1492
wan0_pppoe_passwd=
wan0_pppoe_service=
wan0_pppoe_username=
wan0_primary=1
wan0_proto=dhcp
wan0_route=
wan0_speed=AUTO
wan0_unit=0
wan0_wins=
wan_connecttime=1009810816
wan_desc=
wan_device=vlan1
wan_dns=
wan_domain=
wan_gateway=0.0.0.0
wan_hostname=
wan_hwaddr=
wan_hwaddr_select_def=1
wan_hwname=et1
wan_ifname=eth1
wan_ifnames=
wan_ipaddr=
wan_ipaddr_bak=
wan_lease=
wan_mdi=0
wan_netmask=
wan_pppoe_ac=
wan_pppoe_demand=0
wan_pppoe_idletime=60
wan_pppoe_ifname=
wan_pppoe_keepalive=0
wan_pppoe_mru=1492
wan_pppoe_mtu=1492
wan_pppoe_passwd=
wan_pppoe_service=
wan_pppoe_username=
wan_primary=0
wan_proto=dhcp
wan_route=
wan_speed=AUTO
wan_unit=0
wan_wins=
watchdog=1000
wep_ascii_select1=1
wep_ascii_select2=1
wep_ascii_select3=1
wep_ascii_select4=1
wins=
wl0_ifname=eth2
wl0_infra=1
wl0_mode=ap
wl0_radio=1
wl0_ssid=OpenWrt
wl0id=0x4320
wl_afterburner=auto
wl_antdiv=-1
wl_auth=0
wl_auth_mode=disabled
wl_bcn=100
wl_channel=0
wl_closed=0
wl_corerev=5
wl_country_code=JP
wl_dtim=1
wl_frag=2346
wl_frameburst=on
wl_gmode=5
wl_gmode_protection=auto
wl_gmode_protection_cts=1
wl_hwaddr=00:07:40:F1:C3:07
wl_ifname=eth2
wl_infra=1
wl_key1=
wl_key2=
wl_key3=
wl_key4=
wl_key=1
wl_lazywds=0
wl_limit_select=0
wl_mac=
wl_mac_melco=
wl_maclist=
wl_macmode=disabled
wl_mode=ap
wl_phytype=g
wl_phytypes=g
wl_plcphdr=long
wl_ps=0
wl_pwrout_per=100
wl_radio=1
wl_radioids=BCM2050
wl_radius_ipaddr=
wl_radius_key=
wl_radius_port=1812
wl_rate=0
wl_rateset=default
wl_rts=2347
wl_soft_tkip=0
wl_ssid=000D0B2717DC
wl_ssid_input=
wl_ssid_mac=1
wl_unit=0
wl_wds=
wl_wds_enable=0
wl_wds_list=
wl_wep=off
wl_wpa_gtk_rekey=0
wl_wpa_psk=</code></pre></div>											<p class="post-edited">(Last edited by <strong>youngjd</strong> on 24 Nov 2006, 15:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37806">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Timo Beil</div>
					<div class="post-datetime">
						26 Nov 2006, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>nbn,</p><p>I really appreciate your efforts in creating a bullet prove hardware detection - but it seems to be a difficult task, with a lot of testing involved. </p><p>Q: Why not provide a NVRAM variable as a &quot;override&quot;? If you can&#039;t detect the hardware platform for sure, not touching the GPIOs would be a far more robust approach!</p><p>Cheers<br />/T</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37807">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						26 Nov 2006, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Diag won&#039;t load if it can&#039;t detect the hardware platform. And in the 0.9 release it will then automatically enter failsafe in this case...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37809">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Timo Beil</div>
					<div class="post-datetime">
						26 Nov 2006, 00:58					</div>
				</div>
				<div class="post-content content">
					<p>Still it would be a good thing if the user could give the right &#039;hint&#039;...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p41142">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">blackcat</div>
					<div class="post-datetime">
						20 Jan 2007, 23:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi, nbd!</p><p>Below are information concerning ASUS WL-500W 802.11n router.<br />I would appreciate you include support for router I have to the official release of diag.c</p><p>Model name: ASUS WL-500W<br />PCB model: WL500WR1d11</p><p>NVRAM info<br />-------------<br />root@OpenWrt:~# nvram show<br />boardrev=0x23<br />et0macaddr=00:18:F3:95:73:8A<br />boot_wait=on<br />watchdog=3000<br />et0mdcport=0<br />pmon_ver=CFE 3.91.23.0<br />gpio0=robo_reset<br />boardtype=0x0472<br />et1macaddr=00:90:4c:a1:00:2d<br />lan_netmask=255.255.255.0<br />et1mdcport=0<br />parkid=1<br />clkfreq=264<br />lan_ipaddr=192.168.1.1<br />sdram_config=0x0062<br />boardflags=0x10<br />sdram_refresh=0x0000<br />sdram_ncdl=0x404<br />hardware_version=WL500gW-01-00-00-00<br />et0phyaddr=30<br />sdram_init=0x0009<br />regulation_domain=0X30DE<br />et1phyaddr=4<br />boardnum=45<br />size: 464 bytes (32304 left)</p><p>GPIO info<br />-----------<br />pin=0 write &quot;gpio disable 0&quot;=on &quot;gpio enable 0&quot;=off #Resets switch (what else?). Makes switch reset signal active or passive<br />pin=5 wrile &quot;gpio disable 5&quot;=on &quot;gpio enable 5&quot;=on #Power LED<br />pin=0 read &quot;gpio poll 0&quot; #same as &quot;gpio disable 0&quot;, makes switch reset signal active<br />pin=6 read &quot;gpio poll 6&quot; press=01 release=00 #Reset button<br />pin=7 read &quot;gpio poll 7&quot; press=01 release=00 #EZsetup button</p><p>All other pins not in use.</p><br /><p>I have already modified diag.c source and it works for me. The diff follows.</p><p>-----------cut----------------<br />--- diag.c.orig 2007-01-20 19:58:17.000000000 +0300<br />+++ diag.c&nbsp; &nbsp; &nbsp; 2007-01-20 23:02:23.000000000 +0300<br />@@ -61,6 +61,7 @@<br />&nbsp; &nbsp; &nbsp; &nbsp; WL300G,<br />&nbsp; &nbsp; &nbsp; &nbsp; WL500G,<br />&nbsp; &nbsp; &nbsp; &nbsp; WL500GD,<br />+&nbsp; &nbsp; &nbsp; &nbsp;WL500W,<br />&nbsp; &nbsp; &nbsp; &nbsp; WL500GP,<br />&nbsp; &nbsp; &nbsp; &nbsp; ASUS_4702,<br />&nbsp; &nbsp; &nbsp; &nbsp; WL700GE,<br />@@ -240,6 +241,16 @@<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { .name = &quot;power&quot;,&nbsp; &nbsp; &nbsp; .gpio = 1 &lt;&lt; 0, .polarity = REVERSE },<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />+&nbsp; &nbsp; &nbsp; &nbsp;[WL500W] = {<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &quot;ASUS WL-500W&quot;,<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.buttons&nbsp; &nbsp; &nbsp; &nbsp; = {<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ .name = &quot;reset&quot;,&nbsp; &nbsp; &nbsp; .gpio = 1 &lt;&lt; 6 },<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ .name = &quot;ezsetup&quot;,&nbsp; &nbsp; .gpio = 1 &lt;&lt; 7 },<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.leds&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= {<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ .name = &quot;power&quot;,&nbsp; &nbsp; &nbsp; .gpio = 1 &lt;&lt; 5, .polarity = REVERSE },<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},<br />+&nbsp; &nbsp; &nbsp; &nbsp;},<br />&nbsp; &nbsp; &nbsp; &nbsp; [WL500GP] = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &quot;ASUS WL-500g Premium&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .buttons&nbsp; &nbsp; &nbsp; &nbsp; = {<br />@@ -535,6 +546,8 @@<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!strcmp(boardnum, &quot;45&quot;)) { /* ASUS */<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!strcmp(boardtype,&quot;0x042f&quot;))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return &amp;platforms[WL500GP];<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else if (!strcmp(boardtype,&quot;0x0472&quot;))<br />+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return &amp;platforms[WL500W];<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return &amp;platforms[WL500GD];<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />-----------cut----------------</p><p>Thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>