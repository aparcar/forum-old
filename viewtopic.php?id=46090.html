<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT and selinux extended attribute (security.selinux) not working</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p211464">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hasso</div>
					<div class="post-datetime">
						2 Sep 2013, 23:01					</div>
				</div>
				<div class="post-content content">
					<p>I cannot seem to get the security.selinux extended attribute working/showing for files on a USB drive hooked up to a TL-MR3020 (attitude adjustment).</p><p>I know xattr is working because this works:<br />setfattr -n user.foo -v bar folder.jpg<br />getfattr -n user.foo folder.jpg<br /># file: folder.jpg<br />user.foo=&quot;bar&quot;</p><p>But this doesn&#039;t work:<br />setfattr -n security.selinux -v bar folder.jpg<br />setfattr: folder.jpg: Operation not supported<br />getfattr -n security.selinux folder.jpg<br />folder.jpg: security.selinux: Operation not supported</p><p>I know that this file has a security.selinux value because getfattr works fine when I hook up the USB drive to my normal linux desktop.</p><p>Any help or pointers would be much appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211489">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						3 Sep 2013, 10:21					</div>
				</div>
				<div class="post-content content">
					<p>kmod-ext4 is compiled without CONFIG_EXT4_FS_XATTR afair.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211541">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hasso</div>
					<div class="post-datetime">
						3 Sep 2013, 22:18					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, but if that were the case I would not have expected &#039;setfattr -n user.foo -v bar folder.jpg&#039; to work. I only get the &#039;Operation not supported&#039; response when doing setfattr/getfattr commands involving &#039;security.selinux&#039;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211564">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						4 Sep 2013, 10:56					</div>
				</div>
				<div class="post-content content">
					<p>Oh right, selinux is not part of openwrt either.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211621">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hasso</div>
					<div class="post-datetime">
						5 Sep 2013, 07:37					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s too bad. I did think that I&#039;d be able to write the security.selinux attribute in OpenWRT, even without it having SELinux, if I had the ext4 filsystem compiled with CONFIG_EXT4_FS_XATTR, CONFIG_EXT4_FS_SECURITY and CONFIG_EXT4_FS_POSIX_ACL. Looks like that isn&#039;t the case.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>