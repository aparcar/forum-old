<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [brcm63xx] OpenWRT on Alice Gate 2+ No-WiFi (6338-based)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p112566">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">marcus905</div>
					<div class="post-datetime">
						6 Jul 2010, 17:14					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d like to know what&#039;s needed to add the specific board of the modem in subject (board id: &quot;AG2-Plus&quot;, from bootlog). <br />I have the GPL sources used to compile a working default image.<br />You can download them here: <a href="http://www.it.pirellibroadband.com/it_IT/browser/attachments/alice/Alice_AGB_3.2.3_0010_consumer_release.tar.gz">http://www.it.pirellibroadband.com/it_I … ase.tar.gz</a><br />Mirror: <a href="http://dl.dropbox.com/u/7288355/Alice_AGB_3.2.3_0010_consumer_release.tar.gz">http://dl.dropbox.com/u/7288355/Alice_A … ase.tar.gz</a><br />Relevant board parameters are in shared/opensource/boardparms/bcm963xx/boardparms.c</p><br /><p>EDIT: posting board image<br /><a href="http://img806.imageshack.us/i/sdc10041modifiedingimpi.jpg/">http://img806.imageshack.us/i/sdc10041m … gimpi.jpg/</a><br /><span class="postimg"><img src="http://img806.imageshack.us/img806/4327/sdc10041modifiedingimpi.jpg" alt="http://img806.imageshack.us/img806/4327/sdc10041modifiedingimpi.jpg" /></span></p><p>J5 is a low voltage serial, but NC. You need to bridge (0ohm resistor) the R120, R121 &amp; R119 pads on top of J5. Pin 1 is RX, pin 3 is +3V3, pin 5 is TX; pins 2, 4, &amp; 6 are GND.<br />J6 is JTAG, standard 7x2 pinout with even pins to GND.</p><p>RAM is 16MB and Flash is 8MB.</p><p>bootlog:</p><div class="codebox"><pre><code>CFE version 1.0.37-3.1 P8 for BCM96338 (32bit,SP,BE)
Build Date: dom mar 26 11:03:56 CEST 2006 (root@RanmaLinux)
Copyright (C) 2000-2005 Broadcom Corporation.

Boot Address 0xbf800000

Initializing Arena.
Initializing Devices.
cfi_flash_get_device_id
Parallel flash device: name AM29LV640MT, id 0x2201, size 8192KB
CPU type 0x29010: 240MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x805281B0 (1208752)
Initialized Data:          0x8041DED0 - 0x8041F930 (6752)
BSS Area:                  0x8041F930 - 0x804261B0 (26752)
Local Heap:                0x804261B0 - 0x805261B0 (1048576)
Stack Area:                0x805261B0 - 0x805281B0 (8192)
Text (code) segment:       0x80401000 - 0x8041DED0 (118480)
Boot area (physical):      0x00529000 - 0x00569000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1:ffffff00  
Host IP address                   : 192.168.1.100  
Gateway IP address                :   
Run from flash/host (f/h)         : f  
Default host run file name        : vmlinux  
Default host flash file name      : bcmAG2-Plus_fs_kernel  
Boot delay (0-9 seconds)          : 1  
Boot image (0=latest, 1=previous) : 0  
Board Id Name                     : AG2-Plus  
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 11  
Base MAC Address                  : 02:10:18:01:00:01  
Ethernet PHY Type                 : External Switch Using Reverse MII
Memory size in MB                 : 16

*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 110
Booting from latest image (0xbfc00000) ...
Code Address: 0x80010000, Entry Address: 0x801a8018
8192 size flash memory detected
starting image at [BFC00100] image length 29f97a 

CRC from tag eb2d8fda - CRC image calculated eb2d8fda
Decompression OK!
Entry at 0x801a8018
Closing network.
Starting program at 0x801a8018
Linux version 2.6.8.1 (alessandro@alessandro) (gcc version 3.4.2) #1 Tue Aug 1 15:16:26 CEST 2006

cfi_flash_get_device_id

Parallel flash device: name AM29LV640MT, id 0x2201, size 8192KB

Total Flash size: 8192K with 135 sectors

AG2-Plus prom init

CPU revision is: 00029010

Determined physical RAM map:

 memory: 00fa0000 @ 00000000 (usable)

On node 0 totalpages: 4000

  DMA zone: 4000 pages, LIFO batch:1

  Normal zone: 0 pages, LIFO batch:1

  HighMem zone: 0 pages, LIFO batch:1

Built 1 zonelists

Kernel command line: root=31:0 ro noinitrd

brcm mips: enabling icache and dcache...

Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.

Primary data cache 8kB 2-way, linesize 16 bytes.

PID hash table entries: 64 (order 6: 512 bytes)

Using 120.000 MHz high precision timer.

Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)

Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)

Memory: 13960k/16000k available (1423k kernel code, 2020k reserved, 204k data, 72k init, 0k highmem)

Calibrating delay loop... 238.38 BogoMIPS

Mount-cache hash table entries: 512 (order: 0, 4096 bytes)

Checking for &#039;wait&#039; instruction...  unavailable.

NET: Registered protocol family 16

Can&#039;t analyze prologue code at 80172614

Initializing Cryptographic API

PPP generic driver version 2.4.2

NET: Registered protocol family 24

Using noop io scheduler

bcm963xx_mtd driver v1.0

brcmboard: brcm_board_init entry

plab_sem_init -- NOW create Sem_SPI_SmartCard SEMAPHORE 

bcm963xx_serial driver v2.0

u32 classifier

NET: Registered protocol family 2

IP: routing cache hash table of 512 buckets, 4Kbytes

TCP: Hash tables configured (established 512 bind 1024)

Initializing IPsec netlink socket

NET: Registered protocol family 1

NET: Registered protocol family 17

NET: Registered protocol family 15

Ebtables v2.0 registered

NET: Registered protocol family 8

NET: Registered protocol family 20

802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;

All bugs added by David S. Miller &lt;davem@redhat.com&gt;

VFS: Mounted root (squashfs filesystem) readonly.

Freeing unused kernel memory: 72k freed


init started:  BusyBox v1.00 (2007.02.26-21:48+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5

mount: Mounting none on /proc/bus/usb failed: No such file or directory


BusyBox v1.00 (2007.02.26-21:48+0000) Built-in shell (msh)
Enter &#039;help&#039; for a list of built-in commands.


Loading drivers and kernel modules... 

atmapi: module license &#039;Proprietary&#039; taints kernel.

blaadd: blaa_detect entry

adsl: adsl_init entry

Broadcom BCMPROCFS v1.0 initialized

Broadcom BCM6338A2 Ethernet Network Device v0.3 Aug  1 2006 15:15:06

Config Ethernet Switch Through SPI Slave Select 0

eth0: MAC Address: 02:10:18:01:00:01

dgasp: kerSysRegisterDyingGaspHandler: eth0 registered 

Broadcom BCM6338A2 USB Network Device v0.4 Aug  1 2006 15:15:08

usb0: MAC Address: 02 10 18 01 00 02

usb0: Host MAC Address: 02 10 18 01 00 03</code></pre></div>											<p class="post-edited">(Last edited by <strong>marcus905</strong> on 2 Feb 2011, 03:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127118">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">marcus905</div>
					<div class="post-datetime">
						2 Feb 2011, 03:20					</div>
				</div>
				<div class="post-content content">
					<p>Bump!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127121">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						2 Feb 2011, 04:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I suggest to subscribe to the openwrt-devel list at lists.openwrt.org and get in touch with Florian.<br />However, supporting a new bcm63xx board usually involves working out the imagetag (firmware image header) and adding board setup to the kernel, see for example <a href="https://dev.openwrt.org/browser/trunk/target/linux/brcm63xx/patches-2.6.35/430-board_gw6200_gw6000.patch">https://dev.openwrt.org/browser/trunk/t … 6000.patch</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>