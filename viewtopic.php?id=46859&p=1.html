<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> support for tl-wa850re and tl-wa750re</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 24 Mar 2018 and 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 6</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=46859&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=46859&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=46859&amp;p=6.html">6</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p215141">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						19 Oct 2013, 02:31					</div>
				</div>
				<div class="post-content content">
					<p>Currently the tl-wa850re and tl-wa750re are supported under openwrt.</p><p>If you have the wa850 with the firmware version 3.13.27 Build121119 Rel.609994n, I altered the tp-link firmware slightly so it allows you to flash it to your wa850V1.0 after that you can choose of course to upgrade to openwrt or not. <a href="https://forum.openwrt.org/viewtopic.php?pid=218571#p218571">see post 218571</a></p><p><strong>Download <a href="http://ooxion.com/openwrt/wax50re/index.html">Images for the wa850 and wa750</a></strong> <strong>Recommended</strong> by FriedZombie. comes with <strong>webgui</strong> (Luci) and compiled by me.</p><p>If you want to download a trunk (bleeding edge relase) for the wa850/wa750 see the <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/">download section</a> <br /><strong>please note there is no webgui currently included in the trunk snapshots.</strong><br />factory <em>barier breaker</em> (trunk) image for the <em>wa850</em>: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory.bin">openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory.bin</a><br />factory <em>barier breaker</em> (trunk) image for the <em>wa750</em>: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wa750re-v1-squashfs-factory.bin">openwrt-ar71xx-generic-tl-wa750re-v1-squashfs-factory.bin</a></p><p>Openwrt <a href="http://wiki.openwrt.org/toh/tp-link/tl-wa850re">wiki entry for the wa850/wa750</a> (<a href="https://en.wikipedia.org/wiki/Work_in_process">wip</a>)</p><p>Also after some checking all released wa750/850&#039;s do have u-boot 1.1.4 (up to v1.2 at least), bricked during development but that seemed it had todo with that eth1 and eth0 are inverted compared to a &#039;normall&#039; router.</p><p>--------Original post---------<br />I would love to flash my tl-wa850re with openwrt, but I need some pointers where to start.<br />Of course I did read the <a href="http://wiki.openwrt.org/doc/devel/add.new.device">wiki article add new device</a>, but that helps me only so far.</p><p>What I noticed is that the board files, more or less are the same as the <a href="http://www.tp-link.com/resources/gpl/TL-WA850REv1.tar.gz">GPL source release</a> from tp-link</p><p>and if I flash the firmware for the <a href="http://wiki.openwrt.org/toh/tp-link/tl-ap121">TL_MR3420V2</a> of the openwrt firmware the device works almost correctly</p><p>A slight push in the right direction would be very welcome <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 24 Dec 2013, 16:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215151">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						19 Oct 2013, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>what do you mean by &quot;almost&quot; correctly? </p><p>also, i do not understand your question, if you already flashed it you ask how to flash???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215196">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						20 Oct 2013, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>the fist extender I have the (v1.0) flashed fine, with the firmware for the&nbsp; TL_MR3420V2 but I bricked my v1.2<br />The v1.0 works as aspected, but it does not have an usb and some extra leds, so it would be nice to have those extra leds working as well.</p><p>Because of the wiki article on how to add devices, I know how to do that now. But since the tp-link follows a slightly different structure close to the gpl release of the tp-link firmware, I wanted to ask how can I add a new tp-link device to openwrt??</p><p>Of course I could go on and find it out by myself, but I&#039;m certain people before me have done that before.<br />So my question is: What is the easiest way to add a tp-link device to openwrt?</p><p>And for the scrap book <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />, Since I bricked my wa850-v1.2 and I couldn&#039;t flash it again via ethernet I cracked it open (it was glued)</p><p><a href="http://imgur.com/QWbQ4tn"><span class="postimg"><img src="http://i.imgur.com/QWbQ4tns.jpg" alt="http://i.imgur.com/QWbQ4tns.jpg" /></span></a> <a href="http://imgur.com/ZkJhIZm"><span class="postimg"><img src="http://i.imgur.com/ZkJhIZms.jpg" alt="http://i.imgur.com/ZkJhIZms.jpg" /></span></a> <a href="http://imgur.com/VLFXb76"><span class="postimg"><img src="http://i.imgur.com/VLFXb76s.jpg" alt="http://i.imgur.com/VLFXb76s.jpg" /></span></a><br /><a href="http://imgur.com/a/6tRIz/embed">Imgur album</a></p><p>Also it is funny that the device is the v1.2 and the board says v1.1</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 23 Nov 2013, 20:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215207">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						20 Oct 2013, 09:28					</div>
				</div>
				<div class="post-content content">
					<p>the serial log of the v1.2 could help understanding what is not working!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215228">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						20 Oct 2013, 18:05					</div>
				</div>
				<div class="post-content content">
					<p>Yeah the serial log will help, but it was 3 in the morning, but I thought I post that message anyway <br />Still my initial question wasn&#039;t answered though</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 21 Oct 2013, 04:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215428">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						22 Oct 2013, 18:31					</div>
				</div>
				<div class="post-content content">
					<p>Seems my previous statement was also incorrect thoug, all v1.x devices are the same. Only I didn&#039;t originally have the latest firmware version from tp-link. So my guess would be that there is a newer u-boot is installed.</p><p>However if the device is flashed witht the openwrt firmware of the tl-mr3420-v2, the device is only reachable in safemode.<br />The reason for this is that the network configuration from the tl-mr3420-v2 isn&#039;t identical to the wa850re</p><p>eth0 = not connected<br />eth1 = connected to the lan port</p><p>Complete bootlog of the device, the last lines are from the updates of the wifi strength indicator on the front of the device.<br />the log is from the tp-link <a href="http://nl.tp-link.com/resources/software/TL-WA850RE_V1.20_130922.zip">TL-WA850RE_V1.20_130922</a> firmware<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Jun 22 2013 - 22:31:55)

U-boot AP123


DRAM:  32 MB
id read 0x100000ff
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag934x_enet_initialize...
wasp reset mask:c03300
WASP ----&gt; S27 PHY
GMAC: cfg1 0x5 cfg2 0x7114
eth0: ba:be:fa:ce:08:41
s27 reg init
athrs27_phy_setup ATHR_PHY_CONTROL 4: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 4: 0x10
eth0 up
WASP ----&gt; S27 PHY
GMAC: cfg1 0xf cfg2 0x7214
eth1: ba:be:fa:ce:08:41
s27 reg init lan
ATHRS27: resetting s27
ATHRS27: s27 reset done
athrs27_phy_setup ATHR_PHY_CONTROL 0: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 0: 0x10
athrs27_phy_setup ATHR_PHY_CONTROL 1: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 1: 0x10
athrs27_phy_setup ATHR_PHY_CONTROL 2: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 2: 0x10
athrs27_phy_setup ATHR_PHY_CONTROL 3: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 3: 0x10
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...

Booting Atheros AR934x
Linux version 2.6.31--LSDK-9.2.0_U5.508 (tplink@localhost.localdomain) (gcc version 4.3.3 (GCC) ) #13 Sun Sep 22 14:36:28 CST 2013
flash_size passed from bootloader = 4
Ram size passed from bootloader =33554432
CPU revision is: 0001974c (MIPS 74Kc)
ath_sys_frequency: cpu srif ddr srif cpu 535 ddr 400 ahb 200
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: console=ttyS0,115200 root=31:2 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art) mem=32M
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
Memory: 30132k/32768k available (1718k kernel code, 2636k reserved, 430k data, 112k init, 0k highmem)
NR_IRQS:128
plat_time_init: plat time init done
Calibrating delay loop... 267.26 BogoMIPS (lpj=534528)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
ATH GPIOC major 0
squashfs: version 4.0 (2009/01/31) Phillip Lougher
msgmni has been set to 58
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0xb8020000 (irq = 19) is a 16550A
console [ttyS0] enabled
PPP generic driver version 2.4.2
NET: Registered protocol family 24
5 cmdlinepart partitions found on MTD device ath-nor0
Creating 5 MTD partitions on &quot;ath-nor0&quot;:
0x000000000000-0x000000020000 : &quot;u-boot&quot;
0x000000020000-0x000000120000 : &quot;kernel&quot;
0x000000120000-0x0000003e0000 : &quot;rootfs&quot;
0x0000003e0000-0x0000003f0000 : &quot;config&quot;
0x0000003f0000-0x000000400000 : &quot;art&quot;
-&gt;Oops: flash id 0x10215 .
ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
Port Status 1c000004
ath-ehci ath-ehci.0: ATH EHCI
ath-ehci ath-ehci.0: new USB bus registered, assigned bus number 1
ehci_reset Intialize USB CONTROLLER in host mode: 13
ehci_reset Port Status 1c000000
ath-ehci ath-ehci.0: irq 3, io mem 0x1b000000
ehci_reset Intialize USB CONTROLLER in host mode: 13
ehci_reset Port Status 1c000000
ath-ehci ath-ehci.0: USB 2.0 started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
TCP cubic registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
athwdt_init: Registering WDT success
ath_otp_init: Registering OTP success
ath_clksw_init: Registering Clock Switch Interface success
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 112k freed
init started:  BusyBox v1.01 (2013.09.02-02:29+0000) multi-call binary
This Board use 2.6.31
xt_time: kernel timezone is -0000
nf_conntrack version 0.5.0 (512 buckets, 5120 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
insmod: cannot open module `/lib/modules/2.6.31/kernel/iptable_raw.ko&#039;: No such file or directory
insmod: cannot open module `/lib/modules/2.6.31/kernel/flashid.ko&#039;: No such file or directory
PPPoL2TP kernel driver, V1.0
PPTP driver version 0.8.3
insmod: cannot open module `/lib/modules/2.6.31/kernel/harmony.ko&#039;: No such file or directory

Now flash open!
Now flash open!
 (none) mips #13 Sun Sep 22 14:36:28 CST 2013 (none)
(none) login: ATHR_GMAC: Length per segment 1536
ATHR_GMAC: fifo cfg 3 01f00140
ATHR_GMAC: RX TASKLET - Pkts per Intr:32
mac:1 Registering S27....
ATHR_GMAC: Max segments per packet :   1
ATHR_GMAC: Max tx descriptor count :   40
ATHR_GMAC: Max rx descriptor count :   128
ATHR_GMAC: Mac capability flags    :   2D82
ATHR_GMAC: RX TASKLET - Pkts per Intr:32
mac:0 Registering S27....
ATHR_GMAC: Max segments per packet :   1
ATHR_GMAC: Max tx descriptor count :   40
ATHR_GMAC: Max rx descriptor count :   128
ATHR_GMAC: Mac capability flags    :   2582
athr_gmac_ring_alloc Allocated 640 at 0x81e98c00
athr_gmac_ring_alloc Allocated 2048 at 0x81ccc000
WASP ----&gt; S27 PHY MDIO
Setting Drop CRC Errors, Pause Frames and Length Error frames
Setting PHY...
athr_gmac_ring_alloc Allocated 640 at 0x81e98800
athr_gmac_ring_alloc Allocated 2048 at 0x81e97800
WASP ----&gt; S27 PHY MDIO
Setting Drop CRC Errors, Pause Frames and Length Error frames
ATHRS27: resetting s27
ATHRS27: s27 reset done
Setting PHY...
device eth1 entered promiscuous mode
Now flash open!
athr_gmac_ring_free Freeing at 0x81e98c00
athr_gmac_ring_free Freeing at 0x81ccc000
athr_gmac_ring_alloc Allocated 640 at 0x81e98c00
athr_gmac_ring_alloc Allocated 2048 at 0x81eb3800
WASP ----&gt; S27 PHY MDIO
Setting Drop CRC Errors, Pause Frames and Length Error frames
Setting PHY...
enet0 port0 up
ATHR_GMAC: Enet Unit:0 PHY:0 is UP Mii 100Mbps full duplex
ATHR_GMAC: done cfg2 0x7115 ifctl 0x10000 miictrl
WASP ----&gt; S27 PHY MDIO
Setting Drop CRC Errors, Pause Frames and Length Error frames
br0: port 1(eth1) entering forwarding state
nf_conntrack_rtsp v0.6.21 loading
nf_nat_rtsp v0.6.21 loading
asf: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
ath_hal: 0.9.17.1 (AR5416, AR9380, REGOPS_FUNC, WRITE_EEPROM, 11D)
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_ahb: 9.2.0_U10.1020 (Atheros/multi-bss)
__ath_attach: Set global_scn[0]
ACBKMinfree = 48
ACBEMinfree = 32
ACVIMinfree = 16
ACVOMinfree = 0
CABMinfree = 48
UAPSDMinfree = 0
Restoring Cal data from Flash
ath_get_caps[5124] rx chainmask mismatch actual 3 sc_chainmak 0
ath_get_caps[5099] tx chainmask mismatch actual 3 sc_chainmak 0
wifi0: Atheros 9340: mem=0xb8100000, irq=2
====&gt;&gt;&gt;&gt;SystemMode : Standard AP
wlan_vap_create : enter. devhandle=0x815382c0, opmode=IEEE80211_M_HOSTAP, flags=0x1
wlan_vap_create : exit. devhandle=0x815382c0, opmode=IEEE80211_M_HOSTAP, flags=0x1.
VAP device ath0 created
====&gt;&gt;&gt;&gt;wlan: rand channel 3

Setting VAP IND in IC

 DES SSID SET=TP-LINK_Extender_BE3F0F
 ieee80211_ioctl_siwmode: imr.ifm_active=131712, new mode=3, valid=1
ath_vap_up... Ind rpt is set
athr_gmac_ring_free Freeing at 0x81e98c00
athr_gmac_ring_free Freeing at 0x81eb3800
br0: port 1(eth1) entering disabled state
athr_gmac_ring_alloc Allocated 640 at 0x81e98c00
athr_gmac_ring_alloc Allocated 2048 at 0x81faa800
WASP ----&gt; S27 PHY MDIO
Setting Drop CRC Errors, Pause Frames and Length Error frames
Setting PHY...
ath_vap_up... Ind rpt is set
device ath0 entered promiscuous mode
br0: port 2(ath0) entering forwarding state

 DES SSID SET=TP-LINK_Extender_BE3F0F
ath_vap_up... Ind rpt is set
RetCode in regn of misc ev handler 0
VAP device ath2 created
 ieee80211_ioctl_siwmode: imr.ifm_active=917632, new mode=2, valid=1
br0: starting userspace STP failed, starting kernel STP
 ieee80211_ioctl_siwmode: imr.ifm_active=918144, new mode=3, valid=1
br0: port 2(ath0) entering disabled state
 DEVICE IS DOWN ifname=ath0
 DEVICE IS DOWN ifname=ath0
ath_vap_up... Ind rpt is set
br0: topology change detected, propagating
enet0 port0 up
ATHR_GMAC: Enet Unit:0 PHY:0 is UP Mii 100Mbps full duplex
ATHR_GMAC: done cfg2 0x7115 ifctl 0x10000 miictrl
WASP ----&gt; S27 PHY MDIO
Setting Drop CRC Errors, Pause Frames and Length Error frames
br0: port 2(ath0) entering forwarding state
br0: topology change detected, propagating
br0: port 1(eth1) entering forwarding state
br0: port 2(ath0) entering disabled state
ath_vap_up... Ind rpt is set
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
====&gt;&gt;&gt;&gt;------------swWlanExtenderStart---------------

====&gt;&gt;&gt;&gt;swWlanExtenderThread

====&gt;&gt;&gt;&gt;create extender thread ok,pid:5126

====&gt;&gt;&gt;&gt;create ssid thread success, pid:7176

====&gt;&gt;&gt;&gt;************:DISCONNECT

br0: port 2(ath0) entering disabled state
 DEVICE IS DOWN ifname=ath0
 DEVICE IS DOWN ifname=ath0
ath_vap_up... Ind rpt is set
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
 ieee80211_ioctl_siwmode: imr.ifm_active=918144, new mode=3, valid=1
br0: port 2(ath0) entering disabled state
 DEVICE IS DOWN ifname=ath0
 DEVICE IS DOWN ifname=ath0
ath_vap_up... Ind rpt is set
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
Clearing VAP IND in IC
Setting VAP IND in IC
br0: port 2(ath0) entering disabled state
ath_vap_up... Ind rpt is set
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
ATHR_GMAC: GE0 RX DMA ENABLE
ath_paprd_cal PAPRD excessive failure disabling PAPRD now
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 1
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 0
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 1
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 0
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 1
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 0
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 1
ath_net80211_rate_newstate... ni_chwidth 1 .. ic_cw-width 0</code></pre></div><p>the log is from openwrt <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-factory.bin">tl-mr3420-v2-squashfs</a> r38461 firmware<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Jun 22 2013 - 22:31:55)

U-boot AP123


DRAM:  32 MB
id read 0x100000ff
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag934x_enet_initialize...
wasp reset mask:c03300
WASP ----&gt; S27 PHY
GMAC: cfg1 0x5 cfg2 0x7114
eth0: ba:be:fa:ce:08:41
s27 reg init
athrs27_phy_setup ATHR_PHY_CONTROL 4: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 4: 0x10
eth0 up
WASP ----&gt; S27 PHY
GMAC: cfg1 0xf cfg2 0x7214
eth1: ba:be:fa:ce:08:41
s27 reg init lan
ATHRS27: resetting s27
ATHRS27: s27 reset done
athrs27_phy_setup ATHR_PHY_CONTROL 0: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 0: 0x10
athrs27_phy_setup ATHR_PHY_CONTROL 1: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 1: 0x10
athrs27_phy_setup ATHR_PHY_CONTROL 2: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 2: 0x10
athrs27_phy_setup ATHR_PHY_CONTROL 3: 0x1000
athrs27_phy_setup ATHR_PHY_SPEC_STAUS 3: 0x10
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...

[    0.000000] Linux version 3.10.15 (fnord@tschunk) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2013.05 r38461) ) #1 Sun Oct 20 06:45:25 UTC 2013
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001974c (MIPS 74Kc)
[    0.000000] SoC: Atheros AR9341 rev 3
[    0.000000] Clocks: CPU:535.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-MR3420-v2 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 28716k/32768k available (2312k kernel code, 4052k reserved, 604k data, 216k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.000000] Calibrating delay loop... 266.64 BogoMIPS (lpj=1333248)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.090000] MIPS: machine is TP-LINK TL-MR3420 v2
[    0.510000] bio: create slab &lt;bio-0&gt; at 0
[    0.520000] Switching to clocksource MIPS
[    0.530000] NET: Registered protocol family 2
[    0.530000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.530000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.540000] TCP: Hash tables configured (established 512 bind 512)
[    0.540000] TCP: reno registered
[    0.550000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.550000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.560000] NET: Registered protocol family 1
[    0.580000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.580000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.590000] msgmni has been set to 56
[    0.600000] io scheduler noop registered
[    0.600000] io scheduler deadline registered (default)
[    0.610000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
r²¢êserial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
[    0.650000] console [ttyS0] enabled, bootconsole disabled
[    0.650000] console [ttyS0] enabled, bootconsole disabled
[    0.660000] ath79-spi ath79-spi: master is unqueued, this is deprecated
[    0.670000] m25p80 spi0.0: found s25sl032p, expected m25p80
[    0.670000] m25p80 spi0.0: s25sl032p (4096 Kbytes)
[    0.680000] 5 tp-link partitions found on MTD device spi0.0
[    0.690000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.690000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.700000] 0x000000020000-0x0000001234e4 : &quot;kernel&quot;
[    0.700000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.720000] 0x0000001234e4-0x0000003f0000 : &quot;rootfs&quot;
[    0.720000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.740000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.740000] 1 squashfs-split partitions found on MTD device rootfs
[    0.750000] 0x0000002e0000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.760000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
[    0.760000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
[    0.790000] libphy: ag71xx_mdio: probed
[    0.790000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII
[    1.350000] ag71xx ag71xx.0 eth0: connected to PHY at ag71xx-mdio.1:00 [uid=004dd042, driver=Generic PHY]
[    1.360000] eth1: Atheros AG71xx at 0xba000000, irq 5, mode:GMII
[    1.920000] eth1: Found an AR934X built-in switch
[    2.950000] TCP: cubic registered
[    2.950000] NET: Registered protocol family 17
[    2.960000] Bridge firewalling registered
[    2.960000] 8021q: 802.1Q VLAN Support v1.8
[    2.970000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    2.980000] Freeing unused kernel memory: 216K (8033a000 - 80370000)
Console is alive
procd: Console is alive
- watchdog -
procd: - watchdog -
[    5.270000] usbcore: registered new interface driver usbfs
[    5.280000] usbcore: registered new interface driver hub
[    5.280000] usbcore: registered new device driver usb
[    5.290000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    5.300000] ehci-platform: EHCI generic platform driver
[    5.310000] ehci-platform ehci-platform: EHCI Host Controller
[    5.310000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    5.320000] ehci-platform ehci-platform: TX-TX IDP fix enabled
[    5.330000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
[    5.350000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[    5.350000] hub 1-0:1.0: USB hub found
[    5.360000] hub 1-0:1.0: 1 port detected
[    5.370000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
kmod: ran 21 iterations
- preinit -
procd: - preinit -
Press the [f] key and hit [enter] to enter failsafe mode
[    8.360000] eth0: link up (100Mbps/Full duplex)
mount_root: jffs2 is ready
[    8.890000] jffs2: notice: (338) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 13 of xref (0 dead, 2 orphan) found.
[    8.920000] eth0: link down
- early -
procd: - early -
- watchdog -
procd: - watchdog -
- init -
procd: - init -
Please press Enter to activate this console.
[    9.910000] NET: Registered protocol family 10
[    9.930000] nf_conntrack version 0.5.0 (452 buckets, 1808 max)
[    9.940000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[    9.970000] Loading modules backported from Linux version master-2013-06-27-0-gdcfa6d5
[    9.970000] Backport generated by backports.git backports-20130617-4-ge3220f5
[    9.990000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   10.030000] xt_time: kernel timezone is -0000
[   10.060000] cfg80211: Calling CRDA to update world regulatory domain
[   10.060000] cfg80211: World regulatory domain updated:
[   10.070000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   10.080000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.090000] cfg80211:   (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   10.090000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   10.100000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.110000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.170000] PPP generic driver version 2.4.2
[   10.180000] NET: Registered protocol family 24
[   10.270000] cfg80211: Calling CRDA for country: US
[   10.280000] cfg80211: Regulatory domain changed to country: US
[   10.280000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   10.290000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)
[   10.300000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)
[   10.310000] cfg80211:   (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.310000] cfg80211:   (5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.320000] cfg80211:   (5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   10.330000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)
[   10.340000] ieee80211 phy0: Atheros AR9340 Rev:0 mem=0xb8100000, irq=47
[   16.020000] IPv6: ADDRCONF(NETDEV_UP): eth1: link is not ready
[   16.020000] device eth1 entered promiscuous mode
[   16.030000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
[   16.040000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
[   16.540000] eth0: link up (100Mbps/Full duplex)
[   16.540000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
procd: - init complete -</code></pre></div><p>uboot printenv:<br /></p><div class="codebox"><pre><code>wasp&gt; printenv
bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art)
bootcmd=bootm 0x9f020000
bootdelay=1
baudrate=115200
ethaddr=0xba:0xbe:0xfa:0xce:0x08:0x41
ipaddr=192.168.1.111
serverip=192.168.1.100
dir=
bc=ap123
lu=tftp 0x81000000 ${dir}u-boot.bin&amp;&amp;erase 0x9f000000 +$filesize;cp.b $fileaddr 0x9f000000 $filesize
lf=tftp 0x81000000 ${dir}${bc}-squashfs&amp;&amp;erase 0x9f120000 +$filesize;cp.b $fileaddr 0x9f120000 $filesize
stdin=serial
stdout=serial
stderr=serial
ethact=eth0

Environment size: 565/65532 bytes</code></pre></div><p>the tp-link (ondocumented) recovery procedure, is not going to work since eth0 isn&#039;t connected.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 27 Oct 2013, 23:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215434">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Oct 2013, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>can you try this image?</p><p><a href="http://www.file-upload.net/download-7845408/openwrt-ar71xx-generic-tl-wa801nd-v2-squashfs-factory-12.09.bin.html">http://www.file-upload.net/download-784 … 9.bin.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215441">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						22 Oct 2013, 23:09					</div>
				</div>
				<div class="post-content content">
					<p>The firmware works a lot better, the wifi and lan directly work without issues.</p><p>The power led (ds9) works (it is always on and can&#039;t be controlled by the mcu)<br />tp-link:green:qss is mapped to the RE (Range extender) led (ds3)</p><p>That leaves the following leds:<br />wifi strength indicator from low to high: leds ds4 ds5 ds6 ds7 ds8<br />wireless led: ds1<br />ethernet led: ds2</p><p>In total the device has 9 leds (all blue).</p><p>reset button registers as reset button and works<br />wps button doesn&#039;t register.</p><p>(the device doesn&#039;t have an usb port).</p><p>board id: 08500001<br />version:&nbsp; 00000001</p><p>But so far it looks better allready <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> thanks nebbia88</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 22 Oct 2013, 23:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215445">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Oct 2013, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>glad it worked <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>credits goes to this guy:</p><p><a href="http://tasksofohm.wordpress.com/hardware/bringing-openwrt-to-tl-wa801nd-part-2-building-openwrt/">http://tasksofohm.wordpress.com/hardwar … g-openwrt/</a></p><p>BTW you got mail ^^</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 22 Oct 2013, 23:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216638">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						4 Nov 2013, 00:48					</div>
				</div>
				<div class="post-content content">
					<p>Well I managed to add the support for the tp-link TL-WA750RE and TL-WA850RE to openwrt.<br />But I do seem to have some issues with submitting the patches.</p><p>Well it seems the biggest issue was that I can&#039;t type, also attaching the patch instead of having it inline was the way to go.</p><br /><p>And last but not least, all patches as <a href="https://drive.google.com/file/d/0B5n3FywsJ78pdTctdG1KWWVCNXM/edit?usp=sharing">one download/single file</a></p><p>And the patchwork patches:<br /><a href="http://patchwork.midlink.org/bundle/FriedZombie/tp-link%20tl-wax50re%20support/">http://patchwork.midlink.org/bundle/Fri … 20support/</a></p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 4 Nov 2013, 16:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p216739">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						4 Nov 2013, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>And for the people that want to flash there wa750re/wa850re, here are the images:<br />Luci and zram-swap are included into the image.</p><p>Removed the link since&nbsp; the image can be downloaded from openwrt: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/">http://downloads.openwrt.org/snapshots/trunk/ar71xx/</a></p><p>Only differences between the two devices is that the wa750re has one internal antenna, and the wa850re has two.<br />Tested by me and they work ok, but remember they are still snapshot/beta builds.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 15 Nov 2013, 13:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217002">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">haaveilemme</div>
					<div class="post-datetime">
						7 Nov 2013, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>first of all i want to say that i really appreciate your efforts for WA750RE/WA850RE devices.</p><p>i have at hand WA750RE v1 (3.14.8 Build 130628 Rel.65164n), i tried to upload openwrt-ar71xx-generic-tl-wa750re-v1-squashfs-factory-r38640.bin using default image firmware upgrade tool but OEM firmware refused it. </p><p>What is the easiest and reliable way to flash WA750RE v1 device?</p>											<p class="post-edited">(Last edited by <strong>haaveilemme</strong> on 7 Nov 2013, 22:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217106">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						9 Nov 2013, 11:00					</div>
				</div>
				<div class="post-content content">
					<p>what specific error did you get?</p><p>try another browser (IE) if you can.</p><p>try to move the firmware in a simple path for example C:\openwrt\openwrt.bin</p><p>sometimes it helps <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217328">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">haaveilemme</div>
					<div class="post-datetime">
						12 Nov 2013, 07:03					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the answer, nebbia88!</p><p>it looks like default firmware checks hardware id and prevents upload of custom firmware with unexpected id.</p><p>FriedZombie is preparing updated image. Will report later about how it goes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217424">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">seanwmorgan</div>
					<div class="post-datetime">
						13 Nov 2013, 09:37					</div>
				</div>
				<div class="post-content content">
					<p>sigh...&nbsp; I hate to ask, can anyone please advise me of the best way to installed firmware: openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory-r38640.bin</p><p>I just purchased the TL-WA850RE to find it does not have &quot;access point&quot; as an available operation mode..</p><p>Installing the above mention firmware looks to be my solution; the factory firmware is lame&nbsp; :-)</p><p>Any help would be greatly appreciated...</p><p>Sean</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217445">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						13 Nov 2013, 15:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>haaveilemme wrote:</cite><blockquote><p>FriedZombie is preparing updated image. Will report later about how it goes.</p></blockquote></div><p>Just compiled a newer trunk release, and the range extender didn&#039;t have an issue with it and it works.</p><div class="quotebox"><cite>seanwmorgan wrote:</cite><blockquote><p>I just purchased the TL-WA850RE to find it does not have &quot;access point&quot; as an available operation mode..</p></blockquote></div><p>I thought it had, but it was named differently. (but don&#039;t pin me on that).</p><div class="quotebox"><cite>seanwmorgan wrote:</cite><blockquote><p>can anyone please advise me of the best way to installed firmware: openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory-r38640.bin</p></blockquote></div><p>Just download this file, and go to the tp-link webgui and use the tool to upgrade the firmware there.<br />after this the new ip would be 192.168.1.1 and you will be greated by the luci web gui interface</p><div class="quotebox"><cite>seanwmorgan wrote:</cite><blockquote><p>the factory firmware is lame :-)</p></blockquote></div><p>It is, but that is strange though because it would make a decent router as well.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 13 Nov 2013, 15:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217485">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">seanwmorgan</div>
					<div class="post-datetime">
						14 Nov 2013, 02:37					</div>
				</div>
				<div class="post-content content">
					<p>I should have mentioned I did try to install the above mention firmware using the TP-Link inbuilt function; however, every time I pointed to the .bin file and kept telling to select a image file to upload (or something along those lines, as if it was not a valid file or something..), perhaps was an IE issue, will try with Chrome later today..</p><p>See below for screenshots..</p><p><a href="https://drive.google.com/file/d/0B0BkM081t1xTLTNLTFRzQ2hzUjQ/edit?usp=sharing">https://drive.google.com/file/d/0B0BkM0 … sp=sharing</a></p><p><a href="https://drive.google.com/file/d/0B0BkM081t1xTazFBclpJeUJxX3c/edit?usp=sharing">https://drive.google.com/file/d/0B0BkM0 … sp=sharing</a></p>											<p class="post-edited">(Last edited by <strong>seanwmorgan</strong> on 14 Nov 2013, 09:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217527">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">haaveilemme</div>
					<div class="post-datetime">
						14 Nov 2013, 16:13					</div>
				</div>
				<div class="post-content content">
					<p>FriedZombie: you latest image for TL-WA750RE, which is now in <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/,">http://downloads.openwrt.org/snapshots/trunk/ar71xx/,</a> ahs been uploaded smoothly, and device just works. By default it becomes bridged AP so I reconfigured to be routed AP. Nice.</p><p>seanwmorgan: </p><p>&gt; ... kept telling to select a image file to upload&nbsp; ... </p><p>very probably it means that HardwareID does not match. Please check using this article </p><p>download HardwareID editor from here: <a href="http://dl.dropbox.com/u/12258575/TP-LINK_TL-WR700N/TL-MR3020_MOD_TL-WR703_ENG/TP%E8%B7%AF%E7%94%B1%E5%9B%BA%E4%BB%B6%E5%A4%B4%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%85%B7.exe">http://dl.dropbox.com/u/12258575/TP-LIN … %85%B7.exe</a></p><p>and check</p><p>you should have:<br />&nbsp; &nbsp;0x40-0x43: 08500001 <br />&nbsp; &nbsp;0x44-0x47: 00000001</p><p>if not change it accordingly</p><br /><p>see also this post in poland language:&nbsp; <a href="http://tplink-forum.pl/porady-serwisowe/wa850re-alternatywny-soft/">http://tplink-forum.pl/porady-serwisowe … ywny-soft/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217530">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						14 Nov 2013, 16:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>haaveilemme wrote:</cite><blockquote><p>and check</p><p>you should have:<br />&nbsp; &nbsp;0x40-0x43: 08500001 <br />&nbsp; &nbsp;0x44-0x47: 00000001</p><p>if not change it accordingly</p></blockquote></div><p>afaik you can&#039;t change hw id directly, there are checksums and so on, it will not be accepted by TP-LINK GUI.</p><p>I used this sometimes:</p><p><a href="https://forum.openwrt.org/viewtopic.php?pid=168045#p168045">https://forum.openwrt.org/viewtopic.php … 45#p168045</a></p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 14 Nov 2013, 20:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217531">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						14 Nov 2013, 17:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>haaveilemme wrote:</cite><blockquote><p>you should have:<br />very probably it means that HardwareID does not match. Please check using this article</p></blockquote></div><p>Hardware id&#039;s are correct. there are no variations for the wa850, and for the wa750 it is 0x40-0x43: 07500001 also no variation there. make sure that you get the correct image <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>From this point the wa850 and wa750 firmware is officially downloadable from openwrt trunk.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 15 Nov 2013, 02:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217561">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">seanwmorgan</div>
					<div class="post-datetime">
						15 Nov 2013, 02:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, I did try both image files, factory and the upgrade one (openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory.bin &amp; openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-sysupgrade.bin) both have the same issue:</p><p><a href="https://drive.google.com/file/d/0B0BkM081t1xTLTNLTFRzQ2hzUjQ/edit?usp=sharing">https://drive.google.com/file/d/0B0BkM0 … sp=sharing</a></p><p>Question does it matter that I have TL-WA850RE v1.23 RATHER THAN v1?</p><p>Just does not accept any of those 2 image files...</p><p>Thanks<br />Sean</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217567">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						15 Nov 2013, 03:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>seanwmorgan wrote:</cite><blockquote><p>Question does it matter that I have TL-WA850RE v1.23 RATHER THAN v1?</p></blockquote></div><p>at this point looks like it, in this case I would recommend to first upgrade to the latest official tp-link firmware:<br />for the wa750re <a href="http://www.tp-link.com/resources/software/TL-WA750RE_V1_130628.zip">http://www.tp-link.com/resources/softwa … 130628.zip</a><br />and the wa850re <a href="http://www.tp-link.com/resources/software/TL-WA850RE_V1.20_130922.zip">http://www.tp-link.com/resources/softwa … 130922.zip</a></p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 15 Nov 2013, 04:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218076">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">chai_x</div>
					<div class="post-datetime">
						20 Nov 2013, 21:17					</div>
				</div>
				<div class="post-content content">
					<p>Hey there. I&#039;m quite new to OpenWrt and just wanted to try to install it on my wa850re v1.0. I tried both of the bin files but couldn&#039;t get it to work. I guess the problem is the name which is checked by the installed firmware. <br />Any tips on how to rename the *.bin file to get it working?</p><p>My current firmware:&nbsp; 3.13.27 Build 121119 Rel.60994n</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218081">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						20 Nov 2013, 22:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>chai_x wrote:</cite><blockquote><p>I tried both of the bin files but couldn&#039;t get it to work.</p></blockquote></div><p> You have to flash the factory image: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a></p><p>What for name goes, anything really but try to rename it to something shorter. If that still doesn&#039;t work try a different browser.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 20 Nov 2013, 23:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218083">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">chai_x</div>
					<div class="post-datetime">
						20 Nov 2013, 23:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>FriedZombie wrote:</cite><blockquote><p>You have to flash the factory image: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wa850re-v1-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a></p><p>What for name goes, anything really but try to rename it to something shorte. If that still doesn&#039;t work try a different browser.</p></blockquote></div><p>Yeah I tried that one. Didn&#039;t work with renaming. Tried several names (like a regular update file, factory.bin, update.bin). I tried installing it from OS X with chrome and firefox and on windows with IE (11) and chrome. Even tried different locations on Windows.</p><p>Keeps printing me the same error each time: </p><p>Error code: 18005<br />Upgrade unsuccessfully because the version of the upgraded file was incorrect. Please check file name.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 6</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=46859&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=46859&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=46859&amp;p=6.html">6</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>