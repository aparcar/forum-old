<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Openwrt wifi issue mt7620</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p304327">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hrshovon</div>
					<div class="post-datetime">
						20 Dec 2015, 07:31					</div>
				</div>
				<div class="post-content content">
					<p>hello all,<br />I am using openwrt buildroot chaos calmer branch for my xiaomi miwifi mini router.The wifi performance was really poor so I googled around and added the following line lines to XIAOMI MIWIFI MINI.dts file</p><p>pinctrl {<br />&nbsp; &nbsp; &nbsp; &nbsp; state_default: pinctrl0 {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gpio {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ralink,group = &quot;i2c&quot;, &quot;rgmii1&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ralink,function = &quot;gpio&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pa {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ralink,group = &quot;pa&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ralink,function = &quot;pa&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br />&nbsp; &nbsp; &nbsp; &nbsp; };<br />&nbsp; &nbsp; };</p><p>the pa section is what I added.That improved the performance of 2.4G a lot.But I am not getting&nbsp; as much performance as a stock miwifi mini.is this a driver issue/bug? Do I need some separate driver? Really appreciate ur help</p><p>Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304346">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						20 Dec 2015, 13:22					</div>
				</div>
				<div class="post-content content">
					<p>i can&#039;t understand wtf is going on with openwrt? first patch that added support for this router already had pa, then it disappeared from tree until Andrei sent it again to mailing list <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2015-September/035571.html.">https://lists.openwrt.org/pipermail/ope … 5571.html.</a> of course it wasn&#039;t included in time for CC final because someone thinks it won&#039;t work. so how it&#039;s possible OP ends up with a .dts file missing pa functionality?</p><p>while pa improved tx performance we still miss lna for rx performance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304357">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						20 Dec 2015, 15:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>while pa improved tx performance we still miss lna for rx performance.</p></blockquote></div><p>Unfortunately, you are wright. However, I suspect, it is still missing because of &quot;how to do it ?&quot;</p><p>I would like to use this router in some production environment, but because of this issue, and<br />- no CE-cert<br />- arkward install of openwrt<br />no real perspective. May be, the source sells so many of these devices in China, no need to care about increasing sales :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304359">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						20 Dec 2015, 15:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>augustus_meyer wrote:</cite><blockquote><p>no real perspective. May be, the source sells so many of these devices in China, no need to care about increasing sales :-)</p></blockquote></div><p>exactly, Xiaomi is an A grade chinese brand and №1 in smartphone sells in China (№3 in the world with sells only in China, India, Malasya and Singapore). They have no reason to have any business with USA and Europe, while they have growing ~3 billion customers market. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 20 Dec 2015, 15:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304361">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						20 Dec 2015, 16:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>augustus_meyer wrote:</cite><blockquote><p>Unfortunately, you are wright. However, I suspect, it is still missing because of &quot;how to do it ?&quot;</p></blockquote></div><p>yes, that is the problem, MT7620 datasheet has no GPIOs listed for LNA. but i wonder what is the situation with other mt7620a routers? also a question is if the device use integrated or external LNA.</p><p>same goes for 5G MT7612E chip but at least there are known PA GPIOs, still looks like no one knows how to enable them.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304373">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hrshovon</div>
					<div class="post-datetime">
						20 Dec 2015, 17:12					</div>
				</div>
				<div class="post-content content">
					<p>When PA wasnt enabled, wifi was literally horrible...signal strength dropped to 3/5 bars in wifi strength indicator icon in the ubuntu UI while the router was sitting just beside the laptop.<br />Then after enabling the PA,signal strength increased dramatically.For getting an idea of signal strength,I used Wifi analyzer app in a galaxy Note 2.when around 2/3 feet away from the router,signal level stays at around -45dBm where with stock firmware it stays at -35dBm on average.Although sometimes the signal strength with openwrt goes at a higher level than that with stock firmware but that doesnt happen most of the time.I can guess from these results that this router can be a beast if wifi strength can be set properly.<br />I tried the rt2860v2 driver but ran into driver conflict issues(perhaps with rt2x00lib).</p>											<p class="post-edited">(Last edited by <strong>hrshovon</strong> on 20 Dec 2015, 17:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304375">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						20 Dec 2015, 17:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hrshovon wrote:</cite><blockquote><p>I can guess from these results that this router can be a beast if wifi strength can be set properly.</p></blockquote></div><p>true. it can also do a lot more than 20dBm txpower on 2.4</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304376">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hrshovon</div>
					<div class="post-datetime">
						20 Dec 2015, 17:31					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://github.com/wuqiong/rt2860v2-for-openwrt-mt7620">https://github.com/wuqiong/rt2860v2-for-openwrt-mt7620</a><br />anyone tried this driver?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306127">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">hrshovon</div>
					<div class="post-datetime">
						4 Jan 2016, 07:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,<br />I wanted to know if 2x2 HT40 mode works on miwifi mini openwrt.Now um no expert on networking stuffs so dont know how to check that.<br />Thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>