<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> VirtualBox Barrier Breaker image boot fail</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p234835">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Beeblebrox</div>
					<div class="post-datetime">
						28 May 2014, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>I downloaded the latest image from trunk then converted to vdi:<br /></p><div class="codebox"><pre><code>$ VBoxManage convertdd openwrt-x86-generic-rootfs-ext4.img Barrier_Breaker.vdi</code></pre></div><p>I then setup the VM, with the converted vdi file as the bootable media. When I start the OpenWRT VM, I get this message:<br />&quot;Fatal: No bootable medium found! System halted&quot;</p><p>What is it I&#039;m doing wrong? I assume the image file is not the correct one. Which one should I download then?</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234841">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">spectrum</div>
					<div class="post-datetime">
						28 May 2014, 13:10					</div>
				</div>
				<div class="post-content content">
					<p>if it is a rootfs image, should be correct. You probably did something wrong on the conversion,&nbsp; or&nbsp; check your VM machine</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234843">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Beeblebrox</div>
					<div class="post-datetime">
						28 May 2014, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>VM is fine, other guests are running</p><p>As stated in <a href="http://wiki.openwrt.org/doc/howto/virtualbox,">http://wiki.openwrt.org/doc/howto/virtualbox,</a> I have tried both codes<br />$ VBoxManage convertdd AND<br />$ VBoxManage convertfromraw --format VDI openwrt.img openwrt.vdi</p><p>Both give same results</p><p>These have also been done as advised in &quot;Troubleshooting&quot;:<br />* If your virtual machine won&#039;t boot, make sure your hard disk is connected using IDE (not SATA)<br />* If your virtual machine still won&#039;t boot, make sure you have a Serial Port enabled.</p>											<p class="post-edited">(Last edited by <strong>Beeblebrox</strong> on 28 May 2014, 13:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234848">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Beeblebrox</div>
					<div class="post-datetime">
						28 May 2014, 13:36					</div>
				</div>
				<div class="post-content content">
					<p>I downloaded and ran below vdi image for Attitude - it works without problem. Barrier does not.<br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09/x86/generic/openwrt-x86-generic-combined-ext4.vdi">http://downloads.openwrt.org/attitude_a … d-ext4.vdi</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234851">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						28 May 2014, 14:06					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d try to build a vdi image directly...</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 28 May 2014, 14:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234854">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Beeblebrox</div>
					<div class="post-datetime">
						28 May 2014, 14:24					</div>
				</div>
				<div class="post-content content">
					<p>nebbia88: Not sure I understood your suggestion.<br />Are you saying extract the contents of &quot;openwrt-x86-generic-rootfs-ext4.img&quot; and build the Barrier.vdi from that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234900">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						28 May 2014, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>no, in menuconfig while building your image, you can select if you want vdi or vdmk image as outputs..</p><p><a href="http://wiki.openwrt.org/doc/howto/build">http://wiki.openwrt.org/doc/howto/build</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234906">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Beeblebrox</div>
					<div class="post-datetime">
						28 May 2014, 20:46					</div>
				</div>
				<div class="post-content content">
					<p>I really don&#039;t have the time to go through the detailed &quot;compile from source&quot; business at the moment. I&#039;ll just use the Attitude version.<br />Thanks for the suggestion though.</p><p>For future reference, does OpenWRT provide the config file for building x86-generic, or better yet a collection of preset config files?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234917">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						28 May 2014, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>yes you can select through menuconfig what architecture/target you need and it will build just fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246935">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Superwayne</div>
					<div class="post-datetime">
						13 Sep 2014, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>I had the same problem and used the combined image (<a href="http://downloads.openwrt.org/barrier_breaker/14.07-rc3/x86/generic/openwrt-x86-generic-combined-ext4.img.gz">http://downloads.openwrt.org/barrier_br … xt4.img.gz</a>) instead of the rootfs one. The combined also contains GRUB2 and a boot partition.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254541">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">maplewang</div>
					<div class="post-datetime">
						16 Nov 2014, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>So anyone has installed success on Virtualbox?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262236">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">adamm</div>
					<div class="post-datetime">
						21 Jan 2015, 01:12					</div>
				</div>
				<div class="post-content content">
					<p>Yes.<br />Use <a href="http://downloads.openwrt.org/barrier_breaker/14.07-rc3/x86/generic/openwrt-x86-generic-combined-ext4.img.gz">http://downloads.openwrt.org/barrier_br … xt4.img.gz</a><br />Make sure it is atatched as IDE not SATA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301516">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">moony</div>
					<div class="post-datetime">
						28 Nov 2015, 02:08					</div>
				</div>
				<div class="post-content content">
					<p>I know this is old, but maybe it helps someone: I also couldn&#039;t boot openwrt in virtualbox. I had to edit a line in GRUB, it was &quot;root=/dev/vda2&quot; (wonder what vda is supposed to be?), changed it to &quot;root=/dev/sda2&quot;, then it worked.<br />To change that permanently, mount the boot partition /dev/sda1 to i.e. /mnt/ and edit /mnt/boot/menu.lst.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304033">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">aaaaalbert</div>
					<div class="post-datetime">
						17 Dec 2015, 19:18					</div>
				</div>
				<div class="post-content content">
					<p>I just tested the two images linked to above (<a href="http://downloads.openwrt.org/attitude_adjustment/12.09/x86/generic/openwrt-x86-generic-combined-ext4.vdi">AA</a>, <a href="http://downloads.openwrt.org/barrier_breaker/14.07-rc3/x86/generic/openwrt-x86-generic-combined-ext4.img.gz">BB</a>), and also <a href="https://downloads.openwrt.org/chaos_calmer/15.05/x86/generic/openwrt-15.05-x86-generic-combined-ext4.img.gz">this Chaos Calmer 15.05 x86 generic combined image</a>, with VirtualBox 4.3.28 on a MacBookPro8,2 running Mac OS X 10.6.8.</p><p>I converted the IMGs to VDI, added each VDI to a new VM, booted into them, and they ran.</p><p>Notes:<br /></p><ul><li><p>After starting the VM, AA pauses for 30 seconds or so, saying</p></li></ul><div class="codebox"><pre><code>GRUB Loading stage1.5.

GRUB loading, please wait...
Press any key to continue.</code></pre></div><p>It won&#039;t recognize any keypresses, but after a while, the GRUB menu does come, up and the system boots. It appears fully usable afterwards (i.e. it then takes input from the keyboard as well).<br /></p><ul><li><p>If you add a serial port to the AA VM, GRUB comes up instantly.</p></li><li><p>BB and CC required neither a serial port, nor a SATA HD controller.</p></li></ul><p>I updated the wiki page so as to reflect my experiences with CC. My guess would be that AA and BB won&#039;t see too many new installs these days, in VMs or otherwise; also, it seems that they will work out of the box now anyway.</p><p>(FWIW, I also added/updated a few other things on the wiki page, such as enabling Internet access through VBox&#039;s NAT gateway, and how inter-VM networking works. Unfortunately, the 255-char change log on the wiki was too short to document everything.)</p><p>Cheers,<br />&nbsp; aaaaalbert.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>