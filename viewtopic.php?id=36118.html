<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with JFFS2 Partition</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p164150">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">slemke</div>
					<div class="post-datetime">
						11 Apr 2012, 14:19					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have a serious problem with the jffs2 Partition (/overlay) - I hve experienced the same when using a jffs2-only Image.</p><p>The router is running a (very) small (internal) Website with lighttpd. </p><p>After power off and on again I have on boot this error:<br />JFFS2 error: (1) jffs2_build_inode_pass1: child dir &quot;css&quot; (ino #1298) of dir ino #17 appears to be a hard link</p><p>And when the router runs this one:<br />iget() failed for ino #1300<br />JFFS2 warning: (906) jffs2_get_inode_nodes: Eep. No valid nodes for ino #1300.<br />JFFS2 warning: (906) jffs2_do_read_inode_internal: no data nodes found for ino #1300</p><p>This appered on two devices (Linksys WRT54GL 1.1 with 16 MB Flash - the JFFS2-only image is the 128k-Blocks Image - accoridng to the structure of the flash chip (128x128kb). </p><p>Update: before I have flashed my jffs2 Image I have done an erase of the Chip and a clean-test - everything was empty - I am sure.</p><p>Can anybody help me out and explain why this happens and how to fix this?</p><p>Thanks,<br />Sebastian</p>											<p class="post-edited">(Last edited by <strong>slemke</strong> on 11 Apr 2012, 14:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164151">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slemke</div>
					<div class="post-datetime">
						11 Apr 2012, 14:45					</div>
				</div>
				<div class="post-content content">
					<p>Update:</p><p>It´s a 28F128J3C Chip - it´s &quot;NOR&quot; but I do not know if ECC or not (according to this: <a href="http://www.linux-mtd.infradead.org/faq/jffs2.html)">http://www.linux-mtd.infradead.org/faq/jffs2.html)</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253996">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">slemke</div>
					<div class="post-datetime">
						12 Nov 2014, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>a long time ago...:-)</p><p>I fixed this with moving the whole webserver to /tmp - so the webserver is working in the ram. When a configuration file changes it will be written to the flash with a sync(). I have also removed any subdirectories (I guess this makes not a difference). </p><p>Since these changes I experienced no more problems! Perhaps it helps anybody else.</p><p>Sebastian</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>