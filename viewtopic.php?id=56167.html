<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Atheros 9580 wireless card detection issue</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Jun 2015.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p268063">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">chaudharyparesh1986</div>
					<div class="post-datetime">
						8 Mar 2015, 07:25					</div>
				</div>
				<div class="post-content content">
					<p>I am trying to flash new firmware on tplink wdr3500 router with openwrt package.I can successfully build and flash new binary but issue in detection of Atheros 9580 wireless card.It&#039;s give me error like &quot;[&nbsp; &nbsp;11.700000] ath: phy0: ath_ahb_eeprom_read: flash read failed, offset ffffffff is out of range&quot; for more understand i also attach boot log.</p><p>Let me know where is the problem.</p><br/><br/><p>Booting image at 9f020000 ...<br/>&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.18.8 (paresh@paresh-Studio-1555) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r44620) ) #2 Sat Mar 7 17:54:00 IST 2015<br/>[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br/>[&nbsp; &nbsp; 0.000000] CPU0 revision is: 0001974c (MIPS 74Kc)<br/>[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9344 rev 2<br/>[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br/>[&nbsp; &nbsp; 0.000000]&nbsp; memory: 08000000 @ 00000000 (usable)<br/>[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br/>[&nbsp; &nbsp; 0.000000] Zone ranges:<br/>[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x07ffffff]<br/>[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br/>[&nbsp; &nbsp; 0.000000] Early memory node ranges<br/>[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x07ffffff]<br/>[&nbsp; &nbsp; 0.000000] Initmem setup node 0 [mem 0x00000000-0x07ffffff]<br/>[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br/>[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br/>[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 32512<br/>[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=TL-WDR3500 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br/>[&nbsp; &nbsp; 0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)<br/>[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)<br/>[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)<br/>[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br/>[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br/>[&nbsp; &nbsp; 0.000000] Memory: 126316K/131072K available (2270K kernel code, 114K rwdata, 412K rodata, 200K init, 179K bss, 4756K reserved)<br/>[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br/>[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br/>[&nbsp; &nbsp; 0.000000] Clocks: CPU:560.000MHz, DDR:450.000MHz, AHB:225.000MHz, Ref:40.000MHz<br/>[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 278.93 BogoMIPS (lpj=1394688)<br/>[&nbsp; &nbsp; 0.070000] pid_max: default: 32768 minimum: 301<br/>[&nbsp; &nbsp; 0.070000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)<br/>[&nbsp; &nbsp; 0.080000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)<br/>[&nbsp; &nbsp; 0.080000] NET: Registered protocol family 16<br/>[&nbsp; &nbsp; 0.090000] MIPS: machine is TP-LINK TL-WDR3500<br/>[&nbsp; &nbsp; 0.090000] registering PCI controller with io_map_base unset<br/>[&nbsp; &nbsp; 0.550000] PCI host bridge to bus 0000:00<br/>[&nbsp; &nbsp; 0.550000] pci_bus 0000:00: root bus resource [mem 0x10000000-0x13ffffff]<br/>[&nbsp; &nbsp; 0.560000] pci_bus 0000:00: root bus resource [io&nbsp; 0x0000]<br/>[&nbsp; &nbsp; 0.560000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]<br/>[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: invalid calibration data<br/>[&nbsp; &nbsp; 0.570000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1001ffff 64bit]<br/>[&nbsp; &nbsp; 0.580000] pci 0000:00:00.0: BAR 6: assigned [mem 0x10020000-0x1002ffff pref]<br/>[&nbsp; &nbsp; 0.580000] pci 0000:00:00.0: using irq 40 for pin 1<br/>[&nbsp; &nbsp; 0.590000] Switched to clocksource MIPS<br/>[&nbsp; &nbsp; 0.590000] NET: Registered protocol family 2<br/>[&nbsp; &nbsp; 0.600000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)<br/>[&nbsp; &nbsp; 0.600000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br/>[&nbsp; &nbsp; 0.610000] TCP: Hash tables configured (established 1024 bind 1024)<br/>[&nbsp; &nbsp; 0.610000] TCP: reno registered<br/>[&nbsp; &nbsp; 0.620000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br/>[&nbsp; &nbsp; 0.620000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br/>[&nbsp; &nbsp; 0.630000] NET: Registered protocol family 1<br/>[&nbsp; &nbsp; 0.630000] futex hash table entries: 256 (order: -1, 3072 bytes)<br/>[&nbsp; &nbsp; 0.650000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br/>[&nbsp; &nbsp; 0.650000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br/>[&nbsp; &nbsp; 0.660000] msgmni has been set to 246<br/>[&nbsp; &nbsp; 0.680000] io scheduler noop registered<br/>[&nbsp; &nbsp; 0.680000] io scheduler deadline registered (default)<br/>[&nbsp; &nbsp; 0.690000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br/>â–’[&nbsp; &nbsp; 0.720000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11, base_baud = 2500000) is a 16550A<br/>[&nbsp; &nbsp; 0.720000] console [ttyS0] enabled<br/>[&nbsp; &nbsp; 0.720000] console [ttyS0] enabled<br/>[&nbsp; &nbsp; 0.730000] bootconsole [early0] disabled<br/>[&nbsp; &nbsp; 0.730000] bootconsole [early0] disabled<br/>[&nbsp; &nbsp; 0.740000] m25p80 spi0.0: found s25fl064k, expected m25p80<br/>[&nbsp; &nbsp; 0.750000] m25p80 spi0.0: s25fl064k (8192 Kbytes)<br/>[&nbsp; &nbsp; 0.750000] 5 tp-link partitions found on MTD device spi0.0<br/>[&nbsp; &nbsp; 0.760000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br/>[&nbsp; &nbsp; 0.760000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;<br/>[&nbsp; &nbsp; 0.770000] 0x000000020000-0x00000011c8f8 : &quot;kernel&quot;<br/>[&nbsp; &nbsp; 0.770000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br/>[&nbsp; &nbsp; 0.790000] 0x00000011c8f8-0x0000007f0000 : &quot;rootfs&quot;<br/>[&nbsp; &nbsp; 0.790000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br/>[&nbsp; &nbsp; 0.810000] mtd: device 2 (rootfs) set to be root filesystem<br/>[&nbsp; &nbsp; 0.810000] 1 squashfs-split partitions found on MTD device rootfs<br/>[&nbsp; &nbsp; 0.820000] 0x0000002e0000-0x0000007f0000 : &quot;rootfs_data&quot;<br/>[&nbsp; &nbsp; 0.820000] 0x0000007f0000-0x000000800000 : &quot;art&quot;<br/>[&nbsp; &nbsp; 0.830000] 0x000000020000-0x0000007f0000 : &quot;firmware&quot;<br/>[&nbsp; &nbsp; 0.850000] libphy: ag71xx_mdio: probed<br/>[&nbsp; &nbsp; 1.450000] ag71xx-mdio.1: Found an AR934X built-in switch<br/>[&nbsp; &nbsp; 1.490000] eth0: Atheros AG71xx at 0xba000000, irq 5, mode:GMII<br/>[&nbsp; &nbsp; 2.090000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd042, driver=Generic PHY]<br/>[&nbsp; &nbsp; 2.100000] eth1: Atheros AG71xx at 0xb9000000, irq 4, mode:MII<br/>[&nbsp; &nbsp; 2.100000] TCP: cubic registered<br/>[&nbsp; &nbsp; 2.110000] NET: Registered protocol family 17<br/>[&nbsp; &nbsp; 2.110000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.<br/>[&nbsp; &nbsp; 2.130000] 8021q: 802.1Q VLAN Support v1.8<br/>[&nbsp; &nbsp; 2.140000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br/>[&nbsp; &nbsp; 2.150000] Freeing unused kernel memory: 200K (8031e000 - 80350000)<br/>[&nbsp; &nbsp; 3.060000] init: Console is alive<br/>[&nbsp; &nbsp; 3.070000] init: - watchdog -<br/>[&nbsp; &nbsp; 4.130000] usbcore: registered new interface driver usbfs<br/>[&nbsp; &nbsp; 4.140000] usbcore: registered new interface driver hub<br/>[&nbsp; &nbsp; 4.150000] usbcore: registered new device driver usb<br/>[&nbsp; &nbsp; 4.160000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br/>[&nbsp; &nbsp; 4.160000] ehci-platform: EHCI generic platform driver<br/>[&nbsp; &nbsp; 4.170000] ehci-platform ehci-platform: EHCI Host Controller<br/>[&nbsp; &nbsp; 4.170000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1<br/>[&nbsp; &nbsp; 4.180000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000<br/>[&nbsp; &nbsp; 4.210000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00<br/>[&nbsp; &nbsp; 4.210000] hub 1-0:1.0: USB hub found<br/>[&nbsp; &nbsp; 4.220000] hub 1-0:1.0: 1 port detected<br/>[&nbsp; &nbsp; 5.120000] init: - preinit -<br/>[&nbsp; &nbsp; 5.750000] random: mktemp urandom read with 9 bits of entropy available<br/>Press the [f] key and hit [enter] to enter failsafe mode<br/>Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br/>[&nbsp; &nbsp; 8.940000] jffs2: notice: (334) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.<br/>[&nbsp; &nbsp; 8.960000] mount_root: switching to jffs2 overlay<br/>[&nbsp; &nbsp; 9.000000] procd: - early -<br/>[&nbsp; &nbsp; 9.010000] procd: - watchdog -<br/>[&nbsp; &nbsp; 9.710000] procd: - ubus -<br/>[&nbsp; &nbsp;10.720000] procd: - init -<br/>Please press Enter to activate this console.<br/>[&nbsp; &nbsp;11.370000] NET: Registered protocol family 10<br/>[&nbsp; &nbsp;11.380000] ip6_tables: (C) 2000-2006 Netfilter Core Team<br/>[&nbsp; &nbsp;11.390000] Loading modules backported from Linux version master-2014-11-04-0-gf3660a2<br/>[&nbsp; &nbsp;11.400000] Backport generated by backports.git backports-20141023-2-g4ff890b<br/>[&nbsp; &nbsp;11.410000] ip_tables: (C) 2000-2006 Netfilter Core Team<br/>[&nbsp; &nbsp;11.430000] nf_conntrack version 0.5.0 (1976 buckets, 7904 max)<br/>[&nbsp; &nbsp;11.470000] xt_time: kernel timezone is -0000<br/>[&nbsp; &nbsp;11.490000] cfg80211: Calling CRDA to update world regulatory domain<br/>[&nbsp; &nbsp;11.520000] cfg80211: World regulatory domain updated:<br/>[&nbsp; &nbsp;11.520000] cfg80211:&nbsp; DFS Master region: unset<br/>[&nbsp; &nbsp;11.530000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br/>[&nbsp; &nbsp;11.540000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)<br/>[&nbsp; &nbsp;11.550000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)<br/>[&nbsp; &nbsp;11.550000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)<br/>[&nbsp; &nbsp;11.560000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)<br/>[&nbsp; &nbsp;11.570000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)<br/>[&nbsp; &nbsp;11.580000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)<br/>[&nbsp; &nbsp;11.590000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)<br/>[&nbsp; &nbsp;11.600000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)<br/>[&nbsp; &nbsp;11.650000] PPP generic driver version 2.4.2<br/>[&nbsp; &nbsp;11.660000] NET: Registered protocol family 24<br/><span style="color: #FF0000"><br/>[&nbsp; &nbsp;11.700000] ath: phy0: ath_ahb_eeprom_read: flash read failed, offset ffffffff is out of range<br/>[&nbsp; &nbsp;11.710000] ath: phy0: Unable to initialize hardware; initialization status: -5<br/>[&nbsp; &nbsp;11.720000] ath9k ar934x_wmac: failed to initialize device<br/>[&nbsp; &nbsp;11.730000] ath9k: probe of ar934x_wmac failed with error -5<br/>[&nbsp; &nbsp;11.730000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br/></span> <br/>[&nbsp; &nbsp;11.980000] ieee80211 phy1: Atheros AR9300 Rev:4 mem=0xb0000000, irq=40<br/>[&nbsp; &nbsp;11.990000] cfg80211: Calling CRDA for country: US<br/>[&nbsp; &nbsp;12.000000] cfg80211: Regulatory domain changed to country: US<br/>[&nbsp; &nbsp;12.000000] cfg80211:&nbsp; DFS Master region: FCC<br/>[&nbsp; &nbsp;12.010000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br/>[&nbsp; &nbsp;12.020000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)<br/>[&nbsp; &nbsp;12.020000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 1700 mBm), (N/A)<br/>[&nbsp; &nbsp;12.030000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (0 s)<br/>[&nbsp; &nbsp;12.040000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)<br/>[&nbsp; &nbsp;12.050000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)<br/>[&nbsp; &nbsp;18.650000] device eth0 entered promiscuous mode<br/>[&nbsp; &nbsp;18.660000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready<br/>[&nbsp; &nbsp;18.680000] IPv6: ADDRCONF(NETDEV_UP): eth1: link is not ready<br/>[&nbsp; &nbsp;21.350000] eth1: link up (100Mbps/Full duplex)<br/>[&nbsp; &nbsp;21.350000] IPv6: ADDRCONF(NETDEV_CHANGE): eth1: link becomes ready<br/>[&nbsp; &nbsp;80.040000] random: nonblocking pool is initialized</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268127">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">banglang.huang</div>
					<div class="post-datetime">
						9 Mar 2015, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>I fixed this problem, you can try the latest 12.09, If failed again, </p><p>This patch is for openwrt_12.09 (AA) kernel 3.3.8<br/>It adds the function for the case that having calibration data in eeprom of wifi pci card.<br/>Compat-wireless provides the way &quot;AH_USE_EEPROM&quot;(see the macro below) to read the calibration data, <br/>but the ap91_pci_init functionalities does has the correspond API. Thus ap91_pci_init() is not perfect.</p><p>macro in hw.h of compat-wireless<br/>/* ah_flags */<br/>#define AH_USE_EEPROM&nbsp; &nbsp;0x1</p> <br/><p>After using the below patch, we can init the card(most of thoes are 5GHz pci card, such as AR958x) like thie way:<br/>&nbsp; &nbsp; &nbsp; &nbsp; ...<br/>&nbsp; &nbsp; &nbsp; &nbsp; ap91_pci_init(NULL, NULL);<br/>&nbsp; &nbsp; &nbsp; &nbsp; ...</p> <br/><br/><p>Signed-off-by: banglang.huang&lt;banglang.huang@foxmail.com&gt;<br/>---<br/>diff --git a/arch/mips/ath79/dev-ap9x-pci.c b/arch/mips/ath79/dev-ap9x-pci.c<br/>index c08e438..561e9b2 100644<br/>--- a/arch/mips/ath79/dev-ap9x-pci.c<br/>+++ b/arch/mips/ath79/dev-ap9x-pci.c<br/>@@ -92,6 +92,12 @@ static int ap91_pci_plat_dev_init(struct pci_dev *dev)<br/>&nbsp; return 0;<br/> }</p><p>+static int ap91_pci_plat_dev_init_simple(struct pci_dev *dev)<br/>+{<br/>+ dev-&gt;dev.platform_data = NULL;<br/>+<br/>+ return 0;<br/>+}<br/> __init void ap91_pci_init(u8 *cal_data, u8 *mac_addr)<br/> {<br/>&nbsp; if (cal_data)<br/>@@ -103,7 +109,11 @@ __init void ap91_pci_init(u8 *cal_data, u8 *mac_addr)<br/>&nbsp; &nbsp;ap9x_wmac0_data.macaddr = ap9x_wmac0_mac;<br/>&nbsp; }</p><p>- ath79_pci_set_plat_dev_init(ap91_pci_plat_dev_init);<br/>+ if((!cal_data) &amp;&amp; (!mac_addr))<br/>+&nbsp; ath79_pci_set_plat_dev_init(ap91_pci_plat_dev_init_simple);<br/>+ else<br/>+&nbsp; ath79_pci_set_plat_dev_init(ap91_pci_plat_dev_init);<br/>+<br/>&nbsp; ath79_register_pci();</p><p>&nbsp; pci_enable_ath9k_fixup(0, ap9x_wmac0_data.eeprom_data);</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268146">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sanjay143u</div>
					<div class="post-datetime">
						9 Mar 2015, 12:18					</div>
				</div>
				<div class="post-content content">
					<p>Also getting below error while loading OpenWrt firmware.</p><p>ath: phy0: eeprom contains invalid mac address: 81:56:70:53:4a:da<br/>[&nbsp; &nbsp;11.520000] ath: phy0: random mac address will be used: 02:a0:fe:cc:55:38<br/>[&nbsp; &nbsp;11.530000] ath: Invalid EEPROM contents<br/>[&nbsp; &nbsp;11.540000] ath9k ar934x_wmac: failed to initialize device<br/>[&nbsp; &nbsp;11.540000] ath9k: probe of ar934x_wmac failed with error -22<br/>[&nbsp; &nbsp;11.550000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br/>[&nbsp; &nbsp;11.560000] ath: phy1: eeprom contains invalid mac address: d1:16:38:41:4a:fa<br/>[&nbsp; &nbsp;11.560000] ath: phy1: random mac address will be used: 96:3f:b5:e0:0e:fd<br/>[&nbsp; &nbsp;11.570000] ath: Invalid EEPROM contents<br/>[&nbsp; &nbsp;11.580000] ath9k 0000:00:00.0: Failed to initialize device<br/>[&nbsp; &nbsp;11.580000] ath9k: probe of 0000:00:00.0 failed with error -22</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268320">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">banglang.huang</div>
					<div class="post-datetime">
						11 Mar 2015, 04:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sanjay143u wrote:</cite><blockquote><p>Also getting below error while loading OpenWrt firmware.</p><p>ath: phy0: eeprom contains invalid mac address: 81:56:70:53:4a:da<br/>[&nbsp; &nbsp;11.520000] ath: phy0: random mac address will be used: 02:a0:fe:cc:55:38<br/>[&nbsp; &nbsp;11.530000] ath: Invalid EEPROM contents<br/>[&nbsp; &nbsp;11.540000] ath9k ar934x_wmac: failed to initialize device<br/>[&nbsp; &nbsp;11.540000] ath9k: probe of ar934x_wmac failed with error -22<br/>[&nbsp; &nbsp;11.550000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br/>[&nbsp; &nbsp;11.560000] ath: phy1: eeprom contains invalid mac address: d1:16:38:41:4a:fa<br/>[&nbsp; &nbsp;11.560000] ath: phy1: random mac address will be used: 96:3f:b5:e0:0e:fd<br/>[&nbsp; &nbsp;11.570000] ath: Invalid EEPROM contents<br/>[&nbsp; &nbsp;11.580000] ath9k 0000:00:00.0: Failed to initialize device<br/>[&nbsp; &nbsp;11.580000] ath9k: probe of 0000:00:00.0 failed with error -22</p></blockquote></div><br/><br/><p>maybe you can trace the source code or debug it with printk function in compat-wireless-xxxx.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268781">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sanjay143u</div>
					<div class="post-datetime">
						15 Mar 2015, 07:13					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for reply. How can i patch arch kernel with CONFIG_ATH_USER_REGD ???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268815">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">sanjay143u</div>
					<div class="post-datetime">
						15 Mar 2015, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>WDR 3500 wireless cards have been detected.</p><p>But when creating AP with hostapd/wpad-mini, its gives error &quot;ath: Unable to reset hardware; reset status -5&quot;<br/>. Then my WDR 3500 got hangs and just reboot.</p><p>Can you please help me ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268917">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sanjay143u</div>
					<div class="post-datetime">
						16 Mar 2015, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>ath: phy0: eeprom contains invalid mac address: 81:5e:78:53:4a:fa<br/>[&nbsp; &nbsp;11.340000] ath: phy0: random mac address will be used: 6e:b5:38:bb:c9:b5<br/>[&nbsp; &nbsp;11.350000] Sanjay-&gt;ath: EEPROM regdomain: 0xd6bc<br/>[&nbsp; &nbsp;11.350000] ath: EEPROM indicates we should expect a country code<br/>[&nbsp; &nbsp;11.350000] Sanjay ath: invalid regulatory domain/country code 0x96bc<br/>[&nbsp; &nbsp;11.350000] ath: Sanjay--&gt;Invalid EEPROM contents<br/>[&nbsp; &nbsp;11.350000] ath9k ar934x_wmac: failed to initialize device<br/>[&nbsp; &nbsp;11.360000] ath9k: probe of ar934x_wmac failed with error -22<br/>[&nbsp; &nbsp;11.360000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br/>[&nbsp; &nbsp;11.370000] ath: phy1: eeprom contains invalid mac address: c1:16:38:43:4a:fa<br/>[&nbsp; &nbsp;11.380000] ath: phy1: random mac address will be used: e2:b2:eb:ff:2e:0c<br/>[&nbsp; &nbsp;11.390000] Sanjay-&gt;ath: EEPROM regdomain: 0xd6fc<br/>[&nbsp; &nbsp;11.390000] ath: EEPROM indicates we should expect a country code<br/>[&nbsp; &nbsp;11.390000] Sanjay ath: invalid regulatory domain/country code 0x96fc<br/>[&nbsp; &nbsp;11.390000] ath: Sanjay--&gt;Invalid EEPROM contents<br/>[&nbsp; &nbsp;11.390000] ath9k 0000:00:00.0: Failed to initialize device<br/>[&nbsp; &nbsp;11.400000] ath9k: probe of 0000:00:00.0 failed with error -22<br/>[&nbsp; &nbsp;81.390000] random: nonblocking pool is initialized</p><p>I am getting this error. each time its reads domain/country code 0x96bc &amp; 0x96fc.. and hence give Invalid EEPROM contents error.</p><p>Please suggest whats going wrong. Whether it is issue with EEPROM reading if so then what is the issue.<br/>Also loading original TPLINK WDR3500 firmware, works great.</p><p>Please help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268976">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sanjay143u</div>
					<div class="post-datetime">
						17 Mar 2015, 07:48					</div>
				</div>
				<div class="post-content content">
					<p>My board is TP-WDR3500 V3&nbsp; so which snapshost i have to use.???</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>