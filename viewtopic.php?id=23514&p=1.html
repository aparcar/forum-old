<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> :( :( :( SSH help</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Apr 2018 and 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=23514&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p102415">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 00:45					</div>
				</div>
				<div class="post-content content">
					<p>I enabled a password using telnet and now how do I enable remote SSH access to latest Kamikaze on a non-standard port like 443, 80, or 23?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102416">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">crow</div>
					<div class="post-datetime">
						8 Feb 2010, 00:49					</div>
				</div>
				<div class="post-content content">
					<p>The ssh is activated when you change your root password over telnet, and telnet is disabled. Just fire up ssh client and try to connect to your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102417">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>that is working but when i goto wifi hotspot; connection refused on port 23</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102420">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						8 Feb 2010, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>ssh uses 22</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102421">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>wow dude thats amazing thanks for your input that really solved my problem; now everything makes sense; im&nbsp; not being sarcastic at all; you must be a goddam genius</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102423">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 01:19					</div>
				</div>
				<div class="post-content content">
					<p>BTW to any non-trolling douche-bags the original question is how do I enable remote SSH access to latest Kamikaze on a non-standard port like 443, 80, or 23?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102425">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						8 Feb 2010, 01:33					</div>
				</div>
				<div class="post-content content">
					<p>start dropbear listening on the other port and change the firewall accordingly to open that port.<br />was nit intending to troll; your question was ambiguous.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102426">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 01:54					</div>
				</div>
				<div class="post-content content">
					<p>you guys are on such a higher level it must be like trying to explain to a 3 yr old the significance of quantum mechanics on a molecular level. thanks for trying. i know ur probably not gonna answer any more questions; but ill just throw it out their in the lame attempt to actually gain insight.</p><p>how do i set dropbear to listen on the other port? </p><p>change what firewall settings; and how?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102427">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						8 Feb 2010, 02:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>byteonce wrote:</cite><blockquote><p>wow dude thats amazing thanks for your input that really solved my problem; now everything makes sense; im&nbsp; not being sarcastic at all; you must be a goddam genius</p></blockquote></div><div class="quotebox"><cite>byteonce wrote:</cite><blockquote><p>BTW to any non-trolling douche-bags the original question is how do I enable remote SSH access to latest Kamikaze on a non-standard port like 443, 80, or 23?</p></blockquote></div><div class="quotebox"><cite>byteonce wrote:</cite><blockquote><p>you guys are on such a higher level it must be like trying to explain to a 3 yr old the significance of quantum mechanics on a molecular level. thanks for trying. i know ur probably not gonna answer any more questions; but ill just throw it out their in the lame attempt to actually gain insight.</p></blockquote></div><p>Insulting everyone trying to help will make sure nobody will want to help you anymore. We are not under any obligation to help you, so please stay polite.</p><p>Yes, having a problem and not being able to solve it yourself sucks, but it is not <em>our</em> fault.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102428">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 02:11					</div>
				</div>
				<div class="post-content content">
					<p>useless reply # 4.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102429">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 02:13					</div>
				</div>
				<div class="post-content content">
					<p>i understand that this knowledge is just so hard to come by and you really feel like you should be payed for being such geniuses. i understand that; really i do. </p><p>but please just tell me the 1 or 2 lines of firewall code and what file they should be placed in and then tell me what config setting controls the port dropbear listens on; and we&#039;d be best buds, really we would.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102431">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						8 Feb 2010, 02:25					</div>
				</div>
				<div class="post-content content">
					<p>you know what; i&#039;ll learn it for myself from this tutorial; thanks for nothing guys, like usual</p><p><a href="http://www.youtube.com/watch?v=ldB8kDEtTZA">http://www.youtube.com/watch?v=ldB8kDEtTZA</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102432">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						8 Feb 2010, 02:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>byteonce wrote:</cite><blockquote><p>i understand that this knowledge is just so hard to come by and you really feel like you should be payed for being such geniuses. i understand that; really i do. </p><p>but please just tell me the 1 or 2 lines of firewall code and what file they should be placed in and then tell me what config setting controls the port dropbear listens on; and we&#039;d be best buds, really we would.</p></blockquote></div><p>You must be dumber&#039;n a bag of hammers. I would suggest getting your little sister to help you, I&#039;m sure she can do it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102433">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						8 Feb 2010, 03:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>You must be dumber&#039;n a bag of hammers. I would suggest getting your little sister to help you, I&#039;m sure she can do it.</p></blockquote></div><p>Just because he is acting like a jerk does not mean you have the right to insult him, so watch your tongue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102436">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						8 Feb 2010, 03:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>KanjiMonster wrote:</cite><blockquote><div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>You must be dumber&#039;n a bag of hammers. I would suggest getting your little sister to help you, I&#039;m sure she can do it.</p></blockquote></div><p>Just because he is acting like a jerk does not mean you have the right to insult him, so watch your tongue.</p></blockquote></div><p>Maybe you should direct that to the person that insulted the rest of us. So watch your tongue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102438">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						8 Feb 2010, 03:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>Maybe you should direct that to the person that insulted the rest of us. So watch your tongue.</p></blockquote></div><p>Never argue with an idiot*, they drag you down to their level and beat you with experience ;-). </p><p>What I want to say is, don&#039;t let yourself down to his level. If you do, you aren&#039;t any better than him.</p><p>KM</p><p>*of course not meaning you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102444">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						8 Feb 2010, 05:02					</div>
				</div>
				<div class="post-content content">
					<p>One hesitates to enter in, but ... you can change the dropbear port if you edit its config file.</p><p>vi /etc/config/dropbear</p><p>When you reboot, you should be able to ssh in on the new port.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 8 Feb 2010, 10:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102445">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						8 Feb 2010, 05:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>KanjiMonster wrote:</cite><blockquote><div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>Maybe you should direct that to the person that insulted the rest of us. So watch your tongue.</p></blockquote></div><p>Never argue with an idiot*, they drag you down to their level and beat you with experience ;-). </p><p>What I want to say is, don&#039;t let yourself down to his level. If you do, you aren&#039;t any better than him.</p><p>KM</p><p>*of course not meaning you.</p></blockquote></div><p>I know. I was just bored and thought I would give him a little bit of what he was fishing for. Sorry about that. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102446">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">shallpion</div>
					<div class="post-datetime">
						8 Feb 2010, 05:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>byteonce wrote:</cite><blockquote><p>I enabled a password using telnet and now how do I enable remote SSH access to latest Kamikaze on a non-standard port like 443, 80, or 23?</p></blockquote></div><p>/etc/config/dropbear<br />config dropbear<br />&nbsp; &nbsp; &nbsp; &nbsp; option PasswordAuth &#039;on&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option Port&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#039;22&#039;</p><p>Openwrt is a rather simple linux system, so it is a good idea to look into /etc for ALL files in there and try to figure out what they are, one by one, then you may have a better idea how this system works and where to config it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102466">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						8 Feb 2010, 13:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>I know. I was just bored and thought I would give him a little bit of what he was fishing for. Sorry about that. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Well then no harm is done, apology accepted (for my part) <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><cite>shallpion wrote:</cite><blockquote><p>/etc/config/dropbear<br />config dropbear<br />&nbsp; &nbsp; &nbsp; &nbsp; option PasswordAuth &#039;on&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option Port&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#039;22&#039;</p></blockquote></div><p>&#039;Though thats only half the way, it still isn&#039;t reachable from the internet.<br />You need to add to&nbsp; /etc/config/firewall<br /></p><div class="codebox"><pre><code>config &#039;rule&#039;
        option &#039;src&#039; &#039;wan&#039;
        option &#039;proto&#039; &#039;tcp&#039;
        option &#039;dest_port&#039; &#039;&lt;your_custom_ssh_port&gt;&#039;
        option &#039;target&#039; &#039;ACCEPT&#039;</code></pre></div><p>After that, it should be reachable from the outside on the specified port.</p><p>KM</p><p>Disclamer: this rule is taken from a live installation of an older trunk build of kamikaze, the current trunk might behave otherwise.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102470">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						8 Feb 2010, 14:36					</div>
				</div>
				<div class="post-content content">
					<p>I wouldn&#039;t say this is definitive, but I just ran the following:</p><p>/usr/sbin/dropbear -p 50022 -P /var/run/dropbear.2.pid</p><p>I was then immediately able to ssh in on 50022 with no change in firewall.&nbsp; This was on r19490.&nbsp; On builds as of last July, no firewall change was needed.&nbsp; This was running on the local net.&nbsp; Connecting from the internet I had (last summer) set up the router which connected to the internet to redirect incoming, e.g., 50022, to the desired internal ip address, again with no firewall change on the receiving device (but perhaps making that change on the stock firmware of a Netgear WGR614v6 made that change to its firewall--so perhaps this is needed if openWrt device makes internet connection).</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 8 Feb 2010, 14:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102471">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						8 Feb 2010, 14:50					</div>
				</div>
				<div class="post-content content">
					<p>it is not entirely clear from the original question whether the remote access should happen via wireless or via wan but the other method is to leave the ssh server at port 22 for internal network purposes and to do a port forward for ssh traffic with the new port number:</p><p>assuming remote comes via wan and new ssh portnumber is &lt;n&gt;:<br />#close port 22 for wan<br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp;option src wan<br />&nbsp; &nbsp; &nbsp; &nbsp;option dest_port 22<br />&nbsp; &nbsp; &nbsp; &nbsp;option target DROP</p><p>#open&nbsp; port &lt;n&gt;<br />config rule<br />&nbsp; &nbsp; &nbsp; &nbsp;option src wan<br />&nbsp; &nbsp; &nbsp; &nbsp;option dest_port &lt;n&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp;option proto tcp<br />&nbsp; &nbsp; &nbsp; &nbsp;option target ACCEPT</p><p># port &lt;n&gt; redirect&nbsp; to 22<br />config redirect<br />&nbsp; &nbsp; &nbsp;option src wan<br />&nbsp; &nbsp; &nbsp;option src_dport &lt;n&gt;<br />&nbsp; &nbsp; &nbsp;option dest lan<br />&nbsp; &nbsp; &nbsp;option dest_ip 127.0.0.1<br />&nbsp; &nbsp; &nbsp;option dest_port 22<br />&nbsp; &nbsp; &nbsp;option proto tcp</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102517">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						9 Feb 2010, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>@ doddel; i do not understand where this confusion comes from. thank you for your latest reply though. what i mean by remote is simply that; i wish to use SSH tunneling from the Himalayas using my super-spy kit satellite link. using this remote tunnel will enable me to save the world from the evil menace known as the Emperor Zurg.</p><p>alright, so;</p><p>@lizby; that seems so simple and intuitive; however, using the default kamikazi settings on their latest release did not work like that at all; you would receive the vote for best answer though and thank you for your reply. </p><p>@Kanjimonster; i&#039;ve read the /etc/config/firewall is not for editing and if i want to add a firewall rule i should use /etc/firewall.user </p><p>@shallpion ty for the simple and easy to understand direction that answered only half the question. it would answer all the question if you&#039;d simply clarify whether the firewall without any modification allows someone in the Himalayas using their secret spy-kit satellite uplink to connect to the router. For instance, if you&#039;d replied with, the SSH config setting is in the /etc/config/dropbear file and you don&#039;t need to touch (whoops thats actually a linux command isn&#039;t it? well i don&#039;t mean the linux touch command, i mean as in tweeking a file setting) the firewall config in any way whatsoever; that would of been a complete and concise answer to this thread.</p><p>@myself and everyone else; let us hope we can overcome our mental disabilities and work together.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102524">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						9 Feb 2010, 03:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>byteonce wrote:</cite><blockquote><p>@Kanjimonster; i&#039;ve read the /etc/config/firewall is not for editing and if i want to add a firewall rule i should use /etc/firewall.user</p></blockquote></div><p>Then you must have had old information.</p><p>The /etc/config/firewall is for creating &#039;simple&#039; rules, like opening certain ports to the internet, forwarding ports to different hosts in the lan, the normal stuff you would use the firewall in a router.<br />But this rule set is quite limited, and you don&#039;t have access to everything what linux can. So if you need really&nbsp; advanced features and know what you do, then you put your rules in the firewall.user.</p><p>But for opening a port for incoming connecetions to the router, creating a rule in /etc/config/firewall is the easiest way to do.</p><p>Btw all files in /etc/config/* are meant to be edited - usually by uci, but you can also edit them directly with your favourite editor, or use the appropriate luci page.</p><p>Just remember to restart the correct service (e.g. by running &quot;/etc/init.d/firewall restart&quot;) if you changed something yourself. Luci does that for you automatically when you apply the changes.</p><br /><div class="quotebox"><cite>doddel wrote:</cite><blockquote><p>it is not entirely clear from the original question whether the remote access should happen via wireless or via wan but the other method is to leave the ssh server at port 22 for internal network purposes and to do a port forward for ssh traffic with the new port number:</p><p># port &lt;n&gt; redirect&nbsp; to 22<br />config redirect<br />&nbsp; &nbsp; &nbsp;option src wan<br />&nbsp; &nbsp; &nbsp;option src_dport &lt;n&gt;<br />&nbsp; &nbsp; &nbsp;option dest lan<br />&nbsp; &nbsp; &nbsp;option dest_ip 127.0.0.1<br />&nbsp; &nbsp; &nbsp;option dest_port 22<br />&nbsp; &nbsp; &nbsp;option proto tcp</p></blockquote></div><p>Last thing I read was that redirects within the router weren&#039;t working (never tried them myself), but if they do now, that&#039;s great.</p><p>KM</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102586">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">byteonce</div>
					<div class="post-datetime">
						9 Feb 2010, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>this is so ridiculous. i had everything working last night before i went to sleep; now i woke up this morning and it wasn&#039;t working. wth is going on</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=23514&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>