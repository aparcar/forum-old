<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Missing support for ASUS RT-AC68U</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 2 May 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=52378&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=52378&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p244855">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pb</div>
					<div class="post-datetime">
						25 Aug 2014, 18:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Do you have plans for support router ASUS RT-AC68U? It is great and very powerfull router, but original firmware (AsusWRT) is NOT great. I try custom firmware AsusWRT-merlin based on original, but it has the same problems and many more as original.</p><p>I use this router with few this wireles adapters <a href="https://www.asus.com/Networking/PCEAC68/">https://www.asus.com/Networking/PCEAC68/</a> and it is amazing. My focus is on speed (AC standard), IPv6 support and security. Original firmware doesn&#039;t support all my needs but OpenWRT does.</p><p>ASUS RT-AC68U<br />Overview: <a href="http://www.asus.com/Networking/RTAC68U/">http://www.asus.com/Networking/RTAC68U/</a><br />Spec: <a href="http://www.asus.com/Networking/RTAC68U/specifications/">http://www.asus.com/Networking/RTAC68U/specifications/</a><br />Wiki: <a href="https://wikidevi.com/wiki/ASUS_RT-AC68U_v1">https://wikidevi.com/wiki/ASUS_RT-AC68U_v1</a></p><p>802.11n TurboQAM：up to600Mbps<br />802.11ac: up to 1300Mbps</p><p>Supported Wi-Fi standards: 2,4 GHz (b/g/n) and 5 GHz (a/n/ac)<br />HW: Broadcom BCM4709 Wi-Fi chipset, Arm Cortex A9 dual-core 800MHz CPU, 256MB of DDR RAM</p><p>Performance tests:<br /><a href="http://www.pcworld.com/article/2082233/asus-rt-ac68u-review-the-best-router-on-the-market-priced-accordingly.html">http://www.pcworld.com/article/2082233/ … ingly.html</a><br /><a href="http://www.cnet.com/products/asus-rt-ac68u-dual-band-wireless-ac1900-gigabit-router/2/">http://www.cnet.com/products/asus-rt-ac … -router/2/</a><br /><a href="http://www.trustedreviews.com/asus-rt-ac68u-802-11ac-router_Peripheral_review_setup-performance_Page-2">http://www.trustedreviews.com/asus-rt-a … nce_Page-2</a></p><p>Thanks for your answers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244882">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						25 Aug 2014, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>There is a nice progress around Broadcom ARM development. We recently added support for SPI flash and some required improvements to the partitioned driver. NVRAM support is quite close too. Unfortunately NAND driver and wireless drivers are still on our list and you should not expect the second one soon.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265559">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">wanthalf</div>
					<div class="post-datetime">
						15 Feb 2015, 01:03					</div>
				</div>
				<div class="post-content content">
					<p>How much of the router is working at the moment? I can see an image for RT-AC87U (not mentioned anywhere in supported devices) in the trunk, but still no image for RT-AC68U.</p>											<p class="post-edited">(Last edited by <strong>wanthalf</strong> on 15 Feb 2015, 01:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265666">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						15 Feb 2015, 23:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wanthalf wrote:</cite><blockquote><p>How much of the router is working at the moment? I can see an image for RT-AC87U (not mentioned anywhere in supported devices) in the trunk, but still no image for RT-AC68U.</p></blockquote></div><p>I need someone with serial console who is ready to do some tests. Then I can add *basic* support for this hardware.</p><p>If anyone is interested, please start providing boot log (original or DD-WRT) and &quot;nvram show | grep gpio&quot; output.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265783">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">evan.xinos</div>
					<div class="post-datetime">
						16 Feb 2015, 18:33					</div>
				</div>
				<div class="post-content content">
					<p>admin@RT-AC68U:/tmp/home/root# nvram show|grep gpio<br />btn_rst_gpio=4107<br />reset_gpio=11<br />size: 47965 bytes (17571 left)<br />gpio7=wps_button<br />gpio9=usbport1<br />btn_turbo_gpio=255<br />led_usb_gpio=4096<br />btn_wps_gpio=4103<br />led_2g_gpio=255<br />led_usb3_gpio=4110<br />btn_led_gpio=5<br />led_wan_gpio=255<br />led_5g_gpio=4102<br />led_wps_gpio=4099<br />led_turbo_gpio=4100<br />led_lan_gpio=255<br />btn_radio_gpio=255<br />pwr_usb_gpio=9<br />led_all_gpio=255<br />have_fan_gpio=255<br />fan_gpio=255<br />btn_wltog_gpio=4111<br />led_pwr_gpio=4099<br />pwr_usb_gpio2=255</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267544">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">TheoTester</div>
					<div class="post-datetime">
						3 Mar 2015, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi Zajec at al,</p><p>If i read this here <a href="http://www.asus.com/us/Networking/RTAC87U/specifications/">http://www.asus.com/us/Networking/RTAC8 … fications/</a> at ASUS, the device is pretty well equipped with a lot of stuff . of course that is coming at a pretty solid price. </p><p>ASUS makes a big point on supporting DD-WRT &quot;openness&quot;, even if i doubt that a binary donwload is what everyone who looks for open really wants. Neverthless, ASUS lists the device as officially supported by DD-WRT on <a href="http://www.asus.com/us/site/routers/DD-WRT/">http://www.asus.com/us/site/routers/DD-WRT/</a>.</p><p>However, i did find only limited material (and no pre-cooked pieces of ASUS/Broadcom code to be embedded) in the DD-WRT svn at <a href="http://svn.dd-wrt.com/search?q=ac87">http://svn.dd-wrt.com/search?q=ac87</a></p><p>This guy here has been digging really deep into this router and some of the available sources: <br /><a href="http://elatov.github.io/2014/11/dd-wrt-on-asus-rt-ac68u-router/">http://elatov.github.io/2014/11/dd-wrt- … 8u-router/</a></p><p>This guy here <a href="https://pcdiy.asus.com/2014/08/august-2014-the-best-802-11ac-router-rt-ac87u-rt-ac87r/">https://pcdiy.asus.com/2014/08/august-2 … -rt-ac87r/</a>&nbsp; has gone into quite documenting the disection of the device, including creating a nice block diagram of the devce at <a href="https://i1.wp.com/pcdiy.asus.com/wp-content/uploads/2014/08/87U-Layout-Block-Diagram.png">https://i1.wp.com/pcdiy.asus.com/wp-con … iagram.png</a></p><p>An alternative pile of sources is here: <a href="https://github.com/RMerl/asuswrt-merlin/tree/master/release">https://github.com/RMerl/asuswrt-merlin … er/release</a></p><p>I also reasd other things that would obviously are not (yet) available as standard configurations, for example: </p><div class="quotebox"><cite>e9689_RT-AC87U_Manual_English.pdf wrote:</cite><blockquote><p> P. 63<br />4.2.4 IPTV</p><p>The wireless router supports connection to IPTV services through an ISP or a LAN. The IPTV tab provides the configuration settings needed to set up IPTV, VoIP, multicasting, and UDP for your service. Contact your ISP for specific information regarding your service.</p></blockquote></div><p>Source: <a href="http://dlcdnet.asus.com/pub/ASUS/wireless/RT-AC87U/TR8971_RT_AC87U_Manaul_new.zip">http://dlcdnet.asus.com/pub/ASUS/wirele … ul_new.zip</a></p><p>I have read here on OpenWRT that some other code that was on DD-WRT could successfully migrated over to OpenWRT. I&#039;d assume once that happens, the users gain some flexibility by the modularity of the OpenWRT approach.</p><p>SO - I am wondering how DD-WRT and OpenWRT can embed/use any of the specialty functions that the Vendor Firmware embeds, like acceleration features of the SoC or the 2.4/5 GHz MIMO?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268463">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tony762</div>
					<div class="post-datetime">
						12 Mar 2015, 01:42					</div>
				</div>
				<div class="post-content content">
					<p>Any progress?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268485">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						12 Mar 2015, 08:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tony762 wrote:</cite><blockquote><p>Any progress?</p></blockquote></div><p>Ask yourself. Did you attach serial console to test OpenWrt on this device?</p><p>evan.xinos provided basic GPIO info, but didn&#039;t even care to provide boot log I asked for. Fortunately I found<br /><a href="http://www.snbforums.com/threads/asus-rt-ac68u-rebooting-on-its-own.15502/">http://www.snbforums.com/threads/asus-r … own.15502/</a><br />which included info important for me:</p><div class="codebox"><pre><code>Jan  1 01:00:12 kernel: Found a AMD NAND flash:
Jan  1 01:00:12 kernel: Total size:  128MB
Jan  1 01:00:12 kernel: Block size:  128KB</code></pre></div><div class="codebox"><pre><code>Jan  1 01:00:13 kernel: Creating 4 MTD partitions on &quot;nflash&quot;:
Jan  1 01:00:13 kernel: 0x000000000000-0x000000080000 : &quot;boot&quot;
Jan  1 01:00:13 kernel: 0x000000080000-0x000000200000 : &quot;nvram&quot;
Jan  1 01:00:13 kernel: 0x000000200000-0x000002000000 : &quot;linux&quot;
Jan  1 01:00:13 kernel: 0x00000039e7d4-0x000002000000 : &quot;rootfs&quot;
(...)
Jan  1 01:00:13 kernel: Creating 1 MTD partitions on &quot;brcmnand&quot;:
Jan  1 01:00:13 kernel: 0x000002000000-0x000008000000 : &quot;brcmnand&quot;</code></pre></div><p>Now I just need someone with serial console.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269535">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dorian</div>
					<div class="post-datetime">
						22 Mar 2015, 01:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Now I just need someone with serial console.</p></blockquote></div><p>Is that all?<br /><a href="http://wiki.openwrt.org/toh/asus/rt-ac68u#oem_bootlog">http://wiki.openwrt.org/toh/asus/rt-ac68u#oem_bootlog</a></p><p>I still can&#039;t get any non-ASUS image to boot, because of the CFE signature check which I don&#039;t want or even know how to disable. If you know how I can build an image and then attach a valid signature, I&#039;ll put up the openWRT bootlog as well.</p><p>I also have various pictures I wanted to put in the wiki, but at the time that didn&#039;t work. I&#039;ll try that again tomorrow (or in a few hours, if you will, as it&#039;s past midnight).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269721">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						23 Mar 2015, 20:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dorian wrote:</cite><blockquote><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Now I just need someone with serial console.</p></blockquote></div><p>Is that all?<br /><a href="http://wiki.openwrt.org/toh/asus/rt-ac68u#oem_bootlog">http://wiki.openwrt.org/toh/asus/rt-ac68u#oem_bootlog</a></p></blockquote></div><p>A nice beginning, thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>It seems there is one partition that OpenWrt isn&#039;t aware of:</p><div class="codebox"><pre><code>0x000007ec0000-0x000008000000 : &quot;asus&quot;</code></pre></div><p>I don&#039;t know if it contains something important or not.</p><p>Please dump this partition:</p><div class="codebox"><pre><code>cat /dev/mtdblock5 &gt; /tmp/mtdblock5.bin</code></pre></div><p>, copy it to your PC and send me, so I can analyze its content. You can copy it e.g. by connecting USB pendrive, then checking &quot;mount&quot; and doing something like &quot;cp /tmp/mtdblock5.bin /mnt/USBdrive/&quot;.</p><p>After I verify this partition you should be ready to install OpenWrt build from<br /><a href="http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/">http://downloads.openwrt.org/snapshots/ … x/generic/</a><br /><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269756">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">dorian</div>
					<div class="post-datetime">
						24 Mar 2015, 01:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>It seems there is one partition that OpenWrt isn&#039;t aware of:</p><div class="codebox"><pre><code>0x000007ec0000-0x000008000000 : &quot;asus&quot;</code></pre></div><p>I don&#039;t know if it contains something important or not.</p><p>Please dump this partition:</p><div class="codebox"><pre><code>cat /dev/mtdblock5 &gt; /tmp/mtdblock5.bin</code></pre></div><p>, copy it to your PC and send me, so I can analyze its content. You can copy it e.g. by connecting USB pendrive, then checking &quot;mount&quot; and doing something like &quot;cp /tmp/mtdblock5.bin /mnt/USBdrive/&quot;.</p><p>After I verify this partition you should be ready to install OpenWrt build from<br /><a href="http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/">http://downloads.openwrt.org/snapshots/ … x/generic/</a><br /><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>This may be firmware specific, but in the latest official firmware (I also just updated the boot log for it in the wiki) this virtual block device is 1310720 bytes in size and only contains 0xFF bytes. There is nothing useful in it and it appears it is no longer used for anything.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269781">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						24 Mar 2015, 07:44					</div>
				</div>
				<div class="post-content content">
					<p>Great <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> So install OpenWrt and let use know if it works!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269782">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">dorian</div>
					<div class="post-datetime">
						24 Mar 2015, 07:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Great <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> So install OpenWrt and let use know if it works!</p></blockquote></div><p>Now you&#039;re just being cute.<br />It doesn&#039;t. If you know how to produce an image with a valid CFE checksum let me know, so I can build one... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Also, the image you provide with your build system isn&#039;t valid, and can&#039;t be used with the CFE boot toolset to send it to the device (tftp boot or flashing), even with the check disabled.</p>											<p class="post-edited">(Last edited by <strong>dorian</strong> on 24 Mar 2015, 07:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269868">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Romino</div>
					<div class="post-datetime">
						25 Mar 2015, 08:07					</div>
				</div>
				<div class="post-content content">
					<p>I have got a RT-AC68U and i hope i can be your information supplier and testing institute, just tell me what i need to do.<br />Like to get OpenWRT on it and (hopefully) use Huawei E3276s-150.</p><p>Zajec or dorian, got any orders to give me? -:)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269869">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">dorian</div>
					<div class="post-datetime">
						25 Mar 2015, 08:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Romino wrote:</cite><blockquote><p>I have got a RT-AC68U and i hope i can be your information supplier and testing institute, just tell me what i need to do.<br />Like to get OpenWRT on it and (hopefully) use Huawei E3276s-150.</p><p>Zajec or dorian, got any orders to give me? -:)</p></blockquote></div><p>I&#039;ve got a device myself (actually, I have more than one), so no. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />But feel free to flash or tftp boot this image on your device:<br /><a href="http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/openwrt-bcm53xx-bcm4708-asus-rt-ac68u-squashfs.trx">http://downloads.openwrt.org/snapshots/ … uashfs.trx</a><br />Maybe you&#039;ve got a bootloader old enough and it works or can figure out what signature to attach to the beginning of the binary. I asked ASUS and Broadcom, but so far, I&#039;ve gotten no meaningful response.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269931">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						25 Mar 2015, 17:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dorian wrote:</cite><blockquote><div class="quotebox"><cite>Romino wrote:</cite><blockquote><p>I have got a RT-AC68U and i hope i can be your information supplier and testing institute, just tell me what i need to do.<br />Like to get OpenWRT on it and (hopefully) use Huawei E3276s-150.</p><p>Zajec or dorian, got any orders to give me? -:)</p></blockquote></div><p>I&#039;ve got a device myself (actually, I have more than one), so no. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />But feel free to flash or tftp boot this image on your device:<br /><a href="http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/openwrt-bcm53xx-bcm4708-asus-rt-ac68u-squashfs.trx">http://downloads.openwrt.org/snapshots/ … uashfs.trx</a><br />Maybe you&#039;ve got a bootloader old enough and it works or can figure out what signature to attach to the beginning of the binary. I asked ASUS and Broadcom, but so far, I&#039;ve gotten no meaningful response.</p></blockquote></div><p>I flashed the latest trunk image for rt-ac68u, it booted successfully, but usb storage seems not working, even after I install all necessary packages such as: kmod-ust-storage, kmod-usb2, kmod-usb3, kmod-fs-ext4 and block-mount.</p><p>Any idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269940">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						25 Mar 2015, 19:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><p>I flashed the latest trunk image for rt-ac68u, it booted successfully, but usb storage seems not working</p></blockquote></div><p>Wow, this is a great news! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> USB is indeed unsupported, I just updated <a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm53xx#limitations">http://wiki.openwrt.org/doc/hardware/so … imitations</a></p><p>@tangsoft: I&#039;ve few requests to you:<br /></p><ol class="decimal"><li><p>Can you share info how did you install OpenWrt?</p></li><li><p>Can you verify that reboot button is working?</p></li><li><p>Can you check if you can enter failsafe mode using WPS button?</p></li><li><p>Can you provide me a table of LEDs with GPIO info? See <a href="http://wiki.openwrt.org/doc/devel/add.new.device#gpios">http://wiki.openwrt.org/doc/devel/add.new.device#gpios</a></p></li></ol>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270040">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						26 Mar 2015, 18:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><p>I flashed the latest trunk image for rt-ac68u, it booted successfully, but usb storage seems not working</p></blockquote></div><p>Wow, this is a great news! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> USB is indeed unsupported, I just updated <a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm53xx#limitations">http://wiki.openwrt.org/doc/hardware/so … imitations</a></p></blockquote></div><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>@tangsoft: I&#039;ve few requests to you:<br /></p><ol class="decimal"><li><p>Can you share info how did you install OpenWrt?</p></li></ol></blockquote></div><p>1st time, i install the trunk image through DD-WRT firmware upgrade web page.<br />Just now, i found i can not upgrade the trunk image through luci, since there is no sysupgrade image. So I have to use tftp under recovery mode.<br />And with the latest image, the usb still not working.<br /></p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><ol class="decimal"><li><p>Can you verify that reboot button is working?</p></li></ol></blockquote></div><p>i found no reboot button, you mean reset button?<br /></p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><ol class="decimal"><li><p>Can you check if you can enter failsafe mode using WPS button?</p></li></ol></blockquote></div><p>How to use WPS button? just press a while not working.<br /></p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><ol class="decimal"><li><p>Can you provide me a table of LEDs with GPIO info? See <a href="http://wiki.openwrt.org/doc/devel/add.new.device#gpios">http://wiki.openwrt.org/doc/devel/add.new.device#gpios</a></p></li></ol></blockquote></div><p>It is too late here, I&#039;ll figure out dumping the gpio info tomorrow.</p><p>Thanks!</p>											<p class="post-edited">(Last edited by <strong>tangsoft</strong> on 27 Mar 2015, 03:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270139">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						27 Mar 2015, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>@Zajec,<br />When I try to dump the gpio values by following the guide you provide, and find it is not acted as supposed.</p><p>ls /sys/class/gpio/<br />export&nbsp; &nbsp; &nbsp; &nbsp;gpiochip464&nbsp; gpiochip480&nbsp; gpiochip496&nbsp; unexport</p><p>and issue the command:<br />echo $GPIO &gt; export<br />ash: write error: No such device</p><p>any idea?</p>											<p class="post-edited">(Last edited by <strong>tangsoft</strong> on 27 Mar 2015, 15:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270147">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						27 Mar 2015, 16:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><p>and issue the command:<br />echo $GPIO &gt; export<br />ash: write error: No such device</p></blockquote></div><p>The GPIO chip you should check is 496, so you have to check GPIOs: 496, 497, 498, ..., 511.</p><p>A bit lower on page<br /><a href="http://wiki.openwrt.org/doc/devel/add.new.device#gpio_leds">http://wiki.openwrt.org/doc/devel/add.n … #gpio_leds</a><br />there is a shell scrip you can use. Just replace &quot;GPIOCHIP=0&quot; with &quot;GPIOCHIP=496&quot; in it and start it. I&#039;ll check all GPIOs one by one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270228">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						28 Mar 2015, 04:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><p>and issue the command:<br />echo $GPIO &gt; export<br />ash: write error: No such device</p></blockquote></div><p>The GPIO chip you should check is 496, so you have to check GPIOs: 496, 497, 498, ..., 511.</p><p>A bit lower on page<br /><a href="http://wiki.openwrt.org/doc/devel/add.new.device#gpio_leds">http://wiki.openwrt.org/doc/devel/add.n … #gpio_leds</a><br />there is a shell scrip you can use. Just replace &quot;GPIOCHIP=0&quot; with &quot;GPIOCHIP=496&quot; in it and start it. I&#039;ll check all GPIOs one by one.</p></blockquote></div><p>@Zajec,<br />Sorry for delay, I did not quite understand how gpio checking works.<br />So I fixed the shell scripts to make it work. I am not sure if it what you want.<br />Here is the output:</p><p>root@OpenWrt:/sys/class/gpio# /tmp/gpiotest <br />[GPIO496] Trying value 0<br />[GPIO496] Trying value 1<br />[GPIO497] Trying value 0<br />[GPIO497] Trying value 1<br />[GPIO498] Trying value 0<br />[GPIO498] Trying value 1<br />[GPIO499] Trying value 0<br />[GPIO499] Trying value 1<br />[GPIO500] Trying value 0<br />[GPIO500] Trying value 1<br />[GPIO501] Trying value 0<br />[GPIO501] Trying value 1<br />[GPIO502] Trying value 0<br />[GPIO502] Trying value 1<br />sh: write error: Device or resource busy<br />/tmp/gpiotest: line 18: can&#039;t create /sys/class/gpio/gpio503/direction: nonexistent directory<br />[GPIO503] Trying value 0<br />/tmp/gpiotest: line 18: can&#039;t create /sys/class/gpio/gpio503/value: nonexistent directory<br />[GPIO503] Trying value 1<br />/tmp/gpiotest: line 18: can&#039;t create /sys/class/gpio/gpio503/value: nonexistent directory<br />sh: write error: Invalid argument<br />[GPIO504] Trying value 0<br />[GPIO504] Trying value 1<br />[GPIO505] Trying value 0<br />[GPIO505] Trying value 1<br />[GPIO506] Trying value 0<br />[GPIO506] Trying value 1<br />sh: write error: Device or resource busy<br />/tmp/gpiotest: line 18: can&#039;t create /sys/class/gpio/gpio507/direction: nonexistent directory<br />[GPIO507] Trying value 0<br />/tmp/gpiotest: line 18: can&#039;t create /sys/class/gpio/gpio507/value: nonexistent directory<br />[GPIO507] Trying value 1<br />/tmp/gpiotest: line 18: can&#039;t create /sys/class/gpio/gpio507/value: nonexistent directory<br />sh: write error: Invalid argument<br />[GPIO508] Trying value 0<br />[GPIO508] Trying value 1<br />[GPIO509] Trying value 0<br />[GPIO509] Trying value 1<br />[GPIO510] Trying value 0<br />[GPIO510] Trying value 1<br />[GPIO511] Trying value 0<br />[GPIO511] Trying value 1</p><p>==============================<br />#!/bin/sh<br />NGPIO=$(cat /sys/class/gpio/gpiochip496/ngpio)<br />GPIO=496<br />while [ $((GPIO-496)) -lt $NGPIO ] ; do<br />&nbsp; &nbsp; &nbsp; &nbsp; echo $GPIO &gt; /sys/class/gpio/export<br />&nbsp; &nbsp; &nbsp; &nbsp; echo out &gt; /sys/class/gpio/gpio$GPIO/direction</p><p>&nbsp; &nbsp; &nbsp; &nbsp; echo &quot;[GPIO$GPIO] Trying value 0&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; echo 0 &gt; /sys/class/gpio/gpio$GPIO/value<br />&nbsp; &nbsp; &nbsp; &nbsp; sleep 3s</p><p>&nbsp; &nbsp; &nbsp; &nbsp; echo &quot;[GPIO$GPIO] Trying value 1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; echo 1 &gt; /sys/class/gpio/gpio$GPIO/value<br />&nbsp; &nbsp; &nbsp; &nbsp; sleep 3s</p><p>&nbsp; &nbsp; &nbsp; &nbsp; echo $GPIO &gt; /sys/class/gpio/unexport<br />&nbsp; &nbsp; &nbsp; &nbsp; GPIO=$((GPIO+1))<br />done</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270239">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						28 Mar 2015, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>Finally figure it out, here you go:</p><p>RT-AC68U GPIO</p><p>Name&nbsp; &nbsp; &nbsp; &nbsp; Color&nbsp; &nbsp; &nbsp; &nbsp; GPIO&nbsp; &nbsp; &nbsp; &nbsp; Polarity<br />===================================<br />Power&nbsp; &nbsp;&nbsp; &nbsp; blue&nbsp; &nbsp; &nbsp; &nbsp; 499&nbsp; &nbsp; &nbsp; &nbsp; low<br />WAN&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; ---<br />USB2.0&nbsp; &nbsp; &nbsp; blue&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 496&nbsp; &nbsp; &nbsp; &nbsp; low<br />USB3.0&nbsp; &nbsp; blue&nbsp; &nbsp; &nbsp; &nbsp; 510&nbsp; &nbsp; &nbsp; &nbsp; low<br />2.4G&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; ---<br />5G&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; ---<br />LED back&nbsp; &nbsp;&nbsp; white&nbsp; &nbsp;&nbsp; 500&nbsp; &nbsp; &nbsp; &nbsp; low</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270246">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						28 Mar 2015, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>@Zajec</p><p>Buttons<br />Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Press&nbsp; &nbsp; GPIO&nbsp; &nbsp; &nbsp; &nbsp; Polarit<br />=======================================<br />LED on/off&nbsp; &nbsp; &nbsp; &nbsp; down&nbsp; &nbsp; &nbsp; &nbsp; 501&nbsp; &nbsp; &nbsp; &nbsp; high<br />WIFI on/off&nbsp; &nbsp; &nbsp; &nbsp; down&nbsp; &nbsp; &nbsp; &nbsp; 511&nbsp; &nbsp; &nbsp; &nbsp; low<br />WPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; —&nbsp; &nbsp; &nbsp; &nbsp; — </p><p>==================<br />#!/bin/sh<br />NCHIP=496<br />NGPIO=$(cat /sys/class/gpio/gpiochip$NCHIP/ngpio)<br />GPIO=$NCHIP<br />while [ $(($GPIO-$NCHIP)) -lt $NGPIO ] ; do<br />&nbsp; &nbsp; &nbsp; &nbsp; echo $GPIO &gt; /sys/class/gpio/export<br />&nbsp; &nbsp; &nbsp; &nbsp; echo in &gt; /sys/class/gpio/gpio$GPIO/direction<br />&nbsp; &nbsp; &nbsp; &nbsp; echo &quot;[GPIO$GPIO] value $(cat /sys/class/gpio/gpio$GPIO/value)&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; echo $GPIO &gt; /sys/class/gpio/unexport<br />&nbsp; &nbsp; &nbsp; &nbsp; GPIO=$((GPIO+1))<br />done</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270247">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						28 Mar 2015, 10:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><p>Finally figure it out, here you go:</p></blockquote></div><p>Thanks for the GPIO mappings!</p><br /><div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Can you verify that reboot button is working?</p></blockquote></div><p>i found no reboot button, you mean reset button?</p></blockquote></div><p>Yes. Verify if pressing reset button for a second trigger the restart.</p><br /><div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Can you check if you can enter failsafe mode using WPS button?</p></blockquote></div><p>How to use WPS button? just press a while not working.</p></blockquote></div><p>Try pressing WPS when you can see following messages in serial console:</p><div class="codebox"><pre><code>Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level</code></pre></div>											<p class="post-edited">(Last edited by <strong>Zajec</strong> on 28 Mar 2015, 10:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270250">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						28 Mar 2015, 11:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Can you verify that reboot button is working?</p></blockquote></div><p>i found no reboot button, you mean reset button?</p></blockquote></div><p>Yes. Verify if pressing reset button for a second trigger the restart.</p></blockquote></div><p>Yes, press reset button for a second then release, does trigger the restart.</p><br /><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>tangsoft wrote:</cite><blockquote><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Can you check if you can enter failsafe mode using WPS button?</p></blockquote></div><p>How to use WPS button? just press a while not working.</p></blockquote></div><p>Try pressing WPS when you can see following messages in serial console:</p><div class="codebox"><pre><code>Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level</code></pre></div></blockquote></div><p>I can not verify this until I get ttl cable, at this time, i have no serial console access.</p>											<p class="post-edited">(Last edited by <strong>tangsoft</strong> on 30 Mar 2015, 13:29)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=52378&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=52378&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>