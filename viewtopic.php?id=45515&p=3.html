<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Performance Oriented OpenWRT Builds</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 Sep 2015 and 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=45515&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=45515&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=45515&amp;p=4.html">4</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p277542">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						26 May 2015, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>Yeah I got it working too with the patches in the ticket, but like I said crashed almost immediately. Some times worked for a minute before crash. It&#039;s old code that they just hacked to some kind of working state, they&#039;ve removed it from openwrt too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280959">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">jinott</div>
					<div class="post-datetime">
						22 Jun 2015, 04:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello Alpha</p><p>Please could I ask if the build has the&nbsp; iptables &#039;-m time&#039; option available ? need a build with ability to time restrict internet access.&nbsp; WDR4300</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281014">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						22 Jun 2015, 20:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jinott wrote:</cite><blockquote><p>Hello Alpha</p><p>Please could I ask if the build has the&nbsp; iptables &#039;-m time&#039; option available ? need a build with ability to time restrict internet access.&nbsp; WDR4300</p><p>Thanks</p></blockquote></div><p>I tried using the time option seems to be available probably means default openwrt has it.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 22 Jun 2015, 20:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281056">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">jinott</div>
					<div class="post-datetime">
						23 Jun 2015, 02:57					</div>
				</div>
				<div class="post-content content">
					<p>Thanks alpha... Your right I think...I&#039;ve been trying &#039;Rooter&#039; builds...and thought the&nbsp; iptables m time option was missing not working ...however i worked out it was a case of me not realising that the rules use UTC not local time.&nbsp; </p><p>Ive tried today to install your June image for WDR4300 v1....went back to the revert stock image first and then tried ...but get error 18005.... I wondered if it was somehow because I&#039;ve installed rooter images before...?&nbsp; Currently only rooter images and the revert stock image flash ok.... I&#039;m confused as to why...any ideas appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281100">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						23 Jun 2015, 15:06					</div>
				</div>
				<div class="post-content content">
					<p>I have no idea what changes rooter made to the firmware so you have to consult rooter.<br />Basically the images are build such that it is sysupgradable between Gargoyle and OpenWrt.<br />WDR4300 has Israel Version and the Normal International ones check you downloaded the correct versions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283952">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						18 Jul 2015, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>Did you manage to somehow improve on NAT speed when comparing to stock OpenWrt?</p><p>With stock firmware devices use hardware NAT, but with OpenWrt you only get software NAT and because of that less NAT performance.</p><p>Did you work on improving NAT perfromance?</p><p>Can you please explain what are main performance gains when compared to stock OpenWrt and your firmware? I&#039;m eager to learn how you enahanced OpenWrt. Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283959">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						18 Jul 2015, 16:45					</div>
				</div>
				<div class="post-content content">
					<p>I modified the default sysctl.conf, added the QCA patches basically I tested and added all the patches.<br />Enabling JUMP_LABEL also improved performance more for PPC than MIPS<br />I can&#039;t remember all the change I did they are all stored as patches so I don&#039;t have to.<br />There is also the effect of the modules load addresses, if you compile network functions as part of the kernel instead of purely as kmodules it goes faster (higher throughput) especially for MIPS.<br />I also added ASM optimization for PPC for OpenSSL very much like the MIPS one OpenWRT has but for PPC<br />The whole exercise is very interesting and the patches are the results of my testing <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Try -&gt; Compile -&gt; Test If work accept else reject</p><p>All the changes are in the patch folder, feel free to take a look<br />If you want to test the performance difference you can try OpenSSL benchmark as well as NAT benchmark between my builds and default openwrt barrier breaker.<br />I am working on the chaos calmer release at the moment but that is something wrong with LuCI/Lua in chaos calmer based on the UI responsiveness I can feel it but can&#039;t tell what.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 18 Jul 2015, 17:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284031">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						19 Jul 2015, 13:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>jperf testing (No SQM-Scripts Running) -</p><p>WR1043NDv1 Overclocked to 430MHZ - NAT ~ 290Mbits/s<br />WR4300v1 Overclocked to 730MHZ - NAT ~ 530Mbits/s<br />WR4900v1 Stockclock (800MHZ) - NAT ~ 530Mbits/s</p></blockquote></div><p>Can you please post also non-overclocked results, to see what is the difference and also most interesting comparison - with current stock BB and CC firmware. If you get 3% increase that could be a statistical error, but if you get 30% or more then you deserve high praises!</p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 19 Jul 2015, 13:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284037">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						19 Jul 2015, 16:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>valentt wrote:</cite><blockquote><div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>jperf testing (No SQM-Scripts Running) -</p><p>WR1043NDv1 Overclocked to 430MHZ - NAT ~ 290Mbits/s<br />WR4300v1 Overclocked to 730MHZ - NAT ~ 530Mbits/s<br />WR4900v1 Stockclock (800MHZ) - NAT ~ 530Mbits/s</p></blockquote></div><p>Can you please post also non-overclocked results, to see what is the difference and also most interesting comparison - with current stock BB and CC firmware. If you get 3% increase that could be a statistical error, but if you get 30% or more then you deserve high praises!</p></blockquote></div><p>You can download the firmware and test it.<br />I believe the only way you can believe something is when you test it yourself.<br /><a href="http://wiki.openwrt.org/inbox/benchmark.nat">http://wiki.openwrt.org/inbox/benchmark.nat</a><br />Let me know what you get so there is no bias confirmation</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 19 Jul 2015, 16:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284091">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						20 Jul 2015, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>I love testing but it is not trivial. First I have to leave my main router up and running because my significant other works from home most of the time. If you have devices and things pre-setup please share your numbers. I&#039;ll also do my own tests but it takes time to setup everything and to have device to test on.</p><p>This thread has some interesting NAT benchmarks - <a href="https://forum.openwrt.org/viewtopic.php?id=53703">https://forum.openwrt.org/viewtopic.php?id=53703</a></p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 20 Jul 2015, 02:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284197">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">mastabog</div>
					<div class="post-datetime">
						20 Jul 2015, 21:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>valentt wrote:</cite><blockquote><p>This thread has some interesting NAT benchmarks - <a href="https://forum.openwrt.org/viewtopic.php?id=53703">https://forum.openwrt.org/viewtopic.php?id=53703</a></p></blockquote></div><p>That thread has nothing to do with NAT, see the 1st post in there. It&#039;s a test between a wireless and wired client, both on LAN. The problem looks to be in the wifi driver.</p>											<p class="post-edited">(Last edited by <strong>mastabog</strong> on 20 Jul 2015, 21:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284667">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						23 Jul 2015, 19:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>-OpenSSL Assembly for PowerPC (Tested Performance boosted Significantly)</p></blockquote></div><p>@everybody Unfortunately I don&#039;t have WDR4900 which is PowerPC based so I can&#039;t do any benchmarks to compare. Can anybody with WDR4900 do OpenSSL benchmark, instructions are really easy to follow [1] and post your numbers here and also to table on the wiki.</p><p>@alphasparc Highest number for AES-128 with WDR4900 currently in OpenSSL benchmark table is 23153400, did you manage to beat that?</p><p>[1] <a href="http://wiki.openwrt.org/inbox/benchmark.openssl">http://wiki.openwrt.org/inbox/benchmark.openssl</a></p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 23 Jul 2015, 19:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284846">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						24 Jul 2015, 18:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>I added L7 in p2p-block, turned on torrent , all my torrents are blocked, works fine without crashing.</p></blockquote></div><p>I always thought that L7 or any other blacklist means don&#039;t work on torrents if they are encrypted, and most of clients use encryption now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284919">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						25 Jul 2015, 07:14					</div>
				</div>
				<div class="post-content content">
					<p>Just to take note there is no crypto acceleration in WDR4900v1 only Assembler Optimization with my patch.<br />The crypto caam device is not initialised and the openssl is not build with dev/crypto to enable it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285330">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						28 Jul 2015, 18:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>valentt wrote:</cite><blockquote><div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>I added L7 in p2p-block, turned on torrent , all my torrents are blocked, works fine without crashing.</p></blockquote></div><p>I always thought that L7 or any other blacklist means don&#039;t work on torrents if they are encrypted, and most of clients use encryption now.</p></blockquote></div><p>It works but I dropped it because it doesn&#039;t block over ipv6.<br />So it seems like a kind of a ugly function that half worked only on ipv4, I don&#039;t like ugly function so I dropped it.<br />Maybe blocking using a string matching function over iptables is a more elegant solution.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 28 Jul 2015, 18:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286618">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						7 Aug 2015, 06:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Just to take note there is no crypto acceleration in WDR4900v1 only Assembler Optimization with my patch.<br />The crypto caam device is not initialised and the openssl is not build with dev/crypto to enable it.</p></blockquote></div><p>I just took a look at the Chip<br />Part No. of the Chip is P1014NSN5HFA<br />From the datasheet<br />P = 45nm<br />1 = Platform<br />01 = Single Core<br />4 = Derivative<br />N = Commercial TieN = Qual’d to Industrial Tier<br />S = Std&nbsp; Temp<br /><strong>N = SEC Not&nbsp; Present</strong><br />5 = TEPBGA-1 Pb free<br />H = 800 MHz<br />F = 667 MHz<br />A = Rev 1.0</p><p>So yea NO HW ENCRYPTION for this chip</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 7 Aug 2015, 06:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286626">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						7 Aug 2015, 08:40					</div>
				</div>
				<div class="post-content content">
					<p>The 4.1 kernel introduces some PPC SPE optimized crypto modules that can be used through cryptodev, however in my results it actually makes OpenVPN slower. You can see the results on the last few pages of my thread if you are interested.</p><p>Here&#039;s the patch to enable the new modules:</p><div class="codebox"><pre><code>diff --git a/package/kernel/linux/modules/crypto.mk b/package/kernel/linux/modules/crypto.mk
index 84e5147..ce7d88c 100644
--- a/package/kernel/linux/modules/crypto.mk
+++ b/package/kernel/linux/modules/crypto.mk
@@ -224,6 +224,29 @@ endef
 
 $(eval $(call KernelPackage,crypto-hw-ppc4xx))
 
+define KernelPackage/crypto-ppc-spe
+  TITLE:=PPC SPE crypto modules
+  DEPENDS:=@TARGET_mpc85xx
+  KCONFIG:= \
+       CONFIG_CRYPTO_SHA1_PPC_SPE \
+       CONFIG_CRYPTO_SHA256_PPC_SPE \
+       CONFIG_CRYPTO_AES_PPC_SPE \
+       CONFIG_CRYPTO_MD5_PPC
+  FILES:= \
+       $(LINUX_DIR)/arch/powerpc/crypto/aes-ppc-spe.ko \
+       $(LINUX_DIR)/arch/powerpc/crypto/sha1-ppc-spe.ko \
+       $(LINUX_DIR)/arch/powerpc/crypto/sha256-ppc-spe.ko \
+       $(LINUX_DIR)/arch/powerpc/crypto/md5-ppc.ko
+  AUTOLOAD:=$(call AutoLoad,90,aes-ppc-spe sha1-ppc-spe sha256-ppc-spe md5-ppc)
+  $(call AddDepends/crypto,+kmod-crypto-hash)
+endef
+
+define KernelPackage/crypto-ppc-spe/description
+  Crypto modules implemented using PowerPC SPE SIMD instruction set.
+endef
+
+$(eval $(call KernelPackage,crypto-ppc-spe))
+
 
 define KernelPackage/crypto-hw-omap
   TITLE:=TI OMAP hardware crypto modules</code></pre></div><p>They speed up kernel IPsec a lot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286628">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						7 Aug 2015, 08:45					</div>
				</div>
				<div class="post-content content">
					<p>Yep I saw that patch but I quite sure building the kernel requires SPE explictly disabled otherwise it will not boot.</p><p>I thought the need to use cryptodev is only required if there is a hardware crypto engine that cannot be accessed directly by the kernel?<br />If the SPE optimization is already in the kernel there isn&#039;t a need for cryptodev anymore.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 7 Aug 2015, 08:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286634">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						7 Aug 2015, 09:51					</div>
				</div>
				<div class="post-content content">
					<p>Actually, that&#039;s incorrect. Kernel and userspace are different things.</p><div class="codebox"><pre><code># zcat /proc/config.gz | grep SPE
CONFIG_SPE_POSSIBLE=y
CONFIG_SPE=y</code></pre></div><p>Cryptodev lets userland use kernel crypto, hardware or not. The OpenSSL library for example, has it&#039;s own AES crypto. Instead you can let it use cryptodev and thus get PPC SPE acceleration. Here&#039;s my speed scores with cryptodev:</p><div class="codebox"><pre><code>| r46541 | 1.0.2d | 108506760 | 69118600 | 38479140 | 22166140 | 15238290 | 5536860 | 32215110 | 28374450 | 25315820 | 18.5 | 628.6 67.8 | 55.7 |</code></pre></div><p>Like I said though, it doesn&#039;t translate into more speed for OpenVPN so I haven&#039;t found it useful. Just interesting <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297562">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">visata</div>
					<div class="post-datetime">
						27 Oct 2015, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d like to use your build on my TP-Link TL-WDR4300 v1 (OpenWrt Barrier Breaker r40509 / LuCI Trunk (svn-r9978)) with the hope to increase my internet speed.</p><p>I didn&#039;t play around with flashing my router with OpenWRT for a while, could you please let me know whether I should use this build below, so I don&#039;t mess up anything <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p><a href="https://github.com/gwlim/Openwrt_Firmware/blob/master/TP-Link_TL-WDR3500-3600-43XX-WM4350R/Barrier_Breaker/Aug-2015-Image/openwrt-ar71xx-generic-tl-wdr4300-v1-squashfs-sysupgrade.bin">https://github.com/gwlim/Openwrt_Firmwa … pgrade.bin</a></p><p>Or that one?<br /><a href="https://github.com/gwlim/Openwrt_Firmware/blob/master/TP-Link_TL-WDR3500-3600-43XX-WM4350R/Barrier_Breaker/Aug-2015-Image/openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-sysupgrade.bin">https://github.com/gwlim/Openwrt_Firmwa … pgrade.bin</a></p><p>I&#039;m going to upgrade the router using Luci interface &quot;Flash new firmware image&quot; and keep all settings.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297591">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">visata</div>
					<div class="post-datetime">
						27 Oct 2015, 10:56					</div>
				</div>
				<div class="post-content content">
					<p>I figured out that I need to use the first option which is for international routers. Does that firmware overclock the router? Will I get better performance using your optimized build vs CC?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297717">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">moxu</div>
					<div class="post-datetime">
						28 Oct 2015, 10:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>visata wrote:</cite><blockquote><p>I figured out that I need to use the first option which is for international routers. Does that firmware overclock the router? Will I get better performance using your optimized build vs CC?</p></blockquote></div><p>I went directly from CC to his August build on wdr4300, and I&#039;d say the BB has better performance, but the advantages of CC are definitely in the software/firmware flexibility. Although you could port a few patches over to CC, to optimize the build like is right now, especially if you&#039;re overclocked (btw I had to try 3 of his boot-loaders before I found one that worked properly, so def. test it out), but personally couldn&#039;t build a CC as optimized for performance as the current BB one is, although it&#039;s definitely possible. I would maybe try using arokh&#039;s config as a base, with a lot of packages removed (b/c the build&#039;s to large for wdr4300), and then see what relevant patches from this build could be fit into arokh&#039;s, but it&#039;d be a minimalistic hybrid of both. </p><p>But I&#039;m just gonna wait for alphasparc b/c I have no idea what I&#039;m doing <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301391">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						27 Nov 2015, 07:21					</div>
				</div>
				<div class="post-content content">
					<p>December build is out.<br />Removed the interlink mips16 (originally required to jump from non-mips16 code to mips16 code but if you remove mips16 from it you can remove it completely)</p><p>[RANT]<br />mips16 is really an abomination.<br />-Does not save any space for uclibc<br />-Slows down performance by a ton (tested)</p><p>Why the hell was it even invented?</p><p>A lot of you guys asked why no chaos calmer?<br />I have a working refresh patch for chaos calmer but I tested there is very little improvement in performance from my Barrier Breaker builds<br />So there is no point in it anymore.<br />-I do not subscribe to the view of getting new routers (heard of ewaste? wonder where all your disposed electronics goes?)<br />-If something runs fast on weak devices it will fly on strong devices</p><p>Openwrt is getting heavier and heavier each release, not friendly with Weaker Processors anymore.<br />-I wonder if the developers actually test the release on their own devices at all.</p><p>Why is this happening?<br />Because people are not doing testing at all.<br />Chao Calmer does not automatically means it is better, it is just Barrier Breaker plus patches not backported.<br />More features != Better, only when you need it!</p><p>Internet is getting faster so either you increase the performance of the software to keep up or you have to discard the device to get better ones.<br />But if you are discarding them, then why bothering supporting them in OpenWRT?<br />[/RANT]</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 27 Nov 2015, 07:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301512">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						28 Nov 2015, 01:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>It&#039;s not about saving disk space: <a href="https://imgtec.com/mips/architectures/ase16e/">https://imgtec.com/mips/architectures/ase16e/</a></p><p>Better to seek information than bash something you don&#039;t know about. My WNDR3700 has better OpenSSL scores with current DD than it ever did with AA. With MIPS16 turned on. I know there were some packages (dropbear for example) that were dog slow when compiled with MIPS16 but stuff like that have been ironed out by fixing code or turning it off for problematic packages. Have you created any tickets?</p></blockquote></div><p>The performance improved because of other stuff not because of ASE, and I submit no tickets? LOL<br />My current optimized BB build yield the same scores or higher.</p><br /><br /><div class="quotebox"><blockquote><p>You&#039;re not seriously complaining about a distribution that fits on 4MB is getting &quot;heavy&quot;? What exactly is it that you feel is not tested good enough? And why are you complaining instead of helping? Keep in mind the amount of routers that are supported and how much you pay for that work.</p></blockquote></div><p>It is about the increase in running heavy processes in the base software and listening sockets, you haven&#039;t notice have you?</p><br /><br /><div class="quotebox"><blockquote><p>So does that mean Windows 10 is simply Windows 8 plus patches not backported as well? Software development is not only about features, it&#039;s also about fixing bugs and improving security.</p></blockquote></div><p>The core function of a router is to route, if it can&#039;t route fast enough for your internet connection nobody is gonna use it.<br />You can have the most secure slow pc but what is the point if you can&#039;t do useful things with it?</p><br /><div class="quotebox"><blockquote><p>How do you figure that? Routers follow Moore&#039;s law same as everything else, have you seen the specs on current routers? Dual core 1GHz+ with 256/512MB of RAM is common now. Anyways, OpenWrt still runs great on older devices. It&#039;s just physically impossible for them to push 300+ Mbps using software NAT, compiler optimization or not. You can do a whole bunch of other useful stuff with them using current software though.</p></blockquote></div><p>This is bullsh!t, try using one of my bb build. I have been optimizing the performance solely for this purpose.<br />Which is why I am complaining because the base system is starting to use up so much performance that any form of optimization is not increasing the performance anymore.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 28 Nov 2015, 01:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301542">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						28 Nov 2015, 12:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>You mind communicating like an adult? If you read again, I was replying to your comment about MIPS16 being an &quot;abomination&quot; and only about saving disk space. I didn&#039;t say you submitted no tickets, I _asked_ if you did. Like, did you report problematic packages or the likes, because it seems to run fine now. For performance I too would turn it off though, but you have that option so I&#039;m not sure what you are complaining about?</p></blockquote></div><p>MIPS16 was previously not enabled at all, then suddenly the developers enabled it claiming a boost in performance which I have not been able to reproduce.<br />So the point is why enable a feature which is useless in the first place?</p><div class="quotebox"><blockquote><p>No I haven&#039;t, the only load is soft IRQ&#039;s when doing throughput testing on DD as far as I can tell. I remember there was an issue with odhcpd which has been fixed long ago.</p></blockquote></div><p>Yes and I was the person who reported it because I noticed and even then there was denial of my observation, my complains were that the is insufficient empirical testing to ensure performance of software.<br />SIRQ is normal because interrupt is required for packet processing.<br />I am talking about all the procd, uci listening on sockets unnecessarily.</p><br /><br /><div class="quotebox"><blockquote><p>It used to be, today routers have two USB ports for print and file sharing, VPN setups etc. In any case, the core of OpenWrt still only does routing and firewalling. If your router is not fast enough you have the option to buy a faster one. If you&#039;re worried about e-waste simply donate your old one to a school.</p></blockquote></div><p>I don&#039;t think you understand the problem, it is about maximizing performance on limited hardware to add value to the software.<br />And you think a school doesn&#039;t have its own network...</p><br /><br /><br /><br /><div class="quotebox"><blockquote><p>Seems you are referring to your own results as &quot;bullsh!t&quot; then:</p><br /><p>There is no way the WR1043NDv1 is going to break that limit any time soon, even if you slap Linux 1.0 on it and 0 processes. Hardware has a fixed limit, simple as that.</p><p>My WDR4900v1 is doing the same speed (actually slightly lower because I use 4.1 kernel) on DD with none of your patches and tons of extra processes running. So again, what exactly is it you are complaining about? I can&#039;t see anything constructive about your post, when you consider the devs are doing a hell of a job for free and you can contribute whatever you like.</p></blockquote></div><p>Wrong again.<br />1)My patches mainly focus on the MIPS architecture, PowerPC is just a recent addition. Compared to standard builds there is a mile of performance difference.<br />2)Just for the information WR1043ND could exceed 300Mbps on AA, on BB it fell and I had to do more research and testing for optimization to actually bring up the performance again. I have been keeping tabs on performance all the way from AA to CC and it is a consistent drop. I have been applying the same patch to CC with less results from adding it to BB.<br />Currently CC can only do 350Mbps on WDR4300.<br />3)My PowerPC is now at 600Mbps<br />4)There is no Hardware Limit to a software processed Filter Table, it is how you remove the cruff so the important processes can get more CPU time, and optimize the ISA and code<br />5)My constructive input is to bring to attention about performance, there will be no change if no one actually thinks there is a problem, while people like you keep insisting everything is fine.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 28 Nov 2015, 12:27)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=45515&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=45515&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=45515&amp;p=4.html">4</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>