<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asus WL-500gx Support in Experimental</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p7403">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tscoreninja</div>
					<div class="post-datetime">
						20 May 2005, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>What is the status of support for the Asus WL-500gx /deluxe router? I have one of these devices, and would like to run openwrt on it, in particular due to its support for VoIP through Asterisk.<br /><a href="http://openwrt.org/OpenWrtDocs/Hardware/Asus/WL500GD">http://openwrt.org/OpenWrtDocs/Hardware/Asus/WL500GD</a> states:<br /></p><div class="quotebox"><blockquote><p>1.2. Software Overview <br />The next experimental snapshot will support these units.</p></blockquote></div><p>Who is working on that? What needs to be done, and who is doing the work? Has anybody gotten the experimental firmware to run on that Asus router? I downloaded the&nbsp; last experimental snapshot, and successfully built it, so I am at the point where I could help with implementing the WL-500gx support, if someone points me at the tasks which need to be done. However, I do not want to duplicate any work, and definitely will need some help to find out what is involved in this task.</p><p>Greetings,<br />TSCoreNinja</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7406">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						20 May 2005, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s supported for months now <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7412">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tscoreninja</div>
					<div class="post-datetime">
						20 May 2005, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>Great ;-) , but why do I only see Linksys WRT54G, Linksys WRT54GS and Motorola as options when I use &quot;make menuconfig&quot;, and enter the device selection item?<br />Snapshot is 23rd of April, 2005, downloaded from <a href="http://openwrt.org/downloads/experimental/experimental.tar.bz2">http://openwrt.org/downloads/experiment â€¦ al.tar.bz2</a></p><p>And most important, how do I select the appropriate options to actually support the wl500gx? Or is there any specific config to use? I have found nothing on this in the docs directory... </p><p>Greetings,<br />TSCoreNinja</p>											<p class="post-edited">(Last edited by <strong>tscoreninja</strong> on 20 May 2005, 15:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7420">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						20 May 2005, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>Just use a standard compile. It will work fine on the WL-500G Deluxe. You have to flash either openwrt-generic-jffs2-4MB.trx or openwrt-generic-squashfs.trx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7454">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tscoreninja</div>
					<div class="post-datetime">
						22 May 2005, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>OK, thanks a lot for the infos, I will give it a try...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7594">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">cyberwulf</div>
					<div class="post-datetime">
						26 May 2005, 12:58					</div>
				</div>
				<div class="post-content content">
					<p>please post your experience here because the generic trx from the &quot;openwrt&quot; does not work for my wl500g.<br />but i have successfully build the &quot;buildroot&quot; image with special support for the asus hardware (e.g. parport)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8280">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sendo</div>
					<div class="post-datetime">
						12 Jun 2005, 04:13					</div>
				</div>
				<div class="post-content content">
					<p>After bad experiences with crashes on high bandwidth from WLAN to WAN/LAN with the WL500g (standard) I sold my device and got myself a WL500g Deluxe, relying on the infos in this thread.<br />The current experimental does crash in a quiet more disappointing way than the standard version, because it does not only crash and then reboot, it crashes and keeps hanging until you plug the power off.<br />I tested with the following firmwares:</p><p>- old experimental (april 05): crashes<br />- current experimental: crashes<br />- old snapshot: works, but no usb-support</p><p>So maybe someone who&#039;s looking for a good device which works fine with OpenWrt may appreciate this information. Don&#039;t buy a Asus if you want to use WLAN on OpenWrt.</p><p>Best regards,<br />Sendo.</p><p>P.S.: If against one&#039;s expectations there is someone with better experiences, who prooves me wrong: please let me know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8294">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">cyberwulf</div>
					<div class="post-datetime">
						12 Jun 2005, 17:35					</div>
				</div>
				<div class="post-content content">
					<p>my asus wl-500g is working fine now for a few weeks. (no reboots or hangups, just does what it should)</p><p>i&#039;ve build the &quot;old&quot; buildroot version with kernel 2.4.20</p><p>usb storage &amp; webcam, parallel printer (HP Laserjet) and pppoecd for internet connection are working fine and WLAN with wep128 runs even with a large amount of data transmitted...</p><p>i&#039;m satisfied with it. now trying the experimental on a second device...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8308">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mmaexx</div>
					<div class="post-datetime">
						13 Jun 2005, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>Here are the results of trying to get the HEAD Branch from 13 June 2005 to run on a Asus wl-500gx (deluxe):</p><p>1. Flash the FW generic build trx 4 MB jffs2<br />2. device reboots - output while booting is <br />--------<br />Reading :: TFTP Server.<br />Done. 2732032 bytes read<br />Download of 0x29b000 bytes completed<br />Write kernel and filesystem binary to FLASH (0xbfc40000)<br />flash device &#039;flash1.trx&#039;<br />Programming...<br />done. 2732032 bytes written<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: .. 3704 bytes read<br />Entry at 0x80001000<br />Closing network.<br />Starting program at 0x80001000<br />CPU revision is: 00029007<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Linux version 2.4.30 (root@zit-4-176) (gcc version 3.4.3) #1 Mon Jun 13 16:28:03<br /> CEST 2005<br />Setting the PFC value as 0x15<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />On node 0 totalpages: 8192<br />zone(0): 8192 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/pre<br />init noinitrd console=ttyS0,115200<br />CPU: BCM5365 rev 1 at 200 MHz<br />Using 100.000 MHz high precision timer.<br />Calibrating delay loop... 3.27 BogoMIPS<br />Memory: 30500k/32768k available (1399k kernel code, 2268k reserved, 100k data, 7<br />6k init, 0k highmem)<br />Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)<br />Inode cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: Fixing up bus 0<br />PCI: Fixing up bridge<br />PCI: Fixing up bus 1<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI en<br />abled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 0) is a 16550A<br />Software Watchdog Timer: 0.05, timer margin: 60 sec<br /> Amd/Fujitsu Extended Query Table v1.1 at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling fast programming due to code brokenness.<br />Flash device: 0x400000 at 0x1c000000<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;pmon&quot;<br />0x00040000-0x003f0000 : &quot;linux&quot;<br />0x000baa24-0x002db000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-o<br />nly<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />0x002e0000-0x003f0000 : &quot;OpenWrt&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 2048 bind 4096)<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 316 bytes per conntrack<br />ip_tables: (C) 2000-2002 Netfilter core team<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />Bridge firewalling registered<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (jffs2 filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 76k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />Using /lib/modules/2.4.30/diag.o<br />diag boardtype: 00000000<br />Unlocking linux ...<br />Could not unlock MTD device: linux<br />Unlocking OpenWrt ...<br />Could not unlock MTD device: OpenWrt<br />Erasing OpenWrt ...<br />Partition moved; please reboot<br />Warning: DQ5 raised while program operation was in progress, however operation c<br />ompleted OK<br />.<br />.<br />&lt;repeated very often&gt;<br />.<br />.<br />Warning: DQ5 raised while program operation was in progress, however operation c<br />ompleted OK<br />init started:&nbsp; BusyBox v1.00 (2005.06.13-14:34+0000) multi-call binary</p><p>Please press Enter to activate this console. jffs2.bbc: SIZE compression mode ac<br />tivated.<br />PCI: Enabling device 01:03.0 (0004 -&gt; 0006)<br />eth0: Broadcom BCM4320 802.11 Wireless Controller 3.90.23.0<br />device eth0 entered promiscuous mode<br />Data bus error, epc == 800a7f3c, ra == 800a7f34<br />Oops in traps.c::do_be, line 385:<br />$0 : 00000000 1000fc00 c011f000 c011f000 ac080000 00000004 c011f000 0c080083<br />$8 : 00000000 00000000 00000000 00000000 00001143 00705aac 0000000a 00000000<br />$16: 8108db60 00000001 00001143 00000000 00000000 81f03eb0 00000000 00008914<br />$24: 00000000 80107c70&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;81f02000 81f03da0 7fff7c90 800a7f34<br />Hi : 00000cc6<br />Lo : 66ed5600<br />epc&nbsp; &nbsp;: 800a7f3c&nbsp; &nbsp; Tainted: P<br />Status: 1000fc02<br />Cause : 0000001c<br />PrId&nbsp; : 00029007<br />Process ifconfig (pid: 356, stackpage=81f02000)<br />Stack:&nbsp; &nbsp; 81e11760 80167e7c 8106bf94 8102f8d4 00000000 81c48000 c00dda78<br /> 81074f20 811540c0 00000001 81f03ee0 81181620 00000000 1000fc00 80000000<br /> 8100001c 2aaaed00 8114ad00 00000300 00001000 80323236 81f02000 8108da60<br /> 81070400 00001143 00000000 c00d27dc 2b000000 2b000000 80021de8 81c2db60<br /> 81f02000 8108da60 c00d1e98 81c2db60 81057910 ffffffbf 0048f1e0 81070400<br /> 00000000 ...<br />Call Trace:&nbsp; &nbsp;[&lt;c00dda78&gt;] [&lt;c00d27dc&gt;] [&lt;80021de8&gt;] [&lt;c00d1e98&gt;] [&lt;800c3d64&gt;]<br /> [&lt;800c5588&gt;] [&lt;80105e40&gt;] [&lt;800495d0&gt;] [&lt;800bcfe4&gt;] [&lt;80008a80&gt;] [&lt;8005c0dc&gt;]</p><p>Code: 8c910064&nbsp; 1040001c&nbsp; 00403021 &lt;8c420004&gt; 00c02821&nbsp; 00021482&nbsp; 30420001&nbsp; 1040<br />000f&nbsp; 02002021<br />----</p><p>3. Then i have a shell on the rerial console BUT on the next reboot</p><p>4. i get on the console:</p><p>-----<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />Rescue Flag disable.<br />Boot program checksum is invalid<br />Hello!! Enter Rescue Mode: (Check error)</p><p>Reading :: TFTP Server.<br />Failed.: Timeout occured<br />-----</p><p>Anyone Any ideas what could be wrong and how to fix it.<br />binary fw realeases from downloads.openwrt.org (TESTED Branch)<br />are working - so i think nothings wrong with the hw itself.</p><p>Any help very appreciated !!!</p><p>cheers<br />Albert</p>											<p class="post-edited">(Last edited by <strong>mmaexx</strong> on 13 Jun 2005, 18:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8326">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						14 Jun 2005, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>This problem has been fixed in CVS HEAD. Seems like the GCC 3.4.3 has a few bugs. We switched to 3.4.4 now. When you use a modified buildroot and want to keep your changes, you should run cvs update -PAd, make distclean and make again.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>