<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HAME MPR-A1 - Small and cheap router with built-in battery</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 May 2015 and 2 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 5 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=4.html">4</a></li><li class="pagination-current"><span>5</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=6.html">6</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=7.html">7</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p187002">
				<div class="post-metadata">
					<div class="post-num">Post #101</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Dec 2012, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ll take inspiration from this..</p><p> <a href="https://forum.openwrt.org/viewtopic.php?id=34188">https://forum.openwrt.org/viewtopic.php?id=34188</a></p><p>obviously it must be included inside the original plastic casing..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187003">
				<div class="post-metadata">
					<div class="post-num">Post #102</div>
					<div class="post-author">p1vo</div>
					<div class="post-datetime">
						25 Dec 2012, 21:57					</div>
				</div>
				<div class="post-content content">
					<p>have U guys consider that Hame A1 wont have suficient power eficiency to power up 2 ports?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187005">
				<div class="post-metadata">
					<div class="post-num">Post #103</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						25 Dec 2012, 22:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>p1vo wrote:</cite><blockquote><p>have U guys consider that Hame A1 wont have suficient power eficiency to power up 2 ports?</p></blockquote></div><p>Surely that depends on what is connected.&nbsp; A webcam and a serial port should work, the same as if connected to an external passive hub, and many microprocessors powered by USB and communicating through the serial port.&nbsp; If you try to run big motors, that would be another issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187006">
				<div class="post-metadata">
					<div class="post-num">Post #104</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						25 Dec 2012, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>I may have missed it when scanning back through this thread.&nbsp; Has anyone posted a link to the datasheet for the Ralink processor?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187007">
				<div class="post-metadata">
					<div class="post-num">Post #105</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						25 Dec 2012, 22:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>p1vo wrote:</cite><blockquote><p>have U guys consider that Hame A1 wont have suficient power eficiency to power up 2 ports?</p></blockquote></div><p>When used to generate 5V output, the Hame A1 step-up FP6290 switching voltage regulator is able to deliver up to 800 mA with a 90% efficiency (see <a href="http://www.feeling-tech.com.tw/km-master/ezcatfiles/cust/img/img/24/fp6290v062-lf.pdf">datasheet</a>).</p><p>So this is at least 1.5 negotiated full USB load or 8 non-negotiated USB loads.</p><p>But there may be some other limitations in the Hame A1 design itself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187008">
				<div class="post-metadata">
					<div class="post-num">Post #106</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						25 Dec 2012, 22:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>I may have missed it when scanning back through this thread.&nbsp; Has anyone posted a link to the datasheet for the Ralink processor?</p></blockquote></div><p>Not available publicly <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>However, you can find a <a href="http://www.tracermcc.ru/foto/bender/RT3050_5x_V2.0_081408_0902.pdf">preliminary datasheet</a> for the RT3050 which is quite similar.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187009">
				<div class="post-metadata">
					<div class="post-num">Post #107</div>
					<div class="post-author">monotube</div>
					<div class="post-datetime">
						25 Dec 2012, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>Here seems to be another similar router, HAME A15, even a little bit cheaper ($17.51): <a href="http://www.ebay.com/itm/Portable-2in1-Mini-150Mbps-3G-WIFI-Mobile-Wireless-USB-Router-Hotspot-Black-High-/360546822692?pt=COMP_EN_Routers&amp;hash=item53f243ea24">http://www.ebay.com/itm/Portable-2in1-M … 53f243ea24</a></p><p>With the battery the MPR-A1 is a lot more interesting, would be nice to know if there are other differences.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187011">
				<div class="post-metadata">
					<div class="post-num">Post #108</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						25 Dec 2012, 23:22					</div>
				</div>
				<div class="post-content content">
					<p>What would be nice are a larger Flash/SDRAM (8MB/32MB) memory capacities, like what is proposed by swatfa, but I am not sure this one will have feature these...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187015">
				<div class="post-metadata">
					<div class="post-num">Post #109</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						26 Dec 2012, 01:24					</div>
				</div>
				<div class="post-content content">
					<p>Squonk--thank you for the datasheet link.&nbsp; Assuming similar pinouts for the actual chip, and your previous analysis that GPIO7 is USB power, would it be at least theoretically possible to tie USB power high, cut the trace to GPIO7, and then use the UART configuration shown below (GPIO7 is RTS_N) to provide a second, non-console serial interface?</p><p><span class="postimg"><img src="http://i47.tinypic.com/2prtoj7.jpg" alt="http://i47.tinypic.com/2prtoj7.jpg" /></span><br />(From page 17)</p><p>Of course, it would be preferable to tie &quot;USB power&quot; to a different GPIO.&nbsp; This might be a minimal board change which could add another useful feature.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 26 Dec 2012, 01:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187024">
				<div class="post-metadata">
					<div class="post-num">Post #110</div>
					<div class="post-author">swatfa</div>
					<div class="post-datetime">
						26 Dec 2012, 08:55					</div>
				</div>
				<div class="post-content content">
					<p>Just to update, unfortunatly after talking to the factory the header modifications will not be done. Apparenty the research and development time to remap the new pcb is not possible for the time being for our expected initial order quantity. This would have to be kept for the next potential model or release of the product.</p><p>With this in mind is there any possibility that the device can still be used to interact with peripherals without the header? Im not very tech savvy but would it be possible just to use the existing i2c and free gpios to connect to the peripherals perhaps through soldering?&nbsp; I ask so that i can be sure whether or not i can mention that it is capable of communicating with devices/robotics etc in my marketing campaign or whether its impossible without the header discussed previously.</p><p>For now the confirmed upgrades are the 32mb ram and 8mb flash. Perhaps if the device can support larger flash than i will try to upgrade it even further. Will have to check the limitations of the uboot and compatible chips.</p>											<p class="post-edited">(Last edited by <strong>swatfa</strong> on 26 Dec 2012, 12:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187047">
				<div class="post-metadata">
					<div class="post-num">Post #111</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						26 Dec 2012, 15:44					</div>
				</div>
				<div class="post-content content">
					<p>Sorry to hear that the &quot;maker-friendly&quot; modifications will not be possible.&nbsp; I hope some other manufacturer would be able to pick up the ball on this.</p><p>The device would be able to communicate with other devices via usb.&nbsp; Soldering to the board is also possible, and has been done by a number on this forum, but the contact points are tiny, fragile, and dispersed.&nbsp; For most, it would probably be easier to go with a device which has the GPIOs brought out, like the Raspberry Pi (which is quite powerful, but lacks wifi).&nbsp; </p><p>It would still be appealing to have one of these little devices, with wifi and perhaps a battery, which directly and easily supports GPIOs and I2C, an additional USB port, and a second serial port.</p><p>Price point would also be important for this device--considering the $25US price of the Raspberry Pi model A (with 128MB ram and SD but no flash and no case), and the $19 price of the unmodified versions of this device, a price of $25 would be attractive for a hobby-friendly, wifi-enabled &quot;little computer&quot; with battery.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 26 Dec 2012, 15:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187258">
				<div class="post-metadata">
					<div class="post-num">Post #112</div>
					<div class="post-author">axishero</div>
					<div class="post-datetime">
						28 Dec 2012, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>I just got one MPR-A2 which is very similar but with a larger battery-5200mh.I want to open it and mod it with larger RAM.How can I gently open it without scratch its shell?</p>											<p class="post-edited">(Last edited by <strong>axishero</strong> on 28 Dec 2012, 18:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187710">
				<div class="post-metadata">
					<div class="post-num">Post #113</div>
					<div class="post-author">bertc3p0</div>
					<div class="post-datetime">
						3 Jan 2013, 00:48					</div>
				</div>
				<div class="post-content content">
					<p>I do have some problems here with my flash:</p><div class="codebox"><pre><code>U-Boot 1.1.8 (Feb  6 2012 - 16:07:57)

Board: Ralink APSoC DRAM:  16 MB
relocate_code Pointer at: 80fb0000
spi_wait_nsec: 42 
spi device id: c8 40 16 c8 40 (4016c840)
find flash: G 1407
...
Starting kernel ...

[    0.000000] Linux version 3.6.11 (gerd@nizza) (gcc version 4.7.3 20121106 (prerelease) (Linaro GCC 4.7-2012.11) ) #4 Wed Jan 2 21:23:30 CET 2013
...
[    0.000000] Kernel command line:  board=MPR-A1 console=ttyS1,57600 mtdparts=spi0.0:192k(u-boot)ro,64k(u-boot-env)ro,64k(factory)ro,896k(kernel),2880k(rootfs),3776k@0x50000(firmware) rootfstype=squashfs,jffs2
...
[    0.390000] ramips-spi ramips-spi.0: master is unqueued, this is deprecated
[    0.410000] m25p80 spi0.0: unrecognized JEDEC id c84016
...
[    0.470000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0): error -6
[    0.490000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:
[    0.500000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div><p>Googled around but didn&#039;t find any valid entry for this flash to patch &quot;drivers/mtd/devices/m25p80.c&quot;</p><p>Any hint ?</p><p>Regards<br />bertc3p0</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187958">
				<div class="post-metadata">
					<div class="post-num">Post #114</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						5 Jan 2013, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>Any progress on this port?</p><p>Does someone have openwrt working on a model with 8mb flash?&nbsp; If so, can they post a link to a supplier?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187960">
				<div class="post-metadata">
					<div class="post-num">Post #115</div>
					<div class="post-author">bertc3p0</div>
					<div class="post-datetime">
						5 Jan 2013, 17:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bertc3p0 wrote:</cite><blockquote><p>I do have some problems here with my flash:</p><div class="codebox"><pre><code>U-Boot 1.1.8 (Feb  6 2012 - 16:07:57)

Board: Ralink APSoC DRAM:  16 MB
relocate_code Pointer at: 80fb0000
spi_wait_nsec: 42 
spi device id: c8 40 16 c8 40 (4016c840)
find flash: G 1407
...</code></pre></div></blockquote></div><p>Does anbody know the vendor/producer of this chip (32Mbit SPI Flash) ?:</p><p><span class="postimg"><img src="http://lnxpps.de/openwrt/g_1407_1.jpg" alt="G 1407" /></span><br /></p><div class="codebox"><pre><code>G BE1206
25032BSIG
POA185</code></pre></div><p>Anbody know what I have to integrate into &#039;m25p80.c&#039; ?<br />Regards</p><p>bertc3p0</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187965">
				<div class="post-metadata">
					<div class="post-num">Post #116</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						5 Jan 2013, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>This Flash is a GigaDevice GD25Q32 32 Mbit (4 MB) SPI Flash (see <a href="http://www.gigadevice.com/UserFiles/GD25Q32_Rev0.2(1).pdf">datasheet</a>).</p><p>On MPR-A2 devices, the GD25Q64 Mbit (8 MB) SPI Flash is used (<a href="http://www.gigadevice.com/UserFiles/GD25Q64.pdf">datasheet</a>).</p><p>Here is a patch to apply to current trunk (revision 35016) to define both chips:<br /></p><div class="codebox"><pre><code>Index: target/linux/generic/patches-3.6/479-mtd_mp25p80_add_gd25q32_gd25q64.patch
===================================================================
--- target/linux/generic/patches-3.6/479-mtd_mp25p80_add_gd25q32_gd25q64.patch    (révision 0)
+++ target/linux/generic/patches-3.6/479-mtd_mp25p80_add_gd25q32_gd25q64.patch    (copie de travail)
@@ -0,0 +1,13 @@
+--- a/drivers/mtd/devices/m25p80.c
++++ b/drivers/mtd/devices/m25p80.c
+@@ -651,6 +651,10 @@
+     /* Everspin */
+     { &quot;mr25h256&quot;, CAT25_INFO(  32 * 1024, 1, 256, 2) },
+ 
++    /* GigaDevice */
++    { &quot;gd25q32&quot;, INFO(0xc84016, 0, 64 * 1024,  64, SECT_4K) },
++    { &quot;gd25q64&quot;, INFO(0xc84017, 0, 64 * 1024, 128, SECT_4K) },
++
+     /* Intel/Numonyx -- xxxs33b */
+     { &quot;160s33b&quot;,  INFO(0x898911, 0, 64 * 1024,  32, 0) },
+     { &quot;320s33b&quot;,  INFO(0x898912, 0, 64 * 1024,  64, 0) },</code></pre></div><p>Please let me know if this works!</p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 5 Jan 2013, 18:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187974">
				<div class="post-metadata">
					<div class="post-num">Post #117</div>
					<div class="post-author">bertc3p0</div>
					<div class="post-datetime">
						5 Jan 2013, 20:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>This Flash is a GigaDevice GD25Q32 32 Mbit (4 MB) SPI Flash</p></blockquote></div><p>Yeah. The patch is working fine !:<br /></p><div class="codebox"><pre><code>[    0.390000] ramips-spi ramips-spi.0: master is unqueued, this is deprecated
[    0.410000] m25p80 spi0.0: found gd25q32, expected pm25lq032
[    0.420000] m25p80 spi0.0: gd25q32 (4096 Kbytes)
[    0.430000] 6 cmdlinepart partitions found on MTD device spi0.0
[    0.440000] Creating 6 MTD partitions on &quot;spi0.0&quot;:
[    0.450000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.460000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.480000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.490000] 0x000000050000-0x000000130000 : &quot;kernel&quot;
[    0.500000] 0x000000130000-0x000000400000 : &quot;rootfs&quot;
[    0.520000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.530000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2D0000, len=130000 </code></pre></div><p>Many thx Squonk ! Could you put your patch upstream, please ?</p><p>Regards</p><p>bertc3p0</p>											<p class="post-edited">(Last edited by <strong>bertc3p0</strong> on 5 Jan 2013, 20:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187975">
				<div class="post-metadata">
					<div class="post-num">Post #118</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						5 Jan 2013, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>ok, I will send it to the dev list!</p><p>EDIT: done:<br /><a href="http://patchwork.openwrt.org/patch/3120/">http://patchwork.openwrt.org/patch/3120/</a></p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 5 Jan 2013, 20:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187978">
				<div class="post-metadata">
					<div class="post-num">Post #119</div>
					<div class="post-author">miguxbe</div>
					<div class="post-datetime">
						5 Jan 2013, 20:46					</div>
				</div>
				<div class="post-content content">
					<p>I bought on ebay for 15 € (more or less) a similar device Poray M3 (<a href="http://www.poray.com.cn/ch/product.asp?ProdNum=575&amp;parentid=385&amp;zid=201111251445108679705">http://www.poray.com.cn/ch/product.asp? … 5108679705</a>) some month ago , and I wonder if it&#039;s possible to build a OpenWRT image for my device. It&#039;s a <strong>RT5053F</strong> SoC based portable router (3G), but I&#039;m not sure if your paches are compatible or not. I&nbsp; didn&#039;t test it because I have fear to brick it.</p><p>Here, the boot log:</p><div class="codebox"><pre><code>U-Boot 1.1.3 (Sep 23 2010 - 12:12:39)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 42 
spi device id: ef 40 16 0 0 (40160000)
find flash: W25Q32BV
raspi_read: from:30000 len:1000 
.*** Warning - bad CRC, using default environment

============================================ 
Ralink UBoot Version: 3.5.0.0
-------------------------------------------- 
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping 
DRAM_TYPE: SDRAM 
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Sep 23 2010  Time:12:12:39
============================================ 
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384 

 ##### The CPU freq = 360 MHZ #### 
 estimate memory size =32 Mbytes

Please choose the operation: 
   1: Load system code to SDRAM via TFTP. 
   2: Load system code then write to Flash via TFTP. 
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial. 
   9: Load Boot Loader code then write to Flash via TFTP. 
 4  3 2 1 0 
   
3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40 
   Image Name:   Linux Kernel Image
   Created:      2011-11-15  14:02:08 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3243902 Bytes =  3.1 MB
   Load Address: 80000000
   Entry Point:  803a8000
raspi_read: from:50040 len:317f7e 
..................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 803a8000) ...
## Giving linux memsize in MB, 32

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@MaxWong) (gcc version 3.4.2) #62 Mon Nov 14 22:19:40 CST 2011

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS1,57600n8 root=/dev/ram0
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = d0808020, status = 11000000
PID hash table entries: 128 (order: 7, 512 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 0.050 MHz high precision timer.
Console: colour dummy device 80x25
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 26452k/32768k available (2932k kernel code, 6316k reserved, 808k data, 2060k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
detected lzma initramfs
detected lzma initramfs
initramfs: LZMA lc=3,lp=0,pb=2,dictSize=1048576,origSize=8120832
LZMA initramfs by Ming-Ching Tiew &lt;mctiew@yahoo.com&gt;............................................................................................................................deice id : ef 40 16 0 0 (40160000)
Warning: un-recognized chip ID, please update SPI driver!
AT25DF321(1f 47000000) (4096 Kbytes)
mtd .name = raspi, .size = 0x00400000 (4M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 4 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x00400000 : &quot;Kernel&quot;
Load Ralink DFS Timer Module
RT3xxx EHCI/OHCI init.
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
io scheduler noop registered (default)
IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIi
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
RAMDISK driver initialized: 16 RAM disks of 16384K size 1024 blocksize
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocated, mtu = 1500!
MAC_ADRH -- : 0x0000000c
MAC_ADRL -- : 0x43305077
PROC INIT OK!
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.1


=== pAd = c0019000, size = 617240 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
block2mtd: version $Revision: 1.1.1.1 $
rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller
rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1
rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000
rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: Product: Ralink EHCI Host Controller
usb usb1: Manufacturer: Linux 2.6.21 ehci_hcd
usb usb1: SerialNumber: rt3xxx
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller
rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2
rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000
usb usb2: Product: RT3xxx OHCI Controller
usb usb2: Manufacturer: Linux 2.6.21 ohci_hcd
usb usb2: SerialNumber: rt3xxx-ohci
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
usbcore: registered new interface driver cdc_acm
drivers/usb/class/cdc-acm.c: v0.25:USB Abstract Control Model driver for USB modems and ISDN adapters
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Linux
ipt_time loading
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
Ebtables v2.0 registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 2060k freed
Hit enter to continue...
phy_tx_ring = 0x01b57000, tx_ring = 0xa1b57000

phy_rx_ring0 = 0x01b58000, rx_ring0 = 0xa1b58000
RT305x_ESW: Link Status Changed
RX DESC a1b5e000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
RTMP_TimerListAdd: add timer obj c00812a0!
RTMP_TimerListAdd: add timer obj c0021014!
RTMP_TimerListAdd: add timer obj c0020be4!
RTMP_TimerListAdd: add timer obj c0020fc0!
RTMP_TimerListAdd: add timer obj c0020fe8!
RTMP_TimerListAdd: add timer obj c00210cc!
RTMP_TimerListAdd: add timer obj c00210f8!
RTMP_TimerListAdd: add timer obj c00212a4!
RTMP_TimerListAdd: add timer obj c005805c!
RTMP_TimerListAdd: add timer obj c0058160!
RTMP_TimerListAdd: add timer obj c0058084!
RTMP_TimerListAdd: add timer obj c004f8bc!
RTMP_TimerListAdd: add timer obj c001e4d8!
RTMP_TimerListAdd: add timer obj c004f5d8!
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1. Phy Mode = 9
2. Phy Mode = 9
TXALC&gt; bInternalTxALC = 0
3. Phy Mode = 9
RTMP_TimerListAdd: add timer obj c001e0e0!
NICInitAsicFromEEPROM: pAd-&gt;TxPowerCtrl.bInternalTxALC = 0
MCS Set = ff 00 00 00 01
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
RTMP_TimerListAdd: add timer obj c004fb9c!
Main bssid = 00:1e:23:05:46:f3
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
eth2.1: Setting MAC address to  00 1e 23 XX XX XX.
device eth2 entered promiscuous mode
VLAN (eth2.1):  Setting underlying device (eth2) to promiscious mode.
device ra0 entered promiscuous mode
eth2.1: dev_set_promiscuity(master, 1)
device eth2.1 entered promiscuous mode
Algorithmics/MIPS FPU Emulator v1.5
br0: port 2(eth2.1) entering learning state
br0: port 1(ra0) entering learning state
br0: topology change detected, propagating
br0: port 2(eth2.1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
br0: port 1(ra0) entering disabled state
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
RX DESC a0589000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
RTMP_TimerListAdd: add timer obj c00812a0!
RTMP_TimerListAdd: add timer obj c0021014!
RTMP_TimerListAdd: add timer obj c0020be4!
RTMP_TimerListAdd: add timer obj c0020fc0!
RTMP_TimerListAdd: add timer obj c0020fe8!
RTMP_TimerListAdd: add timer obj c00210cc!
RTMP_TimerListAdd: add timer obj c00210f8!
RTMP_TimerListAdd: add timer obj c00212a4!
RTMP_TimerListAdd: add timer obj c005805c!
RTMP_TimerListAdd: add timer obj c0058160!
RTMP_TimerListAdd: add timer obj c0058084!
RTMP_TimerListAdd: add timer obj c004f8bc!
RTMP_TimerListAdd: add timer obj c001e4d8!
RTMP_TimerListAdd: add timer obj c004f5d8!
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1. Phy Mode = 9
2. Phy Mode = 9
TXALC&gt; bInternalTxALC = 0
3. Phy Mode = 9
RTMP_TimerListAdd: add timer obj c001e0e0!
NICInitAsicFromEEPROM: pAd-&gt;TxPowerCtrl.bInternalTxALC = 0
MCS Set = ff 00 00 00 01
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
RTMP_TimerListAdd: add timer obj c004fb9c!
Main bssid = 00:1e:23:05:46:f3
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
br0: port 1(ra0) entering learning state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
killall: rt2860apd: no process killed
 No any valid radius ip address 
 1 errors for radius setting
 Not enough necessary parameters are found, flag = d
 Could not allocate memory for rtapd-&gt;conf 
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
info, udhcp server (v0.9.8) started
time.windows.com: Unknown host
br0: port 2(eth2.1) entering disabled state
eth2.1: Setting  address to  00 1e 23 XX XX XX.
br0: port 2(eth2.1) entering learning state
br0: topology change detected, propagating
br0: port 2(eth2.1) entering forwarding state
SCSI subsystem initialized
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
/eject: unable to open `/dev/sr0&#039;
/eject: unable to open `/dev/sr0&#039;
usbcore: deregistering interface driver usb-storage
WAN_PROTO = 0
Uniform CD-ROM driver unloaded
usbcore: registered new interface driver usbserial
drivers/usb/serial/usb-serial.c: USB Serial support registered for generic
usbcore: registered new interface driver usbserial_generic
drivers/usb/serial/usb-serial.c: USB Serial Driver core
open /dev/ttyUSB0 error
open /dev/ttyUSB1 error
open /dev/ttyUSB2 error
open /dev/ttyUSB3 error
open /dev/ttyUSB4 error
open /dev/ttyUSB5 error
open /dev/ttyUSB6 error
open /dev/ttyACM0 error
open /dev/ttyACM1 error
open /dev/ttyACM2 error
open /dev/ttyACM3 error
open /dev/ttyACM4 error
open /dev/ttyACM5 error
open /dev/ttyACM6 error
IDLE
Hit enter to continue...


Enter &#039;help&#039; or &#039;?&#039; for a list of built-in commands.

# 
# </code></pre></div><p>The printenv output: </p><div class="codebox"><pre><code>U-Boot 1.1.3 (Sep 23 2010 - 12:12:39)

RT5350 # printenv
bootcmd=tftp
bootdelay=5
baudrate=57600
ethaddr=&quot;00:AA:BB:XX:XX:XX&quot;
ipaddr=10.10.10.123
serverip=10.10.10.3
ramargs=setenv bootargs root=/dev/ram rw
addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):off
addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) panic=1
flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)
kernel_addr=BFC40000
u-boot=u-boot.bin
load=tftp 8A100000 $(u-boot)
u_b=protect off 1:0-1;era 1:0-1;cp.b 8A100000 BC400000 $(filesize)
loadfs=tftp 8A100000 root.cramfs
u_fs=era bc540000 bc83ffff;cp.b 8A100000 BC540000 $(filesize)
test_tftp=tftp 8A100000 root.cramfs;run test_tftp
stdin=serial
stdout=serial
stderr=serial
ethact=Eth0 (10/100-M)</code></pre></div><p>And some pics of my device: </p><p><a href="http://postimage.org/image/pg9484mb7/full/"><span class="postimg"><img src="http://s13.postimage.org/3tu3r3nqv/2012_06_09_13_50_45.jpg" alt="http://s13.postimage.org/3tu3r3nqv/2012_06_09_13_50_45.jpg" /></span></a><br /><a href="http://postimage.org/image/ie8cpzh9n/full/"><span class="postimg"><img src="http://s9.postimage.org/hopkdmgq7/2013_01_05_20_18_50.jpg" alt="http://s9.postimage.org/hopkdmgq7/2013_01_05_20_18_50.jpg" /></span></a></p><p>Click on the image to see larger.</p><p>Thanks <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>miguxbe</strong> on 5 Jan 2013, 21:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187979">
				<div class="post-metadata">
					<div class="post-num">Post #120</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						5 Jan 2013, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>Didn&#039;t know this one yet <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Could you please provide the source url and the price, please? It looks very interesting!</p><p>You can try to boot from SDRAM first by choosing option 1: this way, your original firmware is preserved. At least, you should have OpenWrt booting up to some point and eventually crash because it can&#039;t find the rootfs.</p><p>This way, you can verify that the Flash chip is recognized (it looks like a Winbond W25Q32 which is supported).</p><p>If you have access to a busybox shell in the original firmware, you can backup all your partitions to /tmp ramdisk using dd, and send them to your PC as a security using tfftp (you have to create the file on your PC first, it cannot be created during the transfer).</p><p>Once you verified that you have al lthe partitions backed up, you can try to Flash an OpenWrt image using uboot option 2, which will save it to Flash and erase the kernel+rootfs ONLY, not the uboot bootloader, so you can always revert to factory.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187982">
				<div class="post-metadata">
					<div class="post-num">Post #121</div>
					<div class="post-author">miguxbe</div>
					<div class="post-datetime">
						5 Jan 2013, 21:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>Didn&#039;t know this one yet <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Could you please provide the source url and the price, please? It looks very interesting!</p><p>You can try to boot from SDRAM first by choosing option 1: this way, your original firmware is preserved. At least, you should have OpenWrt booting up to some point and eventually crash because it can&#039;t find the rootfs.</p><p>This way, you can verify that the Flash chip is recognized (it looks like a Winbond W25Q32 which is supported).</p><p>If you have access to a busybox shell in the original firmware, you can backup all your partitions to /tmp ramdisk using dd, and send them to your PC as a security using tfftp (you have to create the file on your PC first, it cannot be created during the transfer).</p><p>Once you verified that you have al lthe partitions backed up, you can try to Flash an OpenWrt image using uboot option 2, which will save it to Flash and erase the kernel+rootfs ONLY, not the uboot bootloader, so you can always revert to factory.</p></blockquote></div><p>Thank you Squonk for the info. I have edited my original post. I will try the SDRAM option.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187984">
				<div class="post-metadata">
					<div class="post-num">Post #122</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						5 Jan 2013, 21:23					</div>
				</div>
				<div class="post-content content">
					<p>Squonk, I found one link from aliexpress :</p><p><a href="http://www.aliexpress.com/item/Star-light-poray-m3-150m-mini-3g-wireless-router-adsl-card-reader/677408671.html">http://www.aliexpress.com/item/Star-lig … 08671.html</a></p><p>US $17.09 include shipping</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187985">
				<div class="post-metadata">
					<div class="post-num">Post #123</div>
					<div class="post-author">miguxbe</div>
					<div class="post-datetime">
						5 Jan 2013, 21:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xopal wrote:</cite><blockquote><p>Squonk, I found one link from aliexpress :</p><p><a href="http://www.aliexpress.com/item/Star-light-poray-m3-150m-mini-3g-wireless-router-adsl-card-reader/677408671.html">http://www.aliexpress.com/item/Star-lig … 08671.html</a></p><p>US $17.09 include shipping</p></blockquote></div><p>Yep, cheap as I said <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" />. I bought this one because it has SD &amp; Micro-SD card readers <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" />, perfect for rootfs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187986">
				<div class="post-metadata">
					<div class="post-num">Post #124</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						5 Jan 2013, 21:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xopal wrote:</cite><blockquote><p>Squonk, I found one link from aliexpress :</p><p><a href="http://www.aliexpress.com/item/Star-light-poray-m3-150m-mini-3g-wireless-router-adsl-card-reader/677408671.html">http://www.aliexpress.com/item/Star-lig … 08671.html</a></p><p>US $17.09 include shipping</p></blockquote></div><p>Same one <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187992">
				<div class="post-metadata">
					<div class="post-num">Post #125</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						5 Jan 2013, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>So this HAME MPR-A1 now works with OpenWrt? Any know issues?<br />Any good place to order them? I fount them on DX for 24$ with free shipping, any better deals?<br /><a href="http://dx.com/p/hame-mpr-a1-wi-fi-802-11b-g-n-wireless-3g-router-w-1800mah-battery-charger-dongle-white-blue-176387">http://dx.com/p/hame-mpr-a1-wi-fi-802-1 … lue-176387</a></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 5 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=4.html">4</a></li><li class="pagination-current"><span>5</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=6.html">6</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=7.html">7</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>