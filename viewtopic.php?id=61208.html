<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Forbidden - You don&#039;t have permission to access / on this server.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p301643">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>Unable to login to router using luci.</p><p>I get the above message when I try to login to my WNDR3700v2 after updating to build 47663.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301647">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>Not sure if this is relevant<br />Login using ssh - get a message &quot;sh: /usr/bin/xauth: not found&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301649">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						29 Nov 2015, 15:23					</div>
				</div>
				<div class="post-content content">
					<p>Sounds strange. I have been able to normally login to WNDR3700v2 with trunk 47665 and 47670.</p><p>Do you have your own build? You might check the configuration.<br />And possibly &quot;firstboot&quot; to default settings.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301652">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>No I don&#039;t have my own build, i have always use the trunk builds and added the bits I need.</p><p>I downloaded and install the latest trunk release this morning. <br />Added luci, luci-theme-openwrt and luci-app-sqm using the ssh interface (Putty). <br />Nothing unusual, something I have done many times before.<br />No error, no warnings, nothing out of the ordinary.</p><p>Tried to connect to Luci using firefox and get the above message.<br />Tried using IE and get a slightly different but essentially the same message, http 403 forbidden.</p><p>The only thing that I noticed is the message about the missing xauth.</p><p>The router appears to be working perfectly normally, except for Luci.</p>											<p class="post-edited">(Last edited by <strong>zzz2002</strong> on 29 Nov 2015, 16:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301653">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						29 Nov 2015, 15:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zzz2002 wrote:</cite><blockquote><p>Added luci, luci-theme-openwrt</p></blockquote></div><p>Luci-theme-openwrt might be out of sync. <br />Current default is &quot;luci-theme-bootstrap&quot;.</p><p>EDIT:<br />Just tested with Firefox and &quot;Openwrt&quot; theme seemed to almost work: it enabled login etc., but there was no style in the browser.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 29 Nov 2015, 16:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301654">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>I removed all the of tthe additional packagesI install and reinstall Luci.<br />Makes no difference.<br />I am debating whether to do a factory install and start from the ground up, but I ma somewhat limited for time.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301657">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>It seems to be a file/directory permission problem</p><p>Using winSCP I changed the permissions on /www recursively to rwxr_xr_x and I can get in with bootstrap theme.</p><p>Interesting, I added the openwrt theme back in but it does not work. Using winSCP set the permission again on /www, and it works.</p><p>I am not an expert but it looks to me as though there is a problem with file/directory permissions.</p><p>ps: I use openwrt theme because the bootstrap theme, needs to my mind a larger screen than I have available. If you know of a more compact version of bootstrap I would appreciate it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301660">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						29 Nov 2015, 16:35					</div>
				</div>
				<div class="post-content content">
					<p>When did you last time flash the router? There was a rather large Luci authentication revamp some weeks ago. </p><p>You might also try clearing the browser cache.</p><p>Although the directory permissions sounds strange.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301662">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>I cleared the firefox cache as soon as the problem occurred, and as I never use IE, the attempt to get in to luci with IE is the first time I have used IE in about12 months.</p><p>I am not 100% certain but I think it would be the either the 19th or 24th.<br />I am going by my backup dates, I usually take a back immediately prior to flashing a new build.<br />But I see that I downloaded a build on the 24th, and I usually don&#039;t bother unless I am going to update.</p>											<p class="post-edited">(Last edited by <strong>zzz2002</strong> on 29 Nov 2015, 16:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301676">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">grega</div>
					<div class="post-datetime">
						29 Nov 2015, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>Yup, same here<br />chmod -R 777 /www/ did the trick</p><p>Probably bug in luci?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301678">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>Just to see if this was a glitch I reinstall r47663.<br />The result is the same I get the same error.<br />using winSCP again I changed the file permission on /www and luci works.<br />Install luci-theme-openwrt, using bootstrap luci works, using openwrt it works sort of.<br />changed the permission again to include openwrt theme and everything is back working.</p><p>Repeated the process, and checked the permissions before changing them<br /></p><div class="codebox"><pre><code>owner - root - rwx
group - root - r_x
other - none</code></pre></div><p>I then changed the permission for group to r_w and left other unset luci&nbsp; fails.<br />changed both group and other to r_x everything works.<br />added openwrt theme, it did not work until the permission are set to rwxr_wr_w.</p><p>shouldn&#039;t /www be </p><div class="codebox"><pre><code>owner - www-data - rwx
group - www-data - r_x
other - none</code></pre></div>											<p class="post-edited">(Last edited by <strong>zzz2002</strong> on 29 Nov 2015, 19:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301686">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">zzz2002</div>
					<div class="post-datetime">
						29 Nov 2015, 19:17					</div>
				</div>
				<div class="post-content content">
					<p>just tried changing the owner and group did not work.<br />the problem maybe that I do not know what user id luci runs under?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302122">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Orion33</div>
					<div class="post-datetime">
						2 Dec 2015, 18:15					</div>
				</div>
				<div class="post-content content">
					<p>Had some. chmod -R 755 /www/ works too. Probably, someone has worked as root and forgot to set the permissions)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>