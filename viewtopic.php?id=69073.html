<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Hotspot Walled Garden DNS Issue?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p347542">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">v1s</div>
					<div class="post-datetime">
						23 Dec 2016, 23:53					</div>
				</div>
				<div class="post-content content">
					<p>Trying to connect myrouter to a wifi hotspot.</p><p>myrouter - 192.168.50.1 (myrouter)<br />AP - 10.1.130.1 (router.wifi.tld)<br />Hotspot Login Page - 172.16.0.150 (wifi.tld)</p><p>When I connect and try to browse the browser takes me to wifi.tld but shows cant connect. </p><p>Some other info:</p><p>nslookup from myrouter:<br /></p><div class="codebox"><pre><code>$nslookup wifi.tld
Server:    127.0.0.1
Address 1: 127.0.0.1 localhost

nslookup: can&#039;t resolve &#039;wifi.tld&#039;: Name or service not known</code></pre></div><p>nslookup from myrouter using know ap dns<br /></p><div class="codebox"><pre><code>$nslookup wifi.tld 10.1.130.1
Server:    10.1.130.1
Address 1: 172.16.0.150 wifi.tld

Name:      wifi.tld
Address 1: 172.16.0.150 wifi.tld</code></pre></div><p>nslookup from workstation:<br /></p><div class="codebox"><pre><code>$nslookup router.wifi.lc
Server:        192.168.50.1
Address:    192.168.50.1#53

Non-authoritative answer:
*** Can&#039;t find router.wifi.lc: No answer</code></pre></div><p>myrouter has 2 different resolv files<br />resolv.conf:<br /></p><div class="codebox"><pre><code>$cat /tmp/resolv.conf
search lan
nameserver 127.0.0.1</code></pre></div><p>resolv.conf.auto<br /></p><div class="codebox"><pre><code>$cat /tmp/resolv.conf.auto 
# Interface wwan
nameserver 10.1.130.1</code></pre></div><p>when I manually set the hostname and ip in luci in: Network &gt; Hostnames<br />example:<br /></p><div class="codebox"><pre><code>router.wifi.tld 10.1.130.1
wifi.tld 172.16.0.150</code></pre></div><p>This work when i have it manually set like the above. The sequence seems to be takes you to wifi.tld you enter your username password and when you submit it. it sends it to router.wifi.tld.</p><p>If any one can help I am not sure if something is set some where or needs to be changed on my router to have it do this automatically please let me know.</p><p>Can send what ever info is needed if it will help diag this issue.&nbsp; </p><p>*tld is just replacing the real domain for this post.</p><p>Thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>