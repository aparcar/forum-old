<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to compile a &quot;hello word&quot;-program for MIPSEL (ASUS WL500gP)??</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p99263">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">WannabeAHacker</div>
					<div class="post-datetime">
						24 Dec 2009, 17:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody!</p><p>I still use OpenWRT on my Asus WL500gP for a couple of years, but now I need your help. I want to develop a program to read measurement data received over RS232-to-USB and store them in an SQLight-Database. But I have problems by compiling an “hello word”-program.... :-(</p><p>1) I loaded “ToolChain and Libc Source for WL500gP “ (Version 3.2.3 - 192.25 MB) from the Asus-website.<br />2) Unpacking and exporting the paths under Kubuntu 9.10 (VM) works.<br />3) compiling <br /></p><div class="quotebox"><blockquote><p>#include &lt;stdio.h&gt;<br />int main( void ){ <br />&nbsp; printf( &quot;Hello!\n&quot; ); <br />&nbsp; return 0;<br />}</p></blockquote></div><p>with<br /><em>mipsel-linux-gcc -o /home/andre/wl500gpSDK/output/hello.exe /home/andre/wl500gpSDK/sourcecodes/hello.c </em><br />or <br /><em>mipsel-linux-gcc -v -mips32 -mfp32 -EL -o /home/andre/wl500gpSDK/output/hello.exe /home/andre/wl500gpSDK/sourcecodes/hello.c </em><br />… doesn&#039;t show an error.<br />4) running the program on the router with kamikaze 8.09 tells me:<br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:~# ls -l<br />-rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; 15963 Dec&nbsp; 22 08:44 hello.exe<br />root@OpenWrt:~# ./hello.exe<br />-ash: ./hello.exe: not found<br />root@OpenWrt:~#</p></blockquote></div><p>I copy the OpenWrt busybox and opkg from the Router to Kubuntu and this is the output from file:<br /></p><div class="quotebox"><blockquote><p>andre@Kubuntu910VM:~/$ file busybox<br />erstellteProgramme/busybox: ELF 32-bit LSB executable, MIPS, MIPS32 version 1 (SYSV), dynamically linked (uses shared libs), corrupted section header size<br />andre@Kubuntu910VM:~/$ file opkg<br />erstellteProgramme/opkg: ELF 32-bit LSB executable, MIPS, MIPS32 version 1 (SYSV), dynamically linked (uses shared libs), corrupted section header size<br />andre@Kubuntu910VM:~/$ file hello.exe<br />erstellteProgramme/hallo.exe: ELF 32-bit LSB executable, MIPS, MIPS-I version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.2.15, not stripped<br />andre@Kubuntu910VM:~/$</p></blockquote></div><p>My hello-program differs from the others..... </p><br /><p>Something about my router....</p><div class="quotebox"><blockquote><p>KAMIKAZE (8.09, r14511) ----------------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain <br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.&nbsp; <br />&nbsp; * 10 oz lime juice&nbsp; Salute!&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /> --------------------------------------------------- <br />root@OpenWrt:~# dmesg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />CPU revision is: 00029006&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 16kB, 2-way, linesize 16 bytes.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Linux version 2.4.35.4 (nbd@baustelle) (gcc version 3.4.6 (OpenWrt-2.0)) #51 Sat Feb 14 23:44:13 CET 2009<br />Setting the PFC to its default value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Determined physical RAM map:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /> memory: 02000000 @ 00000000 (usable)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />On node 0 totalpages: 8192&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />zone(0): 8192 pages.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />zone(1): 0 pages.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />zone(2): 0 pages.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />CPU: BCM4704 rev 9 at 264 MHz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Using 132.000 MHz high precision timer.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Calibrating delay loop... 263.78 BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Memory: 30468k/32768k available (1425k kernel code, 2300k reserved, 100k data, 84k init, 0k highmem)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />…</p></blockquote></div><p>Can someone give me an advise what I&#039;m doing wrong?</p><p>I want to use an already built cross-compiler before I would build my own...</p><p>Merry Christmas!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99265">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ciscostu</div>
					<div class="post-datetime">
						24 Dec 2009, 18:05					</div>
				</div>
				<div class="post-content content">
					<p>The OpenWRT SDK (cross compilation environment) is probably a better option.</p><p><a href="http://wiki.openwrt.org/oldwiki/buildingpackageshowto">http://wiki.openwrt.org/oldwiki/buildingpackageshowto</a></p><p>This page needs updating, but should still be useful.&nbsp; As far as I know the SDK is no longer available for download, and needs to be built using the buildroot.</p><p><a href="http://kamikaze.openwrt.org/docs/openwrt.html">http://kamikaze.openwrt.org/docs/openwrt.html</a></p><p>Hope this helps,<br />Charlie</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99848">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">WannabeAHacker</div>
					<div class="post-datetime">
						5 Jan 2010, 20:22					</div>
				</div>
				<div class="post-content content">
					<p>Hey Charlie!</p><p>Thanks for your reply! I allready saw the pages, but they couldn&#039;t help me. Till I read them again...<br />After a lot of reading I learned very much.... And I (better to say: google) found a tutorial: <a href="http://web.archive.org/web/20071210042854/http://people.bu.edu/ebishop/openwrt-programming.html">How to build your own Kamikaze-SDK</a></p><p>After some trial and error I finaly have my own SDK!! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>