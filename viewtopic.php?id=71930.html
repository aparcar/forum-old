<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tp-Link C1200 support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p364615">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">franlego98</div>
					<div class="post-datetime">
						30 Aug 2017, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>Tp-Link C1200 is the successor of the AC1200 model. C1200 is similar to AC1200 V2, which doesnt have support too. It has documentation in wikidevi, as the soc or com cards uploaded by me. Without this, this model is like never exists, only one page at Lede Wiki with few persons interested. So I&#039;m trying to get more technical data about this wireless router and upload it to the OpenWrt community. Unfortunately, I havent experience building images for router, nor using uboot or cfe, so I dont know if I&#039;ll do some useful. Now, I tell you C1200 features:</p><p>-128MB RAM<br />-16MB Flash<br />-Wifi AC<br />-1 USB 2.0<br />-1 WAN Gigabit<br />-4 LAN Gigabit<br />-55â‚¬ in spain and europe<br />-Broadcom<br />-3 anthenas</p><p>As you can see, its not a bad router, also its cheap. The original firmware do his own duty, but not longer. The broadcom chips normally are a fucking head ache due to their privative drivers, but the models of this router are supported as kmod-* packages, only that maybe they will not run fastest. I will upload any progress but also it&#039;d be great if someone who know more about this router would put it here.</p>											<p class="post-edited">(Last edited by <strong>franlego98</strong> on 30 Aug 2017, 20:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364621">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">xabson13</div>
					<div class="post-datetime">
						30 Aug 2017, 21:43					</div>
				</div>
				<div class="post-content content">
					<p>how do you compile the rom?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364670">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">franlego98</div>
					<div class="post-datetime">
						31 Aug 2017, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>you can do it using a toolchain who can download from tp-link c1200 official website (C1200--&gt;support--&gt;GPL code). It contains kernel .trx and the rootfs. If you look intro de file system, its a openwrt 12.09 customised. I&#039;ve tried to compile a new image over arch linux but I only get errors. The readme file says that it should be used over a Red Hat or Fedora system.</p><p>Yesterday, I connected to the router over serial, soldering headers pin and like openwrt, and it put a root terminal over serial, but its a fucking joke because the fs is read-only, so although it has opkg its imposible to do nothing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364683">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">xabson13</div>
					<div class="post-datetime">
						31 Aug 2017, 18:31					</div>
				</div>
				<div class="post-content content">
					<p>I have installed openwrt on the router, (on a archer c2) but when i try to install anything it says invalid dependencies, how can i do to cimpile the package?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364740">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">franlego98</div>
					<div class="post-datetime">
						1 Sep 2017, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>Maybe yo have to set dns servers into internet provider interface, opkg will work</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364741">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">xabson13</div>
					<div class="post-datetime">
						1 Sep 2017, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>Is not about dns, its about kernel, and i need to compile the last version of the kernel to use opkg with trunk version</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371786">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">RUVanillaBear</div>
					<div class="post-datetime">
						6 Feb 2018, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>I am trying modificate firmware too. I am use binwalk for extract squashfs image and edit dropbear config, becouse by default config you cannot conect via admin user. But when i upload modifited bin, router don&#039;t accept this bin-file. Are TP-Link routers have checksum?</p><p>binwalk before</p><ul><li><p>DECIMAL&nbsp; &nbsp; &nbsp; &nbsp;HEXADECIMAL&nbsp; &nbsp; &nbsp;DESCRIPTION<br />--------------------------------------------------------------------------------<br />68940&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x10D4C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LZMA compressed data, properties: 0x5D, dictionary size: 65536 bytes, uncompressed size: 432868 bytes<br />179473&nbsp; &nbsp; &nbsp; &nbsp; 0x2BD11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TRX firmware header, little endian, image size: 1933312 bytes, CRC32: 0x6DF7B0F2, flags: 0x0, version: 1, header size: 28 bytes, loader offset: 0x1C, linux kernel offset: 0x0, rootfs offset: 0x0<br />179501&nbsp; &nbsp; &nbsp; &nbsp; 0x2BD2D&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LZMA compressed data, properties: 0x5D, dictionary size: 65536 bytes, uncompressed size: 4682720 bytes<br />2112786&nbsp; &nbsp; &nbsp; &nbsp;0x203D12&nbsp; &nbsp; &nbsp; &nbsp; Squashfs filesystem, little endian, version 4.0, compression:xz, size: 12133997 bytes, 1922 inodes, blocksize: 131072 bytes, created: 2018-01-18 12:22:56<br />14249768&nbsp; &nbsp; &nbsp; 0xD96F28&nbsp; &nbsp; &nbsp; &nbsp; XML document, version: &quot;1.0&quot;<br />14258414&nbsp; &nbsp; &nbsp; 0xD990EE&nbsp; &nbsp; &nbsp; &nbsp; XML document, version: &quot;1.0&quot;<br />14259845&nbsp; &nbsp; &nbsp; 0xD99685&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /var/run/appflow/tccpipe&lt;/listen_path&gt;<br />14263891&nbsp; &nbsp; &nbsp; 0xD9A653&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /usr/share/miniupnpd/firewall.include&lt;/path&gt;<br />14268555&nbsp; &nbsp; &nbsp; 0xD9B88B&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /cover.jpg/AlbumArtSmall.jpg/albumartsmall.jpg/AlbumArt.jpg/albumart.jpg/Album.jpg/album.jpg/Folder.jpg/folder.jpg/Thumb.jpg/thu<br />14273898&nbsp; &nbsp; &nbsp; 0xD9CD6A&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /usr/local/bin/jiggle_firewall&lt;/exec&gt;<br />14274744&nbsp; &nbsp; &nbsp; 0xD9D0B8&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /usr/local/bin/apply_appflow&lt;/exec&gt;</p></li></ul><p>My order of actions:<br />1) dd if=full_clean of=squash-img bs=1 skip=2112786 count=12136982<br />2) unsquashfs squash-img<br />3) Edit files what i need.<br />4) mksquashfs squashfs-root&nbsp; squash-img-mod -comp xz<br />5) cp full_clean full-mod<br />6) dd if=squash-img-mod of=full-mod bs=1 seek=2112786</p><p>binwalk after</p><ul><li><p>DECIMAL&nbsp; &nbsp; &nbsp; &nbsp;HEXADECIMAL&nbsp; &nbsp; &nbsp;DESCRIPTION<br />--------------------------------------------------------------------------------<br />68940&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x10D4C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LZMA compressed data, properties: 0x5D, dictionary size: 65536 bytes, uncompressed size: 432868 bytes<br />179473&nbsp; &nbsp; &nbsp; &nbsp; 0x2BD11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TRX firmware header, little endian, image size: 1933312 bytes, CRC32: 0x6DF7B0F2, flags: 0x0, version: 1, header size: 28 bytes, loader offset: 0x1C, linux kernel offset: 0x0, rootfs offset: 0x0<br />179501&nbsp; &nbsp; &nbsp; &nbsp; 0x2BD2D&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LZMA compressed data, properties: 0x5D, dictionary size: 65536 bytes, uncompressed size: 4682720 bytes<br />2112786&nbsp; &nbsp; &nbsp; &nbsp;0x203D12&nbsp; &nbsp; &nbsp; &nbsp; Squashfs filesystem, little endian, version 4.0, compression:xz, size: 12131629 bytes, 1922 inodes, blocksize: 131072 bytes, created: 2018-02-07 07:23:38<br />14249768&nbsp; &nbsp; &nbsp; 0xD96F28&nbsp; &nbsp; &nbsp; &nbsp; XML document, version: &quot;1.0&quot;<br />14258414&nbsp; &nbsp; &nbsp; 0xD990EE&nbsp; &nbsp; &nbsp; &nbsp; XML document, version: &quot;1.0&quot;<br />14259845&nbsp; &nbsp; &nbsp; 0xD99685&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /var/run/appflow/tccpipe&lt;/listen_path&gt;<br />14263891&nbsp; &nbsp; &nbsp; 0xD9A653&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /usr/share/miniupnpd/firewall.include&lt;/path&gt;<br />14268555&nbsp; &nbsp; &nbsp; 0xD9B88B&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /cover.jpg/AlbumArtSmall.jpg/albumartsmall.jpg/AlbumArt.jpg/albumart.jpg/Album.jpg/album.jpg/Folder.jpg/folder.jpg/Thumb.jpg/thu<br />14273898&nbsp; &nbsp; &nbsp; 0xD9CD6A&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /usr/local/bin/jiggle_firewall&lt;/exec&gt;<br />14274744&nbsp; &nbsp; &nbsp; 0xD9D0B8&nbsp; &nbsp; &nbsp; &nbsp; Unix path: /usr/local/bin/apply_appflow&lt;/exec&gt;</p></li></ul><br /><p>Router don&#039;t accept this firmware.</p>											<p class="post-edited">(Last edited by <strong>RUVanillaBear</strong> on 7 Feb 2018, 09:54)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>