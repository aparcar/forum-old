<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-MR3020 Support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 16 Jun 2013 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 16 of 24</div><nav><ul><li><a href="viewtopic.php%3Fid=33429&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=15.html">15</a></li><li class="pagination-current"><span>16</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=18.html">18</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=24.html">24</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p196524">
				<div class="post-metadata">
					<div class="post-num">Post #376</div>
					<div class="post-author">vikl45</div>
					<div class="post-datetime">
						28 Mar 2013, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I tried to install gpsd-clients on my old ATTITUDE ADJUSTMENT (Bleeding Edge, r31672) with LUCI.<br />The installation was succesfull.<br />LUCI said:<br />Installing gpsd-clients (3.7-1) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/gpsd-clients_3.7-1_ar71xx.ipk.">http://downloads.openwrt.org/snapshots/ … r71xx.ipk.</a><br />Multiple packages (librt and librt) providing same name marked HOLD or PREFER. Using latest.<br />Installing libncurses (5.7-5) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/libncurses_5.7-5_ar71xx.ipk.">http://downloads.openwrt.org/snapshots/ … r71xx.ipk.</a><br />Installing terminfo (5.7-5) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/terminfo_5.7-5_ar71xx.ipk.">http://downloads.openwrt.org/snapshots/ … r71xx.ipk.</a><br />Configuring terminfo.<br />Configuring libncurses.<br />Configuring gpsd-clients.</p><p>but then I tried to start a program from this package</p><br /><p>root@OpenWrt:~# gpspipe -h<br />gpspipe: can&#039;t load library &#039;libcap.so.2&#039;</p><p>thats in /usr/lib</p><p>root@OpenWrt:/usr/lib# ls<br />crda&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libip4tc.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; libpanel.so<br />iptables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libip4tc.so.0&nbsp; &nbsp; &nbsp; &nbsp; libpanel.so.5<br />libcurses.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libip4tc.so.0.0.0&nbsp; &nbsp; libpanel.so.5.7<br />libform.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libiwinfo.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libusb-1.0.so<br />libform.so.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;liblua.so.5.1.4&nbsp; &nbsp; &nbsp; libusb-1.0.so.0<br />libform.so.5.7&nbsp; &nbsp; &nbsp; &nbsp;libmenu.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libusb-1.0.so.0.0.0<br />libgps.so.20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libmenu.so.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libxtables.so<br />libgps.so.20.0&nbsp; &nbsp; &nbsp; &nbsp;libmenu.so.5.7&nbsp; &nbsp; &nbsp; &nbsp;libxtables.so.5<br />libgps.so.20.0.0&nbsp; &nbsp; &nbsp;libncurses.so&nbsp; &nbsp; &nbsp; &nbsp; libxtables.so.5.0.0<br />libgpsd.so.20&nbsp; &nbsp; &nbsp; &nbsp; libncurses.so.5&nbsp; &nbsp; &nbsp; lua<br />libgpsd.so.20.0&nbsp; &nbsp; &nbsp; libncurses.so.5.7&nbsp; &nbsp; opkg<br />libgpsd.so.20.0.0&nbsp; &nbsp; libnl-tiny.so&nbsp; &nbsp; &nbsp; &nbsp; pppd</p><br /><p>Any suggestions ??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196529">
				<div class="post-metadata">
					<div class="post-num">Post #377</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						28 Mar 2013, 15:54					</div>
				</div>
				<div class="post-content content">
					<p>So attitude adjustment is not the same as bleeding edge. I have no idea which build is which in terms of revision numbers.<br />But that is your problem: any older firmware will fail to install trunk packages (they are at least weekly, if not daily builds.<br />You could try flashing AArc1 and use packages from that &quot;stable&quot; build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196541">
				<div class="post-metadata">
					<div class="post-num">Post #378</div>
					<div class="post-author">vikl45</div>
					<div class="post-datetime">
						28 Mar 2013, 18:42					</div>
				</div>
				<div class="post-content content">
					<p>I have two boxes, the newer one is flashed with rc1 and added support for gpds with LUCI.<br />The old box is flashed with a self build firmware<br />Both boxes are now working, but the box with the rc1 lacks 3g support and has only 9% free.</p><p>But I got the old box with my self build firmware working with gpspipe</p><p>This is the info my older box gives after looging in with putty.</p><p>BusyBox v1.19.4 (2012-04-24 21:04:04 CEST) built-in shell (ash)<br />.....<br /> ATTITUDE ADJUSTMENT (Bleeding Edge, r31672)</p><p>this is what I did:</p><p>I copied the libcap.so,&nbsp; libcap.so.2, libcap.so.2.22&nbsp; from the newer box with the rc1&nbsp; to an usb-storage,<br />and then from the usb-storage to the /usr/lib&nbsp; on the old box and made them executable.</p><p>This what I got.<br />root@OpenWrt:/usr/lib# ls -al<br />drwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Mar 28 14:46 .<br />drwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Mar 27 11:15 ..<br />...<br />-rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10696 Mar 28 14:46 libcap.so<br />-rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10696 Mar 28 14:46 libcap.so.2<br />-rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10696 Mar 28 14:46 libcap.so.2.22</p><p>Is a dirty hack but it is succesfull.</p><p>why I&#039;m&nbsp; doing this?</p><p>there is more space on the old box with all needed features installed</p><p>root@OpenWrt:/usr/lib# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1K-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;640&nbsp; &nbsp; &nbsp; &nbsp;424&nbsp; &nbsp; &nbsp; &nbsp;216&nbsp; 66% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2560&nbsp; &nbsp; &nbsp; 2560&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14756&nbsp; &nbsp; &nbsp; &nbsp;128&nbsp; &nbsp; &nbsp;14628&nbsp; &nbsp;1% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;512&nbsp; &nbsp;0% /dev<br />/dev/mtdblock3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;640&nbsp; &nbsp; &nbsp; &nbsp;424&nbsp; &nbsp; &nbsp; &nbsp;216&nbsp; 66% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;640&nbsp; &nbsp; &nbsp; &nbsp;424&nbsp; &nbsp; &nbsp; &nbsp;216&nbsp; 66% /<br />/dev/sda1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2753976&nbsp; &nbsp; 122704&nbsp; &nbsp;2493240&nbsp; &nbsp;5% /mnt/sd1</p><p>so gpspipe can now log to /dev/sda1 which has lots of space.</p><p>thanks for the other infos you provided</p><p>P.S. </p><p>we discussed the wrong flash layout of my new self build firmware in post 364 in this thread</p><p>root@OpenWrt:/# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1K-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14656&nbsp; &nbsp; &nbsp; &nbsp; 44&nbsp; &nbsp; &nbsp;14612&nbsp; &nbsp;0% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3072&nbsp; &nbsp; &nbsp; 3072&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14656&nbsp; &nbsp; &nbsp; &nbsp; 60&nbsp; &nbsp; &nbsp;14596&nbsp; &nbsp;0% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;512&nbsp; &nbsp;0% /dev<br />root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14656&nbsp; &nbsp; &nbsp; &nbsp; 44&nbsp; &nbsp; &nbsp;14612&nbsp; &nbsp;0% /tmp/root</p><p>is there any tool in openwrt to check the flash-layout of a firmware.bin before it is flashed to a device?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196770">
				<div class="post-metadata">
					<div class="post-num">Post #379</div>
					<div class="post-author">Nextria</div>
					<div class="post-datetime">
						31 Mar 2013, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>i have a problem with my MR3020. I installed the &quot;openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory&quot; thru the interface.<br />Telnet into the router after rebooting it, and that works.</p><p>I then &quot; sysupgrade -v /tmp/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-sysupgrade.bin&quot;</p><p>and this works to, i enter my wifi info in the&nbsp; &quot;/etc/config/wireless&quot; and&nbsp; &quot; /etc/init.d/network restart&quot;</p><p>But i than get the error:&nbsp; &nbsp;command failed device or resource busy (-16) successfully initialized wpa_supplicant</p><p>Sometimes i get internet for a couple of second, but then its gone.</p><p>Anyone have any idea ?</p><p>Hope someone can help me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Regards Nextria</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196779">
				<div class="post-metadata">
					<div class="post-num">Post #380</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						31 Mar 2013, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>what revision?? trunk or AA? </p><p>anyway i cannot understand why did you sysupgrade?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196784">
				<div class="post-metadata">
					<div class="post-num">Post #381</div>
					<div class="post-author">Nextria</div>
					<div class="post-datetime">
						31 Mar 2013, 18:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>what revision?? trunk or AA? </p><p>anyway i cannot understand why did you sysupgrade?</p></blockquote></div><p>Hey,</p><p>Thanks for the replay, i am trying to create a minipwner, and am following this guide:</p><p><a href="http://www.hangelot.eu/?p=282&amp;lang=en">http://www.hangelot.eu/?p=282&amp;lang=en</a></p><p>It&#039;s the trunk version.</p><p>Hope you can help me out with this.</p><p>Regards,</p><p>Nextria</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196871">
				<div class="post-metadata">
					<div class="post-num">Post #382</div>
					<div class="post-author">Nextria</div>
					<div class="post-datetime">
						1 Apr 2013, 19:19					</div>
				</div>
				<div class="post-content content">
					<p>Okay so ive been trying all weekend. and flashed the stock firmware back.</p><p>From there i updated to the AA firmware thru the interface.</p><p>I log in to the LuCI interface. and this works.</p><p>So i want to connect with the MR3020 to my home router for wifi.</p><p>But if i set up the network as client, it connects, but it looks like the wlan0 keeps scanning.</p><p>If it on channel 6 it connects to my wifi at home but keeps on scanning and losses the connection</p><p>Anyone else got this problem ??</p><p>everything else works, but i can&#039;t seem to get internet</p><br /><p>Regards Nextria</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196877">
				<div class="post-metadata">
					<div class="post-num">Post #383</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						1 Apr 2013, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>what kind of configuration are you trying to achieve?</p><p>there are some choices to do...</p><p><a href="http://wiki.openwrt.org/doc/howto/clientmode">http://wiki.openwrt.org/doc/howto/clientmode</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196883">
				<div class="post-metadata">
					<div class="post-num">Post #384</div>
					<div class="post-author">Nextria</div>
					<div class="post-datetime">
						1 Apr 2013, 20:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m not really sure. I&#039;ve got the Mr3020 connected through Ethernet cable to my laptop.</p><p>And want to use it as a &quot;receiver&quot;. So I set it up as a client and input my home SSID and password.</p><p>But if I look at the status page on the bottem, I can see on what channel it is.</p><p>But it keeps changing. And only when it is on channel 11 I see that it is connected. But only for a second or so....</p><br /><p>Regards nextria</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197062">
				<div class="post-metadata">
					<div class="post-num">Post #385</div>
					<div class="post-author">d00m178</div>
					<div class="post-datetime">
						3 Apr 2013, 08:58					</div>
				</div>
				<div class="post-content content">
					<p>when I flashed my main router netgear wndr 3700 with latest openwrt fw my wifi connection from MR3020 was broken and always tried to connect.</p><p>and when I flashed mr3020 with new fw from trunk - it connected succesful.<br />so it seems there is some connection between new fw on netgear and fw on mr3020..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197114">
				<div class="post-metadata">
					<div class="post-num">Post #386</div>
					<div class="post-author">d00m178</div>
					<div class="post-datetime">
						3 Apr 2013, 20:37					</div>
				</div>
				<div class="post-content content">
					<p>I wonder what&#039;s hapened with package libftdi ? It disappear from packages for a long time.<br />Also I can&#039;t it compile. I always get the error:<br />configure: error: *** libusb-config not found. You need a working libusb installation.<br />but there is no such package &quot;libusb-config&quot; or any mentions of it in menuconfig and feeds</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197239">
				<div class="post-metadata">
					<div class="post-num">Post #387</div>
					<div class="post-author">Nextria</div>
					<div class="post-datetime">
						4 Apr 2013, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I still havent got my router going.<br />Openwrt works I can log into the web interface.</p><p>But what I read and what ever I try I can seem to get internet on it.</p><p>Not even I directly input it into the router or modem.</p><p>Ive been trying for almost a week now...</p><p>Can anyone help me with this, or have a link to a easy setup page </p><br /><p>Tnx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197245">
				<div class="post-metadata">
					<div class="post-num">Post #388</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						4 Apr 2013, 20:22					</div>
				</div>
				<div class="post-content content">
					<p>Have you tried the same with a non-trunk image (e.g. Imagebuilder)? What was the result?</p><p>Post your /etc/config/network, /etc/config/wireless, /etc/config/firewall.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197371">
				<div class="post-metadata">
					<div class="post-num">Post #389</div>
					<div class="post-author">simmer</div>
					<div class="post-datetime">
						5 Apr 2013, 17:43					</div>
				</div>
				<div class="post-content content">
					<p>hi guys i purchased this modem today it&#039;s TP-LINK TL-MR3020 <span style="color: #FF0000"><strong>v1.8</strong></span> </p><p>which firmware should i install because i see only v1.0 to v1.7 is supported..</p><p>or i would be fine with the latest Attitude Adjustment RC1 snapshot ?</p><p>i don&#039;t want to take any risk please suggest..</p><p>thank you :]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197402">
				<div class="post-metadata">
					<div class="post-num">Post #390</div>
					<div class="post-author">Nextria</div>
					<div class="post-datetime">
						5 Apr 2013, 23:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tmo26 wrote:</cite><blockquote><p>Have you tried the same with a non-trunk image (e.g. Imagebuilder)? What was the result?</p><p>Post your /etc/config/network, /etc/config/wireless, /etc/config/firewall.</p></blockquote></div><p>Hi,</p><p>No i never used a non-trunk image.<br />But since last night i&#039;m a little bit further.</p><p>I have the MR3020 connected to my router, and given it a ip adress of 192.168.1.177.<br />So i can log into Luci over the network.</p><p>I created a AP called TP-Link, if i connect to this network with my laptop i have internet and everything works.</p><p>But when i use putty (or the Luci interface) and use the command opkg update<br />i still get a error that theres no internet (wget: bad address &#039;downloads.openwrt.org&#039;</p><p>or if i ping google.com i get the same thing.</p><p>Here are my config files:</p><p>/etc/config/network</p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config interface &#039;lan&#039;
        option ifname &#039;eth0&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option netmask &#039;255.255.255.0&#039;
        option ipaddr &#039;192.168.1.177&#039;
        option gateway &#039;192.168.1.1&#039;
        option dsn &#039;192.168.1.1&#039;
  </code></pre></div><p>/etc/config/wireless</p><div class="codebox"><pre><code>config wifi-device &#039;radio0&#039;
        option type &#039;mac80211&#039;
        option channel &#039;11&#039;
        option macaddr &#039;f8:1a:67:4d:6b:db&#039;
        option hwmode &#039;11ng&#039;
        option htmode &#039;HT20&#039;
        list ht_capab &#039;SHORT-GI-20&#039;
        list ht_capab &#039;SHORT-GI-40&#039;
        list ht_capab &#039;RX-STBC1&#039;
        list ht_capab &#039;DSSS_CCK-40&#039;
        option txpower &#039;27&#039;
        option country &#039;US&#039;

config wifi-iface
        option device &#039;radio0&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option ssid &#039;TP-LINK&#039;
        option encryption &#039;psk2&#039;
        option key &#039;*******&#039;</code></pre></div><p>/etc/config/firewall</p><div class="codebox"><pre><code>config defaults
    option syn_flood &#039;1&#039;
    option input &#039;ACCEPT&#039;
    option output &#039;ACCEPT&#039;
    option forward &#039;ACCEPT&#039;

config zone
    option name &#039;lan&#039;
    option input &#039;ACCEPT&#039;
    option output &#039;ACCEPT&#039;
    option forward &#039;ACCEPT&#039;
    option network &#039;wan lan&#039;
    option masq &#039;1&#039;
    option mtu_fix &#039;1&#039;

config zone
    option name &#039;wan&#039;
    option output &#039;ACCEPT&#039;
    option masq &#039;1&#039;
    option mtu_fix &#039;1&#039;
    option input &#039;ACCEPT&#039;
    option forward &#039;ACCEPT&#039;
    option network &#039; &#039;

config rule
    option name &#039;Allow-DHCP-Renew&#039;
    option src &#039;wan&#039;
    option proto &#039;udp&#039;
    option dest_port &#039;68&#039;
    option target &#039;ACCEPT&#039;
    option family &#039;ipv4&#039;

config rule
    option name &#039;Allow-Ping&#039;
    option src &#039;wan&#039;
    option proto &#039;icmp&#039;
    option icmp_type &#039;echo-request&#039;
    option family &#039;ipv4&#039;
    option target &#039;ACCEPT&#039;

config rule
    option name &#039;Allow-DHCPv6&#039;
    option src &#039;wan&#039;
    option proto &#039;udp&#039;
    option src_ip &#039;fe80::/10&#039;
    option src_port &#039;547&#039;
    option dest_ip &#039;fe80::/10&#039;
    option dest_port &#039;546&#039;
    option family &#039;ipv6&#039;
    option target &#039;ACCEPT&#039;

config rule
    option name &#039;Allow-ICMPv6-Input&#039;
    option src &#039;wan&#039;
    option proto &#039;icmp&#039;
    list icmp_type &#039;echo-request&#039;
    list icmp_type &#039;echo-reply&#039;
    list icmp_type &#039;destination-unreachable&#039;
    list icmp_type &#039;packet-too-big&#039;
    list icmp_type &#039;time-exceeded&#039;
    list icmp_type &#039;bad-header&#039;
    list icmp_type &#039;unknown-header-type&#039;
    list icmp_type &#039;router-solicitation&#039;
    list icmp_type &#039;neighbour-solicitation&#039;
    list icmp_type &#039;router-advertisement&#039;
    list icmp_type &#039;neighbour-advertisement&#039;
    option limit &#039;1000/sec&#039;
    option family &#039;ipv6&#039;
    option target &#039;ACCEPT&#039;

config rule
    option name &#039;Allow-ICMPv6-Forward&#039;
    option src &#039;wan&#039;
    option dest &#039;*&#039;
    option proto &#039;icmp&#039;
    list icmp_type &#039;echo-request&#039;
    list icmp_type &#039;echo-reply&#039;
    list icmp_type &#039;destination-unreachable&#039;
    list icmp_type &#039;packet-too-big&#039;
    list icmp_type &#039;time-exceeded&#039;
    list icmp_type &#039;bad-header&#039;
    list icmp_type &#039;unknown-header-type&#039;
    option limit &#039;1000/sec&#039;
    option family &#039;ipv6&#039;
    option target &#039;ACCEPT&#039;

config include
    option path &#039;/etc/firewall.user&#039;

config forwarding
    option dest &#039;lan&#039;
    option src &#039;wan&#039;

config forwarding
    option dest &#039;wan&#039;
    option src &#039;lan&#039;</code></pre></div><p>hope someone knows what the problem is, would be great if i could get this working !</p><br /><p>Nextria</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197441">
				<div class="post-metadata">
					<div class="post-num">Post #391</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						6 Apr 2013, 08:28					</div>
				</div>
				<div class="post-content content">
					<p>you edited the firewall config.. no need to do it!<br />also &quot;option dsn&quot; is not a valid option in lan network config..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197779">
				<div class="post-metadata">
					<div class="post-num">Post #392</div>
					<div class="post-author">d00m178</div>
					<div class="post-datetime">
						9 Apr 2013, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>still no libftdi even in 201 build..<br />where can I get it ?<br />I&#039;m really need this package for connecting my arduino to mr3020</p>											<p class="post-edited">(Last edited by <strong>d00m178</strong> on 9 Apr 2013, 15:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197844">
				<div class="post-metadata">
					<div class="post-num">Post #393</div>
					<div class="post-author">soundsticks</div>
					<div class="post-datetime">
						10 Apr 2013, 05:53					</div>
				</div>
				<div class="post-content content">
					<p>test with mr3020 with huawei e169 dongle, the e169 doesn&#039;t support mr3020</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197985">
				<div class="post-metadata">
					<div class="post-num">Post #394</div>
					<div class="post-author">AutonoBot</div>
					<div class="post-datetime">
						11 Apr 2013, 07:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone, I&#039;m new to this forum and OpenWRT in general.&nbsp; A few days ago, I started to learn about OpenWRT on my WRT54GL.&nbsp; I got sort of far with it and was able to load packages, only to find that the Broadcom chipset doesn&#039;t seem to support monitor mode.</p><p>So now I&#039;ve joined the TL-MR3020 camp.&nbsp; I got my first one today, and seem to have &quot;bricked&quot; it already.&nbsp; Rather than download the Attitude Adjustment binary recommended for this model, I compiled the latest revision checked in to SVN.&nbsp; Whoops, that might have been a bad idea.&nbsp; Now I can&#039;t telnet or ssh to the device.</p><p>I&#039;ve been going through this thread page by page, and I&#039;m now at the point where I&#039;ve got the PCB out.&nbsp; I have headers and a TTL-232R-3V3 cable handy from another project, so tomorrow I&#039;ll solder everything together and use the serial console instead.&nbsp; By the way, I have a v1.8, but the PCB doesn&#039;t look any different than what&#039;s in the wiki.&nbsp; The PCB still says 1.1 silkscreened.&nbsp; Maybe it&#039;s just a bootloader change...</p><p>I&#039;m sure I&#039;ll be posting again shortly, but not until after I&#039;ve read the previous 16 pages and try to get this thing going on my own.&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; You are all doing great work here!</p><p>EDIT -- well, I am happy to say that I did not brick my router with the code I had compiled.&nbsp; For some reason, I couldn&#039;t get to it from the desktop I was using for my WRT54GL, but it worked from my laptop.&nbsp; Anyhow, I still soldered in the serial console pins and captured the data upon bootup for future reference.&nbsp; I&#039;d attach it here now but can&#039;t attach files to my post.</p>											<p class="post-edited">(Last edited by <strong>AutonoBot</strong> on 11 Apr 2013, 16:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198297">
				<div class="post-metadata">
					<div class="post-num">Post #395</div>
					<div class="post-author">gbloice</div>
					<div class="post-datetime">
						14 Apr 2013, 01:18					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to setup my MR3020 as a bridged AP to my existing wireless router to extend the signal in my house.&nbsp; So I have:</p><p>internet == DSL Modem == E3000 router AP == MR3020 AP, all hard-wired.</p><p>I want wireless clients on the MR3020 to dhcp from the E3000 as I have access restrictions setup there.&nbsp; I&#039;ve followed the Bridged AP guide (<a href="http://wiki.openwrt.org/doc/recipes/bridgedap">http://wiki.openwrt.org/doc/recipes/bridgedap</a>) and although clients seem to get a dhcp allocated address, they are unable to access the internet, or even the E3000.&nbsp; In addition, clients of the E3000 (wired or wireless) are unable to access the MR3020, I can only see it from the E3000, or a a client of the MR3020.</p><p>I&#039;m using AArc1, does anyone know if this configuration is supported with this software\hardware combination?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198321">
				<div class="post-metadata">
					<div class="post-num">Post #396</div>
					<div class="post-author">d00m178</div>
					<div class="post-datetime">
						14 Apr 2013, 11:33					</div>
				</div>
				<div class="post-content content">
					<p><strong>gbloice</strong><br />check first wired connection between mr3020 and your router (E3000) - open ssh console on both and ping each other.<br />If all is ok - you should get sucessful ping.<br />then take a look at <a href="http://wiki.openwrt.org/doc/recipes/relayclient">http://wiki.openwrt.org/doc/recipes/relayclient</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198393">
				<div class="post-metadata">
					<div class="post-num">Post #397</div>
					<div class="post-author">gbloice</div>
					<div class="post-datetime">
						15 Apr 2013, 00:26					</div>
				</div>
				<div class="post-content content">
					<p>@d00m178</p><p>Yep, I can ping both ways from the mr3020 and the e3000, devices connected to either of these can&#039;t see beyond them though.&nbsp; The link you&#039;ve posted is for a wireless bridge, I want a wired one as per the link I posted.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198440">
				<div class="post-metadata">
					<div class="post-num">Post #398</div>
					<div class="post-author">d00m178</div>
					<div class="post-datetime">
						15 Apr 2013, 11:22					</div>
				</div>
				<div class="post-content content">
					<p>@gbloice<br />There is no difference if you have a wired or wireless connection to the router&nbsp; from mr3020<br />there is problem that described if you see my link:<br /> <a href="http://wiki.openwrt.org/doc/howto/clientmode#bridged.client.mode.issues">http://wiki.openwrt.org/doc/howto/clien … ode.issues</a></p><p>lan and wlan interfaces can&#039;t be included in the same subnetwork.</p>											<p class="post-edited">(Last edited by <strong>d00m178</strong> on 15 Apr 2013, 11:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198999">
				<div class="post-metadata">
					<div class="post-num">Post #399</div>
					<div class="post-author">linuxtechie</div>
					<div class="post-datetime">
						20 Apr 2013, 13:19					</div>
				</div>
				<div class="post-content content">
					<p>Issue with MR 3020:</p><p>Using the latest OpenWrt Barrier Breaker r36349 firmware.</p><p>1. Consider the wireless router is connected to another router via ethernet connection (using DHCP):</p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
    option ifname &#039;lo&#039;
    option proto &#039;static&#039;
    option ipaddr &#039;127.0.0.1&#039;
    option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
    option ula_prefix &#039;fd98:71f9:aa2f::/48&#039;


config interface &#039;wan&#039;
        option ifname &#039;eth0&#039;
        option proto &#039;dhcp&#039;

config interface &#039;wifi&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.2.1&#039;
        option netmask &#039;255.255.255.0&#039;</code></pre></div><br /><div class="codebox"><pre><code>config defaults
    option syn_flood    1
    option input        ACCEPT
    option output        ACCEPT
    option forward        REJECT

config zone
    option name        lan
    option network        &#039;lan&#039;
    option input        ACCEPT
    option output        ACCEPT
    option forward        REJECT

config zone
    option name        wan
    option network        &#039;wan&#039;
    option input        REJECT
    option output        ACCEPT
    option forward        REJECT
    option masq        1
    option mtu_fix        1

config forwarding
    option src        lan
    option dest        wan

config rule
    option name        Allow-DHCP-Renew
    option src        wan
    option proto        udp
    option dest_port    68
    option target        ACCEPT
    option family        ipv4

config rule
    option name        Allow-Ping
    option src        wan
    option proto        icmp
    option icmp_type    echo-request
    option family        ipv4
    option target        ACCEPT

config rule
    option name        Allow-DHCPv6
    option src        wan
    option proto        udp
    option src_ip        fe80::/10
    option src_port        547
    option dest_ip        fe80::/10
    option limit        1000/sec
    option family        ipv6
    option target        ACCEPT

config rule
    option name        Allow-ICMPv6-Forward
    option src        wan
    option dest        *
    option proto        icmp
    list icmp_type        echo-request
    list icmp_type        echo-reply
    list icmp_type        destination-unreachable
    list icmp_type        packet-too-big
    list icmp_type        time-exceeded
    list icmp_type        bad-header
    list icmp_type        unknown-header-type
    option limit        1000/sec
    option family        ipv6
    option target        ACCEPT

config rule
    option name        Enforce-ULA-Border-Src
    option src        *
    option dest        wan
    option proto        all
    option src_ip        fc00::/7
    option family        ipv6
    option target        REJECT

config rule
    option name        Enforce-ULA-Border-Dest
    option src        *
    option dest        wan
    option proto        all
    option dest_ip        fc00::/7
    option family        ipv6
    option target        REJECT

config include
    option path /etc/firewall.user

config zone
        option name             wifi
        option input            ACCEPT
        option output           ACCEPT
        option forward          REJECT

config forwarding
        option src              wifi
        option dest             wan</code></pre></div><p>2. Even though there is internet access available on the &quot;other&quot; router, nslookup works, I am unable to access the internet from MR3020.<br />3. Interestingly if I use other protocol for e.g 3g/EVDO, the connection works fine. Something in dhcp is not working out.</p><p>Any clues? Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199002">
				<div class="post-metadata">
					<div class="post-num">Post #400</div>
					<div class="post-author">linuxtechie</div>
					<div class="post-datetime">
						20 Apr 2013, 13:32					</div>
				</div>
				<div class="post-content content">
					<p>Another issue with using USB as ext root</p><p>1. I am using MR3020 in conjunction with a USB 2.0 hub along with a USB disk (ITEM A) and a CDMA USB device (ITEM B).<br />2. The problem is the item A&#039;s device path and the item B (cdrom)&#039;s device path varies in between boot. So my following configuration</p><p><em>/etc/config/fstab</em></p><div class="codebox"><pre><code>config global automount
    option from_fstab 1
    option anon_mount 1
    
config global autoswap
    option from_fstab 1
    option anon_swap 0
    
config mount
    option device   /dev/sda2
    option fstype    ext4
    option options    rw,sync
    option enabled    1
    option enabled_fsck 0
    option is_rootfs 1

config swap
    option device   /dev/sda1
    option enabled    1</code></pre></div><p>doesn&#039;t work always.</p><p><em>Look at following logread</em></p><div class="codebox"><pre><code>root@OpenWrt:~# logread | grep sda
Jan  1 00:00:33 OpenWrt kern.notice kernel: [   10.800000] sd 0:0:0:1: [sda] Attached SCSI removable disk
root@OpenWrt:~# logread | grep sdb
Jan  1 00:00:33 OpenWrt kern.notice kernel: [   11.250000] sd 1:0:0:0: [sdb] 7913472 512-byte logical blocks: (4.05 GB/3.77 GiB)
Jan  1 00:00:33 OpenWrt kern.notice kernel: [   11.250000] sd 1:0:0:0: [sdb] Write Protect is off
Jan  1 00:00:33 OpenWrt kern.debug kernel: [   11.260000] sd 1:0:0:0: [sdb] Mode Sense: 43 00 00 00
Jan  1 00:00:33 OpenWrt kern.err kernel: [   11.260000] sd 1:0:0:0: [sdb] No Caching mode page present
Jan  1 00:00:33 OpenWrt kern.err kernel: [   11.270000] sd 1:0:0:0: [sdb] Assuming drive cache: write through
Jan  1 00:00:33 OpenWrt kern.err kernel: [   11.280000] sd 1:0:0:0: [sdb] No Caching mode page present
Jan  1 00:00:33 OpenWrt kern.err kernel: [   11.280000] sd 1:0:0:0: [sdb] Assuming drive cache: write through
Jan  1 00:00:33 OpenWrt kern.info kernel: [   11.290000]  sdb: sdb1 sdb2 sdb3
Jan  1 00:00:33 OpenWrt kern.err kernel: [   11.300000] sd 1:0:0:0: [sdb] No Caching mode page present
Jan  1 00:00:33 OpenWrt kern.err kernel: [   11.300000] sd 1:0:0:0: [sdb] Assuming drive cache: write through
Jan  1 00:00:33 OpenWrt kern.notice kernel: [   11.310000] sd 1:0:0:0: [sdb] Attached SCSI removable disk
Jan  1 00:00:41 OpenWrt user.notice fstab: mount: mounting /dev/sdb1 on /mnt/sdb1 failed: Invalid argument
Jan  1 00:00:42 OpenWrt kern.err kernel: [   42.210000] EXT4-fs (sdb2): couldn&#039;t mount as ext3 due to feature incompatibilities
Jan  1 00:00:42 OpenWrt kern.err kernel: [   42.230000] EXT4-fs (sdb2): couldn&#039;t mount as ext2 due to feature incompatibilities
Jan  1 00:00:42 OpenWrt kern.info kernel: [   42.360000] EXT4-fs (sdb2): recovery complete
Jan  1 00:00:42 OpenWrt kern.info kernel: [   42.360000] EXT4-fs (sdb2): mounted filesystem with ordered data mode. Opts: (null)
Jan  1 00:00:43 OpenWrt kern.err kernel: [   43.460000] EXT4-fs (sdb3): couldn&#039;t mount as ext3 due to feature incompatibilities
Jan  1 00:00:43 OpenWrt kern.err kernel: [   43.470000] EXT4-fs (sdb3): couldn&#039;t mount as ext2 due to feature incompatibilities
Jan  1 00:00:43 OpenWrt kern.info kernel: [   43.480000] EXT4-fs (sdb3): recovery complete
Jan  1 00:00:43 OpenWrt kern.info kernel: [   43.490000] EXT4-fs (sdb3): mounted filesystem with ordered data mode. Opts: (null)
root@OpenWrt:~# </code></pre></div><p>3. I have tried using mount-utils with no success. It seems no matter what the busybox&#039;s mount is always used instead that from mount-utils. I tried this to enforce using LABEL or UUID but with no success.<br />4. I had deleted links to busybox in /sbin for mount/umount with that from mount-utils. It just didn&#039;t work, infact it didn&#039;t boot. So I had to do a failsafe recovery.<br />5. <strong><em>Is there a way to enforce the order of usb device? So that the usb disk always get /dev/sda and the CDMA device always get /dev/sdb? Is there any other way? The problem is it becomes difficult for someone else to troubleshoot this behaviour.</em></strong></p><p>Thanks.<br />~LT</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 16 of 24</div><nav><ul><li><a href="viewtopic.php%3Fid=33429&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=15.html">15</a></li><li class="pagination-current"><span>16</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=33429&amp;p=18.html">18</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33429&amp;p=24.html">24</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>