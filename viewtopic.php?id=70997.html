<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWrt router behind Main router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p358882">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">foranos</div>
					<div class="post-datetime">
						23 May 2017, 14:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello.<br />I have a router from my provider that I can&#039;t change because of hardware limitations.<br />That being said the software side of it is well lets say not so good. That&#039;s why I want<br />to use my OpenWrt TL-WR841ND V.9 router as the DHCP and DNS server behind the Main router <br />which only provides the internet connection.<br />When I connect the OpenWrt router to one of the lan ports of the Main router and my computer with the OpenWrt router its DHCP server is ignored and the Main DHCP server is used.<br />Maybe you guys can help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358889">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						23 May 2017, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>I presume you connect the WAN-port of the TL-WR841ND to a free LAN-port on the main router, and your computer to one of the LAN ports of the TL-WR841ND.</p><p>The symptoms you describe indicate that the WAN and LAN ports of the TL-WR841ND are linked together. Thus, the DHCP requests coming from your computer are served by either DHCP server, either the one in the TL-WR841ND or the one in the main router, whoever manages to do it first.</p><p>Start by checking if TL-WR841ND has an in-built switch device (swconfig), then proceed by determining if the switch device is configured correctly. The switch should put the physical LAN ports 1-4 into a separate VLAN, and the WAN port to another VLAN, so traffic doesn&#039;t get relayed directly, and instead passes through the OpenWRT router&#039;s kernel.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358946">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">foranos</div>
					<div class="post-datetime">
						24 May 2017, 13:09					</div>
				</div>
				<div class="post-content content">
					<p>That worked for me. Thank you very much</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>