<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenDPI@OpenWRT (Deep Packet Inspection)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p152234">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Marek</div>
					<div class="post-datetime">
						28 Dec 2011, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>Dear Openwrt Developers,</p><p>Is that possible to integrate OpenDPI to OpenWRT already ported by guys from China?<br /><a href="https://dev.openwrt.org.cn/browser/backfire/package/opendpi">https://dev.openwrt.org.cn/browser/back … ge/opendpi</a></p><p>they also made an updated qos-scrpits calleg nqos-scrpits:<br /><a href="https://dev.openwrt.org.cn/browser/backfire/package/nqos-scripts?rev=208&amp;order=name">https://dev.openwrt.org.cn/browser/back … order=name</a></p><br /><p>I&#039;ve already tested OpenDPI with china &#039;Openwrt-Dreambox&#039; and it works good. It would be great to got it available with oryginal OpenWRT.</p><br /><p>Regards<br />Marek</p>											<p class="post-edited">(Last edited by <strong>Marek</strong> on 28 Dec 2011, 11:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152258">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						28 Dec 2011, 15:50					</div>
				</div>
				<div class="post-content content">
					<p>Is this something like the <a href="http://l7-filter.clearfoundation.com/docs/start">Netfilter Layer-7-Filter</a></p><p>The most interesting scenario is <a href="http://wiki.openwrt.org/packet_scheduler">OpenWrt - Traffic Prioritizing</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152273">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Marek</div>
					<div class="post-datetime">
						28 Dec 2011, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>I use L7 for 5 years. I need OpenDPI because it is way more sophisticated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152466">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Marek</div>
					<div class="post-datetime">
						30 Dec 2011, 17:56					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve copied china port of opendpi to 10.03.1 final svn on my HDD, compiled succesfully without any errors, than installed succesfully in TL-WR1043ND with 10.03.1 final.</p><div class="codebox"><pre><code>root@openwrt:~# opkg list_installed |grep dpi
iptables-mod-opendpi - 1.3.0-1
kmod-ipt-opendpi - 2.6.32.27+1.3.0-1</code></pre></div><p>Unfortunately:</p><div class="codebox"><pre><code>root@openwrt:~# insmod /lib/modules/2.6.32.27/xt_opendpi.ko
insmod: can&#039;t insert &#039;/lib/modules/2.6.32.27/xt_opendpi.ko&#039;: unknown symbol in module, or unknown parameter</code></pre></div><p>any help?</p>											<p class="post-edited">(Last edited by <strong>Marek</strong> on 2 Jan 2012, 10:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p159963">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Marek</div>
					<div class="post-datetime">
						7 Mar 2012, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>solution: it has to be included into firmware image, installing after flashing via opkg with success but loading module ends with &#039;insmod: can&#039;t insert &#039;/lib/modules/2.6.32.27/xt_opendpi.ko&#039;: unknown symbol in module, or unknown parameter&#039;</p><p>Anyone has any idea what difference makes whether package is included into firmware image or installed manually after flashing?</p>											<p class="post-edited">(Last edited by <strong>Marek</strong> on 7 Mar 2012, 10:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p159975">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						7 Mar 2012, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>The difference is the load order most likely.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p159993">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Marek</div>
					<div class="post-datetime">
						7 Mar 2012, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>ok so is there some way to make it working via opkg install?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p159996">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						7 Mar 2012, 16:43					</div>
				</div>
				<div class="post-content content">
					<p>You configure it to load before or after certain packages in /etc/modules.d by changing the prefixed number.</p>											<p class="post-edited">(Last edited by <strong>napierzaza</strong> on 7 Mar 2012, 16:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185735">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">lagonauta</div>
					<div class="post-datetime">
						11 Dec 2012, 02:50					</div>
				</div>
				<div class="post-content content">
					<p>Anyone knows if this works with current trunk?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185739">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						11 Dec 2012, 04:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>&quot;ndpi successor of OpenDPI&quot; patch was submitted to developer ML.<br /><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2012-December/017797.html">https://lists.openwrt.org/pipermail/ope … 17797.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287184">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">a.morris</div>
					<div class="post-datetime">
						12 Aug 2015, 00:12					</div>
				</div>
				<div class="post-content content">
					<p>As a new user to Openwrt this post was really exciting to find on google and really dissapointing to read (because OpenDPI is now debunk) </p><p>Any suggestions on an alternative for deep packet inspection of outgoing traffic?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303115">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">jeq</div>
					<div class="post-datetime">
						10 Dec 2015, 05:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi a</p><p>If you look at the mailing link, keep clicking Next Message to see how things developed. My reading of the situation is that two packages are available that can be added with opkg:<br />&nbsp; &nbsp; iptables-mod-ndpi<br />&nbsp; &nbsp; kmod-ipmt-ndpi</p><p>Once you have those, use this to view help<br />&nbsp; &nbsp; iptables -m ndpi --help</p><p>Maybe someone has comments on how well this works ?</p><p>j</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>