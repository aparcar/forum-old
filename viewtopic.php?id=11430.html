<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> replying to fragmented packets ICMP requests not activated ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p51478">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						29 Jun 2007, 11:08					</div>
				</div>
				<div class="post-content content">
					<p>problem:<br />the maximum MTU discovery mechanism in a computer that is a client on the lan of a wrt54gl doesn&#039;t work when the mtu of the interfaces on the OpenWrt router through which the packets have to pass is smaller than the client&#039;s default MTU. OpenWrt doesn&#039;t seem to give back the ICMP responses &quot;Packet Too Big&quot; to packets larger than the OpenWrt router can handle without fragmentation. OpenWrt&#039;s firewall is not active. Is there a setting somewhere that can facilitate the max. MTU&nbsp; discovery mechanism, i.e. can activate that OpenWrt gives the right responses back ? </p><p>background:<br />Have always had the problem in a big network in which a common adsl access is shared to have to set the MTU of the windows and linux clients to a lower value, like 1470, to be able to reach all websites.<br />Setting in iptables of the router that connects to adsl &#039;iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu&#039; doesn&#039;t resolve this.<br />What does help is on the routers that serve the clients ( wired to the clients and connected to the adsl router by wireless) to add the above line for the eth1 wireless interface through which internet comes in, but the processing then done by the wrt54gl units slows the resulting speed by more than half. So would like to see the discovery mechanism do its work and force the client not to send larger packets than the network can handle.</p>											<p class="post-edited">(Last edited by <strong>doddel</strong> on 29 Jun 2007, 20:06)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>