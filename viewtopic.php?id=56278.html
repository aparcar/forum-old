<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> RB951g/rb2011 OpenWrt vpn throughput compared to routeros</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p268787">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sklenar.wildcat</div>
					<div class="post-datetime">
						15 Mar 2015, 11:19					</div>
				</div>
				<div class="post-content content">
					<p>Hello all, my first post here. <br />I am happy user of rb951G with OpenWrt Attitude for few years, but recent soc change forced me to compile Chaos Calmer, and recheck some vpn related things.. I was quite unhappy for few days or weeks of compiing and trying to catch right &quot;pll_1000 value to make ethernet work, and in the meantime went checking &quot;original&quot; routeros behavior. .. ok, so:</p><p>Now I have perfectly up and running Chaos Calmer as well, and noticed a difference in throughput compared to routeros on the same machine (either rb951g, either rb2011 - they are almost the same inside).<br /> (and I checked against old rb951 still with attitude rc1beta loaded, and it is almost the same as fresh chaos calmer).<br />Using old PPTP with mppe128, or OpenVpn with AES128, and even OpenVpn with _none_ cipher, lzo on or off,<br />throughput checked by iperf says around 20Mbit (up to 30 with none cipher) on OpenWrt, but above 50Mbit on Routeros.<br />Cpu load seems low with OpenWrt, and rises to 100% on routeros, so I guess there is something I miss in setup.</p><p>Everything I like better and runs nicer (imho), using OpenWrt, especially trying multiple connections that makes Routeros laggy, however, for a single site-to-site link I am still very curious why OpenWrt is slower and IF and how I could throttle it up.<br />I have default tc with fq_codel there but change to pfifo and more/less limit does not seem to make difference.<br />I even try to include renice and play with it, as well with almost no effect.</p><p>So, please, can You point me to any direction/peremeter tuning, what could be set in OpenWrt to ommit some delay or whatever may increase single link throughput/priority? Thank You in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268805">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sklenar.wildcat</div>
					<div class="post-datetime">
						15 Mar 2015, 15:40					</div>
				</div>
				<div class="post-content content">
					<p>Oh I posted the topic after a long night of playing with routers, feeling hopeless and confused but being a tired..<br /> I suspect thaat this is all simply just my mistake -<br />and those beauty 50+Mbit&nbsp; values were caused just by bypassing the VPN due to triangle route and poor wifi signal.</p><p>All I can repeat today using routers under Routeros, stays at 20-25mbit and that means I started quite a void thread here..<br />Please appologize... I need more time to do things right, and I will post here again for sure if this hit is still not right.</p><p>EDIT: well, OpenVPN with AES128 is the same cca 20Mbit regardless of using OpenWrt or Routeros.</p><p>However, PPTP using MPPE128, gets far higher using Routeros, and even between two routers <br />(first tested as PC-router but now I have router-router setup for tests - rb951g and rb2011).<br />In fact, 65 Mbit sustained, all tests repeated, routes verified, throughput shown in webfig </p><p>Well so the question from the&nbsp; first post remains open - how Routeros can pass more than 50Mbit VPN,<br /> and whether I can achieve that somehow in OpenWrt.</p>											<p class="post-edited">(Last edited by <strong>sklenar.wildcat</strong> on 15 Mar 2015, 20:37)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>