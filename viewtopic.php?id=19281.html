<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> support for DLINK DIR-615 Hw:D1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 24 Feb 2015 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 10</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=19281&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=19281&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=19281&amp;p=10.html">10</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p83512">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pascalbaerten</div>
					<div class="post-datetime">
						9 Mar 2009, 12:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I just aquired a DLINK DIR-615 confident to find it in the list of supported hardware.<br />However, I quickly discovered that the model is a new hardware revision D1,&nbsp; firmware v4.00 upgraded to 4.10.</p><p>I found a 5 pin header on the board and luckily found that this is a serial ttl interface.<br />I&#039;m wondering if someone can confirm if this hardware is supported for openwrt, or what effort is needed to support it.</p><br /><br /><p>Pascal,</p><p>For the specialists, you will find valuable info below the boot sequence,&nbsp; <br />serial settings are 57600,N,8,1</p><br /><p>U-Boot 1.1.3 (Oct 13 2008 - 23:20:00) (Alpha) - SVN revision : 94</p><p>Model: WRGN22 for DLINK</p><p>Board: RT2880 DRAM:&nbsp; 32 MB<br />twe0 set to &lt;NULL&gt;<br />toe0 set to &lt;NULL&gt;<br />============================================<br />Ralink UBoot Version: 3.1 Alpha<br />--------------------------------------------<br />ASIC 3052_MP2 (MAC to GigaMAC Mode)<br />DRAM COMPONENT: 128Mbits<br />DRAM BUS: 32BIT<br />Total memory: 32Mbytes<br />Date:Oct 13 2008&nbsp; Time:23:20:00<br />============================================<br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384</p><p>Please choose the operation:<br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.<br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.<br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.<br />&nbsp; 0 seconds ...</p><p>Eth0 (10/100-M) :&nbsp; ethaddr = (&quot;00:22:b0:89:99:80&quot;) 00 22 B0 89 99 80</p><p>3: System Boot system code via Flash.<br />## Powering down port 0 ~ 3.<br />## Booting image at bf050000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux Kernel Image<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2008-12-12&nbsp; &nbsp;2:20:50 UTC</p><p> System Control Status = 0x00040000<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 879591 Bytes = 859 kB<br />&nbsp; &nbsp;Load Address: 80000000<br />&nbsp; &nbsp;Entry Point:&nbsp; 802b6000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>Linux version 2.6.21 (kwest@enzo) (gcc version 3.3.5) #1 Fri Dec 12 10:14:11 CST 2008</p><p> The CPU feqenuce set to 384 MHz<br />CPU revision is: 0001964c<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Built 1 zonelists.&nbsp; Total pages: 8128<br />Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock1 noinitrd<br />Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.<br />Primary data cache 16kB, 4-way, linesize 32 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Cache parity protection disabled<br />arch_init_irq: cause = a0800004, status = 1100ff00<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />mips_time_init: calculating r4koff ... 0x00177000 (1536000)<br />CPU frequency 384.00 MHz<br />Using 192.000 MHz high precision timer.<br />Console: colour dummy device 80x25<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 29400k/32768k available (2280k kernel code, 3368k reserved, 492k data, 116k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />Time: MIPS clocksource has been installed.<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher<br />squashfs: LZMA suppport for slax.org by jro<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />FLASH_API: MAN_ID=1 DEV_ID=22F9 SIZE=4MB<br />rt3052 access driver initialization.<br />Ralink gpio driver initialized<br />HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096<br />N_HDLC line discipline registered.<br />Serial: 8250/16550 driver $Revision: 1.3 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A<br />serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A<br />ra2880_read_mac: 00:00:00:00:00:00<br />ra2880_read_mac: 00:00:00:00:00:00<br />Ralink APSoC Ethernet Driver Initilization. v1.60&nbsp; 256 rx/tx descriptors allocated, mtu = 1600!<br />NAPI enable, weight = 0, Tx Ring = 256, Rx Ring = 256<br />ra2880_read_mac: 00:00:00:00:00:00<br />ra2880_read_mac: 00:00:00:00:00:00<br />PPP generic driver version 2.4.2<br />PPP BSD Compression module registered<br />PPP MPPE Compression module registered<br />NET: Registered protocol family 24<br />elbox physmap platform flash device: 00400000 at bfc00000<br />elbox-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />elbox-flash.0: squashfs filesystem found at offset 1245184<br />Creating 8 MTD partitions on &quot;elbox-flash.0&quot;:<br />0x00130020-0x0034f020 : &quot;rootfs&quot;<br />0x00050000-0x003f0000 : &quot;upgrade&quot;<br />0x00040000-0x00050000 : &quot;devconf&quot;<br />0x00030000-0x00040000 : &quot;devdata&quot;<br />0x003f0000-0x00400000 : &quot;langpack&quot;<br />0x00000000-0x00400000 : &quot;flash&quot;<br />0x00000000-0x00030000 : &quot;u-boot&quot;<br />0x00030000-0x00038000 : &quot;boot env&quot;<br />u32 classifier<br />ip_conntrack version 2.4 (256 buckets, 2048 max) - 236 bytes per conntrack<br />ip_conntrack_pptp version 3.1 loaded<br />ip_nat_pptp version 3.0 loaded<br />ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Linux<br />ipt_time loading<br />arp_tables: (C) 2002 David S. Miller<br />TCP cubic registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 116k freed<br />init started:&nbsp; BusyBox v1.00 (2008.12.12-02:14+0000) multi-call binary<br />Starting pid 658, console /dev/tts/1: Algorithmics/MIPS FPU Emulator v1.5<br />&#039;/etc/init.d/rcS&#039;<br />[/etc/init.d/S03config.sh]<br />Mounting proc and var ...<br />Start xmldb ...<br />[/etc/scripts/misc/profile.sh] get ...<br />[/etc/scripts/misc/defnodes.sh] ...<br />[/etc/defnodes/S10setext.sh] ...<br />PHP [/etc/defnodes/S11setnodes.php] ...<br />PHP [/etc/defnodes/S12features.php] ...<br />PHP [/etc/defnodes/S13flashspeed.php] ...<br />PHP [/etc/defnodes/S20setnodes.php] ...<br />SQUASHFS error: Can&#039;t find a SQUASHFS superblock on mtdblock5<br />mount: Mounting /dev/mtdblock/5 on /www/locale/alt failed: Invalid argument<br />PHP [/etc/defnodes/S40brand.php] ...<br />[/etc/scripts/misc/defnodes.sh] Done !!<br />[/etc/templates/timezone.sh] ...<br />zone : 5<br />gen : PST+08:00<br />[/etc/templates/logs.sh] ...<br />[/var/run/logs_run.sh] ...<br />ra2880_read_mac: 00:22:b0:89:99:81<br />Set name-type for VLAN subsystem. Should be visible in /proc/net/vlan/config<br />[/etc/templates/webs.sh] start ...<br />[/var/run/webs_start.sh] ...<br />Starting HTTPD ...<br />[/etc/init.d/S03config.sh] done!<br />[/etc/init.d/S10system.sh]<br />start fresetd ...<br />start scheduled ...<br />Factory reset time : 5 secs<br />WPS command : [/etc/templates/wps.sh pbc &amp;]<br />[/etc/templates/scheduled.sh] start ...<br />[/var/run/scheduled_start.sh] ...<br />Start scheduled ...<br />setup layout ...<br />[/etc/scripts/layout.sh] start ...<br />[/var/run/layout_start.sh] ...<br />Start router layout ...<br />eth2.0: Setting MAC address to&nbsp; 00 22 b0 89 99 80.<br />device eth2 entered promiscuous mode<br />VLAN (eth2.0):&nbsp; Setting underlying device (eth2) to promiscious mode.<br />eth2.2: Setting MAC address to&nbsp; 00 22 b0 89 99 81.<br />VLAN (eth2.2):&nbsp; Underlying device (eth2) has same MAC, not checking promiscious mode.<br />eth2.0: dev_set_promiscuity(master, 1)<br />device eth2.0 entered promiscuous mode<br />br0: port 1(eth2.0) entering learning state<br />br0: topology change detected, propagating<br />br0: port 1(eth2.0) entering forwarding state<br />start LAN ...<br />[/etc/templates/lan.sh] ...<br />[/var/run/lan_start.sh] ...<br />Start LAN (br0/192.168.0.252/255.255.255.0)...<br />Start DHCP server (br0) ...<br />Start igmp ...<br />[/etc/templates/igmpproxy.sh] start ...<br />[/var/run/igmpproxy_start.sh] ...<br />Start IGMP proxy ...<br />[BR_IGMPP_PROC]-&gt;WARNING SETWL FAILURE-&gt; ra0<br />enable LAN ports ...<br />start WLAN ...<br />[/etc/templates/wlan.sh] start ...<br />Hello from hostapd.conf<br />[/var/run/wlan_start.sh] ...<br />Start WLAN interface ra0 ...<br />restart WLAN driver ...<br />interface ra0 does not exist!<br />Using /lib/modules/rt2860v2_ap.ko<br />rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.<br />2860 version : 1.9.0.0 (Dec 12 2008)</p><br /><p>=== pAd = c0403000, size = 413080 ===</p><p>&lt;-- RTMPAllocAdapterBlock, Status=0<br />RX DESC a1f40000&nbsp; size = 2048<br />&lt;-- RTMPAllocTxRxRingMemory, Status=0<br />1. Phy Mode = 9<br />2. Phy Mode = 9<br />3. Phy Mode = 9<br />MCS Set = ff ff 00 00 01<br />Main bssid = 00:22:b0:89:99:80<br />&lt;==== RTMPInitialize, Status=0<br />0x1300 = 00064380<br />device ra0 entered promiscuous mode<br />br0: port 2(ra0) entering learning state<br />br0: topology change detected, propagating<br />br0: port 2(ra0) entering forwarding state<br />br0: port 2(ra0) multicast bandwidth 900kbps<br />[/etc/templates/wps.sh] setie ...<br />Configuration file: /var/run/hostapd.ra0.conf<br />Using interface ra0 with hwaddr 00:22:b0:89:99:80 and ssid &#039;pico2&#039;<br />hostapd_setup_interface: return 0<br />Start WLAN interface ra0 Done !!!<br />start Guest Zone<br />[/etc/templates/gzone.sh] ...<br />[/etc/templates/enable_gzone.sh] ...<br />start RG ...<br />[/etc/templates/rg.sh] start ...<br />[/var/run/rg_start.sh] ...<br />Using /lib/modules/ip_stun_func.ko<br />Register STUN module successes!<br />Using /lib/modules/sw_tcpip.ko<br />REDSonic turbo net initialized<br />Using /lib/modules/ifresetcnt.ko<br />Network interface reset count v1.0<br />insmod: /lib/modules/2.6.21: No such file or directory<br />insmod: ip_conntrack_ike_m.ko: no module by that name found<br />insmod: /lib/modules/2.6.21: No such file or directory<br />insmod: ip_conntrack_esp_m.ko: no module by that name found<br />insmod: /lib/modules/2.6.21: No such file or directory<br />insmod: ip_conntrack_proto_esp_m.ko: no module by that name found<br />insmod: /lib/modules/2.6.21: No such file or directory<br />insmod: ip_nat_proto_esp_m.ko: no module by that name found<br />sendto_unsock(/var/run/portt.unixsocket, flush)<br />/proc/sys/net/ipv4/arp_flood_burst: cannot create<br />/proc/sys/net/ipv4/arp_flood_cost: cannot create<br />start DNRD ...<br />[/etc/templates/dnrd.sh] ...<br />[/var/run/dnrd_start.sh] ...<br />Start DNRD ...<br />Notice: caching turned off<br />Start telnetd ...<br />start UPNPD ...<br />[/etc/templates/upnpd.sh] ...<br />[/var/run/upnpd_start.sh] ...<br />Starting UPnP ...<br />[/var/run/upnp_alive.sh] ...<br />start WAN ...<br />Set WAN port media type 0<br />[/etc/templates/wan.sh] start ...<br />[/var/run/wan_start.sh] ...<br />insmod: /lib/modules/2.6.21: No such file or directory<br />Using /lib/modules/sw_tcpip.ko<br />insmod: cannot insert `/lib/modules/sw_tcpip.ko&#039;: Invalid parameters (17): Invalid argument<br />It is the DHCP mod start!!<br />DHCP client on WAN(eth2.2) CloneMAC() ...<br />wireless_event_receive: Malformed netlink message: len=260 left=256 plen=244<br />start LLD2D ...<br />[/etc/templates/lld2d.sh] ...<br />[/var/run/lld2d_start.sh] ...<br />Start LLD2 daemon ...<br />start Neaps ...<br />[/etc/templates/neaps.sh] start ...<br />[/var/run/neaps_start.sh] ...<br />Start Neap Server ...<br />start igmpproxy ...<br />[/etc/templates/igmpproxy.sh] start ...<br />[/var/run/igmpproxy_stop.sh] ...<br />Stop IGMP proxy ...<br />[/etc/templates/igmpproxy_helper.sh] flush ...<br />[/var/run/igmpproxy_helper.sh] ...<br />[/etc/templates/rg.sh] misc ...<br />[/var/run/rg_misc.sh] ...<br />[/var/run/igmpproxy_start.sh] ...<br />Start IGMP proxy ...<br />Change the STATUS LED...<br />Starting pid 1403, console /dev/tts/1: &#039;/bin/sh&#039;</p><br /><p>BusyBox v1.00 (2008.12.12-02:14+0000) Built-in shell (msh)<br />Enter &#039;help&#039; for a list of built-in commands.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84120">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">darnor</div>
					<div class="post-datetime">
						18 Mar 2009, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>For those interested:<br />DIR-615 Hw:D1 FCC ID: KA2DIR605B1<br />and GPL source code is available at: <a href="ftp://ftp.dlink.com/GPL/DIR-615_revD/">ftp://ftp.dlink.com/GPL/DIR-615_revD/</a></p><p>As the post by pascalbaerten above and <a href="http://www.fcc.gov/oet/ea/fccid/">http://www.fcc.gov/oet/ea/fccid/</a> shows, the device is Ralink based.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87991">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kamelie1706</div>
					<div class="post-datetime">
						14 May 2009, 18:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I just bought an 615 D1 to be used as repeater (as it has AP) ... wrong number :-(</p><p>Any plan in the near futur for it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88000">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						14 May 2009, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>The boot log looks like that of the Airlink AR680W router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88368">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">vasq</div>
					<div class="post-datetime">
						21 May 2009, 10:15					</div>
				</div>
				<div class="post-content content">
					<p>any news on this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92690">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">meow</div>
					<div class="post-datetime">
						15 Aug 2009, 00:35					</div>
				</div>
				<div class="post-content content">
					<p>Still hope for this box to run openwrt in a not too distant future ?</p><p>Stock firmware allow telnet access from any lan port:</p><p>username: Alphanetworks<br />password: wrgn22_dlwbr_dir615</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94883">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hgblob</div>
					<div class="post-datetime">
						24 Sep 2009, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>Well, I&#039;m close enough.</p><p>I got it to this point, but after that it freezes. <br /></p><div class="codebox"><pre><code> The CPU feqenuce set to 384 MHz                                                                                                                                            
CPU revision is: 0001964c                                                                                                                                                   
Determined physical RAM map:                                                                                                                                                
 memory: 02000000 @ 00000000 (usable)                                                                                                                                       
Built 1 zonelists.  Total pages: 8128                                                                                                                                       
Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock1 init=/etc/preinit                                                                                            
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.                                                                                                
Primary data cache 16kB, 4-way, linesize 32 bytes.                                                                                                                          
Synthesized TLB refill handler (20 instructions).                                                                                                                           
Synthesized TLB load handler fastpath (32 instructions).                                                                                                                    
Synthesized TLB store handler fastpath (32 instructions).                                                                                                                   
Synthesized TLB modify handler fastpath (31 instructions).                                                                                                                  
Cache parity protection disabled                                                                                                                                            
arch_init_irq: cause = 10800060, status = 1100ff00                                                                                                                          
PID hash table entries: 128 (order: 7, 512 bytes)                                                                                                                           
mips_time_init: calculating r4koff ... 0x00177000 (1536000)                                                                                                                 
CPU frequency 384.00 MHz                                                                                                                                                    
Using 192.000 MHz high precision timer.                                                                                                                                     
Console: colour dummy device 80x25                                                                                                                                          
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)                                                                                                               
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)                                                                                                                 
Memory: 29472k/32768k available (2213k kernel code, 3296k reserved, 486k data, 116k init, 0k highmem)                                                                       
Mount-cache hash table entries: 512                                                                                                                                         
NET: Registered protocol family 16                                                                                                                                          
Time: MIPS clocksource has been installed.                                                                                                                                  
NET: Registered protocol family 2                                                                                                                                           
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)                                                                                                              
TCP established hash table entries: 1024 (order: 1, 8192 bytes)                                                                                                             
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)                                                                                                                    
TCP: Hash tables configured (established 1024 bind 1024)                                                                                                                    
TCP reno registered                                                                                                                                                         
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher                                                                                                                       
squashfs: LZMA suppport for slax.org by jro
io scheduler noop registered
io scheduler deadline registered (default)
FLASH_API: MAN_ID=1 DEV_ID=22F9 SIZE=4MB
rt3052 access driver initialization.
Ralink gpio driver initialized
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: 1.3 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
ra2880_read_mac: 00:00:00:00:00:00
ra2880_read_mac: 00:00:00:00:00:00
Ralink APSoC Ethernet Driver Initilization. v1.60  256 rx/tx descriptors allocated, mtu = 1600!
NAPI enable, weight = 0, Tx Ring = 256, Rx Ring = 256
ra2880_read_mac: 00:00:00:00:00:00
ra2880_read_mac: 00:00:00:00:00:00
PPP generic driver version 2.4.2
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
elbox physmap platform flash device: 00400000 at bfc00000
elbox-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
elbox-flash.0: Packimg tag not found 110000
elbox-flash.0: Packimg tag not found 120000
Tag found: 71736873
elbox-flash.0: squashfs filesystem found at offset 1245184
Creating 8 MTD partitions on &quot;elbox-flash.0&quot;:
0x00130020-0x001e7020 : &quot;rootfs&quot;
0x00050000-0x003f0000 : &quot;upgrade&quot;
0x00040000-0x00050000 : &quot;devconf&quot;
0x00030000-0x00040000 : &quot;devdata&quot;
0x003f0000-0x00400000 : &quot;langpack&quot;
0x00000000-0x00400000 : &quot;flash&quot;
0x00000000-0x00030000 : &quot;u-boot&quot;
0x00030000-0x00038000 : &quot;boot env&quot;
ip_conntrack version 2.4 (256 buckets, 2048 max) - 220 bytes per conntrack
ip_conntrack_pptp version 3.1 loaded
ip_nat_pptp version 3.0 loaded
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Linux
ipt_time loading
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 116k freed
Warning: unable to open an initial console.
Algorithmics/MIPS FPU Emulator v1.5
- preinit -
Press CTRL-C for failsafe
- init -</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94903">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">GrosQuicK</div>
					<div class="post-datetime">
						24 Sep 2009, 14:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>We are working on DIR-300 rev B1 support. <br />This revision got the same chipset (with Dlink-615)</p><p>I used openwrt-ramips-uImage-initramfs.bin</p><p>Would it be possible to share our .config? I have uploaded mine at <a href="http://olecam.online.fr/dir-300-b2/rt305x.config">http://olecam.online.fr/dir-300-b2/rt305x.config</a><br />I did not change anything in kernel_menuconfig.</p><p>Actually, my DIR-300/B1 just boots fine, but I&#039;m still not able to get networking enabled.</p><p>Could you please provide me with your .config?</p><p>Here is my bootup log:</p><div class="codebox"><pre><code>Automatic boot of image at addr 0x80800000 ...
## Booting image at 80800000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.30.7
   Created:      2009-09-22   8:49:49 UTC

 System Control Status = 0x03400000
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    2154665 Bytes =  2.1 MB
   Load Address: 80000000
   Entry Point:  80000000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Linux version 2.6.30.7 (olecam@getafix) (gcc version 4.1.2) #3 Tue Sep 22 10:49:
44 CEST 2009
console [early0] enabled
CPU revision is: 0001964c (MIPS 24Kc)
Ralink RT3052   id:1 rev:2 running at 320.00 MHz
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: console=ttyS1,57600 rootfstype=squashfs,jffs2
Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
Writing ErrCtl register=0006c8ff
Readback ErrCtl register=0006c8ff
NR_IRQS:48
PID hash table entries: 128 (order: 7, 512 bytes)
console handover: boot [early0] -&gt; real [ttyS1]
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28856k/32768k available (1697k kernel code, 3912k reserved, 365k data, 1
476k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 212.99 BogoMIPS (lpj=1064960)
Mount-cache hash table entries: 512
net_namespace: 528 bytes
NET: Registered protocol family 16
MIPS: machine is Generic Ralink board
bio: create slab &lt;bio-0&gt; at 0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 56
alg: No test for lzma (lzma-generic)
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 1476k freed
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (512 buckets, 2048 max)</code></pre></div><p>Thanks in anticipation.</p><p>-- <br />Gq</p>											<p class="post-edited">(Last edited by <strong>GrosQuicK</strong> on 24 Sep 2009, 14:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94920">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						24 Sep 2009, 20:31					</div>
				</div>
				<div class="post-content content">
					<p>There is basic support for the Ralink RT3050/3052 SoCs in trunk, though the ethernet driver, wireless driver, and USB driver are not present.</p><p>ramips support in trunk is using a 2.6.30 kernel and unfortunately I haven&#039;t been able to compile the ethernet or usb driver against it (Ralink SDK uses 2.6.21) though I&#039;m working on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94938">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						25 Sep 2009, 09:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aport wrote:</cite><blockquote><p>ramips support in trunk is using a 2.6.30 kernel and unfortunately I haven&#039;t been able to compile the ethernet or usb driver against it (Ralink SDK uses 2.6.21) though I&#039;m working on it.</p></blockquote></div><p>I&#039;m also working on that. I have a raether module compiled OK but there is still some symbols missing and the module doesn&#039;t load. I also compiled ra2880 (with the same symbols missing problem), but is this one helpful?</p><p>TBH, I&#039;m not used with Kernel Hacking and I don&#039;t know really what drivers/modules are actually needed. Would it be possible to share our experience? Which drivers are mandatory in order to get ethernet supported?</p><p>Best regards,<br />-- <br />Olivier</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94953">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						25 Sep 2009, 21:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>olecam wrote:</cite><blockquote><div class="quotebox"><cite>aport wrote:</cite><blockquote><p>ramips support in trunk is using a 2.6.30 kernel and unfortunately I haven&#039;t been able to compile the ethernet or usb driver against it (Ralink SDK uses 2.6.21) though I&#039;m working on it.</p></blockquote></div><p>I&#039;m also working on that. I have a raether module compiled OK but there is still some symbols missing and the module doesn&#039;t load. I also compiled ra2880 (with the same symbols missing problem), but is this one helpful?</p><p>TBH, I&#039;m not used with Kernel Hacking and I don&#039;t know really what drivers/modules are actually needed. Would it be possible to share our experience? Which drivers are mandatory in order to get ethernet supported?</p><p>Best regards,<br />-- <br />Olivier</p></blockquote></div><p>The symbols missing are probably from the ralink-flash mtd driver (ra_mtd_read and ra_mtd_write). The raeth module uses the ralink-flash driver to fetch the MAC address. I believe the wireless driver needs the same symbols.</p><p>Can you share your makefile for raeth? I&#039;ll make a patch to add the ralink-flash driver.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95041">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						28 Sep 2009, 19:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>The symbols missing are probably from the ralink-flash mtd driver (ra_mtd_read and ra_mtd_write). The raeth module uses the ralink-flash driver to fetch the MAC address. I believe the wireless driver needs the same symbols.</p><p>Can you share your makefile for raeth? I&#039;ll make a patch to add the ralink-flash driver.</p></blockquote></div><p>Actually, the missing symbol I have now here is just &quot;get_surfboard_sysclk&quot;. But as I stated before, I&#039;m a quite a newbie with kernel Hacking and there is probably some missing options around...</p><p>I don&#039;t know how to attach files on the forum, so I have uploaded the source with Makefiles here:<br /><a href="http://olecam.online.fr/dir-300-b2/raeth-olecam-1.tgz">http://olecam.online.fr/dir-300-b2/raeth-olecam-1.tgz</a></p><p>To be uncompressed in the &quot;package&quot; directory. The raeth sources are straigh from the DIR-300-B1 GPL firmware. I have modified some parts of the code, all of them are marked with a comment containing &quot;olecam&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95616">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						9 Oct 2009, 03:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>olecam wrote:</cite><blockquote><div class="quotebox"><blockquote><p>The symbols missing are probably from the ralink-flash mtd driver (ra_mtd_read and ra_mtd_write). The raeth module uses the ralink-flash driver to fetch the MAC address. I believe the wireless driver needs the same symbols.</p><p>Can you share your makefile for raeth? I&#039;ll make a patch to add the ralink-flash driver.</p></blockquote></div><p>Actually, the missing symbol I have now here is just &quot;get_surfboard_sysclk&quot;. But as I stated before, I&#039;m a quite a newbie with kernel Hacking and there is probably some missing options around...</p><p>I don&#039;t know how to attach files on the forum, so I have uploaded the source with Makefiles here:<br /><a href="http://olecam.online.fr/dir-300-b2/raeth-olecam-1.tgz">http://olecam.online.fr/dir-300-b2/raeth-olecam-1.tgz</a></p><p>To be uncompressed in the &quot;package&quot; directory. The raeth sources are straigh from the DIR-300-B1 GPL firmware. I have modified some parts of the code, all of them are marked with a comment containing &quot;olecam&quot;.</p></blockquote></div><p>get_surfboard_sysclock is from arch/mips/rt2880/time.c</p><p>Unfortunately that time.c is based on a very old arch/mips/kernel/time.c so it will need to be heavily modified to work with 2.6.30.</p>											<p class="post-edited">(Last edited by <strong>aport</strong> on 9 Oct 2009, 04:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95622">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						9 Oct 2009, 13:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aport wrote:</cite><blockquote><p>get_surfboard_sysclock is from arch/mips/rt2880/time.c</p><p>Unfortunately that time.c is based on a very old arch/mips/kernel/time.c so it will need to be heavily modified to work with 2.6.30.</p></blockquote></div><p>I can confirm that! I spent lots of time trying to deal with this. I have been able to make an rt2880 module with quick and dirty hacks but as it is build as a module, many kernel functions/symbols (which are not exported) are missing. Anyway, I ran for sure on the wrong way trying to make it as an &#039;external&#039; module!</p><p>Even if I&#039;m not a Kernel Guru, I still have some time to spend for. Could I do something in order help dealing with the time.c modifications or anything else? Actually, I would appreciate to have minimal instructions on how/where to start. After that, I hope I will be able to work by myself.</p><p>PS: In the meantime, I also played a bit with the fonera sources (for the fonera 2.0n unit) which is based on older kernel (2.6.21). I have been able to compile and I get my DIR-300 B1 flashed with it. Everything seems to work OK, but the rootfs is loaded in RAM and any mods on the filesystem are lost after a reboot.</p><p>Best regards,<br />-- <br />Olivier</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95641">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						9 Oct 2009, 19:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>olecam wrote:</cite><blockquote><div class="quotebox"><cite>aport wrote:</cite><blockquote><p>get_surfboard_sysclock is from arch/mips/rt2880/time.c</p><p>Unfortunately that time.c is based on a very old arch/mips/kernel/time.c so it will need to be heavily modified to work with 2.6.30.</p></blockquote></div><p>I can confirm that! I spent lots of time trying to deal with this. I have been able to make an rt2880 module with quick and dirty hacks but as it is build as a module, many kernel functions/symbols (which are not exported) are missing. Anyway, I ran for sure on the wrong way trying to make it as an &#039;external&#039; module!</p><p>Even if I&#039;m not a Kernel Guru, I still have some time to spend for. Could I do something in order help dealing with the time.c modifications or anything else? Actually, I would appreciate to have minimal instructions on how/where to start. After that, I hope I will be able to work by myself.</p><p>PS: In the meantime, I also played a bit with the fonera sources (for the fonera 2.0n unit) which is based on older kernel (2.6.21). I have been able to compile and I get my DIR-300 B1 flashed with it. Everything seems to work OK, but the rootfs is loaded in RAM and any mods on the filesystem are lost after a reboot.</p><p>Best regards,<br />-- <br />Olivier</p></blockquote></div><p>Yeah the fon sources are good. blogic did a great job with the ralink patch... it&#039;s a lot of stuff. Notice as well that the ra_eth driver in the fon sources is very different than the raeth driver you have. It&#039;s the same version I have in my Ralink SDK. Perhaps try building that module instead.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97207">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">meow</div>
					<div class="post-datetime">
						11 Nov 2009, 14:32					</div>
				</div>
				<div class="post-content content">
					<p>Can someone confirm that the fon-ng sources can be compiled to run on dlink dir-615 d1 ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97701">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						21 Nov 2009, 01:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi -</p><p>Just to let you know that I have provided some small patches in order to get the fonera source compiling and working great with the DIR-300 rev B.</p><p>I&#039;d like to thanks blogic who has done a fantastic job implementing the ralink drivers in fon. It was very easy to adapt his port for the DLink board, altouth I have spent a lot of time with a VLAN issue I reported before on the forum (I needed that for a specific application).</p><p>For some reason, the Wi-Fi driver shipped in fonera was not working with me in some situation: outgoing packets were lost somewhere in the nirvana with any 802.11n client. In addition, the front panel WLAN led was not working. By chance, I have been able to compile the driver available in the GPL source of the stock DLink firmware. If you face to any problems with wireless, feel free to give it a try (if so, take care to disable the ra_wifi package!).</p><p>I have provided an tgz including all the patches to be applyed to the fonera sources: <br /><a href="http://olecam.online.fr/dir-300-b/fon-dir300b1.tgz">http://olecam.online.fr/dir-300-b/fon-dir300b1.tgz</a></p><p>You can step by step compile it kernel that way:<br />(see <a href="http://trac.fonosfera.org/fon-ng/wiki/build">http://trac.fonosfera.org/fon-ng/wiki/build</a> for more details)</p><p>$ svn co <a href="http://svn.fonosfera.org/fon-ng/trunk/">http://svn.fonosfera.org/fon-ng/trunk/</a><br />$ cd trunk<br />$ chmod +x install.sh<br />$ ./install.sh<br />$ tar xvfz fon-dir300b1.tgz<br />$ ./fon-dir300b1/install.sh&nbsp; &lt;-- this will install the packages and patches for the dir300 revB<br />$ cd openwrt<br />$ make menuconfig&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;-- select DIR-300 as Target<br />$ make V=99</p><p>You can also get a pre-compiled (very minimalist) firmware here:<br /><a href="http://olecam.online.fr/dir-300-b/openwrt-dir300b1-squashfs.img">http://olecam.online.fr/dir-300-b/openw … uashfs.img</a></p><p>/!\ Take care not to include too much packages in your image. If the image size is over 3,8 MB, you will brick your router: there is no control and if the size is over to that limit it will overwrite some important things (trust me, I know what I am telling about!!)</p><p>HTH</p><p>Regards</p><p>Olivier</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97817">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						23 Nov 2009, 14:02					</div>
				</div>
				<div class="post-content content">
					<p>ooops, I forgot to include one patch which lets the raeth driver retrieving the router MAC address from the U-Boot env. variables.</p><p>Uploaded tgz and img are now up-to-date. Here are the md5sums:</p><p>87998397b6f3f7ed5199da7dc02fbf35&nbsp; fon-dir300b1.tgz<br />08fcd4d390df57c4aa616e1406929f02&nbsp; openwrt-dir300b1-squashfs.img</p><p>-- <br />Olivier</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98659">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">jpp</div>
					<div class="post-datetime">
						12 Dec 2009, 20:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>Olivier, I want thank you very much for your effort! I had dd-wrt previously running on my DIR-615 rev D1. From dd-wrt, I&#039;ve been able to successfully flash the router with your firmware. However, I&#039;m afraid that may have been a bit reckless on my part...</p><p>The new firmware boots, hands out dhcp addresses, and the wireless works. It replies to pings on 192.168.1.1, and it generally appears to work fine. Except for one detail: I can&#039;t seem to log on the router. The web interface doesn&#039;t respond. Telnet and ssh appear to be dead also. When you said it was a very minimalistic image, did you mean it didn&#039;t have any remote access daemon? Or did anything went wrong when I flashed the router?</p><p>My question is basically this: is there any way to recover this router? Is using tftp a possibility? I&#039;ve tried the usual methods of trying to connect to 192.168.1.1 through tftp, while the router is booting. Unfortunately, I had no luck with this approach. I also tried listening on udp port 4919 to see if openwrt rescue mode was available. I didn&#039;t receive any message on that port.</p><p>I&#039;m not familiar with the process of building serial cables and adding serial ports to the router, but if that&#039;s the only way, would you kindly provide some reference?</p><p>Thank you.</p><p>JP</p><p><strong>edit:</strong> Probably *everyone* knows this, but I&#039;ll leave the information as a reference to some newbie user that finds (him|her)self on my situation. I was able to restore Dlink&#039;s original firmware through &quot;Emergency Room&quot;. </p><p>The procedure is the following:<br />use an ethernet cable to connect to a lan port on the switch;<br />set the ethernet port ip to 192.168.0.2;<br />disconnect the router&#039;s power cable;<br />press the reset button and keep pressing it;<br />connect the router&#039;s power cable;<br />wait about 20 seconds with the reset button still pressed; the power light should be orange and blinking;<br />release the reset button;<br />use a browser and go to <a href="http://192.168.0.1">http://192.168.0.1</a>;<br />upload one of dlink&#039;s original images.</p><p>Please note that even though the emergency webserver will be listening at 192.168.0.1, the router won&#039;t respond to pings.</p>											<p class="post-edited">(Last edited by <strong>jpp</strong> on 13 Dec 2009, 02:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98858">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						16 Dec 2009, 10:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jpp wrote:</cite><blockquote><p>Olivier, I want thank you very much for your effort! I had dd-wrt previously running on my DIR-615 rev D1. From dd-wrt, I&#039;ve been able to successfully flash the router with your firmware. However, I&#039;m afraid that may have been a bit reckless on my part...</p><p>The new firmware boots, hands out dhcp addresses, and the wireless works. It replies to pings on 192.168.1.1, and it generally appears to work fine. Except for one detail: I can&#039;t seem to log on the router. The web interface doesn&#039;t respond. Telnet and ssh appear to be dead also. When you said it was a very minimalistic image, did you mean it didn&#039;t have any remote access daemon? Or did anything went wrong when I flashed the router?</p></blockquote></div><p>Sorry for the delay in replying. Yes I&#039;m afraid I didn&#039;t take care to integrate a telnet server. All of my tests with this image were done through a serial console wired to the router. The firmware image I have provided is definitively too minimalistic! <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Anyway if you plan to give it again a try, you can compile it by yourself. Following the few steps described in my previous post this should be straighforward.</p><p>I have detected some minor problems since I have posted the firmware here, so feel free to ask if you face to any problems. I&#039;ll be glad to share my modest experience.</p><p>Regards,<br />-- <br />Olivier</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98883">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">jpp</div>
					<div class="post-datetime">
						16 Dec 2009, 20:37					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, Olivier.</p><p>When I have a little time, I&#039;ll give it a shot. I&#039;ve built OpenWrt in the past a couple of times, so it shouldn&#039;t be too much of a hassle <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Regards,<br />JP</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100028">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">jpp</div>
					<div class="post-datetime">
						8 Jan 2010, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>So, I finally decided to recompile the image. Everything appeared to work well. I was careful enough to enable the ssh server (dropbear), and the telnet server.</p><p>To load openwrt, I first flashed the router with a dd-wrt image, and then flashed the openwrt image with the mtd tool. The router boots, and responds to pings. But the problem remains: there is no way to access it through the network. Both telnet and ssh ports are closed. Is this because we are using the Fon sources, and maybe all remote access daemons are shutdown by default? I don&#039;t have any experience with the Fon firmware at all.</p><p>How can we enable (at least) the telnet daemon when creating the image? </p><p>Thanks.</p><p>JP</p>											<p class="post-edited">(Last edited by <strong>jpp</strong> on 8 Jan 2010, 22:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100037">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">olecam</div>
					<div class="post-datetime">
						9 Jan 2010, 00:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi -</p><div class="quotebox"><cite>jpp wrote:</cite><blockquote><p>How can we enable (at least) the telnet daemon when creating the image?</p></blockquote></div><p>There is probably something to do for having telnet responding but I don&#039;t have any router under hand at this time to take a look at the init sequence, sorry.</p><p>For my personnal needs I actually have dropbear (the one from &quot;Base system&quot;) selected in menuconfig. I also have a custom &quot;passwd&quot; file with a password defined for root in. This file is located in ~/trunk/openwrt/files/etc/ in order to get the original /etc/passwd file replaced by mine in the image. That way I can SSH to the router straight after flashing.</p><p>HTH</p><p>-- <br />Olivier</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100046">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">jpp</div>
					<div class="post-datetime">
						9 Jan 2010, 03:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><div class="quotebox"><cite>olecam wrote:</cite><blockquote><p>Hi -</p><br /><p>For my personnal needs I actually have dropbear (the one from &quot;Base system&quot;) selected in menuconfig. I also have a custom &quot;passwd&quot; file with a password defined for root in. This file is located in ~/trunk/openwrt/files/etc/ in order to get the original /etc/passwd file replaced by mine in the image. That way I can SSH to the router straight after flashing.</p></blockquote></div><p>Ok, thanks! Did that, and now I can access the router <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Would it be too hard to integrate the changes of the Fon kernel back in OpenWRT? Is the patchset large and/or would it break many things?</p><p>Thanks for everything.</p><p>JP</p>											<p class="post-edited">(Last edited by <strong>jpp</strong> on 9 Jan 2010, 14:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107482">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">yeow</div>
					<div class="post-datetime">
						21 Apr 2010, 13:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi, pascalbaerten</p><p>How to connect the 5 pin header in DLINK DIR-615. Which pin is Tx, Rx and GND?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 10</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=19281&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=19281&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=19281&amp;p=10.html">10</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>