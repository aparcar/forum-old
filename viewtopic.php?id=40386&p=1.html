<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 3G/4G:LTE rssi signal strength indication?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 May 2018 and 3 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=40386&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p182643">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">TheRaster</div>
					<div class="post-datetime">
						7 Nov 2012, 15:51					</div>
				</div>
				<div class="post-content content">
					<p>Hay all, So I wish to know if someone can make a 3g rssi signal strength indicator in luci This will help loads with users that are on 3g net only.</p><p>I found this but its not grate to set antennas up with </p><div class="quotebox"><cite>wiki wrote:</cite><blockquote><p>For troubleshooting or locating the best position for the USB Dongle, you can use</p><p>gcom info -d /dev/ttyUSBx<br />from the console. This tool will report signal strength, but also network registration and SIM status. If it returns a port-in-use error because your connection is already up, try<br />gcom -d /dev/ttyUSBx<br />where x represents a port number not used by the wan connection itself.<br />gcom returns the signal quality in RSSI (Received signal strength indication) and in BER (Bit error rate, reported in percent). A higher RSSI value represents a stronger signal - scale is from 0 to 99, where 1 is the lowest detectable signal and 31 a very good signal. Don&#039;t expect your signal to go all the way up to 99, though. If BER returns 99 it means not known or not detectable.</p><p>: Although I found the above information all across the net, I made different observations: My 3G modem is a ZTE K3565-Z which features a LED to show it&#039;s status (Not Connected, GPRS, UMTS). With a reported RSSI value of around 17 I only get GPRS while a value of 4 allows for UMTS access.<br />You can also add the AT command</p><p>&quot;&quot;&nbsp; &nbsp; &nbsp; &quot;AT+CSQ&quot;<br />to your chat script to check signal quality.<br />Command return is &quot;+CSQ: &lt;rssi&gt;,&lt;ber&gt;&quot; and looks like this in logread:</p><p>send (AT+CSQ^M)<br />expect (OK)<br />^M<br />AT+CSQ^M^M<br />+CSQ: 11,99^M<br />^M<br />OK<br />-- got it<br />If you have problems establishing a connection and multiple modem devices (/dev/ttyUSB0, /dev/ttyUSB1, …) are present, try all of them. Some may not work at all while others seem to work at first, but will give a NO CARRIER during the connection process.</p></blockquote></div><p>Thanks Raster.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182797">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">TheRaster</div>
					<div class="post-datetime">
						9 Nov 2012, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>Bump.....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186821">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">TheRaster</div>
					<div class="post-datetime">
						23 Dec 2012, 16:44					</div>
				</div>
				<div class="post-content content">
					<p>bump</p><p>Can someone help out with this? There is lots of ppl who would find this handy.</p><p>TP-link have it in there 3g routers.</p><p>The TP-link one only updates when it 1st connects to the modem. But one simler with a dbm info would help so so much for anyone who takes there router out and about or if just looking for a new cell site when the other cell gos down.</p><p><span class="postimg"><img src="http://i49.tinypic.com/24qlr4l.jpg" alt="http://i49.tinypic.com/24qlr4l.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186851">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						23 Dec 2012, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>Something like <a href="http://eko.one.pl/?p=openwrt-3ginfo">this ?</a></p><p><span class="postimg"><img src="https://lh4.googleusercontent.com/-oE8jQlyq8AE/UFNjFDqkFCI/AAAAAAAAAxw/--e-HP7KZek/s800/Status%2520po%25C5%2582%25C4%2585czenia%25203G.png" alt="https://lh4.googleusercontent.com/-oE8jQlyq8AE/UFNjFDqkFCI/AAAAAAAAAxw/--e-HP7KZek/s800/Status%2520po%25C5%2582%25C4%2585czenia%25203G.png" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186857">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">TheRaster</div>
					<div class="post-datetime">
						23 Dec 2012, 22:05					</div>
				</div>
				<div class="post-content content">
					<p>Yeah somthing like that. I have installed <a href="http://ecco.selfip.net/attitude_adjustment/ar71xx/packages/3ginfo_20121207_all.ipk">http://ecco.selfip.net/attitude_adjustm … 07_all.ipk</a><br />But cant seem to get it to show under 3g info think some luci gui is needed....?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186858">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						23 Dec 2012, 22:11					</div>
				</div>
				<div class="post-content content">
					<p>uci set 3ginfo.@3ginfo[0].language=en<br />uci commit<br />3ginfo </p><p>or</p><p>/etc/init.d/3ginfo start and see <a href="http://192.168.1.1:81">http://192.168.1.1:81</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186895">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">TheRaster</div>
					<div class="post-datetime">
						24 Dec 2012, 12:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obsy wrote:</cite><blockquote><p>uci set 3ginfo.@3ginfo[0].language=en<br />uci commit<br />3ginfo </p><p>or</p><p>/etc/init.d/3ginfo start and see <a href="http://192.168.1.1:81">http://192.168.1.1:81</a></p></blockquote></div><br /><p>Works well thanks,</p><p>Siła sygnału:38%</p><p>If we could get that put in to the Luci utms connect wan it would be grate <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I have made a ticket over on <a href="http://luci.subsignal.org">http://luci.subsignal.org</a><br />Ticket <a href="http://luci.subsignal.org/trac/ticket/522">http://luci.subsignal.org/trac/ticket/522</a><br />Maybe they can code it in? would be nice.</p><p>And thankyou for both your help to get to see a % of signal is going to make my life alot easyer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188101">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">netbus</div>
					<div class="post-datetime">
						6 Jan 2013, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>Thats really nice. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />But mine looks like this <br /><a href="http://www.abload.de/image.php?img=unbenanntexu1d.png"><span class="postimg"><img src="http://www.abload.de/thumb/unbenanntexu1d.png" alt="http://www.abload.de/thumb/unbenanntexu1d.png" /></span></a><br /><a href="http://www.abload.de/image.php?img=unbenannt61u2j.png"><span class="postimg"><img src="http://www.abload.de/thumb/unbenannt61u2j.png" alt="http://www.abload.de/thumb/unbenannt61u2j.png" /></span></a><br />Can you fix this?</p>											<p class="post-edited">(Last edited by <strong>netbus</strong> on 6 Jan 2013, 21:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188103">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						6 Jan 2013, 21:43					</div>
				</div>
				<div class="post-content content">
					<p>You cannot use the same interface for connection and 3ginfo. Change interface in 3ginfo config (/etc/config/3ginfo).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188104">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">netbus</div>
					<div class="post-datetime">
						6 Jan 2013, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. that works.<br />I only need my operator name and I am happy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188106">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						6 Jan 2013, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>Show me output of 3ginfo-test</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188110">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">netbus</div>
					<div class="post-datetime">
						6 Jan 2013, 22:19					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@Hotspot:/www/cgi-bin# 3ginfo-test 

+CSQ: 12,99
+COPS: 0,0,&quot;3 AT&quot;,2
+ZPAS: &quot;HSPA&quot;,&quot;CS_PS&quot;
+CREG: 2,1, 7F8, CC8E47
+CGREG: 2,1, 7F8, CC8E47
DEVICE:ZTE CORPORATION MF112
---------------------------------------------------------------
/dev/tty      /dev/ttyS1    /dev/ttyS11   /dev/ttyS13   /dev/ttyS15   /dev/ttyS3    /dev/ttyS5    /dev/ttyS7    /dev/ttyS9    /dev/ttyUSB1
/dev/ttyS0    /dev/ttyS10   /dev/ttyS12   /dev/ttyS14   /dev/ttyS2    /dev/ttyS4    /dev/ttyS6    /dev/ttyS8    /dev/ttyUSB0  /dev/ttyUSB2
---------------------------------------------------------------

T:  Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=480  MxCh= 1
B:  Alloc=  1/800 us ( 0%), #Int=  1, #Iso=  0
D:  Ver= 2.00 Cls=09(hub  ) Sub=00 Prot=01 MxPS=64 #Cfgs=  1
P:  Vendor=1d6b ProdID=0002 Rev= 3.03
S:  Manufacturer=Linux 3.3.8 ehci_hcd
S:  Product=Generic Platform EHCI Controller
S:  SerialNumber=ehci-platform
C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=  0mA
I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
E:  Ad=81(I) Atr=03(Int.) MxPS=   4 Ivl=256ms

T:  Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=  3 Spd=480  MxCh= 0
D:  Ver= 2.00 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs=  1
P:  Vendor=19d2 ProdID=0117 Rev= 0.00
S:  Manufacturer=ZTE,Incorporated
S:  Product=ZTE WCDMA Technologies MSM
S:  SerialNumber=P671A2xxxxxx
C:* #Ifs= 4 Cfg#= 1 Atr=e0 MxPwr=500mA
I:* If#= 0 Alt= 0 #EPs= 2 Cls=ff(vend.) Sub=ff Prot=ff Driver=option
E:  Ad=81(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=01(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 1 Alt= 0 #EPs= 2 Cls=ff(vend.) Sub=ff Prot=ff Driver=option
E:  Ad=82(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=02(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 2 Alt= 0 #EPs= 3 Cls=ff(vend.) Sub=ff Prot=ff Driver=option
E:  Ad=83(I) Atr=03(Int.) MxPS=  64 Ivl=2ms
E:  Ad=84(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=03(O) Atr=02(Bulk) MxPS= 512 Ivl=4ms
I:* If#= 3 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=(none)
E:  Ad=04(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms
E:  Ad=85(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms
---------------------------------------------------------------
3ginfo.@3ginfo[0]=3ginfo
3ginfo.@3ginfo[0].http_port=81
3ginfo.@3ginfo[0].qos=0
3ginfo.@3ginfo[0].language=en
3ginfo.@3ginfo[0].device=/dev/ttyUSB1
3ginfo.@3ginfo[0].pincode=xxxx
root@Hotspot:/www/cgi-bin# </code></pre></div><p>My Operator is &quot;3 AT&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188113">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						6 Jan 2013, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>echo &quot;XXXYY;3 AT&quot; &gt;&gt; /usr/share/3ginfo/mccmnc.dat</p><p>Change XXXYY to MCC/MNC code</p><br /><p>Or try new version.</p>											<p class="post-edited">(Last edited by <strong>obsy</strong> on 6 Jan 2013, 22:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188151">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">netbus</div>
					<div class="post-datetime">
						7 Jan 2013, 08:24					</div>
				</div>
				<div class="post-content content">
					<p>Nice. It works now.<br />As &quot;TheRaster&quot; already has written, it would be nice to integrate it to Luci</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193589">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">AtWork</div>
					<div class="post-datetime">
						1 Mar 2013, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>I need some help.</p><p>I need help for the indicator signal 3G/4G.</p><p>I downloaded this: <a href="http://ecco.selfip.net/attitude_adjustment/ar71xx/packages/">http://ecco.selfip.net/attitude_adjustm … /packages/</a> (3ginfo_20130214_all.ipk)</p><div class="quotebox"><cite>obsy wrote:</cite><blockquote><p>uci set 3ginfo.@3ginfo[0].language=en<br />uci commit<br />3ginfo </p><p>or</p><p>/etc/init.d/3ginfo start and see <a href="http://192.168.1.1:81">http://192.168.1.1:81</a></p></blockquote></div><p>Insert the command in Putty above, but without effect.</p><p>It&#039;s the first time I use OpenWRT firmware. I&#039;m new in these things.</p><p>Best Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213723">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">aberson</div>
					<div class="post-datetime">
						2 Oct 2013, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>is this still available?&nbsp; I don&#039;t see a 3ginfo package listed here:&nbsp; <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/">http://downloads.openwrt.org/snapshots/ … /packages/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213798">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">vinca</div>
					<div class="post-datetime">
						3 Oct 2013, 09:43					</div>
				</div>
				<div class="post-content content">
					<p>Here <a href="https://dev.openwrt.org/ticket/12434">https://dev.openwrt.org/ticket/12434</a> is solution how to get operator name and signal strength in luci.</p><br /><p>Any help how to get connection type (3G or EDGE or HSDPA, ...)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213805">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						3 Oct 2013, 12:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aberson wrote:</cite><blockquote><p>is this still available?&nbsp; I don&#039;t see a 3ginfo package listed here:&nbsp; <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/">http://downloads.openwrt.org/snapshots/ … /packages/</a></p></blockquote></div><p>yes, look into <a href="http://ecco.selfip.net/attitude_adjustment/ar71xx/packages/">http://ecco.selfip.net/attitude_adjustm … /packages/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213807">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						3 Oct 2013, 13:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vinca wrote:</cite><blockquote><p>Here <a href="https://dev.openwrt.org/ticket/12434">https://dev.openwrt.org/ticket/12434</a> is solution how to get operator name and signal strength in luci.</p><br /><p>Any help how to get connection type (3G or EDGE or HSDPA, ...)?</p></blockquote></div><p>Use at command, depends on vendor, like: &quot;AT+ZPAS? (ZTE) AT_OCTI?/&quot;AT_OWCTI? (option) etc. See my 3ginfo: <a href="https://github.com/obsy/packages/blob/master/3ginfo/files-text/usr/share/3ginfo/scripts/3ginfo.gcom">https://github.com/obsy/packages/blob/m … ginfo.gcom</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213817">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">vinca</div>
					<div class="post-datetime">
						3 Oct 2013, 15:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obsy wrote:</cite><blockquote><div class="quotebox"><cite>aberson wrote:</cite><blockquote><p>is this still available?&nbsp; I don&#039;t see a 3ginfo package listed here:&nbsp; <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/">http://downloads.openwrt.org/snapshots/ … /packages/</a></p></blockquote></div><p>yes, look into <a href="http://ecco.selfip.net/attitude_adjustment/ar71xx/packages/">http://ecco.selfip.net/attitude_adjustm … /packages/</a></p></blockquote></div><p>i found problem installing 3ginfo:<br /></p><div class="codebox"><pre><code>root@openwrt:/tmp# opkg install 3ginfo_20130908_all.ipk 
Installing 3ginfo (20130908) to root...
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for 3ginfo:
 *     3ginfo-text * 
 * opkg_install_cmd: Cannot install package 3ginfo.

root@openwrt:/tmp# ls -al
drwxrwxrwt   16 root     root           500 Oct  3 12:21 .
drwxr-xr-x   22 root     root           632 Oct  3 11:37 ..
drwx------    2 root     root            40 Oct  3 12:05 .uci
-rw-r--r--    1 root     root          6252 Oct  3 12:20 3ginfo-text_20130908_all.ipk
-rw-r--r--    1 root     root         12069 Oct  3 12:20 3ginfo_20130908_all.ipk
-rw-r--r--    1 root     root             4 Oct  3 12:05 TZ
drwxr-xr-x    3 root     root            60 Oct  3 12:05 db
-rw-r--r--    1 root     root            67 Oct  3 12:05 dhcp.leases
drwxr-xr-x    2 root     root           100 Oct  3 12:05 etc
-rw-r--r--    1 root     root            85 Oct  3 12:05 fstab
drwxr-xr-x    2 root     root           360 Oct  3 12:21 lock
drwxr-xr-x    3 root     root           160 Oct  3 12:05 log
-rw-------    1 root     root         85641 Oct  3 12:05 luci-indexcache
drwxr-xr-x    2 root     root            40 Oct  3 12:05 luci-modulecache
drwx------    2 root     root            60 Oct  3 12:17 luci-sessions
drwxr-xr-x    2 root     root            60 Oct  3 12:05 nmbd
drwxr-xr-x    2 root     root            40 Oct  3 12:21 opkg-lists
drwxr-xr-x    2 root     root            40 Jan  1  1970 overlay
-rw-r--r--    1 root     root            32 Oct  3 12:05 resolv.conf
-rw-r--r--    1 root     root            98 Oct  3 12:05 resolv.conf.auto
drwxr-xr-x    5 root     root           420 Oct  3 12:05 run
drwxr-xr-x    2 root     root           100 Oct  3 12:05 state
drwxr-xr-x    3 root     root            60 Oct  3 12:05 tmp
drwxr-xr-x    3 root     root            60 Oct  3 12:21 usr</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213833">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">vinca</div>
					<div class="post-datetime">
						3 Oct 2013, 17:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obsy wrote:</cite><blockquote><div class="quotebox"><cite>vinca wrote:</cite><blockquote><p>Here <a href="https://dev.openwrt.org/ticket/12434">https://dev.openwrt.org/ticket/12434</a> is solution how to get operator name and signal strength in luci.</p><br /><p>Any help how to get connection type (3G or EDGE or HSDPA, ...)?</p></blockquote></div><p>Use at command, depends on vendor, like: &quot;AT+ZPAS? (ZTE) AT_OCTI?/&quot;AT_OWCTI? (option) etc. See my 3ginfo: <a href="https://github.com/obsy/packages/blob/master/3ginfo/files-text/usr/share/3ginfo/scripts/3ginfo.gcom">https://github.com/obsy/packages/blob/m … ginfo.gcom</a></p></blockquote></div><p>Modem vendor is huawei, I add &quot;AT\^SYSINFOEX&quot; and logread output is:<br /></p><div class="codebox"><pre><code> AT^SYSINFOEX^M^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: ^SYSINFOEX:2,3,0,1,,3,&quot;WCDMA&quot;,41,&quot;WCDMA&quot;^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: ^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: OK</code></pre></div><p>AT_OCTI?/&quot;AT_OWCTI? options failed.</p><p>How to get WCDMA now? WCDMA is not in gcom info -d /dev/ttyUSB1 output.<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213835">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						3 Oct 2013, 17:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vinca wrote:</cite><blockquote><div class="quotebox"><cite>obsy wrote:</cite><blockquote><div class="quotebox"><cite>aberson wrote:</cite><blockquote><p>is this still available?&nbsp; I don&#039;t see a 3ginfo package listed here:&nbsp; <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/">http://downloads.openwrt.org/snapshots/ … /packages/</a></p></blockquote></div><p>yes, look into <a href="http://ecco.selfip.net/attitude_adjustment/ar71xx/packages/">http://ecco.selfip.net/attitude_adjustm … /packages/</a></p></blockquote></div><p>i found problem installing 3ginfo:<br /></p><div class="codebox"><pre><code>root@openwrt:/tmp# opkg install 3ginfo_20130908_all.ipk 
Installing 3ginfo (20130908) to root...
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for 3ginfo:
 *     3ginfo-text * 
 * opkg_install_cmd: Cannot install package 3ginfo.

root@openwrt:/tmp# ls -al
drwxrwxrwt   16 root     root           500 Oct  3 12:21 .
drwxr-xr-x   22 root     root           632 Oct  3 11:37 ..
drwx------    2 root     root            40 Oct  3 12:05 .uci
-rw-r--r--    1 root     root          6252 Oct  3 12:20 3ginfo-text_20130908_all.ipk
-rw-r--r--    1 root     root         12069 Oct  3 12:20 3ginfo_20130908_all.ipk
-rw-r--r--    1 root     root             4 Oct  3 12:05 TZ
drwxr-xr-x    3 root     root            60 Oct  3 12:05 db
-rw-r--r--    1 root     root            67 Oct  3 12:05 dhcp.leases
drwxr-xr-x    2 root     root           100 Oct  3 12:05 etc
-rw-r--r--    1 root     root            85 Oct  3 12:05 fstab
drwxr-xr-x    2 root     root           360 Oct  3 12:21 lock
drwxr-xr-x    3 root     root           160 Oct  3 12:05 log
-rw-------    1 root     root         85641 Oct  3 12:05 luci-indexcache
drwxr-xr-x    2 root     root            40 Oct  3 12:05 luci-modulecache
drwx------    2 root     root            60 Oct  3 12:17 luci-sessions
drwxr-xr-x    2 root     root            60 Oct  3 12:05 nmbd
drwxr-xr-x    2 root     root            40 Oct  3 12:21 opkg-lists
drwxr-xr-x    2 root     root            40 Jan  1  1970 overlay
-rw-r--r--    1 root     root            32 Oct  3 12:05 resolv.conf
-rw-r--r--    1 root     root            98 Oct  3 12:05 resolv.conf.auto
drwxr-xr-x    5 root     root           420 Oct  3 12:05 run
drwxr-xr-x    2 root     root           100 Oct  3 12:05 state
drwxr-xr-x    3 root     root            60 Oct  3 12:05 tmp
drwxr-xr-x    3 root     root            60 Oct  3 12:21 usr</code></pre></div></blockquote></div><p>Install 3ginfo-text first...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213836">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						3 Oct 2013, 17:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vinca wrote:</cite><blockquote><div class="quotebox"><cite>obsy wrote:</cite><blockquote><div class="quotebox"><cite>vinca wrote:</cite><blockquote><p>Here <a href="https://dev.openwrt.org/ticket/12434">https://dev.openwrt.org/ticket/12434</a> is solution how to get operator name and signal strength in luci.</p><br /><p>Any help how to get connection type (3G or EDGE or HSDPA, ...)?</p></blockquote></div><p>Use at command, depends on vendor, like: &quot;AT+ZPAS? (ZTE) AT_OCTI?/&quot;AT_OWCTI? (option) etc. See my 3ginfo: <a href="https://github.com/obsy/packages/blob/master/3ginfo/files-text/usr/share/3ginfo/scripts/3ginfo.gcom">https://github.com/obsy/packages/blob/m … ginfo.gcom</a></p></blockquote></div><p>Modem vendor is huawei, I add &quot;AT\^SYSINFOEX&quot; and logread output is:<br /></p><div class="codebox"><pre><code> AT^SYSINFOEX^M^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: ^SYSINFOEX:2,3,0,1,,3,&quot;WCDMA&quot;,41,&quot;WCDMA&quot;^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: ^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: OK</code></pre></div><p>AT_OCTI?/&quot;AT_OWCTI? options failed.</p><p>How to get WCDMA now? WCDMA is not in gcom info -d /dev/ttyUSB1 output.<br />Thanks</p></blockquote></div><p>AT_OCTI?/&quot;AT_OWCTI? is for Option modem, not HUAWEI.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213837">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">vinca</div>
					<div class="post-datetime">
						3 Oct 2013, 18:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obsy wrote:</cite><blockquote><div class="quotebox"><cite>vinca wrote:</cite><blockquote><div class="quotebox"><cite>obsy wrote:</cite><blockquote><p>Use at command, depends on vendor, like: &quot;AT+ZPAS? (ZTE) AT_OCTI?/&quot;AT_OWCTI? (option) etc. See my 3ginfo: <a href="https://github.com/obsy/packages/blob/master/3ginfo/files-text/usr/share/3ginfo/scripts/3ginfo.gcom">https://github.com/obsy/packages/blob/m … ginfo.gcom</a></p></blockquote></div><p>Modem vendor is huawei, I add &quot;AT\^SYSINFOEX&quot; and logread output is:<br /></p><div class="codebox"><pre><code> AT^SYSINFOEX^M^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: ^SYSINFOEX:2,3,0,1,,3,&quot;WCDMA&quot;,41,&quot;WCDMA&quot;^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: ^M
Oct  3 13:56:19 openwrt local2.info chat[26722]: OK</code></pre></div><p>AT_OCTI?/&quot;AT_OWCTI? options failed.</p><p>How to get WCDMA now? WCDMA is not in gcom info -d /dev/ttyUSB1 output.<br />Thanks</p></blockquote></div><p>AT_OCTI?/&quot;AT_OWCTI? is for Option modem, not HUAWEI.</p></blockquote></div><p>ok. Thanks.<br />And how to get connection type (3g, hsdpa, edge, ...) now?</p>											<p class="post-edited">(Last edited by <strong>vinca</strong> on 4 Oct 2013, 12:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p214377">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">vinca</div>
					<div class="post-datetime">
						9 Oct 2013, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>I tested (for Huawei usb dongle) this 3g.gcom script (add to gcom)<br /></p><div class="codebox"><pre><code>opengt
 set com 115200n81
 set comecho off
 set senddelay 0.02
 waitquiet 0.2 0.2
 flash 0.1

:start
 send &quot;AT\^SYSINFOEX^m&quot;
 get 1 &quot;&quot; $s
 print $s

:continue
 exit 0</code></pre></div><p>call:&nbsp; luci.sys.exec(&quot;comgt -d /dev/ttyUSB1 -s /etc/gcom/3g.gcom | grep &#039;SYSINFOEX&#039; | grep -oE [^,]+$&quot;)</p><p>the output is (not always):<br /></p><div class="codebox"><pre><code>AT^SYS
^RSSI: 4
INFOEX
^SYSINFOEX:2,3,0,1,,3,&quot;WCDMA&quot;,41,&quot;WCDMA&quot;

OK

^RSSI: 5</code></pre></div><p>on web gui displayed: AT^SYSINFOEX &quot;WCDMA&quot;</p><p>How to edit 3g.gcom script to display WCDMA or EDGE or HSDPA (without quotes also)...</p>											<p class="post-edited">(Last edited by <strong>vinca</strong> on 9 Oct 2013, 15:43)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=40386&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>