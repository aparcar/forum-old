<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cisco Meraki MS220-8P</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p317641">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">UX12</div>
					<div class="post-datetime">
						1 Apr 2016, 06:48					</div>
				</div>
				<div class="post-content content">
					<p>Like many others, I&#039;ve managed to get my hands on both a Meraki MR18 and an MS220-8P through their webinar promo.<br />While I&#039;ve been able to follow the instructions to get the MR18 reflashed with OpenWrt (wonderful!), I haven&#039;t seen anything at all, even board photos of the MS220-8P.</p><p>While I know the <a href="https://meraki.cisco.com/products/switches/ms220-8">MS220-8P</a>isn&#039;t exactly a router or wireless access point that would normally be the target of openwrt, It seems like it would be a perfectly capable device.</p><p>I probed around and found some pins and filled through-hole solder pads that showed 3.3v on my multimeter (headers J6 and J3) but attaching my UART-USB adapter to them in any order would not produce any output...<br />Anybody have any ideas about where I can start?</p><p>I took mine apart and took some photos of the insides:</p><p><span class="postimg"><img src="http://i.imgur.com/aDIov84.jpg" alt="http://i.imgur.com/aDIov84.jpg" /></span><br /><span class="postimg"><img src="http://i.imgur.com/w39xyli.jpg" alt="http://i.imgur.com/w39xyli.jpg" /></span><br /><span class="postimg"><img src="http://i.imgur.com/Vtiy59Z.jpg" alt="http://i.imgur.com/Vtiy59Z.jpg" /></span><br /><span class="postimg"><img src="http://i.imgur.com/Xd3PwwL.jpg" alt="http://i.imgur.com/Xd3PwwL.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362635">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">casbm</div>
					<div class="post-datetime">
						27 Jul 2017, 04:59					</div>
				</div>
				<div class="post-content content">
					<p>J4 pinout - VCC, TX, RX, GND</p><p>Partial boot log:<br />[&nbsp; &nbsp; 0.000000] Linux version 2.6.32.63-meraki-elemental (jimroewe@jimroewe-linux) (gcc version 4.8.3 (GCC) ) #1 Thu Feb 12 14:24:31 PST 2015<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 02019654 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] Memory: 124900k/131008k available (2091k kernel code, 5960k reserved, 575k data, 1036k init, 0k highmem)</p><p>If you hold reset button while powering on it will boot to Vitesse command line interface with following commands availavle:<br />Command Groups:<br />---------------<br />System&nbsp; : System settings and reset options<br />IP&nbsp; &nbsp; &nbsp; : IP configuration and Ping<br />Port&nbsp; &nbsp; : Port management<br />MAC&nbsp; &nbsp; &nbsp;: MAC address table<br />VLAN&nbsp; &nbsp; : Virtual LAN<br />PVLAN&nbsp; &nbsp;: Private VLAN<br />Security: Security management<br />PoE&nbsp; &nbsp; &nbsp;: Power Over Ethernet<br />Firmware: Download of firmware via TFTP<br />Debug&nbsp; &nbsp;: Switch debug facilities</p><p>I changed IP address and I can ping my TFTP server but can&#039;t access files on TFTP in this mode.</p><p>More information about platform can be found at Microsemi web site - search for SMBStaX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363561">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						12 Aug 2017, 16:24					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been doing a little searching since I got my MS220-8P and I confirm its SMBStaX</p><p>it sure seems to match the hardware /CPU . </p><p>It seems I cant post links here so please google &quot;Vitesse linux sdk&quot;&nbsp; there is a compiler and full SDK available ;)</p><p>ill be adding a serial port later today or tomorrow and ill do some more digging around and come back with more information. I for one want to see OpenWRT or some open Linux on the Switch and get rid of the whole license issue</p><p>Here is a complete boot log: If it helps anyone ;)<br /></p><div class="codebox"><pre><code>=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2017.08.12 18:37:52 =~=~=~=~=~=~=~=~=~=~=~=
yYtÿpl1þÌüÿ³ÈîŸÜ[    0.000000] Linux version 2.6.32.63-meraki-elemental (jimroewe@jimroewe-linux) (gcc version 4.8.3 (GCC) ) #1 Thu Feb 12 14:24:31 PST 2015
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 02019654 (MIPS 24Kc)
[    0.000000] Determined physical RAM map:
[    0.000000] User-defined physical RAM map:
[    0.000000]  memory: 07ff0000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00007ff0
[    0.000000] Movable zone start PFN for each node
[    0.000000] early_node_map[1] active PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00007ff0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 32496
[    0.000000] Kernel command line: console=ttyS0,115200 mtdparts=m25p80:0x40000(loader1),0x3c0000(boot1),0x40000(loader2),0x3c0000(boot2),0x80000(rsvd),0x600000(bootubi),0x40000(conf),0x100000(stackconf),0x40000(syslog) ubi.mtd=bootubi ubi.mtd=gen_nand.0 mem=134152192
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=80016010
[    0.000000] Readback ErrCtl register=80016010
[    0.000000] Cache parity protection enabled
[    0.000000] Memory: 124900k/131008k available (2091k kernel code, 5960k reserved, 575k data, 1036k init, 0k highmem)
[    0.000000] Hierarchical RCU implementation.
[    0.000000] NR_IRQS:66
[    0.001000] Calibrating delay loop... 277.50 BogoMIPS (lpj=138752)
[    0.023000] Mount-cache hash table entries: 512
[    0.026000] devtmpfs: initialized
[    0.029000] NET: Registered protocol family 16
[    0.045000] bio: create slab &lt;bio-0&gt; at 0
[    0.049000] Switching to clocksource MIPS
[    0.056000] NET: Registered protocol family 2
[    0.060000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.068000] TCP established hash table entries: 4096 (order: 3, 32768 bytes)
[    0.075000] TCP bind hash table entries: 4096 (order: 2, 16384 bytes)
[    0.082000] TCP: Hash tables configured (established 4096 bind 4096)
[    0.088000] TCP reno registered
[    0.092000] NET: Registered protocol family 1
[    0.128000] VCORE-III Watchdog Timer enabled (30 seconds).  Prev boot was not caused by WDT reset.
[    0.141000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.147000] Registering unionfs 2.5.10 (for 2.6.32.46)
[    0.153000] msgmni has been set to 244
[    0.170000] io scheduler noop registered
[    0.174000] io scheduler deadline registered (default)
[    0.181000] Trying to register dev faulty etc
[    0.187000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
[    0.196000] serial8250.0: ttyS0 at MMIO 0x70100000 (irq = 14) is a 16550A
[    0.203000] console [ttyS0] enabled, bootconsole disabled
[    0.203000] console [ttyS0] enabled, bootconsole disabled
[    0.216000] m25p80 spi0.1: found mx25l12805d, expected m25p80
[    0.222000] m25p80 spi0.1: mx25l12805d (16384 Kbytes)
[    0.228000] 9 cmdlinepart partitions found on MTD device m25p80
[    0.234000] Creating 9 MTD partitions on &quot;m25p80&quot;:
[    0.238000] 0x000000000000-0x000000040000 : &quot;loader1&quot;
[    0.247000] 0x000000040000-0x000000400000 : &quot;boot1&quot;
[    0.256000] 0x000000400000-0x000000440000 : &quot;loader2&quot;
[    0.265000] 0x000000440000-0x000000800000 : &quot;boot2&quot;
[    0.274000] 0x000000800000-0x000000880000 : &quot;rsvd&quot;
[    0.283000] 0x000000880000-0x000000e80000 : &quot;bootubi&quot;
[    0.292000] 0x000000e80000-0x000000ec0000 : &quot;conf&quot;
[    0.301000] 0x000000ec0000-0x000000fc0000 : &quot;stackconf&quot;
[    0.311000] 0x000000fc0000-0x000001000000 : &quot;syslog&quot;
[    0.321000] ONFI flash detected
[    0.325000] ONFI param page 0 valid
[    0.328000] NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAWP)
[    0.342000] Scanning device for bad blocks
[    0.452000] UBI: attaching mtd5 to ubi0
[    0.457000] UBI: physical eraseblock size:   4096 bytes (4 KiB)
[    0.463000] UBI: logical eraseblock size:    3968 bytes
[    0.468000] UBI: smallest flash I/O unit:    1
[    0.472000] UBI: VID header offset:          64 (aligned 64)
[    0.478000] UBI: data offset:                128
[    1.418000] UBI: max. sequence number:       2
[    1.458000] UBI: attached mtd5 to ubi0
[    1.462000] UBI: MTD device name:            &quot;bootubi&quot;
[    1.467000] UBI: MTD device size:            6 MiB
[    1.472000] UBI: number of good PEBs:        1536
[    1.476000] UBI: number of bad PEBs:         0
[    1.481000] UBI: number of corrupted PEBs:   0
[    1.485000] UBI: max. allowed volumes:       23
[    1.490000] UBI: wear-leveling threshold:    4096
[    1.495000] UBI: number of internal volumes: 1
[    1.499000] UBI: number of user volumes:     0
[    1.504000] UBI: available PEBs:             1532
[    1.509000] UBI: total number of reserved PEBs: 4
[    1.513000] UBI: number of PEBs reserved for bad PEB handling: 0
[    1.519000] UBI: max/mean erase counter: 2/1
[    1.524000] UBI: image sequence number:  690195393
[    1.529000] UBI: background thread &quot;ubi_bgt0d&quot; started, PID 147
[    1.535000] UBI: attaching mtd9 to ubi1
[    1.539000] UBI: physical eraseblock size:   131072 bytes (128 KiB)
[    1.546000] UBI: logical eraseblock size:    129024 bytes
[    1.551000] UBI: smallest flash I/O unit:    2048
[    1.556000] UBI: sub-page size:              512
[    1.561000] UBI: VID header offset:          512 (aligned 512)
[    1.566000] UBI: data offset:                2048
[    2.313000] UBI: max. sequence number:       3514
[    2.352000] UBI: attached mtd9 to ubi1
[    2.356000] UBI: MTD device name:            &quot;gen_nand.0&quot;
[    2.361000] UBI: MTD device size:            128 MiB
[    2.366000] UBI: number of good PEBs:        1024
[    2.371000] UBI: number of bad PEBs:         0
[    2.376000] UBI: number of corrupted PEBs:   0
[    2.380000] UBI: max. allowed volumes:       128
[    2.385000] UBI: wear-leveling threshold:    4096
[    2.389000] UBI: number of internal volumes: 1
[    2.394000] UBI: number of user volumes:     12
[    2.399000] UBI: available PEBs:             407
[    2.403000] UBI: total number of reserved PEBs: 617
[    2.408000] UBI: number of PEBs reserved for bad PEB handling: 20
[    2.414000] UBI: max/mean erase counter: 7/4
[    2.419000] UBI: image sequence number:  1363641321
[    2.424000] UBI: background thread &quot;ubi_bgt1d&quot; started, PID 161
[    2.480000] tun: Universal TUN/TAP device driver, 1.6
[    2.485000] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
[    2.492000] i2c /dev entries driver
[    2.499000] TCP cubic registered
[    2.502000] NET: Registered protocol family 17
[    2.507000] 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
[    2.514000] All bugs added by David S. Miller &lt;davem@redhat.com&gt;
[    2.520000] Meraki MS220-8 board detected
[    2.527000] i2c-gpio i2c-gpio.1: using pins 6 (SDA) and 5 (SCL)
[    2.545000] devtmpfs: mounted
[    2.565000] Freeing unused kernel memory: 1036k freed
[    2.573000] Made it into bootsh: Feb 12 2015 14:22:47
[    2.579000] bootsh build T-155655-g6cbd92d7-jimroewe
grep meraki-board-config /proc/misc | awk &#039;{print $1}&#039;
[    3.558000] Algorithmics/MIPS FPU Emulator v1.5
[    3.790000] UBIFS: mounted UBI device 1, volume 4, name &quot;storage&quot;
[    3.796000] UBIFS: file system size:   7354368 bytes (7182 KiB, 7 MiB, 57 LEBs)
[    3.804000] UBIFS: journal size:       1032193 bytes (1008 KiB, 0 MiB, 6 LEBs)
[    3.811000] UBIFS: media format:       w4/r0 (latest is w4/r0)
[    3.817000] UBIFS: default compressor: lzo
[    3.821000] UBIFS: reserved for root:  347364 bytes (339 KiB)
[    3.882000] Mapping 21028864 bytes for /dev/mtdblock/part1
[   11.037000] Ehdr.e_entry = 803527d0 Ehdr.e_phoff = 34
[   11.042000] Phdr.p_offset = 2000 phdr.p_vaddr=80100000 phdr.p_filesz=e67dbc phdr.p_memsz=e82248
[   11.385000] UBIFS: un-mount UBI device 1, volume 4
[   11.393000] Starting new kernel
[   11.396000] Will call new kernel at 803527d0
[   11.396000] Bye ...
[    0.000000] Linux version 2.6.32.63-meraki-elemental (jenkins@dal247.meraki.com) (gcc version 4.8.3 (GCC) ) #2 Wed Sep 21 11:19:59 PDT 2016
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 02019654 (MIPS 24Kc)
[    0.000000] Determined physical RAM map:
[    0.000000] User-defined physical RAM map:
[    0.000000]  memory: 07ff0000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00007ff0
[    0.000000] Movable zone start PFN for each node
[    0.000000] early_node_map[1] active PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00007ff0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 32496
[    0.000000] Kernel command line: console=ttyS0,115200 mtdparts=m25p80:0x40000(loader1),0x3c0000(boot1),0x40000(loader2),0x3c0000(boot2),0x80000(rsvd),0x600000(bootubi),0x40000(conf),0x100000(stackconf),0x40000(syslog) ubi.mtd=bootubi ubi.mtd=gen_nand.0 mem=134152192
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=80016010
[    0.000000] Readback ErrCtl register=80016010
[    0.000000] Cache parity protection enabled
[    0.000000] Memory: 113820k/131008k available (2419k kernel code, 17012k reserved, 629k data, 11700k init, 0k highmem)
[    0.000000] SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] NR_IRQS:66
[    0.001000] Calibrating delay loop... 277.50 BogoMIPS (lpj=138752)
[    0.023000] Mount-cache hash table entries: 512
[    0.026000] devtmpfs: initialized
[    0.029000] NET: Registered protocol family 16
[    0.046000] bio: create slab &lt;bio-0&gt; at 0
[    0.052000] Switching to clocksource MIPS
[    0.059000] NET: Registered protocol family 2
[    0.064000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.071000] TCP established hash table entries: 4096 (order: 3, 32768 bytes)
[    0.079000] TCP bind hash table entries: 4096 (order: 2, 16384 bytes)
[    0.085000] TCP: Hash tables configured (established 4096 bind 4096)
[    0.091000] TCP reno registered
[    0.095000] NET: Registered protocol family 1
[    3.811000] Algorithmics/MIPS FPU Emulator v1.5
[    3.849000] VCORE-III Watchdog Timer enabled (30 seconds).  Prev boot was not caused by WDT reset.
[    4.622000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    4.628000] Registering unionfs 2.5.10 (for 2.6.32.46)
[    4.750000] msgmni has been set to 222
[    4.807000] io scheduler noop registered
[    4.811000] io scheduler deadline registered (default)
[    4.819000] Trying to register dev faulty etc
[    4.837000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
[    4.879000] serial8250.0: ttyS0 at MMIO 0x70100000 (irq = 14) is a 16550A
[    4.885000] console [ttyS0] enabled, bootconsole disabled
[    4.885000] console [ttyS0] enabled, bootconsole disabled
[    4.980000] m25p80 spi0.1: found mx25l12805d, expected m25p80
[    4.986000] m25p80 spi0.1: mx25l12805d (16384 Kbytes)
[    4.991000] 9 cmdlinepart partitions found on MTD device m25p80
[    4.997000] Creating 9 MTD partitions on &quot;m25p80&quot;:
[    5.002000] 0x000000000000-0x000000040000 : &quot;loader1&quot;
[    5.073000] 0x000000040000-0x000000400000 : &quot;boot1&quot;
[    5.115000] 0x000000400000-0x000000440000 : &quot;loader2&quot;
[    5.180000] 0x000000440000-0x000000800000 : &quot;boot2&quot;
[    5.246000] 0x000000800000-0x000000880000 : &quot;rsvd&quot;
[    5.312000] 0x000000880000-0x000000e80000 : &quot;bootubi&quot;
[    5.386000] 0x000000e80000-0x000000ec0000 : &quot;conf&quot;
[    5.455000] 0x000000ec0000-0x000000fc0000 : &quot;stackconf&quot;
[    5.527000] 0x000000fc0000-0x000001000000 : &quot;syslog&quot;
[    5.614000] ONFI flash detected
[    5.617000] ONFI param page 0 valid
[    5.621000] NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAWP)
[    5.634000] Scanning device for bad blocks
[    5.845000] UBI: attaching mtd5 to ubi0
[    5.866000] UBI: physical eraseblock size:   4096 bytes (4 KiB)
[    5.872000] UBI: logical eraseblock size:    3968 bytes
[    5.877000] UBI: smallest flash I/O unit:    1
[    5.882000] UBI: VID header offset:          64 (aligned 64)
[    5.887000] UBI: data offset:                128
[    6.875000] UBI: max. sequence number:       2
[    6.918000] UBI: attached mtd5 to ubi0
[    6.922000] UBI: MTD device name:            &quot;bootubi&quot;
[    6.927000] UBI: MTD device size:            6 MiB
[    6.932000] UBI: number of good PEBs:        1536
[    6.936000] UBI: number of bad PEBs:         0
[    6.941000] UBI: number of corrupted PEBs:   0
[    6.945000] UBI: max. allowed volumes:       23
[    6.950000] UBI: wear-leveling threshold:    4096
[    6.955000] UBI: number of internal volumes: 1
[    6.959000] UBI: number of user volumes:     0
[    6.964000] UBI: available PEBs:             1532
[    6.968000] UBI: total number of reserved PEBs: 4
[    6.973000] UBI: number of PEBs reserved for bad PEB handling: 0
[    6.979000] UBI: max/mean erase counter: 2/1
[    6.983000] UBI: image sequence number:  690195393
[    6.988000] UBI: background thread &quot;ubi_bgt0d&quot; started, PID 319
[    7.006000] UBI: attaching mtd9 to ubi1
[    7.010000] UBI: physical eraseblock size:   131072 bytes (128 KiB)
[    7.017000] UBI: logical eraseblock size:    129024 bytes
[    7.022000] UBI: smallest flash I/O unit:    2048
[    7.027000] UBI: sub-page size:              512
[    7.032000] UBI: VID header offset:          512 (aligned 512)
[    7.038000] UBI: data offset:                2048
[    7.778000] UBI: max. sequence number:       3515
[    7.913000] UBI: attached mtd9 to ubi1
[    7.917000] UBI: MTD device name:            &quot;gen_nand.0&quot;
[    7.922000] UBI: MTD device size:            128 MiB
[    7.927000] UBI: number of good PEBs:        1024
[    7.932000] UBI: number of bad PEBs:         0
[    7.936000] UBI: number of corrupted PEBs:   0
[    7.941000] UBI: max. allowed volumes:       128
[    7.945000] UBI: wear-leveling threshold:    4096
[    7.950000] UBI: number of internal volumes: 1
[    7.955000] UBI: number of user volumes:     12
[    7.959000] UBI: available PEBs:             407
[    7.964000] UBI: total number of reserved PEBs: 617
[    7.969000] UBI: number of PEBs reserved for bad PEB handling: 20
[    7.975000] UBI: max/mean erase counter: 7/4
[    7.979000] UBI: image sequence number:  1363641321
[    7.985000] UBI: background thread &quot;ubi_bgt1d&quot; started, PID 339
[    8.774000] tun: Universal TUN/TAP device driver, 1.6
[    8.779000] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
[    8.869000] i2c /dev entries driver
[    8.996000] TCP cubic registered
[    9.000000] Initializing XFRM netlink socket
[    9.122000] NET: Registered protocol family 10
[    9.128000] NET: Registered protocol family 17
[    9.133000] NET: Registered protocol family 15
[    9.138000] 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
[    9.145000] All bugs added by David S. Miller &lt;davem@redhat.com&gt;
[    9.151000] Meraki MS220-8 board detected
[    9.270000] i2c-gpio i2c-gpio.1: using pins 6 (SDA) and 5 (SCL)
[    9.341000] devtmpfs: mounted
[    9.541000] Freeing unused kernel memory: 11700k freed

[    9.615000] Made it into bootsh: Sep 21 2016 11:18:02
[    9.621000] bootsh build switch-8-201609211018-G74893c4b-j
[    9.627000] mount_bootpartition: mounting bootroot: No such file or directory
grep meraki-board-config /proc/misc | awk &#039;{print $1}&#039;
[    9.661000] unmount_bootpartition: unmounting bootroot: No such file or directory
[    9.959000] UBIFS: mounted UBI device 1, volume 4, name &quot;storage&quot;
[    9.965000] UBIFS: file system size:   7354368 bytes (7182 KiB, 7 MiB, 57 LEBs)
[    9.973000] UBIFS: journal size:       1032193 bytes (1008 KiB, 0 MiB, 6 LEBs)
[    9.980000] UBIFS: media format:       w4/r0 (latest is w4/r0)
[    9.986000] UBIFS: default compressor: lzo
[    9.990000] UBIFS: reserved for root:  347364 bytes (339 KiB)
In manufacturing: FALSE
In manufacturing: FALSE
[   10.029000] 
init started: BusyBox v1.24.1 (2016-09-21 10:57:25 PDT)
WARNING! THIS CONSOLE IS LOGGED! UNAUTHORIZED ACCESS FORBIDDEN!
&lt;Meraki&gt; [   10.642000] sysctl: error: &#039;vm.extfrag_threshold&#039; is an unknown key
[   10.802000] sh: write error: Device or resource busy
[   11.801000] switch: &#039;Meraki MS220-8&#039; board detected
[   12.405000] sysctl -w vm.panic_on_oom=2
[   12.425000] vm.panic_on_oom = 2
[   19.407000] click: starting router thread pid 686 (857aa600)
[   27.728000] Single synchronous check for reset
[   28.140000] pd690xx 1-0030: device found
[   28.158000] poe: pd690xx as /class/poe/poe0
[   29.374000] pd690xx 1-0030: Controller 0 boot finished
[   29.489000] 
[   29.528000] boot 8 build switch-8-201609211018-G74893c4b-j board elemental mac 0C:8D:DB:7F:FC:35
[   29.556000] Module: vtss_core  .text=0xc1492000 .data=0xc1520210 .bss=0xc1520460
[   29.556000] Module: proclikefs  .text=0xc10fd000 .data= .bss=0xc10fdfa0
[   29.556000] Module: merakiclick  .text=0xc18c4000 .data=0xc19eebf0 .bss=0xc19eee40
[   29.556000] Module: elts_meraki  .text=0xc1eab000 .data=0xc208c7b0 .bss=0xc208cfb0
[   29.556000] Module: pd690xx_poe  .text=0xc21d2000 .data=0xc21d4300 .bss=
[   29.556000] Module: vc_click  .text=0xc2243000 .data=0xc2273340 .bss=0xc2273490
[   29.768000] phram: phram-oops device: 0x10000 at 0x7ff0000
[   31.564000] 
[   31.564000] !!!!! {/usr/bin/switch_brain} opening /click/switch_port_table/dump_stack_info_and_reset_stack_change failed: No such file or directory
[   33.819000] chatter: from_sw0 :: FromVitesse: initializing fdma
[   35.493000] chatter: big_acl :: BigACL: skipping undersized restore buffer (buf size: 0)
&lt;Meraki&gt; help
UNRECOGNIZED COMMAND LOGGED TO CLOUD SERVERS.


IT was not plugged into the network so lets see if this is really logged. I think this is the most interesting part of the boot.log that I can see

[    9.270000] i2c-gpio i2c-gpio.1: using pins 6 (SDA) and 5 (SCL)


To get the console to boot to a console I had to press reset and CTRL+C  

Available Commands:

System Configuration [all | (port &lt;port_list&gt;)]
System Version
System Name [&lt;name&gt;]
System Contact [&lt;contact&gt;]
System Location [&lt;location&gt;]
System Timezone [&lt;offset&gt;]
System Reboot
System Restore Default [keep_ip]
System Load
System&gt;System Configuration all


Invalid command
System&gt;System Configuration 


Invalid command
System&gt;cver


Invalid command
System&gt;version


Version      : SMBStaX (standalone) dev-build by tanks@soft201 2015-08-28T23:43:56+08:00 Config:config.mk
Build Date   : 2015-08-28T23:43:56+08:00
System&gt;?/


Invalid command
System&gt;/


&gt;?


General Commands:
-----------------
Help/?: Get help on a group or a specific command
Up    : Move one command level up
Logout: Exit CLI

Command Groups:
---------------
System  : System settings and reset options
IP      : IP configuration and Ping
Port    : Port management
MAC     : MAC address table
VLAN    : Virtual LAN
PVLAN   : Private VLAN
Security: Security management
PoE     : Power Over Ethernet
Firmware: Download of firmware via TFTP
Debug   : Switch debug facilities

Type &#039;&lt;group&gt;&#039; to enter command group, e.g. &#039;port&#039;.
Type &#039;&lt;group&gt; ?&#039; to get list of group commands, e.g. &#039;port ?&#039;.
Type &#039;&lt;command&gt; ?&#039; to get help on a command, e.g. &#039;port mode ?&#039;.
Commands may be abbreviated, e.g. &#039;por co&#039; instead of &#039;port configuration&#039;.
&gt;firmware


Type &#039;up&#039; to move up one level or &#039;/&#039; to go to root level
Firmware&gt;?


Available Commands:

Firmware Load &lt;ip_addr_string&gt; &lt;file_name&gt;
Firmware NetLoad &lt;url&gt;
Firmware Information
Firmware Swap
Firmware&gt;/


&gt;debug


Type &#039;up&#039; to move up one level or &#039;/&#039; to go to root level
Debug&gt;?


Available Commands:

Debug PoE Backup_Supply [&lt;supply_power&gt;]
Debug API [&lt;layer&gt;] [&lt;group&gt;] [&lt;port_list&gt;] [full]
Debug APVLAN [&lt;port&gt;] [&lt;port_list&gt;]
Debug Assert &lt;appl|os|except&gt;
Debug Board [&lt;mac_addr&gt;] [&lt;board_id&gt;] [&lt;board_type&gt;]
Debug Chip [&lt;chip_no&gt;]
Debug Configuration Blocks [clear]
Debug Configuration Flash [enable|disable]
Debug Configuration Stack [enable|disable]
Debug Critd List [&lt;module&gt;] [detailed]
Debug Critd MaxLock [&lt;module&gt;] [clear]
Debug Firmware Bootloader &lt;ip_addr&gt; &lt;file_name&gt;
Debug Firmware CheckSame [enable|disable]
Debug Firmware Load &lt;flash_name&gt; &lt;ip_addr&gt; &lt;file_name&gt;
Debug Firmware NetLoad &lt;flash_name&gt; &lt;url&gt;
Debug Firmware Pause [&lt;integer&gt;]
Debug Frame TPID [&lt;etype&gt;]
Debug Frame Tx &lt;port_none_list&gt; [&lt;packet_length&gt;] [&lt;dmac&gt;] [&lt;smac&gt;] [&lt;vid&gt;] [&lt;etype&gt;]
Debug Frame TxCnt [&lt;tx_cnt&gt;]
Debug Heap
Debug I2C_Read &lt;i2c_addr&gt; &lt;i2c_bytes&gt;
Debug I2C_Scan_rd
Debug I2C_Write &lt;i2c_addr&gt; &lt;i2c_data&gt; [&lt;i2c_data&gt;] [&lt;i2c_data&gt;] [&lt;i2c_data&gt;] [&lt;i2c_data&gt;] [&lt;i2c_data&gt;] [&lt;i2c_data&gt;] 
Debug Init &lt;integer&gt; [&lt;integer&gt;] [&lt;integer&gt;]
Debug Interrupt_Source_Hook &lt;int_source&gt; [enable|disable]
Debug IP KMem
Debug IP Log [&lt;value&gt;]
debug IP Route
Debug IP Sockets
Debug IPMC Add &lt;vid&gt; &lt;sip&gt; &lt;dip&gt; &lt;port_list&gt; [ipv6]
Debug IPMC Delete &lt;vid&gt; &lt;sip&gt; &lt;dip&gt; [ipv6]
Debug IRQ [clear]
Debug LED Usid [&lt;sid&gt;]
Debug MAC Del &lt;mac_addr&gt; &lt;integer&gt; [&lt;vid&gt;]
Debug MAC Dump [&lt;mac_max&gt;] [&lt;mac_addr&gt;] [&lt;vid&gt;]
Debug MAC Eat &lt;mac_addr&gt; &lt;port_list&gt; &lt;integer&gt; [&lt;vid&gt;]
Debug MAC stack dump
Debug MAC Voladd &lt;mac_addr&gt; &lt;port_cpu_list&gt; [&lt;vid&gt;]
Debug MAC Voldel &lt;mac_addr&gt;
Debug MAC Voleat &lt;mac_addr&gt; &lt;port_list&gt; &lt;integer&gt; [&lt;vid&gt;]
Debug Memory Dump &lt;addr&gt; [&lt;item_cnt&gt;] [&lt;item_size&gt;]
Debug Memory Fill &lt;addr&gt; &lt;fill_val&gt; [&lt;item_cnt&gt;] [&lt;item_size&gt;]
Debug memtest [&lt;size&gt;] [&lt;cnt&gt;]
Debug Msg [&lt;integer&gt;] [&lt;integer&gt;] [&lt;integer&gt;]
          [&lt;integer&gt;] [&lt;integer&gt;] [&lt;integer&gt;]
Debug Packet Statistics [&lt;integer&gt;] [&lt;integer&gt;] [&lt;integer&gt;]
                        [&lt;integer&gt;] [&lt;integer&gt;] [&lt;integer&gt;]
Debug Packet Throttle [&lt;xtr_qu&gt;] [&lt;max_frms_per_sec&gt;]
Debug PHY auto-neg config &lt;port&gt; [enable|disable] [&lt;master&gt;]
Debug PHY Clock Config &lt;port&gt; &lt;clock&gt; [serdes|copper|tclk|xtal|disable] [25m|125m|3125m] [&lt;squelch&gt;]
Debug PHY do_page_chk [enable|disable]
Debug PHY i2c_rd &lt;port_list&gt; &lt;i2c_mux&gt; &lt;i2c_device_addr&gt; &lt;i2c_reg_addr&gt;
Debug PHY i2c_wr &lt;port_list&gt; &lt;i2c_mux&gt; &lt;i2c_device_addr&gt; &lt;i2c_reg_addr&gt; &lt;i2c_data&gt;
Debug PHY ib_cterm &lt;port_list&gt; &lt;ib_cterm_value&gt; &lt;ib_eq_mode&gt;
Debug PHY instance [default|phy_inst]
Debug PHY Loopback [&lt;port_list&gt;] [far|near] [enable|disable]
Debug PHY MMD_Read &lt;port_list&gt; &lt;devad&gt; &lt;mmd_reg_addr&gt; [binary|decimal]
Debug PHY MMD_Write &lt;port_list&gt; &lt;devad&gt; &lt;mmd_reg_addr&gt; &lt;value&gt;
Debug PHY ob_post0 &lt;port_list&gt; &lt;value&gt;
Debug PHY patch_settings_get &lt;port_list&gt;
Debug PHY Read &lt;port_list&gt; &lt;addr_list&gt; [&lt;page&gt;] [binary|decimal]
Debug PHY Statistic [&lt;port_list&gt;]
Debug PHY Write &lt;port_list&gt; &lt;addr_list&gt; &lt;value&gt; [&lt;page&gt;]
Debug PoE Cap_Detection [enable|disable]
Debug PoE Firmware Load &lt;ip_addr_string&gt; &lt;file_name&gt;
Debug PoE Reg_Rd &lt;port_list&gt; &lt;addr&gt;
Debug PoE Reg_Wr &lt;port_list&gt; &lt;addr&gt; &lt;data&gt;
Debug PoE status
Debug Port Advertise [&lt;port_list&gt;] [10hdx|10fdx|100hdx|100fdx|1000fdx] [enable|disable]
Debug Port Capabilities [&lt;port_list&gt;] [up|down]
Debug Port Change [&lt;port_list&gt;] [up|down] [clear]
Debug Port Configuration [&lt;port_list&gt;] [up|down]
Debug Port Group [&lt;port_list&gt;] [&lt;group_no&gt;]
Debug Port Info
Debug Port NPI &lt;port&gt; &lt;cpu_qmask&gt; [enable|disable]
Debug Port Registrations [clear]
Debug Port Statistics [&lt;port_list&gt;] [&lt;command&gt;] [up|down]
Debug Port Tags [&lt;port_list&gt;] [none|one|two] [up|down]
Debug Power I2C_Read &lt;i2c_addr&gt; &lt;cmd_code&gt; [&lt;i2c_bytes&gt;] [&lt;cnt&gt;]
Debug Power I2C_Test [&lt;cnt&gt;]
Debug Power I2C_Write &lt;i2c_addr&gt; &lt;cmd_code&gt; &lt;i2c_data&gt; [&lt;i2c_data&gt;]
Debug Prio [&lt;thread_id&gt;] [&lt;thread_prio&gt;]
Debug Prompt &lt;prompt&gt;
Debug Register Read &lt;tgt_list&gt; &lt;addr_list&gt; [binary|decimal]
Debug Register Write &lt;tgt_list&gt; &lt;addr_list&gt; &lt;value&gt;
Debug Resume
Debug Ser_rd
Debug Ser_wr [&lt;serial_data&gt;] [&lt;serial_data&gt;] [&lt;serial_data&gt;] [&lt;serial_data&gt;]
Debug SFP_rd &lt;i2c_addr&gt; &lt;i2c_bytes&gt; &lt;i2c_clk_sel&gt; &lt;sfp_reg_addr&gt; [&lt;sfp_reg_addr&gt;] 
Debug SFP_rd_phy [&lt;port_list&gt;] [&lt;i2c_addr&gt;]
Debug Suspend
Debug Sym Read &lt;reg_syntax&gt; [binary|decimal]
Debug Sym Write &lt;reg_syntax&gt; &lt;value&gt;
Debug System Reboot [cold|cool]
Debug Thread [backtrace] [enable|disable]
Debug Time [&lt;date_time&gt;]
Debug Trace Configuration [write|read|erase]
Debug Trace Global Level [none|error|warning|info|debug|noise|racket]
Debug Trace Module Level [&lt;trace_module&gt;] [&lt;trace_group&gt;] [none|error|warning|info|debug|noise|racket]
Debug Trace Module Port_trace [&lt;port_list&gt;] [enable|disable]
Debug Trace Module RingBuffer [&lt;trace_module&gt;] [&lt;trace_group&gt;] [enable|disable|yes|no]
Debug Trace Module Timestamp [&lt;trace_module&gt;] [&lt;trace_group&gt;] [enable|disable|yes|no]
Debug Trace Module Usec [&lt;trace_module&gt;] [&lt;trace_group&gt;] [enable|disable|yes|no]
Debug Trace Reverse
Debug Trace RingBuffer Flush
Debug Trace RingBuffer Print
Debug Trace RingBuffer Start
Debug Trace RingBuffer Stop
Debug Trace Thread Level [&lt;thread_id&gt;] [none|error|warning|info|debug|noise|racket]
Debug Trace Thread Stackuse [&lt;thread_id&gt;] [enable|disable|yes|no]
Debug VLAN Add &lt;vid&gt; [&lt;ports_list&gt;] [static]
Debug VLAN Conf [&lt;port_list&gt;]
Debug VLAN Delete &lt;vid&gt; [static]
Debug VLAN Empty
Debug VLAN Etype
Debug VLAN Fillup &lt;vid&gt;
Debug VLAN Lookup
Debug Wait &lt;integer&gt;
Debug&gt;/


&gt;?


General Commands:
-----------------
Help/?: Get help on a group or a specific command
Up    : Move one command level up
Logout: Exit CLI

Command Groups:
---------------
System  : System settings and reset options
IP      : IP configuration and Ping
Port    : Port management
MAC     : MAC address table
VLAN    : Virtual LAN
PVLAN   : Private VLAN
Security: Security management
PoE     : Power Over Ethernet
Firmware: Download of firmware via TFTP
Debug   : Switch debug facilities

Type &#039;&lt;group&gt;&#039; to enter command group, e.g. &#039;port&#039;.
Type &#039;&lt;group&gt; ?&#039; to get list of group commands, e.g. &#039;port ?&#039;.
Type &#039;&lt;command&gt; ?&#039; to get help on a command, e.g. &#039;port mode ?&#039;.
Commands may be abbreviated, e.g. &#039;por co&#039; instead of &#039;port configuration&#039;.
&gt;ip


Type &#039;up&#039; to move up one level or &#039;/&#039; to go to root level
IP&gt;?


Available Commands:

IP Address &lt;vlan&gt; &lt;ip_ifaddr&gt;
IP Address Delete &lt;vlan&gt; &lt;ip_ifaddr&gt;
IP Configuration
IP DHCP &lt;vlan&gt; [enable|disable]
IP Interface add &lt;vlan_list&gt;
IP Interface delete [&lt;vlan_list&gt;]
IP Interface list [&lt;vlan_list&gt;]
IP Mode [host|router]
IP Neighbour Clear
IP Neighbour List
IP Ping &lt;ip_target&gt; [(Length &lt;ping_length&gt;)] [(Count &lt;ping_count&gt;)] [(Interval &lt;ping_interval&gt;)]
IP Route Add &lt;ip_net&gt; &lt;ip_gateway&gt;
IP Route Delete &lt;ip_net&gt; &lt;ip_gateway&gt;
IP Route List
IP&gt;route list


127.0.0.1/32 via OS:lo:127.0.0.1 &lt;UP HOST&gt;
224.0.0.0/4 via OS:lo:127.0.0.1 &lt;UP&gt;
::1/128 via OS:lo:::1 &lt;UP HOST&gt;
fe80:1::/128 via OS:lo:fe80:1::1 &lt;UP&gt;
fe80:1::1/128 via OS:lo &lt;UP HOST&gt;
fe80:2::/128 via VLAN1 &lt;UP&gt;
fe80:2::201:c1ff:fe00:0/128 via OS:lo:1:c100:: &lt;UP HOST&gt;
ff01:1::/128 via OS:lo:::1 &lt;UP&gt;
ff01:2::/128 via VLAN1 &lt;UP&gt;
ff02:1::/128 via OS:lo:::1 &lt;UP&gt;
ff02:2::/128 via VLAN1 &lt;UP&gt;
IP&gt;/


&gt;?


General Commands:
-----------------
Help/?: Get help on a group or a specific command
Up    : Move one command level up
Logout: Exit CLI

Command Groups:
---------------
System  : System settings and reset options
IP      : IP configuration and Ping
Port    : Port management
MAC     : MAC address table
VLAN    : Virtual LAN
PVLAN   : Private VLAN
Security: Security management
PoE     : Power Over Ethernet
Firmware: Download of firmware via TFTP
Debug   : Switch debug facilities

Type &#039;&lt;group&gt;&#039; to enter command group, e.g. &#039;port&#039;.
Type &#039;&lt;group&gt; ?&#039; to get list of group commands, e.g. &#039;port ?&#039;.
Type &#039;&lt;command&gt; ?&#039; to get help on a command, e.g. &#039;port mode ?&#039;.
Commands may be abbreviated, e.g. &#039;por co&#039; instead of &#039;port configuration&#039;.
&gt;potrt


Invalid command
&gt;port


Type &#039;up&#039; to move up one level or &#039;/&#039; to go to root level
Port&gt;?


Available Commands:

Port Configuration [&lt;port_list&gt;] [up|down]
Port Mode [&lt;port_list&gt;] [auto|10hdx|10fdx|100hdx|100fdx|1000fdx|sfp_auto_ams]
Port Flow Control [&lt;port_list&gt;] [enable|disable]
Port State [&lt;port_list&gt;] [enable|disable]
Port MaxFrame [&lt;port_list&gt;] [&lt;max_frame&gt;]
Port Excessive [&lt;port_list&gt;] [discard|restart]
Port Statistics [&lt;port_list&gt;] [&lt;command&gt;] [up|down]
Port VeriPHY [&lt;port_list&gt;]
Port SFP [&lt;port_list&gt;]
Port&gt;/


&gt;system


Type &#039;up&#039; to move up one level or &#039;/&#039; to go to root level
System&gt;?


Available Commands:

System Configuration [all | (port &lt;port_list&gt;)]
System Version
System Name [&lt;name&gt;]
System Contact [&lt;contact&gt;]
System Location [&lt;location&gt;]
System Timezone [&lt;offset&gt;]
System Reboot
System Restore Default [keep_ip]
System Load
System&gt;load


Load average(100ms, 1s, 10s):   0%,   0%,   0%
System&gt;/


&gt;system


Type &#039;up&#039; to move up one level or &#039;/&#039; to go to root level
System&gt;?


Available Commands:</code></pre></div>											<p class="post-edited">(Last edited by <strong>akadata</strong> on 16 Aug 2017, 15:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363586">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						12 Aug 2017, 22:06					</div>
				</div>
				<div class="post-content content">
					<p>After playing some more the debug interface seems to provide some useful information, </p><p>I hope this is useful to someone else?<br /></p><div class="codebox"><pre><code> 
Debug&gt;Assert os


Generating OS assertion...
ASSERT FAIL: &lt;A&gt;misc_cli.c[1491]misc_cli_assert() Artificial OS assertion


eCos assertion:../../vtss_appl/misc/misc_cli.c:1491: Artificial OS assertion, version Version      : SMBStaX (standalone) dev-build by tanks@soft201 2015-08-28T23:43:56+08:00 Config:config.mk


Build Date   : 2015-08-28T23:43:56+08:00


Warning: Return addresses are highly unreliable (code seems to be compiled with -O2)


ID  State SetPrio CurPrio Name                   1sec Load 10sec Load Stack Base Size  Used 


--- ----- ------- ------- ---------------------- --------- ---------- ---------- ----- -----


DSR N/A       N/A     N/A DSR Context                  N/A        N/A        N/A   N/A   N/A


  2 Sleep       6       6 Network alarm support        N/A        N/A 0x80528678  4096  1676


#0  0x80135244


#1  0x80136444


#2  0x801465ec


#3  0x80130f34


#4  0x80130f08


  3 Sleep       7       7 Network support              N/A        N/A 0x803d6184  8192   380


#0  0x80135244


#1  0x8013674c


#2  0x801448dc


#3  0x80130f34


#4  0x80130f08


  4 Susp       15      15 pthread.00000800             N/A        N/A 0x80530264  7828   576


#0  0x80135244


#1  0x801317e4


#2  0x801a2d4c


#3  0x801a2cd8


#4  0x801a119c


#5  0x801a14f8


#6  0x80130f34


#7  0x80130f08


  5 Sleep       7       7 Main                         N/A        N/A 0x8036a558 16384   400


#0  0x80135244


#1  0x8013674c


#2  0x800816f4


#3  0x80080824


#4  0x80130f34


#5  0x80130f08


  6 Sleep       7       7 Critd                        N/A        N/A 0x8036f648  8192   600


#0  0x80135244


#1  0x80131a90


#2  0x80085174


#3  0x80130f34


#4  0x80130f08


  7 Sleep       8       8 Configuration                N/A        N/A 0x802b8b60  8192   880


#0  0x80135244


#1  0x80136444


#2  0x8004e228


#3  0x8004d420


#4  0x80130f34


#5  0x80130f08


  8 Sleep       7       7 Port Control                 N/A        N/A 0x80393150 32768  2492


#0  0x80135244


#1  0x80136444


#2  0x800b383c


#3  0x800ae134


#4  0x80130f34


#5  0x80130f08


  9 Sleep       4       4 INTERRUPT THREAD             N/A        N/A 0x80269a00  8192   464


#0  0x80135244


#1  0x80136444


#2  0x800448d0


#3  0x80130f34


#4  0x80130f08


 10 Run         7       7 CLI Serial                   N/A        N/A 0x8026cc80 40960 10152


#0  0x80135244


#1  0x80135244


#2  0x8012de94


#3  0x8012e3e0


#4  0x8012de94


#5  0x8012e3e0


#6  0x80141168


#7  0x8012dea8


#8  0x8012e8d0


#9  0x800400cc


#10 0x8012e918


#11 0x80044e54


#12 0x80044e54


#13 0x8012e8d0


#14 0x80046018


#15 0x8012e918


#16 0x80080e9c


#17 0x80081f60


#18 0x80088280


#19 0x8004a070


#20 0x801339b8


#21 0x80040570


#22 0x80123bc4


#23 0x80134ed8


#24 0x80134ed0


#25 0x80137bb8


#26 0x80123d10


#27 0x80124c80


#28 0x8012714c


#29 0x80135244


#30 0x80135244


#31 0x801339b8


#32 0x80040570


#33 0x8013d388


#34 0x801339b8


#35 0x80123bc4


#36 0x801301b4


#37 0x80134e94


#38 0x80134ed8


#39 0x80134ed0


#40 0x80124bac


#41 0x801271ec


#42 0x80124c00


#43 0x80137bb8


#44 0x80123d10


#45 0x80124c80


#46 0x80120a0d


#47 0x80124c80


#48 0x8012714c


#49 0x801a0e8c


#50 0x8019ee3c


#51 0x8012714c


#52 0x8019ee3c


#53 0x80085dd8


#54 0x8004a4a8


#55 0x80045c90


#56 0x80130f34


#57 0x80130f08


 11 Sleep       7       7 Telnet CLI Main              N/A        N/A 0x80277020  8192   584


#0  0x80135244


#1  0x80136444


#2  0x8019f6a0


#3  0x8004c280


#4  0x80130f34


#5  0x80130f08


 12 Sleep       7       7 LED                          N/A        N/A 0x802686b8  4096   832


#0  0x80135244


#1  0x80136444


#2  0x80043984


#3  0x80130f34


#4  0x80130f08


 13 Sleep       6       6 Packet TX Pending            N/A        N/A 0x80383a98  8192   776


#0  0x80135244


#1  0x80137dd0


#2  0x800931c0


#3  0x80130f34


#4  0x80130f08


 14 Sleep       6       6 Packet TX Done               N/A        N/A 0x803818f8  8192   624


#0  0x80135244


#1  0x8013674c


#2  0x80096028


#3  0x80130f34


#4  0x80130f08


 15 Sleep       7       7 Packet RX                    N/A        N/A 0x80385bb8 16384  1072


#0  0x80135244


#1  0x8013674c


#2  0x80093bf8


#3  0x80130f34


#4  0x80130f08


 16 Sleep       7       7 DhcpClient                   N/A        N/A 0x802c2e74  8192   340


#0  0x80135244


#1  0x8013674c


#2  0x80050300


#3  0x80130f34


#4  0x80130f08


 17 Sleep       5       5 IP2.driver                   N/A        N/A 0x80302890  8192   672


#0  0x80135244


#1  0x8013674c


#2  0x80065488


#3  0x80130f34


#4  0x80130f08


 18 Sleep       7       7 IP2.monitor                  N/A        N/A 0x802fd760  8192  1288


#0  0x80135244


#1  0x8013674c


#2  0x80061d98


#3  0x80130f34


#4  0x80130f08


 19 Sleep       7       7 IP2.main                     N/A        N/A 0x80362e58  8192  2800


#0  0x80135244


#1  0x80136444


#2  0x8006cf88


#3  0x80130f34


#4  0x80130f08


 20 Sleep       7       7 Mac Age Control              N/A        N/A 0x80365340  8192   328


#0  0x80135244


#1  0x8013674c


#2  0x8007e700


#3  0x80130f34


#4  0x80130f08


 21 Sleep       7       7 Firmware                     N/A        N/A 0x802c5268 16384   352


#0  0x80135244


#1  0x80136afc


#2  0x800599dc


#3  0x80059a94


#4  0x80130f34


#5  0x80130f08


 22 Sleep       7       7 Init Modules                 N/A        N/A 0x80378ad0 16384  3260


#0  0x80135244


#1  0x8013674c


#2  0x8008e284


#3  0x80130f34


#4  0x80130f08


 23 Sleep       7       7 Message TX                   N/A        N/A 0x803728a0  8192   664


#0  0x80135244


#1  0x80136444


#2  0x8008def4


#3  0x80130f34


#4  0x80130f08


 24 Sleep       7       7 Message RX                   N/A        N/A 0x803749b8 16384  1056


#0  0x80135244


#1  0x8013674c


#2  0x8008d580


#3  0x80130f34


#4  0x80130f08


 25 Sleep       7       7 Message Test                 N/A        N/A 0x8037cc28  8192   280


#0  0x80135244


#1  0x8013674c


#2  0x8009259c


#3  0x80130f34


#4  0x80130f08


 26 Sleep       7       7 POE                          N/A        N/A 0x8038abc8 32768  3264


#0  0x80135244


#1  0x80131a90


#2  0x8009e528


#3  0x80130f34


#4  0x80130f08


  1 Run        31      31 Idle Thread                  N/A        N/A 0x803d5368  2048   904


#0  0x80135244


#1  0x801339fc


#2  0x80040570


#3  0x801236f8


#4  0x80130dfc


#5  0x80130df4


#6  0x80135244


#7  0x80135244


#8  0x80135054


#9  0x80135790


#10 0x80130f34


#11 0x80130f08


#12 0x80081060


 28 Sleep       7       7 RUBYTECH POST                N/A        N/A 0x8039f5c8 16384  2156


#0  0x80135244


#1  0x80131a90


#2  0x800b9d4c


#3  0x800b8574


#4  0x80130f34


#5  0x80130f08


 29 Susp        7       7 marquee                      N/A        N/A 0x803a36e0  8192   240


#0  0x80130f08

LinuxLoader built Nov 12 2014 18:01:50
init_pll ok
init_spi ok
init_memctl ok
wait_memctl ok
Training DRAM ok
init_irq ok
init_dram_uncached ok
init_icache ok
init_dcache ok
enable_caches ok
init_board ok
Low level initialization complete, exiting boot mode</code></pre></div>											<p class="post-edited">(Last edited by <strong>akadata</strong> on 16 Aug 2017, 15:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363634">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						13 Aug 2017, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>The image below shows the back of J3, </p><div class="codebox"><pre><code>&lt;img src=&#039;//imgur.com/a/v4LY&#039;&gt;</code></pre></div><p>Tested and I do not think its USB but its interesting with the resistors there</p>											<p class="post-edited">(Last edited by <strong>akadata</strong> on 16 Aug 2017, 15:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363832">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						16 Aug 2017, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve found it, and Guess what it uses OpenWRT Already</p><div class="codebox"><pre><code>dl.meraki.net/linux/licenses/license-MS.html#openwrt</code></pre></div><p>Time to write an email and maybe get charged $15 for obtaining the source code.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364539">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						29 Aug 2017, 15:50					</div>
				</div>
				<div class="post-content content">
					<p>Cisco replied today with the source code + patches of the MS220-8P</p><p>dl.meraki.net/switch-8-10-20170825.tar.bz2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364730">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">UX12</div>
					<div class="post-datetime">
						1 Sep 2017, 11:58					</div>
				</div>
				<div class="post-content content">
					<p>Nice investigation akadata!</p><p>I wonder what kind of work is needed... I&#039;d imagine that just having sources doesn&#039;t make things magically easy to get working. Wish I was a programmer and knew how this stuff works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365125">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Wonderbread24</div>
					<div class="post-datetime">
						9 Sep 2017, 00:40					</div>
				</div>
				<div class="post-content content">
					<p>My MS220-8P is expiring on 9/11. I am open and willing to be a guinea pig for testing if this gets any traction.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365144">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						9 Sep 2017, 18:05					</div>
				</div>
				<div class="post-content content">
					<p>The email reply I got from meraki is below and has the information needed to get started. <br />I&#039;ve found a few issues and missing Cisco code they didnt share but it&#039;s a starting point</p><div class="quotebox"><blockquote><p>Hi Andrew – I forwarded your question to the engineering team that prepared the tarball. This was the response:</p><p>He needs to <strong>copy openwrt/config-elemental to openwrt/.config, touch openwrt/.config.cmd</strong>, and type make in that directory. I figured this out by reading the error messages from openwrt. Since openwrt is ubiquitous, I would expect this to be debugable by the average engineer. If he means something else by broken, he would need to have more detail. Some of the software we use in the product is BSD licensed, some proprietary, and that is not included in this tarball. </p><p>Hopefully that helps. They also said that other requesters have made use of the tarball without issue, so they believe it should build in a publicly available build environment.</p><p>If you still have trouble, you’d have to provide me more specific information about what is not building to take back to the team. Please note though, as the engineer mentions above, the final product image wouldn’t be buildable from that tarball because it includes proprietary code and other open source code not subject to disclosure (e.g., BSD, MIT, Apache, etc). However, the parts like openwrt and the linux kernel should build based on what’s provided.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365163">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">scieinfo</div>
					<div class="post-datetime">
						10 Sep 2017, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>Nice work !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365182">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						10 Sep 2017, 18:11					</div>
				</div>
				<div class="post-content content">
					<p>A little more research and this github repo may be helpful</p><p><a href="https://github.com/vtss">https://github.com/vtss</a></p><p>It seems to have lots of Vitess support and a Kernel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365188">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						10 Sep 2017, 22:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Wonderbread24 wrote:</cite><blockquote><p>My MS220-8P is expiring on 9/11. I am open and willing to be a guinea pig for testing if this gets any traction.</p></blockquote></div><p>Assuming you are Linux friendly have a raspberry pi or other &quot;spi&quot; interface the ms220-8p has what looks like an spi expander. </p><p>I&#039;m&nbsp; putting off&nbsp; finding the correct pins to use on the jtag interface or other connector to left of serial which seems like the most likely option. Another thing I was wondering? What happens when the POE Power supply is unplugged inside? As the switch has 2 Power Supplys one has to be the POE One, Im thinking on the back left. Does it still function with this disconnected as it sure will save a few Watts and ££ if we dont want POE</p><p>You can use flashrom on the rpi to backup the existing flash and then we can all start playing with other firmware knowing we cant brick the switch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366307">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">gangaskan</div>
					<div class="post-datetime">
						5 Oct 2017, 17:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>akadata wrote:</cite><blockquote><div class="quotebox"><cite>Wonderbread24 wrote:</cite><blockquote><p>My MS220-8P is expiring on 9/11. I am open and willing to be a guinea pig for testing if this gets any traction.</p></blockquote></div><p>Assuming you are Linux friendly have a raspberry pi or other &quot;spi&quot; interface the ms220-8p has what looks like an spi expander. </p><p>I&#039;m&nbsp; putting off&nbsp; finding the correct pins to use on the jtag interface or other connector to left of serial which seems like the most likely option. Another thing I was wondering? What happens when the POE Power supply is unplugged inside? As the switch has 2 Power Supplys one has to be the POE One, Im thinking on the back left. Does it still function with this disconnected as it sure will save a few Watts and ££ if we dont want POE</p><p>You can use flashrom on the rpi to backup the existing flash and then we can all start playing with other firmware knowing we cant brick the switch.</p></blockquote></div><br /><p>lmk what you need hooked up, i have one expiring on the 21&#039;st of oct.&nbsp; i have a rasp, just dont know how to wire up spi and never dumped a rom, but i&#039;m more then capable of trying.&nbsp; i know my way around linux, just never used flashrom.&nbsp; </p><br /><p>just let me know what pins go to the pi and some general flashrom and i&#039;ll get that for you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p367998">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">akadata</div>
					<div class="post-datetime">
						9 Nov 2017, 01:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gangaskan wrote:</cite><blockquote><div class="quotebox"><cite>akadata wrote:</cite><blockquote><div class="quotebox"><cite>Wonderbread24 wrote:</cite><blockquote><p>My MS220-8P is expiring on 9/11. I am open and willing to be a guinea pig for testing if this gets any traction.</p></blockquote></div><p>Assuming you are Linux friendly have a raspberry pi or other &quot;spi&quot; interface the ms220-8p has what looks like an spi expander. </p><p>I&#039;m&nbsp; putting off&nbsp; finding the correct pins to use on the jtag interface or other connector to left of serial which seems like the most likely option. Another thing I was wondering? What happens when the POE Power supply is unplugged inside? As the switch has 2 Power Supplys one has to be the POE One, Im thinking on the back left. Does it still function with this disconnected as it sure will save a few Watts and ££ if we dont want POE</p><p>You can use flashrom on the rpi to backup the existing flash and then we can all start playing with other firmware knowing we cant brick the switch.</p></blockquote></div><br /><p>lmk what you need hooked up, i have one expiring on the 21&#039;st of oct.&nbsp; i have a rasp, just dont know how to wire up spi and never dumped a rom, but i&#039;m more then capable of trying.&nbsp; i know my way around linux, just never used flashrom.&nbsp; </p><br /><p>just let me know what pins go to the pi and some general flashrom and i&#039;ll get that for you.</p></blockquote></div><br /><p>I&#039;ve not managed nor had time to find the SPI pins yet. however PM me and ill send a link to make your RPI + 8 pin SOIC chip do flashrom on a SPI chip,, sadly the MS220-8p has a SPI multiplexer</p><p>Once we get SPI connectivity, its a simple job of backup the ROM, mount the filesystem and extract the bits we are missing <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>akadata</strong> on 9 Nov 2017, 01:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368797">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">jhendrickson</div>
					<div class="post-datetime">
						25 Nov 2017, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>akadata how are you accessing the debug console?&nbsp; When I press reset on the MS220-8P and hold ctrl-c, the switch just reboots normally.</p><p>I have verified my uart is communicating with the switch properly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369120">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">gangaskan</div>
					<div class="post-datetime">
						1 Dec 2017, 21:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>akadata wrote:</cite><blockquote><div class="quotebox"><cite>gangaskan wrote:</cite><blockquote><div class="quotebox"><cite>akadata wrote:</cite><blockquote><p>Assuming you are Linux friendly have a raspberry pi or other &quot;spi&quot; interface the ms220-8p has what looks like an spi expander. </p><p>I&#039;m&nbsp; putting off&nbsp; finding the correct pins to use on the jtag interface or other connector to left of serial which seems like the most likely option. Another thing I was wondering? What happens when the POE Power supply is unplugged inside? As the switch has 2 Power Supplys one has to be the POE One, Im thinking on the back left. Does it still function with this disconnected as it sure will save a few Watts and ££ if we dont want POE</p><p>You can use flashrom on the rpi to backup the existing flash and then we can all start playing with other firmware knowing we cant brick the switch.</p></blockquote></div><br /><p>lmk what you need hooked up, i have one expiring on the 21&#039;st of oct.&nbsp; i have a rasp, just dont know how to wire up spi and never dumped a rom, but i&#039;m more then capable of trying.&nbsp; i know my way around linux, just never used flashrom.&nbsp; </p><br /><p>just let me know what pins go to the pi and some general flashrom and i&#039;ll get that for you.</p></blockquote></div><br /><p>I&#039;ve not managed nor had time to find the SPI pins yet. however PM me and ill send a link to make your RPI + 8 pin SOIC chip do flashrom on a SPI chip,, sadly the MS220-8p has a SPI multiplexer</p><p>Once we get SPI connectivity, its a simple job of backup the ROM, mount the filesystem and extract the bits we are missing <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><br /><p>wont let me PM You <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370459">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">wcarterjr68</div>
					<div class="post-datetime">
						4 Jan 2018, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>I am very interested in this.&nbsp; I would love to get a couple of these and flash them.&nbsp; I need at least 1 or 2 more.&nbsp; Please let me know about this project.<br />RC</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>