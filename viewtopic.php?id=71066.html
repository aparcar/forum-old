<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> cable router + OpenWrt + vpn</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p359235">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						28 May 2017, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>Greetings,</p><p>I am not so networking advanced. I am connected to the internet through a cable router(tv cable <br /> / coaxial). Router: Netgear C6250EMR</p><p>2 questions please:</p><p>1. I would like to set the vpn directly on the main primary cable router, if this is really not possible the bridge mode would be the last option. </p><p>Do you consider it could be possible if I will contact my ISP, they could help me with one of the next 2 options?</p><p>a) Modify at least for me(or for all their routers) the firmware of the actual router so it will appear in it&#039;s menu the option to set the vpn directly on it by openvpn protocol or IKEv2/IPsec ?</p><p>b) If first option is not possible, it would be possible after I will buy a cable router which support OpenWrt, they will tell me what lines to be added/changed/removed in the OpenWrt firmware in order to work directly connected to their network?</p><p>2. If non of the above from point 1 is not possible, could I download the actual firmware from my router and look into it and try to config the firmware of another cable router which has the vpn feature, in order to use the new router directly connected to the internet?</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359252">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						29 May 2017, 00:18					</div>
				</div>
				<div class="post-content content">
					<p><strong>xdpin</strong>, do you want VPN-server or VPN-client on your router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359253">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						29 May 2017, 00:24					</div>
				</div>
				<div class="post-content content">
					<p>I think the correct answer is vpn client, I only want all the devices connected to the router to go online through the vpn...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359254">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						29 May 2017, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>OK, it is trivial task. You can follow <a href="https://airvpn.org/topic/20303-airvpn-configuration-on-openwrt-preventing-traffic-leakage-outside-tunnel/">my guide about AirVPN</a>, making necessary modifications.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359255">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						29 May 2017, 00:49					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much ulmwind.</p><p>I&#039;ve searched online, but with no success...</p><p>Tell me please, does it exist on the market(Europe), a decent even a second hand CABLE wifi router + minimum 2 Ethernet slots, for around 50 $ which supports OpenWrt?</p><p>Or I can proceed with your guide even on my Netgear C6250EMR</p><p>Tell me please can I fallow your guide also on Ubuntu ?</p><p>Also instead of AirVpn is it possible to use your guide for NordVpn?</p><p>Thank you.</p>											<p class="post-edited">(Last edited by <strong>xdpin</strong> on 29 May 2017, 01:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359260">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						29 May 2017, 01:24					</div>
				</div>
				<div class="post-content content">
					<p>Excuse me please, I can&#039;t find any cable routers which support OpenWrt even around 100$? Have I &quot;been doing&nbsp; something wrong&quot; ?</p>											<p class="post-edited">(Last edited by <strong>xdpin</strong> on 29 May 2017, 01:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359266">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						29 May 2017, 01:45					</div>
				</div>
				<div class="post-content content">
					<p>Coud this be a good option for my needs please?<br />Actiontec MI424WR - supports OpenWrt.</p><p>Could openvpn be set on it, and also the wireless devices will go online though the set openvpn?</p><p>Any other alternatives please?</p><p>Should I also ask the ISP if this router will work with OpenWrt firmware, directed connected at their network ?</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359280">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">3ndymion</div>
					<div class="post-datetime">
						29 May 2017, 07:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xdpin wrote:</cite><blockquote><p>Coud this be a good option for my needs please?<br />Actiontec MI424WR - supports OpenWrt.</p><p>Could openvpn be set on it, and also the wireless devices will go online though the set openvpn?</p><p>Any other alternatives please?</p><p>Should I also ask the ISP if this router will work with OpenWrt firmware, directed connected at their network ?</p><p>Thank you.</p></blockquote></div><p>Hi.&nbsp; Perhaps you should consider a slightly different method.&nbsp; It would probably be better to get another cheap old router &amp; flash OpenWrt on it, &amp; plug that into your main cable router.&nbsp; That way, you can do whatever you want on your own cheap router, &amp; don&#039;t even have to worry about making difficult, or impossible, changes on your main cable router.&nbsp; I don&#039;t know how it is in other parts of the world, but here in the US, ISPs are the physical embodiment of pure evil &amp; greed.&nbsp; Asking them such questions is not even an option.</p><p>You can go into the firewall options on your main cable router &amp; put your own cheap router into the DMZ zone, so that way your cheap router is not being blocked by the main cable router&#039;s firewall.&nbsp; Your cheap router will be fully exposed to the internet, but that&#039;s OK because OpenWrt has its own firewall rules to protect your router, which are probably better than the settings in any ISP cable router anyway.</p><p>So yeah, get your own cheap router, flash OpenWrt onto it, plug it in to your main cable router, &amp; put it in the DMZ zone so that it is not blocked by the cable router&#039;s firewall.&nbsp; With that, you can have all of your devices connected to your cheap router, &amp; you can set up your cheap router to connect to whatever VPN you want.</p><p>Oh, a couple of good routers you could get would be D-Link Dir 825 ver. B1, or Netgear WNDR3700, or Netgear WNDR3800.&nbsp; I think these are some of the best cheap old routers you can get because they have the fastest CPU of all the cheap old routers (680 MHz).&nbsp; Yup.&nbsp; Blazing fast.&nbsp; XD&nbsp; Well, it&#039;s much better than others which run at 200 - 400 MHz anyway.&nbsp; These routers can be found on sites like ebay for about $30 USD.&nbsp; Personally, I have D-Link DIR825 ver. B1, &amp; I&#039;ve been using it with OpenWrt for years now.&nbsp; It works great.</p><p>There is now a new generation of routers that have dual core CPUs running at 1GHz or more, but they are very expensive.&nbsp; Most likely, they are still not supported by OpenWrt anyway.</p><p>Unfortunately, as you probably already noticed, setting things up can be very difficult.&nbsp; Working with OpenWrt requires a LOT of knowledge.&nbsp; You will need to spend a LOT of time learning things, &amp; especially, there are not many easy to follow guides concerning OpenWrt &amp; VPN.&nbsp; I think that using your own router instead of trying to mess with the ISP&#039;s cable router is the best way to go, especially if there are other people in your home who depend on it.&nbsp; By using your own router, you can take things 1 step at a time, &amp; mess things up without having too much to worry about.</p><p>Well, I hope this helps, even just a little bit.&nbsp; Good luck my friend!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359326">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						29 May 2017, 16:52					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much 3ndymion for your time, and all the excellent detailed answer.</p><p>I believe your method maybe has more than 90% advantages then disadvantages.</p><p>Only some questions regarding the disadvantages please... (sorry I only read some things written by others)</p><p>1. This variant is called bridge mode?<br />2. Is it possible in this situation to appear double NAT?<br />3. The speed is only 10/10, could it appear some fluctuations, or even very slow speeds because using this method, instead of using only one router?<br />4. Tell me please could it appear any other disadvantages using this method?<br />5. Do you think it could be technical possible that the people from the ISP to ask the vendor of the routers <br />if they could tell what settings I should add/change/remove on a OpenWrt cable router to use it directly connected to the ISP?<br />6. Do you think it could be technical possible that the people from the ISP to ask the vendor of the routers to sell them some other models of routers, or this same model, but to add in their menu the Openvpn feature, so I could use it directly.</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359335">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">3ndymion</div>
					<div class="post-datetime">
						29 May 2017, 19:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xdpin wrote:</cite><blockquote><p>Thank you very much 3ndymion for your time, and all the excellent detailed answer.</p><p>I believe your method maybe has more than 90% advantages then disadvantages.</p><p>Only some questions regarding the disadvantages please... (sorry I only read some things written by others)</p><p>1. This variant is called bridge mode?<br />2. Is it possible in this situation to appear double NAT?<br />3. The speed is only 10/10, could it appear some fluctuations, or even very slow speeds because using this method, instead of using only one router?<br />4. Tell me please could it appear any other disadvantages using this method?<br />5. Do you think it could be technical possible that the people from the ISP to ask the vendor of the routers <br />if they could tell what settings I should add/change/remove on a OpenWrt cable router to use it directly connected to the ISP?<br />6. Do you think it could be technical possible that the people from the ISP to ask the vendor of the routers to sell them some other models of routers, or this same model, but to add in their menu the Openvpn feature, so I could use it directly.</p><p>Thank you.</p></blockquote></div><p>I&#039;m not too sure about bridge mode, but I do not think this is it.&nbsp; This is definitely a double NAT setup.&nbsp; I have seen many complaints about double NAT, but it is working fine for me.&nbsp; It does not slow down speeds at all.&nbsp; I get download speeds of over 5MB/s (40Mb/s), &amp; upload speeds almost the same.&nbsp; I think the most important thing about this is to have your router in the DMZ zone, that way it is not behind the ISP router&#039;s firewall, &amp; you do not have to worry about any port forwarding.</p><p>Perhaps the best way to explain it is to give my own setup as an example.&nbsp; In my case, we have the ISP router (Actiontec MI424WR) as the main router.&nbsp; Everyone&#039;s computers &amp; devices are connected to it, by wire &amp; wirelessly.&nbsp; But for myself, I have my D-Link DIR-825 router connected to it, just like everyone else&#039;s devices.&nbsp; All of my own devices connect to my D-Link router.&nbsp; They are in their own little network, &amp; they all connect to the internet just fine.</p><p>Actiontec Network: 192.168.1.XXX<br />D-Link Network (double NAT): 192.168.3.XXX</p><p>I have OpenWrt flashed onto my D-Link router, &amp; I have an OpenVPN server running on the router.&nbsp; I do not want my D-Link router behind the firewall of the main Actiontec router.&nbsp; I think that might make things difficult because then I would have to start forwarding ports &amp; stuff.&nbsp; So, I log into the Actiontec router, go to the ip address settings, &amp; give my D-Link router a static address.&nbsp; Example: 192.168.1.20&nbsp; That way, whenever I connect my router to the Actiontec, it will always get the same ip address of 192.168.1.20.</p><p>Now that my D-Link router gets a static ip address from the Actiontec, I go into the firewall settings of the Actiontec router &amp; put the ip address 192.168.1.20 into the DMZ zone.&nbsp; That way, my D-Link router will always be in the DMZ zone.&nbsp; It is fully exposed to the internet, &amp; is not being blocked by the Actiontec&#039;s firewall.&nbsp; Anything that comes to our home&#039;s external ip address will hit my D-Link router 1st, which is what I want.</p><p>And speaking of that, I also need to set up a dynamic DNS for my home&#039;s external ip address.&nbsp; When I&#039;m away from home &amp; want to reach my router from the outside world, I need to know the external ip address that my router can be reached at.&nbsp; Since the ISP often changes the external ip address for whatever reason, it is best to have a dynamic DNS setup so that I can use that DNS to call home to my router.&nbsp; The dynamic DNS will always know the external ip address for your home.&nbsp; There are different free services that can be used for this, such as noip.com, or duckdns.org.</p><p>In my case, I use noip.com for a dynamic DNS.&nbsp; The Actiontec router actually has a setting for noip.com built in.&nbsp; I&#039;ll choose a name I can remember, for example, my-awesome-router.ddns.net.&nbsp; So now that I set it up, I can connect to my-awesome-router.ddns.net whenever I&#039;m away from home, &amp; I will reach my router.&nbsp; OpenWrt&#039;s firewall protects my router, but I leave port 1194 open because the OpenVPN server can protect that port just like the firewall can.</p><p>This is how I use my setup, &amp; it works perfect.&nbsp; I still have not tried using the router to connect to an actual paid-for VPN service like what you want to do, so I cannot really speak much on that.&nbsp; But, with a setup like mine, I do not think it would be too much trouble.&nbsp; I highly doubt that any ISP would be willing to help with something like this in any way whatsoever.&nbsp; I think the only option is to do it yourself, which is why we are all here.</p><p>It took me years to learn all this stuff in my little spare time.&nbsp; I am not a professional, so if anybody who is more knowledgeable than me sees this, please feel free to chime in.&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359342">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						29 May 2017, 20:11					</div>
				</div>
				<div class="post-content content">
					<p><strong>xdpin</strong>, there is also <a href="https://nordvpn.com/ru/tutorials/openwrt/openvpn/">my guide for NordVPN</a>. Setting in Ubuntu is trivial, you can find lots of manuals. If you encounter difficulties, please, let me know.<br />You can buy cheapest router for 15$ Nexx <a href="https://aliexpress.com/item/Wifi-Router-NEXX-WT3020H-300Mbps-Portable-Mini-Router-802-11-b-g-nwifi-Repeater-Wifi-Bridge/32740552501.html">WT3020H</a> or WT3020F, and test OpenWRT with VPN-client on it.</p>											<p class="post-edited">(Last edited by <strong>ulmwind</strong> on 29 May 2017, 20:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359444">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">xdpin</div>
					<div class="post-datetime">
						30 May 2017, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much for your replays.</p><p>I would like the bridge mode, DMZ, double NAT to be the last solutions please...</p><p>Tell me please, it would be technically possible that the ISP will give me the settings to modify the OpenWrt firmware of the CABLE ROUTER which I will buy(support OpenWrt), in order to work directly connected to their network?</p><p>It would be technically possible that the ISP to ask the vendor of their routers to provide them some CABLE ROUTERS which also has OpenVPN feature? </p><p>Could the ISP ask the manufacturer of Netgear C6250EMR firmware to change the actual firmware of the router and add the OpenVPN feature?</p><p>Thank you.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>