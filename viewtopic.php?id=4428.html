<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wrK54g : Is it possible ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p20734">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">yield</div>
					<div class="post-datetime">
						12 Feb 2006, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>I have a wrK54 at home. that linksys device was in sale with a Laptop wifi card and I am asking my self.... is the wrK is the asme as the wrT ?<br />Did they only changed the name because it came in bundle or it is really a dirrerent model ?</p>											<p class="post-edited">(Last edited by <strong>yield</strong> on 12 Feb 2006, 18:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64724">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">dt1024</div>
					<div class="post-datetime">
						6 Mar 2008, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>I too am curious, I opened one up and found:</p><p> - an Atheros Chipset: AR2137 AC1A or 4R2317 AC1A (it was kind of hard to read);</p><p> - MX25L1605AMC-15G Flash memory ( 2MB&nbsp; according to <a href="http://www.semiconductorstore.com/pdf/Macronix/Serial16A.pdf">http://www.semiconductorstore.com/pdf/M â€¦ ial16A.pdf</a> and <a href="http://www.dinshang.com/PDF/MXIC/MX25L1605Aver14.pdf">www.dinshang.com/PDF/MXIC/MX25L1605Aver14.pdf</a> );</p><p> - as well as hynix RAM 64MB part no HY5/V641620ETP-H</p><p>From the specs it looks like it *could* be possible, I&#039;m a little scared to brick one just to find out though.&nbsp; Can anyone else verify these specs or their compatibility?</p><p>EDIT:&nbsp; box says it is a Version 3</p>											<p class="post-edited">(Last edited by <strong>dt1024</strong> on 7 Mar 2008, 19:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64734">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Arch13</div>
					<div class="post-datetime">
						7 Mar 2008, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Per <a href="http://hardware.mcse.ms/message14506.html">http://hardware.mcse.ms/message14506.html</a></p><div class="quotebox"><blockquote><p>When dealing with the Linksys WRK54G you need to refer to it as a<br />WPC54G. This is the part number of the kit that the WRK54G came in.<br />This IS in the RMA model list. This is also the case when downloading<br />firmware for it. It so happens that the firmware is the same as the<br />WRT54G even though some people say it is different, when you download<br />the f/w for the WRK54G you get the file for the WRT54G.</p></blockquote></div><p>So we already know it&#039;s a Marvell sub-produced chipset per that thread...Perhaps the MX Flash memory is via Co-Branding?<br />I do not know much else. Google the hell out of it. If you are not using it, you may as well brick it. Linksys models have functional reset buttons under both Kamikaze and White Russian...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64767">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dt1024</div>
					<div class="post-datetime">
						7 Mar 2008, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the quick reply.</p><p>- Don&#039;t know about the WPC54G, that comes up as a pcmcia card (which is included in the package).<br />- My package says WK-P-C-54G (dashes for clarity) which Linksys does not recognize as a valid part number.<br />- I can look up info and firmware, but no firmware yet exists for the version 3.<br />- and I&#039;ve scaled the circuit board but can&#039;t find anything about Marvell, only Atheros CPU/controller, Macronix Flash, Hynix RAM, and Infineon switch<br />... Decided to try to brick it anyway, but I also can&#039;t figure out how to get the new firmware loaded onto it...or even brick it (tried tftp, web if, Linksys tftp, dhcp w/ tftpd, hoping I don&#039;t have to start soldering), however that&#039;s an issue I&#039;ll take to the Kamikaze forum.<br />Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65916">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dt1024</div>
					<div class="post-datetime">
						28 Mar 2008, 21:13					</div>
				</div>
				<div class="post-content content">
					<p>I managed to get a serial console on it using an old Siemens phone cable (pl2303) 9600-8-N-1.</p><p>Here the info I was able to dump:</p><div class="codebox"><pre><code>ar531xPlus rev 0x00000090 firmware startup...

SDRAM NOT TEST

Cannot write a correct value(0xA320) on reg 0x11=0xE320

WRK54G version 4.1.2.56SP4

 1

ttached TCP/IP interface to ae0.                                                
                                                                                
Attaching to TFFS...                                                            
                                                                     
/fl/  - Volume is OK                                                            
                                                                                
[Boot]:                                                                         
                                                                                
[Boot]: nvram show                                                              
                                                                                
Network interface vram unknown.                                                 
                                                                                
Cannot initialize interface named &quot;vram0&quot;                                       
                                                                                
[Boot]: show                                                                    
                                                                                
Unrecognized command. Type &#039;?&#039; for help.                                        
                                                                                
[Boot]: ?                                                                                                                                                       
                                                                                
 ?                     - print this list                                        
                                                                                
 @                     - boot (load and go)                                     
                                                                                
 p                     - print boot params                                      
                                                                                
 c                     - change boot params                                     
                                                                                
 e                     - print fatal exception                                  
                                                                                
 v                     - print version                                          
                                                                                
 B                     - change board data                                      
                                                                                
 E                     - erase board data                                       
                                                                                
 F                     - quick format on the file system                        
                                                                                
 L                     - low level format on file system                        
                                                                                
 C                     - clean up Radio&#039;s EEPROM configuration                  
                                                                                
 O                     - save Radio&#039;s EEPROM configuration to file              
                                                                                
 T                     - restore Radio&#039;s EEPROM configuration from file         
                                                                                
 S                     - show board data                                        
                                                                                
 n netif               - print network interface device address                 
                                                                                
 $dev(0,procnum)host:/file h=# e=# b=# g=# u=usr [pw=passwd] f=#                
                                                                                
                           tn=targetname s=script o=other                       
                                                                                
 boot device: tffs=drive,removable     file name: /tffs0/vxWorks                
                                                                                
 Boot flags:                                                                    
                                                                                
   0x02  - load local system symbols                                            
                                                                                
   0x04  - don&#039;t autoboot                                                       
                                                                                
   0x08  - quick autoboot (no countdown)                                        
                                                                                
   0x20  - disable login security                                               
                                                                                
   0x40  - use bootp to get boot parameters                                     
                                                                                
   0x80  - use tftp to get boot image                                           
                                                                                
   0x100 - use proxy arp                                                        
                                                                                                                                                                
available boot devices:Enhanced Network Devices                                 
                                                                                
 ae0 ae1 tffs                                                                   
                                                                                
[Boot]: p                                                                                                                                                       
                                                                                
boot device          : tffs:                                                    
                                                                                
unit number          : 0                                                        
                                                                                
processor number     : 0                                                        
                                                                                
file name            : /fl/ap61.sys                                             
                                                                                
inet on ethernet (e) : 192.168.1.20:ffffff00                                    
                                                                                
host inet (h)        : 192.168.1.100                                            
                                                                                
flags (f)            : 0x8                                                      
                                                                                
startup script (s)   : factory                                                  
                                                                                
other (o)            : ae                                                       
                                                                                                                                                                
[Boot]: ?

 ?                     - print this list

 @                     - boot (load and go)

 p                     - print boot params

 c                     - change boot params

 e                     - print fatal exception

 v                     - print version

 B                     - change board data

 E                     - erase board data

 F                     - quick format on the file system

 L                     - low level format on file system

 C                     - clean up Radio&#039;s EEPROM configuration

 O                     - save Radio&#039;s EEPROM configuration to file

 T                     - restore Radio&#039;s EEPROM configuration from file

 S                     - show board data

 n netif               - print network interface device address

 $dev(0,procnum)host:/file h=# e=# b=# g=# u=usr [pw=passwd] f=# 

                           tn=targetname s=script o=other 

 boot device: tffs=drive,removable     file name: /tffs0/vxWorks 

 Boot flags:           

   0x02  - load local system symbols 

   0x04  - don&#039;t autoboot 

   0x08  - quick autoboot (no countdown) 

   0x20  - disable login security 

   0x40  - use bootp to get boot parameters 

   0x80  - use tftp to get boot image 

   0x100 - use proxy arp 

available boot devices:Enhanced Network Devices

 ae0 ae1 tffs

[Boot]: s

Unrecognized command. Type &#039;?&#039; for help.

[Boot]: S

name:     Atheros AR2317 default

magic:    35333131

cksum:    6f9c

rev:      6

major:    1

minor:    0

pciid:    0013

wlan0:    yes 00:18:f8:77:e6:9c

wlan1:    no  00:03:7f:fe:00:02

enet0:    yes 00:18:f8:77:e6:9b

enet1:    no  00:18:f8:77:e6:9a

localbus: no  ff:ff:ff:ff:ff:ff

PCI:      no  ff:ff:ff:ff:ff:ff

uart0:    yes

sysled:   yes, gpio 7

factory:  yes, gpio 6

serclk:   internal

cpufreq:  calculated 184000000 Hz

sysfreq:  calculated 92000000 Hz

memcap:   disabled

watchdg:  enabled

vxWorks_Ver = 0

vxWorksB_Ver = 0 

boot_Ver = 01000003 

upgradeFlag = 255

[Boot]: @

Attaching to TFFS... done.

Loading /fl/ap61.sys...931952

Starting at 0x80480684...

/fl/  - Volume is OK 

Cannot write a correct value(0xA320) on reg 0x11=0xE320

Attaching interface lo0...done

Ready unit=0

 ********** Disable sysWatchdog ***************

 ++++++++++++ IP attach interface ++++++++++  

 Start Initial MEM Drv size:0x1fe00

Copy OK: 28187 bytes copied

FlshFormatFileSystem: Invalid Filesys ID -1

 vxBitsInit 

!!!!!!!!!!!!!!Find Interface mirror0 

!!!!!!!!!!!!!!Find Interface ae1 

WAN Initialisation                                 [SUCCESS]

PPPoE Initialised

 PPTP Initialised

 L2TP Initialization success FW initalized

 ** before calling dhcpc http register function ** 

TFstandard_tftp_server launched on port TPD:Initializa69tinion ok .........

.......

IGWIpRsmInit():  ....End

 Initialising UPnP Stack DEBUG: IGWHttpServStart: server is now running 

  UPnP Stack InitialisedIGWUPNLdSvInit 54

  IGWIGDLoadAndSaveInit: success 

../../ldsvcbk/firewall/kukildsv.c(76): FWCookieLdsvInit: SUCCESS

Loading the databases......

 ======================= Set IP Address state 0 

 ======================= Set Boardcast Address state 0 

Loading RIP configuration records - success.

Loaded RIP database

DNSRDLoad Done

DNSRDLoadSysDName Done

Firewall load database completed Loaded Security database

 IGWIGD: Loading data 

lTotalRecs is 1

IGWIGDSetIface: Interface Info failure

 IGWIGDLoadEnable :lTotalRecs is 1

  UP0xnPPeriodicAdvertis805f8190eRestart: St (arting Advts. 

strt): 

  IGWIGDLoad:  arp_rtrequest: bad gateway valueIGWIGDLoad() success 

 IGWUPN: Loading data 

IGWUPNLoadData 74

IGWUPNLoadHostRec 270

IGWUPNLoadServRec 356

IGWUPNLoadServRec: DbGetRecordInfo Failed 

 Already login from internal n/w is enabled 

Httpd_Register_TagArray

Httpd_Register_TagArray

Httpd_Register_TagArray

**********Registration of local tags succesful for DMZHostConfig

 ********** Ensable sysWatchdog ***************

IGWIGDSetIface: IGWUpnpGetIfaceInfo failure

ROUTE NET TABLE

destination      gateway              flags  Refcnt  Use           Interface

----------------------------------------------------------------------------

0.0.0.0          0.0.0.0              101    0       0             ae1

192.168.1.0      192.168.1.1          101    0       0             mirror0

----------------------------------------------------------------------------

ROUTE HOST TABLE

destination      gateway              flags  Refcnt  Use           Interface

----------------------------------------------------------------------------

127.0.0.1        127.0.0.1            5      1       3             lo0

239.255.255.250  192.168.1.1          5      0       0             mirror0

----------------------------------------------------------------------------

Listing Directory /fl:

-rwxrwxrwx  1 0       0           932340 Jan  1 01:01 AP61.SYS 

-rwxrwxrwx  1 0       0           175188 Apr 21  2006 igwhtm.dat 

-rwxrwxrwx  1 0       0            27712 Apr 21  2006 langpak_en 

-rwxrwxrwx  1 0       0            28187 Jan  1 01:00 igwpricf.dat 

/fl/  - disk check in progress ...

/fl/AP61.SYS
/fl/igwhtm.dat
/fl/langpak_en 
/fl/igwpricf.dat

/fl/  - Volume is OK 

          total # of clusters:  2,819

           # of free clusters:  542

            # of bad clusters:  0

             total free space:  277,504

     max contiguous free space:  277,504 bytes

                   # of files:  4

                 # of folders:  0

         total bytes in files:  1,136 Kb

             # of lost chains:  0

   total bytes in lost chains:  0

FREE LIST:

  num     addr      size

  --- ---------- ----------

    1 0x805e8180      66032

    2 0x80510520        192

    3 0x803b6fc0     399344

SUMMARY:

 status   bytes    blocks   avg block  max block

 ------ --------- -------- ---------- ----------

current

   free    465568        3     155189    399344

  alloc   4007792     2334       1717        -

cumulative

  alloc   4472016    11013        406        -</code></pre></div><p>Here is the normal boot without any interruption:</p><div class="codebox"><pre><code>ar531xPlus rev 0x00000090 firmware startup...

SDRAM NOT TEST

Cannot write a correct value(0xA320) on reg 0x11=0xE320

WRK54G version 4.1.2.56SP4

 1
 0

auto-booting...

Attaching to TFFS... done.

Loading /fl/ap61.sys...931952

Starting at 0x80480684...

/fl/  - Volume is OK 

Cannot write a correct value(0xA320) on reg 0x11=0xE320

Attaching interface lo0...done

Ready unit=0

 ********** Disable sysWatchdog ***************

 ++++++++++++ IP attach interface ++++++++++  

 Start Initial MEM Drv size:0x1fe00

Copy OK: 28187 bytes copied

FlshFormatFileSystem: Invalid Filesys ID -1

 vxBitsInit 

!!!!!!!!!!!!!!Find Interface mirror0 

!!!!!!!!!!!!!!Find Interface ae1 

WAN Initialisation                                 [SUCCESS]

PPPoE Initialised

 PPTP Initialised

 L2TP Initialization success FW initalized

 ** before calling dhcpc http register function ** 

TFstandard_tftp_server launched on port TPD:Initializa69tinion ok .........

.......

IGWIpRsmInit():  ....End

 Initialising UPnP Stack DEBUG: IGWHttpServStart: server is now running 

  UPnP Stack InitialisedIGWUPNLdSvInit 54

  IGWIGDLoadAndSaveInit: success 

../../ldsvcbk/firewall/kukildsv.c(76): FWCookieLdsvInit: SUCCESS

Loading the databases......

 ======================= Set IP Address state 0 

 ======================= Set Boardcast Address state 0 

Loading RIP configuration records - success.

Loaded RIP database

DNSRDLoad Done

DNSRDLoadSysDName Done

Firewall load database completed Loaded Security database

 IGWIGD: Loading data 

lTotalRecs is 1

IGWIGDSetIface: Interface Info failure

 IGWIGDLoadEnable :lTotalRecs is 1

  UP0xnPPeriodicAdvertis805f8190eRestart: St (arting Advts. 

strt): 

  IGWIGDLoad:  arp_rtrequest: bad gateway valueIGWIGDLoad() success 

 IGWUPN: Loading data 

IGWUPNLoadData 74

IGWUPNLoadHostRec 270

IGWUPNLoadServRec 356

IGWUPNLoadServRec: DbGetRecordInfo Failed 

 Already login from internal n/w is enabled 

Httpd_Register_TagArray

Httpd_Register_TagArray

Httpd_Register_TagArray

**********Registration of local tags succesful for DMZHostConfig

 ********** Ensable sysWatchdog ***************

IGWIGDSetIface: IGWUpnpGetIfaceInfo failure

ROUTE NET TABLE

destination      gateway              flags  Refcnt  Use           Interface

----------------------------------------------------------------------------

0.0.0.0          0.0.0.0              101    0       0             ae1

192.168.1.0      192.168.1.1          101    0       0             mirror0

----------------------------------------------------------------------------

ROUTE HOST TABLE

destination      gateway              flags  Refcnt  Use           Interface

----------------------------------------------------------------------------

127.0.0.1        127.0.0.1            5      1       3             lo0

239.255.255.250  192.168.1.1          5      0       0             mirror0

----------------------------------------------------------------------------

Listing Directory /fl:

-rwxrwxrwx  1 0       0           932340 Jan  1 01:01 AP61.SYS 

-rwxrwxrwx  1 0       0           175188 Apr 21  2006 igwhtm.dat 

-rwxrwxrwx  1 0       0            27712 Apr 21  2006 langpak_en 

-rwxrwxrwx  1 0       0            28187 Jan  1 01:00 igwpricf.dat 

/fl/  - disk check in progress ...

/fl/AP61.SYS
/fl/igwhtm.dat
/fl/langpak_en 
/fl/igwpricf.dat

/fl/  - Volume is OK 

          total # of clusters:  2,819

           # of free clusters:  542

            # of bad clusters:  0

             total free space:  277,504

     max contiguous free space:  277,504 bytes

                   # of files:  4

                 # of folders:  0

         total bytes in files:  1,136 Kb

             # of lost chains:  0

   total bytes in lost chains:  0

FREE LIST:

  num     addr      size

  --- ---------- ----------

    1 0x805e8180      66032

    2 0x80510520        192

    3 0x803b6fc0     399344

SUMMARY:

 status   bytes    blocks   avg block  max block

 ------ --------- -------- ---------- ----------

current

   free    465568        3     155189    399344

  alloc   4007792     2334       1717        -

cumulative

  alloc   4472016    11013        406        -</code></pre></div><p>I hear there are some micro images in the works?&nbsp; I would love to put a stripped down version of kamikaze on here, anything would be better.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>