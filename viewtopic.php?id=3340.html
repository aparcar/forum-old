<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Three questions</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p15836">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">marioallstar</div>
					<div class="post-datetime">
						22 Nov 2005, 01:39					</div>
				</div>
				<div class="post-content content">
					<p>Yesterday I flashed my router with OpenWRT. It is very nice, but I have a few questions.</p><p>1) I have used iptables to foward some ports to my PC (local IP: 192.168.1.100). From remote systems, I can use my global IP to access them. From local systems, I must go to 192.168.1.100. This is more conveinience than anything, but is there a way I can make it so that my local PCs can reach these ports via the global IP, too?</p><p>2) Is there I way so that I can make it so only one IP/MAC address combonation can use WEP, while all others must use WPA?</p><p>3) I can&#039;t edit files via SSH. Vi doesn&#039;t work well at all and nano (which I installed myself) saves the files with very strange formatting.</p><p>Feel free to answer just one of the questions. Any help is better than none. Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15837">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						22 Nov 2005, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>1) Maybe you did something like : iptables -t nat -A prerouting_rule -i $WAN<br />You can avoid the -i $WAN and it should work from both lan and wan side</p><p>2) I am not sure it is possible to map the wireless security in this way, but one thing is sure, if you both enable WPA and WEP, WEP-capable machines will associate fine, as well as WPA capable (which are also WEP capable, so it is not really a solution)</p><p>3) Maybe your terminal program is using an unsupported feature, I don&#039;t think it is related to ssh itself, but more on the terminal emulation you use (maybe vt100 emulation is enough)</p><p>If you cannot save files, check they are not symlink to the flash (ls -l &lt;filename&gt;)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15838">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						22 Nov 2005, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>1. it&#039;s the big fat disclaimer in firewall.user ... you either specify -i $WAN and deal with the fact the connection has to actually come from the wan, or you use -d &lt;ip address&gt; but then you have to run the firewall each time the ip address changes.</p><p>(RItalMan: if you only remove the -i $WAN then it&#039;ll be global.. connecting to any ip at that port will redirect you .. bad idea unless you&#039;re trying to set a captive portal)</p><p>2. Can&#039;t think of any way</p><p>3. You&#039;ll have to give a better explaination of what&#039;s broken.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15842">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Duffin444</div>
					<div class="post-datetime">
						22 Nov 2005, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>1) What about setting up a DNS layout that will always point to the router or machine that you want no matter where you are.&nbsp; The way that I have it setup is like this<br /></p><div class="codebox"><pre><code>Internet zone:
MyDomain.com -&gt; Public IP address of router
www.MyDomain.com -&gt; Public IP address of router
ftp.MyDomain.com -&gt; Public IP address of router
router.MyDomain.com -&gt; Public IP address of router

Local Zone:
MyDomain.com -&gt; Private IP address of router
www.MyDomain.com -&gt; Private IP address of webserver
ftp.MyDomain.com -&gt; Private IP address of ftp server
router.MyDomain.com -&gt; Private IP address of router</code></pre></div><p>Thus, with port forwarding to handle the internet requests and local DNS to handle the local requests, a method of naming the devices has been formed that allows you to access the services from either public or private zones with the same names.</p><p>3) vi works just fine for me.&nbsp; This wasn&#039;t really a question, what kind of solution were you wanting?</p><p>-Duffin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15846">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">marioallstar</div>
					<div class="post-datetime">
						22 Nov 2005, 03:49					</div>
				</div>
				<div class="post-content content">
					<p>As for number three, I guess I was just wondering if any else has experienced this problem. I have tried it on both a &#039;normal&#039; terminal (Ctrl + Alt + F_) as well as gnome-terminal.</p><p>Thanks for the help, everyone.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15847">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Nov 2005, 04:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>marioallstar wrote:</cite><blockquote><p>As for number three, I guess I was just wondering if any else has experienced this problem. I have tried it on both a &#039;normal&#039; terminal (Ctrl + Alt + F_) as well as gnome-terminal.</p><p>Thanks for the help, everyone.</p></blockquote></div><p>But what specifically does not work? Remember, it&#039;s not VIM. In fact it&#039;s not fully vi either (it&#039;s part of busybox) but it has the basic command set which is more than enough to edit config files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15849">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">marioallstar</div>
					<div class="post-datetime">
						22 Nov 2005, 05:45					</div>
				</div>
				<div class="post-content content">
					<p>In vi, everything is crazy. I press insert and things go crazy. I can not backspace to remove lines and everything is nuts. It is hard to explain.</p><p>In nano, the editing is fine, but it saves without proper line breaks (nano isn&#039;t official supported, though)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15850">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Nov 2005, 06:15					</div>
				</div>
				<div class="post-content content">
					<p>What distro are you using? Normally to delete lines you use &quot;dd&quot; and to go into insert mode you press &quot;i&quot; but pressing the INSERT key also works for me. It&#039;s really hard to tell with generalities like &quot;things go crazy&quot; though. If you could describe the exact file you opened in vi and the exact keystrokes you made up to the point where &quot;things went crazy&quot; it might be a little easier to help.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>