<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for Buffalo WSR-1166DHP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p309264">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						27 Jan 2016, 21:35					</div>
				</div>
				<div class="post-content content">
					<p>Since support for WSR-1166DHP has been added with <a href="https://dev.openwrt.org/changeset/43244">https://dev.openwrt.org/changeset/43244</a> and an OpenWrt firmware image is available for download, I have created a dataentry for this device: <a href="https://wiki.openwrt.org/toh/hwdata/buffalo/buffalo_wsr-1166dhp">https://wiki.openwrt.org/toh/hwdata/buf … sr-1166dhp</a></p><p>The support status is currently set to unknown (¿), since I couldn&#039;t find any confirmation for either 15.05 or trunk to be working on this device.</p><p>If you can confirm that either one of the above is working, please post your experiences here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317908">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jhcho71</div>
					<div class="post-datetime">
						3 Apr 2016, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have installed this firmware. Based on the forum history, it looks like I&#039;m the first one who installed this.<br />I have noticed a couple of issues.</p><p>1. when I create SSID with different choices, wifi didn&#039;t go up any more. I had to upgrade firmware with fresh setting several times.<br />2. radio0 only shows 5Ghz options. 2.4 Ghz option was not shown and radio1 for 2.4 GHz is not even loaded in the kernel.</p><p>Can you confirm if someone had experience same issue?</p><p>Jae</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321968">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">verslyap</div>
					<div class="post-datetime">
						30 Apr 2016, 17:19					</div>
				</div>
				<div class="post-content content">
					<p>I can confirm 2.4ghz not working either.&nbsp; There are two pci wireless devices on the board.&nbsp; It looks like support for the 2.4ghz device wasn&#039;t added to the driver until early December 2015.&nbsp; I&#039;m not sure when update of chaoscalmer branched, but it may have been after this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325775">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hotrod</div>
					<div class="post-datetime">
						25 May 2016, 14:59					</div>
				</div>
				<div class="post-content content">
					<p>I have a new out of the box Buffalo WSR-1166DHP Router.<br />It&#039;s in Japanese language, with apparently no option to switch to another language such as English.</p><p>I just upgraded it to the latest firmware 1.10 from the Buffalo website. </p><p>Now trying to update it to OpenWRT 15.05</p><p>Updating using &#039;openwrt-15.05-ramips-mt7621-wsr-1166-squashfs-sysupgrade.bin&#039; failed. Original OEM firmware rejected the OpenWRT update file as invalid.</p><p>I presume there should be a Firmware OpenWrt Install file for new installs, but it doesn&#039;t seem to be available. It isn&#039;t listed on the Device page. <a href="https://wiki.openwrt.org/toh/buffalo/wsr-1166dhp">https://wiki.openwrt.org/toh/buffalo/wsr-1166dhp</a></p><p>So how do I install OpenWRT ? <br />Perhaps I just need the correct URL to download the new (not upgrade) install file?<br />Perhaps I need to install an earlier version of OpenWRT &amp; then apply the upgrade?</p><p>Any help much appreciated. Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325781">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						25 May 2016, 15:38					</div>
				</div>
				<div class="post-content content">
					<p>When flashing from OEM to OpenWRT you should be using <em>factory</em> not <em>sysupgrade</em> image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325789">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hotrod</div>
					<div class="post-datetime">
						25 May 2016, 16:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Xotic750 wrote:</cite><blockquote><p>When flashing from OEM to OpenWRT you should be using <em>factory</em> not <em>sysupgrade</em> image.</p></blockquote></div><p>Thanks, but where do I find the factory image for this specific router ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325796">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						25 May 2016, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>You look on the wiki:</p><p><a href="https://wiki.openwrt.org/toh/hwdata/buffalo/buffalo_wsr-1166dhp">https://wiki.openwrt.org/toh/hwdata/buf … sr-1166dhp</a></p><p><a href="https://wiki.openwrt.org/toh/buffalo/wsr-1166dhp">https://wiki.openwrt.org/toh/buffalo/wsr-1166dhp</a></p><p><a href="https://downloads.openwrt.org/">https://downloads.openwrt.org/</a></p><p><a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/ramips/mt7621/">https://downloads.openwrt.org/chaos_cal … ps/mt7621/</a></p><p><em>openwrt-15.05.1-ramips-mt7621-wsr-1166-squashfs-sysupgrade.bin</em></p><p>There is no factory image available. So one can only assume that this works via the upgrade GUI?</p><div class="quotebox"><blockquote><p>If you can confirm that OpenWrt is running on this device (i.e. you or someone else has tested it), please update the data accordingly.</p></blockquote></div><p>I don&#039;t see one in the <em>snaphots</em> either <a href="https://downloads.openwrt.org/snapshots/trunk/ramips/mt7621/">https://downloads.openwrt.org/snapshots … ps/mt7621/</a></p><p>So it&#039;s all unknown waters.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 25 May 2016, 16:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325875">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hotrod</div>
					<div class="post-datetime">
						26 May 2016, 03:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jhcho71 wrote:</cite><blockquote><p>Hi,<br />I have installed this firmware. Based on the forum history, it looks like I&#039;m the first one who installed this.<br />I have noticed a couple of issues.<br />Jae</p></blockquote></div><div class="quotebox"><cite>verslyap wrote:</cite><blockquote><p>I can confirm 2.4ghz not working either.&nbsp; There are two pci wireless devices on the board.&nbsp; It looks like support for the 2.4ghz device wasn&#039;t added to the driver until early December 2015.&nbsp; I&#039;m not sure when update of chaoscalmer branched, but it may have been after this.</p></blockquote></div><p>Jae jhcho71 &amp; verslyap: </p><p>Are you able to explain how you flashed OpenWRT firmware into the original router? <br />My router rejects the upgrade file &#039;openwrt-15.05-ramips-mt7621-wsr-1166-squashfs-sysupgrade.bin&#039;, but no &#039;factory&#039; image is avialable on OpenWRT ???.</p><p>Any help much appreciated. Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358204">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">*++p</div>
					<div class="post-datetime">
						11 May 2017, 16:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hotrod wrote:</cite><blockquote><p>Any help much appreciated. Thanks.</p></blockquote></div><p>Not sure if you are still looking for help.</p><p>The Buffalos I know try to connect to a tftp server during boot -- that&#039;s easy to install on Linux.<br />The specific IP it tries to connect to and other data are unknown (to me) but see how it works on similar devices<br />(e.g. <a href="https://wiki.openwrt.org/toh/buffalo/wmr-300">https://wiki.openwrt.org/toh/buffalo/wmr-300</a> ).<br />Could also be the opposite (acts as a tftp server)...</p><p>If you find out how to flash the fw, please post your results.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358205">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">*++p</div>
					<div class="post-datetime">
						11 May 2017, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>@jhcho71 @verslyap</p><p>can you please confirm it works well using only 5 GHz?</p><p>(I don&#039;t really need 2.4 :-)</p>											<p class="post-edited">(Last edited by <strong>*++p</strong> on 11 May 2017, 16:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358373">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">jaymaynard</div>
					<div class="post-datetime">
						15 May 2017, 01:43					</div>
				</div>
				<div class="post-content content">
					<p>I ran into this problem with a WHR-300HP2. You still need a factory image, and there doesn&#039;t seem to be one. I don&#039;t know if it&#039;s even possible to generate one, or how.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372815">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">*++p</div>
					<div class="post-datetime">
						26 Feb 2018, 08:03					</div>
				</div>
				<div class="post-content content">
					<p>It it still matters, got it to work on WSR-1166DHP :</p><p>- used the initramfs factory image from <a href="http://naobsd.org/lede-openwrt/#WSR-1166DHP">http://naobsd.org/lede-openwrt/#WSR-1166DHP</a><br />- download that factory.bin image, and use the regular Buffalo GUI to inject it as a new firmware (takes ~1 min)<br />- do NOT power off the router, as the image is only in memory!<br />- download the latest stable ...sysupgrade.bin image from LEDE downloads<br />- adjust your PC NIC setting to be 192.168.1.X (X &gt; 1)<br />- rcp sysupgrade.bin 192.168.1.1:<br />- `ssh 192.168.1.1`<br />- then `sysupgrade -v sysupgrade.bin`</p><p>Note that it works great with LEDE 17.01.4!<br />Both 2.4 GHz and 5 GHz work.<br />Faster than the original firmware.</p><p>So good when all work fine :-)</p>											<p class="post-edited">(Last edited by <strong>*++p</strong> on 26 Feb 2018, 08:05)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>