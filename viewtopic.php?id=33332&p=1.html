<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Router for mpd like Asus WL 500g</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=33332&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p150337">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						5 Dec 2011, 10:28					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have seen some &quot;hacked&quot; Asus Routers in the internet that can run mpd.</p><p>I know the WL-520gu and the WL-500g* could do that.<br />Is it also possible with the WL-600g?</p><p>Is there a piece of hardware you could advise me?</p><p>Thanks for your help.</p><p>Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151703">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						21 Dec 2011, 17:33					</div>
				</div>
				<div class="post-content content">
					<p>Hello experts,</p><p>I have flashed openWRT on the WL600.</p><p>The router works with it :-)</p><p>With the WIKI I was able to use it as AP (masquerade).</p><p>I could install usb software as well. But there is not enough diskspace for mpd :-(</p><p>Could anybody help me with this problem?<br />Are there packages that could be removed to have enough diskspace for mpd?</p><p>Would somebody help me to compile a firmware if neccessary?</p><p>Thanks for reply.</p><p>Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151770">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						22 Dec 2011, 12:36					</div>
				</div>
				<div class="post-content content">
					<p>If your hardware is equipped with at least 8M flash then it should be possible. You&#039;d need to strip alsa crap and some other dependencies out of the mpd configuration and build it yourself. I only keep dependencies to mp3, flac and ogg - the rest is removed. Alternatively you can use extroot to add more space for packages</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151787">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						22 Dec 2011, 15:08					</div>
				</div>
				<div class="post-content content">
					<p>Hello flux - thanks for reply.<br />The WL600 owns only 4MB Flash ...</p><p>Is it possible to mount /overlay on an USB Flash Memory (a 256MB SD Card maybe)?</p><p>Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152059">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						25 Dec 2011, 22:30					</div>
				</div>
				<div class="post-content content">
					<p>Hello experts,</p><p>I have successfully installed extroot on a 256MB SD Card with ext3.</p><p>I have written fstab as shown in the wiki (option is_rootfs 1) and /overlay was shown (df) with only 3%.</p><p>The problem: Before I change to is_rootfs the AP works and I could install packages with opkg.<br />After the change to SD Card I could not reach the internet or install packages (because of missing connections).<br />Why?</p><p>My second idea was to mount the card to /mnt/usb and install additional packages there (opkg -dest usb install mpd).</p><p>The internet is still working after mounting the card and I was able to install packages.<br />But now the box hangs up very often during installing packages.<br />For mpd it is installing a lot of dependencies and hangs up so often that I could not finish it at one evening?</p><p>Is there something wrong? Could you advice me a good way to do?</p><p>Thanks Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152062">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">willprice94</div>
					<div class="post-datetime">
						25 Dec 2011, 23:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi tobbes, I&#039;m doing a similar thing with a TP-Link WR703N, I&#039;m using a usb hub with a memory stick attached to it, I set up my network as a wireless client (v.s an access point like your setup) I have had no trouble installing packages to my mounted usb stick (I&#039;m not using extroot, I saw no need for it, I just updated the $PATH variable in /etc/profile to include the paths of the installed packages - refer to openwrt wiki on opkg).</p><p>Assuming you&#039;re not having any trouble installing packages bar the problems with hang ups. I&#039;d say it&#039;s likely your problem is due to your&nbsp; network setup, are you running out of ram? (run top to see what processes are hogging ram) #.</p><p>If that&#039;s not the issue, it sounds as if your network setup may be a little borked, and hence perhaps you should try reflashing and setting up your network, then testing it thoroughly to see that your set up isn&#039;t the issue, then proceed to install usb-storage support and then mpd.</p><p>I&#039;m not familiar with the router you have or openwrt, but I can try and help until someone more knowledgeable turns up.</p>											<p class="post-edited">(Last edited by <strong>willprice94</strong> on 25 Dec 2011, 23:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152876">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						3 Jan 2012, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>Hello experts,</p><p>thanks for your help.<br />Today I have tried to install mpd again.</p><p>Here the last screen of top before hanging up:</p><p>Mem: 12640K used, 784K free, 0K shrd, 312K buff, 2708K cached<br />CPU:&nbsp; &nbsp;3% usr&nbsp; 93% sys&nbsp; &nbsp;0% nic&nbsp; &nbsp;0% idle&nbsp; &nbsp;1% io&nbsp; &nbsp;0% irq&nbsp; &nbsp;0% sirq<br />Load average: 2.48 0.93 0.34 1/40 1279<br />&nbsp; PID&nbsp; PPID USER&nbsp; &nbsp; &nbsp;STAT&nbsp; &nbsp;VSZ %MEM %CPU COMMAND<br /> 1137&nbsp; 1132 root&nbsp; &nbsp; &nbsp;R&nbsp; &nbsp; &nbsp;1364&nbsp; 10%&nbsp; 20% top <br /> 1101&nbsp; &nbsp; &nbsp;1 nobody&nbsp; &nbsp;R&nbsp; &nbsp; &nbsp; 912&nbsp; &nbsp;7%&nbsp; 11% /usr/sbin/dnsmasq -K -D -y -Z -b -E -<br /> 1195&nbsp; 1124 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;2828&nbsp; 21%&nbsp; &nbsp;8% opkg -dest usb install mpd <br /> 1131&nbsp; &nbsp;936 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1204&nbsp; &nbsp;9%&nbsp; &nbsp;7% /usr/sbin/dropbear -p 22 -P /var/run/<br />&nbsp; 726&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1464&nbsp; 11%&nbsp; &nbsp;7% wpa_supplicant -B -P /var/run/wifi-wl<br />&nbsp; &nbsp;87&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;0%&nbsp; &nbsp;6% [mtdblockd]<br /> 1111&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1352&nbsp; 10%&nbsp; &nbsp;2% watchdog -t 5 /dev/watchdog <br />&nbsp; 284&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;0%&nbsp; &nbsp;1% [usb-storage]<br />&nbsp; 596&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;0%&nbsp; &nbsp;0% [kjournald]<br />&nbsp; 694&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;0%&nbsp; &nbsp;0% [irq/32-b43]<br />&nbsp; &nbsp;73&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;0%&nbsp; &nbsp;0% [kswapd0]<br />&nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;0%&nbsp; &nbsp;0% [ksoftirqd/0]<br />&nbsp; 316&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1372&nbsp; 10%&nbsp; &nbsp;0% syslogd -C16 <br /> 1122&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1372&nbsp; 10%&nbsp; &nbsp;0% udhcpc -t 0 -i wlan0 -b -p /var/run/d<br />&nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp;0 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1368&nbsp; 10%&nbsp; &nbsp;0% init&nbsp; &nbsp; &nbsp; &nbsp;<br /> 1124&nbsp; 1123 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1368&nbsp; 10%&nbsp; &nbsp;0% -ash <br /> 1132&nbsp; 1131 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1368&nbsp; 10%&nbsp; &nbsp;0% -ash <br />&nbsp; 301&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1368&nbsp; 10%&nbsp; &nbsp;0% init&nbsp; &nbsp; &nbsp; &nbsp;<br /> 1279&nbsp; 1195 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1364&nbsp; 10%&nbsp; &nbsp;0% wget -q -O /tmp/opkg-rbAha3/libvorbis<br />&nbsp; 318&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S&nbsp; &nbsp; &nbsp;1352&nbsp; 10%&nbsp; &nbsp;0% klogd </p><br /><p>Is there a memory problem?</p><p>What can I do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152879">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						3 Jan 2012, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>Oh good news :-)</p><p>I have installed all packages one by one and now it seems to be installed:</p><p>root@OpenWrt:~# opkg -dest usb install mpd<br />Package mpd (0.15.8-5) installed in usb is up to date.<br />root@OpenWrt:~# </p><br /><p>Now I will work on mpd :-)</p><p>I think first I must configure mpd but I can&#039;t find /etc/mpd.conf ...</p><p>Must I create a new conf file?</p><p>Thanks - Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153148">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">whbjr</div>
					<div class="post-datetime">
						5 Jan 2012, 05:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>I think first I must configure mpd but I can&#039;t find /etc/mpd.conf ...</p></blockquote></div><p>It&#039;s not in /etc/mpd.conf, it&#039;s in ${USB}/etc/mpd.conf</p><p>In other words, you installed mpd on the USB drive, so you should look for the configuration file on the USB drive. My setup has the USB drive on /opt, so the config file is in /opt/etc, so I start the daemon with:<br /></p><div class="codebox"><pre><code>mpd /opt/etc/mpd.conf</code></pre></div><p>Where did you mount the USB drive?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153373">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						6 Jan 2012, 19:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks to whbjr,<br />I have also mount the first USB drive to /opt (/mnt/usb) and I have found /opt/etc/mpd.conf</p><p>But first I tried to mount a second USB drive with vfat on it. But I became an error the hole evening:<br />mount: mounting /dev/sdb1 on /mnt/share failed: Invalid argument</p><p>I have seen this in dmesg:<br />usb 1-1: new high speed USB device using ehci_hcd and address 4<br />usb 1-1: configuration #1 chosen from 1 choice<br />scsi2 : SCSI emulation for USB Mass Storage devices<br />usb-storage: device found at 4<br />usb-storage: waiting for device to settle before scanning<br />scsi 2:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;VMAX&nbsp; &nbsp; &nbsp;256MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.00 PQ: 0 ANSI: 2<br />usb-storage: device scan complete<br />ready<br />sd 2:0:0:0: [sdb] 512000 512-byte logical blocks: (262 MB/250 MiB)<br />sd 2:0:0:0: [sdb] Write Protect is off<br />sd 2:0:0:0: [sdb] Mode Sense: 03 00 00 00<br />sd 2:0:0:0: [sdb] Assuming drive cache: write through<br />sd 2:0:0:0: [sdb] Assuming drive cache: write through<br /> sdb: sdb1<br />sd 2:0:0:0: [sdb] Assuming drive cache: write through<br />sd 2:0:0:0: [sdb] Attached SCSI removable disk</p><p>My /etc/config/fstab looks like this:<br />config &#039;global&#039; &#039;automount&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;from_fstab&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;anon_mount&#039; &#039;1&#039;</p><p>config &#039;global&#039; &#039;autoswap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;from_fstab&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;anon_swap&#039; &#039;0&#039;</p><p>config &#039;mount&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;target&#039; &#039;/mnt/usb&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;/dev/sda1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;fstype&#039; &#039;ext3&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;options&#039; &#039;rw,sync&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enabled&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enabled_fsck&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;is_rootfs&#039; &#039;0&#039;</p><p>config &#039;swap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;/dev/sda2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enabled&#039; &#039;0&#039;</p><p>config &#039;mount&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;/dev/sdb1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;fstype&#039; &#039;auto&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;options&#039; &#039;rw,sync&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enabled_fsck&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enabled&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;target&#039; &#039;/mnt/share&#039;</p><p>I have created an folder share in /mnt/ and I have also tried the uci commands:<br />/etc/init.d/fstab stop<br />uci add fstab mount<br />uci set fstab.@mount[-1].device=/dev/sda1<br />uci set fstab.@mount[-1].options=rw,sync<br />uci set fstab.@mount[-1].enabled_fsck=0<br />uci set fstab.@mount[-1].enabled=1<br />uci set fstab.@mount[-1].target=/mnt/share<br />uci commit fstab<br />/etc/init.d/fstab start</p><p>I have also installed this packages :</p><p>opkg install kmod-usb-storage<br />opkg install kmod-usb-storage-extras<br />kmod-nls-base<br />kmod-nls-cp437<br />kmod-nls-cp850<br />kmod-nls-iso8859-1<br />kmod-nls-iso8859-15<br />kmod-nls-utf8</p><br /><p>Nothing works to mount the second USB drive!</p><p>What do I wrong?</p><p>Thanks - Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154111">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						13 Jan 2012, 21:46					</div>
				</div>
				<div class="post-content content">
					<p>Hello to all</p><p>I try more with my Asus to bring up my mpd ...</p><p>I have found the mpd.conf and I have configured first things.<br />But I do not know how to start mpd.</p><p>I thought madplay would be easier at first.</p><p>I installed it and found it in /opt/usr/bin <br />there is:<br />alsamixer&nbsp; amixer&nbsp; &nbsp; &nbsp;aplay&nbsp; &nbsp; &nbsp; arecord&nbsp; &nbsp; madplay</p><p>But I can&#039;t start anything:<br />/opt/usr/bin # ./aplay <br />./aplay: can&#039;t load library &#039;libasound.so.2&#039;<br />/opt/usr/bin # ./alsamixer <br />./alsamixer: can&#039;t load library &#039;libform.so.5&#039;<br />/opt/usr/bin # ./madplay <br />./madplay: can&#039;t load library &#039;libmad.so.0&#039;</p><p>(alsa-lib / alsa-utils/ and libmad are installed !!)</p><p>I think there is something wrong with the path for the commands.</p><br /><p>In /etc/profile stands:<br />export PATH=&lt;current default path&gt;:/opt/bin:/opt/sbin:/opt/usr/bin:/opt/usr/sbin<br />export LD_LIBRARY_PATH=&lt;current default LD library path&gt;:/opt/lib:/opt/usr/lib</p><br /><br /><p>Whats wrong?<br />Please give me a hint:-)</p><p>And how can I start mpd?</p><p>One more question: Where is the reboot command? For some days I could reboot the box but now the command is missing ....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154260">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						15 Jan 2012, 12:54					</div>
				</div>
				<div class="post-content content">
					<p>Hello, thank you for reading my diary :-)</p><p>I could solve some problems.<br />The path in /etc/profile must be changed this way:<br />In terminal:<br />echo &#039;export PATH=$PATH:/opt/bin:/opt/sbin:/opt/usr/bin:/opt/usr/sbin&#039; &gt;&gt; /etc/profile<br />echo &#039;export LD_LIBRARY_PATH=/opt/lib:/opt/usr/lib&#039; &gt;&gt; /etc/profile</p><p>So the right path will be taken. Some symbolic links are necessary to:<br />For my problem with alsa I did:<br />mkdir /usr/share/alsa/<br />ln -s /opt/usr/share/alsa/alsa.conf /usr/share/alsa/alsa.conf</p><p>And for the mpd.config I create a link too.<br />ln -s /opt/etc/mpd.conf /etc/mpd.conf</p><p>Now I could start mpd without errors.<br />/opt/usr/bin/mpd /opt/etc/mpd.conf</p><p>With my laptop I could connect to mpd over Sonata and see the libary on mpd.<br />But the music will not play. I could choose a track but it will not start to play.</p><p>Maybe someone know what to do?</p><p>With &quot;madplay /path/to/music/track.mp3&quot; the router could play music.</p><br /><br /><p>Thanks for reading - tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156672">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						8 Feb 2012, 11:30					</div>
				</div>
				<div class="post-content content">
					<p>Hello possible reader,</p><p>I want to use the box als mp3 player in an existing network. So it is working in client modus to get WiFi.</p><p>I have taken extroot installation because my first try with an /opt place to install mpd needs to much links to work...</p><p>Now mpd is on the box and I can choose music over Sonata or Ipod app.</p><p>Unfortunately mpd stutters randomly every 3 or 5 seconds.<br />The box is running over limit I think.</p><p>I have set audio_buffer_size to &quot;4098&quot; and buffer_before_play to &quot;25%&quot; but it is stuttering all the time.</p><p>I have looked with command top and found this:<br />1053&nbsp; 1052 root&nbsp; &nbsp; &nbsp;S &lt;&nbsp; 25376 189%&nbsp; &nbsp;0% /usr/bin/mpd <br /> 1052&nbsp; 1050 root&nbsp; &nbsp; &nbsp;S &lt;&nbsp; 25376 189%&nbsp; &nbsp;0% /usr/bin/mpd <br /> 1050&nbsp; &nbsp; &nbsp;1 root&nbsp; &nbsp; &nbsp;S &lt;&nbsp; 25376 189%&nbsp; &nbsp;0% /usr/bin/mpd <br /> 1054&nbsp; 1052 root&nbsp; &nbsp; &nbsp;S &lt;&nbsp; 25376 189%&nbsp; &nbsp;0% /usr/bin/mpd </p><p>Mem is about 189% - is this my problem?<br />What can I do - please give me a hint :-)</p><p>Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156690">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Feb 2012, 15:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>What can I do - please give me a hint :-)</p><p>Tobbes</p></blockquote></div><p>if you use alsa then you should switch to oss. Check the /etc/mpd.conf</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156695">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						8 Feb 2012, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello flux,<br />thanks for your answer.<br />I have tried a little bit but I cannot activate OSS.<br />I have changed the mpd.conf to OSS output but get the message:</p><p>output: line 189: No such audio output plugin: oss<br />I have tried to force a OSS device like /dev/audio or /dev/dsp<br />But I get always the same error.</p><p>I installed kmod-usb-audio but still the same....<br />What must I change to get OSS working (alsa is deactivated in mpd.conf of sure).</p><p>Thanks for helping me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156698">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Feb 2012, 18:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>I installed kmod-usb-audio but still the same....<br />What must I change to get OSS working (alsa is deactivated in mpd.conf of sure).</p><p>Thanks for helping me.</p></blockquote></div><p>I suppose that the mpd binary you&#039;re using is compiled without the oss support</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156699">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						8 Feb 2012, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>root@OpenWrt:~# mpd -V<br />mpd (MPD: Music Player Daemon) 0.15.8 </p><p>Copyright (C) 2003-2007 Warren Dukes &lt;warren.dukes@gmail.com&gt;<br />Copyright (C) 2008 Max Kellermann &lt;max@duempel.org&gt;<br />This is free software; see the source for copying conditions.&nbsp; There is NO<br />warranty; not even MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p><p>Supported decoders:</p><p>[mad] mp3 mp2<br />[vorbis] ogg oga<br />[flac] flac<br />[audiofile] wav au aiff aif<br />[faad] aac</p><p>Supported outputs:</p><p>shout null fifo alsa httpd </p><p>Supported protocols:</p><p>file:// http:// lastfm:// mms:// mmsh:// mmst:// mmsu:// </p><p>Shit I think you are right.<br />Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156704">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Feb 2012, 19:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>Any ideas?</p></blockquote></div><p>a) compile it yourself<br />b) wait for the backfire 10.03.2 and install mpd-mini<br />c) try to install trunk snapshot image and install mpd-mini</p><p>I&#039;d follow a) because no one knows how long it would take to release 10.03.2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156707">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						8 Feb 2012, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>Thanks again flux.</p><p>I have looked in wiki what do to but I don&#039;t think that I can compile it myself.</p><p>I do not know how to bring in mpd and allow OSS support.</p><p>Do you know a how-to (maybe in german)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156724">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Feb 2012, 22:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>Thanks again flux.</p><p>I have looked in wiki what do to but I don&#039;t think that I can compile it myself.</p><p>I do not know how to bring in mpd and allow OSS support.</p><p>Do you know a how-to (maybe in german)?</p></blockquote></div><p>well the wiki build page is here <a href="http://wiki.openwrt.org/doc/howto/build">http://wiki.openwrt.org/doc/howto/build</a></p><p>you would need to prepare the build_root environment (there is a german translation)<br />get the sources with the svn checkout svn://svn.openwrt.org/openwrt/tags/backfire_10.03.1<br />get the packages feeds - ./scripts/feeds update -a<br />replace the content of the feeds/packages/sound/mpd/Makefile with this paste <a href="http://pastebin.com/rxjgDUWL">http://pastebin.com/rxjgDUWL</a> and execute ./scripts/feeds install -a<br />then make menuconfig select your hardware and all packages you need (luci for example). Also select mpd<br />then build the image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158330">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						22 Feb 2012, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>Hello at all,</p><p>I have tried to compile a firmware on my own but it shows always errors and FORCE messages.<br />@flux:<br />whats about point c)&nbsp; try to install trunk snapshot image and install mpd-mini<br />I did not found the trunk snapshot ready to flash on the ASUS.</p><p>Where can I get it? </p><p>Thanks in advance - Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158355">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						22 Feb 2012, 16:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tobbes wrote:</cite><blockquote><p>Hello at all,</p><p>I have tried to compile a firmware on my own but it shows always errors and FORCE messages.<br />@flux:<br />whats about point c)&nbsp; try to install trunk snapshot image and install mpd-mini<br />I did not found the trunk snapshot ready to flash on the ASUS.</p><p>Where can I get it? </p><p>Thanks in advance - Tobbes</p></blockquote></div><p>well, all snapshots are here <a href="http://downloads.openwrt.org/snapshots/trunk/">http://downloads.openwrt.org/snapshots/trunk/</a><br />The name of the image to flash should be the same like with the backfire. I do not know what image is suitable for your hardware, sorry. And I cannot guaranty that the snapshot version is stable enough with your hardware because I&#039;ve never tried it. All I meant - it is worth to try</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158378">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						22 Feb 2012, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello experts,</p><p>now I thinks its over :-(<br />I have flashed the original ASUS Firmware to get to the trunk Firmware on the box.<br />I haved seen that the trunk firmware has no luci (web interface).<br />So I think I go back to backfire rc4 and install the repository of trunk on it to get mpd-mini.<br />I tried to flash the original ASUS firmware again but now the box only shows a red LED.</p><p>This red light is the on-off led that normaly is green and must flshing to flash the ASUS Firmware.</p><p>What can I do to get the ASUS Firmware on the box again????</p><p>Thanks - Tobbes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158421">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						23 Feb 2012, 08:21					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I have found the router on 192.168.1.1!<br />I will try to flash it up to backfire rc4 again and fetch mpd-mini out of trunk repository.</p><p>Do think this way could be successful?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158482">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">tobbes</div>
					<div class="post-datetime">
						23 Feb 2012, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi mpd-mini is installed over trunk packages over backfire rc4 without error messages.</p><p>But now I get an error like this:</p><p>root@OpenWrt:~# /etc/init.d/mpd start</p><p>Simple mixer control &#039;PCM&#039;,0<br />&nbsp; Capabilities: pvolume pswitch pswitch-joined penum<br />&nbsp; Playback channels: Front Left - Front Right<br />&nbsp; Limits: Playback 0 - 128<br />&nbsp; Mono:<br />&nbsp; Front Left: Playback 40 [31%] [0.00dB] [on]<br />&nbsp; Front Right: Playback 40 [31%] [0.00dB] [on]<br />BusyBox v1.15.3 (2010-11-11 23:54:31 PST) multi-call binary</p><p>Usage: nice [-n ADJUST] [PROG [ARGS]]</p><p>Run PROG with modified scheduling priority</p><p>Options:<br />&nbsp; &nbsp; -n ADJUST&nbsp; &nbsp; Adjust priority by ADJUST</p><p>/etc/rc.common: line 78: service_start: not found</p><p>Could I fix this? (Maybe opkg upgrade on trunk...?)</p><p>Thanks for helping me! <br />Tobbes</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=33332&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>