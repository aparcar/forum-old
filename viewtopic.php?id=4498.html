<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> need help setting port 80</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p21096">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alej00d</div>
					<div class="post-datetime">
						19 Feb 2006, 03:52					</div>
				</div>
				<div class="post-content content">
					<p>hi again, im here asking for help on getting a website to be served via port 80 from a machine in the LAN network to the outside world...so this means packect coming from WAN to LAN</p><p>this my firewall.user settings:</p><div class="codebox"><pre><code>### Port forwarding
iptables -t nat -A prerouting_rule -i $WAN -p tcp --dport 80 -j DNAT --to 192.128.1.249
iptables        -A forwarding_rule -i $WAN -p tcp --dport 80 -d 192.168.1.249 -j ACCEPT</code></pre></div><p>this, some processes running at my router:<br /></p><div class="codebox"><pre><code>  39 root        388 S   syslogd -C 16 
   44 root        348 S   klogd 
  427 root        408 S   udhcpc -i vlan1 -b -p /var/run/vlan1.pid -R 
  462 nobody      440 S   dnsmasq -l /tmp/dhcp.leases -K -F 192.168.1.100,192.168.1.250,255.255.255.0,12h -I vlan1 
  468 root        420 S   /usr/sbin/dropbear 
  473 root        392 S   httpd -p 80 -h /www -r WRT54G Router 
  474 root        304 S   telnetd -l /bin/login 
 1606 root        644 R   /usr/sbin/dropbear 
 1607 root        544 S   -ash 
 1772 root        384 R   ps -aux</code></pre></div><p>i&#039;m in big doubt about httpd -p 80 -h /www -r WRT54G Router&nbsp; cause every time i make a request to <a href="http://8x.7x.1x9.x2">http://8x.7x.1x9.x2</a>/ i get the pages served from /www in the router but instead i shall be looking at the apache page that is installed in <a href="http://192.168.1.249/~alejood/">http://192.168.1.249/~alejood/</a> but no, is not working <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> </p><p>the box that serves the website is on the route/gateway:<br /></p><div class="codebox"><pre><code>netstat -nr | grep default
default            192.168.1.1        UGSc       45      261    en0</code></pre></div><p>I don&#039;t know what else to do, or look for, i was thinking that i had to stop httpd on the router httpd -p 80 -h /www -r WRT54G Router or flag -h to the local ip but it didnt worked, cause it tells me that 192.128.1.249 is not reachable, but indeed thats the address the box in the LAN is getting from white russian RC3. let me know what else or where else can i look. I dont want to change firmware now that im learning few things with openwrt, switching will be to RC5 when its ready.</p><p>thanks for any advice<br />/a</p>											<p class="post-edited">(Last edited by <strong>alej00d</strong> on 20 Feb 2006, 04:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21160">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">alej00d</div>
					<div class="post-datetime">
						20 Feb 2006, 04:05					</div>
				</div>
				<div class="post-content content">
					<p>one more thing to add, if i run nmap from the local machine to test the openwrt router i see this ports open:</p><p>22/tcp open&nbsp; ssh<br />23/tcp open&nbsp; telnet<br />53/tcp open&nbsp; domain<br />80/tcp open&nbsp; http</p><p>any advice greatly appreciated</p><p>tx<br />/a</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21205">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						20 Feb 2006, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>I found this info to be very helpful:</p><p><a href="http://wiki.openwrt.org/SimpleFirewall">http://wiki.openwrt.org/SimpleFirewall</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>