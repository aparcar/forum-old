<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compatibility - Linksys E4200(v1) - No wiki page, lists 14.07 OK?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p286805">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">FactionOne</div>
					<div class="post-datetime">
						8 Aug 2015, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>I&#039;m hoping someone can clarify (I did search, I promise!)...</p><p>I&#039;d love to have a play with OpenWrt; at the moment I have a Linksys E4200 I&#039;d like to try it out on. I checked the Wiki and it appears that the E4200 is listed as compatible with Barrier Breaker 14.07, but there&#039;s no Wiki page with specific information for the device, and not much said about it on the forum (according to search).</p><p>I see there&#039;s a file: <a href="https://downloads.openwrt.org/barrier_breaker/14.07/brcm47xx/mips74k/openwrt-e4200_v1-squashfs.bin">downloads.openwrt.org/barrier_breaker/14.07/brcm47xx/mips74k/openwrt-e4200_v1-squashfs.bin</a> - is this a full compatible binary which can be flashed from the web interface? (I notice it doesn&#039;t state &#039;factory&#039; in the filename).</p><p>(I see there&#039;s a similar Chaos Calmer file on the download server too - does the same apply?)</p><p>Thanks for any clarification,</p><p>Rob.</p>											<p class="post-edited">(Last edited by <strong>FactionOne</strong> on 8 Aug 2015, 23:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286816">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						9 Aug 2015, 05:29					</div>
				</div>
				<div class="post-content content">
					<p>I can&#039;t speak to this specific device, but keep in mind that Broadcom wireless support is limited due to lack of wireless driver source from Broadcom. See the wiki: <a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx#wifi_drivers">http://wiki.openwrt.org/doc/hardware/so â€¦ fi_drivers</a></p><p>If you try it, please let us know if it works by updating the wiki (create the device page if needed).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286817">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">FactionOne</div>
					<div class="post-datetime">
						9 Aug 2015, 06:08					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply.</p><p>I think I might be picking up a Netgear WNDR-3700 tomorrow; they&#039;ve just been discounted at a place nearby and I&#039;m having absolutely no joy whatsoever configuring VLANs on the E4200 in DD-WRT (I&#039;m trying to configure a DMZ gateway with public IP attached to a switch port by unbridged VLAN - in DD-WRT there&#039;s a peculiar set-up to the E4200&#039;s vlans, leading to it never getting more than about half way to working).</p><p>The WNDR-3700 looks better supported by both OpenWrt and DD-WRT; I&#039;m kinda gambling that in one or the other I&#039;ll get my VLAN config working. If that&#039;s the case I&#039;ll give the E4200 file above a go, as it won&#039;t matter so much if I turn it into a stylish paperweight <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>All the best,</p><p>Rob.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286818">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						9 Aug 2015, 06:19					</div>
				</div>
				<div class="post-content content">
					<p>Pay close attention to which version WNDR3700 you get. The v3 is Broadcom-based as well, although v1, v2, and v4 are Atheros-based and well supported by OpenWrt. In fact, v2 has been a work horse for many. Unclear if v5 will get support - I believe it&#039;s Mediatek-based.</p><p>If you don&#039;t want to deal with the versioning issues, consider a TP-Link WDR3600 or WDR4300 which are also well supported for all versions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286819">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">FactionOne</div>
					<div class="post-datetime">
						9 Aug 2015, 06:32					</div>
				</div>
				<div class="post-content content">
					<p>The version is another (I think smaller) part of my gamble... The seller I&#039;m looking at lists them on a marketplace site explicitly as version 4, but on their own site (via which the offer price is claimed) the version isn&#039;t mentioned. We&#039;ll see!</p><p>Thanks for the advice on the TP-Link units - I&#039;d looked at them when I was studying compatibility, but leaned toward the Netgear (setting aside my assumption about version in stock) mainly because I&#039;ve more experience of their stuff, and local availability is a bit better. I&#039;ll certainly look again at the TP-Link models if my version 4 bubble&#039;s burst!</p><p>I don&#039;t suppose you&#039;ve ever assigned a switch port to an unbridged VLAN, with a public IP (another in the same subnet as the WAN IP) assigned to function as a DMZ gateway (on anything, in any firmware(!))? [Yes, I&#039;m desperate enough to be taking shots that long!]</p><p>Thanks again,</p><p>Rob.</p>											<p class="post-edited">(Last edited by <strong>FactionOne</strong> on 9 Aug 2015, 06:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286821">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						9 Aug 2015, 07:34					</div>
				</div>
				<div class="post-content content">
					<p>Nope, never tried such a thing. Good luck!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286850">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">FactionOne</div>
					<div class="post-datetime">
						9 Aug 2015, 16:38					</div>
				</div>
				<div class="post-content content">
					<p>Well, I had a close call on the version issue... And I&#039;m now confident that I&#039;m not the only OpenWrt/DD-WRT user/geek in this neck of the woods.</p><p>I went to the store to collect the order, and quickly scanned the box for version information while it was being sorted out. I didn&#039;t notice it at first (not even on the serial/MAC sticker); when I got outside I figured I&#039;d open the box and have a look if there was any labelling on the device. Everything inside looked pretty new, but the seal was broken and there was some staining on the bag. I don&#039;t mind restocked/grade-B product, but only when I know that&#039;s what I&#039;m buying. Anyway, as I put the contents back in the box, I noticed the panel (edge, bottom) where the model name includes the version number; this was a 3(!). I couldn&#039;t help thinking that given all the peel-offs were still attached, whoever had returned it had decided it wasn&#039;t for them pretty quickly - perhaps another Open/DD-WRT user!?</p><p>I took it back and picked-up another from the shelf; indicated version 4. I&#039;ll flash it up tonight and see how I get on; of course if I don&#039;t get the VLAN working I&#039;ll have to fall-back to one-to-one NAT, but I&#039;ll be no worse off than I am now, so I&#039;ll more than likely try the OpenWrt E4200 file linked above and report back; if not tonight, almost certainly in the next couple of days.</p><p>All the best,</p><p>Rob.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287666">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">FactionOne</div>
					<div class="post-datetime">
						15 Aug 2015, 05:04					</div>
				</div>
				<div class="post-content content">
					<p>Just a quick update for anyone who finds this page while searching for compatibility information:</p><p>The Barrier Breaker 14.07 file linked above is flashable to the E4200 (my procedure below); and is functional, with caveats:</p><p>i) 2.4GHz WiFi works but is very slow (single figures throughput); 5GHz does not start (is reported as generic 2.4GHz).<br />ii) VLAN configuration is available, accepts (&amp; keeps) settings, but with the same configuration applied as on my Netgear WNDR-3700 for a DMZ (public IP) VLAN, I couldn&#039;t communicate with machines in that segment (I couldn&#039;t try from the machines themselves (i.e. traffic in the other direction) because I run them headless.</p><p>PPPoE comes up fine, and internet performance over Cat5 is OK.</p><p>Much more than that, I can&#039;t say; I was keen to get back to the WNDR3700(!); which brings me neatly around to flashing and de-flashing (i.e. reverting to stock).</p><p>In order to get OpenWrt on my E4200:</p><p>1) I started with Linksys stock firmware, reset to defaults; static IP set on host I&#039;d be flashing from (192.168.1.2).<br />2) I flashed a DD-WRT &#039;trailed&#039; mini build (I&#039;m a recent arrival from DD-WRT and old habits die hard!).<br />3) I performed a 30/30/30 reset once the mini build finished its first boot.<br />4) I flashed the OpenWrt file linked in my post above from the DD-WRT firmware upgrade dialogue.</p><p>OpenWrt booted, and I was able to configure the router as previously described.</p><p>Flashing back to stock was interesting for a minute or two (this was the main thing I&#039;d been cautious about since I haven&#039;t seen much about recovering E4200s). I offered the stock firmware file to OpenWrt&#039;s upgrade dialogue, and it reported that the file was unsuitable. After some quick reading, and taking a decision that I&#039;d just give something a whirl...</p><p>1) I put the firmware file (renamed to e4200oem.bin) on the router in /tmp via SCP.<br />2) Connected to the router via SSH, navigated to /tmp.<br />3) On my initial attempt, mtd reported that the file was unsuitable for writing, so I [bravely!] decided to strip 32 bytes of header:<br />&nbsp; &nbsp; dd bs=32 skip=1 if=e4200oem.bin of=e4200oem.trx<br />4) Wrote the file to flash:<br />&nbsp; &nbsp; mtd -r write /tmp/e4200oem.trx firmware<br />5) mtd reported successful write and rebooted the router.<br />6) The router appeared to be booting normally (with OEM LED behaviour), but it continued to reboot (perhaps 30 seconds apart). I thought I&#039;d give it a few minutes in case it was just settling down while I considered my next move. A few minutes later I thought I&#039;d have a go at trying for a tftp recovery (who knows, maybe!), so I killed the power and booted up with the reset button held down. I noticed the Cisco logo behaving differently (constantly illuminated); I gave it 30 seconds and released reset. Before I&#039;d got to trying to tftp, I saw ping responses coming in, and when I checked <a href="http://192.168.1.1">http://192.168.1.1</a> I found a first-booted Cisco welcome screen. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Anyway, I&#039;ve got loads of screenshots, copies of logs, and notes on what I did, how I did it, and what resulted; is it worth putting any of it on the Wiki?</p><p>Best regards,</p><p>Rob.</p>											<p class="post-edited">(Last edited by <strong>FactionOne</strong> on 15 Aug 2015, 05:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289436">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						27 Aug 2015, 19:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>FactionOne wrote:</cite><blockquote><p>5GHz does not start (is reported as generic 2.4GHz).</p></blockquote></div><p>This is most likely caused by missing NVRAM entries. You erased your NVRAM and lost calibration &amp; hardware info data.</p><div class="quotebox"><cite>FactionOne wrote:</cite><blockquote><p>3) I performed a 30/30/30 reset once the mini build finished its first boot.</p></blockquote></div><p>This is exactly how you erased your NVRAM. Don&#039;t do that!</p><div class="quotebox"><cite>FactionOne wrote:</cite><blockquote><p>Flashing back to stock was interesting for a minute or two (this was the main thing I&#039;d been cautious about since I haven&#039;t seen much about recovering E4200s). I offered the stock firmware file to OpenWrt&#039;s upgrade dialogue, and it reported that the file was unsuitable.</p></blockquote></div><p>This was fixed in 15.05 release. If you install 15.05, then you can easily sysupgrade using original firmware, OpenWrt will recognize it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290179">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">FactionOne</div>
					<div class="post-datetime">
						2 Sep 2015, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>Zajec: Thanks very much for your reply.</p><p>On the NVRAM issue; wouldn&#039;t it have been repopulated when the DD-WRT mini build [re]booted after the reset? (That is to say, I let it boot and take a minute to settle before moving on to flashing OpenWrt). Perhaps there are entries Linksys/Cisco put in it which DD-WRT doesn&#039;t?</p><p>Am I right in thinking that if I have another go, it&#039;s best just to flash to OpenWrt straight from stock firmware? (I was conscious that it&#039;d be unlikely to be &#039;planned&#039; procedure to flash from another aftermarket firmware, but I must confess to having been conditioned/indoctrinated/brainwashed into thinking &quot;it&#039;s always safe to flash to &amp; from a DD-WRT &#039;trailed&#039; mini&quot;; so in the absence of specific instructions, I decided I&#039;d stick to what I know)</p><p>When I next get some time, I&#039;ll give it another go (and report my findings if it&#039;s useful?); I&#039;m interested to see the results, and hope the feedback might perhaps be (even infinitesimally) helpful to someone, as I&#039;m grateful to the OpenWrt community - my VLANs for private NAT and public DMZ have been working beautifully for the past couple of weeks - with 14.07 on a Netgear WNDR3700v4.</p><p>[Off topic] The Netgear setup has on the whole been excellent; the only caveat being (as I&#039;d read before I started) that occassionally the wireless (2.4GHz) becomes unresponsive. It&#039;s not a huge problem, as my wifi is only used for &#039;nonsense&#039; devices; everything important is (naturally) on Cat5e which continues to work flawlessly. I&#039;m just wondering if perhaps it&#039;s worth sticking my toe in the water with 15.05 on the Netgear?</p><p>Thanks again,</p><p>Rob.</p>											<p class="post-edited">(Last edited by <strong>FactionOne</strong> on 2 Sep 2015, 16:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290209">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						2 Sep 2015, 19:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>FactionOne wrote:</cite><blockquote><p>On the NVRAM issue; wouldn&#039;t it have been repopulated when the DD-WRT mini build [re]booted after the reset?</p></blockquote></div><p>Hard to say, it depends how well DD-WRT follows original firmware. It may repopulate most of important entries due to using wl userspace tools, but some may still be missing. Who knows.</p><div class="quotebox"><cite>FactionOne wrote:</cite><blockquote><p>Am I right in thinking that if I have another go, it&#039;s best just to flash to OpenWrt straight from stock firmware?</p></blockquote></div><p>That&#039;s right.</p><div class="quotebox"><cite>FactionOne wrote:</cite><blockquote><p>When I next get some time, I&#039;ll give it another go (and report my findings if it&#039;s useful?)</p></blockquote></div><p>Poor (or lacking) wireless support is expected, so reporting it won&#039;t help. If there are any other issues, describe them.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295024">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Martian2</div>
					<div class="post-datetime">
						7 Oct 2015, 03:41					</div>
				</div>
				<div class="post-content content">
					<p>Try flashing this image to your E4200 v1. Only 2.4 is working but I don&#039;t see any slowness.</p><p><a href="https://downloads.openwrt.org/barrier_breaker/14.07/brcm47xx/mips74k/">https://downloads.openwrt.org/barrier_b â€¦ x/mips74k/</a></p><p>openwrt-e4200_v1-squashfs.bin</p>											<p class="post-edited">(Last edited by <strong>Martian2</strong> on 7 Oct 2015, 04:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298528">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">joni</div>
					<div class="post-datetime">
						3 Nov 2015, 20:55					</div>
				</div>
				<div class="post-content content">
					<p>I flashed that one (BB 14.07) and its fine, but I see the same image for Chaos Calmer, but no sysupgrade version.... How should I flash it since I&#039;m already in the BB version? ....I don&#039;t care about the config.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298533">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						3 Nov 2015, 21:00					</div>
				</div>
				<div class="post-content content">
					<p>That probably means sysupgrade is not supported. So back up your settings, then flash the 15.05 binary just like you flashed the 14.07 one, and restore your 14.07 settings if you wish; although it would be more prudent to just keep them for reference and as a help for configuring 15.05, to exclude any weird bugs arising from outdated configs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298540">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">joni</div>
					<div class="post-datetime">
						3 Nov 2015, 21:31					</div>
				</div>
				<div class="post-content content">
					<p>I forgot to mention the issue is that I flashed BB from stock....should I go back to stock before flashing CC ?</p><p>There is no OpenWrt Instruction page for this router, so there is only 2 issues:</p><p> 1 - flash BB to CC without sysupgrade image? how?<br /> 2 - flash back to stock? how?</p><p>PS: settings are not a problem for me, not even needed for reference , but i do have a copy of uci files and I Know the packages i installed and configurations for those as well. This is just a test router for me so no biggy about configuration.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298683">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						5 Nov 2015, 08:31					</div>
				</div>
				<div class="post-content content">
					<p>brcm47xx and bcm53xx don&#039;t need any special image for sysupgrade. You just use the standard one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350436">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">spaedie</div>
					<div class="post-datetime">
						28 Jan 2017, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>Just installed 15.05.1 and found the following:<br />Generic 802.11bg Wireless Controller (radio0)<br />Generic 802.11bg Wireless Controller (radio1)</p><p>So both radios are Generic. But also both only have 2.4GHz configuration so the 5GHz antenna is not configurable. Also I find that when configuring radio0, the wireless will connect, but no internet. With radio1 that issue is solved.<br />However speeds are definetely not impressive so far.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>