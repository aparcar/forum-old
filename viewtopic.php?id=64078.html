<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> EA4500 how to upgrade from Chaos Calmer 15.05.1 to latest trunk</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p318927">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						10 Apr 2016, 02:07					</div>
				</div>
				<div class="post-content content">
					<p>how to upgrade EA4500 from Chaos Calmer 15.05.1 to latest trunk<br />i used candyhouse project to flash it before and in LUCI i can&#039;t use flash new firmware this message appeared to me: <br />Sorry, there is no sysupgrade support present; a new firmware image must be flashed manually. Please refer to the OpenWrt wiki for device specific install instructions.<br />please help <br />also i don&#039;t know how i can return to stock firmware</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318932">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MORBiD</div>
					<div class="post-datetime">
						10 Apr 2016, 02:31					</div>
				</div>
				<div class="post-content content">
					<p>i would also like some advice on this before i flash..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318965">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						10 Apr 2016, 10:16					</div>
				</div>
				<div class="post-content content">
					<p>Like the error message says, Openwrt wiki for your device offers more info:<br /><a href="https://wiki.openwrt.org/toh/linksys/ea4500#installation">https://wiki.openwrt.org/toh/linksys/ea … stallation</a><br />Based on that wiki and later source commits to Openwrt trunk, it looks like there is no sysupgrade support on 15.05.1, but the current trunk has that support.</p><p><a href="https://wiki.openwrt.org/toh/linksys/ea4500#back_to_the_original_stock_firmware">https://wiki.openwrt.org/toh/linksys/ea … k_firmware</a><br />Based on wiki, your router seems to have two copies of the firmware. Manually breaking the boot three times (but cutting power) should force the bootloader to swich to the old Linksys firmware...<br /></p><div class="quotebox"><blockquote><p>Method 2: This works too if you had flashed a firmware image from the stock Linksys web interface.</p><p>Cut the power to the router while the router is booting up. The router white LED shall blink rapidly and that&#039;s when you cut the power–inducing a failed boot. After 3 failed boots, the EA4500 then boots from the backup partition and reverts back to its Linksys firmware.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318969">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						10 Apr 2016, 10:40					</div>
				</div>
				<div class="post-content content">
					<p>i test this method but nothing happened and still the firmware is CC</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319034">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						10 Apr 2016, 19:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>i test this method but nothing happened and still the firmware is CC</p></blockquote></div><p>hmm...is it possible when you have flashed your ea4500 from stock linksys to candyhouse cc, you had flashed both the primary and alternate firmware partitions to cc?&nbsp; perhaps that would help explain why after 3 induced failed reboots your router is still on the cc firmware since neither of the dual firmware layout has a stock linksys firmware.</p><p>i&#039;m not familiar with the candyhouse project but a quick search had led me to <a href="http://www.wolfteck.com/projects/candyhouse/openwrt/">http://www.wolfteck.com/projects/candyhouse/openwrt/</a>.&nbsp; claudio leite has made a comment and you should read it yourself <a href="http://www.wolfteck.com/projects/candyhouse/openwrt/#comment-2351050026">http://www.wolfteck.com/projects/candyh … 2351050026</a> on flashing back to linksys firmware.&nbsp; i surmise you flash back to the linksys firmware directly from candyhouse cc??&nbsp; i would suggest choosing the linksys classic.</p><p>i have tested the following:<br />flashed from linksys cloud to linksys classic -- success.<br />flashed from linksys classic to dd trunk -- success.<br />flashed from dd trunk to linksys classic -- success.<br />induced 3 failed boots from dd trunk to linksys classic --&nbsp; success.<br />induced 3 failed boots from linksys classic to dd trunk&nbsp; -- success.</p><p>if you are successful in flashing from candyhouse cc to linksys classic, please share your results back in this thread so others may learn and the ea4500 wiki can be updated.&nbsp; good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319193">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						11 Apr 2016, 20:55					</div>
				</div>
				<div class="post-content content">
					<p>now after i put this two command the router is totally bricked and i can&#039;t access even with my candyhouse usb<br />fw_setenv auto_recovery yes<br />fw_setenv boot_part 2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319199">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						11 Apr 2016, 21:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>now after i put this two command the router is totally bricked and i can&#039;t access even with my candyhouse usb</p></blockquote></div><p>wait, instead of flashing a stock linksys ssa firmware image from the candyhouse cc, you execute these u-boot commands?</p><div class="codebox"><pre><code>fw_setenv auto_recovery yes
fw_setenv boot_part 2</code></pre></div><p>hmm... why?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319202">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						11 Apr 2016, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>Actually i don&#039;t know why and now i can&#039;t access the candyhouse also i don&#039;t know&nbsp; how i can use tftp there is no step by step doc</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319259">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						12 Apr 2016, 08:56					</div>
				</div>
				<div class="post-content content">
					<p>please help, the router is dead now and i used tftp client but no response</p>											<p class="post-edited">(Last edited by <strong>Trueplayer</strong> on 12 Apr 2016, 08:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319328">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						12 Apr 2016, 17:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>please help, the router is dead now and i used tftp client but no response</p></blockquote></div><p>i hate to break this to you but it appears you have inadvertently modified the bootloader environment and you are now looking at fixing the environment variables via serial console.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319330">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						12 Apr 2016, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>There is no way except serial</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319436">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						13 Apr 2016, 08:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>There is no way except serial</p></blockquote></div><p>you can try inducing at least 3 failed reboots to see if you have any partition left with a working firmware.&nbsp; you basically cut the power when the white LED starts to flicker.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319452">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						13 Apr 2016, 11:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wrtboy wrote:</cite><blockquote><div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>There is no way except serial</p></blockquote></div><p>you can try inducing at least 3 failed reboots to see if you have any partition left with a working firmware.&nbsp; you basically cut the power when the white LED starts to flicker.</p></blockquote></div><p>i did it i cut off the power when it was start flickering but nothing happened, i have RJ45 DB9 Cisco console cable it will works if i connect it to the lan or wan port or not and if it is not what i need to make a serial connection and what is the simplest way with EA4500 ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319489">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						13 Apr 2016, 17:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>i have RJ45 DB9 Cisco console cable</p></blockquote></div><p>the rj45 db9 cable won&#039;t work.&nbsp; you will need an usb ttl cable and solder the appropriate wire leads (rx, tx, and ground) to the J5 serial port.&nbsp; this involves taking the ea4500 housing apart so you can reach the board serial port.&nbsp; whatever you do, ensure you do not use the red wire (vcc).</p><p><a href="https://wiki.openwrt.org/toh/linksys/ea4500#serial">https://wiki.openwrt.org/toh/linksys/ea4500#serial</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319683">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						14 Apr 2016, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>I purchased cable like that <a href="http://www.amazon.co.uk/Adafruit-USB-TTL-Serial-Cable/dp/B00KAE2EL4">http://www.amazon.co.uk/Adafruit-USB-TT … B00KAE2EL4</a></p><p>But i don&#039;t know how i can hold it or connect it to the board do i need something else bcz the board is flat</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319696">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						14 Apr 2016, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>you will need to solder the appropriate wires to the board.&nbsp; here&#039;s a pic from the ea3500 wiki to give you an idea but <strong>don&#039;t follow the wiring</strong> on this picture because i think something looks wrong when the red wire (vcc) is soldered to the serial (rx).&nbsp; others reading this thread can also weigh in.</p><p><span class="postimg"><img src="https://wiki.openwrt.org/_media/media/linksys/ea3500_serial_console.jpg?w=400&amp;tok=82f794" alt="https://wiki.openwrt.org/_media/media/linksys/ea3500_serial_console.jpg?w=400&amp;amp;tok=82f794" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319757">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						15 Apr 2016, 06:53					</div>
				</div>
				<div class="post-content content">
					<p>How i can solder it there is black header in this wires i need to remove it or wht</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319761">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						15 Apr 2016, 07:37					</div>
				</div>
				<div class="post-content content">
					<p>yes you will have to cut off the black ttl pin connectors for the wires you need to solder.&nbsp; make sure you do not use the red wire (power).&nbsp; all you need is to solder the green (rx), white (tx), and black (gnd) to the board J5 serial port.</p><p><a href="https://wiki.openwrt.org/toh/linksys/ea4500#serial">https://wiki.openwrt.org/toh/linksys/ea4500#serial</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319802">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						15 Apr 2016, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>How i can solder it wht tools i need, i need a solder pump or not? </p><p>Please if u have step by step document how i can sold the wires?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319829">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						15 Apr 2016, 16:01					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://www.youtube.com/watch?v=IRH5zR9V62A">https://www.youtube.com/watch?v=IRH5zR9V62A</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319860">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						15 Apr 2016, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>now i solder it but my mac os x 10.11 can not detect the usb i will try to use windows now</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319876">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						15 Apr 2016, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>Also in windows 7 is not working, there is any help?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319878">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						15 Apr 2016, 22:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>Also in windows 7 is not working, there is any help?</p></blockquote></div><p>you mean win7 failed to detect the usb ttl cable?&nbsp; you should contact the vendor who sold you the cable and find out what driver is needed for win7 for it to work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319908">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Trueplayer</div>
					<div class="post-datetime">
						16 Apr 2016, 02:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wrtboy wrote:</cite><blockquote><div class="quotebox"><cite>Trueplayer wrote:</cite><blockquote><p>Also in windows 7 is not working, there is any help?</p></blockquote></div><p>you mean win7 failed to detect the usb ttl cable?&nbsp; you should contact the vendor who sold you the cable and find out what driver is needed for win7 for it to work.</p></blockquote></div><p>Yes with message device is not recognized</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>