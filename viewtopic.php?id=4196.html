<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Searching for a SIP softphone client</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p19539">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jongerenchaos</div>
					<div class="post-datetime">
						22 Jan 2006, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody!</p><p>I&#039;am searching for a sip client softphone for my ASUS router. Beacuse i add a soundcard on the usb port with headset on my ASUS and i will make phonecalls (with my router). </p><p>Is there an IPKG package for installing an SIP client softphone (so that i can calling with this headset and with the commandline from SSH)?</p><p>For example an ipkg version of linphone,ohphone or someting that i can use from the commandline prompt!</p>											<p class="post-edited">(Last edited by <strong>jongerenchaos</strong> on 22 Jan 2006, 16:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19867">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jongerenchaos</div>
					<div class="post-datetime">
						28 Jan 2006, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to use asterisk for this with the oss.conf &amp; chan_oss.so module? So that i can use the soundcard in and out for calling? </p><p>If it is possible is there already a compiled version with the chan_oss.so module in it??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19906">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jongerenchaos</div>
					<div class="post-datetime">
						29 Jan 2006, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>This works! I compile the asterisk version with chan_oss.so and i get sound!</p><p>But there is one problem, the sound is very slow and a lot of jitter. The problem is the soundcard is made for 44100 hz&nbsp; &amp; 48000 hz, and the oss program channel ask for 8000hz. </p><p>Is there a solution so that i can get the soundcard to 8000hz or the asterisk oss channel to 44100/48000hz?</p><p>(--------Logread -f from the USB soundcard!--------------------</p><p>Jan&nbsp; 1 00:16:09 (none) kern.info kernel: usb.c: USB disconnect on device 01:02.0-1 address 3<br />Jan&nbsp; 1 00:16:09 (none) kern.info kernel: usbaudio: unregister dsp 14,3<br />Jan&nbsp; 1 00:16:09 (none) kern.info kernel: usbaudio: unregister mixer 14,0<br />Jan&nbsp; 1 00:16:09 (none) kern.info kernel: usbaudio: unregister mixer 14,16<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: hub.c: new USB device 01:02.0-1, assigned address 4<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: device 4 audiocontrol interface 0 has 1 input and 1 output AudioStreaming interfaces<br />Jan&nbsp; 1 00:16:12 (none) kern.err kernel: usbaudio: device 4 interface 2 altsetting 1 channels 1 framesize 2 configured<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: valid input sample rate 48000<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: valid input sample rate 44100<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: device 4 interface 2 altsetting 1: format 0x00000010 sratelo 44100 sratehi 48000 attributes 0x01<br />Jan&nbsp; 1 00:16:12 (none) kern.err kernel: usbaudio: device 4 interface 1 altsetting 0 does not have an endpoint<br />Jan&nbsp; 1 00:16:12 (none) kern.err kernel: usbaudio: device 4 interface 1 altsetting 1 channels 2 framesize 2 configured<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: valid output sample rate 48000<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: valid output sample rate 44100<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: device 4 interface 1 altsetting 1: format 0x01000010 sratelo 44100 sratehi 48000 attributes 0x01<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: registered dsp 14,3<br />Jan&nbsp; 1 00:16:12 (none) kern.debug kernel: usbaudio: constructing mixer for Terminal 6 type 0x0301<br />Jan&nbsp; 1 00:16:12 (none) kern.warn kernel: usbaudio: warning: found 1 of 2 logical channels.<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: assuming that a stereo channel connected directly to a mixer is missing in search (got Labtec headset?). Should be fine.<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: registered mixer 14,0<br />Jan&nbsp; 1 00:16:12 (none) kern.debug kernel: usbaudio: constructing mixer for Terminal 7 type 0x0101<br />Jan&nbsp; 1 00:16:12 (none) kern.info kernel: usbaudio: registered mixer 14,16<br />Jan&nbsp; 1 00:16:12 (none) kern.debug kernel: usb_audio_parsecontrol: usb_audio_state at 811934c0)</p>											<p class="post-edited">(Last edited by <strong>jongerenchaos</strong> on 29 Jan 2006, 15:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19912">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">eeman</div>
					<div class="post-datetime">
						29 Jan 2006, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>you are limited to 8000hz because that is what frequency range the phone system was designed for. The PSTN was designed using the codec PCMu aka uLaw aka G.711u. Quoting from O&#039;Reillys &quot;Asterisk - The Future of Telephony&quot;: </p><div class="quotebox"><blockquote><p>The purpose of the Public Switched Telephone Network (PSTN) is to establish and maintain audio connections between two endpoints. Although humans can perceive sound vibrations in the range of 20–20,000 Hz,† most of the sounds we make when speaking tend to be in the range of 250–3,000 Hz. Since the purpose of the telephone network is to transmit the sounds of people speaking, it was designed with a bandwidth of somewhere in the range of 300–3,500 Hz. This limited bandwidth means that some sound quality will be lost (as anyone who’s had to listen to music on hold can attest to), especially in the higher frequencies.</p><p>&lt;.. cut examples of pcm encoding with illustrations .. &gt;</p><p>In essence, what this means is that to accurately encode an analog signal you have to sample it twice as often as the total bandwidth you wish to reproduce. Since the telephone network will not carry frequencies below 300 Hz and above 4,000 Hz, a sampling frequency of 8,000 samples per second will be sufficient to reproduce any frequency within the bandwidth of an analog telephone. Keep that 8,000 samples per second in mind; we’re going to talk about it more later.</p></blockquote></div><p>So you are committed to 8khz sample rates on asterisk because that is what has to be handed off to the PSTN and is the nature of all the VoIP codec&#039;s out there. What codec are you using? If you are encoding in one codec but communicating with your PSTN or SIP/IAX peer in another codec then Asterisk has to handle the coding/decoding between the two. These broadcom devices simply dont have enough juice for that. See if restricting your codec to pure uLaw will help you out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19915">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jongerenchaos</div>
					<div class="post-datetime">
						29 Jan 2006, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>First thanks for the fast response!</p><p>I use currently the Ulaw/Alaw G.711 uncompressed codec with the OSS module. And this not work (very slow voice but no high processor load). I know that asterisk can encoding for example from Ulaw to GSM data. I&#039;ll use the installed version in combination with a asterisk on a dataserver.<br />(usb soundcard with headset connected to &lt;-&gt; asterisk on ASUS router &lt;-&gt; asterisk on linux system in datacentre (pentium4) &lt;-&gt; sip client). </p><p>If it is possible i will translate this 44100hz to 8000hz on the linux asterisk system in the datacenter is there a solution for it? And which codec can i use for this if it is possible?</p>											<p class="post-edited">(Last edited by <strong>jongerenchaos</strong> on 29 Jan 2006, 22:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19926">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">eeman</div>
					<div class="post-datetime">
						30 Jan 2006, 04:23					</div>
				</div>
				<div class="post-content content">
					<p>i think the problem is it is having to encode analog (your voice) into a codec. This is quite a tax on a 233mhz machine that does 1 instruction per clock cycle, in my opinion. Try using a sip soft phone on a workstation and connect to the asus router w/ the softphone. This will make handling the coding the job of your PC (probably 1ghz or higher p3 or p4). If the codec comes into your asus as G711u and goes out to the other asterisk server as G711u then the actual load on the asus is quite minimal. It essentially justs switches the traffic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107550">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">alejo</div>
					<div class="post-datetime">
						22 Apr 2010, 03:43					</div>
				</div>
				<div class="post-content content">
					<p>Hello, i need to port any softphone (SIP) like linphone in my mips Openwrt platform. I have had a lot of problems compiling linphone, with no succeed!....did you asterisk as voip client?!......do you know some package that can be a ip voice client (SIP softphone)??</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>