<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ubiquiti routerstation/pro</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p143348">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">flamemaniii</div>
					<div class="post-datetime">
						11 Sep 2011, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>hello</p><p>i have bought this peace of hardare</p><p>&nbsp; &nbsp; CPU: Atheros AR71xx SoC 720 Mhz (MIPS 32-bit big-endian)<br />&nbsp; &nbsp; Memory: 128MB<br />&nbsp; &nbsp; RS232 (serial) interface<br />&nbsp; &nbsp; Network: 4-Port Gigabit Ethernet Switch<br />&nbsp; &nbsp; SDIO card support<br />&nbsp; &nbsp; Power: 40-54V DC, 802.3af PoE compliant, DC power jack </p><p>which i&#039;d like to have running with linux/openwrt</p><p>i have checked out kamikaze and blackfire branck, but i have nothing working about</p><p>- mtd<br />- mmc/sd<br />- usb</p><br /><p>i am testing kernel<br />- 2.6.26<br />- 2.6.32<br />- 2.6.39</p><br /><br /><p>what it the real status of the support for routerboard/pro ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143349">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">flamemaniii</div>
					<div class="post-datetime">
						11 Sep 2011, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>could also someone tell me that was the svn revision of kamikaze that was shipped with kernel 2.6.28 ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143389">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">robrob</div>
					<div class="post-datetime">
						12 Sep 2011, 05:19					</div>
				</div>
				<div class="post-content content">
					<p>The RouterStation Pro is fully supported in OpenWrt. Just add all the USB2 storage and filesystem packages and the SDIO card will be seen as a USB scsi disc. I have a 16GB SD card formatted as an ext4 disc in my RSPro. I&#039;m using the trunk and 2.6.39.4.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143405">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">flamemaniii</div>
					<div class="post-datetime">
						12 Sep 2011, 11:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robrob wrote:</cite><blockquote><p>The RouterStation Pro is fully supported in OpenWrt. Just add all the USB2 storage and filesystem packages and the SDIO card will be seen as a USB scsi disc. I have a 16GB SD card formatted as an ext4 disc in my RSPro. I&#039;m using the trunk and 2.6.39.4.</p></blockquote></div><p>well, i configured openwrt in order to build kernels (all i listed in the previous post): no one is booting fine!<br />i am using ar71 config-2.6.*, adding specific devices, such as usb, mmc</p><p>also i am manually passing to board variable in the the kernel cmdline, elseway i noticed the kernel is not initializing specific devices</p><p>i tested all the precompiled kernels (kamikaze, blackfire) from operwrt repo: no one is working! no one is recognizing the mtd redboot table!</p><p>i wandering it there is something wrong in the procedure i use to load kernel.elf and to execute it</p><p>i am using a gentoo machine where i installed a pretty tftpboot<br />i configured the routerboard/pro in order to ask that machine a copy of kernel.elf</p><p>to load and execute kernel in the routerstation/pro i used to type</p><p>redboot: load kernel.elf<br />redboot: exec</p><p>then i see the kernel bootstrapping with a panic cause it does not recognize the mtd table</p><br /><br /><br /><br /><p>on my routerstation/pro has been installed kamikaze, with a working kernel 2.6.28 that i am still able to boot</p><p>redboot: RedBoot&gt; fis load -d -e kernel<br />redboot: exec</p><p>then i see the kernel bootstrappint and loading /etc/preinit ... and such a stuff</p><br /><br /><br /><br /><br /><br /><p>could i ask you<br />- a copy of a working kernel<br />- a copy of his .config<br />- the procedure to download it from pc to routerstation using tftp and redboot<br />- the procedure to execute it</p><br /><br /><br /><p>edit:<br />it seems there are issues<br /><a href="http://www.ubnt.com/forum/showthread.php?t=16905">http://www.ubnt.com/forum/showthread.php?t=16905</a></p>											<p class="post-edited">(Last edited by <strong>flamemaniii</strong> on 12 Sep 2011, 13:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143411">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">flamemaniii</div>
					<div class="post-datetime">
						12 Sep 2011, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>just to park here a draft note (i have to test it, even if ... it is similar to the method i am using)</p><br /><br /><div class="quotebox"><blockquote><p>Just a quick note, more to myself than anyone else, but I wasn&#039;t able to easily find this information online, trolling through the OpenWRT and Ubiquiti forums.</p><p>I wanted to try booting different kernels on the device before committing to flashing, so that all I had to do was reboot the board and everything would come back up as normal. It seems obvious that this should be possible, and with a bit of digging around in RedBoot docs, trial and error, and a few lucky guesses I was able to figure out the incantation to make RedBoot load an uncompressed linux kernel (ELF) and boot it:</p><p>load -m tftp -h 192.168.1.1 openwrt-ar71xx-generic-vmlinux.elf<br />exec -c &quot;board=UBNT-RSPRO panic=1&quot;</p><p>Note that this does not change the root filesystem, so if your modules aren&#039;t compatible, this won&#039;t work, but I suspect if you use an embedded initrd you can run the system entirely out of RAM without touching flash.</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>flamemaniii</strong> on 12 Sep 2011, 18:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143619">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">robrob</div>
					<div class="post-datetime">
						14 Sep 2011, 06:18					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve never used tftpboot with the RouterStationPro. I just flash the RSPro sysupgrade bin file using the LuCI web interface or flash the factory.bin file using the reset+power on and tftp transfer method. I haven&#039;t dealt with Redboot since flashing a RouterBoard RB493AH a couple of years ago.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143637">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">flamemaniii</div>
					<div class="post-datetime">
						14 Sep 2011, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>umm mybe it is a redboot bug<br />i will investigate</p><p>here i am hacking the kernel, so i need to test it before replacing what is in the flash (2.6.28, kamikaze dunno what rev, i have no /etc/banner in my mtd rootfs)</p><p>anyway, let&#039;s go rock n roll</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153562">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">DSPONFPGA</div>
					<div class="post-datetime">
						8 Jan 2012, 11:48					</div>
				</div>
				<div class="post-content content">
					<p>what is the status of Routerstation pro with openwrt. SD card and USB don;t work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />(((</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153567">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						8 Jan 2012, 13:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DSPONFPGA wrote:</cite><blockquote><p>what is the status of Routerstation pro with openwrt. SD card and USB don;t work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />(((</p></blockquote></div><p>USB works fine. For SD card I&#039;m not sure.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>