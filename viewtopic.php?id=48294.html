<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> USB Problems no /dev/sda</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p222084">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">janulrich</div>
					<div class="post-datetime">
						8 Jan 2014, 17:10					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using the trunk codebase (r39203) on a Asus WL500W.</p><p>I&#039;m having trouble with usb support. I can see the device on the bus, but not as /dev/sda.</p><p>I see /dev/bus/usb/001/001, but no /dev/sd*.</p><p>I have the following packages installed:</p><p>kmod-usb-brcm47xx - 3.10.24-1<br />kmod-usb-core - 3.10.24-1<br />kmod-usb-ohci - 3.10.24-1<br />kmod-usb-storage - 3.10.24-1<br />kmod-usb-storage-extras - 3.10.24-1<br />kmod-usb2 - 3.10.24-1<br />block-mount - 2013-12-09-0c6d5bd1fc1fd28c71290610faeee11b399c869a</p><p>Am I missing a package?</p><p>Dmesg:<br /></p><div class="codebox"><pre><code>[    0.000000] Linux version 3.10.24 (openwrt@snapon) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2013.05 r39203) ) #1 Mon Jan 6 21:58:02 PST 2014
[    0.000000] CPU revision is: 00029006 (Broadcom BMIPS3300)
[    0.000000] bcm47xx: using ssb bus
[    0.000000] ssb: Found chip with id 0x4704, rev 0x09 and package 0x00
[    0.000000] ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x03, vendor 0x4243)
[    0.000000] ssb: Core 1 found: Fast Ethernet (cc 0x806, rev 0x06, vendor 0x4243)
[    0.000000] ssb: Core 2 found: Fast Ethernet (cc 0x806, rev 0x06, vendor 0x4243)
[    0.000000] ssb: Core 3 found: USB 1.1 Hostdev (cc 0x808, rev 0x03, vendor 0x4243)
[    0.000000] ssb: Core 4 found: PCI (cc 0x804, rev 0x08, vendor 0x4243)
[    0.000000] ssb: Core 5 found: MIPS 3302 (cc 0x816, rev 0x03, vendor 0x4243)
[    0.000000] ssb: Core 6 found: V90 (cc 0x807, rev 0x02, vendor 0x4243)
[    0.000000] ssb: Core 7 found: IPSEC (cc 0x80B, rev 0x00, vendor 0x4243)
[    0.000000] ssb: Core 8 found: MEMC SDRAM (cc 0x80F, rev 0x02, vendor 0x4243)
[    0.000000] ssb: chipcommon status is 0x0
[    0.000000] ssb: Initializing MIPS core...
[    0.000000] ssb: set_irq: core 0x0806, irq 4 =&gt; 4
[    0.000000] ssb: set_irq: core 0x0806, irq 5 =&gt; 5
[    0.000000] ssb: set_irq: core 0x0808, irq 6 =&gt; 2
[    0.000000] ssb: set_irq: core 0x0804, irq 2 =&gt; 6
[    0.000000] ssb: after irq reconfiguration
[    0.000000] ssb: core 0x0800, irq : 2(S)  3* 4  5  6  D  I 
[    0.000000] ssb: core 0x0806, irq : 2(S)  3  4* 5  6  D  I 
[    0.000000] ssb: core 0x0806, irq : 2(S)  3  4  5* 6  D  I 
[    0.000000] ssb: core 0x0808, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x0804, irq : 2(S)  3  4  5  6* D  I 
[    0.000000] ssb: core 0x0816, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x0807, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x080b, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x080f, irq : 2(S)  3  4  5  6  D  I*
[    0.000000] Unsupported SPROM revision 0 detected. Will extract v1
[    0.000000] ssb: Sonics Silicon Backplane found at address 0x18000000
[    0.000000] MIPS: machine is Asus WL500W
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 802dabe0, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
[    0.000000] Primary data cache 16kB, 2-way, VIPT, cache aliases, linesize 16 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Memory: 28992k/32768k available (2413k kernel code, 3776k reserved, 587k data, 192k init, 0k highmem)
[    0.000000] NR_IRQS:128
[    0.070000] Calibrating delay loop... 262.96 BogoMIPS (lpj=1314816)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.070000] NET: Registered protocol family 16
[    0.110000] bio: create slab &lt;bio-0&gt; at 0
[    0.120000] Switching to clocksource MIPS
[    0.130000] ssb: PCIcore in host mode found
[    0.430000] PCI host bridge to bus 0000:00
[    0.430000] pci_bus 0000:00: root bus resource [mem 0x40000000-0x7fffffff]
[    0.430000] pci_bus 0000:00: root bus resource [io  0x0100-0x07ff]
[    0.430000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    0.430000] pci 0000:00:00.0: [14e4:4704] type 00 class 0x060000
[    0.430000] ssb: PCI: Fixing up bridge 0000:00:00.0
[    0.430000] pci 0000:00:00.0: setting latency timer to 64
[    0.430000] ssb: PCI: Fixing up device 0000:00:00.0
[    0.430000] ssb: PCI: Fixing latency timer of device 0000:00:00.0 to 168
[    0.430000] pci 0000:00:00.0: reg 10: [mem 0x00000000-0x00001fff]
[    0.430000] pci 0000:00:00.0: reg 14: [mem 0x00000000-0x07ffffff pref]
[    0.430000] pci 0000:00:02.0: [14e4:4329] type 00 class 0x028000
[    0.430000] pci 0000:00:02.0: reg 10: [mem 0x00000000-0x00003fff]
[    0.430000] pci 0000:00:03.0: [1106:3038] type 00 class 0x0c0300
[    0.430000] pci 0000:00:03.0: reg 20: [io  0xfce0-0xfcff]
[    0.430000] pci 0000:00:03.0: supports D1 D2
[    0.430000] pci 0000:00:03.0: PME# supported from D0 D1 D2 D3hot
[    0.430000] pci 0000:00:03.1: [1106:3038] type 00 class 0x0c0300
[    0.430000] pci 0000:00:03.1: reg 20: [io  0xfce0-0xfcff]
[    0.430000] pci 0000:00:03.1: supports D1 D2
[    0.430000] pci 0000:00:03.1: PME# supported from D0 D1 D2 D3hot
[    0.440000] pci 0000:00:03.2: [1106:3104] type 00 class 0x0c0320
[    0.440000] pci 0000:00:03.2: reg 10: [mem 0x00000000-0x000000ff]
[    0.440000] pci 0000:00:03.2: supports D1 D2
[    0.440000] pci 0000:00:03.2: PME# supported from D0 D1 D2 D3hot
[    0.440000] pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to 00
[    0.440000] pci 0000:00:02.0: BAR 0: assigned [mem 0x40000000-0x40003fff]
[    0.440000] pci 0000:00:03.2: BAR 0: assigned [mem 0x40004000-0x400040ff]
[    0.440000] pci 0000:00:03.0: BAR 4: assigned [io  0x0400-0x041f]
[    0.440000] pci 0000:00:03.1: BAR 4: assigned [io  0x0420-0x043f]
[    0.450000] PCI: Enabling device 0000:00:02.0 (0000 -&gt; 0002)
[    0.450000] ssb: PCI: Fixing up device 0000:00:02.0
[    0.450000] b43-pci-bridge 0000:00:02.0: setting latency timer to 64
[    0.490000] ssb: Found chip with id 0x4321, rev 0x01 and package 0x01
[    0.490000] ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x12, vendor 0x4243)
[    0.490000] ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x0B, vendor 0x4243)
[    0.490000] ssb: Core 2 found: PCI-E (cc 0x820, rev 0x02, vendor 0x4243)
[    0.490000] ssb: Core 3 found: PCI (cc 0x804, rev 0x0D, vendor 0x4243)
[    0.490000] ssb: Core 4 found: USB 1.1 Host (cc 0x817, rev 0x04, vendor 0x4243)
[    0.530000] ssb: chipcommon status is 0x0
[    0.530000] ssb: SPROM offset is 0x1000
[    0.540000] ssb: SPROM revision 4 detected
[    0.580000] ssb: Sonics Silicon Backplane found on PCI device 0000:00:02.0
[    0.580000] NET: Registered protocol family 2
[    0.580000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.580000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.580000] TCP: Hash tables configured (established 512 bind 512)
[    0.580000] TCP: reno registered
[    0.580000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.580000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.580000] NET: Registered protocol family 1
[    0.580000] PCI: CLS 0 bytes, default 16
[    0.590000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.590000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.590000] msgmni has been set to 56
[    0.590000] io scheduler noop registered
[    0.590000] io scheduler deadline registered (default)
[    0.600000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.640000] serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 3) is a 16550A
[    0.990000] console [ttyS0] enabled
[    1.010000] serial8250.0: ttyS1 at MMIO 0xb8000400 (irq = 3) is a 16550A
[    1.020000] physmap platform flash device: 02000001 at 1c000000
[    1.030000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x000001 Chip ID 0x001301
[    1.040000] physmap-flash.0: Found an alias at 0x800000 for the chip at 0x0
[    1.040000] physmap-flash.0: Found an alias at 0x1000000 for the chip at 0x0
[    1.040000] physmap-flash.0: Found an alias at 0x1800000 for the chip at 0x0
[    1.040000] Amd/Fujitsu Extended Query Table at 0x0040
[    1.050000]   Amd/Fujitsu Extended Query version 1.3.
[    1.050000] number of CFI chips: 1
[    1.070000] 6 bcm47xxpart partitions found on MTD device physmap-flash.0
[    1.080000] Creating 6 MTD partitions on &quot;physmap-flash.0&quot;:
[    1.090000] 0x000000000000-0x000000040000 : &quot;boot&quot;
[    1.100000] 0x000000040000-0x0000007f0000 : &quot;firmware&quot;
[    1.110000] 0x00000004001c-0x000000040960 : &quot;loader&quot;
[    1.120000] 0x000000040960-0x000000149400 : &quot;linux&quot;
[    1.120000] mtd: partition &quot;linux&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    1.140000] 0x000000149400-0x0000007f0000 : &quot;rootfs&quot;
[    1.140000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    1.160000] mtd: device 4 (rootfs) set to be root filesystem
[    1.170000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x320000, len=0x4d0000
[    1.180000] 0x000000320000-0x0000007f0000 : &quot;rootfs_data&quot;
[    1.190000] 0x0000007f0000-0x000000800000 : &quot;nvram&quot;
[    1.210000] libphy: Fixed MDIO Bus: probed
[    1.210000] bcm47xx-wdt bcm47xx-wdt.0: BCM47xx Watchdog Timer enabled (30 seconds, Software Timer)
[    1.220000] GPIO_WDT: failed to register misc device
[    1.230000] TCP: cubic registered
[    1.230000] NET: Registered protocol family 17
[    1.240000] Bridge firewalling registered
[    1.240000] can: controller area network core (rev 20120528 abi 9)
[    1.250000] NET: Registered protocol family 29
[    1.250000] 8021q: 802.1Q VLAN Support v1.8
[    1.270000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    1.280000] Freeing unused kernel memory: 192K (802f0000 - 80320000)
[    6.180000] diag: kernel found a &quot;Asus WL500W&quot;
[    6.190000] diag: Detected &#039;ASUS WL-500W&#039;
[    6.200000] pps_core: LinuxPPS API ver. 1 registered
[    6.200000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;
[    6.220000] PTP clock support registered
[    6.230000] b44: Broadcom 44xx/47xx 10/100 PCI ethernet driver version 2.0
[    6.250000] libphy: b44_eth_mii: probed
[    6.320000] b53_common: found switch: BCM5325, rev 0
[    6.330000] b44 ssb0:0: attached PHY driver [Broadcom B53 (1)] (mii_bus:phy_addr=1:1e)
[    6.340000] b44 ssb0:0 eth0: Broadcom 44xx/47xx 10/100 PCI ethernet driver 00:22:15:7f:a9:87
[    6.350000] libphy: b44_eth_mii: probed
[    6.360000] b44 ssb0:1: could not find PHY at 4, use fixed one
[    6.360000] b44 ssb0:1: attached PHY driver [Generic PHY] (mii_bus:phy_addr=fixed-0:00)
[    6.370000] b44 ssb0:1 eth1: Broadcom 44xx/47xx 10/100 PCI ethernet driver 00:90:4c:a1:00:2d
[    6.390000] bgmac: Broadcom 47xx GBit MAC driver loaded
[    7.420000] jffs2: notice: (234) jffs2_build_xattr_subsystem: complete building xattr subsystem, 4 of xdatum (1 unchecked, 3 orphan) and 24 of xref (0 dead, 20 orphan) found.
[    8.350000] usbcore: registered new interface driver usbfs
[    8.350000] usbcore: registered new interface driver hub
[    8.360000] usbcore: registered new device driver usb
[    8.560000] SCSI subsystem initialized
[    8.580000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    8.590000] ehci-platform: EHCI generic platform driver
[    8.600000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    8.610000] ohci-platform ohci-platform.0: Generic Platform OHCI Controller
[    8.610000] ohci-platform ohci-platform.0: new USB bus registered, assigned bus number 1
[    8.620000] ohci-platform ohci-platform.0: irq 2, io mem 0x18003000
[    8.690000] hub 1-0:1.0: USB hub found
[    8.700000] hub 1-0:1.0: 2 ports detected
[    8.710000] usbcore: registered new interface driver usb-storage
[    8.880000] b44 ssb0:0 eth0: Link is up at 100 Mbps, half duplex
[    8.890000] b44 ssb0:0 eth0: Flow control is off for TX and off for RX
[    8.900000] b44 ssb0:0 eth0: powering down PHY
[   11.660000] NET: Registered protocol family 10
[   11.690000] nf_conntrack version 0.5.0 (456 buckets, 1824 max)
[   11.710000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   11.760000] Loading modules backported from Linux version master-2013-11-05-0-gafa3093
[   11.770000] Backport generated by backports.git backports-20130802-0-gdb67a3f
[   11.780000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   11.840000] usbcore: registered new interface driver ums-alauda
[   11.860000] usbcore: registered new interface driver ums-cypress
[   11.870000] usbcore: registered new interface driver ums-datafab
[   11.880000] usbcore: registered new interface driver ums-freecom
[   11.890000] usbcore: registered new interface driver ums-isd200
[   11.900000] usbcore: registered new interface driver ums-jumpshot
[   11.910000] usbcore: registered new interface driver ums-karma
[   11.930000] usbcore: registered new interface driver ums-sddr09
[   11.940000] usbcore: registered new interface driver ums-sddr55
[   11.950000] usbcore: registered new interface driver ums-usbat
[   12.000000] xt_time: kernel timezone is -0000
[   12.070000] cfg80211: Calling CRDA to update world regulatory domain
[   12.070000] cfg80211: World regulatory domain updated:
[   12.080000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   12.090000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.100000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.100000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   12.110000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)
[   12.120000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)
[   12.130000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm)
[   12.260000] PPP generic driver version 2.4.2
[   12.270000] NET: Registered protocol family 24
[   12.360000] b43-phy0: Broadcom 4321 WLAN found (core revision 11)
[   12.470000] b43-phy0: Found PHY: Analog 5, Type 4 (N), Revision 1
[   12.530000] Broadcom 43xx driver loaded [ Features: PNL ]
[   12.540000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   12.590000] Broadcom 43xx-legacy driver loaded [ Features: PLD ]
[   25.340000] b44 ssb0:0 eth0: Link is up at 100 Mbps, half duplex
[   25.340000] b44 ssb0:0 eth0: Flow control is off for TX and off for RX
[   25.360000] device eth0 entered promiscuous mode
[   25.380000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
[   25.420000] b44 ssb0:1 eth1: Link is up at 100 Mbps, half duplex
[   25.430000] b44 ssb0:1 eth1: Flow control is off for TX and off for RX
[   26.530000] br-lan: port 1(eth0) entered forwarding state
[   26.530000] br-lan: port 1(eth0) entered forwarding state
[   26.540000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
[   26.540000] IPv6: ADDRCONF(NETDEV_CHANGE): br-lan: link becomes ready
[   28.530000] br-lan: port 1(eth0) entered forwarding state</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>