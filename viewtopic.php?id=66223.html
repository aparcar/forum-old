<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> support for tp-link Wr840n v2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 21 Apr 2018 and 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=66223&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p331616">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">abuzahedkhan16</div>
					<div class="post-datetime">
						15 Jul 2016, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>can i&nbsp; flash WR840N v2&nbsp; with OpenWrt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p331621">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						15 Jul 2016, 02:01					</div>
				</div>
				<div class="post-content content">
					<p>Yes snd you need a file With LuCi (web interface) <br />From here <a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/">https://downloads.openwrt.org/chaos_cal â€¦ x/generic/</a><br />There are 2 files, Factory and Sysupgrade <br />You only use Fsctory<br />Your new ip would be 192.168.1.1 <br />Wifi by default is disable, just enable it</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340185">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">abuzahedkhan16</div>
					<div class="post-datetime">
						4 Oct 2016, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>cant find file for wr840n v2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340284">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						5 Oct 2016, 15:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>abuzahedkhan16 wrote:</cite><blockquote><p>cant find file for wr840n v2</p></blockquote></div><p>My bad<br />The server I want to link you is down<br />As soon as it comes up I will edit and update with the link</p>											<p class="post-edited">(Last edited by <strong>danymarc</strong> on 5 Oct 2016, 15:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340668">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zonosfera</div>
					<div class="post-datetime">
						9 Oct 2016, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>if you are willing to do crazy things with your TL-WR840n V2, read this...</p><p>remembering that the flashing any router, these invalidating the warranty, and even more so with the madness that will describe here ... if</p><p> you&#039;re going to do, stop reading this and before buying a router, see if the database is supported or not to have the problem you have now ...</p><p>Let&#039;s go......</p><p>before doing seek information everywhere (OpenWRT, DDWRT, GARGOYLE) and no support for this router, but investigating deeply into DDWRT and OpenWRT, it is said that this shares the same hardware as the TL-WR841N / d V9, and with these data tried to install directly WebGui the Bin open for TL-WR841 V9, but it gave me an error, the BIN used was version wrong, so I went by DDWRT with the same BIB for the TL-WR841 V9,and same results, used&nbsp; TL-WR841 V11 BIN, and surprise, the BIN Uploaded ....</p><p>Here another problem arose, had ping the default address 192.168.1.1 DDWRT, but could not be accessed by WebGui. and with this I decided to use my serial connection and uploaded the OpenWRT BIN 841 V9 for achieving this time access Luci ...</p><p>In my case for this router I did not need openwrt needed Gargoyle, so did the corresponding SysUpgrade ...</p><p>and as seen in the video (search above this name in youtube &quot; <strong>TL-WR840N V2, unsoported Third Party Firmware, Loaded Gargoyle</strong> &quot; ) that I leave here, is no longer a TL-WR840n V2, now a TL-WR841N / D V9, by the way, the LED indication changed, they show something else ...</p><p>All This make with BIN file para el TL-WR841n/nd V9...., except DDwrt BIN in this case use TL-WR841 V11</p><p>if you try this.... remember... USE AT THE OWN RISK....</p><p>Regards</p>											<p class="post-edited">(Last edited by <strong>zonosfera</strong> on 9 Oct 2016, 15:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346678">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">lipton</div>
					<div class="post-datetime">
						14 Dec 2016, 12:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi! For 840nv2:<br />To collect the firmware from source, you change the target/linux/ar71xx/image/Makefile<br />diff:<br /></p><div class="codebox"><pre><code> define Device/tl-wr841nd-v3
     $(Device/tplink-4m)
@@ -704,6 +711,13 @@
     TPLINK_HWID := 0x08410009
 endef
 
+define Device/tl-wr840n-v2
+    $(Device/tplink-4mlzma)
+    BOARDNAME := TL-WR841N-v9
+    DEVICE_PROFILE := TLWR841
+    TPLINK_HWID := 0x08400002
+endef
+
 define Device/tl-wr841n-v10
     $(Device/tplink-4mlzma)
     BOARDNAME := TL-WR841N-v9
@@ -738,7 +752,7 @@
     DEVICE_PROFILE := TLWR841
     TPLINK_HWID := 0x08470008
 endef
-TARGET_DEVICES += tl-wr841nd-v3 tl-wr841nd-v5 tl-wr841nd-v7 tl-wr841n-v8 tl-wr841n-v9 tl-wr841n-v10 tl-wr842n-v1 tl-wr842n-v2 tl-wr843nd-v1 tl-wr847n-v8
+TARGET_DEVICES += tl-wr841nd-v3 tl-wr841nd-v5 tl-wr841nd-v7 tl-wr841n-v8 tl-wr841n-v9 tl-wr840n-v2 tl-wr841n-v10 tl-wr842n-v1 tl-wr842n-v2 tl-wr843nd-v1 tl-wr847n-v8
 
 define Device/tl-wr941nd-v2
     $(Device/tplink-4m)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346763">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sanitariu</div>
					<div class="post-datetime">
						15 Dec 2016, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>That router is running with version 11 but you need to hex edit it.<br />Tested !<br />Is there any way we can make this normal working with full profile in the code ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347129">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">frcentoz</div>
					<div class="post-datetime">
						19 Dec 2016, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m with a br version of this router, TPLINK WN840N v2. I openned it and it is a QCA9533-BL3A chip, same as v10 841ND, but I cannot flash the bin file, it says that the BIN used was the wrong version, I think that is this TPLINK_HWID compiled on the bin file maybe? I don&#039;t know how to edit or compile this firmwares...</p><p>Is there any way to make this work? The chip is the same, should it work?&nbsp; </p><p>wiki.openwrt.org/toh/tp-link/tl-wr841nd</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347367">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">lipton</div>
					<div class="post-datetime">
						22 Dec 2016, 09:13					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not good at English. Its work.<br />h ttp://hostingkartinok.com/show-image.php?id=e30ae93ab82030362162634045386e1d screenshot from wr840nv2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347576">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">khanh.hb111</div>
					<div class="post-datetime">
						24 Dec 2016, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi Lipton,</p><p>I did as you said (edited the source code and built it for tl-840N) and the upgrading went smoothly with the compiled bin. However after my router completed rebooting, it got no wifi at all. Only wps and internet leds lights up. I cannot ssh or ping to my router ip (ping responded with &#039;request timed out&#039;). Can you help me figure out what is going on and how to resolve it? - Many thanks <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347617">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">frcentoz</div>
					<div class="post-datetime">
						24 Dec 2016, 23:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>khanh.hb111 wrote:</cite><blockquote><p>Hi Lipton,</p><p>I did as you said (edited the source code and built it for tl-840N) and the upgrading went smoothly with the compiled bin. However after my router completed rebooting, it got no wifi at all. Only wps and internet leds lights up. I cannot ssh or ping to my router ip (ping responded with &#039;request timed out&#039;). Can you help me figure out what is going on and how to resolve it? - Many thanks <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p></blockquote></div><p>Try don&#039;t use v9 as base, but v10 - v9 uses the AL3A chip, and the 840n V2 uses the BL3A chip, as the 841nd v10 - I think that could be it. Please post the bin file, I don&#039;t know how to compile <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347682">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">kuda.lumping</div>
					<div class="post-datetime">
						25 Dec 2016, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi try flash with this&nbsp; w ww69.zippyshare.com/v/4VaGNabB/file.html&nbsp; through tftpd</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347863">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">khanh.hb111</div>
					<div class="post-datetime">
						28 Dec 2016, 06:42					</div>
				</div>
				<div class="post-content content">
					<p>I just figured out that my wifi was not working due to the fact wifi is disabled by default in openwrt, just change disable option to 0 in /etc/config/wireless file to enable wifi. Here is my working compiled bin (though it does not have a web gui interface - you got to work with it via telnet - or ssh which is only possible only after you set up a password for the router - no password by defaults):<br />h ttps://drive.google.com/open?id=0B9k6pCdpTOYvS2FpTVpkQjBVUlU</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347869">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">lipton</div>
					<div class="post-datetime">
						28 Dec 2016, 10:15					</div>
				</div>
				<div class="post-content content">
					<p>yadi.sk/d/xhOGxWtz33ZmP7 - working firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352297">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">basithsiraj</div>
					<div class="post-datetime">
						18 Feb 2017, 19:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi Lipton,</p><br /><p>Are you sure that the link you posted (yadi.sk/d/xhOGxWtz33ZmP7) for openwrt works perfectly on WR840N v2? if it work i could proceed upgrading it..</p><br /><p>thank</p>											<p class="post-edited">(Last edited by <strong>basithsiraj</strong> on 18 Feb 2017, 19:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353064">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">david.fontes</div>
					<div class="post-datetime">
						27 Feb 2017, 15:38					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using the version that lipton posted on a WR840N v2.0 (brazilian) for over a month with no problem</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354396">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">rmotabr</div>
					<div class="post-datetime">
						17 Mar 2017, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi Guys,</p><p>I have just purchased an WR840N (EU) v2 here in Brazil. I saw that my chip is the QCA9533-BLA3. I tried the bin posted by Lipton, but I faced an error when I tried to upload using the web interface from native tp-link firmware. Is this the wrong way? Reading the posts here, I checked that my board is very close to WR841N v10. Can you guys give me some direction?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354440">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">cmpyl0</div>
					<div class="post-datetime">
						17 Mar 2017, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi rmotabr,</p><p>Lipton&#039;s firmware should work.&nbsp; I just installed on a 840nv2 (BR) a few days ago and it worked fine.&nbsp; </p><p>What was the error message?</p><p>Check if the file was downloaded properly. <br />The checksums (calculated with HashCheck) I have here are&nbsp; &nbsp;<br />File: openwrt-ar71xx-generic-tl-wr840n-v2-squashfs-factory.bin<br />CRC-32: b37b801f<br />&nbsp; &nbsp;MD4: b9103ad664ce5a8d3bbf450ce496aa92<br />&nbsp; &nbsp;MD5: c56efa3e72d6848cb4cff1f81acb2c8b<br /> SHA-1: fa4e328ea7fb3b6d9e87ab9c2fc051d6a661bafd</p><p>I used a shorter file name openwrt-ar71xx-generic-tl-wr840n-v2.bin because I&#039;ve read somewhere that the tp-link firmware might have issues with longer file names.&nbsp; However, I am not sure if that is true as I haven&#039;t tested the original file name, but you might want to try it if anything else fails.</p><p>BTW, should we file a feature request to have this firmware build regularly? The 840Nv2(BR) [very close to 841Nv10] is somewhat popular here because it is one of the cheapest models with two antennas.</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354445">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">rmotabr</div>
					<div class="post-datetime">
						17 Mar 2017, 22:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi cmpyl0,</p><p>Thanks for your reply. I have successfully patched my router with the image using tftpd method. I was trying to do that using the TP-LINK Web Interface, as a regular firmaware from TP-LINK. Today I&#039;ll try the 15.05 image for WR841N v10, since this is the same chip that mine WR840N(EU) v2. If you have any advice on this, please let me know. Thanks again.</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354467">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">cmpyl0</div>
					<div class="post-datetime">
						18 Mar 2017, 06:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi Rmotabr,</p><p>I am glad to hear you were able to install openwrt on your device. I am happy with Lipton&#039;s build and therefore, I haven&#039;t tested any new ones.&nbsp; Good luck with the new build!&nbsp; You might have to change the hardware id from&nbsp; 0x08410010 to 0x08400002 (at position 0x40 in the factory file).</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354468">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">david.fontes</div>
					<div class="post-datetime">
						18 Mar 2017, 06:16					</div>
				</div>
				<div class="post-content content">
					<p>I was able to install in my via web interface, I used the latest firmware version of tplink</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354510">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">rmotabr</div>
					<div class="post-datetime">
						18 Mar 2017, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi cmpyl0,</p><br /><p>Thanks for your advice. I did as you said, I just hex edited the latest OpenWRT image for WR841Nv10, uploaded it to my router WR840Nv2 using tftp method, and everything gone smoothly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355275">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">gnarfzkl</div>
					<div class="post-datetime">
						30 Mar 2017, 19:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi rmotabr, </p><p>What settings (IPs and image name) did you use for tftp? I can&#039;t get it to connect / download or whatever.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355324">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">rmotabr</div>
					<div class="post-datetime">
						31 Mar 2017, 05:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi gnarfzkl,</p><p>I downloaded the latest image at Download section from OpenWrt site. You can find the link below. After this you will need to Hex edit the bin just like cmpyl0 said at his post. I did this with Notepad++ with Hex Editor plugin. After this, I configured my ethernet interface (lan cable) with a fixed IP (192.168.0.86). The next step was run a tftpd server (you can download an open source easely). After these steps all you need to do is power on the router while pressing the reset button for about 3 seconds. The router will look for a tftp server at 192.168.0.86 and download the image. Remember to rename the image file to wr841nv2_tp_recovery.bin.</p><p>This link <a href="http://form.tp-link.com/showthread.php?81462-How-to-recovery-the-router-when-you-bricked-it">form.tp-link.com/showthread.php?81462-H â€¦ bricked-it</a> will help you with the image upload procedure.</p><p>Link to download:<br /><a href="http://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/openwrt-15.05.1-ar71xx-generic-tl-wr841n-v10-squashfs-factory.bin">downloads.openwrt.org/chaos_calmer/15.0 â€¦ actory.bin</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358042">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">vlad1213</div>
					<div class="post-datetime">
						8 May 2017, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>Why do not developers support wr840n v2? After all, they are similar to wr841n v9.</p><p>I apologize for the mistakes, I&#039;m from Russia</p>											<p class="post-edited">(Last edited by <strong>vlad1213</strong> on 29 May 2017, 09:31)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=66223&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>