<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> After compile OpenWrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p189712">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">forsakenrider</div>
					<div class="post-datetime">
						23 Jan 2013, 01:29					</div>
				</div>
				<div class="post-content content">
					<p>Ok, basically I wanted my try at compiling openwrt. I wanted the heartbeat led and after doing sysupgrade Ihad to re-do a lot of settings so I figured I should try compiling! ok great! so I&#039;ve done that, I added my heartbeat led and did the compile, flashed it and great. </p><div class="codebox"><pre><code>login as: root
root@192.168.2.25&#039;s password:


BusyBox v1.19.4 (2013-01-22 17:32:11 EST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 BARRIER BREAKER (Bleeding Edge, r35300)
 -----------------------------------------------------
  * 1/2 oz Galliano         Pour all ingredients into
  * 4 oz cold Coffee        an irish coffee mug filled
  * 1 1/2 oz Dark Rum       with crushed ice. Stir.
  * 2 tsp. Creme de Cacao
 -----------------------------------------------------
root@OpenWrt:~#</code></pre></div><p>The thing is now I want to install a few things and I get an error:</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg install kmod-usb-storage
Installing kmod-usb-storage (3.7.3-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-usb-storage_3.7.3-1_ar71xx.ipk.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-usb-storage:
 *      kernel (= 3.7.3-1-162256eff9fc7a464a727c8c206adb83) *   kernel (= 3.7.3-1-162256eff9fc7a464a727c8c206adb83) *
 * opkg_install_cmd: Cannot install package kmod-usb-storage.
root@OpenWrt:~#</code></pre></div><p>Why Is that? I was able to install nano</p><p>Sorry, I&#039;m a complete n00b here, but I&#039;m learning!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189714">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">4300</div>
					<div class="post-datetime">
						23 Jan 2013, 02:07					</div>
				</div>
				<div class="post-content content">
					<p>If you wait too long the bleeding edge/trunk builds will change/update and the files will not match as they change the kernel etc and then certain files must change with them.</p><p> I done the same thing as you and found out it&#039;s better to find out what you really need first and put it in your build.</p><p>There&#039;s probably a way to ignore the dependencies check but I&#039;m not sure if that&#039;ll cause problems so I&#039;d recommend doing another build with all you need first.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189715">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">forsakenrider</div>
					<div class="post-datetime">
						23 Jan 2013, 02:13					</div>
				</div>
				<div class="post-content content">
					<p>that&#039;s what I thought. </p><p>Is there a way to compile new programs with the same &quot;trunk&quot; I made my build with and then add it to my build? I think I saw something about this in the WIKI but didn&#039;t really understand.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189716">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">4300</div>
					<div class="post-datetime">
						23 Jan 2013, 02:26					</div>
				</div>
				<div class="post-content content">
					<p>AFAIK when you run the make menuconfig again it will have the same config that you set up last and you just need to pick the extra usb, block-mount, and filesystem stuff, pretty sure you need to update the source and feeds first. My first build took a while but then I copied the command to use more processors and it only took a half hour. Copy your etc/config/ stuff that you&#039;ve just set up and need as well and it&#039;s ready after flashing too.</p><p>Still learning myself.</p><p><a href="http://wiki.openwrt.org/doc/howto/build">http://wiki.openwrt.org/doc/howto/build</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189736">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">aadevice89</div>
					<div class="post-datetime">
						23 Jan 2013, 07:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>forsakenrider wrote:</cite><blockquote><p>that&#039;s what I thought. </p><p>Is there a way to compile new programs with the same &quot;trunk&quot; I made my build with and then add it to my build? I think I saw something about this in the WIKI but didn&#039;t really understand.</p></blockquote></div><p>You&#039;ll have to compile the packages you want.<br />Each kernel compilation results in a different md5sum thus the self-build firmware couldn&#039;t use any of the packages from elsewhere.<br />Best bet is to go through menuconfig again and run through those packages that you want to have and then you will need a httpd server (Apache for windows if you use windows).<br />Modify /etc/opkg.conf to the URL where you copied firmware and packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189741">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						23 Jan 2013, 09:15					</div>
				</div>
				<div class="post-content content">
					<p>If you compile on your own,<br />use your own build packages rather than download from openwrt.</p><p>Setup your own http server,<br />or, if your router has usb storage, utilize its own uhttp as internal http server to download packages locally.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189742">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						23 Jan 2013, 09:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aadevice89 wrote:</cite><blockquote><p>You&#039;ll have to compile the packages you want.<br />Each kernel compilation results in a different md5sum thus the self-build firmware couldn&#039;t use any of the packages from elsewhere.</p></blockquote></div><p>That is correct, and it is good to understand it correctly: the key is &quot;each kernel compilation&quot;. It is not enough that you compile the new modules by yourself, in practice you need to compile them at the same time as the main kernel. (The kernel options checksum changes very easily.)</p><p>More risky alternative is to use opkg&#039;s command line options to override dependency-checks. That will enable you to install trhe kmods in any case. Read opkg advice in wiki.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 23 Jan 2013, 09:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189774">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">forsakenrider</div>
					<div class="post-datetime">
						23 Jan 2013, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the advice guys! Im learning here!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>