<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Set up multiple devices at once</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p362180">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">garfolino</div>
					<div class="post-datetime">
						17 Jul 2017, 21:37					</div>
				</div>
				<div class="post-content content">
					<p>I have researched all over the place and can&#039;t find a way.</p><p>I have multiple UBNT Picostation2 deployed and I want to put Openwrt on all of them. That part is fine. It all works. But I have set up one of them just the way I want it. </p><p>Thought about setting them up with a fixed ip, then download the backup configuration and then upload one by one. All I would need to do then was change the IPs... </p><p>But apparently uploading the config doesn&#039;t work to different devices.</p><p>I read somewhere that I needed to change the MAC address info on the files, but I didn&#039;t find it in any file.</p><p>I don&#039;t want to set up one by one. Any tips?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362186">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">golialive</div>
					<div class="post-datetime">
						17 Jul 2017, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>Hey there.</p><p>Over at the LEDE project forum I described a way that can do nearly everything.<br /><a href="https://forum.lede-project.org/t/seamless-wifi-multiple-access-points/1993/11?u=golialive">https://forum.lede-project.org/t/seamle â€¦ =golialive</a></p><p>As you can see, I basically adjust the devices based on host name. But of course you can fetch every hardware attribute you like.<br />MAC address of eth0 could go like this:</p><div class="codebox"><pre><code>ifconfig eth0 | grep HWaddr | awk &#039;{ print $5 }&#039;</code></pre></div><p>I have no clue about your particular device, but you might find some usefull information like CPU ID or serial in<br /></p><div class="codebox"><pre><code>cat /proc/cpuinfo</code></pre></div><p>Regards,<br />Stephan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362188">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						18 Jul 2017, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>The configuration backup is only a tar of the config files.&nbsp; Restoring it to the same router or a different one still does not install or remove any packages.</p><p>You can make a binary image of the &quot;firmware&quot; mtd partition and use it to sysupgrade another router of the same model.&nbsp; This will make the new router run an exact clone of the installation on the original one, including packages and configuration. So you will need to boot it up in an isolated situation and at least change the IP address so you don&#039;t put two of the same IP on your network.&nbsp; </p><p>The factory MAC address is stored in a different partition which OpenWrt doesn&#039;t change.&nbsp; If you didn&#039;t override it in your configuration, each clone will still run with its unique MAC addresses as shown on the label.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>