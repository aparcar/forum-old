<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Proxy proxy</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p190993">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">megal0maniac</div>
					<div class="post-datetime">
						5 Feb 2013, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>To start off, I&#039;m not entirely sure what the term is for what I&#039;m trying to do, but I&#039;ll explain it as best I can.<br />At university, the internet runs through a squid proxy, requiring plaintext authentication.<br />It is made available through a WPA protected wireless network.</p><p>Windows does a pretty poor job of dealing with a proxy. You can set up the IP and port, but authentication needs to be dealt with by the application (which means that credentials need to be typed in repeatedly)<br />Some applications don&#039;t support authentication at all, and thus can&#039;t be used.</p><p>Also, I have to switch the proxy on and off as I go home and come back. This is a pain.</p><p>What I&#039;d like to do, is set up my TP-Link MR3040 to connect to the wireless network in client mode, handle the proxy and authentication, and provide an internet connection to my laptop on the wired connection.<br />I can set up the router to connect to a wireless network in a WAN firewall zone, and provide access over Ethernet in a LAN firewall zone, with DHCP.</p><p>Ideally, I&#039;d like to provide the transparent internet connection wirelessly, but I&#039;m not sure whether that&#039;s possible with a single wireless radio.<br />At the end of the day, I want to have internet on my laptop without requiring proxy settings or authentication.</p><p>If anyone could point me in the right direction, I&#039;d be very grateful. My main issue is that I&#039;m not sure what to search for, so I&#039;m hoping someone knows better <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Michael</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190995">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">test0x01</div>
					<div class="post-datetime">
						5 Feb 2013, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>try transparent proxy.&nbsp; REDSOCKS is a good option.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191021">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">megal0maniac</div>
					<div class="post-datetime">
						5 Feb 2013, 17:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, now at least I know what to search for.</p><p>I&#039;ve tried Tinyproxy, and it looks like it might work, except it doesn&#039;t seem to support upstream authentication.<br />Redsocks might, but I don&#039;t have the means to compile it and there isn&#039;t a package in the repo.</p><p>Is there a way to get Tinyproxy to enable upstream authentication, or are there precompiled Redsocks packages somewhere?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191024">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">test0x01</div>
					<div class="post-datetime">
						5 Feb 2013, 18:12					</div>
				</div>
				<div class="post-content content">
					<p>I am sure there are precompiled redsocks.&nbsp; you need to know which CPU your router uses. most likely atheros chips.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191026">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">megal0maniac</div>
					<div class="post-datetime">
						5 Feb 2013, 18:56					</div>
				</div>
				<div class="post-content content">
					<p>Not amongst the official packages...<br />I&#039;ve installed Polipo, though. Testing at home and it&#039;s caching properly and I&#039;m getting out. I&#039;ll check tomorrow how it deals with an upstream proxy.<br />If it doesn&#039;t work, then I&#039;ll make it my mission to get redsocks installed.<br />Surprisingly, this little router supports multiple SSIDs, which is particularly nice since it has a battery. It shall go in my bag <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I&#039;ll report back for the sake of the record.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191119">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">megal0maniac</div>
					<div class="post-datetime">
						6 Feb 2013, 09:30					</div>
				</div>
				<div class="post-content content">
					<p>It worked. For about 5 minutes.<br />The biggest problem is that the same SSID is spread out over multiple APs.<br />So even though it&#039;s the same network, the router will only connect to a single AP (unlike a regular device like a laptop, which will jump between APs to find the strongest signal.<br />Any way to avoid this behaviour, or is it a limitation of client wireless mode?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191124">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">test0x01</div>
					<div class="post-datetime">
						6 Feb 2013, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>questions:<br />1. Why just 5 minutes?<br />2. Any problem when your router connect to a single AP? If your connection to that AP is good, why not stay with that ap? And, jump between APs has no benefits but will introduce connection problems.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p209530">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						11 Aug 2013, 22:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>megal0maniac wrote:</cite><blockquote><p>Thanks, now at least I know what to search for.</p><p>I&#039;ve tried Tinyproxy, and it looks like it might work, except it doesn&#039;t seem to support upstream authentication.<br />Redsocks might, but I don&#039;t have the means to compile it and there isn&#039;t a package in the repo.</p><p>Is there a way to get Tinyproxy to enable upstream authentication, or are there precompiled Redsocks packages somewhere?</p></blockquote></div><br /><p>I just found this...</p><p><a href="https://github.com/jahrome/tinyproxy">https://github.com/jahrome/tinyproxy</a></p><p>which supports among other things upstream proxy authentication.&nbsp; It looks like the source has deviated somewhat from that on banu but it shouldn&#039;t be too difficult to backport the patches to the OpenWRT version of tinyproxy.</p><p>any takers?</p><p>--luis</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>