<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WPA status?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p390">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Tony Hoyle</div>
					<div class="post-datetime">
						11 May 2004, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve read a little on here mentioning WPA but nothing stating whether it works yet... this is what stops me migrating to openwrt .. everything else I use currently (dropbear, iptables) seems to be supported anyway....&nbsp; Is there some specific reason why nas doesn&#039;t run?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p394">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						11 May 2004, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>There are some compatibility issues with our updated version of uClibc and nas. WEP works quite nicely though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p401">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gps</div>
					<div class="post-datetime">
						12 May 2004, 07:13					</div>
				</div>
				<div class="post-content content">
					<p>if you want to run the linksys nas binary on openwrt you could try putting a copy of the linksys libraries somewhere and using LD_LIBRARY_PATH or LD_PRELOAD to force the use of those libs with the nas binary.&nbsp; (just a suggestion; i haven&#039;t tried it as i have nothing that can be a WPA client without paying money for linuxant)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p402">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">chimpanzee</div>
					<div class="post-datetime">
						12 May 2004, 08:49					</div>
				</div>
				<div class="post-content content">
					<p>I believe WEP is more than enough. WEP/WPA imo is just for preventing casual sniffing. I always run VPN(ipsec etc.) on top of both wired/wireless if the communication is sensitive.</p><p>In fact, I would just leave the wireless part naked if I can find a way to run ipsec on the router and use it instead.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p403">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Blackvel</div>
					<div class="post-datetime">
						12 May 2004, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>I tested to start NAS tool with LD_LIBRARY_PATH on OpenWRT.<br />As you can read in my thread &quot;WPA with NAS trying started&quot; I had no much luck so far.<br />I&#039;m really waiting for feedback from Linksys OpenSource group.</p><p>They should hand out nas.c or at least a more compatible binary.</p><p>Already it seems they have no much interest.</p><p>Someone told me it might be just normal that they answer after 4-8 weeks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p406">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Tony Hoyle</div>
					<div class="post-datetime">
						12 May 2004, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>Pity.&nbsp; I&#039;d rather go plaintext than use WEP (all of the complexity and none of the security..!&nbsp; I cracked the key in our company in 4 hours - I was lucky though I expect.).</p><p>I can&#039;t see the point in using a VPN *and* WPA, unless you&#039;re aware of some cryptographic weakness in AES... </p><p>&nbsp; &nbsp;I&#039;ll stick to sveasoft for now then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p407">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">chimpanzee</div>
					<div class="post-datetime">
						12 May 2004, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>I see two problem with wireless :</p><p>1. being piggybacked. This can be controlled by the router if I use VPN on top of that(such as wavesec)</p><p>2. being tapped, again this is supposed to be not a problem if everything going on are encapsulated by ipsec.</p><p>The reason why I prefer VPN is that I think it is a unified approach to protect data. WPA cannot protect wired communication which I also don&#039;t trust for sensitive stuff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p418">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">xavier.sanz</div>
					<div class="post-datetime">
						14 May 2004, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>Recently i&#039;ve read about WPA and WEP.</p><p>If i&#039;m not wrong WEP is a 40-bit crypto algorithm, no matter how long keys are, security is weak.</p><p>WPA is AES based crypto, using 128, 192 or 256 bit algorithm, communication&#039;s security is stronger. </p><p>Regards</p><p>Xavier Sanz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p420">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Starfox</div>
					<div class="post-datetime">
						14 May 2004, 18:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>If i&#039;m not wrong WEP is a 40-bit crypto algorithm, no matter how long keys are, security is weak.</p></blockquote></div><p>You are wrong.&nbsp; What&#039;s commonly known as &quot;40-bit&quot; WEP is actually 64-bit, with a 40-bit static &quot;key&quot; and 24-bit IV which is combined to produce a 64-bit key.&nbsp; However, due to a weakness in how the RC4 is implemented, it is &quot;trivial&quot; to crack WEP, and not that much harder (about 2x as long) to crack 128-bit WEP (104-bit static &quot;key&quot;, 24-bit IV).</p><p>Since the 24-bit IV field is transmitted as cleartext in the 802.11 header,&nbsp; WPA tries to overcome this limitation by using the 24-bit IV as a hash instead, which supposedly makes it much harder to crack (this is the TKIP component of WPA).&nbsp; It also uses a MIC to prevent packet tampering which was possible on WEP-encrypted packet (Michael).&nbsp; Additionally, by using AES 128-bit/256-bit encryption, certain weakeness of the RC4 implmentation is addressed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p426">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Paladdin</div>
					<div class="post-datetime">
						16 May 2004, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>I think WEP is still useful not for crypto, but to avoid casual foreign clients to hook from our APs an &#039;steal&#039; radio bandwidth, as it prevents WiFi adapters to establish connections if they have not the keys.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p543">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mflage</div>
					<div class="post-datetime">
						4 Jun 2004, 17:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>However, due to a weakness in how the RC4 is implemented, it is &quot;trivial&quot; to crack WEP, and not that much harder (about 2x as long) to crack 128-bit WEP (104-bit static &quot;key&quot;, 24-bit IV).</p></blockquote></div><p>I heard some stuff about a 128-bit WEP key being easier to crack since it generates more traffic. The important factor when cracking WEP is the amount of traffic and the number of packets containing &quot;important&quot; information. But, I could be wrong, I haven&#039;t really put this to any sort of test.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1204">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">hmikux</div>
					<div class="post-datetime">
						20 Jul 2004, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>Is anybody of the OpenWRT-developer working on WPA-implementation in OpenWRT for WRT54G and WRT54GS?? IÂ´m not sure,but I think that the new release of the LinkSys-Firmware supports that feature (802.11i). </p><p>I donÂ´t want implement a wireless router without wpa - itÂ´s more secure than WEP!</p><p>hmikux</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1666">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">giri</div>
					<div class="post-datetime">
						20 Aug 2004, 01:01					</div>
				</div>
				<div class="post-content content">
					<p>Current CVS (as of this posting) works with WPA. For this to work, you need to install &quot;nas&quot; binary from linksys firmware (located at buildroot/build_mpsel/WRT54GS/release/src/router/mipsel-uclibc/install/nas/usr/sbin/nas) into, say, /usr/sbin on the router. Then, configure nvram variables as required. Below is an example configuration for AES configuration:<br /></p><div class="codebox"><pre><code>wl0_wpa_psk=&lt;key-passphrase&gt;
wl0_wpa_gtk_rekey=&lt;rekey-interval&gt;
security_mode=psk
wl0_crypto=aes
wl0_wep=aes</code></pre></div><p>Replace &lt;key-passphrase&gt; and &lt;rekey-interval&gt; with appropriate values. If you want to use tkip, set<br /></p><div class="codebox"><pre><code>wl0_wep=tkip</code></pre></div><p>Apparently for tkip, wl0_crypto variable is not used.</p><p> Then start &quot;nas&quot; as</p><div class="codebox"><pre><code>/usr/sbin/nas /tmp/nas.conf /tmp/nas.pid lan</code></pre></div><p>Note that nas.conf and nas.pid are created by nas. If everything works, you can then create a script in /etc/init.d that starts nas at boot time.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1669">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">soulhunter</div>
					<div class="post-datetime">
						20 Aug 2004, 03:39					</div>
				</div>
				<div class="post-content content">
					<p>About WEP.&nbsp; You can In fact get the key.&nbsp; Take a look at &quot;airsnort&quot; (http://airsnort.shmoo.com/).&nbsp; After you get the key, you can connect to the wirless network.</p><p>Even if you &quot;permit by MAC&quot; (ie, only allow the &quot;MACs&quot; that you trust), you can &quot;clone&quot; a MAC, and still go in.</p><p>And yes, the weakness is in the RC4 algorithm itself (well, more preciselly in the Key Scheduling Alorithm).&nbsp; Just look here: <a href="http://www.drizzle.com/%7Eaboba/IEEE/rc4_ksaproc.pdf">http://www.drizzle.com/%7Eaboba/IEEE/rc4_ksaproc.pdf</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1670">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						20 Aug 2004, 03:51					</div>
				</div>
				<div class="post-content content">
					<p>Yes, you can get the WEP key given enough &quot;weak&quot; packets, what you fail to mention is that on a typical home network this may mean several days worth of sniffing to get enough packets.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1671">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">soulhunter</div>
					<div class="post-datetime">
						20 Aug 2004, 04:26					</div>
				</div>
				<div class="post-content content">
					<p>Well, you only need about 100MB of data (how much do you donwload/upload from your computer?).&nbsp; In a typical work day, I download about 40Mb, and upload about 10Mb.&nbsp; That, when I don&#039;t use any p2p client, when I use those, I can download up to 1024Mb a day and upload about 400Mb.</p><p>It will depend on the kind of use you give to the network.&nbsp; Say, if you play network games in the WLAN, open files from other computers, print documents to shared printers, and so on, it would not take too long.</p><p>I think WEP is only good to make the network slower.&nbsp; If you will use WEP, better not use anything at all (just hide the SSID), it will be faster, and almost as secure.</p><p>I would use a VPN.&nbsp; I haven&#039;t tested WPA (but will, someday).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1691">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Adze</div>
					<div class="post-datetime">
						20 Aug 2004, 23:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>... For this to work, you need to install &quot;nas&quot; binary from linksys firmware (located at buildroot/build_mpsel/WRT54GS/release/src/router/mipsel-uclibc/install/nas/usr/sbin/nas) into, say, /usr/sbin on the router. ...</p></blockquote></div><p>If I try to run nas, it reports &quot;Bus error&quot;. Anyone else had this problem ?</p><p>Thanx y&#039;all <img src="https://forum.openwrt.org/img/smilies/yikes.png" width="15" height="15" alt="yikes" /></p><p>extra info: WRT is running Nico&#039;s firmware 02062004.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1692">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						21 Aug 2004, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>hi Adze</p><div class="quotebox"><blockquote><p>extra info: WRT is running Nico&#039;s firmware 02062004</p></blockquote></div><p>that&#039;s way too old, what features are you currently using in this firmware ?<br />most heave been incorporated in the latest CVS firmware...</p><p>--<br />Nico</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1694">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Adze</div>
					<div class="post-datetime">
						21 Aug 2004, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi Nico,</p><div class="quotebox"><blockquote><p>... What features are you currently using in this firmware? ...</p></blockquote></div><p>I use: dropbear, pppd, pptp, ip, dhcp-fwd, base-sytem, tc, sched-mod, ipt_layer7, ipt_tos, net-snmp, ipv6, and probably somethings i forgot. All of those ipkg came from your site! (You are my hero <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> ). I was planning on upgrading my box, but it runs rock-solid, does everything i want (so far...) and it takes upto a day to get everything working again, cause i have a very custom setup, mostly done with nvram settings...</p><p>What firmware do you currently use/recommend (somehow compiling my own firmware most of the times failes)? Maybe you could create an ip6tables.ipkg and or an su.ipkg, that would really make me happy.</p><p>Thank you all, for making the OpenWRT community!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1701">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">jaka</div>
					<div class="post-datetime">
						21 Aug 2004, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>Great news that WPA works in cvs. Anyone know if nas supports 802.11i fully yet? Specifically I&#039;m interested in ad hoc mode, as I have some plans for an network using OLSR for routing and 802.11i for security.</p><p>I know I could use IPSEC, but that requires support and configuration from the clients, and kills throughput. WPA is included in recent OS updates, and it can use the hardware AES built in to the Broadcom radios (I assume that&#039;s why Linksys don&#039;t distribute the source, Broadcom don&#039;t like giving out code to access their hardware) so it should perform much, much better.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1706">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Kirdan</div>
					<div class="post-datetime">
						22 Aug 2004, 00:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I know I could use IPSEC, but that requires support and configuration from the clients, and kills throughput. WPA is included in recent OS updates</p></blockquote></div><p>Hmm.... How much throughput does IPSEC cost?<br />It&#039;s certainly a much more flexible and available solution to me since there&#039;s not WPA/AES for the centrino wlan card for Linux.</p><p><em>still waiting for my wrt54gs</em></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1709">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">jaka</div>
					<div class="post-datetime">
						22 Aug 2004, 07:03					</div>
				</div>
				<div class="post-content content">
					<p>I saw someone post throughput numbers with and without IPSEC a few months back. Without they were getting around 30mbps, with it was more like 3mbps. However I haven&#039;t run my own tests, so take that with a grain of salt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1710">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Kirdan</div>
					<div class="post-datetime">
						22 Aug 2004, 11:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Without they were getting around 30mbps, with it was more like 3mbps.</p></blockquote></div><p>Maybe it&#039;s these:<br /><a href="http://lists.openswan.org/pipermail/users/2004-June/001389.html">http://lists.openswan.org/pipermail/use … 01389.html</a></p><p>Hmm.. Right now I&#039;m doing fine with a 10Mbit/s hub, and my ISP connections is not even hear those speeds. So I guess it&#039;s not that bad. But sure... more horsepower in the WRT54G would never hurt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1712">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">jaka</div>
					<div class="post-datetime">
						22 Aug 2004, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>Yep, that looks like the post I was thinking of. And you&#039;re right, it&#039;s certainly not going to kill you if you just want to share internet access. Still, reducing your throughput by an order of magnitude isn&#039;t a great deal if you plan to use your wireless network for other stuff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1726">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Kirdan</div>
					<div class="post-datetime">
						23 Aug 2004, 17:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Still, reducing your throughput by an order of magnitude isn&#039;t a great deal if you plan to use your wireless network for other stuff.</p></blockquote></div><p>Yes... it is. :? </p><p>If I read the AES papers correct, the Twofish algorithm should be a little bit faster than AES (Rijndael). Also, it uses only RISC-type operations, so running it on a MIPS should not make it slower.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>