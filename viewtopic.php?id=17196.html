<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Getting my WRT54Gv4 working again after editing /etc/config/network</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p74230">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jmbrink26</div>
					<div class="post-datetime">
						3 Oct 2008, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>I was wondering if I can get some help and insight on an issue. </p><p>I was changing a line using nano in the /etc/config/network file, and then it said the contained an invalid character of some kind. I couldn&#039;t think of what, but none the less, I tried to go back and fix it, and now the networking is completely hosed in Kamikaze because the /etc/config/network file is unreadable. </p><p>So, what I wanted to know is, how do I go about getting into the router without networking working and fix the /etc/config/network file? Is there a way to use a console connection into it, similar to a Cisco console connected using ethernet to serial or something?</p><p>I&#039;ve tried finding useful info on Google, but no such luck. Thank you in advance for all your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74234">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						4 Oct 2008, 00:09					</div>
				</div>
				<div class="post-content content">
					<p>Yes, as soon as you have serial working you can use vi or nano to fix it up.<br /><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Linksys/WRT54G">http://wiki.openwrt.org/OpenWrtDocs/Har â€¦ sys/WRT54G</a></p><p>A USB-TTL adapter like the Prolific PL-2303 is your best bet.<br /><a href="http://www.nslu2-linux.org/wiki/HowTo/AddASerialPort">http://www.nslu2-linux.org/wiki/HowTo/AddASerialPort</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74239">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jmbrink26</div>
					<div class="post-datetime">
						4 Oct 2008, 03:58					</div>
				</div>
				<div class="post-content content">
					<p>Would it be the same kind of connection as a console connection to a regular cisco router? Just hook up the console cable to the com1 port on your computer, then plug the other end into an RJ-45 jack on the router, then go in through the console connection using HyperTerminal or something similar?</p><p>The first link you sent mentions what the baud rate for a WRT54GS is, and I&#039;d imagine the WRT54G is similar, however port do I connect it to on the router? One of the LAN ports or the WAN/Internet port? Since the Linksys routers do not have a console port like the Cisco&#039;s do.... The link also mentions another link talking about soldering a serial port onto the router motherboard itself, but is that really necessary just to get into it? </p><p>The serial port on the other end isn&#039;t an issue. I just hooked it to my Dell PowerEdge 750 via the COM1 port and connected with a standard Cisco console cable, and it doesn&#039;t seem to be working thus far...</p><p>Thanks again for your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74240">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						4 Oct 2008, 04:07					</div>
				</div>
				<div class="post-content content">
					<p>the console port is internal. you don&#039;t need a serial console to fix this though.<br /><a href="http://wiki.openwrt.org/OpenWrtDocs/Troubleshooting">http://wiki.openwrt.org/OpenWrtDocs/Troubleshooting</a> - see failsafe mode</p><p>connecting an rs232 port to ethernet and vice-versa is dangerous. as is connecting rs232 directly to the router&#039;s serial port, which is 3v. the wiki page you read should make this clear though</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74241">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jmbrink26</div>
					<div class="post-datetime">
						4 Oct 2008, 04:36					</div>
				</div>
				<div class="post-content content">
					<p>Ok, now I have went through these steps before, and I didn&#039;t get anywhere. Hitting the reset button seems to do absolutely nothing. I have no clue whether I can get into failsafe or not, as I still cannot ping the default of 192.168.1.1. I cleared my arp cache. </p><p>According to the document, you press and hold the reset button, and the DMZ light should come on, then go off. That does not happen unless I power cycle the router. </p><p>So far, a serial connection is the only way I see of fixing this. Does anyone have any other ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74242">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						4 Oct 2008, 04:40					</div>
				</div>
				<div class="post-content content">
					<p>you are misreading the document. you press (or hold, in earlier versions) the reset button at the proper time during startup</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74245">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jmbrink26</div>
					<div class="post-datetime">
						4 Oct 2008, 04:53					</div>
				</div>
				<div class="post-content content">
					<p>Ok, so to understand this, I want to powercycle the router, then while the DMZ light is on during boot up, thats when I want to hold and/or press the reset button?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>