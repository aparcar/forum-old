<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> rb450g (rb4xx) support status</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Mar 2018 and 4 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=22759&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=22759&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p98203">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						3 Dec 2009, 12:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi all!</p><p>I spent half the day reading the forums, but i am yet to find a clear answer about the status of the Mikrotik RouterBOARD 450G.</p><p>Does anyone know what is working and what isn&#039;t? Have the latest Mikrotik patches been applied to trunk, or have they already been accepted to the kernel?</p><p>I wouldn&#039;t mind improving the support for the 450G, but currently I don&#039;t know how well its supported.</p><p>So far i found the following links:<br /><a href="https://dev.openwrt.org/changeset/16754">https://dev.openwrt.org/changeset/16754</a></p><p>Dunno how directly this is related to the 450G, but...<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=97150#p97150">https://forum.openwrt.org/viewtopic.php … 150#p97150</a></p><p>Anyway, any input would be greatly appreciated. My 450G should arrive soon, and i am interested in ordering many more if i can get it to work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98215">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">warm</div>
					<div class="post-datetime">
						3 Dec 2009, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>I have get my br450g just yesterday :-). I also had a lot of time reading this forum and google about this router. Today I have loaded&nbsp; openwrt on this cruel device <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />, just netboot not NAND yet. I&#039;m afraid to touch NAND.</p><p>I applied patch for network adapter <a href="https://forum.openwrt.org/viewtopic.php?pid=95865#p95865">https://forum.openwrt.org/viewtopic.php … 865#p95865</a> and patch for NAND from that thread of phorum (but I have not tried to use NAND yet). I get first port (eth0) working ... I have pings, vlans and so on. Eth1 is connected to the switch wich does not work yet in openwrt <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />. I did not find any patches to get switch to work some how. I suspect that eth1 is working but switch is not configured and it blocks all packets from/to eth1.</p><p>So I think status of support rb450g by openwrt is very partial -- only eth0 can work and no other ports.</p><p>Also I&#039;m looking for some HOWTO about restoring NAND from openwrt back to RouterOS. I don&#039;t know how to make backup of routerOS and get it back to NAND. Does anyone know the link on some HOWTO ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98227">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">AraKs</div>
					<div class="post-datetime">
						3 Dec 2009, 17:21					</div>
				</div>
				<div class="post-content content">
					<p>To restore RouterOS, you can use the serial console of RouterBOOT.<br />Start NetInstall (<a href="http://www.mikrotik.com/download/netinstall-4.3.zip">http://www.mikrotik.com/download/netinstall-4.3.zip</a>) on your windows PC and connect your Routerboard using the ethernet cable and the serial null-modem cable.<br />Now power on the Routeborad, and press &quot;S&quot; in serial console to enter setup. Set boot device to network, save &amp; reboot.<br />Once the Routerboard have booted from the PC running NetInstall, on your PC chose the device from the target list, chose the NPK file to write (<a href="http://www.mikrotik.com/download.html">http://www.mikrotik.com/download.html</a>) and click the &quot;Install&quot; button to write RouterOS to NAND.<br />Reboot the Routerboard, enter RouterBOOT setup and set NAND as boot device. Save &amp; reboot.</p><p><img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98230">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">warm</div>
					<div class="post-datetime">
						3 Dec 2009, 18:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>AraKs wrote:</cite><blockquote><p>To restore RouterOS, you can use the serial console of RouterBOOT.<br />Start NetInstall (<a href="http://www.mikrotik.com/download/netinstall-4.3.zip">http://www.mikrotik.com/download/netinstall-4.3.zip</a>) on your windows PC and connect your Routerboard using the ethernet cable and the serial null-modem cable.<br />Now power on the Routeborad, and press &quot;S&quot; in serial console to enter setup. Set boot device to network, save &amp; reboot.<br />Once the Routerboard have booted from the PC running NetInstall, on your PC chose the device from the target list, chose the NPK file to write (<a href="http://www.mikrotik.com/download.html">http://www.mikrotik.com/download.html</a>) and click the &quot;Install&quot; button to write RouterOS to NAND.<br />Reboot the Routerboard, enter RouterBOOT setup and set NAND as boot device. Save &amp; reboot.</p><p><img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>I think that the router must be netbooted with special soft and this soft should format NAND and place RouterOS on it, am I right ?</p><p>netinstall-4.3.zip contains &quot;exe&quot; file for windows is there any way to use linux for recovery ? I have no windows <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><p>I am new in RouterOS and I don&#039;t know how activate license key on it. What should I do after recovering RouterOS ? Is it described in RouterOS docs ?</p><p>In any case thank You AraKs ! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98234">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">AraKs</div>
					<div class="post-datetime">
						3 Dec 2009, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>If i remember right, Mikrotik NetInstall is windows-only... =/<br />Anyway, the license should be stored into the RouterBOOT, so once you re-install RouterOS the old license is recovered!</p><p>Bye<br />Mattia</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98330">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						5 Dec 2009, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>@Warm: Were you using trunk or 8.09.1?</p><p>I&#039;m gonna try to build the latest trunk today, and see what kind of information i can provide.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98371">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">warm</div>
					<div class="post-datetime">
						6 Dec 2009, 09:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>russo. wrote:</cite><blockquote><p>@Warm: Were you using trunk or 8.09.1?</p><p>I&#039;m gonna try to build the latest trunk today, and see what kind of information i can provide.</p></blockquote></div><p>I used trunk:</p><p>KAMIKAZE (bleeding edge, r18617)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98432">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						7 Dec 2009, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>I got a reply today from mikrotik, they sent me a patch for the 2.6.27.39 kernel. Now its a question of howto update that patch against the 2.6 that openwrt runs.</p><p>Although I&#039;ve applied many kernel patches before, i have never tried applying a patch to a different kernel version than the one the patch is for. I can host the patch if anyone wants to have it as well. Does anyone have any recommendations on how to do this? I will only have time to experiment on the weekend, unfortunately.</p><p>On another note, @mikrotik_com on twitter sent me this very nice link explaining the switches of some RouteBoards, including the rb450g.</p><p>Here&#039;s the link: <a href="http://wiki.mikrotik.com/wiki/Switch_Chip_Features">http://wiki.mikrotik.com/wiki/Switch_Chip_Features</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98442">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">zulus</div>
					<div class="post-datetime">
						7 Dec 2009, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>post patch somewhere to get it</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98445">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">warm</div>
					<div class="post-datetime">
						7 Dec 2009, 16:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zulus wrote:</cite><blockquote><p>post patch somewhere to get it</p></blockquote></div><p>I think this patch is like this one:</p><p><a href="http://www.nexlab.it/index.php/2009/04/14/routerboard-450g-and-linux-part-2/">http://www.nexlab.it/index.php/2009/04/ … ux-part-2/</a></p><p>It is a kernel patch no tool for configuring the switch. I did not tried to apply this patch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98464">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						7 Dec 2009, 23:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>warm wrote:</cite><blockquote><p>It is a kernel patch no tool for configuring the switch. I did not tried to apply this patch.</p></blockquote></div><p>I&#039;m not entirely sure how the switch works, but i&#039;m pretty sure the switch configuration via swconfig (i.e. like it was on the rb450) isn&#039;t entirely possible in this case because the switch uses an atheros switch and not an IPC one.</p><p>Anyway here is the patch and the mips.config they sent me (I&#039;m not really sure why i need the .config)</p><p><a href="http://nedos.net/stuff/linux-2.6.27.39.patch.gz">http://nedos.net/stuff/linux-2.6.27.39.patch.gz</a><br /><a href="http://nedos.net/stuff/mips.config">http://nedos.net/stuff/mips.config</a></p><p>Edit: rephrase/typo</p>											<p class="post-edited">(Last edited by <strong>russo.</strong> on 7 Dec 2009, 23:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98514">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">zulus</div>
					<div class="post-datetime">
						9 Dec 2009, 10:54					</div>
				</div>
				<div class="post-content content">
					<p>This is just kernel patch .. no module for 8316 switch <br />But this is the first patch that i see&nbsp; from microtik with support for RB750/750G</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98519">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">warm</div>
					<div class="post-datetime">
						9 Dec 2009, 12:55					</div>
				</div>
				<div class="post-content content">
					<p>Eeeehhhh ... not usable cruel device yet with one interface only. Need switch with vlan support + this &quot;one-eyed&quot; router to make several interfaces working by vlans <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />.</p><p>Is any way to make build-in switch to work some how ? Just like unmanaged switch -- only path though packets ... no vlan just only frorward all frames like usual unmanaged switch does ...</p><p>For example dlink dir-615 C1 has some switch. Openwrt dos not support vlans or other managment off this switch as I know but it works! Usually devices of this class have switches with vlan support.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98524">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						9 Dec 2009, 14:49					</div>
				</div>
				<div class="post-content content">
					<p>I took a deeper look at the problem. The problem is in fact the switch configuration, and so it is infact an swconfig problem. Someone needs to write the ar8316 swconfig driver, my guess is that it is very similar to the ar8216, which openwrt already supports. I wrote Atheros today, so we&#039;ll see what happens. Hopefully they&#039;ll send me some useful information on how to implement the switch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98662">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						12 Dec 2009, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>i finally got around to seting up a tftp daemon and compiling trunk for the routerboard (r18765). I [bold]couldn&#039;t[/bold] get any sort of network up. Could someone explain the configuration they did? I have a bunch of vlan switches so i could get away with just setting up a lot of vlans on the one interface that works <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> however it doesn&#039;t work for me now.</p><p>Anyway i tried removing the bridge over eth0 with brctl and then bringing up eth0 and trying to ping some hosts connected through a switch, but it didn&#039;t work.</p><p>I really wouldn&#039;t mind working on the support, i&#039;m still waiting for some info about how the ar8316 is configured though and about how different it is from the 8216.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98678">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">mtadeu</div>
					<div class="post-datetime">
						13 Dec 2009, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Russo, look at:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=97665">https://forum.openwrt.org/viewtopic.php?pid=97665</a><br />We have success: eth0 work in giga.<br />The next step to work: config the ar8316 switch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98682">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						13 Dec 2009, 05:07					</div>
				</div>
				<div class="post-content content">
					<p>mtadeu, thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> i for some reason thought that that patch was already in trunk... I&#039;ll try it tomorrow <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98704">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						13 Dec 2009, 20:31					</div>
				</div>
				<div class="post-content content">
					<p>So i got trunk running now, with the one gige patch my first ethernet is also working. Unfortunately i&#039;m getting some MTD errors, does anyone have any idea on what i can do to fix them?</p><div class="codebox"><pre><code>root@OpenWrt:/# mount /dev/mtdblock1 /tmp/1
end_request: I/O error, dev mtdblock1, sector 0
SQUASHFS error: squashfs_read_data failed to read block 0x0
SQUASHFS error: unable to read squashfs_super_block
yaffs: dev is 32505857 name is &quot;mtdblock1&quot;
yaffs: passed flags &quot;&quot;
yaffs: Attempting MTD mount on 31.1, &quot;mtdblock1&quot;
yaffs: auto selecting yaffs2
block 1 is bad
block 2 is bad
block 3 is bad
block 4 is bad
block 5 is bad
block 6 is bad
block 7 is bad
block 8 is bad
block 9 is bad
block 10 is bad
block 11 is bad
block 12 is bad
yaffs_read_super: isCheckpointed 0</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98705">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						13 Dec 2009, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>And also dmesg shows this:</p><div class="codebox"><pre><code>Bad eraseblock 0 at 0x000000000000
Bad eraseblock 1 at 0x000000040000
Bad eraseblock 2 at 0x000000080000
Bad eraseblock 3 at 0x0000000c0000
Bad eraseblock 4 at 0x000000100000
Bad eraseblock 5 at 0x000000140000
Bad eraseblock 6 at 0x000000180000
Bad eraseblock 7 at 0x0000001c0000
Bad eraseblock 8 at 0x000000200000
Bad eraseblock 9 at 0x000000240000
...</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98710">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						13 Dec 2009, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Okay status update. After reading a bit longer, i figured out i should format my nand to get rid of the eraseblock errors. I had to apply to patches to get everything working, they&#039;re essentially from this thread <a href="https://forum.openwrt.org/viewtopic.php?id=19714">https://forum.openwrt.org/viewtopic.php?id=19714</a></p><p>But here are the patches to save anyone here time:</p><p>This one patches the size of the mtd partitions, so that you can more or less be sure that your kenrel fits:<br /></p><div class="codebox"><pre><code>diff --git a/linux-2.6.30.10/drivers/mtd/nand/rb4xx_nand.c b/linux-2.6.30.10/drivers/mtd/nand/rb4xx_nand.c
index 5087794..950ca15 100644
--- a/linux-2.6.30.10/drivers/mtd/nand/rb4xx_nand.c
+++ b/linux-2.6.30.10/drivers/mtd/nand/rb4xx_nand.c
@@ -92,7 +92,7 @@ static struct mtd_partition rb4xx_nand_partitions[] = {
        {
                .name   = &quot;kernel&quot;,
                .offset = (256 * 1024),
-               .size   = (4 * 1024 * 1024) - (256 * 1024),
+               .size   = (10 * 1024 * 1024) - (256 * 1024),
        },
        {
                .name   = &quot;rootfs&quot;,</code></pre></div><p>this one patches the gigabit and afterwards eth0 will work (while booting from tftp, described below):<br /></p><div class="codebox"><pre><code>diff --git a/linux-2.6.30.10/arch/mips/ar71xx/mach-rb-4xx.c b/linux-2.6.30.10/arch/mips/ar71xx/mach-rb-4xx.c
index a8e97c3..f7a9969 100644
--- a/linux-2.6.30.10/arch/mips/ar71xx/mach-rb-4xx.c
+++ b/linux-2.6.30.10/arch/mips/ar71xx/mach-rb-4xx.c
@@ -238,12 +238,12 @@ static void __init rb450_generic_setup(int gige)
 
        ar71xx_add_device_mdio(0xffffffe0);
 
-       ar71xx_eth0_data.phy_if_mode = PHY_INTERFACE_MODE_MII;
+       ar71xx_eth0_data.phy_if_mode = (gige) ? PHY_INTERFACE_MODE_RGMII : PHY_INTERFACE_MODE_MII;
        ar71xx_eth0_data.phy_mask = 0x0000000f;
        ar71xx_eth0_data.speed = (gige) ? SPEED_1000 : SPEED_100;
        ar71xx_eth0_data.duplex = DUPLEX_FULL;
 
-       ar71xx_eth1_data.phy_if_mode = PHY_INTERFACE_MODE_RMII;
+       ar71xx_eth1_data.phy_if_mode = (gige) ? PHY_INTERFACE_MODE_RGMII : PHY_INTERFACE_MODE_RMII;
        ar71xx_eth1_data.phy_mask = 0x00000010;
 
        ar71xx_add_device_eth(1);</code></pre></div><p>CAVEAT: one really big caveat is that at the moment eth0 WILL ONLY work when you tftpboot the image. I&#039;m not sure why, but i&#039;m writing mikrotik&#039;s support right now.</p><p>Hope this helps someone.</p><p>EDIT: oh and one more thing, to install to flash, format the nand in bios, then create a tgz image and put openwrt-ar71xx-rootfs.tgz and openwrt-ar71xx-vmlinux.elf onto a web/ftp server. Then simply install with wget2nand http://yourserver/path/to/files</p>											<p class="post-edited">(Last edited by <strong>russo.</strong> on 13 Dec 2009, 22:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98724">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">mtadeu</div>
					<div class="post-datetime">
						14 Dec 2009, 03:48					</div>
				</div>
				<div class="post-content content">
					<p>Russo: great. you are fast!<br />See that board:<br /><a href="http://www.unex.com.tw/product/rnra-83">http://www.unex.com.tw/product/rnra-83</a><br />The rnra-83 use the ar8316 and run Linux<br />Maybe the Unex guys can help us.</p>											<p class="post-edited">(Last edited by <strong>mtadeu</strong> on 14 Dec 2009, 04:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98734">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						14 Dec 2009, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>okay, i now also wrote the unex guys. I&#039;m currently waiting for a reply from unex, ubiquiti, mikrotik and of course atheros...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98753">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">yadmin</div>
					<div class="post-datetime">
						14 Dec 2009, 18:53					</div>
				</div>
				<div class="post-content content">
					<p>root@OpenWrt:/# cat /proc/mtd<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00040000 &quot;booter&quot;<br />mtd1: 003c0000 00040000 &quot;kernel&quot;<br />mtd2: 1fc00000 00040000 &quot;rootfs&quot;<br />root@OpenWrt:/# mount -t yaffs2 -o ro /dev/mtdblock1 /mnt<br />yaffs: dev is 32505857 name is &quot;mtdblock1&quot;<br />yaffs: passed flags &quot;&quot;<br />yaffs: Attempting MTD mount on 31.1, &quot;mtdblock1&quot;<br />block 1 is bad<br />block 2 is bad<br />block 3 is bad<br />block 4 is bad<br />block 5 is bad<br />block 6 is bad<br />block 7 is bad<br />block 8 is bad<br />block 9 is bad<br />block 10 is bad<br />block 11 is bad<br />block 12 is bad<br />yaffs_read_super: isCheckpointed 0<br />root@OpenWrt:/#<br />root@OpenWrt:/# uname -a<br />Linux OpenWrt 2.6.28.10 #1 Mon Dec 14 07:43:26 CST 2009 mips unknown<br />root@OpenWrt:/# ------------[ cut here ]------------<br />WARNING: at net/sched/sch_generic.c:226 ()<br />NETDEV WATCHDOG: eth1 (ag71xx): transmit timed out<br />Modules linked in: gpio_buttons nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp ipt_MASQUERADE iptable_nat nf_nat xt_NOTRACK iptable_raw xt_state nf_conntrack_ipv4 nf_defrag_ipv4 nf_conntrack ipt_REJECT xt_TCPMSS ipt_LOG xt_multiport xt_mac xt_limit iptable_mangle iptable_filter ip_tables xt_tcpudp x_tables ppp_async ppp_generic slhc input_polldev crc_ccitt input_core<br />Call Trace:[&lt;8007b270&gt;] 0x8007b270<br />[&lt;8006ea50&gt;] 0x8006ea50<br />[&lt;8006ea50&gt;] 0x8006ea50<br />[&lt;8007a38c&gt;] 0x8007a38c<br />[&lt;8009ffa0&gt;] 0x8009ffa0<br />[&lt;80095644&gt;] 0x80095644<br />[&lt;8008f034&gt;] 0x8008f034<br />[&lt;800a1754&gt;] 0x800a1754<br />[&lt;8015687c&gt;] 0x8015687c<br />[&lt;80092a74&gt;] 0x80092a74<br />[&lt;80092adc&gt;] 0x80092adc<br />[&lt;8009962c&gt;] 0x8009962c<br />[&lt;80075b54&gt;] 0x80075b54<br />[&lt;801b1348&gt;] 0x801b1348<br />[&lt;801c4374&gt;] 0x801c4374<br />[&lt;80218890&gt;] 0x80218890<br />[&lt;80217408&gt;] 0x80217408<br />[&lt;802188b8&gt;] 0x802188b8<br />[&lt;801c4210&gt;] 0x801c4210<br />[&lt;800840b8&gt;] 0x800840b8<br />[&lt;8009ffa0&gt;] 0x8009ffa0<br />[&lt;800a30b8&gt;] 0x800a30b8<br />[&lt;8007f43c&gt;] 0x8007f43c<br />[&lt;800a1754&gt;] 0x800a1754<br />[&lt;8006b47c&gt;] 0x8006b47c<br />[&lt;8007f528&gt;] 0x8007f528<br />[&lt;8006082c&gt;] 0x8006082c<br />[&lt;8008eb9c&gt;] 0x8008eb9c<br />[&lt;80060a00&gt;] 0x80060a00<br />[&lt;8006b600&gt;] 0x8006b600<br />[&lt;80060a20&gt;] 0x80060a20</p><p>---[ end trace 4168ef53734910dc ]---<br />eth1: link down<br />eth1: link up (1000Mbps/Full duplex)</p>											<p class="post-edited">(Last edited by <strong>yadmin</strong> on 14 Dec 2009, 18:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98759">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">russo.</div>
					<div class="post-datetime">
						14 Dec 2009, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>yadmin, applying the network patch got rid of the netdev error for me. The bad blocks can be fixed by formating your nand from bios.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p98764">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">zulus</div>
					<div class="post-datetime">
						14 Dec 2009, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>did someone find way how to install openwrt on nand&nbsp; with networking working ?</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 26 to 25 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=22759&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=22759&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>