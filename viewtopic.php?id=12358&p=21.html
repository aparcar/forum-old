<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for Marvell 88F5xx81 based routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 18 Jan 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 21 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=19.html">19</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=20.html">20</a></li><li class="pagination-current"><span>21</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=22.html">22</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=23.html">23</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p94443">
				<div class="post-metadata">
					<div class="post-num">Post #501</div>
					<div class="post-author">drizzt81</div>
					<div class="post-datetime">
						16 Sep 2009, 14:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falso wrote:</cite><blockquote><p>*******************************************<br />dbSign is:65:52:63:4f:6d:4d<br />mac address in flash is:00:1d:7e:ad:ce:5c<br />have eRcOmM<br />Hit ENTER to stop autoboot:&nbsp; 0</p></blockquote></div><p>Does it count down 3...2...1..0 at this point?<br />Can you ping it?<br />Does the Webinterface work?</p><p>please provide some more detail <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94445">
				<div class="post-metadata">
					<div class="post-num">Post #502</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						16 Sep 2009, 15:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>drizzt81 wrote:</cite><blockquote><div class="quotebox"><cite>falso wrote:</cite><blockquote><p>*******************************************<br />dbSign is:65:52:63:4f:6d:4d<br />mac address in flash is:00:1d:7e:ad:ce:5c<br />have eRcOmM<br />Hit ENTER to stop autoboot:&nbsp; 0</p></blockquote></div><p>Does it count down 3...2...1..0 at this point?<br />Can you ping it?<br />Does the Webinterface work?</p><p>please provide some more detail <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>It counts 3,2,1,0. I press enter but it doesn&#039;t stop.. CTRL-C doesn&#039;t work too. No access to webinterface, no ping. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>falso</strong> on 16 Sep 2009, 15:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94467">
				<div class="post-metadata">
					<div class="post-num">Post #503</div>
					<div class="post-author">DaBigMac</div>
					<div class="post-datetime">
						16 Sep 2009, 18:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falso wrote:</cite><blockquote><p>It counts 3,2,1,0. I press enter but it doesn&#039;t stop.. CTRL-C doesn&#039;t work too. No access to webinterface, no ping. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Which terminal program are you using? Is it PuTTY?</p><p>If not, maybe try using PuTTY.. I am, and it sends the enter command just fine, otherwise, perhaps, like mine was, the USB cable you are using is just too slow...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94470">
				<div class="post-metadata">
					<div class="post-num">Post #504</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						16 Sep 2009, 19:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DaBigMac wrote:</cite><blockquote><div class="quotebox"><cite>falso wrote:</cite><blockquote><p>It counts 3,2,1,0. I press enter but it doesn&#039;t stop.. CTRL-C doesn&#039;t work too. No access to webinterface, no ping. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Which terminal program are you using? Is it PuTTY?</p><p>If not, maybe try using PuTTY.. I am, and it sends the enter command just fine, otherwise, perhaps, like mine was, the USB cable you are using is just too slow...</p></blockquote></div><p>I am using PuTTy! I try to press enter but nothing happens.&nbsp; I bought the TTL-232R-3V3-AJ usb cable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94471">
				<div class="post-metadata">
					<div class="post-num">Post #505</div>
					<div class="post-author">dallienl</div>
					<div class="post-datetime">
						16 Sep 2009, 19:10					</div>
				</div>
				<div class="post-content content">
					<p>@ Falso</p><p>Hmm looks like the pinout of your cable is the problem as Nilfred suggested. Check the documentation of the cable you are using. The WRT side is () Vcc () RX () TX () GND the RX is connected to the wrong pin or not connected at all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94474">
				<div class="post-metadata">
					<div class="post-num">Post #506</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						16 Sep 2009, 20:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dallienl wrote:</cite><blockquote><p>@ Falso</p><p>Hmm looks like the pinout of your cable is the problem as Nilfred suggested. Check the documentation of the cable you are using. The WRT side is () Vcc () RX () TX () GND the RX is connected to the wrong pin or not connected at all.</p></blockquote></div><p>I double checked the wire connections. It&#039;s all ok. Now i am stuck. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94489">
				<div class="post-metadata">
					<div class="post-num">Post #507</div>
					<div class="post-author">pregi</div>
					<div class="post-datetime">
						17 Sep 2009, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>if you got any screen outputs via rs232 rx is ok. check tx wire<br />you dont need vcc if power is plugged in, you just need rx, tx and gnd</p><p>try this, it worked for me with my TTL-232R-3V3</p><p>JP5<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pin1<br />(gnd)&nbsp; &nbsp;(tx)&nbsp; &nbsp; &nbsp;(rx)&nbsp; &nbsp;(vcc)<br />black yellow orange&nbsp; red<br />TTL-232R-3V3</p>											<p class="post-edited">(Last edited by <strong>pregi</strong> on 17 Sep 2009, 00:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94491">
				<div class="post-metadata">
					<div class="post-num">Post #508</div>
					<div class="post-author">drizzt81</div>
					<div class="post-datetime">
						17 Sep 2009, 00:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falso wrote:</cite><blockquote><div class="quotebox"><cite>dallienl wrote:</cite><blockquote><p>@ Falso</p><p>Hmm looks like the pinout of your cable is the problem as Nilfred suggested. Check the documentation of the cable you are using. The WRT side is () Vcc () RX () TX () GND the RX is connected to the wrong pin or not connected at all.</p></blockquote></div><p>I double checked the wire connections. It&#039;s all ok. Now i am stuck. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Options to consider:<br />- try a different PC, maybe the one you are using has a more &quot;laggy&quot; USB port<br />- try a serial to serial converting cable, others appear to have better results with that<br />- double check the TX pinout as others suggest</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94502">
				<div class="post-metadata">
					<div class="post-num">Post #509</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						17 Sep 2009, 10:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falso wrote:</cite><blockquote><div class="quotebox"><cite>dallienl wrote:</cite><blockquote><p>@ Falso<br />Hmm looks like the pinout of your cable is the problem as Nilfred suggested. Check the documentation of the cable you are using. The WRT side is () Vcc () RX () TX () GND the RX is connected to the wrong pin or not connected at all.</p></blockquote></div><p>I double checked the wire connections. It&#039;s all ok. Now i am stuck. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Then reverse Tx and Rx connection. I&#039;m thinking about Tx echo is what you&#039;re hearing. Remember: &quot;Tx wire side&quot; goes to &quot;Rx router side&quot;, &quot;Tx router side&quot; goes to &quot;Rx wire side&quot;. That is the way it goes.<br />If no luck try pressing reset button instead of Enter, console will show some fork. Did we talk about <a href="http://www.nslu2-linux.org/wiki/Main/SercommFirmwareUpdater">Sercomm utility</a> already?</p>											<p class="post-edited">(Last edited by <strong>Nilfred</strong> on 17 Sep 2009, 10:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94509">
				<div class="post-metadata">
					<div class="post-num">Post #510</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						17 Sep 2009, 15:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Nilfred wrote:</cite><blockquote><div class="quotebox"><cite>falso wrote:</cite><blockquote><div class="quotebox"><cite>dallienl wrote:</cite><blockquote><p>@ Falso<br />Hmm looks like the pinout of your cable is the problem as Nilfred suggested. Check the documentation of the cable you are using. The WRT side is () Vcc () RX () TX () GND the RX is connected to the wrong pin or not connected at all.</p></blockquote></div><p>I double checked the wire connections. It&#039;s all ok. Now i am stuck. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Then reverse Tx and Rx connection. I&#039;m thinking about Tx echo is what you&#039;re hearing. Remember: &quot;Tx wire side&quot; goes to &quot;Rx router side&quot;, &quot;Tx router side&quot; goes to &quot;Rx wire side&quot;. That is the way it goes.<br />If no luck try pressing reset button instead of Enter, console will show some fork. Did we talk about <a href="http://www.nslu2-linux.org/wiki/Main/SercommFirmwareUpdater">Sercomm utility</a> already?</p></blockquote></div><p>Hello,</p><p>The pinout is ok, i verified that twice, in adition i bought another 3,5mm jack and the problem is still here, cant press enter or ctrl-c using putty or hyperterminal and so on, etc.. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />I&#039;ve tried Sercomm utility but i cant get it to work. The router is in download mode but Nothing appears after i select my pc card. <br />Dont Know what to do more.<br />Thanks for the infos anyway.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94516">
				<div class="post-metadata">
					<div class="post-num">Post #511</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						17 Sep 2009, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>3,5mm stereo audio jack with 5 pins? <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94519">
				<div class="post-metadata">
					<div class="post-num">Post #512</div>
					<div class="post-author">operron</div>
					<div class="post-datetime">
						17 Sep 2009, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>Did you disable the flow control in putty ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94527">
				<div class="post-metadata">
					<div class="post-num">Post #513</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						17 Sep 2009, 16:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Nilfred wrote:</cite><blockquote><p>3,5mm stereo audio jack with 5 pins? <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p></blockquote></div><p>No, with 3 pins! <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94528">
				<div class="post-metadata">
					<div class="post-num">Post #514</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						17 Sep 2009, 16:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>operron wrote:</cite><blockquote><p>Did you disable the flow control in putty ?</p></blockquote></div><p>Yes, flow control is disabled!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94545">
				<div class="post-metadata">
					<div class="post-num">Post #515</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						17 Sep 2009, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>Well, i&#039;ve tried two cables (TTL-232R-3V3-AJ and rs232 direct serial cable) and i dont know what&#039;s happening with my uboot. <br />I simple can&#039;t press enter CTRL-C. Everything is connected very well, i&#039;ve tried in two pc&#039;s without success.. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Please help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94549">
				<div class="post-metadata">
					<div class="post-num">Post #516</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						17 Sep 2009, 22:21					</div>
				</div>
				<div class="post-content content">
					<p>No, no, no. Not a direct RS232 cable, is always a TTL 3.3v to ±12v RS232 circuit implied. Like old Nokia DKU-5 (clone) serial cable (not USB).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94561">
				<div class="post-metadata">
					<div class="post-num">Post #517</div>
					<div class="post-author">falso</div>
					<div class="post-datetime">
						18 Sep 2009, 02:41					</div>
				</div>
				<div class="post-content content">
					<p>ok.. <br />I dont know what to do more.. if someone wants to do a remote conection to my pc to see uboot logs and if i&#039;m doing something wrong please tell me via PM. <br />Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94750">
				<div class="post-metadata">
					<div class="post-num">Post #518</div>
					<div class="post-author">oOo.Manu.oOo</div>
					<div class="post-datetime">
						22 Sep 2009, 00:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I own a wrt350N v2.1 with firmware 2.0.17 bought in Luxembourg (Europe)</p><p>I&#039;ve contacted Linksys (using web chat)in order to get a firmware update and they told me to use the one from version 2.0</p><div class="codebox"><pre><code>from oOo.Manu.oOo to All Participants:
the annoying thing is that I have a hardware version 2.1
from Harsh (46139E) to All Participants:
The latest firmware is 2.00.19
from Harsh (46139E) to All Participants:
http://www.linksysbycisco.com/UK/en/support/WRT350N/download
from oOo.Manu.oOo to All Participants:
no, it&#039;s for version 2.0
from oOo.Manu.oOo to All Participants:
and I have a 2.1
from Harsh (46139E) to All Participants:
Version 2.0 and 2.1 is similar
from oOo.Manu.oOo to All Participants:
a specific local version
from Harsh (46139E) to All Participants:
The firmware are same for both
from oOo.Manu.oOo to All Participants:
so you mean I can flash it without being scared to brick it ?
from Harsh (46139E) to All Participants:
That&#039;s right</code></pre></div>											<p class="post-edited">(Last edited by <strong>oOo.Manu.oOo</strong> on 22 Sep 2009, 00:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94784">
				<div class="post-metadata">
					<div class="post-num">Post #519</div>
					<div class="post-author">colombodk</div>
					<div class="post-datetime">
						22 Sep 2009, 16:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falso wrote:</cite><blockquote><p>Well, i&#039;ve tried two cables (TTL-232R-3V3-AJ and rs232 direct serial cable) and i dont know what&#039;s happening with my uboot. <br />I simple can&#039;t press enter CTRL-C. Everything is connected very well, i&#039;ve tried in two pc&#039;s without success.. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Please help me.</p></blockquote></div><p>I also have a bricked WRT350N v.2.1 EU-model. My friend tried to flash it to DD-WRT and bricked it... doh!</p><p>I had exactly the same problem, using Vista/windows 7 - the problem disappeared when I used Windows XP. I use one of these adapters:<br /><a href="http://cgi.ebay.com/USB-To-TTL-Converter-ARK3116-XP-Linux-MAX232-MAX3232_W0QQitemZ360171719350QQcmdZViewItemQQptZLH_DefaultDomain_0?hash=item53dbe84ab6&amp;_trksid=p3286.c0.m14">http://cgi.ebay.com/USB-To-TTL-Converte … 286.c0.m14</a></p><p>I am then able to connect usb-adapter (only Tx TX and 3.3v) to the serial header on the board (motherboard with the RJ45 ports on the right side, from left to right: pin1=3.3v, pin2=Tx, pin3=Tx, pin4= not connected), then start Putty.exe to listen on the com-port, then plug in the power supply, then I am able to use the Enter-key to halt the boot-process.</p><p>However, once the I let the boot process continue, I get this, which results in a Kernel Panic. </p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__&nbsp; __&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _ _<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; \/&nbsp; | __ _ _ ____&nbsp; &nbsp;_____| | |<br />&nbsp; &nbsp; &nbsp; &nbsp; | |\/| |/ _` | &#039;__\ \ / / _ \ | |<br />&nbsp; &nbsp; &nbsp; &nbsp; | |&nbsp; | | (_| | |&nbsp; &nbsp;\ V /&nbsp; __/ | |<br />&nbsp; &nbsp; &nbsp; &nbsp; |_|&nbsp; |_|\__,_|_|&nbsp; &nbsp; \_/ \___|_|_|<br /> _&nbsp; &nbsp;_&nbsp; &nbsp; &nbsp;____&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _<br />| | | |&nbsp; &nbsp;| __ )&nbsp; ___&nbsp; &nbsp;___ | |_<br />| | | |___|&nbsp; _ \ / _ \ / _ \| __|<br />| |_| |___| |_) | (_) | (_) | |_<br /> \___/&nbsp; &nbsp; |____/ \___/ \___/ \__|&nbsp; ** LOADER **<br /> ** MARVELL BOARD: RD-88F5181L-VOIP-GE LE</p><p>U-Boot 1.1.1 (Dec 12 2006 - 16:12:22) Marvell version: 1.7.3</p><p>DRAM CS[0] base 0x00000000&nbsp; &nbsp;size&nbsp; 32MB<br />DRAM Total size&nbsp; 32MB<br />Flash: mvFlashInit base 0xff800000 devW 1 busW 1<br />Flash: flashStructGet manu 0xec id 0xe0<br />Flash: flashStructGet flash is supported.<br />FLASH: initFlashSecs TOP Sector Type<br />Flash: flashSecsInit main sector loop 0 - 127<br />[8192kB@ff800000] Flash:&nbsp; 8 MB<br />Addresses 20M - 0M are saved for the U-Boot usage.<br />Mem malloc Initialization (20M - 16M): Done<br />*** Warning - bad CRC, using default environment</p><br /><p>Soc: MV88F5181 Rev 9<br />CPU: ARM926 (Rev 0) running @ 500Mhz<br />SysClock = 166Mhz , TClock = 166Mhz</p><br /><p>USB 0: host mode<br />PCI 0: PCI Express Root Complex Interface<br />PCI 1: Conventional PCI, speed = 33000000<br />Net:&nbsp; &nbsp;mvEgigaLoad: egiga0 load ok<br />egiga0 [PRIME]</p><p>***************DRIVER INFO*****************</p><p>DRIVER BUILD DATA: Jan&nbsp; 9 2007 at 18:25:44<br />DRIVER VERSION 1.06</p><p>*******************************************<br />dbSign is:65:52:63:4f:6d:4d<br />mac address in flash is:00:1d:7e:ad:c4:ca<br />have eRcOmM<br />Hit ENTER to stop autoboot:&nbsp; 0<br />copy kernel from 0xff800000 to 0x400000 with size 0x200000<br />## Booting image at 00400000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux-2.6.30.5<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;ARM Linux Kernel Image (uncompressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 900180 Bytes = 879.1 kB<br />&nbsp; &nbsp;Load Address: 00008000<br />&nbsp; &nbsp;Entry Point:&nbsp; 00008000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />OK</p><p>Starting kernel ...</p><p>Uncompressing Linux... done, booting the kernel.<br />Linux version 2.6.30.5 (openwrt@debian5) (gcc version 4.1.2) #1 Tue Aug 25 20:43:08 CEST 2009<br />CPU: Feroceon [41069260] revision 0 (ARMv5TEJ), cr=a0053177<br />CPU: VIVT data cache, VIVT instruction cache<br />Machine: Linksys WRT350N v2<br />Clearing invalid memory bank 0KB@0xffffffff<br />Clearing invalid memory bank 0KB@0xffffffff<br />Clearing invalid memory bank 0KB@0xffffffff<br />Ignoring unrecognised tag 0x00000000<br />Ignoring unrecognised tag 0x00000000<br />Ignoring unrecognised tag 0x00000000<br />Memory policy: ECC disabled, Data cache writeback<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line: root=/dev/mtdblock1 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200<br />NR_IRQS:64<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 32MB = 32MB total<br />Memory: 30036KB available (2156K code, 157K data, 100K init, 0K highmem)<br />Calibrating delay loop... 332.59 BogoMIPS (lpj=1662976)<br />Mount-cache hash table entries: 512<br />CPU: Testing write buffer coherency: ok<br />net_namespace: 1008 bytes<br />NET: Registered protocol family 16<br />Orion ID: MV88F5181L-Rev-A1. TCLK=166666667.<br />Applying Orion-1/Orion-NAS PCIe config read transaction workaround<br />PCI: bus0: Fast back to back transfers disabled<br />pci 0000:01:00.0: PME# supported from D0 D1 D2 D3hot<br />pci 0000:01:00.0: PME# disabled<br />PCI: bus1: Fast back to back transfers enabled<br />bio: create slab &lt;bio-0&gt; at 0<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NET: Registered protocol family 1<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; Â© 2001-2006 Red Hat, Inc.<br />msgmni has been set to 58<br />alg: No test for lzma (lzma-generic)<br />alg: No test for stdrng (krng)<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0xf1012000 (irq = 3) is a 16550A<br />console [ttyS0] enabled<br />MV-643xx 10/100/1000 ethernet driver version 1.4<br />mv643xx_eth smi: probed<br />net eth0: port 0 with MAC address 00:00:00:00:51:81<br />physmap platform flash device: 00800000 at f4000000<br />physmap-flash.0: Found 1 x16 devices at 0x0 in 8-bit bank<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />physmap-flash.0: Swapping erase regions for broken CFI table.<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />cmdlinepart partition parsing not available<br />RedBoot partition parsing not available<br />Using physmap partition information<br />Creating 7 MTD partitions on &quot;physmap-flash.0&quot;:<br />0x000000000000-0x000000100000 : &quot;kernel&quot;<br />0x000000100000-0x000000750000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=240000, len=510000<br />0x000000240000-0x000000750000 : &quot;rootfs_data&quot;<br />0x000000760000-0x0000007a0000 : &quot;lang&quot;<br />0x0000007a0000-0x0000007c0000 : &quot;nvram&quot;<br />0x0000007c0000-0x000000800000 : &quot;u-boot&quot;<br />0x000000750000-0x000000760000 : &quot;eRcOmM_do_not_touch&quot;<br />0x000000000000-0x000000760000 : &quot;image&quot;<br />i2c /dev entries driver<br />TCP westwood registered<br />NET: Registered protocol family 17<br />Distributed Switch Architecture driver version 0.1<br />eth0[0]: detected a Marvell 88E6131 switch<br />dsa slave smi: probed<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />drivers/rtc/hctosys.c: unable to open rtc device (rtc0)<br />SQUASHFS error: squashfs_read_data failed to read block 0x135b5e<br />SQUASHFS error: Unable to read metadata cache entry [135b5e]<br />SQUASHFS error: Unable to read inode 0x7c51cae<br />------------[ cut here ]------------<br />WARNING: at fs/inode.c:674 0xc00939a0()<br />Modules linked in:<br />Backtrace:<br />Function entered at [&lt;c0025310&gt;] from [&lt;c0025770&gt;]<br /> r6:c00939a0 r5:c020da58 r4:000002a2<br />Function entered at [&lt;c0025758&gt;] from [&lt;c0030a74&gt;]<br />Function entered at [&lt;c0030a24&gt;] from [&lt;c0030aa4&gt;]<br /> r7:c180ce48 r6:c1d6b800 r5:c1df15a0 r4:c180ce48<br />Function entered at [&lt;c0030a8c&gt;] from [&lt;c00939a0&gt;]<br />Function entered at [&lt;c0093958&gt;] from [&lt;c0095adc&gt;]<br /> r4:c180ce48<br />Function entered at [&lt;c0095abc&gt;] from [&lt;c00cabcc&gt;]<br /> r4:c1d9aec0<br />Function entered at [&lt;c00ca87c&gt;] from [&lt;c0084bb8&gt;]<br /> r9:00000000 r8:00008000 r7:00000003 r6:c1d6b800 r5:c1d6b800<br />r4:c1802bbc<br />Function entered at [&lt;c0084a90&gt;] from [&lt;c00ca774&gt;]<br />Function entered at [&lt;c00ca754&gt;] from [&lt;c0084588&gt;]<br /> r4:c1c0a320<br />Function entered at [&lt;c0084530&gt;] from [&lt;c0084638&gt;]<br /> r8:c1d9b000 r7:c0245df4 r6:00000000 r5:c1c6b000 r4:00008000<br />Function entered at [&lt;c00845f8&gt;] from [&lt;c00984f8&gt;]<br /> r8:00000000 r7:c1d9b000 r6:c1c6b000 r5:00008000 r4:00000000<br />Function entered at [&lt;c0098384&gt;] from [&lt;c0098ae4&gt;]<br />Function entered at [&lt;c0098a58&gt;] from [&lt;c0008cbc&gt;]<br /> r7:00008000 r6:c1ce0000 r5:c001f884 r4:c1ce0000<br />Function entered at [&lt;c0008c18&gt;] from [&lt;c0008f34&gt;]<br />Function entered at [&lt;c0008ed8&gt;] from [&lt;c0009088&gt;]<br /> r5:c001f83c r4:c02551a8<br />Function entered at [&lt;c0008f44&gt;] from [&lt;c00087d0&gt;]<br /> r5:c001de38 r4:c0255198<br />Function entered at [&lt;c0008714&gt;] from [&lt;c00339a0&gt;]<br /> r6:00000000 r5:00000000 r4:00000000<br />---[ end trace 73aec54a305472db ]---<br />VFS: Cannot open root device &quot;mtdblock1&quot; or unknown-block(31,1)<br />Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />1f00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1024 mtdblock0 driver: physmap-flash<br />1f01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6464 mtdblock1 driver: physmap-flash<br />1f02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5184 mtdblock2 driver: physmap-flash<br />1f03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;256 mtdblock3 driver: physmap-flash<br />1f04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;128 mtdblock4 driver: physmap-flash<br />1f05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;256 mtdblock5 driver: physmap-flash<br />1f06&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 64 mtdblock6 driver: physmap-flash<br />1f07&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7552 mtdblock7 driver: physmap-flash<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,1)</p><p>**********************************************************************end of log.</p><p>I have tried the TFTP-method, but without any luck.</p><p>Once I power on holding the reset-button, and let go, the LED flashes continually orange/green, but no replies to ping.</p><p>How do I get on from here, please advice. </p><p>is it possible to use the built in tools in the U-boot-system?</p><p>Once I halt the autoboot-process, and type help, these commands appear:</p><p>********************************************************************* begin</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__&nbsp; __&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _ _<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; \/&nbsp; | __ _ _ ____&nbsp; &nbsp;_____| | |<br />&nbsp; &nbsp; &nbsp; &nbsp; | |\/| |/ _` | &#039;__\ \ / / _ \ | |<br />&nbsp; &nbsp; &nbsp; &nbsp; | |&nbsp; | | (_| | |&nbsp; &nbsp;\ V /&nbsp; __/ | |<br />&nbsp; &nbsp; &nbsp; &nbsp; |_|&nbsp; |_|\__,_|_|&nbsp; &nbsp; \_/ \___|_|_|<br /> _&nbsp; &nbsp;_&nbsp; &nbsp; &nbsp;____&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _<br />| | | |&nbsp; &nbsp;| __ )&nbsp; ___&nbsp; &nbsp;___ | |_<br />| | | |___|&nbsp; _ \ / _ \ / _ \| __|<br />| |_| |___| |_) | (_) | (_) | |_<br /> \___/&nbsp; &nbsp; |____/ \___/ \___/ \__|&nbsp; ** LOADER **<br /> ** MARVELL BOARD: RD-88F5181L-VOIP-GE LE</p><p>U-Boot 1.1.1 (Dec 12 2006 - 16:12:22) Marvell version: 1.7.3</p><p>DRAM CS[0] base 0x00000000&nbsp; &nbsp;size&nbsp; 32MB<br />DRAM Total size&nbsp; 32MB<br />Flash: mvFlashInit base 0xff800000 devW 1 busW 1<br />Flash: flashStructGet manu 0xec id 0xe0<br />Flash: flashStructGet flash is supported.<br />FLASH: initFlashSecs TOP Sector Type<br />Flash: flashSecsInit main sector loop 0 - 127<br />[8192kB@ff800000] Flash:&nbsp; 8 MB<br />Addresses 20M - 0M are saved for the U-Boot usage.<br />Mem malloc Initialization (20M - 16M): Done<br />*** Warning - bad CRC, using default environment</p><br /><p>Soc: MV88F5181 Rev 9<br />CPU: ARM926 (Rev 0) running @ 500Mhz<br />SysClock = 166Mhz , TClock = 166Mhz</p><br /><p>USB 0: host mode<br />PCI 0: PCI Express Root Complex Interface<br />PCI 1: Conventional PCI, speed = 33000000<br />Net:&nbsp; &nbsp;mvEgigaLoad: egiga0 load ok<br />egiga0 [PRIME]</p><p>***************DRIVER INFO*****************</p><p>DRIVER BUILD DATA: Jan&nbsp; 9 2007 at 18:25:44<br />DRIVER VERSION 1.06</p><p>*******************************************<br />dbSign is:65:52:63:4f:6d:4d<br />mac address in flash is:00:1d:7e:ad:c4:ca<br />have eRcOmM<br />Hit ENTER to stop autoboot:&nbsp; 0<br />Marvell&gt;&gt; help<br />?&nbsp; &nbsp; &nbsp; &nbsp;- alias for &#039;help&#039;<br />base&nbsp; &nbsp; - print or set address offset<br />boot&nbsp; &nbsp; - boot default, i.e., run &#039;bootcmd&#039;<br />bootd&nbsp; &nbsp;- boot default, i.e., run &#039;bootcmd&#039;<br />bootext2&nbsp; &nbsp; dev:boot_part1,boot_part2 addr boot_image linux_dev_name<br />bootm&nbsp; &nbsp;- boot application image from memory<br />bootp&nbsp; &nbsp;- boot image via network using BootP/TFTP protocol<br />bubt&nbsp; &nbsp; - Burn an image on the Boot Flash.<br />cmp&nbsp; &nbsp; &nbsp;- memory compare<br />cp&nbsp; &nbsp; &nbsp; - memory copy<br />cpumap - Display CPU memory mapping settings.<br />crc32&nbsp; &nbsp;- checksum calculation<br />diskboot- boot from IDE device<br />echo&nbsp; &nbsp; - echo args to console<br />erase&nbsp; &nbsp;- erase FLASH memory<br />ext2load- load binary file from a Ext2 filesystem<br />ext2ls- list files in a directory (default /)<br />flinfo&nbsp; - print FLASH memory information<br />go&nbsp; &nbsp; &nbsp; - start application at address &#039;addr&#039;<br />help&nbsp; &nbsp; - print online help<br />ide&nbsp; &nbsp; &nbsp;- IDE sub-system<br />loop&nbsp; &nbsp; - infinite loop on address range<br />md&nbsp; &nbsp; &nbsp; - memory display<br />mm&nbsp; &nbsp; &nbsp; - memory modify (auto-incrementing)<br />mtest&nbsp; &nbsp;- simple RAM test<br />mw&nbsp; &nbsp; &nbsp; - memory write (fill)<br />nm&nbsp; &nbsp; &nbsp; - memory modify (constant address)<br />pci&nbsp; &nbsp; &nbsp;- list and access PCI Configuraton Space<br />printenv- print environment variables<br />protect - enable or disable FLASH write protection<br />rarpboot- boot image via network using RARP/TFTP protocol<br />reset&nbsp; &nbsp;- Perform RESET of the CPU<br />saveenv - save environment variables to persistent storage<br />scload&nbsp; - Sercomm load binary file from flash image<br />setenv&nbsp; - set environment variables<br />tftpboot- boot image via network using TFTP protocol<br />version - print monitor version<br />Marvell&gt;&gt;</p><p>***************************************&#039;end</p><br /><p>I have tried the TFTP-method, but without any luck.</p><p>Once I power on holding the reset-button, and let go, the LED flashes continually orange/green, but no replies to ping. Putty displays this:</p><p>*************************************** begin</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__&nbsp; __&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _ _<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; \/&nbsp; | __ _ _ ____&nbsp; &nbsp;_____| | |<br />&nbsp; &nbsp; &nbsp; &nbsp; | |\/| |/ _` | &#039;__\ \ / / _ \ | |<br />&nbsp; &nbsp; &nbsp; &nbsp; | |&nbsp; | | (_| | |&nbsp; &nbsp;\ V /&nbsp; __/ | |<br />&nbsp; &nbsp; &nbsp; &nbsp; |_|&nbsp; |_|\__,_|_|&nbsp; &nbsp; \_/ \___|_|_|<br /> _&nbsp; &nbsp;_&nbsp; &nbsp; &nbsp;____&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _<br />| | | |&nbsp; &nbsp;| __ )&nbsp; ___&nbsp; &nbsp;___ | |_<br />| | | |___|&nbsp; _ \ / _ \ / _ \| __|<br />| |_| |___| |_) | (_) | (_) | |_<br /> \___/&nbsp; &nbsp; |____/ \___/ \___/ \__|&nbsp; ** LOADER **<br /> ** MARVELL BOARD: RD-88F5181L-VOIP-GE LE</p><p>U-Boot 1.1.1 (Dec 12 2006 - 16:12:22) Marvell version: 1.7.3</p><p>DRAM CS[0] base 0x00000000&nbsp; &nbsp;size&nbsp; 32MB<br />DRAM Total size&nbsp; 32MB<br />Flash: mvFlashInit base 0xff800000 devW 1 busW 1<br />Flash: flashStructGet manu 0xec id 0xe0<br />Flash: flashStructGet flash is supported.<br />FLASH: initFlashSecs TOP Sector Type<br />Flash: flashSecsInit main sector loop 0 - 127<br />[8192kB@ff800000] Flash:&nbsp; 8 MB<br />Addresses 20M - 0M are saved for the U-Boot usage.<br />Mem malloc Initialization (20M - 16M): Done<br />*** Warning - bad CRC, using default environment</p><br /><p>Soc: MV88F5181 Rev 9<br />CPU: ARM926 (Rev 0) running @ 500Mhz<br />SysClock = 166Mhz , TClock = 166Mhz</p><br /><p>USB 0: host mode<br />PCI 0: PCI Express Root Complex Interface<br />PCI 1: Conventional PCI, speed = 33000000<br />Net:&nbsp; &nbsp;mvEgigaLoad: egiga0 load ok<br />egiga0 [PRIME]</p><p>***************DRIVER INFO*****************</p><p>DRIVER BUILD DATA: Jan&nbsp; 9 2007 at 18:25:44<br />DRIVER VERSION 1.06</p><p>*******************************************<br />dbSign is:65:52:63:4f:6d:4d<br />mac address in flash is:00:1d:7e:ad:c4:ca<br />have eRcOmM<br />if release button,enter download<br />mvEgigaLoad: egiga0 load ok<br />egiga0 [PRIME]</p><p>mvEgigaInit: egiga0 init - mvBoardPhyAddrGet()=0x0 , priv-&gt;port =0x0<br />ring full<br />mvEgigaInit: egiga0 complete ok<br />In download function<br /> mac address:00:1d:7e:ad:c4:ca<br />Pin:36.39.33.30.38.34.32.30</p><p>**********************************************************end</p><br /><p>Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94792">
				<div class="post-metadata">
					<div class="post-num">Post #520</div>
					<div class="post-author">DaBigMac</div>
					<div class="post-datetime">
						22 Sep 2009, 17:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>colombodk wrote:</cite><blockquote><div class="quotebox"><cite>falso wrote:</cite><blockquote><p>Well, i&#039;ve tried two cables (TTL-232R-3V3-AJ and rs232 direct serial cable) and i dont know what&#039;s happening with my uboot. <br />I simple can&#039;t press enter CTRL-C. Everything is connected very well, i&#039;ve tried in two pc&#039;s without success.. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Please help me.</p></blockquote></div><p>I also have a bricked WRT350N v.2.1 EU-model. My friend tried to flash it to DD-WRT and bricked it... doh!</p><p>I had exactly the same problem, using Vista/windows 7 - the problem disappeared when I used Windows XP. I use one of these adapters:<br /><a href="http://cgi.ebay.com/USB-To-TTL-Converter-ARK3116-XP-Linux-MAX232-MAX3232_W0QQitemZ360171719350QQcmdZViewItemQQptZLH_DefaultDomain_0?hash=item53dbe84ab6&amp;_trksid=p3286.c0.m14">http://cgi.ebay.com/USB-To-TTL-Converte … 286.c0.m14</a></p><p>I am then able to connect usb-adapter (only Tx TX and 3.3v) to the serial header on the board (motherboard with the RJ45 ports on the right side, from left to right: pin1=3.3v, pin2=Tx, pin3=Tx, pin4= not connected), then start Putty.exe to listen on the com-port, then plug in the power supply, then I am able to use the Enter-key to halt the boot-process.</p><p>However, once the I let the boot process continue, I get this, which results in a Kernel Panic. </p><p>Any ideas?</p></blockquote></div><p>Dude, you have a lot of reading to do, begin at the start and work your way through paying particular attention to <a href="https://forum.openwrt.org/viewtopic.php?pid=89744#p89744">https://forum.openwrt.org/viewtopic.php … 744#p89744</a> &lt;-- this post by maddes.b</p><p>I had a hell of a time understanding the idea of offsets (the hexadecimal addition is actually pretty easy if you use the &#039;padded&#039; files created by maddes.b), but I think the post is ONLY logical if you follow the WHOLE train of though.. if you&#039;re thinking of posting here, asking for a quick fix, no.. sorry, doesn&#039;t exist.. but there is working router to be had if you&#039;re patient enough to read through the forum thread and apply some logic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94803">
				<div class="post-metadata">
					<div class="post-num">Post #521</div>
					<div class="post-author">mrk</div>
					<div class="post-datetime">
						22 Sep 2009, 20:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>colombodk wrote:</cite><blockquote><p>I also have a bricked WRT350N v.2.1 EU-model. My friend tried to flash it to DD-WRT and bricked it... doh!</p></blockquote></div><p>DD-WRT?<br />Do they support the V2 modell by now?</p><p>The deepest issue with the kernel is, that the mtd-tables (kernel) are often too tiny.<br />Therefore You run into these kernel panics.</p><p>So please be very careful compiling the kernel by your own. (or grap it elsewhere beside maddes place)<br />Although it is a little bit forgotten, I extended the wrt350n-webbuilder with some size-tests,<br />which helped me to look at the file-sizes.</p><p>So please check the mtd-partition sizes first, compile, check kernel and rootfs-sizes, build<br />and ..... happy flashing.</p><p>Your issue seems to be rather easy.<br />Stop at uBoot.</p><p>set the serverip<br />start a tftp-server on your desktop<br />tftboot</p><p>unprotect and copy to the right flash-memory<br />reboot</p><p>References <br /><a href="https://forum.openwrt.org/viewtopic.php?pid=91417#p91417">https://forum.openwrt.org/viewtopic.php … 417#p91417</a><br /><a href="https://forum.openwrt.org/viewtopic.php?pid=88808#p88808">https://forum.openwrt.org/viewtopic.php … 808#p88808</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94814">
				<div class="post-metadata">
					<div class="post-num">Post #522</div>
					<div class="post-author">drizzt81</div>
					<div class="post-datetime">
						22 Sep 2009, 23:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>colombodk wrote:</cite><blockquote><p>I also have a bricked WRT350N v.2.1 EU-model. My friend tried to flash it to DD-WRT and bricked it... doh!</p><p>I had exactly the same problem, using Vista/windows 7 - the problem disappeared when I used Windows XP. I use one of these adapters:<br /><a href="http://cgi.ebay.com/USB-To-TTL-Converter-ARK3116-XP-Linux-MAX232-MAX3232_W0QQitemZ360171719350QQcmdZViewItemQQptZLH_DefaultDomain_0?hash=item53dbe84ab6&amp;_trksid=p3286.c0.m14">http://cgi.ebay.com/USB-To-TTL-Converte … 286.c0.m14</a></p><p>I am then able to connect usb-adapter (only Tx TX and 3.3v) to the serial header on the board (motherboard with the RJ45 ports on the right side, from left to right: pin1=3.3v, pin2=Tx, pin3=Tx, pin4= not connected), then start Putty.exe to listen on the com-port, then plug in the power supply, then I am able to use the Enter-key to halt the boot-process.</p><p>However, once the I let the boot process continue, I get this, which results in a Kernel Panic. <br /></p><div class="codebox"><pre><code>&lt;- snip -&gt;

mvEgigaInit: egiga0 init - mvBoardPhyAddrGet()=0x0 , priv-&gt;port =0x0
ring full
mvEgigaInit: egiga0 complete ok
In download function
 mac address:00:1d:7e:ad:c4:ca
Pin:36.39.33.30.38.34.32.30</code></pre></div></blockquote></div><p>in this download mode, you can flash an image. I followed suggestions from Maddes.B and others, see <a href="https://forum.openwrt.org/viewtopic.php?pid=93665#p93665">here.</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94820">
				<div class="post-metadata">
					<div class="post-num">Post #523</div>
					<div class="post-author">maddes.b</div>
					<div class="post-datetime">
						23 Sep 2009, 00:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>colombodk wrote:</cite><blockquote><p>I also have a bricked WRT350N v.2.1 EU-model. My friend tried to flash it to DD-WRT and bricked it... doh!</p></blockquote></div><p>If he/you had checked the hardware list of DD-Wrt and its forums, you would know that DD-WRT does not support v2.x versions of WRT350N. (Sebastian stopped to add support for it around June 2008, do not know if he will pick it up again as the kernel and drivers became more stable).<br />All possible solutions to your problem have been posted to your question. The one from drizzt81 via download mode should be your escape route. Good luck.</p>											<p class="post-edited">(Last edited by <strong>maddes.b</strong> on 23 Sep 2009, 00:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94830">
				<div class="post-metadata">
					<div class="post-num">Post #524</div>
					<div class="post-author">DaBigMac</div>
					<div class="post-datetime">
						23 Sep 2009, 05:23					</div>
				</div>
				<div class="post-content content">
					<p>Bricked WRT350n V2.x Recovery HOWTo</p><p>DO YOU THINK YOU HAVE BRICKED YOUR LINKSYS WRT350n v2.x ROUTER??</p><p>OK! Well I think I have some good news! </p><p>I&#039;ve seemingly found a very very simple way to recover one&#039;s router to the original firmware (and perhaps later, even OpenWRT) without needing to open the case at all and without needing to use a serial interface! It&#039;s all done via a very simple point and click graphical program and a simple sequence with the reset button..</p><p>The inspiration came from a post by drizzt81 explaining how his router had entered into what is described as &#039;download mode&#039;. However users who have seemingly &#039;bricked&#039; their routers and do not have a serial connection would have no way of knowing if their router is in &#039;download mode&#039; or not.</p><p>The solution was explained in a step by step guide by drizzt81 who used information gathered from previous posts from people who I would LIKE to credit as sources, but I do not have their posts handy at this point, I mean no disrespect to the hard working folk who have given their time and knowledge in this forum. The process is VERY VERY SIMPLE and requires no special hardware and in fact doesn&#039;t require any advanced computer knowledge either! A total beginner can expect to successfully recover their router using this method.</p><p>Step 1:</p><p>Software requirements</p><p>Required Knowledge:</p><p>* Usage of a .ZIP utility to extract some of the installation files.<br />* Basic software installation knowledge.</p><p>Download a .zip file containing the &#039;Upgrade Utility&#039; program from <a href="http://www.everbesthk.com/8-download/sercomm/firmware/NU54/Upgrade_207_XP.zip">this link</a> and extract the file Upgrade_207_XP.exe then run that file to install the &#039;Upgrade Utility&#039; application. (Scanning for nasty stuff 1st is recommended, just in case as this is not hosted in Linksys&#039;s website..) Please note that if you are using Windows Vista, you must select to run the application with &#039;Windows XP, Service pack 2 Compatibility Mode&#039; enabled.</p><p>Download the <a href="http://sites.google.com/site/relghuar/Home/full-image.bin">full-image.bin file(provided by relghuar)</a> and put it somewhere you can remember, (Desktop maybe?). (Thanks to relghuar for extracting and hosting this file, please let me know if you object to me direct linking to it.) The original post for the process by which relghuar extracted the image and file location can be found <a href="http://forum.openwrt.org/viewtopic.php?pid=74729#p74729">here</a> (WARNING: DEADLY BORING TECHY STUFF!)</p><p>Step 2:</p><p>Cabling</p><p>Required Knowledge:</p><p>* Be able to locate the LAN ports on your router and be able to tell them apart from the WAN port. (LAN ports are (damn it, I am color blind! is it.. yellow? edit(maddes.b informs me that the ports are in fact orange, DOH!)) anyway, the WAN port is definitely blue.. Reasonably speaking here, if you managed to have the technical savvy to brick your router by installing OpenWRT, I think it&#039;s reasonable to assume you can tell the difference between a LAN and WAN port.. <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>Directly connect your computer to one of the LAN ports on your router, I chose port 1, but I assume any LAN port will work. (I am also assuming that the WAN port won&#039;t work, but this is untested.. If you have some free time to just waste for stupidity&#039;s sake, perhaps you can test the theory and let me know.. I personally couldn&#039;t be bothered, just plug into LAN port 1 for pity&#039;s sake!!)</p><p>Step 3:</p><p>Entering &#039;Download mode&#039; (This information was originally found at the NSLU2 Linux users group and through experimentation, adapted to work for the WRT350n V2.x)</p><p>Required knowledge:</p><p>*Be able to locate the &#039;reset&#039; button. It is beside the power jack on the back of the router, beside LAN port 4. You will need a paperclip, or as I used, a thin screw driver.</p><p>Disconnect the power from the router, or as I did, turn off the powerboard&#039;s power. The reason I did this is because I have fat fingers and inserting the power cable whilst holding in the reset button proved difficult. (MAKE SURE THE POWER BOARD IS NOT THE ONE YOUR COMPUTER IS CONNECTED TO!!) *blush* Enough said on that matter... ehhem..</p><p>Method - with the power to the router OFF, hold in the reset button. Turn on/plug in the power and as soon as the LAN light comes up (1 - 2 secs) release the reset button. It&#039;s a pretty quick thing... If you have done it successfully, the power light on your router should be flashing between red... err.. ora.. umm yellow? (damn it I knew it was a bad idea for ME to write a HowTo..) Anyway! It&#039;ll be flashing!! If not, turn off/unplug the router&#039;s power and try again.. </p><p>Once you are in download mode, you can move to Step 4.</p><p>Step 4:</p><p>Using the &#039;Upgrade Utility&#039; software</p><p>Required knowledge:</p><p>*Location of the &#039;full-image.bin&#039; file we downloaded earlier, I suggested locating it on your desktop, unless you decided to put it elsewhere..</p><p>Open the &#039;Upgrade Utility&#039; application.</p><p>Once inside the utility, click the &#039;Browse Targets&#039; button. Shortly, a dialogue box showing the MAC address (a long and confusing looking number) will be listed in the &#039;Devices List&#039;.</p><p>Click the &#039;Files&#039; button and browse to the &#039;full-image.bin&#039; file. Once you select &#039;OK&#039; you should get a &#039;BIN file Information&#039; box, which will allow you to select &#039;OK&#039; at the bottom.</p><p>Once you click &#039;OK&#039;, you will be returned to the &#039;Devices List&#039; dialogue. Here you should click &#039;Upgrade&#039;. You will get an information dialogue box that informs you that the version is older than the one currently installed in the router. Dismiss it, the dialogue is in fact correct, the &#039;full-image.bin&#039; file was created a long time ago and is extracted from a router which was running version .17 (the current version is .19) No big deal. If you want version .19, download it from the Linksys website after you recover your router.</p><p>The next process is time consuming. IT IS ALSO FATAL TO THE ROUTER IF INTERRUPTED. In the spirit of Zen, I suggest removing yourself from the room while the router does it&#039;s thing. &#039;The watched pot, never boils&#039;.</p><p>Step 5:</p><p>Power cycle the router and you should have a working router again, using Linksys firmware. If you want to try OpenWRT again, you can use the &#039;Webupgrade&#039; package.</p><p>Voila!</p><p>DBM</p><p>P.S. Here is a quote of the posting I referenced from drizzt81. Many thanks to you!! Please let me know your sources, so that I may reference them also!</p><div class="quotebox"><cite>drizzt81 wrote:</cite><blockquote><div class="codebox"><pre><code>*******************************************
dbSign is:65:52:63:4f:6d:4d
mac address in flash is:00:1a:70:9c:52:16
have eRcOmM
Firmware is damaged,enter download mode
mvEgigaLoad: egiga0 load ok
egiga0 [PRIME]

mvEgigaInit: egiga0 init - mvBoardPhyAddrGet()=0x0 , priv-&gt;port =0x0
ring full
mvEgigaInit: egiga0 complete ok
In download function
 mac address:00:1a:70:9c:52:16
Pin:33.34.35.38.30.31.31.30</code></pre></div><p>I recovered from this using the <a href="http://www.nslu2-linux.org/wiki/Main/SercommFirmwareUpdater">SerialComm updater</a> with a WinXP machine.<br />Step-by-step instructions:<br />1. Download and install the SerialComm utility<br />2. Download the full_image from <a href="https://forum.openwrt.org/viewtopic.php?pid=74729#p74729">this post</a><br />3. (optional)Connect serial console to router and boot up router<br />4. Connect a LAN cable directly between router and Laptop (no intermediate HW)<br />5. Start the SerialComm utility and point it to your wired LAN connection used in step 4<br />6. Point SerialComm to the full_image.bin you downloaded in step 2<br />7. Ignore the warning about &quot;older version&quot;. If your router was running a new firmware before bricking, flashing the full_image from that posts will &quot;downgrade&quot; it to revision .17<br />8. Hit the &quot;flash&quot; button in SerialComm and get some coffee<br />9. AFTER a successfull flash, you may need to power cycle the router</p><p>Cheers and thanks for all the help!</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>DaBigMac</strong> on 25 Sep 2009, 14:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94951">
				<div class="post-metadata">
					<div class="post-num">Post #525</div>
					<div class="post-author">rviktor</div>
					<div class="post-datetime">
						25 Sep 2009, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>hi!<br />I&#039;m new here, so please don&#039;t flame me if what I&#039;m asking is bullshit^^.</p><p>Is there any chance that the DIR-615 A1 will be supported? If I saw it correctly it should have the same type of cpu too, with the same amount of ram/flash.<br />(edit: grammar)</p>											<p class="post-edited">(Last edited by <strong>rviktor</strong> on 25 Sep 2009, 20:30)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 21 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=19.html">19</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=20.html">20</a></li><li class="pagination-current"><span>21</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=22.html">22</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=23.html">23</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>