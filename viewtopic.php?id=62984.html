<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unifi AP AC</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p312794">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Prophidys</div>
					<div class="post-datetime">
						27 Feb 2016, 18:43					</div>
				</div>
				<div class="post-content content">
					<p>Hey Folks,</p><p>Just to let you know that I&#039;m starting development to get Unifi AP AC working with OpenWRT</p><p>This is some pictures :</p><p><a href="https://drive.google.com/open?id=0B9CII-h5_vZBOWNkcC1JNV9MbjQ">https://drive.google.com/open?id=0B9CII … C1JNV9MbjQ</a><br /><a href="https://drive.google.com/open?id=0B9CII-h5_vZBLTU1YldwUG5kMHc">https://drive.google.com/open?id=0B9CII … ldwUG5kMHc</a><br /><a href="https://drive.google.com/open?id=0B9CII-h5_vZBTE1KSHhsOWx6NUk">https://drive.google.com/open?id=0B9CII … HhsOWx6NUk</a></p><p>First impression :</p><p>I can&#039;t remove heatsink now, I will search how to remove them properly without damaging components.<br />Antenna seems to be pretty cheap.</p><p>Component List :</p><p>- There is 2x NT5TU64M16GG-AC that seems to be the memory (<a href="http://www.digchip.com/datasheets/parts/datasheet/3929/NT5TU64M16GG-AC.php">http://www.digchip.com/datasheets/parts … 6GG-AC.php</a>) (2x 1Gb seriously ?)<br />- FA2900-AL is to convert PoE to power the board<br />- m-tek g50203sng <br />- Winbond 25q128fvfg (flash memory)<br />- 2 PCIe cards for Wifi module (1x 2g, 1x 5g)<br />- All components under heatsink are BCM (I will put the exact version later)</p><p>I already solder a PIN header on the board, I&#039;m configuring my raspberry pi serial port to talk with.</p><p>I&#039;m doing all this because this board is pretty expansive and performance are horrible with the ubnt firmware, I hope to do better with openwrt. If not I will try to change antenna.</p><p>That&#039;s my first time, so if you have some advice go ahead (I&#039;m currently following the doc).</p><p>Cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312795">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Prophidys</div>
					<div class="post-datetime">
						27 Feb 2016, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>dmesg with OEM FW :</p><div class="codebox"><pre><code>[42949372.960000] Linux version 2.6.22 (build-unifi@ubnt-builder3) (gcc version 4.2.3) #1 PREEMPT Fri Jan 22 10:26:48 PST 2016
[42949372.960000] Found chip type AI (0x19015300)
[42949372.960000] Chipc: rev -2147483617, caps 0x984801ca, chipst 0x0 pmurev 6, pmucaps 0x18162406
[42949372.960000] No PLL init done for chip 5300 rev 1 pmurev 6
[42949372.960000] MIN and MAX mask is not programmed
[42949372.960000] si_kattach done. ccrev = -2147483617, wd_msticks = 6250
[42949372.960000] CPU revision is: 00019749
[42949372.960000] Found an ST compatible serial flash with 256 64KB blocks; total size 16MB
[42949372.960000] Determined physical RAM map:
[42949372.960000]  memory: 07fff000 @ 00000000 (usable)
[42949372.960000] Entering add_active_range(0, 0, 32767) 0 entries of 256 used
[42949372.960000] Zone PFN ranges:
[42949372.960000]   Normal          0 -&gt;    32767
[42949372.960000]   HighMem     32767 -&gt;    32767
[42949372.960000] early_node_map[1] active PFN ranges
[42949372.960000]     0:        0 -&gt;    32767
[42949372.960000] On node 0 totalpages: 32767
[42949372.960000]   Normal zone: 0 pages used for memmap
[42949372.960000]   Normal zone: 0 pages reserved
[42949372.960000]   Normal zone: 32767 pages, LIFO batch:7
[42949372.960000]   HighMem zone: 0 pages used for memmap
[42949372.960000] Built 1 zonelists.  Total pages: 32767
[42949372.960000] Kernel command line: root=/dev/mtdblock4
[42949372.960000] Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
[42949372.960000] Primary data cache 32kB, 4-way, linesize 32 bytes.
[42949372.960000] Synthesized TLB refill handler (20 instructions).
[42949372.960000] Synthesized TLB load handler fastpath (32 instructions).
[42949372.960000] Synthesized TLB store handler fastpath (32 instructions).
[42949372.960000] Synthesized TLB modify handler fastpath (31 instructions).
[42949372.960000] PID hash table entries: 512 (order: 9, 2048 bytes)
[42949372.960000] CPU: BCM5300 rev 1 at 600 MHz
[42949372.960000] Using 300.000 MHz high precision timer.
[42949372.970000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[42949372.980000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[42949373.000000] Memory: 125680k/131068k available (2666k kernel code, 5236k reserved, 693k data, 200k init, 0k highmem)
[42949373.010000] Calibrating delay loop... 299.82 BogoMIPS (lpj=1499136)
[42949373.220000] Mount-cache hash table entries: 512
[42949373.230000] NET: Registered protocol family 16
[42949373.240000] PCI: Initializing host
[42949373.240000] PCI: Reset RC
[42949373.240000] PCI: Initializing host
[42949373.240000] PCI: Reset RC
[42949373.250000] PCI: Fixing up bus 0
[42949373.260000] PCI/PCIe coreunit 0 is set to bus 1.
[42949373.270000] PCI: Fixing up bridge
[42949373.280000] PCI: Setting latency timer of device 0000:01:00.0 to 64
[42949373.280000] PCI: Fixing up bridge
[42949373.290000] PCI: Setting latency timer of device 0000:01:00.1 to 64
[42949373.290000] PCI: Enabling device 0000:01:00.1 (0004 -&gt; 0006)
[42949373.300000] PCI: Fixing up bus 1
[42949373.310000] PCI/PCIe coreunit 1 is set to bus 2.
[42949373.320000] PCI: Fixing up bridge
[42949373.330000] PCI: Setting latency timer of device 0000:02:00.0 to 64
[42949373.330000] PCI: Fixing up bridge
[42949373.340000] PCI: Setting latency timer of device 0000:02:00.1 to 64
[42949373.340000] PCI: Enabling device 0000:02:00.1 (0004 -&gt; 0006)
[42949373.350000] PCI: Fixing up bus 2
[42949373.360000] NET: Registered protocol family 2
[42949373.370000] Time: MIPS clocksource has been installed.
[42949373.480000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[42949373.490000] TCP established hash table entries: 4096 (order: 3, 32768 bytes)
[42949373.500000] TCP bind hash table entries: 4096 (order: 2, 16384 bytes)
[42949373.510000] TCP: Hash tables configured (established 4096 bind 4096)
[42949373.520000] TCP reno registered
[42949373.560000] VFS: Disk quotas dquot_6.5.1
[42949373.570000] Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[42949373.580000] squashfs: version 3.0 (2006/03/15) Phillip Lougher
[42949373.590000] fuse init (API version 7.8)
[42949373.600000] io scheduler noop registered (default)
[42949373.610000] Serial: 8250/16550 driver $Revision: 1.1.1.1 $ 4 ports, IRQ sharing enabled
[42949373.620000] serial8250: ttyS0 at MMIO 0x0 (irq = 8) is a 16550A
[42949373.630000] serial8250: ttyS1 at MMIO 0x0 (irq = 8) is a 16550A
[42949373.640000] loop: module loaded
[42949373.650000] PPP generic driver version 2.4.2
[42949373.660000] NET: Registered protocol family 24
[42949373.670000] pflash: found no supported devices
[42949373.680000] The first offset=40000, 2nd offset=7e0000
[42949373.690000] sflash: squash filesystem with lzma found at block 26
[42949373.700000] sflash: squash filesystem with lzma found at block 148
[42949373.710000] Creating 8 MTD partitions on &quot;sflash&quot;:
[42949373.720000] 0x00000000-0x00040000 : &quot;boot&quot;
[42949373.730000] 0x00040000-0x007e0000 : &quot;linux&quot;
[42949373.740000] 0x001acda0-0x007e0000 : &quot;rootfs&quot;
[42949373.750000] 0x007e0000-0x00fa0000 : &quot;linux2&quot;
[42949373.760000] 0x0094ce24-0x00fa0000 : &quot;rootfs2&quot;
[42949373.770000] 0x00fa0000-0x00fe0000 : &quot;cfg&quot;
[42949373.780000] 0x00fe0000-0x00ff0000 : &quot;EEPROM&quot;
[42949373.790000] 0x00ff0000-0x01000000 : &quot;nvram&quot;
[42949373.800000] No NAND flash type found
[42949373.810000] nflash: found no supported devices
[42949373.820000] No NAND flash type found
[42949373.830000] brcmnand: found no supported devices
[42949373.870000] u32 classifier
[42949373.880000]     Actions configured
[42949373.890000] TCP cubic registered
[42949373.900000] NET: Registered protocol family 1
[42949373.910000] NET: Registered protocol family 17
[42949373.920000] Bridge firewalling registered
[42949373.930000] Ebtables v2.0 registered
[42949373.940000] 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
[42949373.950000] All bugs added by David S. Miller &lt;davem@redhat.com&gt;
[42949373.960000] VFS: Mounted root (squashfs filesystem) readonly.
[42949373.970000] Freeing unused kernel memory: 200k freed
[42949373.980000] Warning: unable to open an initial console.
[42949374.600000] Algorithmics/MIPS FPU Emulator v1.5
[42949374.850000] ubnthal: no version for &quot;struct_module&quot; found: kernel tainted.
[42949374.860000] ubnthal: module license &#039;Proprietary&#039; taints kernel.
[42949374.980000] ubnthal: Ubiquiti UAP-AC
[42949375.120000] creating procfs for ubnthal
[42949375.120000] creating proc entry for system.info
[42949375.120000] creating proc entry for board
[42949375.120000] Registering char device sflash (200) succeeds
[42949375.130000] creating procfs for status
[42949375.130000] creating proc entry for IsDefault
[42949375.130000] creating proc entry for IsLocated
[42949375.130000] creating proc entry for IsIsolated
[42949375.170000] gpiodev: (reset_timeout=3 factory_countdown=1000000)
[42949375.180000] creating /proc/gpio/
[42949375.180000]          /proc/gpio/led_pattern
[42949375.180000]          /proc/gpio/led_tempo
[42949375.180000]          /proc/gpio/poe_passthrough
[42949406.210000] et_module_init: passivemode set to 0x0
[42949406.220000] et_module_init: txworkq set to 0x0
[42949406.230000] et_module_init: et_txq_thresh set to 0x0
[42949406.240000] PCI: Setting latency timer of device 0000:00:01.0 to 64
[42949406.240000] si_doattach: incoming bus is PCI but it&#039;s a lie, switching to SI devid:0x4715
[42949406.250000] Found chip type AI (0x19015300)
[42949406.260000] Chipc: rev -2147483617, caps 0x984801ca, chipst 0x0 pmurev 6, pmucaps 0x18162406
[42949406.270000] No PLL init done for chip 5300 rev 1 pmurev 6
[42949406.280000] MIN and MAX mask is not programmed
[42949406.360000] bcm_robo_enable_switch: EEE is disabled
[42949406.370000] eth0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.37.14.62 (r436032)
[42949413.420000] wl_module_init: msglevel set to 0x1
[42949413.430000] wl_module_init: msglevel2 set to 0x0
[42949413.440000] wl_module_init: phymsglevel set to 0x1
[42949413.450000] wl_module_init: passivemode set to 0x0
[42949413.460000] wl_module_init: txworkq set to 0x0
[42949413.470000] wevent: registered
[42949413.480000] qos: registered
[42949413.490000] PCI: Enabling device 0000:01:01.0 (0000 -&gt; 0002)
[42949413.500000] PCI: Setting latency timer of device 0000:01:01.0 to 64
[42949413.500000] Found chip type AI (0x13824331)
[42949413.510000] Chipc: rev 37, caps 0x58500000, chipst 0x2 pmurev 10, pmucaps 0x108c260a
[42949413.630000] srom rev:9
[42949413.650000] pcie_war_pmebits: pmebits mismatch 0x1f30 (was 0x0)
[42949413.660000] pcie_war_pmebits: update pmebits to 0x1f30
[42949413.670000] wl0: wlc_bmac_phy_reset: band not yet set
[42949413.680000] wlc_bmac_attach, deviceid 0x4331 nbands 2
[42949413.690000] wl0: wlc_bmac_phy_reset: band not yet set
[42949413.700000] wl0: wlc_bmac_attach: chiprev 2 corerev 29 cccap 0x58500000 maccap 0x30a06b05 band 2.4G, phy_type 7 phy_rev 1
[42949413.710000] wl0: wlc_bmac_phy_reset: band not yet set
[42949413.720000] wl0: wlc_bmac_attach: chiprev 2 corerev 29 cccap 0x58500000 maccap 0x30a06b05 band 5G, phy_type 7 phy_rev 1
[42949413.740000] wl0: wlc_stf_txcore_shmem_write: No clock
[42949413.750000] ubnthal: Ubiquiti UAP-AC
[42949413.760000] ubnthal: Ubiquiti UAP-AC
[42949413.770000] wl0: wlc_ampdu_tx_set:  AGG Mode = HOST txmaxpkts 6
[42949413.780000] wlc_channel_mgr_attach: country code from eeprom 0, regrev 0
[42949413.790000] wl0: setting MAC ADDRESS XXXXXXXX
[42949413.800000] wl0: online cpus 1
[42949413.810000] eth1: Broadcom BCM4331 802.11 Wireless Controller 6.37.14.62 (r436032 WLTEST) (Compiled in . at 10:25:02 on Jan 22 2016)
[42949413.830000] PCI: Enabling device 0000:02:01.0 (0000 -&gt; 0002)
[42949413.840000] PCI: Setting latency timer of device 0000:02:01.0 to 64
[42949413.840000] Found chip type AI (0x15124360)
[42949413.850000] Chipc: rev 42, caps 0x58680001, chipst 0x1a65 pmurev 17, pmucaps 0x10a24911
[42949413.860000] srom rev:11
[42949413.870000] Changing rsrc 6 res_updn_timer to 0x100001
[42949413.880000] wl1: wlc_bmac_phy_reset: band not yet set
[42949413.890000] wlc_bmac_attach, deviceid 0x43a2 nbands 1
[42949413.900000] wl1: wlc_bmac_phy_reset: band not yet set
[42949413.920000] wl1: wlc_bmac_attach: chiprev 2 corerev 40 cccap 0x58680001 maccap 0x30518805 band 5G, phy_type 11 phy_rev 0
[42949413.930000] wl1: wlc_stf_txcore_shmem_write: No clock
[42949413.940000] ubnthal: Ubiquiti UAP-AC
[42949413.950000] wl1: wlc_ampdu_tx_set: AGG Mode = MAC+AQM txmaxpkts 1024
[42949413.960000] wlc_channel_mgr_attach: country code from eeprom 0, regrev 0
[42949413.970000] wl1: setting MAC ADDRESS XXXXXXXX
[42949413.980000] wl1: online cpus 1
[42949413.990000] eth2: Broadcom BCM43a2 802.11 Wireless Controller 6.37.14.62 (r436032 WLTEST) (Compiled in . at 10:25:02 on Jan 22 2016)
[42949416.600000] wl1: wlc_ampdu_tx_set: AGG Mode = MAC+AQM txmaxpkts 1024
[42949416.620000] wl1: wlc_ampdu_tx_set: AGG Mode = MAC+AQM txmaxpkts 1024
[42949416.690000] wlc_phy_ioctl_chk failed
[42949416.700000] wlc_phy_ioctl_chk failed
[42949416.720000] wl1: wlc_iovar_op: BCME -23 (Unsupported)
[42949416.770000] Changing rsrc 6 res_updn_timer to 0x100001
[42949417.760000] device eth0 entered promiscuous mode
[42949417.770000] device eth2 entered promiscuous mode
[42949417.780000] Bridge interface br0 is down
[42949417.790000] IGMP Query send failed
[42949417.810000] br0: port 2(eth2) entering learning state
[42949417.820000] br0: port 1(eth0) entering learning state
[42949418.820000] br0: topology change detected, propagating
[42949418.820000] br0: port 2(eth2) entering forwarding state
[42949418.830000] br0: topology change detected, propagating
[42949418.830000] br0: port 1(eth0) entering forwarding state</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312817">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Prophidys</div>
					<div class="post-datetime">
						27 Feb 2016, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>I manage to get to the CFE boot engine through the serial port.</p><div class="codebox"><pre><code>Decompressing...done


CFE version 6.37.14.7201 (r452093) based on BBP 1.0.37 for BCM947XX (32bit,SP,LE)
Build Date: Fri Jul 25 00:41:04 PDT 2014 (build-unifi@ubnt-builder1)
Copyright (C) 2000-2008 Broadcom Corporation.

Init Arena
Init Devs.
Boot partition size = 262144(0x40000)
bcm_robo_enable_switch: EEE is disabled
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.37.14.7201 (r452093)
CPU type 0x19749: 600MHz
Tot mem: 131072 KBytes

CFE mem:    0x81F00000 - 0x81FA3910 (669968)
Data:       0x81F39220 - 0x81F3C4F0 (13008)
BSS:        0x81F3C4F0 - 0x81F3D910 (5152)
Heap:       0x81F3D910 - 0x81FA1910 (409600)
Stack:      0x81FA1910 - 0x81FA3910 (8192)
Text:       0x81F00000 - 0x81F39220 (234016)

Device eth0:  hwaddr XXXXXXXXXX, ipaddr 192.168.1.20, mask 255.255.255.0
        gateway not set, nameserver not set
CFE&gt;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313946">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						7 Mar 2016, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>Is this really the &quot;Unifi AP AC&quot; or is it the &quot;Unifi AP AC Pro&quot;? The picture of the PCB shows the latter, hence confusing me...</p><p>Is there any label on the backside of the casing that has more detailed information about the model, possibly a FCC number?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>