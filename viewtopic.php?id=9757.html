<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WGT634U: SQUASHFS error or router hardware broken?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p43876">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pK</div>
					<div class="post-datetime">
						7 Mar 2007, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>I&#039;ve flashed Kamikaze r6529 via mtd with squashfs filesystem on my wgt634u router. I don&#039;t know what but something went totally wrong and the router won&#039;t accept a telnet connection afterwards. I&#039;ve connected the router via serial console to my PC and get the following error messages:</p><p>&nbsp; 0x00152400-0x005e0000 : &quot;rootfs&quot;<br />&nbsp; mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only</p><p>This is a &quot;normal&quot; error message with kamikaze and squashfs, isn&#039;t it? But this is new to me:</p><p>&nbsp; nbd0: Attempted send on closed socket<br />&nbsp; end_request: I/O error, dev nbd0, sector 0<br />&nbsp; SQUASHFS error: sb_bread failed reading block 0x0<br />&nbsp; nbd2: Attempted send on closed socket<br />&nbsp; end_request: I/O error, dev nbd2, sector 0<br />[...]&nbsp; <br />&nbsp; FAT: unable to read boot sector<br />&nbsp; nbd2: Attempted send on closed socket<br />&nbsp; end_request: I/O error, dev nbd2, sector 0<br />&nbsp; FAT: unable to read boot sector<br />&nbsp; nbd3: Attempted send on closed socket<br />&nbsp; end_request: I/O error, dev nbd3, sector 0<br />[...]<br />&nbsp; SQUASHFS error: sb_bread failed reading block 0x0<br />&nbsp; nbd13: Attempted send on closed socket<br />&nbsp; end_request: I/O error, dev nbd13, sector 0<br />&nbsp; SQUASHFS error: sb_bread failed reading block 0x0<br />&nbsp; nbd1: Attempted send on closed socket<br />&nbsp; end_request: I/O error, dev nbd1, sector 0<br />[...]<br />(full logfile: <a href="http://peter.in-berlin.de/tmp/openwrt6529.log)">http://peter.in-berlin.de/tmp/openwrt6529.log)</a></p><p>I&#039;ve tried to flash a new image via mtd -r write openwrt-brcm-2.6-squashfs.trx linux (login via serial console works and after setting a password ssh works) but mtd died with a error message. I used the CFE and flashed an old image via tftp but every change I have made in the filesystem disapears after the next reboot. I also tried to flash a &quot;\0xff-image&quot; (<a href="http://sarwiki.informatik.hu-berlin.de/wiki/index.php?title=Hacking_the_Netgear_wgt634u&amp;redirect=no#Troubleshooting">http://sarwiki.informatik.hu-berlin.de/ â€¦ leshooting</a>) to clear the memory and a jffs image before flashing squashfs again - but the problem did not disapear.</p><p>Anybody have any suggestions or tip what I can try next? Have anyone tried to use &quot;test disk&quot; in CFE? Maybe flash0.boot is corrupt? Is flashing flash0.boot possible and where could I get a working flash0.boot image?</p><br /><p>Sunshine!</p><p>Peter</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>