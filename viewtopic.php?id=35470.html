<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> PEAR not working in PHP5/apache for ampache</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p160757">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cave</div>
					<div class="post-datetime">
						13 Mar 2012, 22:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi all</p><p>I wan&#039;t to run Ampache (<a href="http://ampache.org">http://ampache.org</a>) on my FSG-3 but get some PHP-PEAR errors<br />I&#039;ve made the wiki for the FSG-3 <a href="http://wiki.openwrt.org/toh/freecom/fsg-3">http://wiki.openwrt.org/toh/freecom/fsg-3</a> and it is currently running: ATTITUDE ADJUSTMENT (bleeding edge, r30755) </p><p>I&#039;ve installed Apache, MySQL and PHP successfully. <br />moved the Ampache Files to /usr/share/htdocs/ampache and run the installation of ampache sucessfully.</p><p>http://my-router-ip:81/ampache/test.php &lt;-- shows all green and working</p><br /><p>But when i Start ampache after the installation, with http://my-router-ip:81/ampache/ i get an error</p><div class="quotebox"><blockquote><p>Fatal error: Class &#039;PEAR&#039; not found in /usr/share/htdocs/ampache/modules/pearxmlrpc/rpc.php on line 42</p></blockquote></div><div class="quotebox"><cite>rpc.php line 40-43 wrote:</cite><blockquote><p>if (!function_exists(&#039;xml_parser_create&#039;)) {<br />&nbsp; &nbsp; include_once &#039;PEAR.php&#039;;<br />&nbsp; &nbsp; PEAR::loadExtension(&#039;xml&#039;);<br />}</p></blockquote></div><p>I have installed also the pear packages<br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:/# opkg list-installed | grep pear<br />php-pear - 1.5.4-1<br />php-pear-db - 1.7.11-1<br />php-pear-xmlrpc - 1.5.1-1</p></blockquote></div><p>I&#039;ve searched the net for some instructions to get the pear working, <br /><a href="http://pear.php.net/manual/en/installation.checking.php">http://pear.php.net/manual/en/installation.checking.php</a> &lt;-- looks like my problem</p><p>and it looks there are some missing/wrong lines in the /etc/php.ini<br /></p><div class="quotebox"><blockquote><p>; Paths and Directories<br />; UNIX: &quot;/path1:/path2&quot;<br />;include_path = &quot;.:/php/includes&quot;</p></blockquote></div><p>but i don&#039;t know how to find out the include path of the pear install. <br />to modify the php.ini to get ampache properly working<br />can&#039;t find the System.php file on my System to find the PEAR&#039;s php_dir.</p><p>so I need a little bit help on this topic</p><p>Where is the PEAR&#039;s php_dir <br />and where i have to change the php_dir include_path</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p160818">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cave</div>
					<div class="post-datetime">
						14 Mar 2012, 11:12					</div>
				</div>
				<div class="post-content content">
					<p>include_path string</p><p>Specifies a list of directories where the require(), include(), fopen(), file(), readfile() and file_get_contents() functions look for files. The format is like the system&#039;s PATH environment variable: a list of directories separated with a colon in Unix or semicolon in Windows.</p><p><a href="http://www.php.net/manual/en/ini.core.php#ini.include-path">http://www.php.net/manual/en/ini.core.p … clude-path</a></p><p>Where is the php_dir when using apache with php-module like in openwrt.</p><br /><p><a href="http://www.cyberciti.biz/faq/how-do-i-set-php-include-path-in-php-ini-file/">http://www.cyberciti.biz/faq/how-do-i-s … -ini-file/</a></p>											<p class="post-edited">(Last edited by <strong>cave</strong> on 14 Mar 2012, 11:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p161964">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">cave</div>
					<div class="post-datetime">
						23 Mar 2012, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>AMPACHE is working</p><p>i&#039;ve set the include path<br />include_path = &quot;.:/usr/lib/php/:/usr/lib/php/PEAR/&quot;&nbsp; </p><p>after that there was no error, but also no ampache...</p><p>I asked the dev-team from ampache on irc and they said i should use a nightly build. </p><p>wget <a href="http://gitorious.org/ampache/ampache/archive-tarball/master">http://gitorious.org/ampache/ampache/ar … all/master</a></p><br /><p>now it is running, <br />only some problems with charsets utf-8 ampache-php-mysql-apache and my music files appear.</p><br /><p>but pear problem is solved and ampache runs</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>