<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Recovering from serial console?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p11811">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">crashev</div>
					<div class="post-datetime">
						7 Sep 2005, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>Hello.<br />My Linksys WRT54G v3.1 just went dead after I tryed flashing WhiteRussian. Now when I power it up - power led just blinks blinks and blinks and nothing happend. Im trying to recover using Serial Console I just soldered it,but the only things I saw were:</p><p>Welcome to minicom 2.1</p><p>OPTIONS: History Buffer, F-key Macros, Search History Buffer, I18n<br />Compiled on Nov&nbsp; 7 2004, 13:39:16.</p><p>Press CTRL-A Z for help on special keys</p><br /><br /><p>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)<br />Build Date: Fri May 27 13:33:52 CST 2005 (root@localhost.localdomain)<br />Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.</p><p>Initializing Arena<br />Initializing Devices.</p><p>No DPN</p><br /><p>After No DPN nothing else is shown.<br />Any Ideas whats wrong with it and how to recover it?</p><p>btw. I also tryed shorting pins on flash but also didnt work - dunno if it didnt because I didnt have anything good to short those pins or I did something wrong....</p>											<p class="post-edited">(Last edited by <strong>crashev</strong> on 7 Sep 2005, 17:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11831">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wbx</div>
					<div class="post-datetime">
						8 Sep 2005, 11:30					</div>
				</div>
				<div class="post-content content">
					<p>strange. Can you try to reset the router, holding down reset button on boot?</p><p>Otherwise you need jtag. If you did not get it repaired, send it to me for testing. I do not think it is going dead because of flashing OpenWrt...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11857">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">crashev</div>
					<div class="post-datetime">
						8 Sep 2005, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>Holding down reset button changes nothing - i tryed both resets -&nbsp; its v3.1 version with reset on back and behind cisco logo.<br />wbx - please contact me</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11897">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Nick666</div>
					<div class="post-datetime">
						10 Sep 2005, 01:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I have the same problem as crashev.<br />I tried to flash the original (!) Firmware back to my WRT54G v2 via the Webinterface. Everything just get fine. After the &quot;...successfully flashed&quot; message and a reboot my router was dead <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>From now on if I turn power on, the ether-leds flash for a second and then the power led is blinking all the time. The ether-leds show the connection status and are blinking if Data is sent (thus working correct). But the router doesn&#039;t react to the reset (nothing happens if I push the button, just power led is blinking).<br />I tried the tftp method also with shortcut pin 15/16 or 16/17 (DMZ led then is on and power led is blinking) of the flashmodule with no effect. the tftp-client (Windows and Linux) can&#039;t get a connection and router is not ping-able.<br />As yet I did not try to &quot;enable&quot; the serial console of my router. Maybe this can help?<br />Is it a hardware fault?</p><p>What else could I try?</p><p>thx,<br />Nick666</p>											<p class="post-edited">(Last edited by <strong>Nick666</strong> on 10 Sep 2005, 01:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11913">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wbx</div>
					<div class="post-datetime">
						10 Sep 2005, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>just a wild guess, if 3.1 has added any new partition scheme and is saving important data in an area, which openwrt overrides it, then you can kill the router. We need a unmodified wrt 3.1 to check with original <br />firmware and a serial connection. If anyone like to provide hardware, please contact me. (wbx@openwrt.org)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11984">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">crashev</div>
					<div class="post-datetime">
						12 Sep 2005, 14:03					</div>
				</div>
				<div class="post-content content">
					<p>Ok so It look like something was overwritten.<br />Because Im my case it was like this - firmware was flashed correctly but the router went off when firstboot script was run....<br />So it has overwritten many important data since even serial console doesnt work.....</p><p>Ok - what can we do about it - we need oryginal JTAG-dumped firmware and then further we need support for v3.1 in OpenWrt....?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11996">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dl</div>
					<div class="post-datetime">
						12 Sep 2005, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve installed open-wrt on hw v3.1 just fine. fwiw with v3.1 hw I usually flash hyper-wrt first then reflash because I usually get &quot;update are failed&quot; otherwise.</p><p>Also re grounding the flash, the one brick that I did have (dd-wrt not open-wrt) I had to short to the antenna ground as shorting between pins didn&#039;t work.</p><p>- DL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12195">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						16 Sep 2005, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>Had a similar situation here yesterday, with the box hanging at &#039;no DPN&#039; in the beginning of booting.<br />The cause here was permanent shortage between the leads of the flashchip due to excess pressure while shorting the leads 15-16 while connecting power. The solder is a soft material and the distance between leads very small.<br />Used a magnifying glass and a Stanley knive blade to remove solder from between the leads .....<br />After that the box booted normal.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12237">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Nick666</div>
					<div class="post-datetime">
						17 Sep 2005, 16:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />I get mine back to live <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> Here what I had done (wrong):<br />- WRT54G V2 did nothing but flashing power LED<br />- no chance to upload the firmware with tftp. Tried different clients on win and linux.<br />- shortcut pin 15 with pin 16 of the flash method, DMZ-LED turned on but no chance with tftp/ping.<br />- BUT: you have to shortcut pin 15/16 to ground (!) I did this by &quot;sticking&quot; a tip from my multimeter between pin 15/16 and shortcut it with the antenna adapter (grounded). This is also logical because pin 15/16 are address lines and by this method I force them to logical 0. You can also do this only pin 15 OR 16 but it&#039;s much easier to &quot;stick&quot; something between two pins. Pin 17 is also a address line and works the same way.<br />- WRT54g booted up and DMZ-LED blinked slow (~5s interval). It was now pingable and I could upload a firm like described many times before!<br />- if everything gets right, the device reboots automatically and load the new firmware. This didn&#039;t happend to me at first (the device did not reboot and after a powercycle the device just hangs like in the beginning). I first had to make a hard-reset (holding down the reset-button for some seconds) when the device was in the failsafe mode (!!) (this seems to overwrite some variables) then upload the firm via tftp.</p><br /><p>hope this helps...</p>											<p class="post-edited">(Last edited by <strong>Nick666</strong> on 17 Sep 2005, 16:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12306">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">crashev</div>
					<div class="post-datetime">
						18 Sep 2005, 21:52					</div>
				</div>
				<div class="post-content content">
					<p>doddel: yeah it was very likely that I did what u did ,but I looked with magnifing glass on it and it doesnt look shorted... a little bit damaged but not shorted hmmm... any other ideas how to fix this flash paths?</p><p>btw. do you know what serial consol shows when u short pins - ground them and tftp server starts?<br />I also tryed again shorting pins to the antenna with no efect - still blinking power and hangs on No DPN in serial console....</p>											<p class="post-edited">(Last edited by <strong>crashev</strong> on 18 Sep 2005, 21:53)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>