<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-MR3420 V2 (2.1)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Aug 2014 and 22 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=41326&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=41326&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=41326&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=41326&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=41326&amp;p=6.html">6</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p192373">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">madmax</div>
					<div class="post-datetime">
						18 Feb 2013, 12:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>a little question , why since today after patch 12748 there is no snapshot for mr3420 v2 ?</p><br/><p>Best Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192380">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						18 Feb 2013, 13:02					</div>
				</div>
				<div class="post-content content">
					<p>most likely because the build bots haven&#039;t compiled it yet. The new snapshot was dated 15 Feb.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192385">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">madmax</div>
					<div class="post-datetime">
						18 Feb 2013, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>robthebrew,</p><p>the lastest snapshot is dated 18 feb, mr3220 v2 is present, mr3420 v2 not.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192387">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						18 Feb 2013, 13:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xopal wrote:</cite><blockquote><p>I just submitted patch to openwrt dev. <a href="https://dev.openwrt.org/ticket/12748">#12748</a> please be patient.</p></blockquote></div><p>Would you mind resubmitting the patches through the mailing list?<br/>I think the developers stopped accepting patches through trac.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192588">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">madmax</div>
					<div class="post-datetime">
						20 Feb 2013, 10:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><br/><p>any news ? New snapshot today without mr3420 v2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194581">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">Dioptimizer</div>
					<div class="post-datetime">
						11 Mar 2013, 18:46					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://dev.openwrt.org/changeset/35964">https://dev.openwrt.org/changeset/35964</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194779">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">madmax</div>
					<div class="post-datetime">
						13 Mar 2013, 16:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Dioptimizer wrote:</cite><blockquote><p><a href="https://dev.openwrt.org/changeset/35964">https://dev.openwrt.org/changeset/35964</a></p></blockquote></div><p>Hi,</p><p>today I flashed my mr3420 v.2 with the new snapshot, after reboot the the ethernet led is off but my 8 ports switch result connected, trying to ping no result. Using serial port the router start correctly, in network config all seems ok, but ethernet ports dont work.</p><p>From Dmesg:</p><p>[&nbsp; &nbsp; 0.800000] libphy: ag71xx_mdio: probed<br/>[&nbsp; &nbsp; 0.810000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII<br/>[&nbsp; &nbsp; 1.370000] ag71xx ag71xx.0 eth0: invalid speed specified<br/>[&nbsp; &nbsp; 1.370000] ag71xx: probe of ag71xx.0 failed with error -22<br/>[&nbsp; &nbsp; 1.380000] eth0: Atheros AG71xx at 0xba000000, irq 5, mode:GMII<br/>[&nbsp; &nbsp; 1.930000] ag71xx ag71xx.1 eth0: invalid speed specified<br/>[&nbsp; &nbsp; 1.940000] ag71xx: probe of ag71xx.1 failed with error -22</p><p>From Hyper Terminal:</p><p>root@OpenWrt:/etc/config# ifconfig eth1<br/>ifconfig: eth1: error fetching interface information: Device not found<br/>root@OpenWrt:/etc/config# ifconfig lan<br/>ifconfig: lan: error fetching interface information: Device not found<br/>root@OpenWrt:/etc/config# ifconfig wan<br/>ifconfig: wan: error fetching interface information: Device not found<br/>root@OpenWrt:/etc/config# ifconfig eth0<br/>ifconfig: eth0: error fetching interface information: Device not found<br/>root@OpenWrt:/etc/config#</p>											<p class="post-edited">(Last edited by <strong>madmax</strong> on 13 Mar 2013, 16:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195621">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">dudmuck</div>
					<div class="post-datetime">
						21 Mar 2013, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi, this firmware works ok on MR3420 v2.2 hardware.</p><p>But I need to try client mode wireless (wifi as WAN)<br/>But it comes with wpad-mini, and theres not enough space on /overlay for wpad.<br/>wpad is needed to connect to PEAP over wireless.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195667">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">Slider100</div>
					<div class="post-datetime">
						22 Mar 2013, 10:28					</div>
				</div>
				<div class="post-content content">
					<p>HI, I had flash last snapshot to my MR3420 v2.1. <br/>How can I to install luci? No this pkg in current snapshots...(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195668">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						22 Mar 2013, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>did you bother searching the forum before posting?</p><br/><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>....... 184 failed with Luci and those old packages from the previous build were deleted. </p><p>185 failed totally, and so did 186 a few minutes ago. Next try tomorrow... &quot;waiting, next in ~ 23 hrs 36 mins&quot;.<br/>Apparently one of the buildbots (Nico) can&#039;t reach the svn server, and failed rapidly most platforms :-(<br/><a href="http://buildbot.openwrt.org:8010/grid">http://buildbot.openwrt.org:8010/grid</a></p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195979">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">Sila</div>
					<div class="post-datetime">
						24 Mar 2013, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi! </p><p>I have a new TP-Link TL-MR3420 v2.1&nbsp; .<br/>I tried to get it to work with a Vodafone USB modem K3805-Z.<br/>The modeswitch doesn&#039;t work reliably with the factory firmware. <br/>Even the beta firmware the Chinese developers provided didn&#039;t help.</p><p>So I would like to try OpenWRT.<br/>Here is where the trouble starts.</p><p>I decided to use the AR71xx tree. <br/>Sources:<br/><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420">http://wiki.openwrt.org/toh/tp-link/tl-mr3420</a><br/>More details and specifics for my model here:<br/><a href="http://wiki.openwrt.org/toh/tp-link/tl-ap121">http://wiki.openwrt.org/toh/tp-link/tl-ap121</a><br/>Progress Thread here:<br/><a href="https://forum.openwrt.org/viewtopic.php?id=41326&amp;p=1">https://forum.openwrt.org/viewtopic.php?id=41326&amp;p=1</a></p><p>Problem:<br/>Adding Support MR3220 V.2 + MR 3420 V.2 to AARC1 12.09-rc1<br/>diff: <a href="http://pastebin.com/gzf2VNhK">http://pastebin.com/gzf2VNhK</a><br/>It seems only to be possible to use this by recompiling the source?!?<br/>And the space required to compile yourself is 5.3-7.6 GIGAbyte !<br/>So I hoped for the patch to be included in the Buildbot generated Snapshots.</p><p>Now I run into the trap with the Buildbot not working reliably.<br/>So the good build got erased and I burned a crippled one.</p><p>I realised this when LUCI wasn&#039;t available.<br/>opkg list | grep luci<br/>came up emtpy.<br/>I found the reason searching the forum.</p><p>I patiently waited for <br/><a href="http://buildbot.openwrt.org:8010/builders/ar71xx">http://buildbot.openwrt.org:8010/builders/ar71xx</a><br/>to show &#039;success&#039; for the latest build.</p><p>Now I had to decide between factory and sysupgrade build.<br/>Since the installed build wasn&#039;t complete I used the bigger factory build.</p><p>Begin Quote:<br/>root@OpenWrt:/tmp# wget <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a><br/>Connecting to downloads.openwrt.org (78.24.191.177:80)<br/>openwrt-ar71xx-gener 100% |*******************************|&nbsp; 3840k&nbsp; 0:00:00 ETA<br/>root@OpenWrt:/tmp# sysupgrade -v /tmp/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-factory.bin<br/>Saving config files...<br/>etc/sysctl.conf<br/>etc/shells<br/>etc/shadow<br/>etc/rc.local<br/>etc/profile<br/>etc/passwd<br/>etc/inittab<br/>etc/hosts<br/>etc/group<br/>etc/dropbear/dropbear_rsa_host_key<br/>etc/dropbear/dropbear_dss_host_key<br/>etc/config/wireless<br/>etc/config/ubootenv<br/>etc/config/system<br/>etc/config/network_works<br/>etc/config/network_orig<br/>etc/config/network<br/>etc/config/firewall<br/>etc/config/dropbear<br/>etc/config/dhcp<br/>Sending TERM to remaining processes ... syslogd klogd hotplug2 procd ubusd netifd dnsmasq ntpd<br/>Sending KILL to remaining processes ...<br/>Switching to ramdisk...<br/>Performing system upgrade...<br/>Unlocking firmware ...</p><p>Writing from &lt;stdin&gt; to firmware ...<br/>Appending jffs2 data from /tmp/sysupgrade.tgz to firmware...<br/>Writing from &lt;stdin&gt; to firmware ...&nbsp; [w]TRX header not found<br/>Error fixing up TRX header<br/>Upgrade completed<br/>Rebooting system...<br/>login as: root<br/>root@192.168.137.222&#039;s password:</p><p>BusyBox v1.19.4 (2013-03-24 08:43:13 UTC) built-in shell (ash)<br/>Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br/> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br/> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br/> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br/> -----------------------------------------------------<br/> BARRIER BREAKER (Bleeding Edge, r36114)<br/> -----------------------------------------------------<br/>&nbsp; * 1/2 oz Galliano&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pour all ingredients into<br/>&nbsp; * 4 oz cold Coffee&nbsp; &nbsp; &nbsp; &nbsp; an irish coffee mug filled<br/>&nbsp; * 1 1/2 oz Dark Rum&nbsp; &nbsp; &nbsp; &nbsp;with crushed ice. Stir.<br/>&nbsp; * 2 tsp. Creme de Cacao<br/> -----------------------------------------------------</p><p>End Quote</p><p>But LUCI is still missing?<br/>opkg update<br/>opkg list | grep luci<br/>still nothing.</p><p>I had a long look at the built-in &#039;uci&#039; but I realised I would overlook something if I were using this tool alone.</p><p>So I followed the instructions from<br/><a href="http://luci.subsignal.org/trac/wiki/Installation">http://luci.subsignal.org/trac/wiki/Installation</a><br/>&nbsp; &nbsp; Add the a line like this to your /etc/opkg.conf to enable the openwrt package repository:<br/>&nbsp; &nbsp; src luci&nbsp; <a href="http://downloads.openwrt.org/kamikaze/8.09.2/ar71xx/packages">http://downloads.openwrt.org/kamikaze/8.09.2/ar71xx/packages</a><br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (I decided my &#039;architecture&#039; was ar71xx)<br/>&nbsp; &nbsp; Type opkg update<br/>&nbsp; &nbsp; For LuCI Essentials: opkg install luci-light<br/>&nbsp; &nbsp; For LuCI Administration: opkg install luci<br/>&nbsp; &nbsp; Any modules at your choice: opkg install luci-app-*<br/>&nbsp; &nbsp; For HTTPS support install the luci-ssl meta package <br/>&nbsp; &nbsp; Since opkg-installed services are disabled by default, you have to manually enable the web server to launch it on boot:<br/>root@OpenWrt:~# /etc/init.d/uhttpd enable<br/>root@OpenWrt:~# /etc/init.d/uhttpd start</p><p>BUT the Result for all install options is: <br/>&quot;Package xyz has no valid architecture, ignoring.&quot;<br/>Same result with <br/>opkg list | grep luci</p><p>So I have done everything possible I can think of and <br/>I haven&#039;t even started with the actual problem I am trying to resolve.</p><p>Why is LUCI still not available? Any ideas?</p><p>Kind Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195981">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						25 Mar 2013, 00:03					</div>
				</div>
				<div class="post-content content">
					<p>because sometimes some packages (like luci) fail to get built even though the build doesn&#039;t totally fail.&nbsp; &nbsp; </p><p>they&#039;ll show up again in a few days.</p><p>trying to install luci from kikaze branch ... that makes zero sense.</p><p>If you&#039;re going to install trunk on something and you are somewhat handy with sysadmin type compilation of stuff,&nbsp; just bite the bullet and build your own.&nbsp; &nbsp; But yes it takes a surprising amount of space.&nbsp; &nbsp;it&#039;s something like 10GB...&nbsp; OTOH&nbsp; that&#039;s not exactly a lot of space nowadays (unless you&#039;re working with a vpn host)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195986">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">Sila</div>
					<div class="post-datetime">
						25 Mar 2013, 00:53					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for the fast response.</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>because sometimes some packages (like luci) fail to get built even though the build doesn&#039;t totally fail.&nbsp; &nbsp; <br/>they&#039;ll show up again in a few days.</p></blockquote></div><p>As far as I understand if the Buildbot says &#039;success&#039; all the planned packages are in the build.<br/>I can&#039;t imagine the snapshots being build on pure luck...</p><p>What kind of installation option is the best?<br/>Maybe I have interpreted the sources wrong that I mentioned?<br/>Do you have a hint? I am rather new to OpenWRT...</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>trying to install luci from kikaze branch ... that makes zero sense.</p></blockquote></div><p>It is the method to install it manually suggested by the developers . <br/>Who am I to say the Developers got it all wrong?</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>If you&#039;re going to install trunk on something and you are somewhat handy with sysadmin type compilation of stuff,&nbsp; just bite the bullet and build your own.&nbsp; &nbsp; But yes it takes a surprising amount of space.&nbsp; &nbsp;it&#039;s something like 10GB...&nbsp; OTOH&nbsp; that&#039;s not exactly a lot of space nowadays (unless you&#039;re working with a vpn host)</p></blockquote></div><p>I only have a Mobile Broadband connection with a very limited data cap. <br/>So that is not an option.</p><p>Kind Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195997">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						25 Mar 2013, 02:24					</div>
				</div>
				<div class="post-content content">
					<p>ok.&nbsp; &nbsp;maybe you should reopen this bug on the subject for the 4th time:<br/> <a href="https://dev.openwrt.org/ticket/10282">https://dev.openwrt.org/ticket/10282</a></p><p>i&#039;m sure THIS time it&#039;ll be a different cause and different resolution.</p><p>i wouldn&#039;t be snide, but this is a recurring issue and you clearly haven&#039;t searched&nbsp; &nbsp;about it because it causes people problems all the time and i&#039;ve personally read about it in at least 4 threads in the past month.&nbsp; &nbsp; the next problem you&#039;ll run into is that once you install trunk you&#039;ll only be able to install packages with kernel modules that day since once the repo is rebuilt you&#039;ll have version mismatch errors.&nbsp; &nbsp; this isn&#039;t ideal, but that&#039;s the way it is currently.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196000">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">Sila</div>
					<div class="post-datetime">
						25 Mar 2013, 03:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>I am also known for my posts sounding harsher then being intended to. <br/>So I will take your post with a grain of salt.</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>ok.&nbsp; &nbsp;maybe you should reopen this bug on the subject for the 4th time:<br/> <a href="https://dev.openwrt.org/ticket/10282">https://dev.openwrt.org/ticket/10282</a></p><p>i&#039;m sure THIS time it&#039;ll be a different cause and different resolution.</p></blockquote></div><p>Thanks for pointing me to that ticket.</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>i wouldn&#039;t be snide, but this is a recurring issue and you clearly haven&#039;t searched&nbsp; &nbsp;about it because it causes people problems all the time and i&#039;ve personally read about it in at least 4 threads in the past month.</p></blockquote></div><p>I clearly have searched. I have spent more than 20 hours searching <img src="https://forum.openwrt.org/img/smilies/mad.png" width="15" height="15" alt="mad"/> . I clearly have found several threads about it. And I clearly have applied the necessary measures expected from an end user. And I clearly have NOT assumed for all the fixes to be defective. <br/>So I clearly could assume the old fixed bugs were fixed for real and the last mentioned bug was the buildbot not working. So when the Buildbot worked successfully I CLEARLY could assume the build to be okay and complete. &lt;tries to cool down, sound of steam hissing&gt;</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>the next problem you&#039;ll run into is that once you install trunk you&#039;ll only be able to install packages with kernel modules that day since once the repo is rebuilt you&#039;ll have version mismatch errors.&nbsp; &nbsp; this isn&#039;t ideal, but that&#039;s the way it is currently.</p></blockquote></div><p>I would love to use an updateable installation.<br/>Would it be enough to just use the jffs2 version of the snapshot?<br/>Can you point me in the right direction please?</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196003">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						25 Mar 2013, 04:27					</div>
				</div>
				<div class="post-content content">
					<p>The problem is inherent with using trunk.&nbsp; For reasons that i&#039;m not aware of in this whole openwrt project they use hashes as part of the version numbers for kernels.&nbsp; &nbsp;This means, practically, that if anything changes in the kernel then suddenly all the modules in the trunk snapshot are no longer compatible with your &quot;old&quot; kernel.&nbsp; (even though in practice they most likely are fine, opkg won&#039;t install them.&nbsp; &nbsp;You could prob. force it, but that always leads to headaches down the road). </p><p>The problem is somewhat described (illustrated, more than described, i guess )&nbsp; here :<br/><a href="https://forum.openwrt.org/viewtopic.php?id=41154">https://forum.openwrt.org/viewtopic.php?id=41154</a></p><p>There&#039;s no real way around it.&nbsp; &nbsp; Normally, one would run attitude adjustment which doesn&#039;t have this problem because it doesn&#039;t change.&nbsp; &nbsp;But that&#039;s not a choice if you need stuff that&#039;s only in trunk.</p><p>The way you deal with it is that if you need to install something new you do an update to the latest snapshot, but then you risk importing new bugs or running into a situation like now where luci is missing.&nbsp; If there&#039;s sysupgrade for your platform you even get to keep most of your settings so it&#039;s not so bad.</p><p>And you definitely want to run the squashfs snapshots (because they allow failsafe mode).&nbsp; &nbsp;Only time you would not want the squashf is if you wanted to uninstall a bunch of the default packages and reclaim the space.&nbsp; &nbsp;But even then you&#039;re better off, imo, rolling your own squashfs image.&nbsp; &nbsp;possibly w/ the image builder, but that&#039;s a whole other story.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196136">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">Sila</div>
					<div class="post-datetime">
						25 Mar 2013, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for the very informative post!</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>Normally, one would run attitude adjustment which doesn&#039;t have this problem because it doesn&#039;t change.&nbsp; &nbsp;But that&#039;s not a choice if you need stuff that&#039;s only in trunk.</p></blockquote></div><p>I have new hardware with &#039;???&#039; in the &#039;is it supported&#039; table. So I was only ready to try OpenWRT because the machine was useless to me anyway. To minimize the risk of &#039;bricking&#039; it I had no choice but to go with the newest build.<br/>And as far as I know the trunk is the newest piece of code available.<br/>I have been studying OpenWRT for 5 days now several hours per day and my head is spinning with tons of confusing information bits.<br/>Your post definitely helped me clear some things up (and&nbsp; triggered new questions <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> ).</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>The way you deal with it is that if you need to install something new you do an update to the latest snapshot, but then you risk importing new bugs or running into a situation like now where luci is missing.&nbsp; If there&#039;s sysupgrade for your platform you even get to keep most of your settings so it&#039;s not so bad.</p></blockquote></div><p>That will be the path for me. Thanks again.</p><div class="quotebox"><cite>vhrm wrote:</cite><blockquote><p>And you definitely want to run the squashfs snapshots (because they allow failsafe mode).&nbsp; &nbsp;Only time you would not want the squashf is if you wanted to uninstall a bunch of the default packages and reclaim the space.</p></blockquote></div><p> </p><p>That was unexpected. I thought about added flexibility with jff2. But if I have to go the way of burning snapshots anyway you are obviously right.</p><p>BTW, the ticket for &#039;LUCI not available in the latest build&#039; has been closed again after I reopened it. At least a new piece of information has come up: the LUCI packages aren&#039;t marked as necessary in the Buildbot. So it comes up with &#039;success&#039; even if it wasn&#039;t a success...</p><p>So the path for me as far as I can see is burning trunk snapshots until the next stable release comes up with a checkmark next to my router model.<br/>And I will have to find way to configure it with uci alone.<br/>And I have to find out how to store the configuration information for all tools in /etc/config (or how to manipulate the sysupgrade script configuration file to rescue additional information).</p><p>A lot to do.<br/>But at least I can see the path more clearly( <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink"/> ) now.<br/>Thanks again and see you in the next thread.</p><p>Kind Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196511">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						28 Mar 2013, 12:44					</div>
				</div>
				<div class="post-content content">
					<p>Anyone able to upgrade RAM on this router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196598">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						29 Mar 2013, 12:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Anyone able to upgrade RAM on this router?</p></blockquote></div><p>I do with Hynix HY5DU121622DTP-D43 for my friend&#039;s 3420v2 router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196622">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						29 Mar 2013, 15:05					</div>
				</div>
				<div class="post-content content">
					<p>Must be my soldering equipment then...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196957">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">horizn</div>
					<div class="post-datetime">
						2 Apr 2013, 14:01					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>i saw the movie about ugrading mr3420 v2 from factory. i do the same, but i dont have web interface only telnet/ssh is working for me. how can i enable web interface on it?</p>											<p class="post-edited">(Last edited by <strong>horizn</strong> on 2 Apr 2013, 14:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197001">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						2 Apr 2013, 18:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>horizn wrote:</cite><blockquote><p>hi,</p><p>i saw the movie about ugrading mr3420 v2 from factory. i do the same, but i dont have web interface only telnet/ssh is working for me. how can i enable web interface on it?</p></blockquote></div><p>You have to build your own image.<br/>Actually I kind of think that all images should include at least some form of webconfig even though I know it is difficult to squeeze packages into 4MB.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197593">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">Sila</div>
					<div class="post-datetime">
						7 Apr 2013, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>Status update of my adventures with <br/>TP-Link MR3420 v2.1<br/>and the <br/>Vodafone New Zealand USB Modem K3805-Z.</p><p>I realized the space limitations of 4MB so accepted to do the configuration without a browser interface.</p><p>I gave up for a time around the 26th of March.<br/>Problem is with the USB driver part addressing the hardware not correctly (as far as I can see).<br/>AT commands get corrupted during transfer.</p><p>-------------------------<br/>Output under Windows:</p><p>at+CFUN=?<br/>+CFUN: (0,1,4),(0-2)</p><p>OK<br/>AT+CPIN=?<br/>OK<br/>AT+CPIN?<br/>+CPIN: READY</p><p>OK<br/>AT+CGDCONT=?<br/>+CGDCONT: (1-10),&quot;IP&quot;,,,(0,1),(0,1)</p><p>OK<br/>AT<br/>OK<br/>ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0<br/>OK<br/>AT+CGDCONT=?<br/>+CGDCONT: (1-10),&quot;IP&quot;,,,(0,1),(0,1)</p><p>OK<br/>AT+CFUN=1<br/>OK<br/>at+CFUN=?<br/>+CFUN: (0,1,4),(0-2)</p><p>OK<br/>ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0<br/>OK</p><p>-------------------------<br/>Output from OpenWRT:<br/>(Test with picocom)</p><p>Test with picocom:</p><p>&gt;AT<br/>OK<br/>&gt;ATI<br/>ERROR<br/>&gt;ATZ<br/>ERROR<br/>&gt;AT<br/>OK<br/>&gt;AT&amp;F<br/>ERROR<br/>&gt;ATE1<br/>OK<br/>&gt;ATQ0<br/>ERROR<br/>&gt;ATZ<br/>ERROR<br/>&gt;AT<br/>OK<br/>&gt;AT+CGDCONT=?<br/>+CGDCONT:<br/>ERROR<br/>&gt;AT+CFUN=?<br/>+CFUN:<br/>ERROR</p><p>&gt;AT<br/>OK<br/>&gt;ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0<br/>ERROR<br/>&gt;AT Q0<br/>ERROR<br/>&gt;AT V1<br/>ERROR<br/>&gt;AT E1<br/>OK<br/>&gt;ATS0=0<br/>ERROR<br/>&gt;AT &amp;C1<br/>ERROR<br/>&gt;AT&amp;D2<br/>ERROR<br/>&gt;AT+FCLASS=0<br/>ERROR<br/>&gt;AT+FCLASS=?<br/>+FCLASS:<br/>ERROR</p><p>------------------------------------------------</p><p>I haven&#039;t even turned on the WiFi yet.</p><p>Is anyone successfully using the TP-Link MR3420 hardware revision 2.1 with any USB Mobile Broadband modem as an Internet connection?</p><p>I will wait and watch the USB bug tracking pages occasionally.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197606">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">poisonz</div>
					<div class="post-datetime">
						8 Apr 2013, 00:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><div class="quotebox"><cite>horizn wrote:</cite><blockquote><p>hi,</p><p>i saw the movie about ugrading mr3420 v2 from factory. i do the same, but i dont have web interface only telnet/ssh is working for me. how can i enable web interface on it?</p></blockquote></div><p>You have to build your own image.<br/>Actually I kind of think that all images should include at least some form of webconfig even though I know it is difficult to squeeze packages into 4MB.</p></blockquote></div><p>Agreed. Though for newbies, kernel compilation is a daunting time consuming (and also HDD space consuming) task. It&#039;s better leave it to those who are experienced first.</p><p>Fortunately, there is already a working (user-compiled, non-official) OpenWRT image (Attitude Adjustment 12.09 RC1) for MR3420 v2 over the internet @ <a href="http://forum.openwrt-id.org/viewtopic.php?id=25&amp;p=3">openwrt-id.org</a>. </p><p>I&#039;ve flashed it to my TL-MR3420 v2.1 and it&#039;s working well for me, with only some minor issues (LED &amp; button), without impairing its basic functionality: Ethernet works, USB works, 3G OK, WAN and WLAN also work nicely (speaking of wireless, the Atheros chipset on the router {802.11n + 2T2R MIMO} far out-performed most other USB WiFi adapter on the market; and the ath9k / mac80211 drivers come with it does support packets injection on aircrack-ng suite either, allowing me to have quite some fun with it :). </p><p>Best thing is, it comes preinstalled with LuCI web-interface version 0.11+svn9599-1, which is even more updated than the one from the current OpenWRT AA-RC1 package repository (0.11+svn9425-1).</p><p>I can use <a href="http://wiki.openwrt.org/doc/howto/extroot">ExtRoot</a> with USB flash drive with it (with some <a href="https://forum.openwrt.org/viewtopic.php?id=28980">tricky adjustment</a>). And by adding a USB hub (or hubs?), there is even more we can do with this little baby... :o)&nbsp; OpenWRT is really powerful!</p><p>... But the problem is, there are some packages I wanna try which is a bit outdated (eg. ettercap: OpenWRT=NG-0.7.3-2, latest=0.7.6) or even missing (eg. dsniff) from the latest package repository. Well, Kernel / package compilation is the way to go. I&#039;m learning...</p>											<p class="post-edited">(Last edited by <strong>poisonz</strong> on 8 Apr 2013, 20:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197610">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">Sila</div>
					<div class="post-datetime">
						8 Apr 2013, 02:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>poisonz wrote:</cite><blockquote><p>Fortunately, there is already a working (user-compiled, non-official) OpenWRT image (Attitude Adjustment RC1) for MR3420 v2 over the internet @ <a href="http://forum.openwrt-id.org/viewtopic.php?id=25&amp;p=3">openwrt-id.org</a>.</p></blockquote></div><p>Thank you for the fast response!</p><p>Unfortunately I can&#039;t find the mentioned OpenWRT image on the page you linked?<br/>There seems to be only a copy from this forum where the steps are mentioned to compile it yourself for hardware revision 2 (not 2.1):<br/><a href="https://forum.openwrt.org/viewtopic.php?pid=188467#p188467">https://forum.openwrt.org/viewtopic.php?pid=188467#p188467</a></p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 76 to 75 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=41326&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=41326&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=41326&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=41326&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=41326&amp;p=6.html">6</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>