<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Huawei 3G modem problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p205393">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">IgorS</div>
					<div class="post-datetime">
						23 Jun 2013, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>Hello!<br />I&#039;m trying to attach 3g modem to the TP-Link MR3040v1 router. The modem is branded Huawei 420D. It has VID:PID 12d1:155b for storage and 12d1:1506 for modem.</p><p>These are packages installed:<br /></p><div class="codebox"><pre><code>base-files - 117-r36088
busybox - 1.19.4-6
dnsmasq - 2.62-2
dropbear - 2011.54-2
firewall - 2-55.1
hotplug2 - 1.0-beta-4
iptables - 1.4.10-4
iw - 3.6-1
jshn - 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8
kernel - 3.3.8-1-d6597ebf6203328d3519ea3c3371a493
kmod-ath - 3.3.8+2012-09-07-3
kmod-ath9k - 3.3.8+2012-09-07-3
kmod-ath9k-common - 3.3.8+2012-09-07-3
kmod-cfg80211 - 3.3.8+2012-09-07-3
kmod-crypto-aes - 3.3.8-1
kmod-crypto-arc4 - 3.3.8-1
kmod-crypto-core - 3.3.8-1
kmod-gpio-button-hotplug - 3.3.8-1
kmod-ipt-conntrack - 3.3.8-1
kmod-ipt-core - 3.3.8-1
kmod-ipt-nat - 3.3.8-1
kmod-ipt-nathelper - 3.3.8-1
kmod-leds-gpio - 3.3.8-1
kmod-ledtrig-default-on - 3.3.8-1
kmod-ledtrig-netdev - 3.3.8-1
kmod-ledtrig-timer - 3.3.8-1
kmod-ledtrig-usbdev - 3.3.8-1
kmod-lib-crc-ccitt - 3.3.8-1
kmod-mac80211 - 3.3.8+2012-09-07-3
kmod-nls-base - 3.3.8-1
kmod-ppp - 3.3.8-1
kmod-pppoe - 3.3.8-1
kmod-pppox - 3.3.8-1
kmod-scsi-core - 3.3.8-1
kmod-usb-acm - 3.3.8-1
kmod-usb-core - 3.3.8-1
kmod-usb-ohci - 3.3.8-1
kmod-usb-serial - 3.3.8-1
kmod-usb-serial-option - 3.3.8-1
kmod-usb-serial-wwan - 3.3.8-1
kmod-usb-storage - 3.3.8-1
kmod-usb-uhci - 3.3.8-1
kmod-usb2 - 3.3.8-1
kmod-wdt-ath79 - 3.3.8-1
libblobmsg-json - 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8
libc - 0.9.33.2-1
libgcc - 4.6-linaro-1
libip4tc - 1.4.10-4
libiwinfo - 36
libiwinfo-lua - 36
libjson - 0.9-2
liblua - 5.1.4-8
libnl-tiny - 0.1-3
libpthread - 0.9.33.2-1
librt - 0.9.33.2-1
libubox - 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8
libubus - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
libubus-lua - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
libuci - 2013-01-04.1-1
libuci-lua - 2013-01-04.1-1
libusb - 0.1.12-3
libusb-1.0 - 1.0.9-1
libxtables - 1.4.10-4
lua - 5.1.4-8
luci - 0.11.1-1
luci-app-firewall - 0.11.1-1
luci-i18n-english - 0.11.1-1
luci-lib-core - 0.11.1-1
luci-lib-ipkg - 0.11.1-1
luci-lib-nixio - 0.11.1-1
luci-lib-sys - 0.11.1-1
luci-lib-web - 0.11.1-1
luci-mod-admin-core - 0.11.1-1
luci-mod-admin-full - 0.11.1-1
luci-proto-core - 0.11.1-1
luci-proto-ppp - 0.11.1-1
luci-sgi-cgi - 0.11.1-1
luci-theme-base - 0.11.1-1
luci-theme-openwrt - 0.11.1-1
mtd - 18.1
netifd - 2013-01-29.2-4bb99d4eb462776336928392010b372236ac3c93
opkg - 618-3
ppp - 2.4.5-8
ppp-mod-pppoe - 2.4.5-8
swconfig - 10
uboot-envtools - 2012.04.01-1
ubus - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
ubusd - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
uci - 2013-01-04.1-1
uhttpd - 2012-10-30-e57bf6d8bfa465a50eea2c30269acdfe751a46fd
usb-modeswitch - 1.2.3-2
usbutils - 005-1
wpad-mini - 20120910-1
zlib - 1.2.7-1</code></pre></div><p>dmesg:<br /></p><div class="codebox"><pre><code>usb 1-1: USB disconnect, device number 2
usb 1-1: new high-speed USB device number 3 using ehci-platform
scsi2 : usb-storage 1-1:1.0
scsi3 : usb-storage 1-1:1.1
scsi 2:0:0:0: CD-ROM                     Mass Storage     2.31 PQ                                   : 0 ANSI: 2
scsi 3:0:0:0: Direct-Access              SD Storage       2.31 PQ                                   : 0 ANSI: 2
sd 3:0:0:0: [sda] Attached SCSI removable disk</code></pre></div><p>lsusb:<br /></p><div class="codebox"><pre><code>Bus 001 Device 003: ID 12d1:155b Huawei Technologies Co., Ltd.
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</code></pre></div><p>usb_modeswitch:<br /></p><div class="codebox"><pre><code>usb_modeswitch -v 12d1 -p 155b -P 1506 -V 12d1 -M &quot;55534243123456780000000000000011062000000100000000000000000000&quot;</code></pre></div><div class="codebox"><pre><code>Looking for target devices ...
 No devices in target mode or class found
Looking for default devices ...
   found matching product ID
   adding device
 Found device in default mode, class or configuration (1)
Accessing device 003 on bus 001 ...
Getting the current device configuration ...
 OK, got current device configuration (1)
Using first interface: 0x00
Using endpoints 0x01 (out) and 0x81 (in)
Inquiring device details; driver will be detached ...
Looking for active driver ...
 OK, driver found (&quot;usb-storage&quot;)
 OK, driver &quot;usb-storage&quot; detached

SCSI inquiry data (for identification)
-------------------------
  Vendor String:
   Model String: Mass Storage
Revision String: 2.31
-------------------------

USB description data (for identification)
-------------------------
Manufacturer:
     Product: Mobile Connect
  Serial No.: not provided
-------------------------
Setting up communication with interface 0
Using endpoint 0x01 for message sending ...
Trying to send message 1 to endpoint 0x01 ...
 OK, message successfully sent
Resetting response endpoint 0x81
 Could not reset endpoint (probably harmless): -19
Resetting message endpoint 0x01
 Could not reset endpoint (probably harmless): -19
 Device is gone, skipping any further commands
-&gt; Run lsusb to note any changes. Bye.</code></pre></div><p>lsusb again:<br /></p><div class="codebox"><pre><code>Bus 001 Device 004: ID 12d1:1506 Huawei Technologies Co., Ltd. E398 LTE/UMTS/GSM Modem/Networkcard
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</code></pre></div><p>dmesg:<br /></p><div class="codebox"><pre><code>usb 1-1: usbfs: process 1144 (usb_modeswitch) did not claim interface 0 before use
usb 1-1: USB disconnect, device number 3
usb 1-1: new high-speed USB device number 4 using ehci-platform
scsi4 : usb-storage 1-1:1.4
scsi5 : usb-storage 1-1:1.5
scsi 4:0:0:0: CD-ROM                     Mass Storage     2.31 PQ: 0 ANSI: 2
scsi 5:0:0:0: Direct-Access              SD Storage       2.31 PQ: 0 ANSI: 2
sd 5:0:0:0: [sda] Attached SCSI removable disk</code></pre></div><p>It doesn&#039;t get usb interface.<br />In the &quot;Use 3g/UMTS USB Dongle for WAN connection&quot; recipe it was written to execute &quot;rmmod usbserial&quot;<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# rmmod usbserial
rmmod: can&#039;t unload &#039;usbserial&#039;: Resource temporarily unavailable</code></pre></div><p>Is there anything else I can try to connect it?<br />Thanks a lot!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205403">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						23 Jun 2013, 14:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>IgorS wrote:</cite><blockquote><p>It doesn&#039;t get usb interface.</p></blockquote></div><p>I suppose you mean ttyUSB interfaces, maybe it shouldn&#039;t get any.<br />What does lsusb -v -d 12d1:1506 say?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205406">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">IgorS</div>
					<div class="post-datetime">
						23 Jun 2013, 14:45					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@OpenWrt:~# lsusb -v -d 12d1:1506

Bus 001 Device 003: ID 12d1:1506 Huawei Technologies Co., Ltd. E398 LTE/UMTS/GSM                                                                                         Modem/Networkcard
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  idVendor           0x12d1 Huawei Technologies Co., Ltd.
  idProduct          0x1506 E398 LTE/UMTS/GSM Modem/Networkcard
  bcdDevice            1.02
  iManufacturer           3
  iProduct                2 Mobile Connect
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          206
    bNumInterfaces          6
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol     97
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               5
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x01  EP 1 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol    118
      iInterface              0
      ** UNRECOGNIZED:  05 24 00 10 01
      ** UNRECOGNIZED:  06 24 1a 00 01 1f
      ** UNRECOGNIZED:  0d 24 0f 01 05 00 00 00 ea 05 03 00 01
      ** UNRECOGNIZED:  05 24 06 01 01
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               5
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol    118
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               5
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x84  EP 4 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol     99
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol     98
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval              32
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        4
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         8 Mass Storage
      bInterfaceSubClass      6 SCSI
      bInterfaceProtocol     80 Bulk-Only
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x05  EP 5 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x87  EP 7 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        5
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         8 Mass Storage
      bInterfaceSubClass      6 SCSI
      bInterfaceProtocol     80 Bulk-Only
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x88  EP 8 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)</code></pre></div><p>What interface could be used instead? I&#039;m not good this subject, sorry if my questons are a bit stupid :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205416">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						23 Jun 2013, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>The interfaces are according to your lsusb listing:</p><p>If #0 serial ppp modem<br />If #1 composite ncm <br />If #2 serial diagnostics<br />If #3 serial cmd interface</p><p>The serial interfaces should be driven by the usb_wwan.ko and option.ko drivers<br />which you have to install from a kmod-package and load with modprobe.<br />That will create 3 ttyUSBx devices where ttyUSB0 is the modem device.</p><p>I assume that the 420D is a MiFi device, ie has a built in wifi hotspot, since there is<br />an ncm interface which with the usbnet.ko and cdc_ncm.ko drivers will create a wwan0 ethernet device. There is probably a built in web server in the 420D which you can access with a browser and configure the wifi hotspot.</p><p>Start with the serial drivers and see if you can get an old-fashion ppp connection on ttyUSB0.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205427">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">IgorS</div>
					<div class="post-datetime">
						23 Jun 2013, 19:51					</div>
				</div>
				<div class="post-content content">
					<p>I have both usb_wwan.ko and option.ko in modules folder.</p><div class="codebox"><pre><code>root@OpenWrt:~# ls /lib/modules/3.3.8
aes_generic.ko          iptable_raw.ko          pppox.ko
arc4.ko                 leds-gpio.ko            scsi_mod.ko
ath.ko                  ledtrig-default-on.ko   sd_mod.ko
ath79_wdt.ko            ledtrig-netdev.ko       slhc.ko
ath9k.ko                ledtrig-timer.ko        uhci-hcd.ko
ath9k_common.ko         ledtrig-usbdev.ko       usb-common.ko
ath9k_hw.ko             mac80211.ko             usb-storage.ko
cdc-acm.ko              nf_conntrack.ko         usb_wwan.ko
cfg80211.ko             nf_conntrack_ftp.ko     usbcore.ko
compat.ko               nf_conntrack_ipv4.ko    usbserial.ko
crc-ccitt.ko            nf_conntrack_irc.ko     x_tables.ko
crypto_algapi.ko        nf_defrag_ipv4.ko       xt_CT.ko
ehci-hcd.ko             nf_nat.ko               xt_NOTRACK.ko
gpio-button-hotplug.ko  nf_nat_ftp.ko           xt_TCPMSS.ko
ip_tables.ko            nf_nat_irc.ko           xt_comment.ko
ipt_LOG.ko              nls_base.ko             xt_conntrack.ko
ipt_MASQUERADE.ko       ohci-hcd.ko             xt_limit.ko
ipt_REJECT.ko           option.ko               xt_mac.ko
iptable_filter.ko       ppp_async.ko            xt_multiport.ko
iptable_mangle.ko       ppp_generic.ko          xt_state.ko
iptable_nat.ko          pppoe.ko                xt_tcpudp.ko</code></pre></div><p>kmod-usb-serial-option and kmod-usb-serial-wwan are installed in web-interface of router. Do they need any extra configuration? 3g modem looks like a usual usb-stick-dongle. It looks very similar to Huawei E3131 or E3121.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205465">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						24 Jun 2013, 04:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>IgorS wrote:</cite><blockquote><p>root@OpenWrt:~# ls /lib/modules/3.3.8<br />.</p></blockquote></div><p>Linux 3.3 is dead, upgrade!<br />The option driver you have does not include support for the 420D interfaces and that is the reason why you don&#039;t get any /dev/ttyUSBx devices.</p><p>Regarding cdc_ncm, it is a driver for devices with multiple functions like mobile phones or MiFi devices to name a few.<br />There are Huawei MiFi hotspots in the form of a USB dongle and there are others which are cigarette pack sized having external power adapter and a usb cable.<br />I suspect, since Huawei included an ncm interface, that your 420D have additional functions and a built in webserver to configure them but it is possible that they only<br />use the ncm interface for faster direct ethernet communication in 4G nets.<br />The serial ppp modem has speed limitations, especially in routers where the usb port is much slower than on a desktop computer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205479">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">IgorS</div>
					<div class="post-datetime">
						24 Jun 2013, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve installed cdc_ether driver, nothing changed. So I should try to build usb_wwan.ko and option.ko from new sources and replace the ones provided with the openwrt build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205483">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						24 Jun 2013, 11:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>IgorS wrote:</cite><blockquote><p>I&#039;ve installed cdc_ether driver, nothing changed. So I should try to build usb_wwan.ko and option.ko from new sources and replace the ones provided with the openwrt build?</p></blockquote></div><p>usb_wwan is dependent on usbserial so you may have to build that one as well.<br />These drivers are quite simple so I guess you can compile them from later sources without any problem.<br />cdc_ether will not work on the ncm interface, it has to be cdc_ncm and it has to be a<br />cdc_ncm driver from a later kernel. The 3.3 kernel cdc_ncm driver will not work with your dongle.</p><p>As I said, Linux 3.3 is dead, is no longer supported, doesn&#039;t get any updates, so the best for you is to install a later OpenWRT build for your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p205592">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">IgorS</div>
					<div class="post-datetime">
						25 Jun 2013, 01:53					</div>
				</div>
				<div class="post-content content">
					<p>Firmware from <a href="http://ofmodemsandmen.com/">http://ofmodemsandmen.com/</a> project works with my modem and I&#039;ve also got help from TP-Link support, so it works now even on stock firmware. Thanks a lot for your help!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>