<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> VPN configuration to use VyprVPN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p271347">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">n/m</div>
					<div class="post-datetime">
						5 Apr 2015, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi Forum, <br />I&#039;d like to use OpenWrt to connect to an VyprVPN server.&nbsp; I saw this: <a href="http://wiki.openwrt.org/doc/howto/vpn.client.openvpn.tun">http://wiki.openwrt.org/doc/howto/vpn.c … penvpn.tun</a><br />but have no idea how to input Username / Password for the VyperVPN service. Is it possible to connect using OpenWrt? If so through the LuCi OpenVPN app? How? Goldenfrog has an app for tomato and a tutorial for dd-wrt on their site.<br /><a href="https://www.goldenfrog.com/vyprvpn/dd-wrt-vpn">https://www.goldenfrog.com/vyprvpn/dd-wrt-vpn</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p271361">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">golialive</div>
					<div class="post-datetime">
						5 Apr 2015, 17:02					</div>
				</div>
				<div class="post-content content">
					<p>Hey there.</p><p>I didn&#039;t know VyprVPN until now. I just clicked on your link, followed the marketing page one step ahead to the &quot;See How Easy it is to set up VyprVPN on your DD-WRT router&quot; section and had a look at this page:</p><p><a href="https://support.goldenfrog.com/hc/en-us/articles/203815646-PPTP">https://support.goldenfrog.com/hc/en-us … 15646-PPTP</a></p><p>This clearly says: It&#039;s not OpenVPN you have to use but PPTP.</p><p>So for starters that&#039;s what you want to use:<br /><a href="http://wiki.openwrt.org/doc/howto/vpn.client.pptp">http://wiki.openwrt.org/doc/howto/vpn.client.pptp</a></p><p>Of course you need to adopt some steps from the dd-wrt PPT page. I&#039;m bascially talking about step 11.</p><p>Regards,<br />Stephan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p271370">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">n/m</div>
					<div class="post-datetime">
						5 Apr 2015, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for pointing this out. <br />Here is the page where they explain the Setup for OpenVPN on dd-wrt:<br /><a href="https://support.goldenfrog.com/hc/en-us/articles/204102956-OpenVPN">https://support.goldenfrog.com/hc/en-us … 56-OpenVPN</a></p><p>For the Desktop they recommend openVPN over PPTP, but i&#039;ll try whatever will work.<br /><a href="https://support.goldenfrog.com/hc/en-us/articles/203815626-OpenVPN">https://support.goldenfrog.com/hc/en-us … 26-OpenVPN</a></p>											<p class="post-edited">(Last edited by <strong>n/m</strong> on 1 May 2015, 21:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p273582">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">n/m</div>
					<div class="post-datetime">
						23 Apr 2015, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>I tried to install this, but it fails:<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for ppp-mod-pptp:<br /> * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * &nbsp; &nbsp; kernel (= 3.18.11-1-317527fb328b694536ee00c07026c22c) * <br /> * opkg_install_cmd: Cannot install package ppp-mod-pptp.</p><div class="quotebox"><cite>golialive wrote:</cite><blockquote><p>So for starters that&#039;s what you want to use:<br /><a href="http://wiki.openwrt.org/doc/howto/vpn.client.pptp">http://wiki.openwrt.org/doc/howto/vpn.client.pptp</a><br />Stephan.</p></blockquote></div><p>Since I use OpenVPN with my Computer to connect to Vypr, doesn&#039;t that mean that I should be able to use OpenVPN on openWRT?</p>											<p class="post-edited">(Last edited by <strong>n/m</strong> on 23 Apr 2015, 16:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274154">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">600cc</div>
					<div class="post-datetime">
						27 Apr 2015, 16:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>n/m wrote:</cite><blockquote><p>Since I use OpenVPN with my Computer to connect to Vypr, doesn&#039;t that mean that I should be able to use OpenVPN on openWRT?</p></blockquote></div><p>If you can connect to Vypr using OpenVPN from your computer (redirect just your computer&#039;s traffic), then it <strong>should </strong>be possible to connect using OpenVPN on your OpenWRT router (redirect your entire LAN&#039;s traffic).</p><p>It&#039;ll take some trial and error and experimentation on your part, so be persistent and patient.</p><p>The first - and mandatory - requirement is a router with enough space to install the OpenVPN packages. At home I can run Barrier Breaker on a TP-Link TL-WR841N (4MB flash) or a Buffalo WZR-HP-G300NH (32MB flash), but I can only run OpenVPN on the Buffalo, because the TP-Link doesn&#039;t have enough free space for the additional OpenVPN packages.</p><p>Assuming you&#039;re using a router with enough space for OpenVPN and have successfully installed OpenVPN, then continue.</p><p>You can carry out a quick test using your router&#039;s SSH CLI for testing.</p><p>* Copy your OpenVPN <strong>client </strong>configuration file from your computer to <strong>/etc/openvpn/ </strong>on your router. (Note: <strong>openssh-sftp-server </strong>is not installed by default.)</p><p>* If your Vypr VPN uses private keys then also copy them to the router. Remember to edit the configuration file to point to the correct location of the keys, if required.</p><p>* Sign into your router via SSH.</p><p>* Do a traceroute to 8.8.8.8 - observe that the trace goes through your ISP.</p><p>* Start the openvpn client on your router (<strong>openvpn /etc/openvpn/client.conf</strong>) - change <strong>client.conf</strong> to match the real name of your config file. Respond to any authentication prompts which may appear.</p><p>* If the connection is successful then you should see lots of text output in your SSH session, ending with some lines indicating that a new route has been set up, followed by &quot;Initialization Sequence Completed&quot;. If you wish to stop the OpenVPN process, then press Ctrl-C; this will disconnect the VPN, so leave OpenVPN running for now.</p><p>* While the OpenVPN process is running, open a second SSH session to your router (the first one is busy running the OpenVPN client and shouldn&#039;t be interrupted yet). Alternately, use <strong>tmux </strong> (package not installed by default) to spawn multiple virtual terminals in your original SSH session.</p><p>* In the second SSH session (or virtual terminal), do another traceroute to 8.8.8.8 - if the route takes the same path as before then the VPN either isn&#039;t connected or isn&#039;t redirecting traffic. If the route takes a different path, through VyprVPN, then you have confirmation that the VPN connection is working.</p><p>If the VPN isn&#039;t connecting, or isn&#039;t redirecting traffic, then it&#039;s time to troubleshoot. Check for relevant error messages and take appropriate action after researching them.</p><p>Assuming the VPN connects and redirects traffic on your router, then the next step is to configure your router to route traffic for the entire LAN.</p><p>You&#039;ll need to create a new logical network interface and attach it to the VPN&#039;s virtual TUN interface (the TUN interface only appears while OpenVPN is running, so don&#039;t kill the OpenVPN process just yet...). Then configure a firewall zone for the new VPN interface and edit your firewall&#039;s zones to allow traffic from your LAN to the VPN.</p><p>A final exercise for the reader is how to run the OpenVPN client as a background daemon (possibly with start/stop control using the LuCI web interface), so you don&#039;t have to sign in via SSH every time you want to connect to Vypr.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274354">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">600cc</div>
					<div class="post-datetime">
						28 Apr 2015, 21:54					</div>
				</div>
				<div class="post-content content">
					<p>And shortly after posting the above reply, I stumbled across this superb page: <a href="https://www.loganmarchione.com/2015/02/openwrt-with-openvpn-client-on-tp-link-tl-mr3020-3/">https://www.loganmarchione.com/2015/02/ … -mr3020-3/</a></p><p>Although it was written specifically for the TP-Link TL-MR3020 and the Private Internet Access VPN service, it&#039;s an excellent guide for installing OpenVPN as a client under Barrier Breaker, regardless of the router and VPN service you use.</p><p>It also addresses the issue of using extroot on a USB stick if your router doesn&#039;t have sufficient internal storage, but does have a USB port.</p><p>Just amend the instructions to suit the router and VPN service you actually have.</p><p>You don&#039;t have to set up a SAMBA share (unless you specifically want to share files to SMB clients), nor do you have to configure cron jobs or e-mail alerts unless you want to; they&#039;re nice to have but not required for the basic VPN functionality.</p><br /><p>Following the instructions on that page I was able to connect my router to a remote OpenVPN server and successfully redirected traffic for all devices connected to the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274378">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">rensorek</div>
					<div class="post-datetime">
						29 Apr 2015, 00:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>n/m wrote:</cite><blockquote><p>Hi Forum, <br />I&#039;d like to use OpenWrt to connect to an VyprVPN server.&nbsp; I saw this: <a href="http://wiki.openwrt.org/doc/howto/vpn.client.openvpn.tun">http://wiki.openwrt.org/doc/howto/vpn.c … penvpn.tun</a><br />but have no idea how to input Username / Password for the VyperVPN service. Is it possible to connect using OpenWrt? If so through the LuCi OpenVPN app? How? Goldenfrog has an app for tomato and a tutorial for dd-wrt on their site.<br /><a href="https://www.goldenfrog.com/vyprvpn/dd-wrt-vpn">https://www.goldenfrog.com/vyprvpn/dd-wrt-vpn</a></p></blockquote></div><br /><p>Not sure for the reasons you may be using a VPN, but if you plan to use it for privacy/anonymity , please be aware PPTP is no longer secure and is easily cracked.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>