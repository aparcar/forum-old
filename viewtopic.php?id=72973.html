<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to build a fork of github openwrt/packages</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p370768">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Munk</div>
					<div class="post-datetime">
						11 Jan 2018, 04:02					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys,<br />I am new to openwrt and I added some functionality to the tinyproxy package.<br />Before submitting a pull request I want to test my changes.<br />I forked the github openwrt/packages repo but I am not clear how to have opkg install from the fork.<br />The opkg documentation I found refers to ipk files and I am confused how this repo ties in.</p><p>All the tutorials I can find in the wiki seems to describe a process that builds a firmware image.<br />I am trying to only build something that I can install via opkg as I don&#039;t want to have to reflash my router for testing.</p><p>I have a docker instance of noonien/docker-openwrt-buildroot but I think this is still trying to build a flash image.</p><p>Can anyone point me to some resources that will help?</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>Munk</strong> on 11 Jan 2018, 04:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370850">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						13 Jan 2018, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>To perform this, you&#039;ll need to clone the primary OpenWrt repository as well. Then copy the file <strong>feeds.conf.default</strong> into a new file <strong>feeds.conf</strong>.</p><p>In this new file, remove all other lines except the line for &#039;packages&#039;. Then modify the &#039;packages&#039; line to point to your alternate package repository.</p><p>If you forked the packages repository in GitHub, then this should be pretty simple: just update the address shown on the &#039;packages&#039; line.</p><p>If you cloned the packages repository to your local computer and modified it there, then you&#039;ll need to modify the line to look like the following:<br /></p><div class="codebox"><pre><code>src-link packages /full/path/to/your/clone/folder</code></pre></div><p>If this does not work, then simply delete the <strong>feeds.conf</strong> file and modify the <strong>feeds.conf.default</strong> directly. Just remember to omit changes to this file when committing or making pull requests.</p><p>EDIT: With these changes, you can use your local OpenWrt clone to build a firmware image with your update package. The modified package will appear under the bin folder, too, and you can copy it from there manually to your router and install it using opkg, if you do not want to re-flash the whole thing.</p>											<p class="post-edited">(Last edited by <strong>Antek</strong> on 13 Jan 2018, 16:23)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>