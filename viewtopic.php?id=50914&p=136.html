<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Optimized and feature rich trunk build for select routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 20 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 136 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=134.html">134</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=135.html">135</a></li><li class="pagination-current"><span>136</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=137.html">137</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=138.html">138</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p313541">
				<div class="post-metadata">
					<div class="post-num">Post #3376</div>
					<div class="post-author">wander_jarra</div>
					<div class="post-datetime">
						4 Mar 2016, 05:04					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://i.imgur.com/UY02DCx.png">http://i.imgur.com/UY02DCx.png</a></p><p>No more icons.....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313570">
				<div class="post-metadata">
					<div class="post-num">Post #3377</div>
					<div class="post-author">jglooije</div>
					<div class="post-datetime">
						4 Mar 2016, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for all the hardwork.<br />R48762 is stable for me, running for 9 days without any trouble on a wrt1900acs<br />I wonder if it is possible to add the rsyncd package, i always used it to make a backup on mij linux pc on a usb stick</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313573">
				<div class="post-metadata">
					<div class="post-num">Post #3378</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						4 Mar 2016, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>You can install with opkg.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313665">
				<div class="post-metadata">
					<div class="post-num">Post #3379</div>
					<div class="post-author">dewferg</div>
					<div class="post-datetime">
						4 Mar 2016, 23:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>karlstoney wrote:</cite><blockquote><div class="quotebox"><cite>dewferg wrote:</cite><blockquote><p>If you need packages, <a href="ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/">ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/</a> is a working and current mirror of <a href="https://downloads.openwrt.org/snapshots/trunk">https://downloads.openwrt.org/snapshots/trunk</a> and also has the other (older) releases.</p></blockquote></div><p>Thanks for this; I updated my sources and opkg update works however when I add the kernel; I get the following:</p><p>It looks to me that despite me using <a href="http://luci.subsignal.org/~trondah/c2600/r48762/">http://luci.subsignal.org/~trondah/c2600/r48762/</a> which clearly has the latest kernel; i&#039;m still on an old one?!</p><p>Seems so random to me <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><div class="codebox"><pre><code>root@OpenWrt:/etc/opkg# opkg install kmod-fs-ext4
Installing kmod-fs-ext4 (3.18.26-1) to root...
Downloading http://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/ipq806x/generic/packages/kernel/kmod-fs-ext4_3.18.26-1_ipq806x.ipk.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-fs-ext4:
 *     kernel (= 3.18.26-1-bc1e47ed59b6bc4b6015fefc7f614ca6) *     kernel (= 3.18.26-1-bc1e47ed59b6bc4b6015fefc7f614ca6) *     kernel (= 3.18.26-1-bc1e47ed59b6bc4b6015fefc7f614ca6) *
 * opkg_install_cmd: Cannot install package kmod-fs-ext4.
root@OpenWrt:/etc/opkg# uname -a
Linux OpenWrt 3.18.23 #9 SMP PREEMPT Sun Dec 13 16:52:06 CET 2015 armv7l GNU/Linux</code></pre></div></blockquote></div><p>Ext4&nbsp; Kernel module is already provided by arokh, see: <a href="http://luci.subsignal.org/~trondah/wdr4900/r48874/packages/kernel/kmod-fs-ext4_4.4.3-1_mpc85xx.ipk">http://luci.subsignal.org/~trondah/wdr4 … pc85xx.ipk</a><br />Just use arokhs (orginal) sources and do opkg update, opkg install kmod-fs-ext4.</p><p>You don&#039;t need to add stw-bonn.de-mirror as package feed for OPKG just to install some packages, while <a href="https://downloads.openwrt.org/snapshots/trunk/">https://downloads.openwrt.org/snapshots/trunk/</a> is broken.<br />If you need/want a package that is not provided by arokh, e.g. traffic monitor <em>iftop</em>, just do:</p><p>Open a web browser &amp; search the package at <a href="ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/">ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/</a> Start by choosing the correct CPU architecture, eg. mpc85xx for WDR4900 and browse through the sub-dirs, till you found it. Copy it&#039;s URL to clipboard.</p><p>Now SSH to your OpenWRT-router do something like:<br />cd /tmp<br />wget <a href="ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/mpc85xx/generic/packages/base/iftop_1.0pre2-1_mpc85xx.ipk">ftp://ftp.stw-bonn.de/pub/openwrt/snaps … pc85xx.ipk</a><br />opkg iftop_1.0pre2-1_mpc85xx.ipk</p><p>If it fails because of a missing depending package, search, wget and install it first.</p><p>If you search for a command or tool and don&#039;t know in which package in can be found (in OpenWRT), just google:<br />&quot;&lt;your command&gt; openwrt .ipk&quot; (without the &quot;&quot;)</p><p>Example: you want command &quot;pstree&quot;, google: &quot;pstree openwrt .ipk&quot; and look over the results and you see its part of the &quot;psmisc&quot;-package.</p><br /><div class="quotebox"><cite>helpme555 wrote:</cite><blockquote><p>I&#039;ve followed the format provided by openwrt to allow for updating and I&#039;m having a bit of trouble. Could you explain a bit on how to get the packages to sync?</p></blockquote></div><p>See above.</p>											<p class="post-edited">(Last edited by <strong>dewferg</strong> on 4 Mar 2016, 23:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313669">
				<div class="post-metadata">
					<div class="post-num">Post #3380</div>
					<div class="post-author">dewferg</div>
					<div class="post-datetime">
						5 Mar 2016, 00:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lukano wrote:</cite><blockquote><p>So I&#039;ve been trying to play with getting extroot on these builds for my WNDR3700v1.&nbsp; </p><p>Going off of the guide here ; <a href="https://wiki.openwrt.org/doc/howto/extroot">https://wiki.openwrt.org/doc/howto/extroot</a></p><p>But when I get to the Step 3 to create an fstab template, or editing /etc/config/fstab manually... I find that the file is read only and can not be edited.&nbsp; Is that a function of something specific to these builds, or am I using incorrect information?</p></blockquote></div><p>Just go to &quot;System&quot; -&gt; &quot;Mount Points&quot;, generate a config, edit the drive you want to use, choose under &quot;Mount point&quot; the point &quot;Use as root filesystem /&quot; and follow the guide to clone the root-fs.</p><div class="codebox"><pre><code>mkdir -p /tmp/introot
mkdir -p /tmp/extroot
mount --bind / /tmp/introot
mount /dev/sda1 /tmp/extroot
tar -C /tmp/introot -cvf - . | tar -C /tmp/extroot -xf -
umount /tmp/introot
umount /tmp/extroot</code></pre></div><p>Thats all, works perfect, not more to do with arokhs build/pre setup.</p><br /><br /><p>BTW if your /etc/config/fstab is RO, maybe your whole Root-FS is read-only.<br />Because of misconfiguration?</p>											<p class="post-edited">(Last edited by <strong>dewferg</strong> on 5 Mar 2016, 00:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313670">
				<div class="post-metadata">
					<div class="post-num">Post #3381</div>
					<div class="post-author">dewferg</div>
					<div class="post-datetime">
						5 Mar 2016, 00:08					</div>
				</div>
				<div class="post-content content">
					<p>What&#039;s new in r48874? There is no changelog entry.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313685">
				<div class="post-metadata">
					<div class="post-num">Post #3382</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						5 Mar 2016, 01:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello, complete noob here, so sorry if this has been answered before; I searched and didn&#039;t see an answer.</p><p>I am building from source for a TP Link WDR 3600, using the profile for the WDR4900 as a starting point.</p><p>Got this error building:</p><p>...<br />checking for suffix of object files... configure: error: in `/home/luis/Source/trondah-openwrt-trunk/build_dir/toolchain-mips_34kc_gcc-5.3.0_musl-1.1.14/gcc-5.3.0-minimal/mips-openwrt-linux-musl/libgcc&#039;:<br />configure: error: cannot compute suffix of object files: cannot compile<br />....</p><p>The config.log shows:<br />build_dir/toolchain-mips_34kc_gcc-5.3.0_musl-1.1.14/gcc-5.3.0-minipenwrt-linux-musl/libgcc/config.log:</p><p>xgcc: error: unrecognized command line option &#039;-mcpu=8548&#039;</p><p>Any ideas?</p><p>BTW I don&#039;t have gcc 5.x installed on this Ubuntu system:</p><p>$ uname -a<br />Linux ubuntu 3.13.0-79-generic #123-Ubuntu SMP Fri Feb 19 14:27:58 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux<br />$ lsb_release -a<br />\No LSB modules are available.<br />Distributor ID: Ubuntu<br />Description:&nbsp; &nbsp; Ubuntu 14.04.4 LTS<br />Release:&nbsp; &nbsp; &nbsp; &nbsp; 14.04<br />Codename:&nbsp; &nbsp; &nbsp; &nbsp;trusty</p><p>$ gcc --version<br />gcc (Ubuntu 4.8.4-2ubuntu1~14.04.1) 4.8.4</p><br /><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313719">
				<div class="post-metadata">
					<div class="post-num">Post #3383</div>
					<div class="post-author">Andy22</div>
					<div class="post-datetime">
						5 Mar 2016, 13:49					</div>
				</div>
				<div class="post-content content">
					<p>@arokh hi, i still try to follow your advice and build my own image and i just came across a question.</p><p>Why is the neon extension and new marvel accelerated driver not used in the kernelconfig, for the mvbeu platforms (AC1900/1200)? As far as i can tell from the tech documents 375/38x all support those extensions?</p><div class="codebox"><pre><code>CONFIG_NEON
CONFIG_CRYPTO_DEV_MARVELL_CESA
CONFIG_ARM_CRYPTO</code></pre></div><p>thx<br />Andy</p>											<p class="post-edited">(Last edited by <strong>Andy22</strong> on 5 Mar 2016, 14:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313755">
				<div class="post-metadata">
					<div class="post-num">Post #3384</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						5 Mar 2016, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>@luisd</p><p>The WDR4900 has specific CPU optimizations that you need to turn off. Why don&#039;t you just start with the wdr3x_4x profile which is already configured for your router?</p><p>@andy22</p><p>I don&#039;t know, create a ticket if they are supposed to be there.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313827">
				<div class="post-metadata">
					<div class="post-num">Post #3385</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						6 Mar 2016, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>@arokh Thanks, I had missed the wdr3x_4x profile the first time, saw it later and used it.</p><p>As a noob, I had expected that running menuconfig and selecting the ar71xx and tp-link wdr 3X config options was enough to remove any WDR4900-dependent options, but this one remained and caused the problem:</p><p>&nbsp; &nbsp;&gt; CONFIG_TARGET_OPTIMIZATION=&quot;-Os -pipe -mcpu=8548&quot;</p><p>I also didn&#039;t know anything about the WDR4900 and was not aware it had a PowerPC cpu <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><p>[Aside: I would have expected the compilation to work anyway, since it was just cross-compiling; why did it fail? ]</p><p>So using the wdr3x_4x worked fine.</p><p>I was able to compile r48874 without problems, installed without issues on my WDR3600 and all appears to be fine, yeay!</p><p>Today I tried to compile r48933 and ran into what seems like a bug when doing make menuconfig:</p><p>[...]<br />Checking &#039;git&#039;... failed.<br />[...]<br />Build dependency: Please install Git (git-core) &gt;= 1.7.12.2<br />Prerequisite check failed. Use FORCE=1 to override.</p><p>But I *have* git installed:</p><p>$ git --version<br />git version 2.2.1</p><p>[This error did not happen when building r48874 btw]</p><p>Thanks again.</p><p>Luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313828">
				<div class="post-metadata">
					<div class="post-num">Post #3386</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						6 Mar 2016, 22:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>luisd wrote:</cite><blockquote><p>Today I tried to compile r48933 and ran into what seems like a bug when doing make menuconfig:<br />[...]<br />Checking &#039;git&#039;... failed.<br />[...]</p></blockquote></div><p>Yeah, and that was fixed yesterday(!!!) by r48934...<br />Nothing to do with Arokh&#039;s build.<br /><a href="https://dev.openwrt.org/ticket/21968">https://dev.openwrt.org/ticket/21968</a><br /><a href="https://dev.openwrt.org/changeset/48934">https://dev.openwrt.org/changeset/48934</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 6 Mar 2016, 22:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313837">
				<div class="post-metadata">
					<div class="post-num">Post #3387</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						7 Mar 2016, 00:07					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman cool, thanks.</p><p>Is anyone running with kernel 4.4 on a wdr3x_4x-type router? Any problems?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313853">
				<div class="post-metadata">
					<div class="post-num">Post #3388</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						7 Mar 2016, 04:55					</div>
				</div>
				<div class="post-content content">
					<p>Hello, found one thing that is not working.</p><p>Can&#039;t get sudo to work ..</p><p>luis@OpenWrt:~$ sudo ash<br />-ash: sudo: not found</p><p>Since <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/*">http://downloads.openwrt.org/snapshots/trunk/ar71xx/*</a> is not available at the moment, I installed using <br /><a href="http://downloads.openwrt.org/latest/ar71xx/*">http://downloads.openwrt.org/latest/ar71xx/*</a> and that seemed to go fine:</p><p>root@OpenWrt:~# opkg install sudo<br />Installing sudo (1.8.13-1) to root...<br />Downloading <a href="http://downloads.openwrt.org/latest/ar71xx/generic/packages/packages/sudo_1.8.13-1_ar71xx.ipk.">http://downloads.openwrt.org/latest/ar7 … r71xx.ipk.</a><br />Configuring sudo.</p><p>root@OpenWrt:~# opkg info sudo<br />Package: sudo<br />Version: 1.8.13-1<br />Depends: libc<br />Status: install user installed<br />Section: admin<br />Architecture: ar71xx<br />Maintainer: Gergely Kiss &lt;mail.gery@gmail.com&gt;<br />MD5Sum: 40d583c11a303c83ccd9d6fc34644335<br />Size: 232893<br />Filename: sudo_1.8.13-1_ar71xx.ipk<br />Conffiles:<br /> /etc/sudoers 01895bcb4366cd974a65589404fec055f2<br />Source: feeds/packages/admin/sudo<br />Description: Sudo (su &quot;do&quot;) allows a system administrator to delegate authority to<br /> give certain users (or groups of users) the ability to run some (or<br /> all) commands as root or another user while providing an audit trail of<br /> the commands and their arguments.<br />Installed-Time: 1457318233</p><p>root@OpenWrt:~# which sudo<br />/usr/bin/sudo</p><p>However, it doesn&#039;t work ...</p><p>luis@OpenWrt:~$ sudo ls<br />-ash: sudo: not found</p><p>luis@OpenWrt:~$ /usr/bin/sudo ls<br />-ash: /usr/bin/sudo: not found</p><p>So .. it appears I need to get it from somewhere else, as this is not the right version for this build </p><p>luis@OpenWrt:~$ ldd /usr/bin/sudo<br />&nbsp; &nbsp; &nbsp; &nbsp; /lib/ld-uClibc.so.0 (0x557de000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libutil.so.0 =&gt; /lib/ld-uClibc.so.0 (0x557de000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libsudo_util.so.0 =&gt; /usr/lib/sudo/libsudo_util.so.0 (0x77e72000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libdl.so.0 =&gt; /lib/ld-uClibc.so.0 (0x557de000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libgcc_s.so.1 =&gt; /lib/libgcc_s.so.1 (0x77e4e000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libc.so.0 =&gt; /lib/ld-uClibc.so.0 (0x557de000)<br />Error relocating /usr/lib/sudo/libsudo_util.so.0: __fputc_unlocked: symbol not found<br />Error relocating /usr/lib/sudo/libsudo_util.so.0: __ctype_tolower: symbol not found<br />Error relocating /usr/lib/sudo/libsudo_util.so.0: fcntl64: symbol not found<br />Error relocating /usr/bin/sudo: __uClibc_main: symbol not found<br />Error relocating /usr/bin/sudo: fcntl64: symbol not found<br />Error relocating /usr/bin/sudo: __ctype_b: symbol not found</p><p>Where I should be getting this package from?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313863">
				<div class="post-metadata">
					<div class="post-num">Post #3389</div>
					<div class="post-author">gsustek</div>
					<div class="post-datetime">
						7 Mar 2016, 08:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi, once again, is there a way to build custom firmware with arokh optimization by my self? Some fast tutorial?&nbsp; Thnx.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313866">
				<div class="post-metadata">
					<div class="post-num">Post #3390</div>
					<div class="post-author">bouwew</div>
					<div class="post-datetime">
						7 Mar 2016, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>@gsutek,</p><p>Yes, read the first post of this thread and read the openwrt wiki-article on how to build an image yourself.<br />Also, Google is your friend...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313867">
				<div class="post-metadata">
					<div class="post-num">Post #3391</div>
					<div class="post-author">trustno1foxm</div>
					<div class="post-datetime">
						7 Mar 2016, 09:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gsustek wrote:</cite><blockquote><p>Hi, once again, is there a way to build custom firmware with arokh optimization by my self? Some fast tutorial?&nbsp; Thnx.</p></blockquote></div><p>I am also interested in! But as in the posts before, there won&#039;t be any help. I also don&#039;t know which packages to use to get that wlan interface up. A clean image would be nice.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313868">
				<div class="post-metadata">
					<div class="post-num">Post #3392</div>
					<div class="post-author">abunimeh</div>
					<div class="post-datetime">
						7 Mar 2016, 09:36					</div>
				</div>
				<div class="post-content content">
					<p>@arokh</p><p>I am running r48933 of <a href="http://luci.subsignal.org/~trondah/wndr3x00_800mhz/r48933/openwrt-ar71xx-generic-wndr3800-squashfs-sysupgrade.bin">http://luci.subsignal.org/~trondah/wndr … pgrade.bin</a></p><div class="codebox"><pre><code>root@BANG ~# /etc/init.d/tor enable
root@BANG ~# /etc/init.d/tor start
WARNING: Variable &#039;respawn&#039; does not exist or is not an array/object</code></pre></div><p>Please fix.</p><p>Also, I noticed if I configure the wifi from LUCI it breaks all radios. They become UNKNOWN.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313876">
				<div class="post-metadata">
					<div class="post-num">Post #3393</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						7 Mar 2016, 10:46					</div>
				</div>
				<div class="post-content content">
					<p>@luisd</p><p>Normally, there isn&#039;t a CONFIG_TARGET_OPTIMIZATION set. The optimization flags for each arch is set elsewhere. The wdr4900 has specific target optimization in my config, so using that as a template you will need to remove the target specific optimization.</p><p>The error message said it all, unrecognized option -mcpu=8548. You are cross compiling for a different architecture, the compiler couldn&#039;t create binaries.</p><p>Also, this is a trunk (DD) build, which is not compatible with CC packages.</p><p>@trustno1foxm</p><p>Is there something wrong with the documentation on the wiki? If so, perhaps you could contribute to creating a better one. Building OpenWrt is not the topic of discussion here, and any help given would be lost in the thread anyways. If you want to build OpenWrt you should invest some time going through the docs and get familiar with the build system. Building from my tree is no different than building vanilla OpenWrt.</p><p>@abunimeh</p><p>It&#039;s just a warning, the service starts fine. About luci, create a ticket.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313879">
				<div class="post-metadata">
					<div class="post-num">Post #3394</div>
					<div class="post-author">trustno1foxm</div>
					<div class="post-datetime">
						7 Mar 2016, 11:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>@luisd</p><p>Normally, there isn&#039;t a CONFIG_TARGET_OPTIMIZATION set. The optimization flags for each arch is set elsewhere. The wdr4900 has specific target optimization in my config, so using that as a template you will need to remove the target specific optimization.</p><p>The error message said it all, unrecognized option -mcpu=8548. You are cross compiling for a different architecture, the compiler couldn&#039;t create binaries.</p><p>Also, this is a trunk (DD) build, which is not compatible with CC packages.</p><p>@trustno1foxm</p><p>Is there something wrong with the documentation on the wiki? If so, perhaps you could contribute to creating a better one. Building OpenWrt is not the topic of discussion here, and any help given would be lost in the thread anyways. If you want to build OpenWrt you should invest some time going through the docs and get familiar with the build system. Building from my tree is no different than building vanilla OpenWrt.</p><p>@abunimeh</p><p>It&#039;s just a warning, the service starts fine. About luci, create a ticket.</p></blockquote></div><p>@arokh: Why should be something wrong with it? Did I ever mention it? I don&#039;t think so. I am not able to build my own image. If you think thats funny, pls don&#039;t hesitate to laugh. I, and the guy before just asked for help, thats all.</p><p>@all: Sorry for OT</p>											<p class="post-edited">(Last edited by <strong>trustno1foxm</strong> on 7 Mar 2016, 11:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313884">
				<div class="post-metadata">
					<div class="post-num">Post #3395</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						7 Mar 2016, 11:41					</div>
				</div>
				<div class="post-content content">
					<p>I think you are misunderstanding me. I&#039;m not here to laugh or critizise anyone, I&#039;m asking you to put in some effort yourself before asking help. You say that you are not able to build, yet the documentation (and my first page) describes the steps needed. In that case, what step are you stuck at? Also, there is a general section of the forum meant for these questions. Have you created a thread there describing what&#039;s going wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313910">
				<div class="post-metadata">
					<div class="post-num">Post #3396</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						7 Mar 2016, 16:40					</div>
				</div>
				<div class="post-content content">
					<p>Answering myself <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> , now that I saw @dewferg&#039;s post from before I joined (thanks @dewferg!)</p><p>To get sudo installed I grabbed the package from <a href="ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/">ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/</a> and installed <br />the local version:</p><p>wget <a href="ftp://ftp.stw-bonn.de/pub/openwrt/snapshots/trunk/ar71xx/generic/packages/packages/sudo_1.8.14p3-1_ar71xx.ipk">ftp://ftp.stw-bonn.de/pub/openwrt/snaps … ar71xx.ipk</a><br />opkg install sudo_1.8.14p3-1_ar71xx.ipk</p><p>And now it works yeay:</p><p>root@OpenWrt:/home/luis# ldd /usr/bin/sudo<br />&nbsp; &nbsp; &nbsp; &nbsp; /lib/ld-musl-mips-sf.so.1 (0x55a28000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libsudo_util.so.0 =&gt; /usr/lib/sudo/libsudo_util.so.0 (0x77690000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libgcc_s.so.1 =&gt; /lib/libgcc_s.so.1 (0x7766c000)<br />&nbsp; &nbsp; &nbsp; &nbsp; libc.so =&gt; /lib/ld-musl-mips-sf.so.1 (0x55a28000)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313915">
				<div class="post-metadata">
					<div class="post-num">Post #3397</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						7 Mar 2016, 17:09					</div>
				</div>
				<div class="post-content content">
					<p>@trustno1foxm @gsustek, as a noob with OpenWrt myself, I doubt there is a clean, collected, organized and up to date body of knowledge on building.</p><p>One finds the answers in the journey, and from the elders.</p><p>Having said that, I would like to contribute what I know so far (not much):</p><p>I assume you have already done the basics?</p><p>0) Install any prerequisite software you need: Need to go back and see what I did; I had pretty much everything already.<br />1) Grab @arokh&#039;s source from: <a href="http://luci.subsignal.org/~trondah/latest-src.tar.xz">http://luci.subsignal.org/~trondah/latest-src.tar.xz</a><br />2) Unpack somewhere: tar xvf latest-src.tar.xz<br />3) Rename to something more obvious: mv trunk trondah-openwrt-r48933 (or whatever r this is)<br />4) Get in there: cd trondah-openwrt-r&lt;whatever&gt;<br />5) Pick a profile from profiles/ and use it as the basis for your build. In my case: cp profiles/wdr3x_4x .config<br />6) Capture a log to check everything later: script mybuild-$(date &quot;+%Y-%m-%d-%H:%M&quot;)<br />7) Do a menuconfig, I didn&#039;t change anything from the config for now: make menuconfig<br />8) Make!. Go grab coffee or a good whisky and come back later, much later: time make V=99<br />9) Don&#039;t forget to close the log when building finishes: exit</p><p>I am building on an old Lenovo X200t, so it takes a while.<br />Running Kubuntu 14.04.4 LTS</p><p>I will be happy to answer any questions about anything from the above that is not clear.</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313967">
				<div class="post-metadata">
					<div class="post-num">Post #3398</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						8 Mar 2016, 03:53					</div>
				</div>
				<div class="post-content content">
					<p>@arokh On page one of this thread you have:</p><p>&nbsp; &nbsp; &gt;&nbsp; Netgear WNDR3500/WNDR36X0/WNDR43x0</p><p>Is that a big typo and you meant TP-Link WDR3500/WDR36X0/WDR43x0 ??</p><p>Also, I am a big hesitant about trying r48893 compiled with CONFIG_LINUX_4_4=y on the only WDR3600 in my home office .... </p><p>What is the collective experience/wisdom about using kernel 4.4.x on these TP-Link ar71xx boxen?</p><p>Thanks!</p>											<p class="post-edited">(Last edited by <strong>luisd</strong> on 8 Mar 2016, 03:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313984">
				<div class="post-metadata">
					<div class="post-num">Post #3399</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						8 Mar 2016, 10:32					</div>
				</div>
				<div class="post-content content">
					<p>Typo, fixed <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313990">
				<div class="post-metadata">
					<div class="post-num">Post #3400</div>
					<div class="post-author">Foguet</div>
					<div class="post-datetime">
						8 Mar 2016, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>hello @arokh, <br />thank you for this great build&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />For my type of connection, I downloaded your tarball and compile the necessary packages and image (for Linksys WRT1900AC)</p><p>With the latest version of the tarball, when do a &quot;make prereq&quot; gives me the following error:<br /></p><div class="quotebox"><blockquote><p>Build dependency: Please install Git (git-core) &gt;= 1.7.12.2</p></blockquote></div><p>With the &quot;trunk&quot; version does not happen and I compiled everything.<br />I use Debian:<br /></p><div class="codebox"><pre><code>uname -a
  Linux debian8-x64 3.16.0-4-amd64 #1 SMP Debian 3.16.7-ckt20-1+deb8u4 (2016-02-29) x86_64 GNU/Linux
dpkg -l | grep git
  ii  git                                1:2.1.4-2.1+deb8u1                   amd64        fast, scalable, distributed revision control system
  ii  git-core                           1:2.1.4-2.1+deb8u1                   all          fast, scalable, distributed revision control system (obsolete)
git version
  git version 2.1.4</code></pre></div><p>can you help me?&nbsp; (What system you use to compile?)</p><p>Thank you <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>Foguet</strong> on 8 Mar 2016, 12:31)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 3401 to 3400 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 136 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=134.html">134</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=135.html">135</a></li><li class="pagination-current"><span>136</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=137.html">137</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=138.html">138</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>