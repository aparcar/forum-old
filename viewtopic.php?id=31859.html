<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compiling res_fax_spandsp.so</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p143592">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						13 Sep 2011, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>hi all,<br />i have setup an asterisk server on an asus rt n16. it is working fine. all i need in addition is a fax-solution in software on that router.<br />asterisk 1.8.6 is supporting this, i am using this version. but i need res_fax_spandsp.so. spandsp is for free, but i have to compile this library/module.<br />now i need help how to get this lib/module compiled. i tried it on the router itself with buildroot, but after lots of hours i am begging for help... gcc complains about missing libtiff-devel-package (before this message i needed hours to get gcc to work), which i don&#039;t have.</p><p>i would appreciate if someone could support me.<br />libtiff is installed, but not libtiff-devel. </p><p>maybe someone has simply compiled the res_fax_spandsp.so already...?</p><p>regards,<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145610">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						11 Oct 2011, 22:34					</div>
				</div>
				<div class="post-content content">
					<p>noone able to help? i tried already crosscompiling it, but i don&#039;t get it to work... any help appreciated!!!</p><p>regards,<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145643">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						12 Oct 2011, 05:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>astrakid wrote:</cite><blockquote><p>i tried it on the router itself with buildroot, but after lots of hours i am begging for help... gcc complains about missing libtiff-devel-package (before this message i needed hours to get gcc to work), which i don&#039;t have.</p></blockquote></div><p>If I may ask, what package did you install on your Asus router so that i can compile buildroot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145653">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						12 Oct 2011, 09:08					</div>
				</div>
				<div class="post-content content">
					<p>- <a href="http://tomatousb.org/download">http://tomatousb.org/download</a> kernel 2.6 (2.6.22.19) for mipsr2 (openwrt-compatible)<br />- asterisk 1.8.6.0<br />- libtiff 3.9.5.1<br />- spandsp 0.0.4pre12 (could install spandsp 0.0.6pre18 myself, that works)</p><p>thanks a lot in advance!</p><p>if you don&#039;t mind i would like to ask you a lot of questions, because it would be great if i&#039;d understodd how to compile it on my own...</p><p>my issues regarding understanding cross compiling:<br />1. i need the buildroot-toolchain<br />2. i need the sources of my target-operating-system<br />3. i need libtiff-sources<br />4. i need spandsp sources<br />5. i need asterisk sources</p><p>everything fine so far.<br />then i have to compile my buildroot-toolchain - that worked.<br />but how to go on? at least i tried to compile libiff and spandsp and afterwards compile asterisk for my target=mipsel-linux, but asterisk is not startable on my asus in this case...</p><p>kind regards and thanks a lot in advance!!!<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145687">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						12 Oct 2011, 20:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>astrakid wrote:</cite><blockquote><p>- <a href="http://tomatousb.org/download">http://tomatousb.org/download</a> kernel 2.6 (2.6.22.19) for mipsr2 (openwrt-compatible)<br />- asterisk 1.8.6.0<br />- libtiff 3.9.5.1<br />- spandsp 0.0.4pre12 (could install spandsp 0.0.6pre18 myself, that works)</p></blockquote></div><p>With the above packages, how could you compile spandsp natively on your router?</p><div class="quotebox"><blockquote><p>if you don&#039;t mind i would like to ask you a lot of questions, because it would be great if i&#039;d understodd how to compile it on my own...</p></blockquote></div><p>If you wanna cross compile your own OpenWRT firmware, follow steps outlined on this <a href="http://wiki.openwrt.org/doc/howto/build">Howto</a>.</p>											<p class="post-edited">(Last edited by <strong>mazilo</strong> on 12 Oct 2011, 20:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145700">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						12 Oct 2011, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>well, spandsp 0.0.4pre12 is available as complete ipk-package. 0.0.6pre18 could be compiled (not cross compiled) via buildroot, as well as libtiff (needed to be cmpiled first). what is not working is compiling asterisk on my router because of problems i think they are gcc related error can be seen here in the code-part of this post: <a href="http://www.ip-phone-forum.de/showthread.php?t=239597&amp;page=1)">http://www.ip-phone-forum.de/showthread … mp;page=1)</a>. that was the reason why i tried to crosscompile asterisk, but i didn&#039;t succeed...</p><p>kind regards,<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145738">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						13 Oct 2011, 14:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>astrakid wrote:</cite><blockquote><p>well, spandsp 0.0.4pre12 is available as complete ipk-package. 0.0.6pre18 could be compiled (not cross compiled) via buildroot, as well as libtiff (needed to be cmpiled first). what is not working is compiling asterisk on my router because of problems i think they are gcc related error can be seen here in the code-part of this post: <a href="http://www.ip-phone-forum.de/showthread.php?t=239597&amp;page=1)">http://www.ip-phone-forum.de/showthread … mp;page=1)</a>. that was the reason why i tried to crosscompile asterisk, but i didn&#039;t succeed...</p></blockquote></div><p>R U saying you can natively compile spandsp + tiff packages on your router using buildroot source package without a gcc? Which buildroot source package? AFAIK, buildroot source package doesn&#039;t come with a gcc compiler.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145741">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						13 Oct 2011, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>gcc is available on my router. here is an extract from log (make asterisk):</p><p>[...]<br />checking for gcc... gcc<br />checking whether the C compiler (gcc -pthread -I../..//include -pipe -Wall -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -g3 -O6&nbsp; &nbsp; ) works... yes<br />checking whether the C compiler (gcc -pthread -I../..//include -pipe -Wall -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -g3 -O6&nbsp; &nbsp; ) is a cross-compiler... no<br />checking whether we are using GNU C... yes<br />checking whether gcc accepts -g... yes<br />checking how to run the C preprocessor... gcc -E<br />checking for mawk... gawk<br />checking host system type... mipsel-unknown-linux-gnu<br />checking for a BSD compatible install... /opt/bin/install -c<br />[...]<br />creating ./config.status<br />creating Makefile<br />creating makelist<br />creating config.h<br />In file included from chared.h:136,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from el.h:101,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from common.c:51,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from editline.c:4:<br />fcns.h:56:1: warning: &quot;em_upper_case&quot; redefined<br />fcns.h:50:1: warning: this is the location of the previous definition<br />In file included from editline.c:4:<br />common.c:73: error: expected identifier or &#039;(&#039; before numeric constant<br />common.c:302: error: expected identifier or &#039;(&#039; before numeric constant<br />common.c:353: error: expected identifier or &#039;(&#039; before numeric constant<br />common.c: In function &#039;ed_quoted_insert&#039;:<br />common.c:387: error: called object &#039;8&#039; is not a function<br />common.c: At top level:<br />common.c:397: error: expected identifier or &#039;(&#039; before numeric constant<br />common.c:441: error: expected identifier or &#039;(&#039; before numeric constant<br />[...]</p><p>you see, gcc is there, but compiling asterisk is failing...</p><p>regards,<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145982">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						16 Oct 2011, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>Would someone be so kind to build a res_fax_spandsp.so for openwrt? would be very great!</p><p>thanks in advance,<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146001">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						17 Oct 2011, 03:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>astrakid wrote:</cite><blockquote><p>gcc is available on my router. here is an extract from log (make asterisk):</p></blockquote></div><p>This is interesting. I sure would like to know how to make my Seagate DockStar installed with a GCC.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146007">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						17 Oct 2011, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>buildroot is available as ipkg for openwrt. i guess it contained gcc.</p><p>regards,<br />astrakid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146034">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						17 Oct 2011, 18:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>astrakid wrote:</cite><blockquote><p>buildroot is available as ipkg for openwrt. i guess it contained gcc.</p></blockquote></div><p>I noticed from the main page of <em>make menuconfig</em> that offers three options, i.e. <em>Build the OpenWrt Image Builder</em>, <em>Build the OpenWrt SDK</em>, and <em>Build the OpenWrt based Toolchain</em>, as shown below. I believe you meant to select/include the <em>Build the OpenWrt Image Builder</em> into the firmware if I wanna include GCC compilers + libraries to use on my Seagate DockStar, right?</p><div class="codebox"><pre><code> OpenWrt Attitude Adjustment (r28464) Configuration
 ????????????????????????????????????????????????????????????????????????????????????????????????????
  ????????????????????????????????????? OpenWrt Configuration ?????????????????????????????????????
  ?  Arrow keys navigate the menu.  &lt;Enter&gt; selects submenus ---&gt;.  Highlighted letters are       ?  
  ?  hotkeys.  Pressing &lt;Y&gt; includes, &lt;N&gt; excludes, &lt;M&gt; builds as package.  Press &lt;Esc&gt;&lt;Esc&gt; to   ?  
  ?  exit, &lt;?&gt; for Help, &lt;/&gt; for Search.  Legend: [*] built-in  [ ] excluded  &lt;M&gt; package  &lt; &gt;    ?  
  ?  package capable                                                                              ?  
  ? ??^(-)??????????????????????????????????????????????????????????????????????????????????????? ?  
  ? ?     Target Images  ---&gt;                                                                   ? ?  
  ? ?     Global build settings  ---&gt;                                                           ? ?  
  ? ? [*] Advanced configuration options (for developers)  ---&gt;                                 ? ?  
  ? ? [*] Build the OpenWrt Image Builder                                                       ? ?  
  ? ? [ ] Build the OpenWrt SDK                                                                 ? ?  
  ? ? [ ] Build the OpenWrt based Toolchain                                                     ? ?  
  ? ? [ ] Image configuration  ---&gt;                                                             ? ?  
  ? ?     Package features  ---&gt;                                                                ? ?  
  ? ?     Base system  ---&gt;                                                                     ? ?  
  ? ?     IPv6  ---&gt;                                                                            ? ?  
  ? ?     LuCI  ---&gt;                                                                            ? ?  
  ? ??v(+)??????????????????????????????????????????????????????????????????????????????????????? ?  
  ?????????????????????????????????????????????????????????????????????????????????????????????????  
  ?                               &lt;Select&gt;    &lt; Exit &gt;    &lt; Help &gt;                                ?  
  ?????????????????????????????????????????????????????????????????????????????????????????????????</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146035">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						17 Oct 2011, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>no. i meant that i just execute &quot;ipkg install buildroot&quot; on my asus and as result of this gcc is available...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146063">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						18 Oct 2011, 04:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>astrakid wrote:</cite><blockquote><p>no. i meant that i just execute &quot;ipkg install buildroot&quot; on my asus and as result of this gcc is available...</p></blockquote></div><p>I took a look at the OpenWRT packages repository for backfire 10.03.1-rc5 on BRCM47XX platform and did not find any buildroot package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146285">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">astrakid</div>
					<div class="post-datetime">
						20 Oct 2011, 21:52					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />just wanted to tell that i got great hints from someone which enabled me to compile asterisk 1.8.7.1 with use of spandsp successfully!!! ;-)<br />fax-reception is not working, but that is another issue now.</p><p>thanks a lot anyway,<br />regards,<br />astrakid</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>