<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to set channel bandwidth to 10MHz?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p174522">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ndarkness</div>
					<div class="post-datetime">
						10 Aug 2012, 09:45					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>I would like to change the bandwidth of the channel I&#039;m using, channel 1 of 802.11g, from 20MHz to 10MHz. But I&#039;m not able to get it, I&#039;m using Backfire 10.03.1 on a tp link WR1043ND. I have tried the following without success.</p><p>1- Change the maximum bandwidth that the channel can use defined on the regulatory bin, but it doesn&#039;t work. I mean, I have changed the parameter<br /></p><div class="quotebox"><blockquote><p>(2402.000 - 2472.000 @ <strong>5.000</strong>), (3.00, 27.00)</p></blockquote></div><p>however, when I measure that the bandwidth is always the same, the point is that I cannot understand how I can set&nbsp; channel 14 but not changing the bandwidth, if the proccess for changing the parameters is the same.</p><p>2-I have gone to this directory <br /></p><div class="quotebox"><blockquote><p>cd /sys/kernel/debug/ieee80211/phy0/ath9k<br />cat chnbw</p></blockquote></div><p>in which is chnbw, and I tried to change it but it didn&#039;t work either....</p><p>On the other hand, reading in dev.openwrt.org I&#039;ve found the following post <a href="https://dev.openwrt.org/browser/trunk/package/mac80211/patches/512-ath9k_channelbw_debugfs.patch?rev=31347">https://dev.openwrt.org/browser/trunk/p … ?rev=31347</a>, where is <em>512-ath9k_channelbw_debugfs.patch </em> that I guess it&#039;s for changing the bandwidth, could I install that patch in my router?? Likewise, I have found another patch <a href="https://dev.openwrt.org/changeset/31954">https://dev.openwrt.org/changeset/31954</a> which is to force the atheros chip to use the regualtory.bin that I set,I think.</p><p>My configuration is </p><p>config &#039;wifi-device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;mac80211&#039;<br />&nbsp; &nbsp; option &#039;macaddr&#039; &#039;xx:xx:xx:xx:xx:xx&#039;<br />&nbsp; &nbsp; option &#039;htmode&#039; &#039;HT20&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;SHORT-GI-40&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;DSSS_CCK-40&#039;<br />&nbsp; &nbsp; option &#039;disabled&#039; &#039;0&#039;<br />&nbsp; &nbsp; option &#039;channel&#039; &#039;1&#039;<br />&nbsp; &nbsp; option &#039;txpower&#039; &#039;10&#039;<br />&nbsp; &nbsp; option &#039;diversity&#039; &#039;0&#039;<br />&nbsp; &nbsp; option &#039;hwmode&#039; &#039;11ng&#039;<br />&nbsp; &nbsp; option &#039;chnbw&#039; &#039;1&#039;<br />&nbsp; &nbsp; option &#039;country&#039; &#039;NL&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; option &#039;device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; option &#039;encryption&#039; &#039;none&#039;<br />&nbsp; &nbsp; option &#039;ssid&#039; &#039;it-ah&#039;<br />&nbsp; &nbsp; option &#039;mode&#039; &#039;adhoc&#039;<br />&nbsp; &nbsp; option &#039;network&#039; &#039;wlan&#039;</p><p>Thanks in advance!!!!!</p>											<p class="post-edited">(Last edited by <strong>ndarkness</strong> on 10 Aug 2012, 09:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174544">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						10 Aug 2012, 14:18					</div>
				</div>
				<div class="post-content content">
					<p>That is not supported by mac80211/ cfg80211.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174549">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						10 Aug 2012, 14:49					</div>
				</div>
				<div class="post-content content">
					<p>It is possible on trunk through the chanbw parameter but certainly not in backfire.<br />Valid values for chanbw are 5, 10 and 20.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174803">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ndarkness</div>
					<div class="post-datetime">
						13 Aug 2012, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi!! <br />I have to say that I have achieved to change the bandwidth of the channel using Backfire 10.03.1. What has to be done is changing the value of the file called chanbw, if you set this variable with 0x0000000a the bandwidth changes to 10MHz, and if you set 0x00000005 your bandwidth will be 5MHz.<br />Here a proof wit chanbw=0x0000000a <br /><span class="postimg"><img src="http://i14.photobucket.com/albums/a331/ndarkness/DSC00750.jpg" alt="http://i14.photobucket.com/albums/a331/ndarkness/DSC00750.jpg" /></span></p><p>Greetings!</p>											<p class="post-edited">(Last edited by <strong>ndarkness</strong> on 13 Aug 2012, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174836">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mips</div>
					<div class="post-datetime">
						14 Aug 2012, 04:48					</div>
				</div>
				<div class="post-content content">
					<p>Any guys can clearly the 10MHz is defined in 802.11 spec,i read it but don&#039;t find anything.I only see the 20MHz and 40MHz.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176280">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ndarkness</div>
					<div class="post-datetime">
						29 Aug 2012, 11:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mips wrote:</cite><blockquote><p>Any guys can clearly the 10MHz is defined in 802.11 spec,i read it but don&#039;t find anything.I only see the 20MHz and 40MHz.</p></blockquote></div><p>The 10MHz and 5MHz bandwidth channels are defined under the term &quot;channel spacing&quot;on the 802.11-2007 standard, on page 593(<a href="http://www.ahltek.com/WhitePaperspdf/802.11-20%20specs/802.11-2007.pdf">802.11-2007 standard</a>)</p><p>Regards!</p>											<p class="post-edited">(Last edited by <strong>ndarkness</strong> on 29 Aug 2012, 11:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176308">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mips</div>
					<div class="post-datetime">
						29 Aug 2012, 16:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ndarkness wrote:</cite><blockquote><div class="quotebox"><cite>mips wrote:</cite><blockquote><p>Any guys can clearly the 10MHz is defined in 802.11 spec,i read it but don&#039;t find anything.I only see the 20MHz and 40MHz.</p></blockquote></div><p>The 10MHz and 5MHz bandwidth channels are defined under the term &quot;channel spacing&quot;on the 802.11-2007 standard, on page 593(<a href="http://www.ahltek.com/WhitePaperspdf/802.11-20%20specs/802.11-2007.pdf">802.11-2007 standard</a>)</p><p>Regards!</p></blockquote></div><p>Thank you so much!</p><p>Some times ago i check the 802.11-2009:<br /><a href="http://standards.ieee.org/getieee802/download/802.11n-2009.pdf">http://standards.ieee.org/getieee802/do … n-2009.pdf</a><br />But it&#039;s seems it remove the 5MHz and 10MHz compare with the 802.11-2007,do you know any story about this and why remove it?</p><p>PS:<br />I wait to read the 3000 pages 802.11-2012,more info you can read this:<br /><a href="http://blogs.aerohive.com/blog/the-wi-fi-security-blog/the-birth-of-a-new-revision-80211-2012">http://blogs.aerohive.com/blog/the-wi-f … 80211-2012</a>-</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176361">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ndarkness</div>
					<div class="post-datetime">
						30 Aug 2012, 09:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mips wrote:</cite><blockquote><div class="quotebox"><cite>ndarkness wrote:</cite><blockquote><div class="quotebox"><cite>mips wrote:</cite><blockquote><p>Any guys can clearly the 10MHz is defined in 802.11 spec,i read it but don&#039;t find anything.I only see the 20MHz and 40MHz.</p></blockquote></div><p>The 10MHz and 5MHz bandwidth channels are defined under the term &quot;channel spacing&quot;on the 802.11-2007 standard, on page 593(<a href="http://www.ahltek.com/WhitePaperspdf/802.11-20%20specs/802.11-2007.pdf">802.11-2007 standard</a>)</p><p>Regards!</p></blockquote></div><p>Thank you so much!</p><p>Some times ago i check the 802.11-2009:<br /><a href="http://standards.ieee.org/getieee802/download/802.11n-2009.pdf">http://standards.ieee.org/getieee802/do … n-2009.pdf</a><br />But it&#039;s seems it remove the 5MHz and 10MHz compare with the 802.11-2007,<strong>do you know any story about this and why remove it?</strong></p><p>PS:<br />I wait to read the 3000 pages 802.11-2012,more info you can read this:<br /><a href="http://blogs.aerohive.com/blog/the-wi-fi-security-blog/the-birth-of-a-new-revision-80211-2012">http://blogs.aerohive.com/blog/the-wi-f … 80211-2012</a>-</p></blockquote></div><p>No, I don&#039;t. Indeed, before reading that version of the standard, I had already read the 802.11g,802.11n &amp; 802.11a in order to lool for these kind of channels... Another curious point, it&#039;s that the standard only refers to the 5GHz band and not to the 2.4GHz, and I don&#039;t know why either.</p><p>regards!</p>											<p class="post-edited">(Last edited by <strong>ndarkness</strong> on 30 Aug 2012, 09:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285819">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						31 Jul 2015, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>It looks like it should be possible usign &quot;option chanbw&quot;, also this ticket is good resource:<br /><a href="https://dev.openwrt.org/ticket/14916">https://dev.openwrt.org/ticket/14916</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>