<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Is SSH Client mode possible with OpenWrt firmware?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p186215">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">charlesc56</div>
					<div class="post-datetime">
						16 Dec 2012, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I can&#039;t seem to find any concrete help regarding my problem on the internet, so I&#039;m giving this forum a shot. </p><p>My situation is this: I live at an university campus that delivers a SSH secured internet connection, and with computer SSH clients like Putty, for instance, it&#039;s no problem logging into the firewall with given user credentials. <br />Now, I would very much like to set up a wifi-router that would be able to access this SSH firewall so that I could use laptops and smartphones on my own wifi without SSH clients on these devices.</p><p>My question is then: is it possible to use OpenWrt in order to get a SSH client on a wifi-router and then transmit a non-SSH internet connection? </p><p>I have not been able to find any information on this on any other sites, but it seems OpenWrt, Tomato or dd-wrt might be able to achieve this. The only routers that would be able to do this from stock is high-end enterprise Cisco routers apparently.</p><p>Any help on this is highly appreciated :-)</p><p>Kind regards,<br />Charles</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186219">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						16 Dec 2012, 19:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi Charles, and welcome to the forum</p><p>I am having trouble understanding your question. Maybe it&#039;s just me - so if somebody understands and answers, never mind <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />In the meantime, could you clarify, what is it you are trying to do. Connect to Internet sites over SSH client? or &quot;connect to the firewall&quot; (and what does it mean)?<br />Second, what you <em>can&#039;t</em> do - and what you hope the &quot;wifi-router&quot; will help you to accomplish (I assume the wifi part is irrelevant to your question).</p><div class="quotebox"><blockquote><p>is it possible to use OpenWrt in order to get a SSH client on a wifi-router and then transmit a non-SSH internet connection</p></blockquote></div><p>OpenWrt has ssh client out of the box. If you want to connect to non-SSH sites, you can install and use telnet or ftp clients as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186221">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						16 Dec 2012, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>And do you perhaps mean that you have a vpn connection, and if so, can you have a router connect to that and have other devices--wired and wireless--connect to your router and have access to the VPN connection.&nbsp; If that is the case, then yes you can.&nbsp; I understand that it can be done with openWrt, but I actually have it operating with dd-wrt using a WL-520gU (often available on sale from Newegg for around $30 US).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186222">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">charlesc56</div>
					<div class="post-datetime">
						16 Dec 2012, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello guys,<br />Thanks a lot for your replies. I must admit that I&#039;m not exactly an expert on this topic, so sorry for being unclear in the technical description of my problem. </p><p>It appears to me that the whole SSH system at my campus is just an internet connection firewall, and once you&#039;re plugged in with direct connection through cable, you have to establish the SSH connection with the so-called &quot;firewall server&quot; based on a given host name, user ID and password. For this purpose I use PuTTY, but there are several alternatives (in Mac and Linux it is doable in terminal with &#039;&#039;ssh -T -l username hostname&#039;&#039;). </p><p>Lizby: <br />The networking group at my campus call it a pseudo-tty-less ssh connection. As a matter of fact I can establish the connection with my computer through a router, and then the connection will be available to other wired/unwired devices. Although whenever the session is cancelled on that computer, all other devices will be disconnected.</p><p>My desire is to have this SSH-connecting functionality in a router, so that I&#039;m not required to manually establish the SSH connection each time on a wired computer that also has to be kept running even though it is unused. <br />If this is a trivial matter with OpenWrt, I apologize for not being able to find out myself, and I will dig into the documentation more deeply.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186223">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Dec 2012, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>It sounds to me that you might be looking for the sshtunnel package...<br /><a href="http://wiki.openwrt.org/doc/uci/sshtunnel">http://wiki.openwrt.org/doc/uci/sshtunnel</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186224">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">charlesc56</div>
					<div class="post-datetime">
						16 Dec 2012, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>Thanks hnyman, I will look into that.</p>											<p class="post-edited">(Last edited by <strong>charlesc56</strong> on 16 Dec 2012, 21:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186227">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						16 Dec 2012, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>Charles,</p><p>Sorry for being repetitive, but I still have no clue what you are trying to accomplish. Don&#039;t worry about SSH system on campus; don&#039;t worry about technical details - try to explain in simple words what you want to do.</p><p>For example, <em>I am trying to access campus computers from outside campus. And I can&#039;t do it because A, B, and C</em>. Or, <em>I am on campus network, and I try to get to Google, and I can&#039;t do it from smartphone because X, Y, and Z</em>. Several very experienced people (like lizby and hnyman) keep guessing what you are trying to say. Help us help you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186229">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						16 Dec 2012, 22:54					</div>
				</div>
				<div class="post-content content">
					<p>Ok, if I understand the problem correctly, you want your wan connection to be over ssh.&nbsp; Sorry, but I don&#039;t know anything about that.&nbsp; I read the sshtunnel wiki page, and didn&#039;t understand what was trying to be accomplished.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186236">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">charlesc56</div>
					<div class="post-datetime">
						17 Dec 2012, 01:27					</div>
				</div>
				<div class="post-content content">
					<p>ymhee, thank you for not losing patience with me. I know I&#039;m being a bit vague in the statement of my problem, but it&#039;s really quite simple and I have a feeling that there is a somewhat easy solution. It&#039;s definitely not something like a wan as I&#039;ve mislead lizby to believe :-)</p><p>All I want is to have an on-going session on my router that grants me access through the firewall. If I omit the router and plug my internet cable directly to my computer it is really easy to get this access by specifying hostname, username and password in PuTTY. Now, it would just be lovely to have a router that does this thing for me, so that I would in effect never have to think about SSH or firewalls when attempting to connect to the internet through this router regardless of which device is used. </p><p>So all in all I just want the functionality of a perfectly normal wireless router, like the one my parents have, where you can seamlessly connect any sort of device.</p><p>The sshtunnel package, as proposed by hnyman, might very well be the solution given that it apparently facilitates SSH server connections with specificed hostname and username. I can&#039;t conclude much from the short wiki page though. Could this be it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186239">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						17 Dec 2012, 02:00					</div>
				</div>
				<div class="post-content content">
					<p>Certainly if you ssh into your connection using your router, you could ssh into the router from your other wired/wireless devices, but I&#039;m not certain what that would give you.&nbsp; It still appears to me that you want a wired/wireless connection into your router to be &quot;bridged&quot; to the router&#039;s connection to the campus.&nbsp; That may not be the right terminology.&nbsp; &nbsp;</p><p>I used WAN (also perhaps not the right terminology) because your connection from the router to the campus effectively gives you your Wide Area Network access (or does it just give access to files in the campus network), and you want that made available to your other devices.&nbsp; Or I may still not have a very good idea of what you want to do.&nbsp; </p><p>&quot;So all in all I just want the functionality of a perfectly normal wireless router&quot; would seem to me to imply that the campus is providing your access to the internet, just as a cable/dsl modem would, so that&#039;s your WAN connection (tho I don&#039;t want to seem to be quibbling about terminology).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186245">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						17 Dec 2012, 05:38					</div>
				</div>
				<div class="post-content content">
					<p>OK, let&#039;s go line by line... one last time (at least for me).</p><div class="quotebox"><cite>charlesc56 wrote:</cite><blockquote><p>All I want is to have an on-going session on my router that grants me access through the firewall.</p></blockquote></div><p>That&#039;s not a requirement. It&#039;s a solution. And because it&#039;s expressed in somewhat ambiguous technical terms, it is difficult to understand. Get back to how your Cinema major roommate would explain what she is trying to do.</p><div class="quotebox"><cite>charlesc56 wrote:</cite><blockquote><p> If I omit the router and plug my internet cable</p></blockquote></div><p>Where is the other end of the &quot;internet cable&quot; going? To the wall? to some device? Who told you that this thingy is called &quot;internet cable&quot;? Somebody from college IS department? Geeky computer science major roommate?</p><div class="quotebox"><cite>charlesc56 wrote:</cite><blockquote><p>it is really easy to get this access ... in PuTTY.</p></blockquote></div><p>Tell me - why is it important for you to get this access? That is, once you get this access - what do you do next that you couldn&#039;t do before? (Note that I still don&#039;t understand what <em>this access</em> is, but I am not too worried about technical issues right now)</p><p>And what do your Cinema major roommates do in order to access Internet? I am sure college IS department is not forcing them to use PuTTY!</p><div class="quotebox"><cite>charlesc56 wrote:</cite><blockquote><p>So all in all I just want the functionality of a perfectly normal wireless router, like the one my parents have, where you can seamlessly connect any sort of device.</p></blockquote></div><p>I assume you mean connect any sort of device <strong>to the internet</strong>. (trust me, it&#039;s not obvious from other things you wrote). Your parents have a modem in addition to the router. The router allows to connect any sort of device to the modem. And modem connects the router to the internet. The router <em>may</em> pass the credentials to the provider or it may not. Try not to worry about it for now.</p><p>Note, how I didn&#039;t use any word that my 80-year old father wouldn&#039;t understand. Try to explain your problem in similarly simple words... Trust me, it will make it easier for people to understand you! When my wife takes her car to the mechanic, she usually says &quot;when I accelerate, the right side of the car makes a funny noise&quot;. It is much more informative than if she said &quot;When I switch gears, the axle doesn&#039;t pass the torque to the bearings&quot;.</p>											<p class="post-edited">(Last edited by <strong>ymhee_bcex</strong> on 18 Dec 2012, 00:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186300">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">charlesc56</div>
					<div class="post-datetime">
						17 Dec 2012, 18:28					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys,</p><p>I appreciate your replies and helpfulness, thank you :-)</p><p>lizby, you&#039;re entirely right; now I understand how you meant WAN. My campus is providing the access to the internet, and it is this internet connection that I want bridged to my other devices that do not support ssh. Imagine having something like PuTTY on a router, and then all connected devices would be able to use the internet connection freely with no worrying about the ssh protocol. In other words, the router would ideally take care of the ssh &quot;decryption&quot; (or maybe authorization is the right term), and devices would receive the internet connection like they would from a normal modem-router setup. <br />I wonder why this is not a common interest (my searches have found nothing on this).</p><p>ymhee, I apologize for still providing implicit information. My sole purpose is sharing my internet connection between devices, so when I said &#039;connect any sort of device&#039; [to the router], the implication was indeed that the router connection entails a viable internet connection -- I see that this is not necessarily obvious, my bad <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>The so-called, mysterious &#039;internet cable&#039; is just a term I used for the cable that is directly hooked up with the WAN (it connects to a port in the wall and goes into the WAN-port in my router).</p><p>And yes, my Cinema major roommate does not use PuTTY; the campus ISP group has developed a straight-forward utility for this that connects to the firewall servers, but because of bad coding (I suppose) it takes around 20 seconds to connect, whereas PuTTY connects instantly.</p><p>Thanks for the advice on being understandable, and well put with the mechanic-analogy; I will remember this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186304">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						17 Dec 2012, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>So in what way does this differ from an ordinary router-to-modem-to-the-world connection?</p><p>To make a connection with putty, you provide three pieces of information--the ip address to which you want to connect, then, when prompted, the login ID and password.&nbsp; Is there a reason why you cannot provide this information in your router--WAN IP, and authentication with ID and password?&nbsp; Have you tried that?</p><p>It&#039;s a side issue, but I don&#039;t understand how a connection through PuTTY gives you internet access with a browser.&nbsp; Is there some kind of helper program which runs on your PC to make a PuTTY connection an internet connection?&nbsp; Perhaps a proxy (getting into territory about which I know nothing)?</p><p>What is your output if, when connected, you run &quot;ipconfig&quot; from a command prompt (assuming Windows) or &quot;ifconfig&quot; (if Linux)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186316">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						17 Dec 2012, 22:06					</div>
				</div>
				<div class="post-content content">
					<p>i am totally newbie in this field, but i want to make a guess.. could it be possible that they use an ssh server only to &quot;login&quot; users? i mean, like you do on a hotspot, there is a capitive portal, you will be redirected there until you login with user and pass.. from that moment, your ip is &quot;enabled&quot; to surf the net.. i&#039;m thinking that they do the same thing with ssh, they simple enable the ip that do the ssh login to surf....</p><p>am I totally wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186318">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						17 Dec 2012, 22:24					</div>
				</div>
				<div class="post-content content">
					<p>@nebbia88,<br />This is exactly what my son suggested as well... except that I&#039;ve never seen a SSH-based hot spot. The whole point of captive portal is to get you to accept some terms and conditions before proceeding to the internet. In such case the owner of the portal will make some effort to prevent automatic registration.</p><p>On the other hand, it&#039;s a college campus; not a Starbucks. So, if you log in with your college credentials - it may be enough and no additional clicks are required. In such case probably the IP of the client is permitted to proceed to the internet. But if it is the router IP that gets authenticated - that would be little help for the actual clients. Worse - if router works as a router (that is, allocates IP addresses through DHCP), it is likely that those IPs will be on a different subnet completely.</p><p>Since OP can&#039;t ask the question clearly and I gave up trying to solicit anything cogent from him/her - the problem will likely remain unresolved.</p><p>To OP: Please read the <a href="http://www.catb.org/esr/faqs/smart-questions.html">classic book</a> about asking questions</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186319">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						17 Dec 2012, 22:30					</div>
				</div>
				<div class="post-content content">
					<p>if i can ask... if the router acts like a router with NAT, all requests should come from his wan ip, so hosts on lan side should surf ok, am I wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186341">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						18 Dec 2012, 00:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>if the router acts like a router with NAT, all requests should come from his wan ip</p></blockquote></div><p>Good point! </p><p>However, that would mean if students bring the simplest router, and plug 4 laptops in it - only the first one will need to authenticate. Kinda defeats the whole authentication purpose. Maybe whoever authenticates allows only a single connection (I remember the hotel hotspot allowed only two devices, and it showed me the hostnames and MAC addresses. For the third one I had to pay extra).</p>											<p class="post-edited">(Last edited by <strong>ymhee_bcex</strong> on 18 Dec 2012, 00:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186352">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						18 Dec 2012, 07:04					</div>
				</div>
				<div class="post-content content">
					<p>Maybe they only wants that &quot;someone&quot; has an accout, so they know who to look for in case of &quot;legal&quot; problems with his internet traffic....</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>