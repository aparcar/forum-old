<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54Gl flash to older and smaller version</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p221739">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lukass2000</div>
					<div class="post-datetime">
						5 Jan 2014, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi!<br />Have flashed openWRT adjustment 12.0 on my LinkSYS WRT54GL v1.1.<br />But now i have only free 800kb RAM and the router is verry slow.<br />So i would flash back to a older or smaler version, but the flash does not work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>I do not know what i can do now?<br />Nothing work, flash with the integrated flash method,<br />Flash with tftp <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Have anyone a tip for me how can i flash back?</p><p>THANKS <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221758">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						5 Jan 2014, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>If there&#039;s not enough ram to accept the bin into /tmp, I&#039;d recommend to flash the older firmware by tftp recovery mode. You can find by google various examples of how to do that. I don&#039;t know what is the difference between 54g which I had and 54gl, but what helped me: I&#039;ve set computer IP to 192.168.1.5, reset linksys and run tftp -i 192.168.1.1 put firmware.trx. To catch the right moment, when router awaits tftp upload, you can continuously ping to 192.168.1.1 right after the the reset, and once the first ping reply comes, run the tftp command. Do not use sysupgrade, but use the full firmware, maybe works with original too, but I don&#039;t know. Most probably you will have to try few times before you will have success, but tftp worked for me also on asus rt g32, which has only 16MB ram too and AA worked perfectly there, did numerous upgrades there (but it was a bit harder, because it leeched image from fttp server). On linksys, I have had problems with broadcom support for older 2.4 kelner, so I&#039;ve settled with dd-wrt, which worked fine.</p>											<p class="post-edited">(Last edited by <strong>nozombian</strong> on 5 Jan 2014, 22:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221759">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						5 Jan 2014, 23:04					</div>
				</div>
				<div class="post-content content">
					<p>&quot;Nothing work&quot; says nothing. Details please.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221765">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lukass2000</div>
					<div class="post-datetime">
						6 Jan 2014, 00:28					</div>
				</div>
				<div class="post-content content">
					<p>I power on the router, then the power led ist flashing any time.<br />then i can ping the router at 192.168.1.1, or i can login to the router with any browser.<br />if i go to firmware upgrade, i can selcet a other firmware (bin or trx file) and flash this, but any moment later i see only a white screen in the browser. Have used IE, FireFox, Chrome, all the same results <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Then i have downloaded tftp2.exe a windows tool.<br />Have selected the IP, Password is blank (have tested also with passwort) and select a firmware.<br />Upgrade fails i set to 30.<br />Then i click upgrade and power the router on.<br />But nothing is uploading or flashing <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Greetings <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221787">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 Jan 2014, 08:31					</div>
				</div>
				<div class="post-content content">
					<p>I can see the problem now.</p><p>For getting more RAM free you can check <a href="http://wiki.openwrt.org/doc/howto/generic.sysupgrade">http://wiki.openwrt.org/doc/howto/generic.sysupgrade</a> - there is a section &quot;Free up RAM&quot;. I&#039;m not sure however if you&#039;ll be able to get enough RAM.</p><p>Solution suggested by nozombian is more reliable, since CFE has plenty of free RAM. I&#039;m not sure why your CFE doesn&#039;t accept TFTP image during early boot process. Maybe your device doesn&#039;t have some variable set? Please check in OpenWrt values for:</p><div class="codebox"><pre><code>nvram get boot_wait
nvram get boot_time</code></pre></div><p>If &quot;boot_wait&quot; is other than &quot;on&quot;, you may need to change it. Also you can increase &quot;boot_time&quot; to some bigger value (it&#039;s in seconds). For example:</p><div class="codebox"><pre><code>nvram set wait_time=&quot;10&quot;
nvram set boot_wait=&quot;on&quot;
nvram commit</code></pre></div><p>Then you can try trick with tftp setup and powering device after that.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>