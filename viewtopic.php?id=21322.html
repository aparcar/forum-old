<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wlan0(mac80211): Interface type not supported</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p92393">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">routerstacker</div>
					<div class="post-datetime">
						7 Aug 2009, 06:32					</div>
				</div>
				<div class="post-content content">
					<p>HI all,</p><p>I&#039;ve done some search and nothing gives me an idea.&nbsp; My WRTSL54GS had 8.09 and wireless works fine with psk2.&nbsp; I upgraded to 8.09.1 and I lost wireless.&nbsp; After some work, I decided to wipe it and start from the beginning.&nbsp; </p><p>I can&#039;t seem to get it going.&nbsp; the wireless LED on the router does not light up anymore. Any suggestions?&nbsp; Thanks in advance.</p><p># /sbin/wifi up<br />wlan0(mac80211): Interface type not supported<br />wlan0(mac80211): Interface type not supported</p><p># opkg list_installed|grep apd<br />hostapd-mini - 0.6.6-1.1 - <br />hostapd-utils - 0.6.6-1.1 - </p><p># opkg list_installed|grep wpa<br />wpa-supplicant - 0.6.3-1.1 - </p><p> cat /etc/config/network</p><p>config &#039;switch&#039; &#039;eth0&#039;<br />&nbsp; &nbsp; option &#039;vlan0&#039; &#039;0 1 2 3 4 5u&#039;</p><p>config &#039;interface&#039; &#039;loopback&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;lo&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0&#039;<br />&nbsp; &nbsp; option &#039;macaddr&#039; &#039;00:14:BF:E5:35:95&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.11.129&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.224&#039;</p><p>config &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth1&#039;<br />&nbsp; &nbsp; option &#039;macaddr&#039; &#039;00:14:bf:e5:35:96&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;dhcp&#039;</p><p># cat /etc/config/wireless </p><p>config &#039;wifi-device&#039; &#039;wlan0&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;mac80211&#039;<br />&nbsp; &nbsp; option &#039;channel&#039; &#039;4&#039;<br />&nbsp; &nbsp; option &#039;disabled&#039; &#039;0&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; option &#039;device&#039; &#039;wlan0&#039;<br />&nbsp; &nbsp; option &#039;ssid&#039; &#039;test123&#039;<br />&nbsp; &nbsp; option &#039;network&#039; &#039;lan&#039;<br />&nbsp; &nbsp; option &#039;mode&#039; &#039;ap&#039;<br />&nbsp; &nbsp; option &#039;encryption&#039; &#039;psk2&#039;<br />&nbsp; &nbsp; option &#039;key&#039; &#039;abcdefghijklmnopq&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92394">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						7 Aug 2009, 06:44					</div>
				</div>
				<div class="post-content content">
					<p>Read on the main page:<br /><a href="http://openwrt.org">http://openwrt.org</a>/</p><p>This is an update of the 8.09 release, with the following notable changes:<br />* broken mac80211 drivers removed, updated versions will be available in next release</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92400">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ath</div>
					<div class="post-datetime">
						7 Aug 2009, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>If you need 2.6, try current trunk. The b43 driver should work without problems, as long as you have a 4306-based card.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92405">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">routerstacker</div>
					<div class="post-datetime">
						7 Aug 2009, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the pointers.&nbsp; I put 8.09 back instead of 8.09.1.&nbsp; I&#039;m still having problem.&nbsp; I know I&#039;m missing something. Please hit me.</p><br /><p># wifi up<br />Configuration file: /var/run/hostapd-wlan0.conf<br />Failed to update rate sets in kernel module<br />Mode: IEEE 802.11g&nbsp; Channel: 4&nbsp; Frequency: 2427 MHz<br />Failed to set CTS protect in kernel driver<br />Failed to set Short Slot Time option in kernel driver<br />Could not set preamble for kernel driver<br />Using interface wlan0 with hwaddr 00:10:18:90:20:db and ssid &#039;test123&#039;<br />Failed to set CTS protect in kernel driver<br />Failed to set Short Slot Time option in kernel driver<br />Could not set preamble for kernel driver</p><br /><p>from dmesg<br />b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)<br />b43-phy0 debug: Chip initialized<br />b43-phy0 debug: 32-bit DMA initialized<br />Registered led device: b43-phy0::radio<br />b43-phy0 debug: Wireless interface started<br />b43-phy0 debug: Adding Interface type 2<br />device wlan0 entered promiscuous mode<br />b43-phy0 debug: Removing Interface type 2<br />b43-phy0 debug: Wireless interface stopped<br />b43-phy0 debug: DMA-32 rx_ring: Used slots 2/64, Failed frames 0/0 = 0.0%, Average tries 0.00<br />b43-phy0 debug: DMA-32 tx_ring_AC_BK: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00<br />b43-phy0 debug: DMA-32 tx_ring_AC_BE: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00<br />b43-phy0 debug: DMA-32 tx_ring_AC_VI: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00<br />b43-phy0 debug: DMA-32 tx_ring_AC_VO: Used slots 2/128, Failed frames 0/5 = 0.0%, Average tries 1.00<br />b43-phy0 debug: DMA-32 tx_ring_mcast: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00<br />br-lan: port 2(wlan0) entering disabled state</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93024">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">andytiedye</div>
					<div class="post-datetime">
						22 Aug 2009, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>I tried both 8.09 and 8.09.1. </p><p>root@OpenWrt:~# /sbin/wifi<br />wl0(broadcom): Interface type not supported<br />wl0(broadcom): Interface type not supported</p><p>Is White Russian the only release thast supports the WRT-SL54GS?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93025">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Dogge</div>
					<div class="post-datetime">
						22 Aug 2009, 12:42					</div>
				</div>
				<div class="post-content content">
					<p>Try brcm47xx (2.6) TRUNK. Build latest TRUNK by yourself. Broadcom wireless (b43) in 8.09 or 8.09.1 will not work.</p>											<p class="post-edited">(Last edited by <strong>Dogge</strong> on 22 Aug 2009, 12:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93031">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">andytiedye</div>
					<div class="post-datetime">
						22 Aug 2009, 20:47					</div>
				</div>
				<div class="post-content content">
					<p>Odd that the last 2 release versions of OpenWRT won&#039;t work on a real WRT.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>