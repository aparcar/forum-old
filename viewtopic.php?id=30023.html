<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Dgnd3300</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p135269">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jbernardo</div>
					<div class="post-datetime">
						14 May 2011, 16:43					</div>
				</div>
				<div class="post-content content">
					<p>Hello all, I am trying to get openwrt on my DGND3300. The hardware in this is a BCM6358UKFBG, 29LV640DBTC 64mbit flash, EM6AA160TS-5G - 16M x 16 SDRAM, BCM4318EKFBG 802.11a/g, BCM4322LKFBG 802.11 a/n, and BCM5325EKQM6 100MB switch. What do you recommend I try, openwrt-bcm63xx-something from the trunk, or build my own - and if so what should I choose in the menu config, besides the obvious bcm63xx support?</p><p>Unfortunately, this thing doesn&#039;t have a JTAG or any row of solder points that might be one or a serial port, so I am a little afraid of bricking it beyond repair. But all in the name of science... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Also, telnetenable doesn&#039;t seem to work here (I tried some versions with no luck) so I couldn&#039;t get a kmsg output.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135307">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						15 May 2011, 11:28					</div>
				</div>
				<div class="post-content content">
					<p>To enable telnet, login to the router web interface as normal. Use my following URL as an example<br /><a href="http://192.168.0.1/start.htm&amp;todo=debug">http://192.168.0.1/start.htm&amp;todo=debug</a></p><p>Notice the &amp;todo=debug at the end. You should get a page that says &quot;Debug Enable&quot; at which point you can telnet in. Closest I&#039;ve come to getting anythign custom on mine is a static MIPS busybox that I put on a usb drive then copied to /tmp and chmod to 655 and run. I&#039;m not experienced enough to get kernel modules to compile against the built in firmware though. What I wanted to do was add swap support and a few other things. Then I was going to squid to the device. If you&#039;d really like to get to working on it, let me know. I actually have a version 1 and version 2 and have &quot;soft bricked&quot; them and recovered using the DG834 recovery tool from netgear. You&#039;ll need a real PC with Windows XP to do so though. Virtual machines won&#039;t work. Of course that is only if you brick it.</p><p>Another thing I&#039;ve done is rerolled the default rom. Get the open source file from netgear and follow the instructions. I removed smbd, nmbd and the wps programs before I remade the squashfs using their script. If I could find some way to add a jffs in there I suppose it&#039;d have about 3MB or so space if we stripped the default ROM down. Worst case we could roll an ext2 module and put the smbd and whatnot on a USB stick.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135317">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jbernardo</div>
					<div class="post-datetime">
						15 May 2011, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>Thanks! I guess I&#039;ll have to boot into windows then, to see what I can do with the dg834_recovery_utility, as there doesn&#039;t seem to be a way to launch tftp with it. Maybe if I can get it to work with &quot;regular&quot; firmware I&#039;ll be less afraid to try my own openwrt.<br />What I wanted to do was to completely replace the firmware - even if ADSL might be a little tricky to get working properly. I have a V1 and am in Europe, so a way to get it to work with the european wifi channels would be nice.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135324">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jbernardo</div>
					<div class="post-datetime">
						15 May 2011, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>Seems like it was a bad idea. The crap windows 7 (didn&#039;t have a machine with xp) crashed at the &quot;erasing eeprom&quot; stage, and now I have a bricked DGND3300. Time to install xp somewhere and see if it works.</p><p>EDIT: Forgot I had a XP partition in an old netbook. Managed to reflash with the utility, and the DGND3300 is unbricked now. Strange that this firmware doesn&#039;t support tftp but supports this odd proprietary protocol.</p>											<p class="post-edited">(Last edited by <strong>jbernardo</strong> on 15 May 2011, 18:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135341">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						16 May 2011, 02:32					</div>
				</div>
				<div class="post-content content">
					<p>Yea, you can&#039;t use vista or 7. Believe me, I tried. I happened to have a backup image of an old netbook&#039;s original XP install I can use too. Yea, I took a wireshark cap of a restore with it. It&#039;s some unknown protocol. Sends a few packets, then loads the file. I tried to decipher it and repeat it by sending the same packets via injection, but my skill was lacking. I was hoping to be able to figure out what packets &quot;opened&quot; the router to receive the firmware and then I could send my own(or a recovery imagine if I bricked it).</p><p>Glad to see you got it working. Maybe now you can start working without fear since you can recover it. One thing you might try for the extra wifi channels is pulling modules and such from the dgnd3300v2 worldwide firmware and rerolling them into the v1. Just watch out that you don&#039;t get too big to fit in flash. If you&#039;ve got any questions or want my help testing anything, feel free to ask. Add me on facebook &quot;Teb Tengri&quot; or MSN tului@live.com</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135814">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						23 May 2011, 04:30					</div>
				</div>
				<div class="post-content content">
					<p>Any update on this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135832">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						23 May 2011, 12:11					</div>
				</div>
				<div class="post-content content">
					<p>Usually CFE can be put into an emergency recovery mode by pressing and holding reset on powering on for a while (the power led often turns red when in this mode for many models); this should enable a web server on it which allows uploading images (usually on <a href="http://192.168.1.1/)">http://192.168.1.1/)</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135837">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jbernardo</div>
					<div class="post-datetime">
						23 May 2011, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi, no time yet to do more testing (I was on a business trip for some days). And unfortunately, for this model, keeping reset pressed while booting doesn&#039;t start any web server or allow tftp, it just sits there flashing alternatively red and green.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135839">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						23 May 2011, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>Hm, for me it takes ~15 seconds of pressing the reset button until it starts the emergency web server on my D-Link (after 5 seconds it erases the nvram, and after additional 10 seconds, it goes to recovery mode); but if it doesn&#039;t for you then netgear must have done something there <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" />.</p><p>Can you ping the device when its blinking? It should respond with a TTL of 100.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135841">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jbernardo</div>
					<div class="post-datetime">
						23 May 2011, 12:46					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think so, but I&#039;ll try again today, not only with the default 192.168.0.1 address, but also with 192.168.1.1 as you suggest.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p136154">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						29 May 2011, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s weird. It&#039;s like this model goes into a recovery mode that only responds to particular raw Ethernet packets. I used the DG834 utility to recover and saw them, just a few packets, then bulk file transfer, but it wasn&#039;t tftp that I could tell.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>