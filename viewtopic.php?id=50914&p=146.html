<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Optimized and feature rich trunk build for select routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 20 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 146 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=144.html">144</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=145.html">145</a></li><li class="pagination-current"><span>146</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=147.html">147</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=148.html">148</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p326179">
				<div class="post-metadata">
					<div class="post-num">Post #3626</div>
					<div class="post-author">manus</div>
					<div class="post-datetime">
						28 May 2016, 01:16					</div>
				</div>
				<div class="post-content content">
					<p>@arokh you can download the patch for NetGear R8000 clock:<br/><a href="https://www.geekstreet.fr/download/public/r8000/903-ARM-BCM5301X-Fix-fixed-clock-frequency-for-some-devi.patch">https://www.geekstreet.fr/download/publ … devi.patch</a><br/>You need to fix feeds\packages\net\strongswan\Makefile in your source because the MD5 is the one of version 5.4.0 instead of 5.3.5 or update strongswan to package 5.4.0. I did it, it build without error, but I think I did it dirty. My updated files:<br/><a href="https://www.geekstreet.fr/download/public/r8000/strongswan-5.4.0-101-musl-fixes.patch">https://www.geekstreet.fr/download/publ … ixes.patch</a><br/><a href="https://www.geekstreet.fr/download/public/r8000/strongswan-5.4.0-Makefile">https://www.geekstreet.fr/download/publ … 0-Makefile</a></p><p>My squashfs with clock fix and strongswan 5.4.0:<br/><a href="https://www.geekstreet.fr/download/public/r8000/manus-r49166-openwrt-bcm53xx-netgear-r8000-squashfs.chk">https://www.geekstreet.fr/download/publ … uashfs.chk</a></p><p>For information the clock driver is integrated in Kernel 4.5 for the R8000.<br/>I hope Kernel 4.5 will be quickly integrated in OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326517">
				<div class="post-metadata">
					<div class="post-num">Post #3627</div>
					<div class="post-author">Max-q</div>
					<div class="post-datetime">
						31 May 2016, 00:31					</div>
				</div>
				<div class="post-content content">
					<p>@all</p><p>i have a very strange issue tried clean installation of latest build.<br/>As soon I install some luci related stuff like luci-app-openvpn the permissions for folder /etc and /config are changed from 755 to 700, maybe some other folders too.<br/>I can reproduce this every time.<br/>Anyone else have seen this problem?</p><p>My router is a WRT 1900 ACS</p><p>Also I have problems to get Statistics to work still, I cant see any Tabs in the statistic--&gt; Graphs Menu.<br/>I tried this on a clean 15.05.1 version and this worked fine.<br/>Anyone who can help?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326534">
				<div class="post-metadata">
					<div class="post-num">Post #3628</div>
					<div class="post-author">ssyspro</div>
					<div class="post-datetime">
						31 May 2016, 03:36					</div>
				</div>
				<div class="post-content content">
					<p>I also have a WRT 1900 ACS and have been experiencing issues part maybe due to opkg using the default openwrt snapshots trunk.</p><p>But biggest issue is that when I try to enable VLAN dhcp and a few other services fail, and I think its because I need the switch kernel module ( kmod-switch-mvsw61xx ) and snapshot version does not like the kernel version we are using can we get a version for our kernel added to the package repository please?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326652">
				<div class="post-metadata">
					<div class="post-num">Post #3629</div>
					<div class="post-author">BigThunder</div>
					<div class="post-datetime">
						1 Jun 2016, 01:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max-q wrote:</cite><blockquote><p>@all</p><p>i have a very strange issue tried clean installation of latest build.<br/>As soon I install some luci related stuff like luci-app-openvpn the permissions for folder /etc and /config are changed from 755 to 700, maybe some other folders too.<br/>I can reproduce this every time.<br/>Anyone else have seen this problem?</p><p>My router is a WRT 1900 ACS</p><p>Also I have problems to get Statistics to work still, I cant see any Tabs in the statistic--&gt; Graphs Menu.<br/>I tried this on a clean 15.05.1 version and this worked fine.<br/>Anyone who can help?</p></blockquote></div><p>Run an &quot;opkg update&quot; and upgrade the available packages. They released new packages earlier today that fixed this issue on my WRT1900 ACS.</p><br/><p>@arokh - Thanks a lot for everything you have done to create this build!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326774">
				<div class="post-metadata">
					<div class="post-num">Post #3630</div>
					<div class="post-author">Max-q</div>
					<div class="post-datetime">
						1 Jun 2016, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>Upgrade of packages solved the problems :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327004">
				<div class="post-metadata">
					<div class="post-num">Post #3631</div>
					<div class="post-author">A6ix</div>
					<div class="post-datetime">
						3 Jun 2016, 17:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Oh, that would probably be this in /etc/firewall.user:</p><div class="codebox"><pre><code># Force all DNS requests to go through dnscrypt
LANIP=`uci get network.lan.ipaddr`
iptables -t nat -A prerouting_rule ! -d $LANIP -p udp --dport 53 -j REDIRECT
iptables -t nat -A prerouting_rule ! -d $LANIP -p tcp --dport 53 -j REDIRECT</code></pre></div></blockquote></div><p>I&#039;m trying to figure out a way to have DNSCrypt Proxy work for two of my devices (only) but at the same time be able to change DNS servers on my PC&#039;s IPv4 DNS servers settings to have a different DNS than the resolver2.dnscrypt.eu server used via DNSCrypt Proxy...</p><p>My problem is resolver2.dnscrypt.eu is forced on all my devices, but I do not want it for all, but I do want it for 2 devices.</p><p>Can you please help me?</p>											<p class="post-edited">(Last edited by <strong>A6ix</strong> on 3 Jun 2016, 17:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327801">
				<div class="post-metadata">
					<div class="post-num">Post #3632</div>
					<div class="post-author">cognitiveliberty</div>
					<div class="post-datetime">
						9 Jun 2016, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>@A6ix</p><p>I&#039;m still a bit of a noob so my advice may be wrong but perhaps you can use iptables to make the dnscrypt-proxy only for the 10.1.1.1 vpn subnet and then manually set the ip (or dns resolver) for those two devices in 10.1.1.1.</p><p>@arokh <br/>I&#039;ve been using OpenVPN for quite a while and the performance has been reasonably good but i&#039;m thinking of switching over to IKEv2 because it has stock compatibility with android. Should I expect to get the same performace as OpenVPN and which out of the two do you personally prefer. </p><p>Also big thanks and appreciation for the work you put into these builds <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>											<p class="post-edited">(Last edited by <strong>cognitiveliberty</strong> on 9 Jun 2016, 16:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327885">
				<div class="post-metadata">
					<div class="post-num">Post #3633</div>
					<div class="post-author">moxu</div>
					<div class="post-datetime">
						10 Jun 2016, 08:44					</div>
				</div>
				<div class="post-content content">
					<p>@max-q how did you update all the packages?</p><div class="quotebox"><blockquote><p>I&#039;m trying to figure out a way to have DNSCrypt Proxy work for two of my devices (only) but at the same time be able to change DNS servers on my PC&#039;s IPv4 DNS servers settings to have a different DNS than the resolver2.dnscrypt.eu server used via DNSCrypt Proxy...<br/>My problem is resolver2.dnscrypt.eu is forced on all my devices, but I do not want it for all, but I do want it for 2 devices.<br/>Can you please help me?<br/>]</p></blockquote></div><p>@A6ix There&#039;s some documentation on&nbsp; lede&#039;s page on uci-dnsmasq that might be helpful: <a href="https://www.lede-project.org/docs/uci_dnsmasq.html">https://www.lede-project.org/docs/uci_dnsmasq.html</a></p><p>Basically, you can define which dns records to each client individually, and arokh&#039;s firewall only covers port 53, so you don&#039;t have to disable that either, if you can configure a different dns port. I personally use `luci-app-commands` to change the resolvers easily with uci because I have some services that integrate better with different resolvers. But you should probably ask in a general thread for more advice. </p><p>@all fyi using the pi-hole list with adblock - I&#039;m running close to 100,000 sites in the &#039;bad_list&#039; - not only can this build handle it (tplink-wdrxxxx) it&#039;s using less memory than with 60,000, or so it seems. And the wdrxxx set has less features than&nbsp; the general builds because of memory constraints. I&#039;m also not using any external storage, it just works, and I assume it should work for most. Here&#039;s the config:</p><div class="codebox"><pre><code>config adblock config
    option &#039;enabled&#039; &#039;1&#039;
    option &#039;pixel_server_ip&#039; &#039;192.168.3.254&#039;
    option &#039;hosts_file&#039; &#039;/tmp/hosts/hosts.bad&#039;
    list whitelist_domains &#039;ads.hulu.com tc.tradetracker.net www.econda-monitor.de&#039;
    list bad_hosts &#039;http://adblock.gjtech.net/?format=unix-hosts&#039;
    list bad_hosts &#039;http://mirror1.malwaredomains.com/files/justdomains&#039;
    list bad_hosts &#039;http://hosts-file.net/.\ad_servers.txt&#039;
    list bad_hosts &#039;http://sysctl.org/cameleon/hosts&#039;
    list bad_hosts &#039;https://zeustracker.abuse.ch/blocklist.php?download=domainblocklist&#039;
    list bad_hosts &#039;https://s3.amazonaws.com/lists.disconnect.me/simple_tracking.txt&#039;
    list bad_hosts &#039;https://s3.amazonaws.com/lists.disconnect.me/simple_ad.txt&#039;
    list bad_hosts &#039;https://raw.githubusercontent.com/quidsup/notrack/master/trackers.txt&#039;</code></pre></div><p><a href="https://github.com/pi-hole/pi-hole">https://github.com/pi-hole/pi-hole</a> is the source, I love the gui, but i just have a bad feeling about piholes security model (aka doesn&#039;t have one). It was fun to watch the graphs, and it blocked more than this build or the other adblock, but then i looked at the source of all three, and I realized simplicity is really powerful, and the router can handle blocking way more sites than I anticipated, without a noticeable performance decrease on my end. Can&#039;t promise it&#039;ll be as graceful with everyone&#039;s setup, but it&#039;s pretty cool.</p>											<p class="post-edited">(Last edited by <strong>moxu</strong> on 10 Jun 2016, 08:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327981">
				<div class="post-metadata">
					<div class="post-num">Post #3634</div>
					<div class="post-author">Max-q</div>
					<div class="post-datetime">
						11 Jun 2016, 00:28					</div>
				</div>
				<div class="post-content content">
					<p>You can update all packages at once with</p><p>opkg list-upgradable | awk -F &#039; - &#039; &#039;{print $1}&#039; | xargs opkg upgrade</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328172">
				<div class="post-metadata">
					<div class="post-num">Post #3635</div>
					<div class="post-author">ezarlive</div>
					<div class="post-datetime">
						12 Jun 2016, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi Arokh, first off, thanks for the great work you do. Big fan. <br/>Can you please update the release?<br/>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328402">
				<div class="post-metadata">
					<div class="post-num">Post #3636</div>
					<div class="post-author">olivaar</div>
					<div class="post-datetime">
						14 Jun 2016, 10:52					</div>
				</div>
				<div class="post-content content">
					<p>Can you please add more resolver in the dnscrypt-proxy configuration</p><p>atm there is only one in the config-file /etc/config/dnscrypt-proxy<br/>today i had an issue, with the&nbsp; resolver &#039;dnscrypt.eu-dk&#039; and the following error</p><p>daemon.info dnscrypt-proxy[1567]: [ERROR] Unable to retrieve server certificates</p><p>no name resolution was working<br/>after checking and adding some more resolver everything was ok</p>											<p class="post-edited">(Last edited by <strong>olivaar</strong> on 14 Jun 2016, 10:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328441">
				<div class="post-metadata">
					<div class="post-num">Post #3637</div>
					<div class="post-author">shatazer</div>
					<div class="post-datetime">
						14 Jun 2016, 16:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>olivaar wrote:</cite><blockquote><p>Can you please add more resolver in the dnscrypt-proxy configuration</p><p>atm there is only one in the config-file /etc/config/dnscrypt-proxy<br/>today i had an issue, with the&nbsp; resolver &#039;dnscrypt.eu-dk&#039; and the following error</p><p>daemon.info dnscrypt-proxy[1567]: [ERROR] Unable to retrieve server certificates</p><p>no name resolution was working<br/>after checking and adding some more resolver everything was ok</p></blockquote></div><p>This happened to me as well.&nbsp; Was banging my head trying to figure out what was going on.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328448">
				<div class="post-metadata">
					<div class="post-num">Post #3638</div>
					<div class="post-author">olivaar</div>
					<div class="post-datetime">
						14 Jun 2016, 16:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>shatazer wrote:</cite><blockquote><p>This happened to me as well.&nbsp; Was banging my head trying to figure out what was going on.</p></blockquote></div><p>Me too, from 6 in the morning for 3,5 h<br/>i think about an error at the internet provider<br/>maybe the log message should be more precise -&gt; ERROR, Unable to retrieve server certificates No DNS available</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328455">
				<div class="post-metadata">
					<div class="post-num">Post #3639</div>
					<div class="post-author">jamsandjax</div>
					<div class="post-datetime">
						14 Jun 2016, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve noticed dnscrypt.eu-dk has been unstable for the past few months so i&#039;ve switched over to dnscrypt.eu-nl and been fine.<br/>You need to edit the /etc/config/dnscrypt-proxy file and change from dk to nl or even to cisco (opendns) and then either restart the dnscrypt service or reboot the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328470">
				<div class="post-metadata">
					<div class="post-num">Post #3640</div>
					<div class="post-author">highpost</div>
					<div class="post-datetime">
						14 Jun 2016, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>Thanks @jamsandjax. That fixed my problem as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328499">
				<div class="post-metadata">
					<div class="post-num">Post #3641</div>
					<div class="post-author">harpingon</div>
					<div class="post-datetime">
						14 Jun 2016, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>Me also. I was seriously confused with why my DNS queries were periodically failing, including most of today I switched to the cisco proxy, and everything is working again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328552">
				<div class="post-metadata">
					<div class="post-num">Post #3642</div>
					<div class="post-author">moxu</div>
					<div class="post-datetime">
						15 Jun 2016, 12:33					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://github.com/jedisct1/dnscrypt-proxy/blob/master/dnscrypt-resolvers.csv">https://github.com/jedisct1/dnscrypt-pr … olvers.csv</a></p><p>That list is up to date - locally it&#039;s found in /usr/share/dnscrypt-proxy/dnscrypt-resolvers.csv - I usually swap it out with the latest list every few weeks. And editing the resolver is in the /etc/config/, I&#039;ve even set up luci-app-commands to automate with uci</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328678">
				<div class="post-metadata">
					<div class="post-num">Post #3643</div>
					<div class="post-author">pinion</div>
					<div class="post-datetime">
						16 Jun 2016, 05:48					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve never been able to get the adblocking to work. Anyone have some tips? I ssh&#039;d in and did this but I still see ads&nbsp; around the web and also here: <a href="http://ads-blocker.com/testing/">http://ads-blocker.com/testing/</a><br/></p><div class="codebox"><pre><code>root@OpenWrt ~# /etc/init.d/adblock enable
root@OpenWrt ~# /etc/init.d/adblock start</code></pre></div><p>I did a vi /etc/config/adblock and looked at the config and left it alone because it looked fine. To further test later though I added the EasyList to the end &quot;<a href="https://easylist-downloads.adblockplus.org/easylist.txt">https://easylist-downloads.adblockplus.org/easylist.txt</a>&quot; and then restarted the service. Still did nothing.. I noticed that my /tmp/hosts/hosts.bad file is also 0 bytes which I would assume should have the lists downloaded into it?</p><p>EDIT: I&#039;ve been going back through and I realized I asked this same thing back in March and arokh told me to do a clean install. I flashed a fresh install tonight before I did these things. Any other alternatives to get adblockign working?</p>											<p class="post-edited">(Last edited by <strong>pinion</strong> on 16 Jun 2016, 05:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328718">
				<div class="post-metadata">
					<div class="post-num">Post #3644</div>
					<div class="post-author">jamsandjax</div>
					<div class="post-datetime">
						16 Jun 2016, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>So if you go to System&gt;Startup, adblock is showing as enabled there?&nbsp; Also, what is the system log saying when you enable/start the adblock service?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328801">
				<div class="post-metadata">
					<div class="post-num">Post #3645</div>
					<div class="post-author">pinion</div>
					<div class="post-datetime">
						17 Jun 2016, 03:56					</div>
				</div>
				<div class="post-content content">
					<p>EDIT: I think I got this fixed now but I&#039;m leaving all this below<br/>------<br/>It is enabled. When I click start and look at syslog it looks like it could be running out of memory:<br/></p><div class="codebox"><pre><code>Out of memory: Kill process 20661</code></pre></div><p>EDIT: Tried a few other things like throwing a usb stick in there that I had used before. I then enabled swap on it, not sure if swap actually works with it already mounted with files on it because I can still cd to it and see the files. But it is formatted ext4 if I remember...</p><p>Here is a paste of the log after clicking start on adblock: <a href="https://ghostbin.com/paste/wm4s5">https://ghostbin.com/paste/wm4s5</a></p><p>EDIT2: Further testing I decided that it&#039;s possible it can&#039;t handle all the block lists. I backed up the adblock config<br/></p><div class="codebox"><pre><code>root@OpenWrt ~# cp /etc/config/adblock /etc/config/adblock.old</code></pre></div><p>and then I removed all the bad hosts lines except the first. Now I see that it loaded some bad hosts where as before it kept saying 0<br/></p><div class="codebox"><pre><code>daemon.info dnsmasq[4554]: read /tmp/hosts/hosts.bad - 2393 addresses</code></pre></div><p>I&#039;m going to assume this is fixed and I&#039;m going to add the lists back in a few at a time. Posting this here for when I can&#039;t figure this out in the future. Thanks for the good questions that helped me get here!</p><br/><p>EDIT3: A bit more info. As I was adding them in I noticed that one of them was giving me &quot;Killed...&quot; after the line with &quot;Tidying up the hosts file...&quot; When I removed this line from the config everything worked fine<br/></p><div class="codebox"><pre><code>    list bad_hosts &#039;http://hosts-file.net/.\ad_servers.txt&#039;</code></pre></div><p>And the best part is ads are being blocked finally!</p>											<p class="post-edited">(Last edited by <strong>pinion</strong> on 17 Jun 2016, 04:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328919">
				<div class="post-metadata">
					<div class="post-num">Post #3646</div>
					<div class="post-author">starki</div>
					<div class="post-datetime">
						18 Jun 2016, 09:55					</div>
				</div>
				<div class="post-content content">
					<p>@arokh are you going to make any build for tplink AC2600 with source from lede-project?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328993">
				<div class="post-metadata">
					<div class="post-num">Post #3647</div>
					<div class="post-author">abunimeh</div>
					<div class="post-datetime">
						19 Jun 2016, 07:30					</div>
				</div>
				<div class="post-content content">
					<p>@arokh</p><p>You mentioned you lost a bit of interest in OpenWRT. I am curious what other projects are you working on. May be we can find one of your fine builds somewhere else.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328994">
				<div class="post-metadata">
					<div class="post-num">Post #3648</div>
					<div class="post-author">abunimeh</div>
					<div class="post-datetime">
						19 Jun 2016, 07:30					</div>
				</div>
				<div class="post-content content">
					<p>@arokh</p><p>You mentioned you lost a bit of interest in OpenWRT. I am curious what other projects are you working on. May be we can find one of your fine builds somewhere else.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329114">
				<div class="post-metadata">
					<div class="post-num">Post #3649</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						20 Jun 2016, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>@starki</p><p>If I do make new builds, I&#039;ll probably rebase on lede-project as it seems most devs moved there.</p><p>@abunimeh</p><p>I&#039;m still running the latest build on my router and it works perfectly. It does everything I want, so for the moment there is no motivation for me to do anything. At the moment I&#039;m doing LibreELEC community builds, nothing router related <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p329115">
				<div class="post-metadata">
					<div class="post-num">Post #3650</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						20 Jun 2016, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>@starki</p><p>If I do make new builds, I&#039;ll probably rebase on lede-project as it seems most devs moved there.</p><p>@abunimeh</p><p>I&#039;m still running the latest build on my router and it works perfectly. It does everything I want, so for the moment there is no motivation for me to do anything. At the moment I&#039;m doing LibreELEC community builds, nothing router related <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 3651 to 3650 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 146 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=144.html">144</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=145.html">145</a></li><li class="pagination-current"><span>146</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=147.html">147</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=148.html">148</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>