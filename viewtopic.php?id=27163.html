<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cannot compile C program.. Please help !!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p120133">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xuraj</div>
					<div class="post-datetime">
						1 Nov 2010, 09:08					</div>
				</div>
				<div class="post-content content">
					<p>I am trying to compile a C program so that I can run it on WRT54g router. But it keeps on giving error....</p><p>I am using OpenWrt-SDK-Linux-i686-1</p><p>I followed the tutorial on this page:<br /><a href="http://manoftoday.wordpress.com/2007/10/11/writing-and-compiling-a-simple-program-for-openwrt/">http://manoftoday.wordpress.com/2007/10 â€¦ r-openwrt/</a></p><p>Here is the Makefile:</p><p>include $(TOPDIR)/rules.mk<br />PKG_NAME:=Server<br />PKG_RELEASE:=1<br />PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)<br />include $(INCLUDE_DIR)/package.mk<br />define Package/Server<br />&nbsp; &nbsp; SECTION:=utils<br />&nbsp; &nbsp; CATEGORY:=Utilities<br />&nbsp; &nbsp; TITLE:=Server<br />endef<br />define Build/Prepare<br />&nbsp; &nbsp; mkdir -p $(PKG_BUILD_DIR)<br />&nbsp; &nbsp; $(CP) ./src/* $(PKG_BUILD_DIR)/<br />endef<br />define Package/Server/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/bin<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_BUILD_DIR)/Server $(1)/bin/<br />endef<br />$(eval $(call BuildPackage,Server))</p><p>But when I run &#039;make V=99&#039; I get following messages:</p><p>xuraj@xuraj-laptop:~/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1$ make V=99</p><p>make package/compile<br />make[1]: Entering directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1&#039;<br />Collecting package info...<br />make -C package compile SDK=1<br />make[2]: Entering directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package&#039;<br />Makefile:11: /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/.pkgdeps: No such file or directory<br />make[2]: Leaving directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package&#039;<br />make[2]: Entering directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package&#039;<br />make -j1 compile-targets<br />make[3]: Entering directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package&#039;<br />mkdir -p /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/stamp<br />mkdir -p /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/root<br />make -C Server compile<br />Rebuilding /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/bin/packages/Server_1_mipsel.ipk<br />make[4]: Entering directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package/Server&#039;<br />mkdir -p /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server<br />cp -fpR ./src/* /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/<br />touch /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/.prepared<br />(cd /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/; if [ -x configure ]; then AR=mipsel-linux-uclibc-ar AS=&quot;mipsel-linux-uclibc-gcc -c -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; LD=mipsel-linux-uclibc-ld NM=mipsel-linux-uclibc-nm CC=&quot;mipsel-linux-uclibc-gcc&quot; GCC=&quot;mipsel-linux-uclibc-gcc&quot; CXX=mipsel-linux-uclibc-g++ RANLIB=mipsel-linux-uclibc-ranlib STRIP=mipsel-linux-uclibc-strip OBJCOPY=mipsel-linux-uclibc-objcopy CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; CXXFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; CPPFLAGS=&quot;-I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include&quot; LDFLAGS=&quot;-L/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib -L/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib&quot; PKG_CONFIG_PATH=&quot;/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib/pkgconfig&quot; PKG_CONFIG_LIBDIR=&quot;/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib/pkgconfig&quot;&nbsp; ./configure --target=mipsel-linux --host=mipsel-linux --build=i486-linux-gnu --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib --sysconfdir=/etc --datadir=/usr/share --localstatedir=/var --mandir=/usr/man --infodir=/usr/info --disable-nls ; fi; )<br />touch /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/.configured<br />CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include &quot; LDFLAGS=&quot;-L/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib -L/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib &quot; make -C /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server AR=mipsel-linux-uclibc-ar AS=&quot;mipsel-linux-uclibc-gcc -c -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; LD=mipsel-linux-uclibc-ld NM=mipsel-linux-uclibc-nm CC=&quot;mipsel-linux-uclibc-gcc&quot; GCC=&quot;mipsel-linux-uclibc-gcc&quot; CXX=mipsel-linux-uclibc-g++ RANLIB=mipsel-linux-uclibc-ranlib STRIP=mipsel-linux-uclibc-strip OBJCOPY=mipsel-linux-uclibc-objcopy CROSS=&quot;mipsel-linux-uclibc-&quot; CXXFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include &quot; ARCH=&quot;mipsel&quot; ;<br />make[5]: Entering directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server&#039;<br />mipsel-linux-uclibc-gcc -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include -I/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include&nbsp; -c Server.c<br />mipsel-linux-uclibc-gcc -L/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib -L/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib&nbsp; Server.o -o Server<br />make[5]: Leaving directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server&#039;<br />touch /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/.built<br />mkdir -p /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL<br />echo &quot;Package: Server&quot; &gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />echo &quot;Version: 1&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />( DEPENDS=&#039;&#039;; for depend in ; do DEPENDS=${DEPENDS:+$DEPENDS, }${depend##+}; done; echo &quot;Depends: $DEPENDS&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control; )<br />echo &quot;Source: package/Server&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />echo &quot;Section: utils&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />echo &quot;Priority: optional&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />echo &quot;Maintainer: OpenWrt Developers Team &lt;openwrt-devel@openwrt.org&gt;&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />echo &quot;Architecture: mipsel&quot; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />echo &quot;Description: XurajCarServer&quot; | sed -e &#039;s,\\,\n,g&#039; | sed -e &#039;s,^[[:space:]]*$, .,g&#039; &gt;&gt; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />chmod 644 /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL/control<br />(cd /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/CONTROL; var2file &quot;V_Package_Server_conffiles&quot; conffiles; var2file &quot;V_Package_Server_preinst&quot; preinst; var2file &quot;V_Package_Server_postinst&quot; postinst; var2file &quot;V_Package_Server_prerm&quot; prerm; var2file &quot;V_Package_Server_postrm&quot; postrm; )<br />install -d -m0755 /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/bin<br />install -m0755 /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/Server /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/bin/<br />mkdir -p /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/bin/packages<br />find /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server -name CVS | xargs rm -rf<br />find /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server -name .svn | xargs rm -rf<br />find /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server -name &#039;.#*&#039; | xargs rm -f<br />STRIP=&quot;/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/sstrip&quot; STRIP_KMOD=&quot;mipsel-linux-uclibc-strip --strip-unneeded --remove-section=.comment&quot; /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/scripts/rstrip.sh /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server<br />rstrip.sh: /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server/bin/Server:executable<br />ipkg-build -c -o 0 -g 0 /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/build_mipsel/Server/ipkg/Server /home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/bin/packages<br />Server<br />*** Error: Package name&nbsp; contains illegal characters, (other than [a-z0-9.+-])</p><p>ipkg-build: Please fix the above errors and try again.<br />make[4]: *** [/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/bin/packages/Server_1_mipsel.ipk] Error 1<br />make[4]: Leaving directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package/Server&#039;<br />make[3]: *** [Server-compile] Error 2<br />make[3]: Leaving directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package&#039;<br />make[2]: *** [compile] Error 2<br />make[2]: Leaving directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1/package&#039;<br />make[1]: *** [package/compile] Error 2<br />make[1]: Leaving directory `/home/xuraj/Desktop/ClientServerC/OpenWrt-SDK-Linux-i686-1&#039;<br />make: *** [world] Error 2</p><p>I dont think I used any illegal characters anywhere..<br />Please help me..<br />I need this for my final project..<br />Thank You.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120134">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">xuraj</div>
					<div class="post-datetime">
						1 Nov 2010, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>By the way I am using Ubuntu 9.10 on HP Mini.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>