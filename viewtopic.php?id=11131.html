<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> brcm-2.6 wifi support workaround</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50266">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mgc8</div>
					<div class="post-datetime">
						11 Jun 2007, 21:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>release.txt wrote:</cite><blockquote><p>There are 8 supported architectures listed below, with support for many more in progress. Almost all of these platforms are based on 2.6 kernels with the exception of Broadcom -- Sorry; we couldn&#039;t get a stable wifi connection on 2.6.</p></blockquote></div><p>This is a quote from the Kamikaze 7.06 release notes. I have also played around with the bcm43xx wifi driver (I believe this is the one mentioned here) and the results were not that great (at least on newer hardware -- wifi chipset 4311 or 4318; it seeems to work on 4306)...</p><p>The bcm43xx project is progressing, but unfortunately it has not yet reached a usable state for most people. On the other hand, the wl.o binary that is used with the 2.4 kernel works great, there just seems not to be any 2.6 version available (and there is no way to know if it will ever be). Also the 2.4 kernel series is starting to get old, with new and useful features implemented only in 2.6 (like dm-crypt, fuse, and various rtc drivers to name a few).</p><p>What I would like to suggest is a temporary workaround, at least until the bcm43xx driver matures (and this may take from a few months to a year): to write a wrapper-module for 2.6 that can load the binary 2.4 wl.o. I know it is not an &quot;elegant&quot; solution, but apparently there are no alternatives (if someone knows of any please be so kind and share them).</p><p>Regarding the technical aspects, I am sure it can be done, after all we have windows drivers running in linux via ndiswrapper -- this should be comparatively easier. I haven&#039;t studied the problem in detail though and my kernel-fu is quite limited, so if there are other interested people please reply here and let&#039;s work toward this goal. I think a good starting point would be to find out exactly what functions/symbols are used by the wl.o driver and see how difficult it is to wrap the 2.4 calls in 2.6 ones.</p><p>What do you think?</p><p>Best regards,<br />--<br />Mihnea</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50270">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Bartman007</div>
					<div class="post-datetime">
						11 Jun 2007, 22:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mgc8 wrote:</cite><blockquote><p>... write a wrapper-module for 2.6 that can load the binary 2.4 wl.o. I know it is not an &quot;elegant&quot; solution, but apparently there are no alternatives (if someone knows of any please be so kind and share them).</p></blockquote></div><p>The options are to wait for bcm43xx, or use brcm-2.4.&nbsp; If creating a wrapper for the 2.4 kernel module was feasible, it would have been done.&nbsp; Any time spent on it would be a waste, there are plenty of other good platforms out there, and many Broadcom boards use mini-PCI wireless cards that could easily be replaced with cards that have drivers for the 2.6 kernel.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>