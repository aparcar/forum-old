<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Hotspot portal and DNS resolution</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p294148">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Cedricazn</div>
					<div class="post-datetime">
						1 Oct 2015, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>We are developing a captive login page, to use with Coova (Open WRT based on White Russian)<br />We need some social network login to allow people to have Internet access.<br />Everything works fine when the rooter has just finished booting ( a WRT54GL ).<br />But after a while, people are not able anymore to access to social login ( especially Twitter or Instagram, no problem with Facebook ) : error timeout!<br />We have added all the correct domains to the Walled Garden.</p><p>We are thinking it is because a wrong, or late, DNS resolution.<br />We set-up OpenDNS in Network =&gt;DNS Servers.<br />Of course we cannot use the IP of these websites.<br />It seems to decrease the “Interim Interval” could do the trick, because it reloads the DNS cache, but it also forces the radius to send back the config. And we plan to use this system with many routers.</p><p>Any other parameters or trick we could use ?</p><p>Thanks by advance,<br />Cedric</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294162">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						1 Oct 2015, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>Interesting. <br />My guess also would be related to openDNS, as I have setup coova-chilli as CP on OM, on various TP-Links etc. running self-compiled openwrt/coova in various flavours (NOT White Russian).<br />Social login via fb, tw, g+. No problems.<br />But I always had my own local dnscache within router.</p><p>Did you try to use googles DNS (8.8.8.8), for example ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294166">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Cedricazn</div>
					<div class="post-datetime">
						1 Oct 2015, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello Augustus,</p><p>Yes we tried also with the Google DNS, but no more luck.<br />It seems the DNS are good, no matter we use Google or OpenDNS... just out of date after a while.<br />Is there a place in OpenWRT where we can set-up the DNS refresh interval? <br />We are not able to find that!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294191">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						1 Oct 2015, 14:02					</div>
				</div>
				<div class="post-content content">
					<p>No idea. <br />You might use &quot;Brute Force&quot;: Restart your DNS-cache periodically. At least to confirm, that it is DNS-related.<br />I have seen some latency in the browser, when opening a page with a lot of objects, mostly ads, via openwrt-router.<br />These ad-sites usually use some type of dynamic DNS, switching their IPs or using CDNs.<br />*May be*, something similar.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>