<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Dlink DCS-933L + 932L and soon 942L</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p267067">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">iconnor</div>
					<div class="post-datetime">
						27 Feb 2015, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to build an image that works, with the longterm goal of creating an openwrt+zoneminder based better firmware for many cameras.&nbsp; </p><p>Since the 933L has 8MB flash I have created a different profile for it, and have built an image that works when tftp&#039;d in.&nbsp; However, the kernel doesn&#039;t see the MTD (this is trunk build).&nbsp; I started with the profile for a 930 which really should have worked, and have gone through menuconfig enabling anything relevant.&nbsp; </p><p>But it doesn&#039;t see the mtd.&nbsp; Can anyone help?This might be simple but as I&#039;m coming up to speed building openwrt it is taking a lot of time.</p><p>So this is ramips 3052 based... 64MB flash.</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.18.7 (iconnor@pseudo.home.connortechnology.com) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r44532) ) #30 Thu Feb 26 16:32:51 EST 2015<br />[&nbsp; &nbsp; 0.000000] SoC Type: Ralink RT3352 id:1 rev:6<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU0 revision is: 0001964c (MIPS 24KEc)<br />[&nbsp; &nbsp; 0.000000] MIPS: machine is D-Link DCS-933<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 04000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Initmem setup node 0 [mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />[&nbsp; &nbsp; 0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=0007a30c<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=0007a30c<br />[&nbsp; &nbsp; 0.000000] Memory: 61768K/65536K available (2242K kernel code, 121K rwdata, 400K rodata, 172K init, 177K bss, 3768K reserved)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:256<br />[&nbsp; &nbsp; 0.000000] CPU Clock: 400MHz<br />[&nbsp; &nbsp; 0.000000] clocksource_of_init: no matching clocksources found<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.090000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.100000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.110000] pinctrl core: initialized pinctrl subsystem<br />[&nbsp; &nbsp; 0.120000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.130000] pinmux core: rt2880-pinmux does not support function sdram<br />[&nbsp; &nbsp; 0.140000] rt2880-pinmux pinctrl: invalid function sdram in map table<br />[&nbsp; &nbsp; 0.170000] rt2880_gpio 10000600.gpio: registering 24 gpios<br />[&nbsp; &nbsp; 0.180000] rt2880_gpio 10000600.gpio: registering 24 irq handlers<br />[&nbsp; &nbsp; 0.190000] Switched to clocksource MIPS<br />[&nbsp; &nbsp; 0.200000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.210000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.220000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.230000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.240000] TCP: reno registered<br />[&nbsp; &nbsp; 0.250000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.260000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.280000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.280000] rt-timer 10000100.timer: maximum frequency is 8138Hz<br />[&nbsp; &nbsp; 0.300000] futex hash table entries: 256 (order: -1, 3072 bytes)<br />[&nbsp; &nbsp; 0.320000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.330000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.360000] msgmni has been set to 120<br />[&nbsp; &nbsp; 0.390000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.400000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.410000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.430000] console [ttyS0] disabled<br />[&nbsp; &nbsp; 0.430000] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 20, base_baud = 2500000) is a 16550A<br />[&nbsp; &nbsp; 0.450000] console [ttyS0] enabled<br />[&nbsp; &nbsp; 0.450000] console [ttyS0] enabled<br />[&nbsp; &nbsp; 0.470000] bootconsole [early0] disabled<br />[&nbsp; &nbsp; 0.470000] bootconsole [early0] disabled<br />[&nbsp; &nbsp; 0.480000] of-flash 1f000000.cfi: do_map_probe() failed<br />[&nbsp; &nbsp; 0.500000] ralink_soc_eth 10100000.ethernet eth0: ralink at 0xb0100000, irq 5<br />[&nbsp; &nbsp; 0.520000] rt2880_wdt 10000120.watchdog: Initialized<br />[&nbsp; &nbsp; 0.530000] TCP: cubic registered<br />[&nbsp; &nbsp; 0.530000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.540000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.<br />[&nbsp; &nbsp; 0.570000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.590000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0): error -6<br />[&nbsp; &nbsp; 0.610000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />[&nbsp; &nbsp; 0.620000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)<br />[&nbsp; &nbsp; 0.620000] ---[ end Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267071">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gxfclql</div>
					<div class="post-datetime">
						27 Feb 2015, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>Is there a Gigabit MAC?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267072">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">iconnor</div>
					<div class="post-datetime">
						27 Feb 2015, 17:39					</div>
				</div>
				<div class="post-content content">
					<p>I think it&#039;s just 100M, 802.11N though</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p272324">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">EarthwormD</div>
					<div class="post-datetime">
						13 Apr 2015, 17:33					</div>
				</div>
				<div class="post-content content">
					<p>Did you ever get a working image for the 933L (rev.A) I tried installing 14.07 on mine last night in recovery-mode as advised on the wiki but it failed and I had to revert to stock firmware to get it booting again.</p><p>I was under the impression that flashing through the recovery-mode was working is there anything im doing wrong, I don&#039;t feel too comfortable about opening it up and getting a serial connection but is that the only way?!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p272326">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">iconnor</div>
					<div class="post-datetime">
						13 Apr 2015, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>No.&nbsp; I had to flash it using the bootloader.&nbsp; I did get it to work once, but then not again.&nbsp; I&#039;m not sure what I did differently. I hope to get back to this project soon.</p><p>I would encourage you to open it up.&nbsp; It is really easy and the serial port pins are nicely labeled.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p272329">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">EarthwormD</div>
					<div class="post-datetime">
						13 Apr 2015, 18:29					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the quick response iconnor, I appreciate that! Guess I will have to order myself a serial cable &amp; a little soldering iron if I want to work on this little camera.</p><p>Do update us if u ever manage to work out how you flashed via recovery-mode that time <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p272358">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">iconnor</div>
					<div class="post-datetime">
						13 Apr 2015, 20:49					</div>
				</div>
				<div class="post-content content">
					<p>I just a wire into the hole... no soldering needed.&nbsp; </p><p>I will be doing lots more posting when I get back to it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p272492">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">EarthwormD</div>
					<div class="post-datetime">
						14 Apr 2015, 17:18					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the help, I&#039;m glad I decided to open it up before purchasing a serial cable because according to the circuit board its hardware version &#039;B1&#039; despite the sticker on the outside casing &amp; the http admin software both reporting it as version &#039;A1&#039; so I guess that was why it wouldn&#039;t boot after all. Just for anyone else struggling with this camera I would recommend having a look inside to check for yourself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344353">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">luizluca</div>
					<div class="post-datetime">
						21 Nov 2016, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>HI Guys,</p><p>Is there any progress on 933L? I tried squashfs and initram from lede-project trunk and got only boot loop.<br />Maybe we can create a new post on LEDE forum.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>