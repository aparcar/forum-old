<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> package &#039;travelmate&#039;, a wlan connection manager for travel router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 29 Mar 2018 and 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=67697&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p339007">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						23 Sep 2016, 16:38					</div>
				</div>
				<div class="post-content content">
					<p>Update:</p><p>Openwrt development pretty much stopped in April/May 2016 when practically all active core developers left for LEDE - best is to head over to LEDE, stable release 17.01 or current LEDE snapshots. </p><p>The active travelmate LEDE-forum thread with download links can be found <a href="https://forum.lede-project.org/t/travelmate-support-thread/5155">here</a></p><p>Have fun!<br />Dirk</p>											<p class="post-edited">(Last edited by <strong>dibdot</strong> on 29 Jul 2017, 19:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339758">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">seofoxir</div>
					<div class="post-datetime">
						30 Sep 2016, 10:10					</div>
				</div>
				<div class="post-content content">
					<p>i sen&#039;t you an email, please respond</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339764">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						30 Sep 2016, 11:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>seofoxir wrote:</cite><blockquote><p>i sen&#039;t you an email, please respond</p></blockquote></div><p>Up to now I&#039;ve answered all queries ... please try again (I&#039;ve tagged my email in the first post) - thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342385">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						28 Oct 2016, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>travelmate is now in trunk - see first post!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342404">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						29 Oct 2016, 00:15					</div>
				</div>
				<div class="post-content content">
					<p>Dirk, please correct me if I&#039;m wrong -- does it search available networks with iw/iwinfo to scan for nearby SSIDs and if it matches one of the SSIDs defined as STA in the wireless interfaces, only then it attempts to enable STA interface and connect? <br />Is there any AP downtime for when it&#039;s trying to connect to STA? <br />What if the SSIDs match, but the key is incorrect, is there any AP downtime?<br />What if the higher priority STA can&#039;t connect, would it automatically jump to the next STA?<br />Finally, have you talked to hnyman about luci app for travelmate yet?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342418">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						29 Oct 2016, 08:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Dirk, please correct me if I&#039;m wrong -- does it search available networks with iw/iwinfo to scan for nearby SSIDs and if it matches one of the SSIDs defined as STA in the wireless interfaces, only then it attempts to enable STA interface and connect?</p></blockquote></div><p>that&#039;s correct, even the &quot;up&quot; sta interface appears down, cause all changes are uncommitted (in uci terms) and will be reverted directly after a successful connect. </p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Is there any AP downtime for when it&#039;s trying to connect to STA?</p></blockquote></div><p>there is a single, really small ap outage during &gt;network reload&lt;, nothing more.</p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>What if the SSIDs match, but the key is incorrect, is there any AP downtime?</p></blockquote></div><p>same applies to this situation (for multiple times). Therefore you can set &quot;trm_maxretry&quot; (default 3) to configure how many times should travelmate try to connect to a certain uplink.</p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>What if the higher priority STA can&#039;t connect, would it automatically jump to the next STA?</p></blockquote></div><p>yes, travelmate goes sequentially through the configured wireless stations.</p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Finally, have you talked to hnyman about luci app for travelmate yet?</p></blockquote></div><p>no, not yet. travelmate is really an early bird for further testing ... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342420">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						29 Oct 2016, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>Thank you Dirk, fantastic work!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342558">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						30 Oct 2016, 21:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Thank you Dirk, fantastic work!</p></blockquote></div><p>Thanks, you&#039;re welcome! Meanwhile Hannu provided a luci frontend for travelmate, many, many thanks for that! <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345071">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						28 Nov 2016, 05:48					</div>
				</div>
				<div class="post-content content">
					<p>Dirk,</p><p>I have a few follow up questions.<br />1. The fact that I add wwan to the wan firewall zone would not mess up anything when I&#039;d want to use my router with travelmate disabled in a proper router mode, would it?<br />2. For the proper Wireless Repeater mode to work I also used to create stabridge interface, run relayd and have a hotplug script which would update stabridge ip address with the wwan ip address. Is that something that travelmate does automatically or do I still need to do all that before running travelmate?</p><p>Thanks again!</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 28 Nov 2016, 05:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345237">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						29 Nov 2016, 21:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>1. The fact that I add wwan to the wan firewall zone would not mess up anything when I&#039;d want to use my router with travelmate disabled in a proper router mode, would it?</p></blockquote></div><p>a disabled/not used wan interface should make no harm</p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>2. For the proper Wireless Repeater mode to work I also used to create stabridge interface, run relayd and have a hotplug script which would update stabridge ip address with the wwan ip address. Is that something that travelmate does automatically or do I still need to do all that before running travelmate?</p></blockquote></div><p>I don&#039;t fully understand your setup (never used relayd so far) ... travelmate only works with an existing wireless config, no interface creation or other magic changes in network config.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345428">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						1 Dec 2016, 21:50					</div>
				</div>
				<div class="post-content content">
					<p>So I have two APs and two STAs defined in wireless config and yet travelmate complains:<br /></p><div class="codebox"><pre><code>Thu Dec  1 11:38:23 2016 user.notice travelmate-0.2.6[2852] error: no usable AP configuration found, please add an &#039;ifname&#039; entry in &#039;/etc/config/wireless&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345429">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						1 Dec 2016, 22:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>So I have two APs and two STAs defined in wireless config and yet travelmate complains:<br /></p><div class="codebox"><pre><code>Thu Dec  1 11:38:23 2016 user.notice travelmate-0.2.6[2852] error: no usable AP configuration found, please add an &#039;ifname&#039; entry in &#039;/etc/config/wireless&#039;</code></pre></div></blockquote></div><p>Hi Stan,<br />please post your wireless config ... or send it by email - thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345447">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						2 Dec 2016, 03:49					</div>
				</div>
				<div class="post-content content">
					<p>Dirk,</p><p>Thanks for your prompt reply! Here it is (sanitized):<br /></p><div class="codebox"><pre><code>wireless.radio0=wifi-device
wireless.radio0.type=&#039;mac80211&#039;
wireless.radio0.hwmode=&#039;11g&#039;
wireless.radio0.path=&#039;platform/10180000.wmac&#039;
wireless.radio0.htmode=&#039;HT20&#039;
wireless.radio0.country=&#039;US&#039;
wireless.radio0.txpower=&#039;16&#039;
wireless.radio0.channel=&#039;auto&#039;
wireless.default_radio0=wifi-iface
wireless.default_radio0.device=&#039;radio0&#039;
wireless.default_radio0.network=&#039;lan&#039;
wireless.default_radio0.mode=&#039;ap&#039;
wireless.default_radio0.ssid=&#039;************&#039;
wireless.default_radio0.key=&#039;************&#039;
wireless.default_radio0.encryption=&#039;psk2+ccmp&#039;
wireless.default_radio0.wps_pushbutton=&#039;0&#039;
wireless.default_radio0.wpa_group_rekey=&#039;3600&#039;
wireless.@wifi-iface[1]=wifi-iface
wireless.@wifi-iface[1].device=&#039;radio0&#039;
wireless.@wifi-iface[1].network=&#039;guest&#039;
wireless.@wifi-iface[1].mode=&#039;ap&#039;
wireless.@wifi-iface[1].ssid=&#039;************&#039;
wireless.@wifi-iface[1].encryption=&#039;psk2&#039;
wireless.@wifi-iface[1].key=&#039;************&#039;
wireless.@wifi-iface[1].isolate=&#039;1&#039;
wireless.@wifi-iface[2]=wifi-iface
wireless.@wifi-iface[2].device=&#039;radio0&#039;
wireless.@wifi-iface[2].network=&#039;lan&#039;
wireless.@wifi-iface[2].ssid=&#039;************&#039;
wireless.@wifi-iface[2].mode=&#039;sta&#039;
wireless.@wifi-iface[2].key=&#039;************&#039;
wireless.@wifi-iface[2].encryption=&#039;psk2+ccmp&#039;
wireless.@wifi-iface[2].wps_pushbutton=&#039;0&#039;
wireless.@wifi-iface[2].disabled=&#039;1&#039;
wireless.@wifi-iface[3]=wifi-iface
wireless.@wifi-iface[3].device=&#039;radio0&#039;
wireless.@wifi-iface[3].network=&#039;lan&#039;
wireless.@wifi-iface[3].ssid=&#039;STA-WiFi&#039;
wireless.@wifi-iface[3].mode=&#039;sta&#039;
wireless.@wifi-iface[3].encryption=&#039;none&#039;
wireless.@wifi-iface[3].wps_pushbutton=&#039;0&#039;
wireless.@wifi-iface[3].disabled=&#039;1&#039;</code></pre></div><p>PS. Despite the first iface being shown as wireless.default_radio0 it is addressable as wireless.@wifi-iface[0].</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345560">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						2 Dec 2016, 23:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>So I have two APs and two STAs defined in wireless config and yet travelmate complains:<br /></p><div class="codebox"><pre><code>Thu Dec  1 11:38:23 2016 user.notice travelmate-0.2.6[2852] error: no usable AP configuration found, please add an &#039;ifname&#039; entry in &#039;/etc/config/wireless&#039;</code></pre></div></blockquote></div><p>Please try travelmate 0.2.7, this version no longer relies on static ifnames in wireless config.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345567">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						3 Dec 2016, 02:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dibdot wrote:</cite><blockquote><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>So I have two APs and two STAs defined in wireless config and yet travelmate complains:<br /></p><div class="codebox"><pre><code>Thu Dec  1 11:38:23 2016 user.notice travelmate-0.2.6[2852] error: no usable AP configuration found, please add an &#039;ifname&#039; entry in &#039;/etc/config/wireless&#039;</code></pre></div></blockquote></div><p>Please try travelmate 0.2.7, this version no longer relies on static ifnames in wireless config.</p></blockquote></div><p>Dirk,<br />As I didn&#039;t find the prebuilt 0.2.7 package, I just updated the /usr/bin/travelmate.sh file with the 0.2.7 from github and it doesn&#039;t error out anymore, however it doesn&#039;t bring up STA either. The connection defined in the first (disabled) STA iface in my config matches existing/available WiFi network (from my main router), however I don&#039;t see the script trying to bring it up.<br /></p><div class="codebox"><pre><code>Fri Dec  2 16:15:23 2016 user.notice slider: Switching to Wireless Repeater mode
Fri Dec  2 16:15:23 2016 daemon.info dnsmasq[2870]: exiting on receipt of SIGTERM
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq[3113]: started, version 2.76 cachesize 5000
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq[3113]: compile time options: IPv6 GNU-getopt no-DBus no-i18n no-IDN DHCP DHCPv6 no-Lua TFTP conntrack ipset auth DNSSEC no-ID loop-detect inotify
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq[3113]: DNS service limited to local subnets
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq-dhcp[3113]: DHCP, IP range 10.0.0.100 -- 10.0.0.249, lease time 1h
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq-dhcp[3113]: DHCP, IP range 192.168.8.100 -- 192.168.8.249, lease time 12h
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq[3113]: using local addresses only for domain local
Fri Dec  2 16:15:30 2016 daemon.warn dnsmasq[3113]: no servers found in /tmp/resolv.conf.auto, will retry
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq[3113]: read /etc/hosts - 4 addresses
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq[3113]: read /tmp/hosts/dhcp.cfg02411c - 19 addresses
Fri Dec  2 16:15:30 2016 daemon.info dnsmasq-dhcp[3113]: read /etc/ethers - 0 addresses
Fri Dec  2 16:15:30 2016 user.notice button: BTN_0 is pressed for 345 seconds
Fri Dec  2 16:15:31 2016 kern.info kernel: [  613.644109] device wlan0 left promiscuous mode
Fri Dec  2 16:15:31 2016 kern.info kernel: [  613.648857] br-lan: port 2(wlan0) entered disabled state
Fri Dec  2 16:15:31 2016 daemon.notice netifd: Interface &#039;guest&#039; is now down
Fri Dec  2 16:15:31 2016 daemon.notice netifd: Interface &#039;guest&#039; is disabled
Fri Dec  2 16:15:31 2016 daemon.notice netifd: Interface &#039;guest&#039; has link connectivity loss
Fri Dec  2 16:15:32 2016 daemon.notice netifd: radio0 (3227): command failed: Not supported (-122)
Fri Dec  2 16:15:32 2016 daemon.notice netifd: radio0 (3227): Configuration file: /var/run/hostapd-phy0.conf
Fri Dec  2 16:15:32 2016 kern.info kernel: [  614.739432] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
Fri Dec  2 16:15:32 2016 kern.info kernel: [  614.761512] device wlan0 entered promiscuous mode
Fri Dec  2 16:15:32 2016 kern.info kernel: [  614.766506] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:32 2016 kern.info kernel: [  614.772218] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:32 2016 daemon.notice netifd: radio0 (3227): wlan0: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
Fri Dec  2 16:15:32 2016 daemon.notice netifd: radio0 (3227): ACS: Automatic channel selection started, this may take a bit
Fri Dec  2 16:15:32 2016 daemon.notice netifd: radio0 (3227): wlan0: interface state COUNTRY_UPDATE-&gt;ACS
Fri Dec  2 16:15:32 2016 daemon.notice netifd: radio0 (3227): wlan0: ACS-STARTED
Fri Dec  2 16:15:32 2016 kern.info kernel: [  615.047066] br-lan: port 2(wlan0) entered disabled state
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3113]: exiting on receipt of SIGTERM
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3350]: started, version 2.76 cachesize 5000
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3350]: compile time options: IPv6 GNU-getopt no-DBus no-i18n no-IDN DHCP DHCPv6 no-Lua TFTP conntrack ipset auth DNSSEC no-ID loop-detect inotify
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3350]: DNS service limited to local subnets
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq-dhcp[3350]: DHCP, IP range 192.168.8.100 -- 192.168.8.249, lease time 12h
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3350]: using local addresses only for domain local
Fri Dec  2 16:15:34 2016 daemon.warn dnsmasq[3350]: no servers found in /tmp/resolv.conf.auto, will retry
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3350]: read /etc/hosts - 4 addresses
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq[3350]: read /tmp/hosts/dhcp.cfg02411c - 19 addresses
Fri Dec  2 16:15:34 2016 daemon.info dnsmasq-dhcp[3350]: read /etc/ethers - 0 addresses
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): ACS: Survey is missing noise floor
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): wlan0: ACS-COMPLETED freq=2412 channel=1
Fri Dec  2 16:15:39 2016 daemon.notice netifd: radio0 (3227): Using interface wlan0 with hwaddr e4:95:6e:40:e0:bc and ssid &quot;********************&quot;
Fri Dec  2 16:15:40 2016 kern.info kernel: [  618.953663] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
Fri Dec  2 16:15:40 2016 kern.info kernel: [  618.960344] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:40 2016 kern.info kernel: [  618.966059] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:40 2016 kern.info kernel: [  618.996005] IPv6: ADDRCONF(NETDEV_UP): wlan0-1: link is not ready
Fri Dec  2 16:15:40 2016 daemon.notice netifd: radio0 (3227): Using interface wlan0-1 with hwaddr e4:95:6e:40:e0:bd and ssid &quot;********************&quot;
Fri Dec  2 16:15:40 2016 daemon.notice netifd: radio0 (3227): wlan0: interface state ACS-&gt;ENABLED
Fri Dec  2 16:15:40 2016 daemon.notice netifd: radio0 (3227): wlan0: AP-ENABLED
Fri Dec  2 16:15:40 2016 kern.info kernel: [  619.549148] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0-1: link becomes ready
Fri Dec  2 16:15:41 2016 daemon.notice netifd: Network device &#039;wlan0&#039; link is up
Fri Dec  2 16:15:41 2016 daemon.notice netifd: Network device &#039;wlan0-1&#039; link is up
Fri Dec  2 16:15:41 2016 daemon.notice netifd: Interface &#039;guest&#039; is enabled
Fri Dec  2 16:15:41 2016 daemon.notice netifd: Interface &#039;guest&#039; is setting up now
Fri Dec  2 16:15:41 2016 daemon.notice netifd: Interface &#039;guest&#039; is now up
Fri Dec  2 16:15:41 2016 daemon.notice netifd: Interface &#039;guest&#039; has link connectivity
Fri Dec  2 16:15:41 2016 user.notice firewall: Reloading firewall due to ifup of guest (wlan0-1)
Fri Dec  2 16:15:42 2016 kern.info kernel: [  620.791900] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:43 2016 user.notice travelmate-0.2.7[3132] info: wwan interface connected to uplink &quot;net.melmac.van&quot;
Fri Dec  2 16:15:43 2016 daemon.notice netifd: Network device &#039;wlan0-1&#039; link is down
Fri Dec  2 16:15:43 2016 daemon.notice netifd: Interface &#039;guest&#039; has link connectivity loss
Fri Dec  2 16:15:43 2016 daemon.notice netifd: Interface &#039;guest&#039; is now down
Fri Dec  2 16:15:43 2016 daemon.notice netifd: Interface &#039;guest&#039; is disabled
Fri Dec  2 16:15:43 2016 kern.info kernel: [  621.746105] device wlan0 left promiscuous mode
Fri Dec  2 16:15:43 2016 kern.info kernel: [  621.750834] br-lan: port 2(wlan0) entered disabled state
Fri Dec  2 16:15:43 2016 daemon.notice netifd: Network device &#039;wlan0&#039; link is down
Fri Dec  2 16:15:44 2016 daemon.notice netifd: radio0 (3543): command failed: Not supported (-122)
Fri Dec  2 16:15:45 2016 daemon.notice netifd: radio0 (3543): Configuration file: /var/run/hostapd-phy0.conf
Fri Dec  2 16:15:45 2016 kern.info kernel: [  623.332502] IPv6: ADDRCONF(NETDEV_UP): wlan0-1: link is not ready
Fri Dec  2 16:15:45 2016 kern.info kernel: [  623.353819] device wlan0-1 entered promiscuous mode
Fri Dec  2 16:15:45 2016 kern.info kernel: [  623.359008] br-lan: port 2(wlan0-1) entered forwarding state
Fri Dec  2 16:15:45 2016 kern.info kernel: [  623.364887] br-lan: port 2(wlan0-1) entered forwarding state
Fri Dec  2 16:15:45 2016 daemon.notice netifd: radio0 (3543): wlan0-1: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
Fri Dec  2 16:15:45 2016 daemon.notice netifd: radio0 (3543): ACS: Automatic channel selection started, this may take a bit
Fri Dec  2 16:15:45 2016 daemon.notice netifd: radio0 (3543): wlan0-1: interface state COUNTRY_UPDATE-&gt;ACS
Fri Dec  2 16:15:45 2016 daemon.notice netifd: radio0 (3543): wlan0-1: ACS-STARTED
Fri Dec  2 16:15:45 2016 kern.info kernel: [  623.730202] br-lan: port 2(wlan0-1) entered disabled state
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:50 2016 daemon.notice netifd: radio0 (3543): handle_probe_req: send failed
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): ACS: Survey is missing noise floor
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): wlan0-1: ACS-COMPLETED freq=2412 channel=1
Fri Dec  2 16:15:52 2016 daemon.notice netifd: radio0 (3543): Using interface wlan0-1 with hwaddr e4:95:6e:40:e0:bd and ssid &quot;********************&quot;
Fri Dec  2 16:15:53 2016 kern.info kernel: [  627.466611] IPv6: ADDRCONF(NETDEV_UP): wlan0-2: link is not ready
Fri Dec  2 16:15:53 2016 daemon.notice netifd: radio0 (3543): Using interface wlan0-2 with hwaddr e4:95:6e:40:e0:be and ssid &quot;********************&quot;
Fri Dec  2 16:15:53 2016 daemon.notice netifd: radio0 (3543): wlan0-1: interface state ACS-&gt;ENABLED
Fri Dec  2 16:15:53 2016 daemon.notice netifd: radio0 (3543): wlan0-1: AP-ENABLED
Fri Dec  2 16:15:53 2016 kern.info kernel: [  628.202803] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
Fri Dec  2 16:15:53 2016 daemon.notice netifd: radio0 (3543): Interface 2 setup failed: BRIDGE_NOT_ALLOWED
Fri Dec  2 16:15:53 2016 daemon.notice netifd: Interface &#039;guest&#039; is enabled
Fri Dec  2 16:15:53 2016 daemon.notice netifd: Interface &#039;guest&#039; is setting up now
Fri Dec  2 16:15:53 2016 daemon.notice netifd: Interface &#039;guest&#039; is now up
Fri Dec  2 16:15:54 2016 user.notice firewall: Reloading firewall due to ifup of guest (wlan0-2)</code></pre></div><p>Could it be because of the guest wlan?</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 3 Dec 2016, 02:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345583">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						3 Dec 2016, 07:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>As I didn&#039;t find the prebuilt 0.2.7 package, I just updated the /usr/bin/travelmate.sh file with the 0.2.7 from github and it doesn&#039;t error out anymore, however it doesn&#039;t bring up STA either. The connection defined in the first (disabled) STA iface in my config matches existing/available WiFi network (from my main router), however I don&#039;t see the script trying to bring it up.</p></blockquote></div><div class="codebox"><pre><code>[...]
Fri Dec  2 16:15:42 2016 kern.info kernel: [  620.791900] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:43 2016 user.notice travelmate-0.2.7[3132] info: wwan interface connected to uplink &quot;net.melmac.van&quot;
[...]</code></pre></div><p>Looks OK for me ...</p><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Could it be because of the guest wlan?</p></blockquote></div><p>a guest wlan on a travel router, really!? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />If it still not working please send your sanitized network &amp; wireless config via email and I&#039;ll try to reproduce that. BTW you could set &#039;trm_debug&#039; &#039;1&#039; in travelmate config to enable script debugging ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345652">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						3 Dec 2016, 22:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dibdot wrote:</cite><blockquote><div class="codebox"><pre><code>[...]
Fri Dec  2 16:15:42 2016 kern.info kernel: [  620.791900] br-lan: port 2(wlan0) entered forwarding state
Fri Dec  2 16:15:43 2016 user.notice travelmate-0.2.7[3132] info: wwan interface connected to uplink &quot;net.melmac.van&quot;
[...]</code></pre></div><p>Looks OK for me ...</p></blockquote></div><p>Khm, dunno how I missed that line. However that STA iface showed up as disconnected in Luci, so I didn&#039;t check it it worked or not. I&#039;ll do some more testing and let you know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345753">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						5 Dec 2016, 10:02					</div>
				</div>
				<div class="post-content content">
					<p>Hehe, guess what, I&#039;ve had my STAs assigned to lan interface rather than wwan. I&#039;ll try again and post back.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345816">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						5 Dec 2016, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>Still no cigar. If I&#039;m watching the Network/Interfaces page in Luci I believe I can see WWAN going up and showing the mac address and uptime very briefly, and then it disconnects. Let me know if you prefer to switch to e-mail or continue here.<br /></p><div class="codebox"><pre><code>root@MT300N-E0BC:~# logread | grep travelmate
Mon Dec  5 11:45:01 2016 user.notice travelmate-0.2.7[5807] error: no usable AP configuration found, please check &#039;/etc/config/wireless&#039;
Mon Dec  5 11:52:04 2016 user.notice travelmate-0.2.7[7004] error: no usable AP configuration found, please check &#039;/etc/config/wireless&#039;
Mon Dec  5 11:53:02 2016 user.notice travelmate-0.2.7[7415] debug: set  ::: change: commit, config: , interface: , command: , checklist: , uci-changes:
Mon Dec  5 11:53:03 2016 user.notice travelmate-0.2.7[7415] debug: main ::: scan-tool: /usr/sbin/iw, aplist:  wlan0, ssidlist: &quot;WallerHome-2.4G&quot; &quot;SHAW-9E21A3&quot; &quot;MB&quot; &quot;COOLKIDS-2.4G&quot; &quot;SHAW-9FE72A&quot; &quot;HP-Print-F7-Officejet Pro 8610&quot; &quot;SHAW-D56C31&quot; &quot;YoungKimmyChimneyy&quot; &quot;ArlenX-2&quot; &quot;PingChin&quot; &quot;SHAW-663AC6&quot; &quot;SHAW-E658B0&quot; &quot;***********&quot; &quot;TT&quot; &quot;***********&quot; &quot;RecamaraGR&quot; &quot;ArlenX&quot; &quot;TELUS3002-2.4G&quot;
Mon Dec  5 11:53:03 2016 user.notice travelmate-0.2.7[7415] debug: set  ::: change: partial, config: cfg043579, interface: wwan, command: up, checklist:  wwan, uci-changes: wireless.cfg043579.disabled=&#039;0&#039;
Mon Dec  5 11:57:14 2016 user.notice travelmate-0.2.7[8964] debug: set  ::: change: commit, config: , interface: , command: , checklist: , uci-changes:
Mon Dec  5 11:57:15 2016 user.notice travelmate-0.2.7[8964] debug: main ::: scan-tool: /usr/sbin/iw, aplist:  wlan0, ssidlist: &quot;HP-Print-F7-Officejet Pro 8610&quot; &quot;SHAW-9FE72A&quot; &quot;SHAW-9E21A3&quot; &quot;TELUS3242-LIVINGROOM-2.4G&quot; &quot;SHAW-D56C31&quot; &quot;HP-Print-0B-Photosmart 6520&quot; &quot;lsys&quot; &quot;ChoobNet3&quot; &quot;***********&quot; &quot;TT&quot; &quot;***********&quot; &quot;Susie_teal&quot; &quot;SHAW-05EAA0&quot; &quot;WallerHome&quot; &quot;2girls1wifi&quot; &quot;1guest1wifi&quot; &quot;ArlenX_RPT&quot;
Mon Dec  5 11:57:15 2016 user.notice travelmate-0.2.7[8964] debug: set  ::: change: partial, config: cfg043579, interface: wwan, command: up, checklist:  wwan, uci-changes: wireless.cfg043579.disabled=&#039;0&#039;
Mon Dec  5 11:57:31 2016 user.notice travelmate-0.2.7[8964] debug: set  ::: change: revert, config: , interface: , command: , checklist: , uci-changes: wireless.cfg043579.disabled=&#039;0&#039;
Mon Dec  5 11:57:37 2016 user.notice travelmate-0.2.7[8964] debug: set  ::: change: commit, config: , interface: , command: , checklist: , uci-changes:
Mon Dec  5 11:57:37 2016 user.notice travelmate-0.2.7[8964] error: no usable AP configuration found, please check &#039;/etc/config/wireless&#039;</code></pre></div><p>BTW, it shows it tried to change disabled=0, however in uci show wireless both STAs are still disabled=1.</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 5 Dec 2016, 22:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346071">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						8 Dec 2016, 09:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Still no cigar. If I&#039;m watching the Network/Interfaces page in Luci I believe I can see WWAN going up and showing the mac address and uptime very briefly, and then it disconnects. Let me know if you prefer to switch to e-mail or continue here.</p></blockquote></div><p>Hi Stan,</p><p>I can reproduce those issues and will fix that with the next 0.3.x update - I&#039;ll send you a pre-release via email for further testing (but this will take some time!).</p><p>br<br />dirk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347260">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">sheen17861</div>
					<div class="post-datetime">
						21 Dec 2016, 09:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi Dirk. <br />I wanted to know if I should use the travelmate package in STA+AP only. Because when I used it on my my Linkit 7688 module in its STA mode the device started.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347271">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						21 Dec 2016, 12:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sheen17861 wrote:</cite><blockquote><p>Hi Dirk. <br />I wanted to know if I should use the travelmate package in STA+AP only. Because when I used it on my my Linkit 7688 module in its STA mode the device started.</p></blockquote></div><p>STA mode only? Did you use a wired connection to access your router?<br />Anyway, I have to rework travelmate a bit ... please wait for the next 0.3.x release.</p><p>Thanks for your patience!<br />Dirk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347375">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">sheen17861</div>
					<div class="post-datetime">
						22 Dec 2016, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>My bad. I meant the device started hanging in STA mode</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348158">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						1 Jan 2017, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>On new years eve I&#039;ve released 0.3.0 ... the AP/STA detection troubles should have been fixed. Also travelmate switched to procd interface triggers and no longer polls in the background.</p>											<p class="post-edited">(Last edited by <strong>dibdot</strong> on 8 Jan 2017, 16:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349222">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">sheen17861</div>
					<div class="post-datetime">
						13 Jan 2017, 13:18					</div>
				</div>
				<div class="post-content content">
					<p>I keep seeing a message in LuCi which says &quot;your hardware does not support multi-SSID&quot;. Does this mean i will not be able to use travelmate?</p><p>I&#039;m a beginner at this.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=67697&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>