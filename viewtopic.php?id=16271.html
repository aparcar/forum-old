<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> dump a firmware image</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p70711">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rogelio</div>
					<div class="post-datetime">
						9 Jul 2008, 23:02					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />I want to dump my Asus WL 500 G premium firmware but I don&#039;t find documentation about this.<br />The firmware in the router is an openwrt-brcm47xx-2.6-squashfs.trx with customs packages and configurations and I want to clone my router in another one.</p><p>is it possible ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70713">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Dmitry</div>
					<div class="post-datetime">
						10 Jul 2008, 01:31					</div>
				</div>
				<div class="post-content content">
					<p>There is a manual on WIKI, but it&#039;s for fonera and it&#039;s doesn&#039;t say how to restore those files.</p><div class="quotebox"><blockquote><p>After gaining the SSH access use these commands: </p><p>cd /dev/mtdblock<br />httpd -p 9090</p><p>Connect to the Fonera through the private network. Now you can download the mtd partiotions using the addresses: </p><p><a href="http://192.168.10.1:9090/0ro">http://192.168.10.1:9090/0ro</a><br /><a href="http://192.168.10.1:9090/1ro">http://192.168.10.1:9090/1ro</a><br /><a href="http://192.168.10.1:9090/2ro">http://192.168.10.1:9090/2ro</a><br /><a href="http://192.168.10.1:9090/3ro">http://192.168.10.1:9090/3ro</a><br /><a href="http://192.168.10.1:9090/4ro">http://192.168.10.1:9090/4ro</a><br /><a href="http://192.168.10.1:9090/5ro">http://192.168.10.1:9090/5ro</a><br /><a href="http://192.168.10.1:9090/6ro">http://192.168.10.1:9090/6ro</a><br /><a href="http://192.168.10.1:9090/7ro">http://192.168.10.1:9090/7ro</a></p><br /><p>dev:&nbsp; &nbsp; &nbsp;name<br />mtd0: &quot;RedBoot&quot;<br />mtd1: &quot;rootfs&quot;<br />mtd2:&nbsp; &quot;rootfs1&quot;<br />mtd3:&nbsp; &quot;config&quot;<br />mtd4:&nbsp; &quot;vmlinux.bin.l7&quot;<br />mtd5:&nbsp; &quot;FIS directory&quot;<br />mtd6:&nbsp; &quot;RedBoot config&quot;<br />mtd7:&nbsp; &quot;board_config&quot;</p></blockquote></div><p>You probably need to backup Mtd1, Mdt2, mdt4</p><br /><p>Dmitry</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70726">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rogelio</div>
					<div class="post-datetime">
						10 Jul 2008, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>thanks Dmitry,<br />but i use the 2.6 version of openwrt and this release don&#039;t have /dev/mtdblock directory :S<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# uname -a
Linux OpenWrt 2.6.22 #4 Sat Jul 5 20:57:15 CEST 2008 mips unknown

root@OpenWrt:~# cd /dev

root@OpenWrt:/dev# ls -ial
    174 drwxrwxrwt    4 root     root          720 Jan  1  2000 .
    26 drwxr-xr-x        5 root     root            0 Jul 10 08:02 ..
    176 crw-r--r--        1 root     root       5,   1 Jan  1  2000 console
    311 crw-rw-rw-     1 root     root       1,   7 Jan  1  2000 full
    312 crw-r--r--        1 root     root       1,   2 Jan  1  2000 kmem
    313 crw-r--r--        1 root     root       1,  11 Jan  1  2000 kmsg
    479 srw-rw-rw-     1 root     root            0 Jan  1  2000 log
    314 crw-r--r--        1 root     root       1,   1 Jan  1  2000 mem
    298 crw-r--r--        1 root     root      90,   0 Jan  1  2000 mtd0
    299 crw-r--r--        1 root     root      90,   1 Jan  1  2000 mtd0ro
    300 crw-r--r--        1 root     root      90,   2 Jan  1  2000 mtd1
    301 crw-r--r--        1 root     root      90,   3 Jan  1  2000 mtd1ro
    302 crw-r--r--        1 root     root      90,   4 Jan  1  2000 mtd2
    304 crw-r--r--        1 root     root      90,   5 Jan  1  2000 mtd2ro
    305 crw-r--r--        1 root     root      90,   6 Jan  1  2000 mtd3
    306 crw-r--r--        1 root     root      90,   7 Jan  1  2000 mtd3ro
    307 crw-r--r--        1 root     root      90,   8 Jan  1  2000 mtd4
    308 crw-r--r--        1 root     root      90,   9 Jan  1  2000 mtd4ro
    293 brw-r--r--        1 root     root      31,   0 Jan  1  2000 mtdblock0
    294 brw-r--r--        1 root     root      31,   1 Jan  1  2000 mtdblock1
    295 brw-r--r--        1 root     root      31,   2 Jan  1  2000 mtdblock2
    296 brw-r--r--        1 root     root      31,   3 Jan  1  2000 mtdblock3
    297 brw-r--r--        1 root     root      31,   4 Jan  1  2000 mtdblock4
    315 crw-rw-rw-     1 root     root       1,   3 Jan  1  2000 null
    316 crw-r--r--        1 root     root       1,   4 Jan  1  2000 port
    667 crw-------        1 root     root     108,   0 Jan  1  2000 ppp
    320 crw-rw-rw-     1 root     root       5,   2 Jul 10 08:04 ptmx
      1 drwxr-xr-x        2 root     root            0 Jan  1  2000 pts
    317 crw-r--r--        1 root     root       1,   8 Jan  1  2000 random
    568 lrwxrwxrwx    1 root     root           14 Jan  1  2000 root -&gt; /dev/mtdblock2
    178 drwxr-xr-x     2 root     root           40 Jan  1  2000 shm
    321 crw-rw-rw-    1 root     root       5,   0 Jan  1  2000 tty
    309 crw-rw-rw-    1 root     root       4,  64 Jan  1  2000 ttyS0
    310 crw-rw-rw-    1 root     root       4,  65 Jan  1  2000 ttyS1
    318 crw-r--r--       1 root     root       1,   9 Jan  1  2000 urandom
    319 crw-rw-rw-    1 root     root       1,   5 Jan  1  2000 zero</code></pre></div><p>I found a command to dump the JFFS2 filesystem â€“ basically everything except the bootloader and NVRAM</p><div class="codebox"><pre><code>dd if=/dev/mtdblock/1 of=/tmp/firmware.trx</code></pre></div><p>is it a good solution with an openwrt-brcm47xx-2.6-squashfs.trx firmware without nvran?</p><br /><p>so is it possible to dump my image in trx format with bootloader and nvran?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>