<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> untagged and tagged vlans port support / WDR4300 family / full build</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p225524">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Sylvain H.</div>
					<div class="post-datetime">
						17 Feb 2014, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><br /><p>After the patch provided by &quot;K&quot; (see <a href="https://dev.openwrt.org/ticket/12181#comment:62">https://dev.openwrt.org/ticket/12181#comment:62</a>) and waiting for its merge into trunk, I&#039;ve decided to make a complete build (including its 4039 packages!) for my WDR4300. This is based on revision r39577 which file ar8216.c has been modified with K&#039;s version.</p><p>SHA256 sum of the file (1,584,250,880 bytes) : 82f9a30c48cbb81c03ea291e97e3b09a74714e62fd611bff6c3f7c9979bdb98e<br />The link : <a href="https://dl.dropboxusercontent.com/s/vtdjzmoxj791egt/openwrt.r39577.k-patched.ar71xx.generic_TLWDR4300.tar?dl=1">openwrt.r39577.k-patched.ar71xx.generic_TLWDR4300.tar</a></p><p>The file is the complete contents of bin/ar71xx directory after full build has completed.</p><p>It was conducted as follows:<br />* Svn co trunk ar71xx ( r39577 )<br />* Update &amp; feeds install-a<br />* Copy config file from trunk to .config<br />* Replace ar8216.c<br />* Make menuconfig to restrict to TPLWDR4300 ( and similar ), letting other stuff unchanged<br />* Make</p><br /><p>So we now have a version that finally allows you to use your router normally arranged with all packages!</p><br /><p>PLEASE NOTE : Once the firmware is written, to avoid dependency errors and before using opkg, do not forget to change opkg.conf to retrieve packages that come from this file.</p><p>Of course, I installed it for several days on my own wdr4300 and it rocks; I&#039;ve now successfully been able to plug my TVbox with its tagged vlan (TV) and untagged vlan (Net) on same port<br />:)</p><br /><p>This build would not have been possible without the help of &quot;k&quot;; I thank him once again for his wonderful patch :)</p><br /><p>Stable release with all packages and 12181 fixed,<br />happy taggings!</p><br /><p>SH.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245086">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jeremy.dwain.jones</div>
					<div class="post-datetime">
						27 Aug 2014, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone successfully flashed their router using this image via luci?&nbsp; I have not tried yet, but I was hoping to hear some success stories before I tried.</p><p>Thanks,</p><p>Jeremy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246689">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Sylvain H.</div>
					<div class="post-datetime">
						10 Sep 2014, 21:31					</div>
				</div>
				<div class="post-content content">
					<p>I did <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Still running here on my WDR4300 v1.1..<br />I just would not recommend to install this version on newer router. Otherwise, I see no reason why it would fail, as it was done from sources like I described it.</p><p>If you do not trust it (what I can understand), build your own image ! (takes really hours.... my VMware machine was 44Go after the build !)</p><br /><p>SH.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246693">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jeremy.dwain.jones</div>
					<div class="post-datetime">
						10 Sep 2014, 22:39					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Sylvain.&nbsp; </p><p>I installed it on a wdr3600, but have not had the opportunity to put it into service yet, so I was waiting to post back until I had results.&nbsp; I&#039;ll make another post once I confirm it resolves my tagged/untagged vlan issues with the 3600.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246721">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Sylvain H.</div>
					<div class="post-datetime">
						11 Sep 2014, 04:56					</div>
				</div>
				<div class="post-content content">
					<p>(do not forget that openssl is not patched against heartbleed)</p><p>SH.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246769">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jeremy.dwain.jones</div>
					<div class="post-datetime">
						11 Sep 2014, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the warning, but I&#039;m using these devices as an Access Point / Switch carrying 5 vlans, behind anouther router / firewall.&nbsp; My other builds (I have 5 other WDR-4300&#039;s with AA on them) worked fine, because they were plugged into an HP procurve and I just set all the vlans to tagged, but this one is connected to a wireless bridge and it has to have one untagged vlan for the wireless bridge to work transparently, and this remote location is just not large enough to need anything more that just the one AP/switch ( no procurve needed to work around the tagged/ untagged issue ).&nbsp; Again, I&#039;ll let you know how it works in my setup after I&#039;ve had a chance to install it in the network.&nbsp; So far, I&#039;ve only configured it at my office to prep for the install.</p><p>JDJ</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248014">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jeremy.dwain.jones</div>
					<div class="post-datetime">
						25 Sep 2014, 05:31					</div>
				</div>
				<div class="post-content content">
					<p>Finally tested the build.&nbsp; Worked perfectly.&nbsp; Thanks a bunch, Sylvain and K!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248260">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Sylvain H.</div>
					<div class="post-datetime">
						27 Sep 2014, 12:13					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the feedback, I am glad that my work has served to someone!<br />Feeling like we are only 2 on this planet with a openwrt WDR device that just works with no package dependencies etc.. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357657">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Boertjes</div>
					<div class="post-datetime">
						2 May 2017, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi Sylvain,</p><p>I was just looking for your release of the WDR4300 OpenWRT firmware. But I can&#039;t download it from Dropbox. Could you post it again?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>