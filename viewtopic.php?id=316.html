<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Brainstorm of a newbe - wich hardware use BCM4712 and 2xUSB?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p1473">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">radionacht</div>
					<div class="post-datetime">
						13 Aug 2004, 01:55					</div>
				</div>
				<div class="post-content content">
					<p>Salve!</p><p>I know a Firewall is a Firewall and should not be used as a server, BUT the routers with BCM47x2 are so cheap and use only a few power, that it would be fun to run some programs, scripts on them and add several devices and sensores to the I/O ports. (Ok maybe I will use one box as Firewall and one as server). So I&#039;m looking for the box wicht have the most memory and I/Os for the money!</p><p>Which boxes has BCM4712 (8/32MB) and have or could be added<br />- 2x RS232<br />- 1x RS232 1xLPT<br />- 1x RS232 1xUSB<br />- 1x LPT 1x USB<br />- 2x USB<br />Are more then 2 I/Os possible?<br />BTW for less then 10 Euros you can buy an USB to RS232 converter (www.reichelt.de e.g.)<br />Does a terminal on USB (via USB to RS232 or directly USB) helps when a FW update had faild?</p><p>-When using a BCM4712 with ssh, which shells are possible? Bash?</p><p>-seriell Displays for $6<br /><a href="http://store.earthlcd.com/s.nl/c.318770/sc.7/category.4/.f">http://store.earthlcd.com/s.nl/c.318770 … egory.4/.f</a><br />-&quot;240x64 Interactive Serial LCD Terminal&quot; for $29:<br /><a href="http://store.earthlcd.com/s.nl/c.318770/sc.7/category.4/it.A/id.1210/.f">http://store.earthlcd.com/s.nl/c.318770 … id.1210/.f</a></p><p>-Any good links,ideas to add 1-wire/2-wire/3-wire senors (temperatur,......) to the box?</p><p>-Any good scips/ideas for BT (via USB)? like connecting the Doorbell and dooropener - automaticaly door-opener wenn ringing &quot;- . - -&quot; and the Mobile BT is in range?</p><p>-Is the Flash/RAM on chip or on board? Is it possibel to solder more memory to the system like an 8 MB upgrade for PalmIII?</p><p>-Any solutions for &quot;boot on time&quot;`? Circuit layout to add a small IC to do this? </p><p>-Is it possible to swich off by software? Any hardware solutions?</p><p>-Is it possible to have a hardware hack to power on when a device on Ethernet is powerd on? (I know power on lan with magic packests will not work *g* so it must be a hardware hack)</p><p>-Would it possible to run asterisk.org (voip sever) on a BCM4712?</p><p>-Cheap VoIP solutions with a BCM4712? Converter to analog Phone? USB audio headset and $29 terminal?</p><p>-Anyone using a BCM4712 as Internetradio (audio out USB audio)?</p><p>-Any good ideas to use this SSH1 client on a J2ME mobile:<br /><a href="http://phoenix.inf.upol.cz/~polakr/">http://phoenix.inf.upol.cz/~polakr/</a><br />? (BTW this cool software is the reason why I whan&#039;t to have a cheap server <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>So back to my mayor question - what modell is offers the best/most I/O (which) original/by-hack for having the most fun for the money?</p><p>Greetings<br />rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1474">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">itwerx</div>
					<div class="post-datetime">
						13 Aug 2004, 02:12					</div>
				</div>
				<div class="post-content content">
					<p>Without knowing all the details it nonetheless sounds like a lot of what you&#039;re doing would be better handled by a PIC.&nbsp; Here&#039;s a bunch of sources:<br /><a href="http://www.google.com/froogle?q=PIC&amp;btnG=Search+Froogle">http://www.google.com/froogle?q=PIC&amp … ch+Froogle</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1475">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">radionacht</div>
					<div class="post-datetime">
						13 Aug 2004, 03:17					</div>
				</div>
				<div class="post-content content">
					<p>Salve itwerx,</p><div class="quotebox"><blockquote><p>it nonetheless sounds like a lot of what you&#039;re doing</p></blockquote></div><p>hey it was just (a try of) a&nbsp; brainstorm what would be possibel with a 8,3 Watt PC runnig 24/24h - to have the best BCM4712 box for this <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>At home it will be a cheap computer that has the basic communication and will run most of the time - why not use it for home-automatisation, housebreaking alarm centrale and other stuff?</p><p>Because I see that it`s possibe to have much fun with this cheap hardware I&#039;m looking for the modell with the best I/Os.</p><div class="quotebox"><blockquote><p>would be better handled by a PIC.</p></blockquote></div><p>Cool tip (also froogle) - I haven`t experiances with ICs, but the programmable PIC seems to offer a lot of possibities for &lt; $4 *g*</p><p>But to get me right, I would like to add this to a BCM4712. Could I add 2x USB to a&nbsp; WRT54gs without de-solder the BCM4712? Is it possible to add on RS232 and one USB? USB 1.1 or 2? Is Asus a better choice?</p><p>Greetings<br />rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1485">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">itwerx</div>
					<div class="post-datetime">
						13 Aug 2004, 10:41					</div>
				</div>
				<div class="post-content content">
					<p>I have seen web sites both for adding serial ports to the WRT54GS and for using a PIC to interface with a USB device but I didn&#039;t keep track of them because those are not projects I&#039;m interested in at the moment.&nbsp; I would recommend using Google to search for more information as all of these topics are a bit outside of what is discussed here.&nbsp; Sorry!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1510">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">radionacht</div>
					<div class="post-datetime">
						14 Aug 2004, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>Salve,</p><p>I like to start a wiki with hardware information about routers focusing on the chip, memory, max memory, I/O chips, I/Os, possible addable I/Os, price for this I/O hack, vedor, modellname, version, price</p><p>The SystemOnAChips are the heart of every router, so I started an overview about them:<br /><a href="http://openwrt.ksilebo.net/SystemOnAChip">http://openwrt.ksilebo.net/SystemOnAChip</a></p><p>Does OpenWRT alread run on non Broadcom Chips?</p><p>It seems for me that the core of many Broadcom Chips are the same, because OpenWRT is thought to be modular, would OpenWRT give a startingpoint for developers to use other Broadcom Chips? Like:<br />&quot;BCM1115&nbsp; Single-Port Voice-over IP CPE Engine&quot;<br />Or:<br />&quot;BCM2121<br /> GPRS/GSM Single-Chip Baseband Processor</p><p> The BCM2121 GSM and GPRS baseband processor offers an unprecedented level of system integration, performance and features for next generation handsets and radio cards.</p><p>&nbsp; The integration of the PA controller and speaker-phone/car-phone audio circuitry adds key GPRS handset features while reducing overall system cost.</p><p>The BCM2121 contains all analog and digital GSM and multislot GPRS baseband processing functions in a single chip. Interface functions and drivers are integrated to enable auxilliary components such as microphone, speaker, display, keypad, data terminal equipment and SIM to connect directly to the chip. A flexible baseband control interface supports a wide range of transceivers, including GSM850, E-GSM900, GSM1800 and GSM1900 frequency bands.&quot;<br />&nbsp; &nbsp;See <a href="http://www.broadcom.com/collateral/pb/2121-PB03-R.pdf">http://www.broadcom.com/collateral/pb/2121-PB03-R.pdf</a><br />&nbsp; &nbsp;<img src="https://forum.openwrt.org/img/smilies/lol.png" width="15" height="15" alt="lol" /></p><p>OK, I never had soldered an FPGA and I have doubts that many people would solder their own mobile someday - but the routers and mobiles have one point together - broadcom produces only chips, so the documentation of the I/Os will be better then a company who produce his own chips for their own products - hacking and runnig linux of them will be much more complicatet or unpossibe - one example for this is the Motorola A760 Linux mobile - this week got a guy the kernel source for this handy (without config file) and even when he manage the flashing and booting of his own kernel, I fear not much more than display &quot;Hello world&quot; on the screen would be possible, I guess the DSP will be the secret of Motorola - no Audio I/O nor GSM.<br />&nbsp; &nbsp;<a href="http://www.linuxdevices.com/cgi-bin/board/UltraBoard.pl?Action=ShowPost&amp;Board=linuxpda&amp;Post=185">http://www.linuxdevices.com/cgi-bin/boa … p;Post=185</a></p><p>Get me right, I do not want to do all this - but tell me do I thing wright, that the Broadcom has a family of SystemOnAChips and OpenWRT could benefit when other chips on this family with a different function becomes useable by own Linux, too.<br />So it could grow to a small plattform where more developers/hackers/users will raise the number of packages and scritps to use with OpenWRT?</p><p>The major reason for the wikipage SystemOnAChip is that I what to find the best hardware (with USB 2.0) for OpenWRT - but I like to promote what else would be possibel *g*</p><p>Have a nice weekend,<br />rob</p><p>PS: The Pic idea is a good one, but this is system independent, so when the overview that SystemOnAChip running with OpenWRT has which I/O, some Pic experimentations/links could be added then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1516">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">radionacht</div>
					<div class="post-datetime">
						15 Aug 2004, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>I study civil engineering, so I&#039;m not expert with electronics, but as I wrote, I had upgraded my Palm IIIx from 4 to 8 MB. The same I think would be possibel with the Routers, the memory is expensive, so it is solderd seperated on the board as you can see here:<br /><a href="http://voidmain.is-a-geek.net/si/?i=wrt/wrt-08.jpg&amp;t=WRT54G%20v1.1%20-%20notice%20white%20marks%20every%205%20pins">http://voidmain.is-a-geek.net/si/?i=wrt … 205%20pins</a></p><p>In the middel you can see on violett:<br />Intel Flash<br />VER:1.42.2<br />CS:4280</p><p>Another picture <a href="http://kampfzwerg.cdaniel.de/gallery/album23/01030010_G?full=1">http://kampfzwerg.cdaniel.de/gallery/al … 0_G?full=1</a> <br />has on a green field:<br />VER:1.42.2 <br />CS:9419</p><p>AFAIK are these chips a family with same pinlayout, independent on the flash size. It is realy a pitty that there is no public Broadcom BCM47x2 specification (I will email Broadcom to get one), but I can imagine that already the BCM4702 could manage 64 MB flash. (But I have some doubts, too, the Treo 600 phone is based on a Broadcom chip as well and in a forum some people complaint the low flash memory - I hope it is only a question of costs, not of a chip layout!)</p><p>Intel seems to have two kind of flash:<br />&quot;The IntelÂ® Advanced+ (C3) and Advanced (B3) Boot Block Flash memory family is the world&#039;s first flash memory on the 0.13 Âµm process lithography-Intel&#039;s fifth generation of its successful boot block memory products. Intel&#039;s C3 and B3 products are the industry&#039;s most widely used flash memory with a read/write and erase voltage range of 2.7 - 3.6 V for simplified low-voltage system design.&quot;<br />[,,,]<br />&quot;Security Features (C3 only)<br /> Advanced+ Boot Block Flash memory offers a number of features that provide our customers with an additional level of security including a unique silicon serial number and fraud protection register. It enables next-generation security solutions and is ideally suited for minimizing the risk of cloning and fraud in digital cellular phones and internet appliances.<br /> Intel&#039;s C3 memory enables real-time protection for stored data and helps prevent corruption through instant individual block locking. Also, high-speed programming reduces manufacturing time-without the need for costly external voltage switching logic.&quot;<br /> <a href="http://www.intel.com/design/flcomp/prodbref/298188.htm">http://www.intel.com/design/flcomp/prodbref/298188.htm</a></p><p> B3:<br /> <a href="http://www.intel.com/design/flcomp/datashts/29058018.pdf">http://www.intel.com/design/flcomp/data … 058018.pdf</a><br />C3:<br /> <a href="http://www.intel.com/design/flcomp/datashts/29064518.pdf">http://www.intel.com/design/flcomp/data … 064518.pdf</a></p><p> Whats clear is that the chip has a TSOP format - you must have quiet hands (and engough coffee) to solder this&nbsp; <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Flash/RAM upgrade sites for PDAs &amp; Co:<br /><a href="http://www.handhelds.org/z/wiki/http://www.openhardware.net/TuxScreen/32MegDram.html">http://www.handhelds.org/z/wiki/http:// … gDram.html</a></p><p>Photo from WRT54 shows RAM:<br /><a href="http://kampfzwerg.cdaniel.de/gallery/album23/01030010_G?full=1">http://kampfzwerg.cdaniel.de/gallery/al … 0_G?full=1</a><br />etrontech<br />EM6381 65ts-7<br /><a href="http://www.etron.com/img/pdf/SDRAM/64Mb/4Mx16/638165.pdf">http://www.etron.com/img/pdf/SDRAM/64Mb … 638165.pdf</a><br />this shows that the RAM SDRAM is for 143 Mhz</p><p>THis great pictures shows also what are the second conectors for the flash means - it seems that PIN 26 (CE#) and 47 (Vccq) has optional differnt connectors.</p><p>I found a AXIM PDA hack page:<br /><a href="http://www.aximsite.com/boards/archive/index.php/t-4319.html">http://www.aximsite.com/boards/archive/ … -4319.html</a><br />With link to Infnion mobile DRAM 133 Mhz:<br /><a href="http://www.infineon.com/cgi/ecrm.dll/ecrm/scripts/prod_ov.jsp?oid=23931">http://www.infineon.com/cgi/ecrm.dll/ec … ?oid=23931</a><br />32MByte (256 MBit) 16Mx16<br /><a href="http://www.infineon.com/cmc_upload/documents/079/004/DS_256M_LS_33V_2002-_12_20.pdf">http://www.infineon.com/cmc_upload/docu … _12_20.pdf</a><br />64MByte (512 MBit)&nbsp; &nbsp;32Mx16<br /><a href="http://www.infineon.com/cmc_upload/documents/063/498/HYB25L512160AC_Rev.1.3.pdf">http://www.infineon.com/cmc_upload/docu … ev.1.3.pdf</a><br />Infioneon SDRAM 32Mx16<br /><a href="http://www.infineon.com/cgi/ecrm.dll/ecrm/scripts/public_download.jsp?oid=29740&amp;parent_oid=29797">http://www.infineon.com/cgi/ecrm.dll/ec … _oid=29797</a><br />And Samsung 64Mx16 is comming soon:<br /><a href="http://www.samsung.com/Products/Semiconductor/DRAM/DDRSDRAM/DDRSDRAMcomponent/1Gbit/K4H1G0438M/ds_ddr_1gb_m_die_x4x8x16_pre06.pdf">http://www.samsung.com/Products/Semicon … _pre06.pdf</a></p><p>So there are pin compatible chips Flash for up to 64 Mbyte and RAM for 2 x 64 Mbyte = 128 MB (2x 128=256MB soon),<br />but:<br />-does the 143Mhz/133Mhz (9%) matter?<br />-what is the specification of the BCM47x2 will the core and the I/O work with 64 MB flash and 256 MB RAM?</p><p>When the BCM47x2 chips support more RAM, all Routers with this ships will be upgradable - the only question will be which one has the better I/O possibilities (USB 2.0).</p><p>What are the prices for these chips?<br />Other vendors like AMD, Infinion, Samsung, Intel.....?<br />Where to buy (Europe)?</p><p>IMHO will it be cheaper to desolder the RAM from normal RAM-modules than to order the RAM-chips itself. Its the same why the full Router is cheaper than the BCM47x2 itself. Any Ideas to get cheap flash memory? Is it possible to plug CompactFlash to this port?<br />Result: The cheapest way (to use normal consumer products/bulg goods/products from the mass market) will be to plug more flash only via USB (will be more flexible, too) and to find SDRAM modules with 32Mx16 or 64Mx16 chips and to desolder them from there.</p><p>Any Hardware-hackers here?</p><p>Greetings<br />rob</p><p>PS: This posting was written with 128 RAM, fluxbox on a Debian System, not everything what would be possible is a &quot;must to have/do&quot; BUT it would be nice to documentate what is the maximum to hack is be.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1526">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">soulhunter</div>
					<div class="post-datetime">
						15 Aug 2004, 05:39					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I&#039;m one (well, kinda).</p><p>Have you tried: SHT11, it is a low-cost temperature and HR sensor.</p><p>I think you could give a shot to the AVR microcontrollers.&nbsp; With those you could build a simple hardware (they can be programmed in C, search for avr-gcc) to use as a &quot;port expansion&quot;, provided that you don&#039;t need to pass A LOT of data (say, if you can live with the max speed of a RS323 port).&nbsp; In this case, you could use the USART from the AVR microcontroller and connect it to the &quot;whatever&quot; hardware you have, and the microcontroller &quot;collects&quot; the data from the other sources.</p><p>Due that those microcontrollers can be really fast (up to 16MIPS), you can even implement some kind of compression.</p><p>You can use the uC (microcontroller) as a LCD display manager also.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1532">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">radionacht</div>
					<div class="post-datetime">
						15 Aug 2004, 11:22					</div>
				</div>
				<div class="post-content content">
					<p>Salve Soulhunter,</p><p>yeah, the SHT11 is realy tiny - cool:<br />&quot;A more precise sensor (with 2% instead of 5% humidity deviation) SHT17 you may order at Farnell (<a href="http://www.farnell.com">www.farnell.com</a>) for about 20 Euro.&quot;<br /><a href="http://www-user.tu-chemnitz.de/~heha/viewzip.cgi/hs_freeware/sht11.zip/SHT11.TXT?auto=TXT">http://www-user.tu-chemnitz.de/~heha/vi … T?auto=TXT</a><br />IMHO is the SHT11 good enough.</p><p>And I agree that RS232 is for sensors, displays, switchs.... fast enough but for memory is USB 1.1 (or for hdds) USB 2.0, Audio I/O and BT much better. Very cool would be a router with RS232 _AND_ USB 2.0. (Hope that I will nobody confuse with my brainstorm in circles USB, Flash/RAM sensors, microcontrolers *g*)</p><p>To use AVR directly on USB are some solutions - some AVR support USB, but these seems to be rare and more expensive - haven&#039;t&nbsp; find the price&nbsp; of one AT43USB3xx (like AT43USB320A AT43USB355). But other AVR seems to be able to be progammed to run with USB see:<br /><a href="http://www.cesko.host.sk/IgorPlugUSB/IgorPlug-USB">http://www.cesko.host.sk/IgorPlugUSB/IgorPlug-USB</a> (AVR)_eng.htm<br />Will such a softwaresolution run with Linux, too?</p><p>PIC or AVR, for a newbie maybe a big question, for experianced people no question, they choose the system they better know.<br />I would desside the one which have the better tools for linux. For the AVR I fould a compiler and a libc:<br /><a href="http://www.nongnu.org/avr-libc/">http://www.nongnu.org/avr-libc/</a><br />Some tools:<br /><a href="http://cdk4avr.sourceforge.net">http://cdk4avr.sourceforge.net</a>/</p><p>But is there also an emulator (Linux, free, opensource) like for PIC?<br /><a href="http://www.picemulator.com/links.html">http://www.picemulator.com/links.html</a><br />Or is microcontroler programming so easy that there is no need for an emulator/simulator? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Greetings,<br />rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p1541">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">soulhunter</div>
					<div class="post-datetime">
						15 Aug 2004, 19:08					</div>
				</div>
				<div class="post-content content">
					<p>Well, I haven&#039;t needed one since I learned &quot;exactly&quot; how it behaves.&nbsp; I used to use AVR Studio with wine (works &quot;almost&quot; fine): I compiled the project with avr-gcc (linux) with -g option, and then modified the resulting obj (I don&#039;t remember, something like avr-coff, it have been a long time).&nbsp; For simulator: simulavr (it is in: <a href="http://cdk4avr.sourceforge.net">http://cdk4avr.sourceforge.net</a>/ too).</p><p>I like AVR over pic because:</p><p>+ For the same computing power/periphericals are cheaper.<br />+ Are faster.<br />+ Are easier to program (SPI interface, even with a PC&#039;s parallel port, if they are correctly configured).<br />+ You can do &quot;In System Programming&quot; very easilly (you don&#039;t have to remove the chip in order to reporgram it).</p><p>What I don&#039;t like about AVR is: They are very &quot;sensitive&quot; to noise, so my kind of protoboard mouting isn&#039;t an option, I have to do it right.</p><p>Anyway, as you said, it is a matter of what you know best, or what you can find (I have got AVRs from digikey and allamercican at rasonable prices).</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>