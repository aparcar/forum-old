<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WHEN do we get kamikaze with 2.6.25 b43 for wrt54gl?!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 23 Aug 2014 and 28 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 5</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=15443&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=15443&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15443&amp;p=5.html">5</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p67372">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">DeadZed</div>
					<div class="post-datetime">
						24 Apr 2008, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>2.6.25 works very well with b43 now (I have tested it myself).<br/>Are there any people who seriously work on getting kamikaze 2.6.25 for wrt54gl.<br/>I think it would make many wrt54gl users quite happy to get a WORKING 2.6 kernel kamikaze .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67374">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nillok</div>
					<div class="post-datetime">
						24 Apr 2008, 15:54					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s wery intresting.&nbsp; I will try to test, but I doesn&#039;t know how to make my build with kernel 2.6.25. Can you help me please with kernel build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67439">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">xerces8</div>
					<div class="post-datetime">
						25 Apr 2008, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>See <a href="http://wiki.openwrt.org/bcm43xx">http://wiki.openwrt.org/bcm43xx</a> (and the forum thread it refers to).</p>											<p class="post-edited">(Last edited by <strong>xerces8</strong> on 25 Apr 2008, 16:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68722">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">DeadZed</div>
					<div class="post-datetime">
						26 May 2008, 15:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xerces8 wrote:</cite><blockquote><p>See <a href="http://wiki.openwrt.org/bcm43xx">http://wiki.openwrt.org/bcm43xx</a> (and the forum thread it refers to).</p></blockquote></div><p>ye,<br/><a href="http://wiki.openwrt.org/bcm43xx">http://wiki.openwrt.org/bcm43xx</a> says<br/>&quot;Even though the b43 driver (new chipset kerneldriver) is now included in kernels after 2.6.25 there are still problems.&quot;<br/>Who does it depend on , broadcom corp, b43 maintainer, kamikaze hackers, or kernel developers?<br/>broadcom brcm4312 with 2.6.25 works well in my dv6500 laptop, so ..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68783">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">alaric</div>
					<div class="post-datetime">
						27 May 2008, 16:44					</div>
				</div>
				<div class="post-content content">
					<p>And as per the forum thread that it refers to AP (Access Point) mode is de-activated in that release due to bugs.&nbsp; Therefor it&#039;s not exactly useful on a WAP even if it does work in client mode on your laptop.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68828">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">towa</div>
					<div class="post-datetime">
						28 May 2008, 10:57					</div>
				</div>
				<div class="post-content content">
					<p>I tried recently to compile OpenWrt 2.6 for my WRTLS54GS and I managed to load the b43 driver but as alaric already stated, it doesn&#039;t work in AP mode. I can scan all networks and connect as client to an existing wireless network. There is a patch for to enable AP mode but unfortunately it doesn&#039;t work. There is still some work to be done in the linuxwireless package. Once the AP mode support is available it shouldn&#039;t be any problem to port it to OpenWrt.</p>											<p class="post-edited">(Last edited by <strong>towa</strong> on 28 May 2008, 10:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68840">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						28 May 2008, 13:57					</div>
				</div>
				<div class="post-content content">
					<p>There are some good news: 2.6.25 works now with Broadcom boards!</p><p>Just checkout the latest SVN trunk:</p><p>svn co <a href="https://svn.openwrt.org/openwrt/trunk/">https://svn.openwrt.org/openwrt/trunk/</a></p><p>In trunk/target/linux/brcm47xx/Makefile, you have to change &quot;LINUX_VERSION:=2.6.23.17&quot; to &quot;LINUX_VERSION:=2.6.25.4&quot;.</p><p>If it still doesn&#039;t work, see <a href="https://dev.openwrt.org/ticket/2035">https://dev.openwrt.org/ticket/2035</a> for lzma_loader_cfe.2.patch - I&#039;m not sure if it&#039;s in SVN yet or not.</p><br/><p>Wireless doesn&#039;t work, though - see this thread (&quot;oops on b43 insertion on mips&quot;):</p><p><a href="http://marc.info/?t=121183114000004&amp;r=1&amp;w=4">http://marc.info/?t=121183114000004&amp;r=1&amp;w=4</a></p><p>In short:</p><p>&quot;It currently has a linkage bug. People are working on it&quot;, or &quot;The fix will be committed as soon as it is available&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68917">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						29 May 2008, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Just got wireless working on a Broadcom board.</p><p>I just cooked up the current svn w/ 2.6.25.4. I then replaced the b43.ko, mac80211.ko and cfg80211.ko from the svn build with the ones compiled from the 2.6.25.4 source. That b43 loads, identifies the radio and loads firmware. I can manually associate with an open AP. I tried wpa_supplicant. It worked too and connected to a WPA/TKIP AP. </p><p>This is really encouraging!</p><p>Steve</p><p>On loading b43<br/>b43-phy1: Broadcom 5352 WLAN found<br/>Broadcom 43xx driver loaded [ Features: PR, Firmware-ID: FW13 ]</p><p>On ifconfig wlan0 up<br/>input: b43-phy0 as /devices/virtual/input/input2<br/>b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)</p><p>The board is a Buffalo WHR-HP-G54</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68918">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						29 May 2008, 23:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sbrown wrote:</cite><blockquote><p>Just got wireless working on a Broadcom board.</p><p>I just cooked up the current svn w/ 2.6.25.4. I then replaced the b43.ko, mac80211.ko and cfg80211.ko from the svn build with the ones compiled from the 2.6.25.4 source. That b43 loads, identifies the radio and loads firmware. I can manually associate with an open AP. I tried wpa_supplicant. It worked too and connected to a WPA/TKIP AP.</p></blockquote></div><p>What do you mean by &quot;I then replaced the b43.ko, mac80211.ko and cfg80211.ko from the svn build with the ones compiled from the 2.6.25.4 source&quot;?</p><p>Files in vanilla linux-2.6.25.4/drivers/net/wireless/b43/* and in openwrt&#039;s linux-brcm47xx/linux-2.6.25.4/drivers/net/wireless/b43 are identical.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68920">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						30 May 2008, 01:00					</div>
				</div>
				<div class="post-content content">
					<p>Your statement is correct, however the sources that get built are in build_dir/linux-brcm47xx/b43, not the ones in linux-brcm47xx/linux-2.6.25.4/drivers/net/wireless/b43. I just diff&#039;d these and get a 1391 line diff.</p><p>The b43.ko from build_dir/linux-brcm47xx/b43 oops&#039;s on insertion as mentioned earlier in this thread. The b43.ko built from <br/>linux-brcm47xx/linux-2.6.25.4/drivers/net/wireless/b43 doesn&#039;t.</p><p>The same is true for mac80211 and cfg80211. They get built in build_dir/linux-brcm47xx/compat-wireless-2008-04-07 and not the 2.6.25.4 tree.</p><p>I don&#039;t know why the 2.6.25.4 tree isn&#039;t used. </p><p>Steve</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68936">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						30 May 2008, 09:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sbrown wrote:</cite><blockquote><p>Your statement is correct, however the sources that get built are in build_dir/linux-brcm47xx/b43, not the ones in linux-brcm47xx/linux-2.6.25.4/drivers/net/wireless/b43. I just diff&#039;d these and get a 1391 line diff.</p><p>The b43.ko from build_dir/linux-brcm47xx/b43 oops&#039;s on insertion as mentioned earlier in this thread. The b43.ko built from <br/>linux-brcm47xx/linux-2.6.25.4/drivers/net/wireless/b43 doesn&#039;t.</p></blockquote></div><p>Hmm, something weird here.</p><p>I definitely used the module from linux-brcm47xx/linux-2.6.25.4/drivers/net/wireless/b43 - I had b43 disabled in the OpenWRT configuration, so I don&#039;t even have build_dir/linux-brcm47xx/b43 directory.</p><p>And it definitely oopses, which is quite different what you experience.</p><p>Could you send your kernel .config?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68938">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						30 May 2008, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>Here&#039;s my .config. </p><p>I built with b43 and mac80211 enabled in the top level config, flashed and got the oops. I then enabled them in the kernel tree config (attached), rebuilt and copied the resulting 3 .ko&#039;s over the ones in /lib/modules/2.6.25.4 of the running system. I rebooted and no oops.</p><p>I can&#039;t imagine that the sequence makes a difference. </p><p>Did you build the mac80211 and cfg80211 from the kernel tree or compat-wireless? They differ too.</p><p>Also, which processor/radio combo are you using? I&#039;m using a BCM5352 w/ integrated radio.</p><p>Steve</p><div class="codebox"><pre><code>#
# Automatically generated make config: don&#039;t edit
# Linux kernel version: 2.6.25.4
# Fri May 30 02:56:18 2008
#
CONFIG_MIPS=y

#
# Machine selection
#
# CONFIG_MACH_ALCHEMY is not set
# CONFIG_BASLER_EXCITE is not set
CONFIG_BCM47XX=y
# CONFIG_MIPS_COBALT is not set
# CONFIG_MACH_DECSTATION is not set
# CONFIG_MACH_JAZZ is not set
# CONFIG_LASAT is not set
# CONFIG_LEMOTE_FULONG is not set
# CONFIG_MIPS_ATLAS is not set
# CONFIG_MIPS_MALTA is not set
# CONFIG_MIPS_SEAD is not set
# CONFIG_MIPS_SIM is not set
# CONFIG_MARKEINS is not set
# CONFIG_MACH_VR41XX is not set
# CONFIG_PNX8550_JBS is not set
# CONFIG_PNX8550_STB810 is not set
# CONFIG_PMC_MSP is not set
# CONFIG_PMC_YOSEMITE is not set
# CONFIG_SGI_IP22 is not set
# CONFIG_SGI_IP27 is not set
# CONFIG_SGI_IP28 is not set
# CONFIG_SGI_IP32 is not set
# CONFIG_SIBYTE_CRHINE is not set
# CONFIG_SIBYTE_CARMEL is not set
# CONFIG_SIBYTE_CRHONE is not set
# CONFIG_SIBYTE_RHONE is not set
# CONFIG_SIBYTE_SWARM is not set
# CONFIG_SIBYTE_LITTLESUR is not set
# CONFIG_SIBYTE_SENTOSA is not set
# CONFIG_SIBYTE_BIGSUR is not set
# CONFIG_SNI_RM is not set
# CONFIG_TOSHIBA_JMR3927 is not set
# CONFIG_TOSHIBA_RBTX4927 is not set
# CONFIG_TOSHIBA_RBTX4938 is not set
# CONFIG_WR_PPMC is not set
CONFIG_RWSEM_GENERIC_SPINLOCK=y
# CONFIG_ARCH_HAS_ILOG2_U32 is not set
# CONFIG_ARCH_HAS_ILOG2_U64 is not set
CONFIG_ARCH_SUPPORTS_OPROFILE=y
CONFIG_GENERIC_FIND_NEXT_BIT=y
CONFIG_GENERIC_HWEIGHT=y
CONFIG_GENERIC_CALIBRATE_DELAY=y
CONFIG_GENERIC_CLOCKEVENTS=y
CONFIG_GENERIC_TIME=y
CONFIG_GENERIC_CMOS_UPDATE=y
CONFIG_SCHED_NO_NO_OMIT_FRAME_POINTER=y
# CONFIG_GENERIC_HARDIRQS_NO__DO_IRQ is not set
CONFIG_CEVT_R4K=y
CONFIG_CSRC_R4K=y
CONFIG_CFE=y
CONFIG_DMA_NONCOHERENT=y
CONFIG_DMA_NEED_PCI_MAP_STATE=y
CONFIG_EARLY_PRINTK=y
CONFIG_SYS_HAS_EARLY_PRINTK=y
# CONFIG_HOTPLUG_CPU is not set
# CONFIG_NO_IOPORT is not set
CONFIG_GENERIC_GPIO=y
# CONFIG_CPU_BIG_ENDIAN is not set
CONFIG_CPU_LITTLE_ENDIAN=y
CONFIG_SYS_SUPPORTS_LITTLE_ENDIAN=y
CONFIG_IRQ_CPU=y
CONFIG_MIPS_L1_CACHE_SHIFT=5

#
# CPU selection
#
# CONFIG_CPU_LOONGSON2 is not set
CONFIG_CPU_MIPS32_R1=y
# CONFIG_CPU_MIPS32_R2 is not set
# CONFIG_CPU_MIPS64_R1 is not set
# CONFIG_CPU_MIPS64_R2 is not set
# CONFIG_CPU_R3000 is not set
# CONFIG_CPU_TX39XX is not set
# CONFIG_CPU_VR41XX is not set
# CONFIG_CPU_R4300 is not set
# CONFIG_CPU_R4X00 is not set
# CONFIG_CPU_TX49XX is not set
# CONFIG_CPU_R5000 is not set
# CONFIG_CPU_R5432 is not set
# CONFIG_CPU_R6000 is not set
# CONFIG_CPU_NEVADA is not set
# CONFIG_CPU_R8000 is not set
# CONFIG_CPU_R10000 is not set
# CONFIG_CPU_RM7000 is not set
# CONFIG_CPU_RM9000 is not set
# CONFIG_CPU_SB1 is not set
CONFIG_SYS_HAS_CPU_MIPS32_R1=y
CONFIG_CPU_MIPS32=y
CONFIG_CPU_MIPSR1=y
CONFIG_SYS_SUPPORTS_32BIT_KERNEL=y
CONFIG_CPU_SUPPORTS_32BIT_KERNEL=y

#
# Kernel type
#
CONFIG_32BIT=y
# CONFIG_64BIT is not set
CONFIG_PAGE_SIZE_4KB=y
# CONFIG_PAGE_SIZE_8KB is not set
# CONFIG_PAGE_SIZE_16KB is not set
# CONFIG_PAGE_SIZE_64KB is not set
CONFIG_CPU_HAS_PREFETCH=y
CONFIG_MIPS_MT_DISABLED=y
# CONFIG_MIPS_MT_SMP is not set
# CONFIG_MIPS_MT_SMTC is not set
CONFIG_CPU_HAS_LLSC=y
CONFIG_CPU_HAS_SYNC=y
CONFIG_GENERIC_HARDIRQS=y
CONFIG_GENERIC_IRQ_PROBE=y
CONFIG_CPU_SUPPORTS_HIGHMEM=y
CONFIG_ARCH_FLATMEM_ENABLE=y
CONFIG_ARCH_POPULATES_NODE_MAP=y
CONFIG_SELECT_MEMORY_MODEL=y
CONFIG_FLATMEM_MANUAL=y
# CONFIG_DISCONTIGMEM_MANUAL is not set
# CONFIG_SPARSEMEM_MANUAL is not set
CONFIG_FLATMEM=y
CONFIG_FLAT_NODE_MEM_MAP=y
# CONFIG_SPARSEMEM_STATIC is not set
# CONFIG_SPARSEMEM_VMEMMAP_ENABLE is not set
CONFIG_SPLIT_PTLOCK_CPUS=4
# CONFIG_RESOURCES_64BIT is not set
CONFIG_ZONE_DMA_FLAG=0
CONFIG_VIRT_TO_BUS=y
CONFIG_TICK_ONESHOT=y
# CONFIG_NO_HZ is not set
CONFIG_HIGH_RES_TIMERS=y
CONFIG_GENERIC_CLOCKEVENTS_BUILD=y
# CONFIG_HZ_48 is not set
# CONFIG_HZ_100 is not set
# CONFIG_HZ_128 is not set
CONFIG_HZ_250=y
# CONFIG_HZ_256 is not set
# CONFIG_HZ_1000 is not set
# CONFIG_HZ_1024 is not set
CONFIG_SYS_SUPPORTS_ARBIT_HZ=y
CONFIG_HZ=250
CONFIG_PREEMPT_NONE=y
# CONFIG_PREEMPT_VOLUNTARY is not set
# CONFIG_PREEMPT is not set
# CONFIG_KEXEC is not set
# CONFIG_SECCOMP is not set
CONFIG_LOCKDEP_SUPPORT=y
CONFIG_STACKTRACE_SUPPORT=y
CONFIG_DEFCONFIG_LIST=&quot;/lib/modules/$UNAME_RELEASE/.config&quot;

#
# General setup
#
CONFIG_EXPERIMENTAL=y
CONFIG_BROKEN_ON_SMP=y
CONFIG_INIT_ENV_ARG_LIMIT=32
CONFIG_LOCALVERSION=&quot;&quot;
# CONFIG_LOCALVERSION_AUTO is not set
CONFIG_SWAP=y
CONFIG_SYSVIPC=y
CONFIG_SYSVIPC_SYSCTL=y
# CONFIG_POSIX_MQUEUE is not set
# CONFIG_BSD_PROCESS_ACCT is not set
# CONFIG_TASKSTATS is not set
# CONFIG_AUDIT is not set
# CONFIG_IKCONFIG is not set
CONFIG_LOG_BUF_SHIFT=14
# CONFIG_CGROUPS is not set
# CONFIG_GROUP_SCHED is not set
# CONFIG_SYSFS_DEPRECATED_V2 is not set
# CONFIG_RELAY is not set
# CONFIG_NAMESPACES is not set
CONFIG_BLK_DEV_INITRD=y
CONFIG_CC_OPTIMIZE_FOR_SIZE=y
CONFIG_SYSCTL=y
CONFIG_EMBEDDED=y
CONFIG_SYSCTL_SYSCALL=y
# CONFIG_KALLSYMS is not set
CONFIG_HOTPLUG=y
CONFIG_PRINTK=y
CONFIG_BUG=y
# CONFIG_ELF_CORE is not set
# CONFIG_COMPAT_BRK is not set
CONFIG_BASE_FULL=y
CONFIG_FUTEX=y
CONFIG_ANON_INODES=y
CONFIG_EPOLL=y
CONFIG_SIGNALFD=y
CONFIG_TIMERFD=y
CONFIG_EVENTFD=y
CONFIG_SHMEM=y
# CONFIG_VM_EVENT_COUNTERS is not set
CONFIG_SLAB=y
# CONFIG_SLUB is not set
# CONFIG_SLOB is not set
# CONFIG_PROFILING is not set
# CONFIG_MARKERS is not set
CONFIG_HAVE_OPROFILE=y
# CONFIG_HAVE_KPROBES is not set
# CONFIG_HAVE_KRETPROBES is not set
# CONFIG_PROC_PAGE_MONITOR is not set
CONFIG_SLABINFO=y
CONFIG_RT_MUTEXES=y
# CONFIG_TINY_SHMEM is not set
CONFIG_BASE_SMALL=0
CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y
# CONFIG_MODULE_FORCE_UNLOAD is not set
# CONFIG_MODVERSIONS is not set
# CONFIG_MODULE_SRCVERSION_ALL is not set
# CONFIG_KMOD is not set
CONFIG_BLOCK=y
# CONFIG_LBD is not set
# CONFIG_BLK_DEV_IO_TRACE is not set
# CONFIG_LSF is not set
# CONFIG_BLK_DEV_BSG is not set

#
# IO Schedulers
#
CONFIG_IOSCHED_NOOP=y
# CONFIG_IOSCHED_AS is not set
CONFIG_IOSCHED_DEADLINE=y
# CONFIG_IOSCHED_CFQ is not set
# CONFIG_DEFAULT_AS is not set
CONFIG_DEFAULT_DEADLINE=y
# CONFIG_DEFAULT_CFQ is not set
# CONFIG_DEFAULT_NOOP is not set
CONFIG_DEFAULT_IOSCHED=&quot;deadline&quot;
CONFIG_CLASSIC_RCU=y

#
# Bus options (PCI, PCMCIA, EISA, ISA, TC)
#
CONFIG_HW_HAS_PCI=y
CONFIG_PCI=y
CONFIG_PCI_DOMAINS=y
# CONFIG_ARCH_SUPPORTS_MSI is not set
# CONFIG_PCI_LEGACY is not set
CONFIG_MMU=y
# CONFIG_PCCARD is not set
# CONFIG_HOTPLUG_PCI is not set

#
# Executable file formats
#
CONFIG_BINFMT_ELF=y
# CONFIG_BINFMT_MISC is not set
CONFIG_TRAD_SIGNALS=y

#
# Power management options
#
CONFIG_ARCH_SUSPEND_POSSIBLE=y
# CONFIG_PM is not set

#
# Networking
#
CONFIG_NET=y

#
# Networking options
#
CONFIG_PACKET=y
CONFIG_PACKET_MMAP=y
CONFIG_UNIX=y
# CONFIG_NET_KEY is not set
CONFIG_INET=y
CONFIG_IP_MULTICAST=y
CONFIG_IP_ADVANCED_ROUTER=y
CONFIG_ASK_IP_FIB_HASH=y
# CONFIG_IP_FIB_TRIE is not set
CONFIG_IP_FIB_HASH=y
CONFIG_IP_MULTIPLE_TABLES=y
CONFIG_IP_ROUTE_MULTIPATH=y
# CONFIG_IP_ROUTE_VERBOSE is not set
# CONFIG_IP_PNP is not set
# CONFIG_NET_IPIP is not set
# CONFIG_NET_IPGRE is not set
# CONFIG_IP_MROUTE is not set
# CONFIG_ARPD is not set
CONFIG_SYN_COOKIES=y
# CONFIG_INET_AH is not set
# CONFIG_INET_ESP is not set
# CONFIG_INET_IPCOMP is not set
# CONFIG_INET_XFRM_TUNNEL is not set
# CONFIG_INET_TUNNEL is not set
# CONFIG_INET_XFRM_MODE_TRANSPORT is not set
# CONFIG_INET_XFRM_MODE_TUNNEL is not set
# CONFIG_INET_XFRM_MODE_BEET is not set
# CONFIG_INET_LRO is not set
CONFIG_INET_DIAG=m
CONFIG_INET_TCP_DIAG=m
CONFIG_TCP_CONG_ADVANCED=y
CONFIG_TCP_CONG_BIC=m
CONFIG_TCP_CONG_CUBIC=m
CONFIG_TCP_CONG_WESTWOOD=m
CONFIG_TCP_CONG_HTCP=m
CONFIG_TCP_CONG_HSTCP=m
CONFIG_TCP_CONG_HYBLA=m
CONFIG_TCP_CONG_VEGAS=y
CONFIG_TCP_CONG_SCALABLE=m
CONFIG_TCP_CONG_LP=m
CONFIG_TCP_CONG_VENO=m
CONFIG_TCP_CONG_YEAH=m
CONFIG_TCP_CONG_ILLINOIS=m
# CONFIG_DEFAULT_BIC is not set
# CONFIG_DEFAULT_CUBIC is not set
# CONFIG_DEFAULT_HTCP is not set
CONFIG_DEFAULT_VEGAS=y
# CONFIG_DEFAULT_WESTWOOD is not set
# CONFIG_DEFAULT_RENO is not set
CONFIG_DEFAULT_TCP_CONG=&quot;vegas&quot;
# CONFIG_TCP_MD5SIG is not set
# CONFIG_IP_VS is not set
# CONFIG_IPV6 is not set
# CONFIG_INET6_XFRM_TUNNEL is not set
# CONFIG_INET6_TUNNEL is not set
# CONFIG_NETWORK_SECMARK is not set
CONFIG_NETFILTER=y
# CONFIG_NETFILTER_DEBUG is not set
CONFIG_NETFILTER_ADVANCED=y
# CONFIG_BRIDGE_NETFILTER is not set

#
# Core Netfilter Configuration
#
# CONFIG_NETFILTER_NETLINK_QUEUE is not set
# CONFIG_NETFILTER_NETLINK_LOG is not set
CONFIG_NF_CONNTRACK=y
CONFIG_NF_CT_ACCT=y
CONFIG_NF_CONNTRACK_MARK=y
# CONFIG_NF_CONNTRACK_EVENTS is not set
# CONFIG_NF_CT_PROTO_SCTP is not set
# CONFIG_NF_CT_PROTO_UDPLITE is not set
# CONFIG_NF_CONNTRACK_AMANDA is not set
CONFIG_NF_CONNTRACK_FTP=m
# CONFIG_NF_CONNTRACK_H323 is not set
CONFIG_NF_CONNTRACK_IRC=m
# CONFIG_NF_CONNTRACK_NETBIOS_NS is not set
# CONFIG_NF_CONNTRACK_PPTP is not set
# CONFIG_NF_CONNTRACK_SANE is not set
# CONFIG_NF_CONNTRACK_SIP is not set
CONFIG_NF_CONNTRACK_TFTP=m
# CONFIG_NF_CONNTRACK_RTSP is not set
# CONFIG_NF_CT_NETLINK is not set
CONFIG_NETFILTER_XTABLES=y
# CONFIG_NETFILTER_XT_TARGET_CHAOS is not set
# CONFIG_NETFILTER_XT_TARGET_CLASSIFY is not set
# CONFIG_NETFILTER_XT_TARGET_CONNMARK is not set
# CONFIG_NETFILTER_XT_TARGET_DELUDE is not set
# CONFIG_NETFILTER_XT_TARGET_DSCP is not set
# CONFIG_NETFILTER_XT_TARGET_MARK is not set
CONFIG_NETFILTER_XT_TARGET_NFQUEUE=m
CONFIG_NETFILTER_XT_TARGET_NFLOG=m
CONFIG_NETFILTER_XT_TARGET_RATEEST=m
# CONFIG_NETFILTER_XT_TARGET_TARPIT is not set
CONFIG_NETFILTER_XT_TARGET_TCPMSS=y
CONFIG_NETFILTER_XT_TARGET_TCPOPTSTRIP=m
CONFIG_NETFILTER_XT_MATCH_COMMENT=m
# CONFIG_NETFILTER_XT_MATCH_CONNBYTES is not set
CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=m
# CONFIG_NETFILTER_XT_MATCH_CONNMARK is not set
# CONFIG_NETFILTER_XT_MATCH_CONNTRACK is not set
CONFIG_NETFILTER_XT_MATCH_DCCP=m
# CONFIG_NETFILTER_XT_MATCH_DSCP is not set
# CONFIG_NETFILTER_XT_MATCH_ESP is not set
# CONFIG_NETFILTER_XT_MATCH_HELPER is not set
CONFIG_NETFILTER_XT_MATCH_IPRANGE=m
# CONFIG_NETFILTER_XT_MATCH_LENGTH is not set
CONFIG_NETFILTER_XT_MATCH_LIMIT=y
# CONFIG_NETFILTER_XT_MATCH_MAC is not set
# CONFIG_NETFILTER_XT_MATCH_MARK is not set
CONFIG_NETFILTER_XT_MATCH_OWNER=m
# CONFIG_NETFILTER_XT_MATCH_PORTSCAN is not set
CONFIG_NETFILTER_XT_MATCH_MULTIPORT=y
# CONFIG_NETFILTER_XT_MATCH_PKTTYPE is not set
# CONFIG_NETFILTER_XT_MATCH_QUOTA is not set
CONFIG_NETFILTER_XT_MATCH_RATEEST=m
CONFIG_NETFILTER_XT_MATCH_REALM=m
CONFIG_NETFILTER_XT_MATCH_SCTP=m
CONFIG_NETFILTER_XT_MATCH_STATE=y
# CONFIG_NETFILTER_XT_MATCH_LAYER7 is not set
# CONFIG_NETFILTER_XT_MATCH_STATISTIC is not set
# CONFIG_NETFILTER_XT_MATCH_STRING is not set
# CONFIG_NETFILTER_XT_MATCH_TCPMSS is not set
# CONFIG_NETFILTER_XT_MATCH_TIME is not set
CONFIG_NETFILTER_XT_MATCH_U32=m
CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=m

#
# IP: Netfilter Configuration
#
CONFIG_NF_CONNTRACK_IPV4=y
CONFIG_NF_CONNTRACK_PROC_COMPAT=y
# CONFIG_IP_NF_QUEUE is not set
CONFIG_IP_NF_IPTABLES=y
# CONFIG_IP_NF_MATCH_IPP2P is not set
# CONFIG_IP_NF_MATCH_TIME is not set
# CONFIG_IP_NF_MATCH_RECENT is not set
# CONFIG_IP_NF_MATCH_ECN is not set
# CONFIG_IP_NF_MATCH_AH is not set
# CONFIG_IP_NF_MATCH_TTL is not set
CONFIG_IP_NF_MATCH_ADDRTYPE=m
CONFIG_IP_NF_FILTER=y
CONFIG_IP_NF_TARGET_REJECT=y
# CONFIG_IP_NF_TARGET_LOG is not set
# CONFIG_IP_NF_TARGET_ULOG is not set
CONFIG_NF_NAT=y
CONFIG_NF_NAT_NEEDED=y
CONFIG_IP_NF_TARGET_MASQUERADE=y
# CONFIG_IP_NF_TARGET_REDIRECT is not set
# CONFIG_IP_NF_TARGET_NETMAP is not set
# CONFIG_NF_NAT_SNMP_BASIC is not set
CONFIG_NF_NAT_FTP=m
CONFIG_NF_NAT_IRC=m
# CONFIG_NF_NAT_RTSP is not set
CONFIG_NF_NAT_TFTP=m
# CONFIG_NF_NAT_AMANDA is not set
# CONFIG_NF_NAT_PPTP is not set
# CONFIG_NF_NAT_H323 is not set
# CONFIG_NF_NAT_SIP is not set
CONFIG_IP_NF_MANGLE=y
# CONFIG_IP_NF_TARGET_ECN is not set
# CONFIG_IP_NF_TARGET_TTL is not set
# CONFIG_IP_NF_TARGET_CLUSTERIP is not set
# CONFIG_IP_NF_RAW is not set
# CONFIG_IP_NF_ARPTABLES is not set
# CONFIG_IP_NF_SET is not set
# CONFIG_IP_DCCP is not set
# CONFIG_IP_SCTP is not set
# CONFIG_TIPC is not set
# CONFIG_ATM is not set
CONFIG_BRIDGE=y
CONFIG_VLAN_8021Q=y
# CONFIG_DECNET is not set
CONFIG_LLC=y
# CONFIG_LLC2 is not set
# CONFIG_IPX is not set
# CONFIG_ATALK is not set
# CONFIG_X25 is not set
# CONFIG_LAPB is not set
# CONFIG_ECONET is not set
# CONFIG_WAN_ROUTER is not set
CONFIG_NET_SCHED=y

#
# Queueing/Scheduling
#
CONFIG_NET_SCH_CBQ=m
# CONFIG_NET_SCH_HTB is not set
# CONFIG_NET_SCH_HFSC is not set
CONFIG_NET_SCH_PRIO=m
CONFIG_NET_SCH_RR=m
# CONFIG_NET_SCH_RED is not set
# CONFIG_NET_SCH_SFQ is not set
# CONFIG_NET_SCH_ESFQ is not set
# CONFIG_NET_SCH_TEQL is not set
# CONFIG_NET_SCH_TBF is not set
# CONFIG_NET_SCH_GRED is not set
# CONFIG_NET_SCH_DSMARK is not set
# CONFIG_NET_SCH_NETEM is not set
# CONFIG_NET_SCH_INGRESS is not set

#
# Classification
#
CONFIG_NET_CLS=y
CONFIG_NET_CLS_BASIC=m
CONFIG_NET_CLS_TCINDEX=m
CONFIG_NET_CLS_ROUTE4=m
CONFIG_NET_CLS_ROUTE=y
CONFIG_NET_CLS_FW=m
CONFIG_NET_CLS_U32=m
# CONFIG_CLS_U32_PERF is not set
# CONFIG_CLS_U32_MARK is not set
CONFIG_NET_CLS_RSVP=m
CONFIG_NET_CLS_RSVP6=m
CONFIG_NET_CLS_FLOW=m
# CONFIG_NET_EMATCH is not set
CONFIG_NET_CLS_ACT=y
CONFIG_NET_ACT_POLICE=y
CONFIG_NET_ACT_GACT=m
CONFIG_GACT_PROB=y
CONFIG_NET_ACT_MIRRED=m
CONFIG_NET_ACT_IPT=m
# CONFIG_NET_ACT_NAT is not set
CONFIG_NET_ACT_PEDIT=m
# CONFIG_NET_ACT_SIMP is not set
CONFIG_NET_CLS_IND=y
CONFIG_NET_SCH_FIFO=y

#
# Network testing
#
# CONFIG_NET_PKTGEN is not set
# CONFIG_HAMRADIO is not set
# CONFIG_CAN is not set
# CONFIG_IRDA is not set
# CONFIG_BT is not set
# CONFIG_AF_RXRPC is not set
CONFIG_FIB_RULES=y

#
# Wireless
#
CONFIG_CFG80211=m
CONFIG_NL80211=y
CONFIG_WIRELESS_EXT=y
CONFIG_MAC80211=m

#
# Rate control algorithm selection
#
CONFIG_MAC80211_RC_DEFAULT_PID=y
# CONFIG_MAC80211_RC_DEFAULT_SIMPLE is not set
# CONFIG_MAC80211_RC_DEFAULT_NONE is not set

#
# Selecting &#039;y&#039; for an algorithm will
#

#
# build the algorithm into mac80211.
#
CONFIG_MAC80211_RC_DEFAULT=&quot;pid&quot;
CONFIG_MAC80211_RC_PID=y
# CONFIG_MAC80211_RC_SIMPLE is not set
CONFIG_MAC80211_LEDS=y
CONFIG_MAC80211_DEBUG_PACKET_ALIGNMENT=y
# CONFIG_MAC80211_DEBUG is not set
# CONFIG_IEEE80211 is not set
CONFIG_RFKILL=y
CONFIG_RFKILL_INPUT=y
CONFIG_RFKILL_LEDS=y
# CONFIG_NET_9P is not set

#
# Device Drivers
#

#
# Generic Driver Options
#
CONFIG_UEVENT_HELPER_PATH=&quot;/sbin/hotplug&quot;
CONFIG_STANDALONE=y
CONFIG_PREVENT_FIRMWARE_BUILD=y
CONFIG_FW_LOADER=y
# CONFIG_SYS_HYPERVISOR is not set
CONFIG_CONNECTOR=m
CONFIG_MTD=y
# CONFIG_MTD_DEBUG is not set
# CONFIG_MTD_CONCAT is not set
CONFIG_MTD_PARTITIONS=y
CONFIG_MTD_ROOTFS_ROOT_DEV=y
CONFIG_MTD_ROOTFS_SPLIT=y
# CONFIG_MTD_REDBOOT_PARTS is not set
# CONFIG_MTD_CMDLINE_PARTS is not set

#
# User Modules And Translation Layers
#
CONFIG_MTD_CHAR=y
CONFIG_MTD_BLKDEVS=y
CONFIG_MTD_BLOCK=y
# CONFIG_FTL is not set
# CONFIG_NFTL is not set
# CONFIG_INFTL is not set
# CONFIG_RFD_FTL is not set
# CONFIG_SSFDC is not set
# CONFIG_MTD_OOPS is not set

#
# RAM/ROM/Flash chip drivers
#
CONFIG_MTD_CFI=y
# CONFIG_MTD_JEDECPROBE is not set
CONFIG_MTD_GEN_PROBE=y
# CONFIG_MTD_CFI_ADV_OPTIONS is not set
CONFIG_MTD_MAP_BANK_WIDTH_1=y
CONFIG_MTD_MAP_BANK_WIDTH_2=y
CONFIG_MTD_MAP_BANK_WIDTH_4=y
# CONFIG_MTD_MAP_BANK_WIDTH_8 is not set
# CONFIG_MTD_MAP_BANK_WIDTH_16 is not set
# CONFIG_MTD_MAP_BANK_WIDTH_32 is not set
CONFIG_MTD_CFI_I1=y
CONFIG_MTD_CFI_I2=y
# CONFIG_MTD_CFI_I4 is not set
# CONFIG_MTD_CFI_I8 is not set
CONFIG_MTD_CFI_INTELEXT=y
CONFIG_MTD_CFI_AMDSTD=y
# CONFIG_MTD_CFI_STAA is not set
CONFIG_MTD_CFI_UTIL=y
# CONFIG_MTD_RAM is not set
# CONFIG_MTD_ROM is not set
# CONFIG_MTD_ABSENT is not set

#
# Mapping drivers for chip access
#
CONFIG_MTD_COMPLEX_MAPPINGS=y
# CONFIG_MTD_PHYSMAP is not set
CONFIG_MTD_BCM47XX=y
# CONFIG_MTD_PCI is not set
# CONFIG_MTD_INTEL_VR_NOR is not set
# CONFIG_MTD_PLATRAM is not set

#
# Self-contained MTD device drivers
#
# CONFIG_MTD_PMC551 is not set
# CONFIG_MTD_SLRAM is not set
# CONFIG_MTD_PHRAM is not set
# CONFIG_MTD_MTDRAM is not set
# CONFIG_MTD_BLOCK2MTD is not set

#
# Disk-On-Chip Device Drivers
#
# CONFIG_MTD_DOC2000 is not set
# CONFIG_MTD_DOC2001 is not set
# CONFIG_MTD_DOC2001PLUS is not set
# CONFIG_MTD_NAND is not set
# CONFIG_MTD_ONENAND is not set

#
# UBI - Unsorted block images
#
# CONFIG_MTD_UBI is not set
# CONFIG_PARPORT is not set
CONFIG_BLK_DEV=y
# CONFIG_BLK_CPQ_DA is not set
# CONFIG_BLK_CPQ_CISS_DA is not set
# CONFIG_BLK_DEV_DAC960 is not set
# CONFIG_BLK_DEV_UMEM is not set
# CONFIG_BLK_DEV_COW_COMMON is not set
# CONFIG_BLK_DEV_LOOP is not set
# CONFIG_BLK_DEV_NBD is not set
# CONFIG_BLK_DEV_SX8 is not set
# CONFIG_BLK_DEV_RAM is not set
# CONFIG_CDROM_PKTCDVD is not set
# CONFIG_ATA_OVER_ETH is not set
CONFIG_MISC_DEVICES=y
# CONFIG_PHANTOM is not set
# CONFIG_EEPROM_93CX6 is not set
# CONFIG_SGI_IOC4 is not set
# CONFIG_TIFM_CORE is not set
# CONFIG_ENCLOSURE_SERVICES is not set
CONFIG_HAVE_IDE=y
# CONFIG_IDE is not set

#
# SCSI device support
#
# CONFIG_RAID_ATTRS is not set
# CONFIG_SCSI is not set
# CONFIG_SCSI_DMA is not set
# CONFIG_SCSI_NETLINK is not set
# CONFIG_ATA is not set
# CONFIG_MD is not set
# CONFIG_FUSION is not set

#
# IEEE 1394 (FireWire) support
#
# CONFIG_FIREWIRE is not set
# CONFIG_IEEE1394 is not set
# CONFIG_I2O is not set
CONFIG_NETDEVICES=y
# CONFIG_NETDEVICES_MULTIQUEUE is not set
CONFIG_IFB=m
# CONFIG_DUMMY is not set
# CONFIG_BONDING is not set
# CONFIG_MACVLAN is not set
# CONFIG_EQUALIZER is not set
# CONFIG_IMQ is not set
# CONFIG_TUN is not set
# CONFIG_VETH is not set
# CONFIG_ARCNET is not set
# CONFIG_PHYLIB is not set
CONFIG_NET_ETHERNET=y
CONFIG_MII=y
# CONFIG_AX88796 is not set
# CONFIG_HAPPYMEAL is not set
# CONFIG_SUNGEM is not set
# CONFIG_CASSINI is not set
# CONFIG_NET_VENDOR_3COM is not set
# CONFIG_DM9000 is not set
# CONFIG_NET_TULIP is not set
# CONFIG_HP100 is not set
# CONFIG_IBM_NEW_EMAC_ZMII is not set
# CONFIG_IBM_NEW_EMAC_RGMII is not set
# CONFIG_IBM_NEW_EMAC_TAH is not set
# CONFIG_IBM_NEW_EMAC_EMAC4 is not set
CONFIG_NET_PCI=y
# CONFIG_PCNET32 is not set
# CONFIG_AMD8111_ETH is not set
# CONFIG_ADAPTEC_STARFIRE is not set
CONFIG_B44=y
CONFIG_B44_PCI_AUTOSELECT=y
CONFIG_B44_PCICORE_AUTOSELECT=y
CONFIG_B44_PCI=y
# CONFIG_FORCEDETH is not set
# CONFIG_TC35815 is not set
# CONFIG_EEPRO100 is not set
# CONFIG_E100 is not set
# CONFIG_FEALNX is not set
# CONFIG_NATSEMI is not set
# CONFIG_NE2K_PCI is not set
# CONFIG_8139CP is not set
# CONFIG_8139TOO is not set
# CONFIG_R6040 is not set
# CONFIG_SIS900 is not set
# CONFIG_EPIC100 is not set
# CONFIG_SUNDANCE is not set
# CONFIG_TLAN is not set
# CONFIG_VIA_RHINE is not set
# CONFIG_SC92031 is not set
CONFIG_NETDEV_1000=y
# CONFIG_ACENIC is not set
# CONFIG_DL2K is not set
# CONFIG_E1000 is not set
# CONFIG_E1000E is not set
# CONFIG_E1000E_ENABLED is not set
# CONFIG_IP1000 is not set
# CONFIG_IGB is not set
# CONFIG_NS83820 is not set
# CONFIG_HAMACHI is not set
# CONFIG_YELLOWFIN is not set
# CONFIG_R8169 is not set
# CONFIG_SIS190 is not set
# CONFIG_SKGE is not set
# CONFIG_SKY2 is not set
# CONFIG_SK98LIN is not set
# CONFIG_VIA_VELOCITY is not set
# CONFIG_TIGON3 is not set
# CONFIG_BNX2 is not set
# CONFIG_QLA3XXX is not set
# CONFIG_ATL1 is not set
# CONFIG_NETDEV_10000 is not set
# CONFIG_TR is not set

#
# Wireless LAN
#
# CONFIG_WLAN_PRE80211 is not set
CONFIG_WLAN_80211=y
# CONFIG_IPW2100 is not set
# CONFIG_IPW2200 is not set
# CONFIG_LIBERTAS is not set
# CONFIG_HERMES is not set
# CONFIG_ATMEL is not set
# CONFIG_PRISM54 is not set
# CONFIG_RTL8180 is not set
# CONFIG_ADM8211 is not set
# CONFIG_P54_COMMON is not set
# CONFIG_ATH5K is not set
# CONFIG_IWL4965 is not set
# CONFIG_IWL3945 is not set
# CONFIG_HOSTAP is not set
CONFIG_B43=m
CONFIG_B43_PCI_AUTOSELECT=y
CONFIG_B43_PCICORE_AUTOSELECT=y
CONFIG_B43_LEDS=y
CONFIG_B43_RFKILL=y
CONFIG_B43_DEBUG=y
# CONFIG_B43LEGACY is not set
# CONFIG_RT2X00 is not set
# CONFIG_WAN is not set
# CONFIG_FDDI is not set
# CONFIG_HIPPI is not set
# CONFIG_PPP is not set
# CONFIG_SLIP is not set
# CONFIG_NETCONSOLE is not set
# CONFIG_NETPOLL is not set
# CONFIG_NET_POLL_CONTROLLER is not set
# CONFIG_ISDN is not set
# CONFIG_PHONE is not set

#
# Input device support
#
CONFIG_INPUT=y
# CONFIG_INPUT_FF_MEMLESS is not set
CONFIG_INPUT_POLLDEV=y

#
# Userland interfaces
#
# CONFIG_INPUT_MOUSEDEV is not set
# CONFIG_INPUT_JOYDEV is not set
CONFIG_INPUT_EVDEV=y
# CONFIG_INPUT_EVBUG is not set

#
# Input Device Drivers
#
# CONFIG_INPUT_KEYBOARD is not set
# CONFIG_INPUT_MOUSE is not set
# CONFIG_INPUT_JOYSTICK is not set
# CONFIG_INPUT_TABLET is not set
# CONFIG_INPUT_TOUCHSCREEN is not set
# CONFIG_INPUT_MISC is not set

#
# Hardware I/O ports
#
# CONFIG_SERIO is not set
# CONFIG_GAMEPORT is not set

#
# Character devices
#
# CONFIG_VT is not set
# CONFIG_SERIAL_NONSTANDARD is not set
# CONFIG_NOZOMI is not set

#
# Serial drivers
#
CONFIG_SERIAL_8250=y
CONFIG_SERIAL_8250_CONSOLE=y
# CONFIG_SERIAL_8250_PCI is not set
CONFIG_SERIAL_8250_NR_UARTS=2
CONFIG_SERIAL_8250_RUNTIME_UARTS=2
CONFIG_SERIAL_8250_EXTENDED=y
# CONFIG_SERIAL_8250_MANY_PORTS is not set
CONFIG_SERIAL_8250_SHARE_IRQ=y
# CONFIG_SERIAL_8250_DETECT_IRQ is not set
# CONFIG_SERIAL_8250_RSA is not set

#
# Non-8250 serial port support
#
CONFIG_SERIAL_CORE=y
CONFIG_SERIAL_CORE_CONSOLE=y
# CONFIG_SERIAL_JSM is not set
CONFIG_UNIX98_PTYS=y
# CONFIG_LEGACY_PTYS is not set
# CONFIG_IPMI_HANDLER is not set
CONFIG_HW_RANDOM=y
# CONFIG_RTC is not set
# CONFIG_R3964 is not set
# CONFIG_APPLICOM is not set
# CONFIG_RAW_DRIVER is not set
# CONFIG_TCG_TPM is not set
CONFIG_DEVPORT=y
# CONFIG_I2C is not set

#
# SPI support
#
# CONFIG_SPI is not set
# CONFIG_SPI_MASTER is not set
# CONFIG_GPIO_DEVICE is not set
# CONFIG_W1 is not set
# CONFIG_POWER_SUPPLY is not set
# CONFIG_HWMON is not set
# CONFIG_THERMAL is not set
# CONFIG_WATCHDOG is not set

#
# Sonics Silicon Backplane
#
CONFIG_SSB_POSSIBLE=y
CONFIG_SSB=y
CONFIG_SSB_PCIHOST_POSSIBLE=y
CONFIG_SSB_PCIHOST=y
CONFIG_SSB_B43_PCI_BRIDGE=y
# CONFIG_SSB_SILENT is not set
CONFIG_SSB_DEBUG=y
CONFIG_SSB_SERIAL=y
CONFIG_SSB_DRIVER_PCICORE_POSSIBLE=y
CONFIG_SSB_DRIVER_PCICORE=y
CONFIG_SSB_PCICORE_HOSTMODE=y
CONFIG_SSB_DRIVER_MIPS=y
CONFIG_SSB_EMBEDDED=y
CONFIG_SSB_DRIVER_EXTIF=y
# CONFIG_SSB_DRIVER_GIGE is not set

#
# Multifunction device drivers
#
# CONFIG_MFD_SM501 is not set

#
# Multimedia devices
#
# CONFIG_VIDEO_DEV is not set
# CONFIG_DVB_CORE is not set
# CONFIG_DAB is not set

#
# Graphics support
#
# CONFIG_DRM is not set
# CONFIG_VGASTATE is not set
# CONFIG_VIDEO_OUTPUT_CONTROL is not set
# CONFIG_FB is not set
# CONFIG_BACKLIGHT_LCD_SUPPORT is not set

#
# Display device support
#
# CONFIG_DISPLAY_SUPPORT is not set

#
# Sound
#
# CONFIG_SOUND is not set
# CONFIG_HID_SUPPORT is not set
CONFIG_USB_SUPPORT=y
CONFIG_USB_ARCH_HAS_HCD=y
CONFIG_USB_ARCH_HAS_OHCI=y
CONFIG_USB_ARCH_HAS_EHCI=y
# CONFIG_USB is not set

#
# NOTE: USB_STORAGE enables SCSI, and &#039;SCSI disk support&#039;
#
# CONFIG_USB_GADGET is not set
# CONFIG_MMC is not set
# CONFIG_MEMSTICK is not set
CONFIG_NEW_LEDS=y
CONFIG_LEDS_CLASS=y

#
# LED drivers
#
# CONFIG_LEDS_ALIX is not set
CONFIG_LEDS_GPIO=y

#
# LED Triggers
#
CONFIG_LEDS_TRIGGERS=y
CONFIG_LEDS_TRIGGER_TIMER=y
CONFIG_LEDS_TRIGGER_HEARTBEAT=y
# CONFIG_LEDS_TRIGGER_MORSE is not set
CONFIG_LEDS_TRIGGER_DEFAULT_ON=y
# CONFIG_INFINIBAND is not set
CONFIG_RTC_LIB=y
# CONFIG_RTC_CLASS is not set

#
# Userspace I/O
#
# CONFIG_UIO is not set

#
# File systems
#
# CONFIG_EXT2_FS is not set
# CONFIG_EXT3_FS is not set
# CONFIG_EXT4DEV_FS is not set
# CONFIG_REISERFS_FS is not set
# CONFIG_JFS_FS is not set
# CONFIG_FS_POSIX_ACL is not set
# CONFIG_XFS_FS is not set
# CONFIG_GFS2_FS is not set
# CONFIG_YAFFS_FS is not set
# CONFIG_OCFS2_FS is not set
# CONFIG_DNOTIFY is not set
# CONFIG_INOTIFY is not set
# CONFIG_QUOTA is not set
# CONFIG_AUTOFS_FS is not set
# CONFIG_AUTOFS4_FS is not set
# CONFIG_FUSE_FS is not set

#
# CD-ROM/DVD Filesystems
#
# CONFIG_ISO9660_FS is not set
# CONFIG_UDF_FS is not set

#
# DOS/FAT/NT Filesystems
#
# CONFIG_MSDOS_FS is not set
# CONFIG_VFAT_FS is not set
# CONFIG_NTFS_FS is not set

#
# Pseudo filesystems
#
CONFIG_PROC_FS=y
# CONFIG_PROC_KCORE is not set
CONFIG_PROC_SYSCTL=y
CONFIG_SYSFS=y
CONFIG_TMPFS=y
# CONFIG_TMPFS_POSIX_ACL is not set
# CONFIG_HUGETLB_PAGE is not set
# CONFIG_CONFIGFS_FS is not set

#
# Miscellaneous filesystems
#
# CONFIG_ADFS_FS is not set
# CONFIG_AFFS_FS is not set
# CONFIG_HFS_FS is not set
# CONFIG_HFSPLUS_FS is not set
# CONFIG_BEFS_FS is not set
# CONFIG_BFS_FS is not set
# CONFIG_EFS_FS is not set
CONFIG_JFFS2_FS=y
CONFIG_JFFS2_FS_DEBUG=0
CONFIG_JFFS2_FS_WRITEBUFFER=y
# CONFIG_JFFS2_FS_WBUF_VERIFY is not set
CONFIG_JFFS2_SUMMARY=y
# CONFIG_JFFS2_FS_XATTR is not set
CONFIG_JFFS2_COMPRESSION_OPTIONS=y
CONFIG_JFFS2_ZLIB=y
# CONFIG_JFFS2_LZO is not set
CONFIG_JFFS2_RTIME=y
# CONFIG_JFFS2_RUBIN is not set
# CONFIG_JFFS2_CMODE_NONE is not set
CONFIG_JFFS2_CMODE_PRIORITY=y
# CONFIG_JFFS2_CMODE_SIZE is not set
# CONFIG_JFFS2_CMODE_FAVOURLZO is not set
# CONFIG_CRAMFS is not set
CONFIG_SQUASHFS=y
# CONFIG_SQUASHFS_EMBEDDED is not set
CONFIG_SQUASHFS_FRAGMENT_CACHE_SIZE=3
# CONFIG_SQUASHFS_VMALLOC is not set
# CONFIG_VXFS_FS is not set
CONFIG_MINI_FO=y
# CONFIG_MINIX_FS is not set
# CONFIG_HPFS_FS is not set
# CONFIG_QNX4FS_FS is not set
# CONFIG_ROMFS_FS is not set
# CONFIG_SYSV_FS is not set
# CONFIG_UFS_FS is not set
CONFIG_NETWORK_FILESYSTEMS=y
# CONFIG_NFS_FS is not set
# CONFIG_NFSD is not set
# CONFIG_SMB_FS is not set
# CONFIG_CIFS is not set
# CONFIG_NCP_FS is not set
# CONFIG_CODA_FS is not set
# CONFIG_AFS_FS is not set

#
# Partition Types
#
CONFIG_PARTITION_ADVANCED=y
# CONFIG_ACORN_PARTITION is not set
# CONFIG_OSF_PARTITION is not set
# CONFIG_AMIGA_PARTITION is not set
# CONFIG_ATARI_PARTITION is not set
CONFIG_MAC_PARTITION=y
CONFIG_MSDOS_PARTITION=y
# CONFIG_BSD_DISKLABEL is not set
# CONFIG_MINIX_SUBPARTITION is not set
# CONFIG_SOLARIS_X86_PARTITION is not set
# CONFIG_UNIXWARE_DISKLABEL is not set
# CONFIG_LDM_PARTITION is not set
# CONFIG_SGI_PARTITION is not set
# CONFIG_ULTRIX_PARTITION is not set
# CONFIG_SUN_PARTITION is not set
# CONFIG_KARMA_PARTITION is not set
# CONFIG_EFI_PARTITION is not set
# CONFIG_SYSV68_PARTITION is not set
# CONFIG_NLS is not set
# CONFIG_DLM is not set

#
# Kernel hacking
#
CONFIG_TRACE_IRQFLAGS_SUPPORT=y
# CONFIG_PRINTK_TIME is not set
CONFIG_ENABLE_WARN_DEPRECATED=y
# CONFIG_ENABLE_MUST_CHECK is not set
# CONFIG_MAGIC_SYSRQ is not set
# CONFIG_UNUSED_SYMBOLS is not set
# CONFIG_DEBUG_FS is not set
# CONFIG_HEADERS_CHECK is not set
# CONFIG_DEBUG_KERNEL is not set
# CONFIG_SAMPLES is not set
CONFIG_CMDLINE=&quot;root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200&quot;

#
# Security options
#
# CONFIG_KEYS is not set
# CONFIG_SECURITY is not set
# CONFIG_SECURITY_FILE_CAPABILITIES is not set
CONFIG_CRYPTO=y
CONFIG_CRYPTO_ALGAPI=m
CONFIG_CRYPTO_AEAD=m
CONFIG_CRYPTO_BLKCIPHER=m
CONFIG_CRYPTO_SEQIV=m
CONFIG_CRYPTO_HASH=m
CONFIG_CRYPTO_MANAGER=m
CONFIG_CRYPTO_HMAC=m
# CONFIG_CRYPTO_XCBC is not set
# CONFIG_CRYPTO_NULL is not set
# CONFIG_CRYPTO_MD4 is not set
# CONFIG_CRYPTO_MD5 is not set
# CONFIG_CRYPTO_SHA1 is not set
# CONFIG_CRYPTO_SHA256 is not set
# CONFIG_CRYPTO_SHA512 is not set
# CONFIG_CRYPTO_WP512 is not set
# CONFIG_CRYPTO_TGR192 is not set
CONFIG_CRYPTO_GF128MUL=m
CONFIG_CRYPTO_ECB=m
CONFIG_CRYPTO_CBC=m
# CONFIG_CRYPTO_PCBC is not set
# CONFIG_CRYPTO_LRW is not set
# CONFIG_CRYPTO_XTS is not set
CONFIG_CRYPTO_CTR=m
CONFIG_CRYPTO_GCM=m
CONFIG_CRYPTO_CCM=m
# CONFIG_CRYPTO_CRYPTD is not set
# CONFIG_CRYPTO_DES is not set
# CONFIG_CRYPTO_FCRYPT is not set
# CONFIG_CRYPTO_BLOWFISH is not set
# CONFIG_CRYPTO_TWOFISH is not set
# CONFIG_CRYPTO_SERPENT is not set
CONFIG_CRYPTO_AES=m
# CONFIG_CRYPTO_CAST5 is not set
# CONFIG_CRYPTO_CAST6 is not set
# CONFIG_CRYPTO_TEA is not set
CONFIG_CRYPTO_ARC4=m
# CONFIG_CRYPTO_KHAZAD is not set
# CONFIG_CRYPTO_ANUBIS is not set
# CONFIG_CRYPTO_SEED is not set
CONFIG_CRYPTO_SALSA20=m
CONFIG_CRYPTO_DEFLATE=m
# CONFIG_CRYPTO_MICHAEL_MIC is not set
# CONFIG_CRYPTO_CRC32C is not set
# CONFIG_CRYPTO_CAMELLIA is not set
# CONFIG_CRYPTO_TEST is not set
# CONFIG_CRYPTO_AUTHENC is not set
CONFIG_CRYPTO_LZO=m
# CONFIG_CRYPTO_HW is not set

#
# Library routines
#
CONFIG_BITREVERSE=y
# CONFIG_CRC_CCITT is not set
CONFIG_CRC16=m
# CONFIG_CRC_ITU_T is not set
CONFIG_CRC32=y
# CONFIG_CRC7 is not set
CONFIG_LIBCRC32C=m
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y
CONFIG_LZO_COMPRESS=m
CONFIG_LZO_DECOMPRESS=m
CONFIG_PLIST=y
CONFIG_HAS_IOMEM=y
CONFIG_HAS_IOPORT=y
CONFIG_HAS_DMA=y
CONFIG_INITRAMFS_SOURCE=&quot;&quot;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69071">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						2 Jun 2008, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>can someone post a /proc/interrupt on a 2.6.25? as my ASUS WL-500g Premium has some irq issues using 2.6.24.17:<br/></p><div class="codebox"><pre><code>root@jukeb0x:~# cat /proc/interrupts
           CPU0
  3:         10            MIPS  serial, gpio
  4:        606            MIPS  eth0
  6:     306304            MIPS  wifi0, uhci_hcd:usb1, uhci_hcd:usb2, ehci_hcd:usb3
  7:     377936            MIPS  timer</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69097">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						3 Jun 2008, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>Not much different:<br/></p><div class="codebox"><pre><code>root@OpenWrt:/packages# cat /proc/interrupts
           CPU0
  3:         10            MIPS  serial, gpio
  4:   10361290            MIPS  eth0
  6:   63272994            MIPS  uhci_hcd:usb1, uhci_hcd:usb2, ehci_hcd:usb3, wifi0
  7:   50647716            MIPS  timer</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69130">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						4 Jun 2008, 00:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>KanjiMonster wrote:</cite><blockquote><p>Not much different:<br/></p><div class="codebox"><pre><code>root@OpenWrt:/packages# cat /proc/interrupts
           CPU0
  3:         10            MIPS  serial, gpio
  4:   10361290            MIPS  eth0
  6:   63272994            MIPS  uhci_hcd:usb1, uhci_hcd:usb2, ehci_hcd:usb3, wifi0
  7:   50647716            MIPS  timer</code></pre></div></blockquote></div><p>thanks, you dont have troubles using wifi and usb on the same irq? as i do, i&#039;ve a sound card connected and if the wifi card receives a package, i can hear this on my sound card (noisy sound/beep..)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69132">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						4 Jun 2008, 00:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>michu wrote:</cite><blockquote><p>thanks, you dont have troubles using wifi and usb on the same irq? as i do, i&#039;ve a sound card connected and if the wifi card receives a package, i can hear this on my sound card (noisy sound/beep..)</p></blockquote></div><p>Not at all, but I&#039;m not using the USB much, just for additional storage for the rooter (through pivoted root).<br/>Perhaps there is a problem with isochronous transfers, or they aren&#039;t properly supported.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69289">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Hauke</div>
					<div class="post-datetime">
						7 Jun 2008, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>Yesterday I set up an Acess Point on my Laptop with an bcm4311.<br/>I used hostapd (out of git) and compat-wireless-2008-06-06.<br/>Hostapd was configured to make a WPA1 protected Wireless Network and connecting with an other client to it worked. I haven&#039;t tested to transfer data but I will try it today.</p><p>So a WPA protected network will hopefully work sometime with OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69311">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">mindmover</div>
					<div class="post-datetime">
						8 Jun 2008, 11:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sbrown wrote:</cite><blockquote><p>Just got wireless working on a Broadcom board.</p><p>I just cooked up the current svn w/ 2.6.25.4. I then replaced the b43.ko, mac80211.ko and cfg80211.ko from the svn build with the ones compiled from the 2.6.25.4 source. That b43 loads, identifies the radio and loads firmware. I can manually associate with an open AP. I tried wpa_supplicant. It worked too and connected to a WPA/TKIP AP. </p><p>This is really encouraging!</p><p>Steve</p></blockquote></div><p>Hej sbrown!</p><p>Awesome work. :) What do you think about sharing your success with us? :) A nice image of your Kamikaze would definitely help us all to understand what you did... In case you are such a nice guy and willing to do it, but having no idea how to, I&#039;ve a little step by step guide:</p><p>- Kamikaze Backup Script:</p><p>cd /tmp/<br/>mount -o remount,ro /dev/mtdblock/4 /jffs<br/>dd if=/dev/mtdblock/1 &gt; /tmp/kam_2_6_25_bcom43.trx<br/>mount -o remount,rw /dev/mtdblock/4 /jffs<br/>dd if=/dev/mtdblock/3 &gt; /tmp/kam_2_6_25_bcom43.bin</p><p>-</p><p>Thanks a lot for helping us! :)</p><p>Best regards,</p><p>Karl.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69418">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						11 Jun 2008, 00:21					</div>
				</div>
				<div class="post-content content">
					<p>The problem w/ the 2.6.25.4 build turns out to be a conditional in ssb.h. The kernel config has CONFIG_SSB_PCIHOST=y, but the makefile for b43 doesn&#039;t have it set. Consequently, the ssb_device structure for the ssb driver and b43 end up being different sizes. That was why the b43 from the kernel tree worked.</p><p>Anyway, if you add the following patch, b43 now runs on my whr-hp-g54 (bcm5352). The firmware loads and it scans.</p><p>However, my wl520gu (bcm5354) randomly reboots or hangs at b43/main.c:1037. I&#039;ll salt it with some printk&#039;s and post the problem. </p><p>The integration of compat-wireless seems a little fragile. For instance, the mac80211 header from the kernel tree is used for the b43 build, but the header from compat-wireless is used for mac80211 and cfg80211. Apparently, all the dependent pieces, like ssb, b43, mac80211, etc. were intended to be build as modules in the compat-wireless tree. However, for an embedded system, the ssb driver has to be build-in. I&#039;m not sure what a tidy solution might be.</p><p>Steve</p><p>Index: package/b43/Makefile<br/>===================================================================<br/>--- package/b43/Makefile&nbsp; &nbsp; (revision 11427)<br/>+++ package/b43/Makefile&nbsp; &nbsp; (working copy)<br/>@@ -45,6 +45,7 @@<br/> &nbsp; &nbsp; CONFIG_B43=m \<br/> &nbsp; &nbsp; CONFIG_B43_NPHY=y \<br/> &nbsp; &nbsp; CONFIG_B43_DEBUG=y \<br/>+&nbsp; &nbsp; CONFIG_SSB_PCIHOST=y \<br/> &nbsp; &nbsp; $(if $(CONFIG_RFKILL),CONFIG_B43_RFKILL=y) \<br/> &nbsp; &nbsp; $(if $(CONFIG_LEDS_TRIGGERS),CONFIG_B43_LEDS=y) \</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69419">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">noz</div>
					<div class="post-datetime">
						11 Jun 2008, 01:51					</div>
				</div>
				<div class="post-content content">
					<p>I agree that it&#039;s a little fragile. The ideal solution would be to make sure the relevant parts make it into the mainstream kernel, and then just use that, but I&#039;m not sure if we can live that far &quot;behind the curve&quot;, although a lot is now in, and the pace of change in the wireless tree is slowing.</p><p>I find it strange that you needed to add that config entry, as the kernel config should be inherited by an external module build, and overridden by what is present in the external module Makefile. b43 &quot;works&quot; for me without changing the Makefile - you may need to make sure it rebuilds fully (rm -r build_dir/linux-brcm47xx/b43; make). By &quot;works&quot; I mean I have tested scanning and station mode without encryption.</p><p>I still have an issue that it will fail to load firmware if the package is already installed at boot, but all will work if I boot without the package and then &#039;ipkg install kmod-b43&#039; later. Haven&#039;t tracked that down yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69464">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						11 Jun 2008, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>You&#039;re right, the config has nothing to do with it. I carefully cleaned everything and it fails consistently. This is on rev 11401. Somewhere between this rev and 11439, I hang in the /etc/preinit script on boot. I&#039;ll bisect for that later.</p><div class="codebox"><pre><code>root@OpenWrt:/# insmod b43                                                                                                                                
/home/brown/wifi/openwrt/git-openwrt/trunk/build_dir/linux-brcm47xx/b43/main.c:4625 chip_id:0x0000
/home/brown/wifi/openwrt/git-openwrt/trunk/build_dir/linux-brcm47xx/b43/main.c:4577 chip_id:0x0000 
b43-phy0: Broadcom 0000 WLAN found
Broadcom 43xx driver loaded [ Features: NLR, Firmware-ID: FW13 ]
root@OpenWrt:/# ifconfig wlan0 up 
input: b43-phy0 as /devices/virtual/input/input0
------------[ cut here ]------------                                                                                                                      
WARNING: at drivers/ssb/driver_pcicore.c:599 ()
Modules linked in: b43 nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp ppp_async ppp_generic slhc crc_ccitt mac8021g
Call Trace:[&lt;801095a0&gt;][&lt;80023d58&gt;][&lt;800090dc&gt;][&lt;800090dc&gt;][&lt;80022944&gt;][&lt;8001f384&gt;][&lt;8001be50&gt;][&lt;8001d4ec&gt;][&lt;8001bef0&gt;][&lt;80036ba8&gt;][&lt;802004c4&gt;][&lt;8020001c]
---[ end trace 263fef7d62ea2325 ]---
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10) 
b43-phy0 warning: LEDs: Unknown behaviour 0x40
b43-phy0 warning: LEDs: Unknown behaviour 0x13
b43-phy0 warning: LEDs: Unknown behaviour 0x60
b43-phy0 warning: LEDs: Unknown behaviour 0x7A
root@OpenWrt:/#</code></pre></div><p>Things go south right away with the chip_id not being where b43 thinks it should be.</p><p>If I build mac80211, cfg80211 and b43 from the 2.6.25.4 distribution, I get something that work:</p><div class="codebox"><pre><code>root@OpenWrt:/lib/modules/2.6.25.4# insmod cfg80211
root@OpenWrt:/lib/modules/2.6.25.4# insmod mac80211
root@OpenWrt:/lib/modules/2.6.25.4# insmod b43              
b43-phy0: Broadcom 5352 WLAN found
Broadcom 43xx driver loaded [ Features: PLR, Firmware-ID: FW13 ] 
root@OpenWrt:/lib/modules/2.6.25.4# ifconfig wlan0 up 
input: b43-phy0 as /devices/virtual/input/input0 
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)                     
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx</code></pre></div><p>And, without evidence, the failure seems to differ based on what else is enabled in the build. This has got to be a build problem associated with compat-wireless. Suppose as an experiment, I just copy the relevant directories from compat-wireless over the kernel tree? Otherwise, I&#039;m not sure where to go from here.</p><p>Steve</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69469">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">SergK</div>
					<div class="post-datetime">
						11 Jun 2008, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>today I&#039;ve build openwrt from current svn for my WL-500GP, used default openwrt config for brcm47xx, didn&#039;t enable kmod-b43 and kmod-mac80211 in config but added following lines to kernel config:<br/></p><div class="codebox"><pre><code>CONFIG_CFG80211=m
CONFIG_NL80211=y
CONFIG_WIRELESS_EXT=y
CONFIG_MAC80211=m
CONFIG_MAC80211_RC_DEFAULT_PID=y
# CONFIG_MAC80211_RC_DEFAULT_SIMPLE is not set
# CONFIG_MAC80211_RC_DEFAULT_NONE is not set
CONFIG_MAC80211_RC_DEFAULT=&quot;pid&quot;
CONFIG_MAC80211_RC_PID=y
# CONFIG_MAC80211_RC_SIMPLE is not set
CONFIG_MAC80211_LEDS=y
CONFIG_MAC80211_DEBUG_PACKET_ALIGNMENT=y
# CONFIG_MAC80211_DEBUG is not set
CONFIG_B43=m
CONFIG_B43_PCI_AUTOSELECT=y
CONFIG_B43_PCICORE_AUTOSELECT=y
CONFIG_B43_LEDS=y
CONFIG_B43_RFKILL=y
CONFIG_B43_DEBUG=y</code></pre></div><p>kernel was 2.6.25.4 and b43 driver was built from kernel tree, not from separate packages. And kernel config was pretty similar to one from sbrown (differences only in ppp and netfilter modules)</p><p>I&#039;ve copied modules b43.ko, cfg80211.ko, mac80211.ko&nbsp; to newly reflashed and booted system, cfg80211 and mac80211was inserted without trouble but while inserting b43 insmod got oops mentioned above in this thread:<br/>b43-phy0: Broadcom 4318 WLAN found<br/>b43-phy0 debug: Found PHY: Analog 3, Type 2, Revision 7<br/>Data bus error, epc == 8011536c, ra == 8015bdf4<br/>Oops[#1]:<br/>Cpu 0<br/>$ 0&nbsp; &nbsp;: 00000000 10009800 81c70454 8015bbe4<br/>..........</p><p>size of the module:<br/>-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp;238049 Jan&nbsp; 1 00:04 b43.ko</p><p>May be anybody know why b43 module built from kernel tree may oops and is linkage bug mentioned above really fixed?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69484">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						12 Jun 2008, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>noz,</p><p>After more thought, I withdraw my dumb &quot;copy compat-wireless over the kernel tree&quot; idea.</p><p>However, your comment about the wireless-testing tree being not that far ahead got me thinking. I tarred up the current wireless-testing tree, hacked the patches so they applied and now have a wireless-testing system (2.6.26-rc5) running. I&#039;m using the b43, mac and cfg from that tree. The b43 driver loads, firmware loads and I get scan results. And it&#039;s absolutely up-to-date. I&#039;m all the more convinced that the problem is some subtle compat-wireless/2.6.25.4 conflict. I also wonder if it&#039;s work tracking down. It might be a lot easier to just use periodic snapshots of the wireless-testing tree.</p><p>Evidence follows,<br/>Steve</p><div class="codebox"><pre><code>root@OpenWrt:/lib/modules/2.6.26-rc5-wl# insmod cfg80211
root@OpenWrt:/lib/modules/2.6.26-rc5-wl# insmod mac80211
root@OpenWrt:/lib/modules/2.6.26-rc5-wl# insmod b43
drivers/net/wireless/b43/main.c:b43_init:4833
drivers/net/wireless/b43/main.c:b43_probe:4667
b43-phy0: Broadcom 5352 WLAN found
Broadcom 43xx driver loaded [ Features: PR, Firmware-ID: FW13 ]
root@OpenWrt:/lib/modules/2.6.26-rc5-wl# ifconfig wlan0 up
input: b43-phy0 as /devices/virtual/input/input0
firmware: requesting b43/ucode5.fw
firmware: requesting b43/pcm5.fw
firmware: requesting b43/b0g0initvals5.fw
firmware: requesting b43/b0g0bsinitvals5.fw
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
root@OpenWrt:/lib/modules/2.6.26-rc5-wl# iwlist wlan0 scan
wlan0     Scan completed :
          Cell 01 - Address: 00:16:01:2E:2B:80 
                    ESSID:&quot;WDS&quot; 
                    Mode:Master
                    Channel:1 
                    Frequency:2.412 GHz (Channel 1)
                    Quality=88/100  Signal level:-40 dBm  Noise level=-54 dBm
                    Encryption key:on 
                    IE: WPA Version 1
                        Group Cipher : TKIP   
                        Pairwise Ciphers (1) : TKIP 
                        Authentication Suites (1) : PSK
                    Bit Rates:1 Mb/s; 2 Mb/s; 5.5 Mb/s; 11 Mb/s; 18 Mb/s
                              24 Mb/s; 36 Mb/s; 54 Mb/s; 6 Mb/s; 9 Mb/s
                              12 Mb/s; 48 Mb/s
                    Extra:tsf=0000010e1fadb1db</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69510">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Philip5</div>
					<div class="post-datetime">
						12 Jun 2008, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>sbrown,</p><p>I&#039;m also fiddling with this problem but I&#039;m no kernel programmer so I try to work with available source code a bit like you did. I experienced a working b43 driver in some rev in trunk a few days or a week ago that i didn&#039;t try much more than it worked without any insmod oops.</p><p>Did you have to do much manual patch edits to get the current patches-2.6.25 tree to work with the brcm47xx and 2.6.26-rc5 source tree?</p><p>I was thinking I would give your solution a try this evening until a better fix/patch comes into trunk.</p><p>Regards,</p><p>Philip</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69512">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						12 Jun 2008, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>I wouldn&#039;t call this a solution, more an experiment to see whether the problems I&#039;ve been having were related to compat-wireless integration or the underlying code. The code in compat-wireless and wireless-testing is identical. I&#039;m now convinced that the problem is compat-wireless. </p><p>Anyway, it wasn&#039;t bad at all. I copied the patches from 2.6.25. Of these, 680 &amp; 700 were already in wireless-testing. 310 didn&#039;t apply, but looked like an optimization, so I left it out until I figure out what it really does. One hunk of 150 didn&#039;t apply, but was easy to fix.</p><p>What was unexpected was that the resulting kernel tree is still a git clone of wireless-testing, so git diff shows all the patches.</p><p>It boots on both a 5354 and a 5352. The radio on the 5352 works, but the 5354 doesn&#039;t. The driver hangs at b43/main.c:1037. I&#039;ll put in some printk&#039;s and post the problem on the bcm43xx-dev list. The same problem occurred on earlier builds using 2.6.25.4.</p><p>Lastly, I used rev 11401 for this because of the hang in /etc/preinit.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 5</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=15443&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=15443&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15443&amp;p=5.html">5</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>