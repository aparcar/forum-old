<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compiling radiusplugin.so for OpenWrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p143630">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Vicinzu</div>
					<div class="post-datetime">
						14 Sep 2011, 10:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>the last daysi have tried to compile the radiusplugin for OpenWrt. But it doesn&#039;t work. first i had the problem to include the libgcrypt source and i finally got it through the customization of the OpenWrt makefile. Now i have errors like &quot;undefined reference to `operator delete(void*)&#039; &quot; and &quot;undefined reference to `operator delete(void*)&#039;&quot;.</p><p>Here an abstract oft the terminal output:<br /></p><div class="codebox"><pre><code>Config.o: In function `Config::getOpenVPNConfig()&#039;:
Config.cpp:(.text+0x58c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.o: In function `Config::setOpenVPNConfig(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;)&#039;:
Config.cpp:(.text+0x5a8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::assign(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.o: In function `Config::parseConfigFile(char const*)&#039;:
Config.cpp:(.text+0x5f4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::_Rep::_S_empty_rep_storage&#039;
Config.cpp:(.text+0x5fc): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::_Rep::_S_empty_rep_storage&#039;
Config.cpp:(.text+0x628): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::basic_ifstream()&#039;
Config.cpp:(.text+0x63c): undefined reference to `std::__basic_file&lt;char&gt;::is_open() const&#039;
Config.cpp:(.text+0x654): undefined reference to `std::basic_istream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::getline&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;(std::basic_istream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;&amp;)&#039;
Config.cpp:(.text+0x6a0): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::copy(char*, unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x6dc): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::copy(char*, unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x710): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x71c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::assign(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0x724): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x758): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x764): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::assign(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0x76c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x7a0): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x7ac): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::assign(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0x7b4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x7ec): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x83c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x874): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x8c4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x8fc): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x94c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x984): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::substr(unsigned int, unsigned int) const&#039;
Config.cpp:(.text+0x9d8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0x9e8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xa24): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::close()&#039;
Config.cpp:(.text+0xa68): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::basic_ifstream()&#039;
Config.cpp:(.text+0xa78): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0xa8c): undefined reference to `std::__basic_file&lt;char&gt;::is_open() const&#039;
Config.cpp:(.text+0xaa4): undefined reference to `std::basic_istream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::getline&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;(std::basic_istream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;&amp;)&#039;
Config.cpp:(.text+0xac0): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0xae4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xb08): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xba8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xbb4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0xbc8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xbf8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xc40): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xc64): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xc74): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.cpp:(.text+0xc9c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039;
Config.o:Config.cpp:(.text+0xcc0): more undefined references to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::erase(unsigned int, unsigned int)&#039; follow
Config.o: In function `Config::parseConfigFile(char const*)&#039;:
Config.cpp:(.text+0xce4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::assign(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text+0xcec): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xd04): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::close()&#039;
Config.cpp:(.text+0xd18): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xd20): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::~basic_ifstream()&#039;
Config.cpp:(.text+0xd30): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xd38): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::~basic_ifstream()&#039;
Config.cpp:(.text+0xd74): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::~basic_ifstream()&#039;
Config.cpp:(.text+0xd7c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xde4): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xdf8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xe0c): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xe20): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xe34): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::~basic_ifstream()&#039;
Config.cpp:(.text+0xe5c): undefined reference to `std::basic_ifstream&lt;char, std::char_traits&lt;char&gt; &gt;::~basic_ifstream()&#039;
Config.cpp:(.text+0xe70): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.o: In function `Config::Config(char*)&#039;:
Config.cpp:(.text+0xe80): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::_Rep::_S_empty_rep_storage&#039;
Config.cpp:(.text+0xe84): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::_Rep::_S_empty_rep_storage&#039;
Config.cpp:(.text+0xf30): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xf38): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xf40): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xf48): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text+0xf50): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.o: In function `bool std::operator==&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, char const*)&#039;:
Config.cpp:(.text._ZSteqIcSt11char_traitsIcESaIcEEbRKSbIT_T0_T1_EPKS3_[bool std::operator==&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, char const*)]+0x8): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::compare(char const*) const&#039;
Config.o: In function `std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;:
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x1c): undefined reference to `operator new(unsigned int)&#039;
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x30): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)&#039;
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x50): undefined reference to `std::_List_node_base::_M_hook(std::_List_node_base*)&#039;
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x58): undefined reference to `__cxa_end_catch&#039;
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x68): undefined reference to `__cxa_begin_catch&#039;
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x70): undefined reference to `operator delete(void*)&#039;
Config.cpp:(.text._ZNSt4listISsSaISsEE9push_backERKSs[std::list&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::push_back(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)]+0x78): undefined reference to `__cxa_rethrow&#039;
Config.o: In function `std::_List_base&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::_M_clear()&#039;:
Config.cpp:(.text._ZNSt10_List_baseISsSaISsEE8_M_clearEv[std::_List_base&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::_M_clear()]+0x20): undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()&#039;
Config.cpp:(.text._ZNSt10_List_baseISsSaISsEE8_M_clearEv[std::_List_base&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::_M_clear()]+0x2c): undefined reference to `operator delete(void*)&#039;
/home/vicinzu/Downloads/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/libgcrypt.so: undefined reference to `gpg_err_code_from_errno&#039;
/home/vicinzu/Downloads/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/libgcrypt.so: undefined reference to `gpg_err_set_errno&#039;
/home/vicinzu/Downloads/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/libgcrypt.so: undefined reference to `gpg_strsource&#039;
/home/vicinzu/Downloads/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/libgcrypt.so: undefined reference to `gpg_strerror&#039;
/home/vicinzu/Downloads/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/libgcrypt.so: undefined reference to `gpg_err_code_from_syserror&#039;
collect2: ld returned 1 exit status
make[3]: *** [radiusplugin.so] Error 1
make[3]: Leaving directory `/home/vicinzu/Downloads/openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.32/radiusplugin_v2.1a_beta1&#039;
make[2]: *** [/home/vicinzu/Downloads/openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.32/radiusplugin_v2.1a_beta1/.built] Error 2
make[2]: Leaving directory `/home/vicinzu/Downloads/openwrt/trunk/package/radiusplugin&#039;
make[1]: *** [package/radiusplugin/compile] Error 2
make[1]: Leaving directory `/home/vicinzu/Downloads/openwrt/trunk&#039;</code></pre></div><p>Here is my Makefile of the radiusplugin:<br /></p><div class="codebox"><pre><code>include $(TOPDIR)/rules.mk

PKG_NAME:=radiusplugin
PKG_VERSION:=v2.1a_beta1
PKG_RELEASE:=1

PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)_$(PKG_VERSION)
PKG_SOURCE:=$(PKG_NAME)_$(PKG_VERSION).tar.gz
PKG_SOURCE_URL:=http://www.nongnu.org/radiusplugin
PKG_MD5SUM:=e29cbc506ae3acd735dfecb4cd39ebaa
PKG_CAT:=zcat
PKG_BUILD_DEPENDS:=libgcrypt

include $(INCLUDE_DIR)/package.mk

define Package/openvpn-mod-radiusplugin
  SECTION:=net
  CATEGORY:=Network
  SUBMENU:=VPN
  TITLE:=Plugin for OpenVPN
  URL:=http://www.nongnu.org/radiusplugin/
  DEPENDS:=+libgcrypt +lpthread +openvpn
  MENU:=1
endef


define Package/openvpn-mod-radiusplugin/description
    Plugin for radius authentication and accounting support for OpenVPN
endef


define Build/Compile
        $(MAKE) -C $(PKG_BUILD_DIR) \
        $(TARGET_CONFIGURE_OPTS) \
        CFLAGS=&quot;$(TARGET_CFLAGS) -I$(STAGING_DIR)/usr/include&quot; \
       LDFLAGS=&quot;-L$(STAGING_DIR)/usr/lib -lgcrypt -lpthread&quot;
endef

define Package/openvpn-mod-radiusplugin/install
    $(INSTALL_DIR) $(1)/etc/openvpn
    $(CP) $(PKG_BUILD_DIR)/radiusplugin.so $(1)/etc/openvpn
    $(CP) $(PKG_BUILD_DIR)/radiusplugin.cnf $(1)/etc/openvpn
endef

$(eval $(call BuildPackage,openvpn-mod-radiusplugin))</code></pre></div><p>I hope you can help me. It is the last thing i wanted to get working for my new Router.</p>											<p class="post-edited">(Last edited by <strong>Vicinzu</strong> on 14 Sep 2011, 10:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144166">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Vicinzu</div>
					<div class="post-datetime">
						21 Sep 2011, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>Can nobody help? :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144173">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						21 Sep 2011, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>The error messages posted above do not contain the command line leading to the error.<br />Common causes are using gcc instead of g++ or missing linking to the C++ runtime.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144178">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Vicinzu</div>
					<div class="post-datetime">
						21 Sep 2011, 17:45					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your reply!</p><p>I am a newbie in this area. I think the radiusplugin Makefile uses g++.</p><p>Here is it:<br /></p><div class="codebox"><pre><code>BLUE    =\033[20;36m
GREEN   =\033[32m
RED     =\033[31m
ESC     =\033[0m
OK      =[$(GREEN) Ok $(ESC)]
FAILED  =[$(RED) failed $(ESC)]

CC=g++



INCL=
LDFLAGS=
LIBS=-lgcrypt -lpthread
CFLAGS=-Wall -shared -fPIC -DPIC


PLUGIN=radiusplugin.so

OBJECTS=\
  RadiusClass/RadiusAttribute.o \
  RadiusClass/RadiusPacket.o \
  RadiusClass/RadiusConfig.o \
  RadiusClass/RadiusServer.o \
  RadiusClass/RadiusVendorSpecificAttribute.o \
  AccountingProcess.o \
  Exception.o \
  PluginContext.o \
  UserAuth.o \
  AcctScheduler.o \
  IpcSocket.o \
  radiusplugin.o \
  User.o \
  AuthenticationProcess.o \
  main.o \
  UserAcct.o \
  UserPlugin.o \
  Config.o

all: $(PLUGIN)

$(PLUGIN): $(OBJECTS)
    @echo -e &#039;BIN: $(GREEN) $(PLUGIN) $(ESC)&#039;
    @$(CC) $(CFLAGS) $(OBJECTS) -o $(PLUGIN) $(LDFLAGS) $(LIBS)

%.o: %.cpp
    @echo -e &#039;OBJ: $(GREEN) $@ $(ESC)&#039;
    @$(CC) $(INCL) $(CFLAGS) -o $@ -c $&lt;

test: $(OBJECTS)
    @$(CC) -Wall $(OBJECTS) -o main $(LDFLAGS) $(LIBS)

clean:
    -rm $(PLUGIN) *.o */*.o</code></pre></div><p>I have found the error, but the libgpg-error.so is in the folder ./staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/:<br /></p><div class="codebox"><pre><code>RadiusClass/RadiusPacket.o: In function `RadiusPacket::radiusSend(std::_List_iterator&lt;RadiusServer&gt;)&#039;:
RadiusPacket.cpp:(.text+0xa50): warning: gethostbyname is obsolescent, use getnameinfo() instead.
/home/vicinzu/Downloads/openwrt/trunk/staging_dir/toolchain-mips_r2_gcc-4.5-linaro_uClibc-0.9.32/lib/gcc/mips-openwrt-linux-uclibc/4.5.4/../../../../mips-openwrt-linux-uclibc/bin/ld: warning: libgpg-error.so.0, needed by /home/vicinzu/Downloads/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.32/usr/lib/libgcrypt.so, not found (try using -rpath or -rpath-link)
RadiusClass/RadiusAttribute.o: In function `_Z41__static_initialization_and_destruction_0ii.clone.9&#039;:</code></pre></div><p>What should i do?</p><p>Edit: As I see, you also come from germany.</p>											<p class="post-edited">(Last edited by <strong>Vicinzu</strong> on 21 Sep 2011, 17:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144192">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						21 Sep 2011, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>In your openwrt Makefile, try passing&nbsp; CC=&quot;$(TARGET_CXX)&quot; before CFLAGS and LDFLAGS</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144194">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Vicinzu</div>
					<div class="post-datetime">
						21 Sep 2011, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>Thank you! It seems it worked!!! VIELEN DANK!!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>If someone wants to compile the Plugin for his OpenWrt, this is the makefile:<br /></p><div class="codebox"><pre><code>include $(TOPDIR)/rules.mk

PKG_NAME:=radiusplugin
PKG_VERSION:=v2.1a_beta1
PKG_RELEASE:=1

PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)_$(PKG_VERSION)
PKG_SOURCE:=$(PKG_NAME)_$(PKG_VERSION).tar.gz
PKG_SOURCE_URL:=http://www.nongnu.org/radiusplugin
PKG_MD5SUM:=e29cbc506ae3acd735dfecb4cd39ebaa
PKG_CAT:=zcat
PKG_BUILD_DEPENDS:=libgcrypt libgpg-error

include $(INCLUDE_DIR)/package.mk

define Package/openvpn-mod-radiusplugin
  SECTION:=net
  CATEGORY:=Network
  SUBMENU:=VPN
  TITLE:=Plugin for OpenVPN
  URL:=http://www.nongnu.org/radiusplugin/
  DEPENDS:=+libgcrypt +lpthread +openvpn +libgpg-error
  MENU:=1
endef


define Package/openvpn-mod-radiusplugin/description
    Plugin for radius authentication and accounting support for OpenVPN
endef


define Build/Compile
        $(MAKE) -C $(PKG_BUILD_DIR) \
        $(TARGET_CONFIGURE_OPTS) \
    CC=$(TARGET_CXX) \
        CFLAGS=&quot;$(TARGET_CFLAGS) -I$(STAGING_DIR)/usr/include&quot; \
       LDFLAGS=&quot;-L$(STAGING_DIR)/usr/lib -lgcrypt -lpthread -lgpg-error&quot;
endef

define Package/openvpn-mod-radiusplugin/install
    $(INSTALL_DIR) $(1)/etc/openvpn
    $(CP) $(PKG_BUILD_DIR)/radiusplugin.so $(1)/etc/openvpn
    $(CP) $(PKG_BUILD_DIR)/radiusplugin.cnf $(1)/etc/openvpn
endef


$(eval $(call BuildPackage,openvpn-mod-radiusplugin))</code></pre></div><p>Unfortunately i don&#039;t have time to test the compiled plugin with openwrt until october. But I will reply in this thread if there had been problems or it worked like it should.</p><p>Thank you jow!</p>											<p class="post-edited">(Last edited by <strong>Vicinzu</strong> on 21 Sep 2011, 21:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145466">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Vicinzu</div>
					<div class="post-datetime">
						9 Oct 2011, 20:52					</div>
				</div>
				<div class="post-content content">
					<p>I am sorry, but it didn&#039;t work.<br />The plugin has to be declared in the OpenVPN server-file as sucha n line: &quot;plugin /.../radiusplugin.so /.../radiusplugin.cnf&quot;.<br />But it seems that OpenVPN doesn&#039;t recognize this line when starting the Server.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>