<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> P-2812HNU-FX: getting OpenWrt installed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Jun 2015 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 19 of 23</div><nav><ul><li><a href="viewtopic.php%3Fid=53511&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=18.html">18</a></li><li class="pagination-current"><span>19</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=21.html">21</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=23.html">23</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p310086">
				<div class="post-metadata">
					<div class="post-num">Post #451</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						3 Feb 2016, 03:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>courfazor wrote:</cite><blockquote><p>So I attempted to build from trunk like forgetmij and ZyNTaX here did with no success. First build booted and the GUI was showing right stats compared to scapi pre-build on my F3 device, but I somehow broke several functions. Next time I tried it seems like my router doesn&#039;t even want to give me a lease on DHCP. I guess this is to be expected since I have no idea what I&#039;m doing, maybe I should go back to Chaos Calmer again, at least I got it to work and it got public IPs from WAN with dhcpcd? Anyone got any ideas?</p></blockquote></div><p><strong>courfazor</strong>,<br />Default builds will activate DSL functions, if you don&#039;t use them, <strong>get ride of them!</strong> I experienced the same issues with lots of CPU usage and even network / DHCP failures -timeouts-. <a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=19&amp;t=61">http://dgcomsys.noip.me/phpbb/viewtopic … 9&amp;t=61</a><br />After turning off &amp; removing all (x)DSL functions, my F1&#039;s get much quieter, especially on LuCI&#039;s graphs (which also uses to much CPU in my opinion <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> )</p><p>Maybe it helps?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310193">
				<div class="post-metadata">
					<div class="post-num">Post #452</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						3 Feb 2016, 22:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DGDodo wrote:</cite><blockquote><p><strong>courfazor</strong>,<br />Default builds will activate DSL functions, if you don&#039;t use them, <strong>get ride of them!</strong> I experienced the same issues with lots of CPU usage and even network / DHCP failures -timeouts-. <a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=19&amp;t=61">http://dgcomsys.noip.me/phpbb/viewtopic … 9&amp;t=61</a><br />After turning off &amp; removing all (x)DSL functions, my F1&#039;s get much quieter, especially on LuCI&#039;s graphs (which also uses to much CPU in my opinion <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> )</p><p>Maybe it helps?</p></blockquote></div><p>I think there might be something in what you are saying, that the processes pile up and cause timeouts. I had that GUI problem where it could take half a minute for the interfaces page to actually load the interfaces, the switch details to show up etc. When I first booted it now to test what you were claiming it was responsive, the GUI immediately shows what it is supposed to after maybe 1 secound delay for the page to load. I fired up nginx on my RPi and grabbed a file from LAN over Wi-Fi, and sure enough I&#039;m getting 48Mbps and not the 8Mbps I got before, huge improvement! I&#039;m sure the bottleneck is either the SATA-USB card, RPi bandwidth or CPU/RAM. Same thing for WAN, I got it up to 30Mbps on one file download which is my line speed.</p><p>To make sure there is going to be no issues piling up I disabled the four packages with DSL in them like you suggested (even though I might have use for it in the future, I can just reflash the image or install packages), but ltq-vdsl-app prerm script fails and returns status 1. I simply did a --force-remove despite the error, maybe compile without ADSL? Everything seems to work fine for the time being, I feel like things are going stable on Chaos Calmer. Maybe once I get to know it better I will attempt DD again. It might be that my build environment is polluted, that I unlucky got some trunks with bad patches or Lantiq related errors nobody bothered to solve.</p><p>Ordered my second OpenWRT router that has 5 GHz three days ago, I got a very pesky channel hijack from some DD-WRT days ago which made latency of 100-200ms, not fun with nearby routers. I want to compile shadowsocks-libev for LuCI with embed-TLS once it is ready, uses PolarSSL for the time being. Think I should try a more basic proxy like SQUID? <a href="https://github.com/shadowsocks/openwrt-shadowsocks">https://github.com/shadowsocks/openwrt-shadowsocks</a> Maybe some LED scripts too, I really like the rainbow it makes on boot, could be fun to make it scroll through the LEDs slowly and actions like that.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 3 Feb 2016, 22:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310213">
				<div class="post-metadata">
					<div class="post-num">Post #453</div>
					<div class="post-author">jsface</div>
					<div class="post-datetime">
						4 Feb 2016, 00:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Step 1-5 from the wiki are oke, result of step 5 was 23813 bytes written: OK<br />When I did step 6, power off board and again on I get this:</p><p>ROM VER: 1.0.5<br />CFG 06<br />NAND<br />NAND Read OK<br />U-Boot SPL 2013.10-openwrt5 (Nov 18 2014 - 19:54:01)<br />SPL: initializing NAND flash<br />SPL: checking U-Boot image<br />SPL: loading U-Boot to RAM<br />SPL: decompressing U-Boot with LZO<br />SPL: jumping to U-Boot</p><p>U-Boot 2013.10-openwrt5 (Nov 18 2014 - 19:54:01) P-2812HNU-Fx<br />Board: ZyXEL P-2812HNU-Fx<br />SoC:&nbsp; &nbsp;Lantiq VRX288 v1.1<br />CPU:&nbsp; &nbsp;500 MHz<br />IO:&nbsp; &nbsp; 250 MHz<br />BUS:&nbsp; &nbsp;250 MHz<br />BOOT:&nbsp; NAND<br />DRAM:&nbsp; 128 MiB<br />NAND:&nbsp; 128 MiB<br />*** Warning - bad CRC, using default environment<br />In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ltq-eth<br />Hit any key to stop autoboot:&nbsp; 0<br />Wrong Image Format for bootm command<br />ERROR: can&#039;t get kernel image!</p><p>As you can see: *** Warning - bad CRC, using default environment<br />and:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Wrong Image Format for bootm command<br />ERROR: can&#039;t get kernel image! </p><p>In step 5 I have tried nand write.e but that did not solve the problem.</p><p>When I go on I get after step 7 (bootm 0x80800000):<br />.......<br />Verifying Checksum ... OK<br />Uncompressing Kernel Image ... LZHA: uncompress or overwrite error 7 - must RESET b</p><p>After resetting I get the same errors as before.</p><p>I hope you can give me a next step.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310342">
				<div class="post-metadata">
					<div class="post-num">Post #454</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						5 Feb 2016, 00:44					</div>
				</div>
				<div class="post-content content">
					<p><strong>jsface</strong>,</p><p>Your on the good way! The u-boot loader is installed correctly if every boot you -serial- see:<br />U-Boot SPL 2013.10-openwrt5 (Nov 18 2014 - 19:54:01)<br />... until ...<br />ERROR: can&#039;t get kernel image!</p><p>The message: <em>*** Warning - bad CRC, using default environment</em><br />Is a normal one, is part of boot process.</p><p>You have to break the boot (or it just ends at), by pressing &#039;any key&#039; @ <em>Hit any key to stop autoboot:</em><br />The &#039;P-2812HNU-F1 #&#039; prompt will appear.</p><p>If you type ? (and enter) you will see a list of commands like:<br /></p><div class="codebox"><pre><code>?       - alias for &#039;help&#039;
base    - print or set address offset
bdinfo  - print Board Info structure
bootm   - boot application image from memory
bootp   - boot image via network using BOOTP/TFTP protocol
chpart  - change active partition
cmp     - memory compare
cp      - memory copy
crc32   - checksum calculation
editenv - edit environment variable
env     - environment handling commands
exit    - exit script
false   - do nothing, unsuccessfully
go      - start application at address &#039;addr&#039;
help    - print command description/usage
iminfo  - print header information for application image
loadb   - load binary file over serial line (kermit mode)
loadx   - load binary file over serial line (xmodem mode)
loady   - load binary file over serial line (ymodem mode)
loop    - infinite loop on address range
md      - memory display
mdio    - MDIO utility commands
mii     - MII utility commands
mm      - memory modify (auto-incrementing address)
mtdparts- define flash/nand partitions
mw      - memory write (fill)
nand    - NAND sub-system
nboot   - boot from NAND device
nm      - memory modify (constant address)
ping    - send ICMP ECHO_REQUEST to network host
printenv- print environment variables
reset   - Perform RESET of the CPU
run     - run commands in an environment variable
saveenv - save environment variables to persistent storage
setenv  - set environment variables
showvar - print local hushshell variables
test    - minimal test like /bin/sh
tftpboot- boot image via network using TFTP protocol
true    - do nothing, successfully
ubi     - ubi commands
ubifsload- load file from an UBIFS filesystem
ubifsls - list files in a directory
ubifsmount- mount UBIFS volume
ubifsumount- unmount UBIFS volume
version - print monitor, compiler and linker version</code></pre></div><p>Next, you write: <em>I have tried nand write.e</em>, I don&#039;t understand what you did there, but that&#039;s not on the installation guide <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-f1">https://wiki.openwrt.org/toh/zyxel/p2812hnu-f1</a> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>This should be: <em>nand write 0x80700000 0x0 0x{filesize in hex}</em><br />Where {filesize in hex} is the hex value of filesize of openwrt-lantiq-p2812hnufx_nandtpl-u-boot.img<br />(In my case i believe it was something like: <em>nand write 0x80700000 0x0 0x20000</em>,<br />not to mix this up with step 4 - 6 of installing OpenWRT, as there the parameter there is 10x bigger, 200000 <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> )</p><p>[<strong>EDITED-DG</strong>] You wrote this in your first line: &#039;step 5 was 23813 bytes written: OK&#039;, so your good to go on <em>installing OpenWrt</em></p><p>I guess, if you follow the steps i did in this post <a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=19&amp;t=48#p108">http://dgcomsys.noip.me/phpbb/viewtopic … ;t=48#p108</a> (my site which contains complete log files).<br />This is the same as continue with step 3 of <em>installing OpenWrt</em> (which should not -and never- be mixed up with the steps in <em>Replacement of factory U-Boot</em> !!).</p><p>Hope you get some further now.<br />Otherwise i could pre-build a F1-device, have about 5 now laying around ?</p>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 5 Feb 2016, 00:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310378">
				<div class="post-metadata">
					<div class="post-num">Post #455</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						5 Feb 2016, 11:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DGDodo wrote:</cite><blockquote><p><strong>jsface</strong>,<br />Hope you get some further now.<br />Otherwise i could pre-build a F1-device, have about 5 now laying around ?</p></blockquote></div><p>Where do you get these, leftovers from ISP support section? I know a lot of people have ZyXel here because the most popular ADSL company was using their brand exclusively. There must be a lot of these routers around if one knows where to look. It is such a shame that the firmware on it is utter crap though, I guess people will throw them?</p><p>I know that it happens because a friend of mine works with satellite receivers that have recording function and is rented out to people. Recently replaced them with new UHD ones, and took out a lot of the 1TB drives by hand, free storage is always accepted.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 5 Feb 2016, 11:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310393">
				<div class="post-metadata">
					<div class="post-num">Post #456</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						5 Feb 2016, 14:37					</div>
				</div>
				<div class="post-content content">
					<p><strong>courfazor</strong>,</p><p>The first 2 i got from my brother and sister which had used it, but were laying around after they received new modems.<br />3rd F1 i bought from (Dutch) &#039;marktplaats&#039; for €15 (somewhere last year), the last 2 F1&#039;s for €5 each (last month), same as:<br /><a href="http://www.marktplaats.nl/a/computers-en-software/netwerkkaarten-routers-en-switches/m1017772352-zyxel-router.html?c=8c285449651fa109c354bbabe740c1b&amp;previousPage=lr">http://www.marktplaats.nl/a/computers-e … ousPage=lr</a><br />As i have company lease car with gasoline, i did combine some work with collecting these cheap F1&#039;s <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>[<strong>EDITED-DG</strong>] </p><p>Btw, package ltq-vdsl-app can be removed from GUI by removing <em>atm-esi</em> (also used for (x)DSL?):<br /></p><div class="codebox"><pre><code>Removing package ltq-vdsl-app from root...
Removing package atm-esi from root...</code></pre></div>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 5 Feb 2016, 17:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310424">
				<div class="post-metadata">
					<div class="post-num">Post #457</div>
					<div class="post-author">jsface</div>
					<div class="post-datetime">
						5 Feb 2016, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>DGDodo,</p><p>Thanks for your support.<br />Yes, if I type ? I see the list of commands.<br />Then I have installed OpenWRT from step 1 - 7 and then difference with your log is:<br />Your log<br />Uncompressing Kernel Image . . .&nbsp; OK<br />My log<br />Uncompressing Kernel Image . . .&nbsp; LZMA: uncompress or overwrite error 7 - must REST b</p><p>From your log I see that you have other versions<br />Your log<br />U-Boot 2014&nbsp; (Dec 08 2014 - 23:28:15)&nbsp; P-2812HNU-F1<br />My log<br />U- Boot 2013.10-openwrt5 (Nov 18 2014&nbsp; - 19:54:02)<br />Your log of bootm<br />Image Name: MIPS OpenWrt Linux-3.14.25<br />Created: 2014-12-03&nbsp; 20:30:08 UTC<br />My log of bootm<br />Image Name: MIPS OpenWrt Linux-3.18.21<br />Created: 2015-09-23&nbsp; 21:03:52 UTC</p><p>So my U-Boot version is older and my MIPS OpenWrt Linux is newer.</p><p>Do I have the right versions of software??</p><p>About your question of using nand write.e<br />I found on the forum the same question I have about bad blocks and the answer was try write.e,<br />nand write does not look for bad blocks write.e does.</p><p>Can you give me the right url to download the software, could that be the problem?</p><p>Regards</p>											<p class="post-edited">(Last edited by <strong>jsface</strong> on 5 Feb 2016, 21:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310459">
				<div class="post-metadata">
					<div class="post-num">Post #458</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						6 Feb 2016, 05:13					</div>
				</div>
				<div class="post-content content">
					<p><strong>jsface</strong>,</p><p>First of all, you say: <em>I have about bad blocks and the answer was try write.e</em><br />How many bad blocks do you get when you type: &#039;nand bad&#039; (after break into u-boot prompt)?<br />Are there only a few bad blocks (not more then 10), it should be no problem.<br />When you have more bad blocks, use: &#039;nand scrub.chip&#039; ( @ own risk <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> )<br />I had 73 bad blocks ones, and fixed it with nand scrub.chip command:<br /><a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=19&amp;t=48#p112">http://dgcomsys.noip.me/phpbb/viewtopic … ;t=48#p112</a><br />When you keep too much bad blocks after the command, the chip is defect, box is bricked (i guess).</p><br /><p>As you can read here:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=266091#p266091">https://forum.openwrt.org/viewtopic.php … 91#p266091</a><br />I had exactly the same LZMA issue on one of my boxes, although the log does not show the answer, i see now! <br />What&#039;s happening after &#039;Uncompressing Kernel Image . . .&nbsp; LZMA: uncompress or overwrite error 7 - must REST b&#039;?<br />In my loggings it looks like the box reboot but then starts ok. But i doubt that. If you come back in prompt you could try: reset</p><br /><p>If you have the right file versions, i don&#039;t know, where did you get them? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Most of mine were posted here and still active, however i don&#039;t know all the files, some could be damaged / wrongly downloaded?<br />I see now, i have here a F1 running the same u-boot as yours: U-Boot 2013.10-openwrt5 (Nov 18 2014 - 19:54:01) P-2812HNU-Fx<br />So that one should be ok! As i did already run several images on that one.</p><p>Anyway: You only have to perform steps 1 to 7 of installing OpenWrt again, without or with the nand scrub command.</p><p>It took me also more then 1 try, for u-boot, aswell as for installing OpenWrt images.</p><p><span class="bbu">Keep in mind:</span> Don&#039;t tftp the files from a remote location !!! Especially NOT wireless!!<br />So the files to be sent to the F1 device should be on HD on same PC as tftp server.<br />I had wierd &amp; strange issues by tftp the files correctly but unreadable on F1, when my tftp server took the files wireless from my NAS to send them to the F1 box.<br />Check all network traffic settings on both sides before &#039;tftp&#039; files to F1 (bdinfo on F1 (boot)prompt)</p><p>Hope this helps out.</p>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 6 Feb 2016, 05:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310732">
				<div class="post-metadata">
					<div class="post-num">Post #459</div>
					<div class="post-author">forgetmij</div>
					<div class="post-datetime">
						8 Feb 2016, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I looked at the driver.c code in thelinux tree to see what I could do about making the buffer smaller etc.. Bad thing: A lot of work just to try and get this thing to work, good side: If one DID bother however, it seemed as one could in fact, hack it enough to make it work properly.</p><p>Anyway, I ditched it and got a Asus N66U, but not impressed with it at all, bloody shite actually but oh well. Will return it and go for a used router to slap open or tomato on hehe for half the price.</p><p>So, but to answer some tips on the compiling:</p><p>If i recall correctly do something like </p><p>initial:<br />git clone git repo<br />scripts/feeds update -a<br />scripts/feeds install&nbsp; -a<br />make menuconfig<br />#(choose target, subtarget n that}<br />#exit/save<br />make defconfig<br />make menuconfig <br /># Now choose whatevcer the fook you want, but try until you get used to the system to compiule stuff as M rather than *<br /># as M can be overriden and ignored whilst ocmpiling.<br /># How? Well, here is a tip to make things quicker, instead of just doing -j1:</p><p> time make -j12 V=s&nbsp; IGNORE_ERRORS=m BUILD_LOG=1 2&gt; build.log</p><p>CHoose j to y9our liking , generally 1.5xthreads, or +1-2 people have diufferent ways of seein git. Do what tickles your scrotum.</p><p>Now, it will _probably_ fail, but now here comes the good parts:</p><p>IGNORE_ERRORS=m, means that the m modules won&#039;t break yoru build. SO if it still fails, it is due to something more fundamental:<br />(you can find the not so cruicial ones in e.g.) BUILD_LOG=1:</p><p>cat logs/packages/feeds/errors.text for example or so.</p><p>But the MAIN place to find those secretive erros, _without doing -1 [but NEEDS V=s still], is in <br />cat build.log</p><p>Thisi is WHERE you will find hints to what is wrong. In no time will you have stuff compiled. </p><p>Hope it helps.</p><br /><p>About fixing the ring buffer and whatnot, it just is a bit too crap tbh. As scapi said, this thing wasn&#039;t build for speed. <br />It&#039;s not JUST wifi which breaks, it is also the lan. ANyway Scapi&#039;s method was to bring the wan port onto the switch.. this is NOT a working solution, as if the power goes down or a reboot, will leav eyour computer on the upstream network, aka WAN lol unless you manaually restart the dhcp server.. not good enough. </p><p>The solution is the ring issue, which drops packets.. fine if you don&#039;t care much I guess, not cool if you game or do other RT stuff.</p><p>But, I am gonna look into cutomising the stock firmware, as I do not care much for the usual backdoor stuff by companies, and so I might just rip out some of the services and install new ones in the stock and use that, if I can&#039;t get openwrt to work better with the onboard switch.</p><p>Laters.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310750">
				<div class="post-metadata">
					<div class="post-num">Post #460</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						8 Feb 2016, 17:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>forgetmij wrote:</cite><blockquote><p>The solution is the ring issue, which drops packets.. fine if you don&#039;t care much I guess, not cool if you game or do other RT stuff.</p><p>But, I am gonna look into cutomising the stock firmware, as I do not care much for the usual backdoor stuff by companies, and so I might just rip out some of the services and install new ones in the stock and use that, if I can&#039;t get openwrt to work better with the onboard switch.</p><p>Laters.</p></blockquote></div><p>Problem is that the stock firmware is heavily outdated, I did upload the latest firmware of my ISP though but it might prove useless without the locked bootloader. Nevertheless Wi-Fi on the stock firmware works perfectly right? It might be that it has a Linux kernel which is outdated in order to run the blobs, like ASUS Broadcom routers like mine do 2.* kernel on Tomato/DD-WRT in order to run Wi-Fi like it was meant, but you can obviously see some security concerns doing this.</p><p>Either way, the OpenWRT U-Boot lets you replace it without having to change CPU mode, otherwise it will be to bothersome to go back and forth. And I did a bit of research after hearing that DGDodo said he bought one cheap. Sure enough I see people selling these routers in the range of €8-20 used. It must be that the ISP firmware is bad and people just don&#039;t like them. It&#039;s such a shame to see gigabit hardware being treated like this. I almost bought another one besides the one I have of these for €8 since someone nearby sells it so I could get the 12V2A power supply cable for another router (haha).</p><p>Such a shame about the buffer. Do you know if this only applies to @scapis own fix, maybe you can make a script that restarts the DHCP server after poweroff/reboot? Or would for example forgetting about the WAN port entirely just using the LAN ports as a switch (with Wi-Fi) work out? I can just set-up a firewall on my computers there is no stress in this regard. It&#039;s a shame to use the firewall but hey at least the router works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310767">
				<div class="post-metadata">
					<div class="post-num">Post #461</div>
					<div class="post-author">forgetmij</div>
					<div class="post-datetime">
						8 Feb 2016, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>You can do some scripts yes, but still... it just didn&#039;t feel right.. the best thing is to keep the port seperate imo.. and patch the driver (which is open). </p><p>Anyway, Well, yes the firmware stock has an old kernel, most embedded systems will and do. There will always be security issues, potentially very long lasting zero exploits vs. old ones vs. more zero day exploits on newer ones.. anyway, with binary blobs in the system it really doesn&#039;t matter anyway. Most companies happily coopoerate with fascist government(s) so there is little you can do.</p><p>About other general drive by cyber thugs, you can improve it by editing the stock firmware. I think I will give it a try in the coming weeks, if I get time.</p><p>get rid of their servers and drop in locally compiled software and see how it goes.</p><p>Scapi can speak for his fix, he for saure has more of a clue than me about these things... I did however glanc eon the driver file as said, and I think some tweaking for the VR9 can be done successfully. I just am not gonna bother doing it myself, I think, since I am playing with some broadcom routers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311502">
				<div class="post-metadata">
					<div class="post-num">Post #462</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						15 Feb 2016, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone here happen to have the product brief for the Lantiq processor? They seem to be completely wiped off the web. And you have to register on their site to get access to these.</p><p>I see that it has 1 Gbps links but I wonder if that counts for all the ports, as forgetmij seemed to have mentioned that it only gave it for a few ports and would fallback to 100 instead if you used all the 5 ports. Even if the firmware is trash it could be a good switch, as gigabit switches at least here go for prices such as 40 dollars. Not like it matters, as long as it still offers gigabit for three/four ports and doesn&#039;t degrade all of them to 100M.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 15 Feb 2016, 13:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311576">
				<div class="post-metadata">
					<div class="post-num">Post #463</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						15 Feb 2016, 22:54					</div>
				</div>
				<div class="post-content content">
					<p><strong>courfazor</strong>,</p><p>Why not register to see these docs?</p><p>I have a P-2812-HNU-F1, which ZyXEL firmware V1.00(AACC.3), running:<br />- WAN=1000Mbps (1)<br />- LAN=1000Mbps (2)<br />- wlan=300Mbps (x)<br /><span class="postimg"><img src="http://dgcomsys.noip.me/DGWP01/wp-content/uploads/2016/02/img_56c236076de23.png" alt="http://dgcomsys.noip.me/DGWP01/wp-content/uploads/2016/02/img_56c236076de23.png" /></span><br />Without any problems.<br />About 1 year ago, i did had sometimes a fallback to 100Mbps on WAN, when the box was connected with a much longer cable to other room. Did not have these issues anymore with max 2meter (&amp; better) cables.<br />Throughputs on LAN are beyond 80MB/s (around 800Mbps!), to WAN nowadays i don&#039;t know, as WAN is now connected to internet and fast enough 4 ISP max transferrate.</p><p>Other F1&#039;s are running OpenWrt and didn&#039;t see them fallback to 100Mbps (yet), but i know there are some issues with big throughputs from WAN to LAN running OpenWrt. I hope to get some answers by testing in coming months, but also busy with &#039;normal&#039; job <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />But the sometimes mentioned &#039;<a href="https://forum.openwrt.org/viewtopic.php?id=53511">eth1: tx ring full</a>&#039; error, i did not see lately (builds r47000+, Linux 4.x.0)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311816">
				<div class="post-metadata">
					<div class="post-num">Post #464</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						17 Feb 2016, 12:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DGDodo wrote:</cite><blockquote><p><strong>courfazor</strong>,</p><p>Why not register to see these docs?</p></blockquote></div><p>Well, I did register, but it doesn&#039;t seem like those data/specification sheets are on there. All I could find was ARX300.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311862">
				<div class="post-metadata">
					<div class="post-num">Post #465</div>
					<div class="post-author">System Error Message</div>
					<div class="post-datetime">
						17 Feb 2016, 19:53					</div>
				</div>
				<div class="post-content content">
					<p>I cant seem to get openwrt installed, i have the p-2812hnu-f1 but shorting r17 does nothing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311903">
				<div class="post-metadata">
					<div class="post-num">Post #466</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						17 Feb 2016, 23:35					</div>
				</div>
				<div class="post-content content">
					<p><strong>System Error Message</strong>,</p><p>If you don&#039;t power the F1 &#039;on&#039;, don&#039;t have a working TTL serial connection (when the F1 is &#039;on&#039;) you will not get any further <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /></p><p>Within <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-f1">OpenWrt&#039;s ZyXEL P-2812HNU-F1</a> page is clearly written:<br />- Short the (R17) bootsel_1 and <strong>power on the router</strong>.</p><p>And the remark that shorting these 2 tiny soldering points could be more difficult than it looks.<br />Read this complete topic and you should know this ...<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=292963#p292963">https://forum.openwrt.org/viewtopic.php … 63#p292963</a></p>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 17 Feb 2016, 23:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311921">
				<div class="post-metadata">
					<div class="post-num">Post #467</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						18 Feb 2016, 01:11					</div>
				</div>
				<div class="post-content content">
					<p><strong>strtfr</strong>,</p><p>Hopefully not to late <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /><br /></p><div class="quotebox"><cite>strtfr wrote:</cite><blockquote><p>Does someone have a complete nanddump available of the p2812hnu-f1?</p></blockquote></div><p>I did have re-flashed an OpenWrt (U-Boot loader) box with ZyXEL&#039;s firmware V1.00(AACC.3), but first you have to re-flash the <em>OpenWrt U-Boot</em> loader with the <em>ZyXEL Z-Boot</em> loader.<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=264649#p264649">This link</a> will show the Z-Boot loader you can use.<br />Check afterwards the &#039;environment settings&#039; as they are slightly different from OpenWrt settings.</p><p>This &#039;new&#039; ZyXEL does his job still in very good condition. Last month 1st reboot after 117 days of working.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311939">
				<div class="post-metadata">
					<div class="post-num">Post #468</div>
					<div class="post-author">System Error Message</div>
					<div class="post-datetime">
						18 Feb 2016, 07:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DGDodo wrote:</cite><blockquote><p><strong>System Error Message</strong>,</p><p>If you don&#039;t power the F1 &#039;on&#039;, don&#039;t have a working TTL serial connection (when the F1 is &#039;on&#039;) you will not get any further <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /></p><p>Within <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-f1">OpenWrt&#039;s ZyXEL P-2812HNU-F1</a> page is clearly written:<br />- Short the (R17) bootsel_1 and <strong>power on the router</strong>.</p><p>And the remark that shorting these 2 tiny soldering points could be more difficult than it looks.<br />Read this complete topic and you should know this ...<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=292963#p292963">https://forum.openwrt.org/viewtopic.php … 63#p292963</a></p></blockquote></div><p>Thats exactly what i did, i had a working TTL serial connection and could see everything on it, i put a conductor across the R17 pins (i tried various conductors) and powered it up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311949">
				<div class="post-metadata">
					<div class="post-num">Post #469</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						18 Feb 2016, 10:05					</div>
				</div>
				<div class="post-content content">
					<p><strong>System Error Message</strong>,</p><div class="quotebox"><blockquote><p>i tried various conductors</p></blockquote></div><p>I just don&#039;t understand &#039;various conductors&#039; as shorting = 0Ω ?<br />You mean you tried to short the 2 points with a paperclip or screwdriver as &#039;various conductors&#039;?<br />Have you tried <a href="https://forum.openwrt.org/viewtopic.php?pid=292963#p292963"><strong>ad.ven</strong></a>&#039;s methode?</p><p>You&#039;ve never seen a boot starting:<br /></p><div class="codebox"><pre><code>ROM VER: 1.0.5
CFG 02
UART</code></pre></div><p>And then nothing ... as you have to push the .asc file. Instead of &#039;CFG 06&#039; and continue normal boot. <br />Are you sure it is a F1 device and not a F3 device?</p><p>Log outputs give -normally- more info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311969">
				<div class="post-metadata">
					<div class="post-num">Post #470</div>
					<div class="post-author">System Error Message</div>
					<div class="post-datetime">
						18 Feb 2016, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>Im very sure it is F1 as pasted below the device casing showing the mac and serial number as well. Mine was locked by ISP. When i mean nothing i mean it booted up normally.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312055">
				<div class="post-metadata">
					<div class="post-num">Post #471</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						18 Feb 2016, 23:26					</div>
				</div>
				<div class="post-content content">
					<p><strong>System Error Message</strong>,</p><p>What about the different conductors you used?<br />Did you try <a href="https://forum.openwrt.org/viewtopic.php?pid=292963#p292963">ad.ven</a>&#039;s methode?<br />&#039;How&#039; does your device boot (normally)? logs!!<br />(Without logs i think not many ppl can help you.)</p><p>If there&#039;s something soldered on the board on place R17, it&#039;s most probably a F3 (board inside a F1 box?).<br />So i believe in your case there&#039;s nothing only soldering tin on both points for R17, it&#039;s a F1. (pics?)<br />As mentioned in my earlier links, its clear you not always do &#039;short&#039; the 2 points, although you think you do (i also faced this many times!) You then only pressing hard on 1 point instead of both points, and you must have really good eyes to actually see this and also have to power on the device, hard job <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /> without breaking anything!<br />and NOTE: Don&#039;t short any other point, as this could brick your device!!!</p><p>There is 1 other way, to re-flash ZyXEL firmware over a branded device ...</p><p>- Break the &#039;normal&#039; boot serial, by pressing any key in 1 sec of power on and you get the ZHAL&gt; prompt (which its own capabilities)<br />You must have serial working ...<br />With Z-Boot loader running, it&#039;s possible to re-flash with other ZyXEL firmware.<br />If i remember correct (i should try this myself again) by using the &#039;z&#039; key to break the boot, you get the &#039;ZLO&#039;-prompt, on which you can re-flash other ZyXEL firmware. (also mentioned here and on my own site how to do this)<br />I&#039;ve done this about 1 year ago, and re-flashed 1 box with about 5 different versions of ZyXEL firmware?<br />You can read about it <a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=4&amp;t=24#p99">here</a>.</p><p>Until now i have 3 different F1 boxes, all working with the &#039;short&#039; R17 trick &amp; running OpenWrt without problems.<br />Even with Linux version 4.4.0 nowadays. Although there still some small issues, but i can live with that.</p><p>So keep trying shorting R17 to get the UART boot, as this is the only trick to replace the Z-Boot loader with a U-Boot loader, compatible with (4) OpenWrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312060">
				<div class="post-metadata">
					<div class="post-num">Post #472</div>
					<div class="post-author">System Error Message</div>
					<div class="post-datetime">
						19 Feb 2016, 00:06					</div>
				</div>
				<div class="post-content content">
					<p>i can get to u-boot from zboot by using the command &quot;atgu&quot; but when i try to follow the instructions it doesnt accept the commands. </p><p>I am certain it is an F1 because R17 has soldering on it however i dont have the heatsink over the CPU.</p><p>I&#039;ll try shorting R17 again later.</p><p>By various conductors i mean different materials, different items from screwdrivers, to pliers to paperclips and clips and anything metallic that seem it would work without shorting out anything else.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312070">
				<div class="post-metadata">
					<div class="post-num">Post #473</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						19 Feb 2016, 00:50					</div>
				</div>
				<div class="post-content content">
					<p><strong>System Error Message</strong>,</p><p>That&#039;s not the U-Boot needed to re-flash to OpenWrt, it doesn&#039;t have all options available to do the job, it won&#039;t work.<br />You need UART &amp; transfer the .asc file with NEW U-Boot to do all mentioned instructions as mentioned <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-f1">here</a>, otherwise, only <em>other</em> ZyXEL firmware &#039;could&#039; be re-deployed, NOT OpenWrt.</p><p>So i still advise: try <a href="https://forum.openwrt.org/viewtopic.php?pid=292963#p292963">ad.ven</a>&#039;s method?</p><p>About not having&nbsp; the heat-sink over the CPU, you probably have a CPU v1.2 F1 instead of v1.1 F1, btw it&#039;s more ESD shielding for HF-signals than heat-sink , i believe. This v1.2 or v1.1 should be no problem @ all. Even branded or not, the short R17 did worked 4 me all the times (eventually). Even a completely bricked device i got working OpenWrt @ the end.</p><p>And again, with logs i can tell (4 sure) if you have 1.2 or 1.1 CPU <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312224">
				<div class="post-metadata">
					<div class="post-num">Post #474</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						20 Feb 2016, 13:03					</div>
				</div>
				<div class="post-content content">
					<p>forgetmij, it feels weird saying this but I guess for these types of routers it&#039;s better to simply stay on the old firmware where you have an old kernel. As I plan to use the Wi-Fi in a place where there are few thugs and I think it shouldn&#039;t be hackable over the internet by random cyber thugs right? </p><p>If you ever do that work and get IP telephone up and running I want to try flash the original bootloader again and use that firmware. It&#039;s a shame they put up no updates though the thing will even be affected by hearthbleed if nothing is done to it...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313385">
				<div class="post-metadata">
					<div class="post-num">Post #475</div>
					<div class="post-author">Verner</div>
					<div class="post-datetime">
						3 Mar 2016, 01:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I just go from Zyxel F1 firmware and OpenWrt seems working. I installed:<br />OpenWrt Chaos Calmer 15.05 / LuCI (git-15.248.30277-3836b45) <br />(openwrt-15.05-lantiq-xrx200-P2812HNUF1-squashfs-sysupgrade.tar)<br />With Designated Driver r47026 &quot;RT3062.eeprom&quot;.<br />Is this good choice?<br />Or is<br />Designated Driver r47026 / LuCI Master (git-15.262.40644-13f3ad9).<br />(openwrt-lantiq-xrx200-P2812HNUF1-squashfs-sysupgrade.tar)<br />better choice?</p>											<p class="post-edited">(Last edited by <strong>Verner</strong> on 3 Mar 2016, 02:58)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 476 to 475 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 19 of 23</div><nav><ul><li><a href="viewtopic.php%3Fid=53511&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=18.html">18</a></li><li class="pagination-current"><span>19</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=21.html">21</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=23.html">23</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>