<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Routing VPN trafic to Internet</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p16616">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hugo</div>
					<div class="post-datetime">
						4 Dec 2005, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m new to this forum and to openWrt, but I was an experienced user of Oleg&#039;s firmware, before moving to openwrt because of the user support and the working PPTP solution.</p><p>I&#039;m using white russian RC4 on my WL-HDD, and set up pptpd as described by the HOWTO. I can connect using my pocket pc client, and ping station on the lan, or use the ressources on my WL-hdd.</p><p>The problem is that I would like to use this VPN to have access to all port via my ADSL connection: In many company I work in, port are locked by firewall. I want to connect to my home using a pptp link (usually allowed), then use this connection to check my email using port not available inside the company network.</p><p>All doc I can find is about adding route to get access to a specific lan, but none describe the route to add to the ip-up script so I can be redirected to internet via the other end of the tunnel (not the client side obviously, as it is in the corporate network)</p><p>The network would be like this:</p><p>PPC client ---- PPTP VPN ----- company firewall ------ internet ------- wl-hdd(openwrt WR RC4) pptp link----- 192.168.0.1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; internet</p><p>So I would make no use of the internet connectivity on the company side.<br />Is it an easy answer, or do you need all my network config files?</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>hugo</strong> on 4 Dec 2005, 23:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18141">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">LSU_guy</div>
					<div class="post-datetime">
						2 Jan 2006, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>Hugo - my pptp client can connect to the internet using the router&#039;s internet connection. Please follow the howto to setup the pptpd connection</p><p><a href="http://wiki.openwrt.org/PPTPDHowto">http://wiki.openwrt.org/PPTPDHowto</a></p><p>The only thing different that you would have to do is in the routing rule. <br />Substitute this line &quot;iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_rule -s 192.168.1.0/24 -d 192.168.1.0/24 -j ACCEPT&quot; for &quot;iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_rule -s 192.168.1.0/24 -j ACCEPT&quot;. </p><p>Essentially all we are doing is allowing all your client requests to be forwarded everywhere.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>