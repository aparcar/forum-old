<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HAME MPR-A1 - Small and cheap router with built-in battery</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 May 2015 and 2 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 27 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=25.html">25</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=26.html">26</a></li><li class="pagination-current"><span>27</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p254169">
				<div class="post-metadata">
					<div class="post-num">Post #651</div>
					<div class="post-author">kantha</div>
					<div class="post-datetime">
						13 Nov 2014, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>I found below solution in this thread, can you please tell me a TFTP server for Widnows which I can use for this.</p><p>Flashing<br />For the specific uBoot (U-Boot 1.1.3 (Sep&nbsp; 1 2012 - 08:34:08)) in this particular clone, the procedure for flashing is fairly straight forward.<br />Setup a TFTP server on a PC with the IP address 10.10.10.3 and name the sysupgrade.bin file as &quot;Kernal.bin&quot;.<br />Power off the router.<br />Connect the router to the PC ethernet port directly.<br />Hold down the reset button whilst turning on the router.<br />Release the reset button 1-2 seconds after turning on the router.<br />The router should transfer the &quot;Kernal.bin&quot; file with the IP 10.10.10.123 and flash it then automatically reboot.<br />The blue LED should light up briefly when it restarts. The green LED should blink during boot and then stay on continously once it has booted.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254502">
				<div class="post-metadata">
					<div class="post-num">Post #652</div>
					<div class="post-author">838445810</div>
					<div class="post-datetime">
						16 Nov 2014, 06:16					</div>
				</div>
				<div class="post-content content">
					<p>hi,all<br />I have two Hame A1 in hand and both are 4MB/16MB flash and sdram.<br />I tried to compile the ralink SDK to it. <br />The USB is ok, thanks to you guys&#039;s awsome job on the figuring out the gpio.<br />The wireless AP can be connected.<br />The problem is when I tried to do the SiteSurvey on the wireless card, it got nothing.<br />I would like to configure it to ap-client mode. But if no SiteSurvey available, it won&#039;t work.<br />Please everyone, any thoughts would be grateful. Many thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254830">
				<div class="post-metadata">
					<div class="post-num">Post #653</div>
					<div class="post-author">superbfahad</div>
					<div class="post-datetime">
						18 Nov 2014, 20:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>Mine is also an &quot;M1 Mini3G Wifi Router&quot;, but its has 32 MB DRAM and &quot;Hardware Version&quot; is &quot;F5-3.1&quot; vs. &quot;F1-2.1&quot; in your case:<br /><a href="http://www.imagebam.com/image/1ff273312817069"><span class="postimg"><img src="http://thumbnails111.imagebam.com/31282/1ff273312817069.gif" alt="http://thumbnails111.imagebam.com/31282/1ff273312817069.gif" /></span></a></p><p>Please contact me by PM if your are still interested in getting the partition backup.</p></blockquote></div><p>HI, <br />one month back I bought &quot;M1 Mini3G Wifi Router&quot; from aliexpress and I upgrade the firmware &quot;EDT-V9 WCDMA &amp; EVDO Version&quot; from here: <a href="http://www.edtv8.com/English/html/9548173136.html">http://www.edtv8.com/English/html/9548173136.html</a><br />firmware is same as M1 Mini3G Wifi Router but its using build-on SIM functionality. I thought its new upgraded firmware version and I will be able to use (4G) Wimax greenpaket UH350 RNDIS based device while plugin as USB on my M1 Mini3G Wifi Router but After firmware update I lost USB option in setup and I also can&#039;t use 3g usb device.<br />Does any one have original firmware of M1 Mini3G Wifi Router?? If have please share the link. or help me to run Wimax greenpaket UH350.<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254878">
				<div class="post-metadata">
					<div class="post-num">Post #654</div>
					<div class="post-author">maks740</div>
					<div class="post-datetime">
						19 Nov 2014, 09:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>maks740 wrote:</cite><blockquote><p>Hi!<br />Please help.<br />I have a router. It works fine, only two firmware: factory and HameA1. Perhaps this is due to the fact that the hardware is available only 16Mb memory, although the memory chip - 32Mb (IS42S16160B) Perhaps there is an opportunity to make available 32Mb?</p><p>firmware version ver 4.34 Build140311 Mid<br />hardware version Spi 59-YJ ver 2.0</p><br /><p>PCB<br /><a href="https://www.dropbox.com/s/xypv9v7uh2jbt3p/2014-11-11%2020.28.04.jpg?dl=0">https://www.dropbox.com/s/xypv9v7uh2jbt … 4.jpg?dl=0</a><br /><a href="https://www.dropbox.com/s/45c76vly8drzrqt/2014-11-11%2020.27.20.jpg?dl=0">https://www.dropbox.com/s/45c76vly8drzr … 0.jpg?dl=0</a></p><p>Software (WEB screenshot):<br /><a href="https://www.dropbox.com/s/oxwckdf76olez5y/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%202014-11-11%2020.40.37.png?dl=0">https://www.dropbox.com/s/oxwckdf76olez … 7.png?dl=0</a><br /><a href="https://www.dropbox.com/s/dq2cxj7jpind3aj/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%202014-11-09%2014.55.47.jpg?dl=0">https://www.dropbox.com/s/dq2cxj7jpind3 … 7.jpg?dl=0</a></p><p>Factory firmware:<br /><a href="https://www.dropbox.com/s/d3tefw90f723zsc/Factory.bin.bin?dl=0">https://www.dropbox.com/s/d3tefw90f723z … n.bin?dl=0</a></p><p>Sorry for my english</p></blockquote></div><p>Information:<br /><span class="postimg"><img src="http://cs3-4.4pda.to/5389658.jpg" alt="Information" /></span></p><p>P.S. PCB Zorlik ZL5900V2</p>											<p class="post-edited">(Last edited by <strong>maks740</strong> on 19 Nov 2014, 09:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255321">
				<div class="post-metadata">
					<div class="post-num">Post #655</div>
					<div class="post-author">vitaliy_86</div>
					<div class="post-datetime">
						23 Nov 2014, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>What do you think would work flash winbond 25q128?<br /><a href="http://www.nexflash.com/NR/rdonlyres/1C7E7EF8-ACBF-47EC-BE16-D668A7933A21/0/W25Q128BV.pdf">http://www.nexflash.com/NR/rdonlyres/1C … Q128BV.pdf</a></p><p>Some dev used 128mbit<br /><a href="https://wikidevi.com/wiki/Ralink_RT5350">https://wikidevi.com/wiki/Ralink_RT5350</a></p><p>Upd<br />Boot on 25q128 defult firmware:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.7 (Dec 13 2011 - 13:49:42)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 42
spi device id: ef 40 18 0 0 (40180000)
Warning: un-recognized chip ID, please update bootloader!
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 3.6.0.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Dec 13 2011  Time:13:49:42
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes
raspi_read: from:40028 len:6
.
raspi_read: from:0 len:30004
....*************Is_update = 0 plat = 1**************

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.                     0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   Linux Kernel Image
   Created:      2013-08-23   7:31:57 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3794821 Bytes =  3.6 MB
   Load Address: 80000000
   Entry Point:  80307000
raspi_read: from:50040 len:39e785
..........................................................   Verifying Checksum ... Bad Data CRC</code></pre></div><p>Add</p><div class="codebox"><pre><code>[    0.000000] Linux version 3.7.5 (lich@lich-pc) (gcc version 4.6.4 20121210 (prerelease) (Linaro GCC 4.6-2012.12) ) #2 Thu Apr 11 22:41:02 CST 2013
[    0.000000] prom: fw_arg0=00000001, fw_arg1=81f52fb0, fw_arg2=81f533b0, fw_arg3=00000000
[    0.000000] env=  (null) is not in RAM, skipping
[    0.000000] env=  (null) is not in RAM, skipping
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] Ralink RT5350 id:1 rev:3 running at 360.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] User-defined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 80255c70, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8128 pages, LIFO batch:0
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=MPR-A1 console=ttyS1,57600 mtdparts=spi0.0:192k(u-boot)ro,64k(u-boot-env)ro,64k(factory)ro,896k(kernel),2880k(rootfs),3776k@0x50000(firmware) rootfstype=squashfs,jffs2 mem=32M
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] __ex_table already sorted, skipping sort
[    0.000000] Writing ErrCtl register=00035c14
[    0.000000] Readback ErrCtl register=00035c14
[    0.000000] Memory: 29632k/32768k available (1969k kernel code, 3136k reserved, 473k data, 180k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:48
[    0.000000] console [ttyS1] enabled, bootconsole disabled
[    0.010000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.100000] MIPS: machine is HAME MPR-A1
[    0.130000] bio: create slab &lt;bio-0&gt; at 0
[    0.140000] Switching to clocksource MIPS
[    0.150000] NET: Registered protocol family 2
[    0.160000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.180000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.190000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.200000] TCP: reno registered
[    0.210000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.220000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.230000] NET: Registered protocol family 1
[    0.280000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.290000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.320000] msgmni has been set to 57
[    0.320000] io scheduler noop registered
[    0.330000] io scheduler deadline registered (default)
[    0.340000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    0.360000] serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    0.370000] serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.390000] ramips-spi ramips-spi.0: master is unqueued, this is deprecated
[    0.410000] m25p80 spi0.0: found w25q128, expected pm25lq032
[    0.420000] m25p80 spi0.0: w25q128 (16384 Kbytes)
[    0.430000] 6 cmdlinepart partitions found on MTD device spi0.0
[    0.440000] Creating 6 MTD partitions on &quot;spi0.0&quot;:
[    0.450000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.460000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.480000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.490000] 0x000000050000-0x000000130000 : &quot;kernel&quot;
[    0.500000] 0x000000130000-0x000000400000 : &quot;rootfs&quot;
[    0.520000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.530000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=380000, len=80000 
[    0.550000] 0x000000380000-0x000000400000 : &quot;rootfs_data&quot;
[    0.560000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.580000] ramips-wdt ramips-wdt: timeout value must be 0 &lt; timeout &lt;= 35, using 35
[    0.600000] TCP: cubic registered</code></pre></div><p>Boot with <a href="https://github.com/JiapengLi/OpenWrt-RT5350/tree/master/mpr-a1">https://github.com/JiapengLi/OpenWrt-RT … ter/mpr-a1</a></p>											<p class="post-edited">(Last edited by <strong>vitaliy_86</strong> on 17 Feb 2015, 13:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255385">
				<div class="post-metadata">
					<div class="post-num">Post #656</div>
					<div class="post-author">v1pr</div>
					<div class="post-datetime">
						24 Nov 2014, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>can someone help me with building a sysimage to my A1 clone (4M/16M)? I&#039;ve successfully changed the original FW to openwrt and now want to upgrade it with sysupgrade from a custom build FW. Unfortunatelly I cannot build a sysupgrade image from 14.07. The &quot;make&quot; runs successfully, but I&#039;m not getting a &quot;-sysupgrade-*.bin&quot;. The files I get:</p><div class="codebox"><pre><code>-rw-r--r-- 1 viper viper  665 Nov  7 15:13 md5sums
-rw-r--r-- 1 viper viper 4.3M Nov  7 15:13 openwrt-ramips-rt305x-mpr-a1-initramfs-uImage.bin
-rw-r--r-- 1 viper viper 3.5M Nov  7 15:13 openwrt-ramips-rt305x-root.squashfs
-rw-r--r-- 1 viper viper 8.3M Nov  6 00:14 openwrt-ramips-rt305x-root.squashfs.save
-rw-r--r-- 1 viper viper 967K Nov  7 15:13 openwrt-ramips-rt305x-uImage.bin
-rw-r--r-- 1 viper viper 4.3M Nov  7 15:13 openwrt-ramips-rt305x-uImage-initramfs.bin
-rwxr-xr-x 1 viper viper 2.8M Nov  7 15:12 openwrt-ramips-rt305x-vmlinux.bin
-rwxr-xr-x 1 viper viper 2.9M Nov  7 15:12 openwrt-ramips-rt305x-vmlinux.elf
-rwxr-xr-x 1 viper viper 6.1M Nov  7 15:13 openwrt-ramips-rt305x-vmlinux-initramfs.bin
-rwxr-xr-x 1 viper viper 6.1M Nov  7 15:13 openwrt-ramips-rt305x-vmlinux-initramfs.elf
drwxr-xr-x 5 viper viper 4.0K Oct 24 12:17 packages</code></pre></div><p>How can I build an image which can be used with sysupgrade?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255470">
				<div class="post-metadata">
					<div class="post-num">Post #657</div>
					<div class="post-author">Taipoka</div>
					<div class="post-datetime">
						25 Nov 2014, 01:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>v1pr wrote:</cite><blockquote><p>Hi All,</p><p>can someone help me with building a sysimage to my A1 clone (4M/16M)? I&#039;ve successfully changed the original FW to openwrt and now want to upgrade it with sysupgrade from a custom build FW. Unfortunatelly I cannot build a sysupgrade image from 14.07. The &quot;make&quot; runs successfully, but I&#039;m not getting a &quot;-sysupgrade-*.bin&quot;. The files I get:</p><div class="codebox"><pre><code>-rw-r--r-- 1 viper viper  665 Nov  7 15:13 md5sums
-rw-r--r-- 1 viper viper 4.3M Nov  7 15:13 openwrt-ramips-rt305x-mpr-a1-initramfs-uImage.bin
-rw-r--r-- 1 viper viper 3.5M Nov  7 15:13 openwrt-ramips-rt305x-root.squashfs
-rw-r--r-- 1 viper viper 8.3M Nov  6 00:14 openwrt-ramips-rt305x-root.squashfs.save
-rw-r--r-- 1 viper viper 967K Nov  7 15:13 openwrt-ramips-rt305x-uImage.bin
-rw-r--r-- 1 viper viper 4.3M Nov  7 15:13 openwrt-ramips-rt305x-uImage-initramfs.bin
-rwxr-xr-x 1 viper viper 2.8M Nov  7 15:12 openwrt-ramips-rt305x-vmlinux.bin
-rwxr-xr-x 1 viper viper 2.9M Nov  7 15:12 openwrt-ramips-rt305x-vmlinux.elf
-rwxr-xr-x 1 viper viper 6.1M Nov  7 15:13 openwrt-ramips-rt305x-vmlinux-initramfs.bin
-rwxr-xr-x 1 viper viper 6.1M Nov  7 15:13 openwrt-ramips-rt305x-vmlinux-initramfs.elf
drwxr-xr-x 5 viper viper 4.0K Oct 24 12:17 packages</code></pre></div><p>How can I build an image which can be used with sysupgrade?</p></blockquote></div><p>I had this problem, because my sysupgrade was bigger than 4M so it won&#039;t be generated.&nbsp; <br />Try to remove something and build again.<br />Or do as i did, begin with a clean build and put more features 1 by 1 til you find your max.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255613">
				<div class="post-metadata">
					<div class="post-num">Post #658</div>
					<div class="post-author">t0nito</div>
					<div class="post-datetime">
						26 Nov 2014, 15:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kantha wrote:</cite><blockquote><p>I found below solution in this thread, can you please tell me a TFTP server for Widnows which I can use for this.</p><p>Flashing<br />For the specific uBoot (U-Boot 1.1.3 (Sep&nbsp; 1 2012 - 08:34:08)) in this particular clone, the procedure for flashing is fairly straight forward.<br />Setup a TFTP server on a PC with the IP address 10.10.10.3 and name the sysupgrade.bin file as &quot;Kernal.bin&quot;.<br />Power off the router.<br />Connect the router to the PC ethernet port directly.<br />Hold down the reset button whilst turning on the router.<br />Release the reset button 1-2 seconds after turning on the router.<br />The router should transfer the &quot;Kernal.bin&quot; file with the IP 10.10.10.123 and flash it then automatically reboot.<br />The blue LED should light up briefly when it restarts. The green LED should blink during boot and then stay on continously once it has booted.</p></blockquote></div><br /><p>I tried flashing it with this method and it didn&#039;t work either, it didn&#039;t even established a connection.</p><p>Can&#039;t access the damn thing in any way. Through ethernet when I try to connect it, it won&#039;t find an IP. When I create one manually like 192.168.169.2 there are bytes sent and received but whan trying to access 192.168.169.1 to go to the config page it won&#039;t open anything.</p><p>Can&#039;t connect the stupid thing through wifi either because 12345678 won&#039;t work and there is no sticker or mention of another wifi key anywhere.</p><p>The only solution is to reflash new firmware and I can&#039;t do it either, I think I&#039;m just going to throw it to the trash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255614">
				<div class="post-metadata">
					<div class="post-num">Post #659</div>
					<div class="post-author">v1pr</div>
					<div class="post-datetime">
						26 Nov 2014, 15:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Taipoka wrote:</cite><blockquote><p>I had this problem, because my sysupgrade was bigger than 4M so it won&#039;t be generated.&nbsp; <br />Try to remove something and build again.<br />Or do as i did, begin with a clean build and put more features 1 by 1 til you find your max.</p></blockquote></div><p>Thanks, that did help! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I wonder, why there isn&#039;t a warning for that <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257203">
				<div class="post-metadata">
					<div class="post-num">Post #660</div>
					<div class="post-author">t0nito</div>
					<div class="post-datetime">
						10 Dec 2014, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>The strangest thing just happened, I was resetting my unit but the battery was low, it died while the light was flashing, I thought I might have bricked it, to my surprise when I plugged it to charge and turned it on, the wifi SSID showed up as 3GWi-Fi_B4E2 instead of NEWPOSTECH_B4E2, and this time wifi key 12345678 worked and now it is working perfectly.</p><p>Its so odd, it&#039;s like the vendor had put in some custom firmware and by interrupting the reset process it reverted back to the original firmware somehow.</p><p>I was really about to give up and throw it away, glad I didn&#039;t.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257714">
				<div class="post-metadata">
					<div class="post-num">Post #661</div>
					<div class="post-author">steliosm</div>
					<div class="post-datetime">
						15 Dec 2014, 10:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello all. I got a couple of those devices in order to install openwrt on them. I tried updating the uboot in order to support 32MB of RAM. Both devices came with 32MB chips. The update took place over TFTP using the uboot menu. The update was succesfull, according to the message displayed (.Done) but the device was bricked :-</p><p>&nbsp; &nbsp;On the second device, I flashed an openwrt image first. Everything worked fine, but I still have 16MB of RAM. I need to update the uboot now. Couldn&#039;t do it through mdt write &lt;image&gt; u-boot. Probably, wont work through TFTP, like before.</p><p>Any ideas on how to update uboot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257718">
				<div class="post-metadata">
					<div class="post-num">Post #662</div>
					<div class="post-author">v1pr</div>
					<div class="post-datetime">
						15 Dec 2014, 11:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>steliosm wrote:</cite><blockquote><p>Hello all. I got a couple of those devices in order to install openwrt on them. I tried updating the uboot in order to support 32MB of RAM. Both devices came with 32MB chips. The update took place over TFTP using the uboot menu. The update was succesfull, according to the message displayed (.Done) but the device was bricked :-</p><p>&nbsp; &nbsp;On the second device, I flashed an openwrt image first. Everything worked fine, but I still have 16MB of RAM. I need to update the uboot now. Couldn&#039;t do it through mdt write &lt;image&gt; u-boot. Probably, wont work through TFTP, like before.</p><p>Any ideas on how to update uboot?</p></blockquote></div><p>Hi,</p><p>where did you order it from? I only got 16MB devices <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Upgrading the u-boot: <a href="http://my-embedded.blogspot.hu/2013/12/mini-4g-router-rt5350f.html">try this</a></p><p>uboot128.img is for the 32MB devices, uboot.img is for the 16MB devices, if I remember correctly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257720">
				<div class="post-metadata">
					<div class="post-num">Post #663</div>
					<div class="post-author">steliosm</div>
					<div class="post-datetime">
						15 Dec 2014, 11:26					</div>
				</div>
				<div class="post-content content">
					<p>I got them from eBay. This is the <a href="http://www.ebay.com/itm/131247873241?_trksid=p2059210.m2749.l2649&amp;ssPageName=STRK%3AMEBIDX%3AIT">device</a>.<br />I checked the SDRAM IC and I find out that they were 32MB RAM chips.</p><p>I can&#039;t follow the steps in that link, since I need shell access on the device in order to mtd write the bootloader. The latest devices run a &quot;BoC Router&quot; shell which is a restricted shell. I also tried the TFTP method but the first device got bricked.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257945">
				<div class="post-metadata">
					<div class="post-num">Post #664</div>
					<div class="post-author">steliosm</div>
					<div class="post-datetime">
						17 Dec 2014, 10:37					</div>
				</div>
				<div class="post-content content">
					<p>After flashing an OpenWRT that has the mem=32M in the kernel command line I was able to see the whole (32MBytes) RAM. So, it seems there is no need to update the u-boot anymore on those devices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p258089">
				<div class="post-metadata">
					<div class="post-num">Post #665</div>
					<div class="post-author">jmtatsch</div>
					<div class="post-datetime">
						18 Dec 2014, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have bought a HAME A15 clone to use the integrated USB host to control my Neato Botvac Robot.<br />So far, I have succeeded in packaging and flashing my own OpenWrt image but am stuck at properly configuring the wifi.<br />Ideally, the A15 would just be just like any other client device getting its ip via dhcp, so I tried to configure it in &#039;sta&#039; mode. My config files are attached.<br />Although the ifconfig looks good to me and the A15 gets an ip address from my dhcp server, I can&#039;t ping or telnet it nor can i ping the main router from the A15. the /etc/config/firewall is empty, so i guess no firewall restrictions apply.<br />Can anyone give me a hint what I am doing wrong?<br />---<br />root@OpenWrt:/# cat /etc/config/wireless</p><p>config wifi-device&nbsp; radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel&nbsp; auto<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode&nbsp; &nbsp;11ng<br />&nbsp; &nbsp; &nbsp; &nbsp; option path&nbsp; &nbsp; &nbsp;&#039;platform/rt2800_wmac.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode&nbsp; &nbsp;HT20<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;GF<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;SHORT-GI-20<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;SHORT-GI-40<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;RX-STBC1<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled 0</p><br /><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; wlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;sta<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid&nbsp; &nbsp; &nbsp;xxx<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption psk2<br />&nbsp; &nbsp; &nbsp; &nbsp; option key xxx</p><br /><p>root@OpenWrt:/# cat /etc/config/network<br />config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><br /><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;192.168.181.200&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;21:48:20:03:21:18&#039;</p><br /><p>config interface &#039;wlan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;dhcp&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;21:48:20:03:21:20&#039;</p><br /><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0.2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;dhcp&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;21:48:20:03:21:19&#039;</p><br /><p>config switch<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;rt305x&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option reset &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option enable_vlan &#039;1&#039;</p><br /><p>config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;rt305x&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports &#039;0 1 2 3&nbsp; 6t&#039;</p><br /><p>config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;rt305x&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan &#039;2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports &#039;4&nbsp; 6t‘</p><br /><p>root@OpenWrt:/# ifconfig<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 2E:67:FB:52:1C:5C <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.181.200&nbsp; Bcast:192.168.181.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:784 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:498 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:50732 (49.5 KiB)&nbsp; TX bytes:34042 (33.2 KiB)</p><br /><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 2E:67:FB:52:1C:5C <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:4472 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:2606 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:395891 (386.6 KiB)&nbsp; TX bytes:574322 (560.8 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5</p><br /><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 2E:67:FB:52:1C:5C <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:786 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:498 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:51053 (49.8 KiB)&nbsp; TX bytes:34042 (33.2 KiB)</p><br /><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 2E:67:FB:52:1C:5C <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:142 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:55806 (54.4 KiB)</p><br /><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:65536&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:22553 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:22553 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:1850772 (1.7 MiB)&nbsp; TX bytes:1850772 (1.7 MiB)</p><br /><p>wlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 2C:67:FB:52:1C:5C <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.181.19&nbsp; Bcast:192.168.181.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:679 errors:0 dropped:97 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:5 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:32<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:114787 (112.0 KiB)&nbsp; TX bytes:1539 (1.5 KiB)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261035">
				<div class="post-metadata">
					<div class="post-num">Post #666</div>
					<div class="post-author">wakenake</div>
					<div class="post-datetime">
						12 Jan 2015, 02:54					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys.</p><p>Anyone have the stock firmware for the MPR-L8 2.1.3.8 or know where I can find it?</p><br /><p>Best regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262019">
				<div class="post-metadata">
					<div class="post-num">Post #667</div>
					<div class="post-author">jfresh</div>
					<div class="post-datetime">
						19 Jan 2015, 09:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>I have a clone of hame mpr-a1 same as this one &quot;<a href="http://my-embedded.blogspot.com.au/2014/01/mini-usb-portable-3g4g-router-rt5350f.html">http://my-embedded.blogspot.com.au/2014 … 5350f.html</a>&quot;</p><p>I&#039;m trying to upgrade the flash from 4mb to 8mb(W25Q64FVSSIG) any help would be great.<br />I really like the size of the router would be great to upgrade the flash.<br />block mount is great , but I&#039;d prefer to keep the USB port for other devices.<br />I have a CH341 USB programmer in hand.</p><p>Is there a way to expand the size of the firmware from 4mb to 8mb?<br />The closest firmware I could find is MPR-A2.</p><p>Thanks in advance.<br />Jeff</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262022">
				<div class="post-metadata">
					<div class="post-num">Post #668</div>
					<div class="post-author">v1pr</div>
					<div class="post-datetime">
						19 Jan 2015, 10:19					</div>
				</div>
				<div class="post-content content">
					<p>Where did you buy the Flash chip? How much was it? I was planning the same, but considering that the TP-Link WR-710N is not that expensive and includes power supply, 8M/32M maybe it&#039;s not worth doing it.</p><p>BTW, you can build a custom firmware anytime with openwrt buildroot - it&#039;s pretty easy. Actually it took me a while to build an image smaller than 4MB..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263529">
				<div class="post-metadata">
					<div class="post-num">Post #669</div>
					<div class="post-author">scadabg</div>
					<div class="post-datetime">
						30 Jan 2015, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>My Experiments with HAME MPR-A1 Clone</p><p>The Board Silk screen print states &quot;APC_A100_SOP16 REV 1A&quot;</p><p>It was a litle bit tricky to identify where were the TX/RX pins but finally got them:</p><p><a href="https://drive.google.com/file/d/0By1PP7mNt_3aU2RfcWFGandZUUk/view?usp=sharing">https://drive.google.com/file/d/0By1PP7 … sp=sharing</a></p><p><a href="https://drive.google.com/file/d/0By1PP7mNt_3aQ2VUX1dVaU5malU/view">https://drive.google.com/file/d/0By1PP7 … 5malU/view</a></p><p>The Board Has 32MB RAM</p>											<p class="post-edited">(Last edited by <strong>scadabg</strong> on 30 Jan 2015, 17:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263727">
				<div class="post-metadata">
					<div class="post-num">Post #670</div>
					<div class="post-author">saturn-b</div>
					<div class="post-datetime">
						1 Feb 2015, 15:48					</div>
				</div>
				<div class="post-content content">
					<p><strong>MPR-A1 16 megabyte flash chip upgrade</strong></p><div class="quotebox"><cite>jfresh wrote:</cite><blockquote><p>Hi guys,</p><p>Is there a way to expand the size of the firmware from 4mb to 8mb?<br />The closest firmware I could find is MPR-A2.</p><p>Thanks in advance.<br />Jeff</p></blockquote></div><p>In my case , I do expand MPR-A1 firmware to 16 megabyte flash , moded uboot --to recognize&nbsp; W25Q128BV flash chip-- and moded CHAOS CALMER (Bleeding Edge, r44233) firmware --to utilize full rootfs--.</p><p>My trick is to a make new profile for MPR-A1 16MB flash version named MPR-A3 by creating new dts file.<br />We don&#039;t have to touch MPR-A1 dts file for further use.<br /></p><div class="codebox"><pre><code>/dts-v1/;

/include/ &quot;rt5350.dtsi&quot;

/ {
    compatible = &quot;MPRA3&quot;, &quot;ralink,rt5350-soc&quot;;
    model = &quot;HAME MPR-A3&quot;;

    palmbus@10000000 {
        spi@b00 {
            status = &quot;okay&quot;;
            m25p80@0 {
                #address-cells = &lt;1&gt;;
                #size-cells = &lt;1&gt;;
                compatible = &quot;w25q128&quot;;
                reg = &lt;0 0&gt;;
                linux,modalias = &quot;m25p80&quot;, &quot;w25q128&quot;;
                spi-max-frequency = &lt;10000000&gt;;

                partition@0 {
                    label = &quot;u-boot&quot;;
                    reg = &lt;0x0 0x30000&gt;;
                    read-only;
                };

                partition@30000 {
                    label = &quot;u-boot-env&quot;;
                    reg = &lt;0x30000 0x10000&gt;;
                    read-only;
                };

                factory: partition@40000 {
                    label = &quot;factory&quot;;
                    reg = &lt;0x40000 0x10000&gt;;
                    read-only;
                };

                partition@50000 {
                    label = &quot;firmware&quot;;
                    reg = &lt;0x50000 0xfb0000&gt;;
                };
            };
        };
    };

    pinctrl {
        state_default: pinctrl0 {
            gpio {
                ralink,group = &quot;i2c&quot;, &quot;jtag&quot;, &quot;rgmii&quot;, &quot;mdio&quot;, &quot;uartf&quot;;
                ralink,function = &quot;gpio&quot;;
            };
        };
    };

    ethernet@10100000 {
        mtd-mac-address = &lt;&amp;factory 0x4&gt;;
    };

    esw@10110000 {
        ralink,portmap = &lt;0x2f&gt;;
    };

    wmac@10180000 {
        ralink,mtd-eeprom = &lt;&amp;factory 0&gt;;
    };

    ehci@101c0000 {
        status = &quot;okay&quot;;
    };

    ohci@101c1000 {
        status = &quot;okay&quot;;
    };

    gpio-leds {
        compatible = &quot;gpio-leds&quot;;
        system {
            label = &quot;hame:blue:system&quot;;
            gpios = &lt;&amp;gpio0 20 1&gt;;
        };
        power {
            label = &quot;hame:red:power&quot;;
            gpios = &lt;&amp;gpio0 17 1&gt;;
        };
    };

    gpio-keys-polled {
        compatible = &quot;gpio-keys-polled&quot;;
        #address-cells = &lt;1&gt;;
        #size-cells = &lt;0&gt;;
        poll-interval = &lt;20&gt;;
        wps {
            label = &quot;reset&quot;;
            gpios = &lt;&amp;gpio0 0 1&gt;;
            linux,code = &lt;0x198&gt;;
        };
    };

    gpio_export {
        compatible = &quot;gpio-export&quot;;
        #size-cells = &lt;0&gt;;

        usb {
            gpio-export,name = &quot;usb&quot;;
            gpio-export,output = &lt;1&gt;;
            gpios = &lt;&amp;gpio0 7 0&gt;;
        };
        root_hub {
            gpio-export,name = &quot;root_hub&quot;;
            gpio-export,output = &lt;1&gt;;
            gpios = &lt;&amp;gpio0 12 0&gt;;
        };
    };
};</code></pre></div><p>Here the diff I&#039;ve made <a href="http://pastebin.com/b4qDALYM">pastebin</a></p><div class="codebox"><pre><code>[    0.490000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.510000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.520000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.540000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.540000] 0x000000050000-0x000001000000 : &quot;firmware&quot;
[    0.610000] 2 uimage-fw partitions found on MTD device firmware
[    0.630000] 0x000000050000-0x00000015157f : &quot;kernel&quot;
[    0.640000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.670000] 0x00000015157f-0x000001000000 : &quot;rootfs&quot;</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                   12.5M    472.0K     12.0M   4% /
/dev/root                 2.3M      2.3M         0 100% /rom
tmpfs                    14.3M    512.0K     13.8M   3% /tmp
/dev/mtdblock6           12.5M    472.0K     12.0M   4% /overlay
overlayfs:/overlay       12.5M    472.0K     12.0M   4% /
tmpfs                   512.0K         0    512.0K   0% /dev</code></pre></div><br /><p>I hope this help you.</p>											<p class="post-edited">(Last edited by <strong>saturn-b</strong> on 1 Feb 2015, 15:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264762">
				<div class="post-metadata">
					<div class="post-num">Post #671</div>
					<div class="post-author">jfresh</div>
					<div class="post-datetime">
						9 Feb 2015, 13:52					</div>
				</div>
				<div class="post-content content">
					<p>@v1per, sorry for the super late reply just came back from overseas, I got it of ebay for around 5$ for 5pcs (chinese stock).</p><p>@saturn-b, thank you so much for your help, I&#039;ll definitely give it a try very soon.<br />the device is very stable I had it on for 1 month while overseas, with no prob. </p><p>anyone have any idea if I could install a pigtail (external antenna) or even upgrade the RAM to 64mb maybe, would be cool to serve as tor transparent proxy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265025">
				<div class="post-metadata">
					<div class="post-num">Post #672</div>
					<div class="post-author">marceldejongnl</div>
					<div class="post-datetime">
						11 Feb 2015, 00:46					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>I think I bricked my original Hame MPR-A2. <br />I tried to install using the method in the Wiki (<a href="http://wiki.openwrt.org/toh/hame/mpr-a2">http://wiki.openwrt.org/toh/hame/mpr-a2</a>) </p><p>I have installed the initramfs-uImage.bin, but I cannot install the squashfs-sysupgrade.bin.</p><br /><p>Logs say:<br />Tue Feb 10 17:44:40 2015 kern.err kernel: [&nbsp; &nbsp;12.450000] rt2800_wmac 10180000.wmac: failed to get mtd device &quot;factory&quot;<br />Tue Feb 10 17:44:40 2015 kern.info kernel: [&nbsp; &nbsp;12.470000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;soc_wmac.eeprom&#039;.<br />Tue Feb 10 17:44:40 2015 kern.warn kernel: [&nbsp; &nbsp;12.490000] rt2800_wmac 10180000.wmac: Direct firmware load failed with error -2<br />Tue Feb 10 17:44:40 2015 kern.warn kernel: [&nbsp; &nbsp;12.500000] rt2800_wmac 10180000.wmac: Falling back to user helper<br />Tue Feb 10 17:44:40 2015 kern.err kernel: [&nbsp; &nbsp;12.580000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Error - Failed to request EEPROM.<br />Tue Feb 10 17:44:40 2015 kern.warn kernel: [&nbsp; &nbsp;12.600000] rt2800_wmac: probe of 10180000.wmac failed with error -2</p><p>and /proc/mtd says:</p><p>root@OpenWrt:/# cat /proc/mtd <br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />root@OpenWrt:/# </p><br /><p>Anyone got a suggestion of what to try next? Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265895">
				<div class="post-metadata">
					<div class="post-num">Post #673</div>
					<div class="post-author">vitaliy_86</div>
					<div class="post-datetime">
						17 Feb 2015, 13:01					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://forum.anywlan.com/thread-329993-1-1.html">http://forum.anywlan.com/thread-329993-1-1.html</a></p><div class="codebox"><pre><code> [    0.520000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
 [    0.530000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
 [    0.550000] 0x000000040000-0x000000050000 : &quot;factory&quot;
 [    0.560000] 0x000000050000-0x000000800000 : &quot;firmware&quot;
 [    0.580000] 0x000000146297-0x000000800000 : &quot;rootfs&quot;</code></pre></div><p><a href="http://www.right.com.cn/FORUM/thread-147326-1-1.html">http://www.right.com.cn/FORUM/thread-147326-1-1.html</a></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Aug 15 2014 - 00:32:37)

 Board: Ralink APSoC DRAM:  32 MB
 relocate_code Pointer at: 81fb4000
 ******************************
 Software System Reset Occurred
 ******************************
 spi_wait_nsec: 42 
 spi device id: ef 40 18 0 0 (40180000)
 find flash: W25Q128BV</code></pre></div>											<p class="post-edited">(Last edited by <strong>vitaliy_86</strong> on 21 Feb 2015, 10:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p266325">
				<div class="post-metadata">
					<div class="post-num">Post #674</div>
					<div class="post-author">netomx</div>
					<div class="post-datetime">
						20 Feb 2015, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Bought 2 of them last October in Shanghai, and one of them being faulty at the microUSB port, I flashed with OpenWRT, an image I made myself. Works great, except the antenna, it is so poor the conection. </p><p>Anyone knows about the free GPIO?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p266514">
				<div class="post-metadata">
					<div class="post-num">Post #675</div>
					<div class="post-author">probono</div>
					<div class="post-datetime">
						22 Feb 2015, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>I have traced out the GPIOs for a seemingly similar device here <a href="http://wiki.openwrt.org/toh/unbranded/a5-v11">http://wiki.openwrt.org/toh/unbranded/a5-v11</a> - if you want to trace yours, I used this method: <a href="http://wiki.openwrt.org/doc/hardware/port.gpio?&amp;#finding_gpio_pins_on_the_pcb">http://wiki.openwrt.org/doc/hardware/po … on_the_pcb</a></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 27 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=25.html">25</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=26.html">26</a></li><li class="pagination-current"><span>27</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>