<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Porting D-Link TI-led tool from 2.4 kernel interface to 2.6?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Feb 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p61908">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dbkubla</div>
					<div class="post-datetime">
						19 Jan 2008, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>the D-Link GPL sources for the D-Link DSL-562T contain a LED applet. The tool relies on /proc/led_mod/led, which appears to be patched into the 2.4 kernel provided as well.</p><p>Since the leds are pretty much useless on OpenWRT, I would like to port this over to OpenWRTs 2.6 kernel.&nbsp; Before I start with this I want to make sure nobody is working on something similiar...</p><p>Regards,<br />&nbsp; Dominik</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62022">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">NRForbes</div>
					<div class="post-datetime">
						21 Jan 2008, 14:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi Dominik,</p><p>There is already support for the LEDs using the generic leds-gpio driver in 2.6. There is no applet as such but you can control the LEDs via the sysfs system (/sys/class/leds/xxxx).</p><p>Currently, the LEDs are active on the DG834G, DSL502T, and FritzBox boards. Whether your board is supported will depend on how similar it is to the DSL502T. If it&#039;s not the same, then you will need to find out which GPIO lines drive the LEDs and edit <em>platform.c</em> appropriately to add support for this board.</p><p>I have been working on getting all the LEDs driven correctly for the DG834G. So far I have the DSL LED working (see ticket <a href="https://dev.openwrt.org/ticket/2996">#2996</a>), and Oliver has an led-trigger to drive the WAN/PPP, WIFI and ethernet LEDs (see ticket <a href="https://dev.openwrt.org/ticket/2776">#2776</a>). I am currently working on ensuring the power LED is on from startup, and have a working patch that just need to be agreed with the LEDs maintainer. I also have a rough uci config for all the LEDs. </p><p>This has all taken me a bit longer than I hoped, but I&#039;ll try to clean up what I have and post it to a ticket soon. Any help would be greatly appreciated though, so if you&#039;d like to test any of it before then, PM me and I&#039;ll send you the patches as they are.</p><p>Regards,</p><p>Nick.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>