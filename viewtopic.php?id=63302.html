<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can I setup a static dns record for each dhcp lease using OpenWRT?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p314427">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">leeand00</div>
					<div class="post-datetime">
						11 Mar 2016, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible for a machine with a certain mac address to get the same DNS name everytime, but still get a dynamically assigned ip address?</p><p>Using DNSMasq and OpenWRT (or any other combination of some other OpenWRT technology?)&nbsp; &nbsp;</p><p>Can you provide me an example, or point me in the direction of the relevant wiki page if so?</p><p>Thank you, <br />&nbsp; &nbsp; Andrew J. Leer</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314430">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						11 Mar 2016, 21:47					</div>
				</div>
				<div class="post-content content">
					<p>Yes, it is (easily) possible, but please do invest 5 minutes in going through LuCI and/ or the OpenWrt wiki yourself - it should be impossible to miss, provided you start looking.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314435">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">booBot</div>
					<div class="post-datetime">
						11 Mar 2016, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>If you follow the advice I&#039;ve given to <a href="https://forum.openwrt.org/viewtopic.php?id=63251https://forum.openwrt.org/viewtopic.php?id=63251">your previous question</a>, you&#039;ll be able to assign both the host name and its IP address - statically - via DHCP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314440">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						11 Mar 2016, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>It goes in /etc/config/dhcp:</p><div class="codebox"><pre><code>config host
    option mac &#039;b8:27:eb:16:7d:8e&#039;
    option ip &#039;172.28.1.70&#039;
    option name &#039;rpi2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314463">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						12 Mar 2016, 01:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>It goes in /etc/config/dhcp:</p><div class="codebox"><pre><code>config host
    option mac &#039;b8:27:eb:16:7d:8e&#039;
    option ip &#039;172.28.1.70&#039;
    option name &#039;rpi2</code></pre></div></blockquote></div><p>He specifically mentioned dynamically-assigned ip.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314481">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">eas</div>
					<div class="post-datetime">
						12 Mar 2016, 07:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>It goes in /etc/config/dhcp:</p><div class="codebox"><pre><code>config host
    option mac &#039;b8:27:eb:16:7d:8e&#039;
    option ip &#039;172.28.1.70&#039;
    option name &#039;rpi2</code></pre></div></blockquote></div><p>He specifically mentioned dynamically-assigned ip.</p></blockquote></div><p>He did, but if you look at his earlier thread, its not clear what he&#039;s actually trying to achieve. It seems the goals are:<br /></p><ul><li><p>Central management of IP addresses</p></li><li><p>Access to hosts on the LAN by name</p></li></ul><p>Thing is, the default behavior already solves those problems and more:<br /></p><ul><li><p>DHCP is enabled.</p></li><li><p>Client IP addresses are generally stable across time and reboots of the router.</p></li><li><p>The router automatically creates DNS entries to go with DNS leases, based on the name the client reported in its DHCP request</p></li></ul><p>If that doesn&#039;t work for the OPs situation, dhcp reservations/static leases can be configured.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314526">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						12 Mar 2016, 15:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>It goes in /etc/config/dhcp:</p><div class="codebox"><pre><code>config host
    option mac &#039;b8:27:eb:16:7d:8e&#039;
    option ip &#039;172.28.1.70&#039;
    option name &#039;rpi2</code></pre></div></blockquote></div><p>He specifically mentioned dynamically-assigned ip.</p></blockquote></div><p>This is a dynamically assigned address. It&#039;s always the same, but its dynamically assigned.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314739">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">leeand00</div>
					<div class="post-datetime">
						14 Mar 2016, 14:10					</div>
				</div>
				<div class="post-content content">
					<p>So an ip address that&#039;s assigned by DHCP, if it doesn&#039;t change is actually a dynamically assigned address and not a static ip?&nbsp; </p><p>Sounds like a much easier way to setup a network than setting the static ip on your server, and then setting a dns entry for it, since you only have to get the mac address off of the server in question and then configure dhcp.</p>											<p class="post-edited">(Last edited by <strong>leeand00</strong> on 14 Mar 2016, 14:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314743">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">booBot</div>
					<div class="post-datetime">
						14 Mar 2016, 14:42					</div>
				</div>
				<div class="post-content content">
					<p>What we&#039;ve all suggested is:<br /></p><ul><li><p>a device with its certain MAC address will always get the same IP address - and, optionally - a DNS name</p></li></ul><p>All you have to do is to prepare that MAC-to-IP address assignment by mentioning all the relevant MACs and their desired IP addresses (and names).</p><p>The advantage is that there is only one place <em>to rule them all</em> - the <strong>/etc/config/dhcp</strong> file on your router.<br /><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>booBot</strong> on 14 Mar 2016, 14:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314745">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						14 Mar 2016, 14:50					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s probably worth noting for other readers of this post that this functionality can be configured in Luci.</p><p>Network=&gt; DHCP and DNS =&gt; Static Leases (at the bottom of the page)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314773">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						14 Mar 2016, 18:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><div class="quotebox"><cite>leeand00 wrote:</cite><blockquote><p>So an ip address that&#039;s assigned by DHCP, if it doesn&#039;t change is actually a dynamically assigned address and not a static ip?</p></blockquote></div><p>I think if the address is assigned by DHCP but it is the same every time it&#039;s called a &quot;static lease,&quot; not a &quot;static address.&quot;&nbsp; I think a &quot;static address&quot; is one for which each machine that doesn&#039;t use DHCP is configured.&nbsp; HTH.</p><p>Clemmitt</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>