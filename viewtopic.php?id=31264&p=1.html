<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ALFA R36 Router Hacking</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 25 Mar 2018 and 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 4</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=31264&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=31264&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=31264&amp;p=4.html">4</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p140853">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">CoytHV</div>
					<div class="post-datetime">
						9 Aug 2011, 04:53					</div>
				</div>
				<div class="post-content content">
					<p>Hello, </p><p>I am looking for some advice or at least a point in the right direction regarding how to put OpenWRT on my ALFA R36 router. </p><p>A little background first though. I am a 17 year old who loves electronics and hacking but I am better at hardware than with software. I currently use linux as my main OS and I have some experience with embedded linux (on a Gumstix board). I recently bought a ALFA R36 router specifically to hack it. I have a 1w ALFA wifi dongle that works together with the R36, but my ultimate goal is to get OpenWRT on the R36 and connect the serial port to an Arduino. I want to be able to use the router as a mini computer to control stuff like robots. Unfortunately, I couldn&#039;t find ANY documentation on the R36 router. </p><p>I picked the ONE router that has never been hacked! <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />&nbsp; &nbsp; I am not sure why though, this little router looks like it has a lot of potential. TWO LONG range wifi radios in one router system for about $100! </p><p>Here is a link to the ALFA R36 product page: <a href="http://www.alfa.com.tw/in/front/bin/ptdetail.phtml?Part=R36&amp;Category=0">http://www.alfa.com.tw/in/front/bin/ptd … Category=0</a> </p><p>Here are some pictures that I took of it: <br /><a href="http://www.flickr.com/photos/58936758@N04/6023779077/in/photostream">http://www.flickr.com/photos/58936758@N … hotostream</a> <br /><a href="http://www.flickr.com/photos/58936758@N04/6024331996/in/photostream">http://www.flickr.com/photos/58936758@N … hotostream</a><br /><a href="http://www.flickr.com/photos/58936758@N04/6023778775/in/photostream">http://www.flickr.com/photos/58936758@N … hotostream</a></p><p>So here is everything that I came up with regarding the R36 hardware:</p><p>Processor: Ralink RT3050F @ 320Mhz<br />Flash: MXIC MX29LV640EBTI-70G (not sure what size)<br />RAM: EtronTech EM63A165TS-6G</p><p>One USB port<br />One Serial Port @ 115200bps <br />One WAN <br />One LAN<br />2 buttons - reset to factory default and one for the WPS thing<br />at least 6 LEDs<br />wifi - i believe it&#039;s built into the processor (there is an amplifier because the baord can put out 350mW I believe).</p><p>So the first thing I did was hook up my Bus Pirate as a plain serial to usb bridge. I used putty to communicate with the serial interface on the router. Here is a log of the boot up over the serial port:</p><p>----------------------------------------------------------------------------------<br />#&nbsp; </p><br /><p>U-Boot 1.1.3 (Oct&nbsp; 4 2010 - 15:34:52)</p><br /><p>Board: Ralink APSoC DRAM:&nbsp; 32 MB</p><p>relocate_code Pointer at: 81fb0000</p><p>flash_protect ON: from 0xBF000000 to 0xBF01D423</p><p>flash_protect ON: from 0xBF030000 to 0xBF030FFF</p><p>*** Warning - bad CRC, using default environment</p><br /><p>============================================ </p><p>Ralink UBoot Version: 3.3</p><p>-------------------------------------------- </p><p>ASIC 3052_MP2 (Port5&lt;-&gt;None)</p><p>DRAM component: 256 Mbits SDR</p><p>DRAM bus: 16 bit</p><p>Total memory: 32 MBytes</p><p>Flash component: NOR Flash</p><p>Date:Oct&nbsp; 4 2010&nbsp; Time:15:34:52</p><p>============================================ </p><p>icache: sets:256, ways:4, linesz:32 ,total:32768</p><p>dcache: sets:128, ways:4, linesz:32 ,total:16384 </p><br /><p> ##### The CPU freq = 320 MHZ #### </p><br /><p>SDRAM bus set to 16 bit </p><p> SDRAM size =32 Mbytes</p><br /><p>Please choose the operation: </p><p>&nbsp; &nbsp;1: Load system code to SDRAM via TFTP. </p><p>&nbsp; &nbsp;2: Load system code then write to Flash via TFTP. </p><p>&nbsp; &nbsp;3: Boot system code via Flash (default).</p><p>&nbsp; &nbsp;4: Entr boot command line interface.</p><p>&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP. </p><p> 1  0 </p><p>&nbsp; &nbsp;</p><p>3: System Boot system code via Flash.</p><p>## Booting image at bf050000 ...</p><p>&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux Kernel Image-1.2.0.6-0</p><p>&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2011-05-23&nbsp; &nbsp;3:11:36 UTC</p><p>&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)</p><p>&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 5427136 Bytes =&nbsp; 5.2 MB</p><p>&nbsp; &nbsp;Load Address: 80000000</p><p>&nbsp; &nbsp;Entry Point:&nbsp; 80294000</p><p>&nbsp; &nbsp;Verifying Checksum ... OK</p><p>&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>No initrd</p><p>## Transferring control to Linux (at address 80294000) ...</p><p>## Giving linux memsize in MB, 32</p><br /><p>Starting kernel ...</p><br /><p>LINUX started...</p><p> THIS IS ASIC - AWB <br />Linux version 2.6.21-gb9609c50-dirty (root@minglinlee-Studio-1558) (gcc version 3.4.2) #5 Mon May 23 10:34:04 CST 2011</p><p> The CPU feqenuce set to 320 MHz<br />CPU revision is: 0001964c<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Built 1 zonelists.&nbsp; Total pages: 8128<br />Kernel command line: console=ttyS1,115200n8 root=/dev/mtdblock4<br />Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.<br />Primary data cache 16kB, 4-way, linesize 32 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load han fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Cache parity protection disabled<br />cause = 80800000, status = 1100ff00<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />calcung r4koff... 00138800(1280000)<br />CPU frequency 320.00 MHz<br />Using 160.000 MHz high precision timer.<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 29612k/32768k available (2321k kernel code, 3156k reserved, 314k data, 116k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />Time: MIPS clocksource has been installed.<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher<br />squashfs: LZMA suppport for slax.org by jro<br />fuse init (API version 7.8)<br />io scheduler noop registered (default)<br />Ralink gpio driver initialized<br />HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096<br />N_HDLC line discipline registered.<br />Serial: 8250/16550 driver $Revision: 1.3 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A<br />serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A<br />loop: loaded (max 8 devices)<br />rdm_major = 254<br />PPP generic driver version 2.4.2<br />PPP Deflate Compression module registered<br />PPP BSD Compression module registered<br />PPP MPPE Compression module registered<br />NET: Registered protocol family 24<br />ralink flash device: 0x800000 at 0x1f000000<br />Ralink SoC physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />Creating 6 MTD partitions on &quot;Ralink SoC physically mapped flash&quot;:<br />0x00000000-0x00030000 : &quot;Bootloader&quot;<br />0x00030000-0x00040000 : &quot;Config&quot;<br />0x00040000-0x00050000 : &quot;Factory&quot;<br />0x00050000-0x00120000 : &quot;Kernel&quot;<br />0x00120000-0x007f0000 : &quot;RootFS&quot;<br />0x007f0000-0x00800000 : &quot;Data3G&quot;<br />block2mtd: version $Revision: 1.1.1.1 $<br />nf_conntrack version 0.5.0 (256 buckets, 2048 max)<br />IPv4 over IPv4 tunneling driver<br />GRE over IPv4 tunneling driver<br />ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone<br />arp_tables: (C) 2002 David S. Miller<br />TCP cubic registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 10<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />GDMA1_MAC_ADRH -- : 0x00000000<br />GDMA1_MAC_ADRL -- : 0x00000000<br />Ralink APSoC Ethernet Driver Initilization. v2.00&nbsp; 256 rx/tx descriptors allocated, mtu = 1500!<br />GDMA1_MAC_ADRH -- : 0x000000c0<br />GDMA1_MAC_ADRL -- : 0xca49c69c<br />PROC INIT OK!<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 116k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />devpts: called with bogus options<br />[BC_Data]Init:Start=========<br />[BC_Data]Command_Initt:BC_next_empty_sector=1<br />[BC_Data]Init:Print SM informaiton.<br />pSMBC_Data-&gt;next_empty_sector=1<br />============BC_ParamShow=========<br />total_sum_elapsed_time=[&nbsp; &nbsp; 0.000000]<br />sum_3g_data_xfer=[&nbsp; &nbsp; 0.000000] <br />this_elapse=[&nbsp; &nbsp; 0.000000]<br />rxqual=[&nbsp; &nbsp; 0.000000]<br />RX_payload=[&nbsp; &nbsp; 0.000000]<br />TX_payload=[&nbsp; &nbsp; 0.000000]<br />systime=[ 10100002000.00]<br />reserved2=[&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nan]<br />============BC_Flash_ParamShow:End=========<br />[BC_Data]Init:End=========<br />dwc_otg: version 2.72a 24-JUN-2008<br />DWC_otg: Core Release: 2.66a<br />DWC_otg: Periodic Transfer Interrupt Enhancement - disabled<br />DWC_otg: Multiprocessor Interrupt Enhancement - disabled<br />DWC_otg: Using DMA mode<br />DWC_otg: Device using Buffer DMA mode<br />dwc_otg lm0: DWC OTG Controller<br />dwc_otg lm0: new USB bus registered, assigned bus number 1<br />dwc_otg lm0: irq 18, io mem 0x00000000<br />DWC_otg: Init: Port Power? op_state=1<br />DWC_otg: Init: Power Port (0)<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />mount: mounting usbfs on /proc/bus/usb failed: Device or resource busy<br />mount: mounting devpts on /dev/pts failed: Device or resource busy<br />Jan&nbsp; 1 00:00:02 udevd[637]: add_matching_files: unable to open &#039;/etc/udev/rules.d&#039;: No such file or directory</p><p>Sat Jan&nbsp; 1 00:00:00 UTC 2011<br />set date/time -&gt; Sat Jan&nbsp; 1 00:00:00 UTC 2011<br />date: invalid date &#039;10100002000.00&#039;<br />Sat Jan&nbsp; 1 00:00:00 UTC 2011<br />echo &quot;1024 65000&quot; &gt;/proc/sys/net/ipv4/ip_local_port_range<br />echo &quot;49576&quot; &gt; /proc/sys/fs/file-max<br />echo &quot;5&quot; &gt; /proc/sys/net/netfilter/nf_conntrack_icmp_timeout<br />echo &quot;2048&quot; &gt; /proc/sys/net/ipv4/netfilter/ip_conntrack_max</p><br /><p>BusyBox v1.12.1 (2011-05-23 11:09:55 CST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p># echo &quot;30&quot; &gt; /proc/sys/net/ipv4/netfilter/ip_conntrack_udp_timeout<br />echo &quot;120&quot; &gt; /proc/sys/net/ipv4/netfilter/ip_conntrack_udp_timeout_stream<br />echo &quot;1&quot; &gt; /proc/sys/net/ipv4/tcp_ecn<br />echo &quot;5&quot; &gt; /proc/sys/net/ipv4/tcp_fin_timeout<br />echo &quot;3&quot; &gt; /proc/sys/net/ipv4/tcp_syn_retries<br />echo &quot;2&quot; &gt; /proc/sys/net/ipv4/tcp_retries1<br />echo &quot;1&quot; &gt; /proc/sys/net/ipv4/tcp_tw_recycle<br />echo &quot;uuid=75802409-bccb-40e7-0c43-00c0ca49c69d&quot; &gt; /etc/uuid.dat<br />echo &quot;serial=75802409&quot; &gt; /etc/serial.dat<br />session.sh<br />sh: session.sh: not found<br />internet.sh<br />WLAN DAEMON : Stop USB WLAN Detection Daemon fail.<br />Password for &#039;admin&#039; changed<br />do nothing!!!<br />insmod: bridge.ko: module not found<br />insmod: mii.ko: module not found<br />insmod: raeth.ko: module not found<br />rtl8187L: <br />Linux kernel driver (v2023) for RTL8187L based WLAN cards<br />rtl8187L: Copyright (c) 2004-2005, Realtek<br />rtl8187L: Copyright (c) 2011, Island Consulting, Inc. (<a href="http://www.thewirie.com">www.thewirie.com</a>)<br />rtl8187L: Wireless extensions version 22<br />rtl8187L: Initializing proc filesystem<br />usbcore: registered new interface driver rtl8187L</p><p>phy_tx_ring = 0x01e9c000, tx_ring = 0xa1e9c000</p><p>phy_rx_ring = 0x00000000, rx_ring = 0x00000000<br />RT305x_ESW: Link Status Changed<br />CDMA_CSG_CFG = 81000007<br />GDMA1_FWD_CFG = 710000<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />rmmod: rt2860v2_ap: No such file or directory<br />rmmod: rt2860v2_sta: No such file or directory<br />Commit crc = b81310d3<br />rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.</p><br /><p>=== pAd = c00f1000, size = 504256 ===</p><p>&lt;-- RTMPAllocAdapterBlock, Status=0<br />rmmod: nf_nat_pptp: No such file or directory<br />rmmod: nf_conntrack_pptp: No such file or directory<br />rmmod: nf_nat_proto_gre: No such file or directory<br />rmmod: nf_conntrack_proto_gre: No such file or directory<br />RX DESC a18b5000&nbsp; size = 2048<br />&lt;-- RTMPAllocTxRxRingMemory, Status=0<br />Key1Str is Invalid key length(0) or Type(0)<br />Key2Str is Invalid key length(0) or Type(0)<br />Key3Str is Invalid key length(0) or Type(0)<br />Key4Str is Invalid key length(0) or Type(0)<br />1. Phy Mode = 9<br />2. Phy Mode = 9<br />3. Phy Mode = 9<br />MCS Set = ff 00 00 00 00<br />Main bssid = 00:c0:ca:49:c6:9e<br />&lt;==== rt28xx_init, Status=0<br />0x1300 = 00064380<br />insmod: 8021q.ko: module not found<br />eth2.2: Setting MAC address to&nbsp; 00 c0 ca 49 c6 9d.<br />device eth2 entered promiscuous mode<br />VLAN (eth2.2):&nbsp; Setting underlying device (eth2) to promiscious mode.<br />ifconfig: ioctl 0x8913 failed: No such device<br />brctl: bridge br0: No such device or address<br />##### config RT3052 vlan partition (WLLLL) #####<br />### usage USB Wireless No Vlan (0) ###<br />switch reg write offset=14, value=5555<br />switch reg write offset=40, value=1001<br />switch reg write offset=44, value=1001<br />switch reg write offset=48, value=1001<br />switch reg write offset=4c, value=1<br />switch reg write offset=50, value=2001<br />switch reg write offset=70, value=ffffffff<br />switch reg write offset=98, value=7f7f<br />switch reg write offset=e4, value=7f<br />device ra0 entered promiscuous mode<br />====== LAN_PRE =========<br />WLAN DAEMON : Start USB WLAN Detection Daemon....<br />br0: port 2(eth2) entering learning state<br />br0: port 1(ra0) entering learning state<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />==================== wpa_supplicant.conf ===========================<br />SSID=FQKRN<br />AUTHTICATION=2<br />ENCRYPTION=99<br />NETWORKTYPE=1<br />BSSID=00:26:B6:03:3D:08<br />====================================================================<br /> /sbin/wpa_supplicant.sh KEY1: use hex key. &gt; /dev/console<br />WLAN DAEMON : Turn ON USB Power....<br />WLAN DAEMON : check module fail<br />WLAN DAEMON : Insert Module &amp; Driver<br />insmod: cannot insert &#039;/lib/modules/2.6.21-gb9609c50-dirty/kernel/drivers/net/wireless/rtl8187l/r8187l.ko&#039;: invalid parameters<br />WLAN DAEMON : Turn ON USB Power....<br />killall: udhcpd: no process killed<br />Set: phy[1].reg[0] = 3900<br />Set: phy[1].reg[0] = 3100<br />====== LAN_PRE:end =========<br />====== LAN_POST =========<br />## stop lld2d ##<br />## restart lld2d ##<br />## stop igmpproxy ##<br />## restart igmpproxy ##<br />## stop miniupnpd ##<br />## restart miniupnpd ##<br />## stop radvd ##<br />Jan&nbsp; 1 00:00:12 miniupnpd[1113]: HTTP listening on port 5555<br />Jan&nbsp; 1 00:00:12 miniupnpd[1113]: Listening for NAT-PMP traffic on port 5351<br />Jan&nbsp; 1 00:00:12 miniupnpd[1113]: chain port_forward not found<br />Jan&nbsp; 1 00:00:12 miniupnpd[1113]: chain port_forward not found<br />## restart radvd ##<br />ifconfig: ioctl 0x8913 failed: No such device<br />## stop pppoe-relay ##<br />## restart pppoe-relay ##<br />## stop dnsmasq ##<br />## restart dnsmasq ##<br />====== LAN_POST:end =========<br />===== To Fix Coutnry Code does not depend on MFG procedure ====<br />Commit crc = b81310d3<br />WLAN DAEMON : wlan0 now is down...<br />ifconfig: ioctl 0x8913 failed: No such device<br />WLAN DAEMON : device not exists.<br />sh: 1: unknown operand<br />killall rt2860apd 1&gt;/dev/null 2&gt;&amp;1<br />insmod /lib/modules/2.6.21/kernel/net/netfilter/xt_webstr.ko<br />iptables -F -t filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j web_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F web_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -P INPUT ACCEPT<br />iptables -P OUTPUT ACCEPT<br />iptables -P FORWARD ACCEPT<br />iptables -t filter -N web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A INPUT -i wlan0 -p tcp --dport 80 -j DROP<br />iptables -t nat -D PREROUTING -i ppp0 -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -i eth2.2 -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F port_forward&nbsp; 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X port_forward&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -i ppp0 -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -i eth2.2 -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X DMZ&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N port_forward 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 1 -i wlan0 -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 2 -i wlan0 -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />greenap.sh init<br />Jan&nbsp; 1 00:00:17 crond[1488]: crond (busybox 1.12.1) started, log level 6</p><p>/etc/init.d/cron.sh ok<br />ddns.sh<br />route delete 239.255.255.250 1&gt;/dev/null 2&gt;&amp;1<br />killall wscd 1&gt;/dev/null 2&gt;&amp;1<br />killall -9 wscd 1&gt;/dev/null 2&gt;&amp;1<br />iwpriv ra0 set WscConfMode=0 1&gt;/dev/null 2&gt;&amp;1<br />killall -q klogd<br />killall -q syslogd<br />syslogd -C8 1&gt;/dev/null 2&gt;&amp;1<br />klogd 1&gt;/dev/null 2&gt;&amp;1<br />killall -q zebra<br />killall -q ripd<br />/bin/qos_run<br />/etc/init.d/ntp.sh ntp_update</p><p>##### USB init #####<br />storage.sh admin<br />sh: storage.sh: not found<br />webs: Listening for HTTP requests at address 192.168.2.1<br />br0: topology change detected, propagating<br />br0: port 2(eth2) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 1(ra0) entering forwarding state<br />WLAN DAEMON : Turn ON USB Power....<br />WLAN DAEMON : wlan0 now is down...<br />ifconfig: ioctl 0x8913 failed: No such device<br />WLAN DAEMON : device not exists.</p><p># <br /># <br /># ls<br />bin&nbsp; &nbsp; &nbsp;etc&nbsp; &nbsp; &nbsp;home&nbsp; &nbsp; lib&nbsp; &nbsp; &nbsp;mnt&nbsp; &nbsp; &nbsp;sbin&nbsp; &nbsp; tmp&nbsp; &nbsp; &nbsp;var<br />dev&nbsp; &nbsp; &nbsp;etc_ro&nbsp; init&nbsp; &nbsp; media&nbsp; &nbsp;proc&nbsp; &nbsp; sys&nbsp; &nbsp; &nbsp;usr<br /># ls 0a  -all<br />drwxr-xr-x&nbsp; &nbsp;16 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;171 May 23&nbsp; 2011 .<br />drwxr-xr-x&nbsp; &nbsp;16 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;171 May 23&nbsp; 2011 ..<br />-rw-r--r--&nbsp; &nbsp; 1 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;539 May 23&nbsp; 2011 .config<br />drwxr-xr-x&nbsp; &nbsp; 2 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; 1124 May&nbsp; 9&nbsp; 2011 bin<br />drwxr-xr-x&nbsp; &nbsp; 3 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;586 May 23&nbsp; 2011 dev<br />drwxr-xr-x&nbsp; &nbsp; 8 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan&nbsp; 1 00:00 etc<br />drwxr-xr-x&nbsp; &nbsp;13 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;351 May 16&nbsp; 2011 etc_ro<br />drwxr-xr-x&nbsp; &nbsp; 2 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 May 23&nbsp; 2011 home<br />lrwxrwxrwx&nbsp; &nbsp; 1 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; 11 May 23&nbsp; 2011 init -&gt; bin/busybox<br />drwxr-xr-x&nbsp; &nbsp; 5 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;880 May 23&nbsp; 2011 lib<br />drwxr-xr-x&nbsp; &nbsp; 2 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan&nbsp; 1&nbsp; 2000 media<br />drwxr-xr-x&nbsp; &nbsp; 2 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 May 23&nbsp; 2011 mnt<br />dr-xr-xr-x&nbsp; &nbsp;40 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan 2000 proc<br />drwxr-xr-x&nbsp; &nbsp; 2 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; 1005 May 23&nbsp; 2011 sbin<br />drwxr-xr-x&nbsp; &nbsp;10 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan&nbsp; 1&nbsp; 2000 sys<br />drwxr-xr-x&nbsp; &nbsp; 2 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan&nbsp; 1 00:00 tmp<br />drwxr-xr-x&nbsp; &nbsp; 8 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 82 May 23&nbsp; 2011 usr<br />drwr-x&nbsp; &nbsp; 6 admin&nbsp; &nbsp; admin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan&nbsp; 1 00:00 var<br /># <br /># <br />-------------------------------------------------------------------------------------------------</p><p>So that&#039;s the output. I see that I could possibly load OpenWRT with the U-Boot TFTP option, but what version of OpenWRT should I use? Is there any version that will fully support this router? If not, can you give me a high level explanation of what I would need to do to get OpenWRT working on this router? I am still in the process of reading the documents on the OpenWRT wiki, but so far they are just confusing me. Any advice would be greatly appreciated.</p><p>Thanks for the help. <br />CoytHV</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145000">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">badger32d</div>
					<div class="post-datetime">
						3 Oct 2011, 00:18					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m interested in hacking on this same router. Waiting for a serial &gt; jtag cable and then I&#039;ll be getting started. I grabbed the openwrt source and got into the menuconfig, appears the chipset is supported, so I might get a working build made shortly. I&#039;ll make sure to update as I progress.</p><p>--badger</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146906">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">erriko</div>
					<div class="post-datetime">
						28 Oct 2011, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>Any news?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147527">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">millenovanta</div>
					<div class="post-datetime">
						3 Nov 2011, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I own an R36, and I&#039;m trying to access it by SSH. There is a way to access it by SSH via Network interfaces, not by serial port? How is going the work in Openwrt?<br />Thank you, mille.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p148312">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">badger32d</div>
					<div class="post-datetime">
						12 Nov 2011, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>All,</p><p>Waiting on my bus pirate to get access to the JTAG headers, but I think I&#039;ll have a working openwrt image for it in a couple weeks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149174">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ma.terol</div>
					<div class="post-datetime">
						21 Nov 2011, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi to all,</p><p>I have good news, I have put openwrt in my R36 <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I don&#039;t know if it&#039;s 100% ok, but it seems to work.</p><p>The only error that show up is:</p><div class="codebox"><pre><code>ramips-wdt: timeout value 60 must be 0 &lt; timeout &lt; 40</code></pre></div><p>But I don&#039;t think it is a mayor concern.</p><p>The &quot;trick&quot; is know that R36 works with the same values that &quot;Aztech HW550-3G&quot;</p><p>You need the files &quot;openwrt-ramips-rt305x-uImage.bin&quot; and &quot;openwrt-ramips-rt305x-root.squashfs&quot;, I have compiled from svn, but they are available <a href="http://necromant.ath.cx/files/arthelail/2011.08.16/">here</a></p><br /><p>Step by step procedure:</p><p>1.- Copy the 2 files to your tftp server directory<br />2.- Add 10.10.10.3 ip address to your server<br />3.- Connect serial cable, ethernet cable and power to the R36 board<br />4.- Wait fot the u-boot messages</p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jan 20 2010 - 11:24:04)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb0000
flash_protect ON: from 0xBF000000 to 0xBF01D423
flash_protect ON: from 0xBF030000 to 0xBF030FFF
*** Warning - bad CRC, using default environment

============================================ 
Ralink UBoot Version: 3.3
-------------------------------------------- 
ASIC 3052_MP2 (Port5&lt;-&gt;None)
DRAM component: 256 Mbits SDR
DRAM bus: 16 bit
Total memory: 32 MBytes
Flash component: NOR Flash
Date:Jan 20 2010  Time:11:24:04
============================================ 
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384 

 ##### The CPU freq = 320 MHZ #### 

SDRAM bus set to 16 bit 
SDRAM size =32 Mbytes

Please choose the operation: 
   1: Load system code to SDRAM via TFTP. 
   2: Load system code then write to Flash via TFTP. 
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   9: Load Boot Loader code then write to Flash via TFTP.</code></pre></div><p>5.- Select &quot;command line interface&quot;, 4 option</p><div class="codebox"><pre><code>You choosed 4
4: System Enter Boot Command Line Interface.

U-Boot 1.1.3 (Oct  4 2010 - 15:34:52)

RT3052 #</code></pre></div><p>6.- Set the boot args enviroment variable, typing:</p><div class="codebox"><pre><code>RT3052 # setenv bootargs &#039;console=ttyS1,115200n8 root=/dev/mtdblock4 board=HW550-3G rootfstype=squashfs,jffs2 noinitrd&#039;
RT3052 # saveenv
Saving Environment to Flash...
File: env_flash.c, Func: saveenv, Line: 302
copy old content: sect_addr: BF030000  env_addr: BF030000  offset: 00000000
Protect off BF030000 ... BF03FFFF
 b_end =BF7FFFFF
Un-Protecting sectors 10..10 in bank 1
Un-Protected 1 sectors
Erasing Flash...
 b_end =BF7FFFFF
Erase Flash from 0xbf030000 to 0xbf03ffff in Bank # 1 
 erase sector  = 10 
sect = 10,s_last = 10,erase poll = 834588
 done
Erased 1 sectors
Writing to Flash... done
 b_end =BF7FFFFF
Protecting sectors 10..10 in bank 1
Protected 1 sectors

RT3052 #</code></pre></div><p>7.- Load the kernel file to ram</p><div class="codebox"><pre><code>RT3052 # tftp 0x80600000 openwrt-ramips-rt305x-uImage.bin
 netboot_common, argc= 3 
 NetTxPacket = 0x81FE5640 
 KSEG1ADDR(NetTxPacket) = 0xA1FE5640 
 NetLoop,call eth_halt ! 
 NetLoop,call eth_init ! 
Trying Eth0 (10/100-M)
 Waitting for RX_DMA_BUSY status Start... done
 Header Payload scatter function is Disable !! 
 ETH_STATE_ACTIVE!! 
Using Eth0 (10/100-M) device
TFTP from server 10.10.10.3; our IP address is 10.10.10.123
Filename &#039;openwrt-ramips-rt305x-uImage.bin&#039;.
 TIMEOUT_COUNT=10,Load address: 0x80600000
Loading: Got ARP REPLY, set server/gtwy eth addr (00:50:fc:24:42:21)
Got it
T #
 first block received  
################################################################
     #################################################################
     ############################
done
Bytes transferred = 804342 (c45f6 hex)
NetBootFileXferSize= 000c45f6

RT3052 #</code></pre></div><p><strong>Important:</strong> c45f6 is the size of my file. If you use a diferent file this number can be different. This size value is used later on the 9th step.</p><p>8.- Erase the destination flash memory:</p><div class="codebox"><pre><code>RT3052 # erase 0xbf050000 0xbf11ffff
 b_end =BF7FFFFF
Erase Flash from 0xbf050000 to 0xbf11ffff in Bank # 1 
 erase sector  = 12 
.
.
.
 erase sector  = 24 
sect = 24,s_last = 24,erase poll = 946923
 done
Erased 13 sectors

RT3052 #</code></pre></div><p>9.- Copy the kernel from file memory to the flash, notice, the size number must be the same as before (in these case c45f6)</p><div class="codebox"><pre><code>RT3052 # cp.b 0x80600000 0xbf050000 c45f6
Copy to Flash... 
 Copy 804342 byte to Flash... 
 addr = 0xBF0B1C74 ,cnt=403842 
 addr = 0xBF1138E4 ,cnt=3346 done
RT3052 #</code></pre></div><p>10.- Load rootfs to ram. For some extrange reason my board sometimes don&#039;t load the second file and I need to reboot, and then select the 4 option once again and continue in this step</p><div class="codebox"><pre><code>RT3052 # tftp 0x80600000 openwrt-ramips-rt305x-root.squashfs
 netboot_common, argc= 3 
 KSEG1ADDR(NetTxPacket) = 0xA1FE5640 
 NetLoop,call eth_halt ! 
 NetLoop,call eth_init ! 
Trying Eth0 (10/100-M)
 ETH_STATE_ACTIVE!! 
Using Eth0 (10/100-M) device
TFTP from server 10.10.10.3; our IP address is 10.10.10.123
Filename &#039;openwrt-ramips-rt305x-root.squashfs&#039;.
 TIMEOUT_COUNT=10,Load address: 0x80600000
Loading: Got ARP REPLY, set server/gtwy eth addr (00:50:fc:24:42:21)
Got it
checksum bad
checksum bad
Got ARP REQUEST, return our IP
checksum bad
T #
 first block received  
################################################################
     #################################################################
     #################################################################
     #################################################################
     #################################################################
     ########
done
Bytes transferred = 1703936 (1a0000 hex)
NetBootFileXferSize= 001a0000

RT3052 #</code></pre></div><p><strong>Important:</strong> Remeber 1a0000 is the file size.</p><p>11.- Erase the destination flash memory:</p><div class="codebox"><pre><code>RT3052 # erase 0xbf120000 0xbf7fffff
.
.
.
 erase sector  = 133 
sect = 133,s_last = 134,erase poll = 960332
 erase sector  = 134 
sect = 134,s_last = 134,erase poll = 950492
 done
Erased 110 sectors
RT3052 #</code></pre></div><p>12.- Copy the rootfs from file memory to the flash, file size 1a0000</p><div class="codebox"><pre><code>RT3052 # cp.b 0x80600000 0xbf120000 1a0000
Copy to Flash... 
 Copy 1703936 byte to Flash... 
 addr = 0xBF181C74 ,cnt=1303436 
 addr = 0xBF1E38E8 ,cnt=902936 
 addr = 0xBF24555C ,cnt=502436 
 addr = 0xBF2A77D8 ,cnt=100392 done
RT3052 #</code></pre></div><p>13.- Reset the board to reboot them</p><div class="codebox"><pre><code>RT3052 # reset</code></pre></div><p>I hope this help someone. This is just a dirty-hack, I hope some one add official support for this board.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149528">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">erriko</div>
					<div class="post-datetime">
						25 Nov 2011, 03:17					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for these useful informations!</p><p>Is there any chance to flash w/o a serial cable? And how can I find a serial cable for R36?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151493">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">millenovanta1</div>
					<div class="post-datetime">
						18 Dec 2011, 20:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi, i successfully connected to r36 via rs232. I can see the boot process, but when i should press 4, to enter the command line interface, the boot process chooses automatically the third option to boot from kernel image. This is done in less then a second, and i cannot press 4 in time. There is a way to stop the automatic booting process?<br />@erriko, i managed it connecting by 3 wires the serial port of the r36 to my serial port of the pc, to pins 2,3 and 5. You can find infos of this connection on google. @All others... is this type of connection good enough or i need the bus pirate?</p><p>Thank you, Mille.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151632">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ma.terol</div>
					<div class="post-datetime">
						20 Dec 2011, 18:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi millenovanta,</p><p>You don&#039;t need bus pirate, you only need a serial connection. A ttl (3V) to rs232 cable. If your computer hasn&#039;t serial port you can use an usb to rs232 converter.</p><p>You have an perfect cable, but IMHO it&#039;s damaged. It works the Rx, but not the Tx.</p><p>If you wait, at the end of the boot process you can interact with a command line. You can see an example in the first post.</p><p>Of course, you can use bus pirate if you want to, but isn&#039;t mandatory.</p><p>I hope this helps you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151831">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">MSgtDan</div>
					<div class="post-datetime">
						22 Dec 2011, 21:54					</div>
				</div>
				<div class="post-content content">
					<p>Hi ma.terol,</p><p>Thanks for your very thorough post.&nbsp; I was able to successfully get all the steps accomplished, but the version of the two files your link pointed to didn&#039;t work for me.&nbsp; Watching the boot process via a serial connection showed messages concerning &quot;kernal panic&quot; and that the squashfs couldn&#039;t be used with newer devices.&nbsp; I am clueless as to what this means.&nbsp; Can you point me in the right direction?&nbsp; Perhaps even to the exact files you used?&nbsp; Thank you so much for any help you can provide - and for having patience with a noob.&nbsp; &nbsp;:-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152432">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">millenovanta1</div>
					<div class="post-datetime">
						30 Dec 2011, 11:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />i spoke with the alfa support, who sent me a link to a page on the openwrt site.<br />It seems openwrt is compatible with the W502U board, which is the unboxed board of the r36.<br />This is the link <a href="http://wiki.openwrt.org/toh/start#alfa.network">http://wiki.openwrt.org/toh/start#alfa.network</a> .<br />The compatbility begins from the svn build n R29615: <a href="https://dev.openwrt.org/changeset/29615/trunk">https://dev.openwrt.org/changeset/29615/trunk</a> .</p><p>I hope it will be a point of change for this device.<br />I&#039;m waiting for a rs232 to ttl converter, to connect by serial and flash it.<br />I have to study on how to compile image from svn, because it seems that version is the best for the r36.</p><p>In the openwrt wiki doesn&#039;t exist the topic on how to flash, ma.terol, you could write it.</p><p>Bye, Mille</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152936">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">erriko</div>
					<div class="post-datetime">
						4 Jan 2012, 00:29					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve seen now is supported (<a href="https://dev.openwrt.org/changeset/29615">https://dev.openwrt.org/changeset/29615</a>).<br />As far as you know, can I use a cable like this <a href="http://www.ebay.it/itm/PL2303-USB2-0-to-RS232-TTL-Converter-Module-4-x-cable-/290650686084?pt=LH_DefaultDomain_0&amp;hash=item43ac218284">http://www.ebay.it/itm/PL2303-USB2-0-to … 43ac218284</a> to flash my r36?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154305">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						15 Jan 2012, 22:44					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>Got backfire running on the Alpha R36 with LuCI without too many issues.&nbsp; The instructions above work fine as long as you see the board= W502U in boot args.<br />Also... for me anyway (i have done this several times on my board) I see seem to get checksum errors on the kernel image unless i burn it after the squashfs image.</p><p>I built the images from sources to get LuCI built into the image.</p><p>So.. the wifi (acesspoint) and LAN side of things seem to be working fine.&nbsp; However, I can&#039;t seem to get WAN to work.</p><p>ifconfig is reporting the correct mac address for the WAN port.&nbsp; and traffic is being sent out of the port. but nothing ever comes back.</p><p>here are the default /etc/config/network settings.</p><p>config &#039;interface&#039; &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039; &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;macaddr&#039; &#039;00:c0:ca:49:bb:7c&#039;</p><p>config &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0.2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;dhcp&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;macaddr&#039; &#039;00:c0:ca:49:bb:7d&#039;</p><br /><p>and here is an ifconfig </p><p>root@OpenWrt:/etc/config# ifconfig -a<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:49:BB:7C<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:2358 errors:0 dropped:193 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1464 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:307659 (300.4 KiB)&nbsp; TX bytes:259682 (253.5 KiB)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:49:BB:7C<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:2403 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1837 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:321013 (313.4 KiB)&nbsp; TX bytes:421059 (411.1 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5</p><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:49:BB:7C<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:2403 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1464 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:321013 (313.4 KiB)&nbsp; TX bytes:259682 (253.5 KiB)</p><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:49:BB:7D<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:373 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:150319 (146.7 KiB)</p><p>ifb0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr D6:B0:F2:11:FB:09<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST NOARP&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:32<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>ifb1&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr CA:BB:16:52:FE:3F<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST NOARP&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:32<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:8497 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:8497 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:578476 (564.9 KiB)&nbsp; TX bytes:578476 (564.9 KiB)</p><br /><p>i have confirmed that the mac addresses are correct by loading the original R36 image and then doing an ifconfig.&nbsp; On the original image i have no problem acquiring a DHCP address for the WAN port.</p><p>I have also tries setting a static IP address for the WAN and still unable to get out. </p><p>I thought for a while that it might be a firewall issue but creating rules to allow everything through also fails.</p><p>Anyone out there having any luck?</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154306">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						15 Jan 2012, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>one last strange thing...</p><p>if i have both the pc in the lan and the wan hooked up to my router when I boot up the R36 the pc gets an IP address from the WAN.&nbsp; Its like the two ehternet ports are bridged.&nbsp; Removeing the word bridge from /etc/config/networks seems to make no difference.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155347">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						25 Jan 2012, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>Anyone out there having any luck with the wan port (eth0.2)?&nbsp; &nbsp;Everything else on the board seems to work.&nbsp; The WIFI works fine so does eth0.1 (the lan port) the lights etc. </p><p>There are no errors in any of the log files.&nbsp; The kernel sees eth0.2 just fine.&nbsp; &nbsp;The interface can be brought up/down with ifconfig without error.&nbsp; If config shows packets going out the network interface but nothing received (as shown in the post above).&nbsp; &nbsp;I have tried configuring the interace for both static and dhcp.&nbsp; &nbsp; On the network side of the box none of the arp broadcast are seen by machines on the same network.&nbsp; &nbsp;So.. it really seems that the WAN interface is not transmitting.&nbsp; The kernel thinks it is but nothing is coming out of the RJ45. </p><p>Physically the two ethernet ports look like they are bridged.&nbsp; If I have the the WAN cable connected to the device and a PC connected to the LAN port the PC acquires an IP address from the WAN router (not the R36).&nbsp; Data is transparently passed between the two ports.&nbsp; &nbsp;To get the R36 to handout a DHCP address to the LAN based PC I must have the WAN cable disconnected.&nbsp; Once this is done the PC acquires a DHCP address from the R36.</p><p>I have looked at the openwrt mods made for the W502U board <br /><a href="https://dev.openwrt.org/changeset/29615/trunk#file12">https://dev.openwrt.org/changeset/29615/trunk#file12</a><br />and see nothing in the configuration that would prevent the wan from being configured correctly.</p><p>My guess is that there is some switch in the menuconfig that needs to be set to make this work.&nbsp; Any pointers on resolving this issue would greatly be appreciated.&nbsp; Just news that someone has this working would be appreciated.</p><p>The two ports work fine when booting the stock R36 image so I know its not an issue with the hardware.</p><p>Take care.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155629">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">madisi</div>
					<div class="post-datetime">
						28 Jan 2012, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody, I&#039;ve just successfully flashed my R36 with Openwrt (builded from svn): I have to thank a lot for the precious help of this forum; I&#039;d like to share some useful (in my opinion) links and info</p><p>1) <a href="http://alfanetworkinc.blogspot.com/2012/01/r36-recovery-guide.html">http://alfanetworkinc.blogspot.com/2012 … guide.html</a></p><p>For coming back from a bad flash procedure.</p><p>Look at the picture: it&#039;s important for the following item.</p><p>2) Correct pinout R36 TTL internal connector&nbsp; (from AlfaNetwork):</p><p>::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::<br />That is our web blog where RED is VDD, Black is GND, Orange is RX, and Green is TX. <br />Best Regards<br />::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</p><p>3) <a href="http://www.nslu2-linux.org/wiki/HowTo/AddASerialPort">http://www.nslu2-linux.org/wiki/HowTo/AddASerialPort</a></p><p>About using a mobile phone data cable to connect R36 to a serial port (or to a usb-serial adapter)</p><br /><p>I&#039;ve used a modified DLR-3P data cable to connect R36 to a usb-serial adapter.</p><br /><p>4) <a href="http://www.wifi-ita.com/forum/viewtopic.php?f=9&amp;t=13088">http://www.wifi-ita.com/forum/viewtopic … mp;t=13088</a></p><p>About setting up a repeater bridge by the &quot;relayd&quot; package: I think this can help lsoltero to solve his problems with wan port...</p>											<p class="post-edited">(Last edited by <strong>madisi</strong> on 28 Jan 2012, 17:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155644">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						28 Jan 2012, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Glad you got openwrt running on the R36.&nbsp; It works quite well.&nbsp; I have luci and perl installed on my unit and its working well.</p><p>My problem is that I can&#039;t get the WAN port working.&nbsp; &nbsp;I am not trying to use relayd.&nbsp; I am just trying to get the WAN port to talk to the network.&nbsp; the LAN port and WIFI work fine.&nbsp; I have the unit configured as a WIFI hotspot and can connect to it and get DHCP addresses without issue.&nbsp; I can also route traffic between the WIFI and the LAN port.&nbsp; &nbsp; The problem is that the WAN is is not transmitting data over the network.&nbsp; </p><p>When assigning a static IP address to the WAN ethernet device (eht0.2) the kernel acts like the device is working properly.&nbsp; You can bring the internface up/down with ifconfig and change the network parameters.&nbsp; The kernel also transmits data to the device as shown by the network counters.&nbsp; However, nothing comes in through the port. If you are on the network using a sniffer (wireshark or other) you don&#039;t see arp broadcasts or any other traffic emanating from the WAN port.</p><br /><p>if you hook up a PC to the LAN port and have the WAN connected then data passes from the PC to the WAN bypasing the router. i.e. data is not routed to the WAN its bridged.</p><p>I will be interested to hear if you are able to get the WAN working.</p><p>Take care.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156034">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">madisi</div>
					<div class="post-datetime">
						2 Feb 2012, 01:47					</div>
				</div>
				<div class="post-content content">
					<p>My personal experience on getting the WAN port working...hoping this can help.</p><p>1) Physical connection: R36 hooked up to 2 PCs by lan cables (one on lan port and the other on wan port); R36 usb port connected to Alfa AWUS036H 1000mW adapter (internet from here)</p><p>2) Network settings parameters like follow:</p><p>root@OpenWrt:/etc/config# ifconfig -a<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr XX:YY:ZZ:RR:NN:FF&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:9673 errors:0 dropped:2 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:8238 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:937962 (915.9 KiB)&nbsp; TX bytes:1294167 (1.2 MiB)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr XX:YY:ZZ:RR:NN:FF&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:25242 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:24114 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:2505888 (2.3 MiB)&nbsp; TX bytes:4345777 (4.1 MiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5 </p><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr XX:YY:ZZ:RR:NN:FF&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:25242 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:22232 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:2505888 (2.3 MiB)&nbsp; TX bytes:3458702 (3.2 MiB)</p><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr XX:YY:ZZ:RR:NN:FG&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1882 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:758446 (740.6 KiB)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:1 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:76 (76.0 B)&nbsp; TX bytes:76 (76.0 B)</p><p>mon.wlan0 Link encap:UNSPEC&nbsp; HWaddr XX:YY:ZZ:RR:NN:FH-00-00-00-00-00-00-00-00-00-00&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:103 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:32 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:6412 (6.2 KiB)&nbsp; TX bytes:0 (0.0 B)</p><p>wlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr XX:YY:ZZ:RR:NN:FF&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:7 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:32 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:994 (994.0 B)</p><p>3) IP reservation for PCs mac address on R36 (192.168.1.123 and 192.168.1.127)</p><p>Tested different cases (connecting only one PC first to the lan port and later to the wan, both connected and so on): it worked, I got the correct reserved ip address on each machine.</p><p>Asap I&#039;d like to test a configuration with dsl router hooked on R36 wan port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156036">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						2 Feb 2012, 02:33					</div>
				</div>
				<div class="post-content content">
					<p>hello madisi,</p><p>i am not sure this is working for you... take a look at the counters on the wan interface (eth0.2)</p><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr XX:YY:ZZ:RR:NN:FG&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:758446 (740.6 KiB)</p><p>Note that the txmit counter is showing that data is going out the interface but its never coming in.</p><p>also... i am not seeing an IP address for the WAN.&nbsp; &nbsp;Only for the LAN. (192.168.1.1)</p><p>I think what you are seeing is that the LAN and WAN ports are &quot;bridged&quot;&nbsp; so that traffic from one is seen on the other.&nbsp; Both PCs have the same subnet address. They should be different.&nbsp; </p><p>In my testes I assigned a static IP address to the WAN port... i was unable to get an machine on the WAN side of the network to communicate with the R36.</p><p>Anyway... i will be interested to see if you can make the unit work with your DSL router.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156291">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						5 Feb 2012, 04:45					</div>
				</div>
				<div class="post-content content">
					<p>hm... is it possible that this fixes the issue with the WAN port?</p><p><a href="https://dev.openwrt.org/changeset/29969">https://dev.openwrt.org/changeset/29969</a></p><p>it was just posted and the patch does seem to address the WAN.</p><p>unfortunately I am out of town for the next week starting tomorrow and will not be able to test it...&nbsp; </p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157312">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						14 Feb 2012, 02:50					</div>
				</div>
				<div class="post-content content">
					<p>svn update and recompile fixed the WAN.&nbsp; </p><p>thanks all for your help.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157471">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">madisi</div>
					<div class="post-datetime">
						15 Feb 2012, 13:01					</div>
				</div>
				<div class="post-content content">
					<p>Hello Isoltero, you were right: eth0.2 was not receiving in my last configuration; I&#039;ve followed your suggestion and rebuilding from last svn has solved the issue.<br />Now I need a little help to configure R36 network parameters to be able to repeat (via wireless) internet connection from another wireless router: I can only connect to internet by lan cable but not via wireless (the radio signal is on and I can see my R36 wireless network); I&#039;ve tried to check the previous configuration of R36 (with the original AlfaNetwork firmware) that was like below:</p><br /><p># ifconfig -a<br />apcli0&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>br0&nbsp; &nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.2.1&nbsp; Bcast:192.168.2.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:87 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:70 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:10152 (9.9 KiB)&nbsp; TX bytes:19117 (18.6 KiB)</p><p>eth2&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GC<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING PROMISC MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:105 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:73 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:13666 (13.3 KiB)&nbsp; TX bytes:17393 (16.9 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:3</p><p>eth2.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:6 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:492 (492.0 B)</p><p>eth2.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GD&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:6 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:492 (492.0 B)</p><p>gre0&nbsp; &nbsp; &nbsp; Link encap:UNSPEC&nbsp; HWaddr 00-00-00-00-00-00-E0-1E-00-00-00-00-00-00-00<br />-00<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOARP&nbsp; MTU:1476&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>ra0&nbsp; &nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:9 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:21 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:406 (406.0 B)&nbsp; TX bytes:0 (0.0 B)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:4</p><p>tunl0&nbsp; &nbsp; &nbsp;Link encap:UNSPEC&nbsp; HWaddr 00-00-00-00-00-00-00-17-00-00-00-00-00-00-00<br />-00<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOARP&nbsp; MTU:1480&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>wds0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>wds1&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>wds2&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>wds3&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:71:D8:GE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>wlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:C0:CA:2D:E4:CG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.128&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:23 errors:0 dropped:11 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:32 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:2953 (2.8 KiB)&nbsp; TX bytes:5259 (5.1 KiB)</p><br /><p>I&#039;ve read a lot on Openwrt forum but I cannot understand if I&#039;ve to replicate the configuration above or follow different direction; I&#039;ve some knowledge of networking but I&#039;m not a technician. Any help will be greatly appreciated.</p><p>Marco</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157472">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">lsoltero</div>
					<div class="post-datetime">
						15 Feb 2012, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>hi Marco,</p><p>Not sure if I will be able to help you.&nbsp; I have the wifi setup as an accesspoint and its working fine for me.&nbsp; &nbsp;My guess is that you have not setup the firewall zones correctly and so you are probably able to connect to the unit but not able to supply DHCP addresses.&nbsp; &nbsp;It did take some work to get the wifi setup... </p><p>The good news is that the wifi hardware is working fine and I have 2 clients connected to the R36... So its just a matter of figuring out what buttons to push to make your setup work.</p><p>--luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157636">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">madisi</div>
					<div class="post-datetime">
						16 Feb 2012, 17:43					</div>
				</div>
				<div class="post-content content">
					<p>Glad you&#039;ve solved your troubles, thank you anyway Luis.</p><p>Marco</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p163491">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">traxsboy</div>
					<div class="post-datetime">
						6 Apr 2012, 13:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi all has any one made an .img file and tried to up load it via the web interface?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 4</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=31264&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=31264&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=31264&amp;p=4.html">4</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>