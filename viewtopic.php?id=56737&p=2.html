<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Working on Netgear WNDR3700v5</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Mar 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=56737&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=56737&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=56737&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=56737&amp;p=6.html">6</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p286123">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">shining_wind_3007</div>
					<div class="post-datetime">
						3 Aug 2015, 22:09					</div>
				</div>
				<div class="post-content content">
					<p>@Francis, what did you do to make the firmware check pass?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286620">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">shining_wind_3007</div>
					<div class="post-datetime">
						7 Aug 2015, 07:39					</div>
				</div>
				<div class="post-content content">
					<p>Ordered WNDR3700 online hoping I would get WNDR3700v5, but received a WNDR3700-NAS100. </p><p>Does anybody in US want to trade their WNDR3700v5 for my used WNDR3700v4?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286682">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">shining_wind_3007</div>
					<div class="post-datetime">
						7 Aug 2015, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Never mind <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />The box says WNDR3700-NAS100, but the router itself is WNDR3700v5, so I&#039;m all set.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286927">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">Francis</div>
					<div class="post-datetime">
						10 Aug 2015, 10:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>shining_wind_3007 wrote:</cite><blockquote><p>@Francis, what did you do to make the firmware check pass?</p><p>Thanks!</p></blockquote></div><p>I wrote my own tool to do it. I will put the code on github today, if I have the time.</p><p>EDIT: I put the code on github, you can find it <a href="https://github.com/Vic063/WNDR3700v5-firmware">here</a>.</p><p>Francis.</p>											<p class="post-edited">(Last edited by <strong>Francis</strong> on 10 Aug 2015, 15:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286968">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">rlees85</div>
					<div class="post-datetime">
						10 Aug 2015, 16:52					</div>
				</div>
				<div class="post-content content">
					<p>You can still get a WNDR3700v4 if you look hard enough. I picked one up brand new (probably been in a warehouse for a year or more lol) on eBay about 2 weeks ago. Made 100% sure with the supplier it was a v4 not a v5 before shipping after checking DD-WRT/OpenWRT compatibility lists.... so it can be done <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287131">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">shining_wind_3007</div>
					<div class="post-datetime">
						11 Aug 2015, 17:02					</div>
				</div>
				<div class="post-content content">
					<p>Great detective work Francis, thank you for sharing!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287230">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">Francis</div>
					<div class="post-datetime">
						12 Aug 2015, 10:12					</div>
				</div>
				<div class="post-content content">
					<p>No problem, I&#039;m here to learn and share <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Francis.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289536">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">mesotes</div>
					<div class="post-datetime">
						28 Aug 2015, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>so.. i bought the wndr3700 believing there would be support for openwrt already without checking the site wiki directly..<br />i used a meta-shop-aggregating site were you could filter for specific features.. openwrt was one of them.</p><p>so here i am with a router which stockfirmware doesnt have the features i wanted (which i was kinda expecting..)<br />and cant run openwrt on it.</p><p>i decided on not returning it and instead figuring this shit out, eventhough i am a total noob, at least with a programming background, but when i look at all that stuff which already has been achived thanks to francis.....<br />still, there has to be something i can do.</p><p>any tips? guides?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290640">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">psaville</div>
					<div class="post-datetime">
						6 Sep 2015, 03:00					</div>
				</div>
				<div class="post-content content">
					<p>I too just bought the WNDR3700 thinking it was fully supported. I got a v5.</p><p>If there are working flashable images, I&#039;d like to try... I&#039;m also familiar with git and would like to contribute where I can. I&#039;ve never done any embedded device software before though. Any links to guides to get started would be great.</p><p>I&#039;ve done a git-clone of the trunk repos (openwrt and packages).</p><p>Thanks and regards,<br />Philip</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306891">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">pror21</div>
					<div class="post-datetime">
						9 Jan 2016, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>Hello!<br />I&#039;ve just received a WNDR3700v5, which i&#039;ll probably work on it soon. First i&#039;d like to thank Francis for sharing his work. I need to know if anyone has made some progress after Francis and willing to give a brief of his progress. Thanks</p>											<p class="post-edited">(Last edited by <strong>pror21</strong> on 9 Jan 2016, 20:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306897">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">jean1</div>
					<div class="post-datetime">
						9 Jan 2016, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>I just bought it specifically to install openwrt on it but as most of you I received a v5. This is quite disappointing.</p><p>Good luck in your endeavour pror21.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307327">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">andrius</div>
					<div class="post-datetime">
						12 Jan 2016, 16:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pror21 wrote:</cite><blockquote><p>Hello!<br />I&#039;ve just received a WNDR3700v5, which i&#039;ll probably work on it soon. First i&#039;d like to thank Francis for sharing his work. I need to know if anyone has made some progress after Francis and willing to give a brief of his progress. Thanks</p></blockquote></div><p>I tried to open it and connect to serial cable. I could obtain boot log but wasn&#039;t able to reinject original firmware with TFTP, so was scared to proceed. Router can be debricked with that windows xp program that Francis mentioned but I only have access to GNU/Linux machines.</p><p>I wish you good progress on this router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309045">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">ArtWeather</div>
					<div class="post-datetime">
						26 Jan 2016, 09:15					</div>
				</div>
				<div class="post-content content">
					<p>Be good to have this router added to the list! <br />Keep up the good work guys! </p><p>Look forward to you guys cracking this one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309069">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">Francis</div>
					<div class="post-datetime">
						26 Jan 2016, 13:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>andrius wrote:</cite><blockquote><div class="quotebox"><cite>pror21 wrote:</cite><blockquote><p>Hello!<br />I&#039;ve just received a WNDR3700v5, which i&#039;ll probably work on it soon. First i&#039;d like to thank Francis for sharing his work. I need to know if anyone has made some progress after Francis and willing to give a brief of his progress. Thanks</p></blockquote></div><p>I tried to open it and connect to serial cable. I could obtain boot log but wasn&#039;t able to reinject original firmware with TFTP, so was scared to proceed. Router can be debricked with that windows xp program that Francis mentioned but I only have access to GNU/Linux machines.</p><p>I wish you good progress on this router.</p></blockquote></div><p>Hey andrius,</p><p>you can&#039;t create a virtual machine with Windows XP in it?<br />Maybe it can work with others Windows versions, but when I was working on this router, I used Windows XP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309482">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">mikedee</div>
					<div class="post-datetime">
						29 Jan 2016, 16:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>andrius wrote:</cite><blockquote><p>I tried to open it and connect to serial cable. I could obtain boot log but wasn&#039;t able to reinject original firmware with TFTP, so was scared to proceed. Router can be debricked with that windows xp program that Francis mentioned but I only have access to GNU/Linux machines.</p><p>I wish you good progress on this router.</p></blockquote></div><p>It&#039;s even better! You can try upslug2.</p><p>//edit//<br />Sercomm Updater works fine under XP at VirtualBox</p>											<p class="post-edited">(Last edited by <strong>mikedee</strong> on 29 Jan 2016, 16:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309777">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">andrius</div>
					<div class="post-datetime">
						31 Jan 2016, 21:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mikedee wrote:</cite><blockquote><p>It&#039;s even better! You can try upslug2.</p><p>//edit//<br />Sercomm Updater works fine under XP at VirtualBox</p></blockquote></div><p>I&#039;ve tried XP on VirtualBox. But Sercomm Updater crashes at 99% leaving my router bricked. Any idea how I can fix this?</p><p>upslug2 also doesn&#039;t work. Probably needs some patching for this device.</p>											<p class="post-edited">(Last edited by <strong>andrius</strong> on 31 Jan 2016, 23:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309792">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">mikedee</div>
					<div class="post-datetime">
						31 Jan 2016, 23:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>andrius wrote:</cite><blockquote><div class="quotebox"><cite>mikedee wrote:</cite><blockquote><p>It&#039;s even better! You can try upslug2.</p><p>//edit//<br />Sercomm Updater works fine under XP at VirtualBox</p></blockquote></div><p>I&#039;ve tried XP on VirtualBox. But Sercomm Updater crashes at 99% leaving my router bricked. Any idea how I can fix this?</p><p>upslug2 also doesn&#039;t work. Probably needs some patching for this device.</p></blockquote></div><p>No, I&#039;ve used Updater on VB without any problems...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309802">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">andrius</div>
					<div class="post-datetime">
						1 Feb 2016, 01:34					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;ve managed to debrick my router with tftp.</p><p>I connected to 192.168.1.1 with tftp<br />Then I had to switch to switch to &quot;mode binary&quot; else transfer failed.<br />Finally I ran &quot;put WNDR3700v5_V1.1.0.32_1.0.1.img&quot; and router was debricked</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309898">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">haydude</div>
					<div class="post-datetime">
						1 Feb 2016, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>If you would like this piece of junk it is now on eBay for £34.97, sold by Curry PC World as v4, but I received a v5. And I am sending it back straight away!</p><p>The price is proof that only routers supported by OpenWRT or DD-WRT sell.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316174">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">maikoool</div>
					<div class="post-datetime">
						22 Mar 2016, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve just recieved a v5 myself, have been toying around with it a bit and discovered that you can get telnet access pretty easy.</p><p>I&#039;ve used <a href="https://github.com/insanid/netgear-telenetenable,">https://github.com/insanid/netgear-telenetenable,</a> to send a magic packet to the device. Afterwards, I could just telnet to 192.168.1.1, and got a root shell.</p><p>A few posts back there was a message about kernel not finding rootdisk, the official build uses the following device as a rootdisk:</p><div class="quotebox"><blockquote><p># cat /proc/cmdline<br />console=ttyS1,57600n8 root=/dev/mtdblock3 console=ttyS0</p></blockquote></div><p>Hopefully we can get dd-wrt running on this soon, I&#039;ve seen horrible webui on routers before, but this netgear one is pretty bad....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316338">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">maikoool</div>
					<div class="post-datetime">
						23 Mar 2016, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>Small update, I too have added the v5 to the openwrt device tree, and successfully compiled an image.</p><p>I&#039;ve used the Sercomm updater in a qemu-kvm Windows XP virtual machine, for the original firmware I needed to reboot the device after the updater crashed at 99%, uboot then listens for tftp after a power reset.</p><p>Flashing openwrt with the Sercomm tool works fine, still crashes but no tftp is required afterwards. I used Francis&#039;s tool on Linux to make the Sercomm tool recognise the bin file.</p><p>I created a custom dts file so I could pass the rootdevice id, which seemed to work. After that my serial console dissapeared after some boot time, but I managed to solve that by appending &#039;keep_bootcon=1&#039; to bootargs in the dts file.</p><p>The bootargs part of my dts file now looks like this:<br /></p><div class="quotebox"><blockquote><p>bootargs = &quot;console=ttyS1,57600n8 root=/dev/mtdblock3 keep_bootcon=1&quot;;</p></blockquote></div><p>Next up I was greeted by a kernel stacktrace <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />. I&#039;ve put the complete log here: <a href="http://pastebin.com/XymMecxs">http://pastebin.com/XymMecxs</a></p><p>Looking through the logs, it seems that the kernel at least mounts rootfs now, so that&#039;s some progress.</p><p>I&#039;m currently flashing back stock firmware, because I forgot to write down some useful information, I&#039;ve committed my progress to a Github repository, which you can find here: <a href="https://github.com/maikelwever/openwrt-15.05-wndr3700v5">https://github.com/maikelwever/openwrt-15.05-wndr3700v5</a></p><p>Any help, suggestions, pull-requests, etcetera, are very welcome. I&#039;ve never done this kind of thing before, except run dd-wrt on a previous router...</p><br /><p>Edit: It seems the device boots, but I can&#039;t ssh/telnet into it. The kernel boot logs also stop without showing a sign of the boot being completed. That said, it seems init is started, so the rootfs definitly works. The complete log can be found here: <a href="http://pastebin.com/iBs4gsBT">http://pastebin.com/iBs4gsBT</a></p>											<p class="post-edited">(Last edited by <strong>maikoool</strong> on 23 Mar 2016, 20:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317090">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">ldpinney</div>
					<div class="post-datetime">
						28 Mar 2016, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>Uboot and OpenWrt <strong><span style="color: red">Alpha</span></strong> Test images are available :</p><p><a href="https://drive.google.com/folderview?id=0B0CKglNyN0URM2FhVDBpNkVsRlk">https://drive.google.com/folderview?id= … DBpNkVsRlk</a></p><p>There are still bugs....most notably the RADIOS DO NOT WORK (yet)</p><p>IF YOU USE THESE FILES</p><p>You do so at your own Peril! … No Warranty! </p><p>NO CRYING....it&#039;s just a router <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317136">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">ldpinney</div>
					<div class="post-datetime">
						28 Mar 2016, 19:03					</div>
				</div>
				<div class="post-content content">
					<p>RFC posted on OpenWrt Development List:</p><p>Add initial support for the Netgear WNDR3700v5</p><p><a href="https://patchwork.ozlabs.org/patch/602513/">https://patchwork.ozlabs.org/patch/602513/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317407">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">maikoool</div>
					<div class="post-datetime">
						30 Mar 2016, 20:19					</div>
				</div>
				<div class="post-content content">
					<p>Using ldpinney&#039;s uboot and openwrt patches, and some little tweaking of my own, I was able to get this up and running. The leds still don&#039;t work, but 5ghz wireless seems to work (tested with wpa2-psk enabled), I was able to hit 100/100 mbit up/down simultaneously (transmitting zero&#039;s with netcat). A conventional speedtest yielded 120/12, which is the bandwith limit of my line. 2,4ghz wireless does not seem to work, and I haven&#039;t tested the usb port. LuCI works well too.</p><p>You can find my modified source here (includes the patches from ldpinney): <a href="https://github.com/maikelwever/openwrt-trunk-wndr3700v5">https://github.com/maikelwever/openwrt-trunk-wndr3700v5</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317605">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">ldpinney</div>
					<div class="post-datetime">
						31 Mar 2016, 21:43					</div>
				</div>
				<div class="post-content content">
					<p>Patch submitted to the OpenWrt Development List:<br /><a href="https://patchwork.ozlabs.org/patch/604242/">https://patchwork.ozlabs.org/patch/604242/</a></p><p>There is no requirement to upgrade the boot loader.</p><p>Currently OpenWrt installation requires a working serial console (UART) and a tftp server.</p><p>Instructions and Files @ :</p><p><a href="https://drive.google.com/open?id=0B0CKglNyN0URM2FhVDBpNkVsRlk">https://drive.google.com/open?id=0B0CKg … DBpNkVsRlk</a></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=56737&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=56737&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=56737&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=56737&amp;p=6.html">6</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>