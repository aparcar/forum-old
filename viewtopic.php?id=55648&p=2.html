<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for SagemCom F@ST 2304 (Sky)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 28 Apr 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=55648&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=55648&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p265385">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 15:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Yes, that&#039;s exactly what you need. Once you got it, only connect TX,RX and GND. Never connect VCC.</p></blockquote></div><p>Ok, the cable is here- I&#039;m connecting it up as we speak and I&#039;ll let you know how I get on. In fact, as I&#039;m working on a mac what do I actually do when it is connected up?</p>											<p class="post-edited">(Last edited by <strong>BobbyNewwwporrrrtP&amp;R</strong> on 13 Feb 2015, 15:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265389">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						13 Feb 2015, 15:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>BobbyNewwwporrrrtP&amp;R wrote:</cite><blockquote><div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Yes, that&#039;s exactly what you need. Once you got it, only connect TX,RX and GND. Never connect VCC.</p></blockquote></div><p>Ok, the cable is here- I&#039;m connecting it up as we speak and I&#039;ll let you know how I get on. In fact, as I&#039;m working on a mac what do I actually do when it is connected up?</p></blockquote></div><p>You need to use serial terminal console software to access the port<br /><a href="http://wiki.openwrt.org/doc/hardware/port.serial#terminal_software">http://wiki.openwrt.org/doc/hardware/po … l_software</a></p><p>Once you get the serial console working, press any key when powering up the router, you will break into the CFE CLI, then you will be able to load the RAM firmware. You will also need a TFTP server running in your computer, copy the RAM firmware to the TFTP&#039;s servers directory.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265397">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 16:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Once you get the serial console working, press any key when powering up the router, you will break into the CFE CLI, then you will be able to load the RAM firmware. You will also need a TFTP server running in your computer, copy the RAM firmware to the TFTP&#039;s servers directory.</p></blockquote></div><p>Struggling to break into CFE CLI, I&#039;m definitely plugged into the right sockets, the ground is showing a nice red light and the txd connection shows a light when I try and send info- have tried booting a few times and the cables are definitely firmly pushed in and in the right slots, have the right firmware update for my USB uART connector too. Have tried using both SerialTools and CoolTerm, both Mac apps for serial connections with Terminal windows.. Any suggestions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265400">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						13 Feb 2015, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>Do you see anything int the serial console?, you should, and when you see CFE starting up, press any key, or ctrl+c, or space bar. </p><p>To check your serial cable works ok, disconnect from the router. Just take only the adapter and bridge TX with RX, and write something at the serial console, you should see the characters you are sending in the console.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265407">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 17:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Do you see anything int the serial console?, you should, and when you see CFE starting up, press any key, or ctrl+c, or space bar. </p><p>To check your serial cable works ok, disconnect from the router. Just take only the adapter and bridge TX with RX, and write something at the serial console, you should see the characters you are sending in the console.</p></blockquote></div><p>I&#039;ll try that in a few- just updating macports and trying to use putty instead. I should be done soon</p><p>*Edit: I was missing the command line tools amongst a whole host of other components (MacPorts etc.) so no wonder it wasn&#039;t working. Still all downloading now...</p>											<p class="post-edited">(Last edited by <strong>BobbyNewwwporrrrtP&amp;R</strong> on 13 Feb 2015, 17:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265419">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:03					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;m now receiving data, but it&#039;s a little messy:</p><div class="codebox"><pre><code>aa.ÿ..ß.ÁZäûúûZ.Ñká®Jg.+.ò²S®³þ
SÃû£
Qc[.0kÊ#._..Qâ
..[.ÊÐS.:À.J.A
.*¨ªâ&quot;jó.B....kÃQÀz
¾j.Iþþ[²&quot;ê........Áý.......CÂÂJÚ[.ÿ............{MÂ..S.cN.â[
&quot;*S.Û®#
.SDmÂC..¢µ¢yÀm..
£..Zñ+Suj¢.Â{B
ñ2SO
c¢S²Z+ÊÐ.K.Ò.Sá#..
[. ò+.U.C#þCn#eû.k.OB.BBükîþ+.....
.A.ÂÒS
Êþÿ[²2ÿ
Sû.K.ãf[ÓÿK.úÀ.âKÀ.À«B..À.ðÀ.²;kÊB.À.Ârû...S#.K +
Ã.
S.&quot;.^RÀªÏÃK
Ã.ü[²n#.êøX.
óXb«}ÉBDB.þVKâ[¢k²BS.DSSú¢ÁRJK.S?#.ÿ.®bp.¯ó[.[ÿ C_£AýkK.ª^3«ã.{...*Ò;SÉj.1*3.¿K[..²JAXS
Êþ...%VKÂ[õË²²Ã.[....5rÓzÝÐc...þVÃâþ[.Nò.ÿclÀ«
[ÿ.K.Óòþb@V..»ÛÖþ[úþ.ÿ.ëÏØÃFÈªÿ.²BK.ë*
âcÿ.s.KU..ÒSXáú&gt;*ÿÿ.ò.Òþ.Â.ÈC.
Ê[¢.CCSM`.K.Knâ.ù.CØÿ..ÿÿ.ÿ.CÈÿ..ÿ.ÿ.ÿÿ...
&quot;JËÒ¸KêBø.KcK. ÿÿSk
þ.Sk
þSk
þSk.þÿ...¢S[3ZC
.J¢.ÿ.ÿ.ÿÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.ÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.ÿ..ÿ.ÿ.ÿ.ÿÿ.ÿ..ÿ.C...S/#.GÓ.HæC.C
±âJÊ¢,®Ê°k.Z..ÿÿÉ..²2SCãSÄ.ÿÿ.ÿ..ÿÿ..ÿ.ÿ.ÿ.ÿÿ.ÿ..Z@.[W.ÿ.ÿ.ÿÿ.ÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.ÿ.ÿ..ÿ.ÿ.ÿÿ.KÌÿÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.ÿ..Ð.KKòÿÐ.KKò.ÿ.ÿ.ÿÿ.ÿ.ÿÛTó...ÿ.ÿ.ÿÿ.CÊs.ÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.ÿ...þÿ.#.Ì.ÿ.ÿ.ÿÿ.ÿ.ÿ..ÿ.ÿ.ÿCþ.#.Üÿ..RS&quot;ÿÿ.ÿ..ÿ.ÿ.ÿÿ.ÿ.Cþÿ.#.Ì..ÿ.ÿ.ÿÿ.ÿ.ÿ.ÿ..ÿCþ.#..Ìÿÿ.ÿ.ÿ.ÿ..ÿ.ÿ.ÿÿ.cØ¢þÿ...ÿÿsÃ.ÿ.ÿ{sAKzÉc.É°C.ÿõ
¢ÿ.âú.Â:.ÍBòÿ.ÿ..ÿ.ÿ.ÿ.ÿò²â.ëXÿË¢.RKâÃAíÈ.¯Cú2
.[ÐÿKcK. ÿ..ó¾¯ÂÊ.ÿ...ý{..#ú.ÿ.ÿÿS£KþK.þâò.CâõBøc..¡¢ûcØ¢þsÃâLSuÎ.\¢.Â[cÓ#ó®Ò...äs.ä×.CAÂ*..òÍòÍòÍ].²zk{zk{zk{2.c..¡¢ûcÈ¢þsÃCHþCHþCHþCHþCHþCHþCHþCHþCHþCHþCHþCHþCS.ÿ</code></pre></div><br /><p>Looks like i need to check out different bits / baud rates.. I&#039;ll check it out</p>											<p class="post-edited">(Last edited by <strong>BobbyNewwwporrrrtP&amp;R</strong> on 13 Feb 2015, 19:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265420">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						13 Feb 2015, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>your on higher voltage settings i think, the port is 3volt ttl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265422">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>daemon123 wrote:</cite><blockquote><p>your on higher voltage settings i think, the port is 3volt ttl</p></blockquote></div><p>Ah right, how do I change that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265424">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:10					</div>
				</div>
				<div class="post-content content">
					<p>Ok, sorted-</p><p>Baud rate 115200 , 8 bits</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265425">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:19					</div>
				</div>
				<div class="post-content content">
					<p>Ok, into CFE, how do I now upload the firmware form my TFTP directory?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265426">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						13 Feb 2015, 19:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>BobbyNewwwporrrrtP&amp;R wrote:</cite><blockquote><p>Ok, into CFE, how do I now upload the firmware form my TFTP directory?</p></blockquote></div><div class="codebox"><pre><code>r 192.168.1.100:initramfs-2304.elf</code></pre></div><p>Double check the TFTP server is working fine, without a firewall blocking the access to it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265427">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><div class="quotebox"><cite>BobbyNewwwporrrrtP&amp;R wrote:</cite><blockquote><p>Ok, into CFE, how do I now upload the firmware form my TFTP directory?</p></blockquote></div><div class="codebox"><pre><code>r 192.168.1.100:initramfs-2304.elf</code></pre></div><p>Double check the TFTP server is working fine, without a firewall blocking the access to it.</p></blockquote></div><p>I checked that, but... : </p><div class="codebox"><pre><code>.HELO
CPUI
L1CI
DRAM
----
PHYS
ZQDN
PHYE
DINT
LSYN
USYN
MSYN
LMBE
PASS
----
ZBSS
CODE
DATA
L12F
MAIN


CFE version 5.14.6.1 for BCM96328 (32bit,SP,BE)
Build Date: Tue Mar  8 14:24:11 CST 2011 (zoucb@SZ01007.DONGGUAN.CN)
Copyright (C) 2005-2010 SAGEM Corporation.

HS Serial flash device: name MX25L64, id 0xc217 size 8192KB
Total Flash size: 8192K with 128 sectors
Chip ID: BCM6328B0, MIPS: 320MHz, DDR: 320MHz, Bus: 160MHz
Main Thread: TP0
Memory Test Passed
Total Memory: 67108864 bytes (64MB)
Boot Address: 0xb8000000

Board IP address                  : 192.168.1.1:ffffff00  
Host IP address                   : 192.168.1.100  
Gateway IP address                :   
Run from flash/host (f/h)         : f  
Default host run file name        : vmlinux  
Default host flash file name      : bcm963xx_fs_kernel  
Boot delay (0-9 seconds)          : 1  
Board Id (0-4)                    : F@ST2304  
Number of MAC Addresses (1-32)    : 11  
Base MAC Address                  : 7c:03:4c:8e:ee:12  
PSI Size (1-64) KBytes            : 40  
Enable Backup PSI [0|1]           : 0  
System Log Size (0-256) KBytes    : 0  
Main Thread Number [0|1]          : 0  

*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 1.Ã1
CFE&gt; 
web info: Waiting for connection on socket 0..[J

CFE&gt; .

CFE&gt; 
CFE&gt; r 192.168.1.100:initramfs-2304.elfr 192.168.1.100:initramfs-2304.elf

r 192.168.1.100:initramfs-2304.elf
*** command status = -18
  

CFE&gt; 
CFE&gt; r 192.168.1.100:initramfs-2304.elfr 192.168.1.100:initramfs-2304.elf

*** command status = -18
CFE&gt; 
CFE&gt; </code></pre></div><p>Just turned off local echo but it&#039;s still doing the same thing...</p>											<p class="post-edited">(Last edited by <strong>BobbyNewwwporrrrtP&amp;R</strong> on 13 Feb 2015, 19:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265428">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I pressed r and hit enter to see what it would do, it&#039;s now asking for a login and password. Any ideas...?</p><p>*also, every time I boot into CFE now it automatically boots from an image, what image I don&#039;t know though... It also won&#039;t allow me to type anything into the password field, so I can&#039;t really try any of the user/password combinations it&#039;s likely to be</p>											<p class="post-edited">(Last edited by <strong>BobbyNewwwporrrrtP&amp;R</strong> on 13 Feb 2015, 19:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265429">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						13 Feb 2015, 19:53					</div>
				</div>
				<div class="post-content content">
					<p>doesn&#039;t make much sense, the bootloader is the same version and build as the daemon123&#039;s one</p><p>Did you set the IP (static) at your computer, before executing the comand, to 192.168.1.100?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265431">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						13 Feb 2015, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>I did- my IP address is definitely set to 192.168.1.100, but I have a feeling my router may now be a bit broken. Every boot it tries to install from only image, and seems to fail to do so..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265438">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						13 Feb 2015, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>change your pc ip settings to<br />ip: 192.168.1.100<br />netmask: 255.255.255.0<br />gateway: 192.168.1.1</p><p>directly connect the fast 2304 route with pc lan port</p><p>breakinto cfe</p><p>make sure your tftp server is running and is configured to work on 192.168.1.100 interface (lan)</p><p>then issue the CMDS in the cfe to upload file.</p><p>check this link for mac and tftp server<br /><a href="http://kb.promise.com/KnowledgebaseArticle10139.aspx">http://kb.promise.com/KnowledgebaseArticle10139.aspx</a></p><p>i think you are not running any tftp server on your server (mac)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265532">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">BobbyNewwwporrrrtP&amp;R</div>
					<div class="post-datetime">
						14 Feb 2015, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>Hey, I&#039;ve already set up the TFTP server, although i don&#039;t think it was connecting so I maybe need to alter the settings. Again, I did make sure my IP etc. were set properly, although the TFTP server app for OS X is very basic unfortunately. I may be able to find another one. </p><p>Problem right now is that I can&#039;t access my router- it&#039;s asking for a login and password, and I&#039;m not sure what they are supposed to be. The system opens, starts to try to boot from a flash image and then asks me for a login. I&#039;ve tried admin as a login, but it doesn&#039;t seem to allow me to enter a password if I do. Also tried the name of my router...</p>											<p class="post-edited">(Last edited by <strong>BobbyNewwwporrrrtP&amp;R</strong> on 14 Feb 2015, 19:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265616">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						15 Feb 2015, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>With help from danitool, the cfe and whole flash backup has been obtained,<br />here is the CFE and WholeFlash dump, if anyone needs it</p><p><a href="http://www.mediafire.com/download/o73twrlz6bxr25u/mtd0.bin">http://www.mediafire.com/download/o73tw … u/mtd0.bin</a><br /><a href="http://www.mediafire.com/download/jz8v60bvwcfeapw/mtd4.zip">http://www.mediafire.com/download/jz8v6 … w/mtd4.zip</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267251">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						1 Mar 2015, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>figured out the some of the GPIO relating to LEDs</p><p>Leds from Left to Right<br /></p><div class="codebox"><pre><code>Power LED (Power (I) icon)
GPIO 8   : Value 0 : Green
GPIO 9   : Value 0 : Orange

Check/Test (check icon)
GPIO 3   : Value 0 : Green
GPIO 11 : Value 0 : Orange

Wifi (Wifi Icon)
GPIO 4   : Value 0 : Orange

Internet (@ Icon)
GPIO 5 :  Value 0 : Orange
GPIO 6 :  Value 0 : Green
GPIO 7 :  Value 0 : Red</code></pre></div><p>Right Side (LAN) Leds<br />The leds stay off untill a wire/jack is connected to port<br />after wire is connected it turns to orange by default</p><div class="codebox"><pre><code>LAN Port1
GPIO 17   : Value 0 : Green
GPIO 17   : Value 1 : Orange

LAN Port2
GPIO 18   : Value 0 : Green
GPIO 18   : Value 1 : Orange

LAN Port3
GPIO 19   : Value 0 : Green
GPIO 19   : Value 1 : Orange

LAN Port4
GPIO 20   : Value 0 : Green
GPIO 20   : Value 1 : Orange</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267692">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">das_robot</div>
					<div class="post-datetime">
						5 Mar 2015, 03:32					</div>
				</div>
				<div class="post-content content">
					<p>@BobbyNewwwporrrrtP&amp;R,</p><p>You are on OS X right?</p><p>Make tftp easy to setup grab this… (also disable the built in server via launchctl)<br /><a href="http://ww2.unime.it/flr/tftpserver/">http://ww2.unime.it/flr/tftpserver/</a></p><p>Setup the network interface that is hooked up to the router<br />IP ADDR:192.168.1.100<br />Subnet:255.255.255.0<br />Gateway:192.168.1.1</p><p>Create a folder for the danitool&#039;s RAM image, fix the working path &amp; parent folder permissions in Tftpserver.app then start the tftp server in the app. </p><p>OS X has it&#039;s own netcat that requires different arguments to dump via dd…</p><p># ON THE MAC<br /></p><div class="codebox"><pre><code>nc -l 192.168.1.100 5600 | dd of=mtd4-OEM_firmware_backup.bin</code></pre></div><p>The OS will throw up a dialog asking to allow nc access to port 5600 if the OS X firewall is on, agree to it.</p><p># ON THE ROUTER <br /></p><div class="codebox"><pre><code>dd if=/dev/mtd4 | nc 192.168.1.100 5600</code></pre></div><br /><p>NOTES:</p><p>Serial connections can be done via the &#039;screen&#039; command in Terminal, it requires the 8bit argument as follows…<br /></p><div class="codebox"><pre><code>sudo screen /dev/cu.PL2303-000051FD 115200 cs8 </code></pre></div><p># replace the device to suit your serial device /dev/whatever</p><p>screen can behave odd with keyboard shortcuts, you will need to read some tutorials or manuals <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <br />ctrl+a+d will &#039;detach&#039; (leaving the process running).<br />&#039;screen -r&#039; will re-attach if you have 1 screen session, otherwise list them with &#039;screen -ls&#039; then reattach to a specific one by using the ID that was listed.</p><br /><p>@danitool,<br />Can you explain the buildroot process? <br />I have it installed on Ubuntu 12, the dependancies are met, but I&#039;m unsure what patches are required &amp; how to add the F@ST2304 to the list of possible build options.</p><p>Do I need to add the brcmsmac drivers as a kernel module? </p><p>Maybe I&#039;m being an idiot – is there a suitable image to install from OpenWRT?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267790">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						5 Mar 2015, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>for testing use the danitools ram image,</p><p>i am trying to add the device also and make patch, but am noob at it, so far i followed this <br /><a href="http://wiki.openwrt.org/doc/devel/add.new.device">http://wiki.openwrt.org/doc/devel/add.new.device</a></p><p>and here is something that i am cooking, not tested yet, only need to figure the reset button now</p><p>the patch should be something like this </p><div class="codebox"><pre><code>--- a/arch/mips/bcm63xx/boards/board_bcm963xx.c
+++ b/arch/mips/bcm63xx/boards/board_bcm963xx.c
@@ -858,6 +858,126 @@ static struct board_info __initdata boar
         },
     },
 };
+
+/* Sky Sagemcom F@ST2304 ADSL Router
+ * with unpopulated USB Port, 4 LAN Ports, WIFI
+ */
+static struct board_info __initdata board_FAST2304 = {
+    .name                = &quot;F@ST2304&quot;,
+    .expected_cpu_id        = 0x6328,
+
+    .has_uart0            = 1,
+    .has_pci            = 1,
+    .has_ohci0            = 1,
+    .has_ehci0            = 1,
+    .has_usbd            = 1,
+
+    .has_enetsw            = 1,
+
+    .enetsw = {
+        .used_ports = {
+            [0] = {
+                .used    = 1,
+                .phy_id = 1,
+                .name    = &quot;Port 1&quot;,
+            },
+            [1] = {
+                .used    = 1,
+                .phy_id    = 2,
+                .name    = &quot;Port 2&quot;,
+            },
+            [2] = {
+                .used    = 1,
+                .phy_id    = 3,
+                .name    = &quot;Port 3&quot;,
+            },
+            [3] = {
+                .used    = 1,
+                .phy_id    = 4,
+                .name    = &quot;Port 4&quot;,
+            },
+        },
+    },
+
+    .leds = {
+        /* front LEDs */
+        {
+            .name            = &quot;F@ST2304:green:power&quot;,
+            .gpio            = 8,
+            .active_low        = 1,
+            .default_trigger    = &quot;default-on&quot;,
+        },
+        {
+            .name            = &quot;F@ST2304:orange:power&quot;,
+            .gpio            = 9,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:orange:diag&quot;,
+            .gpio            = 11,
+            .active_low        = 1,
+        },
+                {
+            .name            = &quot;F@ST2304:green:diag&quot;,
+            .gpio            = 3,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:green:wlan&quot;,
+            .gpio            = 4,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:red:inet&quot;,
+            .gpio            = 7,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:green:inet&quot;,
+            .gpio            = 6,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:orange:inet&quot;,
+            .gpio            = 5,
+            .active_low        = 1,
+        },
+
+        /* LAN LEDs */
+        {
+            .name            = &quot;F@ST2304:green:port1&quot;,
+            .gpio            = 17,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:green:port2&quot;,
+            .gpio            = 18,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:green:port3&quot;,
+            .gpio            = 19,
+            .active_low        = 1,
+        },
+        {
+            .name            = &quot;F@ST2304:green:port4&quot;,
+            .gpio            = 20,
+            .active_low        = 1,
+        },
+    },
+    .buttons = {
+        {
+            .desc            = &quot;reset&quot;,
+            .gpio            = 23, // ??? find out ???
+            .active_low        = 1,
+            .type            = EV_KEY,
+            .code            = KEY_RESTART,
+            .debounce_interval    = BCM963XX_KEYS_DEBOUNCE_INTERVAL,
+        },
+    },
+};
+
+
 #endif
 
 /*
@@ -5252,6 +5372,7 @@ static const struct board_info __initcon
     &amp;board_A4001N1,
     &amp;board_dsl_274xb_f1,
     &amp;board_FAST2704V2,
+    &amp;board_FAST2304,
 #endif
 #ifdef CONFIG_BCM63XX_CPU_6338
     &amp;board_96338gw,</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267831">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">das_robot</div>
					<div class="post-datetime">
						6 Mar 2015, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>Thank&#039;s daemon123. I&#039;d like to try that, but I may be equally nooby <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Which version of openwrt&#039;s buildroot are you using? </p><p>I grabbed the current one via git… (following this <a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence)">http://wiki.openwrt.org/doc/howto/buildroot.exigence)</a><br />git clone git://git.openwrt.org/openwrt.git</p><p>I updated the feeds, installed them and did…<br />make menuconfig<br />make kernel_menuconfig</p><br /><p>Either I have selected the wrong source or I may be looking in the wrong place…<br />The only place I could find &#039;board_bcm963xx.c&#039; is inside <br />openwrt/build_dir/target-mips_mips32_uClibc-0.9.33.2/linux-brcm63xx_generic/linux-3.14.34/arch/mips/bcm63xx/boards/board_bcm963xx.c</p><p>Which differs to your patch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267856">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						6 Mar 2015, 08:50					</div>
				</div>
				<div class="post-content content">
					<p>I used Barrier Breaker<br />git clone git://git.openwrt.org/14.07/openwrt.git</p><p>as u got the latest trunk, which has moved buttons and leds to dts </p><p>the path you found is correct, i used same kind of path to make changes, only reset button needs to be found.</p><p>i used quilt to make this patch, and it used this path, but the actual path is different, dont know why.</p><p>u can also copy / paste the patch into a file and put it in the patches directory of Barrier Breaker and it should work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p267911">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">das_robot</div>
					<div class="post-datetime">
						6 Mar 2015, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>I have 14.07 but there are 638 patches directories, which one is for the bcm63xxx ? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Quilt looks like it will do the patching for me, is that correct assuming I get it into the correct folder with an appropriate name? I used buildroot for raspi building and it is different to OpenWRT&#039;s setup, sorry for asking dumb questions <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><br /><p>I thought this was correct…<br />./target/linux/brcm63xx/patches-3.10/566-fast-2304.patch</p><p>…but it failed during &#039;make kernel_menuconfig&#039; with…</p><p>Applying patch platform/566-fast-2304.patch<br />patching file arch/mips/bcm63xx/boards/board_bcm963xx.c<br />Hunk #1 succeeded at 858 with fuzz 2.<br />Hunk #2 FAILED at 5372.<br />1 out of 2 hunks FAILED -- rejects in file arch/mips/bcm63xx/boards/board_bcm963xx.c<br />Patch platform/566-fast-2304.patch does not apply (enforce with -f)<br />make[2]: *** [/openwrt/build_dir/target-mips_mips32_uClibc-0.9.33.2/linux-brcm63xx_generic/linux-3.10.49/.quilt_checked] Error 1<br />make[2]: Leaving directory `/openwrt/target/linux/brcm63xx&#039;<br />make[1]: *** [menuconfig] Error 2<br />make[1]: Leaving directory `/openwrt/target/linux&#039;<br />make: *** [kernel_menuconfig] Error 2</p><br /><p>I cleaned &amp; patched by hand but I can&#039;t see how to select fast2304 as the board type during &#039;make menuconfig&#039;, I think I&#039;m missing a step somewhere. <br />Do I just make without touching menuconfig again if I patch manually?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p268068">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">daemon123</div>
					<div class="post-datetime">
						8 Mar 2015, 11:10					</div>
				</div>
				<div class="post-content content">
					<p>the path is correct, rename the file to<br />950-board_fast2304.patch and put it there<br />or manually edit the file to add the new board, just copy paste from the lines i pasted above<br />and remember to remove the + (plugs sign) if manually adding</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=55648&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=55648&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>