<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Busted my new WR941ND with new build kamikaze image</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p113947">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						29 Jul 2010, 01:11					</div>
				</div>
				<div class="post-content content">
					<p>Ha, my WR941 made somehow kamikaze.</p><p>I installed (tried to install) my new kamikaze build (openwrt-ar71xx-generic-tl-wr941nd-v4-squashfs-factory.bin) and tried to flash it. It flashed it OK.</p><p>But when i rebooted, i couldnt connect anymore and the &quot;sys&quot; LED ist blinking fast. The Router give, at boot time one message on the net, it is a broadcast with its address 192.168.1.1</p><p>Should i set up a tftp server and provide the router with a correct image?</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113950">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Pitou</div>
					<div class="post-datetime">
						29 Jul 2010, 02:07					</div>
				</div>
				<div class="post-content content">
					<p>Try the failsafe procedure, described here:</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr941nd#failsafe.mode">http://wiki.openwrt.org/toh/tp-link/tl- … lsafe.mode</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113952">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						29 Jul 2010, 02:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello Pitou,</p><p>thank you for your help.</p><p>But there is no &quot;DMZ&quot; Light. But when i press the &quot;QSS&quot; Button during startup, the &quot;SYS&quot;-LED is flashing very fast. But i can not ping or telnet the router, thought it is sending one Broadcast to the net.</p><p>Regards</p><p>(I think i am going to sleep, it is here 1:30 in the morning)</p><p>Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113973">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						29 Jul 2010, 11:27					</div>
				</div>
				<div class="post-content content">
					<p>Does someone know, how to connect to the WR941ND?</p><p>I have the Software from TP-Link, but this is crashing with an Error.</p><p>Do i have to solder an connection to the rs232 Interface of the WR941ND?</p><p>Does it has a terminal server or something, so i could connect with an Hyperlink o.s.?</p><p>How can i get an connection ? </p><p>The only thing is, that the wr941nd is sending a broadcast with the (preconfigured) address 192.168.1.1, so at least the firmware seems to be working.</p><p>Since i have no native rs232 Interface on my computers (apple and Laptop), can i connect with an rs232 &lt;-&gt; USB Adapter? (I had negative experience with that).</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113978">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						29 Jul 2010, 12:58					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>the OpenWrt Wiki describes the WR941ND and how to solder a rs232 to it, in order to connect to the console.</p><p>But i opened my WR941ND and discovered, that there are no points, or a jack, were to connect to a serial cable. My WR941ND differs from that, describe in the Wiki.</p><p>Here a photo:</p><p>Upps. Is it not possible, to upload a photo?</p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113985">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						29 Jul 2010, 13:53					</div>
				</div>
				<div class="post-content content">
					<p>Ok, it seems, that there is no rs232 Port on the Mainboard.</p><p>I followed the procedure for getting into the failsafe.</p><p>wr941 is sending, at power up, one UDP Broadcast which has in the Data Field: &quot;Please press button now to enter failsafe&quot;.<br />But when i press the button (optional the reset button or the QSS button), the wr941 is not generating any follow messag on the net. It should say: &quot;Entering failsafe now&quot;, but it doesnt.</p><p>Regards</p><p>btw.: how to attach a picture ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113994">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Pitou</div>
					<div class="post-datetime">
						29 Jul 2010, 15:07					</div>
				</div>
				<div class="post-content content">
					<p>Yes there is a serial port on this router, I already solder to it and it works fine.</p><p>Look here <a href="https://forum.openwrt.org/viewtopic.php?id=18354">https://forum.openwrt.org/viewtopic.php?id=18354</a></p><p>Pitou!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114033">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						29 Jul 2010, 21:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Pitou wrote:</cite><blockquote><p>Yes there is a serial port on this router, I already solder to it and it works fine.</p><p>Look here <a href="https://forum.openwrt.org/viewtopic.php?id=18354">https://forum.openwrt.org/viewtopic.php?id=18354</a></p><p>Pitou!</p></blockquote></div><p>Hello,</p><p>no, the wr941nd i have, has no port (P1), to which someone could solder it. In this Wiki, there is an old WR941ND shown. The one, which i have, has no such port. If it would be possible, to upload a photo, i could show it.</p><p>There is no port on the new board, at least no that, which is described in this wiki.</p><p>Coll</p><br /><p>Hello Pitou,</p><p>i´ve found a mdoel of the WR941nd, which has the same board layout like mine:</p><p><a href="http://s002.radikal.ru/i198/1002/3b/5c5df065201f.jpg">http://s002.radikal.ru/i198/1002/3b/5c5df065201f.jpg</a></p><br /><p>This is my board Layout and there is nothing (P1) to solder the rs232 to.</p><p>North-East on the Board, maybe, there is a USB Connector, but does the console communicate over this USB? I do not think so.</p><p>Rgards</p>											<p class="post-edited">(Last edited by <strong>coliban</strong> on 29 Jul 2010, 22:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114060">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						30 Jul 2010, 08:18					</div>
				</div>
				<div class="post-content content">
					<p>jp2 looks like a serial port <br />test with a volt meter if layout is according to the wiki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114079">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						30 Jul 2010, 14:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>supertom64 wrote:</cite><blockquote><p>jp2 looks like a serial port <br />test with a volt meter if layout is according to the wiki</p></blockquote></div><p>Yes, i thought too that this looks like a serial port.</p><p>But since the P1 Port is working with an additional soldered resistor, i doubt, that this JP2 is working without something added to the circuit. Nevertheless, i first messured resistance an Voltage:</p><p>Pin1 : ?<br />Pin2 : GND<br />Pin3 : ?<br />Pin4 : ca. 2.9 Volt</p><p>Maybe this is a serial port. So i connected it to a serial (USB) Port on my notebook, but i´ve got nothing from it (May i missed the right com Ports, but who knows on an Laptop...). But it seems, like the board ha no options to communicate with the world, except through WLAN and LAN, but that is not usefull, especially when flashing with experimental kernels, etc.</p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114095">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						30 Jul 2010, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>hm <br />maybe the layout of this serial port has changed </p><p>how did you connect to JP2 ? (RX, TX etc ?, which cable etc. ?)</p><p>have you ever seen JP1 i could not find one on your photo ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114102">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						30 Jul 2010, 23:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>supertom64 wrote:</cite><blockquote><p>hm <br />maybe the layout of this serial port has changed </p><p>how did you connect to JP2 ? (RX, TX etc ?, which cable etc. ?)</p><p>have you ever seen JP1 i could not find one on your photo ?</p></blockquote></div><p>Ehm, that is, what i trying all the time to tell you: THe Layout has changed. And on the new Layout, there is no JP1. So there is no option to connect a serial port, if the JP2 is not serial. But i think, that the JP2 Port has, as well, special constraint, eg. some resistors, etc.</p><p>I have tried all combinations of the Pins 1 and 3, but no one worked. The problem is, that, if you support this device, people, who buys it or flash it, will destroy there device for sure, because there is no chance, to recover from a bad flash. I can threw the wr941 away, which is a very bad thing, because i bought it, with the possibility to work with it with the openwrt.</p><p>regards</p><p>Colli</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114119">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						31 Jul 2010, 05:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>coliban wrote:</cite><blockquote><p>I have tried all combinations of the Pins 1 and 3, but no one worked. The problem is, that, if you support this device, people, who buys it or flash it, will destroy there device for sure, because there is no chance, to recover from a bad flash. I can threw the wr941 away, which is a very bad thing, because i bought it, with the possibility to work with it with the openwrt.<br />Colli</p></blockquote></div><p>@coliban<br />first of all <br />i do not support this device because i am not the owner of openwrt<br />openwrt is opensource and there is no guarantee that your device will work with openwrt so use is at your own risk</p><p>this said<br />do not give up to early <br />if you would tell with which cable and how exactly you have tried to connect to the serial port someone might be able to help you.</p><p>rgds<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114162">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						1 Aug 2010, 10:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>supertom64 wrote:</cite><blockquote><p>@coliban<br />first of all <br />i do not support this device because i am not the owner of openwrt<br />openwrt is opensource and there is no guarantee that your device will work with openwrt so use is at your own risk</p></blockquote></div><p>Hello Tom,</p><p>excuse me, if i expressed myself unclear. It was not my belief, that you, or somebody else, would be responsible for this problem. I knew from longs year experience, that it is my responsibility, if i run self- or other compiled software on the devices of the manufacturers, and i appreciate the work very highly, which is done from the developers of openwrt!</p><p>But there is a minimal drawback, regarding the information, for example, in the wiki. I know that it is much work to keep up the documentation with the&nbsp; miscellaneous hardware and the knew versions of the devices. And that lies in the nature of opensource, that the documentation often doesn&#039;t keep track with the real devices.</p><p>(Maybe i should do the udate?)</p><div class="quotebox"><cite>supertom64 wrote:</cite><blockquote><p>this said<br />do not give up to early <br />if you would tell with which cable and how exactly you have tried to connect to the serial port someone might be able to help you.</p><p>rgds<br />tom</p></blockquote></div><p>I have connected Pin 1 and Pin 3 of the Port (J2), as you suggested, to Rx and Tx (over an adapter rs232 &lt;-&gt; USB) (and vise avis), but there was no reaction. Since the Circuit with the P1 Jumper has to have an additional resistor, i doubt that it is so easy to connect the JP2 to an rs232.</p><p>regards</p><p>and thanks for your work!</p><p>CB</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114193">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						2 Aug 2010, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>hi coliban<br />i would suggest to read how to connect to serial console in the wiki<br />maybe there is no more resitor necessary (just have a look at maybe similar product from tp-link wr1043nd for example)<br />even if you connect a serial to usb adapter (which one you are using) you need allways connecting to ground and depending on the adapter the use of +3.3 V.<br />so maybe you try once more, read the wiki and maybe tell which serial to usb adapter you are using.<br />cu<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114211">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						2 Aug 2010, 12:09					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>i´ve connected the Pins according to the wiki.</p><p>JP2:</p><p>1 Rx or Tx<br />2 GND<br />3 Tx or Rx<br />4 VCC</p><p>I am using a rs232 - usb adapter from an other project. (FT232 USB UART)</p><p>I have tried all sorts of combination, but there is no chance in getting a single signal fron th JP2 Port. An i doubt that, if someone has to solder an additional resistor to connect to the old Layout P1, that there is no need in adding an other one to the JP2 connector. I think, i give it up in trying to get the TP Link WR941 to work. I have spend a lot of hours (and if i calculate the price for the WR941 to the price of beers, i would have drunk in 10 ours about one beer) </p><p>If someone has a better idea, he can let me know. Until that, i would suggest that someone would update the documentation, so that no other will brick their wr941 (which is a nice device!) and have no way out.</p><p>regards </p><p>and thanks for your help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114431">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						4 Aug 2010, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>I think, that my serial &lt;-&gt; usb adapter is not working. I have 2: One, which is been recognized by windows, but is not working. The other, which is not recognized at all. :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114436">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">permaditw</div>
					<div class="post-datetime">
						4 Aug 2010, 22:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi coliban, I think I can help you, I face the same problem with yours and solve the problem.<br />TP-LINK disconnect the TX line and VCC line (I need 3.3v VCC for my RS-323<br /> cable).<br />So, you have to reconnect the line with small cable or tiny soldering tip (becarefull doing this or you brake the board).</p><p>Test your data cable first with loopback test then move to the board.</p><p>HTH</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114442">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						4 Aug 2010, 22:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>permaditw wrote:</cite><blockquote><p>Hi coliban, I think I can help you, I face the same problem with yours and solve the problem.<br />TP-LINK disconnect the TX line and VCC line (I need 3.3v VCC for my RS-323<br /> cable).<br />So, you have to reconnect the line with small cable or tiny soldering tip (becarefull doing this or you brake the board).</p><p>Test your data cable first with loopback test then move to the board.</p><p>HTH</p></blockquote></div><p>Hello,</p><p>thank you for your hint.</p><p>I think, i have first think about my serial connection, i am not even able to do a loopback. I always struggled with the serial interface, but with linux, there was no problem in connecting to rs232, apart from usb &lt;-&gt; serial adapter. And know it is even worse, i&nbsp; have windows on the laptop.</p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114514">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">coliban</div>
					<div class="post-datetime">
						5 Aug 2010, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>from where does the device gets the VCC 3.3 Volt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114517">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">permaditw</div>
					<div class="post-datetime">
						5 Aug 2010, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>TP-LINK board</p><p>- VCC 3.3v&nbsp; (use this to power up your serial data cable) </p><p>- GND</p><p>- RX</p><p>- TX ( mark with square on PCB)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114521">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">permaditw</div>
					<div class="post-datetime">
						5 Aug 2010, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>Take some measurement with volt meter on VCC tap (+) and GND tap (-) there must be 3.3 volt if you got 0 volt then look at the line, tp-link cut off this line for some security reason.<br />You don&#039;t need this 3.3v if you use USB data cable like CA-42.</p><p>Check the connection of TX tap to one of cpu tap (the one with black heatsink) use x 1 ohm <br />do the same for RX tap.</p><p>In my case im using Siemens RS232 data cable and no luck with fake CA-42 (AS8303DS chip) but some other people did with this cable for HDD flash <a href="http://www.overclock.net/hard-drives-storage/457286-seagate-bricked-firmware-drive-fix-pics-10.html">http://www.overclock.net/hard-drives-st … cs-10.html</a></p>											<p class="post-edited">(Last edited by <strong>permaditw</strong> on 5 Aug 2010, 16:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115599">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Junior.robert</div>
					<div class="post-datetime">
						20 Aug 2010, 18:15					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://forum.openwrt.org/viewtopic.php?pid=110704#p110704">https://forum.openwrt.org/viewtopic.php … 04#p110704</a></p><p>THis way helped me, Good Luck.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>