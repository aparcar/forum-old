<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Graphical LCD with touch screen</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p195700">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">JoseSacristan</div>
					<div class="post-datetime">
						22 Mar 2013, 15:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody,</p><p>I can see new routers with LCD display incorporated and yes, I think it’s very interesting, more for make on fly changes than for display data.<br />I started to look these issues and found that the cheaper solution is a graphical lcd touch screen, you can have a 4” one for less than 20$, even a serial SPI one.<br />Ok, with a few of logic I can imagine driving it whit four GPIO lines, but what kind of driver must build?<br />Making one for write in the standard linux frame buffer, will be enable upon the X system, but not be too much load for our small systems?. It might be better to make a simple library to display simple objects (textbox, label, push button, slider …) and intercept events on them, do not you think so?<br />Any indication of this will be well received.<br />Jose.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195708">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						22 Mar 2013, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>More info please!<br />What are you looking at?<br />Is it SPI driving the LCD?<br />I remember (or maybe imagined) something about displays being driven from openWRT. Maybe on Hackaday.com?</p><p>As to your question, SPI is the way to go I think (correct me now everybody).<br />On a router there is no chance of getting X11 running IMO.<br />THere might be ways to get a GUI slider/switch etc running, most obviously via luci and the lua language</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195739">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">JoseSacristan</div>
					<div class="post-datetime">
						22 Mar 2013, 20:45					</div>
				</div>
				<div class="post-content content">
					<p>Robthebrew, thank’s for your time,</p><p>Yes, I’m thinking to drive a Spi Lcd using Gpio lines, and believe than I will not have problems to display a “hello word.” I think this is the only option to make the device cheaper than the router.</p><p>But beyond that, is the question. What kind of driver or library I have to do? You say via Luci, but Luci is not a framework to do web templates? You need a browser to display Luci web pages, not?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195743">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Mar 2013, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>I cannot help but maybe you will find this interesting..</p><p> <a href="https://forum.openwrt.org/viewtopic.php?id=34133">https://forum.openwrt.org/viewtopic.php?id=34133</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196102">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">JoseSacristan</div>
					<div class="post-datetime">
						25 Mar 2013, 18:55					</div>
				</div>
				<div class="post-content content">
					<p>Thanks nebbia88 for your interest,</p><p>I had already spent a bit of time to look the “lcd4linux” module, but seems to be intended only for display status data on a character lcd display.&nbsp; There is nothing to have interaction with the user (to be precise supports a pair of displays with arrow keyboards).<br />About the option of using a PDF as a screen I think that is an option only if you have one without other utility and still the question whit the user interaction.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197007">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">JoseSacristan</div>
					<div class="post-datetime">
						2 Apr 2013, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>After a full Web surfing weekend, I’ve only found one free project, “Embedded GUI, <a href="http://sourceforge.net/projects/embeddedgui/”">http://sourceforge.net/projects/embeddedgui/”</a> and one more free for private use, “MiniGUI , <a href="http://www.minigui.org">http://www.minigui.org</a>” that meet at least some of my expectations.<br />For now, I have not managed to work well either of them, seems to be dead projects.<br />But I found many commercial projects them seems very pretty, I&#039;m a little afraid, anyone can give me some hope?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197061">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						3 Apr 2013, 08:37					</div>
				</div>
				<div class="post-content content">
					<p>does this help:<br /><a href="http://h-wrt.com/en/doc/jki">http://h-wrt.com/en/doc/jki</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197410">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">JoseSacristan</div>
					<div class="post-datetime">
						6 Apr 2013, 00:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>does this help:<br /><a href="http://h-wrt.com/en/doc/jki">http://h-wrt.com/en/doc/jki</a></p></blockquote></div><p>I´m sorry, but these is “Lcd4Linux” already commented.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197415">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">JoseSacristan</div>
					<div class="post-datetime">
						6 Apr 2013, 00:36					</div>
				</div>
				<div class="post-content content">
					<p>Finaly I managed to run MiniGui (was Java version) , runs over eclipse, has a good GUI designer but the little documentation was basically in Chinese, and I have not managed to find out how code the fisical layer.</p><p>I&#039;ve also looked two commercial programs, Gem Studio (<a href="http://www.amulettechnologies.com/">http://www.amulettechnologies.com/</a>) and Crank Storyboard (<a href="http://www.cranksoftware.com/">http://www.cranksoftware.com/</a>), impressive both, especially last one. Both are developed to provide a complete solution, but despite that claim to compile for Linux, obviously not are their main markets. I have not looked the prices because my first goal is that the touch screen must be around 20$.</p><p>I feel like I have to reinvent the wheel.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197417">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						6 Apr 2013, 00:38					</div>
				</div>
				<div class="post-content content">
					<p>Sounds interesting. Please keep us updated!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197503">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						6 Apr 2013, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>Have you taken a look at the Trendnet TEW-673GRU. It has a LCD graphical screen (not high resolution) and Gabor ported lcd4linux to this platform and checked that into Trunk in Feb 2012.&nbsp; Unfortunately that platform&#039;s SPI bus is running at a very slow speed so the display consumes a lot of CPU cycles.&nbsp; The keyboard uses I2C and that was not implemented by Gabor</p><p>Snowyowlster</p><p>Here is a snippet of my email exchange with Gabor once he did the port </p><p>&gt; I uploaded the latest trunk on the Trendnet unit and started playing around with<br />&gt; it.<br />&gt; Found that the load could be greatly reduced by increasing tick and tack by a<br />&gt; factor of 10x (to 15secs and 30 secs for tick and tack). Also changed the<br />&gt; hardcoded &quot;Busy&quot; update interval from 1000msecs to tick.<br />&gt; Of course this means that updates will be very slow. But the load is down to 1%<br />&gt; now.&nbsp; I guess I could nice down lcd4linux and this would make sure the display<br />&gt; would not interfere with higher priority tasks.</p><p>Yes, I know that this reduces the system load. The initial value of tick/tack<br />was 1000/2000 in the sample LCD4Linux config file.</p><p>&gt; The URL below has a good explanation of how lcd4linux does display.<br />&gt; <a href="http://ssl.bulix.org/projects/lcd4linux/wiki/Layout">http://ssl.bulix.org/projects/lcd4linux/wiki/Layout</a></p><p>Yes, I did read the whole LCD4Linux wiki before implementing the driver for the<br />LCD. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>&gt;<br />&gt; Also found the following errors during startup&nbsp; - netdev and uname&nbsp; are standard<br />&gt; plugins and am surprised why the program is complaining.<br />&gt;<br />&gt;<br />&gt; Feb 20 17:22:13 OpenWrt user.err LCD4Linux[1778]: TEW673GRU: font &#039;6x8&#039; selected<br />&gt; Feb 20 17:22:13 OpenWrt user.err LCD4Linux[1778]: Evaluator: unknown function<br />&gt; &#039;netdev&#039; in &lt;(netdev(&#039;eth0.1&#039;, &#039;Rx_bytes&#039;, 500)+netdev(&#039;eth0.1&#039;, &#039;Tx_bytes&#039;,<br />&gt; 500))/1024&gt;<br />&gt; </p><p>Because these plugins are not compiled in by default. You have to enable them in<br />menuconfig.</p><p>&gt; Finally - did you try out the keypad - or is that left as a homework exercise<br />&gt; ?&nbsp; &nbsp; -:)<br />&gt; If the integration of the keypad was done then to avoid display latency - one<br />&gt; could force a call to the display routing after keypress rather than waiting for<br />&gt; the tick or tack event to happen (especially if tick is increased to 15 secs)</p><p>Well, I did not play with the keypad. That is connected via an I2C bus instead<br />of SPI, and I was lazy to implement that.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>