<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Include pictures in LuCI Webinterface from a specific directory</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p311812">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Taulin</div>
					<div class="post-datetime">
						17 Feb 2016, 12:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />im currently running OpenWrt DD trunk r48151 on a Raspberry Pi B+ and the LuCI Webinterface. At the moment im taking pictures with my raspicam and safe them into the /tmp folder, so that im just saving the pictures into the ram of my Pi to prevent too much writing onto the SD Card. Im able to include a new site for the picture on the LuCI Interface. When the pictures are located in &quot;www/luci-static/bootstrap&quot; and i use this command in my html-code:<br /></p><div class="codebox"><pre><code> &lt;img src=&quot;&lt;%=media%&gt;/test.jpg&quot; name=&quot;refImage&quot; width=&quot;118&quot; height=&quot;30&quot;&gt;</code></pre></div><p>the picture appears on my Website.<br />But i need the Pictures located in the /tmp directory so i tried this:<br /></p><div class="codebox"><pre><code> &lt;img src=&quot;/tmp/test.jpg&quot; name=&quot;refImage&quot; width=&quot;118&quot; height=&quot;30&quot;&gt;</code></pre></div><p>But it doesnÂ´t matter what directory i choose it always fails to include the picture. I already checked other templates on /usr/lib/lua/luci/view and all use the &lt;%=media%&gt; or &lt;%=resource%&gt; variables wich direct to the /www/luci-static/&quot; directorys.<br />Is it possible to generate such a variable like media or resource and direct to my /tmp directory and how can i do it?<br />Or is there an other way to get my pictures from the /tmp directory? </p><p>Thanks in advance</p>											<p class="post-edited">(Last edited by <strong>Taulin</strong> on 17 Feb 2016, 12:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311813">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						17 Feb 2016, 12:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Taulin wrote:</cite><blockquote><p>Or is there an other way to get my pictures from the /tmp directory? </p><p>Thanks in advance</p></blockquote></div><p>uhttpd is working with www root dir only<br />to make it possible to reach yr files at any external dir just make a symlink from that dir to wwwroot</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 17 Feb 2016, 12:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311814">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						17 Feb 2016, 12:17					</div>
				</div>
				<div class="post-content content">
					<p>The /tmp directory is outside of the document root /www so you can not access it for safety reasons.<br />You can try smlink the file though, this should work: </p><div class="codebox"><pre><code>ln -s /tmp/test.jpg /www/test.jpg</code></pre></div><p>Then reference it like that in your HTML: </p><div class="codebox"><pre><code>&lt;img src=&quot;/test.jpg&quot;&gt;</code></pre></div><p>If you have an entire directory of images instead of just a single one then symlink the directory instead:<br /></p><div class="codebox"><pre><code>ln -s /tmp/images/ /www/images/</code></pre></div><p> and use reference your images using src=&quot;/images/xyz.jpg&quot; etc.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>