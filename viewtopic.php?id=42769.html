<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> D-Link DSL-504T HW A1 ( old adsl router ) : 12 free GPIO PIN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p194322">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Flopsoft</div>
					<div class="post-datetime">
						9 Mar 2013, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>I flashed it without adsl support because it&#039;s an adsl V1 routeur and i only want lan support.</p><p>Here are GPIO pins i&#039;ve found :</p><p><span class="postimg"><img src="http://i47.tinypic.com/2v92qts.jpg" alt="http://i47.tinypic.com/2v92qts.jpg" /></span></p><p><span class="postimg"><img src="http://i50.tinypic.com/2pq51yw.jpg" alt="http://i50.tinypic.com/2pq51yw.jpg" /></span></p><p>Console Serial port :</p><p><span class="postimg"><img src="http://i47.tinypic.com/bhsfc.jpg" alt="http://i47.tinypic.com/bhsfc.jpg" /></span></p><p>Connector name on board : JP5</p><p>if you have the leds at right ( so the switch at left ) here is the order :<br />TX<br />NA ( not connected ? )<br />3V3<br />GND<br />RX</p><p>settings : 38400,n,8,1</p><p>OpenWRT info :</p><p>I&#039;ve used trunk version ( Backfire should work also ) : openwrt-ar7-generic-squashfs.bin</p><p>I&#039;ve used the tutorial from DSL-524T :&nbsp; <a href="http://wiki.openwrt.org/toh/d-link/dsl-524t">http://wiki.openwrt.org/toh/d-link/dsl-524t</a> with this partition layout :</p><p>D-Link DSL-524T and OpenWrt</p><p>partition &nbsp; &nbsp; Name &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; start &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Description<br />mtd2 &nbsp; &nbsp; loader&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x90000000 &nbsp; &nbsp; 0x90010000 &nbsp; &nbsp; Bootloader (ADAM2)<br />mtd1 &nbsp; &nbsp; linux&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x90010000 &nbsp; &nbsp; 0x90086b80 &nbsp; &nbsp; Linux kernel<br />mtd0 &nbsp; &nbsp; rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x90086b80 &nbsp; &nbsp; 0x903f0000 &nbsp; &nbsp; Read-only squashfs + jffs2 filesystem<br />mtd3 &nbsp; &nbsp; config&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x903f0000 &nbsp; &nbsp; 0x90400000 &nbsp; &nbsp; Original firmware configuration<br />mtd4 &nbsp; &nbsp; rootfs_data&nbsp; &nbsp;0x90010000 &nbsp; &nbsp; 0x903f0000 &nbsp; &nbsp; </p><p>In tutorial you have to send this command :<br />quote &quot;SETENV mtd0,0x90086B80,0x903f0000&quot;<br />quote &quot;SETENV mtd1,0x90010000,0x90086B80&quot;</p><p><span style="color: #FF0000">You must add this to avoid error 550 when flashing :<br />quote &quot;SETENV mtd4,0x90010000,0x903f0000&quot;</span></p>											<p class="post-edited">(Last edited by <strong>Flopsoft</strong> on 9 Mar 2013, 13:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194324">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						9 Mar 2013, 12:25					</div>
				</div>
				<div class="post-content content">
					<p>You have RX labelled twice and no TX. Also not clear which pads the serial labels apply to.<br />Otherwise great work!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194327">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Flopsoft</div>
					<div class="post-datetime">
						9 Mar 2013, 12:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>You have RX labelled twice and no TX. Also not clear which pads the serial labels apply to.<br />Otherwise great work!</p></blockquote></div><p>edited <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194328">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						9 Mar 2013, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>Ah, just for clarity, the serial pads are under the label, with wires soldered on?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194329">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Flopsoft</div>
					<div class="post-datetime">
						9 Mar 2013, 12:54					</div>
				</div>
				<div class="post-content content">
					<p>I reedited my first post with new pictures so that it&#039;s more easy to identify where is the serial port <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194335">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">OxygeN</div>
					<div class="post-datetime">
						9 Mar 2013, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve ASUS AAM6030BI ADSL modem which is based on TI AR7 as well. <br />I gonna try to install.<br />Much appreciated.</p><p>Edit: It has only 2mb flash <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>OxygeN</strong> on 9 Mar 2013, 15:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195256">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">miguipda</div>
					<div class="post-datetime">
						18 Mar 2013, 13:14					</div>
				</div>
				<div class="post-content content">
					<p>Dear Flopstop,</p><p>when you said :<br />I flashed it without adsl support because it&#039;s an adsl V1 routeur and i only want lan support.</p><p>If I well understood you just use it as a switch. Is not it ?</p><p>If well how did you just set it to be used as a switch in place of a router ?<br />I ask this because I also have an old Philips Blue Model SNA6600/18 : <a href="http://wp.bioss.net/technical/philips-adsl-modemrouter-pstn-blue">http://wp.bioss.net/technical/philips-a … -pstn-blue</a></p><p>Then I though to use it as a switch in place as a modem/router</p><p>Sincerely thanks.</p><p>Miguipda ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195347">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Flopsoft</div>
					<div class="post-datetime">
						18 Mar 2013, 23:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>miguipda wrote:</cite><blockquote><p>Dear Flopstop,</p><p>when you said :<br />I flashed it without adsl support because it&#039;s an adsl V1 routeur and i only want lan support.</p><p>If I well understood you just use it as a switch. Is not it ?</p><p>If well how did you just set it to be used as a switch in place of a router ?<br />I ask this because I also have an old Philips Blue Model SNA6600/18 : <a href="http://wp.bioss.net/technical/philips-adsl-modemrouter-pstn-blue">http://wp.bioss.net/technical/philips-a … -pstn-blue</a></p><p>Then I though to use it as a switch in place as a modem/router</p><p>Sincerely thanks.</p><p>Miguipda ;-)</p></blockquote></div><p>Hi,</p><p>I use it not as a switch but you can do it, I think all that you have to do is to set a fixed ip adress on the router, disable dhcp if there is one, and it will work as a switch.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>