<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 802.11s with openwrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p164208">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						12 Apr 2012, 00:47					</div>
				</div>
				<div class="post-content content">
					<p>hii to all,<br />i want to setup 802.11s on ubiquity router station pro and driver is ath9k. i am facing problem during communication between MAP and MP...<br />MP is not able to ping to AP interface of MAP...<br />can anybody has faced same issue? how to solve it?&nbsp; MP-MP communication is working.<br />Also, can anybody help in how to setup basic 802.11s mesh network with one MAP, few MP and one MPP ?? pls provide steps /configuration details..<br />thanks in advance..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164222">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						12 Apr 2012, 08:37					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://o11s.org/trac/wiki/OpenWrtBuilding">http://o11s.org/trac/wiki/OpenWrtBuilding</a></p><br /><br /><br /><p>regards<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164244">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						12 Apr 2012, 12:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>3zl wrote:</cite><blockquote><p><a href="http://o11s.org/trac/wiki/OpenWrtBuilding">http://o11s.org/trac/wiki/OpenWrtBuilding</a></p><br /><br /><br /><p>regards<br />3zl</p></blockquote></div><p>Followed the same steps...but it works only for communication between mesh point to mesh point.<br />i want to communicate between map to mp</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164267">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">djtcin</div>
					<div class="post-datetime">
						12 Apr 2012, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>Hm..<br />I can&#039;t understand, is this the same problem of this: <a href="https://forum.openwrt.org/viewtopic.php?id=36097">https://forum.openwrt.org/viewtopic.php?id=36097</a> ?<br />Because I&#039;m trying to resolve this issue... without success for now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164284">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						12 Apr 2012, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>...well.well...</p><p>i had a deeep peek into my &quot;Crystal Ball&quot; ..... but could not see your network configuration/setup, so i gave up for now.</p><p>Scetching a <strong>precise</strong> picture of your network would help yourself and others to understand whats going on.</p><p>Till then</p><p>regards<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164329">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						13 Apr 2012, 05:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>3zl wrote:</cite><blockquote><p>...well.well...</p><p>i had a deeep peek into my &quot;Crystal Ball&quot; ..... but could not see your network configuration/setup, so i gave up for now.</p><p>Scetching a <strong>precise</strong> picture of your network would help yourself and others to understand whats going on.</p><p>Till then</p><p>regards<br />3zl</p></blockquote></div><p>The setup i want to implement is </p><p><span class="postimg"><img src="http://www.cse.iitb.ac.in/~dineshpatil/basic_mesh_topology.jpg" alt="http://www.cse.iitb.ac.in/~dineshpatil/basic_mesh_topology.jpg" /></span></p><p>Currently I m able to establish communication between MP to MP...i.e. interface B and C in above diagram..I can do ping.<br />MAP has AP interface (A in above fig)....I want communication between A and C...<br />B and C can communicate each other ,also i have done bridging of A and B......but A to C ping is not happening....</p><p>Currently m having only interface C with MAP (i m not using interface D)<br />Following is the configuration file /etc/config/wireless of MP.....(router with interface C) </p><p>config wifi-device&nbsp; radio0<br />&nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; option macaddr&nbsp; &nbsp; 00:80:48:62:cc:8a<br />&nbsp; &nbsp; option hwmode&nbsp; &nbsp; 11ng<br />&nbsp; &nbsp; option htmode&nbsp; &nbsp; HT20<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; SHORT-GI-40<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; TX-STBC<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; RX-STBC1<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; DSSS_CCK-40<br />&nbsp; &nbsp; option disabled 0</p><p>config wifi-iface<br />&nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />&nbsp; &nbsp; option network&nbsp; mesh<br />&nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;mesh<br />&nbsp; &nbsp; option mesh_id&nbsp; &nbsp; &nbsp;openmesh<br />&nbsp; &nbsp; option encryption none</p><p>The network configuration for same router is </p><p>config interface loopback<br />&nbsp; &nbsp; option ifname&nbsp; &nbsp; lo<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; option ipaddr&nbsp; &nbsp; 127.0.0.1<br />&nbsp; &nbsp; option netmask&nbsp; &nbsp; 255.0.0.0</p><p>config interface lan<br />&nbsp; &nbsp; option ifname&nbsp; &nbsp; eth1<br />&nbsp; &nbsp; option type&nbsp; &nbsp; bridge<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; option ipaddr&nbsp; &nbsp; 192.168.1.22<br />&nbsp; &nbsp; option netmask&nbsp; &nbsp; 255.255.255.0</p><p>config interface wan<br />&nbsp; &nbsp; option ifname&nbsp; &nbsp; eth0<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; dhcp</p><p>config switch<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp;eth1<br />&nbsp; &nbsp; &nbsp; &nbsp; option reset&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option enable_vlan 1</p><p>config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;eth1<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports&nbsp; &nbsp; &quot;0 1 2 3 4&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />config interface mesh<br />&nbsp; &nbsp; option proto static<br />&nbsp; &nbsp; option ipaddr 10.0.0.22<br />&nbsp; &nbsp; option netmask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>The configuration file /etc/config/wireless for MAP (router with interface A and B) is<br />config wifi-device&nbsp; radio0<br />&nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; option macaddr&nbsp; &nbsp; 00:80:48:62:cc:37<br />&nbsp; &nbsp; option hwmode&nbsp; &nbsp; 11ng<br />&nbsp; &nbsp; option htmode&nbsp; &nbsp; HT20<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; SHORT-GI-40<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; TX-STBC<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; RX-STBC1<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; DSSS_CCK-40<br />&nbsp; &nbsp; option disabled 0</p><p>config wifi-iface<br />&nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />&nbsp; &nbsp; option network&nbsp; ap<br />&nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;ap<br />&nbsp; &nbsp; option ssid&nbsp; &nbsp; &nbsp;OpenWrt<br />&nbsp; &nbsp; option encryption none</p><p>config wifi-device&nbsp; radio1<br />&nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; option macaddr&nbsp; &nbsp; 00:80:48:6e:9e:53<br />&nbsp; &nbsp; option hwmode&nbsp; &nbsp; 11ng<br />&nbsp; &nbsp; option htmode&nbsp; &nbsp; HT20<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; SHORT-GI-40<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; TX-STBC<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; RX-STBC1<br />&nbsp; &nbsp; list ht_capab&nbsp; &nbsp; DSSS_CCK-40<br />&nbsp; &nbsp; option disabled 0</p><p>config wifi-iface<br />&nbsp; &nbsp; option device&nbsp; &nbsp;radio1<br />&nbsp; &nbsp; option network&nbsp; mesh<br />&nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;mesh<br />&nbsp; &nbsp; option mesh_id&nbsp; openmesh<br />&nbsp; &nbsp; option encryption none</p><p>The network configuration for MAP is</p><p>config interface loopback<br />&nbsp; &nbsp; option ifname&nbsp; &nbsp; lo<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; option ipaddr&nbsp; &nbsp; 127.0.0.1<br />&nbsp; &nbsp; option netmask&nbsp; &nbsp; 255.0.0.0</p><p>config interface lan<br />&nbsp; &nbsp; option ifname&nbsp; &nbsp; eth1<br />&nbsp; &nbsp; option type&nbsp; &nbsp; bridge<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; option ipaddr&nbsp; &nbsp; 192.168.1.23<br />&nbsp; &nbsp; option netmask&nbsp; &nbsp; 255.255.255.0</p><p>config interface wan<br />&nbsp; &nbsp; option ifname&nbsp; &nbsp; eth0<br />&nbsp; &nbsp; option proto&nbsp; &nbsp; dhcp</p><p>config switch<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp;eth1<br />&nbsp; &nbsp; &nbsp; &nbsp; option reset&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option enable_vlan 1</p><p>config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;eth1<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports&nbsp; &nbsp; &quot;0 1 2 3 4&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />config interface mesh<br />&nbsp; &nbsp; option proto static<br />&nbsp; &nbsp; option ipaddr 10.0.0.23<br />&nbsp; &nbsp; option netmask 255.255.255.0<br />&nbsp; &nbsp; <br />config interface ap<br />&nbsp; &nbsp; option proto static<br />&nbsp; &nbsp; option ipaddr 10.0.0.123<br />&nbsp; &nbsp; option netmask 255.255.255.0</p><p>When i try to ping from MP to 10.0.0.123 it doesn&#039;t work...<br />can anybody pls help..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164330">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						13 Apr 2012, 05:21					</div>
				</div>
				<div class="post-content content">
					<p>also for bridging between A and B on MAP, i have used commands<br />brctl addif br-lan wlan0<br />brctl addif br-lan wlan1</p><p>If any1 have done the basic working of 802.11s, pls do help to solve this issue...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164331">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						13 Apr 2012, 05:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>djtcin wrote:</cite><blockquote><p>Hm..<br />I can&#039;t understand, is this the same problem of this: <a href="https://forum.openwrt.org/viewtopic.php?id=36097">https://forum.openwrt.org/viewtopic.php?id=36097</a> ?<br />Because I&#039;m trying to resolve this issue... without success for now.</p></blockquote></div><p>pls read my config files and let me know r u doing same steps or anything else??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164333">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						13 Apr 2012, 05:59					</div>
				</div>
				<div class="post-content content">
					<p>The kernel version m using is 3.2.5<br />i have followed the steps to enable its 11s mode..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164340">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						13 Apr 2012, 09:46					</div>
				</div>
				<div class="post-content content">
					<p>tnx ..good start.</p><p>please annotate each interface in the sketch with its data ( config / ifconfig ) and dataflow/subnets</p><p>That way gives a much better&nbsp; overview helping to work things out</p><br /><br /><br /><p>regards.<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164371">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">rpc</div>
					<div class="post-datetime">
						13 Apr 2012, 14:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dinesh wrote:</cite><blockquote><p>also for bridging between A and B on MAP, i have used commands<br />brctl addif br-lan wlan0<br />brctl addif br-lan wlan1</p></blockquote></div><p>I do not know but why do mesh mesh bridge and LAN?<br />It seems to me that you should probably do the second style interface:<br /></p><div class="codebox"><pre><code>brctl addbr br-mesh
brctl addif br-mesh wlan0
brctl addif br-mesh wlan1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164426">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dinesh</div>
					<div class="post-datetime">
						14 Apr 2012, 00:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rpc wrote:</cite><blockquote><div class="quotebox"><cite>dinesh wrote:</cite><blockquote><p>also for bridging between A and B on MAP, i have used commands<br />brctl addif br-lan wlan0<br />brctl addif br-lan wlan1</p></blockquote></div><p>I do not know but why do mesh mesh bridge and LAN?<br />It seems to me that you should probably do the second style interface:<br /></p><div class="codebox"><pre><code>brctl addbr br-mesh
brctl addif br-mesh wlan0
brctl addif br-mesh wlan1</code></pre></div></blockquote></div><p>yeah....i did same,n got it working...Thanks...:D<br />now m able to ping from laptop to the mp which is at 2-hop<br />now i hv to see whether ping to some site works through mpp or not??<br />if you hv done connectivity to outside world from mesh,then pls let me know about ur config n all...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164524">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">rpc</div>
					<div class="post-datetime">
						14 Apr 2012, 23:29					</div>
				</div>
				<div class="post-content content">
					<p>More precisely, the mesh is probably the mode of the MAP should have one IP address as follows:<br /></p><div class="codebox"><pre><code>brctl addbr br-mesh
brctl addif br-mesh wlan0
ifconfig wlan0 0.0.0.0
brctl addif br-mesh wlan1
ifconfig wlan1 0.0.0.0
iw dev wlan1 join [mesh_id]
ifconfig br-mesh hw ether [mac address of mesh interface]
ifconfig 10.0.0.123</code></pre></div><p>where:<br />wlan0 - interface mesh<br />wlan1 - interface ap<br />mesh_id - openmesh</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183390">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">i.s.reji</div>
					<div class="post-datetime">
						16 Nov 2012, 08:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello.<br />Because i can&#039;t open <a href="http://o11s.org/trac/wiki/OpenWrtBuilding">http://o11s.org/trac/wiki/OpenWrtBuilding</a> (this domain doesn&#039;t have A/AAA record), does anyone can write instruction about inplementation 802.11s on OpenWRT?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>