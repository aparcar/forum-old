<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to enable the web UI on trunk (20110925)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p144581">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve inatalled trunk on my wr1043nd and now there&#039;s no web II.<br />How to enable it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144582">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						27 Sep 2011, 11:50					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>opkg update
opkg install luci
/etc/init.d/uhttpd enable
/etc/init.d/uhttpd start</code></pre></div>											<p class="post-edited">(Last edited by <strong>written_direcon</strong> on 27 Sep 2011, 11:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144589">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 13:16					</div>
				</div>
				<div class="post-content content">
					<p>... this means that I need to bring it online manually.<br />Which is why I&#039;m trying to enable the web UI ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144591">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rolf2</div>
					<div class="post-datetime">
						27 Sep 2011, 13:19					</div>
				</div>
				<div class="post-content content">
					<p>there in no web UI , you must install it first <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144599">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 16:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rolf2 wrote:</cite><blockquote><p>there in no web UI , you must install it first <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>There&#039;s also no PPPOE. Which will make it a little bit harder then expected.<br />Any hint?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144601">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 16:50					</div>
				</div>
				<div class="post-content content">
					<p>OK. I got it.</p><div class="codebox"><pre><code>uci set network.wan.proto=pppoe
uci set network.wan.username=username
uci set network.wan.password=password
uci commit
/etc/init.d/network restart</code></pre></div><p>Just a question.<br />Why on earth trunk has the web UI disabled by default?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144602">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">rolf2</div>
					<div class="post-datetime">
						27 Sep 2011, 16:50					</div>
				</div>
				<div class="post-content content">
					<p>...download needed packages with PC , transfer them to router /tmp , and install from there ? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144609">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 17:38					</div>
				</div>
				<div class="post-content content">
					<p>I need to have HTTPS web UI on wan.<br />I installed uhttpd-mod-tls but cannot see any option in the web UI.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144613">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">blindbox</div>
					<div class="post-datetime">
						27 Sep 2011, 18:28					</div>
				</div>
				<div class="post-content content">
					<p>Probably to ward off non-knowledgeable users.</p><p>Been that way for years... but hey, might as well build it yourself if you want to go trunk. That&#039;s how I do it.</p><p>uqbar: uhttpd on https documentation is all here. <a href="http://wiki.openwrt.org/doc/uci/uhttpd">http://wiki.openwrt.org/doc/uci/uhttpd</a></p><p>Can&#039;t guide you through it, I have no clue.</p>											<p class="post-edited">(Last edited by <strong>blindbox</strong> on 27 Sep 2011, 18:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144615">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						27 Sep 2011, 18:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>uqbar wrote:</cite><blockquote><p>I need to have HTTPS web UI on wan.<br />I installed uhttpd-mod-tls but cannot see any option in the web UI.</p></blockquote></div><p>1) Change the listen_http list to the LAN IP address (uci get network.lan.ipaddr, e. g. 192.168.1.1:80). Binds HTTP access only to LAN network. HTTPS access is accessible on LAN and WAN.<br /><strong>/etc/config/uhttpd</strong><br /></p><div class="codebox"><pre><code>config &#039;uhttpd&#039; &#039;main&#039;

    # HTTP listen addresses, multiple allowed
    list &#039;listen_http&#039;    &#039;192.168.1.1:80&#039;
#    list &#039;listen_http&#039;    &#039;[::]:80&#039;

    # HTTPS listen addresses, multiple allowed
    list &#039;listen_https&#039;    &#039;0.0.0.0:443&#039;
#    list &#039;listen_https&#039;    &#039;[::]:443&#039;
[..]</code></pre></div><p>2) Add the Web server rule in the firewall configuration to open port 443/TCP on the router.<br /><strong>/etc/config/firewall</strong><br /></p><div class="codebox"><pre><code>[..]
config &#039;rule&#039;
        option &#039;_name&#039;        &#039;Web server (HTTPS)&#039;
        option &#039;src&#039;          &#039;wan&#039;
        option &#039;dest_port&#039;    &#039;443&#039;
        option &#039;target&#039;       &#039;ACCEPT&#039;
        option &#039;proto&#039;        &#039;tcp&#039;</code></pre></div><p>3) restart the uHTTPd and the firewall<br /></p><div class="codebox"><pre><code>/etc/init.d/uhttpd restart
/etc/init.d/firewall restart</code></pre></div><p>4) Test from <strong>outside</strong> of your LAN.</p>											<p class="post-edited">(Last edited by <strong>written_direcon</strong> on 27 Sep 2011, 18:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144617">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>Thanks.<br />I think I need to fix the firewall part with port 443, though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144618">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						27 Sep 2011, 18:41					</div>
				</div>
				<div class="post-content content">
					<p>Right. In the firewall rule. I edited my post.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144619">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>In the firewall configuration I read:</p><div class="codebox"><pre><code>config &#039;rule&#039;
        option &#039;src&#039; &#039;wan&#039;
        option &#039;proto&#039; &#039;udp&#039;
        option &#039;dest_port&#039; &#039;68&#039;
        option &#039;target&#039; &#039;ACCEPT&#039;
        option &#039;family&#039; &#039;ipv4&#039;</code></pre></div><p>Which should be BBOTP client from WAN.<br />Does this make any sense?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144623">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						27 Sep 2011, 19:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>written_direcon wrote:</cite><blockquote><div class="quotebox"><cite>uqbar wrote:</cite><blockquote><p>I need to have HTTPS web UI on wan.<br />I installed uhttpd-mod-tls but cannot see any option in the web UI.</p></blockquote></div><p>1) Change the listen_http list to the LAN IP address (uci get network.lan.ipaddr, e. g. 192.168.1.1:80). Binds HTTP access only to LAN network. HTTPS access is accessible on LAN and WAN.<br /><strong>/etc/config/uhttpd</strong><br /></p><div class="codebox"><pre><code>config &#039;uhttpd&#039; &#039;main&#039;

    # HTTP listen addresses, multiple allowed
    list &#039;listen_http&#039;    &#039;192.168.1.1:80&#039;
#    list &#039;listen_http&#039;    &#039;[::]:80&#039;

    # HTTPS listen addresses, multiple allowed
    list &#039;listen_https&#039;    &#039;0.0.0.0:443&#039;
#    list &#039;listen_https&#039;    &#039;[::]:443&#039;
[..]</code></pre></div><p>2) Add the Web server rule in the firewall configuration to open port 443/TCP on the router.<br /><strong>/etc/config/firewall</strong><br /></p><div class="codebox"><pre><code>[..]
config &#039;rule&#039;
        option &#039;_name&#039;        &#039;Web server (HTTPS)&#039;
        option &#039;src&#039;          &#039;wan&#039;
        option &#039;dest_port&#039;    &#039;443&#039;
        option &#039;target&#039;       &#039;ACCEPT&#039;
        option &#039;proto&#039;        &#039;tcp&#039;</code></pre></div><p>3) restart the uHTTPd and the firewall<br /></p><div class="codebox"><pre><code>/etc/init.d/uhttpd restart
/etc/init.d/firewall restart</code></pre></div><p>4) Test from <strong>outside</strong> of your LAN.</p></blockquote></div><p>/etc/config/uhttpd was already OK.<br />Instead I preferred the web UI way and used the Firewall/Redirects to redirect wan:443 to lan:443.<br />Anyway, a more friendly web UI (a-la DD_WRT) will help a lot.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>