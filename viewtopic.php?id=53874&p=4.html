<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [How To] Asterisk 11+GSM/SMS channel+Google Voice+OpenWRT SIP Client</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 25 Apr 2018 and 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=53874&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=53874&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=53874&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p338370">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						15 Sep 2016, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>This is the Asterisk dialplan for triggering the 4 channels ON and OFF.</p><br /><p><span style="color: blue"><em>;; Home Automation Box - 4 channels relay board<br />;; Asterisk 11 &amp; OpenWRT<br />;; see <a href="https://forum.openwrt.org/viewtopic.php?id=53874">https://forum.openwrt.org/viewtopic.php?id=53874</a><br />;; By pilovis - parknat12@yahoo.com<br />;<br />; put this code in &quot;/etc/asterisk/extensions.conf&quot; under [default] section<br />;<br />;Relay 1 = key 1 on , key 5 off<br />;Relay 2 = key 2 on , key 6 off<br />;Relay 3 = key 3 on , key 7 off<br />;Relay 4 = key 4 on , key 8 off<br />;IVR password: 1234<br />;<br />; IVR with vocal guide.<br />; find asterisk sound files (.gsm) on your language named: <br />;&quot;1,2,3,4,5,6,7,8,agent-pass,auth-incorrect,auth-thankyou,activated,de-activated,vm-goodbye&quot; <br />; and copy them to /usr/lib/asterisk/sounds of your OpenWRT router<br />;<br />exten =&gt; xxxxxxxxxx,1,Answer()<br />exten =&gt; xxxxxxxxxx,n,Ringing<br />exten =&gt; xxxxxxxxxx,n,Set(TIMEOUT(digit)=7)<br />exten =&gt; xxxxxxxxxx,n,Set(TIMEOUT(response)=21)<br />; password &quot;1234&quot; required to continue<br />exten =&gt; xxxxxxxxxx,n,Authenticate(1234,,4)<br />; IVR vocal guide<br />exten =&gt; xxxxxxxxxx,n,Background(1&amp;2&amp;3&amp;4&amp;activated&amp;5&amp;6&amp;7&amp;8&amp;de-activated)<br />exten =&gt; xxxxxxxxxx,n,WaitExten(5,4)<br />exten =&gt; xxxxxxxxxx,n,Hangup()<br />;;<br />exten =&gt; 1,1,Playback(1&amp;activated)<br />exten =&gt; 1,2,System(/root/on1.sh &amp;)<br />exten =&gt; 1,3,Wait(2)<br />exten =&gt; 1,4,Hangup()<br />;;<br />exten =&gt; 2,1,Playback(2&amp;activated)<br />exten =&gt; 2,2,System(/root/on2.sh &amp;)<br />exten =&gt; 2,3,Wait(2)<br />exten =&gt; 2,4,Hangup()<br />;;<br />exten =&gt; 3,1,Playback(3&amp;activated)<br />exten =&gt; 3,2,System(/root/on3.sh &amp;)<br />exten =&gt; 3,3,Wait(2)<br />exten =&gt; 3,4,Hangup()<br />;;<br />exten =&gt; 4,1,Playback(4&amp;activated)<br />exten =&gt; 4,2,System(/root/on4.sh &amp;)<br />exten =&gt; 4,3,Wait(2)<br />exten =&gt; 4,4,Hangup()<br />;;<br />exten =&gt; 5,1,Playback(1&amp;de-activated)<br />exten =&gt; 5,2,System(/root/off1.sh &amp;)<br />exten =&gt; 5,3,Wait(2)<br />exten =&gt; 5,4,Hangup()<br />;;<br />exten =&gt; 6,1,Playback(2&amp;de-activated)<br />exten =&gt; 6,2,System(/root/off2.sh &amp;)<br />exten =&gt; 6,3,Wait(2)<br />exten =&gt; 6,4,Hangup()<br />;;<br />exten =&gt; 7,1,Playback(3&amp;de-activated)<br />exten =&gt; 7,2,System(/root/off3.sh &amp;)<br />exten =&gt; 7,3,Wait(2)<br />exten =&gt; 7,4,Hangup()<br />;;<br />exten =&gt; 8,1,Playback(4&amp;de-activated)<br />exten =&gt; 8,2,System(/root/off4.sh &amp;)<br />exten =&gt; 8,3,Wait(2)<br />exten =&gt; 8,4,Hangup()<br />; eof</em></span></p><p>Note: change &quot;xxxxxxxxxx,&quot; with your extension.</p><br /><p>- Examples of the ON &amp; OFF scripts:<br />(don&#039;t forget to give &quot;chmod 755&quot; to the files)</p><p><span class="bbu">/root/on1.sh</span></p><p><span style="color: blue"><em>#!/bin/sh<br /># switch on relay 1<br />/bin/echo 1 &gt; /sys/devices/platform/leds-gpio.0/leds/DGND3700v1_3800B:blue:wifi5g/brightness<br /># Insert channel status (1=on, 0=off) for channel recovering after a reboot/crash<br />/bin/rm /root/status-relay1<br />/bin/cat&nbsp; /sys/devices/platform/leds-gpio.0/leds/DGND3700v1_3800B:blue:wifi5g/brightness &gt;&gt; /root/status-relay1</em></span></p><p><span class="bbu">/root/off1.sh</span></p><p><span style="color: blue"><em>#!/bin/sh<br /># swith off relay 1<br />/bin/echo 0 &gt; /sys/devices/platform/leds-gpio.0/leds/DGND3700v1_3800B:blue:wifi5g/brightness<br />#&nbsp; Insert channel status (1=on, 0=off) for channel recovering after a reboot/crash<br />/bin/rm /root/status-relay1<br />/bin/cat&nbsp; /sys/devices/platform/leds-gpio.0/leds/DGND3700v1_3800B:blue:wifi5g/brightness &gt;&gt; /root/status-relay1</em></span></p><br /><p>- Script to extract channel status and restore it at reboot <br />(put the line: &quot;/bin/sh /root/extract_and_restore-status-relay1.sh&quot; in &quot;/etc/rc.local&quot; right before the &quot;exit 0&quot; line)</p><p><span class="bbu">/root/extract_and_restore-status-relay1.sh</span></p><p><span style="color: blue"><em>#!/bin/sh<br /># extract and restore status of relay1<br />#<br />while IFS=: read relay1<br />do<br />/bin/echo ${relay1} &gt; /sys/devices/platform/leds-gpio.0/leds/DGND3700v1_3800B:blue:wifi5g/brightness<br />done &lt; /root/status-relay1</em></span></p><p>- Configuration file for triggerhappy (<em>/etc/triggerhappy/triggers.d/example.conf</em>) to control the 4 relay by an USB keypad.</p><p><span style="color: blue"><em># This is an example configuration for the triggerhappy daemon (thd)<br /># please note that every file to be processed must end in &quot;.conf&quot;<br />#<br /># To view a list of supported event codes, use &quot;thd --listevents&quot; or<br /># &quot;thd --dump /dev/input/event*&quot;<br />#<br /># Format:<br /># &lt;eventcode&gt; &lt;value&gt; &lt;command&gt;<br />#<br /># values for key events are 1 (pressed), 0 (released) or 2 (held)<br />#<br /># Relay 1 = key 1 on , key 5 off<br /># Relay 2 = key 2 on , key 6 off<br /># Relay 3 = key 3 on , key 7 off<br /># Relay 4 = key 4 on , key 8 off<br />#<br />KEY_KP1 1 /bin/sh /root/on1.sh<br />KEY_KP2 1 /bin/sh /root/on2.sh<br />KEY_KP3 1 /bin/sh /root/on3.sh<br />KEY_KP4 1 /bin/sh /root/on4.sh<br />KEY_KP5 1 /bin/sh /root/off1.sh<br />KEY_KP6 1 /bin/sh /root/off2.sh<br />KEY_KP7 1 /bin/sh /root/off3.sh<br />KEY_KP8 1 /bin/sh /root/off4.sh<br /># switch off all 4 channels<br />KEY_NUMLOCK 1 /root/off1.sh ; /root/off2.sh ; /root/off3.sh ; /root/off4.sh<br /># switch on all 4 channels<br />KEY_KPDOT 1 /root/on1.sh ; /root/on2.sh ; /root/on3.sh ; /root/on4.sh</em></span></p>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 15 Sep 2016, 23:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352596">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">phantnang</div>
					<div class="post-datetime">
						21 Feb 2017, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>hi pilovis !!<br />i&#039;m studying about asterisk, could you tell me what&nbsp; is your `xxxxxxxx extension` ?<br />i&#039;m going to make simple IVR menu for DTMF control ! i&#039;ll record incomming call for sound files! can you help me?</p>											<p class="post-edited">(Last edited by <strong>phantnang</strong> on 21 Feb 2017, 17:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357065">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						25 Apr 2017, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>I tried baresip with a TP-Link TLWDR4300 and Chaos Calmer 15.05.1 (it really sucks!) and as usual something&nbsp; doesn&#039;t work, baresip does phone calls, but blocks all incoming calls. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>If you want to use baresip with Chaos Calmer you need to install (downgrade) the baresip version for Barried Breaker.</p><p>For ar71xx do the following:</p><div class="codebox"><pre><code>opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip_0.4.11-3_ar71xx.ipk

opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip-mod-g711_0.4.11-3_ar71xx.ipk

opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip-mod-evdev_0.4.11-3_ar71xx.ipk

opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip-mod-alsa_0.4.11-3_ar71xx.ipk

opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip-mod-cons_0.4.11-3_ar71xx.ipk

opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip-mod-stdio_0.4.11-3_ar71xx.ipk

opkg install --force-downgrade http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/telephony/baresip-mod-uuid_0.4.11-3_ar71xx.ipk</code></pre></div>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 2 Jun 2017, 05:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357375">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						29 Apr 2017, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>For Asterisk-13.x I have use this one: <a href="https://github.com/wdoekes/asterisk-chan-dongle">https://github.com/wdoekes/asterisk-chan-dongle</a><br />Buildscripts see <a href="https://forum.openwrt.org/viewtopic.php?pid=357374#p357374">this post</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361192">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">phantnang</div>
					<div class="post-datetime">
						29 Jun 2017, 17:36					</div>
				</div>
				<div class="post-content content">
					<p>how to make a outgoing gsm call and monitor feedback (busy, answer, ignore..) with asterisk?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361332">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						2 Jul 2017, 03:28					</div>
				</div>
				<div class="post-content content">
					<p>gsm call:<br /></p><div class="codebox"><pre><code>exten =&gt; _0161.,1,Dial(DONGLE/dongle0/${EXTEN},60)</code></pre></div><p>(first entry / on number that start with 0161 dial via channel or protokoll: &#039;DONGLE&#039; on Konto or entry &#039;dongle0&#039; (see dongle.conf) / timeout &#039;60&#039; seconds)</p><p>monitor feedback:<br />in general via ${DIALSTATUS}<br />but not tested if this working on chan_dongle too.</p><p>see: <a href="https://www.voip-info.org/wiki-Asterisk#Books">https://www.voip-info.org/wiki-Asterisk#Books</a><br />or better here: <a href="http://the-asterisk-book.com/1.6/applikationen-dial.html">http://the-asterisk-book.com/1.6/applik … -dial.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366745">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						15 Oct 2017, 16:25					</div>
				</div>
				<div class="post-content content">
					<p><strong>How-To enable the 2 FXS port on Huawei-HG553 (Vodafone Station 1) to be used with Asterisk 11</strong></p><p>I finally managed to get the 2 FXS ports on this router working with Asterisk 11, without needing to compile anything <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" />.</p><p>You may find all files on my website (collected from dl.eko.one.pl): <br /><a href="http://www.lovisolo.com/asterisk/software/openwrt/asterisk11/Huawei-HG553-FXS/">http://www.lovisolo.com/asterisk/softwa … HG553-FXS/</a></p><p>Essentially you have to install this specific Firmware (Custom Chaos Calmer 15.05 release <span class="bbu">without Luci</span>): <br /><a href="http://www.lovisolo.com/asterisk/software/openwrt/asterisk11/Huawei-HG553-FXS/openwrt-15.05-brcm63xx-generic-HG553-squashfs-cfe.bin">http://www.lovisolo.com/asterisk/softwa … fs-cfe.bin</a></p><p><em>To access the router with telnet (no password required), configure your network card to 192.168.1.2 and connect the ethernet cable to the port 1 of the router LAN (192.168.1.1), port 4 is WAN (DHCP).</em></p><p>then you need to change the file &quot;/etc/opkg/distfeeds.conf&quot; as per the following:</p><div class="codebox"><pre><code>src/gz chaos_calmer_base http://downloads.openwrt.org/chaos_calmer/15.05/brcm63xx/generic/packages/base
src/gz chaos_calmer_telephony http://downloads.openwrt.org/chaos_calmer/15.05/brcm63xx/generic/packages/telephony
src/gz chaos_calmer_packages http://downloads.openwrt.org/chaos_calmer/15.05/brcm63xx/generic/packages/packages
src/gz chaos_calmer_routing http://downloads.openwrt.org/chaos_calmer/15.05/brcm63xx/generic/packages/routing
src/gz chaos_calmer_luci http://downloads.openwrt.org/chaos_calmer/15.05/brcm63xx/generic/packages/luci
src/gz chaos_calmer_management http://downloads.openwrt.org/chaos_calmer/15.05/brcm63xx/generic/packages/management
src/gz eko1 http://dl.eko.one.pl/chaos_calmer/brcm63xx/packages</code></pre></div><p>configure networking and internet access then <strong>opkg update</strong> and install &quot;Asterisk 11&quot; as usual (see the first post of this 3D),</p><p>finally install these specific packages you&#039;ll find on my website:</p><p><span style="color: red">bcm63xx-phone-test_3.18.45-3.18.45_brcm63xx.ipk&nbsp; &nbsp;&nbsp; <br />kmod-bcm63xx-phone_3.18.45+0.1-1_brcm63xx.ipk<br />asterisk11-codec-a-mu_11.22.0-1_brcm63xx.ipk&nbsp; &nbsp;&nbsp; <br />asterisk11-codec-alaw_11.22.0-1_brcm63xx.ipk&nbsp; &nbsp;&nbsp; <br />asterisk11-format-sln_11.22.0-1_brcm63xx.ipk&nbsp; &nbsp; <br />asterisk11-res-musiconhold_11.22.0-1_brcm63xx.ipk&nbsp; &nbsp; <br />asterisk11_11.22.0-1_brcm63xx.ipk&nbsp; &nbsp; <br />asterisk11-chan-bcm63xx-phone_3.18.45-3.18.45_brcm63xx.ipk</span></p><p>You also find my asterisk configuration files for FSX (/etc/asterisk) </p><p><span style="color: red">extensions.conf<br />modules.conf<br />bcm63xx_phone.conf</span></p><p><span class="bbu">Note: modify &quot;extensions.conf&quot; file to match your sip configurations.</span></p><p>you also need to add these lines in /etc/rc.local before the &quot;exit 0&quot; line:</p><div class="codebox"><pre><code>/usr/sbin/insmod bcm63xx-phone
/bin/sleep 10
/etc/init.d/asterisk restart</code></pre></div><p>Reboot and enjoy <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><strong><span class="bbu">References:</span> </strong></p><p><a href="https://github.com/pgid69/bcm63xx-phone">https://github.com/pgid69/bcm63xx-phone</a><br /><a href="http://dl.eko.one.pl">http://dl.eko.one.pl</a> (Great site! Thanks a lot for compiling all modules)</p><p>------------------------------------------------------------------------------------------<br />Note: asterisk11_chan_dongle does not work with this firmware!</p>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 15 Oct 2017, 23:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366834">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						16 Oct 2017, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>After the first enthusiasm, I&#039;ve done some extensive testing on the bcm63xx-phone driver, the results are quite negative <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> the audio is with a lot of crackling.</p><p>If you want to use this router (Huawei-HG553) with the two FXS ports and the ADSL internal Modem, forget about OpenWRT and use this custom firmware:<br /><a href="http://wiki.perugiagnulug.org/images/8/8a/RU_DVA-G3672B_1.10_20110508_VS.zip">http://wiki.perugiagnulug.org/images/8/ … 508_VS.zip</a></p><p>To install this firmware turn on the system while holding the reset button for 30 sec,<br />connect via LAN with a manual setup of your workstation of 192.168.1.2 etc. (no DHCP, no LAN LED on the box)<br />Browse to <a href="http://192.168.1.1">http://192.168.1.1</a><br />Upload the .bin file (extracted from the downloaded file) to router<br />Wait for it to reboot (about two minutes).</p><p>Default user is <strong>admin</strong>, default password is <strong>admin</strong>, IP address is <strong>192.168.1.1</strong></p><p>The configuration manual of this firmware is here:<br /><a href="http://wiki.perugiagnulug.org/images/c/c9/DVA-G3672B_D2_Manual_v1.20.pdf">http://wiki.perugiagnulug.org/images/c/ … _v1.20.pdf</a></p><p>Note about this firmware:<br />Audio is perfect<br />ADSL modem works (ADSL2+)<br />3G USB dongle internet connection works (the Huawei dongle included with this router)<br />2 FXS ports work (SIP Voip client)<br />DTMF tones work with Asterisk<br />Regional PSTN tones work<br />WiFi g/n Access Point or Bridge mode<br />WiFi antenna diversity available<br />USB Samba Share available<br />USB Webcam sever available<br />USB Print Server available</p>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 17 Oct 2017, 15:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368783">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">portuquesa</div>
					<div class="post-datetime">
						25 Nov 2017, 14:26					</div>
				</div>
				<div class="post-content content">
					<p>Let&#039;s relive the topic! PILOVIS, thanks for great job and info, it was helpful.</p><p>No solution on IAX and dongle incompatibility yet?&nbsp; Point is if unload IAX timing module, IAX2 becomes unusable at all. Any news/solutions/suggestions?</p><p>(BB 14.07, Asterisk 11 + dongle)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370107">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						27 Dec 2017, 21:23					</div>
				</div>
				<div class="post-content content">
					<p><strong>Don&#039;t use Asterisk11 with Chaos Calmer 15.05.1 for ar71xx, the package is broken (as usual)</strong><br />Use Barrier Breaker instead, the last reliable OpenWRT version, all the newer versions are full of problems.</p>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 19 Jan 2018, 16:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371032">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						19 Jan 2018, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>Asterisk 11 is also broken for BCM63xx, both Chaos Calmer and Lede 17<br />Barrier Breaker remains the last reliable OpenWRT version <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Forget about Openwrt and use Raspberry instead <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 19 Jan 2018, 16:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p371093">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">pilovis</div>
					<div class="post-datetime">
						22 Jan 2018, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>In case you have an external overlay (USB) you can have bash instead of ash, so you can save your shell command history.</p><p><span style="color: red"><span class="bbu">NOTE: </span>don&#039;t do this without an external USB overlay to avoid the internal router flash memory wearing.</span></p><p>---------------------------------------------------------------------------------------------------------------------</p><p>OpenWrt comes with Ash shell. If you would like to use Bash instead, here is how you can switch and add some nice colouring to it. Install Bash by issuing the following:<br />&nbsp; &nbsp; <br /><strong>opkg update<br />opkg install bash</strong></p><p>Then edit &quot;/etc/passwd&quot; file and change the root user line to this:</p><p><span style="color: blue"><em>root:x:0:0:root:/root:/bin/bash</em></span></p><p>After that, run this command (which will create &quot;/root/.bash_profile&quot; file and put “. $HOME/.bashrc” in it):<br />&nbsp; &nbsp; <br /><strong>echo &quot;. $HOME/.bashrc&quot; &gt; /root/.bash_profile</strong></p><p>Then you can either use your own .bashrc or download the one that I use (I got it from Arch wiki a few years ago) and put it in your root directory like this (if you would like to use your own .bashrc, make sure to put it in /root as well):<br />&nbsp; &nbsp; <br /><strong>wget -P /root/ <a href="http://cmikavac.net/download/.bashrc">http://cmikavac.net/download/.bashrc</a></strong></p><p>Now log out, and log in again and you should have a brand new prompt.</p><br /><p><span style="color: red">Extracted from: <a href="http://cmikavac.net/2012/06/03/tp-link-wr703n-openwrt-post-installation-tips/">http://cmikavac.net/2012/06/03/tp-link- … tion-tips/</a></span></p>											<p class="post-edited">(Last edited by <strong>pilovis</strong> on 22 Jan 2018, 12:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p373900">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">kofec</div>
					<div class="post-datetime">
						17 Mar 2018, 09:27					</div>
				</div>
				<div class="post-content content">
					<p>@Pilovis do you still have files for hg553 as the link is not working</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=53874&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=53874&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=53874&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>