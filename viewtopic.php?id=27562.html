<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WR1043ND</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 10 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p122428">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lippmannmax</div>
					<div class="post-datetime">
						2 Dec 2010, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve got an TP-Link TL-WR1043ND router with openwrt. I will go back to the original firmware. But why, i can&#039;t use the web-gui for flashing the orig. fw?</p><p>can i flash my orig. fw with out cut the first 0x20200 bytes from original firmware.</p><p>Can I use the web-gui with the &quot;uncutted&quot; orig. fw to go back to the orig. fw???</p><p>Thanks<br />Max</p><p>----</p><p>Sry, for my bad english</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122442">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						2 Dec 2010, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>No and no.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122455">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">lippmannmax</div>
					<div class="post-datetime">
						2 Dec 2010, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>ok, but I can&#039;t cut this, can you cut this for me, please???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122459">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						2 Dec 2010, 20:15					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr1043nd#back.to.original.firmware">TP-Link TL-WR1043ND - OpenWrt Wiki - Back to original firmware</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122533">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">lippmannmax</div>
					<div class="post-datetime">
						3 Dec 2010, 15:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fyi wrote:</cite><blockquote><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr1043nd#back.to.original.firmware">TP-Link TL-WR1043ND - OpenWrt Wiki - Back to original firmware</a></p></blockquote></div><p>well, but i need the &quot;cutted&quot; orig. fw, didn&#039;t I?</p><p>on this page, i must cut it, but I search the cutted fw to download.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122535">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						3 Dec 2010, 15:37					</div>
				</div>
				<div class="post-content content">
					<p>Why is it so hard to cut the image yourself? With a minute of googling you&#039;d have found dd.exe for windows: <a href="http://www.chrysocome.net/dd">http://www.chrysocome.net/dd</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122537">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						3 Dec 2010, 16:25					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.dd-wrt.com/phpBB2/download.php?id=14543">Modified original TL-WR1043ND firmware (cut off 0x20200)</a></p><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=441970#441970">DD-WRT Forum :: View topic - TP-Link TL-WR1043ND Bricked ,Can not write flash memory.</a></p><p>Edit:<br />I guess you&#039;re going to ask how to transfer the firmware. Let&#039;s name it tplink.bin. Install and run WinSCP. Ignore the warning message. Copy tplink.bin (transfer as binary) to /tmp. Install PuTTY and ssh to 192.168.1.1. Run:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# mtd -r write /tmp/tplink.bin firmware</code></pre></div><p><strong>Do it at your own risk.</strong></p><p>BTW,<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# type dd
dd is /bin/dd</code></pre></div>											<p class="post-edited">(Last edited by <strong>fyi</strong> on 3 Dec 2010, 17:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122552">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sebelk</div>
					<div class="post-datetime">
						3 Dec 2010, 20:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>No and no.</p></blockquote></div><p>Sorry But when you say no is no what?&nbsp; &nbsp;<img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Because wiki says that if the fw filename doesn&#039;t containt &quot;boot&quot;&nbsp; you don&#039;t need to cut it, simply use mtd. Please tell me if understand well what the wiki states.</p><p>Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122573">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">lippmannmax</div>
					<div class="post-datetime">
						4 Dec 2010, 10:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fyi wrote:</cite><blockquote><p><a href="http://www.dd-wrt.com/phpBB2/download.php?id=14543">Modified original TL-WR1043ND firmware (cut off 0x20200)</a></p><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=441970#441970">DD-WRT Forum :: View topic - TP-Link TL-WR1043ND Bricked ,Can not write flash memory.</a></p><p>Edit:<br />I guess you&#039;re going to ask how to transfer the firmware. Let&#039;s name it tplink.bin. Install and run WinSCP. Ignore the warning message. Copy tplink.bin (transfer as binary) to /tmp. Install PuTTY and ssh to 192.168.1.1. Run:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# mtd -r write /tmp/tplink.bin firmware</code></pre></div><p><strong>Do it at your own risk.</strong></p><p>BTW,<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# type dd
dd is /bin/dd</code></pre></div></blockquote></div><p>thanks, it works!!!</p><p>i&#039;ve copied the downloaded fw in the /tmp folder in the router. then i started putty, ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122630">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						5 Dec 2010, 01:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sebelk wrote:</cite><blockquote><p>Because wiki says that if the fw filename doesn&#039;t containt &quot;boot&quot;&nbsp; you don&#039;t need to cut it, simply use mtd. Please tell me if understand well what the wiki states.</p></blockquote></div><p>TP-LINK uses a unique image header (512 bytes). Take TL-WR941ND for example.<br /></p><div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><div class="codebox"><pre><code>Creating 5 MTD partitions on &quot;ar7100-nor0&quot;:
0x00000000-0x00020000 : &quot;u-boot&quot;
0x00020000-0x00120000 : &quot;kernel&quot;
0x00120000-0x003e0000 : &quot;rootfs&quot;
0x003e0000-0x003f0000 : &quot;config&quot;
0x003f0000-0x00400000 : &quot;art&quot;</code></pre></div></blockquote></div><p>wr941nv2_v3_en_3_11_2_up_boot(100323).bin 4063744 bytes<br /></p><div class="quotebox"><blockquote><p>image_header1 + u-boot_image + image_header2 + kernel_image + rootfs_image</p></blockquote></div><p>wr941nv2_en_3_11_8_up(100609).bin 3932160 bytes<br /></p><div class="quotebox"><blockquote><p>image_header2 + kernel_image + rootfs_image</p></blockquote></div><p>4063744 - 3932160 = 131584 = 0x20200 (image_header1 + u-boot_image)</p><p>MTD &quot;kernel&quot; equals to &quot;image_header2 + kernel_image&quot; which occupy 0x100000 bytes.</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=18354">OpenWrt / TP-Link TL-WR941N WR941ND - Atheros AP81 platform, USB port</a><br /><a href="http://download.lark.net.cn/wr941n/hack/">http://download.lark.net.cn/wr941n/hack/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122654">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">sebelk</div>
					<div class="post-datetime">
						5 Dec 2010, 16:30					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, for insistance but is right the following steps:</p><p>1. Get the fw from the tp-link websiste, in my case the newest is wr1043nv1_en_3_12_2_up(100820).bin<br />2. I see&nbsp; that&nbsp; firmware filename doesn&#039;t contain &quot;boot&quot;. So, it doesn&#039;t need cut it, dd is not needed.<br />3. scp wr1043nv1_en_3_12_2_up(100820).bin&nbsp; &nbsp;root@openwrt_ip_address:/tmp (Note: scp or whatever secure copy tool)<br />4. mtd -r write wr1043nv1_en_3_12_2_up(100820).bin&nbsp; firmware</p><br /><p>Please correct&nbsp; me if I am wrong.</p><p>Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122657">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						5 Dec 2010, 18:00					</div>
				</div>
				<div class="post-content content">
					<p>To my knowledge, that&#039;s it but I don&#039;t have any TP-LINK router to prove the theory.</p><p>I have checked the format of <a href="http://downloads.openwrt.org/backfire/10.03.1-rc4/ar71xx/openwrt-ar71xx-tl-wr1043nd-v1-squashfs-sysupgrade.bin">Backfire 10.03.1-rc4&nbsp; openwrt-ar71xx-tl-wr1043nd-v1-squashfs-sysupgrade.bin</a>. It does meet the format of<br /></p><div class="codebox"><pre><code>image_header2 + kernel_image + rootfs_image</code></pre></div><p>And &quot;image_header2 + kernel_image&quot; occupy 0x140000 bytes.</p><p>As of wr1043nv1_en_3_12_2_up(100820).bin in which &quot;image_header2 + kernel_image&quot; occupy 0x100000 bytes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123913">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						25 Dec 2010, 04:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sebelk wrote:</cite><blockquote><p>1. Get the fw from the tp-link websiste, in my case the newest is wr1043nv1_en_3_12_2_up(100820).bin<br />2. I see&nbsp; that&nbsp; firmware filename doesn&#039;t contain &quot;boot&quot;. So, it doesn&#039;t need cut it, dd is not needed.<br />3. scp wr1043nv1_en_3_12_2_up(100820).bin&nbsp; &nbsp;root@openwrt_ip_address:/tmp (Note: scp or whatever secure copy tool)<br />4. mtd -r write wr1043nv1_en_3_12_2_up(100820).bin&nbsp; firmware</p></blockquote></div><p><a href="https://forum.openwrt.org/viewtopic.php?pid=110550#p110550">OpenWrt / help bricked wr741nd</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>