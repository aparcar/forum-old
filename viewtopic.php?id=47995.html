<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link 3600 openwrt + 3G modem Alcatel X221L</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p220797">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						24 Dec 2013, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>Hello, I flash my router tp-link 3600 / openwrt 12.09/ and I have 3G modem Alcatel X221L. I want set 3G for backup link, but I have problem with modem. Where is problem, why not working.</p><p>1) Kernal log</p><div class="quotebox"><blockquote><p>10.300000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp;10.300000] ehci-platform ehci-platform: Generic Platform EHCI Controller<br />[&nbsp; &nbsp;10.310000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1<br />[&nbsp; &nbsp;10.350000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000<br />[&nbsp; &nbsp;10.370000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00<br />[&nbsp; &nbsp;10.370000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp;10.380000] hub 1-0:1.0: 1 port detected<br />[&nbsp; &nbsp;10.400000] nf_conntrack version 0.5.0 (1979 buckets, 7916 max)<br />[&nbsp; &nbsp;10.580000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp;10.610000] uhci_hcd: USB Universal Host Controller Interface driver<br />[&nbsp; &nbsp;10.700000] usbcore: registered new interface driver cdc_acm<br />[&nbsp; &nbsp;10.700000] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters<br />[&nbsp; &nbsp;10.730000] usb 1-1: new high-speed USB device number 2 using ehci-platform<br />[&nbsp; &nbsp;10.750000] usbcore: registered new interface driver usbserial<br />[&nbsp; &nbsp;10.750000] USB Serial support registered for generic<br />[&nbsp; &nbsp;10.880000] hub 1-1:1.0: USB hub found<br />[&nbsp; &nbsp;10.880000] hub 1-1:1.0: 4 ports detected<br />[&nbsp; &nbsp;10.890000] usbcore: registered new interface driver usbserial_generic<br />[&nbsp; &nbsp;10.900000] usbserial: USB Serial Driver core<br />[&nbsp; &nbsp;10.970000] USB Serial support registered for GSM modem (1-port)<br />[&nbsp; &nbsp;10.970000] usbcore: registered new interface driver option<br />[&nbsp; &nbsp;10.980000] option: v0.7.2:USB Driver for GSM modems<br />[&nbsp; &nbsp;11.000000] USB Serial support registered for Qualcomm USB modem<br />[&nbsp; &nbsp;11.010000] usbcore: registered new interface driver qcserial<br />[&nbsp; &nbsp;11.170000] usb 1-1.1: new high-speed USB device number 3 using ehci-platform<br />[&nbsp; &nbsp;11.280000] usbserial_generic 1-1.1:1.0: generic converter detected<br />[&nbsp; &nbsp;11.290000] usb 1-1.1: generic converter now attached to ttyUSB0<br />[&nbsp; &nbsp;11.380000] usb 1-1.2: new high-speed USB device number 4 using ehci-platform</p></blockquote></div><p>2) lsusb</p><div class="quotebox"><blockquote><p>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 001 Device 002: ID 05e3:0608 Genesys Logic, Inc. USB-2.0 4-Port HUB<br />Bus 001 Device 003: ID 1bbb:f017 T &amp; A Mobile Phones<br />Bus 001 Device 004: ID 8564:1000</p></blockquote></div><p>3) gcom info -d /dev/ttyUSB0</p><div class="quotebox"><blockquote><p>##### Wireless WAN Modem Configuration #####<br />Product text:<br />====</p><p>====<br />Manufacturer:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IMEI and Serial Number: comgt 13:55:32 -&gt; -- Error Report --<br />comgt 13:55:32 -&gt; ----&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br />comgt 13:55:32 -&gt; Error @776, line 45, String is shorter than second argument. (7)</p></blockquote></div><p>4) cat /proc/bus/usb/devices </p><div class="quotebox"><blockquote><p>T:&nbsp; Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=&nbsp; 1 Spd=480&nbsp; MxCh= 1<br />B:&nbsp; Alloc=&nbsp; 0/800 us ( 0%), #Int=&nbsp; 1, #Iso=&nbsp; 0<br />D:&nbsp; Ver= 2.00 Cls=09(hub&nbsp; ) Sub=00 Prot=01 MxPS=64 #Cfgs=&nbsp; 1<br />P:&nbsp; Vendor=1d6b ProdID=0002 Rev= 3.03<br />S:&nbsp; Manufacturer=Linux 3.3.8 ehci_hcd<br />S:&nbsp; Product=Generic Platform EHCI Controller<br />S:&nbsp; SerialNumber=ehci-platform<br />C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=&nbsp; 0mA<br />I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub&nbsp; ) Sub=00 Prot=00 Driver=hub<br />E:&nbsp; Ad=81(I) Atr=03(Int.) MxPS=&nbsp; &nbsp;4 Ivl=256ms</p><p>T:&nbsp; Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=&nbsp; 2 Spd=480&nbsp; MxCh= 4<br />D:&nbsp; Ver= 2.00 Cls=09(hub&nbsp; ) Sub=00 Prot=01 MxPS=64 #Cfgs=&nbsp; 1<br />P:&nbsp; Vendor=05e3 ProdID=0608 Rev=77.64<br />S:&nbsp; Product=USB2.0 Hub<br />C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=100mA<br />I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub&nbsp; ) Sub=00 Prot=00 Driver=hub<br />E:&nbsp; Ad=81(I) Atr=03(Int.) MxPS=&nbsp; &nbsp;1 Ivl=256ms</p><p>T:&nbsp; Bus=01 Lev=02 Prnt=02 Port=00 Cnt=01 Dev#=&nbsp; 3 Spd=480&nbsp; MxCh= 0<br />D:&nbsp; Ver= 2.00 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs=&nbsp; 1<br />P:&nbsp; Vendor=1bbb ProdID=f017 Rev= 0.00<br />S:&nbsp; Manufacturer=USBModem<br />S:&nbsp; Product=HSPA Data Card<br />S:&nbsp; SerialNumber=1234567890ABCDEF<br />C:* #Ifs= 1 Cfg#= 1 Atr=a0 MxPwr=500mA<br />I:* If#= 0 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=usbserial_generic<br />E:&nbsp; Ad=01(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms<br />E:&nbsp; Ad=81(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms</p><p>T:&nbsp; Bus=01 Lev=02 Prnt=02 Port=01 Cnt=02 Dev#=&nbsp; 4 Spd=480&nbsp; MxCh= 0<br />D:&nbsp; Ver= 2.10 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs=&nbsp; 1<br />P:&nbsp; Vendor=8564 ProdID=1000 Rev= a.00<br />S:&nbsp; Manufacturer=JetFlash<br />S:&nbsp; Product=Mass Storage Device<br />S:&nbsp; SerialNumber=1459733391<br />C:* #Ifs= 1 Cfg#= 1 Atr=80 MxPwr=500mA<br />I:* If#= 0 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=(none)<br />E:&nbsp; Ad=02(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms<br />E:&nbsp; Ad=81(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220801">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						24 Dec 2013, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Install OpenWRT&#039;s&nbsp; usbmode package which will switch your dongle from install mode (1bbb:f017) into modem mode (1bbb:0017).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220810">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Dec 2013, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>opkg update<br />opkg install usb-modeswitch-data</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220811">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						24 Dec 2013, 20:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>JonnyM wrote:</cite><blockquote><p>Install OpenWRT&#039;s&nbsp; usbmode package which will switch your dongle from install mode (1bbb:f017) into modem mode (1bbb:0017).</p></blockquote></div><p>This not fix.. </p><br /><div class="quotebox"><blockquote><p>cat /etc/usb_modeswitch.d/1bbb:f017<br /># Alcatel OT X220L</p><p>TargetVendor=&nbsp; 0x1bbb<br />TargetProduct= 0x0017</p><p>MessageContent=&quot;55534243123456788000000080000606f5040252700000000000000000</p></blockquote></div><div class="quotebox"><blockquote><p>gcom info -d /dev/ttyUSB0<br />##### Wireless WAN Modem Configuration #####<br />Can&#039;t open device /dev/ttyUSB0.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220812">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Dec 2013, 20:11					</div>
				</div>
				<div class="post-content content">
					<p>full kernel log since dongle connection could be useful.</p><p>also ls /dev/tty*</p><p>?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220813">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						24 Dec 2013, 20:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>ls /dev/tty*<br />/dev/tty&nbsp; &nbsp; &nbsp;/dev/ttyS10&nbsp; /dev/ttyS13&nbsp; /dev/ttyS2&nbsp; &nbsp;/dev/ttyS5&nbsp; &nbsp;/dev/ttyS8<br />/dev/ttyS0&nbsp; &nbsp;/dev/ttyS11&nbsp; /dev/ttyS14&nbsp; /dev/ttyS3&nbsp; &nbsp;/dev/ttyS6&nbsp; &nbsp;/dev/ttyS9<br />/dev/ttyS1&nbsp; &nbsp;/dev/ttyS12&nbsp; /dev/ttyS15&nbsp; /dev/ttyS4&nbsp; &nbsp;/dev/ttyS7</p></blockquote></div><p>edit1:<br />remove 1bbb:f017</p><p>ls /dev/tty*<br />/dev/tty&nbsp; &nbsp; &nbsp; /dev/ttyS11&nbsp; &nbsp;/dev/ttyS15&nbsp; &nbsp;/dev/ttyS5&nbsp; &nbsp; /dev/ttyS9<br />/dev/ttyS0&nbsp; &nbsp; /dev/ttyS12&nbsp; &nbsp;/dev/ttyS2&nbsp; &nbsp; /dev/ttyS6&nbsp; &nbsp; /dev/ttyUSB0<br />/dev/ttyS1&nbsp; &nbsp; /dev/ttyS13&nbsp; &nbsp;/dev/ttyS3&nbsp; &nbsp; /dev/ttyS7<br />/dev/ttyS10&nbsp; &nbsp;/dev/ttyS14&nbsp; &nbsp;/dev/ttyS4&nbsp; &nbsp; /dev/ttyS8</p>											<p class="post-edited">(Last edited by <strong>fityla</strong> on 24 Dec 2013, 20:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220821">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						25 Dec 2013, 02:42					</div>
				</div>
				<div class="post-content content">
					<p>If you are gonna use usb_modeswitch then it is not enough with installing only the data package containing the device config files - you must also install the usb_modeswitch executable program. <br />Alternatively install OpenWRT&#039;s own implementation of it which is called usbmode but I am not sure if usbmode is compatible with the old OpenWRT build you are using.<br />With a correctly installed modeswitch utility you should see with lsusb that your dongle has switched id to 1bbb:0017 and your dmesg log will show 5 ttyUSB devices created. <br />ttyUSB4 will be your modem device</p>											<p class="post-edited">(Last edited by <strong>JonnyM</strong> on 25 Dec 2013, 02:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220827">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Joanna88</div>
					<div class="post-datetime">
						25 Dec 2013, 07:19					</div>
				</div>
				<div class="post-content content">
					<p>you have got. Not to mention, we are at all times satisfied concerning the mind-blowing inspiring ideas served by you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220831">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						25 Dec 2013, 09:26					</div>
				</div>
				<div class="post-content content">
					<p>I using OpenWrt Attitude Adjustment 12.09 / LuCI 0.11.1 Release (0.11.1). I installed packeges:</p><br /><br /><div class="quotebox"><blockquote><p>base-files&nbsp; &nbsp; 117-r36088<br />busybox&nbsp; &nbsp; 1.19.4-6<br />chat&nbsp; &nbsp; 2.4.5-8<br />comgt&nbsp; &nbsp; 0.32-21<br />dnsmasq&nbsp; &nbsp; 2.62-2<br />dropbear&nbsp; &nbsp; 2011.54-2<br />firewall&nbsp; &nbsp; 2-55.1<br />hotplug2&nbsp; &nbsp; 1.0-beta-4<br />htop&nbsp; &nbsp; 1.0.1-1<br />iptables&nbsp; &nbsp; 1.4.10-4<br />iw&nbsp; &nbsp; 3.6.2001<br />jshn&nbsp; &nbsp; 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8<br />kernel&nbsp; &nbsp; 3.3.8-1-d6597ebf6203328d3519ea3c3371a493<br />kmod-ath&nbsp; &nbsp; 3.3.8+2012-09-07-3<br />kmod-ath9k&nbsp; &nbsp; 3.3.8+2012-09-07-3<br />kmod-ath9k-common&nbsp; &nbsp; 3.3.8+2012-09-07-3<br />kmod-cfg80211&nbsp; &nbsp; 3.3.8+2012-09-07-3<br />kmod-crypto-aes&nbsp; &nbsp; 3.3.8-1<br />kmod-crypto-arc4&nbsp; &nbsp; 3.3.8-1<br />kmod-crypto-core&nbsp; &nbsp; 3.3.8-1<br />kmod-gpio-button-hotplug&nbsp; &nbsp; 3.3.8-1<br />kmod-ipt-conntrack&nbsp; &nbsp; 3.3.8-1<br />kmod-ipt-core&nbsp; &nbsp; 3.3.8-1<br />kmod-ipt-nat&nbsp; &nbsp; 3.3.8-1<br />kmod-ipt-nathelper&nbsp; &nbsp; 3.3.8-1<br />kmod-leds-gpio&nbsp; &nbsp; 3.3.8-1<br />kmod-ledtrig-default-on&nbsp; &nbsp; 3.3.8-1<br />kmod-ledtrig-netdev&nbsp; &nbsp; 3.3.8-1<br />kmod-ledtrig-timer&nbsp; &nbsp; 3.3.8-1<br />kmod-ledtrig-usbdev&nbsp; &nbsp; 3.3.8-1<br />kmod-lib-crc-ccitt&nbsp; &nbsp; 3.3.8-1<br />kmod-mac80211&nbsp; &nbsp; 3.3.8+2012-09-07-3<br />kmod-nls-base&nbsp; &nbsp; 3.3.8-1<br />kmod-ppp&nbsp; &nbsp; 3.3.8-1<br />kmod-pppoe&nbsp; &nbsp; 3.3.8-1<br />kmod-pppox&nbsp; &nbsp; 3.3.8-1<br />kmod-scsi-core&nbsp; &nbsp; 3.3.8-1<br />kmod-scsi-generic&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-acm&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-core&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-ohci&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-serial&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-serial-option&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-serial-qualcomm&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-serial-wwan&nbsp; &nbsp; 3.3.8-1<br />kmod-usb-uhci&nbsp; &nbsp; 3.3.8-1<br />kmod-usb2&nbsp; &nbsp; 3.3.8-1<br />kmod-wdt-ath79&nbsp; &nbsp; 3.3.8-1<br />libblobmsg-json&nbsp; &nbsp; 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8<br />libc&nbsp; &nbsp; 0.9.33.2-1<br />libgcc&nbsp; &nbsp; 4.6-linaro-1<br />libip4tc&nbsp; &nbsp; 1.4.10-4<br />libiwinfo&nbsp; &nbsp; 36<br />libiwinfo-lua&nbsp; &nbsp; 36<br />libjson&nbsp; &nbsp; 0.9-2<br />liblua&nbsp; &nbsp; 5.1.4-8<br />libncurses&nbsp; &nbsp; 5.7.2005<br />libnl-tiny&nbsp; &nbsp; 0.1-3<br />libpthread&nbsp; &nbsp; 0.9.33.2-1<br />librt&nbsp; &nbsp; 0.9.33.2-1<br />libubox&nbsp; &nbsp; 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8<br />libubus&nbsp; &nbsp; 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50<br />libubus-lua&nbsp; &nbsp; 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50<br />libuci&nbsp; &nbsp; 2013-01-04.1-1<br />libuci-lua&nbsp; &nbsp; 2013-01-04.1-1<br />libusb&nbsp; &nbsp; 0.1.12-3<br />libusb-1.0&nbsp; &nbsp; 1.0.9-1<br />libxtables&nbsp; &nbsp; 1.4.10-4<br />lua&nbsp; &nbsp; 5.1.4-8<br />luci&nbsp; &nbsp; 0.11.1-1<br />luci-app-firewall&nbsp; &nbsp; 0.11.1-1<br />luci-i18n-english&nbsp; &nbsp; 0.11.1-1<br />luci-lib-core&nbsp; &nbsp; 0.11.1-1<br />luci-lib-ipkg&nbsp; &nbsp; 0.11.1-1<br />luci-lib-nixio&nbsp; &nbsp; 0.11.1-1<br />luci-lib-sys&nbsp; &nbsp; 0.11.1-1<br />luci-lib-web&nbsp; &nbsp; 0.11.1-1<br />luci-mod-admin-core&nbsp; &nbsp; 0.11.1-1<br />luci-mod-admin-full&nbsp; &nbsp; 0.11.1-1<br />luci-proto-3g&nbsp; &nbsp; 0.11.1-1<br />luci-proto-core&nbsp; &nbsp; 0.11.1-1<br />luci-proto-ppp&nbsp; &nbsp; 0.11.1-1<br />luci-sgi-cgi&nbsp; &nbsp; 0.11.1-1<br />luci-theme-base&nbsp; &nbsp; 0.11.1-1<br />luci-theme-openwrt&nbsp; &nbsp; 0.11.1-1<br />mtd&nbsp; &nbsp; 18.яну<br />nano&nbsp; &nbsp; 2.2.6-1<br />netifd&nbsp; &nbsp; 2013-01-29.2-4bb99d4eb462776336928392010b372236ac3c93<br />opkg&nbsp; &nbsp; 618-3<br />ppp&nbsp; &nbsp; 2.4.5-8<br />ppp-mod-pppoe&nbsp; &nbsp; 2.4.5-8<br />sdparm&nbsp; &nbsp; 1.4.2001<br />swconfig&nbsp; &nbsp; 10<br />terminfo&nbsp; &nbsp; 5.7.2005<br />uboot-envtools&nbsp; &nbsp; 2012.04.01-1<br />ubus&nbsp; &nbsp; 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50<br />ubusd&nbsp; &nbsp; 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50<br />uci&nbsp; &nbsp; 2013-01-04.1-1<br />uhttpd&nbsp; &nbsp; 2012-10-30-e57bf6d8bfa465a50eea2c30269acdfe751a46fd<br />usb-modeswitch&nbsp; &nbsp; 1.2.3-2<br />usb-modeswitch-data&nbsp; &nbsp; 20120120-1<br />usbutils&nbsp; &nbsp; 005-1<br />wpad-mini&nbsp; &nbsp; 20120910-1<br />zlib&nbsp; &nbsp; 1.2.7-1</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220839">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						25 Dec 2013, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>Try to switch it manually from the cmd line and keep an eye on the output from usb_modeswitch</p><p>usb_modeswitch -W -I -v 1bbb -p f017 -c /etc/usb_modeswitch.d/1bbb:f017</p><p>check with lsusb afterwards if the dongle switched to the new id, check dmesg for creation of the 5 ttyUSBx devices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220841">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						25 Dec 2013, 13:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>usb_modeswitch -W -I -v 1bbb -p f017 -c /etc/usb_modeswitch.d/<br />1bbb:f017</p><p>Reading config file: /etc/usb_modeswitch.d/1bbb:f017</p><p> * usb_modeswitch: handle USB devices with multiple modes<br /> * Version 1.2.3 (C) Josua Dietze 2012<br /> * Based on libusb0 (0.1.12 and above)</p><p> ! PLEASE REPORT NEW CONFIGURATIONS !</p><p>DefaultVendor=&nbsp; 0x1bbb<br />DefaultProduct= 0xf017<br />TargetVendor=&nbsp; &nbsp;0x1bbb<br />TargetProduct=&nbsp; 0x0017<br />TargetClass=&nbsp; &nbsp; not set<br />TargetProductList=&quot;&quot;</p><p>DetachStorageOnly=0<br />HuaweiMode=0<br />SierraMode=0<br />SonyMode=0<br />QisdaMode=0<br />GCTMode=0<br />KobilMode=0<br />SequansMode=0<br />MobileActionMode=0<br />CiscoMode=0<br />MessageEndpoint=&nbsp; not set<br />MessageContent=&quot;55534243123456788000000080000606f5040252700000000000000000&quot;<br />NeedResponse=0<br />ResponseEndpoint= not set</p><p>InquireDevice disabled<br />Success check disabled<br />System integration mode disabled</p><br /><p>usb_set_debug: Setting debugging level to 15 (on)<br />usb_os_find_busses: Found 001<br />usb_os_find_devices: Found 004 on 001<br />usb_os_find_devices: Found 003 on 001<br />usb_os_find_devices: Found 002 on 001<br />usb_os_find_devices: Found 001 on 001<br />error obtaining child information: Inappropriate ioctl for device<br />error obtaining child information: Inappropriate ioctl for device<br />Looking for target devices ...<br />&nbsp; searching devices, found USB ID 8564:1000<br />&nbsp; searching devices, found USB ID 1bbb:f017<br />&nbsp; &nbsp;found matching vendor ID<br />&nbsp; searching devices, found USB ID 05e3:0608<br />&nbsp; searching devices, found USB ID 1d6b:0002<br /> No devices in target mode or class found<br />Looking for default devices ...<br />&nbsp; searching devices, found USB ID 8564:1000<br />&nbsp; searching devices, found USB ID 1bbb:f017<br />&nbsp; &nbsp;found matching vendor ID<br />&nbsp; &nbsp;found matching product ID<br />&nbsp; &nbsp;adding device<br />&nbsp; searching devices, found USB ID 05e3:0608<br />&nbsp; searching devices, found USB ID 1d6b:0002<br /> Found device in default mode, class or configuration (1)<br />Accessing device 003 on bus 001 ...<br />Getting the current device configuration ...<br /> OK, got current device configuration (1)<br />Using first interface: 0x00<br />Using endpoints 0x01 (out) and 0x81 (in)</p><p>USB description data (for identification)<br />-------------------------<br />Manufacturer: USBModem<br />&nbsp; &nbsp; &nbsp;Product: HSPA Data Card<br />&nbsp; Serial No.: 1234567890ABCDEF<br />-------------------------<br />Looking for active driver ...<br />USB error: could not get bound driver: No data available<br /> No driver found. Either detached before or never attached<br />Setting up communication with interface 0<br />Using endpoint 0x01 for message sending ...<br />Trying to send message 1 to endpoint 0x01 ...<br /> Sending the message returned error -145. Trying to continue<br />Resetting response endpoint 0x81<br />Resetting message endpoint 0x01<br />-&gt; Run lsusb to note any changes. Bye.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220843">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">JonnyM</div>
					<div class="post-datetime">
						25 Dec 2013, 13:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>usb_modeswitch wrote:</cite><blockquote><p> <br />-&gt; Run lsusb to note any changes. Bye.</p></blockquote></div><p>Well?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220856">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						25 Dec 2013, 16:15					</div>
				</div>
				<div class="post-content content">
					<p>Not working.. What I doing and working this modem ..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221072">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						28 Dec 2013, 18:17					</div>
				</div>
				<div class="post-content content">
					<p>Where is problem? How to fix and work this modem on this board...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221972">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">fityla</div>
					<div class="post-datetime">
						7 Jan 2014, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>Thanks !</p><p>Problem is fix...</p><p>1) vi /etc/usb_modeswitch.d/1bbb:f017</p><p># Alcatel OT-X220D, L100V</p><p>TargetVendor=&nbsp; 0x1bbb<br />TargetProductList=&quot;0017,011e&quot;</p><p>MessageContent=&quot;55534243123456788000000080000606f50402527000000000000000000000&quot;</p><p>2) cat &gt; /etc/rc.local<br />echo &quot;1bbb 0017&quot; &gt; /sys/bus/usb-serial/drivers/option1/new_id</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>