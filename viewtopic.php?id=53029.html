<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Solved]TP-LINK TL-wr720n v4 can&#039;t recognize usb devices</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p248658">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">fictid</div>
					<div class="post-datetime">
						1 Oct 2014, 15:38					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I&#039;m new here.<br />I just bought the TL-wr720n v4 and installed Openwrt(the trunk version for v3) on it.<br />Everything went OK expect that it can&#039;t recognize my all my u-disks.<br />I can&#039;t find &quot;sda&quot; under /dev, though I have installed kmod-usb-storage, block-mount and have tried installing all the relevant utilities, and I have formated my u-disks to ext4/ext3.<br />when I installed &quot;block-mount&quot; it said &quot;the file has been obseleted, please call &#039;sbin/block mount&#039; directly&quot;.<br />and mount: can&#039;t read &#039;/etc/fstab&#039;: No such file or directory.</p><p>Thanks to gamba47, tmo26. The problem solved.<br />There is a switch (AP mode, router mode, 3G mode) on the router. Finally I noticed that and switched to 3G mode, and then my u-disks were recognized.</p>											<p class="post-edited">(Last edited by <strong>fictid</strong> on 2 Oct 2014, 05:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248672">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gamba47</div>
					<div class="post-datetime">
						1 Oct 2014, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>Please,</p><p>execute this command and then insert your device</p><div class="quotebox"><blockquote><p>logread -f</p></blockquote></div><p>In another window execute this too and show the results</p><div class="quotebox"><blockquote><p>dmesg</p></blockquote></div><br /><p>Best regards.<br />gamba47</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248683">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">fictid</div>
					<div class="post-datetime">
						1 Oct 2014, 17:58					</div>
				</div>
				<div class="post-content content">
					<p>[&nbsp; &nbsp; 0.000000] Linux version 3.10.49 (openwrt@gb-13) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42701) ) #1 Tue Sep 30 21:55:59 UTC 2014<br />[&nbsp; &nbsp; 0.000000] MyLoader: sysp=3dd7cb87, boardp=f0717c55, parts=4852ecbe<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9330 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 8192<br />[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 80334b60, node_mem_map 81000000<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 64 pages used for memmap<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 8192 pages, LIFO batch:0<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: [0] 0<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=TL-WR720N-v3 console=ttyATH0,115200 rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 28588k/32768k available (2373k kernel code, 4180k reserved, 617k data, 272k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.080000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is TP-LINK TL-WR720N v3<br />[&nbsp; &nbsp; 0.550000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.560000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.570000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.570000] TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.570000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />[&nbsp; &nbsp; 0.570000] TCP: Hash tables configured (established 512 bind 512)<br />[&nbsp; &nbsp; 0.580000] TCP: reno registered<br />[&nbsp; &nbsp; 0.580000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.590000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.600000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.600000] PCI: CLS 0 bytes, default 32<br />[&nbsp; &nbsp; 0.620000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.630000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.640000] msgmni has been set to 55<br />[&nbsp; &nbsp; 0.640000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.640000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.650000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled<br />[&nbsp; &nbsp; 0.660000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART<br />[&nbsp; &nbsp; 0.670000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.680000] ath79-spi ath79-spi: master is unqueued, this is deprecated<br />[&nbsp; &nbsp; 0.690000] m25p80 spi0.0: found s25sl032p, expected m25p80<br />[&nbsp; &nbsp; 0.690000] m25p80 spi0.0: s25sl032p (4096 Kbytes)<br />[&nbsp; &nbsp; 0.700000] 5 tp-link partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.700000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.710000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.720000] 0x000000020000-0x00000012ecc4 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.720000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.730000] 0x00000012ecc4-0x0000003f0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.740000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />[&nbsp; &nbsp; 0.750000] mtd: device 2 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 0.760000] 1 squashfs-split partitions found on MTD device rootfs<br />[&nbsp; &nbsp; 0.760000] 0x000000310000-0x0000003f0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.770000] 0x0000003f0000-0x000000400000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.770000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.800000] libphy: ag71xx_mdio: probed<br />[&nbsp; &nbsp; 1.350000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]<br />[&nbsp; &nbsp; 1.360000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII<br />[&nbsp; &nbsp; 1.910000] ag71xx-mdio.1: Found an AR7240/AR9330 built-in switch<br />[&nbsp; &nbsp; 2.950000] eth1: Atheros AG71xx at 0xba000000, irq 5, mode:GMII<br />[&nbsp; &nbsp; 2.950000] TCP: cubic registered<br />[&nbsp; &nbsp; 2.960000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 2.960000] Bridge firewalling registered<br />[&nbsp; &nbsp; 2.960000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 2.980000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 2.990000] Freeing unused kernel memory: 272K (8034c000 - 80390000)<br />[&nbsp; &nbsp; 5.700000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp; 5.700000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp; 5.710000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp; 5.720000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp; 5.720000] ehci-platform: EHCI generic platform driver<br />[&nbsp; &nbsp; 5.730000] ehci-platform ehci-platform: EHCI Host Controller<br />[&nbsp; &nbsp; 5.730000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1<br />[&nbsp; &nbsp; 5.740000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000<br />[&nbsp; &nbsp; 5.770000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00<br />[&nbsp; &nbsp; 5.770000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp; 5.770000] hub 1-0:1.0: 1 port detected<br />[&nbsp; &nbsp; 5.780000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp;10.650000] jffs2: notice: (329) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 12 of xref (0 dead, 0 orphan) found.<br />[&nbsp; &nbsp;11.440000] SCSI subsystem initialized<br />[&nbsp; &nbsp;11.460000] usbcore: registered new interface driver usb-storage<br />[&nbsp; &nbsp;13.690000] NET: Registered protocol family 10<br />[&nbsp; &nbsp;13.700000] ip6_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;13.720000] Loading modules backported from Linux version master-2014-09-26-0-g25e3efa<br />[&nbsp; &nbsp;13.730000] Backport generated by backports.git backports-20140905-1-gde42785<br />[&nbsp; &nbsp;13.740000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;13.760000] nf_conntrack version 0.5.0 (450 buckets, 1800 max)<br />[&nbsp; &nbsp;13.790000] usbcore: registered new interface driver ums-alauda<br />[&nbsp; &nbsp;13.800000] usbcore: registered new interface driver ums-cypress<br />[&nbsp; &nbsp;13.800000] usbcore: registered new interface driver ums-datafab<br />[&nbsp; &nbsp;13.820000] usbcore: registered new interface driver ums-freecom<br />[&nbsp; &nbsp;13.830000] usbcore: registered new interface driver ums-isd200<br />[&nbsp; &nbsp;13.840000] usbcore: registered new interface driver ums-jumpshot<br />[&nbsp; &nbsp;13.850000] usbcore: registered new interface driver ums-karma<br />[&nbsp; &nbsp;13.850000] usbcore: registered new interface driver ums-sddr09<br />[&nbsp; &nbsp;13.860000] usbcore: registered new interface driver ums-sddr55<br />[&nbsp; &nbsp;13.870000] usbcore: registered new interface driver ums-usbat<br />[&nbsp; &nbsp;13.900000] xt_time: kernel timezone is -0000<br />[&nbsp; &nbsp;13.940000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;13.940000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;13.950000] cfg80211:&nbsp; DFS Master region: unset<br />[&nbsp; &nbsp;13.950000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br />[&nbsp; &nbsp;13.960000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;13.970000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;13.980000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;13.980000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;13.990000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)<br />[&nbsp; &nbsp;14.000000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)<br />[&nbsp; &nbsp;14.010000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;14.020000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)<br />[&nbsp; &nbsp;14.110000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;14.110000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;14.180000] ath: EEPROM regdomain: 0x0<br />[&nbsp; &nbsp;14.180000] ath: EEPROM indicates default country code should be used<br />[&nbsp; &nbsp;14.180000] ath: doing EEPROM country-&gt;regdmn map search<br />[&nbsp; &nbsp;14.180000] ath: country maps to regdmn code: 0x3a<br />[&nbsp; &nbsp;14.180000] ath: Country alpha2 being used: US<br />[&nbsp; &nbsp;14.180000] ath: Regpair used: 0x3a<br />[&nbsp; &nbsp;14.190000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />[&nbsp; &nbsp;14.200000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp;14.210000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp;14.210000] cfg80211:&nbsp; DFS Master region: FCC<br />[&nbsp; &nbsp;14.210000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br />[&nbsp; &nbsp;14.220000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)<br />[&nbsp; &nbsp;14.230000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 1700 mBm), (N/A)<br />[&nbsp; &nbsp;14.240000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz), (N/A, 2300 mBm), (0 s)<br />[&nbsp; &nbsp;14.250000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)<br />[&nbsp; &nbsp;14.260000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)<br />[&nbsp; &nbsp;14.260000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2<br />[&nbsp; &nbsp;23.950000] IPv6: ADDRCONF(NETDEV_UP): eth1: link is not ready<br />[&nbsp; &nbsp;23.950000] device eth1 entered promiscuous mode<br />[&nbsp; &nbsp;23.960000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready<br />[&nbsp; &nbsp;24.000000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready<br />[&nbsp; &nbsp;24.000000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;24.010000] br-wan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;24.010000] br-wan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;25.000000] br-wan: port 1(eth0) entered disabled state<br />[&nbsp; &nbsp;26.150000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready<br />[&nbsp; &nbsp;26.170000] device wlan0 entered promiscuous mode<br />[&nbsp; &nbsp;26.200000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;26.200000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;26.200000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready<br />[&nbsp; &nbsp;26.210000] IPv6: ADDRCONF(NETDEV_CHANGE): br-lan: link becomes ready<br />[&nbsp; &nbsp;26.640000] eth0: link up (100Mbps/Full duplex)<br />[&nbsp; &nbsp;26.640000] br-wan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;26.650000] br-wan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;26.650000] br-wan: received packet on eth0 with own address as source address<br />[&nbsp; &nbsp;26.660000] br-wan: received packet on eth0 with own address as source address<br />[&nbsp; &nbsp;26.660000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready<br />[&nbsp; &nbsp;28.200000] br-lan: port 2(wlan0) entered forwarding state<br />[&nbsp; &nbsp;28.650000] br-wan: port 1(eth0) entered forwarding state</p><p>Thanks, Not sure whether I did it right, here it is.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248686">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fictid</div>
					<div class="post-datetime">
						1 Oct 2014, 18:07					</div>
				</div>
				<div class="post-content content">
					<p>it seems that nothing changed in the log after I inserted my usb device though.<br />Btw, when I installed &#039;block-mount&#039;, It showed as follow:</p><p>root@OpenWrt:~# opkg install block-mount<br />Installing block-mount (2014-06-22-e0430f5c62f367e5a8e02755412977b02c3fc45e) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/base/block-mount_2014-06-22-e0430f5c62f367e5a8e02755412977b02c3fc45e_ar71xx.ipk.">http://downloads.openwrt.org/snapshots/ … r71xx.ipk.</a><br />Configuring block-mount.<br />this file has been obseleted. please call &quot;/sbin/block mount&quot; directly<br />block: extroot: failed to load /etc/config/fstab: Entry not found</p>											<p class="post-edited">(Last edited by <strong>fictid</strong> on 1 Oct 2014, 18:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248699">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						1 Oct 2014, 19:17					</div>
				</div>
				<div class="post-content content">
					<p>Post the output of</p><div class="codebox"><pre><code>opkg list-installed kmod-fs*
opkg list-installed kmod-scsi*
opkg list-installed kmod-usb*</code></pre></div><p>Have you followed <a href="http://wiki.openwrt.org/doc/howto/usb.storage">http://wiki.openwrt.org/doc/howto/usb.storage</a> ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251900">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">gently</div>
					<div class="post-datetime">
						24 Oct 2014, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>I ran into the same issue with NEXX WT1520:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# opkg list-installed kmod-fs*
kmod-fs-ext4 - 3.14.18-1
root@OpenWrt:~# opkg list-installed kmod-scsi*
kmod-scsi-core - 3.14.18-1
root@OpenWrt:~# opkg list-installed kmod-usb*
kmod-usb-core - 3.14.18-1
kmod-usb-dwc2 - 3.14.18-1
kmod-usb-storage - 3.14.18-1</code></pre></div><p>funny thing is that I did 50 times the same with tp-links extroot-ing to usb sticks</p><p>logread -f displays nothing when I plug/unplug the stick</p><br /><div class="codebox"><pre><code>root@OpenWrt:~# dmesg
[    0.000000] Linux version 3.14.18 (openwrt@gb-13) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r43032) ) #1 Thu Oct 23 14:27:17 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is Nexx WT1520
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 802de5c0, node_mem_map 81003bc0
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS1,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=0000d010
[    0.000000] Readback ErrCtl register=0000d010
[    0.000000] Memory: 29028K/32768K available (2428K kernel code, 123K rwdata, 472K rodata, 168K init, 183K bss, 3740K reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] systick: running - mult: 214748, shift: 32
[    0.000000] genirq: Flags mismatch irq 7. 00014600 (timer) vs. 00014600 (systick)
[    0.010000] Calibrating delay loop... 479.23 BogoMIPS (lpj=2396160)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.080000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.090000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.100000] rt2880-pinmux pinctrl.1: try to register 28 pins ...
[    0.100000] pinctrl core: registered pin 0 (io0) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 1 (io1) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 2 (io2) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 3 (io3) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 4 (io4) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 5 (io5) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 6 (io6) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 7 (io7) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 8 (io8) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 9 (io9) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 10 (io10) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 11 (io11) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 12 (io12) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 13 (io13) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 14 (io14) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 15 (io15) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 16 (io16) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 17 (io17) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 18 (io18) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 19 (io19) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 20 (io20) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 21 (io21) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 22 (io22) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 23 (io23) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 24 (io24) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 25 (io25) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 26 (io26) on rt2880-pinmux
[    0.100000] pinctrl core: registered pin 27 (io27) on rt2880-pinmux
[    0.100000] pinctrl core: add 1 pinmux maps
[    0.100000] rt2880-pinmux pinctrl.1: found group selector 4 for jtag
[    0.100000] rt2880-pinmux pinctrl.1: request pin 17 (io17) for pinctrl.1
[    0.100000] rt2880-pinmux pinctrl.1: request pin 18 (io18) for pinctrl.1
[    0.100000] rt2880-pinmux pinctrl.1: request pin 19 (io19) for pinctrl.1
[    0.100000] rt2880-pinmux pinctrl.1: request pin 20 (io20) for pinctrl.1
[    0.100000] rt2880-pinmux pinctrl.1: request pin 21 (io21) for pinctrl.1
[    0.100000] rt2880-pinmux pinctrl.1: failed to lookup the sleep state
[    0.120000] bio: create slab &lt;bio-0&gt; at 0
[    0.120000] rt2880_gpio 10000600.gpio: registering 22 gpios
[    0.130000] rt2880_gpio 10000600.gpio: registering 22 irq handlers
[    0.140000] Switched to clocksource systick
[    0.140000] NET: Registered protocol family 2
[    0.160000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.180000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.180000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.200000] TCP: reno registered
[    0.210000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.210000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.230000] NET: Registered protocol family 1
[    0.240000] rt-timer 10000100.timer: maximum frequency is 7324Hz
[    0.260000] alarmtimer alarmtimer: no of_node; not parsing pinctrl DT
[    0.260000] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.320000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.320000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.350000] msgmni has been set to 56
[    0.350000] io scheduler noop registered
[    0.370000] io scheduler deadline registered (default)
[    0.370000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.400000] serial8250 serial8250: no of_node; not parsing pinctrl DT
[    0.400000] pinctrl core: add 1 pinmux maps
[    0.400000] rt2880-pinmux pinctrl.1: found group selector 2 for uartf
[    0.400000] rt2880-pinmux pinctrl.1: request pin 7 (io7) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 8 (io8) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 9 (io9) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 10 (io10) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 11 (io11) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 12 (io12) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 13 (io13) for 10000500.uart
[    0.400000] rt2880-pinmux pinctrl.1: request pin 14 (io14) for 10000500.uart
[    0.400000] 10000500.uart: ttyS0 at MMIO 0x10000500 (irq = 13, base_baud = 2500000) is a 16550A
[    0.430000] pinctrl core: add 1 pinmux maps
[    0.430000] rt2880-pinmux pinctrl.1: found group selector 3 for uartlite
[    0.430000] rt2880-pinmux pinctrl.1: request pin 15 (io15) for 10000c00.uartlite
[    0.430000] rt2880-pinmux pinctrl.1: request pin 16 (io16) for 10000c00.uartlite
[    0.430000] 10000c00.uartlite: ttyS1 at MMIO 0x10000c00 (irq = 20, base_baud = 2500000) is a 16550A
[    0.450000] console [ttyS1] enabled
[    0.460000] bootconsole [early0] disabled
[    0.480000] pinctrl core: add 1 pinmux maps
[    0.480000] pinctrl core: add 1 pinmux maps
[    0.480000] rt2880-pinmux pinctrl.1: found group selector 1 for spi
[    0.480000] rt2880-pinmux pinctrl.1: found group selector 6 for spi_cs1
[    0.480000] rt2880-pinmux pinctrl.1: request pin 3 (io3) for 10000b00.spi
[    0.480000] rt2880-pinmux pinctrl.1: request pin 4 (io4) for 10000b00.spi
[    0.480000] rt2880-pinmux pinctrl.1: request pin 5 (io5) for 10000b00.spi
[    0.480000] rt2880-pinmux pinctrl.1: request pin 6 (io6) for 10000b00.spi
[    0.480000] rt2880-pinmux pinctrl.1: request pin 27 (io27) for 10000b00.spi
[    0.480000] m25p80 spi32766.0: w25q32 (4096 Kbytes)
[    0.500000] 4 ofpart partitions found on MTD device spi32766.0
[    0.510000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.520000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.530000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.550000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.560000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.580000] 0x00000015e2d7-0x000000400000 : &quot;rootfs&quot;
[    0.580000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.620000] mtd: device 4 (rootfs) set to be root filesystem
[    0.620000] 1 squashfs-split partitions found on MTD device rootfs
[    0.640000] 0x000000330000-0x000000400000 : &quot;rootfs_data&quot;
[    0.660000] eth0: done loading
[    0.680000] rt3xxx-usbphy usbphy.3: loaded
[    0.680000] rt2880_wdt 10000120.watchdog: Initialized
[    0.700000] TCP: cubic registered
[    0.700000] NET: Registered protocol family 17
[    0.710000] Bridge firewalling registered
[    0.720000] 8021q: 802.1Q VLAN Support v1.8
[    0.750000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.770000] Freeing unused kernel memory: 168K (802f6000 - 80320000)
[    6.090000] usbcore: registered new interface driver usbfs
[    6.420000] usbcore: registered new interface driver hub
[    6.430000] usbcore: registered new device driver usb
[    7.250000] rt305x-esw 10110000.esw: link changed 0x00
[    7.390000] random: mktemp urandom read with 63 bits of entropy available
[    8.700000] rt305x-esw 10110000.esw: link changed 0x01
[   11.160000] jffs2: notice: (296) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 7 of xref (0 dead, 2 orphan) found.
[   13.500000] SCSI subsystem initialized
[   13.530000] usbcore: registered new interface driver usb-storage
[   14.280000] random: nonblocking pool is initialized
[   17.860000] NET: Registered protocol family 10
[   17.870000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   17.870000] Loading modules backported from Linux version master-2014-10-08-0-g0275925
[   17.870000] Backport generated by backports.git backports-20140905-1-gde42785
[   17.870000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   17.870000] nf_conntrack version 0.5.0 (456 buckets, 1824 max)
[   17.870000] xt_time: kernel timezone is -0000
[   17.870000] cfg80211: Calling CRDA to update world regulatory domain
[   17.870000] cfg80211: World regulatory domain updated:
[   17.870000] cfg80211:  DFS Master region: unset
[   17.870000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   18.190000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   18.200000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   18.220000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   18.240000] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   18.240000] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   18.270000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   18.280000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   18.300000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   18.400000] PPP generic driver version 2.4.2
[   18.420000] NET: Registered protocol family 24
[   18.480000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   18.500000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
[   18.520000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   23.120000] rt305x-esw 10110000.esw: link changed 0x00
[   24.760000] rt305x-esw 10110000.esw: link changed 0x01
[   29.610000] device eth0.1 entered promiscuous mode
[   29.610000] device eth0 entered promiscuous mode
[   29.650000] br-lan: port 1(eth0.1) entered forwarding state
[   29.660000] br-lan: port 1(eth0.1) entered forwarding state
[   31.660000] br-lan: port 1(eth0.1) entered forwarding state
[   33.080000] IPv6: ADDRCONF(NETDEV_UP): wlan0-1: link is not ready
[   33.120000] device wlan0-1 entered promiscuous mode
[   33.570000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   35.730000] wlan0: authenticate with 64:a0:e7:29:53:e1
[   35.770000] wlan0: send auth to 64:a0:e7:29:53:e1 (try 1/3)
[   35.770000] wlan0: authenticated
[   35.790000] rt2800_wmac 10180000.wmac wlan0: disabling HT as WMM/QoS is not supported by the AP
[   35.810000] rt2800_wmac 10180000.wmac wlan0: disabling VHT as WMM/QoS is not supported by the AP
[   35.840000] wlan0: associate with 64:a0:e7:29:53:e1 (try 1/3)
[   35.860000] wlan0: RX AssocResp from 64:a0:e7:29:53:e1 (capab=0x431 status=0 aid=19)
[   35.880000] wlan0: associated
[   35.880000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[   35.910000] wlan0: Limiting TX power to 17 dBm as advertised by 64:a0:e7:29:53:e1
[   35.930000] br-lan: port 2(wlan0-1) entered forwarding state
[   35.950000] br-lan: port 2(wlan0-1) entered forwarding state
[   35.950000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0-1: link becomes ready
[   37.950000] br-lan: port 2(wlan0-1) entered forwarding state
[  164.060000] wlan0: Limiting TX power to 14 dBm as advertised by 64:a0:e7:29:53:e1
[  494.230000] wlan0: Limiting TX power to 17 dBm as advertised by 64:a0:e7:29:53:e1
[  772.850000] wlan0: Limiting TX power to 14 dBm as advertised by 64:a0:e7:29:53:e1</code></pre></div>											<p class="post-edited">(Last edited by <strong>gently</strong> on 24 Oct 2014, 13:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251944">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						24 Oct 2014, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>In addition to yours, I have installed kmod-usb2. Give it a try.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254190">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">gently</div>
					<div class="post-datetime">
						13 Nov 2014, 16:02					</div>
				</div>
				<div class="post-content content">
					<p>thanks, that worked!</p>											<p class="post-edited">(Last edited by <strong>gently</strong> on 13 Nov 2014, 16:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254318">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">loyukfai</div>
					<div class="post-datetime">
						14 Nov 2014, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>Kind of off-topic, but here is a patch for the v4 version...</p><p><a href="http://home.ustc.edu.cn/~yousong/openwrt/0001-ar71xx-add-support-for-TL-WR720N-v4.patch">http://home.ustc.edu.cn/~yousong/openwr … N-v4.patch</a></p><p>Could someone merge it into the official OpenWrt trunk?</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p258417">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mtotheathe</div>
					<div class="post-datetime">
						22 Dec 2014, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>@ loyukfai<br />I would also love to see that, can anyone help us with that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p258422">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						22 Dec 2014, 16:04					</div>
				</div>
				<div class="post-content content">
					<p>To get this into trunk: <br /><a href="https://dev.openwrt.org/wiki/SubmittingPatches">https://dev.openwrt.org/wiki/SubmittingPatches</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>