<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bricked TP Link wr340g</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p225308">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">timiog</div>
					<div class="post-datetime">
						14 Feb 2014, 14:54					</div>
				</div>
				<div class="post-content content">
					<p>I bricked my router yesterday and wanted to know if anyone of you knows the pins in the router board to connect the serial cable and reinstal the firmware.Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225318">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">firesam</div>
					<div class="post-datetime">
						14 Feb 2014, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>Here is your router: <a href="http://i40.tinypic.com/bezhj.jpg">http://i40.tinypic.com/bezhj.jpg</a> I think. The four pins in a white box on the top left corner near the black rectangles right under the reset button are the serial pins (note: in the picture there are header pins soldered on already.)&nbsp; This is probably 1 - TX, 2 - RX, 3 - GND, 4 - VCC. pin 1 is the one with a square around it. this is not you router but the same idea: <span class="postimg"><img src="http://wiki.openwrt.org/_media/toh/tp-link/serialcon.jpg" alt="http://wiki.openwrt.org/_media/toh/tp-link/serialcon.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225324">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">timiog</div>
					<div class="post-datetime">
						14 Feb 2014, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>Firesam,thank you for your answer.Actualy my router is this&nbsp; <a href="http://tinypic.com/r/r1fnzp/8">http://tinypic.com/r/r1fnzp/8</a>&nbsp; and maybe the pins are in the red box that I made.</p>											<p class="post-edited">(Last edited by <strong>timiog</strong> on 14 Feb 2014, 18:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225333">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						14 Feb 2014, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>The pins are in the red box, and the pinout seems to be the same (maybe Tx and Rx are switched, but that doesn&#039;t hurt).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225334">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						14 Feb 2014, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>remember not to use vcc if you are using a self-powered serial interface.<br />router takes its power from its ac adapter.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225370">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">timiog</div>
					<div class="post-datetime">
						15 Feb 2014, 09:23					</div>
				</div>
				<div class="post-content content">
					<p>Thank you both,do you know which is the best and simplest cable that I can make myself to use it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225371">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						15 Feb 2014, 09:28					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/hardware/port.serial#prebuilt.cables">http://wiki.openwrt.org/doc/hardware/po … ilt.cables</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225372">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">timiog</div>
					<div class="post-datetime">
						15 Feb 2014, 09:32					</div>
				</div>
				<div class="post-content content">
					<p>Thank you nebbia,thank you all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225703">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Experimentator</div>
					<div class="post-datetime">
						18 Feb 2014, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>Any result ? Seems that bootloader is locked with password. Any info about your unbricking ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226737">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mexus</div>
					<div class="post-datetime">
						3 Mar 2014, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>The marked with red should be your serial. You need a multimeter. First find the ground pin. Then find the VCC pin - you should get 3.3V/5V (not sure). The other two pins are the RX and TX.<br />You can use any 3.3V TTL cable (I use Nokia CA42 cable - i soldered pins on it). You can solder pins to your router and use jumper cables to connect to the TTL adapter. You can find cheap 3.3V TTL adapters on ebay@~$2. They have pin header <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>For other routers I have put 3.5mm stereo female jack and have soldered the male another CA42 cable.<br />CA42 uses PL2303 chips.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248417">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">crazyquark</div>
					<div class="post-datetime">
						29 Sep 2014, 08:47					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>Have you managed to get this working? I get nothing on the serial console.<br />Also the pins are marked J1 and not JS1. Maybe this is not a serial interface. The VCC and GND ports seem to be working. I get 3.3V on them.</p><p>I have the WR340G v4.<br />And I am using this serial cable: <a href="https://www.adafruit.com/products/954">https://www.adafruit.com/products/954</a></p>											<p class="post-edited">(Last edited by <strong>crazyquark</strong> on 29 Sep 2014, 09:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248633">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">crazyquark</div>
					<div class="post-datetime">
						1 Oct 2014, 10:14					</div>
				</div>
				<div class="post-content content">
					<p>OK, I have figured out.</p><p>I&#039;ll post this info here in case anyone needs it.<br />The wr340g (v4 here) has the same pin layout as the wr741N.<br />The serial console is activated by running a wire from the TX pin to the pin on the Atheros chip.<br />The info is here: <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#opening.the.case">http://wiki.openwrt.org/toh/tp-link/tl- … g.the.case</a><br />Specifically, look for the v4 info.</p><p>And this is the wire you have to solder on the back of the PCB: <a href="http://wiki.openwrt.org/_detail/toh/tp-link/tl-wr741nd-v4-serial-fix.jpg?id=toh%3Atp-link%3Atl-wr741nd">http://wiki.openwrt.org/_detail/toh/tp- … tl-wr741nd</a></p><p>The serial console is not password protected. You get a limited list of commands that seem useful enough.<br />At the beginning you will get a chance to hit ctrl-c and ask the bootloader to load a different image(via TFTP I think).</p><p>I got my info from this russian forum: <a href="http://www.lan23.ru/forum/showthread.php?t=8630">http://www.lan23.ru/forum/showthread.php?t=8630</a></p>											<p class="post-edited">(Last edited by <strong>crazyquark</strong> on 1 Oct 2014, 10:15)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>