<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to quickly compile an simple C file for Edimax BR-6104KP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p105355">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">prioryjim</div>
					<div class="post-datetime">
						27 Mar 2010, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>Hello<br />I am tinkering and attempting to get my webcam to work with Openwrt on a Omnima Edimax BR-6104KP.</p><p>In a previous post <br />&nbsp; <a href="https://forum.openwrt.org/viewtopic.php?id=23720">https://forum.openwrt.org/viewtopic.php?id=23720</a><br />I managed to get Debian on my PC under virtual box and then compile the latest openwrt from source.</p><p>Eventually I managed to flash the router with the newly built kernel and also copy the system to USB stick.<br />After a bit of config things worked OK.</p><p>I wanted to compile my own little test program and found </p><p><a href="http://developer.ubicom.com/wiki/index.php/Add_a_new_application_to_openWRT">http://developer.ubicom.com/wiki/index. â€¦ to_openWRT</a></p><p>This worked OK but seemed to re-build half the openwrt code and took a long time.</p><p>Eventually found the cross compiler and using </p><p>PATH=/home/jiml/8.09.2/staging_dir/toolchain-mipsel_gcc4.1.2/bin:$PATH<br />export PATH<br />mipsel-linux-gcc v4lgrab.c -o v4lgrab</p><p>compiled v4lgrab OK.</p><p>Hope this is of help ..</p><p>Note: I think there are problems with v4lgrab at line </p><p> read(fd, buffer, win.width * win.height * bpp);</p><p>It does one read and expects all the buffer back at one go.<br />On a fast PC this might occur but on slow PCs etc the driver might only return part of the buffer. You need to check the size returned and go for another bite or as many bites as it takes to get it all back.</p><p>Jim</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>