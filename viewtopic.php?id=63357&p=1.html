<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kingston Mobilelite G3 (MLWG3)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 25 Apr 2018 and 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=63357&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p314752">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						14 Mar 2016, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>New Thread for MLWG3</p><p>What I know so far:<br /><a href="https://github.com/H-LK/MLWG3">https://github.com/H-LK/MLWG3</a></p><p>- The MLWG3 uses the MT7628<br />- Same partition layout<br />- New U-Boot, Supports USB and Fat32<br />- Hard to open. PCB is glued. 2 screws (torx) behind the back label.<br />- Serial is working @ 57600 (baudrate)<br />- Telnet works with firmware update trick</p>											<p class="post-edited">(Last edited by <strong>HLK</strong> on 17 Mar 2016, 10:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314840">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						15 Mar 2016, 02:19					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;ve tried to connect to it using telnet: I made an empty file, named it&nbsp; mlwG3_v;telnetd; .x.x.bin , put it on an empty SD card and started up the device. The two blue leds are blinking for a minute or so, then both of them go out, only the green one (battery) stays. Next I connected the device using a LAN wire to my laptop, started cmd and tried &#039;telnet 192.168.202.254&#039;, but it didn&#039;t worked, it said that &#039;Could not connect to the device using port 23.&#039;</p><p>What am I doing wrong? </p><p>Also, is there a way controlling the LEDs?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314846">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						15 Mar 2016, 03:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zolti wrote:</cite><blockquote><p>Ok, I&#039;ve tried to connect to it using telnet: I made an empty file, named it&nbsp; mlwG3_v;telnetd; .x.x.bin , put it on an empty SD card and started up the device. The two blue leds are blinking for a minute or so, then both of them go out, only the green one (battery) stays. Next I connected the device using a LAN wire to my laptop, started cmd and tried &#039;telnet 192.168.202.254&#039;, but it didn&#039;t worked, it said that &#039;Could not connect to the device using port 23.&#039;</p><p>What am I doing wrong? </p><p>Also, is there a way controlling the LEDs?</p></blockquote></div><p>Hard to say what is wrong. <br />Solution 1:<br />Connect your MLWG3 to your Router via Ethernet. Get the MLWG3 IP from the Router Admin Panel. Try to telnet to this address.</p><p>Solution 2:<br />Connect to the MLWG3 Wifi and try telnet 192.168.201.254</p><br /><p>You can control two LEDs. I will post the command tomorrow.</p>											<p class="post-edited">(Last edited by <strong>HLK</strong> on 15 Mar 2016, 03:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314900">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						15 Mar 2016, 11:41					</div>
				</div>
				<div class="post-content content">
					<p>Well that&#039;s the problem, with the empty SD card in it containing the file, the wireless network doesn&#039;t works at all. If I take the card out while powered, nothing happens, only if I restart the device. Then it comes back to normal.</p><p>Ok, back with more details. I have tried everything so far from changing the memory cards to writhing something into the file to have a bigger size then 0 B. It doesn&#039;t matter if I have the device connected using the Ethernet port to the laptop or not, if the memory card with the file, is in the device when I power it, the two leds are blinking for a short period, then both are dead. So I don&#039;t have access to the device (wireless nor wired).</p><p>Then I changed the files name from &#039;mlwG3_v;telnetd; .x.x.bin&#039; into &#039;mlwG3_v;telnetd;.x.x.bin&#039; (deleted the only white space in the file&#039;s name) and the device was constantly restarting or at least it seamed to do this, because the wireless appeared and dissapeard. The first Led was blinking, the second light came on and after a few seconds both turned of. Again after a few seconds the whole process started from the beginning.</p><p>I don&#039;t know what to to next, maybe mine has different Firmware on it than yours and this leakage was resolved by Kingston. </p><p>MLW Information</p><p>Firmware&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.0.0.12_EU<br />Model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MobileLite G3</p><p>On the back of the device, where are the MAC and Serial Number informations, is also written Rev A at the very bottom of the sticker...</p>											<p class="post-edited">(Last edited by <strong>Zolti</strong> on 15 Mar 2016, 13:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315019">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						15 Mar 2016, 23:32					</div>
				</div>
				<div class="post-content content">
					<p>Ok I have the same problem when connecting to the wifi. I can&#039;t access the Wifi-Network. However if I plug the MLWG3 into my Router with Internet Access the MLWG3 will get an IP Address from the router and starts telnet without this problem.</p>											<p class="post-edited">(Last edited by <strong>HLK</strong> on 15 Mar 2016, 23:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315020">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						15 Mar 2016, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>Exactly how I finally managed to connect to the device, and I am sooooo happy! At the moment I am trying to unmount my portable HDD connected to it, but without much success. I also wanted to check something in the manual, but I see that they are working on it right now, because it is not available on the site anymore...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315027">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						16 Mar 2016, 00:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zolti wrote:</cite><blockquote><p>Exactly how I finally managed to connect to the device, and I am sooooo happy! At the moment I am trying to unmount my portable HDD connected to it, but without much success. I also wanted to check something in the manual, but I see that they are working on it right now, because it is not available on the site anymore...</p></blockquote></div><p>Using umount?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315030">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						16 Mar 2016, 01:01					</div>
				</div>
				<div class="post-content content">
					<p>I tried &quot;unmount&quot;, but it doesn&#039;t seems to work because, checking it after it with a simple &quot;ls&quot; the /media/USB1 is still there... I am guessing, just like how, after turning off the reader, the USB is still powered thus the hard disk is on, the same happens with &quot;unmount&quot;. In sbin there&#039;s even an automount.sh script which maybe is running non stop, re-mounting everything attached to the card reader.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315113">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						16 Mar 2016, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>I just tested it with the SD-Interface, works fine. Will test it later with the usb interface.</p><p>BTW there is program at /usr/sbin/ called led. Did a hexdump of it but I didn&#039;t figured out how it works yet. The Linux interface /sys/class/leds or /sys/class/gpios doesn&#039;t exist unfortunately.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315114">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						16 Mar 2016, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>What command did you used for the SD and how did you checked after?&nbsp; </p><p>I will check out the program. Too bad there aren&#039;t GPIOS, because I could have used my Raspi knowledge on them... </p><p>I also want to ask you another question, related to another device with actual OpenWRT on it, but I don&#039;t want to spam this thread with off topics, but I can&#039;t find the Private Message button here. Is here a way for private communications?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315155">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						16 Mar 2016, 18:51					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code># ls /media/SD_Card1/
led                        mlwG3_v;telnetd; .x.x.bin  System Volume Information
# umount /media/SD_Card1/
# ls /media/SD_Card1/
# 
# mount /dev/mmcblk0p1 /media/SD_Card1/
# ls /media/SD_Card1/
led                        mlwG3_v;telnetd; .x.x.bin  System Volume Information
# </code></pre></div><p>Type in </p><div class="codebox"><pre><code>gpio -h</code></pre></div><p> to get the help page about gpios.</p><p>You can contact me here:<br />forum (at) linka.systems</p>											<p class="post-edited">(Last edited by <strong>HLK</strong> on 16 Mar 2016, 18:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315222">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">rayknight</div>
					<div class="post-datetime">
						17 Mar 2016, 04:09					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t you mean MT7628?&nbsp; I don&#039;t believe there is an MT6728.</p><br /><div class="quotebox"><cite>HLK wrote:</cite><blockquote><p>New Thread for MLWG3</p><p>What I know so far:<br /><a href="https://github.com/H-LK/MLWG3">https://github.com/H-LK/MLWG3</a></p><p>- The MLWG3 uses the MT6728<br />- Same partition layout<br />- New U-Boot, Supports USB and Fat32<br />- Hard to open. PCB is glued. 2 screws (torx) behind the back label.<br />- Serial is working @ 57600 (baudrate)<br />- Telnet works with firmware update trick</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315273">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						17 Mar 2016, 10:58					</div>
				</div>
				<div class="post-content content">
					<p>Thanks I changed it to MT7628.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315322">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						17 Mar 2016, 14:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>HLK wrote:</cite><blockquote><div class="codebox"><pre><code># ls /media/SD_Card1/
led                        mlwG3_v;telnetd; .x.x.bin  System Volume Information
# umount /media/SD_Card1/
# ls /media/SD_Card1/
# 
# mount /dev/mmcblk0p1 /media/SD_Card1/
# ls /media/SD_Card1/
led                        mlwG3_v;telnetd; .x.x.bin  System Volume Information
# </code></pre></div><p>Type in </p><div class="codebox"><pre><code>gpio -h</code></pre></div><p> to get the help page about gpios.</p><p>You can contact me here:<br />forum (at) linka.systems</p></blockquote></div><p>Yesterday night I tested this and... long story short: this device will <strong>NEVER</strong> totally disconnect your portable hard drive. Even after you totally&nbsp; power off the reader, because of the powerbank functionality, the USB port remains powered with electricity, so the hard drive will remain turned on.</p><p>Now the long story: initially I thought that <em><strong>umount</strong></em> is not working because the LED on the hard drive remained turned on after I gave the <em><strong>umount /media/USB1</strong></em> command and checking with <em><strong>ls /media/</strong></em>,&nbsp; both <em>SD_Card1</em> and <em>USB1</em> was present, and I found that strange. When I give <strong>Safely Remove Hardware</strong> from Windows, not only the hard&#039;s partition disappeared from the Explorer, the hard&#039;s LED turned off too, meaning it was totally shut down. I was expecting the same behavior from Linux too. </p><p>Until now, I don&#039;t really unmounted devices from Linux, and for sure not by using the terminal. Even from Windows I rarely unmount something, I usually turn off the computer and I take it out after. I proceed this way with my Raspberry Pies too, and I expected this behavior with this card reader. When I saw that is not the case, and read in it&#039;s manual that the USB is always under power, so that you could recharge your phone without needing to power on the whole card reader with WIFI and all (this way preserving some power in the battery), I decided that I will unmount and eject the hard drive manually. </p><p>I tried <em><strong>eject</strong></em>, <em><strong>detach</strong></em>, <em><strong>udisks</strong></em>, <em><strong>udiskssctl power-off</strong></em>, <em><strong>suspend</strong></em> and nothing worked, only <em><strong>umount</strong></em>. After I tried how you pointed it out, I was curious what is the exact equivalent solution in Linux for Windows&#039;s <strong>Safely Remove Hardware</strong> and my conclusion was that it is not quite possible, at least not on this Linux that is on this card reader. More information on this <a href="http://elliotli.blogspot.ro/2009/01/safely-remove-usb-hard-drive-in-linux.html">blog</a>.</p><p>So the remaining possibilities are:<br />1. When you power off the device, there are a few seconds when both the device and the hard drive are powered off. Unplug the hard drive at that moment, before the device enters in powerbank functionality.<br />2. Unmount the hard drive and hope for the best: the internal mechanism of the hard drive to be in stand by so that, by disconnecting it from the USB port, nothing will be damaged in the hard drive. Today&#039;s hard drives are build to last, and being portable I guess the manufacturers thought about these situations as well.<br />3. While I was studying what else is on this Linux version, I&#039;ve found a script in <em><strong>/sbin/</strong></em> folder called <em><strong>safe_remove.sh</strong></em>. Here it is it&#039;s content:<br /></p><div class="codebox"><pre><code># vi /sbin/safe_remove.sh
#! /bin/sh

if [ &quot;$1&quot; == &quot;&quot; ]; then
        echo &quot;parameter is none&quot;
        exit 1
else
        echo &quot;***** safe remove $1 *****&quot;
fi

sync

mounted=`mount | grep $1 | wc -l`
while [ $mounted -ge 1 ]
do
        media_rmname=`mount | grep $1 | cut -d &#039;/&#039; -f 5 | cut -d &#039; &#039; -f 1`
        mount_node_no=`ps | grep mount_node | grep $media_rmname | cut -d &#039; &#039; -f 1`
        echo &quot;R/media/$media_rmname&quot;
        widrive_aloha_out $media_rmname
        if [ &quot;`echo $media_rmname | head -c 3`&quot; == &quot;USB&quot; ] ; then
                rm -f /tmp/security_usb_login_list
                rm -f /tmp/security_usb_login_time
                killall security_usb_loop
                nvram set current_security_usb_in=0;
        fi
        kill $mount_node_no</code></pre></div><p>&nbsp; &nbsp; <br />Running it gives:<br /></p><div class="codebox"><pre><code>./safe_remove.sh media/USB1
***** safe remove media/USB1 *****
R/media/USB1
killall: security_usb_loop: no process killed
kill: you need to specify whom to kill
killall: security_usb_login.sh: no process killed
killall: Tester_run: no process killed
killall: sambaset: no process killed
# killall: nmbd: no process killed
kill samba server firsthello, samba!
/sbin/security_usb_login.sh: line 4: Tester_run: not found
/sbin/security_usb_login.sh: line 5: Tester_run: not found
/sbin/security_usb_login.sh: line 6: Tester_run: not found
/sbin/security_usb_login.sh: line 8: Tester_run: not found
User guest password set to none.

And here I needed to press the Enter key to continue, otherwise it would just hang on and do nothing...</code></pre></div><p>After this I check with <em><strong>ls /media/USB1</strong></em> and for my surprise there was no longer an <em>USB1</em> present in media. The strange part was that the LED on the hard drive was still on, so I don&#039;t really know what this script actually does. My Linux knowledge is basic, I understand individually the commands but not as a whole program. Maybe somebody can shed a light on it and explain it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315346">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						17 Mar 2016, 17:21					</div>
				</div>
				<div class="post-content content">
					<p>FWIW, the MLGW<strong>2</strong> had 3 states.&nbsp; <br />1 - NO LED on router - acts as a USB HUB<br />2 - short press green LED fast blink, acts as charger, router off<br />3 - long press green LED blinks slow, acts as router (not sure it it will charge)</p><p>I spent some time looking into the USB &quot;eject&quot; situation and there are other threads in the forum that basically say it&#039;s not supported.&nbsp; The best I was able to gather is that the params sync, rw are the sagest thing you can do in OpenWrt.</p><p>I realize that this is not OpenWrt, but the delivered Linux flavor.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315499">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						18 Mar 2016, 12:54					</div>
				</div>
				<div class="post-content content">
					<p>Ok my first OpenWRT port works <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. More later..</p><div class="codebox"><pre><code>[05010C0A][05010C08]

DDR Calibration DQS reg = 00008889



U-Boot 1.1.3 (Oct 22 2015 - 15:22:48)


Board: Ralink APSoC DRAM:  64 MB

relocate_code Pointer at: 83f68000

flash manufacture id: ef, device id 40 18

find flash: W25Q128BV

*** Check if data is correct or not...

*** Data is correct.

============================================ 

Ralink UBoot Version: 4.3.0.0

-------------------------------------------- 

ASIC 7628_MP (Port5&lt;-&gt;None)

DRAM component: 512 Mbits DDR, width 16

DRAM bus: 16 bit

Total memory: 64 MBytes

Flash component: SPI Flash

Date:Oct 22 2015  Time:15:22:48

============================================ 

icache: sets:512, ways:4, linesz:32 ,total:65536

dcache: sets:256, ways:4, linesz:32 ,total:32768 


 ##### The CPU freq = 575 MHZ #### 

 estimate memory size =64 Mbytes

RESET MT7628 PHY!!!!!!

Please choose the operation: 

   1: Load system code to SDRAM via TFTP. 

   2: Load system code then write to Flash via TFTP. 

   3: Boot system code via Flash (default).

   4: Entr boot command line interface.

   7: Load Boot Loader code then write to Flash via Serial. 

   9: Load Boot Loader code then write to Flash via TFTP. 

 0 

CFG_KERN_ADDR=bc050000   

3: System Boot system code via Flash.

3: System Boot on bootstate=0.

## Booting image at bc050000 ...

   Image Name:   MIPS OpenWrt Linux-4.4.4

   Image Type:   MIPS Linux Kernel Image (lzma compressed)

   Data Size:    1269705 Bytes =  1.2 MB

   Load Address: 80000000

   Entry Point:  80000000

   Verifying Checksum ... OK

   Uncompressing Kernel Image ... OK

No initrd

## Transferring control to Linux (at address 80000000) ...

## Giving linux memsize in MB, 64


Starting kernel ...


[    0.000000] Linux version 4.4.4 (hlk@Leno) (gcc version 5.3.0 (OpenWrt GCC 5.3.0 r49031) ) #12 Fri Mar 18 10:44:58 UTC 2016
[    0.000000] Board has DDR2
[    0.000000] Analog PMU set to hw control
[    0.000000] Digital PMU set to hw control
[    0.000000] SoC Type: MediaTek MT7628AN ver:1 eco:2
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 00019655 (MIPS 24KEc)
[    0.000000] MIPS: machine is Kingston MLWG3
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, PIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Writing ErrCtl register=00013f27
[    0.000000] Readback ErrCtl register=00013f27
[    0.000000] Memory: 60844K/65536K available (2859K kernel code, 133K rwdata, 692K rodata, 148K init, 195K bss, 4692K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] intc: using register map from devicetree
[    0.000000] CPU Clock: 580MHz
[    0.000000] clocksource_probe: no matching clocksources found
[    0.000000] clocksource: MIPS: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 6590553264 ns
[    0.000011] sched_clock: 32 bits at 290MHz, resolution 3ns, wraps every 7405115902ns
[    0.015350] Calibrating delay loop... 385.84 BogoMIPS (lpj=1929216)
[    0.080520] pid_max: default: 32768 minimum: 301
[    0.089782] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.102736] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.122212] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.141709] pinctrl core: initialized pinctrl subsystem
[    0.152646] NET: Registered protocol family 16
[    0.178881] mt7621_gpio 10000600.gpio: registering 32 gpios
[    0.189988] mt7621_gpio 10000600.gpio: registering 32 gpios
[    0.200997] mt7621_gpio 10000600.gpio: registering 32 gpios
[    0.213511] clocksource: Switched to clocksource MIPS
[    0.224869] NET: Registered protocol family 2
[    0.234294] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.247995] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.260510] TCP: Hash tables configured (established 1024 bind 1024)
[    0.273159] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.284617] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.297255] NET: Registered protocol family 1
[    0.307147] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.338338] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.349806] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.371849] io scheduler noop registered
[    0.379532] io scheduler deadline registered (default)
[    0.390271] gpio-export gpio-export: 0 gpio(s) exported
[    0.400756] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    0.414156] rt2880-pinmux pinctrl: function &#039;uart0&#039; not supported
[    0.426116] rt2880-pinmux pinctrl: invalid function uart0 in map table
[    0.439214] console [ttyS0] disabled
[    0.446201] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 28, base_baud = 2500000) is a 16550A
[    0.464056] console [ttyS0] enabled
[    0.464056] console [ttyS0] enabled
[    0.477793] bootconsole [early0] disabled
[    0.477793] bootconsole [early0] disabled
[    0.495198] spi-mt7621 10000b00.spi: sys_freq: 193333333
[    0.509343] m25p80 spi32766.0: using chunked io (size=32)
[    0.520105] m25p80 spi32766.0: w25q128 (16384 Kbytes)
[    0.530148] 5 ofpart partitions found on MTD device spi32766.0
[    0.541701] Creating 5 MTD partitions on &quot;spi32766.0&quot;:
[    0.551884] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.563576] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.575912] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.587799] 0x000000050000-0x000000fb0000 : &quot;firmware&quot;
[    0.648824] 2 uimage-fw partitions found on MTD device firmware
[    0.660583] 0x000000050000-0x000000186009 : &quot;kernel&quot;
[    0.672068] 0x000000186009-0x000000fb0000 : &quot;rootfs&quot;
[    0.683860] mtd: device 5 (rootfs) set to be root filesystem
[    0.695187] 1 squashfs-split partitions found on MTD device rootfs
[    0.707442] 0x000000370000-0x000000fb0000 : &quot;rootfs_data&quot;
[    0.720027] 0x000000fb0000-0x000001000000 : &quot;user-config&quot;
[    0.742619] rt3050-esw 10110000.esw: link changed 0x00
[    0.753644] mtk_soc_eth 10100000.ethernet: generated random MAC address ca:9f:47:36:31:ca
[    0.770690] mtk_soc_eth 10100000.ethernet eth0: mediatek frame engine at 0xb0100000, irq 5
[    0.787624] mt7621_wdt 10000120.watchdog: Initialized
[    0.799227] NET: Registered protocol family 10
[    0.811773] NET: Registered protocol family 17
[    0.820731] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    0.845736] 8021q: 802.1Q VLAN Support v1.8
[    0.865684] VFS: Mounted root (squashfs filesystem) readonly on device 31:5.
[    0.880496] Freeing unused kernel memory: 148K (8039b000 - 803c0000)
[    2.733485] init: Console is alive
[    2.740518] init: - watchdog -
[    3.933313] usbcore: registered new interface driver usbfs
[    3.944348] usbcore: registered new interface driver hub
[    3.955009] usbcore: registered new device driver usb
[    3.970627] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    3.985161] ehci-platform: EHCI generic platform driver
[    4.005831] phy phy-10120000.usbphy.0: remote usb device wakeup disabled
[    4.019114] phy phy-10120000.usbphy.0: UTMI 16bit 30MHz
[    4.029498] ehci-platform 101c0000.ehci: EHCI Host Controller
[    4.040920] ehci-platform 101c0000.ehci: new USB bus registered, assigned bus number 1
[    4.056733] ehci-platform 101c0000.ehci: irq 26, io mem 0x101c0000
[    4.083530] ehci-platform 101c0000.ehci: USB 2.0 started, EHCI 1.00
[    4.097092] hub 1-0:1.0: USB hub found
[    4.104915] hub 1-0:1.0: 1 port detected
[    4.115911] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    4.129648] ohci-platform: OHCI generic platform driver
[    4.140321] ohci-platform 101c1000.ohci: Generic Platform OHCI controller
[    4.153830] ohci-platform 101c1000.ohci: new USB bus registered, assigned bus number 2
[    4.169602] ohci-platform 101c1000.ohci: irq 26, io mem 0x101c1000
[    4.238642] hub 2-0:1.0: USB hub found
[    4.246520] hub 2-0:1.0: 1 port detected
[    4.266747] init: - preinit -
[    5.161181] rt3050-esw 10110000.esw: link changed 0x00
[    5.348353] random: procd urandom read with 8 bits of entropy available
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    8.615705] mount_root: jffs2 not ready yet, using temporary tmpfs overlay
[    8.655986] procd: - early -
[    8.661799] procd: - watchdog -
[    9.453848] procd: - ubus -
[    9.511735] procd: - init -
Please press Enter to activate this console.
[   10.157981] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   10.182084] Loading modules backported from Linux version v4.4-rc5-1913-gc8fdf68
[   10.196802] Backport generated by backports.git backports-20151218-0-g2f58d9d
[   10.263699] mt76_wmac 10300000.wmac: ASIC revision: 76280001
[   12.315552] mt76_wmac 10300000.wmac: Firmware Version: _e2_mp
[   12.326998] mt76_wmac 10300000.wmac: Build Time: 20150211175503
[   12.353510] firmware init done
[   12.547828] ip_tables: (C) 2000-2006 Netfilter Core Team
[   12.578886] nf_conntrack version 0.5.0 (953 buckets, 3812 max)
[   12.661730] xt_time: kernel timezone is -0000
[   12.683464] PPP generic driver version 2.4.2
[   12.695027] NET: Registered protocol family 24
[   18.145928] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   18.262113] jffs2_build_filesystem(): unlocking the mtd device... done.
[   18.275254] jffs2_build_filesystem(): erasing all blocks after the end marker... 
[   23.399480] device eth0.1 entered promiscuous mode
[   23.409395] device eth0 entered promiscuous mode
[   23.488391] br-lan: port 1(eth0.1) entered forwarding state
[   23.499539] br-lan: port 1(eth0.1) entered forwarding state
[   25.493580] br-lan: port 1(eth0.1) entered forwarding state

\

BusyBox v1.24.1 () built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 DESIGNATED DRIVER (Bleeding Edge, r49031)
 -----------------------------------------------------
  * 2 oz. Orange Juice         Combine all juices in a
  * 2 oz. Pineapple Juice      tall glass filled with
  * 2 oz. Grapefruit Juice     ice, stir well.
  * 2 oz. Cranberry Juice
 -----------------------------------------------------
root@OpenWrt:/# \</code></pre></div>											<p class="post-edited">(Last edited by <strong>HLK</strong> on 18 Mar 2016, 12:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316491">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						24 Mar 2016, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve tried to hook up to the mounting event of the USB, by creating a rule in <strong>/etc/udev/rules.d</strong>, but for my surprise, <strong>/etc/</strong> folder doesn&#039;t contains <strong>udev</strong>... So in this case what is it to be done? I have also tried editing <strong>/etc_ro/inittab</strong> but I don&#039;t know what level I need to assign for my script to run (<strong>???::boot::myscrpt</strong>).</p><p>Also is there a way to access telnetd without the need to insert that memory card with the filename changed for this purpose?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316496">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						24 Mar 2016, 17:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>As &quot;just an end-user,&quot; may I politely ask?...&nbsp; If at all possible, please document with as much detail -- and step-by-step instructions -- as is appropriate in the wiki <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" />&nbsp; Your work will be of great value to others even if the unit isn&#039;t extremely widely used.&nbsp; I see there&#039;s <a href="https://wiki.openwrt.org/toh/kingston/mlwg2">a wiki page already for the MLWG2</a>.</p><p>Thank you for doing such difficult work as porting!&nbsp; This community depends on knowledgeable users and developers such as you.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316500">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						24 Mar 2016, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>I agree, but you probably do NOT want to use the older MLGW2.&nbsp; You can start a new page for this here:<br /><a href="https://wiki.openwrt.org/doc/howto/adding_to_toh">https://wiki.openwrt.org/doc/howto/adding_to_toh</a><br />There are two parts<br />1 - The Dataentry page which is the structured database<br /><a href="https://wiki.openwrt.org/toh/start">https://wiki.openwrt.org/toh/start</a><br />2 - The Device Details page.<br />It&#039;s also a separate set of credentials for the wiki (and you may get an error logging in, but you are logged in.&nbsp; Just navigate)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316617">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Zolti</div>
					<div class="post-datetime">
						25 Mar 2016, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>Ok, yesterday I&#039;ve found out, that no mater what modification I make, after restarting the device, everything will be as before. The device resets itself. I made a folder and a test script in almost every folder in the root section and when I turned on the power again, I couldn&#039;t find it anymore.</p><p>So I am guessing that OpenWRT is my only solution, but at least this will have a newer Linux system on it, and maybe there will be more options available then on this basic one. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316729">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						26 Mar 2016, 03:13					</div>
				</div>
				<div class="post-content content">
					<p>Sry for replying so late but I lost my wrapped_passphrase of my encrypted home directory somehow and had only a backup from 10 days ago <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Writing this Page is on my Todo-list. Hopefully I find some time this weekend.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317053">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">HLK</div>
					<div class="post-datetime">
						28 Mar 2016, 05:02					</div>
				</div>
				<div class="post-content content">
					<p>I added Kingston as a brand for the wiki by contacting the Openwrt Support. (Don&#039;t know why it isn&#039;t already listed)</p><p>Current state of my port:<br />mlwg2.dts tested, works<br />2.4 GHz WLAN works<br />USB-Port works</p><p>Ethernet works almost (I have to configure Switch0, (02_network))<br />SD works almost (SD-Port is detected, but it is not listed at /dev)</p><p>Todo:<br />5 GHz WLAN<br />Leds...Buttons...</p><p>Can I submit a new database entry without a complete port? </p><div class="quotebox"><blockquote><p>Our goal is not to have a database with the most routers in unknown status, but a database, with many that are supported by OpenWrt.</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>HLK</strong> on 28 Mar 2016, 05:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317054">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">ldpinney</div>
					<div class="post-datetime">
						28 Mar 2016, 05:35					</div>
				</div>
				<div class="post-content content">
					<p>To : HLK ... email me ldpinney&lt;AT&gt;gmail</p><p>I&#039;ll try to help you with your porting effort.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318163">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">elektroman</div>
					<div class="post-datetime">
						4 Apr 2016, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys</p><p>for 5GHz you must enable PCIe in DeviceTree<br /></p><div class="codebox"><pre><code>    pcie@10140000 {
        status = &quot;ok&quot;;
    };</code></pre></div><p>and use the mt7610 wifi driver</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322629">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">kmeaw</div>
					<div class="post-datetime">
						5 May 2016, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>I recently bought an MLWG3 and made a few changes to HLK&#039;s overlay: <a href="https://github.com/kmeaw/kingston-mlwg3-openwrt">https://github.com/kmeaw/kingston-mlwg3-openwrt</a> to get a working 5GHz. Also for some reason my cpu switch port was 1, not 0.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=63357&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>