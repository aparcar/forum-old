<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to add web-interface files into firmware images.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p88744">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ps_sach</div>
					<div class="post-datetime">
						26 May 2009, 14:35					</div>
				</div>
				<div class="post-content content">
					<p>HI all,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I m newbie to openwrt firmware customization. I can create the firmware image with default configuration that are provided by kamikaze trunk. Now I am creating the web-interface for the firmware image, but I don&#039;t know how to add these files to firmware image. </p><p>&nbsp; &nbsp; &nbsp; &nbsp; I think I need to create my own package, if it is correct I am not so good at writing my own packages( &#039;Writing own packages &amp; not so familiar with the syntax of the Makefile). If I m wrong, I don&#039;t know how to&nbsp; write the web-interface files to firmware image. Please anyone help.<br />&nbsp; &nbsp; &nbsp; &nbsp;Note - I don&#039;t want to go with x-wrt.</p><br /><br /><p>Thanks in ADV.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88747">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						26 May 2009, 15:10					</div>
				</div>
				<div class="post-content content">
					<p>Do you want &quot;create&quot; or &quot;include&quot;?</p><p>if you want include luci or webif web-interfaces you must do:<br />from trunk dir &quot;make package/symlinks&quot;<br />and after<br />&quot;make menuconfig&quot; and select packages<br />and finally<br />&quot;make&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88752">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						26 May 2009, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>No. Wrong.</p><p>Right way is:<br /></p><div class="codebox"><pre><code>$ ./scripts/feeds update packages luci
$ ./scripts/feeds install -a -p luci
$ make menuconfig                        # Select at least Administration -&gt; LuCI Components -&gt; luci-admin-full: Y
$ make world</code></pre></div>											<p class="post-edited">(Last edited by <strong>Yanira</strong> on 26 May 2009, 15:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88754">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ps_sach</div>
					<div class="post-datetime">
						26 May 2009, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>HI all, <br />&nbsp; &nbsp; &nbsp; &nbsp; Thanks for the instant&nbsp; replies.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Suppose If i write my own pages that will act as a web-interface - means suppose I create or write my own&nbsp; .php or .sh pages to do the configuration settings, how should i include these written .php or .sh files into the firmware image.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; I don&#039;t want to just include the existing packages - like webif etc.</p><br /><br /><p>&nbsp; &nbsp; &nbsp; &nbsp;Thanks again..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88755">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						26 May 2009, 15:37					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://luci.freifunk-halle.net">http://luci.freifunk-halle.net</a>/</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88756">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ps_sach</div>
					<div class="post-datetime">
						26 May 2009, 16:06					</div>
				</div>
				<div class="post-content content">
					<p>HI yanira,<br />&nbsp; &nbsp; &nbsp; &nbsp; Thanks for the instant reply again.&nbsp; &nbsp; </p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You might be thinking I don&#039;t know about uci &amp; all. I know how to do the configuration settings using uci. Even I wrote some pages (.sh pages referring webif package )&nbsp; to configure my own added package. But I don&#039;t know how to add those pages into the firmware image.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I will explain -&nbsp; what i what in detail. I know how to write the web - interface pages. How to do the configurations ( not in details). So i can write a page that will use uci utility &amp; do the configuration settings.&nbsp; <strong>Suppose I wrote my own web - interface for my firmware image, how should i include it into firmware image. I think I need to create a package, that will include my all files into proper directory under cgi- bin.</strong></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;In short how to package these pages into firmware image.</p><p>Thanks again.</p>											<p class="post-edited">(Last edited by <strong>ps_sach</strong> on 26 May 2009, 16:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88760">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						26 May 2009, 16:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Yanira wrote:</cite><blockquote><p>No. Wrong.</p><p>Right way is:<br /></p><div class="codebox"><pre><code>$ ./scripts/feeds update packages luci
$ ./scripts/feeds install -a -p luci
$ make menuconfig                        # Select at least Administration -&gt; LuCI Components -&gt; luci-admin-full: Y
$ make world</code></pre></div></blockquote></div><p>thanks for your correction</p><p>luck</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88761">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						26 May 2009, 16:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ps_sach wrote:</cite><blockquote><p>HI yanira,<br />&nbsp; &nbsp; &nbsp; &nbsp; Thanks for the instant reply again.&nbsp; &nbsp; </p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You might be thinking I don&#039;t know about uci &amp; all. I know how to do the configuration settings using uci. Even I wrote some pages (.sh pages referring webif package )&nbsp; to configure my own added package. But I don&#039;t know how to add those pages into the firmware image.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I will explain -&nbsp; what i what in detail. I know how to write the web - interface pages. How to do the configurations ( not in details). So i can write a page that will use uci utility &amp; do the configuration settings.&nbsp; <strong>Suppose I wrote my own web - interface for my firmware image, how should i include it into firmware image. I think I need to create a package, that will include my all files into proper directory under cgi- bin.</strong></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;In short how to package these pages into firmware image.</p><p>Thanks again.</p></blockquote></div><p>You can put your files inside base-files package and it will be included in firmware</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88763">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ps_sach</div>
					<div class="post-datetime">
						26 May 2009, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>Thanks t3l3m4k0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Much appreciated&nbsp; alternative.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Another alternative is to create a package &amp; write the Makefile that will do copying of the files from the package directory. I just referred Webif package given by X-wrt &amp; how they have done it. Still it is hard to get, because I am not getting the makefile syntaxes ( Not getting the Makefile syntax of the openwrt packages)</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>ps_sach</strong> on 26 May 2009, 17:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88766">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">tl71</div>
					<div class="post-datetime">
						26 May 2009, 17:30					</div>
				</div>
				<div class="post-content content">
					<p>Another option: you can create a &quot;files&quot; directory in the toplevel dir of the OpenWrt buildroot and put your files in a corresponding subfolder.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111302">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">wirelessuser</div>
					<div class="post-datetime">
						16 Jun 2010, 11:39					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>I followed the instructions as described below:-</p><p>$ ./scripts/feeds update packages luci<br />$ ./scripts/feeds install -a -p luci<br />$ make menuconfig&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Select at least Administration -&gt; LuCI Components -&gt; luci-admin-full: Y<br />$ make</p><p>But still i am unable to run web interface page on openwrt... I am using Kamikaze r20348 + madwifi.<br />When i enter IP address of the harware in browser i.e. &quot;192.168.1.1&quot; a black screen opens which says - &quot;Redirecting to Main Page&quot; and after that &quot;Page can not be dispalyed&quot; with following address in browser &quot;res://C:\WINDOWS\system32\shdoclc.dll/dnserror.htm#http://192.168.1.1/cgi-bin/webif/info.sh&quot;</p><br /><p>Please suggest what i am missing or is there any settings require in make menuconfig???/</p><p>Please note that i have enabled &quot;luci-admin-full&quot; option in LuCI -&gt; Components... Please suggest</p><br /><p>Thanks in Advance!!!</p><p>Regards,<br />WirelessUser</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>