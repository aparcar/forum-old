<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> DIR-600 B5 works with OpenWRT</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 21 Apr 2018 and 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=49396&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p286296">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">stefaniu_a</div>
					<div class="post-datetime">
						5 Aug 2015, 00:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi MasterX1987, </p><p>I have just tested your instructions and have the following to report:<br />i) all goes well until step 4. The rooter reboots after loading the openwrt-ramips-rt305x-dir-610-a1-initramfs-uImage.bin image and I can connect with the new IP 192.168.1.1</p><p>ii) I cannot load the sysupgrade update. &quot;The uploaded image file does not contain a supported format. Make sure that you choose the generic image format for your platform.&quot; I am attempting the update via the LuCi interface. Let me know if I should try another way.</p><p>iii) I have tested the new configuration as an Access Point for the wired network and it works. However, the bandwidth is really low at about 10-15 Mb, whereas the original firmware could easily reach 50 Mb with the same laptop as client.<br /> Note that I have also disabled the firewall and I get the same poor results.</p><p>iv) The worst part of all is that the settings are lost upon reboot. This makes then entire setup quite unusable. Here is some extra information to help with the debugging:</p><br /><p>root@OpenWrt:~# mount<br />rootfs on / type rootfs (rw)<br />proc on /proc type proc (rw,noatime)<br />sysfs on /sys type sysfs (rw,noatime)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)<br />tmpfs on /dev type tmpfs (rw,relatime,size=512k,mode=755)<br />devpts on /dev/pts type devpts (rw,relatime,mode=600)<br />debugfs on /sys/kernel/debug type debugfs (rw,noatime)</p><p>root@OpenWrt:~# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />Mem:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29568&nbsp; &nbsp; &nbsp; &nbsp; 19920&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9648&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />-/+ buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 19920&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9648<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><p>root@OpenWrt:~# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1K-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14784&nbsp; &nbsp; &nbsp; &nbsp;536&nbsp; &nbsp; &nbsp;14248&nbsp; &nbsp;4% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;512&nbsp; &nbsp;0% /dev</p><p>Thank you for the time and effort invested in making OpenWrt available for DIR 600 b5!!</p><p>Note that I will not be available in the next couple of days, but after that I will answer any questions and can continue the testing.</p><p>Cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286582">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">MasterX1987</div>
					<div class="post-datetime">
						6 Aug 2015, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>Hello stefaniu_a...<br />To burn the Firmware to dlink you must type this command:<br />$ sysupgrade -F openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin<br />(-F command = --force, the image don&#039;t was checkt,and burnt force to device ;-) )<br />MFG...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286809">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">stefaniu_a</div>
					<div class="post-datetime">
						9 Aug 2015, 01:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi again,</p><p>I executed the sysupgrade -F command and all works well now. The settings are saved upon reboot and I can use the router as an access point.</p><p>My initial goal was to use this router as a range extender (bridge). I have not yet succeeded in this respect, but I think I am getting closer. I have managed to setup the router as a &quot;wifi client&quot; and it connected nicely and got it&#039;s IP from the main router, but that&#039;s about it. <br />I tried the LuCi options of Client (WDS) and Access Point (WDS) but that did not work. <br />I think my problems come from the network settings (dhcp, etc.)</p><p>I&#039;m still working on it.</p><p>Update (3 hours later): I managed to have the bridge working as well following these steps: <a href="https://www.youtube.com/watch?v=3rbsh2zxPnk">https://www.youtube.com/watch?v=3rbsh2zxPnk</a></p><p>It is not the best situation, as the clients of the second router get IPs in a different domain (192.168.1.x for second router, while the main one has 192.168.3.x), but that&#039;s enough for me now. If I have time I will try to get it working on the same domain.</p><p>Cheers!</p>											<p class="post-edited">(Last edited by <strong>stefaniu_a</strong> on 9 Aug 2015, 02:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286947">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">vince153</div>
					<div class="post-datetime">
						10 Aug 2015, 15:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MasterX1987 wrote:</cite><blockquote><p>Hello Guys,<br />after hard working i have it done, who installing openwrt on my Dlink DIR600 B5, without connect it to Serial Port ... <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />Now what you are required for this?<br />1. You need to download this Files:<br />|-&gt; <a href="http://www10.zippyshare.com/v/sxQDMwb3/file.html">My build of Original Firmware</a> (<a href="https://mega.nz/#!vYpw0LzS!NY8EqM9FY9-GrWnaPTdggV5Va1R1SLKSJczyK2SS-W8">mirror</a>)<br />|-&gt; <a href="https://mega.co.nz/#!7RBCULZR!WNX_LeDV-tN_8D_necmAKiZJqr3VsEwajseAjiiiOz0">openwrt-ramips-rt305x-dir-610-a1-initramfs-uImage.bin</a><br />|-&gt; <a href="https://mega.co.nz/#!jAIjUCJZ!WF-dSaDeVmKwjdB8whX6mkAC-bgu2LPBnCT1tUNJiMo">openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin</a><br />2. You need a local Webhost to download a part of Firmware to your Dlink.<br />3. You have an NFS-Server online (to make it easier flash first part of Firmware...)<br />Now thats it!<br /> ...<br />MFG Master X</p></blockquote></div><br /><p>As I&#039;m not comfortable with linux, is there another way to upload the first image rather than serial or the a nfs server ?<br />Like WinSCP or some tools like that ?</p>											<p class="post-edited">(Last edited by <strong>vince153</strong> on 10 Aug 2015, 15:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286953">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">vince153</div>
					<div class="post-datetime">
						10 Aug 2015, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi MasterX1987,</p><p>I just tried your method. When trying to mount a nfs share, I have the following error</p><p>&quot;mount: can&#039;t read &#039;/etc/fstab&#039;: No such file or directory&quot;</p><p>Can you help me please</p><p>Thanks</p><p>[EDIT]</p><p>Copy/paste mistake... &gt;:(<br />I forgot the &quot;/home&quot; in the command.<br />Anyway, I followed up the procedure and the first flash did not work</p><p>Please Help !</p>											<p class="post-edited">(Last edited by <strong>vince153</strong> on 10 Aug 2015, 17:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287727">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">MasterX1987</div>
					<div class="post-datetime">
						15 Aug 2015, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>Okay for everybody they had problems to set up the NFS Server, here two another Methodes to burn the first fw.bin to Device...<br />1, Methode:<br />WHAT WE NEED: Working Internet on Dlink OR a local WEB-Server....<br />After you Setup the web Server and copied the uImage.bin to the root destination you need connect to Device over telnet: (On Windows you can use putty ...)<br />$ telnet 192.168.0.1 2323<br /># On Device you have in /var Folder RW permissions....<br />$ cd /var<br /># Now get the fw.bin via wget ...<br />$ wget http://IP-of-Server/uImage.bin # (e.g. 192.168.1.169 or what ever...)<br /># After this flash it to /dev/mtd/2 via busybox flashcp ....<br />$ busybox flashcp uImage.bin /dev/mtd/2<br />========================================================================================================================<br />2. Methode:<br />WHAT WE NEED: busybox on local PC to use Netcat for the File transfer....<br />1. Connect via Telnet to device....<br />2. $ cd /var<br />3. $ nc -l -p 2525 | dd of=/var/uImage.bin # &lt;== This Command type ON DLINK!<br />4. Now switch to a antoher terminal window and type this command on local PC:<br />$ dd if=uImage.bin | nc 192.168.0.1 2525 # (2525 is the port you have set on 3....)<br /># after 2-3 sec the fw.bin trans. to device and you can flash it to /dev/mtd/2 via busybox....</p><p>So i hope this help.... mfg</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289139">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">benoe77</div>
					<div class="post-datetime">
						25 Aug 2015, 15:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi MasterX1987, great news!</p><p>Will this new openwrt system be upgradeable in the future to new versions?</p><p>All the speeds are ok and all the functions are working now?</p><p>Thanks,<br /> Benoe</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289846">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">gabolema</div>
					<div class="post-datetime">
						31 Aug 2015, 15:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zepingouin wrote:</cite><blockquote><div class="quotebox"><cite>depswa wrote:</cite><blockquote><p>I also compiled a newest release and got into a loop during boot. But then I realized that the OP wrote a post in March 2014, so I decided to try an older release from March 2014, and it worked!</p></blockquote></div><p>Thanks for the images, it works like a charm on my DIR-600 B6 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Hi zepingouin,<br />I have the same router as you, but when I upgraded the firmware using depswa&#039;s build I wasn&#039;t as successful as you:<br />openwrt-ramips-rt305x-dir-600-b5-squashfs-factory.bin<br /><a href="https://mega.co.nz/#!PYQUgK4S!6Nl-6f4NwmY7g7qrSsM48FMkLndhshDrm0P4yo2eHwk">https://mega.co.nz/#!PYQUgK4S!6Nl-6f4Nw … 0P4yo2eHwk</a></p><p>Now I have a router that doesn&#039;t work (LAN 2,3,4 Leds are always on, even though there isn&#039;t anything connected to it), and I can&#039;t get an IP from router.<br />Was your upgrade performed from the web interface?<br />Any idea how to get it to work again?</p><p>Thanks,<br />Gabriel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292384">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">MasterX1987</div>
					<div class="post-datetime">
						18 Sep 2015, 15:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>benoe77 wrote:</cite><blockquote><p>Hi MasterX1987, great news!</p><p>Will this new openwrt system be upgradeable in the future to new versions?</p><p>All the speeds are ok and all the functions are working now?</p><p>Thanks,<br /> Benoe</p></blockquote></div><p>Also i my case all Functions working perfectly....<br />I have successful compiled aircrack-ng rc2 (the newest version) and reaver-ng-pxi... All working fine....</p><p>And @ gabolema<br />You only need to boot into rs-room and flash the ori. firmware..-..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292653">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">gilespii</div>
					<div class="post-datetime">
						20 Sep 2015, 02:31					</div>
				</div>
				<div class="post-content content">
					<p>pls...&nbsp; </p><p>ls<br />etc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sealpac&nbsp; &nbsp; &nbsp; htdocs&nbsp; &nbsp; &nbsp; &nbsp;servd&nbsp; &nbsp; &nbsp; &nbsp; logs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;porttrigger<br />log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TZ&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;passwd&nbsp; &nbsp; &nbsp; &nbsp;gpio_ctrl&nbsp; &nbsp; lld2d.conf<br />run&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dnrd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hosts&nbsp; &nbsp; &nbsp; &nbsp; session&nbsp; &nbsp; &nbsp; killrc0&nbsp; &nbsp; &nbsp; uImage.bin</p><p> # busybox flashcp uImage.bin /dev/mtd/2<br />flashcp: applet not found</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293819">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">Merrx</div>
					<div class="post-datetime">
						28 Sep 2015, 20:08					</div>
				</div>
				<div class="post-content content">
					<p>Thanks MasterX1987 for your description and effort to bring OpenWRT to the DIR-600 B5.</p><p>I ran into some trouble as I tried to flash the dir600b_v2.17_bbox-v1.19.1.bin to the router. The data upload via emergency room upgrade broke after 4 to 8 percent. So I tried the upgrade via D-Link firmware upgrade, which soft bricked my router. The upload via emergency room failed, leaving me very frustrated. After several hours I tried a different PC and it worked suddenly. I don&#039;t know, what was wrong with the old setup...</p><p>Finally I was able to flash the dir600b_v2.17_bbox-v1.19.1.bin to the router, could connect via telnet and so on. The last step of using sysupgrade -F sysupgrade.bin leaves my router in a state described by gabolema: LEDs of WAN and LAN 2-4 always on and the router isn&#039;t accessible any more.<br />The sysupgrade was once performed though the web interface and twice via SSH.</p><p>I couldn&#039;t use the openwrt-ramips-rt305x-dir-610-a1-initramfs-uImage.bin and openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin from MasterX1987s Post #25, because the MEGA Links are down. So I googled for these files and found these filenames on openwrt ftp-Server. They were on the trunk release branch, but I don&#039;t believe these are the same as the mega Links. Could someone, who succeeded with the sysupgrade, please relink these files or tell me which release they are?<br />I tried openwrt-15.05-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin and openwrt-15.05-rc3-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin. Since they have a release date prior to MasterX1987s Post #25. But none of them worked.</p><p>I think, I will try the trunk release and then 15.05-rc2 or 15.05-rc1 and if they fail I will go back to d-link firmware until someone has new information.</p>											<p class="post-edited">(Last edited by <strong>Merrx</strong> on 28 Sep 2015, 20:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293833">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">depswa</div>
					<div class="post-datetime">
						28 Sep 2015, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>MasterX1987 gave the links to my images from Post #14, which have indeed expired. I have updated that post, so you can download them again. Here are the new links (will work for approximately another half a year):</p><p>openwrt-ramips-rt305x-dir-610-a1-initramfs-uImage.bin<br /><a href="https://mega.nz/#!GFJSlZrI!WNX_LeDV-tN_8D_necmAKiZJqr3VsEwajseAjiiiOz0">https://mega.nz/#!GFJSlZrI!WNX_LeDV-tN_ … seAjiiiOz0</a><br />md5: 829a60e6a5dde0e16400072ab6aa63d2</p><p>openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin<br /><a href="https://mega.nz/#!DZwxzY5Y!WF-dSaDeVmKwjdB8whX6mkAC-bgu2LPBnCT1tUNJiMo">https://mega.nz/#!DZwxzY5Y!WF-dSaDeVmKw … CT1tUNJiMo</a><br />md5: f3a265b9af2038040ad13e08a8246ff2</p><p>In principle, the last link in Post #14 is the same working image for this router (the same as the above two links), which can be flashed directly from the Web GUI, except that it has a wrong header. If someone can figure out how to repack it properly, it can be used to flash a working version of OpenWRT directly from stock web interface.</p><p>Unfortunately, I do not have this router anymore - so I cannot play with it. However, those who have soldered a serial port, could make the life easier for others <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294240">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">Merrx</div>
					<div class="post-datetime">
						1 Oct 2015, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your really quick answer. It worked with these two files.<br />It&#039;s OpenWrt Barrier Breaker and not the latest Chaos Calmer.<br />But at the moment I don&#039;t know, if it&#039;s worth to try the update.<br />I think will stick with the current setup, because I works for me.</p><p>@gilespii: Sounds like busybox didn&#039;t work properly.<br />Maybe re-download and re-flash the dir600b_v2.17_bbox-v1.19.1.bin.<br />I don&#039;t know if it&#039;s recommended, but maybe you can search on the net for a standalone busybox, extract the flashcp and copy it to the router.</p>											<p class="post-edited">(Last edited by <strong>Merrx</strong> on 1 Oct 2015, 23:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294477">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">noname_8mb</div>
					<div class="post-datetime">
						3 Oct 2015, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>Can anyone point me where to start fixing this damn thing for good?<br />Images for DIR610 A1 (which supposedly work with DIR300 B5 and DIR600 B5) for BB and CC are broken in official repos (unable to mount rootfs). So I assume that imagebuilder is broken too. Images provided in this thread and found elsewhere that work, are long outdated and opkg doesn&#039;t work well (if at all) with current BB repo. Now, .dts file for DIR610A1 has an entry for m25p80 chip, while my DIR300 B5 has Winbond W25Q32 flash chip. So maybe these routers are not identical at all and rewriting source for winbond chip (which files? is .dts enough?) will fix it.</p><p>Hame MPR A1 images will boot on DIR300 B5, but obviously leds and buttons are all wrong and all the usb stuff is not necessary. On top of that, there seem to be other problems (mac addresses are zeroed, wifi is slow and bridging it with lan doesn&#039;t work)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p299320">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">jcook</div>
					<div class="post-datetime">
						11 Nov 2015, 02:07					</div>
				</div>
				<div class="post-content content">
					<p><strong>DIR-600 B5</strong><br />using latest trunk I changed the DIR-610-A1.dts file<br /></p><div class="codebox"><pre><code>                ralink,led-polarity = &lt;1&gt;;
-               ralink,mtd-eeprom = &lt;&amp;devdata 0x4000&gt;;
+               ralink,mtd-eeprom = &lt;&amp;devdata 16384&gt;;</code></pre></div><p>and it seems to work</p><p>LE:now I see that hex value is the same dec value, maybe it is working now usig unmodified trunk</p><br /><p>loged in on <strong>BARRIER BREAKER (Bleeding Edge, r39917) Linux version 3.10.32 (ilya@ubuntu) </strong>(found in this thread)<br /></p><div class="codebox"><pre><code>sysupgrade openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin</code></pre></div><p>and voila:<br /></p><div class="codebox"><pre><code>login as: root


BusyBox v1.24.1 (2015-11-11 01:16:59 EET) built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 DESIGNATED DRIVER (Bleeding Edge, r47448)
 -----------------------------------------------------
  * 2 oz. Orange Juice         Combine all juices in a
  * 2 oz. Pineapple Juice      tall glass filled with
  * 2 oz. Grapefruit Juice     ice, stir well.
  * 2 oz. Cranberry Juice
 -----------------------------------------------------
root@OpenWrt:~# dmesg
[    0.000000] Linux version 3.18.23 (luci@droid) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r47448) ) #1 Wed Nov 11 01:23:55 EET 2015
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is D-Link DIR-610 A1
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 8031c850, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00005cc0
[    0.000000] Readback ErrCtl register=00005cc0
[    0.000000] Memory: 28752K/32768K available (2643K kernel code, 123K rwdata, 508K rodata, 172K init, 188K bss, 4016K reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] systick: running - mult: 214748, shift: 32
[    0.060000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.090000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.100000] pinctrl core: initialized pinctrl subsystem
[    0.110000] NET: Registered protocol family 16
[    0.120000] rt2880-pinmux pinctrl: try to register 28 pins ...
[    0.120000] pinctrl core: registered pin 0 (io0) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 1 (io1) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 2 (io2) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 3 (io3) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 4 (io4) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 5 (io5) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 6 (io6) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 7 (io7) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 8 (io8) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 9 (io9) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 10 (io10) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 11 (io11) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 12 (io12) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 13 (io13) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 14 (io14) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 15 (io15) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 16 (io16) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 17 (io17) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 18 (io18) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 19 (io19) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 20 (io20) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 21 (io21) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 22 (io22) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 23 (io23) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 24 (io24) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 25 (io25) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 26 (io26) on rt2880-pinmux
[    0.120000] pinctrl core: registered pin 27 (io27) on rt2880-pinmux
[    0.120000] pinctrl core: add 3 pinmux maps
[    0.120000] rt2880-pinmux pinctrl: found group selector 0 for i2c
[    0.120000] rt2880-pinmux pinctrl: found group selector 4 for jtag
[    0.120000] rt2880-pinmux pinctrl: found group selector 2 for uartf
[    0.120000] rt2880-pinmux pinctrl: request pin 1 (io1) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 2 (io2) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 17 (io17) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 18 (io18) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 19 (io19) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 20 (io20) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 21 (io21) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 7 (io7) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 8 (io8) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 9 (io9) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 10 (io10) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 11 (io11) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 12 (io12) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 13 (io13) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: request pin 14 (io14) for pinctrl
[    0.120000] rt2880-pinmux pinctrl: failed to lookup the sleep state
[    0.160000] rt2880_gpio 10000600.gpio: registering 22 gpios
[    0.170000] rt2880_gpio 10000600.gpio: registering 22 irq handlers
[    0.180000] Switched to clocksource MIPS
[    0.190000] NET: Registered protocol family 2
[    0.200000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.210000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.220000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.240000] TCP: reno registered
[    0.240000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.270000] NET: Registered protocol family 1
[    0.280000] rt-timer 10000100.timer: maximum frequency is 7324Hz
[    0.290000] alarmtimer alarmtimer: no of_node; not parsing pinctrl DT
[    0.290000] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.320000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.330000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.350000] msgmni has been set to 56
[    0.400000] io scheduler noop registered
[    0.410000] io scheduler deadline registered (default)
[    0.420000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    0.430000] serial8250 serial8250: no of_node; not parsing pinctrl DT
[    0.430000] pinctrl core: add 1 pinmux maps
[    0.430000] rt2880-pinmux pinctrl: found group selector 3 for uartlite
[    0.430000] rt2880-pinmux pinctrl: request pin 15 (io15) for 10000c00.uartlite
[    0.430000] rt2880-pinmux pinctrl: request pin 16 (io16) for 10000c00.uartlite
[    0.430000] console [ttyS0] disabled
[    0.440000] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 20, base_baud = 2500000) is a 16550A
[    0.460000] console [ttyS0] enabled
[    0.470000] bootconsole [early0] disabled
[    0.490000] pinctrl core: add 1 pinmux maps
[    0.490000] pinctrl core: add 1 pinmux maps
[    0.490000] rt2880-pinmux pinctrl: found group selector 1 for spi
[    0.490000] rt2880-pinmux pinctrl: found group selector 6 for spi_cs1
[    0.490000] rt2880-pinmux pinctrl: request pin 3 (io3) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl: request pin 4 (io4) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl: request pin 5 (io5) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl: request pin 6 (io6) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl: request pin 27 (io27) for 10000b00.spi
[    0.500000] m25p80 spi32766.0: found w25q32, expected f25l32pa
[    0.510000] m25p80 spi32766.0: w25q32 (4096 Kbytes)
[    0.520000] 4 ofpart partitions found on MTD device spi32766.0
[    0.540000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.550000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.560000] 0x000000030000-0x000000040000 : &quot;devdata&quot;
[    0.570000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.580000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.650000] 2 seama-fw partitions found on MTD device firmware
[    0.660000] 0x000000050000-0x000000170000 : &quot;kernel&quot;
[    0.670000] 0x000000170000-0x000000400000 : &quot;rootfs&quot;
[    0.680000] mtd: device 5 (rootfs) set to be root filesystem
[    0.700000] 1 squashfs-split partitions found on MTD device rootfs
[    0.710000] 0x0000003b0000-0x000000400000 : &quot;rootfs_data&quot;
[    0.730000] ralink_soc_eth 10100000.ethernet eth0: ralink at 0xb0100000, irq                                             5
[    0.740000] rt2880_wdt 10000120.watchdog: Initialized
[    0.750000] TCP: cubic registered
[    0.760000] NET: Registered protocol family 10
[    0.770000] NET: Registered protocol family 17
[    0.780000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    0.810000] 8021q: 802.1Q VLAN Support v1.8
[    0.860000] VFS: Mounted root (squashfs filesystem) readonly on device 31:5.
[    0.870000] Freeing unused kernel memory: 172K (80335000 - 80360000)
[    4.290000] init: Console is alive
[    4.300000] init: - watchdog -
[    6.730000] usbcore: registered new interface driver usbfs
[    6.740000] usbcore: registered new interface driver hub
[    6.750000] usbcore: registered new device driver usb
[    6.760000] rt2880-pinmux pinctrl: request pin 10 (io10) for pio:10
[    6.760000] rt2880-pinmux pinctrl: request pin 0 (io0) for pio:0
[    6.770000] rt2880-pinmux pinctrl: request pin 9 (io9) for pio:9
[    6.770000] rt2880-pinmux pinctrl: request pin 13 (io13) for pio:13
[    7.300000] init: - preinit -
[    8.540000] rt305x-esw 10110000.esw: link changed 0x00
[    8.870000] random: procd urandom read with 13 bits of entropy available
[   10.160000] rt305x-esw 10110000.esw: link changed 0x08
[   12.430000] jffs2: notice: (311) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 11 of xref (0 dead, 2 orphan) found.
[   12.470000] mount_root: overlay filesystem has not been fully initialized yet
[   12.580000] mount_root: switching to jffs2 overlay
[   12.650000] procd: - early -
[   12.650000] procd: - watchdog -
[   13.800000] procd: - ubus -
[   14.810000] procd: - init -
[   15.920000] gre: GRE over IPv4 demultiplexor driver
[   15.930000] ip_gre: GRE over IPv4 tunneling driver
[   15.950000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   16.020000] Loading modules backported from Linux version master-2015-10-26-0-g28c26cb
[   16.040000] Backport generated by backports.git backports-20150903-4-g12cf266
[   16.070000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   16.120000] nf_conntrack version 0.5.0 (451 buckets, 1804 max)
[   16.250000] xt_time: kernel timezone is -0000
[   16.360000] cfg80211: World regulatory domain updated:
[   16.370000] cfg80211:  DFS Master region: unset
[   16.380000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gan, max_eirp), (dfs_cac_time)
[   16.400000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   16.420000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   16.430000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   16.450000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (N/A)
[   16.470000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)
[   16.490000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   16.500000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   16.520000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   16.670000] PPP generic driver version 2.4.2
[   16.680000] NET: Registered protocol family 24
[   16.740000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   16.760000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
[   16.770000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   22.750000] rt305x-esw 10110000.esw: link changed 0x00
[   24.390000] rt305x-esw 10110000.esw: link changed 0x08
[   30.320000] device eth0.1 entered promiscuous mode
[   30.330000] device eth0 entered promiscuous mode
[   30.360000] br-lan: port 1(eth0.1) entered forwarding state
[   30.370000] br-lan: port 1(eth0.1) entered forwarding state
[   32.370000] br-lan: port 1(eth0.1) entered forwarding state
[   75.880000] random: nonblocking pool is initialized</code></pre></div><p>All leds are in place.<br />Maybe I&#039;ll try to see if I can make it flashable using original web interface</p><p>Regards!</p>											<p class="post-edited">(Last edited by <strong>jcook</strong> on 11 Nov 2015, 02:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300315">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">deleder</div>
					<div class="post-datetime">
						18 Nov 2015, 20:52					</div>
				</div>
				<div class="post-content content">
					<p>I have the D-600 B6(!) with 2.18 stock firmware. I have tried 3 different firmwares, but none of them work. </p><p>I have tried </p><p>openwrt-ramips-rt305x-dir-600-b5-squashfs-factory.bin<br /><a href="https://mega.nz/#!7VISEDBD!6Nl-6f4NwmY7g7qrSsM48FMkLndhshDrm0P4yo2eHwk">https://mega.nz/#!7VISEDBD!6Nl-6f4NwmY7 … 0P4yo2eHwk</a><br />md5: b2a0f39930e2805ded2fd62dde0bd15c</p><p>among two others.</p><p>After flashing it is impossible to contact it through cable. I&#039;ve had to use emergency rescue to flash back to original again. </p><p>Can anyone help me out?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301667">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">dicoka</div>
					<div class="post-datetime">
						29 Nov 2015, 17:47					</div>
				</div>
				<div class="post-content content">
					<p>OMG! I finally managed to flash OpenWrt firmware. <strong>Thank you so much MasterX1987!</strong></p><p>I have <strong>DIR-300 EEU B5 Ver.:2.11 </strong>(flashed with <strong>DIR-600 B5 2.18</strong> firemware).<br />First I tried flashing &quot;<a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin</a>&quot; right through Emergency Web Interface as described in <a href="https://wiki.openwrt.org/toh/d-link/dir-300revb#emergency_web_interface">OpenWrt wiki</a> but I had &quot;invalid image&quot; message. The only image I managed to flash before was &quot;<a href="ftp://ftp.dlink.eu/Products/dir/dir-600/driver_software/DIR-600_fw_revB_2-18_eu_multi_20150717.zip">DIR-600_Bx_FW218WWb01.bin</a>&quot; (for DIR-600 B5 Ver.:2.18) from <a href="http://www.dlink.com/uk/en/support/product/dir-600-wireless-n-150-home-router?revision=deu_revb5#downloads">D-link support site</a>...</p><p><strong>1.</strong> I successfully flashed <strong>MasterX1987’s Frimware (<a href="https://mega.nz/#!vYpw0LzS!NY8EqM9FY9-GrWnaPTdggV5Va1R1SLKSJczyK2SS-W8">dir600b_v2.17_bbox-v1.19.1.bin</a>)</strong> using emergency room (it didn’t work with Chrome, but it worked in Firefox...)</p><p><strong>2.</strong> Started http server on my computer (192.168.0.2) and put <strong>&quot;<a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin</a>”</strong> (from <a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/">OpenWrt downloads page</a>) to the servers&#039;s web folder</p><p><strong>3.</strong><br />$ telnet 192.168.0.1 2323<br />$ cd /var<br />$ wget <a href="http://192.168.0.2/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-">http://192.168.0.2/openwrt-15.05-ramips … initramfs-</a><strong>uImage.bin</strong> <br />$ busybox flashcp openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-<strong>uImage.bin</strong> /dev/mtd/2<br /># Now don&#039;t turn off device or you get a brick! .... After 1-2 min the Command are finished. You see it when a new Line are displayed. ( e.g. $ )<br />$ reboot -f&nbsp; &nbsp; # Now Reboot ...</p><p><strong>4.</strong> Changed my computer&#039;s IP to 192.168.1.2 and browsed to 192.168.1.1 and <strong>OpenWrt 15.05</strong> was there!!!! But <strong>WiFi didn’t work</strong>&nbsp; - I enabled it, the LED went green, but there was no SSID on the air. Then from OpenWrt web UI I tried flashing “<strong><a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-squashfs-sysupgrade.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-squashfs-sysupgrade.bin</a></strong>”, but it didn’t help - still no WiFi.</p><p><strong>5.</strong> Finally flashed “<strong><a href="https://mega.nz/#!DZwxzY5Y!WF-dSaDeVmKwjdB8whX6mkAC-bgu2LPBnCT1tUNJiMo">openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin</a></strong>” from OpenWrt web UI and it works great (WiFi is OK)...</p>											<p class="post-edited">(Last edited by <strong>dicoka</strong> on 30 Nov 2015, 15:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301931">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">dicoka</div>
					<div class="post-datetime">
						1 Dec 2015, 12:38					</div>
				</div>
				<div class="post-content content">
					<p>Maybe someone knows why Wifi is not functional on DIR-300 B5 flashed with&nbsp; 15.05 and 14.07 b7 images from OpenWrt site and if anything can be done with that?</p><p>“openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin” works great, but I don&#039;t have packages I need for this trunk.<br />Maybe someone knows where the packages can be found?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301981">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">ryuchetval</div>
					<div class="post-datetime">
						1 Dec 2015, 18:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dicoka wrote:</cite><blockquote><p>OMG! I finally managed to flash OpenWrt firmware. <strong>Thank you so much MasterX1987!</strong></p><p>I have <strong>DIR-300 EEU B5 Ver.:2.11 </strong>(flashed with <strong>DIR-600 B5 2.18</strong> firemware).<br />First I tried flashing &quot;<a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin</a>&quot; right through Emergency Web Interface as described in <a href="https://wiki.openwrt.org/toh/d-link/dir-300revb#emergency_web_interface">OpenWrt wiki</a> but I had &quot;invalid image&quot; message. The only image I managed to flash before was &quot;<a href="ftp://ftp.dlink.eu/Products/dir/dir-600/driver_software/DIR-600_fw_revB_2-18_eu_multi_20150717.zip">DIR-600_Bx_FW218WWb01.bin</a>&quot; (for DIR-600 B5 Ver.:2.18) from <a href="http://www.dlink.com/uk/en/support/product/dir-600-wireless-n-150-home-router?revision=deu_revb5#downloads">D-link support site</a>...</p><p><strong>1.</strong> I successfully flashed <strong>MasterX1987’s Frimware (<a href="https://mega.nz/#!vYpw0LzS!NY8EqM9FY9-GrWnaPTdggV5Va1R1SLKSJczyK2SS-W8">dir600b_v2.17_bbox-v1.19.1.bin</a>)</strong> using emergency room (it didn’t work with Chrome, but it worked in Firefox...)</p><p><strong>2.</strong> Started http server on my computer (192.168.0.2) and put <strong>&quot;<a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin</a>”</strong> (from <a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/">OpenWrt downloads page</a>) to the servers&#039;s web folder</p><p><strong>3.</strong><br />$ telnet 192.168.0.1 2323<br />$ cd /var<br />$ wget <a href="http://192.168.0.2/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-">http://192.168.0.2/openwrt-15.05-ramips … initramfs-</a><strong>uImage.bin</strong> <br />$ busybox flashcp openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-<strong>uImage.bin</strong> /dev/mtd/2<br /># Now don&#039;t turn off device or you get a brick! .... After 1-2 min the Command are finished. You see it when a new Line are displayed. ( e.g. $ )<br />$ reboot -f&nbsp; &nbsp; # Now Reboot ...</p><p><strong>4.</strong> Changed my computer&#039;s IP to 192.168.1.2 and browsed to 192.168.1.1 and <strong>OpenWrt 15.05</strong> was there!!!! But <strong>WiFi didn’t work</strong>&nbsp; - I enabled it, the LED went green, but there was no SSID on the air. Then from OpenWrt web UI I tried flashing “<strong><a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-squashfs-sysupgrade.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-squashfs-sysupgrade.bin</a></strong>”, but it didn’t help - still no WiFi.</p><p><strong>5.</strong> Finally flashed “<strong><a href="https://mega.nz/#!DZwxzY5Y!WF-dSaDeVmKwjdB8whX6mkAC-bgu2LPBnCT1tUNJiMo">openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin</a></strong>” from OpenWrt web UI and it works great (WiFi is OK)...</p></blockquote></div><p>After I flash the dir600b_v2.17_bbox-v1.19.1.bin my router doesn&#039;t seem to be working on any lan ports.</p><p>My only working port is WAN and I can&#039;t use telnet on it.</p><p>How did you get it to work? Was your LAN port working after flashing the bin?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p301995">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">dicoka</div>
					<div class="post-datetime">
						1 Dec 2015, 20:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ryuchetval wrote:</cite><blockquote><p>After I flash the dir600b_v2.17_bbox-v1.19.1.bin my router doesn&#039;t seem to be working on any lan ports.<br />My only working port is WAN and I can&#039;t use telnet on it.<br />How did you get it to work? Was your LAN port working after flashing the bin?</p></blockquote></div><p>Just keep trying. Maybe change browser. With all my experiments sometimes it didn&#039;t work after emergency room and dir600b_v2.17_bbox-v1.19.1.bin.<br />When flashed successfully LAN ports should be working with D-Link v2.17 web interface on 192.168.0.1 and telnet on 192.168.0.1:2323.</p>											<p class="post-edited">(Last edited by <strong>dicoka</strong> on 2 Dec 2015, 10:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302002">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">dicoka</div>
					<div class="post-datetime">
						1 Dec 2015, 21:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dicoka wrote:</cite><blockquote><p>Maybe someone knows why Wifi is not functional on DIR-300 B5 flashed with&nbsp; 15.05 and 14.07 b7 images from OpenWrt site and if anything can be done with that?</p><p>“openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin” works great, but I don&#039;t have packages I need for this trunk.<br />Maybe someone knows where the packages can be found?</p></blockquote></div><p>By the way, today I flashed my DIR-300 B5 with <a href="https://cloud.mail.ru/public/609c63afc71d%2FKEENETIC_START-V2.02%5BAAKV.3%5DC1.zip">Zyxel Keenetic Start firmware</a>, and it works perfectly and it has all functionality I need. It&#039;s told to work much better than original d-link firmware and its web interface is just great. I think I&#039;ll stick with it until there&#039;s OpenWrt with no WiFi problem.</p><p>I flashed <a href="https://cloud.mail.ru/public/609c63afc71d%2FKEENETIC_START-V2.02%5BAAKV.3%5DC1.zip">the Keenetic</a> image from MasterX1987’s frimware through telnet, wget and busybox.<br />When flashed it&#039;s on 192.168.1.1. It had Russian interface which can be changed to English by drop down menu on upper right corner.<br />And I updated it from web interface with <a href="http://download.from.zyxel.ru/d4cecd0e-df94-45c2-8c43-c0d1d6c29d1a/KEENETIC_START_v2.04%5BAAKV.1%5DC6.zip">last version firmware from Zyxel Russia site</a>.</p>											<p class="post-edited">(Last edited by <strong>dicoka</strong> on 6 Dec 2015, 08:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308383">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">dutchbrickball</div>
					<div class="post-datetime">
						20 Jan 2016, 20:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dicoka wrote:</cite><blockquote><p>OMG! I finally managed to flash OpenWrt firmware. <strong>Thank you so much MasterX1987!</strong></p><p>I have <strong>DIR-300 EEU B5 Ver.:2.11 </strong>(flashed with <strong>DIR-600 B5 2.18</strong> firemware).<br />First I tried flashing &quot;<a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin</a>&quot; right through Emergency Web Interface as described in <a href="https://wiki.openwrt.org/toh/d-link/dir-300revb#emergency_web_interface">OpenWrt wiki</a> but I had &quot;invalid image&quot; message. The only image I managed to flash before was &quot;<a href="ftp://ftp.dlink.eu/Products/dir/dir-600/driver_software/DIR-600_fw_revB_2-18_eu_multi_20150717.zip">DIR-600_Bx_FW218WWb01.bin</a>&quot; (for DIR-600 B5 Ver.:2.18) from <a href="http://www.dlink.com/uk/en/support/product/dir-600-wireless-n-150-home-router?revision=deu_revb5#downloads">D-link support site</a>...</p><p><strong>1.</strong> I successfully flashed <strong>MasterX1987’s Frimware (<a href="https://mega.nz/#!vYpw0LzS!NY8EqM9FY9-GrWnaPTdggV5Va1R1SLKSJczyK2SS-W8">dir600b_v2.17_bbox-v1.19.1.bin</a>)</strong> using emergency room (it didn’t work with Chrome, but it worked in Firefox...)</p><p><strong>2.</strong> Started http server on my computer (192.168.0.2) and put <strong>&quot;<a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-uImage.bin</a>”</strong> (from <a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/">OpenWrt downloads page</a>) to the servers&#039;s web folder</p><p><strong>3.</strong><br />$ telnet 192.168.0.1 2323<br />$ cd /var<br />$ wget <a href="http://192.168.0.2/openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-">http://192.168.0.2/openwrt-15.05-ramips … initramfs-</a><strong>uImage.bin</strong> <br />$ busybox flashcp openwrt-15.05-ramips-rt305x-dir-300-b7-initramfs-<strong>uImage.bin</strong> /dev/mtd/2<br /># Now don&#039;t turn off device or you get a brick! .... After 1-2 min the Command are finished. You see it when a new Line are displayed. ( e.g. $ )<br />$ reboot -f&nbsp; &nbsp; # Now Reboot ...</p><p><strong>4.</strong> Changed my computer&#039;s IP to 192.168.1.2 and browsed to 192.168.1.1 and <strong>OpenWrt 15.05</strong> was there!!!! But <strong>WiFi didn’t work</strong>&nbsp; - I enabled it, the LED went green, but there was no SSID on the air. Then from OpenWrt web UI I tried flashing “<strong><a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/rt305x/openwrt-15.05-ramips-rt305x-dir-300-b7-squashfs-sysupgrade.bin">openwrt-15.05-ramips-rt305x-dir-300-b7-squashfs-sysupgrade.bin</a></strong>”, but it didn’t help - still no WiFi.</p><p><strong>5.</strong> Finally flashed “<strong><a href="https://mega.nz/#!DZwxzY5Y!WF-dSaDeVmKwjdB8whX6mkAC-bgu2LPBnCT1tUNJiMo">openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin</a></strong>” from OpenWrt web UI and it works great (WiFi is OK)...</p></blockquote></div><p>Hi dicoka. I successfully used your method to flash a DIR-600 B6 Software version 2.17. Many thanks. However, as others have noticed, this is a Barrier Breaker version, and none of the Chaos Calmer versions seem to work on this router. The update is successful, but then the router freezes upon reboot, with strange combinations of lights -- as reported by ryuchetval. Does anyone know whether there is a Chaos Calmer version that would upgrade Barrier Breaker for this hardware ? Last post was in December, maybe there has been some other activity since ? Tks.</p><p>Edit: It was dicoka, not ryuchetval who talked about the problems with Chaos Calmer (dir-300-b7).</p>											<p class="post-edited">(Last edited by <strong>dutchbrickball</strong> on 20 Jan 2016, 20:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308891">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">tophe</div>
					<div class="post-datetime">
						24 Jan 2016, 21:56					</div>
				</div>
				<div class="post-content content">
					<p>Many Thanks dikota . I finally found the way to install openwrt-15.05 chaos calmer for the dir 300-b7 on my two routers DIR-600 b6. The fisrt install wasn&#039;t successfull but was ok on the other router.</p><p> First : install (point 1 to 3) on a proper install (software version 2.18) and with the wifi enabled (important). After you just have to do a system upgrade (point 4) and it&#039;s ok !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314674">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">preale</div>
					<div class="post-datetime">
						13 Mar 2016, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi Hi MasterX1987,</p><p>I follow your procedure and apparently it worked perfectly, but something it&#039;s not ok.<br />Every time I reboot the device I lose everything... </p><p>I tried sysupgrade with -F option many times, all of them apparently successfully. but at every reboot the key changes, password lost, and so on...</p><p>did you experienced something similar?</p><p>Thanks<br />Paolo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316476">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">speusippo</div>
					<div class="post-datetime">
						24 Mar 2016, 12:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MasterX1987 wrote:</cite><blockquote><p>==========================================<br />My NFS-Server + Webhost Folder is: /var/www .In there is a Subfolder who called dlink, witch the openwrt.img&#039;s are copied into it...<br />($ cp openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin openwrt-ramips-rt305x-dir-610-a1-initramfs-uImage.bin /var/www/dlink/<br />[ ! Don&#039;t forget the right chmod + chown ! ]<br />$ sudo chown -R nobody:nogroup /var/www/dlink &amp;&amp; sudo chmod -R 777 /var/www/dlink )</p><p>So when you finished all downloads and maked your Server Live,&nbsp; you are ready to bring it On:<br />1. Flash MyBuild Frimware (dir600b_v2.17_bbox-v1.19.1.bin) to device. (You can use the emergency room or the normal Upload Site from the router...)<br />2. After the Router is rebooted you can connect via telnet to your device:<br />$ telnet 192.168.0.1 2323<br />3. When you connected you need to upload the uImage.bin to device. (Via wget | tftp | ftp get/put | nfs-mount ...)<br />&nbsp; &nbsp; In this case I used nfs-mount to flash it:<br />$ mount -o nolock -t nfs 192.168.0.2:/var/www /home<br />$ cd /home/dlink<br />$ busybox flash_unlock /dev/mtd/2 # don&#039;t use /dev/mtdblock/2, this is the wrong path to flash!<br />$ busybox flashcp openwrt-ramips-rt305x-dir-610-a1-initramfs-uImage.bin /dev/mtd/2<br /># Now don&#039;t turn off device or you get a brick! .... After 1-2 min the Command are finished. You see it when a new Line are displayed. ( e.g. $ )<br />$ reboot -f&nbsp; &nbsp; # Now Reboot ...<br />After that the Power LED goes On, then Off, then blinking 5-10 sec... In that time when its blinking the LED for the first LAN should me lights UP. (... e.g. Your PC is connect to it ... ^^)<br />Now at the end of booting device the Power+LAN1 Lights are ON.<br />4. Then the Openwrt Web Interface are available @ 192.168.1.1 . Your PC you gived the IP: 192.168.1.2 .<br />You can now flash the openwrt-ramips-rt305x-dir-610-a1-squashfs-sysupgrade.bin Firmware to Device... !<br />After the next Reboot, IT DONE !!!!</p><p>Now Have fun with the Next Generation Firmware: Openwrt :-D</p></blockquote></div><p>Hello,<br />I bought this router with the goal of installing upon it OpenWRT. I find this post very useful, but at the end my dlink is bricked (and I&#039;m unable to unbrick).<br />Here is my story:<br />1) I followed the passages above. After some problems I was able to flash via telnet the first firmware.<br />2) I can&#039;t download the second, so I searched and downloaded from Openwrt website. I flashed through ssh using force option<br />3) After flashing I CANNOT access via webgui but I can access via ssh and Openwrt seems to be installed.<br />4) I manually installed Luci and basic packages<br />5) The webgui started to work. I setup wan connection and wireless to. All works well. I cannot access to the openwrt via wireless but I think is a security option, I&#039;m wrong?<br />6) I donwload the package list via webgui. Then I tried to install some packages but the router says that there is no space left on device even if there are at least 70% or memory free. This turn on a light in my mind...<br />7)...I tried to reboot... all was deleted, included the webgui. So I have to restart from point 4<br />8) To try to solve this problem I downloaded the second file on post 37 (which I didn&#039;t see before) and I flashed it with -F parameter<br />9) From this point my router is bricked. I cannot connect nor ping nor telnet nor ssh. I tried to remove power, keep reset pressed, and plug to power for 5 seconds for the emergency recovery. But the power led continue to blink with no result. </p><p>Anyone can help me to unbrick the device and... maybe, to install openwrt again in a manner that save the changes?</p><p>Thanks a lot,<br />Jacopo</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=49396&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>