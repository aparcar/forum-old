<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> serial cable for wgt634u</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p42657">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">theaz</div>
					<div class="post-datetime">
						14 Feb 2007, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys</p><p>Quick question: I am building a serial cable for my wgt634u. Bought a CA-42 cable by &quot;Connecting People&quot; off eBay. Colours are white, black, orange, blue, green. Anyone else used this cable? If so, what arrangement did you use? I have searched the internet, but nothing has descriptions for this cable configuration...</p><p>cheers...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42661">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">loswillios</div>
					<div class="post-datetime">
						14 Feb 2007, 14:44					</div>
				</div>
				<div class="post-content content">
					<p>pinouts.ru</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43055">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">theaz</div>
					<div class="post-datetime">
						21 Feb 2007, 18:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I have been going crazy here trying to resolve this issue.</p><p>I am surprised to see that, no matter what combination I use, I cannot loop text back when I attach any two wires together in a tool such as minicom, zterm or hyperterminal. However, I can read the load information if I attach my blue wire to the third pin and the white wire to the fourth. Has anyone else ever come across this situation: Does it mean my cable is a dud, or am I just missing something obvious? All wires carry a voltage as measured by a multimeter.</p><p>Is there any other way to tell what wire is to input data into the router, as I have tried every solution I can think of.</p><p>cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43058">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						21 Feb 2007, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>I would start by making sure your grounds are tied together.</p><p><a href="http://pinouts.ru/Slots/USB_pinout.shtml">http://pinouts.ru/Slots/USB_pinout.shtml</a></p><p>Make sure +5V from the USB port is not being passed through to the router.<br />If you can figure out these two things, then you&#039;ll only have to worry about the Tx and Rx lines.</p>											<p class="post-edited">(Last edited by <strong>KillaB</strong> on 21 Feb 2007, 18:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43059">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">bradkarhu</div>
					<div class="post-datetime">
						21 Feb 2007, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>use screen. something like this:<br /></p><div class="codebox"><pre><code>screen /dev/ttyUSB0 115200</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43061">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						21 Feb 2007, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>you should not, of course, attach a usb port directly to the router&#039;s serial. usb is NOT compatible with serial, that&#039;s what controllers like the pl2303 are useful for (I don&#039;t see how the usb pinout is relevant)<br />I find a speaker helpful for differentiating tx and rx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43064">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						21 Feb 2007, 19:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Kevin wrote:</cite><blockquote><p>you should not, of course, attach a usb port directly to the router&#039;s serial. usb is NOT compatible with serial, that&#039;s what controllers like the pl2303 are useful for (I don&#039;t see how the usb pinout is relevant)<br />I find a speaker helpful for differentiating tx and rx</p></blockquote></div><p>It&#039;s assumed that theaz is trying to get console access on his WGT.<br />Therefore, he needs to determine the proper pinout from his USB-to-TTL adapter.&nbsp; That&#039;s why the USB pinout is relavent.</p><p>If I&#039;m wrong in this assumption, please let us know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43089">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">bradthebuyer</div>
					<div class="post-datetime">
						22 Feb 2007, 04:45					</div>
				</div>
				<div class="post-content content">
					<p>I bought a CA-42 on eBay for my WGT634U that sounds similar. The USB end is blue plastic and has a serial number starting with WT048 on the silver label on one side. After searching around for a while I couldn&#039;t find anything on this very generic cable. So, I stripped the wires, connected the USB end, opened up minicom with 115200 N81 on /dev/ttyUSB0 and connected different color wires to RX while booting the router until I got a bunch of garbled output. Then I tried the remaining wires on GND until the text became readable. After that it was no problem to find the wire for TX. Anyway, the following worked for me:</p><p>White to TX<br />Blue to RX<br />Green to GND</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43099">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						22 Feb 2007, 08:05					</div>
				</div>
				<div class="post-content content">
					<p>if he&#039;s trying to find the pinout, the serial tx and rx have no relation to the usb tx and rx. looking at the chip datasheet would tell you all the pins anyway, if you want to follow traces <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43114">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						22 Feb 2007, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />I need a serial cable for the wgt634u to. I have a siemens usb cable for a S65. At the cable is written S30880-S5601-A810. Can I use this cable for a serial cable?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43140">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">bradthebuyer</div>
					<div class="post-datetime">
						23 Feb 2007, 05:03					</div>
				</div>
				<div class="post-content content">
					<p>The CA-42 cables do have a serial to USB chip, usually a PL2303. So, if its a PL2303 based cable all you have to find is the correct serial RX, TX, &amp; GND wires. Having the pin-out for the POP port end is pretty much useless anyway, as its usually next to impossible to expose the wiring without nearly destroying it. If you&#039;re running Linux and want to find out if your cable is using a PL2303 chip plug it into a USB port and run:&nbsp; </p><div class="codebox"><pre><code>lsmod | grep pl2303</code></pre></div><p>You&#039;ll see the pl2303 module is loaded and in use by the usbserial and usbcore modules. The one I got on eBay does use a PL2303 and works great when connected as posted above. You can of course find the pin-out for the serial header on the router <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/WGT634U#head-6128a64e71f6af2e38e2b1e0066d8b3c08d62d2a">here</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43182">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">theaz</div>
					<div class="post-datetime">
						24 Feb 2007, 07:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>Sorry for the slow reply: had to wait for the weekend to start mucking about again. Your feedback has been very useful.</p><p>KillaB: No chance of that: None of the wires had anywhere near 5V running through them as read on the multimeter. I confess I was getting a quite confused working out the pinouts though.<br />Kevin: you are right, as noted by bradthebuyer, the cable has PL2303 in it<br />Bradthebuyer: Your cable differs slightly from mine as mine has a different silver label on it: IL40083821; Nonetheless, like magic, I used your colour combination and I was able to control-c into CFE!</p><p>But...<br />Now I have got into CFE, I cannot actually type anything into it. eg: if I type &quot;help&quot; nothing appears in the hyperterminal/minicom etc. I have tried with and without hardware and software flow control and all sorts of terminal settings. After I have loaded into CFE, should I be able to ping the router across the WAN port? What settings did you guys use for your local IP, subnet, [and gateway]? I have tried static IPs eg 192.168.0.10 and 192.168.1.10</p><p>The thing is that I am sure the desktop can communicate with the router as I can get into CFE with control-c. Is this a beginners mistake: have I forgotten to do something obvious?</p><p>thanks in advance...</p>											<p class="post-edited">(Last edited by <strong>theaz</strong> on 24 Feb 2007, 07:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43184">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">bradkarhu</div>
					<div class="post-datetime">
						24 Feb 2007, 08:26					</div>
				</div>
				<div class="post-content content">
					<p>Maybe you don&#039;t have Rx right (what the router sees you type)? If you tried &quot;screen /dev/ttyUSB0 115200&quot; under root and don&#039;t see your own output, then that&#039;s gotta be it. </p><p>IP addresses aren&#039;t an issue - communicating over the serial port is completely independent of all that. To set it up so you can ping your router over wan you need to configure the router&#039;s config file (/etc/config/wireless). The only difference from the default is to uncomment the line that says &quot;#option network lan&quot;. </p><p>Use this as a reference: <a href="http://wiki.openwrt.org/OpenWrtDocs/KamikazeConfiguration">http://wiki.openwrt.org/OpenWrtDocs/Kam … figuration</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43221">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">bradthebuyer</div>
					<div class="post-datetime">
						25 Feb 2007, 07:39					</div>
				</div>
				<div class="post-content content">
					<p>If the router is just sitting at a CFE prompt you wont be able to ping / communicate with it via IP at all since you would have to at least setup an IP address for the WAN port in CFE with an ifconfig command first. It wouldn&#039;t do you any good anyway though since there aren&#039;t any services running while in CFE. Thats strange that you can control-C into CFE but not enter any input into the router afterwards. If you hit control-C again while at the CFE prompt do you get a new line?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p43293">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">theaz</div>
					<div class="post-datetime">
						26 Feb 2007, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>I played around with the cables some more, and actually got it working: the colours I used were</p><p>White to TX<br />Blue to RX<br />Orange to GND</p><p>I am guessing that using the green on ground allowed the text to be sent from the router no problems, whilst also allowing the router to interpret the control c; but that was all. However, it would not read anything more from the serial console, and additional control-c did not add new lines: pretty strange...</p><p>Thanks for helping me get this thing sorted.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73330">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">sophana</div>
					<div class="post-datetime">
						13 Sep 2008, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I have the exact same problem with the same ca-42 cable&nbsp; IL40083821<br />Can&#039;t make the loopback work<br />connecting white to blue (it is indeed confirmed by the nokia connector pinout)<br />except that the ground is black</p><p>I tried pico under linux and openwrt and hyperterminal under windows xp.<br />Can&#039;t see anything echoed.</p><p>Is there anyone who got this cable working?<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74391">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Wilmer</div>
					<div class="post-datetime">
						8 Oct 2008, 11:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sophana wrote:</cite><blockquote><p>I have the exact same problem with the same ca-42 cable&nbsp; IL40083821<br />Can&#039;t make the loopback work</p></blockquote></div><p>I think I read that some people had data cables that needed power from the phone (or router, in this case) to work properly, power from the USB port was not enough (or simply wasn&#039;t used). You may want to try that out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74417">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						8 Oct 2008, 15:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sophana wrote:</cite><blockquote><p>I have the exact same problem with the same ca-42 cable&nbsp; IL40083821<br />Can&#039;t make the loopback work</p></blockquote></div><p>Some Samaritan in this forum was very nice to send me a free USB/Serial console cable that works nicely with my WGT634U, LaFonera, and some other WiFi routers. I am not sure if it is the same cable you have; however, it&#039;s made from a Nokia CA-42 V2 adapter converter as shown on the following excerpt from the /var/tmp/messages file on my Linu SuSE computer:<br /></p><div class="codebox"><pre><code>Oct  8 08:33:24 Mi syslog-ng[2317]: last message repeated 2 times
Oct  8 08:50:42 Mi kernel: usb 3-1: new low speed USB device using ohci_hcd and address 4
Oct  8 08:50:42 Mi kernel: usb 3-1: new device found, idVendor=07d0, idProduct=4101
Oct  8 08:50:42 Mi kernel: usb 3-1: new device strings: Mfr=1, Product=2, SerialNumber=0
Oct  8 08:50:42 Mi kernel: usb 3-1: Product: USB to Serial
Oct  8 08:50:42 Mi kernel: usb 3-1: Manufacturer: Kingsun Semiconductor
Oct  8 08:50:42 Mi kernel: usb 3-1: configuration #1 chosen from 1 choice
Oct  8 08:50:42 Mi kernel: cypress 3-1:1.0: Nokia CA-42 V2 Adapter converter detected
Oct  8 08:50:42 Mi kernel: usb 3-1: Nokia CA-42 V2 Adapter converter now attached to ttyUSB0</code></pre></div><p>BTW, what exactly did you mean by a loopback?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74927">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Wilmer</div>
					<div class="post-datetime">
						18 Oct 2008, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>I now have a DKU-5 cable that works with my phone, but can&#039;t get it to work with my router. Since I haven&#039;t had any console on that device at all so far, I don&#039;t know if I should blame the router or the cable. The cable seems suspicious though. It gives me a ttyUSB0 when I plug it in, I then measured its signals using a cheap multi-meter and they&#039;re not quite 3.3V at all. Is this a typical sympton of &quot;your cable needs 3.3V from the board&quot;?</p><p>I find it strange that I can get it to work with my phone, but not as a loopback. The cables also aren&#039;t exactly how I expected them; there&#039;s no data GND, only charging GND. Also, there&#039;s a GND on the outside of the connector, I guess I should be using that one.</p>											<p class="post-edited">(Last edited by <strong>Wilmer</strong> on 18 Oct 2008, 20:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74935">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">baracudaz</div>
					<div class="post-datetime">
						18 Oct 2008, 23:13					</div>
				</div>
				<div class="post-content content">
					<p>I have been using DKU-5 cable with wgt634u for quite a while. And I can say I am 100% happy. From the first connection - it just works. Here are a few notes:</p><p>- Keep DC 3.3V unconnected! You don&#039;t need it - the chip on the cable is powered by USB port itself.<br />- GND _DEFINITELY_ needs to be connected to the board. Without it, no joy, sorry!!!<br />- Don&#039;t rely on wire colors from web. No standard exists here!!! Each vendor make it own decisions on wiring. Only way how to find out reliably is when you disassembling the Nokia connector - keep close eye on pins where wires are connected to.&nbsp; </p><p><a href="http://forum.openwrt.org/viewtopic.php?id=9201">http://forum.openwrt.org/viewtopic.php?id=9201</a></p>											<p class="post-edited">(Last edited by <strong>baracudaz</strong> on 18 Oct 2008, 23:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74954">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Wilmer</div>
					<div class="post-datetime">
						19 Oct 2008, 13:53					</div>
				</div>
				<div class="post-content content">
					<p>I definitely ignored all the documented colours, all I looked at is pin-out descriptions of the Nokia data cables. It took quite some time to trace those all back to the individual wires since it&#039;s was impossible to open the connector normally, I just had to slowly shave it off, slice by slice, to get to the actual wires. :-/</p><p>I&#039;ll give it another shot, but I just don&#039;t trust the voltage already... Also, I have the impression that I have to do something to make the cable really behave like RS232 on the phone end, and that by default it operates in a slightly different way.</p><p>(I&#039;m actually doing this for a different device, but it should all be the same IMHO.)</p>											<p class="post-edited">(Last edited by <strong>Wilmer</strong> on 19 Oct 2008, 13:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75398">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Wilmer</div>
					<div class="post-datetime">
						26 Oct 2008, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>FWIW for people who have a cable similar to mine (DKU5 with an ark3116 chip), I figured out how it should work:</p><p>pin wire - description<br />xx blue - gnd on the sides<br />02 yellow - gnd/charge<br />03 orange - aci (insert-remove)<br />05 white - usb vbus<br />06 green - pc &lt;- phone<br />07 red - pc -&gt; phone</p><p>I found the docs on the pin - description somewhere else, where it said 7 is rx&lt;-phone and 6 is tx-&gt;phone, but my tests showed otherwise since with red/7 disconnected I still received stuff from the router. Makes me wonder if maybe I did screw up mapping the wires to pins on the connector. :-/</p><p>Anyway, with this cable, one should connect blue (the ground pins on the sides) to the GND on the router and both orange and white to the +3.3V. The yellow ground wire can be ignored.</p><p>Of course YMMV, but just adding yet another option to this endless list.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111502">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">sohail12</div>
					<div class="post-datetime">
						19 Jun 2010, 07:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi friends, I am first time here and really found ti good by all means, Infact the topic is good to read and and sending this page to my other firends because they are always asking me for the good resources to read out</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141998">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">darenmink</div>
					<div class="post-datetime">
						24 Aug 2011, 09:47					</div>
				</div>
				<div class="post-content content">
					<p>I haven&#039;t tried this cable but using HDMI cable from long time. I suggest you go for gold plated hdmi cable. They are expensive but give you much better quality.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151688">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">raymaria47</div>
					<div class="post-datetime">
						21 Dec 2011, 11:55					</div>
				</div>
				<div class="post-content content">
					<p>This post is very interesting, I like it. I will always come to visit after.I would recommend to friends more.<br /><a href="http://www.cabletiesandmore.com/cable-raceways-and-wire-management-systems.php">wire covers</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>