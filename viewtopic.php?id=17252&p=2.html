<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT Kamikaze on TP-link tl-wa501g?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 14</div><nav><ul><li><a href="viewtopic.php%3Fid=17252&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=17252&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=14.html">14</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p108596">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">dmitryp</div>
					<div class="post-datetime">
						5 May 2010, 17:40					</div>
				</div>
				<div class="post-content content">
					<p>Wohhoo... I found how to fix my router. It&#039;s only possible when you set the manual IP adress with ip, mask and gateway and switch-off/on with pressing the restart button and connect using telnet while ten second. So now I can go into the telnet console. Now I have another question: which version of openWRT is better to compile? Is it possible to find somewhere precompiled version of the image?</p><p>And another question: how to downgrade to the original firmware. What can I do?</p><p>In your manual you are loading vxworks.raw</p><div class="codebox"><pre><code>RedBoot&gt; load -r -b %{FREEMEMLO} vxworks.raw</code></pre></div><p>where did you found this raw file? Loaded using the TFTP?</p><p>Thanks,<br />Dmitry</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108597">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">dmitryp</div>
					<div class="post-datetime">
						5 May 2010, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve just recovered all the topic in my head, now I want to ask you to send the vxworks.raw file <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>And also to proof: you have upgraded the same tp-link wr340g v5.3 (written on the board, sticker and it was written in tp-link web panel) with that vxworks.raw file?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108662">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						6 May 2010, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>dmitryp<br />It seems that flash chip in your revision is not supported yet. Read it&#039;s marking.<br />Can you solder UART and show console log? </p><p>PM your email.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108669">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						6 May 2010, 14:29					</div>
				</div>
				<div class="post-content content">
					<p>Just for information: My device is REV 5.4 and it contains a WINBOND W25Q16BVSIG flash (and RAM is WINBOND W9864G6IH-6).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108698">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						7 May 2010, 00:37					</div>
				</div>
				<div class="post-content content">
					<p>All devices I had was rev:5.4 onboard and has HK 25L1605AM2 spi flash and it was supported by Kamikadze out of the box.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108771">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						8 May 2010, 17:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Tommorow I&#039;ll try to put all configs and images together and put it there on the forum.</p></blockquote></div><p>It would be great if you could post your config files soon because I&#039;ve succesfully compiled Kamikaze 8.09.2. It is too large as expected, so I have to change the config and it is better to use a working config as start point.</p><p>My router contains a WINBOND flash (see above for the type) and I don&#039;t have any problems like dmitryp but I&#039;ve only completed the first step (upgrade with web dialog) and have a running mini Linux. What are you doing after the first reboot? Are you changing the contents of the flash and can I therefore be sure that I can flash a larger Linux from RedBoot and/or Linux?<br />Where did you get your Kamikaze 8.09.2? I&#039;ve downloaded the sources of Kamikaze 8.09.2 but it is older than your version. I think you are using Kernel 2.6.30 and my version contains 2.6.28.</p><p>Thanks</p><p>Edit: Could you please provide some infos about the serial interface? I found a connector labeled SJ1. What is the&nbsp; pin assignment?<br />+----------+<br />!&nbsp; * * * ! *&nbsp; ! SJ1<br />+----------+</p>											<p class="post-edited">(Last edited by <strong>mvsroot</strong> on 8 May 2010, 17:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108784">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						9 May 2010, 01:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>... because I&#039;ve succesfully compiled Kamikaze 8.09.2.</p></blockquote></div><p>- sounds very attractive!</p><p>Serial interface on SJ1<br />|3,3V GND RX | TX |<br />38400 on vxwoks, 115200 on my RedBoot/kernels, 9600 on original openwrt kernel config.<br />&quot;Vxkiller&quot; is my first try on latest stable Openwrt (it is not Kamikadze but Backfire 10.03). You can get it from oficial site as usual.</p><p>Flash content, especially last eraseblock with boardconfig and radioconfig, is fully prepared for openwrt after second reboot. So, for sure, you can flash your images from RedBoot as usual. Use openwrt-atheros-vmlinux.lzma/openwrt-atheros-root.squashfs for this job. There was link on good tutorial in my posts before. Many things are changed in my working 8.09.3 Kamikaze tree. Changes are in the main build config, arch/kernel config, base_files and some other packges also need attention. I have no idea how to share all this changes on this forum. Just make decision what functionality you need from your device, and try to disable all unnessesary parts in image and kernel and it will fit.<br />Now i&#039;m trying to add dsa_switch routines on latest kenel in Openwrt/trunk. </p><p>Can you help dmitryp with vxworks.raw?<br />Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108811">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						9 May 2010, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply. What is the size of your compressed (for example .tar.bz2) working directory of Backfire/Kamikaze? If it is not too large you can upload it to <a href="http://www.rapidshare.com">www.rapidshare.com</a>.<br />dmitryp can download the following file <a href="http://www.tp-link.com/support/toDownload.asp?url=%2Fenglish%2Fsoft%2F20103263463811%2Ezip">http://www.tp-link.com/support/toDownlo … 3811%2Ezip</a> and strip the header. I don&#039;t know which Operating System he uses so I can&#039;t give any advice how to strip the header. In Linux I would use tail or dd.</p><p>Edit: You can post (or upload to rapidshare) a patch (diff -Naur after deleting object code/load moduls/images) if it is too large</p>											<p class="post-edited">(Last edited by <strong>mvsroot</strong> on 12 May 2010, 15:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108866">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">degenerated</div>
					<div class="post-datetime">
						10 May 2010, 17:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>(...)<br />degenerated&nbsp; - can you post internal photos?</p></blockquote></div><p>sorry i couldn&#039;t post earlier. here you go</p><p><a href="http://i40.tinypic.com/35aj8za.jpg">http://i40.tinypic.com/35aj8za.jpg</a> (1600x1200)</p><p>TL-WA500G<br /><span class="postimg"><img src="http://i41.tinypic.com/97tx0y.jpg" alt="http://i41.tinypic.com/97tx0y.jpg" /></span></p><br /><p>I currently use it in acess point mode connected to a Asus wl500gp via WDS and WEP128.</p><p>I intend to flash it with openWrt in hope i can use WPA2, since the default firmware doesn&#039;t allow me.<br />Do you guys think is possible ?</p>											<p class="post-edited">(Last edited by <strong>degenerated</strong> on 10 May 2010, 18:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108996">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						13 May 2010, 09:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>degenerated wrote:</cite><blockquote><p>I currently use it in acess point mode connected to a Asus wl500gp via WDS and WEP128.</p><p>I intend to flash it with openWrt in hope i can use WPA2, since the default firmware doesn&#039;t allow me.<br />Do you guys think is possible ?</p></blockquote></div><p>Thanks for photo. Can you write down chip markings here? It is really impossible to read it from photo.</p><p>Openwrt&#039;s WPA2 implementation need to be tested on such small RAM footprint we have on this devices. It is a realy horrible setup for recent linuxes.</p><p>However WPA2 is working well on last wa500 firmware. I did tests yet and post this message from wr340g hardware running last wa500 fimware in WPA2-PSK client mode connected to wr340g running last wr340g firmware in AP mode WPA2-PSK AES encryption.</p><p>On client:<br />Firmware Version:&nbsp; &nbsp; <br />4.2.3 Build 090707 Rel.37067n<br />Hardware Version:&nbsp; &nbsp; <br />WA500G v1 081520C2</p><p>On AP:<br />Firmware Version:&nbsp; &nbsp; <br />4.5.4 Build 100316 Rel.59606n<br />Hardware Version:&nbsp; &nbsp; <br />WR340G v5 081520C2</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 13 May 2010, 09:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109050">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">diazeeeee</div>
					<div class="post-datetime">
						14 May 2010, 01:55					</div>
				</div>
				<div class="post-content content">
					<p>Hello xssa,</p><p>first of all I&#039;d like to thank you for your work.<br />I had an useless TP-LINK TL-WR340G+ bought for 5 euros in a chinese supermarket. When I saw your topic I decided to have fun with it.<br />Revision on board is 5.4.</p><p>I uploaded the vxkiller in the webif and it worked perfectly. I had a running Busybox.</p><p>Since I&#039;m totally new with Redboot I decided to get my hands on.<br />I followed the instructions om the link you gave few posts before.<br />But it seems that I can&#039;t flash the rootfs on my box, i get a very talkative &quot;Unknown error&quot;...<br />(I have the same issue on Kamikaze and backfire binaries downloaded from openwrt.org)</p><div class="codebox"><pre><code>[ diaz_j-&gt;imac-jeremy.eth.diaznet.fr ~/Documents ] $ telnet 192.168.1.1 9000
Trying 192.168.1.1...
Connected to 192-168-1-1.pool-vpn.diaznet.fr.
Escape character is &#039;^]&#039;.
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; ip_addr -h 192.168.1.42
IP: 192.168.1.1, Default server: 192.168.1.42
RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x800f37ff, assumed entry at 0x80033800
RedBoot&gt; fis create -r 0x80034000 -e 0x80034000 vmlinux.bin.l7
... Erase from 0xbfc10000-0xbfcd0000: ............
... Program from 0x80033800-0x800f3800 at 0xbfc10000: ............
... Erase from 0xbfde0000-0xbfdf0000: .
... Program from 0x807f0000-0x80800000 at 0xbfde0000: .
RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-root.squashfs
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x801d37ff, assumed entry at 0x80033800
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
vmlinux.bin.l7    0xBFC10000  0x80034000  0x000C0000  0x80034000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; fis free
  0xBFCD0000 .. 0xBFDE0000
RedBoot&gt; fis create -l 110000 rootfs
... Erase from 0xbfcd0000-0xbfceadb0: ..
... Program from 0x80033800-0x801d3800 at 0xbfcd0000: ..V
Can&#039;t program region at 0xbfcf0000: Unknown error
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
vmlinux.bin.l7    0xBFC10000  0x80034000  0x000C0000  0x80034000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt;</code></pre></div><p>Am I doing something wrong ? I&#039;m quite lost for the moment <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thanks,<br />Jeremy</p>											<p class="post-edited">(Last edited by <strong>diazeeeee</strong> on 14 May 2010, 01:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109080">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						14 May 2010, 13:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>diazeeeee wrote:</cite><blockquote><p>Hello xssa,</p><p>first of all I&#039;d like to thank you for your work.<br />I had an useless TP-LINK TL-WR340G+ bought for 5 euros in a chinese supermarket. When I saw your topic I decided to have fun with it.<br />Revision on board is 5.4.</p><p>I uploaded the vxkiller in the webif and it worked perfectly. I had a running Busybox.</p><p>Since I&#039;m totally new with Redboot I decided to get my hands on.<br />I followed the instructions om the link you gave few posts before.<br />But it seems that I can&#039;t flash the rootfs on my box, i get a very talkative &quot;Unknown error&quot;...<br />(I have the same issue on Kamikaze and backfire binaries downloaded from openwrt.org)</p><div class="codebox"><pre><code>[ diaz_j-&gt;imac-jeremy.eth.diaznet.fr ~/Documents ] $ telnet 192.168.1.1 9000
Trying 192.168.1.1...
Connected to 192-168-1-1.pool-vpn.diaznet.fr.
Escape character is &#039;^]&#039;.
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; ip_addr -h 192.168.1.42
IP: 192.168.1.1, Default server: 192.168.1.42
RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x800f37ff, assumed entry at 0x80033800
RedBoot&gt; fis create -r 0x80034000 -e 0x80034000 vmlinux.bin.l7
... Erase from 0xbfc10000-0xbfcd0000: ............
... Program from 0x80033800-0x800f3800 at 0xbfc10000: ............
... Erase from 0xbfde0000-0xbfdf0000: .
... Program from 0x807f0000-0x80800000 at 0xbfde0000: .
RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-root.squashfs
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x801d37ff, assumed entry at 0x80033800
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
vmlinux.bin.l7    0xBFC10000  0x80034000  0x000C0000  0x80034000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; fis free
  0xBFCD0000 .. 0xBFDE0000
RedBoot&gt; fis create -l 110000 rootfs
... Erase from 0xbfcd0000-0xbfceadb0: ..
... Program from 0x80033800-0x801d3800 at 0xbfcd0000: ..V
Can&#039;t program region at 0xbfcf0000: Unknown error
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
vmlinux.bin.l7    0xBFC10000  0x80034000  0x000C0000  0x80034000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt;</code></pre></div><p>Am I doing something wrong ? I&#039;m quite lost for the moment <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thanks,<br />Jeremy</p></blockquote></div><p>This router has just 1MB (Edit: 2MB is correct) flash. I think the size of your kernel and root fs is probably too large. You have to compile your own with less options turned on.</p>											<p class="post-edited">(Last edited by <strong>mvsroot</strong> on 14 May 2010, 15:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109083">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						14 May 2010, 13:55					</div>
				</div>
				<div class="post-content content">
					<p>diazeeeee<br />1)<br />Your kernel is 0xC0000 bytes long (786432 bytes),<br />Your rootfs is 0x1A0000 bytes long (1703936 bytes)<br />But after flashing a kernel you have only 0x110000 bytes of free space, so your rootfs will not fit.<br />2)<br />When you try to flash rootfs you omit &quot;0x&quot; prefix in size, so &quot;110000&quot; is interpreted as dec value which is not aligned to 0x10000 (or 65536 bytes) eriseblock size. Because of that you got &quot;Unknown error&quot; when trying to flash 110000 or 0x1ADB0 bytes of data.</p><p>Where did you find this instruction? <br />Edit: I am about this command:<br />fis create -r 0x80034000 -e 0x80034000 vmlinux.bin.l7</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 14 May 2010, 14:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109084">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						14 May 2010, 14:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>This router has just 1MB flash. I think the size of your kernel and root fs is probably too large. You have to compile your own with less options turned on.</p></blockquote></div><p>You are wrong, router has 2MB flash (0xBFDFFFF-0xBFC00000=0x200000=2097152 bytes)<br />But suggestion is good.</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 14 May 2010, 14:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109087">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						14 May 2010, 15:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>This router has just 1MB flash. I think the size of your kernel and root fs is probably too large. You have to compile your own with less options turned on.</p></blockquote></div><p>You are wrong, router has 2MB flash (0xBFDFFFF-0xBFC00000=0x200000=2097152 bytes)<br />But suggestion is good.</p></blockquote></div><p>Sorry was a typo. I just tried to change it. You were faster :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109141">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">dmitryp</div>
					<div class="post-datetime">
						15 May 2010, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>My board looks this:</p><p><span class="postimg"><img src="http://i43.tinypic.com/350kk1v.jpg" alt="http://i43.tinypic.com/350kk1v.jpg" /></span><br />Full screen image: <a href="http://i40.tinypic.com/r0cxfn.jpg">raw image</a></p><p>Version is flashed, but it&#039;s 5.3.</p><p>I have Ubuntu, so I&#039;m running on linux OS. I know tail, dd and split commands. Where I can download kamikazde to update my board, and how I should split/erase/load using tftp etc.? Can you write something like step by step?</p>											<p class="post-edited">(Last edited by <strong>dmitryp</strong> on 15 May 2010, 12:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109148">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">honor</div>
					<div class="post-datetime">
						15 May 2010, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>I have a 5.4 hardware version. There is a few PCB diference&#039;s to 5.3. You have an older case too. <a href="http://i40.tinypic.com/bezhj.jpg">Full screen image.</a> Version from white sticker 2.22.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109149">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">diazeeeee</div>
					<div class="post-datetime">
						15 May 2010, 16:40					</div>
				</div>
				<div class="post-content content">
					<p>To xssa and mvsroot:</p><p>I have found the instructions at the link you gave:<br /><a href="http://wiki.x-wrt.org/index.php/Kamikaze_Installation">http://wiki.x-wrt.org/index.php/Kamikaze_Installation</a></p><p>I have compiled successfully a light-weighted build of kamikaze and I finally managed to put it on my flash.<br />But sadly it won&#039;t boot <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><div class="codebox"><pre><code>[ diaz_j-&gt;192-168-0-106.wifi.diaznet.fr ~ ]                                                                                                                                                                                                                                              $ telnet 192.168.1.1 9000
Trying 192.168.1.1...
Connected to 192-168-1-1.pool-vpn.diaznet.fr.
Escape character is &#039;^]&#039;.
RedBoot&gt; 
RedBoot&gt; 
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
vmlinux.bin.l7    0xBFC10000  0x80034000  0x000C0000  0x80034000
rootfs            0xBFCD0000  0x80033800  0x00110000  0x80033800
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; fis init
About to initialize [format] FLASH image system - continue (y/n)? y
*** Initialize FLASH Image System
... Erase from 0xbfde0000-0xbfdf0000: .
... Program from 0x807f0000-0x80800000 at 0xbfde0000: .
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; ip_addr -h 192.168.1.42
IP: 192.168.1.1, Default server: 192.168.1.42
RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x800f37ff, assumed entry at 0x80033800
RedBoot&gt; fis create kernel
... Erase from 0xbfc10000-0xbfcd0000: ............
... Program from 0x80033800-0x800f3800 at 0xbfc10000: ............
... Erase from 0xbfde0000-0xbfdf0000: .
... Program from 0x807f0000-0x80800000 at 0xbfde0000: .
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
kernel            0xBFC10000  0x80033800  0x000C0000  0x80033800
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt; fis free
  0xBFCD0000 .. 0xBFDE0000
RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-root.squashfs
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x800f37ff, assumed entry at 0x80033800
RedBoot&gt; fis create -l 0x110000 rootfs
... Erase from 0xbfcd0000-0xbfde0000: .................
... Program from 0x80033800-0x800f3800 at 0xbfcd0000: ............
... Erase from 0xbfde0000-0xbfdf0000: .
... Program from 0x807f0000-0x80800000 at 0xbfde0000: .
RedBoot&gt; fis load -l kernel
Image loaded from 0x80033800-0x8028df2c
RedBoot&gt; exec</code></pre></div><p>The AP keeps rebooting since then.</p><p>Would you have working images for this device ? Like a kernel and a rootfs</p><p>Many thanks</p><p>Jeremy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109156">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						15 May 2010, 23:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>diazeeeee wrote:</cite><blockquote><p>To xssa and mvsroot:</p><p>I have found the instructions at the link you gave:<br /><a href="http://wiki.x-wrt.org/index.php/Kamikaze_Installation">http://wiki.x-wrt.org/index.php/Kamikaze_Installation</a></p><p>.....<br /></p><div class="codebox"><pre><code>RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
Using default protocol (TFTP)
-
Raw file loaded 0x80033800-0x800f37ff, assumed entry at 0x80033800
RedBoot&gt; fis create kernel</code></pre></div><p>.....<br /></p><div class="codebox"><pre><code>RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
kernel            0xBFC10000  0x80033800  0x000C0000  0x80033800</code></pre></div><p>.....<br /></p><div class="codebox"><pre><code>RedBoot&gt; fis load -l kernel
Image loaded from 0x80033800-0x8028df2c
RedBoot&gt; exec</code></pre></div><p>The AP keeps rebooting since then.</p><p>Would you have working images for this device ? Like a kernel and a rootfs</p><p>Many thanks</p><p>Jeremy.</p></blockquote></div><p>You are on right way, all you need is to read carefully and keep in mind some statements:<br /></p><div class="quotebox"><blockquote><p>..... Note: The atheros-2.6 kernel is built with the load and entry address set at 0x80041000.<br />..... Note: If you want to directly start the loaded kernel, you need to load it to the memory location 0x80041000 specified at the build time instead of the %{FREEMEMLO} alias.</p></blockquote></div><p>and </p><div class="quotebox"><blockquote><p>..... Create the kernel flash image by the command (where -r - the load address, -e - the entry address, vmlinux.bin.l7 - name of the kernel image entry as used by the boot script):<br />RedBoot&gt; fis create -r 0x80041000 -e 0x80041000 vmlinux.bin.l7</p></blockquote></div><p>I have working images, but it has some issues, as I state before. I&#039;m still working on it. And, as I can state, marvell switch is working well for now.</p><div class="quotebox"><cite>dmitryp wrote:</cite><blockquote><p>My board looks this:</p></blockquote></div><p>Good photo, seems it has Intel SPI? flash chip, but marking is still unreadable. Look at the small 8 pin chip between Atheros and Marvell, share it&#039;s marking and I will try to add it in kernel flash routines if it is still not there. Also share this two hex dumps from your RedBoot prompt and we&#039;ll see what to do next.<br />RedBoot&gt;x -b 0xbfde0000 -l 0x100<br />RedBoot&gt;x -b 0xbfdf0000 -l 0x100</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109185">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">diazeeeee</div>
					<div class="post-datetime">
						16 May 2010, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>I think I did right but this is still not working:</p><div class="codebox"><pre><code>[ diaz_j-&gt;192-168-0-106.wifi.diaznet.fr ~ ]                                                                                                                                                                                                                                              $ telnet 192.168.1.1 9000
Trying 192.168.1.1...
Connected to 192-168-1-1.pool-vpn.diaznet.fr.
Escape character is &#039;^]&#039;.
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBFC00000  0xBFC00000  0x00010000  0x00000000
vmlinux.bin.l7    0xBFC10000  0x80041000  0x000C0000  0x80041000
rootfs            0xBFCD0000  0x80033800  0x00110000  0x80033800
FIS directory     0xBFDE0000  0xBFDE0000  0x0000F000  0x00000000
RedBoot config    0xBFDEF000  0xBFDEF000  0x00001000  0x00000000
RedBoot&gt;</code></pre></div><p>The AP does not reboot but I have no access to 192.168.1.1.</p><p>I think I will wait for your images :-)</p><p>I had a working openwrt with your vxkiller, I don&#039;t why I wanted to do it by myself...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109248">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						17 May 2010, 18:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>I have working images, but it has some issues, as I state before. I&#039;m still working on it. And, as I can state, marvell switch is working well for now.</p></blockquote></div><p>Sounds great. I am using Linux on this router because I want to use a 5 port switch (like in your minimal image). Hopefully I can turn off the switching in your upcoming image :-). I am missing just WiFi, DHCP and a MAC address filter (firewall). I think that should easily fit into 2MB.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109277">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						17 May 2010, 23:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>... I want to use a 5 port switch (like in your minimal image). Hopefully I can turn off the switching in your upcoming image :-).</p></blockquote></div><p>If you mean some kind of firewalling (nat or whatever) between separated LAN and WAN ports - for now it is working.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109279">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						18 May 2010, 01:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>... I want to use a 5 port switch (like in your minimal image). Hopefully I can turn off the switching in your upcoming image :-).</p></blockquote></div><p>If you mean some kind of firewalling (nat or whatever) between separated LAN and WAN ports - for now it is working.</p></blockquote></div><p>Not exactly. I mean a 5 port switch with all connectors in the same subnet (instead of a WAN connector and 4 LAN connections in 2 different subnets in VxWorks) and WiFi which allows only connections from specified MAC addresses.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109585">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">hipboi</div>
					<div class="post-datetime">
						21 May 2010, 14:02					</div>
				</div>
				<div class="post-content content">
					<p>i read all the post above.where can i download the vxkiller?</p><p><a href="http://78.109.17.98/files/klients/prices/2864/606fe38dda4014fb8f16b9b8a27cee3e.rar">http://78.109.17.98/files/klients/price … 7cee3e.rar</a></p><p>i got ?????? 404&nbsp; : (</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109622">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">honor</div>
					<div class="post-datetime">
						22 May 2010, 00:36					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://rapidshare.com/files/390107053/606fe38dda4014fb8f16b9b8a27cee3e.rar.html">http://rapidshare.com/files/390107053/6 … e.rar.html</a></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 14</div><nav><ul><li><a href="viewtopic.php%3Fid=17252&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=17252&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=14.html">14</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>