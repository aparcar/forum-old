<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to increase space on Linksys WRT1200AC under &#039;/&#039; ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p307844">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">caetydid</div>
					<div class="post-datetime">
						16 Jan 2016, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi there folks,</p><p> I proudly own a Linksys WRT1200AC which reportedly is equipped with 128MB Flash.<br />When I check on my system I get the following info:</p><p>root@OpenWrt:~# cat /proc/mtd<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00200000 00020000 &quot;u-boot&quot;<br />mtd1: 00040000 00020000 &quot;u_env&quot;<br />mtd2: 00040000 00020000 &quot;s_env&quot;<br />mtd3: 00100000 00020000 &quot;devinfo&quot;<br />mtd4: 02800000 00020000 &quot;kernel1&quot;<br />mtd5: 02200000 00020000 &quot;rootfs1&quot;<br />mtd6: 02800000 00020000 &quot;kernel2&quot;<br />mtd7: 02200000 00020000 &quot;ubi&quot;<br />mtd8: 02600000 00020000 &quot;syscfg&quot;<br />mtd9: 00680000 00020000 &quot;unused_area&quot;</p><p>Which of these mtds can I use to increase available space under &#039;/&#039; and how can this be done?</p><p>root@OpenWrt:~# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;21.3M&nbsp; &nbsp; &nbsp;15.6M&nbsp; &nbsp; &nbsp; 4.6M&nbsp; 77% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.0M&nbsp; &nbsp; &nbsp; 5.0M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;251.6M&nbsp; &nbsp; 852.0K&nbsp; &nbsp; 250.8M&nbsp; &nbsp;0% /tmp<br />/dev/ubi0_1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 21.3M&nbsp; &nbsp; &nbsp;15.6M&nbsp; &nbsp; &nbsp; 4.6M&nbsp; 77% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp;21.3M&nbsp; &nbsp; &nbsp;15.6M&nbsp; &nbsp; &nbsp; 4.6M&nbsp; 77% /<br />ubi1:syscfg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 29.6M&nbsp; &nbsp; 264.0K&nbsp; &nbsp; &nbsp;27.8M&nbsp; &nbsp;1% /tmp/syscfg<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />/dev/sda1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 54.9G&nbsp; &nbsp; &nbsp;16.1G&nbsp; &nbsp; &nbsp;36.0G&nbsp; 31% /mnt</p><p>As far as flash is concerned I can see that there is about 22M total for &#039;/&#039; and about 30M mounted under &#039;/tmp/syscfg&#039;.<br />What is the idea to have so much disk space under /tmp/syscfg? I&#039;d rather have a larger &#039;/&#039; to get more disk space for my base system.<br />In addition I see some /overlay which I haven&#039;t seen yet apart from systems using extroot. <br />So I guess with reserved blocks for kernel and uboot this sums up in total to the mentioned 128M...</p><p>Is there a way to rearrange my setup in a simple way to obtain more disk space under &#039;/&#039;? I know I could use my external SSD but it is kinda hotplugged and I&#039;d like to keep it optional for my router software setup.</p><p>thanks in advance for your tips and hints</p><p>Edit: maybe I&#039;ve posted this in the wrong section - moderators, please feel free to move the topic to where it&#039;s most appropriate...</p><p>UPDATE: still no idea how to do it manually. However I found trondas builds and they offer much more packages and free space than the official ones - <a href="https://forum.openwrt.org/viewtopic.php?id=50914">https://forum.openwrt.org/viewtopic.php?id=50914</a></p>											<p class="post-edited">(Last edited by <strong>caetydid</strong> on 18 Jan 2016, 00:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351336">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">emrahayanoglu</div>
					<div class="post-datetime">
						7 Feb 2017, 13:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Did you get your answer or find a way to do it? I&#039;m also interested to change partitions and have a custom flash layout.</p><p>Cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351352">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">caetydid</div>
					<div class="post-datetime">
						7 Feb 2017, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>I didn&#039;t mess with it longer, it must be however possible, There exists different builds from trunk and they have different partition layout resulting in more available space.<br />I am particularily disappointed with the Wifi stability of this model that is why I stopped working on it for a while already. Now I see there is LEDE available and it is said to be progressing nicely. Maybe I&#039;ll give it a try...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>