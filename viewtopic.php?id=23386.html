<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Mac Address Cloning in 8.09</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p101664">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">andrew574</div>
					<div class="post-datetime">
						29 Jan 2010, 05:59					</div>
				</div>
				<div class="post-content content">
					<p>I am using a Nanostation flush with OpenWrt 8.09.2. I followed the instructions on:<br /><a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/kamikazeconfiguration#mac.address.cloning">http://wiki.openwrt.org/oldwiki/openwrt … ss.cloning</a><br />to change the mac address of the interface for the wifi ap.<br />Although it shows the mac address has been changed, the real hardware mac address remain the same when I using network stumbler to catch the wifi signal.<br />The config interface for wan is like this:<br />option &#039;macaddr&#039; &#039;00:**:**:**:**:b5&quot;</p><p>I searched some threads says about changing macaddr to hwaddr, is this feasible?</p><p>Help please, thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101846">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">andrew574</div>
					<div class="post-datetime">
						1 Feb 2010, 00:06					</div>
				</div>
				<div class="post-content content">
					<p>Here is more detail:<br />When we do ifconfig, we find a device which named as wifi0 but it is not an Ethernet device. Therefore, when we tried to change the mac address with OpenWRT config file, the real mac address remained unchanged. We can observe the AP as ‘fake’ with Network Stumbler, which is a device to pick up wifi signal.<br />Also, could anyone explain while there is ath0 and wifi0 shown, and what are their differences?</p><p>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101862">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">andrew574</div>
					<div class="post-datetime">
						1 Feb 2010, 07:34					</div>
				</div>
				<div class="post-content content">
					<p>We found a file &quot;address&quot; under &quot;sys/devices/virtual/net/wifi0&quot;, it stores the mac address for the wifi0. While we cannot use either ifconfig or options in config file to change the mac address, we think about change the content of this file directly.<br />But the problem is that we cannot modify the &quot;address&quot; file, not even when we chmod all the files and the directories to have write access, can anyone offer their help please?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101920">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">andrew574</div>
					<div class="post-datetime">
						2 Feb 2010, 00:50					</div>
				</div>
				<div class="post-content content">
					<p>After a bit of dig in, I think it is best for me to summarize my problem so people can understand me clearly:</p><p>The aim for me is to have mac address cloning enable for wireless adapter on Nanostation loco 2.</p><p>First thing I do is to use default Luci GUI to set the interface for Device wifi0 to be WAN and change the Mac Address of the WAN interface. However, this only changes the mac address of Device ath0. Also, it shows that interface WAN is connected with Device ath0 in the interface status page in Luci.</p><p>Then I go into the config file and tried to change the network file under etc/config and add the macaddr option for the WAN interface, it didn&#039;t work either.</p><p>And as I dig in deeper, I found a file &quot;address&quot; under &quot;sys/devices/virtual/net/wifi0&quot;, I think that is the place stores the mac address for the wifi0, but I cann&#039;t change the content of the file even I change the access to writable as the vi shows cannot read all content.</p><p>So, Here comes all the questions:<br />1. why Wan is shown to be attached to ath0 even if I assigned it to wifi0? (I tried change wifi0 into ath0 in the config and the wireless didn&#039;t work)<br />2. I think nvram is not supported in 8.09, then how can I change the content of the files under &quot;sys/devices/virtual/net/wifi0&quot;.</p><p>Thanks for any help offered</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>