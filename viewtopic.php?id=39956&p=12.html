<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ar9331&#039;s usb stability issue - [SOLVED]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 23 Mar 2017 and 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 12 of 13</div><nav><ul><li><a href="viewtopic.php%3Fid=39956&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=11.html">11</a></li><li class="pagination-current"><span>12</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=13.html">13</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p232824">
				<div class="post-metadata">
					<div class="post-num">Post #276</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						8 May 2014, 20:44					</div>
				</div>
				<div class="post-content content">
					<p>Squonk: Thanks for your great work and deep insight into this issue!</p><p>I&#039;d like to step in and report of my experiences with this bug.</p><p>I&#039;m heavily experimenting with USB webcams, weather data via ser2usb and 1-wire.<br />When running AA12.09 on MR3020 + DIR-505, I always had errors in the webcam pictures: Heavily distorted, i.e. one or more horizontal strips of the picture were shifted sideways and what has been shifted out of the picture one one side, appeared on the other side of the picture.</p><p>After switching the DIR-505 from AA to trunk (r40502): Surprise, surprise, the errors are gone! Yeah! Finally! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />OK, at least with most of the cams I don&#039;t have errors any more but two Pro9000 from Logitech. Since they are old versions of this model and are known to make problems, I don&#039;t mind putting them in the trash can. The remaining ones are working well enough for me and show only occasionally single errors.</p><p>So as for the webcams: BIG improvement! Thanks for that! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><br /><p>Now for the drawback: owfs is making problems now on my DIR-505&#039;s (r40502+r40659) which both run as wifi client. I described the problem and the solution in <a href="https://forum.openwrt.org/viewtopic.php?pid=232083#p232083">https://forum.openwrt.org/viewtopic.php … 83#p232083</a></p><br /><p>Could the described problem with owfs be related to AR9331&#039;s bug?<br />I have a workaround in place (separate USB hub for the DS9490 and reset of this hub via rc.local), but I would like to get rid of it, expecially the extra USB hub...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233653">
				<div class="post-metadata">
					<div class="post-num">Post #277</div>
					<div class="post-author">Himan</div>
					<div class="post-datetime">
						16 May 2014, 14:53					</div>
				</div>
				<div class="post-content content">
					<p>There is actual a big issue with native USB 2.0 devices, like LTE-Sticks from Huawei, see this ticket:</p><p><a href="https://dev.openwrt.org/ticket/16505">https://dev.openwrt.org/ticket/16505</a></p><p>After several try &amp; error to test different combinations, i noted, that after a cold boot, mostly the E3276 stick (which include an own usb 2.0 hub!) is not detected correctly.</p><p>Pluggin the stick manually in &amp; out mostly detect the stick, so i asume there is a initial-problem in the module-init<br />order and i bet, some registers are not correctly inititialized after reboot. Further more, there is a difference<br />between power on/off and a softreboot.</p><p>The ath9-driver is COMPLETLY disabled - so it can´t interfer with the USB-Port (For my project i have no need<br />for wireless at all...)</p><p>I get mostly this errors 3 times in a row on coldboot:</p><p>usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device not accepting address 2, error -145<br />usb 1-1: new high-speed USB device number 3 using ehci-platform<br />usb 1-1: device not accepting address 3, error -145<br />hub 1-0:1.0: unable to enumerate USB device on port 1</p><p>With an extra USB-cable between 30-60cm in length the stick is more often detected.<br />The stick itself is working perfectly. I have 3 other Sticks from same type, and all switches<br />shows the same issues.</p><p>Older Huawei UMTS-Sticks, like the E3131, E303, etc. are always detected. This devices are<br />pure 2.0 Sticks, too !</p><p>It looks like a problem, that the E3276 needs very long time to initialize after power-plugging,<br />normaly 5-7 seconds to respond first time.</p><p>&quot;old_scheme_first&quot; and such tunings are useless, i tested all possible combinations - no luck.</p><p>In this Situation ONLY the &quot;passive-Hub-Fix&quot; is working very well. But here i have no<br />usb 1.1 issues, neighter power-problems and i don´t have ath9k enabled, which interfer...</p><p>Only one method is working &quot;half&quot; reliable:</p><p>- completly UNPLUG the stick from the device<br />- unplug the wrt710n for MINIMUM 5 seonds from power<br />- let the unit completly bootup<br />- manual plugin the stick, but WITH an usb-extra cable<br />- wait a few seconds and the stick is mostly detected first time.</p><p>I think some registers are not cleaned between reboot or a very short power on/off,<br />and initialisation not work, when the stick is plugged in at boot time.</p><p>Only &quot;late inserting&quot; makes ist detectable.</p><p>With other devices, lile FTDI, PL2303, USB-Sticks, Sensors or Harddrives i never have such<br />problems, no matter in which order the devices are plugged in and out (or booted up withit)</p><br /><p>Have anyone an idea how to fix this problem ?</p><p>Using Huawei LTE Sticks with the WR710nV1 is a very common configuration...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234206">
				<div class="post-metadata">
					<div class="post-num">Post #278</div>
					<div class="post-author">peteruithoven</div>
					<div class="post-datetime">
						22 May 2014, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>We are also running into this issue. I can reproduct this by:<br />- Connecting my <em>TP-Link MR3020</em> to a wireless network<br />- Getting some serial communication going (with or without usb hub)<br />- Pulling the power out of the router that produces the wireless network. </p><p>When I power cycle the port it get&#039;s back up, under a different port (<em>/dev/ttyACM1</em> &gt; <em>/dev/ttyACM2</em>), but this only works temporarily. Only if I also turn wifi off (<em>wifi down</em>) it keeps working. </p><p>I understand from the <em>iw</em> documentation that <em>wpa_supplicant</em> automatically tries to reconnect when a connection is broken, is there simple way to disable this? Did anyone try to only use <em>iw</em>? <br />More info: <a href="http://wireless.kernel.org/en/users/Documentation/iw#Establishing_a_basic_connection">http://wireless.kernel.org/en/users/Doc … connection</a></p>											<p class="post-edited">(Last edited by <strong>peteruithoven</strong> on 22 May 2014, 14:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234228">
				<div class="post-metadata">
					<div class="post-num">Post #279</div>
					<div class="post-author">galens</div>
					<div class="post-datetime">
						22 May 2014, 16:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Does anyone know whether the ar1311 device exhibits the same problem with USB?&nbsp; I need to find a reliable module that can be used with a USB to serial adapters, regardless of operating mode(AP, client, etc.).&nbsp; Is there another Atheros chip I should be looking at?&nbsp; I&#039;m also looking at the RT5350, but the power consumption of that device has me a bit concerned.&nbsp; Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234235">
				<div class="post-metadata">
					<div class="post-num">Post #280</div>
					<div class="post-author">danak6jq</div>
					<div class="post-datetime">
						22 May 2014, 18:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>peteruithoven wrote:</cite><blockquote><p>We are also running into this issue. I can reproduct this by:<br />- Connecting my <em>TP-Link MR3020</em> to a wireless network<br />- Getting some serial communication going (with or without usb hub)<br />- Pulling the power out of the router that produces the wireless network. </p><p>When I power cycle the port it get&#039;s back up, under a different port (<em>/dev/ttyACM1</em> &gt; <em>/dev/ttyACM2</em>), but this only works temporarily. Only if I also turn wifi off (<em>wifi down</em>) it keeps working. </p><p>I understand from the <em>iw</em> documentation that <em>wpa_supplicant</em> automatically tries to reconnect when a connection is broken, is there simple way to disable this? Did anyone try to only use <em>iw</em>? <br />More info: <a href="http://wireless.kernel.org/en/users/Documentation/iw#Establishing_a_basic_connection">http://wireless.kernel.org/en/users/Doc … connection</a></p></blockquote></div><p>Exactly the issue I encounter. I finally added an embedded USB 2.0 hub, problem solved and I gained an external USB port in the process.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235138">
				<div class="post-metadata">
					<div class="post-num">Post #281</div>
					<div class="post-author">peteruithoven</div>
					<div class="post-datetime">
						30 May 2014, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>Using a high speed hub does help. I did some tests with 2 different high speed hubs and without a hub. </p><p><strong>Test protocol</strong><br />A router running in wisp mode (forwarding a wireless network)<br />Starting my OpenWRT router having it connect to the wisp router. <br />Connecting a fullspeed (Arduino like) device through usb and checking a log (tail -f) of the serial communication. I tried this with 2 usb hubs and without usb hub. <br />After a while I would pull the power plug out of the wisp router. <br />If the serial communication continued I tried restarting the router and checked whether the OpenWRT router reconnected automatically. <br />If the serial communication continued I tried this again. <br />After the test I restarted the OpenWRT router and serial device.</p><p><strong>Without usb hub</strong> <br />Stopped serial communication consistently (3 times) after a short delay when I removed the power from the wisp router. </p><p><strong>With high speed usb hub Belkin f5u407</strong> <br />Kept working after I removed the power from the wisp router (3 times). <br />But it sometimes stops when I power the wisp router again and it tries to reconnect. 1 of out 3 times it stopped the first time, 2 times it stops after a second reconnect attempt. </p><p><strong>With other high speed usb hub <a href="http://www.dx.com/p/1-to-3-usb-2-0-3-port-hub-white-silver-225738">225738</a></strong><br />Kept working after I removed the power from the wisp router (3 times). <br />And it usually kept working through router restarts and reconnects. <br />2 out of 3 times it handled 3 restarts and kept working (I didn&#039;t test further)<br />1 out of 3 times it stopped serial communication on the second restart.</p><p>So using a high speed hub improves the situation a great deal, but it isn&#039;t unbreakable. </p><p>We&#039;ve build <a href="http://www.doodle3d.com">Doodle3D</a> using OpenWRT and having better full speed support is very important to us, since most 3D printers have something like a Arduino inside. <br />Let us know if we can provide more information or perform tests.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235509">
				<div class="post-metadata">
					<div class="post-num">Post #282</div>
					<div class="post-author">_wr703n_</div>
					<div class="post-datetime">
						3 Jun 2014, 12:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone with USB stability issues...</p><p>I suppose you dont use AA12.09?<br />You must use trunk, BB &gt;= r39212</p><p>Has anyone of you tried this new fix in trunk BB &gt;= r40841 (2014-05-24)?<br /><a href="https://dev.openwrt.org/changeset/40841">https://dev.openwrt.org/changeset/40841</a></p><p>Please report your tests in this thread <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>_wr703n_</strong> on 3 Jun 2014, 15:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235536">
				<div class="post-metadata">
					<div class="post-num">Post #283</div>
					<div class="post-author">danak6jq</div>
					<div class="post-datetime">
						3 Jun 2014, 19:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>_wr703n_ wrote:</cite><blockquote><p>Hi everyone with USB stability issues...</p><p>I suppose you dont use AA12.09?<br />You must use trunk, BB &gt;= r39212</p><p>Has anyone of you tried this new fix in trunk BB &gt;= r40841 (2014-05-24)?<br /><a href="https://dev.openwrt.org/changeset/40841">https://dev.openwrt.org/changeset/40841</a></p><p>Please report your tests in this thread <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>With r40867, I still see the &quot;un-associated STA wifi kills FS USB&quot; issue, no change at all.</p><p>Dana</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236232">
				<div class="post-metadata">
					<div class="post-num">Post #284</div>
					<div class="post-author">galens</div>
					<div class="post-datetime">
						10 Jun 2014, 19:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>galens wrote:</cite><blockquote><p>Does anyone know whether the ar1311 device exhibits the same problem with USB?&nbsp; I need to find a reliable module that can be used with a USB to serial adapters, regardless of operating mode(AP, client, etc.).&nbsp; Is there another Atheros chip I should be looking at?&nbsp; I&#039;m also looking at the RT5350, but the power consumption of that device has me a bit concerned.&nbsp; Thanks!</p></blockquote></div><p>FYI, a friend has tried a USB to serial adapter on a D-Link DIR-505 running OpenWRT, and it exhibits the same USB problem.&nbsp; The DIR-505 contains an AR1311.&nbsp; Thus it appears that the AR1311 has the same USB problem as the AR9331.</p><p>galen</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236234">
				<div class="post-metadata">
					<div class="post-num">Post #285</div>
					<div class="post-author">_wr703n_</div>
					<div class="post-datetime">
						10 Jun 2014, 19:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>galens wrote:</cite><blockquote><p>FYI, a friend has tried a USB to serial adapter on a D-Link DIR-505 running OpenWRT, and it exhibits the same USB problem.&nbsp; The DIR-505 contains an AR1311.&nbsp; Thus it appears that the AR1311 has the same USB problem as the AR9331.</p><p>galen</p></blockquote></div><p>Do you know for sure that he is using BB &gt;= r40841?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236256">
				<div class="post-metadata">
					<div class="post-num">Post #286</div>
					<div class="post-author">RussellSenior</div>
					<div class="post-datetime">
						10 Jun 2014, 22:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>_wr703n_ wrote:</cite><blockquote><div class="quotebox"><cite>galens wrote:</cite><blockquote><p>FYI, a friend has tried a USB to serial adapter on a D-Link DIR-505 running OpenWRT, and it exhibits the same USB problem.&nbsp; The DIR-505 contains an AR1311.&nbsp; Thus it appears that the AR1311 has the same USB problem as the AR9331.</p><p>galen</p></blockquote></div><p>Do you know for sure that he is using BB &gt;= r40841?</p></blockquote></div><p>Yes.&nbsp; As of r40841 part of the problem appears solved, but not the &quot;i-am-not-yet-unassociated-and-am-scanning-to-find-my-network&quot; problem, described by others, above.&nbsp; It appears the ar1311 is an ar9331, at least u-boot thinks so.&nbsp; </p><div class="codebox"><pre><code>U-Boot 1.1.4 (Feb  9 2012 - 20:12:45)

AP121 (ar9331) U-boot

DRAM:  64 MB
Top of RAM usable for U-Boot at: 84000000
Reserving 161k for U-Boot at: 83fd4000
Reserving 192k for malloc() at: 83fa4000
Reserving 44 Bytes for Board Info at: 83fa3fd4
Reserving 36 Bytes for Global Data at: 83fa3fb0
Reserving 128k for boot params() at: 83f83fb0
Stack Pointer at: 83f83f98
Now running in RAM - U-Boot at: 83fd4000
============================================ 
Date:Feb  9 2012  Time:20:12:45
Cameo Version: v1.00 Build:03
Module Name: D-Link DIR-505A1
[...]</code></pre></div><p>In addition, /proc/cpuinfo reports:</p><div class="codebox"><pre><code>system type             : Atheros AR9330 rev 1
machine                 : D-Link DIR-505 rev. A1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236258">
				<div class="post-metadata">
					<div class="post-num">Post #287</div>
					<div class="post-author">pepe2k</div>
					<div class="post-datetime">
						10 Jun 2014, 22:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RussellSenior wrote:</cite><blockquote><p>It appears the ar1311 is an ar9331, at least u-boot thinks so.</p></blockquote></div><p>This version of U-Boot is &quot;stupid&quot; and doesn&#039;t &quot;think&quot; (doesn&#039;t recognize SoC version/revision).<br />AR1311 is fully compatible with AR9331 and looks like some kind of special revision.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236277">
				<div class="post-metadata">
					<div class="post-num">Post #288</div>
					<div class="post-author">RussellSenior</div>
					<div class="post-datetime">
						11 Jun 2014, 00:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><div class="quotebox"><cite>RussellSenior wrote:</cite><blockquote><p>It appears the ar1311 is an ar9331, at least u-boot thinks so.</p></blockquote></div><p>This version of U-Boot is &quot;stupid&quot; and doesn&#039;t &quot;think&quot; (doesn&#039;t recognize SoC version/revision).<br />AR1311 is fully compatible with AR9331 and looks like some kind of special revision.</p></blockquote></div><p>In any case, it has the same bug.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236282">
				<div class="post-metadata">
					<div class="post-num">Post #289</div>
					<div class="post-author">danak6jq</div>
					<div class="post-datetime">
						11 Jun 2014, 00:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RussellSenior wrote:</cite><blockquote><div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><div class="quotebox"><cite>RussellSenior wrote:</cite><blockquote><p>It appears the ar1311 is an ar9331, at least u-boot thinks so.</p></blockquote></div><p>This version of U-Boot is &quot;stupid&quot; and doesn&#039;t &quot;think&quot; (doesn&#039;t recognize SoC version/revision).<br />AR1311 is fully compatible with AR9331 and looks like some kind of special revision.</p></blockquote></div><p>In any case, it has the same bug.</p></blockquote></div><p>As far as arcane bugs go, this one is pretty special :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239028">
				<div class="post-metadata">
					<div class="post-num">Post #290</div>
					<div class="post-author">dhille</div>
					<div class="post-datetime">
						3 Jul 2014, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>danak6jq, what USB hub chipset did you use to fix the issue?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239152">
				<div class="post-metadata">
					<div class="post-num">Post #291</div>
					<div class="post-author">danak6jq</div>
					<div class="post-datetime">
						3 Jul 2014, 18:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dhille wrote:</cite><blockquote><p>danak6jq, what USB hub chipset did you use to fix the issue?</p></blockquote></div><p>Microchip/SMSC USB2412 works like a charm.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239997">
				<div class="post-metadata">
					<div class="post-num">Post #292</div>
					<div class="post-author">roger_</div>
					<div class="post-datetime">
						11 Jul 2014, 21:55					</div>
				</div>
				<div class="post-content content">
					<p>I see this issue is marked as solved, but I&#039;m still experiencing it with trunk (BB r41391) on a TL-WR703N (AR9331) with WiFi enabled: <a href="https://forum.openwrt.org/viewtopic.php?id=51315">https://forum.openwrt.org/viewtopic.php?id=51315</a></p><p>In my case it involves a Logitech webcam repeatedly disconnecting, and appears to be related to the autofocus as I can cause a disconnect by waving my hands in front of it (I haven&#039;t 100% confirmed this is the cause though).</p><p>I was able to solve the problem by using an unpowered hub, but I&#039;d love to know if there&#039;s a software fix.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240004">
				<div class="post-metadata">
					<div class="post-num">Post #293</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						11 Jul 2014, 22:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>roger_ wrote:</cite><blockquote><p>I see this issue is marked as solved, but I&#039;m still experiencing it with trunk (BB r41391) on a TL-WR703N (AR9331) with WiFi enabled: <a href="https://forum.openwrt.org/viewtopic.php?id=51315">https://forum.openwrt.org/viewtopic.php?id=51315</a></p><p>In my case it involves a Logitech webcam repeatedly disconnecting, and appears to be related to the autofocus as I can cause a disconnect by waving my hands in front of it (I haven&#039;t 100% confirmed this is the cause though).</p><p>I was able to solve the problem by using an unpowered hub, but I&#039;d love to know if there&#039;s a software fix.</p></blockquote></div><p>It is not the same issue: the bug that is discussed here affects Full-Speed devices, which is not your case with a camera enumerated as High-Speed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240005">
				<div class="post-metadata">
					<div class="post-num">Post #294</div>
					<div class="post-author">roger_</div>
					<div class="post-datetime">
						11 Jul 2014, 22:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk wrote:</cite><blockquote><div class="quotebox"><cite>roger_ wrote:</cite><blockquote><p>I see this issue is marked as solved, but I&#039;m still experiencing it with trunk (BB r41391) on a TL-WR703N (AR9331) with WiFi enabled: <a href="https://forum.openwrt.org/viewtopic.php?id=51315">https://forum.openwrt.org/viewtopic.php?id=51315</a></p><p>In my case it involves a Logitech webcam repeatedly disconnecting, and appears to be related to the autofocus as I can cause a disconnect by waving my hands in front of it (I haven&#039;t 100% confirmed this is the cause though).</p><p>I was able to solve the problem by using an unpowered hub, but I&#039;d love to know if there&#039;s a software fix.</p></blockquote></div><p>It is not the same issue: the bug that is discussed here affects Full-Speed devices, which is not your case with a camera enumerated as High-Speed.</p></blockquote></div><p>Ah okay. Any chance they&#039;re related though? I still don&#039;t know why using the hub helped.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240013">
				<div class="post-metadata">
					<div class="post-num">Post #295</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						11 Jul 2014, 23:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>roger_ wrote:</cite><blockquote><div class="quotebox"><cite>Squonk wrote:</cite><blockquote><div class="quotebox"><cite>roger_ wrote:</cite><blockquote><p>I see this issue is marked as solved, but I&#039;m still experiencing it with trunk (BB r41391) on a TL-WR703N (AR9331) with WiFi enabled: <a href="https://forum.openwrt.org/viewtopic.php?id=51315">https://forum.openwrt.org/viewtopic.php?id=51315</a></p><p>In my case it involves a Logitech webcam repeatedly disconnecting, and appears to be related to the autofocus as I can cause a disconnect by waving my hands in front of it (I haven&#039;t 100% confirmed this is the cause though).</p><p>I was able to solve the problem by using an unpowered hub, but I&#039;d love to know if there&#039;s a software fix.</p></blockquote></div><p>It is not the same issue: the bug that is discussed here affects Full-Speed devices, which is not your case with a camera enumerated as High-Speed.</p></blockquote></div><p>Ah okay. Any chance they&#039;re related though? I still don&#039;t know why using the hub helped.</p></blockquote></div><p>The only thing coming out of my head is decoupling, but it looks like you already tried that. I suggest to put a scope if you have access to one. Having this phenomenon only when the autofocus is triggered is more than a simple coincidence IMHO: the autofocus motor is probably drawing too much current and/or is not sufficiently decoupled, causing the USB power to dip on these small routers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240540">
				<div class="post-metadata">
					<div class="post-num">Post #296</div>
					<div class="post-author">netamego</div>
					<div class="post-datetime">
						17 Jul 2014, 10:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p> I want to use my WR703N as airplay device. I have compiled trunk (BB r41400) which <br />is suppose to have the famous usb patch applied.</p><p> No problems compiling firmware and running Shairport (<a href="https://github.com/sm3rt/OpenWRT-ShairPort">https://github.com/sm3rt/OpenWRT-ShairPort</a>) but i hear constantly sizzling/popping with and without playing music.</p><p> I have an Asus Xonar U3 DAC connected to WR703N. I realize that only with put one finger <br />in the bottom of the DAC, sizzling/popping disappear.</p><p> So i think i am affected by a usb ground loop. Can this be solved in software way?. I think<br />that this must be solved in hardware way. I am correct?.</p><p> Can someone with WR703N as airplay device and without sizzling/popping issues, comment which usb dac and which openwrt firmware or trunk revision are using?</p><p> Please, I will appreciate very much guru comments!!!</p><p>Thanks a lot.</p>											<p class="post-edited">(Last edited by <strong>netamego</strong> on 17 Jul 2014, 11:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240743">
				<div class="post-metadata">
					<div class="post-num">Post #297</div>
					<div class="post-author">netamego</div>
					<div class="post-datetime">
						19 Jul 2014, 01:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>netamego wrote:</cite><blockquote><p>Hi,</p><p> I want to use my WR703N as airplay device. I have compiled trunk (BB r41400) which <br />is suppose to have the famous usb patch applied.</p><p> No problems compiling firmware and running Shairport (<a href="https://github.com/sm3rt/OpenWRT-ShairPort">https://github.com/sm3rt/OpenWRT-ShairPort</a>) but i hear constantly sizzling/popping with and without playing music.</p><p> I have an Asus Xonar U3 DAC connected to WR703N. I realize that only with put one finger <br />in the bottom of the DAC, sizzling/popping disappear.</p><p> So i think i am affected by a usb ground loop. Can this be solved in software way?. I think<br />that this must be solved in hardware way. I am correct?.</p><p> Can someone with WR703N as airplay device and without sizzling/popping issues, comment which usb dac and which openwrt firmware or trunk revision are using?</p><p> Please, I will appreciate very much guru comments!!!</p><p>Thanks a lot.</p></blockquote></div><br /><p>Ok. My issue was finally ground loop problem and was solved after put an usb extension between wr703n and usb dac. Thanks.</p>											<p class="post-edited">(Last edited by <strong>netamego</strong> on 19 Jul 2014, 01:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242254">
				<div class="post-metadata">
					<div class="post-num">Post #298</div>
					<div class="post-author">tarelkin</div>
					<div class="post-datetime">
						31 Jul 2014, 11:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>netamego wrote:</cite><blockquote><p>Ok. My issue was finally ground loop problem and was solved after put an usb extension between wr703n and usb dac. Thanks.</p></blockquote></div><p>Hi. I have tplink tl-mr3040(v2.1, aa 12.09) &lt;---&gt; dlink hub(dub h7) &lt;---&gt; usb audio card (xonar U3), so i hear the &quot;sizzling/popping&quot; with and without playing music too. Could you please tell me what usb extension did you used to solve ground loop.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242920">
				<div class="post-metadata">
					<div class="post-num">Post #299</div>
					<div class="post-author">tarelkin</div>
					<div class="post-datetime">
						6 Aug 2014, 08:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tarelkin wrote:</cite><blockquote><div class="quotebox"><cite>netamego wrote:</cite><blockquote><p>Ok. My issue was finally ground loop problem and was solved after put an usb extension between wr703n and usb dac. Thanks.</p></blockquote></div><p>Hi. I have tplink tl-mr3040(v2.1, aa 12.09) &lt;---&gt; dlink hub(dub h7) &lt;---&gt; usb audio card (xonar U3), so i hear the &quot;sizzling/popping&quot; with and without playing music too. Could you please tell me what usb extension did you used to solve ground loop.</p></blockquote></div><br /><p>So, finally i have flashed it with BB 14.07-rc2 and I think the problem has gone.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243359">
				<div class="post-metadata">
					<div class="post-num">Post #300</div>
					<div class="post-author">Bajramo</div>
					<div class="post-datetime">
						9 Aug 2014, 19:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tarelkin wrote:</cite><blockquote><div class="quotebox"><cite>tarelkin wrote:</cite><blockquote><div class="quotebox"><cite>netamego wrote:</cite><blockquote><p>Ok. My issue was finally ground loop problem and was solved after put an usb extension between wr703n and usb dac. Thanks.</p></blockquote></div><p>Hi. I have tplink tl-mr3040(v2.1, aa 12.09) &lt;---&gt; dlink hub(dub h7) &lt;---&gt; usb audio card (xonar U3), so i hear the &quot;sizzling/popping&quot; with and without playing music too. Could you please tell me what usb extension did you used to solve ground loop.</p></blockquote></div><br /><p>So, finally i have flashed it with BB 14.07-rc2 and I think the problem has gone.</p></blockquote></div><p>Does&nbsp; BB 14.07-rc2 include Lucl web interface or just CL interface?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 12 of 13</div><nav><ul><li><a href="viewtopic.php%3Fid=39956&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=11.html">11</a></li><li class="pagination-current"><span>12</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=13.html">13</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>