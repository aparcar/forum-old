<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Technicolor TG799vac Dumping Nand Flash ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=67564&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p364918">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">CRC</div>
					<div class="post-datetime">
						5 Sep 2017, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>All of these hacks should be undone with a factory reset. None are permanent...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365044">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">Cadavrez</div>
					<div class="post-datetime">
						7 Sep 2017, 02:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>CRC wrote:</cite><blockquote><p>All of these hacks should be undone with a factory reset. None are permanent...</p></blockquote></div><p>I accidentally installed an incompatible version of libc. <img src="https://forum.openwrt.org/img/smilies/neutral.png" width="15" height="15" alt="neutral" /><br />Which meant if there would be no backup rom with the original firmware, the device would be essentially bricked. However, the firmware I have utilizes overlays of the FS to mask important parts of the OS.</p><p>So when I held down the reset for like 1 minute of a fresh boot, it rebooted three times, then went into &quot;failsafe mode&quot;, where it ignored the broken overlay and booted a barebones version so I could put the original libc back. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366076">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">decoratiff</div>
					<div class="post-datetime">
						29 Sep 2017, 01:23					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys,<br />I&#039;ve got an unbranded TG789vac v2 from Amazon UK (amazon.co.uk/Technicolor-TG789VAC-v2-Wireless-Router/dp/B072ZTXB9S) that seems to have pretty much all features (I know of) unlocked and am using it in Switzerland with VDSL2 profile 17a - its an Annex A device.<br />The only customization one can find on the packaging box is &quot;uk version&quot;</p><p>It has:<br />Software 16.2.7064-2201001-20160905124029<br />Bootloader Version 2.0.85<br />Hardware Version VANT-6</p><p>SSH is open to LAN but obviously doesn&#039;t accept the admin user&#039;s login with pw.</p><p>I guess quite a bunch of people would love to have my firmware for their devices and I would love to have a regular OpenWRT on the Device or at least more control over it.<br />For example I&#039;d love to get rid of TR-069 permanently. Oh and it would be nice to make the Wifi behave a little less passive in terms of DFS / TPC.<br />I mean heck, the neighbor&#039;s FritzBox 7390 is plastering through the wall on 5GHz at over 10dBm more than my Thompson that has line of sight to my client.</p><p>I&#039;m confident I should manage to gain rootshell using the previously described exploit, though did not try yet, but I have no idea how to dump the firmware in a reusable to others manner. <br />So maybe someone more experienced can assist? And I think at least we could compile some instructions to gain more features that are locked by default.</p><p>It&#039;s not my only CPE I can use for Internet access and since I&#039;m doing smartphone board repair I&#039;ve got no issues with unsoldering the Flash if that is necessary and someone can explain how to dump it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366084">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">CRC</div>
					<div class="post-datetime">
						29 Sep 2017, 05:47					</div>
				</div>
				<div class="post-content content">
					<p>I wasn&#039;t aware there were any unbranded versions!</p><p>Any chance to get some screenshots of the UI?</p><p>Can you configure SIP accounts via the web interface etc?</p><p>EDIT: Oh wait, 789? or 799?</p>											<p class="post-edited">(Last edited by <strong>CRC</strong> on 29 Sep 2017, 05:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366095">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">decoratiff</div>
					<div class="post-datetime">
						29 Sep 2017, 15:46					</div>
				</div>
				<div class="post-content content">
					<p>Hey Steve, yep its the 789 but apparently the only difference is missing DECT in 789 compared to 799.<br />Thompsons support was also very bummed to learn they are out in the wild and can be bought by regular retail customers through amazon. Had an interesting call with Thompsons UK support hotline. The guy promised to get back to me by mail if he finds something out but didnt hear back yet. He confirmed Thompson is very strict on this and is dealing only with ISP and the support guy said not even his department has access to firmware. The guy made a good impression though and seemed to understand what he was talking about to my surprise.</p><p>I&#039;m in talks with my local ISP who are 7 really nice guys and they are considering to offer the device to their customers so that way I could get access to firmware. We gonna see.</p><p>Anyway here are screenshots, I tried to capture anything that might be interesting:<br />for fucks sake the forum wont let me post no urls at all no img nothing.<br />Right here you go: pste.eu/p/bsic.html</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366111">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">decoratiff</div>
					<div class="post-datetime">
						30 Sep 2017, 07:35					</div>
				</div>
				<div class="post-content content">
					<p>Its apparently the same firmware for the 799vac as my version contains the DECT stuff also. Besides that I learned quite a bunch about technicolor&#039;s custom openWRT implementation and tend now to like it.<br />I suggest to compare the binary blobs it has for the hardware to tell if there are real differences.</p><p>So for unlocking features in the GUI see /etc/config/web - its all in the roles. Just add your admin role to the config rule where it is missing and you gonna see the feature. There are a couple of Tiles/Features i did not have in my Version by default and that were reserved for a user called &quot;engineer&quot; i did not know it existed. <br />This will also allow you to configure cwmp settings in the GUI.<br />Further check the /w w w/docroot/ directory. Everything is self explanatory. the .lp files in the root can be called directly from the browser with routerIP/file.lp. For example see isp.lp. Customizaton features that are supposed for ISPs are also fun. Everything seems self explanatory and easy to modify / extend.</p><p>Pretty much all the settings one wants to change can be found in the /etc/config files or using openWRT UCI interfaces.<br />The only real limitation i ran into is that these guys used a custom architecture for opkg and used a custom repo resource that does not exist on the internet in that way. Therefore one can not easily install additional software as is.<br />My technicolor firmware Version 16.2 that was referred to as homeware by their support is built from downloads. openwrt. org /attitude_adjustment/12.09.1 according to the opkg repo URL.</p><p>So this is how the main Page looks for me now:<br />ibb.co/jtbOwG<br />ibb.co/ezcVbG</p><p>Just check the files in /w w w/docroot and you&#039;ll see how easy it is for example to replace the logo like I did with nyan cat.</p><p>But what really irritated me is that cwmp is enabled including firmwareupgrades and is pointing towards a working ACS I cant tell who it controls. As can be seen on the screenshots the URL is h t t p://nld-acs.com/ - a domain registered by 1and1.co.uk and an IP owned by some Provider called Entanet International ltd. I can only assume that the ACS Server is operated by technicolor themselves which I find unsettling to say the least. They also have this local user called engineer who has enough rights to login through ssh which is running by default but not accessible through WAN. Something that can easily be changed by means of cwmp (TR-069) remotely.</p><p>With my limited knowledge of openWRT I still have the impression that the web interface and its framework technicolor used / built here is prettier, easier to use and more straight forward from a frontend dev guy&#039;s perspective. I like it alot!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366115">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">Path-E-Tech Management</div>
					<div class="post-datetime">
						30 Sep 2017, 15:11					</div>
				</div>
				<div class="post-content content">
					<p>Interesting work so far.</p><p>I have been trying to unlock some other Tiles but no luck yet.<br />The extra tiles are <br />/SIPConfig.lp<br />/contacts.lp<br />/CallLog.lp<br />/capability.lp<br />These are reserved for user &quot;tvoice&quot; I changed&nbsp; the list roles for these to admin but no extra Tiles show up and if you try to access them through&nbsp; the address bar e.g 10.0.0.138/SIPConfig.lp it just shows a blank page.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366119">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">decoratiff</div>
					<div class="post-datetime">
						30 Sep 2017, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>Well I&#039;ll post my web config. My impression is that tiles also only appear if the associated services are not completely disabled or the associated hardware absent, not sure about that. You might want to check the config files of the associated services. I don&#039;t see any other mechanism preventing tiles to show up.<br />BTW you can gain easy access to that hidden user by just creating it as a new user and setting the passwort for the user, it doesnt check if the user is already present and just sets a new pass for it. I did this with the engineer user on my box and it worked. The user will still be hidden but after setting the password you gonna be able to login with that particular user given you have the original version of web config with the role settings you had of course. It seems to me passwords of GUI users are also just stored in the web config.</p><p>So thats my web config:<br />pastebin.com/aq4ptYdG</p><p>sorry had to put it externally, forum believes there are urls in it and its not the technicolor link.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366121">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">decoratiff</div>
					<div class="post-datetime">
						30 Sep 2017, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>In terms of bricking or screwing up the Software by installing unsuitable stuff and so on -&gt; worry not!<br />They use overlayfs (just check mount) and overlay the whole root directory. Whatever gets changed, is changed inside of /overlay/bank_1/ and if you delete it from there, for example the whole /usr dir and reboot the device, everything is back to original.<br />So when you reset the device, the contents of /dev/mtdblock2 obviously get wiped which usually are mounted to /overlay and then overlayed as follows:<br />overlayfs:/overlay/bank_1 on / type overlayfs (rw,noatime,lowerdir=/,upperdir=/overlay/bank_1)</p><p>At least this applies to my Version and this again is very convenient and I don&#039;t know if regular openWRT uses such an approach.</p><p>I modified the opkg conf so I can install software in the following way:<br /></p><div class="codebox"><pre><code>root@dsldevice:~# cat /etc/opkg.conf 
src/gz attitude_adjustment h ttp://downloads. openwrt . org /attitude_adjustment/12.09.1/brcm63xx-tch/VANTF/packages
src/gz generic h ttp://downloads. openwrt . org /attitude_adjustment/12.09/brcm63xx/generic/packages/
dest root /
dest ram /tmp
lists_dir ext /var/opkg-lists
option overlay_root /overlay
arch all 1
arch noarch 1
arch brcm63xx-tch 10
arch brcm63xx 300</code></pre></div><p>I managed to install and have joe as an alternative to vi or vim working, but for some reason neither nano nor wget will work after installing them with opkg. I suppose something is wrong with dependencies that are already present. nano and wget just silently quit and show no output at all.<br />Wget is present through busybox binary but has no ssl support, that&#039;s why I tried installing it with opkg.</p><br /><p>So anyone willing to assist to dump my unbranded firmware? I&#039;ve got no idea how to do that, especially in such a way that it would be easily reusable/flashable for others.</p><br /><p>Why the fuck is the string h ttp (without whitespace) forbidden and considered a forbidden link in this forum? Is this a joke?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366128">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">Path-E-Tech Management</div>
					<div class="post-datetime">
						1 Oct 2017, 01:47					</div>
				</div>
				<div class="post-content content">
					<p>If you run </p><div class="codebox"><pre><code>strings /etc/cwmpd.db </code></pre></div><p> there are&nbsp; URLs for firmware that can be downloaded.<br />Well in my firmware there is. <br />I get <a href="http://fwstore.bdms.telstra.net/Technicolor_vant-f_CRF540-15.53.6886-510-RF/vant-f_CRF540-15.53.6886-510-RF.rbi">http://fwstore.bdms.telstra.net/Technic … 510-RF.rbi</a></p><p>Also when posting a url are you putting&nbsp; [ url ] [ /url ]&nbsp; (without white spaces) around your link</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366171">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">decoratiff</div>
					<div class="post-datetime">
						1 Oct 2017, 22:38					</div>
				</div>
				<div class="post-content content">
					<p>I did this already in the beginning, unfortunately the cwmpd.db does not contain anything interesting in my case.<br />Before first profisioning it only has:<br />%3runtimevarBootStrappedh ttp://nld-acs.com/-<br />+/VersionsSoftwareVersion16.2.7064-2201001</p><p>afterwards, I enabled cwmpd again to see if I would get a Firmware URL it got some new fields but they are empty.<br />I did change the firmware version in that sqlite file to see if it then would initiate something like an update but to no avail. The approach led to the device freeze and reboot, afterwards the FW version was back to normal.<br />The ACS in total does very little and instructs the Router to close the session after it checked that there is no never firmware for the Device, that is my interpretation of the log entries.<br />Further the ACS is operated by ht tp://madesimpletechnology.com/ - a SAAS provider for ACS services. I suppose the dealer providing the Devices to retail market keeps hold of them and FW upgrades them in this way, which I find very odd at best if not legally questionable since you as a customer buy a device from amazon that is fully backdoored to an unknown third party and you as a customer can&#039;t even know about this. This is troubling!</p><p>I might try to tinker further with cwmpd and the to me provided ACS and somehow convince it to give an FW Upgrade URL but Im not very keen to do that right now. I believe dumping from flash seems more attractive.</p><p>Regarding the tiles in the UI you seem to have a slightly different layout of files. When mentioning that they can be called directly in the browser i was referring to stuff in the docroot under /w ww/docroot and in the modals folder - did you check that location and looked into the files that are located there? Given your filesystem layout and your uci:web config we could try to figure stuff out.</p><p>Anyway I learned a bunch of further interesting stuff! <br />According to other forums with some firmware versions it helps to add a debug flag to the url like so: <br />ht tp://router.ip/?debug=1 - this supposedly enables more features in the GUI. Maybe that does something for you.</p><p>Further it turns out they use either the device&#039;s serial number or as in my case a so called access key that is printed on the label on the router as password to provide more sophisticated access with a special user.<br />In my case the built in &quot;engineer&quot; user that is originally the only one having ssh access, uses this &quot;access key&quot; as password, has limited shell access because instead of /bin/ash his shell is mapped to /usr/bin/restricted-clash. But this user has access to all Features in the GUI.</p><p>Further this user in his limited special shell has some interesting commands. Reading the output of dmesg this user can call i see the following: <br /></p><div class="codebox"><pre><code>    0.765000] Technicolor nand flash translation layer initialized.
[    0.771000] flash mapping initialized, size=125 Mb
[    0.777000] parse_btab: num_banks (5)
[    0.781000] Creating 1 MTD partitions on &quot;technicolor-nand-tl&quot;:
[    0.786000] 0x000002200000-0x000004e60000 : &quot;rootfs&quot;
[    0.794000] Creating 5 MTD partitions on &quot;technicolor-nand-tl&quot;:
[    0.799000] 0x000000080000-0x000002000000 : &quot;rootfs_data&quot;
[    0.807000] 0x000002000000-0x000004e60000 : &quot;bank_1&quot;
[    0.814000] 0x000004e60000-0x000007cc0000 : &quot;bank_2&quot;
[    0.820000] 0x000000020000-0x000000040000 : &quot;eripv2&quot;
[    0.827000] 0x000000040000-0x000000080000 : &quot;rawstorage&quot;
[    0.834000] Creating 1 MTD partitions on &quot;technicolor-nand-tl&quot;:
[    0.840000] 0x00000001fffd-0x000000020000 : &quot;blversion&quot;
[    0.851000] PPP generic driver version 2.4.2
[    0.855000] PPP BSD Compression module registered
[    0.860000] PPP Deflate Compression module registered
[    0.865000] NET: Registered protocol family 24
[    0.869000] brcmboard: brcm_board_init entry
[    0.874000] DYING GASP IRQ initialized 
[    0.878000] Serial: BCM63XX driver $Revision: 3.00 $
[    0.883000] Magic SysRq with Auxilliary trigger char enabled (type ^ h for list of supported commands)
[    0.893000] ttyS0 at MMIO 0xb0000180 (irq = 13) is a BCM63XX
[    0.900000] ttyS1 at MMIO 0xb00001a0 (irq = 42) is a BCM63XX
[    0.905000] Total # RxBds=1448
[    0.908000] bcmPktDmaBds_init: Broadcom Packet DMA BDs initialized</code></pre></div><p>and alot of other interesting stuff that should help to modify or customize firmware images to different board versions. I believe given your driver blobs they can be combined with another homeware version to a working system.<br />Further this user can use a command called upgrade with option -s to switch Flash banks to passive/active or -d to download an image and flash it directly. </p><p>Further i found the shell scripts that do firmware upgrading / factory resetting - basicaly assembling the production filesystem. Besides in my System located in /etc/boards/ i got custom uci defaults and uci config files in these folders:<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-4<br />drwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Jan&nbsp; 1&nbsp; 1970 VANT-6<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-7<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-8<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-D<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-E<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-F<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VANT-R<br />drwxr-xr-x&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 41 Aug&nbsp; 5&nbsp; 2016 VBNT-A</p><p>The scripts that do the flashing and stuff and i believe are the same that are called when engineer calls upgrade are located in /lib/upgrade</p><p>So anyone with experience in flashing and nand layout - basic understanding how this whole process works is willing to help extract my FW?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366190">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">Path-E-Tech Management</div>
					<div class="post-datetime">
						2 Oct 2017, 13:27					</div>
				</div>
				<div class="post-content content">
					<p>I have managed to get some extra Tiles&nbsp; now by adding to /etc/config/web but out of the 10 or so extra modals I added only 6 have shown up, all the modals I have added exist in /www/docroot/modals/ <br /><a href="https://drive.google.com/open?id=0B7ln9Y0q-cmkVDhGZVlfbkVoY0k">https://drive.google.com/open?id=0B7ln9 … VlfbkVoY0k</a> These are the tiles I have so far<br /><a href="https://drive.google.com/open?id=0B7ln9Y0q-cmkMFdtV2xwRnF1bDg">https://drive.google.com/open?id=0B7ln9 … 2xwRnF1bDg</a> This is the system extras tile&nbsp; that allows to put the modem in to lan bootp mode.<br /><a href="https://drive.google.com/open?id=0B7ln9Y0q-cmkQ0Jfa0l4c3JKeUE">https://drive.google.com/open?id=0B7ln9 … 0l4c3JKeUE</a> I now also have direct access to disable the cwmp client.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369393">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">robbz23</div>
					<div class="post-datetime">
						9 Dec 2017, 11:42					</div>
				</div>
				<div class="post-content content">
					<p>I just got the same router here in Sweden from telia running version 15.3.&nbsp; It seems that most of my tiles are unlocked and I was able to set it up as a dumb AP using some instructions I found around.&nbsp; If anyone needs my /etc/network file I can share it.&nbsp; My question is with opkg it seems that mine is using a normal version but the source location for packages doesn&#039;t seem to exist anymore.&nbsp; My opkg.conf has this </p><div class="codebox"><pre><code> downloads.openwrt.org/attitude_adjustment/12.09/brcm63xx/generic/packages </code></pre></div><p>&nbsp; But whenever I try to do anything in opkg I get the error&nbsp; </p><div class="quotebox"><blockquote><p>[packageName] has no valid architecture, ignoring</p></blockquote></div><p> My thought is that I might be able to make the router a bit more generic if I can install normal packages.&nbsp; That and I want nano because I find vim impossible to use.</p>											<p class="post-edited">(Last edited by <strong>robbz23</strong> on 9 Dec 2017, 11:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369480">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">mikma</div>
					<div class="post-datetime">
						11 Dec 2017, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>I have got a TG799vacXTREAM from Telenor/Bredbandsbolaget in Sweden. The software version is 15.4 (Crimson) and the hardware version is VANT-W which is a dual core ARMv7 Processor rev 1 (Cortex A9).</p><p>I have installed LEDE 17.01.4 on a USB stick and am using chroot to run opkg and try out some packages. I built the root file system using the bcm53xx imagebuilder since it&#039;s the same architecture (ARM Cortex A9). (When using imagebuilder the root file system is located in build_dir/target-arm_cortex-a9_musl-1.1.16_eabi/root-bcm53xx/ after the image build completes.0</p><p>Unfortunately the TG799vacXTREAM kernel doesn&#039;t support tun/tap which means VPN is a not possible unless somebody is able to compile modules for the kernel. I have tried but but inserting the module caused the kernel to crash and and the unit to reboot. The router also reboots if there is a segmentation fault in a user space program.</p><p>EDIT: Reboots after coredumps can be disabled:<br /></p><div class="codebox"><pre><code>uci set system.@coredump[0].reboot=&#039;0&#039;
uci commit system</code></pre></div>											<p class="post-edited">(Last edited by <strong>mikma</strong> on 12 Dec 2017, 06:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p373098">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">Cadavrez</div>
					<div class="post-datetime">
						2 Mar 2018, 01:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mikma wrote:</cite><blockquote><p>I have installed LEDE 17.01.4 on a USB stick and am using chroot to run opkg and try out some packages. I built the root file system using the bcm53xx imagebuilder since it&#039;s the same architecture (ARM Cortex A9). (When using imagebuilder the root file system is located in build_dir/target-arm_cortex-a9_musl-1.1.16_eabi/root-bcm53xx/ after the image build completes.</p></blockquote></div><p>Thanks for the info! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=67564&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>