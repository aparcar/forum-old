<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WifiDog problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p5618">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">wtrenker</div>
					<div class="post-datetime">
						27 Mar 2005, 10:21					</div>
				</div>
				<div class="post-content content">
					<p>I downloaded and installed wifidog_1.0.2_mipsel.ipk and when I run the wifidog binary I get these messages:<br />/usr/bin/wifidog: 117: /home/florian/dev/buildroot/build_mipsel/staging_dir/bin/sed: not found<br />/usr/bin/wifidog: 117: /home/florian/dev/buildroot/build_mipsel/staging_dir/bin/sed: not found<br />cd: 1: can&#039;t cd to /home/florian/dev/buildroot/build_mipsel/wifidog-1.0.2/src<br />eval: 1: /home/florian/dev/buildroot/build_mipsel/staging_dir/bin/mipsel-linux-uclibc-gcc: not found</p><p>Any idea what&#039;s happening?</p><p>Thanks,<br />Bill</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p5781">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">kaouete</div>
					<div class="post-datetime">
						1 Apr 2005, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>you should either compile it yourself, or you can try the one available at <a href="http://www.ilesansfil.org/dist/wifidog/">http://www.ilesansfil.org/dist/wifidog/</a> but it&#039;s not sure it will work good.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p5844">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">thefRont</div>
					<div class="post-datetime">
						3 Apr 2005, 17:20					</div>
				</div>
				<div class="post-content content">
					<p>are there any instructions/howtos available for the wifidog compilation process using the experimental version of openwrt? wifidog lacks a bit of support on the website and somehow it looks like there are some scripts missing in the wifidog source-tarball (e.g. autogen.sh)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p5845">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						3 Apr 2005, 17:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>are there any instructions/howtos available for the wifidog compilation process using the experimental version of openwrt? wifidog lacks a bit of support on the website and somehow it looks like there are some scripts missing in the wifidog source-tarball (e.g. autogen.sh)</p></blockquote></div><p>It&#039;s easy to add new packages to the build process in experimental. Just grab the latest source snapshot, build it one time to get the toolchain working and to have the base packages compiled, then take a simple package (like strace), copy it over to a new directory, change stuff for the new package and then build it.<br />If you set the environment variable TOPDIR to your buildroot directory, you can go directly into the package directory and just type &quot;make clean compile&quot; to compile it. That should make testing easy. If you need additional documentation, just look at buildroot-documentation.html in the docs/ directory.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p5854">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">thefRont</div>
					<div class="post-datetime">
						3 Apr 2005, 22:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>then take a simple package (like strace), copy it over to a new directory, change stuff for the new package and then build it.</p></blockquote></div><p>to which directory should I copy the contents of the package and what &quot;stuff&quot; should I change? please be a bit more specific <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p5904">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">thefRont</div>
					<div class="post-datetime">
						5 Apr 2005, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I have now successfully compiled my own build of WifiDog. Well, the packaging process was interrupted by<br />some error I couldn&#039;t explain, but the binaries were already built at that time, so i could tar and gzip<br />them and send them to the router for manual installation.</p><p>I&#039;ve already tested the binaries with the free auth server offered by ilesansfil (<a href="https://auth.ilesansfil.org">https://auth.ilesansfil.org</a>)<br />and they are working perfectly, so I think the router is now set up for working with WifiDog.</p><p>Now comes the hard part installing the auth-server because it only works with PHP5 and PostgreSQL and I<br />don&#039;t have PHP5 and my build of PHP4 doesn&#039;t fully support PostgreSQL. Does anyone have a clue how to<br />convert the scripts, to work with PHP4 and MySQL again (I think removing all that OO stuff should help).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6100">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Plec</div>
					<div class="post-datetime">
						11 Apr 2005, 05:22					</div>
				</div>
				<div class="post-content content">
					<p>Some informations about&nbsp; <a href="http://www.ilesansfil.org/wiki/WiFiDog/FAQ#head-8ba37f479842312562f131032bb11e4fb68942aa">wifidog client running on openwrt</a> can be found on the <a href="http://www.ilesansfil.org/wiki/WiFiDog/FAQ">FAQ</a>.</p><div class="quotebox"><blockquote><p>Now comes the hard part installing the auth-server because it only works with PHP5 and PostgreSQL and I don&#039;t have PHP5 and my build of PHP4 doesn&#039;t fully support PostgreSQL. Does anyone have a clue how to<br />convert the scripts, to work with PHP4 and MySQL again (I think removing all that OO stuff should help).</p></blockquote></div><p>The Auth-server will be working soon with MySQL, but no date is planned at this time. I think it will not be easy to convert the OO code to be working with PHP4.<br />Also all new development (like newly radius code released last week) will be OO. </p><p>Try to install postgresql and php5. If you are using Apache&nbsp; you can use this &quot;pseudo&quot; command to help you and use php4 and php5 at the same time: <br /></p><div class="codebox"><pre><code>wget http://www.postgresql.org/postgresql-source.tar.gz
tar -xzf postgresql-source.tar.gz
cd postgresql-source
./configure --prefix=/usr/local/postgresql8
make
make install</code></pre></div><div class="codebox"><pre><code>wget http://www.php.net/php5-source.tar.gz
tar -xzf php5-source.tar.gz
cd php5-source
./configure   (Remove/add to fit your needs)
        --prefix=/usr/local/php5 
        --with-gd 
        --with-zlib 
        --with-xml  
        --with-freetype-dir 
        --with-bz2 
        --with-zip 
        --with-openssl 
        --with-ttf 
        --with-tiff-dir 
        --with-pgsql=/usr/local/postgresql8
        --with-regex=system
make
make install
cp /usr/local/php5/bin/php /usr/local/apache/cgi-bin/php5</code></pre></div><p>Add this to your apache config file (httpd.conf)<br /></p><div class="codebox"><pre><code>    AddType application/x-httpd-php5 .php .php5
    Action application/x-httpd-php5 /cgi-bin/php5</code></pre></div><p>Rename all auth-server php files to end with .php5<br />Finally restart your apache server.</p><p>If you need more help ask on wifidog <a href="http://www.ilesansfil.org/maillists.shtml">mailing list</a> or go on PHP and Postgresql help sites.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>