<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Transmission...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p252420">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Stargate64</div>
					<div class="post-datetime">
						29 Oct 2014, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>Hello!<br />Thanks to all your hints, now my OpenWRT (on a TP-Link WR710N, &quot;rooted&quot; on a 32GB pen drive) is almost fully functional. There are only 2 issues, that I believe are directly linked:<br />1 - transmission-daemon works quite well. However, very often it disconnects and unloads from memory, probably because it&#039;s very memory-consuming &quot;free -m&quot; shows: &quot;root@superwrt:~# free -m<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />Mem:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29504&nbsp; &nbsp; &nbsp; &nbsp; 28612&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 892&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 300<br />-/+ buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28312&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1192<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&quot;<br />. So, I have to manually check and eventually restart the daemon. I do think this issue is due to--&gt;<br />--&gt;2 - the fact I can&#039;t (no matter what I do) mount any swap partition or swap file in OpenWRT. So, it&#039;s a memory problem, IMHO. My swap partion is on /dev/sda5 , and swapon -a (or whatever...) always ends with: &quot;block: failed to swapon /dev/sda5&quot;.<br />Is there a solution to this?<br />TIA!<br />Stargate64</p>											<p class="post-edited">(Last edited by <strong>Stargate64</strong> on 29 Oct 2014, 15:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252425">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">spy00a35</div>
					<div class="post-datetime">
						29 Oct 2014, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>What version of Openwrt?<br />32MB of ram are few for&nbsp; transmissionbt</p><p>With AA 12.09 and BB 14.07 (on my tp-link mr3220 v1) the swap works; i followed the openwrt wiki guide (fstab config);</p><p>also with the swap (300 MB) partition, sometimes Transmission-daemon causes some system crash, oom kick in, swap page allocation failure, but this is a different kettle of fish</p>											<p class="post-edited">(Last edited by <strong>spy00a35</strong> on 29 Oct 2014, 16:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252428">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Stargate64</div>
					<div class="post-datetime">
						29 Oct 2014, 16:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spy00a35 wrote:</cite><blockquote><p>What version of Openwrt?<br />32MB of ram are few for&nbsp; transmissionbt</p><p>With AA 12.09 and BB 14.07 (on my tp-link mr3220 v1) the swap works; i followed the openwrt wiki guide (fstab config);</p><p>also with the swap (300 MB) partition, sometimes Transmission-daemon causes some system crash, oom kick in, swap page allocation failure, but this is a different kettle of fish</p></blockquote></div><p>Hello,<br />Thanks for reply! My version is OpenWrt Barrier Breaker 14.07, and the guide didn&#039;t help too much. I always get that error...<br />Anyway, I have extroot, and swap partition is 256Mb, but I have continuous no-go&#039;s...<br />What did you exactly do to activate swap?<br />Thx!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252447">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">spy00a35</div>
					<div class="post-datetime">
						29 Oct 2014, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>with BB 14.07 you have to look <a href="http://wiki.openwrt.org/doc/techref/block_mount">http://wiki.openwrt.org/doc/techref/block_mount</a></p><p>with the block&nbsp; command you should be able to obtain a working fstab config (swap plus the other stuff)</p><p>PS.: for the reply, we are all here for that...i hope <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>spy00a35</strong> on 29 Oct 2014, 20:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252469">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						30 Oct 2014, 00:09					</div>
				</div>
				<div class="post-content content">
					<p>There is little point in making swap bigger than twice the size of your RAM, I believe. Either way, once you start swapping, your system will get dog slow, and the OOM killer kicks in eventually. And transmission could eat quite some memory, last time I used it.</p>											<p class="post-edited">(Last edited by <strong>Borromini</strong> on 30 Oct 2014, 00:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252473">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">LarsNorgaard</div>
					<div class="post-datetime">
						30 Oct 2014, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>I find it easier to set up in LuCI. Have you looked at Mount Points under System?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252497">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">spy00a35</div>
					<div class="post-datetime">
						30 Oct 2014, 09:09					</div>
				</div>
				<div class="post-content content">
					<p>it the swap is on a flash drive, i suggest to lower the vm.swappiness, there&#039;s some indication also here <a href="http://wiki.openwrt.org/doc/uci/fstab">http://wiki.openwrt.org/doc/uci/fstab</a></p>											<p class="post-edited">(Last edited by <strong>spy00a35</strong> on 30 Oct 2014, 09:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252580">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Stargate64</div>
					<div class="post-datetime">
						31 Oct 2014, 00:42					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s absolutely incredible.<br />I tried out every single solution that all you suggested, but nothing worked. I could put a swap file on a HDD (I have 2 connected to the WR710N and networked via Samba), but even in this case I get... nothing. No swap at all. And this frustrating situation continues since the very first installation of OpenWRT on the device!<br />Right now, I&#039;m going to try again your suggestions. But I don&#039;t have any hope...<br />Lars, in Mount Points swap seems correctly enabled, but it&#039;s NOT mounted...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>