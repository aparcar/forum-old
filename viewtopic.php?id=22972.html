<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> duid for pppoe?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p99306">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						25 Dec 2009, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>My ISP is doing an IPv6 trial for DSL customers. For this to work they require my DHCPv6 DUID. How can I find this out? My DSL connection works with PPPoE. Is this actually possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99320">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						25 Dec 2009, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>tried both dhcp6-client and dibbler but could not manage to set up DHCPv6 with PPPoE. Anybody done this before?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99337">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Andrew-ACT</div>
					<div class="post-datetime">
						26 Dec 2009, 09:01					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s not in the trunk yet, but you can checkout the source for the WIDE DHCPv6 package at <a href="http://nativev6.googlecode.com/svn/wide-dhcpv6/tags/20080615-2/">http://nativev6.googlecode.com/svn/wide â€¦ 0080615-2/</a></p><p>If your router is mipsel, you can install the packages located at <a href="http://code.google.com/p/nativev6/downloads/list">http://code.google.com/p/nativev6/downloads/list</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99342">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						26 Dec 2009, 14:24					</div>
				</div>
				<div class="post-content content">
					<p>I tried wise and I get the same error as previously with dibbler:</p><div class="codebox"><pre><code>Dec/26/2009 12:22:27: client6_init: failed initialize control message authentication
Dec/26/2009 12:22:27: client6_init: setsockopt(IPV6_RECVPKTINFO): Protocol not available</code></pre></div><p>Do i need anything else than kmod-ipv6?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99360">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Andrew-ACT</div>
					<div class="post-datetime">
						27 Dec 2009, 02:27					</div>
				</div>
				<div class="post-content content">
					<p>Ahh you&#039;re running the 2.4 kernel.&nbsp; There&#039;s a patch in the package that takes care of that, but it only takes effect if the package is compiled against the brcm-2.4 target.</p><p>If you can&#039;t compile it yourself, I will do it and put the package up when I get home in 2 days.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99361">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						27 Dec 2009, 02:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Andrew!</p><p>I&#039;ll try the 2.6 kernel first and let you know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99726">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Andrew-ACT</div>
					<div class="post-datetime">
						3 Jan 2010, 10:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mcfly9 wrote:</cite><blockquote><p>Thanks Andrew!</p><p>I&#039;ll try the 2.6 kernel first and let you know.</p></blockquote></div><p>In case you didn&#039;t try 2.6 yet, the package compiled to work with the 2.4 kernel is now available at <a href="http://code.google.com/p/nativev6/downloads/list">http://code.google.com/p/nativev6/downloads/list</a></p><p>Let me know how you go.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99809">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						5 Jan 2010, 02:27					</div>
				</div>
				<div class="post-content content">
					<p>I have tried the 2.4 version and I am progressing. I managed to get it working, however it cannot seem to transmit on ppp0:</p><div class="codebox"><pre><code>root@OpenWrt:~# dhcp6c -c /etc/dhcp6c.conf -Df ppp0
Jan/05/2010 00:25:54: get_duid: extracted an existing DUID from /var/dhcp6c_duid: 00:01:00:01:12:c8:c0:84:00:12:17:dd:fb:07
Jan/05/2010 00:25:54: dhcp6_ctl_authinit: failed to open /etc/dhcp6cctlkey: No such file or directory
Jan/05/2010 00:25:54: client6_init: failed initialize control message authentication
Jan/05/2010 00:25:54: client6_init: skip opening control port
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;[interface] (9)
Jan/05/2010 00:25:54: cfdebug_print: &lt;5&gt;[ppp0] (4)
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;begin of closure [{] (1)
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;[request] (7)
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;[domain-name-servers] (19)
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;end of sentence [;] (1)
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;end of closure [}] (1)
Jan/05/2010 00:25:54: cfdebug_print: &lt;3&gt;end of sentence [;] (1)
Jan/05/2010 00:25:54: configure_pool: called
Jan/05/2010 00:25:54: clear_poolconf: called
Jan/05/2010 00:25:54: dhcp6_reset_timer: reset a timer on ppp0, state=INIT, timeo=0, retrans=383
Jan/05/2010 00:25:54: client6_send: a new XID (7b23c6) is generated
Jan/05/2010 00:25:54: copy_option: set client ID (len 14)
Jan/05/2010 00:25:54: copy_option: set elapsed time (len 2)
Jan/05/2010 00:25:54: copy_option: set option request (len 2)
Jan/05/2010 00:25:54: client6_send: transmit failed: Network is unreachable
Jan/05/2010 00:25:54: dhcp6_reset_timer: reset a timer on ppp0, state=SOLICIT, timeo=0, retrans=1077
Jan/05/2010 00:25:55: copy_option: set client ID (len 14)
Jan/05/2010 00:25:55: copy_option: set elapsed time (len 2)
Jan/05/2010 00:25:55: copy_option: set option request (len 2)
Jan/05/2010 00:25:55: client6_send: transmit failed: Network is unreachable</code></pre></div><p>Transmitting on eth0.1 works, however here there seems to be noone listening on the other end...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99811">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						5 Jan 2010, 02:35					</div>
				</div>
				<div class="post-content content">
					<p>problem for the network error was that there is no link-local ipv6 address associated with ppp0. I gave it one with ip, now I see solicit packets going out on the ppp0 interface.</p><p>now I only need to solve these two:<br />- why isn&#039;t ppp0 getting a link-local address<br />- why is there no reply coming to the solicit messages</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99821">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Andrew-ACT</div>
					<div class="post-datetime">
						5 Jan 2010, 11:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mcfly9 wrote:</cite><blockquote><p>problem for the network error was that there is no link-local ipv6 address associated with ppp0. I gave it one with ip, now I see solicit packets going out on the ppp0 interface.</p><p>now I only need to solve these two:<br />- why isn&#039;t ppp0 getting a link-local address<br />- why is there no reply coming to the solicit messages</p></blockquote></div><p>Your need to add the following to the /etc/config/network file for your WAN interface:</p><p> option &#039;ipv6&#039; &#039;1&#039;</p><p>This will ensure that you and your ISP negotiate a link local IPv6 address when PPP comes up.</p><p>Also, why are you using a hand generated /etc/dhcp6c.conf file?&nbsp; If you installed my package, you should just edit the config file /etc/config/dhcp6c.&nbsp; The DHCPv6 client will start automatically when your WAN interface comes up due to the hotplug scripts in the package.&nbsp; It will auto-generate the config file /var/etc/dhcp6c.conf.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p99822">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mcfly9</div>
					<div class="post-datetime">
						5 Jan 2010, 11:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Andrew-ACT wrote:</cite><blockquote><p>Your need to add the following to the /etc/config/network file for your WAN interface:</p><p> option &#039;ipv6&#039; &#039;1&#039;</p><p>This will ensure that you and your ISP negotiate a link local IPv6 address when PPP comes up.</p></blockquote></div><p>This is set. Turned out I need to use a different login with my ISP when wanting an IPv6 connection. Unfortunately I cannot get both v4 and v6. when using the v6 login, addresses are fine (even get a v6 global address without dhcpv6).</p><div class="quotebox"><cite>Andrew-ACT wrote:</cite><blockquote><p>Also, why are you using a hand generated /etc/dhcp6c.conf file?&nbsp; If you installed my package, you should just edit the config file /etc/config/dhcp6c.&nbsp; The DHCPv6 client will start automatically when your WAN interface comes up due to the hotplug scripts in the package.&nbsp; It will auto-generate the config file /var/etc/dhcp6c.conf.</p></blockquote></div><p>Will try it, but so far I didn&#039;t see it work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124020">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">vavhab</div>
					<div class="post-datetime">
						27 Dec 2010, 19:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have a similar problem, so I didn&#039;t open a new post. My case is a little different.<br />My ISP has native ipv6 support with pppoe. My router is running on Backfire 10.03.1-rc4 and ipv6 working fine with pppoe.<br />But I always get different ipv6 address, so it&#039;s dynamic. To make it static I have to register on my ISP&#039;s website and I have to add my DUID.</p><p>I have Linksys wrt54gl running on Backfire 10.03.1-rc4. But I don&#039;t have idea how should I find the DUID.</p><p>Regards,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124073">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">vavhab</div>
					<div class="post-datetime">
						28 Dec 2010, 13:14					</div>
				</div>
				<div class="post-content content">
					<p>up</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>