<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear R8000 support?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 23 Mar 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 17 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=55367&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=15.html">15</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=16.html">16</a></li><li class="pagination-current"><span>17</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=18.html">18</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=19.html">19</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p319777">
				<div class="post-metadata">
					<div class="post-num">Post #401</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						15 Apr 2016, 08:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DrPizza wrote:</cite><blockquote><p>Config:<br /></p><div class="codebox"><pre><code>config wifi-device &#039;radio0&#039;
        option type &#039;mac80211&#039;
        option hwmode &#039;11a&#039;
        option path &#039;18000000.axi/bcma0:7/pci0000:00/0000:00:00.0/0000:01:00.0&#039;
        option txpower &#039;20&#039;
        option channel &#039;132&#039;
        option country &#039;00&#039;
        option htmode &#039;VHT80&#039;

config wifi-iface
        option device &#039;radio0&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option encryption &#039;psk2&#039;
        option key &#039;password&#039;
        option ssid &#039;grackle-nest-backhaul&#039;

config wifi-device &#039;radio1&#039;
        option type &#039;mac80211&#039;
        option channel &#039;11&#039;
        option hwmode &#039;11g&#039;
        option path &#039;18000000.axi/bcma0:8/pci0001:00/0001:00:00.0/0001:01:00.0/0001:02:01.0/0001:03:00.0&#039;
        option htmode &#039;HT20&#039;
        option txpower &#039;20&#039;
        option country &#039;00&#039;

config wifi-iface
        option device &#039;radio1&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option ssid &#039;grackle-nest&#039;
        option encryption &#039;psk2&#039;
        option key &#039;password&#039;

config wifi-device &#039;radio2&#039;
        option type &#039;mac80211&#039;
        option hwmode &#039;11a&#039;
        option path &#039;18000000.axi/bcma0:8/pci0001:00/0001:00:00.0/0001:01:00.0/0001:02:02.0/0001:04:00.0&#039;
        option txpower &#039;20&#039;
        option channel &#039;44&#039;
        option country &#039;00&#039;
        option htmode &#039;VHT80&#039;

config wifi-iface
        option device &#039;radio2&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option ssid &#039;grackle-nest-5g&#039;
        option encryption &#039;psk2&#039;
        option key &#039;password&#039;</code></pre></div><p>System log:<br /></p><div class="codebox"><pre><code>Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio1 (1208): wlan1: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio1 (1208): wlan1: Could not connect to kernel driver
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio1 (1208): Using interface wlan1 with hwaddr e8:fc:af:fb:f7:0c and ssid &quot;grackle-nest&quot;
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): Failed to create interface mon.wlan0: -95 (Operation not supported)
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio2 (1209): wlan2: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio2 (1209): wlan2: interface state COUNTRY_UPDATE-&gt;HT_SCAN
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio1 (1208): wlan1: interface state COUNTRY_UPDATE-&gt;ENABLED
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio1 (1208): wlan1: AP-ENABLED 
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: interface state COUNTRY_UPDATE-&gt;HT_SCAN
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio2 (1209): wlan2: Could not connect to kernel driver
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio2 (1209): Using interface wlan2 with hwaddr e8:fc:af:fb:f7:0d and ssid &quot;grackle-nest-5g&quot;
Fri Apr 15 01:23:20 2016 daemon.notice netifd: Network device &#039;wlan1&#039; link is up
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio2 (1209): wlan2: interface state HT_SCAN-&gt;ENABLED
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio2 (1209): wlan2: AP-ENABLED 
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: interface state HT_SCAN-&gt;DFS
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: DFS-CAC-START freq=5660 chan=132 sec_chan=1, width=1, seg0=138, seg1=0, cac_time=60s
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): DFS start_dfs_cac() failed, -1
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): Interface initialization failed
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: interface state DFS-&gt;DISABLED
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: AP-DISABLED 
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: interface state DISABLED-&gt;DISABLED
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): wlan0: AP-DISABLED 
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): hostapd_free_hapd_data: Interface wlan0 wasn&#039;t started
Fri Apr 15 01:23:20 2016 daemon.notice netifd: radio0 (1207): nl80211: deinit ifname=wlan0 disabled_11b_rates=0
Fri Apr 15 01:23:21 2016 daemon.notice netifd: radio0 (1207): ELOOP: remaining socket: sock=16 eloop_data=0x1158240 user_data=(nil) handler=0x2fb68
Fri Apr 15 01:23:21 2016 daemon.notice netifd: radio0 (1207): cat: can&#039;t open &#039;/var/run/wifi-phy0.pid&#039;: No such file or directory
Fri Apr 15 01:23:21 2016 daemon.notice netifd: radio0 (1207): Command failed: Invalid argument</code></pre></div></blockquote></div><p>Try changing the channel to 149 and try again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319778">
				<div class="post-metadata">
					<div class="post-num">Post #402</div>
					<div class="post-author">DrPizza</div>
					<div class="post-datetime">
						15 Apr 2016, 08:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>Try changing the channel to 149 and try again.</p></blockquote></div><p>That works, thank you!</p><p>Why 149?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319779">
				<div class="post-metadata">
					<div class="post-num">Post #403</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						15 Apr 2016, 08:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DrPizza wrote:</cite><blockquote><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>Try changing the channel to 149 and try again.</p></blockquote></div><p>That works, thank you!</p><p>Why 149?</p></blockquote></div><p>Actually if you check the UI ( Luci ) to set the Channel you would see that 132 is not supported. Because of the previous mistakes in the configuration Luci was displaying all the Channel options, even those which are not supported. At least thats what i believe the problem to be. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319780">
				<div class="post-metadata">
					<div class="post-num">Post #404</div>
					<div class="post-author">DrPizza</div>
					<div class="post-datetime">
						15 Apr 2016, 08:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><div class="quotebox"><cite>DrPizza wrote:</cite><blockquote><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>Try changing the channel to 149 and try again.</p></blockquote></div><p>That works, thank you!</p><p>Why 149?</p></blockquote></div><p>Actually if you check the UI ( Luci ) to set the Channel you would see that 132 is not supported. Because of the previous mistakes in the configuration Luci was displaying all the Channel options, even those which are not supported. At least thats what i believe the problem to be. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>idk, I configured everything through luci so I&#039;m not really sure why it&#039;s showing so many channels. The reason I set it to US was that I thought it&#039;d only show the &quot;right&quot; ones (since it&#039;s a US device, after all) but it didn&#039;t seem to make a difference.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319932">
				<div class="post-metadata">
					<div class="post-num">Post #405</div>
					<div class="post-author">aru</div>
					<div class="post-datetime">
						16 Apr 2016, 07:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><div class="codebox"><pre><code>config interface &#039;wan&#039;
    option ifname &#039;eth0.2&#039;
    option proto &#039;pppoe&#039;
    option username    &#039;xxxxx&#039;
    option password    &#039;xxxxx&#039;
    option service    &#039;xxxxxx&#039; #Optional</code></pre></div><p>Cause i don&#039;t have the bridge and orig_ifname options.. And PPPOE has always been working for me.. even in the latest Nightly. And this is what i have been using..</p></blockquote></div><p>I fix the problem by add a line in in wan section.&nbsp; where mac address can get from the package box.<br /></p><div class="codebox"><pre><code>        option macaddr &#039;xx:xx:xx:xx:xx:xx&#039; </code></pre></div><p>R8000 can&#039;t get a valid mac address under CC 15.05.1<br />Can you confirm this bug fixed in current trunk release?</p>											<p class="post-edited">(Last edited by <strong>aru</strong> on 16 Apr 2016, 11:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319934">
				<div class="post-metadata">
					<div class="post-num">Post #406</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						16 Apr 2016, 09:29					</div>
				</div>
				<div class="post-content content">
					<p>The problem is caused by specific Ethernet interfaces in R8000.<br />eth0: doesn&#039;t have MAC, should be used as fwd0, should be used for forwarding packets to radio<br />eth1: doesn&#039;t have MAC, should be used as fwd1, should be used for forwarding packets to radio<br />eth2: does have MAC, should be used as eth0, should be used as main switch interface</p><p>We should use eth2 but this requires setting FA (flow accelerator) which is not supported. So our only option was to use eth0 or eth1 as workaround. This works (it&#039;s possible to use network) but none of them has MAC assigned, so Linux gets a random one for them.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319946">
				<div class="post-metadata">
					<div class="post-num">Post #407</div>
					<div class="post-author">aru</div>
					<div class="post-datetime">
						16 Apr 2016, 11:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>We should use eth2 but this requires setting FA (flow accelerator) which is not supported. So our only option was to use eth0 or eth1 as workaround. This works (it&#039;s possible to use network) but none of them has MAC assigned, so Linux gets a random one for them.</p></blockquote></div><p>Can we do a hack to force eth0 use eth2 mac?<br />random mac may cause weird problem in some network environment, At least&nbsp; two cases in this thread.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320034">
				<div class="post-metadata">
					<div class="post-num">Post #408</div>
					<div class="post-author">DrPizza</div>
					<div class="post-datetime">
						16 Apr 2016, 22:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>The problem is caused by specific Ethernet interfaces in R8000.<br />eth0: doesn&#039;t have MAC, should be used as fwd0, should be used for forwarding packets to radio<br />eth1: doesn&#039;t have MAC, should be used as fwd1, should be used for forwarding packets to radio<br />eth2: does have MAC, should be used as eth0, should be used as main switch interface</p><p>We should use eth2 but this requires setting FA (flow accelerator) which is not supported. So our only option was to use eth0 or eth1 as workaround. This works (it&#039;s possible to use network) but none of them has MAC assigned, so Linux gets a random one for them.</p></blockquote></div><p>FWIW, the MACs I set are sequential, because that&#039;s what was showing under other firmware. radio0/radio1/radio2 have MACs ending :0b, :0c, :0d, WAN is :0a, and the bridge is :09.</p><p>I feel OpenWrt should probably try to replicate this setup, as having them random each boot seems to cause a range of problems.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321349">
				<div class="post-metadata">
					<div class="post-num">Post #409</div>
					<div class="post-author">crwnet</div>
					<div class="post-datetime">
						26 Apr 2016, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>I am using the 15.05.1 version, all of the features are working very well. But when the wireless network is used to download and more than 3000 connections with a half hours or later, speed in about 110Mbps, the wireless network that is used will collapse and can not be restarted.<br />The kernel error are follows:<br />Brcmfmac: brcmf_msgbuf_query_dcmd: Timeout on [34378.555713] response for query command<br />Brcmfmac: brcmf_cfg80211_get_tx_power: error [34378.563581] (-5)</p><p>I analyzed this problem should not case of large data stream, because I use a copy to LAN computer speeds in excess of 600Mbps continued for half an hour is not a problem.</p>											<p class="post-edited">(Last edited by <strong>crwnet</strong> on 26 Apr 2016, 18:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322234">
				<div class="post-metadata">
					<div class="post-num">Post #410</div>
					<div class="post-author">LogicoZone</div>
					<div class="post-datetime">
						2 May 2016, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>Anyone able to compile toolchain from trunk for R8000? On the same box, I&#039;m able to compile for WRT1900AC but same box failed to compile for R8000. Here is the error while compiling GCC. </p><div class="codebox"><pre><code>build/genautomata /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/common.md /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/config/arm/arm.md \
      insn-conditions.md &gt; tmp-automata.c
/bin/bash: line 1: 15849 Killed                  build/genautomata /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/common.md /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/config/arm/arm.md insn-conditions.md &gt; tmp-automata.c
make[5]: *** [s-automata] Error 137
make[5]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0-minimal/gcc&#039;
make[4]: *** [all-gcc] Error 2
make[4]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0-minimal&#039;
make[3]: *** [/home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0-minimal/.built] Error 2
make[3]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt/toolchain/gcc/minimal&#039;
make[2]: *** [toolchain/gcc/minimal/compile] Error 2
make[2]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322456">
				<div class="post-metadata">
					<div class="post-num">Post #411</div>
					<div class="post-author">aru</div>
					<div class="post-datetime">
						4 May 2016, 06:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>LogicoZone wrote:</cite><blockquote><p>Anyone able to compile toolchain from trunk for R8000? On the same box, I&#039;m able to compile for WRT1900AC but same box failed to compile for R8000. Here is the error while compiling GCC. </p><div class="codebox"><pre><code>build/genautomata /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/common.md /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/config/arm/arm.md \
      insn-conditions.md &gt; tmp-automata.c
/bin/bash: line 1: 15849 Killed                  build/genautomata /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/common.md /home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0/gcc/config/arm/arm.md insn-conditions.md &gt; tmp-automata.c
make[5]: *** [s-automata] Error 137
make[5]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0-minimal/gcc&#039;
make[4]: *** [all-gcc] Error 2
make[4]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0-minimal&#039;
make[3]: *** [/home/parallels/openwrt/r8000-trunk/openwrt/build_dir/toolchain-arm_cortex-a9_gcc-5.3.0_musl-1.1.14_eabi/gcc-5.3.0-minimal/.built] Error 2
make[3]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt/toolchain/gcc/minimal&#039;
make[2]: *** [toolchain/gcc/minimal/compile] Error 2
make[2]: Leaving directory `/home/parallels/openwrt/r8000-trunk/openwrt&#039;</code></pre></div></blockquote></div><p>It&#039;s OK to compile latest trunk. Maybe you don&#039;t have sufficient memory? Make sure you have large than 3GB ram.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322457">
				<div class="post-metadata">
					<div class="post-num">Post #412</div>
					<div class="post-author">aru</div>
					<div class="post-datetime">
						4 May 2016, 06:05					</div>
				</div>
				<div class="post-content content">
					<p>wget / curl failed in latest trunk<br />I compile latest trunk and find wget/curl within router will failed.<br />wget <a href="http://www.google.com">http://www.google.com</a> will return error: Failed to allocate uclient context.<br />I download latest trunk build from downloads.openwrt.org and do a fresh upgrade, same thing happen.<br />Can someone confirm this bug?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322753">
				<div class="post-metadata">
					<div class="post-num">Post #413</div>
					<div class="post-author">r8000_user</div>
					<div class="post-datetime">
						6 May 2016, 15:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi, thanks for all the hard work that went into getting this release working. Just making a note here about getting USB working on r8000 device which has 1xUSB2.0&nbsp; and 1xUSB3.0 ports.</p><p>Looks like USB3 is not supported on this router. I installed the USB3 driver but got a error messing in kernel log &quot;no usb3 ports found&quot;</p><p>I then installed kmod-usb2:<br /></p><div class="codebox"><pre><code>[  659.710750] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[  659.721503] ehci-platform: EHCI generic platform driver
[  659.726928] ehci-platform ehci-platform.0: EHCI Host Controller
[  659.732959] ehci-platform ehci-platform.0: new USB bus registered, assigned bus number 1
[  659.741339] ehci-platform ehci-platform.0: irq 111, io mem 0x18021000
[  659.758343] ehci-platform ehci-platform.0: USB 2.0 started, EHCI 1.00
[  659.765376] hub 1-0:1.0: USB hub found
[  659.769444] hub 1-0:1.0: 2 ports detected</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322754">
				<div class="post-metadata">
					<div class="post-num">Post #414</div>
					<div class="post-author">r8000_user</div>
					<div class="post-datetime">
						6 May 2016, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>I was also wondering what ETH1 and ETH2 ports are used for? Could the WAN port be setup on one those instead of sharing ETH0 with the embedded switch?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322755">
				<div class="post-metadata">
					<div class="post-num">Post #415</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 May 2016, 16:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>r8000_user wrote:</cite><blockquote><p>Looks like USB3 is not supported on this router. I installed the USB3 driver but got a error messing in kernel log &quot;no usb3 ports found&quot;</p></blockquote></div><p>I think this message appears for one hub only. Provide a full log.</p><div class="quotebox"><cite>r8000_user wrote:</cite><blockquote><p>I was also wondering what ETH1 and ETH2 ports are used for? Could the WAN port be setup on one those instead of sharing ETH0 with the embedded switch?</p></blockquote></div><p>Really, it was explained in my last post here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325150">
				<div class="post-metadata">
					<div class="post-num">Post #416</div>
					<div class="post-author">quack75</div>
					<div class="post-datetime">
						21 May 2016, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>Please, can you tell me the best practice between these 2:<br />- use the same SSID/WPA key for the two 5GHz radios<br />- use different SSIDs ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325180">
				<div class="post-metadata">
					<div class="post-num">Post #417</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						21 May 2016, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>Both work, both have different tradeoffs.<br />- By using the same SSID, roaming works smoother, but both SSIDs are considered equal (the stronger signal usually wins) - which means you can&#039;t prefer the faster 5 GHz band if you&#039;re in range of both (some commercial wireless setups work hard on accomplishing this through evil tricks)<br />- By using different SSIDs, you can prefer one band over the other (by giving the 5 GHz SSID a higher priority), but they&#039;re no longer considered to be the same network (which means the handoff doesn&#039;t work that smoothly, although it still works)</p><p>In the commercial arena there are several approaches (quite ugly hacks) to mitigate this to some extent, but those have their own problems and exploit specific (undefined or non-standard) behaviour of the connecting clients.</p>											<p class="post-edited">(Last edited by <strong>slh</strong> on 21 May 2016, 20:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325185">
				<div class="post-metadata">
					<div class="post-num">Post #418</div>
					<div class="post-author">quack75</div>
					<div class="post-datetime">
						21 May 2016, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>My question was on the two 5Ghz radios of the R8000. They supposely have the same speed right ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332219">
				<div class="post-metadata">
					<div class="post-num">Post #419</div>
					<div class="post-author">gordan</div>
					<div class="post-datetime">
						20 Jul 2016, 00:02					</div>
				</div>
				<div class="post-content content">
					<p>Right, so to summarize for those who are late to this thread like I was an hour ago:<br />1) 5GHz radios will not work at all if any of the 3 radios&#039; region is set to anything other than 00 (World)<br />2) 5GHz radios will not work if:<br />2.1) Channel width is set to more than 80MHz<br />2.2) Channel above 48 is selected<br />2.3) Cipher is set to anything other than &quot;auto&quot;</p><p>This makes the 2nd radio pretty much pointless because a single 80MHz channel will straddle all channels from 36 to 48, so you might as well switch it off for now.</p><p>There is also an issue with firmwares:<br /></p><div class="codebox"><pre><code>[   15.351600] brcmfmac 0000:01:00.0: Direct firmware load for brcm/brcmfmac43602-pcie.txt failed with error -2
[   15.374720] firmware brcm!brcmfmac43602-pcie.txt: firmware_loading_store: map pages failed
[   15.869864] brcmfmac 0001:03:00.0: Direct firmware load for brcm/brcmfmac43602-pcie.txt failed with error -2
[   15.893020] firmware brcm!brcmfmac43602-pcie.txt: firmware_loading_store: map pages failed
[   16.399870] brcmfmac 0001:04:00.0: Direct firmware load for brcm/brcmfmac43602-pcie.txt failed with error -2
[   16.423010] firmware brcm!brcmfmac43602-pcie.txt: firmware_loading_store: map pages failed</code></pre></div><p>It is looking for a non-existant firmware blob (the file name it reports is .txt, the actual file is .bin, creating a symlink or copying the bin to a txt so the fw loader can find it doesn&#039;t seem to fix it. In fact it makes it worse, the radios don&#039;t work at all, and the error message changes to:<br />[&nbsp; &nbsp;23.068201] brcmfmac: brcmf_pcie_download_fw_nvram: FW failed to initialize</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332220">
				<div class="post-metadata">
					<div class="post-num">Post #420</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						20 Jul 2016, 00:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gordan wrote:</cite><blockquote><p>There is also an issue with firmwares:<br /></p><div class="codebox"><pre><code>[   15.351600] brcmfmac 0000:01:00.0: Direct firmware load for brcm/brcmfmac43602-pcie.txt failed with error -2
[   15.374720] firmware brcm!brcmfmac43602-pcie.txt: firmware_loading_store: map pages failed
[   15.869864] brcmfmac 0001:03:00.0: Direct firmware load for brcm/brcmfmac43602-pcie.txt failed with error -2
[   15.893020] firmware brcm!brcmfmac43602-pcie.txt: firmware_loading_store: map pages failed
[   16.399870] brcmfmac 0001:04:00.0: Direct firmware load for brcm/brcmfmac43602-pcie.txt failed with error -2
[   16.423010] firmware brcm!brcmfmac43602-pcie.txt: firmware_loading_store: map pages failed</code></pre></div><p>It is looking for a non-existant firmware blob (the file name it reports is .txt, the actual file is .bin, creating a symlink or copying the bin to a txt so the fw loader can find it doesn&#039;t seem to fix it. In fact it makes it worse, the radios don&#039;t work at all, and the error message changes to:<br />[&nbsp; &nbsp;23.068201] brcmfmac: brcmf_pcie_download_fw_nvram: FW failed to initialize</p></blockquote></div><p>There is no such issue at all. brcmfmac failed to load NVRAM from separated file and it used platform one.<br />Trying to provide firmware image instead of NVRAM file (it is what you did) is just a totally bad idea.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332225">
				<div class="post-metadata">
					<div class="post-num">Post #421</div>
					<div class="post-author">gordan</div>
					<div class="post-datetime">
						20 Jul 2016, 02:05					</div>
				</div>
				<div class="post-content content">
					<p>So that error is from trying to load some kind of a configuration file rather than the firmware? Interesting because that doesn&#039;t appear to be what the error message says. So what is the non-existant brcmfmac43602-pcie.txt file, then?</p><p>On a more important note, is there a workaround to get the 5GHz radios to not choke on regions other than 00 and channels above 48?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332237">
				<div class="post-metadata">
					<div class="post-num">Post #422</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						20 Jul 2016, 08:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gordan wrote:</cite><blockquote><p>So that error is from trying to load some kind of a configuration file rather than the firmware? Interesting because that doesn&#039;t appear to be what the error message says. So what is the non-existant brcmfmac43602-pcie.txt file, then?</p></blockquote></div><p>I don&#039;t know how to explain it better. It&#039;s a file that may contain NVRAM content. It&#039;s for devices that don&#039;t have NVRAM on board and don&#039;t use platform NVRAM.</p><div class="quotebox"><cite>gordan wrote:</cite><blockquote><p>On a more important note, is there a workaround to get the 5GHz radios to not choke on regions other than 00 and channels above 48?</p></blockquote></div><p>It&#039;s a generic problem with cfg80211, nothing brcmfmac specific. I don&#039;t know the solution.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332343">
				<div class="post-metadata">
					<div class="post-num">Post #423</div>
					<div class="post-author">gordan</div>
					<div class="post-datetime">
						21 Jul 2016, 12:26					</div>
				</div>
				<div class="post-content content">
					<p>I just tried working around the WiFi configuration issue by setting the regulatory domain directly:</p><p>/etc/modules.d/00-cfg80211:<br />&nbsp; cfg80211 ieee80211_regdom=GB</p><p>That doesn&#039;t seem to fix the problem. Could this possibly be a wifi firmware blob issue? Is the firmware blob used in OpenWRT the same as the firmware blob used by the stock Netgear OS? If not, could it be that the WiFi firmware blob that ships with OpenWRT is deliberately locked down to 00 regulatory domain?</p><p>If it is a case of firmware being deliberately crippled, has anyone tried extracting the firmware from the stock OS and putting that in /lib/firmware/ ? Or is that the same firmware blob that is already there?</p><p>With regdom stuck at 00, the only channels available are:<br />2.4GHz: 1-11<br />5GHz: 36-48, 149-165</p><p>Since I&#039;m in UK, I would very much like access to channels 12 and 13 in the 2.4GHz band since they are much less congested, and channels 50-112, since channels 36-48 tend to be quite congested and many of my devices don&#039;t support channels 149+.</p>											<p class="post-edited">(Last edited by <strong>gordan</strong> on 21 Jul 2016, 19:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333888">
				<div class="post-metadata">
					<div class="post-num">Post #424</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						10 Aug 2016, 09:42					</div>
				</div>
				<div class="post-content content">
					<p>Could someone please provide me R8000 NVRAM dump while either running Stock or on OpenWRT ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334037">
				<div class="post-metadata">
					<div class="post-num">Post #425</div>
					<div class="post-author">meuleman</div>
					<div class="post-datetime">
						11 Aug 2016, 11:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gordan wrote:</cite><blockquote><p>I just tried working around the WiFi configuration issue by setting the regulatory domain directly:</p><p>/etc/modules.d/00-cfg80211:<br />&nbsp; cfg80211 ieee80211_regdom=GB</p><p>That doesn&#039;t seem to fix the problem. Could this possibly be a wifi firmware blob issue? Is the firmware blob used in OpenWRT the same as the firmware blob used by the stock Netgear OS? If not, could it be that the WiFi firmware blob that ships with OpenWRT is deliberately locked down to 00 regulatory domain?</p><p>If it is a case of firmware being deliberately crippled, has anyone tried extracting the firmware from the stock OS and putting that in /lib/firmware/ ? Or is that the same firmware blob that is already there?</p><p>With regdom stuck at 00, the only channels available are:<br />2.4GHz: 1-11<br />5GHz: 36-48, 149-165</p><p>Since I&#039;m in UK, I would very much like access to channels 12 and 13 in the 2.4GHz band since they are much less congested, and channels 50-112, since channels 36-48 tend to be quite congested and many of my devices don&#039;t support channels 149+.</p></blockquote></div><p>The Country code issue is a rather complex one. We (brcmfmac engineers) haven&#039;t solved it yet correctly and it wont be solved any time soon probably and certainly not for the R8000.<br />What is problem: firmware needs more information then just country code. This means country code needs a translation to something called ccode/creg. Latest brcmfmac provides methods to do this translation when a table is provided. The table is product specific so it should be board specific data. This data does not exist at the moment, nor is the table available. <br />New regulations: FCC forbids setting country code at all (recently), and products have to be updated for this. As a result the current method in brcmfmac will probably be dropped, that is besides the fact that tables are unavailable and therefor it wont work anyway. <br />How to make it work: It can be made to work. What you need to do is make sure you have a brcmfmac which uses a table to translate country code, if that table doesn&#039;t exist the country code will not be configured, and that is what we ultimately want. Then you load the original Netgear firmware for the R8000, use the GUI to change the country code to the desired code. Then reload the openwrt image and voila you&#039;re done. The country code will be the correct one. As you don&#039;t need to (and are officially not allowed to) change the country code, this procedure needs to be done only once.&nbsp; <br />If you don&#039;t have a brcmfmac which uses a translation table for determining ccode/creg. but do compile from sources then modify cfg80211.c from brcmfmac and return immediately on entry of the function brcmf_cfg80211_reg_notifier. </p><p>Also: read back in the thread. One of the 5G radios is only for lower frequencies and the other radio is for higher 5G frequencies, don&#039;t use them wrongly or they will not be very efficient.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 17 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=55367&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=15.html">15</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=16.html">16</a></li><li class="pagination-current"><span>17</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=18.html">18</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=19.html">19</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>