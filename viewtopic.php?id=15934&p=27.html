<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Is this router based on the infineon danube?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Oct 2014 and 1 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 27 of 40</div><nav><ul><li><a href="viewtopic.php%3Fid=15934&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=25.html">25</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=26.html">26</a></li><li class="pagination-current"><span>27</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=28.html">28</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=29.html">29</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=40.html">40</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p165361">
				<div class="post-metadata">
					<div class="post-num">Post #651</div>
					<div class="post-author">happyelement</div>
					<div class="post-datetime">
						21 Apr 2012, 19:13					</div>
				</div>
				<div class="post-content content">
					<p>regarding my DSL ... it is still not working</p><p>What I have tried so far ...</p><p>annex a and annex b <br />with<br />PPPoE and PPPoA <br />with <br />Splitter and without Splitter </p><p>(with all possible combinations)</p><br /><br /><p>BUT there is one strange thing, when I attach (with original firmware) the dsl cable from my &quot;wall&quot; (I don&#039;t know the correct word for it) to my Box and from my Box I am attaching my phone<br />I can make calls as normal&nbsp; (what I have read so far is that the splitter is integrated in my box&nbsp; ... MY PHONE/LINE is NOT ISDN)</p><br /><p>When I now run the OpenWrt with this cable config .... I will not gettings any tone in my phone&nbsp; &nbsp; &nbsp; &nbsp;(hell yeah a rhyme)</p><p>So my thoughts are/is that the integrated Splitter/Modem combination don&#039;t getting active/powered up</p><br /><p>{sorry for double post}</p>											<p class="post-edited">(Last edited by <strong>happyelement</strong> on 21 Apr 2012, 19:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166980">
				<div class="post-metadata">
					<div class="post-num">Post #652</div>
					<div class="post-author">wufnik</div>
					<div class="post-datetime">
						10 May 2012, 13:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi all, I think you are doing a great job with this router (ARV4518PW), which incidentally is not a bad router, especially if it can be work with openwrt!</p><p>For me, as a complete newbie, I&#039;m finding very difficult to make it works.</p><p>Can someone who has flashed openwrt from uboot add a howto on this forum? Not understand well the openwrt wiki for this model. <a href="http://wiki.openwrt.org/toh/arcadyan/arv4518pw">http://wiki.openwrt.org/toh/arcadyan/arv4518pw</a></p><p>Well, now I have the uboot installed. I deleted the original boot completely, but I can not install openwrt itself from uboot. TFTP does not seem to work and HTTPD seems that neither.</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166984">
				<div class="post-metadata">
					<div class="post-num">Post #653</div>
					<div class="post-author">ginetto</div>
					<div class="post-datetime">
						10 May 2012, 14:59					</div>
				</div>
				<div class="post-content content">
					<p>me too! waiting for more detailed explanation in the wiki.</p><p>in my case, TFTP always &quot;T T T T T&quot; (I checked server and it works... I&#039;no checked eth pakets) and HTTPD stop uploading</p><p>but now I&#039;ve to find again time to test.</p><div class="quotebox"><cite>wufnik wrote:</cite><blockquote><p>Hi all, I think you are doing a great job with this router (ARV4518PW), which incidentally is not a bad router, especially if it can be work with openwrt!</p><p>For me, as a complete newbie, I&#039;m finding very difficult to make it works.</p><p>Can someone who has flashed openwrt from uboot add a howto on this forum? Not understand well the openwrt wiki for this model. <a href="http://wiki.openwrt.org/toh/arcadyan/arv4518pw">http://wiki.openwrt.org/toh/arcadyan/arv4518pw</a></p><p>Well, now I have the uboot installed. I deleted the original boot completely, but I can not install openwrt itself from uboot. TFTP does not seem to work and HTTPD seems that neither.</p><p>Thanks.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167271">
				<div class="post-metadata">
					<div class="post-num">Post #654</div>
					<div class="post-author">angrybb</div>
					<div class="post-datetime">
						13 May 2012, 22:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wufnik wrote:</cite><blockquote><p>Hi all, I think you are doing a great job with this router (ARV4518PW), which incidentally is not a bad router, especially if it can be work with openwrt!</p><p>For me, as a complete newbie, I&#039;m finding very difficult to make it works.</p><p>Can someone who has flashed openwrt from uboot add a howto on this forum? Not understand well the openwrt wiki for this model. <a href="http://wiki.openwrt.org/toh/arcadyan/arv4518pw">http://wiki.openwrt.org/toh/arcadyan/arv4518pw</a></p><p>Well, now I have the uboot installed. I deleted the original boot completely, but I can not install openwrt itself from uboot. TFTP does not seem to work and HTTPD seems that neither.</p><p>Thanks.</p></blockquote></div><p>Which u-boot have you installed (from where have you downloaded it)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167388">
				<div class="post-metadata">
					<div class="post-num">Post #655</div>
					<div class="post-author">wufnik</div>
					<div class="post-datetime">
						15 May 2012, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi, angrybb. Thanks for your answer!</p><p>Well, I just installed this uboot:</p><p><a href="http://downloads.openwrt.org/snapshots/trunk/lantiq/uboot-lantiq-arv4518PW_brnboot/u-boot.bin">http://downloads.openwrt.org/snapshots/ … u-boot.bin</a></p><p>I tried to follow the &quot;gnumengor&quot; mini-howto in pag.21 of this post</p><p>Is this correct?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167390">
				<div class="post-metadata">
					<div class="post-num">Post #656</div>
					<div class="post-author">wufnik</div>
					<div class="post-datetime">
						15 May 2012, 12:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi again.</p><p>Well, I think I made a mistake in the previous post. The u-boot I used was this and not before:</p><p><a href="http://downloads.openwrt.org/snapshots/trunk/lantiq/uboot-lantiq-arv4518PW_flash/u-boot-bootstrap.bin">http://downloads.openwrt.org/snapshots/ … tstrap.bin</a></p><p>this is I currently installed as primary boot</p><p>Thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167428">
				<div class="post-metadata">
					<div class="post-num">Post #657</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						15 May 2012, 23:01					</div>
				</div>
				<div class="post-content content">
					<p>hi there i have a little big problem </p><br /><p>when i connect the router via serial cable to the computer i got unreadable text in hyperterminal and after the computer does not respond as it should</p><p>thx </p><p>text rexeived in hyperterminal under win Xp</p><p>……………………………………………………………………………………………………C…<br />3?!!-!#ëå………………………………………………………………………………<br />…ëåuac¿uc› gS™›Ÿ{¿;!!%¿;!!¿ “¥;-¿%!7<br />5‹ Ÿëås-=¿-%=15¿=¿Ÿ§¿}[W¿-%=15¿=¿¥ ë</p><p>=¿Ÿ ŸŸŸ›ŸŸŸ¿#¯­¿3#9-!#¿£££åëå-#=&#039;<br />mWE¿m#5¿£££ëå¹¹¹¹¹¿A35¿¿¿¿¿¿…¿Ÿ Ÿ<br />¹¹¹¹¹¿AA;A=¿…¿Ÿ Ÿ•‘• Ÿ—ëå¹¹¹¹¹¿5#7¿<br />5%¿g!1¿_!!&#039;¿=¿£££ëåImcmWE¿eW-#--=</p><p>¿o</p><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><p>keW}_mA_/!#5A_yeAmsAY5Ay!#3-1?e?keY5?_ye<br />?ke?WugAeq[AY5_/!#5k-5eWugAeq[Au#=;&#039;5</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167429">
				<div class="post-metadata">
					<div class="post-num">Post #658</div>
					<div class="post-author">ginetto</div>
					<div class="post-datetime">
						15 May 2012, 23:09					</div>
				</div>
				<div class="post-content content">
					<p>as i know (but i&#039;m not so skilled) this happens when hardware connection (the serial) is not well done or ground is not connected. Some times happens to me too.</p><div class="quotebox"><cite>TheLastOne wrote:</cite><blockquote><p>hi there i have a little big problem </p><br /><p>when i connect the router via serial cable to the computer i got unreadable text in hyperterminal and after the computer does not respond as it should</p><p>thx </p><p>text rexeived in hyperterminal under win Xp</p><p>……………………………………………………………………………………………………C…<br />3?!!-!#ëå………………………………………………………………………………<br />…ëåuac¿uc› gS™›Ÿ{¿;!!%¿;!!¿ “¥;-¿%!7<br />5‹ Ÿëås-=¿-%=15¿=¿Ÿ§¿}[W¿-%=15¿=¿¥ ë</p><p>=¿Ÿ ŸŸŸ›ŸŸŸ¿#¯­¿3#9-!#¿£££åëå-#=&#039;<br />mWE¿m#5¿£££ëå¹¹¹¹¹¿A35¿¿¿¿¿¿…¿Ÿ Ÿ<br />¹¹¹¹¹¿AA;A=¿…¿Ÿ Ÿ•‘• Ÿ—ëå¹¹¹¹¹¿5#7¿<br />5%¿g!1¿_!!&#039;¿=¿£££ëåImcmWE¿eW-#--=</p><p>¿o</p><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><p>keW}_mA_/!#5A_yeAmsAY5Ay!#3-1?e?keY5?_ye<br />?ke?WugAeq[AY5_/!#5k-5eWugAeq[Au#=;&#039;5</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167431">
				<div class="post-metadata">
					<div class="post-num">Post #659</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						15 May 2012, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>To wufnik and ginetto</p><p>Hi there, I started with this router (ARV4518PW) about a month ago, and flashed a bad u-boot as you (no HTTPD/TFTP working). I don&#039;t know why, but if you compile u-boot for this router with httpd option, both httpd and tftp fails ... yahooo! And surprise! trunk version is compiled with httpd .... yahoooo(x2) !</p><p>First, don&#039;t think you&#039;re fucked, this router is almost impossible to brick.<br />Second, in your router state you have no chances to repair it (ironic uh?)</p><p>You need to enable UART mode -&gt; upload a working u-boot with copy-paste-asc mode -&gt; it will run from memory just after paste finished -&gt; upload a good bootloader via tftp/loady to flash memory -&gt; switch off -&gt; disable UART -&gt; go go go! If you have soldering skills, this is really easy.</p><p>But ... did you backup the last 65kb of flash data? It&#039;s really necessary! If you didn&#039;t and you didn&#039;t erased that last flash area, don&#039;t worry. If you did, your wifi is fucked.</p><p>To make this backup: When you boot from ASC, upload the original bootloader, flash it, reboot and stops it. Enter in advanced mode and use brndumper to save the last 65kb, then flash again a working u-boot. (Backup with brndumper from 0xb03F0000 to 0xb0400000)</p><p>Hints:<br />1. PuTTY is nice for Serial and SSH, but don&#039;t try to send via Y-Modem or X-Modem ... don&#039;t works<br />2. If you plan to use Y-modem or X-modem transfer, use Hyperterminal ... uglier but works for this job<br />3. If you plan to do lot of tries with UART, dont solder/desolder too much, install a switch, is better<br />4. To use brndumper you need to configure properly COM port -&gt; create a shortcut -&gt; edit it -&gt; add this <strong>--port=\\.\com1</strong><br />5. To work with this kind of files I use an hexadecimal editor, in my case HxD [ <a href="http://mh-nexus.de/en/hxd/">http://mh-nexus.de/en/hxd/</a> ]</p><p>Links:<br />1. First 0x30000 data (original bootloader) [ <a href="http://www.cienti.com/arv4518pw/first-0x30000-starting-at-0xb0000000.zip">http://www.cienti.com/arv4518pw/first-0 … 000000.zip</a> ]<br />2. Compiled U-Boot with working TFTP and LOADY/LOADB (serial transfer) in ASC format [ <a href="http://www.cienti.com/arv4518pw/u-boot-asc-20120429.zip">http://www.cienti.com/arv4518pw/u-boot-asc-20120429.zip</a> ]<br />3. Compiled U-Boot with working TFTP and LOADY/LOADB ready to write to flash [ <a href="http://www.cienti.com/arv4518pw/u-boot-flash-20120511.zip">http://www.cienti.com/arv4518pw/u-boot- … 120511.zip</a> ]<br />4. brndumper by pippolippi from this forum (thanks for sharing!) [ <a href="http://code.google.com/p/brndumper/">http://code.google.com/p/brndumper/</a> ]</p><p>To enable UART mode, look the wiki, and if you have doubts, say to me and i&#039;ll post a better image.</p><p>This U-Boot I post here starts as 192.168.144.99 and expect TFTP server at 192.168.144.100 but ... as you run from Serial, just modify the environment (setenv) and later save it (saveenv) for your own network</p><p><strong>IMPORTANT!</strong></p><p>Trunk OpenWRT have a wrong hardcoded addresses. It thinks uboot length is 128kb (instead of 64kb) and uboot_env then starts at 0xb0020000 (with a length of 64kb)<br />However, U-Boot is 64kb long and it know it, therefore uboot_env starts at 0xb0010000 and linux starts at 0xb0020000.</p><p>If you want to use OpenWRT, choose between this two options:<br />1. trunk OpenWRT -&gt; you need to flash it to 0xb0030000, set kernel_addr in u-boot env to 0xb0030000 and never modify uboot_env from OpenWRT<br />2. compile your own OpenWRT modifying <em>&#039;target/linux/lantiq/files-3.2/arch/mips/lantiq/xway/mach-arv.c&#039;</em> and <em>&#039;target/linux/lantiq/files-3.3/arch/mips/lantiq/xway/mach-arv.c&#039;</em> (I think you only need the last one but ... modify both and no doubts) with this code:</p><div class="codebox"><pre><code>/*
 * this is generic configuration for all arv based boards, note that it can be
 * rewriten in arv_load_nor()
 */
static struct mtd_partition arv_partitions[] =
{
        {
                .name   = &quot;uboot&quot;,
                .offset = 0x0,
                .size   = 0x10000,
        },
        {
                .name   = &quot;uboot_env&quot;,
                .offset = 0x10000,
                .size   = 0x10000,
        },
        {
                .name   = &quot;linux&quot;,
                .offset = 0x20000,
                .size   = 0x3d0000,
        },
        {
                .name   = &quot;board_config&quot;,
                .offset = 0x3f0000,
                .size   = 0x10000,
        },
};</code></pre></div><p>Flash OpenWRT to 0xb0020000 and all will be so fine. You will get 65kb extra and u-boot and openwrt will be &#039;synced&#039;. You can modify u-boot env from openwrt without problems</p><br /><p>Hope this help!</p>											<p class="post-edited">(Last edited by <strong>aiayua</strong> on 23 May 2012, 11:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167432">
				<div class="post-metadata">
					<div class="post-num">Post #660</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						15 May 2012, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>TheLastOne check the serial port parameters -&gt; 115200 bps / 8 / N / 1 and no flow control</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167443">
				<div class="post-metadata">
					<div class="post-num">Post #661</div>
					<div class="post-author">pippolippi</div>
					<div class="post-datetime">
						16 May 2012, 02:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>4. brndumper (got from this thread, but don&#039;t remember where and the developer (Thank you for sharing this software!)) [ <a href="http://www.cienti.com/arv4518pw/brndumper.zip">http://www.cienti.com/arv4518pw/brndumper.zip</a> ]</p></blockquote></div><p>That&#039;s me and the project page (with instructions) is here:<br /><a href="http://code.google.com/p/brndumper/">http://code.google.com/p/brndumper/</a></p><p>You may also be interested in<br /><a href="http://code.google.com/p/danube-voip/">http://code.google.com/p/danube-voip/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167445">
				<div class="post-metadata">
					<div class="post-num">Post #662</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						16 May 2012, 02:17					</div>
				</div>
				<div class="post-content content">
					<p>Jeje lo siento man, mucho hilo, mucha lectura y mucho tiempo atras ... añado creditos <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167463">
				<div class="post-metadata">
					<div class="post-num">Post #663</div>
					<div class="post-author">wufnik</div>
					<div class="post-datetime">
						16 May 2012, 11:26					</div>
				</div>
				<div class="post-content content">
					<p>WOW. Thank you very much aiayua!</p><p>I think it just needed a detailed summary of this huge thread for this particular model, in which similar lantiq-danube models are also mixed.</p><p>I have not implemented the instructions yet, but I think that is exactly what I needed!</p><div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>3. If you plan to do lot of tries with UART, dont solder/desolder too much, install a switch, is better</p></blockquote></div><p>and yes!, I would greatly appreciate a better picture, if its possible, to switch the system into UART mode. I have no a good soldering skill. I would like to see how you have installed the switch.</p><p>As soon as I put in practice all this steps, I will post my results.</p><p>Thank you very much again for this clear and concise instructions and for the time you spent to reply.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167513">
				<div class="post-metadata">
					<div class="post-num">Post #664</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						16 May 2012, 19:11					</div>
				</div>
				<div class="post-content content">
					<p><strong>Enable UART mode</strong> (Recover bricked/malfunction router)</p><p><strong>First</strong> (and fastest) method is just to wire the point marked in R65 to a 3.3v point (from serial port on my example) and join both R80 points (top point = processor line / bottom point = GND)<br /><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/1.simplified-schematic_.jpg" alt="http://www.cienti.com/arv4518pw/uart/1.simplified-schematic_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/1.simplified-schematic.jpg">Download full res image</a>]</p><br /><br /><br /><p><strong>Second</strong> method is only useful if you plan to compile your own u-boot and do lot of tries</p><p>1. Locate bottom and top workzones<br /><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/2.bottom-workzone_.jpg" alt="http://www.cienti.com/arv4518pw/uart/2.bottom-workzone_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/2.bottom-workzone.jpg">Download full res image</a>]</p><p><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/3.top-workzone_.jpg" alt="http://www.cienti.com/arv4518pw/uart/3.top-workzone_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/3.top-workzone.jpg">Download full res image</a>]</p><p>2. Carefully solder wires to showed points. R65 have a SMT resistor, don&#039;t apply too much hot or it&#039;ll release<br /><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/4.bottom-connections_.jpg" alt="http://www.cienti.com/arv4518pw/uart/4.bottom-connections_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/4.bottom-connections.jpg">Download full res image</a>]</p><p>3. I needed to fix the switch, not to leave in the air, so that I take advantage of that component mechanical force to fix to it after I checked the GND and 3.3v points are the same as marked at first image<br /><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/5.top-lines_.jpg" alt="http://www.cienti.com/arv4518pw/uart/5.top-lines_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/5.top-lines.jpg">Download full res image</a>]</p><p>4. I prepared my parallel switch, folding the unusued legs to avoid false contacts, soldered to the component and finally soldering the bottom-side wires<br /><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/6.top-connections_.jpg" alt="http://www.cienti.com/arv4518pw/uart/6.top-connections_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/6.top-connections.jpg">Download full res image</a>]</p><p>5. Whenever I click the switch, both GND and 3.3v join with bottom wires and the board enter in UART state. Click again and switch is released switching board to normal mode.</p><br /><br /><br /><br /><p>I hope it&#039;s clear ... any doubts, say to me!</p>											<p class="post-edited">(Last edited by <strong>aiayua</strong> on 16 May 2012, 19:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167518">
				<div class="post-metadata">
					<div class="post-num">Post #665</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						16 May 2012, 19:35					</div>
				</div>
				<div class="post-content content">
					<p>hi there&nbsp; i am new to tihs plz aiayua if you can upload an image of serial pin out explanation so it will be helpful and some steps to flash first working openwrt</p><br /><p>what i did Going horizontally from the marked pin (1): 2:RX, 3:TX, 5:GND, ( 6.+3.3v No need to plug this one) i get on the telnet console some rubish data and emulation switch to minitel&nbsp; (115200 bps / 8 / N / 1 and no flow control are ok)</p><p><a href="http://imageshack.us/photo/my-images/688/serialz.jpg">http://imageshack.us/photo/my-images/688/serialz.jpg</a></p><p>i wanted to try&nbsp; the second schema Sometimes the serial is on soldered pins on J2; 1:Vcc (3.3v), 2:TX, 3:RX, 4:GND but i dont know how and where to connect the 3v vcc</p><p>thx</p>											<p class="post-edited">(Last edited by <strong>TheLastOne</strong> on 17 May 2012, 01:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167548">
				<div class="post-metadata">
					<div class="post-num">Post #666</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						17 May 2012, 02:08					</div>
				</div>
				<div class="post-content content">
					<p>Mmm @TheLastOne are you using a level converter? If the diagram you post is straight forward, you&#039;re doing wrong. Serial port (PC) works at higher voltage than Serial port (ARV4518PW). You need a level converter, in this case, MAX3232.</p><p>Do you have or can get an old C25/C35 Siemens GSM Cable ? It works like a charm</p><p>I&#039;ll post the pinouts and steps in a while, I need to finish one thing and then reply you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167584">
				<div class="post-metadata">
					<div class="post-num">Post #667</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						17 May 2012, 15:38					</div>
				</div>
				<div class="post-content content">
					<p><strong>Install U-Boot and OpenWRT on ARV4518PW</strong></p><p><strong>WARNING</strong>: I take no responsabilities about breaking/bricking the router, all you do or will do is under your own risk. I can help your problems, but are not mine. These are the steps I follow to install OpenWRT and U-Boot as the only bootloader. This router is almost un-brickable but if you think you bricked, try to follow my previous post steps (UART mode)</p><p>LINKS: All the files i work with here are linked at the end of this post so please, read before, then download and try.</p><p><strong>1. Level converter</strong><br />Computer serial port works at higher voltage than board serial port (+12v/-12v against 0/+3.3v). Therefore you need a level converter (MAX3232 based). I use an old C25/C35 GSM cable and works perfect.</p><p><strong>2. Hardware COM port vs USB-Serial COM port</strong><br />I&#039;m using my PC serial port, if you don&#039;t have and/or you&#039;re using a USB-Serial ensure it works before think all is broken or nothing works.</p><p><strong>3. Serial pinout</strong></p><p><span class="postimg"><img src="http://www.cienti.com/arv4518pw/uart/7.serial-pinout_.jpg" alt="http://www.cienti.com/arv4518pw/uart/7.serial-pinout_.jpg" /></span><br />[<a href="http://www.cienti.com/arv4518pw/uart/7.serial-pinout.jpg">Download full res image</a>]</p><p><strong>4. Connecting to serial port</strong><br />Serial is working? You need to configure your terminal with:<br /> - Speed: 115200 baud<br /> - Data bits: 8<br /> - Stop bits: 1<br /> - Parity: None<br /> - Flow control: None</p><p>I use PuTTY 99% time and HyperTerminal 1% time (follow reading)</p><p>And to know if it&#039;s working connect the serial port&lt;-&gt;level converter&lt;-&gt;board,&nbsp; start PuTTY, configure it and lights the router. You&#039;ll se something like this:</p><div class="codebox"><pre><code>ROM VER: 1.0.3
CFG 01
Readà
ROM VER: 1.0.3
CFG 01
Read EEPROMX
 X



=======================================================================
Wireless ADSL Gateway DANUBE Loader 64M-V0.02 build Apr 24 2008 16:12:25
                    Arcadyan Technology Corporation
=======================================================================
MXIC MX29LV320ABTC bottom boot 16-bit mode found

Copying boot params.....DONE


Press Space Bar 3 times to enter command mode ...</code></pre></div><p>And more stuff we don&#039;t like anymore.</p><p>It&#039;s working now <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Power-off the router</p><br /><p><strong>5. Entering command mode</strong><br />As you see the step before, we receive <em>Press Space Bar 3 times to enter command mode ...</em> therefore ... press it 3 times and you&#039;ll receive:</p><div class="codebox"><pre><code>Press Space Bar 3 times to enter command mode ...123
Yes, Enter command mode ...


[DANUBE Boot]:</code></pre></div><p>Now we are in command mode, press <strong>?</strong> to get available help</p><div class="codebox"><pre><code>[DANUBE Boot]:?

======================
 [u] Upload to Flash
 [E] Erase Flash
 [G] Run Runtime Code
 [A] Set MAC Address
 [#] Set Serial Number
 [V] Set Board Version
 [H] Set Options
 [P] Print Boot Params
 [0] Use Normal Firmware
 [1] Use ART-Testing Firmware
======================

[DANUBE Boot]:</code></pre></div><p>But ... this is useless for us, we need Administrator mode, so here press <strong>!</strong></p><div class="codebox"><pre><code>[DANUBE Boot]:!

Enter Administrator Mode !

======================
 [u] Upload to Flash
 [E] Erase Flash
 [G] Run Runtime Code
 [M] Upload to Memory
 [R] Read from Memory
 [W] Write to Memory
 [T] Memory Test
 [Y] Go to Memory
 [A] Set MAC Address
 [#] Set Serial Number
 [V] Set Board Version
 [H] Set Options
 [P] Print Boot Params
 [0] Use Normal Firmware
 [1] Use ART-Testing Firmware
======================

[DANUBE Boot]:</code></pre></div><p>Now we&#039;re ready to mess with this machine</p><p><strong>6. Backup your data !!!! Backup your data !!!! BACKUP YOUR DATA !!!!</strong></p><p>You can erase all you want, but never, never, NEVER overwrite last 64kb of data ... We have 4Mb so please, forget the last only, tiny and ridiculous 64kb of data. You overwrite/erase it without backup, and forget your wifi works again, so please ... Backup your data !!!!</p><p>How? We need brndumper (by pippolippi). Download it, and configure it following pippolippi instructions. My shortcut looks like:</p><p><span class="postimg"><img src="http://www.cienti.com/arv4518pw/openwrt/screenshots/1.brndumper-shortcut.jpg" alt="http://www.cienti.com/arv4518pw/openwrt/screenshots/1.brndumper-shortcut.jpg" /></span></p><p>As we are now in Administrator mode, close PuTTY without powering off the router, and start brndumper (you need to close your terminal, or brndumper won&#039;t open com port because is already opened)</p><p>Now choose:</p><p><strong><em>6.1. Backup full flash data:</em></strong> With this you can recover your router to initial state without problems, always you want. You need to get data from 0xb0000000 to 0xb0400000.</p><p><span class="postimg"><img src="http://www.cienti.com/arv4518pw/openwrt/screenshots/2.brndumper-full-flash.jpg" alt="http://www.cienti.com/arv4518pw/openwrt/screenshots/2.brndumper-full-flash.jpg" /></span></p><p>Click dump, choose the file you want to save your dump, and start.</p><p><strong><em>6.2. Backup board configuration data only:</em></strong> You&#039;re brave! With this, you will only recover the last 64kb of data, in case you erased by mistake ... You&#039;ll never loose your wifi. You need to get data from 0xb03f0000 to 0xb0000000.</p><p><span class="postimg"><img src="http://www.cienti.com/arv4518pw/openwrt/screenshots/3.brndumper-config-flash.jpg" alt="http://www.cienti.com/arv4518pw/openwrt/screenshots/3.brndumper-config-flash.jpg" /></span></p><p>Click dump, choose the file you want to save your dump, and start.</p><p><span class="bbu">TROUBLESHOOTING</span>: Backups sometimes fails to me if I work with some programs at same time so, to avoid this, once dump starts, stay away from computer and let the magic works. Windows is not the serial port best friend.</p><p><strong>7. Backup your data again and compare it</strong><br />If there is no differences, continue. If there is, backup again. Your &quot;time waste&quot; now can be your lifeguard later. I use HxD hex editor to work with this files (read, modify and compare)</p><p>Now you&#039;re safe ...</p><p><strong>8. Upload U-Boot</strong></p><p><span class="bbu">TROUBLESHOOTING</span>: PuTTY don&#039;t work sending files via Xmodem, HyperTerminal do.</p><p>To ensure all, power-off router, and follow previous steps to get Administrator mode. Now we need to send a working U-Boot, so if you&#039;re on PuTTY, close it and open HyperTerminal (remember to configure it!). Press <strong>!</strong> to ensure we are in Administrator mode.</p><p>Why &#039;Working U-Boot&#039;? Today (2012/05/17) Official Trunk build U-Boot is broken. I don&#039;t know why, but if U-Boot is HTTPD enabled, both HTTPD and TFTP stop working. So please, use my compiled one (link below). It&#039;s httpd disabled and loady, loadb, tftp enabled. And it&#039;s working perfect.</p><p>Press <strong>u</strong> ([u] Upload to Flash). Select <strong>0</strong> area ([0] Boot 0xB0000000 128K). Press <strong>Y</strong> to start (uppercase Y).</p><p>Select &quot;Transfer&quot; from top menu, select your file (uboot-bootstrap bin), select &#039;Xmodem protocol&#039; and wait to upload finish</p><div class="codebox"><pre><code>Upload area 0.  Are you sure? (Y/n) Yes

Starting XModem download...(press Enter to abort)
CCCCC

XModem download Done.
erase from location B0000000 done
erase from location B0002000 done
erase from location B0004000 done
erase from location B0006000 done
erase from location B0008000 done
erase from location B000A000 done
erase from location B000C000 done
erase from location B000E000 done
erase from location B0010000 done

Starting to write flash ...write length 0x00010000
0123
Start checking: flash area 0 length 65536 ...Done.


[DANUBE Boot]:</code></pre></div><p>Now we have a working u-boot bootloader <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p>Close hyperterminal, power-off router, open again PuTTY and power-on router</p><p><strong>9. Installing OpenWRT</strong></p><p>We now receive something like this</p><div class="codebox"><pre><code>ROM VER: 1.0.3
CFG 01
Readü
ROM VER: 1.0.3
CFG 01
Read EEPROMX
 X


U-Boot 2010.03 (May 16 2012 - 05:51:08)

Board: ARV4518PW
SoC: Danube/Twinpass/Vinax-VE V1.5, DDR Speed 166 MHz, CPU Speed 333 MHz
DRAM:  64 MB
Flash:  4 MB
*** Warning - bad CRC, using default environment

Net:
searching for rtl8306 switch ... found
lq_cpe_eth
Hit any key to stop autoboot:  0
Wrong Image Format for bootm command
ERROR: can&#039;t get kernel image!
ARV4518 =&gt;</code></pre></div><p>PERFECT! What do we need now? First, as we will flash official trunk image, it have a little configuration problem. U-Boot stores config at 0xB0010000 and OpenWRT thinks is stored at 0xB0020000 so ... OpenWRT expect to be flashed at 0xB0030000 .... but U-Boot expect OpenWRT at 0xB0020000 ..... fuzzy? Easy as hell, keep reading.</p><p>First, set environment variable <strong>kernel_addr</strong> to 0xb0030000</p><div class="codebox"><pre><code>ARV4518 =&gt; setenv kernel_addr 0xb0030000</code></pre></div><p>Now, check typing &#039;printenv&#039;, and save environment to flash typing &#039;saveenv&#039;</p><div class="codebox"><pre><code>ARV4518 =&gt; saveenv
Saving Environment to Flash...
Un-Protected 1 sectors
Erasing Flash...
. done
Erased 1 sectors
Writing to Flash... 9....8....7....6....5....4....3....2....1....done
Protected 1 sectors</code></pre></div><p>Perfect, we have U-Boot and it&#039;s environment saved and working.</p><p>Now, we need to set a TFTP server. This is needed because no HTTPD connection is possible, and we don&#039;t want to send it slowwwwwwwly via serial port. I use &#039;Tftpd32 by Ph. Jounin&#039;. Download, configure, and put in the tftpd folder our trunk &#039;openwrt-lantiq-danube-ARV4518PW-squashfs.image&#039; renamed to &#039;<strong>ARV4518PW-squashfs.image</strong>&#039; (it&#039;s not needed, but it&#039;s easier later)</p><p>Now check (with printenv) your computer IP address is the same as &#039;serverip&#039; u-boot environment variable. Isn&#039;t? -&gt; &#039;setenv serverip your.computer.ip.address&#039;, check with printenv, save with &#039;saveenv&#039; and continue.</p><p>All connected, let&#039;s fun!</p><p>type <strong>run update_openwrt</strong></p><div class="codebox"><pre><code>ARV4518 =&gt; run update_openwrt
Using lq_cpe_eth device
TFTP from server 192.168.144.100; our IP address is 192.168.144.99
Filename &#039;ARV4518PW-squashfs.image&#039;.
Load address: 0x80500000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######
done
Bytes transferred = 2359300 (240004 hex)

..................................... done
Erased 37 sectors
Copy to Flash... 9....8....7....6....5....4....3....2....1....done</code></pre></div><p>10. Restart. You&#039;re a new OpenWRT user. Enjoy!</p><p>First boot bootlog<br /></p><div class="codebox"><pre><code>ROM VER: 1.0.3
CFG 01
Readü
ROM VER: 1.0.3
CFG 01
Read EEPROMX
 X


U-Boot 2010.03 (May 16 2012 - 05:51:08)

Board: ARV4518PW
SoC: Danube/Twinpass/Vinax-VE V1.5, DDR Speed 166 MHz, CPU Speed 333 MHz
DRAM:  64 MB
Flash:  4 MB
Net:
searching for rtl8306 switch ... found
lq_cpe_eth
Hit any key to stop autoboot:  0
## Booting kernel from Legacy Image at b0030000 ...
   Image Name:   MIPS OpenWrt Linux-3.3.5
   Created:      2012-05-15  22:02:35 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1096555 Bytes =  1 MB
   Load Address: 80002000
   Entry Point:  80002000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

[    0.000000] Linux version 3.3.5 (openwrt@huchra) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Tue May 15 15:02:17 PDT 2012
[    0.000000] SoC: Danube rev 1.5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019641 (MIPS 24KEc)
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00004000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00004000
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyLTQ1,115200 rootfstype=squashfs,jffs2 machtype=ARV4518PW
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00056eb8
[    0.000000] Readback ErrCtl register=00056eb8
[    0.000000] Memory: 61664k/65536k available (2421k kernel code, 3872k reserved, 564k data, 176k init, 0k highmem)
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 333MHz
[    0.000000] Calibrating delay loop... 221.18 BogoMIPS (lpj=442368)
[    0.040000] pid_max: default: 32768 minimum: 301
[    0.044000] Mount-cache hash table entries: 512
[    0.052000] NET: Registered protocol family 16
[    0.060000] gpiochip_add: registered GPIOs 0 to 15 on device: ltq_gpio
[    0.064000] gpiochip_add: registered GPIOs 16 to 31 on device: ltq_gpio
[    0.068000] MIPS: machine is ARV4518PW - SMC7908A-ISP, Airties WAV-221
[    0.072000] gpiochip_add: registered GPIOs 100 to 115 on device: ltq_ebu
[    0.100000] bio: create slab &lt;bio-0&gt; at 0
[    0.108000] PCI host bridge to bus 0000:00
[    0.112000] pci_bus 0000:00: root bus resource [mem 0x18000000-0x19ffffff]
[    0.116000] pci_bus 0000:00: root bus resource [io  0x1ae00000-0x1affffff]
[    0.120000] pci 0000:00:0e.0: unsupported PM cap regs version (4)
[    0.124000] pci 0000:00:0e.0: BAR 0: assigned [mem 0x18000000-0x1800ffff]
[    0.128000] pci 0000:00:0e.0: SLOT:14 PIN:1 IRQ:30
[    0.132000] Switching to clocksource MIPS
[    0.140000] NET: Registered protocol family 2
[    0.148000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.152000] TCP established hash table entries: 2048 (order: 2, 16384 bytes)
[    0.160000] TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
[    0.168000] TCP: Hash tables configured (established 2048 bind 2048)
[    0.172000] TCP reno registered
[    0.176000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.184000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.188000] NET: Registered protocol family 1
[    0.196000] gptu: totally 6 16-bit timers/counters
[    0.200000] gptu: misc_register on minor 63
[    0.204000] gptu: succeeded to request irq 126
[    0.208000] gptu: succeeded to request irq 127
[    0.212000] gptu: succeeded to request irq 128
[    0.216000] gptu: succeeded to request irq 129
[    0.224000] gptu: succeeded to request irq 130
[    0.228000] gptu: succeeded to request irq 131
[    0.236000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.240000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.252000] msgmni has been set to 120
[    0.256000] io scheduler noop registered
[    0.260000] io scheduler deadline registered (default)
[    0.264000] ltq_asc.1: ttyLTQ1 at MMIO 0x1e100c00 (irq = 112) is a ltq_asc
[    0.272000] console [ttyLTQ1] enabled, bootconsole disabled
[    0.272000] console [ttyLTQ1] enabled, bootconsole disabled
[    0.288000] ltq_nor: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a8
[    0.296000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.300000]   Amd/Fujitsu Extended Query version 1.1.
[    0.304000] number of CFI chips: 1
[    0.308000] Creating 4 MTD partitions on &quot;ltq_nor&quot;:
[    0.312000] 0x000000000000-0x000000020000 : &quot;uboot&quot;
[    0.320000] 0x000000020000-0x000000030000 : &quot;uboot_env&quot;
[    0.328000] 0x000000030000-0x0000003f0000 : &quot;linux&quot;
[    0.336000] found squashfs behind kernel
[    0.336000] Creating 2 MTD partitions on &quot;ltq_nor&quot;:
[    0.340000] 0x000000030000-0x00000013bbab : &quot;kernel&quot;
[    0.348000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.360000] 0x00000013bbab-0x0000003f0000 : &quot;rootfs&quot;
[    0.364000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.380000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.384000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=250000, len=1A0000
[    0.392000] 0x000000250000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.400000] 0x0000003f0000-0x000000400000 : &quot;board_config&quot;
[    0.424000] ltq_mii: probed
[    0.456000] Registering RTL8306SD switch with Chip ID: 0x5988, version: 0x0000
[    0.464000] eth0: attached PHY [Realtek RTL8306S] (phy_addr=ltq_etop-fffffff:00, irq=-1)
[    0.484000] TCP westwood registered
[    0.488000] NET: Registered protocol family 17
[    0.492000] Bridge firewalling registered
[    0.496000] 8021q: 802.1Q VLAN Support v1.8
[    0.500000] drivers/rtc/hctosys.c: unable to open rtc devi[    0.520000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.528000] Freeing unused kernel memory: 176k freed
- preinit -
Press the [f] key and hit [enter] to enter failsafe mode
- regular preinit -
jffs2 not ready yet; using ramdisk
- init -

Please press Enter to activate this console. [    7.864000] NET: Registered protocol family 8
[    7.868000] NET: Registered protocol family 20
[    7.908000] Button Hotplug driver version 0.4.1
[    8.264000] PPP generic driver version 2.4.2
[    8.544000] ip_tables: (C) 2000-2006 Netfilter Core Team
[    8.724000] NET: Registered protocol family 24
[    8.768000] nf_conntrack version 0.5.0 (966 buckets, 3864 max)
[    9.036000] IFX MEI Version 5.00.00
[    9.064000]
[    9.064000] Infineon CPE API Driver version: DSL CPE API V3.24.4.4
[    9.100000]     ATM (A1) firmware version 1.0.19
[    9.100000] ifxmips_atm: ATM init succeed
[    9.124000] input: gpio-keys-polled as /devices/platform/gpio-keys-polled/input/input0
[   15.052000] device eth0 entered promiscuous mode
[   15.060000] br-lan: port 1(eth0) entered forwarding state
[   15.064000] br-lan: port 1(eth0) entered forwarding state
[   17.068000] br-lan: port 1(eth0) entered forwarding state
[   28.604000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   28.620000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   28.624000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   47.656000] JFFS2 notice: (1380) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.



BusyBox v1.19.4 (2012-05-15 00:44:30 PDT) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 ATTITUDE ADJUSTMENT (Bleeding Edge, r31732)
 -----------------------------------------------------
  * 1/4 oz Vodka      Pour all ingredients into mixing
  * 1/4 oz Gin        tin with ice, strain into glass.
  * 1/4 oz Amaretto
  * 1/4 oz Triple sec
  * 1/4 oz Peach schnapps
  * 1/4 oz Sour mix
  * 1 splash Cranberry juice
 -----------------------------------------------------
root@OpenWrt:/#</code></pre></div><p><strong>LINKS</strong><br />PuTTY: <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Download PuTTY</a><br />brndumper by pippolippi (thanks for sharing!): <a href="http://code.google.com/p/brndumper/">brndumper official</a><br />HxD freeware Hex Editor: <a href="http://mh-nexus.de/en/hxd/">HxD Official</a><br />TFTPD32: <a href="http://tftpd32.jounin.net/tftpd32_download.html">Download TFTPD32</a><br />Working U-Boot: <a href="http://www.cienti.com/arv4518pw/openwrt/files/u-boot-bootstrap.bin">U-Boot +tftp,loady,loadb -httpd</a> (It&#039;s preconfigured to run at 192.168.144.99, and expect TFTPD at 192.168.144.100 ... please change it for your network)<br />Trunk OpenWRT image: <a href="http://www.cienti.com/arv4518pw/openwrt/files/openwrt-lantiq-danube-ARV4518PW-squashfs.image">OpenWRT image</a>. This is 2012/05/17 downloaded image, but I upload to my server just for future use. I know this one works, but i don&#039;t know if future ones will. You have the option, run my copy or download&amp;run official one <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Enjoy!</p>											<p class="post-edited">(Last edited by <strong>aiayua</strong> on 17 May 2012, 19:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167594">
				<div class="post-metadata">
					<div class="post-num">Post #668</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						17 May 2012, 18:44					</div>
				</div>
				<div class="post-content content">
					<p>To @TheLastOne, @wufnik and @ginetto -&gt; I edited my last post with pinout and full fresh install. Enjoy!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167595">
				<div class="post-metadata">
					<div class="post-num">Post #669</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						17 May 2012, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>@aiayua&nbsp; &nbsp;thx man great work congratulation</p><br /><p>i&nbsp; didnt use &quot;level converter&quot; i dont know what it is ? i am looking how to made one myself thx again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167597">
				<div class="post-metadata">
					<div class="post-num">Post #670</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						17 May 2012, 19:34					</div>
				</div>
				<div class="post-content content">
					<p>If you connected directly from computer COM to board serial, maybe you broke your serial port ... but I don&#039;t think so, this kids are strong <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Search for MAX232 serial to ttl, and use a MAX3232 (first = 5v, second = 3.3v). Or, if you go to some unlock-phone-store, maybe it could sell you some old Siemens C23/C35 or similar GSM cable ... just ask if it works at 3.3v (tipically yes)</p><p>Good luck!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167600">
				<div class="post-metadata">
					<div class="post-num">Post #671</div>
					<div class="post-author">wufnik</div>
					<div class="post-datetime">
						17 May 2012, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi aiayua, Thank You for this second ARV4518 for Dummies! Now I can see the light...</p><p>Certainly a great job, thorough and concise and... perfect! Thank you for all over the work and especially for those clear highres images, I&#039;ve started my own static-UART-switch-tuning.</p><p>I&#039;m very grateful to you, I was about to leave the router in a corner of a shelf, but now I know that I will see the openwrt logo in scriptart soon.</p><p>Thanks a lot again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167601">
				<div class="post-metadata">
					<div class="post-num">Post #672</div>
					<div class="post-author">ginetto</div>
					<div class="post-datetime">
						17 May 2012, 20:11					</div>
				</div>
				<div class="post-content content">
					<p>@aiayua wonderful work! thanks!</p><div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>To @TheLastOne, @wufnik and @ginetto -&gt; I edited my last post with pinout and full fresh install. Enjoy!</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167616">
				<div class="post-metadata">
					<div class="post-num">Post #673</div>
					<div class="post-author">TheLastOne</div>
					<div class="post-datetime">
						17 May 2012, 23:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>If you connected directly from computer COM to board serial, maybe you broke your serial port .</p></blockquote></div><p>i dont think so the router is fully functional and allways returning the same rubish data via serial port </p><br /><p>THX FOR EVERYTHING</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167620">
				<div class="post-metadata">
					<div class="post-num">Post #674</div>
					<div class="post-author">aiayua</div>
					<div class="post-datetime">
						18 May 2012, 00:30					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Happy to help, thanks for reading!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167621">
				<div class="post-metadata">
					<div class="post-num">Post #675</div>
					<div class="post-author">ginetto</div>
					<div class="post-datetime">
						18 May 2012, 00:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aiayua wrote:</cite><blockquote><p>But ... did you backup the last 65kb of flash data? It&#039;s really necessary! If you didn&#039;t and you didn&#039;t erased that last flash area, don&#039;t worry. If you did, your wifi is fucked.</p></blockquote></div><p>there&#039;s a way to understand if I(we) overwrite the last flash area? just measuring the size of that we uploaded?</p><p>there&#039;s a way to &quot;copy&quot; other configuracion from similar hardware of every router has different wifi configuration? (i think it&#039;s this <img src="https://forum.openwrt.org/img/smilies/neutral.png" width="15" height="15" alt="neutral" /> )</p><p>thanks again</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 676 to 675 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 27 of 40</div><nav><ul><li><a href="viewtopic.php%3Fid=15934&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=25.html">25</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=26.html">26</a></li><li class="pagination-current"><span>27</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=28.html">28</a></li><li><a href="viewtopic.php%3Fid=15934&amp;p=29.html">29</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=15934&amp;p=40.html">40</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>