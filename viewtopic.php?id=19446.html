<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How does OpenWRT work?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p84160">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Sn0wm4n</div>
					<div class="post-datetime">
						18 Mar 2009, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>This is kinda bugging me. How do you write new firmware or a patch like your doing with OpenWRT. Wouldn&#039;t you have to know the assembly language for that specific processor which only the manufacturer would know? What are you essentially doing when you install and/or patch your router with OpenWRT? If you could just give me a general &quot;how this works&quot; that would&nbsp; be great.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84171">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">marca56</div>
					<div class="post-datetime">
						19 Mar 2009, 01:56					</div>
				</div>
				<div class="post-content content">
					<p>Snowman:</p><p>Virtually all chipset vendors provide the manufacturers what&#039;s called a BSP-- a board support package. The BSP is a bunch of memory settings for various peripherals on a board. They also provide the manufacturers with a bootloader containing the CFE. A bootloader is a very thin hardware abstraction layer that reads the BSP and then launches an operating system (e.g., like Linux or VxWorks) with the correct system information.</p><p>If you look around in the forums, you will see references to CFE and Redboot, for example. These are bootloaders. The chipset vendors may have many different similar chips, so they customize the BSP for each and put them on the bootloader. It is easy to do and it makes it easy to support multiple board types with a single chipset with different peripherals (often called reference designs). </p><p>It is also easy to customize the bootloader to run on similar chipsets. For example, the Broadcom BCM6345, BCM6348, BCM6338, and BCM6358 all use the CFE. Each reference design has a different board type. For example, there are BCM96348R, BCM9638GW, BCM968GWV and so on.</p><p>Having chipset vendors provide a BSP and bootloader along with reference designs, schematics and working OSs like Linux and VxWorks makes it relatively easy to port OpenWRT to a new platform without having to know or use any assembly code or even have the datasheet (but it really helps). So, when a new board emerges using the same processor and switch and wireless chips, its a matter of figuring out the memory addresses from the running system, a bit of trial and error to put a similar code base used in a working board, and essentially doing a lot of testing to verify that various existing drivers work on the new board. </p><p>Where it gets fun is when there is NO code for drivers for a peripheral... then the datasheet for the peripheral (e.g., the WLAN chipset or DSL PHY) is a must, otherwise, that part of the board is dead unless the chipset vendor provides a binary object that works with a wrapper to allow the OpenWRT or other software to use it properly. With the datasheet, and some starter code, a driver can be written over time to replace the chipset vendor&#039;s proprietary driver. Such is the case with most wireless chipsets today. Both Atheros and Broadcom chipsets have free or Open Source (FOSS) projects dedicated to supporting the chipsets on OpenWRT. In some cases, there are multiple projects so you have a choice.</p><p>I hope this helps your understanding.</p><p>marc.</p>											<p class="post-edited">(Last edited by <strong>marca56</strong> on 19 Mar 2009, 02:01)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>