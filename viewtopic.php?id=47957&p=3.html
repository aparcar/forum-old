<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ZyXEL P-2812HNU-F1 Unbranding Process</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Apr 2018 and 19 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=47957&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=47957&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=47957&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=47957&amp;p=5.html">5</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p228265">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">asmartin</div>
					<div class="post-datetime">
						23 Mar 2014, 22:38					</div>
				</div>
				<div class="post-content content">
					<p>Latest firmware from ZyXEL : <a href="https://www.dropbox.com/sh/yphl9my4g8z8gk2/LoJXRzzPFb"><span style="color: blue"><strong>1.00(AAC3)C0</strong></span></a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228383">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						25 Mar 2014, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>Nice, a kernel upgrade. Wonder why.</p><p>Have you already installed it? *Can* it be installed on 3.11(TUJ.0)C0? Does the webinterface still contains some holes to get root access? Does the firmware still run a user script, if available?</p><p>BTW, why would ZyXEL restart at 1.00? Just to confuse customers?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228759">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						29 Mar 2014, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>To answer my own questions: Yes, 1.00(AAC3)C0 can be installed over 3.11(TUJ.0)C0 using the webinterface, and no, all ways to get a shell (known to me) are patched.<br />Some work to do.</p><br /><br /><br /><p>BTW, I tried this on a 2nd crippled box, which I first unbranded using the instructions on this thread. And again I had the same problems I had the first time.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232622">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						7 May 2014, 01:20					</div>
				</div>
				<div class="post-content content">
					<p>asmartin,</p><p>Nice new FW !!<br />Lot of more options in it, great.</p><p>I had 2 same devices, 1 is working fine now 107 days <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /><br />--<br />Device Information<br />Host Name:&nbsp; &nbsp; &nbsp; &nbsp; DGZyXEL01<br />Model Name:&nbsp; &nbsp; &nbsp; &nbsp; P-2812HNU-F1<br />MAC Address:&nbsp; &nbsp; &nbsp; &nbsp; b0:b2:dc:0x:xx:xx<br />Firmware Version:&nbsp; &nbsp; V3.10(TUJ.0)</p><p>System Status<br />System Up Time:&nbsp; &nbsp; 107 days, 9:29<br />Current Date/Time:&nbsp; &nbsp; Tue May 6 23:57:10 CEST 2014<br />--</p><p>Although i messed (F#%#&amp;%ED) up my 3.06 (strangly enough earlier 31-3) boot code, on this one.<br />When I started to flash my second, i also did the boot code to (regular?) 304TUJ.bm (v3.04).</p><p>No problem in functioning, but i was intend to leave it on 3.06, i don&#039;t have the original now anymore. (Maybe you have that 3.06 code?)<br />But, anyway its working!<br />I updated from 311TUJ0C0.bin to 100AACC3C0.bin within the webinterface with no problems. <br />If you want you can even have serial output off all actions <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>I&#039;ll now try to run file sharing &amp; VPN on it too.</p><p>Zyxel boot versions seen:</p><p>- ZyU-F02-300-20AA003-V3.06|03/31|2011(TUE) (This one i DONT have anymore)<br />- ZyU-F02-300-20AA003-V3.04|04/01|2011(TUJ) (I only have this one running)</p><br /><p>Regards, DG.</p><p>P.S. I now see that my longest running router runs 3.10 still <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; 3.11 has already the &#039;more&#039; options.</p>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 8 May 2014, 22:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232626">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						7 May 2014, 03:30					</div>
				</div>
				<div class="post-content content">
					<p>Jil,</p><p>About your remark changing the MAC address the following:</p><p>After: Repeat steps 7 and 13 to get access to ZyU console,<br />To change the MAC address, only the last 6 bytes can be changed?<br />And the serial number went to ffffffffffff?</p><p>1st change the serial number again (auto reboot will follow)<br />Then, again Repeat steps 7 and 13 to get access to ZyU console,</p><p>The command <strong>ATWZ</strong> should be used, instead of <strong>ATWM</strong>! To change the MAC address <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Also an automatic reboot will follow, after which all my settings are the same as on the box itself!<br />(This was tested running FW 100AACC3C0.bin)</p><p>Regards, DG.</p>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 8 May 2014, 13:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233287">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						14 May 2014, 00:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>asmartin wrote:</cite><blockquote><p>Latest firmware from ZyXEL : <a href="https://www.dropbox.com/sh/yphl9my4g8z8gk2/LoJXRzzPFb"><span style="color: blue"><strong>1.00(AAC3)C0</strong></span></a></p></blockquote></div><p>asmartin,</p><p>Perfectly new firmware, but ...<br />You have any idea where to download the new Bootbase version: V3.01|04/02|2013(AAKI) ??</p><p>ZyXEL itself writes in <a href="http://www.zyxel.com/za/en/uploads/images/ZyXEL_P-2812HNU-F1-Release_Notes-V3.00(AAKI.0)b7.pdf">http://www.zyxel.com/za/en/uploads/imag … I.0)b7.pdf</a></p><div class="codebox"><pre><code>ZyXEL P-2812HNU-F1 RSA 
V3.00(AAKI.0)b7 
Release Note 
Date: Nov. 13, 2013 
 
Supported Platforms: 
ZyXEL P-2812HNU-F1 
 
Versions: 
Bootbase version: V3.01|04/02|2013(AAKI) 
Firmware version: V3.00(AAKI.0)b7 
DSL code version: 5.3.3.11.1.1 
WLAN code version: Ralink3062-2.3.0.0 
Voice code version: 3.13.0 IFX TAPI </code></pre></div><p>But nowhere to download this Bootbase code <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Regards, DG.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233438">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						15 May 2014, 02:12					</div>
				</div>
				<div class="post-content content">
					<p>As mentioned in the docs from 13 nov 2013, i now have fw version V3.00(AAKI.0)b7 running <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Only still on older bootcode V3.04, but its working. With even more VPN options.</p><div class="codebox"><pre><code>ZHAL&gt; atsh
ZLD   Version          : V3.00(AAKI.0)b7
Bootbase Version       : V3.04|04/01|2011(TUJ)
Vender Name            : ZyXEL Communications Corp.
Product Model          : P2812HNUL-F1
Serial Number          : S110Y4xxxxx39
First MAC Address      : CC5D4Exxxxx0
Last MAC Address       : CC5D4Exxxxx7
MAC Address Quantity   : 08
Default Country Code   : FF
Boot Module Debug Flag : 01
RootFS      Checksum   : 000022da
Kernel      Checksum   : 00009dbf
RomFile     Checksum   : 000071c2
Main Feature Bits      : 00
Other Feature Bits     :
          00 01 02 03 18 01 00 ff-f8 00 01 00 00 00 00 00
          00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00</code></pre></div><p>Boot process is now as follow, with Z-Boot 3.0.0(Nov 13 2013):</p><div class="codebox"><pre><code>ROM VER: 1.0.5
CFG 06
NAND
NAND Read OK
DDR Access auto data-eye tuning Rev 0.3a
DDR size from 0xa0000000 - 0xa7ffffff
Start DDR tuning [\]
Read DQS Delay Slice0     :0000001f
Read DQS Delay Slice1     :00000020
Write DQS Delay Slice0    :00000064
Write DQS Delay Slice1    :00000069


ZyU-F02-300-20AA003-V3.04|04/01|2011(TUJ)

CLOCK CPU 500M RAM 250M
DRAM:  128 MB

 relocate_code start
 relocate_code finish.
128 MiB
=&gt;new DDR param:88888888-00141F04-00142004-00566404-00566904-00003200
=&gt;old DDR param:00000000-00000000-00000000-00000000-00000000-00000000


  ZyXEL: DDR parameter is changed, but we ignore it!!

*** Warning - bad CRC or NAND, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   fw_addr=0xa0200000
Internal phy(GE) firmware version: 0x020c
setup MDIO for new GPHY
vr9 Switch
Hit any key to stop autoboot:  0

NAND read: device 0 offset 114688, size 65536 ...  65536 bytes read: OK
## Starting application at 0x86A80000 ...


Z-LOADER 3.0(Apr  1 2011)

NAND flash block size: 0x20000
Select 1st zboot image...
go 0x86a90000
## Starting application at 0x86A90000 ...


Z-Boot 3.0.0(Nov 13 2013)

we get zloader version: 3.0
Hit any key to stop autoboot: 3</code></pre></div><p>Regards, DG.</p>											<p class="post-edited">(Last edited by <strong>DGDodo</strong> on 15 May 2014, 02:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233684">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">rhole</div>
					<div class="post-datetime">
						16 May 2014, 22:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi. Could someone possibly point me in the right direction for something I want to do with this router.</p><p>I only have Telnet access and do not have Serial access yet.&nbsp; I am going to order the serial cable this weekend though.&nbsp; </p><p>I am not super knowledgable with routers. But is there a way to alter a file on this router so I can run something at boot up? As obviously any writes to configuration files are reset on a boot.&nbsp; &nbsp; </p><p>Is that even possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233762">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						17 May 2014, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>rhole,</p><p>With WINSCP this should be possible. <a href="http://en.wikipedia.org/wiki/WinSCP">http://en.wikipedia.org/wiki/WinSCP</a><br />But it depends with user and its authority you log into the router.</p><p>DG.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234022">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">rhole</div>
					<div class="post-datetime">
						20 May 2014, 22:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DGDodo wrote:</cite><blockquote><p>rhole,</p><p>With WINSCP this should be possible. <a href="http://en.wikipedia.org/wiki/WinSCP">http://en.wikipedia.org/wiki/WinSCP</a><br />But it depends with user and its authority you log into the router.</p><p>DG.</p></blockquote></div><p>Thank you.</p><p>What the very latest firmware for this router?&nbsp; is it V3.00(AAKI.0)b7 or V1.00(AACC.3)?&nbsp; &nbsp;</p><p>My router had v3.11 custom ISP firmware on it. I connected via Serial cable and followed the unbrand guide which worked perfectly. With no scary moments haha. So thank you asmartin!</p><p>I installed the 100AACC3C0.bin firmware throught the ZyU console with Serial cable and TFTP server and not through the Web interface. On boot this gave me 8Mbit higher possible &#039;max attainable&#039; VDSL sync than with older firmware.</p><p>But I am a little confused as to the very latest firmware.&nbsp; ZyXel have very strange numbering!</p><p>I still have root access to v1.00 firmware, but I guess that is because the configuration was saved from before?</p><br /><p>EDIT: since I flashed v1.00 firmware though the console I did have to use ATWZ as DGDodo said to set the MAC address. The other command was not found.</p>											<p class="post-edited">(Last edited by <strong>rhole</strong> on 20 May 2014, 22:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234214">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						22 May 2014, 14:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rhole wrote:</cite><blockquote><p>I still have root access to v1.00 firmware</p></blockquote></div><p>Root access? How?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234215">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">rhole</div>
					<div class="post-datetime">
						22 May 2014, 14:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p>Root access? How?</p></blockquote></div><p>I flashed the 1.00 firmware file via the serial console. Like in the unbrand guide.&nbsp; Set the serial numbers and MAC etc like it shows in the unbrand guide.&nbsp; Then on boot everything worked as before. It kept my configuration incuding root access via Telnet and WinSCP.&nbsp; But now on V1.00(AACC.3) firmware.</p><p>EDIT: I originally had locked 3.11 firmware from ISP.&nbsp; I was given the Supervisor password for my ISP 3.11 firmware. I got root access on 3.11 by following a guide to edit the Config.rom file.</p>											<p class="post-edited">(Last edited by <strong>rhole</strong> on 22 May 2014, 15:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234440">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						23 May 2014, 23:47					</div>
				</div>
				<div class="post-content content">
					<p>I confirm that the settings from 3.11 subsist when upgrading to 1.00. I downgraded back to 3.11, got root access, stored a root password, and upgraded again. My root password persisted.</p><p>I did some further investigation on the config file. This is my passwd file stored in the config file:</p><div class="codebox"><pre><code> &lt;Passwd&gt;
          &lt;Value PARAMETER=&quot;configured&quot; TYPE=&quot;string&quot; LENGTH=&quot;4095&quot;&gt;_encrypted_U2FsdGVkX1+hK8fbaQUyUVrTbLdtzGqmowiiUYx3M8hnjlWAYRSt+7ENzVcsaGAF
uxqtHKQW96g8w+CeWXFEbRltV/YDr4WlTEiAmbSFHRbU3tGueq+OEoNtterctV81
Pa6jcANBkmqeM2LAcB0nuYU1vFH/ZNbjjAXx+9rdnjHMjW7fU8X2WLio0TJVp/f5
kCSPrM801irG6hIilkpPH2flMG/4uw/3wii2digst7xNVZL+6Ya63YVd16PYXPIP
B6j6CmbnBzJrVFOVIdDQ6VdrCvG6ifMuZXy7bn0E4VQ=
&lt;/Value&gt;
          &lt;Size PARAMETER=&quot;configured&quot; TYPE=&quot;uint16&quot; MAX=&quot;4095&quot; MIN=&quot;0&quot;&gt;192&lt;/Size&gt;
        &lt;/Passwd&gt;</code></pre></div><p>The _encrypted_ already tells it, it&#039;s encrypted. By grepping for &#039;Passwd&#039; in the firmware I found that the xml file is read/written by /usr/bin/config_proc. This file also contains the strings</p><div class="codebox"><pre><code>echo -n &quot;%s&quot; | /usr/bin/openssl enc -aes-256-cbc -a -salt -k %s
echo &quot;%s&quot; | /usr/bin/openssl enc -d -aes-256-cbc -a -salt -k %s</code></pre></div><p>so it&#039;s clear this does the encryption. By bindmounting a script on /usr/bin/openssl, I found the key:&nbsp; <strong>thisistheencryptkey</strong></p><p>Unencrypting is done this way:</p><div class="codebox"><pre><code>echo &lt;base64-string-from-config&gt; |  openssl enc -d -aes-256-cbc -a -salt -k thisistheencryptkey | base64 -d | gunzip &gt;passwd</code></pre></div><p>and reencrypting:</p><div class="codebox"><pre><code>cat passwd | gzip | base64 | openssl enc -aes-256-cbc -a -salt -k thisistheencryptkey</code></pre></div><p>The Size PARAMETER in the xml file is the size of the input of openssl:</p><div class="codebox"><pre><code>cat passwd | gzip | base64 | wc -c</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235857">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">dmcdonnell</div>
					<div class="post-datetime">
						6 Jun 2014, 15:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p>...<br />Unencrypting is done this way:</p><div class="codebox"><pre><code>echo &lt;base64-string-from-config&gt; |  openssl enc -d -aes-256-cbc -a -salt -k thisistheencryptkey | base64 -d | gunzip &gt;passwd</code></pre></div></blockquote></div><p>Thank you for this, I have a slightly different ZyXel model, VMG8324-B10, and I wondered if your technique applies?</p><p>My config file looks like this:</p><div class="codebox"><pre><code>&lt;Name&gt;Administrator&lt;/Name&gt;
        &lt;ConsoleLevel&gt;2&lt;/ConsoleLevel&gt;
        &lt;Use_Login_Info instance=&quot;1&quot;&gt;
          &lt;UserName&gt;admin&lt;/UserName&gt;
          &lt;Password&gt;_encrypted_iWksqOgOfd+edhsLS4TRvGVybmV0R2F0ZXdheQAAAEE=&lt;/Password&gt;
          &lt;Modified&gt;TRUE&lt;/Modified&gt;
        &lt;/Use_Login_Info&gt;
        &lt;Use_Login_Info nextInstance=&quot;2&quot;&gt;&lt;/Use_Login_Info&gt;
      &lt;/X_5067F0_Login_Group&gt;
      &lt;X_5067F0_Login_Group instance=&quot;2&quot;&gt;
        &lt;GroupKey&gt;2&lt;/GroupKey&gt;</code></pre></div><p>I try to decrypt using:</p><div class="codebox"><pre><code>echo _encrypted_iWksqOgOfd+edhsLS4TRvGVybmV0R2F0ZXdheQAAAEE= |  openssl enc -d -aes-256-cbc -a -salt -k thisistheencryptkey | base64 -d | gunzip &gt;passwd</code></pre></div><p>But get:</p><p>error reading input file</p><p>gzip: stdin: unexpected end of file</p><p>I would greatly appreciate any advise you may have to offer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235920">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						7 Jun 2014, 14:14					</div>
				</div>
				<div class="post-content content">
					<p>When I just decode the base64 part of the code, I get this:</p><div class="codebox"><pre><code>echo iWksqOgOfd+edhsLS4TRvGVybmV0R2F0ZXdheQAAAEE= | base64 -d | hexdump -C
00000000  89 69 2c a8 e8 0e 7d df  9e 76 1b 0b 4b 84 d1 bc  |.i,...}..v..K...|
00000010  65 72 6e 65 74 47 61 74  65 77 61 79 00 00 00 41  |ernetGateway...A|
00000020</code></pre></div><p>That doesn&#039;l look encrypted. I can imaging that some padding is added when there is not enough data, but I would expect that to be encrypted, to hide the amount of real data.</p><p>I guess you don&#039;t have shell access?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235923">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">dmcdonnell</div>
					<div class="post-datetime">
						7 Jun 2014, 16:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p>..I guess you don&#039;t have shell access?</p></blockquote></div><p>I have limited shell access via telnet. Entering echo &amp;&amp; bash provides a shell for a few minutes before a timeout terminates the session.</p><p>The /usr/bin/config_proc file is not present.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235932">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						7 Jun 2014, 18:56					</div>
				</div>
				<div class="post-content content">
					<p>Grepping for &#039;Password&#039; on the whole tree (leave /proc /dev and /sys) should show which binary/script creates the XML file.</p><p>But first you need a more stable shell. Can&#039;t you just start a (loginless) telnet daemon on a non-privileged port?</p><div class="codebox"><pre><code>telnetd -l /bin/sh -p 10023</code></pre></div><p>Or, if the firmware does a &#039;killall telnetd&#039;, maybe </p><div class="codebox"><pre><code>busybox telnetd -l /bin/sh -p 10023</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236005">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">dmcdonnell</div>
					<div class="post-datetime">
						8 Jun 2014, 16:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p>..first you need a more stable shell.</p></blockquote></div><p>Sadly,</p><p>#telnetd -l /bin/sh -p 10023<br />telnetd: invalid option -- l<br />telnetd:error:417.058:main:524:bad arguments, exit</p><br /><p>However, Grepping for &#039;assw&#039; found this:</p><p>/sbin # cat des3_encrypt.sh<br /></p><div class="codebox"><pre><code>#!/bin/sh
OPTION=&quot;$1&quot;
INPUTFILE=&quot;$2&quot;
OUTPUTFILE=&quot;$3&quot;

PROGRAM=`basename $0`

OPENSSL=/bin/openssl
CAT=/bin/cat
RM=/bin/rm

PASSWD=N3z0y93

#####################################################################################################
# usage
usage()
{
        echo &quot;&quot;
        echo &quot;Copyright (C) ZyXEL Communications, Corp. All Rights Reserved.&quot;
        echo &quot;Usage: $PROGRAM [option] [input filename] [output filename]&quot;
        echo &quot;$PROGRAM: A Simple Script to Encrypt/Decrypt file using openssl&quot;
        echo &quot;option : e [Encrypt],  d [Decrypt]&quot;
        echo &quot;Examples:&quot;
        echo &quot;  $PROGRAM e /var/pdm/config.rom /tmp/config.enc&quot;
        echo &quot;&quot;
        exit 1
}

filenotfound()
{
        echo &quot;Error! Input file not found.&quot;
        exit 1
}

optnotfound()
{
        echo &quot;Error! Option not support.&quot;
        echo &quot;option : e [Encrypt],  d [Decrypt]&quot;
        exit 1
}
#####################################################################################################

test -n &quot;$OPTION&quot; || usage
test -n &quot;$INPUTFILE&quot; || usage
test -n &quot;$OUTPUTFILE&quot; || usage
test -e &quot;$INPUTFILE&quot; || filenotfound

case $OPTION in
        &quot;e&quot;)
                $OPENSSL enc -e -des3 -pass pass:$PASSWD -in $INPUTFILE -out $OUTPUTFILE
                ;;
        &quot;d&quot;)
                $OPENSSL enc -d -des3 -pass pass:$PASSWD -in $INPUTFILE -out $OUTPUTFILE
                ;;
        *)
                optnotfound;
                ;;
esac
exit 0</code></pre></div><p>Not sure how to proceed. Thanks again for your guidence</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236034">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						8 Jun 2014, 21:45					</div>
				</div>
				<div class="post-content content">
					<p>You have a login, don&#039;t you? So you can also try without the -l</p><div class="codebox"><pre><code>telnetd  -p 10023</code></pre></div><p>That script is not useful, I think. It is designed to en/decrypt files. But that _encrypted_base64= is an output of a piped string. Using that key and cypher I was not able to decrypt your password. Was this the only file showing up?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236894">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">ius</div>
					<div class="post-datetime">
						15 Jun 2014, 16:53					</div>
				</div>
				<div class="post-content content">
					<p>Slightly offtopic, but does anyone happen to have a v2.6.32 source tree for P2812-HNU-F1?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240380">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">step[at]n.cz</div>
					<div class="post-datetime">
						16 Jul 2014, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>Mijzelf:</p><p>Hi, i have read your story. Did you (and how) succeed with unbranding (i guess kpn or telfort) zyxel? Cos im in the point that i flashed both&nbsp; &quot;304TUJ.bm&quot; and &quot;311TUJ0C0.bin&quot; and im in a point that i can access only the serial console and nothing more.</p><p>thanks</p><p>step[at]n.cz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240539">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						17 Jul 2014, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I did. Twice, on 2 different boxes. It seems the configuration is not always cleared, as you can read somewhere in this thread. The remedy is <a href="https://forum.openwrt.org/viewtopic.php?pid=221232#p221232">here</a>. But beware, as you can read further on this doesn&#039;t work for everybody. But it worked for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241211">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">System Error Message</div>
					<div class="post-datetime">
						23 Jul 2014, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi i tried unbranding mine but it still did not change the default usernames and passwords. Mine came with a non standard username password configuration. None of the root or admin defaults worked for me after unbranding. Is there any solution around this? Otherwise the device is stuck as a useless modem.</p><p>Even the reset to default does not set the password to the default 1234</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244739">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">kenlee70</div>
					<div class="post-datetime">
						24 Aug 2014, 13:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>asmartin wrote:</cite><blockquote><p>Latest firmware from ZyXEL : <a href="https://www.dropbox.com/sh/yphl9my4g8z8gk2/LoJXRzzPFb"><span style="color: blue"><strong>1.00(AAC3)C0</strong></span></a></p></blockquote></div><p>Anyone have the Bootbase version 3.09 to share ?</p><p>I successfully unbranded a WMG3326 model that is basically the same as P-2812HNU-F1 but without the VoIP ports.<br />Have another branded WMG3326 model in stock as well and would be interested in experimenting the unbranding process with the newest Bootbase version.</p>											<p class="post-edited">(Last edited by <strong>kenlee70</strong> on 24 Aug 2014, 13:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249056">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						3 Oct 2014, 22:30					</div>
				</div>
				<div class="post-content content">
					<p>Can anybody help please? </p><p>I&#039;ve got a P-2812HNU-F1.&nbsp; I factory reset the unit using the pin hole.&nbsp; I can get to the Zyxel web login page at 192.168.1.1 but can&#039;t access any of the accounts as they are not the default admin/1234, user/1234, etc.&nbsp; &nbsp; </p><p>I followed asmartin&#039;s guide to enable the debug flag and load bootbase 304TUJ.bm and firmware 311TUJ0C0.bin.&nbsp; </p><div class="codebox"><pre><code>ZLD   Version          : V3.11(TUJ.0)
Bootbase Version       : V3.04|04/01|2011(TUJ)
Vender Name            : ZyXEL Communications Corp.
Product Model          : P-2812HNUL-F1 </code></pre></div><p>I&#039;ve reset the device again but I still can&#039;t access any of the accounts.&nbsp; </p><p>How do I reset or add the accounts and passwords with only access to the ZHAL&gt; and ZLO&gt; prompts via serial and I don&#039;t have telnet or root access?</p><p>Does anyone have any ideas?</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 76 to 75 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=47957&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=47957&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=47957&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=47957&amp;p=5.html">5</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>