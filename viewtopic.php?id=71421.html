<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Is it possible to install LuCi to a chinese router with custom ui?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p361519">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">iGerman</div>
					<div class="post-datetime">
						4 Jul 2017, 19:31					</div>
				</div>
				<div class="post-content content">
					<p>I have a chinese router with openwrt installed &#039;out of the box&#039;. Its web ui is terrible. I couldnt found any port forwarding and had to manually add it in html code editor (it was with style display none). I wonder if it&#039;s possible to install standart luci to it. Router is unknown brand. I&#039;m a noob in openwrt, but i know how to connect to it using PuTTY (i determined its openwrt that way).</p><p>Read the paste for additional info about router</p><p>ghostbin . com / paste / 9p5x6</p><p>(0 links allowed, so remove spaces)</p><p>Sorry for any mistakes. I&#039;m a newbie and i&#039;m Russian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361521">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						4 Jul 2017, 21:17					</div>
				</div>
				<div class="post-content content">
					<p>You can try accessing the root shell through SSH, if you can, and check the files in the /etc/opkg/ folder to see where this build downloads additional packages from.</p><p>If the URL points to a manufacturer&#039;s website or downloads area, then it is possible that the packages there are custom-made, and do not contain the default LuCI web interface. But if they point to the &#039;downloads.openwrt.org&#039; site, then you might be able to install the default OpenWRT LuCI web interface. You might also need some additional tuning to fix the web server&#039;s configuration so it loads the default LuCI correctly.</p><p>----</p><p>If you want to get more involved in the process, and if I read the bootlog correctly, then the router has 64MB of RAM and 8MB of flash memory. The SoC is AR9330. A short Google search reveals the following page from OpenWRT Wiki: <a href="https://wiki.openwrt.org/toh/tp-link/tl-wr740n">https://wiki.openwrt.org/toh/tp-link/tl-wr740n</a></p><p>The TP-Link TL-WR740N&#039;s hardware and bootlog seem to be very close to your router&#039;s, the primary differences seem to be in RAM size and the flash memory size. Based on these, you could consider fetching the OpenWRT buildroot environment for yourself, and building a minimal <strong>ramdisk-variant </strong> for the TL-WR740N. Then attempt to run this ramdisk version directly from memory by accessing the bootloader through a serial console, and using tftpboot and bootm commands to upload and run the ramdisk version.</p><p>Try out different things with the ramdisk variant, and see how it works. You can always safely return to the original firmware by powering off the router, and powering it back on again. If the ramdisk variant seems to work nicely, then it should be a simple process to create a copy of the device profile, and adjust the flash region ranges of the new device profile to match those in the current firmware so that things align correctly.</p><p><strong>Do not, under any circumstances, flash the TL-WR740N&#039;s firmware onto the device. The bootlogs show that this firmware uses different region ranges for the flash memory, and these differences may cause the flash process to overwrite crucial data such as the bootloader or the ART region.</strong></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>