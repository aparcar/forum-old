<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT for Atheros based devices...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Apr 2018 and 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=7799&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p35729">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">obiwan_kenobi</div>
					<div class="post-datetime">
						20 Oct 2006, 06:19					</div>
				</div>
				<div class="post-content content">
					<p>I have managed to compile openwrt for Atheros, but now i need some help with REDBOOT.<br />Can anyone help me?</p><p>I hope this help...</p><p>Its a dump of a working SMC WEBT-G with its original firm...</p><br /><p>ar531xPlus rev 0x00000087 boot loader startup...<br />Flash initialized<br />SDRAM initialized<br />Cache initialized</p><p>Copy program from 0xbfc00000 to 0x80520000, length 0x0000c70c bytes ... done<br />Jump to SDRAM 0x80520cb4 [0x10000008, 0x00000000, 0x00000000]<br />Clear BSS section ... done<br />Stack: 0x8053e530<br />Heap: 0x8053e540</p><br /><br /><br /><br /><br /><p>=======================================================================</p><p> Wireless Access Point WA4001C Loader V0.03 build Mar 29 2005 15:45:48</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Arcadyan Technology Corporation</p><p>=======================================================================</p><br /><br /><p>Flash Found. It is 2MB Flash....</p><br /><br /><p>Copying boot params.....DONE</p><p>cpuFreq=240000000 sysFreq=60000000 cntFreq=120000000</p><br /><br /><p>Press any key to enter command mode ...</p><p>Memory Checking from 0xa0000000 to 0xa03fffff</p><p>Pattern [ 0x00000000 ] ........................</p><p>Pattern [ 0xffffffff ] ........................</p><p>Pattern [ 0xaaaaaaaa ] ........................</p><p>Pattern [ 0x55555555 ] ........................</p><p>Pattern [&nbsp; &nbsp;serial&nbsp; &nbsp;] ........................</p><p>Address Overlap Test ......................</p><p>Passed.</p><br /><br /><p>Checking Valid Image in Flash... </p><p> Passed.</p><br /><br /><p>Unzipping program from bank 2...failed(04)</p><p>Try to find image for running...</p><p>Valid Code found in the Flash</p><br /><br /><p>Unzipping program from bank 3...........................................................................................................................................................................................done </p><p>I am going to run the Code image from 80001000</p><br /><br /><br /><br /><br /><br /><br /><p>firmware startup...<br />Stack: 0x807a5980<br />Heap: 0x807a5990<br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: feed_watchdog is called?? <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: setGpio is called?? <br />##### _ftext&nbsp; &nbsp; &nbsp; = 0x80001000<br />##### _fdata&nbsp; &nbsp; &nbsp; = 0x80121F10<br />##### __bss_start = 0x8013DA48<br />##### end&nbsp; &nbsp; &nbsp; &nbsp; = 0x80795980<br />##### Backup Data from 0x80121F10 to 0x807B5980 length=0001BB38 <br />[CGI] Web SDRAM area is from 0XBFC40000H</p><p>install_exception <br />Installing TLB Refill exception handler from 8000A310 to 80000000, size=184<br />Installing General exception handler from 8000A3C8 to 80000180, size=216<br />Installing Interrupt exception handler from 8000A4A0 to 80000200, size=160<br />misc_int_init <br />mips_int_enable : 0x00000400<br />Connect the AHB interrupt<br />sysBoardDataInit <br />Init the GPIOs !!!<br />Enable arbitration for SOC devices !!!<br />cpuFreq=184000000 sysFreq=40000000 cntFreq=92000000<br />AR531X_TIMER=00061A6C<br />AR531X_RELOAD=00061A80<br />AR531X_IMR=00000028<br />mips_cp0_status=10000401<br />mips_cp0_cause=30800000<br />[INIT] MTinitialize ..<br />Runtime code version: V1.07.2<br />System startup...<br />[INIT] MTmeminit ..<br />[INIT] check COLOR 0 ..<br />soho initialize COLOR1 : 409600<br />[INIT] soho initialize COLOR2 : 25480<br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: feed_watchdog is called?? </p><p>Flash Found. It is 2MB Flash....<br />Set flash memory layout to Runcode version: V1.07.2<br />Runcode date: Jul 14 2006 17:10:07<br />Bootcode version: V0.03<br />Serial number: J631006911<br />Hardware version: 01<br />sizeof(struct III_Config_t) is 28624<br />!![E-CFG-VER] Configuration data version mismatch!!<br />!![E-CFG-VER] Adapting factory defaults!!<br />!![E-CFG-VER] Reconfiguration required!!<br />!!No configuration file present!!<br />!!! Invalid wireless channel range 0 ~ 0<br />!!! Use default value 1 ~ 13<br />default route: 0.0.0.0<br />BufferInit:<br />BUF_HDR_SZ=32 BUF_ALIGN_SZ=12 BUFFER_OFFSET=96<br />BUF_BUFSZ0=384 BUF_BUFSZ1=3264<br />NUM_OF_B0=200 NUM_OF_B1=900<br />BUF_POOL0_SZ=83200 BUF_POOL1_SZ=2966400<br />sizeof(BUFFER0)=416,sizeof(BUFFER1)=3296<br />*BUF0=0x8066ce2c *BUF1=0x80398a9c<br />Altgn *BUF0=0x8066ce30 *BUF1=0x80398aa0<br />End at BUF0:0x80681330, BUF1:0x8066ce20</p><p>buffer0 pointer init OK!<br />buffer1 pointer init OK!<br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=0)&gt; ifp-&gt;add_default_route:0<br />Interface 0 ip = 127.0.0.1</p><p>ar531xmac_init: ifno=1, initstr=UNIT=0 VLAN=-1<br />D:/Projects/ttf2004/source/firmware/hardware/ar5312/ar531xbsp.c:sysEnetInit is called<br />ae531xEndLoad: loading device ...<br />ae531xEndLoad: unit=0, pDmaBuf=0xa02a98c4, dmaBufSize=8976, txDescCount=192, rxDescCount=256, clCount=512<br />ae531xEndLoad: System param: mac=b0500000, dma=b0501000, ivec=4, ilev=1000<br />ae531xEndLoad: Flash ea = 00:13:f7:44:25:d3<br />ae0 qt = 1, buf begin = 80000000, buf end = 80000000<br />ae0 qt = 1, drsc begin = a02a98d0, desc end = a02aa7bc<br />Tx Queue b=0xa02a98d0, e=0xa02aa7bc, c=0xa02a98d0, s@c=0x&nbsp; &nbsp; &nbsp; &nbsp;0<br />ae0 qt = 2, buf begin = 80398b02, buf end = 80465e22<br />ae0 qt = 2, drsc begin = a02aa7d0, desc end = a02abbbc<br />Rx Queue b=0xa02aa7d0, e=0xa02abbbc, c=0xa02aa7d0, s@c=0x80000000<br />ae531xMemInit: Memory setup complete.<br />Found PHY enet0: Altima AC101L model 0x12 revision 0x1<br />eth0: Phy reset complete, starting auto-negotiation...<br />ALTM_PHY_CONTROL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 3100<br />ALTM_PHY_STATUS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 7849<br />ALTM_PHY_ID1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 0022<br />ALTM_PHY_ID2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 5521<br />ALTM_AUTONEG_ADVERT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 01E1<br />ALTM_LINK_PARTNER_ABILITY&nbsp; &nbsp; &nbsp; = 0001<br />ALTM_AUTONEG_EXPANSION&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 0004<br />ALTM_NEXT_PAGE_TRANSMIT&nbsp; &nbsp; &nbsp; &nbsp; = 2001<br />ALTM_BT_INT_LEVEL_CONTROL&nbsp; &nbsp; &nbsp; = 1800<br />ALTM_INT_CONTROL_STATUS&nbsp; &nbsp; &nbsp; &nbsp; = 0000<br />ALTM_DIAGNOSTIC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0010<br />ALTM_POWER_LOOPBACK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0000<br />ALTM_CABLE_MEASUREMENT_CONTROL = C0EE<br />ALTM_RECEIVE_ERROR_COUNTER&nbsp; &nbsp; &nbsp;= 0000<br />ALTM_POWER_MANAGEMENT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 01FF<br />ALTM_OPERATION_MODE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 8040<br />ALTM_CRC_FOR_RECENT_RCVD_PKT&nbsp; &nbsp;= 0000<br />eth0: Phy Status=7849<br />eth0: duplex 0, link 1<br />ae_SetMacFromPhy: enet0 as half duplex, 10Mbps<br />ae0: setting TXDP=0xa02a98d0 RXDP=0xa02aa7d0<br />ae0 Verify MAC address 44F71300 0000D325 <br />&nbsp; sb = 00 13 F7 44 25 D3<br />ae531xRxFilterConfig: MacControl = 1084000C<br />ae531xEndLoad: Done loading, pDrvCtrl=802A96BC txQ=802A96E8 rxQ=802A96FC<br />ar531xmac_init: enet0 set to NORMAL mode</p><p>&nbsp; DmaStatus&nbsp; = 0x&nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; DmaBusMode = 0x&nbsp; &nbsp; 2084<br />&nbsp; DmaRxBase&nbsp; = 0x&nbsp; 2aa7d0<br />&nbsp; DmaTxBase&nbsp; = 0x&nbsp; 2a98d0<br />&nbsp; DmaControl = 0x&nbsp; 200000<br />&nbsp; DmaIntr&nbsp; &nbsp; = 0x&nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; MacControl = 0x1084000c<br />&nbsp; MacAddrHi&nbsp; = 0x&nbsp; &nbsp; d325<br />&nbsp; MacAddrLo&nbsp; = 0x44f71300<br />&nbsp; MacVlan1&nbsp; &nbsp;= 0x&nbsp; &nbsp; 8100<br />&nbsp; MacVlan2&nbsp; &nbsp;= 0x&nbsp; &nbsp; &nbsp; &nbsp;0</p><p>Rx Queue b=0xa02aa7d0, e=0xa02abbbc, c=0xa02aa7d0, s@c=0x80000000<br />Current Rx buffer = 0x&nbsp; &nbsp; &nbsp; &nbsp;0<br />Tx Queue b=0xa02a98d0, e=0xa02aa7bc, c=0xa02a98d0, s@c=0x&nbsp; &nbsp; &nbsp; &nbsp;0<br />Current Tx buffer = 0x&nbsp; &nbsp; &nbsp; &nbsp;0<br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=1)&gt; ifp-&gt;add_default_route:1<br />ae531xRxFilterConfig: MacControl = 1084000C<br />Interface 1 ip = 192.168.2.25</p><p>ae531xRxFilterConfig: MacControl = 1084000C<br />[HWLAN] ifno=3 irno=7 port=0x00000000<br />[HWLAN] semBCreate return 1 8029ce88, count 1<br />[HWLAN] pRadio-&gt;abolt = 00000000<br />[HWLAN] pRadio-&gt;abolt = 00000000<br />[HWLAN] gSetting.BasicRate=f <br />apCfgRemoteApMacAddrSet OK: MAC 00:00:00:00:00:00 on WLAN 0<br />apInit: Initialize Access Point.<br />[HWLAN] ar5hwcCreatePhy : ifno:3 pdevInfo=80310834, devno=1<br />[HWLAN] devno 1 pdevInfo 80310834<br />[HWLAN] Base address = b0000000, irq 3<br />Attach AR5212 0x13 0x80310834<br />[HWLAN] DOMAIN 00008210<br />[HWLAN] Set HWLAN MAC as LAN MAC .. <br />[HWLAN] MAC Address=00-13-F7=44-25-D3 <br />[HWLAN] wlan1 revisions: mac 11.0 phy 4.8 analog 7.0 eeprom 5.2<br />### MAX ### Sending Power Strength = 19 dBm <br />[HWLAN] phwChannel 2437, channelFlags 00005400<br />[HWLAN] size of ATHEROS_DESC hardware part 32<br />[HWLAN] CACHE_LINE_SIZE 16, AR_DESC_SIZE 128<br />[HWLAN] AR_HEADER_SIZE 96, AR_BUF_SIZE 3196numDescriptors = 704<br />[HWLAN] wlan1: pDmaBuf=A013E480<br />[HWLAN] pMemBuf a013e480 pdevInfo-&gt;pDmaBuf a013e480<br />[HWLAN] semBCreate return 2 8029ce98, count 1<br />[HWLAN] ar5hwcQueueCreate: semaphore id 8029ce98<br />[HWLAN] semBCreate return 3 8029cea8, count 1<br />[HWLAN] ar5hwcQueueCreate: semaphore id 8029cea8<br />[HWLAN] semBCreate return 4 8029ceb8, count 1<br />[HWLAN] ar5hwcQueueCreate: semaphore id 8029ceb8<br />[HWLAN] semBCreate return 5 8029cec8, count 1<br />[HWLAN] ar5hwcQueueCreate: semaphore id 8029cec8<br />[HWLAN] pMemBuf a015a480, pdevInfo-&gt;pDmaBuf + pdevInfo-&gt;dmaBufSize a018c4a0<br />[HWLAN] muxDevLoad is called for vportNum 10000, loadfn 8005aa60, vportStr 16: 0: 1<br />[HWLAN] semBCreate return 6 8029ced8, count 1<br />[HWLAN] semBCreate return 7 8029cee8, count 1<br />ar5212Reset: maxCalCount 20<br />[HWLAN] ioctl CMD=0xb<br />mips_int_connect: ivec 3 ar5hwcInt 8003f568 pdevInfo 80310834<br />mips_int_enable : 0x00000C00<br />[HWLAN] bridgePortAdd : vp, 10000<br />[HWLAN] bridgePortAdd (base BSS) succeeded for vp1<br />[HWLAN] semBCreate return 8 8029cef8, count 0<br />[HWLAN] semBCreate return 9 8029cf08, count 0<br />[HWLAN] semBCreate return 10 8029cf18, count 1<br />[HWLAN] semBCreate return 11 8029cf28, count 1<br />[HWLAN] semBCreate return 12 8029cf38, count 0<br />[HWLAN] semBCreate return 13 8029cf48, count 1<br />[HWLAN] semBCreate return 14 8029cf58, count 1<br />[HWLAN] semBCreate return 15 8029cf68, count 0<br />[HWLAN] semBCreate return 16 8029cf78, count 1<br />[HWLAN] semBCreate return 17 8029cf88, count 1<br />[HWLAN] semBCreate return 18 8029cf98, count 0<br />[HWLAN] semBCreate return 19 8029cfa8, count 1<br />wlan1 added STA: 00:13:f7:44:25:d3 (1580)<br />[HWLAN] ifno=3 after call apInit() : .... bg 1 , a 0 .... <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: Hwlan_light_init is called?? <br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=3)&gt; ifp-&gt;add_default_route:0<br />[HWLAN] hwlan_ioctl() .. <br />Interface 3 ip = 192.168.2.25</p><p>[HWLAN] hwlan_ioctl() .. <br />[HWLAN] ifno=6 irno=7 port=0x00000000<br />[WDS] init wds mac : 0000000000000<br />000000000000<br />[WDS] hwlanPCI_init() set ifp flag .. <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: Hwlan_light_init is called?? <br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=6)&gt; ifp-&gt;add_default_route:0<br />[HWLAN] hwlan_ioctl() .. <br />Interface 6 ip = 192.168.2.25</p><p>[HWLAN] hwlan_ioctl() .. <br />[HWLAN] ifno=7 irno=7 port=0x00000000<br />[WDS] init wds mac : 1000000000000<br />000000000000<br />[WDS] hwlanPCI_init() set ifp flag .. <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: Hwlan_light_init is called?? <br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=7)&gt; ifp-&gt;add_default_route:0<br />[HWLAN] hwlan_ioctl() .. <br />Interface 7 ip = 192.168.2.25</p><p>[HWLAN] hwlan_ioctl() .. <br />[HWLAN] ifno=8 irno=7 port=0x00000000<br />[WDS] init wds mac : 2000000000000<br />000000000000<br />[WDS] hwlanPCI_init() set ifp flag .. <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: Hwlan_light_init is called?? <br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=8)&gt; ifp-&gt;add_default_route:0<br />[HWLAN] hwlan_ioctl() .. <br />Interface 8 ip = 192.168.2.25</p><p>[HWLAN] hwlan_ioctl() .. <br />[HWLAN] ifno=9 irno=7 port=0x00000000<br />[WDS] init wds mac : 3000000000000<br />000000000000<br />[WDS] hwlanPCI_init() set ifp flag .. <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: Hwlan_light_init is called?? <br />time = 08/01/2003, 00:00:00<br />iput_IpLinkUp(ifno=9)&gt; ifp-&gt;add_default_route:0<br />[HWLAN] hwlan_ioctl() .. <br />Interface 9 ip = 192.168.2.25</p><p>[HWLAN] hwlan_ioctl() .. <br />RUNTASK id=2 if_task if0...<br />RUNTASK id=3 if_task if1...<br />RUNTASK id=4 if_task if3...<br />RUNTASK id=5 if_task if6...<br />RUNTASK id=6 if_task if7...<br />RUNTASK id=7 if_task if8...<br />RUNTASK id=8 if_task if9...<br />RUNTASK id=9 timer_task...<br />RUNTASK id=10 main_8021x...<br />year=104,mon=11,day=18D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: feed_watchdog is called?? <br />randomize .. <br />RUNTASK id=11 period_task...<br />RUNTASK id=12 dhcp_clt...on interface 2<br />httpd: listen at 192.168.2.25:80<br />HTTPD TIMER_RESOURCE:5, FS_RESOURCE:6<br />RUNTASK httpd...<br />DHCPD is Disabled <br />D:/Projects/ttf2004/source/firmware/project/smc/wa4001c-17_special/ar5315/gpio.c: feed_watchdog is called?? <br />Starting Multitask...<br />MTstart2() begin&nbsp; ...</p><p>enet0 up<br />We just gained our first link(s) for MAC0<br />ae531xDmaIntEnable 0001a1e2<br />mips_int_enable : 0x00001C01<br />[HWLAN] Ready</p><p> This Device is AP</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35730">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">obiwan_kenobi</div>
					<div class="post-datetime">
						20 Oct 2006, 06:21					</div>
				</div>
				<div class="post-content content">
					<p>And this is a dump of a working La-Fonera, (Hardware is equal to SMC, but with more flash and ram)</p><p>+PHY ID is 0022:5521 <br />Ethernet eth0: MAC address 00:18:84:XX:XX:XX <br />IP: 0.0.0.0/255.255.255.255, Gateway: 0.0.0.0 <br />Default server: 0.0.0.0 </p><p>RedBoot(tm) bootstrap and debug environment [ROMRAM] <br />Non-certified release, version v1.3.0 - built 16:57:58, Aug 7 2006 </p><p>Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc. </p><p>Board: ap51 <br />RAM: 0x80000000-0x81000000, [0x80040450-0x80fe1000] available <br />FLASH: 0xa8000000 - 0xa87f0000, 128 blocks of 0x00010000 bytes each. <br />== Executing boot script in 1.000 seconds - enter ^C to abort <br />RedBoot&gt; fis load -l vmlinux.bin.l7 <br />Image loaded from 0x80041000-0x801ba000 <br />RedBoot&gt; exec <br />Now booting linux kernel: <br />Base address 0x80030000 Entry 0x80041000 <br />Cmdline : <br />CPU revision is: 00019064 </p><p>Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes. </p><p>Primary data cache 16kB, 4-way, linesize 16 bytes. </p><p>Linux version 2.4.32 (iurgi@ropero) (gcc version 3.4.6 (OpenWrt-2.0)) #4 Thu Aug 17 21:48:03 UTC 2006 </p><p>Determined physical RAM map: </p><p>memory: 01000000 @ 00000000 (usable) </p><p>On node 0 totalpages: 4096 </p><p>zone(0): 4096 pages. </p><p>zone(1): 0 pages. </p><p>zone(2): 0 pages. </p><p>Kernel command line: console=ttyS0,9600 rootfstype=squashfs,jffs2 </p><p>Using 92.000 MHz high precision timer. </p><p>Calibrating delay loop... 183.50 BogoMIPS </p><p>Memory: 14188k/16384k available (1327k kernel code, 2196k reserved, 92k data, 68k init, 0k highmem) </p><p>Dentry cache hash table entries: 2048 (order: 2, 16384 bytes) </p><p>Inode cache hash table entries: 1024 (order: 1, 8192 bytes) </p><p>Mount cache hash table entries: 512 (order: 0, 4096 bytes) </p><p>Buffer cache hash table entries: 1024 (order: 0, 4096 bytes) </p><p>Page-cache hash table entries: 4096 (order: 2, 16384 bytes) </p><p>Checking for &#039;wait&#039; instruction... available. </p><p>POSIX conformance testing by UNIFIX </p><p>Linux NET4.0 for Linux 2.4 </p><p>Based upon Swansea University Computer Society NET3.039 </p><p>Initializing RT netlink socket </p><p>Starting kswapd </p><p>devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au) </p><p>devfs: boot_options: 0x1 </p><p>JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB. </p><p>squashfs: version 3.0 (2006/03/15) Phillip Lougher </p><p>pty: 256 Unix98 ptys configured </p><p>Serial driver version 5.05c (2001-07-0 with no serial options enabled </p><p>ttyS00 at 0xb1100003 (irq = 37) is a 16550A </p><p>eth0: Dropping NETIF_F_SG since no checksum feature. </p><p>eth0: Atheros AR2313: 00:18:84:XX:XX:XX, irq 4 </p><p>MTD driver for SPI flash. </p><p>spiflash: Probing for Serial flash ... </p><p>spiflash: Found SPI serial Flash. </p><p>8388608: size </p><p>Creating 8 MTD partitions on &quot;spiflash&quot;: </p><p>0x00000000-0x00030000 : &quot;RedBoot&quot; </p><p>0x00030000-0x00720000 : &quot;rootfs&quot; </p><p>eth0: Configuring MAC for full duplex </p><p>0x001c0000-0x00720000 : &quot;rootfs1&quot; </p><p>0x00720000-0x00730000 : &quot;config&quot; </p><p>0x00730000-0x007e0000 : &quot;vmlinux.bin.l7&quot; </p><p>0x007e0000-0x007ef000 : &quot;FIS directory&quot; </p><p>mtd: partition &quot;FIS directory&quot; doesn&#039;t end on an erase block -- force read-only </p><p>0x007ef000-0x007f0000 : &quot;RedBoot config&quot; </p><p>mtd: partition &quot;RedBoot config&quot; doesn&#039;t start on an erase block boundary -- force read-only </p><p>0x007f0000-0x00800000 : &quot;board_config&quot; </p><p>Initializing Cryptographic API </p><p>NET4: Linux TCP/IP 1.0 for NET4.0 </p><p>IP Protocols: ICMP, UDP, TCP, IGMP </p><p>IP: routing cache hash table of 512 buckets, 4Kbytes </p><p>TCP: Hash tables configured (established 1024 bind 2048) </p><p>ip_conntrack version 2.1 (5953 buckets, 5953 max) - 328 bytes per conntrack </p><p>ip_tables: (C) 2000-2002 Netfilter core team </p><p>NET4: Unix domain sockets 1.0/SMP for Linux NET4.0. </p><p>NET4: Ethernet Bridge 008 for NET4.0 </p><p>802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt; </p><p>All bugs added by David S. Miller &lt;davem@redhat.com&gt; </p><p>VFS: Mounted root (squashfs filesystem) readonly. </p><p>Mounted devfs on /dev </p><p>Freeing unused kernel memory: 68k freed </p><br /><p>init started: BusyBox v1.1.3 (2006.08.17-19:56+0000) multi-call binary <br />Algorithmics/MIPS FPU Emulator v1.5 </p><br /><p>Please press Enter to activate this console. </p><br /><p>BusyBox v1.1.3 (2006.08.17-19:56+0000) Built-in shell (ash) <br />Enter &#039;help&#039; for a list of built-in commands. </p><p>_______ _______ _______ <br />| ____|| || _ | <br />| ____|| - || | | | <br />| | |_______||__| |__| <br />|___| </p><p>Fonera Firmware (Version 0.7.0 rev 2) ------------- <br />* <br />* Based on OpenWrt - <a href="http://openwrt.org">http://openwrt.org</a> <br />* Powered Registering mini_fo version $Id$ </p><p>by FON - <a href="http://www.fon.com">http://www.fon.com</a> <br />--mini_fo: using base directory: / </p><p>----------------mini_fo: using storage directory: /jffs </p><p>--------------------------------- <br />root@(none):/# jffs2.bbc: SIZE compression mode activated. </p><p>wlan: 0.8.4.2 (0.9.0) </p><p>ath_hal: 0.9.17.1 (AR5212, AR5312, RF5112, RF2316, RF2317, TX_DESC_SWAP) </p><p>wlan: mac acl policy registered </p><p>ath_rate_sample: 1.2 (0.9.0) </p><p>ath_ahb: 0.9.4.5 (0.9.0) </p><p>ath_pci: switching rfkill capability off </p><p>wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps </p><p>wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps </p><p>wifi0: H/W encryption support: WEP AES AES_CCM TKIP </p><p>wifi0: mac 11.0 phy 4.8 radio 7.0 </p><p>wifi0: Use hw queue 1 for WME_AC_BE traffic </p><p>wifi0: Use hw queue 0 for WME_AC_BK traffic </p><p>wifi0: Use hw queue 2 for WME_AC_VI traffic </p><p>wifi0: Use hw queue 3 for WME_AC_VO traffic </p><p>wifi0: Use hw queue 8 for CAB traffic </p><p>wifi0: Use hw queue 9 for beacons </p><p>wifi0: Atheros 2315 WiSoC: mem=0xb0000000, irq=3 </p><p>Universal TUN/TAP device driver 1.5 (C)1999-2002 Maxim Krasnyansky </p><p>device eth0 entered promiscuous mode</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36180">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">GoldServe</div>
					<div class="post-datetime">
						28 Oct 2006, 10:33					</div>
				</div>
				<div class="post-content content">
					<p>Bump!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36917">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">debianero</div>
					<div class="post-datetime">
						10 Nov 2006, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>I am trying hack the fonera device (FON2100). A have compiled de firmware from source code released from FON and i only have this:</p><p>Welcome to minicom 2.2</p><p>OPTIONS: I18n<br />Compiled on Oct 20 2006, 15:28:39.<br />Port /dev/ttyUSB0</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Press CTRL-A Z for help on special keys</p><p>+PHY ID is 0022:5521<br />Ethernet eth0: MAC address 00:18:84:11:24:d0<br />IP: 0.0.0.0/255.255.255.255, Gateway: 0.0.0.0<br />Default server: 0.0.0.0</p><p>RedBoot(tm) bootstrap and debug environment [ROMRAM]<br />Non-certified release, version v1.3.0 - built 16:57:58, Aug&nbsp; 7 2006</p><p>Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.</p><p>Board: ap51<br />RAM: 0x80000000-0x81000000, [0x80040450-0x80fe1000] available<br />FLASH: 0xa8000000 - 0xa87f0000, 128 blocks of 0x00010000 bytes each.<br />== Executing boot script in 1.000 seconds - enter ^C to abort<br />^C<br />RedBoot&gt;<br />RedBoot&gt;<br />RedBoot&gt; ip_address -l 192.168.11.111/24 -h 192.168.11.3<br />IP: 192.168.11.111/255.255.255.0, Gateway: 0.0.0.0<br />Default server: 192.168.11.3<br />RedBoot&gt; load -r -v -b 0x80041000 -m http -h 192.168.11.3 /vmlinux.lzma<br />-<br />Raw file loaded 0x80041000-0x800b267b, assumed entry at 0x80041000<br />RedBoot&gt; cksum<br />Computing cksum for area 0x80041000-0x800b267c<br />POSIX cksum = 2748321357 464508 (0xa3d00e4d 0x0007167c)<br />RedBoot&gt; fis create -b 0x80040450 -f 0xA8730000 -l 0x000B0000 -r 0x80041000 -e 0x80041000 vmlinux.bin.l7<br />An image named &#039;vmlinux.bin.l7&#039; exists - continue (y/n)? n<br />RedBoot&gt; fis delete vmlinux.bin.l7<br />Delete image &#039;vmlinux.bin.l7&#039; - continue (y/n)? y<br />... Erase from 0xa8730000-0xa87e0000: ...........<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; fis create -b 0x80040450 -f 0xA8730000 -l 0x000B0000 -r 0x80041000 -e 0x80041000 vmlinux.bin.l7<br />... Erase from 0xa8730000-0xa87e0000: ...........<br />... Program from 0x80040450-0x800f0450 at 0xa8730000: ...........<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; load -r -v -b 0x80040450 -m http -h 192.168.11.3 /rootfs<br />-<br />Raw file loaded 0x80040450-0x801b0bdc, assumed entry at 0x80040450<br />RedBoot&gt; cksum<br />Computing cksum for area 0x80040450-0x801b0bdd<br />POSIX cksum = 3971643833 1509261 (0xecba79b9 0x0017078d)<br />RedBoot&gt; fis delete rootfs<br />Delete image &#039;rootfs&#039; - continue (y/n)? y<br />... Erase from 0xa8030000-0xa8730000: .......................................................................................................<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; fis create -b 0x80040450 -f 0xA8030000 -l 0x00700000 -e 0x00000000 rootfs<br />... Erase from 0xa8030000-0xa8730000: .......................................................................................................<br />... Program from 0x80040450-0x80740450 at 0xa8030000: .......................................................................................<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; reset<br />+PHY ID is 0022:5521<br />Ethernet eth0: MAC address 00:18:84:11:24:d0<br />IP: 0.0.0.0/255.255.255.255, Gateway: 0.0.0.0<br />Default server: 0.0.0.0</p><p>RedBoot(tm) bootstrap and debug environment [ROMRAM]<br />Non-certified release, version v1.3.0 - built 16:57:58, Aug&nbsp; 7 2006</p><p>Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.</p><p>Board: ap51<br />RAM: 0x80000000-0x81000000, [0x80040450-0x80fe1000] available<br />FLASH: 0xa8000000 - 0xa87f0000, 128 blocks of 0x00010000 bytes each.<br />== Executing boot script in 1.000 seconds - enter ^C to abort<br />RedBoot&gt; fis load -l vmlinux.bin.l7<br />too long file.<br />lzma_decode failed. res=1<br />RedBoot&gt; exec<br />Now booting linux kernel:<br /> Base address 0x80030000 Entry 0x80041000<br /> Cmdline :<br />---------------------------------------------------------------RESET--------------------------------------------------<br />+PHY ID is 0022:5521<br />Ethernet eth0: MAC address 00:18:84:11:24:d0<br />IP: 0.0.0.0/255.255.255.255, Gateway: 0.0.0.0<br />Default server: 0.0.0.0</p><p>RedBoot(tm) bootstrap and debug environment [ROMRAM]<br />Non-certified release, version v1.3.0 - built 16:57:58, Aug&nbsp; 7 2006</p><p>Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.</p><p>Board: ap51<br />RAM: 0x80000000-0x81000000, [0x80040450-0x80fe1000] available<br />FLASH: 0xa8000000 - 0xa87f0000, 128 blocks of 0x00010000 bytes each.<br />== Executing boot script in 1.000 seconds - enter ^C to abort<br />^C<br />RedBoot&gt; fis list<br />Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FLASH addr&nbsp; Mem addr&nbsp; &nbsp; Length&nbsp; &nbsp; &nbsp; Entry point<br />RedBoot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0xA8000000&nbsp; 0xA8000000&nbsp; 0x00030000&nbsp; 0x00000000<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0xA8030000&nbsp; 0xA8030000&nbsp; 0x00700000&nbsp; 0x00000000<br />vmlinux.bin.l7&nbsp; &nbsp; 0xA8730000&nbsp; 0x80041000&nbsp; 0x000B0000&nbsp; 0x80041000<br />FIS directory&nbsp; &nbsp; &nbsp;0xA87E0000&nbsp; 0xA87E0000&nbsp; 0x0000F000&nbsp; 0x00000000<br />RedBoot config&nbsp; &nbsp; 0xA87EF000&nbsp; 0xA87EF000&nbsp; 0x00001000&nbsp; 0x00000000<br />RedBoot&gt;</p><br /><br /><p>Could anyone help about this?&nbsp; Anyone with a &quot;virgin&quot; fonera could post the output form &quot;fis list&quot; command in Redboot? Could anyone post a link to an openwrt ar531x architecture firmware?</p><p>Thanks. Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37472">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Sosumi</div>
					<div class="post-datetime">
						19 Nov 2006, 23:57					</div>
				</div>
				<div class="post-content content">
					<p>I got my La Fonera a few days ago and set out to investigate it over the weekend.<br />I found a neat way of exploiting the webif/adv_wifi.sh script to inject commands over the built in webadmin (much simpler than using the (now fixed) bug in the FON-site scripts to inject commands), thereby simply starting the SSH-server in it.</p><p>I have not yet connected up a serial-cable to play with RedBoot or attempting to flash it in any way, but I have some addresses read out from the FIS-directory here, and also complete &quot;mostly virgin&quot; (except for some slight changes in the JFFS2-filesystem to activate SSH and disable running the updates fetched from FON) dumps of all mtdblock-devices. Just tell me if you want them.</p><p>The FIS-table has five entries and appears to be just as yours:<br /></p><div class="codebox"><pre><code>A800 0000 - A80 30000 (0003 0000 bytes) RedBoot
A87E F000 - A87F 0000 (0000 1000 bytes) RedBoot config
A87E 0000 - A87E F000 (0000 F000 bytes) FIS directory
A803 0000 - A873 0000 (0070 0000 bytes) rootfs
A873 0000 - A87E 0000 (000B 0000 bytes) vmlinux.bin.l7 (mem addr/entry 8004 1000)</code></pre></div><p>The MTD-devices in the linux (these are the ones I have byte-dumped to files):<br /></p><div class="codebox"><pre><code>00000000 - 00030000 mtdblock/0 RedBoot
00030000 - 00720000 mtdblock/1 rootfs
001c0000 - 00720000 mtdblock/2 rootfs1
00720000 - 00730000 mtdblock/3 config
00730000 - 007E0000 mtdblock/4 vmlinux.bin.l7
007E0000 - 007EF000 mtdblock/5 FIS directory (Read only)
007EF000 - 007F0000 mtdblock/6 RedBoot config (Read only)
007F0000 - 00800000 mtdblock/7 board_config</code></pre></div><p>Note that mtdblock/1 includes all of mtdblock/2 and that FIS rootfs includes all of mtdblock 1, 2 and 3.</p><p>mtdblock 3 is funny enough empty, all zeroes, except for the first two bytes, which read &quot;13 37&quot; :-)</p><p>I hope this info is of any use to you. I&#039;m just beginning my adventurers with OpenWRT and linux-routers in general, and this is my first encounter with embedded systems runninx linux from flash. I&#039;m learning quickly though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37538">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mctiew</div>
					<div class="post-datetime">
						21 Nov 2006, 04:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obiwan_kenobi wrote:</cite><blockquote><p>I have managed to compile openwrt for Atheros</p></blockquote></div><p>Maybe you could explain to me how do you choose a target for Atheros ? </p><p>When you &#039;make menuconfig&#039;, </p><p>1. What do you select for &#039;target system&#039; ? Atheros is not selectable there.<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; Did you choose Broadcom BCM947xx/953xx or what ?</p><p>2. What do you choose for target profile ? </p><p>&nbsp; &nbsp; Did you mean you choose Generic, Atheros WiFi ?</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37666">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">casperado</div>
					<div class="post-datetime">
						23 Nov 2006, 13:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I managed to compile a kernel &amp; image as well. I downloaded the fonera gpl tarball and copied over all of their changes. I managed to boot my kernel over network. Now I&#039;m working on flashing my kernel &amp; root-filesystem.<br />Actually I think my kernel has loaded the original mini_fo.ko module and with that it corrupted the fonera rootfs, but I&#039;m not sure. Anyway, once I know how that works I will post a patch or instructions.</p><p>Sosumi, how does your exploit work?</p><p>Here is a dump of the original &quot;fis list&quot; through a serial cable:</p><div class="codebox"><pre><code>+PHY ID is 0022:5521
Ethernet eth0: MAC address 00:18:84:10:97:f4
IP: 0.0.0.0/255.255.255.255, Gateway: 0.0.0.0
Default server: 0.0.0.0

RedBoot(tm) bootstrap and debug environment [ROMRAM]
Non-certified release, version v1.3.0 - built 16:57:58, Aug  7 2006

Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.

Board: ap51 
RAM: 0x80000000-0x81000000, [0x80040450-0x80fe1000] available
FLASH: 0xa8000000 - 0xa87f0000, 128 blocks of 0x00010000 bytes each.
== Executing boot script in 1.000 seconds - enter ^C to abort
^C
RedBoot&gt; ^C
RedBoot&gt; 
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xA8000000  0xA8000000  0x00030000  0x00000000
rootfs            0xA8030000  0xA8030000  0x00700000  0x00000000
vmlinux.bin.l7    0xA8730000  0x80041000   x000B0000  0x80041000
FIS directory     0xA87E0000  0xA87E0000  0x0000F000  0x00000000
RedBoot config    0xA87EF000  0xA87EE000  0x00001000  0x00000000
RedBoot&gt;</code></pre></div><p>Cheers &amp; keep on hacking...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37862">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">obiwan</div>
					<div class="post-datetime">
						27 Nov 2006, 03:44					</div>
				</div>
				<div class="post-content content">
					<p>Now i´m stuck with boot loaders<br />Im worrking with the SMC device, that has a bootloader from arcadyan.<br />It starts from position 0x80001000, so i need to build a bootloader that starts from this position, decompress the LZMA kernel, and then boot the kernel from its Kernel Entry.<br />I´m trying to do some modifications in the boot loader thats working with Sinus 154 DSL.<br />Does anyone now how to build a bootloder for BRN boot loader devices?</p><p>Let the force be with you!!!</p><p>.:: Obiwan ::.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37938">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mctiew</div>
					<div class="post-datetime">
						28 Nov 2006, 11:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obiwan_kenobi wrote:</cite><blockquote><p>I have managed to compile openwrt for Atheros</p></blockquote></div><p>I have downloaded kamikaze and dlink gpl source ( di-524 ). The dlink GPL source does not include the toolchain binary. So I thought I would use kamikaze toolchain binary to compile the sources. </p><p>Basically I ran menuconfig, selected atheros targets. In the end I path-ed the environment variables to point to kamikaze compiled toolchain binaries. But the compilation failed half way.</p><p>Then the ran dlink gpl source for compiling the toolchain binary, answered <br />MIP32, big endian, and &#039;NO MMU&#039; and after obtaining the toolchain binary, it managed to compile the dlink gpl sources ( except for one part where the hostapd get knocked out due to unsatisfied symbols &#039;daemon&#039; ).</p><p>I am posting this inform here for sharing - perhaps it is useful info and at the same time someone might have comments on it.</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37945">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">casperado</div>
					<div class="post-datetime">
						28 Nov 2006, 14:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody,</p><p>I successfully ported over the fonera-changes to kamikaze-svn, so I now have a working kamikaze for the fonera.<br />Had to use the old (0.9.0) madwifi-driver, but that is working like a charm in client mode.<br />I&#039;ll prepare a patch in the next few days. </p><p>Cheers,<br />casperado</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37946">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						28 Nov 2006, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>2.4 code won&#039;t go into kamikaze.. I&#039;m working on a total rewrite, the only problem I&#039;m facing with is time..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37956">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">casperado</div>
					<div class="post-datetime">
						28 Nov 2006, 17:47					</div>
				</div>
				<div class="post-content content">
					<p>Hello Kaloz,</p><p>nbd already told me 2.4 won&#039;t go into kamikaze, but for now kamikaze works well on the fonera with 2.4 because of fon.com&#039;s help. At least I&#039;ll be using it for a while...</p><p>How far are you with 2.6? Maybe I can help?</p><p>Cheers,<br />Kaspar</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38082">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">GoldServe</div>
					<div class="post-datetime">
						30 Nov 2006, 09:36					</div>
				</div>
				<div class="post-content content">
					<p>casperado,</p><p>Cool! Can&#039;t wait till you get openwrt on fonera!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38111">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">xtcfrk</div>
					<div class="post-datetime">
						30 Nov 2006, 18:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>casperado wrote:</cite><blockquote><p>I successfully ported over the fonera-changes to kamikaze-svn,<br />I&#039;ll prepare a patch in the next few days.</p></blockquote></div><p>have you already posted this patches? i&#039;d like to have them...<br />and may a little howto what you did to flash...<br />would be great !!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38665">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">SonicvanaJr</div>
					<div class="post-datetime">
						10 Dec 2006, 20:41					</div>
				</div>
				<div class="post-content content">
					<p>Are there any updates on this ?</p><p>I&#039;m currently stuck with a broken shell after trying to install a modified kmod ipkg.</p><p>init started:&nbsp; BusyBox v1.1.3 (2006.09.11-19:54+0000) multi-call binary</p><p>Algorithmics/MIPS FPU Emulator v1.5</p><br /><br /><p>Please press Eactivate this console. </p><br /><br /><br /><br /><p>Busy.3 (2006.09.11-19:54+0000) Built-in shell (ash)</p><p>Enter &#039;help&#039; for a list of built-in commands.</p><br /><br /><p> _______&nbsp; _______&nbsp; _______ </p><p>|&nbsp; &nbsp;____||&nbsp; &nbsp; &nbsp; &nbsp;||&nbsp; &nbsp;_&nbsp; &nbsp;|</p><p>|&nbsp; &nbsp;____||&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; | |&nbsp; |</p><p>|&nbsp; &nbsp;|&nbsp; &nbsp; |_______||__| |__|</p><p>|___|</p><br /><br /><p> Fonera Firmware (Version 0.7.0 rev 4) -------------</p><p>&nbsp; * </p><p>&nbsp; * Based on OpenWrt - <a href="http://openwrt.org">http://openwrt.org</a></p><p>&nbsp; * Powered by FON - <a href="http://www.fon.com">http://www.fon.com</a></p><p> ---------------------------------------------------<br />root@(none):/# Registering mini_fo version $Id$</p><p>mini_fo: using base directory: /</p><p>mini_fo: using storage directos</p><p>jffs2.bbc: SIZE compression mode activated.</p><p>:-\</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38676">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">intrax</div>
					<div class="post-datetime">
						11 Dec 2006, 04:19					</div>
				</div>
				<div class="post-content content">
					<p>Updates are stalled as apparently FON (Varzavsky) is paying some openwrt developpers to &#039;contribute&#039; i.e. not participate in any &#039;FON compromizing activities&#039;...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38678">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Cris</div>
					<div class="post-datetime">
						11 Dec 2006, 05:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,<br />After working a weekend I also successfully modified kamikaze-svn, and now I have a working kamikaze on my fonera!<br />I used the fon&#039;s patch to madwifi, now it works smoothly!<br />I am planning to update the changes I made.<br />Stay tuned.</p><p>Cris</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38679">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">fabxcp</div>
					<div class="post-datetime">
						11 Dec 2006, 05:10					</div>
				</div>
				<div class="post-content content">
					<p>Chris you are great <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38697">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Honki</div>
					<div class="post-datetime">
						11 Dec 2006, 12:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Cris wrote:</cite><blockquote><p>Hi guys,<br />After working a weekend I also successfully modified kamikaze-svn, and now I have a working kamikaze on my fonera!<br />I used the fon&#039;s patch to madwifi, now it works smoothly!<br />I am planning to update the changes I made.<br />Stay tuned.</p><p>Cris</p></blockquote></div><p>Tell us more, please... I would like to have OpenWRT on LaFonera, too!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38701">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">heini</div>
					<div class="post-datetime">
						11 Dec 2006, 14:33					</div>
				</div>
				<div class="post-content content">
					<p>@casperado, cris:</p><p>many people are waiting that anybody of you gives us the patches you both use to get kamikaze working!</p><p>would be nice to get it working here,too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38708">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">t4thfavor</div>
					<div class="post-datetime">
						11 Dec 2006, 16:43					</div>
				</div>
				<div class="post-content content">
					<p>I guess this means that you can&#039;t buy security then doesn&#039;t it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39113">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">intrax</div>
					<div class="post-datetime">
						18 Dec 2006, 03:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Cris wrote:</cite><blockquote><p>Hi guys,<br />After working a weekend I also successfully modified kamikaze-svn, and now I have a working kamikaze on my fonera!<br />I used the fon&#039;s patch to madwifi, now it works smoothly!<br />I am planning to update the changes I made.<br />Stay tuned.</p><p>Cris</p></blockquote></div><p>It&#039;s one thing to declare... but another thing to share... that&#039;s why I don&#039;t declare !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39244">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">casperado</div>
					<div class="post-datetime">
						19 Dec 2006, 17:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>intrax wrote:</cite><blockquote><div class="quotebox"><cite>Cris wrote:</cite><blockquote><p>I used the fon&#039;s patch to madwifi, now it works smoothly!<br />Cris</p></blockquote></div><p>It&#039;s one thing to declare... but another thing to share... that&#039;s why I don&#039;t declare !</p></blockquote></div><p>It&#039;s one thing to hack it together, another thing to put it into a shareable shape... that&#039;s why I don&#039;t share (yet).</p><p>Casper</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39251">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">casperado</div>
					<div class="post-datetime">
						19 Dec 2006, 20:12					</div>
				</div>
				<div class="post-content content">
					<p>Yo,</p><p>here is it:<br /><a href="ftp://vs2066243.netfabrik.de/openwrt/kamikaze/fonera/kamikaze_fonera.tgz">ftp://vs2066243.netfabrik.de/openwrt/ka … fonera.tgz</a></p><p>In order to install it, you need a serial console!<br />BE CAREFUL!<br />This can kill your router. Only try installing kamikaze if you know what you&#039;re doing!<br />These instructions probably don&#039;t work for you. If you don&#039;t understand the commands issued, don&#039;t do this!</p><p>To build, checkout the kamikaze-svn. I know that revision 5859 works, so:</p><div class="codebox"><pre><code> svn co -r 5859 https://svn.openwrt.org/openwrt/trunk</code></pre></div><p>download &amp; extract &amp; build my tarball into trunk:<br /></p><div class="codebox"><pre><code> 
cd trunk
wget ftp://vs2066243.netfabrik.de/openwrt/kamikaze/fonera/kamikaze_fonera.tgz
tar -xzf kamikaze_fonera.tgz</code></pre></div><p>In the configuration, select ar513x as target platform. Make sure Driver/madwifi is built.<br />Then build.</p><div class="codebox"><pre><code>make menuconfig; make</code></pre></div><p>To flash it, make everything from the bin-directory avalable per http.</p><p>This dump assumes that the workstation is 192.168.123.1, the router 192.168.123.2.<br />I used busybox (came with my debian): (in trunk/bin): </p><div class="codebox"><pre><code> busybox httpd -p 8081 .</code></pre></div><p>On the serial console:<br /></p><div class="codebox"><pre><code>RedBoot&gt; ip_address -l 192.168.123.2/24
IP: 192.168.123.2/255.255.255.0, Gateway: 0.0.0.0
Default server: 0.0.0.0
RedBoot&gt; load -r -b 0x80040450 -m http -p 8081 -h 192.168.123.1 /openwrt-ar531x-2.4-vmlinux.lzma
Raw file loaded 0x80040450-0x800c044f, assumed entry at 0x80040450
RedBoot&gt; cksum
Computing cksum for area 0x80040450-0x800c0450
POSIX cksum = 2858572401 524288 (0xaa625a71 0x00080000)
RedBoot&gt; fis list
Name              FLASH addr  Mem aadr    Length      Entry point
RedBoot           0xA8000000  0xA8000000  0000030000  0x00000000
rootfs            0xA8030000  0xA8030000  0x00700000  0x00000000
vmlinux.bin.l7    0xA8730000  0x80041000  0x000B0000  0x80041000
FIS directory     0xA87E0000  0xA87E0000  0x0000F000  0x00000000
RedBoot config    0xA87EF000  0xA87EF000  0x00001000  0x00000000
RedBoot&gt; fis list -d
Name              FLASH addr  Mem addr    Datalen     Entry point
RedBoot           0xA8000000  0xA8000000  0x000285E0  0x00000000
rootfs            0xA8030000  0xA8030000  0x00180000  0x00000000
vmlinux.bin.l7    0xA8730000  0x80041000  0x00080000  0x800410000
FIS directory     0xA87E0000  0xA87E0000  0x00000000  0x00000000
RedBoot config    0xA87EF000  0xA87EF000  0x00000000  0x00000000
RedBoot&gt; load -r -b 0x80041000  m http -p 8081 -h 192.168.123.1 /openwrt-ar531x-2.4-vmlinux.lzma
Raw file loaded 0x80041000-0x800c0fff, assumed entry at 0x80041000
RedBoot&gt; cksum
Computing cksum for area 0x80041000-0x800c1000
POSIX cksum = 2858572401 524288 (0xaa665a71 0x00080000)
RedBoot&gt; fis create -b 0x80041000 -f 0xA8730000 -l 0x000B0000 -r 0x80041000 -e 0x80041000 -s 0x00080000 vmlinux.bin.l7
An image named &#039;vmminux.bin.l7&#039; exists - continue (y/n)? y
... Erase from 0xa8730000-0xa87e0000: ...........
... Program from 0x80041000-0x800c1000 at 0xa8730000: ........
... Erase from 0xa87e0000-0xa87f0000: .
... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xA8000000  0xA8000000  0x00030000  0x00000000
rootfs            0xA8030000  0xA8030000  0x00700000  0x00000000
vmlinux.bin.l7    0xA8730000  0x80041000  0x000B0000  0x80041000
FIS directory     0xA87E0000  0xA87E0000  0x0000F000  0x00000000
RedBoot config    0xA87EF000  0xA87EF000  0x00001000  0x00000000
RedBoot&gt; fis list -d
Name              FLASH addr  Mem addr    Datalen     Entry poont
RedBoot           0xA8000000  0xA8000000  0x000285E0  0x00000000
rootfs            0xA8030000  0xA8030000  0x00180000  0x00000000
vmlinux.bin.l7    0xA8730000  0x80041000  0x00080000  0x80041000
FIS directory     0xA87E0000  0xA87E0000  0x00000000  0x00000000
RedBoot config    0xA87EF000  0xA87EF000  0x00000000  0x00000000
RedBoot&gt; load -r -b 0x80040450 -m http -p 8081 -h 192.168.123.1 /openwrt-ar531x-2.4-root.jffs2-64k
Raw file loaded 0x80040450-0x801e044f, assumed entry at 0x80040450
RedBoot&gt;                                                        
RedBoot&gt; cksum
Computing cksum for area 0x80040450-0x801e0450
POSIX cksum = 3506838485 1703936 (0xd1061bd5 0x001a0000)
RedBoot&gt;                                                                          
RedBoot&gt; fis create -b 0x80040450 -f 0xA8030000 -l 0x00700000 -s 0x001a0000 rootfs
An image named &#039;rootfs&#039; exists - continue ((/n)? y
... Erase from 0xa8030000-0xa8730000: ................................................................................................................
... Program from 0x80040450-0x801e0450 at 0xa8030000: ..........................
... Erase from 0xa87e0000-0xa87f0000: .
... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .
RedBoot&gt; reset
... Resetting.+PHY ID is 0022:5521</code></pre></div><p>Have fun!<br />Casper</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39269">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">heini</div>
					<div class="post-datetime">
						20 Dec 2006, 00:15					</div>
				</div>
				<div class="post-content content">
					<p>christmas is today? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>or in a couple of day&#039;s?</p><p>may we get another present?</p>											<p class="post-edited">(Last edited by <strong>heini</strong> on 20 Dec 2006, 00:15)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=7799&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>