<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 52 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=50.html">50</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=51.html">51</a></li><li class="pagination-current"><span>52</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=53.html">53</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=54.html">54</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p274053">
				<div class="post-metadata">
					<div class="post-num">Post #1276</div>
					<div class="post-author">bladeoner</div>
					<div class="post-datetime">
						26 Apr 2015, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman</p><p>I created your build environment as mentioned on the first page, but I wanted to change the .config.init but I&nbsp; can&#039;t find it.<br/>Should it be in the /Openwrt/Trunk folder?</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274095">
				<div class="post-metadata">
					<div class="post-num">Post #1277</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						27 Apr 2015, 08:44					</div>
				</div>
				<div class="post-content content">
					<p>yes. It is located in the same /Openwrt/trunk directory as normal .config</p><p>Ps.<br/>in case you are not very familiar with Unix/Linux: remember to use the &quot;-a&quot; option with ls to see the files starting with &quot;.&quot;<br/>ls -la <br/>ls -ls .c*</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 27 Apr 2015, 09:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274097">
				<div class="post-metadata">
					<div class="post-num">Post #1278</div>
					<div class="post-author">bladeoner</div>
					<div class="post-datetime">
						27 Apr 2015, 09:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>yes. It is located in the same /Openwrt/trunk directory as normal .config</p><p>Ps.<br/>in case you are not very familiar with Unix/Linux: remember to use the &quot;-a&quot; option with ls to see the files starting with &quot;.&quot;<br/>ls -la <br/>ls -ls .c*</p></blockquote></div><p>Thank you for your explanation, yes i&#039;m new to linux.</p><p>I am trying to build the environment to make it for the WNDR4300.</p><p>Should i make the buildroot first completely and then change the (sh) scripts as you mentioned earlier in this post?</p><p>Yesterday i was creating the buildroot changed the scripts to WNDR4300 build the image an ran in a lot of error messages.</p><p>What is unclear is that for the WNDR3700/3800 you get the files from a different location i think then the WNDR4300 because this is a nand flash.<br/>Is this something that i should to change in the scripts?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274098">
				<div class="post-metadata">
					<div class="post-num">Post #1279</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						27 Apr 2015, 09:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bladeoner wrote:</cite><blockquote><p>I am trying to build the environment to make it for the WNDR4300.</p><p>Should i make the buildroot first completely and then change the (sh) scripts as you mentioned earlier in this post?</p><p>Yesterday i was creating the buildroot changed the scripts to WNDR4300 build the image an ran in a lot of error messages.</p><p>What is unclear is that for the WNDR3700/3800 you get the files from a different location i think then the WNDR4300 because this is a nand flash.<br/>Is this something that i should to change in the scripts?</p></blockquote></div><p>Well, like I meantion in <a href="https://forum.openwrt.org/viewtopic.php?pid=251180#p251180">https://forum.openwrt.org/viewtopic.php … 80#p251180</a> , most of the scripts are rather generic.</p><p>you need to edit the device line in .config.init (or with make menuconfig in actual .config, then check the difference)<br/>(probably CONFIG_TARGET_ar71xx_nand_WNDR4300 instead of CONFIG_TARGET_ar71xx_generic_WNDR3700 )</p><p>regarding the main scripts: <br/>* updateNmake.sh is almost device independent. A few rm commands, but those should be neutral<br/>* createbuildinfo.sh is heavily tailored to wndr3700 series, as it contains many grep &amp; mv commands looking for that string. But that script does not affect the build process itself, as this step is done after the build. (you might even disable this step from the updateNmake script)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275378">
				<div class="post-metadata">
					<div class="post-num">Post #1280</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						6 May 2015, 04:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Most likely bug 19439, caused by busybox update at 45272 and most likely fixed by 45321.</p></blockquote></div><p>Lazy question: I&#039;m on 45222 and time to update. So, apart from the usual precautions, I can expect the config files to survive going to 45613?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275396">
				<div class="post-metadata">
					<div class="post-num">Post #1281</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						6 May 2015, 08:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tt wrote:</cite><blockquote><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Most likely bug 19439, caused by busybox update at 45272 and most likely fixed by 45321.</p></blockquote></div><p>Lazy question: I&#039;m on 45222 and time to update. So, apart from the usual precautions, I can expect the config files to survive going to 45613?</p></blockquote></div><p>Yes. 45222 is earlier than the faulty busybox change.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 6 May 2015, 08:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275597">
				<div class="post-metadata">
					<div class="post-num">Post #1282</div>
					<div class="post-author">BlCa</div>
					<div class="post-datetime">
						7 May 2015, 21:06					</div>
				</div>
				<div class="post-content content">
					<p>Using 45590, I&#039;m experiencing a weird issue. <br/>If my PPPoE session ever goes down, I don&#039;t get a public (native) IPv6 after it reconnects. IPv4 comes back fine no matter what. <br/>Once I reboot the router then IPv6 works again till the next disconnection. I have no idea what could be causing this, much less where to look for clues.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275618">
				<div class="post-metadata">
					<div class="post-num">Post #1283</div>
					<div class="post-author">CyrusFF</div>
					<div class="post-datetime">
						7 May 2015, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>please post your /etc/config/network.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275660">
				<div class="post-metadata">
					<div class="post-num">Post #1284</div>
					<div class="post-author">BlCa</div>
					<div class="post-datetime">
						8 May 2015, 11:50					</div>
				</div>
				<div class="post-content content">
					<p>Here is /etc/config/network</p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;

config interface &#039;lan&#039;
        option force_link &#039;1&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;10.0.0.100&#039;
        option netmask &#039;255.255.255.224&#039;
        option broadcast &#039;10.0.0.127&#039;
        option dns &#039;10.0.0.100&#039;
        option _orig_ifname &#039;eth0.1 wlan0 radio1.network1&#039;
        option _orig_bridge &#039;true&#039;
        option ifname &#039;eth0.1&#039;
        option ip6assign &#039;56&#039;

config interface &#039;wan&#039;
        option ifname &#039;eth1&#039;
        option _orig_ifname &#039;eth1&#039;
        option _orig_bridge &#039;false&#039;
        option proto &#039;pppoe&#039;
        option username &#039;********&#039;
        option password &#039;********&#039;
        option ipv6 &#039;1&#039;
        option keepalive &#039;6 5&#039;

config switch
        option name &#039;switch0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;
        option blinkrate &#039;2&#039;
        option max_length &#039;3&#039;
        option enable_vlan4k &#039;1&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 1 2 3 5t&#039;

config switch_port
        option device &#039;switch0&#039;
        option port &#039;1&#039;
        option led &#039;6&#039;

config switch_port
        option device &#039;switch0&#039;
        option port &#039;2&#039;
        option led &#039;9&#039;

config switch_port
        option device &#039;switch0&#039;
        option port &#039;5&#039;
        option led &#039;2&#039;

config interface &#039;modem&#039;
        option proto &#039;static&#039;
        option ifname &#039;eth1&#039;
        option delegate &#039;0&#039;
        option ipaddr &#039;192.168.255.2&#039;
        option netmask &#039;255.255.255.248&#039;

config interface &#039;wlan&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;10.0.10.100&#039;
        option netmask &#039;255.255.255.224&#039;
        option broadcast &#039;10.0.10.127&#039;
        option dns &#039;10.0.0.100&#039;

config interface &#039;wan6&#039;
        option proto &#039;dhcpv6&#039;
        option ifname &#039;pppoe-wan&#039;
        option _orig_ifname &#039;@wan&#039;
        option _orig_bridge &#039;false&#039;
        option reqprefix &#039;auto&#039;
        option peerdns &#039;0&#039;
        option dns &#039;2001:41d0:a:1717::1 2001:1608:10:102::acab 2a02:418:6a04:178                                                  :209:50:232:cafe&#039;
        option reqaddress &#039;try&#039;</code></pre></div><p>I&#039;m sorely lacking when it comes to IPv6 knowledge (currently addressing that but it&#039;ll take a while) and my ISP goes to extra mile to make sure anyone not willing to use their provided locked modem/router won&#039;t get any config info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275661">
				<div class="post-metadata">
					<div class="post-num">Post #1285</div>
					<div class="post-author">CyrusFF</div>
					<div class="post-datetime">
						8 May 2015, 12:08					</div>
				</div>
				<div class="post-content content">
					<p>Please don&#039;t set ifname to pppoe-wan but use @wan for the wan6 interface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275668">
				<div class="post-metadata">
					<div class="post-num">Post #1286</div>
					<div class="post-author">BlCa</div>
					<div class="post-datetime">
						8 May 2015, 13:09					</div>
				</div>
				<div class="post-content content">
					<p>That change fixes the issue.</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275866">
				<div class="post-metadata">
					<div class="post-num">Post #1287</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						10 May 2015, 18:41					</div>
				</div>
				<div class="post-content content">
					<p>There was discussion about recovering a damaged/zeroed art partition in another thread ( <a href="https://forum.openwrt.org/viewtopic.php?id=57261">https://forum.openwrt.org/viewtopic.php?id=57261</a> ), so I made a special version of my firmware that has the mtd write-protection removed from u-boot, u-bootenv and art partitions. That enabled you to edit/overwrite u-boot and art. That is highly dangerous and can permanently brick the router. But it might still be needed at some recovery operation.</p><p>The firmware and some explanations can be found in dropbox from subdirectory art_partition_binary_contents/firmware_with_no_write_protection:<br/><a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/AAAbqMthWkx2y7V5EE_2Ju0oa/art%20partition%20binary%20contents/firmware_with_no_write_protection?dl=0">https://www.dropbox.com/sh/t52c02rm20y8 … ction?dl=0</a></p><div class="codebox"><pre><code>Version: Chaos Calmer trunk r45667 2015-05-10

Behaviour in normal write-protected firmware:
---------------------------------------------
root@OpenWrt2:~# mtd unlock u-boot
Could not open mtd device: u-boot
Could not open mtd device: u-boot
root@OpenWrt2:~# mtd unlock firmware
Unlocking firmware ...
root@OpenWrt2:~# mtd unlock art
Could not open mtd device: art
Could not open mtd device: art


Behaviour in this firmware:
---------------------------
root@OpenWrt2:~# mtd unlock u-boot
Unlocking u-boot ...
root@OpenWrt2:~# mtd unlock firmware
Unlocking firmware ...
root@OpenWrt2:~# mtd unlock art
Unlocking art ...</code></pre></div><p>Patch done:<br/></p><div class="codebox"><pre><code>--- trunk/target/linux/ar71xx/image/Makefile
+++ trunk/target/linux/ar71xx/image/Makefile
@@ -102,7 +102,7 @@
   NETGEAR_KERNEL_MAGIC = 0x33373030
   NETGEAR_BOARD = WNDR3700
   IMAGE_SIZE = 7680k
-  MTDPARTS = spi0.0:320k(u-boot)ro,128k(u-boot-env)ro,7680k(firmware),64k(art)ro
+  MTDPARTS = spi0.0:320k(u-boot),128k(u-boot-env),7680k(firmware),64k(art)
   IMAGES := sysupgrade.bin factory.img factory-NA.img
   KERNEL := kernel-bin | patch-cmdline | lzma -d20 | netgear-uImage lzma
   IMAGE/default = append-kernel $$$$(BLOCKSIZE) | netgear-squashfs | append-rootfs | pad-rootfs
@@ -117,7 +117,7 @@
   NETGEAR_KERNEL_MAGIC = 0x33373031
   NETGEAR_ID = 29763654+16+64
   IMAGE_SIZE = 15872k
-  MTDPARTS = spi0.0:320k(u-boot)ro,128k(u-boot-env)ro,15872k(firmware),64k(art)ro
+  MTDPARTS = spi0.0:320k(u-boot),128k(u-boot-env),15872k(firmware),64k(art)
   IMAGES := sysupgrade.bin factory.img
 endef
 </code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276889">
				<div class="post-metadata">
					<div class="post-num">Post #1288</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 May 2015, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>Chaos Calmer 15.05 rc1 has been released.<br/>Announcement: <a href="https://forum.openwrt.org/viewtopic.php?pid=276884#p276884">https://forum.openwrt.org/viewtopic.php … 84#p276884</a><br/>At least the ar71xx build seems to be based on r45695, the same revision as my own build from 2015-05-17.</p><p>There is no Chaos Calmer branch yet, but probably a branch will be created in the next few weeks. I will stop building BB14.07 soon after that. I will then build the CC15.05 branch and the trunk (renamed to D????? D?????).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276932">
				<div class="post-metadata">
					<div class="post-num">Post #1289</div>
					<div class="post-author">bladeoner</div>
					<div class="post-datetime">
						21 May 2015, 00:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Chaos Calmer 15.05 rc1 has been released.<br/>Announcement: <a href="https://forum.openwrt.org/viewtopic.php?pid=276884#p276884">https://forum.openwrt.org/viewtopic.php … 84#p276884</a><br/>At least the ar71xx build seems to be based on r45695, the same revision as my own build from 2015-05-17.</p><p>There is no Chaos Calmer branch yet, but probably a branch will be created in the next few weeks. I will stop building BB14.07 soon after that. I will then build the CC15.05 branch and the trunk (renamed to D????? D?????).</p></blockquote></div><p>Dancing Dutchman</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277128">
				<div class="post-metadata">
					<div class="post-num">Post #1290</div>
					<div class="post-author">ceri</div>
					<div class="post-datetime">
						22 May 2015, 05:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Chaos Calmer 15.05 rc1 has been released.<br/>Announcement: <a href="https://forum.openwrt.org/viewtopic.php?pid=276884#p276884">https://forum.openwrt.org/viewtopic.php … 84#p276884</a><br/>At least the ar71xx build seems to be based on r45695, the same revision as my own build from 2015-05-17.</p><p>There is no Chaos Calmer branch yet, but probably a branch will be created in the next few weeks. I will stop building BB14.07 soon after that. I will then build the CC15.05 branch and the trunk (renamed to D????? D?????).</p></blockquote></div><p>Do you know whether a config reset is definitely needed when upgrading from BB stable?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277320">
				<div class="post-metadata">
					<div class="post-num">Post #1291</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						23 May 2015, 17:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ceri wrote:</cite><blockquote><p>Do you know whether a config reset is definitely needed when upgrading from BB stable?</p></blockquote></div><p>No. 95% of the settings are identical. I have been switching between BB14.07 head and CC trunk head firmware in the same router without changing config.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277562">
				<div class="post-metadata">
					<div class="post-num">Post #1292</div>
					<div class="post-author">ceri</div>
					<div class="post-datetime">
						26 May 2015, 05:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>ceri wrote:</cite><blockquote><p>Do you know whether a config reset is definitely needed when upgrading from BB stable?</p></blockquote></div><p>No. 95% of the settings are identical. I have been switching between BB14.07 head and CC trunk head firmware in the same router without changing config.</p></blockquote></div><p>Good to know. Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280018">
				<div class="post-metadata">
					<div class="post-num">Post #1293</div>
					<div class="post-author">bladeoner</div>
					<div class="post-datetime">
						14 Jun 2015, 18:56					</div>
				</div>
				<div class="post-content content">
					<p>@ hnyman, is it posible to change the Regulatory Domain to another region in your source?</p><p>The problem that I&#039;m facing is that on the 5 Ghz band I can only use 100 Mbit at this moment because it&#039;s restricted to US Domain Reg. I&#039;ve a 120 Mbit internet connection so I cannot use the last 20 Mbit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280021">
				<div class="post-metadata">
					<div class="post-num">Post #1294</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						14 Jun 2015, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>@bladeoner I have not test it, but this may be of interest:<br/><a href="http://luci.subsignal.org/~jow/reghack/README.txt">http://luci.subsignal.org/~jow/reghack/README.txt</a></p><p>@hnyman, If this works, I wonder if the reghack.mips.elf file and a script to execute it properly should be put into your build.&nbsp; That way if people wanted it and it was legal they could execute the script, perhaps automatically at startup.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280024">
				<div class="post-metadata">
					<div class="post-num">Post #1295</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						14 Jun 2015, 19:14					</div>
				</div>
				<div class="post-content content">
					<p>It should be possible to change regulatory domain. I change it myself in my wifi config to match my country. But I am not including additional stuff, as the official bandwidth is enough for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280116">
				<div class="post-metadata">
					<div class="post-num">Post #1296</div>
					<div class="post-author">bladeoner</div>
					<div class="post-datetime">
						15 Jun 2015, 08:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnthomas00 wrote:</cite><blockquote><p>@bladeoner I have not test it, but this may be of interest:<br/><a href="http://luci.subsignal.org/~jow/reghack/README.txt">http://luci.subsignal.org/~jow/reghack/README.txt</a></p><p>@hnyman, If this works, I wonder if the reghack.mips.elf file and a script to execute it properly should be put into your build.&nbsp; That way if people wanted it and it was legal they could execute the script, perhaps automatically at startup.</p></blockquote></div><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>It should be possible to change regulatory domain. I change it myself in my wifi config to match my country. But I am not including additional stuff, as the official bandwidth is enough for me.</p></blockquote></div><p>@johnthomas00, I already implemented the reg domain hack without it I cannot choose AP channel 12 and 13 when changing the country in the 2,4 Ghz properties.</p><p>@hnyman thanks for your reply. The weird thing is th EEPROM is locked for 0x0 that means US, with changing the country code I see the country code is being used in the Kernel log. But it&#039;s still maximum 100 Mbit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280117">
				<div class="post-metadata">
					<div class="post-num">Post #1297</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Jun 2015, 08:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bladeoner wrote:</cite><blockquote><p>The weird thing is th EEPROM is locked for 0x0 that means US, with changing the country code I see the country code is being used in the Kernel log. But it&#039;s still maximum 100 Mbit.</p></blockquote></div><p>Hmm.. to my knowledge, the practical speed limit for WAN-LAN traffic with WNDR3700/3800 is about 80-90 Mbit/s if you have QoS enabled (either qos or sqm). I am not sure if you would be able to get 120 Mbit even if you got wider wifi spectrum.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280166">
				<div class="post-metadata">
					<div class="post-num">Post #1298</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Jun 2015, 17:24					</div>
				</div>
				<div class="post-content content">
					<p>I built my first build from the chaos_calmer branch, which will be CC15.05 release branch. The build went ok and works otherwise ok, but the build is nor able to download rc2 packages, as the package signing key does not match.<br/>( <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2015-June/033694.html">https://lists.openwrt.org/pipermail/ope … 33694.html</a> ) For that reason I am not yet uploading it.</p><p>Well, I hope that devs will straighten the keys in a few days. If nothing happens, one solution might be to download the rc2 version and copy the public key from that into my private build...&nbsp; The creation of the chaos_calmer branch is probably not quite complete, yet, and this kind of practical debugging is needed ;-)</p><p>Similarly, trunk has not yet been renamed to Dddd-Dddd, but that will probably happen in near future. </p><p>I will probably start creating and publishing CC15.05 builds rather soon. <br/>I will not build new BB14.07 builds, unless some significant bug fix / security fix gets implemented.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280290">
				<div class="post-metadata">
					<div class="post-num">Post #1299</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Jun 2015, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>chaos-r46002-20150616: first build from the Chaos Calmer 15.05 branch</p><p>Developers have included the correct package list signing key in CC15.05, so &quot;opkg update&quot; works and fetches packages from rc2 repo.</p><p>Trunk got updated to use &quot;musl&quot; C library instead of &quot;uClibc&quot;, which has broken several packages. At least etherwake, aiccu and vsftpd in my build got broken. </p><p>I start building stable CC15.05 builds and will try fixing the broken packages in trunk.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Jun 2015, 18:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280369">
				<div class="post-metadata">
					<div class="post-num">Post #1300</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						17 Jun 2015, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>r46010: first build from new Dxxx Dxxx trunk (with musl instead of uclibc).</p><p>Many of the packages in buildbot snapshots are still broken due to musl, but I have fixed all the packages used in my build.</p><p>Hopefully developers reveal the new official name soon. I have changed the name to Dxxx Dxxx as an interim solution.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 52 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=50.html">50</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=51.html">51</a></li><li class="pagination-current"><span>52</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=53.html">53</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=54.html">54</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>