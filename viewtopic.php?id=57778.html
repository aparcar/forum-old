<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compiling aircrack-ng 1.2 RC 2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p278880">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">joker5bb</div>
					<div class="post-datetime">
						4 Jun 2015, 20:25					</div>
				</div>
				<div class="post-content content">
					<p>Compiling aircrack-ng 1.2 RC 2 fails </p><p>i486-openwrt-linux-uclibc-gcc -Os -pipe -march=geode -mmmx -m3dnow -fno-caller-saves -fhonour-copts -Wno-error=unused-but-set-variable&nbsp; -I/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/include -I/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/include -I/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/usr/include -I/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/include&nbsp; -D_FILE_OFFSET_BITS=64 -D_REVISION=0&nbsp; -DCONFIG_LIBNL30 -DCONFIG_LIBNL -I/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/include/libnl3&nbsp; -fstack-protector -Wno-unused-but-set-variable -Wno-array-bounds -D_FILE_OFFSET_BITS=64 -D_REVISION=0&nbsp; -DCONFIG_LIBNL30 -DCONFIG_LIBNL -I/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/include/libnl3&nbsp; -fstack-protector -Wno-unused-but-set-variable -Wno-array-bounds -Iinclude -L/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/lib -L/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/lib -L/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/usr/lib -L/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/lib&nbsp; aircrack-ng.o crypto.o common.o uniqueiv.o aircrack-ptw-lib.o sha1-sse2.S -o aircrack-ng -lpthread -lssl -lcrypto -L/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/lib -L/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/lib -L/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/usr/lib -L/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/lib&nbsp; <br />/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/lib/gcc/i486-openwrt-linux-uclibc/4.8.3/../../../../i486-openwrt-linux-uclibc/bin/ld: cannot find -lssp_nonshared<br />/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/lib/gcc/i486-openwrt-linux-uclibc/4.8.3/../../../../i486-openwrt-linux-uclibc/bin/ld: cannot find -lssp<br />/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/lib/libcrypto.so: warning: gethostbyname is obsolescent, use getnameinfo() instead.<br />collect2: error: ld returned 1 exit status<br />make[5]: *** [aircrack-ng] Error 1<br />make[5]: Leaving directory `/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2/src&#039;<br />make[4]: *** [all] Error 2<br />make[4]: Leaving directory `/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2&#039;<br />make[3]: *** [/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2/.built] Error 2<br />make[3]: Leaving directory `/home/user/openwrt/feeds/packages/net/aircrack-ng&#039;<br />make[2]: *** [package/feeds/packages/aircrack-ng/compile] Error 2<br />make[2]: Leaving directory `/home/user/openwrt&#039;<br />make[1]: *** [/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/user/openwrt&#039;<br />make: *** [world] Error 2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278884">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						4 Jun 2015, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>modify the CFLAGS via<br />- adding/editing stuff in OpenWrt Makefile<br />and/or<br />- write a patch that changes CFLAGS in airvpn build system </p><p>Error is probably<br /></p><div class="codebox"><pre><code> -fstack-protector</code></pre></div><p>is selected somewhere in aircrack-ng Makefilebut your OpenWrt buildroot did not enable that (didnt build libssp) so when doing cross compile it naturally cannot find the needed library</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279171">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">joker5bb</div>
					<div class="post-datetime">
						7 Jun 2015, 05:13					</div>
				</div>
				<div class="post-content content">
					<p>zloop: I have added CFLAGS=&quot;$(TARGET_CFLAGS) -Wall -Iinclude/ $(TARGET_CPPFLAGS) -D_REVISION=0&quot; \ in the make file</p><p>i486-openwrt-linux-uclibc-gcc -Os -pipe -march=geode -mmmx -m3dnow -fno-caller-saves -fhonour-copts -Wno-error=unused-but-set-variable -Wall -Iinclude/ -I/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/usr/include -I/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/include -I/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/usr/include -I/home/user/openwrt/staging_dir/toolchain-i386_geode_gcc-4.8-linaro_uClibc-0.9.33.2/include -D_REVISION=0&nbsp; &nbsp;-c -o file.o file.c<br />file.c: In function &#039;file_read&#039;:<br />file.c:77:7: error: &#039;LINKTYPE_IEEE802_11&#039; undeclared (first use in this function)<br />&nbsp; case LINKTYPE_IEEE802_11:<br />&nbsp; &nbsp; &nbsp; &nbsp;^<br />file.c:77:7: note: each undeclared identifier is reported only once for each function it appears in<br />file.c:81:7: error: &#039;LINKTYPE_RADIOTAP_HDR&#039; undeclared (first use in this function)<br />&nbsp; case LINKTYPE_RADIOTAP_HDR:<br />&nbsp; &nbsp; &nbsp; &nbsp;^<br />file.c:98:7: error: &#039;LINKTYPE_PRISM_HEADER&#039; undeclared (first use in this function)<br />&nbsp; case LINKTYPE_PRISM_HEADER:<br />&nbsp; &nbsp; &nbsp; &nbsp;^<br />file.c:107:7: error: &#039;LINKTYPE_PPI_HDR&#039; undeclared (first use in this function)<br />&nbsp; case LINKTYPE_PPI_HDR:<br />&nbsp; &nbsp; &nbsp; &nbsp;^<br />file.c:116:7: error: &#039;LINKTYPE_ETHERNET&#039; undeclared (first use in this function)<br />&nbsp; case LINKTYPE_ETHERNET:<br />&nbsp; &nbsp; &nbsp; &nbsp;^<br />file.c: In function &#039;file_open&#039;:<br />file.c:249:19: error: &#039;TCPDUMP_MAGIC&#039; undeclared (first use in this function)<br />&nbsp; if (pfh.magic != TCPDUMP_MAGIC)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br />make[7]: *** [file.o] Error 1<br />make[7]: Leaving directory `/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2/src/osdep&#039;<br />make[6]: *** [all] Error 2<br />make[6]: Leaving directory `/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2/src/osdep&#039;<br />make[5]: *** [osdep/libosdep.a] Error 2<br />make[5]: Leaving directory `/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2/src&#039;<br />make[4]: *** [all] Error 2<br />make[4]: Leaving directory `/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2&#039;<br />make[3]: *** [/home/user/openwrt/build_dir/target-i386_geode_uClibc-0.9.33.2/aircrack-ng-1.2-rc2/.built] Error 2<br />make[3]: Leaving directory `/home/user/openwrt/feeds/packages/net/aircrack-ng&#039;<br />make[2]: *** [package/feeds/packages/aircrack-ng/compile] Error 2<br />make[2]: Leaving directory `/home/user/openwrt&#039;<br />make[1]: *** [/home/user/openwrt/staging_dir/target-i386_geode_uClibc-0.9.33.2/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/user/openwrt&#039;<br />make: *** [world] Error 2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286725">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MasterX1987</div>
					<div class="post-datetime">
						8 Aug 2015, 09:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />iam successful compiled aircrack-ng_1.2rc2 with your CFLAG add... :-)<br />I have compare all my changes into a update.patch ...<br />You can download it under: </p><p><a href="http://pastebin.com/WceE7KuW">http://pastebin.com/WceE7KuW</a></p><p>This Patch contains fully update-changes from Offical Package-Feed aircrack-ng_rc1 to rc2 ....<br />You need to patch it simple in your root source folder (e.g. .../path/to/your/source-trunk $ patch -p1 &lt; update-openwrt-feed-aircrack-ng-rc1-to-rc2.patch )</p><p>Mfg Master X :-)</p><br /><p>:::::::: EDIT ::::::::::::<br />I had seen a little mistake in the Deepens for aircrack.... To Run airmon-ng you need the binary lsusb... <br />However... install the usbutils package and now all works fine... <br />And to Make All Correctly ADD usbutils to Deepends :</p><p>( DEPENDS:=+libpcap +libpthread +libopenssl +libnl +wireless-tools +ethtool +libpcre +libsqlite3 +usbutils )</p><p>Sooo and now Happy offline Hacking.... ;-)</p>											<p class="post-edited">(Last edited by <strong>MasterX1987</strong> on 8 Aug 2015, 12:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288480">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">moraneus</div>
					<div class="post-datetime">
						20 Aug 2015, 14:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi MasterX1987,<br />I&#039;m new at Openwrt and linux.</p><p>Can u please explain to me what steps is needed to upgrade my Aircrack-ng 1.2 rc 1 to the newer one.<br />I tried to figure your explain, but it was to difficult to me</p><p>My Openwrt is run on TL-wdr4300</p><p>Tnx,<br />Moraneus</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352188">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">papates</div>
					<div class="post-datetime">
						17 Feb 2017, 14:39					</div>
				</div>
				<div class="post-content content">
					<p>I am a newbie and I am trying to compile aircrack for my TP-LINK archer router. I am getting following errors:</p><p>cihan@cihan-N550JV:~/Downloads/aircrack-ng-1.2-rc4$ make<br />make -C src all<br />make[1]: Entering directory &#039;/home/cihan/Downloads/aircrack-ng-1.2-rc4/src&#039;<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/bin/mips-openwrt-linux-gcc -g -W -Wall -O3&nbsp; -DOLD_SSE_CORE=1 -pthread -D_FILE_OFFSET_BITS=64 -D_REVISION=0&nbsp; -DCONFIG_LIBNL30 -DCONFIG_LIBNL -I/usr/include/libnl3 -fstack-protector-strong -Wno-unused-but-set-variable -Wno-array-bounds -Iinclude -I/home/cihan/openwrt/projects/source/staging_dir/target-mips_24kc_musl-1.1.16/usr/include/ -I/home/cihan/openwrt/projects/source/staging_dir/host/include/ -Isrc/include -L/home/cihan/openwrt/projects/source/staging_dir/host/lib aircrack-ng.o cpuid.o crypto.o common.o&nbsp; uniqueiv.o aircrack-ptw-lib.o liblinecount.a sha1-sse2.S -o aircrack-ng -lpthread -lssl -lcrypto -L/home/cihan/openwrt/projects/source/staging_dir/host/lib&nbsp; -lstdc++<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.4.0/../../../../mips-openwrt-linux-musl/bin/ld: skipping incompatible /home/cihan/openwrt/projects/source/staging_dir/host/lib/libssl.a when searching for -lssl<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.4.0/../../../../mips-openwrt-linux-musl/bin/ld: skipping incompatible /home/cihan/openwrt/projects/source/staging_dir/host/lib/libssl.a when searching for -lssl<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.4.0/../../../../mips-openwrt-linux-musl/bin/ld: cannot find -lssl<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.4.0/../../../../mips-openwrt-linux-musl/bin/ld: skipping incompatible /home/cihan/openwrt/projects/source/staging_dir/host/lib/libcrypto.a when searching for -lcrypto<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.4.0/../../../../mips-openwrt-linux-musl/bin/ld: skipping incompatible /home/cihan/openwrt/projects/source/staging_dir/host/lib/libcrypto.a when searching for -lcrypto<br />/home/cihan/openwrt/projects/source/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.4.0/../../../../mips-openwrt-linux-musl/bin/ld: cannot find -lcrypto<br />collect2: error: ld returned 1 exit status<br />Makefile:173: recipe for target &#039;aircrack-ng&#039; failed<br />make[1]: *** [aircrack-ng] Error 1<br />make[1]: Leaving directory &#039;/home/cihan/Downloads/aircrack-ng-1.2-rc4/src&#039;<br />Makefile:25: recipe for target &#039;all&#039; failed<br />make: *** [all] Error 2</p><br /><br /><br /><p>any ideas?</p>											<p class="post-edited">(Last edited by <strong>papates</strong> on 17 Feb 2017, 15:19)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>