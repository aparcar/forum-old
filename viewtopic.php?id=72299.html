<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Searching for Router with VPN Client &gt;=30MBit download</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p366588">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Portisch</div>
					<div class="post-datetime">
						12 Oct 2017, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I will need a new router supporting OpenWrt and VPN client (OpenVPN).<br />My current (WNDR3700) router can only handle ~8MBit on download.</p><p>I do have a internet connection with 30MBit download and 10MBit upload.</p><p>The router itself need maximum 4 ports 1GBit LAN Ports, WLAN and a USB 2.0 connection.</p><p>I want to use NordVPN or similar VPN provider in future.</p><p>Somebody have any recomendation about a router supporting this speed and OpenWrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366668">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Ryu945</div>
					<div class="post-datetime">
						13 Oct 2017, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think a consumer router can handle that speed running openvpn.&nbsp; You have to either use a commercial router or make a mini computer into a router and connect your wifi router to it.&nbsp; I think I saw a commercial one for $300-$400 once.&nbsp; I used Pfsense to make the VPN Router and OpenWrt for the wifi router.&nbsp; Then tell the wifi router to bridge.&nbsp; Note that I may be wrong and there may be a high end consumer router that can handle it.&nbsp; If you go the route of mini computer as the VPN Router, get a CPU that has AES-ni.&nbsp; If your going to try to use a consumer router, make sure its CPU supports AES-ni.</p>											<p class="post-edited">(Last edited by <strong>Ryu945</strong> on 14 Oct 2017, 00:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366689">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						14 Oct 2017, 01:25					</div>
				</div>
				<div class="post-content content">
					<p>Top end ARMv7 based routers (ipq8065, mvebu) should be significantly faster than single core mips 74Kc, by how much would be another question.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366833">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Ryu945</div>
					<div class="post-datetime">
						16 Oct 2017, 22:44					</div>
				</div>
				<div class="post-content content">
					<p>I should add that if you are using a regular router.&nbsp; Make sure that its CPU supports AES-ni.&nbsp; AES-ni is essential to running VPNs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366838">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">justme123</div>
					<div class="post-datetime">
						16 Oct 2017, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>@Portisch</p><p>You can try a cheap D-Link â€“ DIR860L B1 powered by a dual-core Mediatek MIPS processor<br /><a href="https://wiki.openwrt.org/toh/d-link/dir-860l">https://wiki.openwrt.org/toh/d-link/dir-860l</a></p><p>On OpenWRT I&#039;m getting easily 24-25Mbps in both directions without ppoe and only killing (100% usage) one core. The second core is still available &amp; able to run the rest of the jobs your router needs. You should also note that openvpn is not (yet) multi-core able.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366840">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">golialive</div>
					<div class="post-datetime">
						17 Oct 2017, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>Could you elaborate?</p><p>Are you talking about 25MBit/s &quot;with no encryption at all, just plain routing and maybe NAT&quot;, observing only one of two cores is bussy and claining that the remaining core should be enough to do VPN? I have no clue about VPN performance, but I really doubt that 25MBit/s is the raw network performance of that device. Needs to be in the field of 400MBit or above.</p><p>Or are you talking about 25Mbit/s &quot;with no PPPoE but with OpenVPN&quot;? That I can believe.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366844">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">justme123</div>
					<div class="post-datetime">
						17 Oct 2017, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>@golialive</p><p>I guess I was clear enough, a little short I must admit.<br />The OP asked for a recommendation for a router that can handle 30Mbit/s through OpenVPN and I suggested a cheap router that can easily handle 25Mbit/s. Indeed, it gets this throughput on OpenVPN without the PPPoE overhead and not only with simple NAT but with some complicated firewall (iptables) packet filtering rules.<br />What would be the purpose of a VPN without Encryption?&nbsp; The one I used is the less demanding AES-128-CBC.<br />OpenVPN is not able to use a multi-core architecture, it&#039;s due to its code - not implemented yet, and it will load only one core at its limits at 25Mbit/s. The Mediatek CPU has a sort of&nbsp; Hyper-Threading but that won&#039;t help code (binaries - OpenVPN) that don&#039;t know how to use it.<br />Here you can find more details about the HW and also some throughput tests (including VPN):<br /><a href="https://wiki.openwrt.org/toh/d-link/dir-860l">https://wiki.openwrt.org/toh/d-link/dir-860l</a></p><p>I used a few of these routers for some SOHO implementations, where a Raspberry Pi (2 or 3) VPN Gateway was not really necessary. However, you should note that the OpenVPN shipped with OpenWRT is pretty stripped down (crippled) and I was not able to run some Point-To-Point scenarios I had in mind:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=70755">https://forum.openwrt.org/viewtopic.php?id=70755</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>