<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cert. verification failed, error 19 (self signed certificate chain)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p160485">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alain13</div>
					<div class="post-datetime">
						12 Mar 2012, 02:29					</div>
				</div>
				<div class="post-content content">
					<p>While connected with the wifi, every hour - without fail - I get the above error, during which I get disconnected for about 30 or so seconds, all my connections are lost and then, I promptly get connected again, using the very same credentials, which were not liked in the first place.</p><p>I am using RADIUS (WPA-TTLS/TLS) and I am 100% certain the certificates/keys are fine and it is nothing wrong with them - this is not least because when the same are used merely 30 seconds after they have been &quot;rejected&quot; I get connected again with the same credentials without problem. Apparently, it may be because the &quot;self-signed&quot; certificate is not liked, but then why is it liked the next time the authorisation is tried out?</p><p>Is there a way to either a) correct this and prevent it from happening again once and for all, or b) increase this &quot;automatic&quot; key/certificate renegotiation time with my OpenWRT, which happens every 60 minutes (and I get disconnected every 60 minutes as a result)?</p><p>This is the error I get from RADIUS:<br />Sun Mar 11 22:06:42 2012 : Error: TLS Alert read:fatal:unknown CA<br />Sun Mar 11 22:06:42 2012 : Error:&nbsp; &nbsp; &nbsp;TLS_accept: failed in SSLv3 read client certificate A<br />Sun Mar 11 22:06:42 2012 : Error: rlm_eap: SSL error error:14094418:SSL routines:SSL3_READ_BYTES:tlsv1 alert unknown ca<br />Sun Mar 11 22:06:42 2012 : Error: SSL: SSL_read failed inside of TLS (-1), TLS session fails.</p><br /><p>This is the error I get from openWRT:<br />Mar 11 22:06:44 wrt1 daemon.warn hostapd: wlan0: STA 00:13:5a:e3:b6:d0 IEEE 802.1X: authentication failed - EAP type: 21 (TTLS)</p><p>And this is the error from the android device:<br />W/wpa_supplicant(&nbsp; 582): TLS: Certificate verification failed, error 19 (self signed certificate in certificate chain) depth 1 for &#039;/C=GB/ST=XX/L=XXX/O=XXX/emailAddress=XX/CN=XX&#039;<br />E/wpa_supplicant(&nbsp; 582): Set_key: Wrong Key<br />E/wpa_supplicant(&nbsp; 582): Set_key: Wrong Key<br />E/wpa_supplicant(&nbsp; 582): Set_key: Wrong Key<br />E/wpa_supplicant(&nbsp; 582): Set_key: Wrong Key<br />E/wpa_supplicant(&nbsp; 582): Set_key: Wrong Key<br />W/wpa_supplicant(&nbsp; 582): Failed to initiate AP scan.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>