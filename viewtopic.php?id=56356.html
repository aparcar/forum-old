<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Strongswan 5.2.1 Makefile Configuration for &quot;swanctl&quot; support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p269216">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sivaprasadmsr</div>
					<div class="post-datetime">
						19 Mar 2015, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone,</p><p>I want to use &quot;swanctl&quot; for configuring IKE daemon. When I am using strongswan 5.2.1, and deploying the package , swanctl support is not present. Also there is no configuration file &quot;etc/swanctl&quot;</p><p>Can anyone please help me with the changes need to be made in the strongswan Makefile and also any other places if necessary.</p><p>Thanks in Advance.</p><p>Regards,<br />Siva Prasad.</p><br /><p>Here is the Makefile that I used.</p><br /><p>#<br /># Copyright (C) 2012-2014 OpenWrt.org<br />#<br /># This is free software, licensed under the GNU General Public License v2.<br /># See /LICENSE for more information.<br />#</p><p>include $(TOPDIR)/rules.mk</p><p>PKG_NAME:=strongswan<br />PKG_VERSION:=5.2.1<br />PKG_RELEASE:=2</p><p>PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.bz2<br />PKG_SOURCE_URL:=http://download.strongswan.org/ <a href="http://download2.strongswan.org/">http://download2.strongswan.org/</a><br />PKG_MD5SUM:=dd3717c0aa59ab4591ca1812941ebb82<br />PKG_LICENSE:=GPL-2.0+<br />PKG_MAINTAINER:=Steven Barth &lt;cyrus@openwrt.org&gt;</p><p>PKG_MOD_AVAILABLE:= \<br />&nbsp; &nbsp; addrblock \<br />&nbsp; &nbsp; aes \<br />&nbsp; &nbsp; af-alg \<br />&nbsp; &nbsp; agent \<br />&nbsp; &nbsp; attr \<br />&nbsp; &nbsp; attr-sql \<br />&nbsp; &nbsp; blowfish \<br />&nbsp; &nbsp; ccm \<br />&nbsp; &nbsp; cmac \<br />&nbsp; &nbsp; constraints \<br />&nbsp; &nbsp; coupling \<br />&nbsp; &nbsp; ctr \<br />&nbsp; &nbsp; curl \<br />&nbsp; &nbsp; des \<br />&nbsp; &nbsp; dhcp \<br />&nbsp; &nbsp; dnskey \<br />&nbsp; &nbsp; duplicheck \<br />&nbsp; &nbsp; eap-identity \<br />&nbsp; &nbsp; eap-md5 \<br />&nbsp; &nbsp; eap-mschapv2 \<br />&nbsp; &nbsp; eap-radius \<br />&nbsp; &nbsp; eap-dynamic \<br />&nbsp; &nbsp; eap-aka \<br />&nbsp; &nbsp; eap-peap \<br />&nbsp; &nbsp; eap-sim \<br />&nbsp; &nbsp; eap-sim-file \<br />&nbsp; &nbsp; eap-simaka-sql \<br />&nbsp; &nbsp; eap-tls \<br />&nbsp; &nbsp; eap-gtc \<br />&nbsp; &nbsp; eap-tns \<br />&nbsp; &nbsp; eap-ttls \<br />&nbsp; &nbsp; eap-simaka-pseudonym \<br />&nbsp; &nbsp; error-notify \<br />&nbsp; &nbsp; farp \<br />&nbsp; &nbsp; fips-prf \<br />&nbsp; &nbsp; gcm \<br />&nbsp; &nbsp; gcrypt \<br />&nbsp; &nbsp; gmp \<br />&nbsp; &nbsp; ha \<br />&nbsp; &nbsp; hmac \<br />&nbsp; &nbsp; kernel-libipsec \<br />&nbsp; &nbsp; kernel-netlink \<br />&nbsp; &nbsp; ldap \<br />&nbsp; &nbsp; led \<br />&nbsp; &nbsp; load-tester \<br />&nbsp; &nbsp; nonce \<br />&nbsp; &nbsp; md4 \<br />&nbsp; &nbsp; md5 \<br />&nbsp; &nbsp; mysql \<br />&nbsp; &nbsp; openssl \<br />&nbsp; &nbsp; padlock \<br />&nbsp; &nbsp; pem \<br />&nbsp; &nbsp; pgp \<br />&nbsp; &nbsp; pkcs1 \<br />&nbsp; &nbsp; pkcs8 \<br />&nbsp; &nbsp; pkcs11 \<br />&nbsp; &nbsp; pubkey \<br />&nbsp; &nbsp; random \<br />&nbsp; &nbsp; resolve \<br />&nbsp; &nbsp; revocation \<br />&nbsp; &nbsp; sha1 \<br />&nbsp; &nbsp; sha2 \<br />&nbsp; &nbsp; smp \<br />&nbsp; &nbsp; socket-default \<br />&nbsp; &nbsp; socket-dynamic \<br />&nbsp; &nbsp; sql \<br />&nbsp; &nbsp; sqlite \<br />&nbsp; &nbsp; stroke \<br />&nbsp; &nbsp; test-vectors \<br />&nbsp; &nbsp; unity \<br />&nbsp; &nbsp; uci \<br />&nbsp; &nbsp; updown \<br />&nbsp; &nbsp; whitelist \<br />&nbsp; &nbsp; x509 \<br />&nbsp; &nbsp; xauth-eap \<br />&nbsp; &nbsp; xauth-generic \<br />&nbsp; &nbsp; xauth-noauth \<br />&nbsp; &nbsp; xcbc</p><p>PKG_CONFIG_DEPENDS:= \<br />&nbsp; &nbsp; CONFIG_STRONGSWAN_ROUTING_TABLE \<br />&nbsp; &nbsp; CONFIG_STRONGSWAN_ROUTING_TABLE_PRIO \<br />&nbsp; &nbsp; $(patsubst %,CONFIG_PACKAGE_strongswan-mod-%,$(PKG_MOD_AVAILABLE)) \</p><p>PKG_FIXUP:=autoreconf<br />PKG_INSTALL:=1<br />PKG_BUILD_PARALLEL:=1</p><p>include $(INCLUDE_DIR)/package.mk</p><p>define Package/strongswan/Default<br />&nbsp; SUBMENU:=VPN<br />&nbsp; SECTION:=net<br />&nbsp; CATEGORY:=Network<br />&nbsp; TITLE:=StrongSwan<br />&nbsp; URL:=http://www.strongswan.org/<br />endef</p><p>define Package/strongswan/description/Default<br /> StrongSwan is an OpenSource IPsec implementation for the Linux operating system.<br />endef</p><p>define Package/strongswan<br />$(call Package/strongswan/Default)<br />&nbsp; DEPENDS:= +libpthread +ip <br />endef</p><p># commented from above<br />#&nbsp; &nbsp; +kmod-crypto-authenc \<br />#&nbsp; &nbsp; +kmod-ipsec +kmod-ipsec4 +kmod-ipsec6 \<br />#&nbsp; &nbsp; +kmod-ipt-ipsec +iptables-mod-ipsec</p><p>define Package/strongswan/config<br />&nbsp; source &quot;$(SOURCE)/Config.in&quot;<br />endef</p><p>define Package/strongswan/description<br />$(call Package/strongswan/description/Default)<br /> This package contains shared libraries and scripts.<br />endef</p><p>define Package/strongswan-full<br />$(call Package/strongswan/Default)<br />&nbsp; TITLE+= (full)<br />&nbsp; DEPENDS:= +strongswan \<br />&nbsp; &nbsp; +strongswan-charon \<br />&nbsp; &nbsp; +strongswan-mod-addrblock \<br />&nbsp; &nbsp; +strongswan-mod-aes \<br />&nbsp; &nbsp; +strongswan-mod-af-alg \<br />&nbsp; &nbsp; +strongswan-mod-agent \<br />&nbsp; &nbsp; +strongswan-mod-attr \<br />&nbsp; &nbsp; +strongswan-mod-attr-sql \<br />&nbsp; &nbsp; +strongswan-mod-blowfish \<br />&nbsp; &nbsp; +strongswan-mod-ccm \<br />&nbsp; &nbsp; +strongswan-mod-cmac \<br />&nbsp; &nbsp; +strongswan-mod-constraints \<br />&nbsp; &nbsp; +strongswan-mod-coupling \<br />&nbsp; &nbsp; +strongswan-mod-ctr \<br />&nbsp; &nbsp; +strongswan-mod-curl \<br />&nbsp; &nbsp; +strongswan-mod-des \<br />&nbsp; &nbsp; +strongswan-mod-dhcp \<br />&nbsp; &nbsp; +strongswan-mod-dnskey \<br />&nbsp; &nbsp; +strongswan-mod-duplicheck \<br />&nbsp; &nbsp; +strongswan-mod-eap-identity \<br />&nbsp; &nbsp; +strongswan-mod-eap-md5 \<br />&nbsp; &nbsp; +strongswan-mod-eap-mschapv2 \<br />&nbsp; &nbsp; +strongswan-mod-eap-radius \<br />&nbsp; &nbsp; +strongswan-mod-farp \<br />&nbsp; &nbsp; +strongswan-mod-fips-prf \<br />&nbsp; &nbsp; +strongswan-mod-gcm \<br />&nbsp; &nbsp; +strongswan-mod-gcrypt \<br />&nbsp; &nbsp; +strongswan-mod-gmp \<br />&nbsp; &nbsp; +strongswan-mod-ha \<br />&nbsp; &nbsp; +strongswan-mod-hmac \<br />&nbsp; &nbsp; +strongswan-mod-kernel-netlink \<br />&nbsp; &nbsp; +strongswan-mod-ldap \<br />&nbsp; &nbsp; +strongswan-mod-led \<br />&nbsp; &nbsp; +strongswan-mod-load-tester \<br />&nbsp; &nbsp; +strongswan-mod-nonce \<br />&nbsp; &nbsp; +strongswan-mod-md4 \<br />&nbsp; &nbsp; +strongswan-mod-md5 \<br />&nbsp; &nbsp; +strongswan-mod-mysql \<br />&nbsp; &nbsp; +strongswan-mod-openssl \<br />&nbsp; &nbsp; +TARGET_x86:strongswan-mod-padlock \<br />&nbsp; &nbsp; +strongswan-mod-pem \<br />&nbsp; &nbsp; +strongswan-mod-pgp \<br />&nbsp; &nbsp; +strongswan-mod-pkcs1 \<br />&nbsp; &nbsp; +strongswan-mod-pkcs8 \<br />&nbsp; &nbsp; +strongswan-mod-pkcs11 \<br />&nbsp; &nbsp; +strongswan-mod-pubkey \<br />&nbsp; &nbsp; +strongswan-mod-random \<br />&nbsp; &nbsp; +strongswan-mod-resolve \<br />&nbsp; &nbsp; +strongswan-mod-revocation \<br />&nbsp; &nbsp; +strongswan-mod-sha1 \<br />&nbsp; &nbsp; +strongswan-mod-sha2 \<br />&nbsp; &nbsp; +strongswan-mod-smp \<br />&nbsp; &nbsp; +strongswan-mod-socket-default \<br />&nbsp; &nbsp; +strongswan-mod-sql \<br />&nbsp; &nbsp; +strongswan-mod-sqlite \<br />&nbsp; &nbsp; +strongswan-mod-stroke \<br />&nbsp; &nbsp; +strongswan-mod-test-vectors \<br />&nbsp; &nbsp; +strongswan-mod-uci \<br />&nbsp; &nbsp; +strongswan-mod-unity \<br />&nbsp; &nbsp; +strongswan-mod-updown \<br />&nbsp; &nbsp; +strongswan-mod-whitelist \<br />&nbsp; &nbsp; +strongswan-mod-x509 \<br />&nbsp; &nbsp; +strongswan-mod-xauth-eap \<br />&nbsp; &nbsp; +strongswan-mod-xauth-generic \<br />&nbsp; &nbsp; +strongswan-mod-xcbc \<br />&nbsp; &nbsp; +strongswan-utils \<br />&nbsp; &nbsp; @DEVEL<br />endef</p><p>define Package/strongswan-full/description<br />$(call Package/strongswan/description/Default)<br /> This meta-package contains dependencies for all of the strongswan plugins<br /> except kernel-libipsec,<br /> socket-dynamic and which are ommitted in favor of the kernel-netlink and<br /> socket-default plugins.<br />endef</p><br /><p>define Package/strongswan-default<br />$(call Package/strongswan/Default)<br />&nbsp; TITLE+= (default)<br />&nbsp; DEPENDS:= +strongswan \<br />&nbsp; &nbsp; +strongswan-charon \<br />&nbsp; &nbsp; +strongswan-mod-aes \<br />&nbsp; &nbsp; +strongswan-mod-attr \<br />&nbsp; &nbsp; +strongswan-mod-constraints \<br />&nbsp; &nbsp; +strongswan-mod-des \<br />&nbsp; &nbsp; +strongswan-mod-dnskey \<br />&nbsp; &nbsp; +strongswan-mod-fips-prf \<br />&nbsp; &nbsp; +strongswan-mod-gmp \<br />&nbsp; &nbsp; +strongswan-mod-hmac \<br />&nbsp; &nbsp; +strongswan-mod-kernel-netlink \<br />&nbsp; &nbsp; +strongswan-mod-md5 \<br />&nbsp; &nbsp; +strongswan-mod-nonce \<br />&nbsp; &nbsp; +strongswan-mod-pem \<br />&nbsp; &nbsp; +strongswan-mod-pgp \<br />&nbsp; &nbsp; +strongswan-mod-pkcs1 \<br />&nbsp; &nbsp; +strongswan-mod-pubkey \<br />&nbsp; &nbsp; +strongswan-mod-random \<br />&nbsp; &nbsp; +strongswan-mod-resolve \<br />&nbsp; &nbsp; +strongswan-mod-revocation \<br />&nbsp; &nbsp; +strongswan-mod-sha1 \<br />&nbsp; &nbsp; +strongswan-mod-sha2 \<br />&nbsp; &nbsp; +strongswan-mod-socket-default \<br />&nbsp; &nbsp; +strongswan-mod-stroke \<br />&nbsp; &nbsp; +strongswan-mod-updown \<br />&nbsp; &nbsp; +strongswan-mod-x509 \<br />&nbsp; &nbsp; +strongswan-mod-xauth-generic \<br />&nbsp; &nbsp; +strongswan-mod-xcbc \<br />&nbsp; &nbsp; +strongswan-utils<br />endef</p><p>define Package/strongswan-default/description<br />$(call Package/strongswan/description/Default)<br /> This meta-package contains only dependencies to match upstream defaults.<br />endef</p><p>define Package/strongswan-minimal<br />$(call Package/strongswan/Default)<br />&nbsp; TITLE+= (minimal)<br />&nbsp; DEPENDS:= +strongswan \<br />&nbsp; &nbsp; +strongswan-charon \<br />&nbsp; &nbsp; +strongswan-mod-aes \<br />&nbsp; &nbsp; +strongswan-mod-gmp \<br />&nbsp; &nbsp; +strongswan-mod-hmac \<br />&nbsp; &nbsp; +strongswan-mod-kernel-netlink \<br />&nbsp; &nbsp; +strongswan-mod-nonce \<br />&nbsp; &nbsp; +strongswan-mod-pubkey \<br />&nbsp; &nbsp; +strongswan-mod-random \<br />&nbsp; &nbsp; +strongswan-mod-sha1 \<br />&nbsp; &nbsp; +strongswan-mod-socket-default \<br />&nbsp; &nbsp; +strongswan-mod-stroke \<br />&nbsp; &nbsp; +strongswan-mod-updown \<br />&nbsp; &nbsp; +strongswan-mod-x509 \<br />&nbsp; &nbsp; +strongswan-mod-xcbc<br />endef</p><p>define Package/strongswan-minimal/description<br />$(call Package/strongswan/description/Default)<br /> This meta-package contains only dependencies for a minimal IKEv2 setup.<br />endef</p><p>define Package/strongswan-charon<br />$(call Package/strongswan/Default)<br />&nbsp; TITLE+= IKEv1/IKEv2 keying daemon<br />&nbsp; DEPENDS:= +strongswan<br />endef</p><p>define Package/strongswan-charon/description<br />$(call Package/strongswan/description/Default)<br /> This package contains charon, an IKEv2 keying daemon.<br />endef</p><p>define Package/strongswan-utils<br />$(call Package/strongswan/Default)<br />&nbsp; TITLE+= utilities<br />&nbsp; DEPENDS:= +strongswan<br />endef</p><p>define Package/strongswan-utils/description<br />$(call Package/strongswan/description/Default)<br /> This package contains the pki &amp; scepclient utilities.<br />endef</p><p>#skc<br />define BuildPlugin<br />&nbsp; define Package/strongswan-mod-$(1)<br />&nbsp; &nbsp; $$(call Package/strongswan/Default)<br />&nbsp; &nbsp; TITLE:= StrongSwan $(2) plugin<br />&nbsp; &nbsp; DEPENDS:= +strongswan $(3)<br />&nbsp; endef</p><p>&nbsp; define Package/strongswan-mod-$(1)/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $$(1)/etc/strongswan.d/charon<br />&nbsp; &nbsp; if [ -f $(PKG_INSTALL_DIR)/etc/strongswan.d/charon/$(1).conf ]; then \<br />&nbsp; &nbsp; &nbsp; &nbsp; $(INSTALL_DATA) $(PKG_INSTALL_DIR)/etc/strongswan.d/charon/$(1).conf $$(1)/etc/strongswan.d/charon/; fi<br />&nbsp; &nbsp; $(INSTALL_DIR) $$(1)/usr/lib/ipsec/plugins<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/plugins/libstrongswan-$(1).so \<br />&nbsp; &nbsp; &nbsp; &nbsp; $$(1)/usr/lib/ipsec/plugins/</p><p>&nbsp; &nbsp; $(call Plugin/$(1)/install,$$(1))<br />&nbsp; endef</p><p>&nbsp; $$(eval $$(call BuildPackage,strongswan-mod-$(1)))<br />endef</p><p>#&nbsp; &nbsp; if [ -f $(PKG_INSTALL_DIR)/etc/strongswan.d/*.conf ]; then \<br />#&nbsp; &nbsp; &nbsp; &nbsp; $(INSTALL_DATA) $(PKG_INSTALL_DIR)/etc/strongswan.d/*.conf $$(1)/etc/strongswan.d/;<br />#&nbsp; &nbsp; &nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/etc/strongswan.d/*.conf $$(1)/etc/strongswan.d/; fi<br /># Changes added by SKC</p><p>CONFIGURE_ARGS+= \<br />&nbsp; &nbsp; --disable-scripts \<br />&nbsp; &nbsp; --disable-static \<br />&nbsp; &nbsp; --disable-fast \<br />&nbsp; &nbsp; --with-systemdsystemunitdir=no \<br />&nbsp; &nbsp; &nbsp; &nbsp; --enable-eap-aka --enable-eap-dynamic --enable-eap-identity --enable-eap-mschapv2 --enable-eap-md5 \<br />&nbsp; &nbsp; &nbsp; &nbsp; --enable-eap-peap --enable-eap-sim --enable-eap-sim-file --enable-eap-simaka-sql --enable-eap-tls \<br />&nbsp; &nbsp; &nbsp; &nbsp; --enable-xauth-eap --enable-xauth-noauth --enable-eap-radius --enable-md4 --enable-eap-gtc --enable-eap-tnc \<br />&nbsp; &nbsp; &nbsp; &nbsp; --enable-eap-ttls --enable-xauth-generic --enable-openssl --enable-curl --enable-blowfish --enable-ccm \<br />&nbsp; &nbsp; &nbsp; &nbsp; --enable-ctr --enable-dhcp --enable-eap-simaka-pseudonym --enable-error-notify --enable-farp --enable-gcm --enable-gcrypt --enable-unity \<br />&nbsp; &nbsp; &nbsp; &nbsp; --enable-swanctl \<br />&nbsp; &nbsp; $(if $(CONFIG_PACKAGE_strongswan-utils),--enable-pki --enable-scepclient,--disable-pki --disable-scepclient) \<br />&nbsp; &nbsp; --with-random-device=/dev/random \<br />&nbsp; &nbsp; --with-urandom-device=/dev/urandom \<br />&nbsp; &nbsp; --with-routing-table=&quot;$(call qstrip,$(CONFIG_STRONGSWAN_ROUTING_TABLE))&quot; \<br />&nbsp; &nbsp; --with-routing-table-prio=&quot;$(call qstrip,$(CONFIG_STRONGSWAN_ROUTING_TABLE_PRIO))&quot; \<br />&nbsp; &nbsp; $(foreach m,$(PKG_MOD_AVAILABLE), \<br />&nbsp; &nbsp;&nbsp; &nbsp;$(if $(CONFIG_PACKAGE_strongswan-mod-$(m)),--enable-$(m),--disable-$(m)) \<br />&nbsp; &nbsp; )</p><p>EXTRA_LDFLAGS+= -Wl,-rpath-link,$(STAGING_DIR)/usr/lib</p><p>define Package/strongswan/conffiles<br />/etc/ipsec.conf<br />/etc/ipsec.secrets<br />/etc/ipsec.user<br />/etc/strongswan.conf<br />endef</p><p>define Package/strongswan/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/etc/strongswan.conf $(1)/etc/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/{libstrongswan.so.*,libhydra.so.*} $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(INSTALL_CONF) ./files/ipsec.secrets $(1)/etc/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/init.d<br />&nbsp; &nbsp; $(INSTALL_BIN) ./files/ipsec.init $(1)/etc/init.d/ipsec<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec</p><p>&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/lib*.so* $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/strongswan.d<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/etc/strongswan.d/*.conf $(1)/etc/strongswan.d/<br />endef</p><p>define Package/strongswan-default/install<br />&nbsp; &nbsp; true<br />endef</p><p>define Package/strongswan-full/install<br />&nbsp; &nbsp; true<br />endef</p><p>define Package/strongswan-minimal/install<br />&nbsp; &nbsp; true<br />endef</p><p>define Package/strongswan-charon/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/lib/ipsec/charon $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/libcharon.so.* $(1)/usr/lib/ipsec/<br />endef</p><p>define Package/strongswan-utils/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/sbin<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/sbin/ipsec $(1)/usr/sbin/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/bin<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/pki $(1)/usr/bin/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/lib/ipsec/scepclient $(1)/usr/lib/ipsec/<br />endef</p><p>define Plugin/duplicheck/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec/plugins<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/duplicheck $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/plugins/libstrongswan-duplicheck.so $(1)/usr/lib/ipsec/plugins/<br />endef</p><p>define Plugin/eap-radius/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec/plugins<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/libradius.so.* $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/plugins/libstrongswan-eap-radius.so $(1)/usr/lib/ipsec/plugins/<br />endef</p><p>define Plugin/attr-sql/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/pool $(1)/usr/lib/ipsec/<br />endef</p><p>define Plugin/stroke/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/aacerts<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/acerts<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/cacerts<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/certs<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/crls<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/ocspcerts<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/private<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc/ipsec.d/reqs</p><p>&nbsp; &nbsp; $(INSTALL_CONF) $(PKG_INSTALL_DIR)/etc/ipsec.conf $(1)/etc/</p><p>&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec/plugins<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/lib/ipsec/{starter,stroke} $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/plugins/libstrongswan-stroke.so $(1)/usr/lib/ipsec/plugins/<br />endef</p><p>define Plugin/updown/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec/plugins<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/{_updown,_updown_espmark} $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/plugins/libstrongswan-updown.so $(1)/usr/lib/ipsec/plugins/<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/etc<br />&nbsp; &nbsp; $(INSTALL_CONF) ./files/ipsec.user $(1)/etc/<br />endef</p><p>define Plugin/whitelist/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec/plugins<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/whitelist $(1)/usr/lib/ipsec/<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/plugins/libstrongswan-whitelist.so $(1)/usr/lib/ipsec/plugins/<br />endef</p><p>define Plugin/kernel-libipsec/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/usr/lib/ipsec<br />&nbsp; &nbsp; $(CP) $(PKG_INSTALL_DIR)/usr/lib/ipsec/libipsec.so.* $(1)/usr/lib/ipsec/<br />endef</p><p>$(eval $(call BuildPackage,strongswan))<br />$(eval $(call BuildPackage,strongswan-default))<br />$(eval $(call BuildPackage,strongswan-full))<br />$(eval $(call BuildPackage,strongswan-minimal))<br />$(eval $(call BuildPackage,strongswan-charon))<br />$(eval $(call BuildPackage,strongswan-utils))<br />$(eval $(call BuildPlugin,addrblock,RFC 3779 address block constraint support,))<br />$(eval $(call BuildPlugin,aes,AES crypto,))<br />$(eval $(call BuildPlugin,af-alg,AF_ALG crypto interface to Linux Crypto API,+kmod-crypto-user))<br />$(eval $(call BuildPlugin,agent,SSH agent signing,))<br />$(eval $(call BuildPlugin,attr,file based config,))<br />$(eval $(call BuildPlugin,attr-sql,SQL based config,+strongswan-mod-sql))<br />$(eval $(call BuildPlugin,blowfish,Blowfish crypto,))<br />$(eval $(call BuildPlugin,ccm,CCM AEAD wrapper crypto,))<br />$(eval $(call BuildPlugin,cmac,CMAC crypto,))<br />$(eval $(call BuildPlugin,constraints,advanced X509 constraint checking,))<br />$(eval $(call BuildPlugin,coupling,IKEv2 plugin to couple peer certificates permanently to authentication,))<br />$(eval $(call BuildPlugin,ctr,Counter Mode wrapper crypto,))<br />$(eval $(call BuildPlugin,curl,cURL fetcher plugin,+PACKAGE_strongswan-mod-curl:libcurl))<br />$(eval $(call BuildPlugin,des,DES crypto,))<br />$(eval $(call BuildPlugin,dhcp,DHCP based attribute provider,))<br />$(eval $(call BuildPlugin,dnskey,DNS RR key decoding,))<br />$(eval $(call BuildPlugin,duplicheck,advanced duplicate checking,))<br />$(eval $(call BuildPlugin,eap-identity,EAP identity helper,))<br />$(eval $(call BuildPlugin,eap-md5,EAP MD5 (CHAP) EAP auth,))<br />$(eval $(call BuildPlugin,eap-mschapv2,EAP MS-CHAPv2 EAP auth,+strongswan-mod-md4 +strongswan-mod-des))<br />$(eval $(call BuildPlugin,eap-radius,EAP RADIUS auth,))<br />$(eval $(call BuildPlugin,eap-dynamic,EAP Dynamic,))<br />$(eval $(call BuildPlugin,eap-tls,EAP tls,))<br />$(eval $(call BuildPlugin,eap-peap,EAP PEAP,))<br />$(eval $(call BuildPlugin,eap-sim,EAP sim,))<br />$(eval $(call BuildPlugin,eap-aka,EAP AKA,))<br />$(eval $(call BuildPlugin,eap-sim-file,EAP sim-file,))<br />$(eval $(call BuildPlugin,eap-simaka-sql,EAP simaka-sql,))<br />$(eval $(call BuildPlugin,eap-gtc,EAP gtc,))<br />#$(eval $(call BuildPlugin,eap-tns,EAP tns,))<br />$(eval $(call BuildPlugin,eap-ttls,EAP ttls,))<br />$(eval $(call BuildPlugin,eap-simaka-pseudonym,EAP simaka-pseudonym,))<br />$(eval $(call BuildPlugin,error-notify,Error Notify,))<br />$(eval $(call BuildPlugin,farp,fake arp respsonses,))<br />$(eval $(call BuildPlugin,fips-prf,FIPS PRF crypto,+strongswan-mod-sha1))<br />$(eval $(call BuildPlugin,gcm,GCM AEAD wrapper crypto,))<br />$(eval $(call BuildPlugin,gcrypt,libgcrypt,+PACKAGE_strongswan-mod-gcrypt:libgcrypt))<br />$(eval $(call BuildPlugin,gmp,libgmp,+PACKAGE_strongswan-mod-gmp:libgmp))<br />$(eval $(call BuildPlugin,ha,high availability cluster,))<br />$(eval $(call BuildPlugin,hmac,HMAC crypto,))<br />$(eval $(call BuildPlugin,kernel-libipsec,libipsec kernel interface,))<br />$(eval $(call BuildPlugin,kernel-netlink,netlink kernel interface,))<br />$(eval $(call BuildPlugin,ldap,LDAP,+PACKAGE_strongswan-mod-ldap:libopenldap))<br />$(eval $(call BuildPlugin,led,LED blink on IKE activity,))<br />$(eval $(call BuildPlugin,load-tester,load testing,))<br />$(eval $(call BuildPlugin,nonce,nonce genereation,))<br />$(eval $(call BuildPlugin,md4,MD4 crypto,))<br />$(eval $(call BuildPlugin,md5,MD5 crypto,))<br />$(eval $(call BuildPlugin,mysql,MySQL database interface,+strongswan-mod-sql +PACKAGE_strongswan-mod-mysql:libmysqlclient-r))<br />$(eval $(call BuildPlugin,openssl,OpenSSL crypto,+PACKAGE_strongswan-mod-openssl:libopenssl))<br />$(eval $(call BuildPlugin,padlock,VIA PadLock crypto,@TARGET_x86))<br />$(eval $(call BuildPlugin,pem,PEM decoding,))<br />$(eval $(call BuildPlugin,pgp,PGP key decoding,))<br />$(eval $(call BuildPlugin,pkcs1,PKCS1 key decoding,))<br />$(eval $(call BuildPlugin,pkcs8,PKCS8 key decoding,))<br />$(eval $(call BuildPlugin,pkcs11,PKCS11 key decoding,))<br />$(eval $(call BuildPlugin,pubkey,raw public key,))<br />$(eval $(call BuildPlugin,random,RNG,))<br />$(eval $(call BuildPlugin,resolve,DNS resolver,))<br />$(eval $(call BuildPlugin,revocation,X509 CRL/OCSP revocation,))<br />$(eval $(call BuildPlugin,sha1,SHA1 crypto,))<br />$(eval $(call BuildPlugin,sha2,SHA2 crypto,))<br />$(eval $(call BuildPlugin,smp,SMP configuration and control interface,+PACKAGE_strongswan-mod-smp:libxml2))<br />$(eval $(call BuildPlugin,socket-default,default socket implementation for charon,))<br />$(eval $(call BuildPlugin,socket-dynamic,dynamic socket implementation for charon,))<br />$(eval $(call BuildPlugin,sql,SQL database interface,))<br />$(eval $(call BuildPlugin,sqlite,SQLite database interface,+strongswan-mod-sql +PACKAGE_strongswan-mod-sqlite:libsqlite3))<br />$(eval $(call BuildPlugin,stroke,Stroke,+strongswan-utils))<br />$(eval $(call BuildPlugin,test-vectors,crypto test vectors,))<br />$(eval $(call BuildPlugin,uci,UCI config interface,+PACKAGE_strongswan-mod-uci:libuci))<br />$(eval $(call BuildPlugin,unity,Cisco Unity extension,))<br />$(eval $(call BuildPlugin,updown,updown firewall,))<br />$(eval $(call BuildPlugin,whitelist,peer identity whitelisting,))<br />$(eval $(call BuildPlugin,x509,x509 certificate,))<br />$(eval $(call BuildPlugin,xauth-eap,EAP XAuth backend,))<br />$(eval $(call BuildPlugin,xauth-generic,generic XAuth backend,))<br />$(eval $(call BuildPlugin,xauth-noauth,No Auth for backend,))<br />$(eval $(call BuildPlugin,xcbc,xcbc crypto,))</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>