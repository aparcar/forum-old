<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Intel HDA audio not working.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p344275">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">PrMinisterGR</div>
					<div class="post-datetime">
						21 Nov 2016, 05:58					</div>
				</div>
				<div class="post-content content">
					<p>Hello there! I am using an Intel Atom-based PC by Foxconn as a router with OpenWRT. The performance and hardware detection has been excellent, except the onboard audio.</p><div class="codebox"><pre><code># lspci
00:00.0 Host bridge: Intel Corporation Mobile 945GSE Express Memory Controller Hub (rev 03)
00:02.0 VGA compatible controller: Intel Corporation Mobile 945GSE Express Integrated Graphics Controller (rev 03)
00:02.1 Display controller: Intel Corporation Mobile 945GM/GMS/GME, 943/940GML Express Integrated Graphics Controller (rev 03)
00:1b.0 Audio device: Intel Corporation NM10/ICH7 Family High Definition Audio Controller (rev 02)
00:1c.0 PCI bridge: Intel Corporation NM10/ICH7 Family PCI Express Port 1 (rev 02)
00:1c.1 PCI bridge: Intel Corporation NM10/ICH7 Family PCI Express Port 2 (rev 02)
00:1c.2 PCI bridge: Intel Corporation NM10/ICH7 Family PCI Express Port 3 (rev 02)
00:1d.0 USB controller: Intel Corporation NM10/ICH7 Family USB UHCI Controller #1 (rev 02)
00:1d.1 USB controller: Intel Corporation NM10/ICH7 Family USB UHCI Controller #2 (rev 02)
00:1d.2 USB controller: Intel Corporation NM10/ICH7 Family USB UHCI Controller #3 (rev 02)
00:1d.3 USB controller: Intel Corporation NM10/ICH7 Family USB UHCI Controller #4 (rev 02)
00:1d.7 USB controller: Intel Corporation NM10/ICH7 Family USB2 EHCI Controller (rev 02)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev e2)
00:1f.0 ISA bridge: Intel Corporation 82801GBM (ICH7-M) LPC Interface Bridge (rev 02)
00:1f.2 IDE interface: Intel Corporation 82801GBM/GHM (ICH7-M Family) SATA Controller [IDE mode] (rev 02)
00:1f.3 SMBus: Intel Corporation NM10/ICH7 Family SMBus Controller (rev 02)
02:00.0 Network controller: Qualcomm Atheros AR9285 Wireless Network Adapter (PCI-Express) (rev 01)
03:00.0 Ethernet controller: Qualcomm Atheros AR8131 Gigabit Ethernet (rev c0)</code></pre></div><p>lspci detects the card properly, but I can&#039;t find a way to load snd_hda_intel, and the onboard audio won&#039;t work. I (almost desperately) need to use this device with an audio system, and I don&#039;t even know what to do at this point. Here are the loaded modules:</p><div class="codebox"><pre><code># lsmod
3c59x                  26124  0
8139too                12964  0
8390                    5591  1 ne2k_pci
ac97_bus                 516  1 snd_ac97_codec
act_ipt                 2116  0
act_mirred              1892  2
act_police              2884  0
act_skbedit             1476  0
aes_i586                6794  9
arc4                    1284  4
asix                   16075  0
ath                    16185  4 ath9k
ath9k                  79844  0
ath9k_common           15746  2 ath9k
ath9k_htc              46825  0
ath9k_hw              327224  3 ath9k
atl1                   22764  0
atl1c                  25980  0
atl1e                  21288  0
atl2                   16956  0
ax88179_178a           11972  0
btrfs                 716214  0
cfg80211              201729  5 ath9k
cls_basic               2436  0
cls_flow                4548  0
cls_fw                  2692 14
cls_route               4132  0
cls_tcindex             3876  0
cls_u32                 5156  8
compat                  1228  5 ath9k
crc_ccitt                959  1 ppp_async
crypto_blkcipher        9467  1 arc4
e100                   22124  0
e1000                  83283  0
em_cmp                   740  0
em_meta                 4420  0
em_nbyte                 644  0
em_text                 1156  0
em_u32                   548  0
exportfs                2548  1 nfsd
fat                    40687  2 msdos
grace                    745  1 lockd
hwmon                   1796  1 tg3
i2c_dev                 3336  0
i2c_mux                 1389  0
ifb                     2244  0
ip6_tables              7833  3 ip6table_raw
ip6t_REJECT             1092  2
ip6table_filter          580  1
ip6table_mangle          836  1
ip6table_raw             548  1
ip_set                 18636 16 xt_set
ip_set_bitmap_ip        5732  0
ip_set_bitmap_ipmac     5604  0
ip_set_bitmap_port      4996  0
ip_set_hash_ip         14724  0
ip_set_hash_ipmark     15140  0
ip_set_hash_ipport     15940  0
ip_set_hash_ipportip   16516  0
ip_set_hash_ipportnet   21988  0
ip_set_hash_mac         7364  0
ip_set_hash_net        18660  0
ip_set_hash_netiface   20516  0
ip_set_hash_netnet     20772  0
ip_set_hash_netport    20932  0
ip_set_hash_netportnet   22628  0
ip_set_list_set         6372  0
ip_tables               7873  4 iptable_nat
ipt_ECN                 1284  0
ipt_MASQUERADE           580  1
ipt_REJECT               932  6
iptable_filter           644  1
iptable_mangle           772  1
iptable_nat              740  1
iptable_raw              612  1
ipv6                  230299 36 nf_conntrack_ipv6
krng                     644  0
ledtrig_usbdev          1476  0
libcrc32c                543  0
libphy                 17617  2 asix
lockd                  42247  1 nfsd
lzo_compress            1638  2 regmap_core
lzo_decompress          1643  2 regmap_core
mac80211              354347  2 ath9k
mii                     2892 11 ax88179_178a
msdos                   5060  0
natsemi                17880  0
ne2k_pci                4656  0
nf_conntrack           42642 15 nf_nat_ipv4
nf_conntrack_ftp        4932  1 nf_nat_ftp
nf_conntrack_ipv4       4644 10
nf_conntrack_ipv6       4996  3
nf_conntrack_rtcache    1924  0
nf_defrag_ipv4           746  1 nf_conntrack_ipv4
nf_defrag_ipv6          8271  1 nf_conntrack_ipv6
nf_log_common           2275  2 nf_log_ipv4
nf_log_ipv4             3172  0
nf_log_ipv6             3588  0
nf_nat                  8708  5 nf_nat_ipv4
nf_nat_ftp              1188  0
nf_nat_ipv4             3449  1 iptable_nat
nf_nat_masquerade_ipv4    1252  1 ipt_MASQUERADE
nf_reject_ipv4          1591  1 ipt_REJECT
nf_reject_ipv6          1819  1 ip6t_REJECT
nfnetlink               3467  1 ip_set
nfsd                   62665  0
ntfs                   79483  0
pcnet32                24160  0
ppp_async               5028  0
ppp_generic            17522  3 pppoe
pppoe                   6660  0
pppox                   1086  1 pppoe
pps_core                4685  1 ptp
ptp                     7415  1 tg3
r8169                  51880  0
raid6_pq               87344  1 btrfs
regmap_core            26294  2 regmap_spi
regmap_i2c              1386  0
regmap_spi              1034  0
rng                     1147  1 krng
sch_codel               3876  0
sch_dsmark              3364  0
sch_fq                  5292  0
sch_gred                5892  0
sch_hfsc               13796  0
sch_htb                11240  4
sch_ingress              900  2
sch_pie                 3748  0
sch_prio                2532  0
sch_red                 4164  0
sch_sfq                 7652  0
sch_tbf                 4708  0
sch_teql                3364  0
sis900                 15140  0
slhc                    3951  1 ppp_generic
snd                    36658  9 snd_ac97_codec
snd_ac97_codec         72586  0
snd_compress            5139  0
snd_hwdep               3878  0
snd_mixer_oss          10125  1 snd_pcm_oss
snd_pcm                55906  2 snd_ac97_codec
snd_pcm_oss            28945  0
snd_rawmidi            11955  0
snd_seq_device          3565  1 snd_rawmidi
snd_timer              11750  1 snd_pcm
soundcore               3468  1 snd
sunrpc                122854  2 nfsd
tg3                   123876  0
ums_alauda              7632  0
ums_cypress             2148  0
ums_datafab             4292  0
ums_freecom             1924  0
ums_isd200              5108  0
ums_jumpshot            3300  0
ums_karma               1412  0
ums_sddr09              8304  0
ums_sddr55              5156  0
ums_usbat               7112  0
usbnet                 14322  2 ax88179_178a
uvcvideo               57559  0
v4l2_common             3447  1 videobuf2_core
vfat                    7172  0
via_rhine              14992  0
via_velocity           20776  0
videobuf2_core         27668  1 uvcvideo
videobuf2_memops        1060  1 videobuf2_vmalloc
videobuf2_vmalloc       1541  1 uvcvideo
videodev               82487  3 uvcvideo
x_tables                8669 43 ipt_REJECT
xor                    16739  1 btrfs
xt_CLASSIFY              548  0
xt_CT                   1924  0
xt_DSCP                 1316  6
xt_HL                   1220  0
xt_LOG                   708  0
xt_REDIRECT             1028  0
xt_TCPMSS               2340  2
xt_comment               484104
xt_connbytes            1700  0
xt_connlimit            2756  0
xt_connmark              996  0
xt_conntrack            2212 12
xt_dscp                  932 24
xt_ecn                  1220  0
xt_helper                772  0
xt_hl                    740  0
xt_id                    484  0
xt_length                676  0
xt_limit                 996 20
xt_mac                   580  0
xt_mark                  644 30
xt_multiport            1060  2
xt_nat                  1060  4
xt_recent               5364  0
xt_set                  4836  0
xt_state                 676  0
xt_statistic             676  0
xt_tcpmss                900  0
xt_tcpudp               1540 28
xt_time                 1508  0
zlib_deflate           16968  1 btrfs</code></pre></div><p>Thanks in advance!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>