<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT150N V1.0 help debrick</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p223525">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">deltasigow68</div>
					<div class="post-datetime">
						23 Jan 2014, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Ended up with a bricked (really bricked!) WRT150N. In my attempt to get it back to Linksys firmware, I got the serial console working; from the CFE prompt &quot;nvram erase&quot; and &quot;upgrade code.bin&quot;; tftp&nbsp; WRT150NV11_1.01.9_US_code with tftp -i and with a second attempt with the Linksys Ttftp. Everything looks normal; i.e. number of bytes transferred in console (CFE) and tftp side match, Power LED flashing when Programming ...After waiting it out and hard reset it boots up. it gets to the point: PCI: Fixing up bridge and starts over the boot process. Following is the console log. Any suggestion, greatly appreciated!<br />Start to blink diag led ...</p><br /><p>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)<br />Build Date: Thu Nov 23 15:39:59 CST 2006 (root@localhost.localdomain)<br />Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.</p><p>Initializing Arena<br />Initializing Devices.</p><p>No DPN<br />This is a Parallel Flash<br />Partition information:<br />boot&nbsp; &nbsp; #00&nbsp; &nbsp;00000000 -&gt; 0003FFFF&nbsp; (262144)<br />trx&nbsp; &nbsp; &nbsp;#01&nbsp; &nbsp;00040000 -&gt; 0004001B&nbsp; (28)<br />os&nbsp; &nbsp; &nbsp; #02&nbsp; &nbsp;0004001C -&gt; 003F7FFF&nbsp; (3899364)<br />nvram&nbsp; &nbsp;#03&nbsp; &nbsp;003F8000 -&gt; 003FFFFF&nbsp; (32768)<br />Partition information:<br />boot&nbsp; &nbsp; #00&nbsp; &nbsp;00000000 -&gt; 0003FFFF&nbsp; (262144)<br />trx&nbsp; &nbsp; &nbsp;#01&nbsp; &nbsp;00040000 -&gt; 003F7FFF&nbsp; (3899392)<br />nvram&nbsp; &nbsp;#02&nbsp; &nbsp;003F8000 -&gt; 003FFFFF&nbsp; (32768)<br />et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 4.80.56.0<br />et1: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 4.80.56.0<br />CPU type 0x29006: 264MHz<br />Total memory: 16384 KBytes</p><p>Total memory used by CFE:&nbsp; 0x80600000 - 0x806A5430 (676912)<br />Initialized Data:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8063AA30 - 0x8063D790 (11616)<br />BSS Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8063D790 - 0x8063F430 (7328)<br />Local Heap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8063F430 - 0x806A3430 (409600)<br />Stack Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x806A3430 - 0x806A5430 (8192)<br />Text (code) segment:&nbsp; &nbsp; &nbsp; &nbsp;0x80600000 - 0x8063AA30 (240176)<br />Boot area (physical):&nbsp; &nbsp; &nbsp; 0x006A6000 - 0x006E6000<br />Relocation Factor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I:00000000 - D:00000000</p><p>Boot version: v4.2<br />The boot is CFE<br />mac_init(): Find mac [00:18:f8:d7:be:8f] in location 0<br />Nothing...</p><p>No eou key find<br />CMD: [ifconfig eth0 -addr=192.168.1.1 -mask=255.255.255.0]<br />Device eth0:&nbsp; hwaddr 00-18-F8-D7-BE-8F, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />CMD: [go;]<br />Check CRC of image1<br />&nbsp; Len:&nbsp; &nbsp; &nbsp;0x2AF000&nbsp; &nbsp; &nbsp;(2813952)&nbsp; &nbsp; &nbsp; &nbsp;(0xBC040000)<br />&nbsp; Offset0: 0x1C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(28)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0xBC04001C)<br />&nbsp; Offset1: 0x8A4&nbsp; &nbsp; &nbsp; &nbsp; (2212)&nbsp; (0xBC0408A4)<br />&nbsp; Offset2: 0x82E0C&nbsp; &nbsp; &nbsp; (536076)&nbsp; &nbsp; &nbsp; &nbsp; (0xBC0C2E0C)<br />&nbsp; Header CRC:&nbsp; &nbsp; 0xC990B84F<br />&nbsp; Calculate CRC: 0xC990B84F<br />Image 1 is OK<br />Try to load image 1.<br />CMD: [boot -raw -z -addr=0x80001000 -max=0x770000 flash0.os:]<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: .. 3560 bytes read<br />Entry at 0x80001000<br />Closing network.<br />Starting program at 0x80001000<br />CPU revision is: 00029006<br />Primary instruction cache 16kb, linesize 16 bytes (2 ways)<br />Primary data cache 16kb, linesize 16 bytes (2 ways)<br />Linux version 2.4.20 (root@localhost.localdomain) (gcc version 3.2.3 with Broadcom modifications) #14 Sat Jun 23 20:55:05 CST 2007<br />Setting the PFC to its default value<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 noinitrd console=ttyS0,115200<br />CPU: BCM4704 rev 9 at 264 MHz<br />Calibrating delay loop... 263.78 BogoMIPS<br />Memory: 14328k/16384k available (1452k kernel code, 2056k reserved, 108k data, 72k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount-cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: Initializing host<br />PCI: Enabling CardBus<br />PCI: Fixing up bus 0<br />PCI: Fixing up bridge<br />**************************** REPEATS FROM HERE *************<br />Start to blink diag led ...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>