<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compiling hostapd under 2.6 kernel</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p226751">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">carlos.henriquez</div>
					<div class="post-datetime">
						4 Mar 2014, 00:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi all.<br />I&#039;ve been trying to compile my own hostapd version under 2.6 linux kernel, but problems arises with nl80211 driver. Strangely I managed to compile it correctly under 2.4 kernel, but I was forced to do it under 2.6 because <strong>openflow</strong> works on that.</p><p>I&#039;m building the firmware with:<br />backfire 10.03<br />target system: broadcom bcm947xx/953xx<br />target profile: broadcom BCM43xx wifi (default)<br />with kmod-b43 driver, lnl-tiny.</p><div class="codebox"><pre><code> 
[33m make[1] package/hostapd/compile[m
[33m make[2] -C package/wireless-tools compile[m
make[1]: Circular package/iw/compile &lt;- package/mac80211/compile dependency dropped.
[33m make[2] -C package/libnl-tiny compile[m
[33m make[2] -C package/iw compile[m
make[1]: Circular package/crda/compile &lt;- package/mac80211/compile dependency dropped.
[33m make[2] -C package/crda compile[m
[33m make[2] -C package/mac80211 compile[m
WARNING: skipping kmod-ath5k -- package not selected
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01&#039;
make -C /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/linux-2.6.32.27 M=/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01 modules
make[4]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/linux-2.6.32.27&#039;

  WARNING: Symbol version dump /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/linux-2.6.32.27/Module.symvers
           is missing; modules will have no dependencies and modversions.

  Building modules, stage 2.
  MODPOST 4 modules
make[4]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/linux-2.6.32.27&#039;
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01&#039;
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/package/mac80211&#039;
rm -f /home/carlosh/openwrt2/openwrt/staging_dir/target-mipsel_uClibc-0.9.30.1/stamp/.mac80211_installed
make[3]: [clean-staging] Error 123 (ignored)
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/package/mac80211&#039;
WARNING: skipping kmod-lib80211 -- package not selected
WARNING: skipping kmod-libertas-usb -- package not selected
WARNING: skipping kmod-libertas-sd -- package not selected
rstrip.sh: /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-cfg80211/lib/modules/2.6.32.27/compat.ko:relocatable
rstrip.sh: /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-cfg80211/lib/modules/2.6.32.27/cfg80211.ko:relocatable
Packaged contents of /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-cfg80211 into /home/carlosh/openwrt2/openwrt/bin/brcm47xx/packages/kmod-cfg80211_2.6.32.27+2011-12-01-1_brcm47xx.ipk
rstrip.sh: /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-mac80211/lib/modules/2.6.32.27/mac80211.ko:relocatable
Packaged contents of /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-mac80211 into /home/carlosh/openwrt2/openwrt/bin/brcm47xx/packages/kmod-mac80211_2.6.32.27+2011-12-01-1_brcm47xx.ipk
WARNING: skipping kmod-p54-common -- package not selected
WARNING: skipping kmod-p54-pci -- package not selected
WARNING: skipping kmod-p54-usb -- package not selected
WARNING: skipping kmod-p54-spi -- package not selected
WARNING: skipping kmod-rt2x00-lib -- package not selected
WARNING: skipping kmod-rt2x00-pci -- package not selected
WARNING: skipping kmod-rt2x00-usb -- package not selected
WARNING: skipping kmod-rt2x00-soc -- package not selected
WARNING: skipping kmod-rt2800-lib -- package not selected
WARNING: skipping kmod-rt2400-pci -- package not selected
WARNING: skipping kmod-rt2500-pci -- package not selected
WARNING: skipping kmod-rt2500-usb -- package not selected
WARNING: skipping kmod-rt61-pci -- package not selected
WARNING: skipping kmod-rt73-usb -- package not selected
WARNING: skipping kmod-rt2800-pci -- package not selected
WARNING: skipping kmod-rt2800-usb -- package not selected
WARNING: skipping kmod-rtl8180 -- package not selected
WARNING: skipping kmod-rtl8187 -- package not selected
WARNING: skipping kmod-zd1211rw -- package not selected
WARNING: skipping kmod-mac80211-hwsim -- package not selected
WARNING: skipping kmod-ath9k-common -- package not selected
WARNING: skipping kmod-ath9k -- package not selected
WARNING: skipping kmod-ath9k-htc -- package not selected
WARNING: skipping kmod-ath -- package not selected
WARNING: skipping kmod-carl9170 -- package not selected
patching file fwcutter.c
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
     DEPEND   dep/fwcutter.d
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
:  fwcutter.c
     CC       obj/fwcutter.o
     CC       b43-fwcutter
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
This file is recognised as:
  filename   :  wl_prebuilt.o
  version    :  508.1084
  MD5        :  490d4e149ecc45eb1a91f06aa75be071
Extracting b43/ucode19.fw
Extracting b43/lp0initvals14.fw
Extracting b43/ucode16_lp.fw
Extracting b43/ucode16_sslpn.fw
  ucode revision: 1084
Extracting b43/lp0bsinitvals14.fw
Extracting b43/b0g0initvals9.fw
Extracting b43/sslpn2bsinitvals17.fw
Extracting b43/a0g1bsinitvals9.fw
Extracting b43/b0g0bsinitvals13.fw
Extracting b43/ucode16_sslpn_nobt.fw
Extracting b43/b0g0bsinitvals5.fw
Extracting b43/sslpn2initvals17.fw
Extracting b43/b0g0initvals13.fw
Extracting b43/ucode17.fw
Extracting b43/sslpn1bsinitvals20.fw
Extracting b43/ucode14.fw
Extracting b43/a0g0initvals5.fw
Extracting b43/lp0bsinitvals16.fw
Extracting b43/a0g1bsinitvals5.fw
Extracting b43/n0bsinitvals11.fw
Extracting b43/n0absinitvals11.fw
Extracting b43/a0g1bsinitvals13.fw
Extracting b43/pcm5.fw
Extracting b43/ucode9.fw
Extracting b43/a0g0bsinitvals9.fw
Extracting b43/ucode20.fw
Extracting b43/a0g1initvals5.fw
Extracting b43/n0bsinitvals16.fw
Extracting b43/lp0initvals15.fw
Extracting b43/b0g0initvals5.fw
Extracting b43/sslpn0initvals16.fw
Extracting b43/a0g1initvals13.fw
Extracting b43/sslpn2initvals19.fw
Extracting b43/a0g1initvals9.fw
Extracting b43/ucode5.fw
Extracting b43/lp0bsinitvals13.fw
Extracting b43/n0initvals16.fw
Extracting b43/b0g0bsinitvals9.fw
Extracting b43/ucode11.fw
Extracting b43/lp0initvals16.fw
Extracting b43/ucode16_mimo.fw
Extracting b43/a0g0initvals9.fw
Extracting b43/lp0initvals13.fw
Extracting b43/a0g0bsinitvals5.fw
Extracting b43/ucode13.fw
Extracting b43/sslpn2bsinitvals19.fw
Extracting b43/ucode15.fw
Extracting b43/lp0bsinitvals15.fw
Extracting b43/n0initvals11.fw
Extracting b43/sslpn0bsinitvals16.fw
Extracting b43/sslpn1initvals20.fw
WARNING: Firmware file sslpn2initvals17.fw not found in the mapping lists
WARNING: Firmware file ucode16_sslpn.fw not found in the mapping lists
WARNING: Firmware file ucode9.fw not found in the mapping lists
WARNING: Firmware file lp0bsinitvals16.fw not found in the mapping lists
WARNING: Firmware file ucode16_lp.fw not found in the mapping lists
WARNING: Firmware file sslpn2bsinitvals17.fw not found in the mapping lists
WARNING: Firmware file a0g0initvals9.fw not found in the mapping lists
WARNING: Firmware file sslpn1initvals20.fw not found in the mapping lists
WARNING: Firmware file sslpn0bsinitvals16.fw not found in the mapping lists
WARNING: Firmware file sslpn0initvals16.fw not found in the mapping lists
WARNING: Firmware file ucode19.fw not found in the mapping lists
WARNING: Firmware file a0g1bsinitvals9.fw not found in the mapping lists
WARNING: Firmware file b0g0bsinitvals9.fw not found in the mapping lists
WARNING: Firmware file ucode17.fw not found in the mapping lists
WARNING: Firmware file a0g1initvals9.fw not found in the mapping lists
WARNING: Firmware file a0g0bsinitvals9.fw not found in the mapping lists
WARNING: Firmware file n0absinitvals11.fw not found in the mapping lists
WARNING: Firmware file sslpn1bsinitvals20.fw not found in the mapping lists
WARNING: Firmware file ucode20.fw not found in the mapping lists
WARNING: Firmware file a0g1initvals13.fw not found in the mapping lists
WARNING: Firmware file sslpn2bsinitvals19.fw not found in the mapping lists
WARNING: Firmware file ucode16_sslpn_nobt.fw not found in the mapping lists
WARNING: Firmware file lp0initvals16.fw not found in the mapping lists
WARNING: Firmware file b0g0bsinitvals13.fw not found in the mapping lists
WARNING: Firmware file b0g0initvals9.fw not found in the mapping lists
WARNING: Firmware file a0g1bsinitvals13.fw not found in the mapping lists
WARNING: Firmware file sslpn2initvals19.fw not found in the mapping lists
Deleting sslpn2initvals17.fw
Deleting ucode16_sslpn.fw
Deleting n0bsinitvals16.fw
Deleting ucode9.fw
Deleting lp0bsinitvals16.fw
Deleting ucode16_lp.fw
Deleting sslpn2bsinitvals17.fw
Deleting a0g0initvals9.fw
Deleting a0g1initvals5.fw
Deleting sslpn1initvals20.fw
Deleting sslpn0bsinitvals16.fw
Deleting sslpn0initvals16.fw
Deleting ucode19.fw
Deleting a0g1bsinitvals9.fw
Deleting a0g1bsinitvals5.fw
Deleting b0g0bsinitvals9.fw
Deleting ucode17.fw
Deleting a0g1initvals9.fw
Deleting n0initvals16.fw
Deleting ucode11.fw
Deleting a0g0bsinitvals9.fw
Deleting n0absinitvals11.fw
Deleting sslpn1bsinitvals20.fw
Deleting ucode20.fw
Deleting ucode16_mimo.fw
Deleting n0bsinitvals11.fw
Deleting a0g1initvals13.fw
Deleting sslpn2bsinitvals19.fw
Deleting a0g0bsinitvals5.fw
Deleting n0initvals11.fw
Deleting a0g0initvals5.fw
Deleting ucode16_sslpn_nobt.fw
Deleting lp0initvals16.fw
Deleting b0g0bsinitvals13.fw
Deleting b0g0initvals9.fw
Deleting a0g1bsinitvals13.fw
Deleting sslpn2initvals19.fw
rstrip.sh: /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-b43/lib/modules/2.6.32.27/b43.ko:relocatable
Packaged contents of /home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/ipkg-brcm47xx/kmod-b43 into /home/carlosh/openwrt2/openwrt/bin/brcm47xx/packages/kmod-b43_2.6.32.27+2011-12-01-1_brcm47xx.ipk
patching file fwcutter.c
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
     DEPEND   dep/fwcutter.d
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
:  fwcutter.c
     CC       obj/fwcutter.o
     CC       b43-fwcutter
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/linux-brcm47xx/compat-wireless-2011-12-01/b43-fwcutter-015&#039;
This file is recognised as:
  filename   :  wl_prebuilt.o
  version    :  508.1084
  MD5        :  490d4e149ecc45eb1a91f06aa75be071
Extracting b43/ucode19.fw
Extracting b43/lp0initvals14.fw
Extracting b43/ucode16_lp.fw
Extracting b43/ucode16_sslpn.fw
  ucode revision: 1084
Extracting b43/lp0bsinitvals14.fw
Extracting b43/b0g0initvals9.fw
Extracting b43/sslpn2bsinitvals17.fw
Extracting b43/a0g1bsinitvals9.fw
Extracting b43/b0g0bsinitvals13.fw
Extracting b43/ucode16_sslpn_nobt.fw
Extracting b43/b0g0bsinitvals5.fw
Extracting b43/sslpn2initvals17.fw
Extracting b43/b0g0initvals13.fw
Extracting b43/ucode17.fw
Extracting b43/sslpn1bsinitvals20.fw
Extracting b43/ucode14.fw
Extracting b43/a0g0initvals5.fw
Extracting b43/lp0bsinitvals16.fw
Extracting b43/a0g1bsinitvals5.fw
Extracting b43/n0bsinitvals11.fw
Extracting b43/n0absinitvals11.fw
Extracting b43/a0g1bsinitvals13.fw
Extracting b43/pcm5.fw
Extracting b43/ucode9.fw
Extracting b43/a0g0bsinitvals9.fw
Extracting b43/ucode20.fw
Extracting b43/a0g1initvals5.fw
Extracting b43/n0bsinitvals16.fw
Extracting b43/lp0initvals15.fw
Extracting b43/b0g0initvals5.fw
Extracting b43/sslpn0initvals16.fw
Extracting b43/a0g1initvals13.fw
Extracting b43/sslpn2initvals19.fw
Extracting b43/a0g1initvals9.fw
Extracting b43/ucode5.fw
Extracting b43/lp0bsinitvals13.fw
Extracting b43/n0initvals16.fw
Extracting b43/b0g0bsinitvals9.fw
Extracting b43/ucode11.fw
Extracting b43/lp0initvals16.fw
Extracting b43/ucode16_mimo.fw
Extracting b43/a0g0initvals9.fw
Extracting b43/lp0initvals13.fw
Extracting b43/a0g0bsinitvals5.fw
Extracting b43/ucode13.fw
Extracting b43/sslpn2bsinitvals19.fw
Extracting b43/ucode15.fw
Extracting b43/lp0bsinitvals15.fw
Extracting b43/n0initvals11.fw
Extracting b43/sslpn0bsinitvals16.fw
Extracting b43/sslpn1initvals20.fw
WARNING: Firmware file sslpn2initvals17.fw not found in the mapping lists
WARNING: Firmware file ucode16_sslpn.fw not found in the mapping lists
WARNING: Firmware file ucode9.fw not found in the mapping lists
WARNING: Firmware file lp0bsinitvals16.fw not found in the mapping lists
WARNING: Firmware file ucode16_lp.fw not found in the mapping lists
WARNING: Firmware file sslpn2bsinitvals17.fw not found in the mapping lists
WARNING: Firmware file a0g0initvals9.fw not found in the mapping lists
WARNING: Firmware file sslpn1initvals20.fw not found in the mapping lists
WARNING: Firmware file sslpn0bsinitvals16.fw not found in the mapping lists
WARNING: Firmware file sslpn0initvals16.fw not found in the mapping lists
WARNING: Firmware file ucode19.fw not found in the mapping lists
WARNING: Firmware file a0g1bsinitvals9.fw not found in the mapping lists
WARNING: Firmware file b0g0bsinitvals9.fw not found in the mapping lists
WARNING: Firmware file ucode17.fw not found in the mapping lists
WARNING: Firmware file a0g1initvals9.fw not found in the mapping lists
WARNING: Firmware file a0g0bsinitvals9.fw not found in the mapping lists
WARNING: Firmware file n0absinitvals11.fw not found in the mapping lists
WARNING: Firmware file sslpn1bsinitvals20.fw not found in the mapping lists
WARNING: Firmware file ucode20.fw not found in the mapping lists
WARNING: Firmware file a0g1initvals13.fw not found in the mapping lists
WARNING: Firmware file sslpn2bsinitvals19.fw not found in the mapping lists
WARNING: Firmware file ucode16_sslpn_nobt.fw not found in the mapping lists
WARNING: Firmware file lp0initvals16.fw not found in the mapping lists
WARNING: Firmware file b0g0bsinitvals13.fw not found in the mapping lists
WARNING: Firmware file b0g0initvals9.fw not found in the mapping lists
WARNING: Firmware file a0g1bsinitvals13.fw not found in the mapping lists
WARNING: Firmware file sslpn2initvals19.fw not found in the mapping lists
Deleting sslpn2initvals17.fw
Deleting ucode16_sslpn.fw
Deleting n0bsinitvals16.fw
Deleting ucode9.fw
Deleting lp0bsinitvals16.fw
Deleting ucode16_lp.fw
Deleting sslpn2bsinitvals17.fw
Deleting a0g0initvals9.fw
Deleting a0g1initvals5.fw
Deleting sslpn1initvals20.fw
Deleting sslpn0bsinitvals16.fw
Deleting sslpn0initvals16.fw
Deleting ucode19.fw
Deleting a0g1bsinitvals9.fw
Deleting a0g1bsinitvals5.fw
Deleting b0g0bsinitvals9.fw
Deleting ucode17.fw
Deleting a0g1initvals9.fw
Deleting n0initvals16.fw
Deleting ucode11.fw
Deleting a0g0bsinitvals9.fw
Deleting n0absinitvals11.fw
Deleting sslpn1bsinitvals20.fw
Deleting ucode20.fw
Deleting ucode16_mimo.fw
Deleting n0bsinitvals11.fw
Deleting a0g1initvals13.fw
Deleting sslpn2bsinitvals19.fw
Deleting a0g0bsinitvals5.fw
Deleting n0initvals11.fw
Deleting a0g0initvals5.fw
Deleting ucode16_sslpn_nobt.fw
Deleting lp0initvals16.fw
Deleting b0g0bsinitvals13.fw
Deleting b0g0initvals9.fw
Deleting a0g1bsinitvals13.fw
Deleting sslpn2initvals19.fw
WARNING: skipping kmod-b43legacy -- package not selected
WARNING: skipping kmod-net-libipw -- package not selected
WARNING: skipping kmod-net-ipw2100 -- package not selected
WARNING: skipping kmod-net-ipw2200 -- package not selected
WARNING: skipping kmod-iwlagn -- package not selected
WARNING: skipping kmod-iwl-legacy -- package not selected
WARNING: skipping kmod-iwl4965 -- package not selected
WARNING: skipping kmod-iwl3945 -- package not selected
WARNING: skipping kmod-mwl8k -- package not selected
WARNING: skipping kmod-net-hermes -- package not selected
WARNING: skipping kmod-net-hermes-pci -- package not selected
WARNING: skipping kmod-net-hermes-plx -- package not selected
WARNING: skipping kmod-net-hermes-pcmcia -- package not selected
[33m make[2] -C package/hostapd compile[m
make[3]: Entering directory `/home/carlosh/openwrt2/openwrt/build_dir/target-mipsel_uClibc-0.9.30.1/hostapd-full/hostapd-0.7.3/hostapd&#039;
In file included from ../src/drivers/driver_nl80211.c:32:
../src/drivers/netlink.h:23: warning: &#039;struct ifinfomsg&#039; declared inside parameter list
../src/drivers/netlink.h:23: warning: its scope is only this definition or declaration, which is probably not what you want
../src/drivers/netlink.h:25: warning: &#039;struct ifinfomsg&#039; declared inside parameter list
../src/drivers/driver_nl80211.c: In function &#039;wpa_driver_nl80211_own_ifname&#039;:
../src/drivers/driver_nl80211.c:356: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;struct rtattr&#039; 
../src/drivers/driver_nl80211.c:358: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:358: error: &#039;IFLA_IFNAME&#039; undeclared (first use in this function)
../src/drivers/driver_nl80211.c:358: error: (Each undeclared identifier is reported only once
../src/drivers/driver_nl80211.c:358: error: for each function it appears in.)
../src/drivers/driver_nl80211.c:365: warning: assignment makes pointer from integer without a cast
../src/drivers/driver_nl80211.c: At top level:
../src/drivers/driver_nl80211.c:392: warning: &#039;struct ifinfomsg&#039; declared inside parameter list
../src/drivers/driver_nl80211.c: In function &#039;wpa_driver_nl80211_event_rtm_newlink&#039;:
../src/drivers/driver_nl80211.c:399: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:400: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:402: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:408: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:409: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:410: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:411: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:412: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:420: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:421: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:427: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;struct rtattr&#039; 
../src/drivers/driver_nl80211.c:429: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:429: error: &#039;IFLA_IFNAME&#039; undeclared (first use in this function)
../src/drivers/driver_nl80211.c:433: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:434: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:434: error: &#039;IFLA_MASTER&#039; undeclared (first use in this function)
../src/drivers/driver_nl80211.c:436: warning: assignment makes pointer from integer without a cast
../src/drivers/driver_nl80211.c:440: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c: At top level:
../src/drivers/driver_nl80211.c:454: warning: &#039;struct ifinfomsg&#039; declared inside parameter list
../src/drivers/driver_nl80211.c: In function &#039;wpa_driver_nl80211_event_rtm_dellink&#039;:
../src/drivers/driver_nl80211.c:464: error: invalid application of &#039;sizeof&#039; to incomplete type &#039;struct rtattr&#039; 
../src/drivers/driver_nl80211.c:466: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:466: error: &#039;IFLA_IFNAME&#039; undeclared (first use in this function)
../src/drivers/driver_nl80211.c:470: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:471: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c:471: error: &#039;IFLA_MASTER&#039; undeclared (first use in this function)
../src/drivers/driver_nl80211.c:473: warning: assignment makes pointer from integer without a cast
../src/drivers/driver_nl80211.c:477: error: dereferencing pointer to incomplete type
../src/drivers/driver_nl80211.c: In function &#039;wpa_driver_nl80211_init&#039;:
../src/drivers/driver_nl80211.c:1404: warning: assignment from incompatible pointer type
../src/drivers/driver_nl80211.c:1405: warning: assignment from incompatible pointer type
make[3]: *** [../src/drivers/driver_nl80211.o] Error 1
make[3]: Leaving directory `/home/carlosh/openwrt2/openwrt/build_dir/target-mipsel_uClibc-0.9.30.1/hostapd-full/hostapd-0.7.3/hostapd&#039;
make[2]: *** [/home/carlosh/openwrt2/openwrt/build_dir/target-mipsel_uClibc-0.9.30.1/hostapd-full/hostapd-0.7.3/.built] Error 2
make[1]: *** [package/hostapd/compile] Error 2
make -r package/hostapd/compile: build failed. Please re-run make with V=99 to see what&#039;s going on
make: *** [package/hostapd/compile] Error 1</code></pre></div><p>I&#039;m suspecting on an error with lnl-tiny but I was able to compile it under 2.4 as I said earlier. I really don&#039;t know, maybe I&#039;m missing some libraries.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226925">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">carlos.henriquez</div>
					<div class="post-datetime">
						6 Mar 2014, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>Searching here and there, I found that kernel 2.6 works with b43 opensource driver that is more unstable than broadcom-wl driver, then clearly error arise when I tried to compile hostapd using that driver. So I googled some solutions but I have one in mind, installing all in kernel 2.6 but without including hostapd and then use the guidelines that states: <a href="http://wiki.openwrt.org/toh/linksys/wrt54g">http://wiki.openwrt.org/toh/linksys/wrt54g</a> for installing broadcom-wl driver and then install hostapd using the opkg command. I hope that works because I&#039;m tired trying u.u<br />Feel free to comment if you have other suggestions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226938">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						6 Mar 2014, 22:40					</div>
				</div>
				<div class="post-content content">
					<p>hostapd and&nbsp; nl80211 probably expect to share similar data structures ?</p><p>your error is similar to : <a href="https://dev.openwrt.org/ticket/3501">https://dev.openwrt.org/ticket/3501</a></p><p>So either fix manually, search the commit history of hostapd and mac80211 in OpenWrt and the projects themselves or select a different point of svn to checkout a working hostapd/nl80211 combination and rebase your patches to hostapd on that</p><p>commit history of hostapd package in OpenWrt is available in web too: <a href="https://dev.openwrt.org/log/trunk/package/hostapd?rev=33674">https://dev.openwrt.org/log/trunk/packa … ?rev=33674</a></p><br /><p>I dont know if its viable but the backports project has shiny new drivers backported to 2.6.x kernels<br /><a href="http://marc.info/?l=linux-backports&amp;m=139320277505686&amp;w=2">http://marc.info/?l=linux-backports&amp … 86&amp;w=2</a> shows the different 2.6.x versions</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p227630">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">carlos.henriquez</div>
					<div class="post-datetime">
						15 Mar 2014, 02:49					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve tested your ideas and nothing new happen&nbsp; but I started to think what&#039;s the cause. I need to downgrade hostapd makefile and libnl-tiny because I&#039;m testing something in an old version and maybe there are incompatibilities between libnl-tiny (which appears to be a stripped down version of linbl 2.0, but I wanted libnl 1.0). I&#039;m going to try that.</p>											<p class="post-edited">(Last edited by <strong>carlos.henriquez</strong> on 15 Mar 2014, 03:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p227734">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">carlos.henriquez</div>
					<div class="post-datetime">
						16 Mar 2014, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>Finally I made my firmware which has a size of 3543040 bytes. My question now is if I&#039;ll be able to copy that firmware using the mtd method, because I read somewhere that a firmware size more than 3MB&nbsp; will not be accepted using TFTP. I&#039;m using a linksys wrt54gl which has 4MB Flash storage.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>