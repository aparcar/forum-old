<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Need to reboot my WRT1900ac nightly</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p304931">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						24 Dec 2015, 19:17					</div>
				</div>
				<div class="post-content content">
					<p>If I don&#039;t reboot my WRT1900ac nightly, it will hang after a couple of days and then need a power cycle.&nbsp; When this happens, it often during a fairly low traffic periods – i.e. when my kids are not home / sleeping. Unfortunately, I haven&#039;t found any logs that seem to have errors leading up to the the hang.&nbsp; I seem to have all packages up to date.&nbsp; The only additional things I run are openvpn and ddns - removing those did not help.&nbsp; Any suggestions welcome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304936">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">JohnnySL</div>
					<div class="post-datetime">
						24 Dec 2015, 20:47					</div>
				</div>
				<div class="post-content content">
					<p>Upgrade to the latest nightly build, it fixes a lot of wireless driver issues. One of them is the issue that you now see.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304955">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						25 Dec 2015, 02:58					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m currently Chaos Calmer 15.05.&nbsp; I don&#039;t need any bleeding edge features, just want the most stable release – are the nightly builds stable?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304956">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">anomeome</div>
					<div class="post-datetime">
						25 Dec 2015, 03:16					</div>
				</div>
				<div class="post-content content">
					<p>DD is definitely usable but the nightly mvebu builds have been failing, last was 101215, and you will probably want one post 161215 which is the date of the most recent mwlwifi. Build your own? Alternatively you could try:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=50914">https://forum.openwrt.org/viewtopic.php?id=50914</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304959">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						25 Dec 2015, 04:07					</div>
				</div>
				<div class="post-content content">
					<p>Where is the documentation to tell you which build to use?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304960">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">anomeome</div>
					<div class="post-datetime">
						25 Dec 2015, 04:15					</div>
				</div>
				<div class="post-content content">
					<p>Not sure what you mean?<br /><a href="https://wiki.openwrt.org/toh/linksys/wrt1900ac">https://wiki.openwrt.org/toh/linksys/wrt1900ac</a><br />If you are using a wrt1900acv1 than you want the mamba build.<br />Or are you meaning something else?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304961">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						25 Dec 2015, 04:30					</div>
				</div>
				<div class="post-content content">
					<p>Since you said &quot;any suggestions&quot; -- do you need help with the script to reboot your router once a day/night? Alternatively, you can set up a cron job to run a curl with timeout every now and then and restart the router if it fails to fetch within the time allotted.</p><p>FWIW, I&#039;m on a different router, and CC didn&#039;t have this problem, but latest trunk images certainly do.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304962">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						25 Dec 2015, 05:07					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the info – I&#039;ve seen that page before. this caught my eye: &quot;When updating between OpenWRT builds/releases, it&#039;s always recommended to flash back to stock first, then reflash OpenWRT from stock&quot;.&nbsp; Is the best approach or can I upgrade directly from cc 15.05</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304998">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						25 Dec 2015, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>@stangtri, thanks for the offer, I currently have a cron job that reboots it every day.&nbsp; <br />I&#039;ve seen a few references to this being related to the wifi radio, but I&#039;m also seeing this same issue directly connected via cat5 – can&#039;t ssh or ping.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305014">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">anomeome</div>
					<div class="post-datetime">
						25 Dec 2015, 20:56					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s some safe house keeping if you like. It&#039;s basically a round-robin, so when you flash a new image it goes to the partition that you are not currently running. If something goes wrong you can go back to the last working image. There are a number of ways to get back to the last good image, you will find them documented. Personally, sometimes I flash back to stock, other times I just go to the next openwrt build.</p><p>Going straight from CC you should flash factory, do not keep settings. So you will have to set things up again.</p><p>Edit: Should also mention that with the 4.1/4.4 kernel builds there is a random nand timeout issue. Take a look at the last few pages of the main wrt1900 thread.</p>											<p class="post-edited">(Last edited by <strong>anomeome</strong> on 25 Dec 2015, 21:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305016">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">sonnyyu</div>
					<div class="post-datetime">
						25 Dec 2015, 21:54					</div>
				</div>
				<div class="post-content content">
					<p>watchcat - 1-5 - Allows to configure a periodically reboot, or after loosing internet connectivity. Configured trough UCI /etc/config/system.</p><div class="codebox"><pre><code>opkg update
opkg install watchcat luci-app-watchcat</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306172">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						4 Jan 2016, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>I installed watchcat, but this seemed to make matters worse – so I just removed it hoping to get back to stability with nightly reboots – I was still rebooting at mid-night and the router crashed twice on me in the last couple of days at 8 am with some light usage.&nbsp; I&#039;m loosing connectivity to my hardwired machines also –can&#039;t even ping.&nbsp; I did notice that the light for the 5 Ghz was not lit after the router crashed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306173">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						4 Jan 2016, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, CC final was very unstable for me, and so I ran CC RC3 for a long time. Now I&#039;m running a trunk snapshot from more than a week ago, and couldn&#039;t be happier.&nbsp; Many other people have regarded DD to be far more stable than CC Final, so I certainly recommend you give it a try.</p><p>DESIGNATED DRIVER (Bleeding Edge, r48005)<br />root@OpenWrt:~# uptime<br /> 07:31:22 up 7 days, 22:23,&nbsp; load average: 0.00, 0.01, 0.04</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306178">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						4 Jan 2016, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>what is the most stable DD version?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306183">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						4 Jan 2016, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>Just grab a nightly build as they are all DD with kernel 4.1.13 &gt; V1 &quot;Mamba&quot; only.&nbsp; <a href="https://downloads.openwrt.org/snapshots/trunk/mvebu/generic/openwrt-mvebu-armada-xp-linksys-mamba-squashfs-factory.img">https://downloads.openwrt.org/snapshots … actory.img</a></p><p>Or</p><p>You are also welcome to try this DD snapshot from the 28th of January (r48005). It has the latest Wifi divers and the nand timeout patch.&nbsp; <a href="http://personalpages.tds.net/~davidc502/mvebu/">http://personalpages.tds.net/~davidc502/mvebu/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306184">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						4 Jan 2016, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>Just to make sure I do the right thing with my WRT1900AC (v1). <br />* CC was my first and only flash from the most current link sys version<br />* I&#039;m not the concerned with 5G since 2.4 reaches all areas of the house much better.</p><p>Is this the safest route to a new image:<br />1) do the 3 resets to get back the Linksys factory image<br />&nbsp; &nbsp; &nbsp;* does this get me back to the last linksys version I updated to or to the version it shipped with? <br />2) use openwrt-mvebu-armada-xp-linksys-mamba-squashfs-factory.img<br />&nbsp; &nbsp; * I assume this give me luci <br />&nbsp; &nbsp; * Can I reload my backup or do I need to configure from scratch?<br />&nbsp; &nbsp; * I&#039;m also running OpenVPN and DynamicDNS.&nbsp; Any issues with these?</p><p>I&#039;m leaving town for a few days and want to leave my family with the most stable version.. should I wait to flash from CC till I get back?</p><p>Sorry for all the questions , but this is our primary router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306190">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						4 Jan 2016, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>Wait until you get back <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Who loaded and configured OpenVPN and DynamicDNS? That may be your big bear if you decide to upgrade. I don&#039;t know, but other might know when you upgrade if those configurations will or can be saved or not.</p>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 4 Jan 2016, 17:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306373">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">btrv</div>
					<div class="post-datetime">
						5 Jan 2016, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>my plans changed so I just installed the davidc502 build.&nbsp; Seems like OpenVPN and DynamicDNS are a question mark.&nbsp; Is it safe to install luci_statistics / collectd?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306397">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						6 Jan 2016, 00:38					</div>
				</div>
				<div class="post-content content">
					<p>Yes, it&#039;s safe to install what you need. It&#039;s going to pull sources from Trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333206">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">seanneko</div>
					<div class="post-datetime">
						4 Aug 2016, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>I have the same issue with my WRT1900ACS. I was originally running 15.05.1, and now I have a nightly build as of about a week ago which didn&#039;t fix the problem.</p><p>After about a day or two of uptime, the WAN and wifi become really unstable/slow. Everything is fine again after rebooting.</p><p>Is this meant to be fixed in the nightly builds?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>