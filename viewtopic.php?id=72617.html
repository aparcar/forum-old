<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> which file to take after finished building ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p368621">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">doncorso</div>
					<div class="post-datetime">
						22 Nov 2017, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I need an openwrt-image including the package tinc for my TL-WR841N.<br />because of its small flash-space, I planned building an image without LuCi but with tinc integrated.</p><p>After a few stumbling stones, I finally did it to run make without any errors.<br />Half an hour later, everything finished, I got no errors and found a few files in my directory ./bin/ar71xx/</p><p>I was looking for a file including the words &quot;factory&quot; and &quot;WR841N&quot;, but as you can see here, there is no file looking like this:</p><div class="codebox"><pre><code>-rw-r--r-- 1 sb sb  729 Nov 22 10:38 amd5sums
-rwxr-xr-x 1 sb sb 157K Nov 22 10:32 openwrt-ar71xx-generic-nbg460n_550n_550nh-u-boot.bin
-rw-r--r-- 1 sb sb 2,7M Nov 22 10:38 openwrt-ar71xx-generic-root.squashfs
-rw-r--r-- 1 sb sb 2,6M Nov 22 10:38 openwrt-ar71xx-generic-root.squashfs-64k
-rw-r--r-- 1 sb sb 1,6M Nov 22 10:38 openwrt-ar71xx-generic-uImage-gzip.bin
-rw-r--r-- 1 sb sb 1,2M Nov 22 10:38 openwrt-ar71xx-generic-uImage-lzma.bin
-rwxr-xr-x 1 sb sb 3,4M Nov 22 10:38 openwrt-ar71xx-generic-vmlinux.bin
-rwxr-xr-x 1 sb sb 3,4M Nov 22 10:38 openwrt-ar71xx-generic-vmlinux.elf
-rw-r--r-- 1 sb sb 1,6M Nov 22 10:38 openwrt-ar71xx-generic-vmlinux.gz
-rw-r--r-- 1 sb sb 1,2M Nov 22 10:38 openwrt-ar71xx-generic-vmlinux.lzma
-rwxr-xr-x 1 sb sb 1,2M Nov 22 10:38 openwrt-ar71xx-generic-vmlinux-lzma.elf
drwxr-xr-x 8 sb sb 4,0K Nov 22 10:38 packages
-rw-r--r-- 1 sb sb 1,2K Nov 22 10:38 sha256sums
drwxr-xr-x 2 sb sb 4,0K Nov 22 10:32 uboot-ar71xx-nbg460n_550n_550nh</code></pre></div><br /><p>Can I use one of these files or is there anything I did wrong?</p><p>these are the options I configured:<br /></p><div class="codebox"><pre><code>CONFIG_TARGET_ar71xx=y
CONFIG_TARGET_ar71xx_generic=y
CONFIG_TARGET_ar71xx_generic_TLWR841=y
CONFIG_OPENSSL_WITH_EC=y
CONFIG_PACKAGE_kmod-ledtrig-usbdev=y
CONFIG_PACKAGE_kmod-nls-base=y
CONFIG_PACKAGE_kmod-tun=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_liblzo=y
CONFIG_PACKAGE_libopenssl=y
CONFIG_PACKAGE_tinc=y
CONFIG_PACKAGE_uboot-ar71xx-nbg460n_550n_550nh=y
CONFIG_PACKAGE_zlib=y</code></pre></div><br /><p>thank you</p><p>Don</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368622">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						22 Nov 2017, 12:15					</div>
				</div>
				<div class="post-content content">
					<p>The correct image was probably oversized and got deleted again, run &quot;make -j1 V=s&quot; and check towards the end of the build log for corresponding error messages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368624">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">doncorso</div>
					<div class="post-datetime">
						22 Nov 2017, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>ok, thank you for thr fast help</p><p>I started it. <br />If you are right, and the image was oversized: is there anything I can do, to make it small enough so tinc has enough space to become included ?</p><p>edit: looks like, you are right:<br /></p><div class="codebox"><pre><code>[mktplinkfw] kernel length aligned to 1166336
[mktplinkfw] *** error: images are too big
Makefile:2197: recipe for target &#039;install&#039; failed</code></pre></div><p>what can I do ?</p><br /><p>Thank you and greetings</p><br /><p>Don</p>											<p class="post-edited">(Last edited by <strong>doncorso</strong> on 22 Nov 2017, 12:34)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>