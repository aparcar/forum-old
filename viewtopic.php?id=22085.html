<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> USB mass storage problem on Asus WL-500GP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p95531">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Brimstone</div>
					<div class="post-datetime">
						7 Oct 2009, 20:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m having a bit of a problem with USB mass storage support on my Asus WL500Gp, USB drives are not registered at all when plugged in. No entries are written to the kernel log. </p><p>I&#039;m using a self built trunk version of Kamikaze (r17848) with 2.6 kernel, because the rtorrent package in the Openwrt repository was not working correctly. In a corresponding ticket it was verified that rtorrent compiled with gcc 4.3.3 works fine. So I&#039;ve checked out the toolchain and packages from SVN trunk and built Openwrt myself. I&#039;ve installed the created firmware and the usual packages and everything works fine except USB.&nbsp; Do I have to select a configuration option in menuconfig to enable USB? I&#039;ve used the brcm47xx.config as a base from the 8.09.1 repository and changed only a few things: set gcc 4.3.3 version and enabled user and group handling functions in busybox. </p><p>If nothing helps I&#039;ll try to use the official 8.09.01 firmware image and install only rtorrent from my local packages; but if I have to do that I&#039;ll loose the user management functions and I like those very much.</p><p>I would really appreciate if someone could help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95539">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						7 Oct 2009, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Try to unload ohci-hcd / uhci-hcd (USB 1.1) and only load ehci-hcd (USB 2.0). Also is your USB drive powered by its own psu? Maybe it is underpowered by the port, try a powered USB hub then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95543">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Brimstone</div>
					<div class="post-datetime">
						7 Oct 2009, 22:18					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve already tried with and without uhci and ohci packages (I usually don&#039;t even install them). The USB drive I&#039;m trying to use is powered by the USB port, but it was working fine with the official 8.09.1 firmware; I was able to mount it and share it using samba. Using the image compiled by me the drive&#039;s LED is lit and it is spinned up but switches off after a few second and nothing is written into the kernel log. I&#039;ve kept searching the forum and found a topic about the same problem (Can&#039;t see USB storage devices / <a href="https://forum.openwrt.org/viewtopic.php?id=21545">https://forum.openwrt.org/viewtopic.php?id=21545</a> ). The difference is that I have V1 and bogdanbiv has a V2 of the router. In that topic I&#039;ve read about some config settings that I may have missed while using the menuconfig. I will check the settings and recompile everything if necessary.</p>											<p class="post-edited">(Last edited by <strong>Brimstone</strong> on 7 Oct 2009, 22:19)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>