<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to add new modules</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p23064">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rugolini</div>
					<div class="post-datetime">
						17 Mar 2006, 16:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi....</p><p>Im using OpenWRT to be my only distro in the entire network of the company that i work.</p><p>I have a version for mips and x86 ( im using kamikaze ), the thing is, i want to add modules for kernel in the main configuration and when do &quot;make&quot;, compile it and make the ipk package for it.</p><p>Do you guys have any tips how can i make this ? Im getting lost seen so many Makefiles, hehe</p><p>Regards,</p><p>Rafael Ugolini</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p23074">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						17 Mar 2006, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Short version - For modules included within the kernel source, the kernel&#039;s .config file is set to build them regardless of if the package is selected or not. When the package is selected then it will copy the modules out of the kernel and produce the ipkg files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p31171">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">frak</div>
					<div class="post-datetime">
						27 Jul 2006, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>mbm, could you be a bit more specific on this? I hit the same problem. I need ISDN support, HFC-USB driver and some other kernel modules I&#039;d like to build as .ipkg packages. Where are the makefiles that produce .ipkg files from kernel modules? I&#039;ve looked everywhere for them but cannot find them. I&#039;m using kamikaze.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p31206">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						28 Jul 2006, 14:55					</div>
				</div>
				<div class="post-content content">
					<p>Well, basically, with Kamikaze, module packaging is done in the files:&nbsp; target/linux/generic-2.[46]/modules.mk</p><p>Arguments of the makefile templates are :</p><p>$1 Config.in symbol =&gt; BR2_KMOD_SYMBOL<br />$2 package name (have to match the control file) =&gt; kmod-name<br />$3 Files to package<br />$4 Specify here if the modules relie on kernel configuration symbol<br />$5 not used<br />$6 order for loading from /etc/modules.d file<br />$7 modules to autoload at boot time</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p31352">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">frak</div>
					<div class="post-datetime">
						31 Jul 2006, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, with some trial and error I was able to make things work. But I&#039;ve hit another wall: my wl500gp doesn&#039;t seem to like the hfc_usb-based ISDN adapter. Nothing happens when I plug the thing in and out of USB. However, some other USB devices work, namely a memory stick, a wlan gizmo and an ethernet adapter. Interestigly enough, a mouse, a USB soundcard and an IR gizmo don&#039;t work. I&#039;m using the EHCI driver.</p><p>Or maybe I should post this question in a separate thread?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>