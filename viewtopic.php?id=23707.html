<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with Wi-Fi Configuration</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p103456">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mimo</div>
					<div class="post-datetime">
						22 Feb 2010, 02:21					</div>
				</div>
				<div class="post-content content">
					<p>I was using OpenWrt 0.9 for quite long and decided to upgrade it to latest version of Kamikaze 8.09.&nbsp; </p><p>I set the wired configuration via the web GUI and everything worked as expected.&nbsp; For the Wi-Fi I could not find a good documentation.&nbsp; The best was probably at:</p><p><a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/kamikazeconfiguration">http://wiki.openwrt.org/oldwiki/openwrt … figuration</a></p><p>So I created:</p><p> /etc/config/wireless file:<br />=============================<br />config &#039;wifi-device&#039;&nbsp; &nbsp; &nbsp; &nbsp; &#039;wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;type&#039;&nbsp; &nbsp; &nbsp; &nbsp;&#039;broadcom&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;channel&#039;&nbsp; &nbsp; &#039;5&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;disabled&#039;&nbsp; &nbsp;&#039;0&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039;&nbsp; &nbsp; &nbsp;&#039;wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;network&#039;&nbsp; &nbsp; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;mode&#039;&nbsp; &nbsp; &nbsp; &nbsp;&#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ssid&#039;&nbsp; &nbsp; &nbsp; &nbsp;&#039;OpenWrt&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;hidden&#039;&nbsp; &nbsp; &nbsp;&#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;encryption&#039; &#039;none&#039;<br />==============================</p><p>However after the reboot the SSID was not seen as I expected.</p><p>Any ideas about the problem or proper documentation are welcome.</p><p>The other two files that I think are related are default from the installation:</p><p>/ect/config/network:<br />=============================<br />config &#039;switch&#039; &#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; &#039;vlan0&#039; &#039;1 2 3 4 5*&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; &#039;vlan1&#039; &#039;0 5&#039;</p><p>config &#039;interface&#039; &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039;&nbsp; &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039;&nbsp; &nbsp;&#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039;&nbsp; &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;type&#039;&nbsp; &nbsp; &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039;&nbsp; &#039;eth0.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039;&nbsp; &nbsp;&#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039;&nbsp; &#039;192.168.1.254&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;gateway&#039; &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dns&#039;&nbsp; &nbsp; &nbsp;&#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.192&#039;</p><p>config &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039;&nbsp; &#039;eth0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039;&nbsp; &nbsp;&#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;gateway&#039; &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dns&#039;&nbsp; &nbsp; &nbsp;&#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039;&nbsp; &#039;192.168.1.70&#039;<br />============================</p><p>/etc/config/dhcp:<br />===============================<br />config &#039;dnsmasq&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;domainneeded&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;boguspriv&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;filterwin2k&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;localise_queries&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;local&#039; &#039;/lan/&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;domain&#039; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;expandhosts&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;nonegcache&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;authoritative&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;readethers&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;leasefile&#039; &#039;/tmp/dhcp.leases&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;resolvfile&#039; &#039;/tmp/resolv.conf.auto&#039;</p><p>config &#039;dhcp&#039; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;leasetime&#039; &#039;12h&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ignore&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;start&#039; &#039;192&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;limit&#039; &#039;5&#039;</p><p>config &#039;dhcp&#039; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ignore&#039; &#039;1&#039;<br />====================================</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103458">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Feb 2010, 02:27					</div>
				</div>
				<div class="post-content content">
					<p>Why didn&#039;t you also set the wireless configuration via the web gui? It should have been as simple as checking the &quot;enable&quot; box. What hardware are you running? I assume you are running Kamikaze 8.09.2. Which kernel version 2.4 or 2.6? I run the 2.4 on all my WRT54* and my wireless interface shows up as &quot;wl0&quot;, not &quot;wifi&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103459">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mimo</div>
					<div class="post-datetime">
						22 Feb 2010, 02:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>Why didn&#039;t you also set the wireless configuration via the web gui? It should have been as simple as checking the &quot;enable&quot; box. What hardware are you running? I assume you are running Kamikaze 8.09.2. Which kernel version 2.4 or 2.6? I run the 2.4 on all my WRT54* and my wireless interface shows up as &quot;wl0&quot;, not &quot;wifi&quot;.</p></blockquote></div><p>I am running (uname -r):<br />2.6.31-19-generic-pae</p><p>The hardware:<br />Linksys WRT54G v3</p><p>I am not sure about the exact version of Kamikaze.&nbsp; It was the latest from web download page.&nbsp; The name of the &quot;bin&quot; file that I still keep does not indicate it. I do not know how could I check it with a program from the command prompt too.</p><p>After the installation the &quot;/etc/config/wireless&quot; file was empty. I am not sure if this was because the upgrade was actually reflash after the web upgrade from OpenWRT 0.9 failed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103460">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Feb 2010, 02:57					</div>
				</div>
				<div class="post-content content">
					<p>Do you have a specific need to run the 2.6 kernel? If not I think you&#039;ll find 8.09.2 (latest Kamikaze) with the 2.4 kernel to be rock solid. You should be able to flash this firmware from your Luci web interface:</p><p><a href="http://kamikaze.openwrt.org/8.09.2/brcm-2.4/openwrt-brcm-2.4-squashfs.trx">http://kamikaze.openwrt.org/8.09.2/brcm … uashfs.trx</a></p><p>After flashing log back in and enable the wireless from the GUI and it should just work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103463">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Feb 2010, 03:14					</div>
				</div>
				<div class="post-content content">
					<p>FYI, it&#039;s also in the release notes that WIFI does not work on the broadcom chips with the 2.6 kernel:</p><p><a href="http://kamikaze.openwrt.org/release.txt">http://kamikaze.openwrt.org/release.txt</a><br /></p><div class="quotebox"><blockquote><p>Note: The brcm47xx still won&#039;t work for those of you needing broadcom wifi, stick to brcm-2.4.<br />We will tell you when it does work.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103465">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mimo</div>
					<div class="post-datetime">
						22 Feb 2010, 03:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>Do you have a specific need to run the 2.6 kernel? If not I think you&#039;ll find 8.09.2 (latest Kamikaze) with the 2.4 kernel to be rock solid. You should be able to flash this firmware from your Luci web interface:</p><p><a href="http://kamikaze.openwrt.org/8.09.2/brcm-2.4/openwrt-brcm-2.4-squashfs.trx">http://kamikaze.openwrt.org/8.09.2/brcm … uashfs.trx</a></p><p>After flashing log back in and enable the wireless from the GUI and it should just work.</p></blockquote></div><p>It fails too. Hangs on &quot;the rebooting&quot;. I guess there is no log file.</p><p>Need to reflash with tftp ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103466">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Feb 2010, 03:32					</div>
				</div>
				<div class="post-content content">
					<p>Hmmm, it will take somewhere around 2 minutes after getting the &quot;rebooting&quot; message to set everything up the first time you boot after a new flash. Always give it a few minutes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103467">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mimo</div>
					<div class="post-datetime">
						22 Feb 2010, 03:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>Hmmm, it will take somewhere around 2 minutes after getting the &quot;rebooting&quot; message to set everything up the first time you boot after a new flash. Always give it a few minutes.</p></blockquote></div><p>I know.&nbsp; I waited 4+ min.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103468">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Feb 2010, 03:39					</div>
				</div>
				<div class="post-content content">
					<p>Well make sure you report back after the tftp flash so we know you got it going again. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103474">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mimo</div>
					<div class="post-datetime">
						22 Feb 2010, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>I installed Kamikaze 8.09.1.<br />No problems.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103475">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Feb 2010, 05:21					</div>
				</div>
				<div class="post-content content">
					<p>8.09.2 should be even better.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104082">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">fndxsoftware</div>
					<div class="post-datetime">
						2 Mar 2010, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>using the 8.09.2 build from <br /><a href="http://downloads.openwrt.org/kamikaze/8.09.2/brcm-2.4/openwrt-brcm-2.4-squashfs.trx">http://downloads.openwrt.org/kamikaze/8 … uashfs.trx</a><br />i have same issue no wireless configuration</p><p>hardware is wrt54g plain no version this is the one with the compact pci adapter.</p><p>the setup did not recognize the included radio hardware and it does not show in luci</p><p>i will be flashing to 8.09.1 to see if i can fix the issue apparently not as rock solid as<br />has been believed</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104084">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">fndxsoftware</div>
					<div class="post-datetime">
						2 Mar 2010, 10:31					</div>
				</div>
				<div class="post-content content">
					<p>having same issue with 8.09.1 wifi interface not available from get go of flashing</p><p>and yes iam using the 2.4 build because of the insanity with the broadcom radio support caused by the radio firmware and licensing issues non-free</p>											<p class="post-edited">(Last edited by <strong>fndxsoftware</strong> on 2 Mar 2010, 10:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104099">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						2 Mar 2010, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>Wow, that&#039;s too bad. I am running a WRT54G v2, a v2.2, a GS v3, and a GL v1.1 with no problems and I thought the v3 wireless hardware was the same as the 2.x but I guess it must not be. The wiki just lists it as &quot;Broadcom (integrated)&quot;:</p><p><a href="http://oldwiki.openwrt.org/Hardware(2f)Linksys.html">http://oldwiki.openwrt.org/Hardware(2f)Linksys.html</a></p><p>All I have done to enable wireless after installing is go into the Luci interface, click on Administration, then click on Nework-&gt;WIFI-&gt;WL0 and check the &quot;enable&quot; box and it just works.&nbsp; I do have a WRT54G v1.1 that it doesn&#039;t work on and I have to stick with kamikaze 7.09.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104129">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">dimitris</div>
					<div class="post-datetime">
						3 Mar 2010, 02:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fndxsoftware wrote:</cite><blockquote><p>using the 8.09.2 build from <br /><a href="http://downloads.openwrt.org/kamikaze/8.09.2/brcm-2.4/openwrt-brcm-2.4-squashfs.trx">http://downloads.openwrt.org/kamikaze/8 … uashfs.trx</a><br />i have same issue no wireless configuration</p><p>hardware is wrt54g plain no version this is the one with the compact pci adapter.</p><p>the setup did not recognize the included radio hardware and it does not show in luci</p><p>i will be flashing to 8.09.1 to see if i can fix the issue apparently not as rock solid as<br />has been believed</p></blockquote></div><p>Is there a reason you&#039;re not using the WRT54x specific images, e.g.</p><p><a href="http://downloads.openwrt.org/kamikaze/8.09.2/brcm-2.4/openwrt-wrt54g-squashfs.bin">http://downloads.openwrt.org/kamikaze/8 … uashfs.bin</a></p><p>I just TFTP-installed it on a WRT54GLv1.1 that previously had the 2.6-based brcm47xx image installed and wireless seems fine here.</p><p>Edit: fixed typo, it&#039;s brcm47xx not brcm24xx.</p>											<p class="post-edited">(Last edited by <strong>dimitris</strong> on 3 Mar 2010, 02:13)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>