<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Sysupgrade x86: 10.03.1 (ext2) --&gt; 12.09-rc1 (ext4)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p197358">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pvoigt</div>
					<div class="post-datetime">
						5 Apr 2013, 17:00					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m currently running OpenWrt 10.03.1 (ext2) pre-build image from <a href="http://downloads.openwrt.org/backfire/10.03.1/x86_generic/openwrt-x86-generic-combined-ext2.img.gz">http://downloads.openwrt.org/backfire/1 … xt2.img.gz</a> on an Alix.2d13 board.</p><p>I&#039;m wondering how I could upgrade to 12.09-rc1 (ext4). Generally, I see two options:</p><p>1.) Open my Alix case and re-write the pre-build image from <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/x86/alix2/openwrt-x86-alix2-combined-ext4.img.gz.">http://downloads.openwrt.org/attitude_a … t4.img.gz.</a> to my CF.</p><p>2.) Log into my Alix machine, preferably via ssh, and use:<br />sysupgrade -v -n <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/x86/alix2/openwrt-x86-alix2-combined-ext4.img.gz">http://downloads.openwrt.org/attitude_a … xt4.img.gz</a></p><p>I would like to use option 2.) but I&#039;m not sure, if sysupgrade works reliably because I&#039;ve just read following threads:</p><p>- How to sysupgrade x86 (12.09): <a href="https://forum.openwrt.org/viewtopic.php?id=39730">https://forum.openwrt.org/viewtopic.php?id=39730</a><br />- sysupgrade -n not writing partitions: <a href="https://forum.openwrt.org/viewtopic.php?id=32094">https://forum.openwrt.org/viewtopic.php?id=32094</a></p><p>Can anybody confirm my backfire 10.03.1 sysupgrade works correctly for my purpose?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197477">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						6 Apr 2013, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>I wouldn&#039;t use sysupgrade on x86 in backfire. It wasn&#039;t terribly reliable. It is working well in the latest attitude adjustment builds after several fixes were patched in. Because you&#039;re using an alix I would just pop out the card and write a fresh image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197483">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pvoigt</div>
					<div class="post-datetime">
						6 Apr 2013, 18:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>I wouldn&#039;t use sysupgrade on x86 in backfire. It wasn&#039;t terribly reliable. It is working well in the latest attitude adjustment builds after several fixes were patched in. Because you&#039;re using an alix I would just pop out the card and write a fresh image.</p></blockquote></div><p>Thanks for your confirmation of the unreliable sysupgrade version of backfire. I&#039;ll therfore go with re-flashing my cf after unplugging it.</p><p>Could you give any advice if I should go with<br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/x86/alix2/openwrt-x86-alix2-combined-ext4.img.gz">http://downloads.openwrt.org/attitude_a … xt4.img.gz</a><br />or with<br /><a href="http://downloads.openwrt.org/snapshots/trunk/x86/openwrt-x86-generic-combined-ext4.img.gz">http://downloads.openwrt.org/snapshots/ … xt4.img.gz</a></p><p>Unfortunately, latest pre-build snapshot does no provide an alix2 specific image.</p>											<p class="post-edited">(Last edited by <strong>pvoigt</strong> on 6 Apr 2013, 18:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197570">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						7 Apr 2013, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>i would advice to wait for the final 12.09.<br />if you want to upgrade go with RC1 instead of snapshots because of package support.<br />snapshots packages are overwrite almost daily and you won&#039;t be able to install kernel packages</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197583">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						7 Apr 2013, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>option 3 would be to netboot alix with a pxe image. But you would need a null modem cable for that and tftp server like tftpd32 for windows.&nbsp; Then you can scp a new image to the router and flash it using dd. This is how I always did it because it&#039;s paint in the s to pull a SD card out of the router. But I sold my alix board long time ago and I&#039;m happy now with a normal router that works perfectly with the sysupgrade. </p><p>btw I still have a pxe image for the alix board.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197586">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">pvoigt</div>
					<div class="post-datetime">
						7 Apr 2013, 21:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>maurer wrote:</cite><blockquote><p>i would advice to wait for the final 12.09.<br />if you want to upgrade go with RC1 instead of snapshots because of package support.<br />snapshots packages are overwrite almost daily and you won&#039;t be able to install kernel packages</p></blockquote></div><p>Ah, thank you very much. That&#039;s valuable information for me, because I am new to OpenWrt.</p><p>That&#039;s btw the reason, why I currently prefer pre-built images. I did some testing with building my own images, but it&#039;s to time consuming for me, figuring out all the needed packages, waiting such long time for a build to finish and being faced on each second build with some error messages about moved packages repositories or other errors. So I&#039;ll probably wait for the final version, in particular as backfire is currently working without serious issues with my hardware <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>pvoigt</strong> on 7 Apr 2013, 22:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197588">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">pvoigt</div>
					<div class="post-datetime">
						7 Apr 2013, 22:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>flux wrote:</cite><blockquote><p>option 3 would be to netboot alix with a pxe image. But you would need a null modem cable for that and tftp server like tftpd32 for windows.&nbsp; Then you can scp a new image to the router and flash it using dd. This is how I always did it because it&#039;s paint in the s to pull a SD card out of the router. But I sold my alix board long time ago and I&#039;m happy now with a normal router that works perfectly with the sysupgrade. </p><p>btw I still have a pxe image for the alix board.</p></blockquote></div><p>Sounds interesting - thank you very much for this option 3. Null modem cable and tftp server are available. I like to use tftp for flashing new firmware to my switches. However, I&#039;ve no experience so far with PXE boot and SCP. I&#039;m wondering as I know SCP only as a program shipped with SSH (and in this sense for PuTTY as well). Isn&#039;t it possible to just use the tftp client of the Alix machine after PXE boot? Could you please give me a brief summary on how to PXE boot with your Alix image? I&#039;m interested to learn PXE boot because it reveals an upgrade path independent from a working sysupgrade. You&#039;re absolutely right, when talking about the pain you have, if you&#039;re forced to pull out the CF card for any upgrade. If you fell, this forum isn&#039;t the right place for it, please feel free to send a forum email.</p><p>I&#039;m using OpenWrt for two reasons: 1.) I want to learn about this project after having heard many good things. 2.) I want to supplement my pfSense firewall with an 802.11n access point. pfSense currently only supports 802.11abg. I&#039;ve to smile a bit about your calling Alix a &quot;non-normal router&quot;, because I suppose, your view is slightly OpenWrt dominated. On the other hand, many pfSense users make their first steps with Alix2 hardware. That&#039;s true for me as well and I immediately &quot;fell in love&quot; with this tiny, power saving and flexible board <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. Obviously, my view is influenced by pfSense <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />, which provides a console upgrade for all hardware, not only for &quot;normal&quot; routers <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p>											<p class="post-edited">(Last edited by <strong>pvoigt</strong> on 7 Apr 2013, 23:06)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>