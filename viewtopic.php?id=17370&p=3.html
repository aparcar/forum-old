<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Broadcom BCM63xx codebase with GPL&#039;d Ethernet and USB support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p76004">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						7 Nov 2008, 01:04					</div>
				</div>
				<div class="post-content content">
					<p>as lamaatje sayed:<br />after changed<br /></p><div class="codebox"><pre><code>static int bcm963xx_detect_cfe(struct mtd_info *master)
{
       int idoffset = 0x4e0;
       static char idstring[8] = &quot;CFE1CFE1&quot;;
       char buf[8];
       int ret;
       size_t retlen;

       ret = master-&gt;read(master, idoffset, 8, &amp;retlen, (void *)buf);
       printk(&quot;bcm963xx: Read Signature value of %s\n&quot;, buf);
       return strncmp(idstring,buf,8);
}</code></pre></div><p>it&nbsp; boots</p><p>but as lamaatje also has sayed no lan working</p><p>thanks to all people</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 7 Nov 2008, 01:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76005">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						7 Nov 2008, 01:16					</div>
				</div>
				<div class="post-content content">
					<p>just a trace</p><div class="codebox"><pre><code>CFE version 1.0.37-0.8 for BCM96348 (32bit,SP,BE)
Build Date: Â¤@  2Â¤Ã« 20 18:37:34 CST 2006 (root@localhost.localdomain)
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.

Initializing Arena.
Initializing Devices.
CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz

Total memory used by CFE:  0x80401000 - 0x805246F0 (1193712)
Initialized Data:          0x8041C680 - 0x8041E080 (6656)
BSS Area:                  0x8041E080 - 0x804226F0 (18032)
Local Heap:                0x804226F0 - 0x805226F0 (1048576)
Stack Area:                0x805226F0 - 0x805246F0 (8192)
Text (code) segment:       0x80401000 - 0x8041C67C (112252)
Boot area (physical):      0x00525000 - 0x00565000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                : 192.168.1.19:ffffff00
Host IP address                 : 192.168.1.21
Gateway IP address              :
Run from flash/host (f/h)       : f
Default host run file name      : vmlinux
Default host flash file name    : bcm963xx_fs_kernel
Boot delay (0-9 seconds)        : 2
Board Id Name                   : 96348GW-11
Psi size in KB                  : 24
Number of MAC Addresses (1-32)  : 11
Base MAC Address                : 11:22:33:44:55:66
Ethernet PHY Type               : Internal
Memory size in MB               : 16

*** Press any key to stop auto run (2 seconds) ***
Auto run second count down: 2
web info: Waiting for connection on socket 0.
CFE&gt;  r 192.168.1.21:vmlinux.elf
TFTP Client.
0x80010000/2351238 0x8024e086/140394 Entry at 0x80014450
Closing network.
Starting program at 0x80014450
Linux version 2.6.27.4 (od1sea@1t4k4) (gcc version 4.1.2) #1 Thu Nov 6 23:39:11 CET 2008
Detected Broadcom 0x6348 CPU revision a2
CPU frequency is 256000000 MHz
16MB of RAM installed
board_bcm963xx: CFE version: 1.0.37-0.8
console [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
board_bcm963xx: board name: 96348GW-11
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00001000
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
PID hash table entries: 64 (order: 6, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 13736k/16384k available (1860k kernel code, 2648k reserved, 317k data, 120k init, 0k highmem)
Calibrating delay loop... 255.48 BogoMIPS (lpj=510976)
Mount-cache hash table entries: 512
net_namespace: 592 bytes
NET: Registered protocol family 16
registering PCI controller with io_map_base unset
bus: 00 index 0 io port: [8000000, 800ffff]
bus: 00 index 1 mmio: [30000000, 37ffffff]
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(0.265:1): initialized
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Ã‚Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 26
io scheduler noop registered
io scheduler cfq registered (default)
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
console handover: boot [early0] -&gt; real [ttyS0]
bcm63xx_enet MII bus: probed
bcm963xx: 0x00400000 at 0x1fc00000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx: Read Signature value of CFE1CFE1 X$Ã Â¼$ÃŽ
bcm963xx: CFE bootloader detected
bcm963xx: CFE boot tag found with version 6 and board type 96348GW.
bcm963xx: Partition 0 is CFE offset 0 and length 10000
bcm963xx: Partition 1 is kernel offset 10100 and length baff4
bcm963xx: Partition 2 is rootfs offset d0000 and length 320000
bcm963xx: Partition 3 is nvram offset 3f0000 and length 10000
Creating 4 MTD partitions on &quot;bcm963xx&quot;:
0x00000000-0x00010000 : &quot;CFE&quot;
0x00010100-0x000cb0f4 : &quot;kernel&quot;
mtd: partition &quot;kernel&quot; doesn&#039;t start on an erase block boundary -- force read-only
0x000d0000-0x003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
split_squashfs: no squashfs found in &quot;bcm963xx&quot;
0x003f0000-0x00400000 : &quot;nvram&quot;
TCP bic registered
NET: Registered protocol family 17
VFS: Mounted root (jffs2 filesystem) readonly.
Freeing unused kernel memory: 120k freed
Please be patient, while OpenWrt loads ...
Algorithmics/MIPS FPU Emulator v1.5
- preinit -
Press CTRL-C for failsafe
- init -

Please press Enter to activate this console. br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.
device eth0 entered promiscuous mode
device eth0 left promiscuous mode
device eth0 entered promiscuous mode
device eth0 left promiscuous mode
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
ip_tables: (C) 2000-2006 Netfilter Core Team
Driver &#039;sd&#039; needs updating - please use bus_type methods
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Plase use
nf_conntrack.acct=1 kernel paramater, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
wlan: trunk
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 2008-10-02 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, RF2425, REGOPS_FUNC, DFS, XR)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: trunk
usbcore: registered new interface driver usblp
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.



BusyBox v1.11.2 (2008-11-06 00:24:13 CET) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13129) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76037">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						7 Nov 2008, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>@ t3l3m4k0 congratulations, note that buf is still not terminated, you might consider dropping the kprint.</p><p>Any ideas how to analyse the networking problems?&nbsp; I expect it to be in the initialisation since mounting an NFS rootfs is possible.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76050">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">spirit</div>
					<div class="post-datetime">
						7 Nov 2008, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>You may want to try this ...<br /></p><div class="codebox"><pre><code>static int bcm963xx_detect_cfe(struct mtd_info *master)
{
       int idoffset = 0x4e0;
       static char idstring[8] = &quot;CFE1CFE1&quot;;
       char buf[9];
       int ret;
       size_t retlen;

       ret = master-&gt;read(master, idoffset, 8, &amp;retlen, (void *)buf);
       buf[retlen] = 0;
       printk(&quot;bcm963xx: Read Signature value of %s\n&quot;, buf);
       return strncmp(idstring,buf,8);
}</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76132">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						9 Nov 2008, 18:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>hi to all,</p><p>I did to compile openwrt for a bcm6348gw board&nbsp; (Comtrend536) with cfe bootloader.<br />Compilation was rigth but result was for bcm96348.bin and bcm96345.bin.</p><p>I tried to send firmware to router, via:<br />1.- web page from comtrend firmware<br />2.- web page from cfe<br />3.- via tftp server from cfe</p><p>results, as spected, was file not valid, i think, because firmware header was for other model than bcm6348gw.</p><p>Is there a way from make menu_config, config, .... etc where i can set target to bcm6348gw?<br />In config&nbsp; menus,&nbsp; only i have found bcm963xx generic board setting.</p><p>regards.</p><p>excuse my poor english.</p></blockquote></div><p>I know what the cause is. The image build process is:<br />create compressed lzma.cfe kernel <br />create rootfs<br />merge kernel+rootfs and tag image<br />add zero&#039;s until image is 64k fold<br />add 0xdeadc0de<br />add zero&#039;s until image is 64k fold<br />add 0xdeadc0de</p><p>In the tagging process 3 CRC are calculated: kernel, rootfs and total<br />since the image is manipulated afterwards with dd, crc of total is not correct and image is no considered valid!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76135">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						9 Nov 2008, 19:44					</div>
				</div>
				<div class="post-content content">
					<p>lamaatje,<br />Thnks for your info. This wil be much usefull to make an image than can be loaded from router&#039;s web page.</p><p>I tried to build firmware from diferents choices, with switch, like 6358 boards, etc and i can&#039;t get lan up.<br />I see in neufbox forums, with 6358 borads, getting lan working.<br />Also USB host port are not working .</p><p>Have you news about getting up lan?</p><p>thnks.</p><p>spirit,<br />your option is more elegant.</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 9 Nov 2008, 19:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76182">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						10 Nov 2008, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>@lamaatge,<br />lan interace is working on 96348GW-11 board, later i will post how.</p><div class="codebox"><pre><code>[t3l3m4k0@1t4k4 ~]$ ping 192.168.1.19
PING 192.168.1.19 (192.168.1.19) 56(84) bytes of data.
64 bytes from 192.168.1.19: icmp_seq=1 ttl=64 time=0.745 ms
64 bytes from 192.168.1.19: icmp_seq=2 ttl=64 time=0.595 ms
64 bytes from 192.168.1.19: icmp_seq=3 ttl=64 time=0.599 ms
64 bytes from 192.168.1.19: icmp_seq=4 ttl=64 time=0.585 ms
64 bytes from 192.168.1.19: icmp_seq=5 ttl=64 time=0.659 ms
64 bytes from 192.168.1.19: icmp_seq=6 ttl=64 time=0.685 ms
64 bytes from 192.168.1.19: icmp_seq=7 ttl=64 time=0.720 ms
64 bytes from 192.168.1.19: icmp_seq=8 ttl=64 time=0.582 ms
64 bytes from 192.168.1.19: icmp_seq=9 ttl=64 time=0.613 ms

--- 192.168.1.19 ping statistics ---
9 packets transmitted, 9 received, 0% packet loss, time 7999ms
rtt min/avg/max/mdev = 0.582/0.642/0.745/0.064 ms
[t3l3m4k0@1t4k4 ~]$ telnet 192.168.1.19
Trying 192.168.1.19...
Connected to SAM1.SOL (192.168.1.19).
Escape character is &#039;^]&#039;.
 === IMPORTANT ============================
  Use &#039;passwd&#039; to set your login password
  this will disable telnet and enable SSH
 ------------------------------------------


BusyBox v1.11.2 (2008-11-09 17:29:24 CET) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13144) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------</code></pre></div>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 10 Nov 2008, 16:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76185">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						10 Nov 2008, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>Searching at broadcom docs about CPUs 96348 and 96358, i found differences , bassicaly, only in USB 1.1 (6348) USB 2.0 (6358).<br />The two CPUs have 2 ethernet ports, so tried similar settings to the cpu 96358.</p><br /><p>patch file:</p><div class="codebox"><pre><code>    011-add_preliminary_board_support.patch</code></pre></div><p>must be updated to patch file:</p><div class="codebox"><pre><code>    .../arch/mips/bcm63xx/boards/board_bcm963xx.c</code></pre></div><p>and add to apropiate location YOURBOARDNAME=your board name:</p><div class="codebox"><pre><code>#ifdef CONFIG_BCM63XX_CPU_6348

/* code to add */ 

         static struct board_info __initdata board_YOURBOARDNAME = { 
                 .name                           = &quot;YOURBOARDNAME&quot;, 
                 .expected_cpu_id                = 0x6348, 
          
                 .has_enet0                      = 1, 
                 .has_enet1                      = 1, 
                 .has_pci                        = 1, 
          
                 .enet0 = { 
                         .has_phy                = 1, 
                         .use_internal_phy       = 1, 
                 }, 
          
                 .enet1 = { 
                         .force_speed_100        = 1, 
                         .force_duplex_full      = 1, 
                 }, 
          
          
                 .has_ohci0 = 1, 
                 .has_pccard = 1,  
         }; 


/* code to modify */

#ifdef CONFIG_BCM63XX_CPU_6348 
                 &amp;board_96348r, 
                 &amp;board_96348gw,
                        &amp;board_YOURBOARDNAME,
#endif</code></pre></div><p>After compiled and device firmware updated, i must changed uci setting</p><div class="codebox"><pre><code>uci set network.lan.ifname=eth1
uci commit
reboot</code></pre></div><p>and lan works</p><p>warnig:<br />you must have acces trough serial console</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76196">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						10 Nov 2008, 19:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>@lamaatge,<br />lan interace is working on 96348GW-11 board, later i will post how.</p></blockquote></div><p>@t3l3m4k0 very good work, I really appreciate it!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76246">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">sblanco</div>
					<div class="post-datetime">
						11 Nov 2008, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>I have managed to get OpenWRT working with your great help in a Sagem Fast 2404 delivered by Orange here in Spain.</p><p>It belongs to 6348 platform. I guess I missed something as wireless is not working (Broadcom 4318 chipset). Is there any chance to get working the Broadcom 6301 modem in it? This platform is spread all around the globe, usually in DSL modem/router.</p><p>Great work!!!</p><p>I just had to modify from the trunk what it was pointed by t3l3m4k0 for my board support (its name is rather stupid F@ST2404 because the @ in the name, I used that name for the board identity but not for the variable) and add the hack from lamaatje to get working partition mentioned at the top of this page by t3l3m4k0.</p><p>Also had to make the network trick from t3l3m4k0 after booting OpenWRT.</p><p>Bye!</p>											<p class="post-edited">(Last edited by <strong>sblanco</strong> on 11 Nov 2008, 16:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76251">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						11 Nov 2008, 17:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>hi to all,</p><p>I did to compile openwrt for a bcm6348gw board&nbsp; (Comtrend536) with cfe bootloader.<br />Compilation was rigth but result was for bcm96348.bin and bcm96345.bin.</p><p>I tried to send firmware to router, via:<br />1.- web page from comtrend firmware<br />2.- web page from cfe<br />3.- via tftp server from cfe</p><p>results, as spected, was file not valid, i think, because firmware header was for other model than bcm6348gw.</p><p>Is there a way from make menu_config, config, .... etc where i can set target to bcm6348gw?<br />In config&nbsp; menus,&nbsp; only i have found bcm963xx generic board setting.</p><p>regards.</p><p>excuse my poor english.</p></blockquote></div><p>I know what the cause is. The image build process is:<br />create compressed lzma.cfe kernel <br />create rootfs<br />merge kernel+rootfs and tag image<br />add zero&#039;s until image is 64k fold<br />add 0xdeadc0de<br />add zero&#039;s until image is 64k fold<br />add 0xdeadc0de</p><p>In the tagging process 3 CRC are calculated: kernel, rootfs and total<br />since the image is manipulated afterwards with dd, crc of total is not correct and image is no considered valid!</p></blockquote></div><p>Did some more investigations on updating via CFE web interface. Conclusion is that CFE assumes an images with rootfs that is followed by kernel. I did some tests with images that have kernel first but they fail, althougn CRC&#039;s in&nbsp; imageValidationToken of the tag are correct. Changing the order of the CRC&#039;s from total,rootfs, kernel -&gt; total, kernel, rootfs did not work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76284">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">spirit</div>
					<div class="post-datetime">
						12 Nov 2008, 10:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>Did some more investigations on updating via CFE web interface. Conclusion is that CFE assumes an images with rootfs that is followed by kernel. I did some tests with images that have kernel first but they fail, althougn CRC&#039;s in&nbsp; imageValidationToken of the tag are correct. Changing the order of the CRC&#039;s from total,rootfs, kernel -&gt; total, kernel, rootfs did not work.</p></blockquote></div><p>There is an additional CRC32 tagValidationToken over the entire TAG.</p><p>Can you please post the CFE output log on the serial line when trying to upload an image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76286">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						12 Nov 2008, 12:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>There is an additional CRC32 tagValidationToken over the entire TAG.</p></blockquote></div><p>correct</p><div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>Can you please post the CFE output log on the serial line when trying to upload an image.</p></blockquote></div><p>Sorry, I don&#039;t have the image anymore, but I am very sure that the problem arises in my version of CFE from the assumption that the rootfs is in front of the kernel. Note I have a davolink special, after image download, it verifies kernel CRC and rootfs CRC, if ok it compares with the existing backup image in the higher half of the flash, if different it flashes also a backup.</p><p>Looks like this:<br /></p><div class="codebox"><pre><code>web info: Upload 2097156 bytes, Broadcom image format.
CFE&gt;
Flashing root file system and kernel: .................................

.
*** Image flash done *** !
Successful.
Resetting board...

CFE version 1.0.37-0.6 for BCM96348 (32bit,SP,BE)
Build Date: 2005-03-31 17:08:34 (root@ylinux)
DV-201AMR Boot ROM version: 1.6
H/W version: 00

Initializing Arena.
Initializing Devices.
Flash ID - 0x1(0), 0x227e(1), 0x2210(e), 0x2200(f)
flash - size:8388608, nsect:135, base:0xbf800000
Checking running image.....
Running image good. Comparing running image to backup.....
Backup image is different from running image. Copying running to backup(2097156).....
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
Image copied to running.(2097156)</code></pre></div><p>Note that this order is hampering creation of a proper rootfs_data partition.<br />Sure would like to get rid of this CFE version, but some efforts resulted in reprogramming flash by JTAG which is very cumbersome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76295">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">spirit</div>
					<div class="post-datetime">
						12 Nov 2008, 15:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>Sorry, I don&#039;t have the image anymore, but I am very sure that the problem arises in my version of CFE from the assumption that the rootfs is in front of the kernel. Note I have a davolink special, after image download, it verifies kernel CRC and rootfs CRC, if ok it compares with the existing backup image in the higher half of the flash, if different it flashes also a backup.</p></blockquote></div><p>Well, I don&#039;t think that rootfs in front of the kernel is a special format. The speciality is the running and backup flash mechanism.<br />AFAIK this is the standard broadcom flash image format:<br />- TAG<br />- CFE<br />- ROOT_FS<br />- KERNEL</p><p>The CFE, ROOT_FS or KERNEL can be left empty in order to just flash a new portion of the image.</p><div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>Note that this order is hampering creation of a proper rootfs_data partition.<br />Sure would like to get rid of this CFE version, but some efforts resulted in reprogramming flash by JTAG which is very cumbersome.</p></blockquote></div><p>Hmm, I didn&#039;t get your point ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76298">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						12 Nov 2008, 16:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>Well, I don&#039;t think that rootfs in front of the kernel is a special format.</p></blockquote></div><p>I agree, it is the standard format, but I would like to have kernel first and rootfs last.<br /></p><div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>The CFE, ROOT_FS or KERNEL can be left empty in order to just flash a new portion of the image.</p></blockquote></div><p>Haven&#039;t tried it but it might work.</p><div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>Hmm, I didn&#039;t get your point ...</p></blockquote></div><p>After detecting the rootfs partition the system tries to generate &quot;rootfs_data&quot; where some kind of writable unionfs of the rootfs will be mounted.<br />from one of the logs in this thread:<br /></p><div class="codebox"><pre><code>0x000d0000-0x003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=260000, len=190000
0x00260000-0x003f0000 : &quot;rootfs_data&quot;</code></pre></div><p>This process somehow fails if the kernel partition is physically located after the rootfs in flash, as you state correct this is the case with standard broadcom flash image format.<br />My CFE supports no &#039;flashimage&#039; command, so the images in the OpenWrt build process are useless.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76304">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">spirit</div>
					<div class="post-datetime">
						12 Nov 2008, 17:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>I agree, it is the standard format, but I would like to have kernel first and rootfs last.</p></blockquote></div><p>Got it ... so this is your workaround to the problem below!?</p><div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>After detecting the rootfs partition the system tries to generate &quot;rootfs_data&quot; where some kind of writable unionfs of the rootfs will be mounted.<br />from one of the logs in this thread:<br /></p><div class="codebox"><pre><code>0x000d0000-0x003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=260000, len=190000
0x00260000-0x003f0000 : &quot;rootfs_data&quot;</code></pre></div><p>This process somehow fails if the kernel partition is physically located after the rootfs in flash, as you state correct this is the case with standard broadcom flash image format.</p></blockquote></div><p>Hmm, rootfstype=squashfs,jffs2 from the boot line ...<br />But I guess this is a kernel issues/bug, right?</p><div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>My CFE supports no &#039;flashimage&#039; command, so the images in the OpenWrt build process are useless.</p></blockquote></div><p>Have you tried a CFE from another router? If you have a JTAG re-flash of the original one shouldn&#039;t be a problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76310">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						12 Nov 2008, 18:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>Got it ... so this is your workaround to the problem below!?</p></blockquote></div><p>yep, but did not get it working.</p><div class="quotebox"><cite>spirit wrote:</cite><blockquote><p>Hmm, rootfstype=squashfs,jffs2 from the boot line ...<br />But I guess this is a kernel issues/bug, right?</p></blockquote></div><p>A bug, or design problem in mtdpart.c by disabling CONFIG_MTD_ROOTFS_SPLIT, and &#039;manually&#039; generating rootfs_data in&nbsp; bcm963xx-flash.c I was able to workaround.</p><br /><div class="quotebox"><cite>spirit wrote:</cite><blockquote><div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><p>My CFE supports no &#039;flashimage&#039; command, so the images in the OpenWrt build process are useless.</p></blockquote></div><p>Have you tried a CFE from another router? If you have a JTAG re-flash of the original one shouldn&#039;t be a problem.</p></blockquote></div><p>Tried this but these crash, debricking takes ages :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76332">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">sblanco</div>
					<div class="post-datetime">
						12 Nov 2008, 23:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi!<br />Is it done on purpose that wireless bcm43xx drivers don&#039;t compile although selecting them in the configuration?</p><p>During the compilation, I get a warning saying that kmod-net-bcm43xx doesn&#039;t compile because it&#039;s not found in kernel config, as well the package it depends on, kmod-ieee80211-softmac</p><br /><div class="codebox"><pre><code>WARNING: kmod-ieee80211-softmac is not available in the kernel config
WARNING: kmod-net-bcm43xx is not available in the kernel config</code></pre></div><p>Bye!</p>											<p class="post-edited">(Last edited by <strong>sblanco</strong> on 13 Nov 2008, 00:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76405">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">lamaatje</div>
					<div class="post-datetime">
						14 Nov 2008, 00:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sblanco wrote:</cite><blockquote><p>Hi!<br />Is it done on purpose that wireless bcm43xx drivers don&#039;t compile although selecting them in the configuration?</p><p>During the compilation, I get a warning saying that kmod-net-bcm43xx doesn&#039;t compile because it&#039;s not found in kernel config, as well the package it depends on, kmod-ieee80211-softmac</p><br /><div class="codebox"><pre><code>WARNING: kmod-ieee80211-softmac is not available in the kernel config
WARNING: kmod-net-bcm43xx is not available in the kernel config</code></pre></div><p>Bye!</p></blockquote></div><p>Strange, they are indeed not available in the kernel&nbsp; .config.&nbsp; &nbsp;They are available in .config.old</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76409">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">sblanco</div>
					<div class="post-datetime">
						14 Nov 2008, 01:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lamaatje wrote:</cite><blockquote><div class="quotebox"><cite>sblanco wrote:</cite><blockquote><p>Hi!<br />Is it done on purpose that wireless bcm43xx drivers don&#039;t compile although selecting them in the configuration?</p><p>During the compilation, I get a warning saying that kmod-net-bcm43xx doesn&#039;t compile because it&#039;s not found in kernel config, as well the package it depends on, kmod-ieee80211-softmac</p><br /><div class="codebox"><pre><code>WARNING: kmod-ieee80211-softmac is not available in the kernel config
WARNING: kmod-net-bcm43xx is not available in the kernel config</code></pre></div><p>Bye!</p></blockquote></div><p>Strange, they are indeed not available in the kernel&nbsp; .config.&nbsp; &nbsp;They are available in .config.old</p></blockquote></div><p>Have you tried to compile with that .config.old? Does it work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76460">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						15 Nov 2008, 01:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,<br />I have a netgear dg834gt with chipset broadcom 6348.<br />After I compiled the firmware, I flashed with cfe using this firmware: openwrt-96348GW-10-squashfs-cfe.bin&nbsp; (trunk version 13186):</p><div class="quotebox"><blockquote><p>boot log:</p><p>CFE version 1.0.37-5.11 for BCM96348 (32bit,SP,BE)<br />Build Date: Fri Sep 17 15:59:48 CST 2004 (root@Run-P4)<br />Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.</p><p>Initializing Devices.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; internal_open&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bcm6348enet: init_emac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Total memory used by CFE:&nbsp; 0x80401000 - 0x8051C910 (1161488)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Initialized Data:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x80418630 - 0x804192D0 (3232)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BSS Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x804192D0 - 0x8041A910 (5696)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Local Heap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8041A910 - 0x8051A910 (1048576)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Stack Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8051A910 - 0x8051C910 (8192)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Text (code) segment:&nbsp; &nbsp; &nbsp; &nbsp;0x80401000 - 0x80418624 (95780)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Boot area (physical):&nbsp; &nbsp; &nbsp; 0x0051D000 - 0x0055D000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Relocation Factor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I:00000000 - D:00000000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Board IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 192.168.1.1:ffffff00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Host IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 192.168.1.100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Gateway IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Run from flash/host (f/h)&nbsp; &nbsp; &nbsp; &nbsp;: f&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Default host run file name&nbsp; &nbsp; &nbsp; : vmlinux&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Default host flash file name&nbsp; &nbsp; : bcm963xx_fs_kernel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Boot delay (0-9 seconds)&nbsp; &nbsp; &nbsp; &nbsp; : 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Board Id Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 96348GW-10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Psi size in KB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number of MAC Addresses (1-32)&nbsp; : 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Base MAC Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : my mac address .....&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Ethernet PHY Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Internal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Memory size in MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *** Press any key to stop auto run (1 seconds) ***&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Auto run second count down: 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Code Address: 0x80010000, Entry Address: 0x80010000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Decompression OK!&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entry at 0x80010000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Closing network.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Starting program at 0x80010000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Linux version 2.6.27.4 (misteroX@ubuntu8041) (gcc version 4.1.2) #4 Tue Nov 11 17:46:43 EST 2008<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Detected Broadcom 0x6348 CPU revision b0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CPU frequency is 256000000 MHz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 16MB of RAM installed&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; board_bcm963xx: CFE version: unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; board_bcm963xx: unknown bcm963xx board: 96348GW-10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console [early0] enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CPU revision is: 00029107 (Broadcom BCM6348)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Kernel panic - not syncing: unable to detect bcm963xx board</p></blockquote></div><p>at boot time it recognize cpu 6348 revision B0 but doesn&#039;t recognize:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; board_bcm963xx: CFE version: unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; board_bcm963xx: unknown bcm963xx board: 96348GW-10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p> <br /><p>I modified makefile this way, is it right?</p><p>/13186/target/linux/brcm63xx/image/Makefile</p><div class="quotebox"><blockquote><p>define Image/Build<br />&nbsp; &nbsp; &nbsp; &nbsp; $(STAGING_DIR_HOST)/bin/trx -o $(BIN_DIR)/openwrt-$(BOARD)-$(1).trx -f $(KDIR)/loader.gz -f $(KDIR)/vmlinux.lzma $(call trxalign/$(1)) -f $(KDIR)/root.$(1)<br />&nbsp; &nbsp; &nbsp; &nbsp; $(call Image/Build/CFE,$(1),96345GW2,6345)<br />&nbsp; &nbsp; &nbsp; &nbsp; # Neufbox4<br />&nbsp; &nbsp; &nbsp; &nbsp; $(call Image/Build/CFE,$(1),96358VW,6358)<br /># added targets to Makefile<br />&nbsp; &nbsp; &nbsp; &nbsp;# DG834GT<br />&nbsp; &nbsp; &nbsp; &nbsp;$(call Image/Build/CFE,$(1),96348GW-10,6348)<br />endef</p></blockquote></div><p>below there is boot log of original netgear firmware:</p><div class="quotebox"><blockquote><p>CFE version 1.0.37-5.11 for BCM96348 (32bit,SP,BE)<br />Build Date: Fri Sep 17 15:59:48 CST 2004 (root@Run-P4)<br />Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.</p><p>Initializing Arena.<br />Initializing Devices.<br />internal_open<br />bcm6348enet: init_emac<br />CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz</p><p>Total memory used by CFE:&nbsp; 0x80401000 - 0x8051C910 (1161488)<br />Initialized Data:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x80418630 - 0x804192D0 (3232)<br />BSS Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x804192D0 - 0x8041A910 (5696)<br />Local Heap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8041A910 - 0x8051A910 (1048576)<br />Stack Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8051A910 - 0x8051C910 (8192)<br />Text (code) segment:&nbsp; &nbsp; &nbsp; &nbsp;0x80401000 - 0x80418624 (95780)<br />Boot area (physical):&nbsp; &nbsp; &nbsp; 0x0051D000 - 0x0055D000<br />Relocation Factor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I:00000000 - D:00000000</p><p>Board IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 192.168.1.1:ffffff00<br />Host IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 192.168.1.100<br />Gateway IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<br />Run from flash/host (f/h)&nbsp; &nbsp; &nbsp; &nbsp;: f<br />Default host run file name&nbsp; &nbsp; &nbsp; : vmlinux<br />Default host flash file name&nbsp; &nbsp; : bcm963xx_fs_kernel<br />Boot delay (0-9 seconds)&nbsp; &nbsp; &nbsp; &nbsp; : 1<br />Board Id Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 96348GW-10<br />Psi size in KB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 16<br />Number of MAC Addresses (1-32)&nbsp; : 2<br />Base MAC Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : my macaddres............<br />Ethernet PHY Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Internal<br />Memory size in MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 16</p><p>*** Press any key to stop auto run (1 seconds) ***<br />Auto run second count down: 0<br />Code Address: 0x80010000, Entry Address: 0x80227018<br />Decompression OK!<br />Entry at 0x80227018<br />Closing network.<br />Starting program at 0x80227018<br />Linux version 2.6.8.1 (root@Build_Server) (gcc version 3.4.2) #12 Mon Aug 6 14:09:51 CST 2007<br />Total Flash size: 4096K with 71 sectors<br />Scratch pad is not used for this flash part.<br />96348GW-10 prom init<br />CPU revision is: 00029107<br />mpi: No Card is in the PCMCIA slot<br />Determined physical RAM map:<br /> memory: 00fa0000 @ 00000000 (usable)<br />On node 0 totalpages: 4000<br />&nbsp; DMA zone: 4000 pages, LIFO batch:1<br />&nbsp; Normal zone: 0 pages, LIFO batch:1<br />&nbsp; HighMem zone: 0 pages, LIFO batch:1<br />Built 1 zonelists</p></blockquote></div><p>What do I have to modify to let firmware recognize cfe and board at boot time ?</p><br /><p>Thank.<br />MisteroX</p>											<p class="post-edited">(Last edited by <strong>misteroX</strong> on 15 Nov 2008, 01:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76462">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">spirit</div>
					<div class="post-datetime">
						15 Nov 2008, 01:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>misteroX wrote:</cite><blockquote><p>What do I have to modify to let firmware recognize cfe and board at boot time ?</p></blockquote></div><p>Take a look at post #58 ...</p><p>You have to modify .../arch/mips/bcm63xx/boards/board_bcm963xx.c and add an entry for your board.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76591">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						17 Nov 2008, 16:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spirit wrote:</cite><blockquote><div class="quotebox"><cite>misteroX wrote:</cite><blockquote><p>What do I have to modify to let firmware recognize cfe and board at boot time ?</p></blockquote></div><p>Take a look at post #58 ...</p><p>You have to modify .../arch/mips/bcm63xx/boards/board_bcm963xx.c and add an entry for your board.</p></blockquote></div><p>Hi spirit,</p><p>I made a mistake, and now my router is bricked.</p><p>Recovery utility does not replace firmware into router.<br />CFE don&#039;t start at boot and serial console do nothing; I see only led of switch active where cable is inserted.</p><br /><p>I saw on openwrt site ( <a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/JTAG_Cable)">http://wiki.openwrt.org/OpenWrtDocs/Cus … TAG_Cable)</a><br />there ar two possible jtag configuration.</p><p>For semplicity I want to make this jtag : Unbuffered Cable, Xilinx DLC5 Cable III</p><p>Do you know if I can use &quot;HairyDairyMaid_WRT54G_Debrick_Utility_v48.zip (wrt54.exe)&quot; to send CFE.bin into my router ?</p><p>If so which is the correct memory address to send CFE.BIN into DG834GT ?</p><br /><p>Many thanks in advice.<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76594">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						17 Nov 2008, 16:15					</div>
				</div>
				<div class="post-content content">
					<p>To recover the router is recommended to send , by the slow process, only the CFE through JTAG, and then send the firmware via webpage.</p><p>For this I used the modification of the program HairyDaili ... Telsey adapted to the router (chip BCM96348), telsey_debrick-0.91beta1 (use google)<br />to send the firmware I used the only option / nodma. </p><p>The recovery software for JTAG presents the following feature as a file with the bytes in the following order:<br />ABCD .....<br />sent by JTAG<br />BADC .....<br />and read by JTAG<br />DCBA .....</p><p>So to send a file by JTAG must first amend the original.<br />An option to prepare the file from linux will be:<br />dd if = CFE.BIN.ori of = CFE.BIN.byteswapped conv = swab</p><p>Once the file envoy, light power maybe is not activated, but the router is ready to receive the firmware from a mini website to which we access via IP is the default router.</p><p>Good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76595">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						17 Nov 2008, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>Unpowered/unbuffered JTAG used:<br />[url=http://img82.imageshack.us/my.php?image=convjtaggp7.jpg]</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 17 Nov 2008, 16:20)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>