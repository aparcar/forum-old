<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Anyone seriously doing x86 / xorg, I am, looking for headless control</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p159017">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rossb</div>
					<div class="post-datetime">
						28 Feb 2012, 16:16					</div>
				</div>
				<div class="post-content content">
					<p>I am using NX server on an Openwrt x86_64 system with xorg, fluxbox wm, attempting headless appliance control using NX binaries installed via tarballs (server-3.5.0-9, client, node-3.5.0-7), with all proper configuration to allow shadowing without session owner permission.</p><p>What works: using NX client, can spawn xterm session controlling Openwrt on client machine</p><p>What fails: shadow sessions, attempting to share root xorg / fluxbox display</p><p>How fails: authenticates OK, available sessions window pops up on client, but no sessions to select</p><p>NX (server) determines sessions available by /bin/netstat -ln &#039;--protocol=unix&#039;, result:</p><p>Active UNIX domain sockets (only servers)<br />Proto RefCnt Flags Type State I-Node Path<br />unix 2 [ ACC ] STREAM LISTENING 41637 @/tmp/.X11-unix/X0<br />unix 2 [ ACC ] STREAM LISTENING 41638 /tmp/.X11-unix/X0</p><p>debug logfile:</p><p>NXNODE: checkLocalSession: Found socket for display [0] - [unix 2 [ ACC ] STREAM LISTENING 41637 @/tmp/.X11-unix/X0]<br />...<br />NXNODE: checkLocalSession: Display already checked - skipping<br />NXNODE: checkLocalSession: NO SESSIONS</p><p>full debug log: <a href="http://www.rossco.org/NX_ShadowFail.txt">http://www.rossco.org/NX_ShadowFail.txt</a></p><p>I have run out of clues regarding how to debug this, so am seeking to &quot;get a clue&quot;</p><p>given that this is a custom distribution, I have already used strace to identify missing OS commands and libraries.</p><p>Any gurus willing to help me debug this?</p><p>Thanks; Bill</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p159043">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rossb</div>
					<div class="post-datetime">
						28 Feb 2012, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>nevermind. solved it.</p><p>neglecting what it took to get to this point, the particular problem was:</p><p>the busybox ps command does not support the format control required by NX server to identify sessions.</p><p>needed to replace with ps from procps</p><p>which led to new issues, all solved</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>