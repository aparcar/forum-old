<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New broadcom wireless drivers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p2196">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zrichard</div>
					<div class="post-datetime">
						21 Sep 2004, 02:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>It looks like that openwrt is based on wrt54gs gpl code version 2.07.1 released earlier this year. last month, linksys released the wrt54g version 2.04.4. Although the linux kernel is still 2.4.20, it adds quite a few things. Most noticablely, it has more protocol specific connection tracks in netfilter, e.g. SIP. It probably makes more sense to use this as the base.</p><p>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2198">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ajax</div>
					<div class="post-datetime">
						21 Sep 2004, 04:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>&nbsp; &nbsp; I see that linksys has put the sources for their 2.09 firmware online &lt;<a href="http://www.linksys.com/support/gpl.asp">http://www.linksys.com/support/gpl.asp</a>&gt;.<br />It looks it has the 3.60 series wireless drivers in it.&nbsp; What steps does one need to go through to switch over from 2.07?&nbsp; I&#039;m sure that some of the current patches to 2.07 will need tweaking.&nbsp; Has anyone tried 2.09 code with openwrt yet?&nbsp; Thanks.</p><p>-- <br />Ajax</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2200">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						21 Sep 2004, 07:18					</div>
				</div>
				<div class="post-content content">
					<p>Seen it.</p><p>The 2.04 release shortly before also featured the exact same wireless driver. Support for wireless tools (iwconfig, etc) is in a separate file that&#039;s missing from the 2.09 release, at the very least this will break some startup scripts openwrt uses to detect the wireless interface.</p><p>The real question will be if there&#039;s any killer features that make the upgrade worthwhile.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2208">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">sys</div>
					<div class="post-datetime">
						21 Sep 2004, 15:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Seen it.</p><p>The real question will be if there&#039;s any killer features that make the upgrade worthwhile.</p></blockquote></div><p>Yes it is, this killer feature is ap_isolation. I just hacked 2.04.4 source into openwrt buildroot tree and compiled new firmware. Sad story, seems to that wireless extensions in wl driver are gone away. </p><p>One of Estonian wifi activist asks me to build firmware for WRT54G with two major features, wireless clients isolation (wl0_ap_isolate=1) and separate firewalled network for hotspot management sharing same uplink with wireless or wired customers. I realized this using another VLAN and set up another subnet using openwrt&#039;s standard ifup scripts. lan3_ifname=vlan3 etc..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2220">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zrichard</div>
					<div class="post-datetime">
						22 Sep 2004, 07:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>The real question will be if there&#039;s any killer features that make the upgrade worthwhile.</p></blockquote></div><p>One feature I love is SIP ALG (application layer gateway). It mangles the SIP messages and make voip phones behind NAT much easier.</p><p>Richard</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2222">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">chimpanzee</div>
					<div class="post-datetime">
						22 Sep 2004, 08:47					</div>
				</div>
				<div class="post-content content">
					<p>is it true that there is some iptables module in the cooking for SIP ALG ? Don&#039;t know if it has been done yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2224">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">zrichard</div>
					<div class="post-datetime">
						22 Sep 2004, 10:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>is it true that there is some iptables module in the cooking for SIP ALG ? Don&#039;t know if it has been done yet.</p></blockquote></div><p>It is not in kernel development yet, i believe. However linksys wrt54g ver 2.04.4 has its own implementation. That&#039;s why I suggest to use this as the code base.</p><p>A quick diff shows as a few dozens of new files are in wrt54g code.</p><p>Richard</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2244">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sys</div>
					<div class="post-datetime">
						23 Sep 2004, 01:03					</div>
				</div>
				<div class="post-content content">
					<p>Seems that some nvram settings does not work anymore. Example WEP. After wlconf eth1 up wep remains disabled. Only way turn wep on is using wl utility &#039;wl wep on&#039; but currently this not works on centrino chipset.</p><p>I continue investigation</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2249">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">sys</div>
					<div class="post-datetime">
						23 Sep 2004, 17:19					</div>
				</div>
				<div class="post-content content">
					<p>simple solution, not using wl0_ settings. wl_ settings works fine. </p><p>Q: It this related with wlconf ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2262">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">sys</div>
					<div class="post-datetime">
						24 Sep 2004, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>after nvram set wl_ifname=eth1 and wl0_ifname=eth1 everything works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2321">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">soulhunter</div>
					<div class="post-datetime">
						29 Sep 2004, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>Does anybody happend to download the 2.09.1 source code? I just found it was a broken link, I guessed, and changed it to:</p><p><a href="http://www.linksys.com/support/opensourcecode/wrt54gs/2.09.01/wrt54gs.2.09.1.etsi.tgz">http://www.linksys.com/support/opensour â€¦ 1.etsi.tgz</a></p><p>and it is downloading.&nbsp; I will take it a look too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2734">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">marcosmas</div>
					<div class="post-datetime">
						26 Oct 2004, 00:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Yes it is, this killer feature is ap_isolation. I just hacked 2.04.4 source into openwrt buildroot tree and compiled new firmware. Sad story, seems to that wireless extensions in wl driver are gone away.</p></blockquote></div><p>I tried to port the wl.o module from 2.04.4 source to OpenWrt. In fact I copy all the *.o files in the WRT54G/release/src/wl/linux/ directory of the new sources to the OpenWrt sources. I modified the /linux/linux/driver/net/wl/Makefile to include the new .o files and run make. But I had no success. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <br />I don&#039;t know how to port this feature to the OpenWrt firmware. Can someone help me?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p2738">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">coder</div>
					<div class="post-datetime">
						26 Oct 2004, 00:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><div class="quotebox"><blockquote><p>Yes it is, this killer feature is ap_isolation. I just hacked 2.04.4 source into openwrt buildroot tree and compiled new firmware. Sad story, seems to that wireless extensions in wl driver are gone away.</p></blockquote></div><p>I tried to port the wl.o module from 2.04.4 source to OpenWrt. In fact I copy all the *.o files in the WRT54G/release/src/wl/linux/ directory of the new sources to the OpenWrt sources. I modified the /linux/linux/driver/net/wl/Makefile to include the new .o files and run make. But I had no success. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <br />I don&#039;t know how to port this feature to the OpenWrt firmware. Can someone help me?</p></blockquote></div><p>That&#039;s not porting at all. To port means to recode some part of some code to make it run on another environment. What you are trying is just to save a work that normally must be done. A kernel module needs some symbols that maybe are or ar not exported when it gets compiled. Those people at broadcom are releasing privative drivers that we do not know how they really work, though a lot of work could be done via reverse engeenering.</p><p>Try to focus on 3.17.4 -etsi and &#039;port&#039; the &#039;new&#039; 2.4.20 kernel + modules to the openwrt filesystem, that would be a better aproach.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>