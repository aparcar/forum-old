<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cross-compiling pulse-audio library for OpenWRT-Kamikaz</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p230192">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						14 Apr 2014, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone,</p><p>Is there anyone who can help me on building and compiling &quot;pulse-audio&quot; package ?</p><p>Searching on the net I find this makefile :<br /><a href="https://dev.openwrt.org/browser/packages/sound/pulseaudio/Makefile?rev=28311">https://dev.openwrt.org/browser/package â€¦ ?rev=28311</a></p><p>but the compilation of the package end with errors :<br /><strong> *** No rule to make target `package//host/compile&#039;, needed by `package/pulseaudio/compile&#039;.&nbsp; Stop.</strong></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230230">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						15 Apr 2014, 01:09					</div>
				</div>
				<div class="post-content content">
					<p>Go to the <a href="http://downloads.openwrt.org">download</a> section and look for the platform under the release you want.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230268">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						15 Apr 2014, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m developping an IP that use pule-audio libraries.</p><p>So that I need the corsscompiled shared libraries of the pulse-audio not the prepared package in order to cross compile my IP.</p><p>If there&#039;s a way to install a precompiled package in my toolchaine and including it in the final image bin I will be so happy to know how to do it !<br />--------------------------------------------</p><p>This is the problem that I&#039;m trying to solve :<br /><strong>/home/amir/Bureau/openwrt-na9xx-r25875-20121204/staging_dir/toolchain-mipsel_r2_gcc-linaro_uClibc-0.9.32/lib/gcc/mipsel-openwrt-linux-uclibc/4.5.2/../../../../mipsel-openwrt-linux-uclibc/bin/ld: cannot find -lpulse</strong></p>											<p class="post-edited">(Last edited by <strong>louwi</strong> on 15 Apr 2014, 12:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230298">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						15 Apr 2014, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>You can download the OpenWRT SDK to compile an individual package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230301">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						15 Apr 2014, 16:13					</div>
				</div>
				<div class="post-content content">
					<p>I already download the sdk and I compiled it and I compiled tow libraries pocketsphinx and sphinxbase witch I&#039;m using in my application.</p><p>Now I&#039;m needing to compile the pulse-audio in order to get access to it&#039;s libraries cause I&#039;m needing it&#039;s library.</p><p>In fact I developed an IP witch recognize the human voice based on those libraries I succeed linking my IP with compiled libraries (pocketsphinx and sphinxbase) now I need to get access to voice through pulse library.</p><p>here what I get when I cross compile my IP ;<br /><strong>make package/fr-recognizer/compile BUILD_LOG=1 V=s</strong><br />&nbsp; &nbsp; &nbsp;<a href="http://pastebin.com/9CTSp73E">http://pastebin.com/9CTSp73E</a></p>											<p class="post-edited">(Last edited by <strong>louwi</strong> on 15 Apr 2014, 16:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230336">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						15 Apr 2014, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know what you meant by <strong>IP</strong>. Is it your own program? If not, where can we download to test?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230410">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						16 Apr 2014, 11:07					</div>
				</div>
				<div class="post-content content">
					<p>yes it&#039;s my own program.</p><p>I will discribe the hole project :</p><p>I&#039;m using tow libraries pocketsphinx and sphinxbase in order to recognize human voice. so I cross compile those tow libraries.</p><p>Sphinxbase provide an interface with audio-source by using pulse-audio libraries.</p><p>when I cross compile the hole project I got that error witch indicate that the <strong>-lpulse is missed</strong></p><p>I don&#039;t have a problem in the linking between the *.o sources files and the header-files of the pulse-audio cause I already copied the header files of pulse-audio in the src file.</p><p>is I&#039;m wright or it&#039;s not the problem ?</p>											<p class="post-edited">(Last edited by <strong>louwi</strong> on 16 Apr 2014, 11:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230425">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						16 Apr 2014, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>If you peruse the Makefile of all OpenWRT library packages, you will notice not all files in the include and/or lib directories get installed during the installation stage. I ran into the same problem, too. For this, I strongly suggest you download a complete OpenWRT source tree and build it from scratch. If you take this route, I strongly suggest that you use the SVN and/or GIT trunk. My local OpenWRT source tree is based on SVN trunk.</p>											<p class="post-edited">(Last edited by <strong>mazilo</strong> on 16 Apr 2014, 15:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230436">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						16 Apr 2014, 17:38					</div>
				</div>
				<div class="post-content content">
					<p>the problem was from missing package &quot;intltool&quot;.</p><p>adding that package resolved the problem and I succeed to compile pulse-audio after adding many other packages needed in related packages.</p><p>now when I cross compile my project I get undefined reference errors :<br /><a href="http://pastebin.com/JNXWvbJQ">http://pastebin.com/JNXWvbJQ</a></p><p>executing this command <strong>readelf -a&nbsp; libpulse.so.0.13.4</strong><br /><a href="http://pastebin.com/SGpa0ACs">http://pastebin.com/SGpa0ACs</a></p>											<p class="post-edited">(Last edited by <strong>louwi</strong> on 16 Apr 2014, 19:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230465">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						16 Apr 2014, 22:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>louwi wrote:</cite><blockquote><p>the problem was from missing package &quot;intltool&quot;.</p><p>adding that package resolved the problem and I succeed to compile pulse-audio after adding many other packages needed in related packages.</p></blockquote></div><p>I am glad to hear you finally managed to resolve the issue.</p><div class="quotebox"><blockquote><p>now when I cross compile my project I get undefined reference errors :<br /><a href="http://pastebin.com/JNXWvbJQ">http://pastebin.com/JNXWvbJQ</a></p></blockquote></div><p>This sounded like the pulse library is too old?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230512">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						17 Apr 2014, 10:36					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s pulse-audio-1.0 so it should be so old I wil try a newer version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230523">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">louwi</div>
					<div class="post-datetime">
						17 Apr 2014, 11:58					</div>
				</div>
				<div class="post-content content">
					<p>I installed the version 5.0 of pulse audio same result.<br />I notice some_thing strange in the directory to the shared library&nbsp; in the linking error log-file :</p><p>/home/amir/Bureau/openwrt-na9xx-r25875-20121204/staging_dir/target-mipsel_r2_uClibc-0.9.32/usr<strong>//</strong>lib/libpulse.so</p><p><strong>//</strong> should be <strong>/</strong> ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230534">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						17 Apr 2014, 15:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>louwi wrote:</cite><blockquote><p>I installed the version 5.0 of pulse audio same result.<br />I notice some_thing strange in the directory to the shared library&nbsp; in the linking error log-file :</p><p>/home/amir/Bureau/openwrt-na9xx-r25875-20121204/staging_dir/target-mipsel_r2_uClibc-0.9.32/usr<strong>//</strong>lib/libpulse.so</p><p><strong>//</strong> should be <strong>/</strong> ?</p></blockquote></div><p>That&#039;s perfectly OK to have a &#039;//&#039;.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>