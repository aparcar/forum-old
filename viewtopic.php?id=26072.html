<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ADSL2+Router Comtrend CT-5367</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p114977">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">komara</div>
					<div class="post-datetime">
						11 Aug 2010, 17:11					</div>
				</div>
				<div class="post-content content">
					<p>hi all....... and sorry for my bad english<br />google translator<br />I dont know where to ask. Hope to help me. I got this router and want to have it working normal not via ADSL through LAN1 for example .I hope that OpenWRT can do that but I do not know whether it is compatible. I have a photo of him and his chips(chips are:Broadcom BCM5325EKQMG; BCM6338KFBG). Or if there is another way please tell.<br />thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>komara</strong> on 11 Aug 2010, 17:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115260">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">takuto</div>
					<div class="post-datetime">
						15 Aug 2010, 23:07					</div>
				</div>
				<div class="post-content content">
					<p>Hello there. <br />I have D-Link router with same chips, and I think your router can work with OpenWrt but with some limitations:<br />1. No ADSL.<br />2. No Wi-Fi at this moment (if present in your router).<br />If this is ok with you, then OpenWrt can be built for your hardware pretty easily. You need to solder serial cable, get name of your board, make patch for OpenWrt and it will work. Also place photos and description of your device in OpenWrt wiki - this will help community and you.<br />For reference you can look there - <a href="http://wiki.openwrt.org/toh/d-link/dsl-2640u-bru-c">http://wiki.openwrt.org/toh/d-link/dsl-2640u-bru-c</a><br />Boot logs kinda obsolete - router works ok now, but no ADSL and Wi-Fi.</p>											<p class="post-edited">(Last edited by <strong>takuto</strong> on 17 Aug 2010, 09:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124263">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">NetworkPro</div>
					<div class="post-datetime">
						31 Dec 2010, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>Hello</p><p>I tried to flash the D-Link firmware on the Comtrend CT5367. It did not work. After a lot of flashing of wrong firmwares, I lost the bootloader as well. I&#039;ts a 4port switch now <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> (bricked)</p><p>The board-id is<br />96338A-122 (Bulgarian Vivacom)<br />and in other parts of the world also exist<br />96338A-222, I don&#039;t know what the difference is.</p><p>I used the tftp flash command from the telnet command prompt of the Modem:<br />&gt;tftp -g [ip of tftp server] -t i -f [wrong firmware binary lol]</p><p>It seems the software that was running on this small machine checked only if the firmware binary passes some broadcom identification (as seen from messages on the screen).</p><p>I think I lost the bootloader after I fed it an OpenWRT binary from the download site <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I bet it was a totally wrong one for this board <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>Here is a picture of the board<br /><a href="http://www.picvalley.net/u/1648/185039245516414232101262499922uqX9askwkInroRpRaxEF.JPG"><span class="postimg"><img src="http://www.picvalley.net/u/1648/185039245516414232101262499922uqX9askwkInroRpRaxEF_m.JPG" alt="http://www.picvalley.net/u/1648/185039245516414232101262499922uqX9askwkInroRpRaxEF_m.JPG" /></span></a></p><p>If anyone has any ideas what to try or what I should have done, please post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Thank you. (like how to connect with RS-232, how to re-program bootloader and so on, you could also post links to how-tos)</p>											<p class="post-edited">(Last edited by <strong>NetworkPro</strong> on 9 Nov 2011, 08:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125030">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">swert</div>
					<div class="post-datetime">
						10 Jan 2011, 09:56					</div>
				</div>
				<div class="post-content content">
					<p>NetworkPro<br />About the bootloader -&gt; PM me.<br />With the original bootloader OpenWrt doesn&#039;t start.I ,ll give you also d-link boot loader and jtag configuration so you will be able <br />to flash openwrt.WIFI will not work - it is gpio based.<br />So if you need wholeflash can give you too but it is bulgarian firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127904">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">NetworkPro</div>
					<div class="post-datetime">
						10 Feb 2011, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to hijack some binary from the Comtrend firmware to use for Wireless ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146388">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">NetworkPro</div>
					<div class="post-datetime">
						22 Oct 2011, 15:43					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>Trying 192.168.1.1...
Connected to 192.168.1.1.
Escape character is &#039;^]&#039;.
ADSL Router Model CT-5367 Sw.Ver. C01_R12
Login: root
Password: 
&gt; help

?
help
logout
reboot
adsl
atm
ddns
dumpcfg
ping
siproxd
sntp
sysinfo
tftp
wlan
version
build
ipfilter

&gt; sh
sh: not found
&gt; version ;sh
A111-312BTC-C01_R12
&gt; sysinfo ;sh
Number of processes: 23
  3:36pm  up  1:04, 
load average: 1 min:0.01, 5 min:0.00, 15 min:0.00
              total         used         free       shared      buffers
  Mem:        14012        13272          740            0         1380
 Swap:            0            0            0
Total:        14012        13272          740


BusyBox v1.00 (2009.12.08-09:42+0000) Built-in shell (msh)
Enter &#039;help&#039; for a list of built-in commands.

# dmesg
Linux version 2.6.8.1 (wander@localhost.localdomain) (gcc version 3.4.2) #1 Tue Dec 8 17:40:39 CST 2009
Parallel flash device: name MX29LV320AB, id 0x22a8, size 4096KB
96338A-122 prom init
CPU revision is: 00029010
Determined physical RAM map:
 memory: 00fa0000 @ 00000000 (usable)
On node 0 totalpages: 4000
  DMA zone: 4000 pages, LIFO batch:1
  Normal zone: 0 pages, LIFO batch:1
  HighMem zone: 0 pages, LIFO batch:1
Built 1 zonelists
Kernel command line: root=31:0 ro noinitrd console=ttyS0,115200
brcm mips: enabling icache and dcache...
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB 2-way, linesize 16 bytes.
PID hash table entries: 64 (order 6: 512 bytes)
Using 120.000 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 13924k/16000k available (1438k kernel code, 2056k reserved, 210k data, 68k init, 0k highmem)
KLOB Pool 1 Initialized: 1048576 bytes &lt;0x80e00000 ... 0x80f00000&gt;
Calibrating delay loop... 239.20 BogoMIPS
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
NET: Registered protocol family 16
Total Flash size: 4096K with 71 sectors
File system address: 0xbfc10100
Can&#039;t analyze prologue code at 80176164
Initializing Cryptographic API
PPP generic driver version 2.4.2
NET: Registered protocol family 24
Using noop io scheduler
bcm963xx_mtd driver v1.0
brcmboard: brcm_board_init entry
SES: Button Interrupt 0x0 is enabled
SES: LED GPIO 0x8005 is enabled
Invalid External Interrupt definition 
Serial: BCM63XX driver $Revision: 3.00 $
ttyS0 at MMIO 0xfffe0300 (irq = 10) is a BCM63XX
NET: Registered protocol family 2
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 512 bind 1024)
Initializing IPsec netlink socket
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Ebtables v2.0 registered
NET: Registered protocol family 8
NET: Registered protocol family 20
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 68k freed
Algorithmics/MIPS FPU Emulator v1.5
atmapi: module license &#039;Proprietary&#039; taints kernel.
adsl: adsl_init entry
blaadd: blaa_detect entry
Broadcom BCMPROCFS v1.0 initialized
SDIOH mode switch from 1 to 2
available commands: sdio sdioh

---SDIO init SUCCEEDED--- blockmode capable

chipid 0x4014312
chip is bcm4312, use 512 bytes blksize 
bcmsdh_attach, sdioh_attach successful, bcmsdh-&gt;sdioh 0x80e58b40
wl: srom not detected, using main memory mapped srom info (wombo board)
wl0: wlc_attach: use mac addr from the system pool by id: 0x776c0000
wl0: MAC Address: 00:1D:20:EF:AC:49
wl0: Broadcom BCM4318 802.11 Wireless Controller 4.170.16.0.cpe2.1sd
dgasp: kerSysRegisterDyingGaspHandler: wl0 registered 
Trying to free free IRQ25
Broadcom BCM6338A2 Ethernet Network Device v0.3 Dec  8 2009 17:39:59
Config Ethernet Switch Through MDIO Pseudo PHY Interface
ethsw: found bcm5325e!
dgasp: kerSysRegisterDyingGaspHandler: eth0 registered 
eth0: MAC Address: 00:1D:20:EF:AB:4A
eth0 Link UP.
BcmAdsl_Initialize=0xC00663D8, g_pFnNotifyCallback=0xC0080FD4
AnnexCParam=0x7FFF7EB8 AnnexAParam=0x00003987 adsl2=0x00000003
pSdramPHY=0xA0FFFFF8, 0x1B78B7 0xDEADBEEF
AdslCoreHwReset:  AdslOemDataAddr = 0xA0FFBB64
AnnexCParam=0x7FFF7EB8 AnnexAParam=0x00003987 adsl2=0x00000003
dgasp: kerSysRegisterDyingGaspHandler: dsl0 registered 
ATM proc init !!!
device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
ADSL G.994 training
device nas_0_0_35 entered promiscuous mode
br0: port 2(nas_0_0_35) entering learning state
br0: topology change detected, propagating
br0: port 2(nas_0_0_35) entering forwarding state
device eth0 left promiscuous mode
br0: port 1(eth0) entering disabled state
device nas_0_0_35 left promiscuous mode
br0: port 2(nas_0_0_35) entering disabled state
device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
device nas_0_0_35 entered promiscuous mode
br0: port 2(nas_0_0_35) entering learning state
br0: topology change detected, propagating
br0: port 2(nas_0_0_35) entering forwarding state
ADSL G.992 started
ADSL G.992 channel analysis
ADSL link up, interleaved, us=1984, ds=16511
ATM Soft SAR: ATM link connected.
OAM loopback response not received on PORT/VPI/VCI 0/0/35.
OAM loopback response not received on PORT/VPI/VCI 0/0/35.
OAM loopback response not received on PORT/VPI/VCI 0/0/35.
OAM loopback response not received on PORT/VPI/VCI 0/0/35.
#</code></pre></div><p>Is there any safe remote way to switch to D-Link (or other) firmware and still use it as ADSL Router (in Bridge mode) ?</p>											<p class="post-edited">(Last edited by <strong>NetworkPro</strong> on 22 Oct 2011, 15:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146401">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">NetworkPro</div>
					<div class="post-datetime">
						22 Oct 2011, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>New firmware for this one</p><p><a href="http://translate.google.com/translate?sl=auto&amp;tl=en&amp;js=n&amp;prev=_t&amp;hl=en&amp;ie=UTF-8&amp;layout=2&amp;eotf=1&amp;u=http%3A%2F%2Fwww.mikrotik-bg.net%2Ftopic%2F3954-comtrend-ct-5367-new-firmware-shell">http://translate.google.com/translate?s … ware-shell</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146418">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">NetworkPro</div>
					<div class="post-datetime">
						22 Oct 2011, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>CT-5367 could be the same as Broadtech 8186 IF the Board-ID is the same !</p><p>If someone can share a Turbonett firmware or firmware from another ISP for 96338A-122 that would be cool.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201473">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">NetworkPro</div>
					<div class="post-datetime">
						11 May 2013, 10:05					</div>
				</div>
				<div class="post-content content">
					<p>Looks like Wi-Fi would work with these broadcom drivers:<br />kmod-brcmfmac<br />kmod-brcmsmac</p><p>What is the easiest and fastest way to flash a D-Link CFE ?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259833">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">don.nasco</div>
					<div class="post-datetime">
						4 Jan 2015, 14:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>swert wrote:</cite><blockquote><p>NetworkPro<br />About the bootloader -&gt; PM me.<br />With the original bootloader OpenWrt doesn&#039;t start.I ,ll give you also d-link boot loader and jtag configuration so you will be able <br />to flash openwrt.WIFI will not work - it is gpio based.<br />So if you need wholeflash can give you too but it is bulgarian firmware.</p></blockquote></div><p>Hi,<br />This forum doesn&#039;t support PMs, or I can&#039;t find it.<br />Can you provide me with jtag pinouts?<br />Thanks in advance,<br />Atanas</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>