<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cann&#039;t compile rygel into OpenWrt,Package not found in Vala API dir</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p188733">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">bluewings</div>
					<div class="post-datetime">
						13 Jan 2013, 02:12					</div>
				</div>
				<div class="post-content content">
					<p>I just want to make my router WDR4300 as a renderer,<br />and in the newest trunk version r35094,I found it can support rygel now.<br />So I selected the rygel-playbin,rygel-playbin-gst-suggested packages following the OpenWrt rygel Wiki.<br />But when I try to compile,it show me such error messages:</p><p>error: Package `gupnp-1.0&#039; not found in specified Vala API directories or GObject-Introspection GIR directories<br />error: Package `gupnp-av-1.0&#039; not found in specified Vala API directories or GObject-Introspection GIR directories<br />error: Package `gupnp-dlna-1.0&#039; not found in specified Vala API directories or GObject-Introspection GIR directories<br />error: Package `gee-1.0&#039; not found in specified Vala API directories or GObject-Introspection GIR directories</p><p>Consider adjusting the XDG_DATA_DIRS environment variable if you<br />installed bindings in a non-standard prefix.</p><p>make[3]: *** [/home/admin/openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1/.configured_] Error 1<br />make[3]: Leaving directory `/home/admin/openwrt/trunk/feeds/packages/multimedia/rygel&#039;<br />make[2]: *** [package/feeds/packages/rygel/compile] Error 2<br />make[2]: Leaving directory `/home/admin/openwrt/trunk&#039;<br />make[1]: *** [/home/admin/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/stamp/.package_compile] Error 2</p><p>Anyone who knows why and how to solve such problem?Many thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189152">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">aandyl</div>
					<div class="post-datetime">
						17 Jan 2013, 08:49					</div>
				</div>
				<div class="post-content content">
					<p>I just sent a patch for this, <a href="http://patchwork.openwrt.org/patch/3178/">http://patchwork.openwrt.org/patch/3178/</a></p><p>However, as the patch mail says, I&#039;m having trouble with audio output on the latest trunk. If audio is working in other applications on your router, then you&#039;re probably okay, otherwise, you may want to try building rygel for AA instead of trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190057">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">bluewings</div>
					<div class="post-datetime">
						26 Jan 2013, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for taking a long time to reply,I just tested on trunk r35094 yesterday,<br />the patch working,the audio playback via rygel working well on my router.<br />Thanks for your help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210333">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">FullOpen</div>
					<div class="post-datetime">
						21 Aug 2013, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>Hello,all. I use aandyl&#039;s patch,now it is still in errors like this:</p><p>/media/Openwrt/Openwrt/trunk/staging_dir/toolchain-mips_r2_gcc-4.6-linaro_uClibc-0.9.33.2/lib/gcc/mips-openwrt-linux-uclibc/4.6.4/../../../../mips-openwrt-linux-uclibc/bin/ld: rygel-main.o: undefined reference to symbol &#039;gssdp_client_get_network&#039;<br />/media/Openwrt/Openwrt/trunk/staging_dir/toolchain-mips_r2_gcc-4.6-linaro_uClibc-0.9.33.2/lib/gcc/mips-openwrt-linux-uclibc/4.6.4/../../../../mips-openwrt-linux-uclibc/bin/ld: note: &#039;gssdp_client_get_network&#039; is defined in DSO /media/Openwrt/Openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/lib/libgssdp-1.0.so.3 so try adding it to the linker command line<br />/media/Openwrt/Openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/usr/lib/libgssdp-1.0.so.3: could not read symbols: Invalid operation<br />collect2: ld returned 1 exit status<br />make[8]: *** [rygel] Error 1<br />make[8]: Leaving directory `/media/Openwrt/Openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1/src/rygel&#039;<br />make[7]: *** [all] Error 2<br />make[7]: Leaving directory `/media/Openwrt/Openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1/src/rygel&#039;<br />make[6]: *** [all-recursive] Error 1<br />make[6]: Leaving directory `/media/Openwrt/Openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1/src&#039;<br />make[5]: *** [all-recursive] Error 1<br />make[5]: Leaving directory `/media/Openwrt/Openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1&#039;<br />make[4]: *** [all] Error 2<br />make[4]: Leaving directory `/media/Openwrt/Openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1&#039;<br />make[3]: *** [/media/Openwrt/Openwrt/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/rygel-0.14.1/.built] Error 2<br />make[3]: Leaving directory `/media/Openwrt/Openwrt/trunk/feeds/packages/multimedia/rygel&#039;<br />make[2]: *** [package/feeds/packages/rygel/compile] Error 2<br />make[2]: Leaving directory `/media/Openwrt/Openwrt/trunk&#039;<br />make[1]: *** [/media/Openwrt/Openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/media/Openwrt/Openwrt/trunk&#039;<br />&nbsp; &nbsp;from the above,rygel compilation is passed,but link error,anyone met this problem?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210810">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">aandyl</div>
					<div class="post-datetime">
						26 Aug 2013, 02:12					</div>
				</div>
				<div class="post-content content">
					<p>It never got to a working state with clean trunk.</p><p>I try to keep the wiki page <a href="http://wiki.openwrt.org/doc/howto/rygel">http://wiki.openwrt.org/doc/howto/rygel</a> updated with the latest build instructions.</p><p>Last I tried, building with trunk required <a href="https://github.com/aandyl/openwrt-packages/blob/rygel/README">3 patches</a> to the openwrt build tree and the updated rygel packaging available in the github repo.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210823">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">FullOpen</div>
					<div class="post-datetime">
						26 Aug 2013, 06:11					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your reply, aandyl.</p><p>&nbsp; I&#039;ve made the compilation and the link successfully.But when I run rygel,windows or android phone cannot find the rygel renderer,any advice or could you point out how to setup rygel or run it correctly?</p><p>&nbsp; I really don&#039;t know how to run it in a right way.</p><p>Thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212435">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">aandyl</div>
					<div class="post-datetime">
						15 Sep 2013, 23:09					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the delayed reply, I don&#039;t think I got a notification about your second post. Some things to check:</p><ul><li><p>Make sure rygel really is running, note that on OpenWrt, when a system service is not part of the base image (i.e. is installed as a package), it is not enabled by default, it must be enabled with /etc/init.d/rygel enable</p></li><li><p>Try using the gupnp-av-cp test control point.</p></li><li><p>Check for rygel messages in the syslog using logread</p></li><li><p>Check that you have set an interface for rygel if necessary and that it&#039;s not blocked by the firewall</p></li><li><p>If all else fails, use tcpdump to check the network traffic</p></li></ul>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247178">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">serra82</div>
					<div class="post-datetime">
						16 Sep 2014, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to compile rygel in barrier breaker, but I have few error.<br />The rygel repository is:<br /><a href="https://github.com/aandyl/openwrt-packages.git">https://github.com/aandyl/openwrt-packages.git</a></p><p>Anyone has succeeded?</p><p>thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247262">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">aandyl</div>
					<div class="post-datetime">
						17 Sep 2014, 08:29					</div>
				</div>
				<div class="post-content content">
					<p>I haven&#039;t tried recently. What is the error? Have you applied the patches linked from the README in that repository?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247530">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">serra82</div>
					<div class="post-datetime">
						19 Sep 2014, 22:04					</div>
				</div>
				<div class="post-content content">
					<p>this is the error:<br />WARNING: skipping gst-mod-mpeg2dec -- package not selected<br />WARNING: skipping gst-plugins-ugly -- package not selected<br />make[3]: Leaving directory `/home/serra82/openwrt/feeds/rygel/multimedia/gst-plugins-ugly&#039;<br />make[3]: Entering directory `/home/serra82/openwrt/package/utils/util-linux&#039;<br />make -C /home/serra82/openwrt/build_dir/host/util-linux-2.24.1/libuuid install<br />make[4]: Entering directory `/home/serra82/openwrt/build_dir/host/util-linux-2.24.1/libuuid&#039;<br />make[4]: *** No rule to make target `install&#039;.&nbsp; Stop.<br />make[4]: Leaving directory `/home/serra82/openwrt/build_dir/host/util-linux-2.24.1/libuuid&#039;<br />make[3]: *** [/home/serra82/openwrt/staging_dir/host/stamp/.util-linux_installed] Error 2<br />make[3]: Leaving directory `/home/serra82/openwrt/package/utils/util-linux&#039;<br />make[2]: *** [package/utils/util-linux/host/compile] Error 2<br />make[2]: Leaving directory `/home/serra82/openwrt&#039;<br />make[1]: *** [/home/serra82/openwrt/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/serra82/openwrt&#039;<br />make: *** [world] Error 2</p><p>I applied the patches, but there was an error with patch 4467 so I applied the relative change manually; I think that is the problem!<br />thank you</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>