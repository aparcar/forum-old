<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54G3G: Unable to flash with openWRT firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p40625">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cmk</div>
					<div class="post-datetime">
						11 Jan 2007, 08:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>I have a unit of this linksys 3G router with me. Current (original) firmware version on it is </p><p>&nbsp; v2.00.18-EM, Dec. 4, 2006</p><p>according to the Router Status page on the router web interface.</p><p>Downloaded the latest firmware from </p><p>&nbsp; <a href="http://downloads.openwrt.org/whiterussian/rc6/bin/openwrt-wrt54g3g-squashfs.bin">http://downloads.openwrt.org/whiterussi … uashfs.bin</a></p><p>as well as the snapshot version from</p><p>&nbsp; <a href="http://downloads.openwrt.org/people/nbd/whiterussian/default/openwrt-wrt54g3g-squashfs.bin">http://downloads.openwrt.org/people/nbd … uashfs.bin</a></p><p>I set the router to default factory settings, removed the vodafone 3G card from the router, then tried the following ways of firmware flashing:</p><p>1. Via the router web interface. Keep getting &quot;Upgrade are failed&quot; messages so gave up after several tries.</p><p>2. tftp method from both linux as well as windows command prompt. No dice here also as I keep getting &quot;Invalid Password&quot; after many tries. Probably because this 3g router has boot_wait turned off by default (according to a page on openWRT wiki). Tried the &quot;Ping Exploit&quot; method to turn on boot_wait which also failed.</p><p>I also tried using the &quot;Linksys Firmware Upgrade Utility&quot; downloaded from linksys website which tries to downgrade the router firmware version to 1.99.8. Even though the utility reported that it completed successfully, the firmware stayed as v2.00.18-EM. Tried flashing via the router web interface with the v1.99.8 firmware (the .bin file downloaded from linksys website) - same &quot;Upgrade are failed&quot; messages.</p><p>I found some posts on this forum where people have successfully flashed wrt54g3g routers with their own openWRT images so I thought what I am trying to do should be pretty simple. Did I miss something? </p><p>Does anyone have any advice for me? Any other ways of flashing this 3g router&#039;s firmware?</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40630">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						11 Jan 2007, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>Please try the image from <a href="http://downloads.openwrt.org/people/nbd/09test/">http://downloads.openwrt.org/people/nbd/09test/</a> and see if it&#039;s fixed there.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40631">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">cmk</div>
					<div class="post-datetime">
						11 Jan 2007, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi nbd,</p><p>Thanks for your reply.</p><p>I tried the image from the liink you posted but still no luck. Tried both upgrading from the web interface as well as using tftp. </p><br /><p>$ tftp 192.168.1.1<br />tftp&gt; binary<br />tftp&gt; rexmt 1<br />tftp&gt; timeout 60<br />tftp&gt; trace<br />Packet tracing on.<br />tftp&gt; put openwrt-wrt54g3g-squashfs.bin<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-wrt54g3g-squashfs.bin, mode=octet&gt;<br />received ERROR &lt;code=100, msg=Invalid Password !!&gt;<br />Error code 100: Invalid Password !!<br />tftp&gt;</p><br /><p>I&#039;ve got this feeling its nothing to do with the openWRT images. Could it be that this 3g router is locked in some way to prevent firmware updates?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40685">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">cmk</div>
					<div class="post-datetime">
						12 Jan 2007, 09:25					</div>
				</div>
				<div class="post-content content">
					<p>Tried pinhole reset and then upload via web interface as well as tftp. Both methods failed.</p><p>Does anyone know if it&#039;s possible to flash the firmware of a WRT54G3G router that is currently using the original firmware version &quot;2.00.18-EM, Dec. 4, 2006&quot;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40762">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">cmk</div>
					<div class="post-datetime">
						14 Jan 2007, 14:11					</div>
				</div>
				<div class="post-content content">
					<p>Tried compiling and using linksys-tftp v1.21 to upload the firmware. Still not successful.</p><p>The packaging for this 3G router says its model is WRT54G3G.&nbsp; However, the router&#039;s status page says</p><p>&nbsp; &nbsp; Router Name :&nbsp; &nbsp;&nbsp; &nbsp; WRT54G3G-EM</p><p>Is this difference significant?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40816">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">cmk</div>
					<div class="post-datetime">
						15 Jan 2007, 08:31					</div>
				</div>
				<div class="post-content content">
					<p>Finally managed to upload a openwrt image I compiled myself to my 3G router.</p><p>The clue came from pogarek&#039;s posting:</p><p>&nbsp; <a href="http://forum.openwrt.org/viewtopic.php?pid=35934#p35934">http://forum.openwrt.org/viewtopic.php?pid=35934#p35934</a></p><p>where he mentioned that he was able to upgrade his own problematic 3G router with a particular &quot;WRT54G3G_1.99.8.beta-etsi_ETSI....&quot; image but not any of the others. I downloaded that beta image and determined that it uses &#039;W3GN&#039; as the code pattern.</p><p>So I compiled my own openwrt image but tagged the 3G .bin file with W3GN instead. Upgrade to openwrt firmware via the original linksys web interface went through without a hitch. Woot!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40857">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">aakridge</div>
					<div class="post-datetime">
						16 Jan 2007, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m beginning to think that this open-source freedom is for techies only. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> The OpenWRT wiki provides are &quot;procedure&quot; to choose the applicable firmware, but it&#039;s not clear to someone like myself. I&#039;m looking for a table that says, if your model is Buffalo WHRHPG54, click this link. Then, that link would take me to a file that I can download. Then, in the router, which has a cool upload button, I magically upload the correct file that I downloaded. Is this file &quot;flashing the hardware&quot;? Heck if I know. Can someone &quot;break it down for me&quot;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40859">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">aakridge</div>
					<div class="post-datetime">
						16 Jan 2007, 00:35					</div>
				</div>
				<div class="post-content content">
					<p>By the way, the used Buffalo that I borrowed from a friend has the following firmware installed. That&#039;s what the interface says.</p><p>DD-WRT v23 SP2 (09/15/06) voip</p>											<p class="post-edited">(Last edited by <strong>aakridge</strong> on 16 Jan 2007, 00:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48871">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">watz</div>
					<div class="post-datetime">
						22 May 2007, 00:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmk wrote:</cite><blockquote><p>...I downloaded that beta image and determined that it uses &#039;W3GN&#039; as the code pattern...</p></blockquote></div><p>You saved my life !</p><p>I had exactly the same firmware on my brand new WRT54G3G-EM v1.1 from amazon and was unable to flash any of the common firmwares including OpenWRT.<br />Via web interface it simply aborted with &quot;Upgrade are failed&quot; and the firmware installer claimed to have it successfully installed while it actually hadn&#039;t.<br />However, I simply took the latest EU firmware from the German linksys site and changed the first four bytes in the bin file from &quot;W54F&quot; to &quot;W3GN&quot;.<br />That worked like a charm and I&#039;m pretty pleased to have my Merlin XU870 card running with 2.2 MBit HSDPA :-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>