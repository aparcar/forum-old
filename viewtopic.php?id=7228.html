<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Help with pppoe and WL-500gP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p33430">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nik247</div>
					<div class="post-datetime">
						7 Sep 2006, 21:17					</div>
				</div>
				<div class="post-content content">
					<p>I can&#039;t start successful pppoe session on WAN port of WL-500gP.<br />I take any changes from forum an WiKi without result - only PADO timeout.<br />Who have successful setup pppoe - pls give me logout:<br />1)nvram show | sort<br />2)brctl show</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p33484">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nik247</div>
					<div class="post-datetime">
						8 Sep 2006, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>Fixed now</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35828">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ttest</div>
					<div class="post-datetime">
						22 Oct 2006, 01:51					</div>
				</div>
				<div class="post-content content">
					<p>How did you fix it? I may have a similar problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35834">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dev</div>
					<div class="post-datetime">
						22 Oct 2006, 09:50					</div>
				</div>
				<div class="post-content content">
					<p>@nik247: please post your &quot;ipkg list_installed&quot; and &quot;nvram show| sort&quot; result</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35838">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">BioByte</div>
					<div class="post-datetime">
						22 Oct 2006, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>I have exactly the same problem.&nbsp; I can connect to pppoe, after this sequence of commands, but I can&#039;t get access to it from LAN (route not working). After reboot I always get &quot;PADO time-out.&quot; It seems the problem in bridge &quot;vlan0 eth2&quot;, but I tried break it manualy, it does not help <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> Is any one known where is the problem?</p><div class="codebox"><pre><code>mtd erase nvram
reboot</code></pre></div><p>When it up:<br /></p><div class="codebox"><pre><code>nvram set boot_wait=on

nvram set wan_device=eth0
nvram set lan_ifnames=&quot;vlan0 eth2&quot;
nvram set wlan_ifname=eth2
nvram set vlan1ports=&quot;0 5&quot;

nvram set wan_ifname=ppp0
nvram set wan_proto=pppoe
nvram set ppp_idletime=10
nvram set ppp_mtu=1492
nvram set ppp_passwd=...
nvram set ppp_redialperiod=15
nvram set ppp_username=...
nvram commit

ifup wan</code></pre></div><p>At this point, PPPoE connect without a problem, but routing from LAN not work. When I reboot my wl500gP, I permanently get PADO time-out...</p>											<p class="post-edited">(Last edited by <strong>BioByte</strong> on 23 Oct 2006, 06:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35905">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nik247</div>
					<div class="post-datetime">
						23 Oct 2006, 00:49					</div>
				</div>
				<div class="post-content content">
					<p>Ok. I will be post details config tomorow. Router with OpenWRT in work place. I had problem with PPPoE on OpenWRT , but after analise original firm. working config for PPPoE (on second WL500gP)&nbsp; I take the same. Wait pls tomorow.</p><p>My result config&nbsp; with working PPPoE&nbsp; (and WPA too)</p><p>root@OpenWrt:~# ipkg list_installed | sort<br />Successfully terminated.<br />base-files - 8 - OpenWrt filesystem structure and scripts<br />base-files-brcm - 2 - Board/architecture specific files<br />bridge - 1.0.6-1 - Ethernet bridging tools<br />busybox - 1.00-3 - Core utilities for embedded Linux systems<br />dnsmasq - 2.27-1 - A lightweight DNS and DHCP server<br />dropbear - 0.48.1-1 - a small SSH 2 server/client designed for small memory environments.<br />e2fsprogs - 1.38-1 -<br />fdisk - 2.12r-1 -<br />glib1 - 1.2.10-1 - The GLib library of C routines<br />haserl - 0.8.0-1 - a CGI wrapper to embed shell scripts in HTML documents<br />iperf - 2.0.2-1 -<br />ipkg - 0.99.149-2 - lightweight package management system<br />iptables - 1.3.3-2 - The netfilter firewalling software for IPv4<br />iwlib - 28.pre7-1 - Library for setting up WiFi cards using the Wireless Extension<br />kernel - 2.4.30-brcm-3 -<br />kmod-brcm-wl - 2.4.30-brcm-3 - Proprietary driver for Broadcom Wireless chipsets<br />kmod-diag - 2.4.30-brcm-3 - Driver for Router LEDs and Buttons<br />kmod-ext3 - 2.4.30-brcm-3 - Kernel modules for EXT3 filesystem support<br />kmod-mppe - 2.4.30-brcm-3 - Microsoft PPP Encryption/Compression support<br />kmod-ppp - 2.4.30-brcm-3 - PPP support<br />kmod-pppoe - 2.4.30-brcm-3 - PPP over Ethernet support<br />kmod-switch - 2.4.30-brcm-1 - switch driver for robo/admtek switch<br />kmod-usb-core - 2.4.30-brcm-3 - Kernel Support for USB<br />kmod-usb-ohci - 2.4.30-brcm-3 - Kernel driver for OHCI USB controllers<br />kmod-usb-storage - 2.4.30-brcm-3 - Kernel modules for USB storage support<br />kmod-usb-uhci - 2.4.30-brcm-3 - Kernel driver for UHCI USB controllers<br />kmod-usb2 - 2.4.30-brcm-3 - Kernel driver for USB2 controllers<br />kmod-vfat - 2.4.30-brcm-3 - Kernel modules for VFAT filesystem support<br />kmod-wlcompat - 2.4.30-brcm-3 - Compatibility module for using the Wireless Extension with broadcom&#039;s wl<br />libgcc - 3.4.4-8 - GCC support library<br />libncurses - 5.2-7 - a terminal handling library and common terminal definitions<br />libopenssl - 0.9.7i-2 - OpenSSL (Secure Socket Layer) libraries<br />libpcap - 0.9.4-1 - a low-level packet capture library<br />libpthread - 0.9.27-1 - POSIX threads library<br />libusb - 0.1.10a-1 - a Library for accessing Linux USB devices<br />lsusb - 0.71-1 - A program to list USB devices<br />mc - 4.6.1 -<br />mtd - 4 - Tool for modifying the flash chip<br />nas - 3.90.37-16 -<br />nvram - 1 - NVRAM utility and libraries for Broadcom hardware<br />pciutils - 2.2.1-1 -<br />ppp - 2.4.3-7 - a PPP (Point-to-Point Protocol) daemon (with MPPE/MPPC support)<br />ppp-mod-pppoe - 2.4.3-7 - a PPPoE (PPP over Ethernet) plugin for PPP<br />robocfg - 0.01-1 - Broadcom BCM5325E/536x switch configuration utility<br />screen - 4.0.2-1 - A &#039;window manager&#039; for the terminal session<br />tcpdump - 3.8.3-1 - A tool for network monitoring and data acquisition.<br />uclibc - 0.9.27-8 - Standard C library for embedded Linux systems<br />uclibc++ - 0.1.11-2 - A standard c++ library for embedded systems<br />vsftpd - 2.0.4-1 - a fast and secure FTP server<br />webif - 0.2-1 - A modular, extensible web interface for OpenWrt.<br />wificonf - 6 - Replacement utility for wlconf<br />wireless-tools - 28.pre7-1 - Tools for setting up WiFi cards using the Wireless Extension<br />wl - 3.90.37-1 - Proprietary Broadcom utility for setting wireless driver parameters<br />zlib - 1.2.2-2 - an implementation of the deflate compression method (library)</p><p>root@OpenWrt:~# nvram show| sort<br />size: 3782 bytes (28986 left)<br />acc_num=0<br />app_running=0<br />apps_dl=1<br />apps_dl_seed=24<br />apps_dl_share=0<br />apps_dl_share_port_from=10000<br />apps_dl_share_port_to=10050<br />apps_dms=1<br />apps_dms_usb_port=1<br />apps_pool=harddisk/part0<br />apps_share=share<br />boardflags=0x0110<br />boardnum=45<br />boardrev=0x10<br />boardtype=0x042f<br />boot_wait=on<br />br0_ifnames=vlan0 eth1<br />cfe_wait_led_gpio=1<br />cfe_wait_on_restore=0<br />clkfreq=264<br />computer_name=WL500g.Premium<br />custom_shutdown_command=stoprcasus<br />default_boardflags=0x0110<br />default_lan_proto=dhcp_server<br />default_new_disk_action=no_action<br />default_start_page=start_system.asp<br />default_workgroup=WORKGROUP<br />dhcp1_end=192.168.2.254<br />dhcp1_start=192.168.2.2<br />dhcp_end=192.168.1.254<br />dhcp_start=192.168.1.2<br />dl_ram_addr=a0001000<br />early_startup_command=convertasus<br />eject_from_web=0<br />et0macaddr=00:17:31:1B:03:0B<br />et0mdcport=0<br />et0phyaddr=30<br />et1macaddr=40:10:18:00:00:2d<br />et1mdcport=1<br />et1phyaddr=31<br />firmver=1.9.6.9<br />ftp_running=0<br />gpio6=robo_reset<br />gpio_0_name=soft_power_switch<br />gpio_3_name=power_enable<br />hardware_version=WL500gH-01-00-00-00<br />httpd_die_reboot=1<br />kernel_gpio_init_out_3=1<br />kernel_gpio_init_out_6=1<br />lan1_ipaddr=192.168.2.1<br />lan1_netmask=255.255.255.0<br />lan_dns=192.168.1.247<br />lan_gateway=192.168.2.100<br />lan_hwaddr=00:17:31:1B:03:0B<br />lan_ifname=br0<br />lan_ifnames=vlan0 eth2<br />lan_ipaddr=192.168.2.144<br />lan_netmask=255.255.255.0<br />lan_proto=static<br />lan_stp=0<br />landevs=vlan0 wl0<br />machine_name=WL500gP<br />misc_io_mode=bcmgpio<br />no_br=0<br />os_date=May 31 2006<br />os_flash_addr=bfc40000<br />os_ram_addr=80001000<br />os_version=3.131.20.0<br />pa0maxpwr=78<br />pmon_ver=CFE 3.91.23.0<br />ppp_demand=<br />ppp_idletime=1800<br />ppp_mtu=1492<br />ppp_passwd=xxx<br />ppp_redialperiod=20<br />ppp_username=xxx<br />pppoe_demand=<br />pppoe_idletime=1800<br />pppoe_ifname=vlan1<br />pppoe_passwd=xxx<br />pppoe_username=xxx<br />preferred_lang=EN<br />primary_ifname=eth0<br />printer_ifname=usb<br />productid=WL500g.Premium<br />rescue_gpio=4<br />reset_gpio=7<br />scratch=a0180000<br />sdram_config=0x0062<br />sdram_init=0x0009<br />sdram_ncdl=0x306<br />sdram_refresh=0x0000<br />sp_battle_ips=1<br />st_ftp_mode=1<br />st_max_user=6<br />st_samba_mode=1<br />st_samba_workgroup=WORKGROUP<br />startup_command=rcasus<br />swap_on=0<br />usb_disc0_index=0<br />usb_disc0_port=0<br />usb_disc1_index=0<br />usb_disc1_port=0<br />vlan0hwname=et0<br />vlan0ports=1 2 3 4 5*<br />vlan1hwname=et0<br />vlan1ports=0 5*<br />wait_time=1<br />wan0_ifname=vlan1<br />wan0_ifnames=vlan1<br />wan_device=vlan1<br />wan_hostname=OpenWrt<br />wan_ifname=ppp0<br />wan_ifnames=eth0<br />wan_ipaddr=192.168.3.144<br />wan_netmask=255.255.255.0<br />wan_pppoe_demand=1<br />wan_pppoe_idletime=1800<br />wan_pppoe_mru=1492<br />wan_pppoe_mtu=1492<br />wan_proto=pppoe<br />wan_vport=4<br />wandevs=et0<br />watchdog=5000<br />wl0_afterburner=auto<br />wl0_akm=psk psk2<br />wl0_antdiv=-1<br />wl0_ap_isolate=0<br />wl0_auth=0<br />wl0_auth_mode=none<br />wl0_bcn=100<br />wl0_channel=5<br />wl0_closed=1<br />wl0_corerev=9<br />wl0_country_code=DE<br />wl0_crypto=tkip+aes<br />wl0_dfs_postism=60<br />wl0_dfs_preism=60<br />wl0_dtim=1<br />wl0_frag=2346<br />wl0_frameburst=off<br />wl0_gmode=1<br />wl0_gmode_protection=off<br />wl0_guest_auth_mode_1=open<br />wl0_guest_crypto_1=0<br />wl0_guest_key_1=1<br />wl0_guest_ssid_1=guest<br />wl0_guest_wep_x_1=0<br />wl0_guest_wpa_gtk_rekey_1=0<br />wl0_hwaddr=00:17:31:1B:03:0B<br />wl0_ifname=eth2<br />wl0_infra=1<br />wl0_key=2<br />wl0_lazywds=0<br />wl0_macmode=disabled<br />wl0_maxassoc=128<br />wl0_mode=ap<br />wl0_mode_ex=ap<br />wl0_mrate=0<br />wl0_net_reauth=36000<br />wl0_phytype=g<br />wl0_phytypes=g<br />wl0_plcphdr=long<br />wl0_preauth=1<br />wl0_radio=1<br />wl0_radioids=BCM2050<br />wl0_radius_port=1812<br />wl0_rate=0<br />wl0_rateset=default<br />wl0_reg_mode=off<br />wl0_rts=2347<br />wl0_ssid=MyWL<br />wl0_wds_timeout=1<br />wl0_wep=disabled<br />wl0_wme=off<br />wl0_wme_ap_be=15 63 3 0 0 off<br />wl0_wme_ap_bk=15 1023 7 0 0 off<br />wl0_wme_ap_vi=7 15 1 6016 3008 off<br />wl0_wme_ap_vo=3 7 1 3264 1504 off<br />wl0_wme_no_ack=off<br />wl0_wme_sta_be=15 1023 3 0 0 off<br />wl0_wme_sta_bk=15 1023 7 0 0 off<br />wl0_wme_sta_vi=7 15 2 6016 3008 off<br />wl0_wme_sta_vo=3 7 2 3264 1504 off<br />wl0_wpa_gtk_rekey=0<br />wl0_wpa_psk=XXXXXXXXXXXXXXXXXXXXXXX<br />wl0id=0x4320<br />wlan_hardware_present=yes<br />wlan_ifname=eth2<br />wlan_ipaddr=192.168.21.1<br />wlan_netmask=255.255.255.0<br />x_Setting=1</p>											<p class="post-edited">(Last edited by <strong>nik247</strong> on 23 Oct 2006, 14:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36191">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">BioByte</div>
					<div class="post-datetime">
						28 Oct 2006, 14:44					</div>
				</div>
				<div class="post-content content">
					<p><strong>nik247</strong><br />Thank you! I&#039;m now all up and running.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>