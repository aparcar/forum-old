<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Un-brick a WG302</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p160715">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gtabomber</div>
					<div class="post-datetime">
						13 Mar 2012, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>Need a little bit of help here.</p><p>WG302v1.</p><p>I did have openwrt loaded. It was a bit buggy, i did some stuff, now it wont boot. Ive tried re-installing/flashing openwrt and the original netgear software. No joy.</p><div class="codebox"><pre><code>== Executing boot script in 2.000 seconds - enter ^C to abort
RedBoot&gt; fis load -b 0x01600000 kernel
No image &#039;kernel&#039; found
RedBoot&gt; exec 0x01600000
Base address unknown - use &quot;-b&quot; option
RedBoot&gt;</code></pre></div><div class="codebox"><pre><code>RedBoot(tm) bootstrap and debug environment [ROM]
Red Hat certified release, version 1.92 - built 10:44:29, Apr  9 2004

Platform: IXDP425 Development Platform (XScale)
Copyright (C) 2000, 2001, 2002, Red Hat, Inc.

RAM: 0x00000000-0x10000000, 0x0001f9b8-0x0ffd1000 available
FLASH: 0x50000000 - 0x50800000, 64 blocks of 0x00020000 bytes each.

Bootcode Version 1.9 2004/04/08
== Executing boot script in 2.000 seconds - enter ^C to abort
^C
RedBoot&gt; ^C
RedBoot&gt; fis init -f
About to initialize [format] FLASH image system - continue (y/n)? y
*** Initialize FLASH Image System
... Erase from 0x50060000-0x507c0000: Err = a2

   initialization failed 0x50060000: Error trying to erase
... Erase from 0x507e0000-0x507e0000:
... Erase from 0x50800000-0x50800000:
... Unlock from 0x507e0000-0x50800000: .
... Erase from 0x507e0000-0x50800000: .
... Program from 0x0ffdf000-0x0ffff000 at 0x507e0000: .
... Lock from 0x507e0000-0x50800000: .
RedBoot&gt;</code></pre></div><div class="codebox"><pre><code>RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0x50000000  0x50000000  0x00060000  0x00000000
RedBoot config    0x507C0000  0x507C0000  0x00001000  0x00000000
Config backup     0x507C1000  0x507C1000  0x00001000  0x00000000
FIS directory     0x507E0000  0x507E0000  0x00020000  0x00000000</code></pre></div><div class="codebox"><pre><code>RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-wg302v1-zImage
Using default protocol (TFTP)
Raw file loaded 0x0001fc00-0x000f525f, assumed entry at 0x0001fc00
RedBoot&gt; fis create kernel
Can&#039;t locate e0000(917504) bytes free in FLASH
RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-ixp4xx-generic-squashfs.img
Using default protocol (TFTP)
Raw file loaded 0x0001fc00-0x001dfbff, assumed entry at 0x0001fc00
RedBoot&gt; fis create -r  0x0001fc00 -l 0x620000 rootfs
Can&#039;t locate 620000(6422528) bytes free in FLASH
RedBoot&gt;</code></pre></div><p>Here is an attempt to get the netgear firmware back on by holding the reset button</p><div class="codebox"><pre><code>--------------------------------------------------------------------------------
Checksum of firmware is correct!------------------------------------------------
Raw file loaded 0x01600000-0x019d3007, assumed entry at 0x01600000--------------
*** Initialize FLASH Image System-----------------------------------------------
... Erase from 0x50060000-0x507c0000: Err = a2----------------------------------
--------------------------------------------------------------------------------
   initialization failed 0x50060000: Error trying to erase----------------------
... Erase from 0x507e0000-0x507e0000: ------------------------------------------
... Erase from 0x50800000-0x50800000: ------------------------------------------
... Unlock from 0x507e0000-0x50800000: .----------------------------------------
... Erase from 0x507e0000-0x50800000: .-----------------------------------------
... Program from 0x0ffdf000-0x0ffff000 at 0x507e0000: .-------------------------
... Lock from 0x507e0000-0x50800000: .------------------------------------------
Flash can&#039;t be initialized! Error 3---------------------------------------------
== Executing boot script in 2.000 seconds - enter ^C to abort-------------------
RedBoot&gt; fis load -b 0x01600000 kernel------------------------------------------
No image &#039;kernel&#039; found---------------------------------------------------------
RedBoot&gt; exec 0x01600000--------------------------------------------------------
Using base address 0x01600000 and length 0x003d3008-----------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
-</code></pre></div><p>any help, greatly appreciated!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p160985">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gtabomber</div>
					<div class="post-datetime">
						15 Mar 2012, 20:07					</div>
				</div>
				<div class="post-content content">
					<p>bump to get my lovely AP running again :&#039;(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p160993">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						15 Mar 2012, 21:06					</div>
				</div>
				<div class="post-content content">
					<p>Best info/help I have to offer is <a href="http://wiki.openwrt.org/doc/howto/generic.debrick">here</a>.<br />You could find some info <a href="http://wiki.openwrt.org/doc/techref/bootloader/redboot">redboot</a>, but don&#039;t expect much.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p160994">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						15 Mar 2012, 21:09					</div>
				</div>
				<div class="post-content content">
					<p>Flash erase errors are always a bad sign. If software causes (bugs) can be ruled out it generally hints at a hardware problem, in the best case it might be simply an instable power supply (too low voltage, line noise, bad grounding, leaking currents) in the worst case the flash chip is indeed broken and you cannot do much (aside from soldering another one).</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>