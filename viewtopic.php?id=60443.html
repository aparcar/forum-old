<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Client Roaming (disconnect on bad connection)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p297016">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Taulin</div>
					<div class="post-datetime">
						22 Oct 2015, 13:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />Im running a Raspberry Pi in wlan client mode with OpenWrt CC 15.05. I can connect to the Ap without any problems and my APÂ´s all have the same configuration. My Pi currently runs in my company and is mounted on a moveable system so the location of my Pi changes several times. And because of this reason it can be that it lose the connection to the current AP or get a low signal level. <br />Because of this I want to run a script which checks for example every 10 seconds the link quality and disconnect the client if the quality is below a fixed level. After the disconnect i just bring the wlan interface up again and it should choose the AP with the best link quality.<br />So i need a parameter to check the connection. I need to know which one is the best and how can i get it?<br />I used different commands to show up my wlan stick and my connection but i would like to prefer to get the link quality of my connection to compare.<br />I tried commands like:<br />iw dev wlan0 station dump<br />iw dev wlan0 link<br />iwconfig</p><p>In iwconfig i got the link quality but this just shows up the quality by connecting my PI to the AP but not the actual one(has something to do with running the system in client mode). If i use this command i always get the same link quality so this wont work. Is there any other command to get the actual link quality or is there an other parameter which is better to use?<br />Are there any better solutions of my problem or does anybody have already a solution for this?</p><p>Thanks in advance</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>