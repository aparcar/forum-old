<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT (Kamikaze 7.09) -PCMCIA Card support -card not detected.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p70645">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sunny.pat01</div>
					<div class="post-datetime">
						8 Jul 2008, 16:41					</div>
				</div>
				<div class="post-content content">
					<p>Dear Friends,<br />I have implemented OpenWRT&nbsp; on IXP425 based Board which has Texas Instruments PCI1520 PC card Cardbus .<br />Now i am going to put Planex`s Wireless LAN card which has relatek RT2860 chip.<br />But after enableing PC Card bus in kernel , card insert event is not at all occuring,<br />I am attaching lspci -vv view below and kernel boot log, </p><p>Any help would be greatly appriciated,</p><br /><br /><p>root@OpenWrt:/# lspci -vv<br />00:14.0 USB Controller: VIA Technologies, Inc. VT82xxxxx UHCI USB 1.1 Controller (rev 50) (prog-if 00 [UHCI])<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: VIA Technologies, Inc. (Wrong ID) USB Controller<br />&nbsp; &nbsp; &nbsp; &nbsp; Control: I/O+ Mem- BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B-<br />&nbsp; &nbsp; &nbsp; &nbsp; Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR-<br />&nbsp; &nbsp; &nbsp; &nbsp; Latency: 22, Cache Line Size 08<br />&nbsp; &nbsp; &nbsp; &nbsp; Interrupt: pin A routed to IRQ 7<br />&nbsp; &nbsp; &nbsp; &nbsp; Region 4: I/O ports at 1000 [size=32]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [80] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Flags: PMEClk- DSI- D1- D2- AuxCurrent=375mA PME(D0+,D1-,D2-,D3hot+,D3cold+)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Status: D0 PME-Enable- DSel=0 DScale=0 PME-</p><p>00:14.1 USB Controller: VIA Technologies, Inc. VT82xxxxx UHCI USB 1.1 Controller (rev 50) (prog-if 00 [UHCI])<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: VIA Technologies, Inc. (Wrong ID) USB Controller<br />&nbsp; &nbsp; &nbsp; &nbsp; Control: I/O+ Mem- BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B-<br />&nbsp; &nbsp; &nbsp; &nbsp; Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR-<br />&nbsp; &nbsp; &nbsp; &nbsp; Latency: 22, Cache Line Size 08<br />&nbsp; &nbsp; &nbsp; &nbsp; Interrupt: pin B routed to IRQ 7<br />&nbsp; &nbsp; &nbsp; &nbsp; Region 4: I/O ports at 1020 [size=32]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [80] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Flags: PMEClk- DSI- D1- D2- AuxCurrent=375mA PME(D0+,D1-,D2-,D3hot+,D3cold+)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Status: D0 PME-Enable- DSel=0 DScale=0 PME-</p><p>00:14.2 USB Controller: VIA Technologies, Inc. USB 2.0 (rev 51) (prog-if 20 [EHCI])<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: VIA Technologies, Inc. (Wrong ID) Unknown device 1234<br />&nbsp; &nbsp; &nbsp; &nbsp; Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV+ VGASnoop- ParErr- Stepping- SERR- FastB2B-<br />&nbsp; &nbsp; &nbsp; &nbsp; Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR-<br />&nbsp; &nbsp; &nbsp; &nbsp; Latency: 22, Cache Line Size 08<br />&nbsp; &nbsp; &nbsp; &nbsp; Interrupt: pin C routed to IRQ 7<br />&nbsp; &nbsp; &nbsp; &nbsp; Region 0: Memory at 49002000 (32-bit, non-prefetchable) [size=256]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [80] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Flags: PMEClk- DSI- D1- D2- AuxCurrent=375mA PME(D0+,D1-,D2-,D3hot+,D3cold+)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Status: D0 PME-Enable- DSel=0 DScale=0 PME-</p><p>00:15.0 CardBus bridge: Texas Instruments PCI1520 PC card Cardbus Controller (rev 01)<br />&nbsp; &nbsp; &nbsp; &nbsp; Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B-<br />&nbsp; &nbsp; &nbsp; &nbsp; Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR-<br />&nbsp; &nbsp; &nbsp; &nbsp; Latency: 168, Cache Line Size 08<br />&nbsp; &nbsp; &nbsp; &nbsp; Interrupt: pin A routed to IRQ 6<br />&nbsp; &nbsp; &nbsp; &nbsp; Region 0: Memory at 49000000 (32-bit, non-prefetchable) [size=4K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Bus: primary=00, secondary=01, subordinate=04, sec-latency=176<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory window 0: 48000000-483ff000 (prefetchable)<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory window 1: 48400000-487ff000<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O window 0: 00000000-000000ff<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O window 1: 00000400-000004ff<br />&nbsp; &nbsp; &nbsp; &nbsp; BridgeCtl: Parity+ SERR- ISA- VGA- MAbort+ &gt;Reset+ 16bInt+ PostWrite+<br />&nbsp; &nbsp; &nbsp; &nbsp; 16-bit legacy interface ports at 0001</p><p>00:15.1 CardBus bridge: Texas Instruments PCI1520 PC card Cardbus Controller (rev 01)<br />&nbsp; &nbsp; &nbsp; &nbsp; Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B-<br />&nbsp; &nbsp; &nbsp; &nbsp; Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR-<br />&nbsp; &nbsp; &nbsp; &nbsp; Latency: 168, Cache Line Size 08<br />&nbsp; &nbsp; &nbsp; &nbsp; Interrupt: pin A routed to IRQ 6<br />&nbsp; &nbsp; &nbsp; &nbsp; Region 0: Memory at 49001000 (32-bit, non-prefetchable) [size=4K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Bus: primary=00, secondary=05, subordinate=08, sec-latency=176<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory window 0: 48800000-48bff000 (prefetchable)<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory window 1: 48c00000-48fff000<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O window 0: 00000800-000008ff<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O window 1: 00000c00-00000cff<br />&nbsp; &nbsp; &nbsp; &nbsp; BridgeCtl: Parity+ SERR- ISA- VGA- MAbort+ &gt;Reset+ 16bInt+ PostWrite+<br />&nbsp; &nbsp; &nbsp; &nbsp; 16-bit legacy interface ports at 0001</p><p>root@OpenWrt:#</p><br /><br /><br /><br /><br /><br /><p>RedBoot&gt; exec<br />Using base address 0x00029c00 and length 0x00103a54<br />Uncompressing Linux........................................................................ done, booting the kernel.<br />Linux version 2.6.21.6 (root@dev) (gcc version 4.1.2) #62 Tue Jul 8 17:07:30 JST 2008<br />CPU: XScale-IXP42x Family [690541f1] revision 1 (ARMv5TE), cr=000039ff<br />Machine: ADI Engineering Pronghorn Metro<br />Memory policy: ECC disabled, Data cache writeback<br />CPU0: D VIVT undefined 5 cache<br />CPU0: I cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets<br />CPU0: D cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets<br />Built 1 zonelists.&nbsp; Total pages: 8128<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 32MB = 32MB total<br />Memory: 30164KB available (1940K code, 266K data, 76K init)<br />Mount-cache hash table entries: 512<br />CPU: Testing write buffer coherency: ok<br />NET: Registered protocol family 16<br />IXP4xx: Using 16MiB expansion bus window size<br />PCI: IXP4xx is host<br />PCI: IXP4xx Using indirect access for memory space<br />PCI: bus0: Fast back to back transfers disabled<br />dmabounce: registered device 0000:00:14.0 on pci bus<br />dmabounce: registered device 0000:00:14.1 on pci bus<br />dmabounce: registered device 0000:00:14.2 on pci bus<br />dmabounce: registered device 0000:00:15.0 on pci bus<br />dmabounce: registered device 0000:00:15.1 on pci bus<br />PCI: allocate information for debug&nbsp; mem resource #9:400000@400000 for 0000:00:15.0 ret=[-12]<br />PCI: allocate information for debug&nbsp; mem resource #10:400000@400000 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #9:400000@400000 for 0000:00:15.1 ret=[-12]<br />PCI: allocate information for debug&nbsp; mem resource #10:400000@400000 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #0:1000@1000 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #0:1000@1000 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #0:100@100 for 0000:00:14.2 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #7:100@100 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #8:100@100 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #7:100@100 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #8:100@100 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #4:20@20 for 0000:00:14.0 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #4:20@20 for 0000:00:14.1 ret=[0]<br />PCI: Bus 1, cardbus bridge: 0000:00:15.0<br />&nbsp; IO window: 00000000-000000ff<br />&nbsp; IO window: 00000400-000004ff<br />&nbsp; PREFETCH window: 48000000-483fffff<br />&nbsp; MEM window: 48400000-487fffff<br />PCI: Bus 5, cardbus bridge: 0000:00:15.1<br />&nbsp; IO window: 00000800-000008ff<br />&nbsp; IO window: 00000c00-00000cff<br />&nbsp; PREFETCH window: 48800000-48bfffff<br />&nbsp; MEM window: 48c00000-48ffffff<br />pci 0000:00:15.0: Error creating sysfs bridge symlink, continuing...<br />pci 0000:00:15.1: Error creating sysfs bridge symlink, continuing...<br />Time: OSTS clocksource has been installed.<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NetWinder Floating Point Emulator V0.97 (double precision)<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />IXP4xx Watchdog Timer: heartbeat 60 sec<br />Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0xc8001000 (irq = 13) is a XScale<br />IXP4XX Q Manager 0.2.1 initialized.<br />IXP4XX NPE driver Version 0.3.0 initialized<br />ixp4xx_crypto 0.0.1 registered successfully<br />IXP4XX-Flash.0: Found 1 x16 devices at 0x0 in 16-bit bank<br /> Intel/Sharp Extended Query Table at 0x0031<br />Using buffer write method<br />cfi_cmdset_0001: Erase suspend on write enabled<br />Searching for RedBoot partition table in IXP4XX-Flash.0 at offset 0xfe0000<br />6 RedBoot partitions found on MTD device IXP4XX-Flash.0<br />Creating 6 MTD partitions on &quot;IXP4XX-Flash.0&quot;:<br />0x00000000-0x00080000 : &quot;RedBoot&quot;<br />npe: searching for firmware...<br />npe: found at 0x120b8, unknown/NPE-A func: 03, rev: a.8, size: 1074718860, id: 5003baa8<br />npe: found at 0x3f2ac, IXP465/NPE-A func: 81, rev: 2.0, size: 12848, id: 10810200<br />npe: found at 0x424dc, IXP425/NPE-B func: 01, rev: 2.0, size: 12848, id: 01010200<br />Image loaded to NPE-B Func:1, Rel: 2:0, Status: 82c00000<br />npe: found at 0x4570c, IXP425/NPE-C func: 01, rev: 2.0, size: 12848, id: 02010200<br />Image loaded to NPE-C Func:1, Rel: 2:0, Status: 80c00000<br />0x00080000-0x001a0000 : &quot;kernel&quot;<br />0x001a0000-0x00fc0000 : &quot;rootfs&quot;<br />0x00380000-0x00fc0000 : &quot;rootfs_data&quot;<br />0x00fc0000-0x00fe0000 : &quot;unallocated&quot;<br />0x00fe0000-0x00fff000 : &quot;FIS directory&quot;<br />0x00fff000-0x01000000 : &quot;RedBoot config&quot;<br />PCI: enabling device 0000:00:15.0 (0140 -&gt; 0143)<br />Yenta: CardBus bridge found at 0000:00:15.0 [0000:0000]<br />Yenta: Using CSCINT to route CSC interrupts to PCI<br />Yenta: Routing CardBus interrupts to PCI<br />Yenta TI: socket 0000:00:15.0, mfunc 0x00001002, devctl 0x64<br />Yenta: ISA IRQ mask 0x0000, PCI irq 6<br />Socket status: 30000006<br />pcmcia: parent PCI bridge I/O window: 0x0 - 0xffff<br />pcmcia: parent PCI bridge Memory window: 0x48000000 - 0x4fffffff<br />PCI: enabling device 0000:00:15.1 (0140 -&gt; 0143)<br />Yenta: CardBus bridge found at 0000:00:15.1 [0000:0000]<br />Yenta: Using CSCINT to route CSC interrupts to PCI<br />Yenta: Routing CardBus interrupts to PCI<br />Yenta TI: socket 0000:00:15.1, mfunc 0x00001002, devctl 0x64<br />Yenta: ISA IRQ mask 0x0000, PCI irq 6<br />Socket status: 30000006<br />pcmcia: parent PCI bridge I/O window: 0x0 - 0xffff<br />pcmcia: parent PCI bridge Memory window: 0x48000000 - 0x4fffffff<br />i2c /dev entries driver<br />nf_conntrack version 0.5.0 (256 buckets, 2048 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP westwood registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />XScale DSP coprocessor detected.<br />ixp4xx_mac driver 0.3.1: eth0 on NPE-B with PHY[0] initialized<br />ixp4xx_mac driver 0.3.1: eth1 on NPE-C with PHY[1] initialized<br />drivers/rtc/hctosys.c: unable to open rtc device (rtc0)<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing init memory: 76K<br />Warning: unable to open an initial console.<br />- preinit -<br />switching to jffs2<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /jffs<br />- init -<br />init started:&nbsp; BusyBox v1.4.2 (2008-07-08 10:21:16 JST) multi-call binary</p><p>Please press Enter to activate this console. :</p><br /><p>root@OpenWrt:/# cat /proc/iomem<br />00000000-01ffffff : System RAM<br />&nbsp; 00000000-00000000 : pata_ixp4xx_cf.0<br />&nbsp; &nbsp; 00000000-00000000 : pata_ixp4xx_cf.0<br />&nbsp; 0001b000-001fffff : Kernel text<br />&nbsp; 00200000-00242a6b : Kernel data<br />48000000-4fffffff : PCI Memory Space<br />&nbsp; 48000000-483fffff : PCI CardBus #01<br />&nbsp; 48400000-487fffff : PCI CardBus #01<br />&nbsp; 48800000-48bfffff : PCI CardBus #05<br />&nbsp; 48c00000-48ffffff : PCI CardBus #05<br />&nbsp; 49000000-49000fff : 0000:00:15.0<br />&nbsp; &nbsp; 49000000-49000fff : yenta_socket<br />&nbsp; 49001000-49001fff : 0000:00:15.1<br />&nbsp; &nbsp; 49001000-49001fff : yenta_socket<br />&nbsp; 49002000-490020ff : 0000:00:14.2<br />&nbsp; &nbsp; 49002000-490020ff : ehci_hcd<br />50000000-50ffffff : IXP4XX-Flash.0<br />&nbsp; 50000000-50ffffff : IXP4XXFlash<br />60000000-60003fff : ixp4xx_qmgr.0<br />&nbsp; 60000000-60003fff : ixp_qmgr<br />c8001000-c8001fff : serial8250.0<br />&nbsp; c8001000-c800101f : serial<br />c8006000-c8006fff : ixp4xx_npe.0<br />&nbsp; c8006000-c8006fff : NPE-A<br />c8007000-c8007fff : ixp4xx_npe.1<br />&nbsp; c8007000-c8007fff : NPE-B<br />c8008000-c8008fff : ixp4xx_npe.2<br />&nbsp; c8008000-c8008fff : NPE-C<br />c8009000-c80091ff : ixp4xx_mac.0<br />&nbsp; c8009000-c80091ff : ixp4xx_mac<br />c800a000-c800a1ff : ixp4xx_mac.1<br />&nbsp; c800a000-c800a1ff : ixp4xx_mac<br />c800b000-c800bfff : pxa2xx-udc</p><br /><p>root@OpenWrt:/# cat /proc/ioports<br />00000000-0000ffff : PCI I/O Space<br />&nbsp; 00000000-000000ff : PCI CardBus #01<br />&nbsp; 00000400-000004ff : PCI CardBus #01<br />&nbsp; 00000800-000008ff : PCI CardBus #05<br />&nbsp; 00000c00-00000cff : PCI CardBus #05<br />&nbsp; 00001000-0000101f : 0000:00:14.0<br />&nbsp; &nbsp; 00001000-0000101f : uhci_hcd<br />&nbsp; 00001020-0000103f : 0000:00:14.1<br />&nbsp; &nbsp; 00001020-0000103f : uhci_hcd</p><br /><p>root@OpenWrt:/# cat proc/interrupts<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPU0<br />&nbsp; 3:&nbsp; &nbsp; &nbsp; 13944&nbsp; &nbsp; &nbsp; IXP4xx&nbsp; qmgr<br />&nbsp; 5:&nbsp; &nbsp; 1057005&nbsp; &nbsp; &nbsp; IXP4xx&nbsp; IXP4xx Timer Tick<br />&nbsp; 6:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; IXP4xx&nbsp; yenta, yenta<br />&nbsp; 7:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; IXP4xx&nbsp; uhci_hcd:usb1, uhci_hcd:usb2, ehci_hcd:usb3<br /> 13:&nbsp; &nbsp; &nbsp; &nbsp;2856&nbsp; &nbsp; &nbsp; IXP4xx&nbsp; serial<br />Err:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />root@OpenWrt:/#</p><br /><p>and kernel boot log,</p><br /><p>RedBoot&gt; fis load kernel<br />RedBoot&gt; exec<br />Using base address 0x00029c00 and length 0x00103a54<br />Uncompressing Linux........................................................................ done, booting the kernel.<br />Linux version 2.6.21.6 (root@dev) (gcc version 4.1.2) #62 Tue Jul 8 17:07:30 JST 2008<br />CPU: XScale-IXP42x Family [690541f1] revision 1 (ARMv5TE), cr=000039ff<br />Machine: ADI Engineering Pronghorn Metro<br />Memory policy: ECC disabled, Data cache writeback<br />CPU0: D VIVT undefined 5 cache<br />CPU0: I cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets<br />CPU0: D cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets<br />Built 1 zonelists.&nbsp; Total pages: 8128<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 32MB = 32MB total<br />Memory: 30164KB available (1940K code, 266K data, 76K init)<br />Mount-cache hash table entries: 512<br />CPU: Testing write buffer coherency: ok<br />NET: Registered protocol family 16<br />IXP4xx: Using 16MiB expansion bus window size<br />PCI: IXP4xx is host<br />PCI: IXP4xx Using indirect access for memory space<br />PCI: bus0: Fast back to back transfers disabled<br />dmabounce: registered device 0000:00:14.0 on pci bus<br />dmabounce: registered device 0000:00:14.1 on pci bus<br />dmabounce: registered device 0000:00:14.2 on pci bus<br />dmabounce: registered device 0000:00:15.0 on pci bus<br />dmabounce: registered device 0000:00:15.1 on pci bus<br />PCI: allocate information for debug&nbsp; mem resource #9:400000@400000 for 0000:00:15.0 ret=[-12]<br />PCI: allocate information for debug&nbsp; mem resource #10:400000@400000 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #9:400000@400000 for 0000:00:15.1 ret=[-12]<br />PCI: allocate information for debug&nbsp; mem resource #10:400000@400000 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #0:1000@1000 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #0:1000@1000 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; mem resource #0:100@100 for 0000:00:14.2 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #7:100@100 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #8:100@100 for 0000:00:15.0 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #7:100@100 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #8:100@100 for 0000:00:15.1 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #4:20@20 for 0000:00:14.0 ret=[0]<br />PCI: allocate information for debug&nbsp; I/O resource #4:20@20 for 0000:00:14.1 ret=[0]<br />PCI: Bus 1, cardbus bridge: 0000:00:15.0<br />&nbsp; IO window: 00000000-000000ff<br />&nbsp; IO window: 00000400-000004ff<br />&nbsp; PREFETCH window: 48000000-483fffff<br />&nbsp; MEM window: 48400000-487fffff<br />PCI: Bus 5, cardbus bridge: 0000:00:15.1<br />&nbsp; IO window: 00000800-000008ff<br />&nbsp; IO window: 00000c00-00000cff<br />&nbsp; PREFETCH window: 48800000-48bfffff<br />&nbsp; MEM window: 48c00000-48ffffff<br />pci 0000:00:15.0: Error creating sysfs bridge symlink, continuing...<br />pci 0000:00:15.1: Error creating sysfs bridge symlink, continuing...<br />Time: OSTS clocksource has been installed.<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NetWinder Floating Point Emulator V0.97 (double precision)<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />IXP4xx Watchdog Timer: heartbeat 60 sec<br />Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0xc8001000 (irq = 13) is a XScale<br />IXP4XX Q Manager 0.2.1 initialized.<br />IXP4XX NPE driver Version 0.3.0 initialized<br />ixp4xx_crypto 0.0.1 registered successfully<br />IXP4XX-Flash.0: Found 1 x16 devices at 0x0 in 16-bit bank<br /> Intel/Sharp Extended Query Table at 0x0031<br />Using buffer write method<br />cfi_cmdset_0001: Erase suspend on write enabled<br />Searching for RedBoot partition table in IXP4XX-Flash.0 at offset 0xfe0000<br />6 RedBoot partitions found on MTD device IXP4XX-Flash.0<br />Creating 6 MTD partitions on &quot;IXP4XX-Flash.0&quot;:<br />0x00000000-0x00080000 : &quot;RedBoot&quot;<br />npe: searching for firmware...<br />npe: found at 0x120b8, unknown/NPE-A func: 03, rev: a.8, size: 1074718860, id: 5003baa8<br />npe: found at 0x3f2ac, IXP465/NPE-A func: 81, rev: 2.0, size: 12848, id: 10810200<br />npe: found at 0x424dc, IXP425/NPE-B func: 01, rev: 2.0, size: 12848, id: 01010200<br />Image loaded to NPE-B Func:1, Rel: 2:0, Status: 82c00000<br />npe: found at 0x4570c, IXP425/NPE-C func: 01, rev: 2.0, size: 12848, id: 02010200<br />Image loaded to NPE-C Func:1, Rel: 2:0, Status: 80c00000<br />0x00080000-0x001a0000 : &quot;kernel&quot;<br />0x001a0000-0x00fc0000 : &quot;rootfs&quot;<br />0x00380000-0x00fc0000 : &quot;rootfs_data&quot;<br />0x00fc0000-0x00fe0000 : &quot;unallocated&quot;<br />0x00fe0000-0x00fff000 : &quot;FIS directory&quot;<br />0x00fff000-0x01000000 : &quot;RedBoot config&quot;<br />PCI: enabling device 0000:00:15.0 (0140 -&gt; 0143)<br />Yenta: CardBus bridge found at 0000:00:15.0 [0000:0000]<br />Yenta: Using CSCINT to route CSC interrupts to PCI<br />Yenta: Routing CardBus interrupts to PCI<br />Yenta TI: socket 0000:00:15.0, mfunc 0x00001002, devctl 0x64<br />Yenta: ISA IRQ mask 0x0000, PCI irq 6<br />Socket status: 30000006<br />pcmcia: parent PCI bridge I/O window: 0x0 - 0xffff<br />pcmcia: parent PCI bridge Memory window: 0x48000000 - 0x4fffffff<br />PCI: enabling device 0000:00:15.1 (0140 -&gt; 0143)<br />Yenta: CardBus bridge found at 0000:00:15.1 [0000:0000]<br />Yenta: Using CSCINT to route CSC interrupts to PCI<br />Yenta: Routing CardBus interrupts to PCI<br />Yenta TI: socket 0000:00:15.1, mfunc 0x00001002, devctl 0x64<br />Yenta: ISA IRQ mask 0x0000, PCI irq 6<br />Socket status: 30000006<br />pcmcia: parent PCI bridge I/O window: 0x0 - 0xffff<br />pcmcia: parent PCI bridge Memory window: 0x48000000 - 0x4fffffff<br />i2c /dev entries driver<br />nf_conntrack version 0.5.0 (256 buckets, 2048 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP westwood registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />XScale DSP coprocessor detected.<br />ixp4xx_mac driver 0.3.1: eth0 on NPE-B with PHY[0] initialized<br />ixp4xx_mac driver 0.3.1: eth1 on NPE-C with PHY[1] initialized<br />drivers/rtc/hctosys.c: unable to open rtc device (rtc0)<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing init memory: 76K<br />Warning: unable to open an initial console.<br />- preinit -<br />switching to jffs2<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /jffs<br />- init -<br />init started:&nbsp; BusyBox v1.4.2 (2008-07-08 10:21:16 JST) multi-call binary</p><p>Please press Enter to activate this console. : syslogd has already been started.</p><p>: klogd has already been started.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94557">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jannoke</div>
					<div class="post-datetime">
						18 Sep 2009, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>Same here - Don&#039;t see PCMCIA card anywhere. Same controller: <br /></p><div class="codebox"><pre><code>root@OpenWrt:/# lspci
00:00.0 Host bridge: Advanced Micro Devices [AMD] ELanSC520 Microcontroller
00:10.0 Ethernet controller: Atheros Communications Inc. AR5413 802.11abg NIC (rev 01)
00:11.0 CardBus bridge: Texas Instruments PCI1420 PC card Cardbus Controller
00:11.1 CardBus bridge: Texas Instruments PCI1420 PC card Cardbus Controller
00:12.0 Ethernet controller: National Semiconductor Corporation DP83815 (MacPhyter) Ethernet Controller
00:13.0 Ethernet controller: National Semiconductor Corporation DP83815 (MacPhyter) Ethernet Controller</code></pre></div><p>This is Soekris 4521 Board.</p><p>I have just rebuilt it from svn r17603.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>