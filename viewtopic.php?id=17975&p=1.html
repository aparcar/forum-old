<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> planex mzk-w300nh: ar9130/ar9102: trunk ramdisk image boot.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 14 Apr 2018 and 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=17975&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p77757">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						8 Dec 2008, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Recently I got planex mzk-w300nh which has ar9130 cpu/ar9102 wlan chip.<br /><a href="http://www.planex.net/product/router/mzk-w300nh.htm">http://www.planex.net/product/router/mzk-w300nh.htm</a></p><p>cpu: ar9130<br />wlan chip: ar9102<br />eth chip: ar8216<br />memory: hy5du561622ftp<br />flash: 25p64v6p</p><p>original firmware boot log<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Oct 25 2007 - 15:28:59)

AP81 (ar7100) U-boot
DRAM:
sri
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 222k for U-Boot at: 81fc8000
Reserving 192k for malloc() at: 81f98000
Reserving 44 Bytes for Board Info at: 81f97fd4
Reserving 36 Bytes for Global Data at: 81f97fb0
Reserving 128k for boot params() at: 81f77fb0
Stack Pointer at: 81f77f98
Now running in RAM - U-Boot at: 81fc8000
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
*** Warning - bad CRC, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
Fetching MAC Address from 0x81fedb10
eth0: 00:90:cc:fe:c8:68
dup 1 speed 100
eth0 up
eth0
====check reset button function====
### main_loop entered: bootdelay=4

### main_loop: bootcmd=&quot;bootm 0xbf050000&quot;
Hit any key to stop autoboot:  0
## Booting image at bf050000 ...
   Image Name:   Linux Kernel Image
   Created:      2008-07-22  14:09:06 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    1042450 Bytes = 1018 kB
   Load Address: 80002000
   Entry Point:  8021b000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 8021b000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.15--LSDK-7.1.3.58 (ttajima@localhost.localdomain) (gcc version 3.4.4) #249 Tue Jul 22 22:48:38 JST 2008
flash_size passed from bootloader = 8
arg 1: console=ttyS0,115200
arg 2: root=31:03
arg 3: rootfstype=jffs2
arg 4: init=/sbin/init
arg 5: mtdparts=ar7100-nor0:256k(u-boot),64k(u-boot-env),1408k(uImage),6208k(rootfs),128k(config),128k(ART)
arg 6: mem=32M
CPU revision is: 00019374
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
User-defined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Built 1 zonelists
Kernel command line: console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar7100-nor0:256k(u-boot),64k(u-boot-env),1408k(uImage),6208k(rootfs),128k(config),128k(ART) mem=32M
Primary instruction cache 64kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
PID hash table entries: 256 (order: 8, 4096 bytes)
Using 200.000 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 30076k/32768k available (1775k kernel code, 2676k reserved, 369k data, 108k init, 0k highmem)
Mount-cache hash table entries: 512
Checking for &#039;wait&#039; instruction...  available.
NET: Registered protocol family 16
AR7100 GPIOC major 0
JFFS2 version 2.2. (C) 2001-2003 Red Hat, Inc.
Initializing Cryptographic API
io scheduler noop registered
io scheduler deadline registered
Serial: 8250/16550 driver $Revision: #1 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x0 (irq = 19) is a 16550A
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
NET: Registered protocol family 24
Creating 6 MTD partitions on &quot;ar7100-nor0&quot;:
0x00000000-0x00040000 : &quot;u-boot&quot;
0x00040000-0x00050000 : &quot;u-boot-env&quot;
0x00050000-0x001b0000 : &quot;uImage&quot;
0x001b0000-0x007c0000 : &quot;rootfs&quot;
0x007c0000-0x007e0000 : &quot;config&quot;
0x007e0000-0x00800000 : &quot;ART&quot;
Netfilter messages via NETLINK v0.30.
NET: Registered protocol family 2
IP route cache hash table entries: 512 (order: -1, 2048 bytes)
TCP established hash table entries: 2048 (order: 1, 8192 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
ip_conntrack version 2.4 (256 buckets, 2048 max) - 232 bytes per conntrack
ip_tables: (C) 2000-2002 Netfilter core team
arp_tables: (C) 2002 David S. Miller
TCP bic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
Ebtables v2.0 registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
ar7100wdt_init: Registering WDT success
VFS: Mounted root (jffs2 filesystem) readonly.
Freeing unused kernel memory: 108k freed
mount: Mounting devpts on /dev/pts failed: No such file or directory
ag7100_mod: module license &#039;unspecified&#039; taints kernel.
AG7100: Length per segment 1536
AG7100: Max segments per packet 1
AG7100: Max tx descriptor count    40
AG7100: Max rx descriptor count    252
AG7100: fifo cfg 3 00780008
AG7100CHH: Mac address for unit 0
AG7100CHH: 00:90:cc:fe:c8:68
AG7100CHH: Mac address for unit 1
AG7100CHH: 00:90:cc:fe:c8:69
ag7100_ring_alloc Allocated 480 at 0x811fde00
ag7100_ring_alloc Allocated 3024 at 0x80225000
AG7100: cfg1 0x3f cfg2 0x7014
AG7100: unit 0 phy is up...RMii 100Mbps full duplex
AG7100: pll reg 0x18050014: 0x13000a44  AG7100: cfg_1: 0x7ff0000
AG7100: cfg_2: 0xfff
AG7100: cfg_3: 0x780008
AG7100: cfg_4: 0xffff
AG7100: cfg_5: 0x7efef
AG7100: done cfg2 0x7115 ifctl 0x10000 miictrl 0x13
Writing 4
ag7100_ring_alloc Allocated 480 at 0x811fdc00
ag7100_ring_alloc Allocated 3024 at 0x81204000
AG7100: cfg1 0x2f cfg2 0x7014
ATHRS26: resetting s26
ATHRS26: s26 reset done
AG7100: unit 1: phy not up carrier 1
Writing 6
device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
# killall: udhcpd: no process killed
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

Args: 1
ath_hal: 0.9.17.1 (AR5416, REGOPS_FUNC, WRITE_EEPROM, 11D)
wlan: 0.8.4.2 (Atheros/multi-bss)
killall: udhcpc: no process killed
route: SIOC[ADD|DEL]RT: No such process
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dev: no version for &quot;_ath_hal_attach&quot; found: kernel tainted.
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_ahb: 0.9.4.5 (Atheros/multi-bss)
Howl Revision ID 0xb4
No MBSSID aggregation support=====simple_config_callback registered=====
wifi0: Atheros AR9100 WiSoC: mem=0xb80c0000, irq=2
wlan: mac acl policy registered
Creating ap for planexuser on
Added ath0 mode master
Interface doesn&#039;t accept private ioctl...
HALDbg (8BE0): Operation not permitted
ieee80211_ioctl_setmode: CHH Mode: 11NGHT20
ath_set_config: Setting ATH parameter
ath_set_config: Setting ATH parameter
ath_set_config: Setting ATH parameter
ath_set_config: Setting ATH parameter
ath_set_config: Setting ATH parameter
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
ag7100_ring_free Freeing at 0x811fdc00
ag7100_ring_free Freeing at 0x81204000
ag7100_ring_alloc Allocated 480 at 0x811fd200
ag7100_ring_alloc Allocated 3024 at 0x81204000
AG7100: cfg1 0x2f cfg2 0x7014
Writing 6
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

wifi0     no wireless extensions.

Modules already loaded
Creating ap for planexuser2 on
Disabling aggregation
Added ath1 mode master
Interface doesn&#039;t accept private ioctl...
HALDbg (8BE0): Operation not permitted
ieee80211_ioctl_setmode: CHH Mode: 11NGHT20
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

wifi0     no wireless extensions.

Modules already loaded
Creating ap for 0090CCFEC868 on
Disabling aggregation
Added ath2 mode master
Interface doesn&#039;t accept private ioctl...
HALDbg (8BE0): Operation not permitted
ieee80211_ioctl_setmode: CHH Mode: 11NGHT20
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

wifi0     no wireless extensions.

Force rf_pwd_icsyndiv to 1 on 2412 (1 0)
--AP ar5416InitUserSettings ahp-&gt;ah_miscMode 0xc
ar5416Reset Setting CFG 0x10a
Howl Revision ID 0xb4
Country ie is JPI
Force rf_pwd_icsyndiv to 1 on 2412 (1 0)
--AP ar5416InitUserSettings ahp-&gt;ah_miscMode 0xc
ar5416Reset Setting CFG 0x10a
Howl Revision ID 0xb4
device ath0 entered promiscuous mode
br0: port 2(ath0) entering learning state
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
ARPING to 192.168.1.1 from 192.168.1.1 via br0
Sent 1 probes (1 broadcast(s))
Received 0 reply
Configuration file: /tmp/hostapd.ath0
Configure bridge br0 for EAPOL traffic.
madwifi_set_iface_flags: dev_up=ath_netdev_stop: The stopping of the running
0
br0: port 2(ath0) entering disabled state
Using interface ath0 with hwaddr 00:90:cc:fe:c8:68 and ssid &#039;planexuser&#039;
Flushing old station entries
Deauthenticate all stations
l2_packet_receive - recvfrom: Network is down
l2_packet_receive - recvfrom: Network is down
Force rf_pwd_icsyndiv to 1 on 2412 (1 0)
--AP ar5416InitUserSettings ahp-&gt;ah_miscMode 0xc
ar5416Reset Setting CFG 0x10a
Howl Revision ID 0xb4
Country ie is JPI
br0: port 2(ath0) entering learning state
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

wifi0     no wireless extensions.

Country ie is JPI
device ath1 entered promiscuous mode
br0: port 3(ath1) entering learning state
br0: topology change detected, propagating
br0: port 3(ath1) entering forwarding state
ARPING to 192.168.1.1 from 192.168.1.1 via br0
Sent 1 probes (1 broadcast(s))
Received 0 reply
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

wifi0     no wireless extensions.

Country ie is JPI
device ath2 entered promiscuous mode
br0: port 4(ath2) entering learning state
br0: topology change detected, propagating
br0: port 4(ath2) entering forwarding state
ARPING to 192.168.1.1 from 192.168.1.1 via br0
Sent 1 probes (1 broadcast(s))
Received 0 reply
../../common/MasterControl/Info.cpp(66):Info::SetWscConfigPath: called
../../common/MasterControl/Info.cpp(79):Info::SetAPNumRadio: called

******************************************************
Wi-Fi Simple Config Application - Atheros Communcations
*********************************************************
../../common/UdpLib/UdpLib.cpp(78):Entered udp_open
../../common/UdpLib/UdpLib.cpp(96):Socket open successful, sd: 3
../../common/UdpLib/UdpLib.cpp(114):Entered udp_bind
../../common/UdpLib/UdpLib.cpp(129):Binding successful for socket [3]
Portability.c(219):WscCreateThread: Thread created. handle:((0))
../../common/WscCmd/WscCmd.cpp(430):WscCmd:ActualCBThreadProc: Started
Portability.c(219):WscCreateThread: Thread created. handle:((1026))
../../common/WscCmd/WscCmd.cpp(1170):WscCmd:ActualUIThreadProc: Started.
../../common/MasterControl/MasterControl.cpp(88):MasterControl constructor
../../common/WscCmd/WscCmd.cpp(239):WscCmd::MC instantiated ok
Portability.c(219):WscCreateThread: Thread created. handle:((2051))
../../common/Transport/Transport.cpp(79):CTransport Construction
Portability.c(219):WscCreateThread: Thread created. handle:((2051))
../../common/MasterControl/MasterControl.cpp(209):MC::Init: Init complete ok
../../common/WscCmd/WscCmd.cpp(241):WscCmd::MC intialized ok
Portability.c(219):WscCreateThread: Thread created. handle:((2051))
../../common/Transport/Transport.cpp(154):In CTransport::ActualCBThreadProc
../../common/Transport/Transport.cpp(158):Calling Dequeue
../../common/WscCmd/WscCmd.cpp(126):WscCmd::Init ok, starting stack...
../../common/MasterControl/Info.cpp(156):Read WSC Config File:/var/wsc_config.txt
../../common/MasterControl/Info.cpp(171):Info::ReadConfigFile:File open ok
../../common/MasterControl/Info.cpp(1273):Use eth0 address  a:90:cc:fe:c8:68
../../common/MasterControl/MasterControl.cpp(1222):MC::SwitchModeOn: EModeApProxyRegistrar enter
../../common/StateMachine/StateMachine.cpp(71):RegistrarSM constructor
Portability.c(219):WscCreateThread: Thread created. handle:((6151))
../../common/MasterControl/MasterControl.cpp(2961):***** WPA_PSK = 90ccfec868
../../common/StateMachine/RegistrarSM.cpp(73):InitializeSM, locEna=1, Passthr=1
../../common/InbEap/InbEap.cpp(95):CInbEap Construction
../../common/InbEap/InbEap.cpp(114):Sizeof(WSC_NOTIFY_DATA) = 19
../../common/UdpLib/UdpLib.cpp(78):Entered udp_open
../../common/UdpLib/UdpLib.cpp(96):Socket open successful, sd: 7
../../common/UdpLib/UdpLib.cpp(114):Entered udp_bind
../../common/UdpLib/UdpLib.cpp(129):Binding successful for socket [7]
Portability.c(219):WscCreateThread: Thread created. handle:((7176))
../../common/InbWlan/InbWlan.cpp(73):CInbWlan Construction
../../common/UdpLib/UdpLib.cpp(78):Entered udp_open
../../common/UdpLib/UdpLib.cpp(96):Socket open successful, sd: 8
../../common/InbEap/InbEap.cpp(360):In CInbEap::StaticRecvThread
../../common/InbEap/InbEap.cpp(372):CInbEap::ActualRecvThread Started
../../common/UdpLib/UdpLib.cpp(114):Entered udp_bind
../../common/UdpLib/UdpLib.cpp(129):Binding successful for socket [8]
Portability.c(219):WscCreateThread: Thread created. handle:((8201))
../../common/StateMachine/StateMachine.cpp(71):RegistrarSM constructor
Portability.c(219):WscCreateThread: Thread created. handle:((9226))
../../common/MasterControl/MasterControl.cpp(2757):Generated devPwd: 12345670
../../common/WscCmd/WscCmd.cpp(475):WscCmd:ActualCBThreadProc: CB_MAIN_PUSH_MSG recd
../../common/WscCmd/WscCmd.cpp(1492):WscCmd::CallbackProc Enqueue done
../../common/MasterControl/MasterControl.cpp(1370):*** Init Enrolle Stat machine
../../common/MasterControl/MasterControl.cpp(1379):MC::SwitchModeOnbr0: port 3(ath1) entering disabled state
: Starting AP
../../common/WscCmd/WscCmd.cpp(541):WscCmd:ActualCBThreadProc: CB_MAIN_START_AP recd
../../common/MasterControl/Info.cpp(85):Info::GetAPNumRadio: called
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
../../common/WscCmd/WscCmd.cpp(1505):WscCmd::AP tmp file =cp /var/template.conf
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
../../common/WscCmd/WscCmd.cpp(1492):WscCmd::CallbackProc Enqueue done
../../common/MasterControl/MasterControl.cpp(1419):MC::SwitchModeOn: Exit
../../common/MasterControl/MasterControl.cpp(352):MC::StartStack: Informing app of mode
../../common/WscCmd/WscCmd.cpp(1492):WscCmd::CallbackProc Enqueue done
../../common/MasterControl/MasterControl.cpp(371):MC::SwitchModeOn: Done callback
../../common/WscCmd/WscCmd.cpp(130):WscCmd:: Stack started ok
Portability.c(234):WscDestroyThread: Thread destroy. handle:((1026))
../../common/InbWlan/InbWlan.cpp(288):In CInbWlan::StaticRecvThread
../../common/InbWlan/InbWlan.cpp(313):CInbWlan::ActualRecvThread Started
../../common/InbWlan/InbWlan.cpp(317):Inside the thread
../../common/UdpLib/UdpLib.cpp(210):Entered udp_read
../../common/WscCmd/WscCmd.cpp(1511):WscCmd::AP Config file copied: cmd=cp /var/template.conf /var/hostapd.conf
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
ssid=planexuser2
../../common/WscCmd/WscCmd.cpp(1680):WscCmd::Params added to AP config file
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
ssid=planexuser2
../../common/WscCmd/WscCmd.cpp(1680):WscCmd::Params added to AP config file
../../common/MasterControl/Info.cpp(374):mb_nwKeySet = 1
../../common/MasterControl/Info.cpp(382):m_nwKey = 90ccfec868
../../common/MasterControl/Info.cpp(73):Info::GetWscConfigPath: called
Configuration file: /var/hostapd.conf
Using interface ath1 with hwaddr 06:90:cc:fe:c8:68 and ssid &#039;planexuser2&#039;
Warning: both WPA PSK and passphrase set. Using passphrase.
ieee80211_ioctl_setparam: IOCTL Set WPA: 3
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
ieee80211_ioctl_setparam: CHH Calling ieee80211_open
Country ie is JPI
br0: port 3(ath1) entering learning state
../../common/InbWlan/InbWlan.cpp(241):UDP recv mbr0: topology change detected, propagating
_recvPort[0]= 20br0: port 3(ath1) entering forwarding state
49
../../common/InbWlan/InbWlan.cpp(321):WLAN Received Data; Length = 5
../../common/InbWlan/InbWlan.cpp(331):PORT received; continueing..
../../common/InbWlan/InbWlan.cpp(317):Inside the thread
../../common/UdpLib/UdpLib.cpp(210):Entered udp_read
Flushing old station entries
Deauthenticate all stations
../../common/MasterControl/Info.cpp(85):Info::GetAPNumRadio: called
../../common/WscCmd/WscCmd.cpp(629):WscCmd: ******AP started
../../common/WscCmd/WscCmd.cpp(655):WscCmd:ActualCBThreadProc: CB_MAIN_PUSH_MODE recd
../../common/WscCmd/WscCmd.cpp(668):
******* MODE: Access Point *******
../../common/WscCmd/WscCmd.cpp(1190):WscCmd:ActualUIThreadProc: Started.
../../common/InbEap/InbEap.cpp(246):********TimeoutEnable = 0
../../common/StateMachine/RegistrarSM.cpp(105):REGSM: Passthrug=1
../../common/InbWlan/InbWlan.cpp(452):In CInbWlan::SetBeaconIE  Length = 40
../../common/InbWlan/InbWlan.cpp(395):In CInbWlan::SendDataDown buffer Length = 51
../../common/UdpLib/UdpLib.cpp(173):Entered udp_write
../../common/InbWlan/InbWlan.cpp(421):data has been send to lower layer port 0
../../common/MasterControl/MasterControl.cpp(1553):MC::SetBeaconIE: call to trans-&gt;SetBeaconIE() ok
../../common/InbWlan/InbWlan.cpp(507):In CInbWlan::SetProbeRespIE  Length = 126
../../common/InbWlan/InbWlan.cpp(395):In CInbWlan::SendDataDown buffer Length = 137
../../common/UdpLib/UdpLib.cpp(173):Entered udp_write
../../common/InbWlan/InbWlan.cpp(421):data has been send to lower layer port 0
../../common/MasterControl/MasterControl.cpp(1745):MC::SetProbeRespIE: call to trans-&gt;SetProbeRespIE() ok
../../common/MasterControl/MasterControl.cpp(3044):ENRSM:setProcessStatus:0
../../common/StateMachine/StateMachine.cpp(442):SM: Restarting the State Machine
../../common/StateMachine/StateMachine.cpp(375):SM: Deleting regData
../../common/StateMachine/StateMachine.cpp(442):SM: Restarting the State Machine
../../common/StateMachine/StateMachine.cpp(375):SM: Deleting regData
l2_packet_receive - recvfrom: Network is down
l2_packet_receive - recvfrom: Network is down
ath_bstuck_tasklet: stuck beacon; resetting (bmiss count 36)
Force rf_pwd_icsyndiv to 1 on 2412 (1 0)
--AP ar5416InitUserSettings ahp-&gt;ah_miscMode 0xc
ar5416Reset Setting CFG 0x10a
Howl Revision ID 0xb4

# ps
  PID  Uid     VmSize Stat Command
    1 root        384 S   init
    2 root            SWN [ksoftirqd/0]
    3 root            SW  [watchdog/0]
    4 root            SW&lt; [events/0]
    5 root            SW&lt; [khelper]
    6 root            SW&lt; [kthread]
   10 root            SW&lt; [kblockd/0]
   37 root            SW  [pdflush]
   38 root            SW  [pdflush]
   40 root            SW&lt; [aio/0]
   39 root            SW  [kswapd0]
   51 root            SW  [mtdblockd]
   76 root            SWN [jffs2_gcd_mtd3]
  104 root       1036 S   /usr/local/sbin/router_config
  155 root        456 S   /usr/local/sbin/thttpd -C /var/thttpd.conf
  156 root        260 S   /usr/local/sbin/wd
  159 root        296 S   /sbin/klogd
  162 root        336 S   /sbin/syslogd -C16
  171 root        352 S   inetd
  173 root        448 S   /bin/sh
  275 root        308 S   udhcpd /tmp/udhcpd.conf
  534 root        240 S   hostapd -B /tmp/hostapd.ath0
  616 root        216 S   udhcpc -b -i eth1 -p /tmp/run/udhcpc.pid
  618 root        696 S   wsccmd -B /var/ 1
  619 root        696 S   wsccmd -B /var/ 1
  620 root        696 S   wsccmd -B /var/ 1
  621 root        696 S   wsccmd -B /var/ 1
  622 root        696 S   wsccmd -B /var/ 1
  623 root        696 S   wsccmd -B /var/ 1
  624 root        696 R   wsccmd -B /var/ 1
  625 root        696 S   wsccmd -B /var/ 1
  626 root        696 S   wsccmd -B /var/ 1
  627 root        696 S   wsccmd -B /var/ 1
  628 root        696 S   wsccmd -B /var/ 1
  634 root        252 S   /sbin/hostapd -B /var/hostapd.conf
  635 root        360 R   ps
# ifconfig
ath0      Link encap:Ethernet  HWaddr 00:90:CC:FE:C8:68
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:3 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

ath1      Link encap:Ethernet  HWaddr 06:90:CC:FE:C8:68
          UP BROADCAST RUNNING MULTICAST  MTU:2290  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:2 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

ath2      Link encap:Ethernet  HWaddr 0A:90:CC:FE:C8:68
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:1 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

br0       Link encap:Ethernet  HWaddr 0A:90:CC:FE:C8:68
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:18 errors:0 dropped:0 overruns:0 frame:0
          TX packets:3 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:2916 (2.8 KiB)  TX bytes:126 (126.0 B)

eth0      Link encap:Ethernet  HWaddr 00:90:CC:FE:C8:68
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:144 errors:0 dropped:0 overruns:0 frame:0
          TX packets:123 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:11432 (11.1 KiB)  TX bytes:7332 (7.1 KiB)

eth1      Link encap:Ethernet  HWaddr 00:90:CC:FE:C8:69
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:5 errors:0 dropped:0 overruns:0 frame:0
          TX packets:5 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:371 (371.0 B)  TX bytes:371 (371.0 B)

wifi0     Link encap:Ethernet  HWaddr 00:00:00:00:00:00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:1 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:2 Memory:b80c0000-b80c4000

# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br0       no wireless extensions.

wifi0     no wireless extensions.

ath0      IEEE 802.11ng  ESSID:&quot;planexuser&quot;
          Mode:Master  Frequency:2.412 GHz  Access Point: 00:90:CC:FE:C8:68
          Bit Rate:0 kb/s   Tx-Power:17 dBm   Sensitivity=0/3
          Retry:off   RTS thr:off   Fragment thr:off
          Encryption key:90CC-FEC8-68   Security mode:restricted
          Power Management:off
          Link Quality=0/94  Signal level=-95 dBm  Noise level=-95 dBm
          Rx invalid nwid:5  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

ath1      IEEE 802.11ng  ESSID:&quot;planexuser2&quot;
          Mode:Master  Frequency:2.412 GHz  Access Point: 06:90:CC:FE:C8:68
          Bit Rate:0 kb/s   Tx-Power:17 dBm   Sensitivity=0/3
          Retry:off   RTS thr:off   Fragment thr:off
          Encryption key:D3A9-A8C0-61AC-F15B-DC25-C075-1820-161A [2]   Security mode:open
          Power Management:off
          Link Quality=0/94  Signal level=-95 dBm  Noise level=-95 dBm
          Rx invalid nwid:5  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

ath2      IEEE 802.11ng  ESSID:&quot;0090CCFEC868&quot;
          Mode:Master  Frequency:2.412 GHz  Access Point: 0A:90:CC:FE:C8:68
          Bit Rate:0 kb/s   Tx-Power:17 dBm   Sensitivity=0/3
          Retry:off   RTS thr:off   Fragment thr:off
          Encryption key:off
          Power Management:off
          Link Quality=0/94  Signal level=-95 dBm  Noise level=-95 dBm
          Rx invalid nwid:6  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

# cd proc/
# ls
1              4              626            fast_bridge    mtd
10             40             627            filesystems    net
104            5              628            fs             partitions
155            51             634            interrupts     self
156            534            638            iomem          simple_config
159            6              76             ioports        slabinfo
162            616            buddyinfo      irq            stat
171            618            bus            kallsyms       sys
173            619            cmdline        kmsg           sysvipc
2              620            cpuinfo        loadavg        tty
275            621            crypto         locks          uptime
3              622            devices        meminfo        version
37             623            diskstats      misc           vmstat
38             624            driver         modules        zoneinfo
39             625            execdomains    mounts
# cat cpuinfo
system type             : Atheros AR9100
processor               : 0
cpu model               : MIPS 24K V7.4
BogoMIPS                : 266.24
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes
ASEs implemented        : mips16
VCED exceptions         : not available
VCEI exceptions         : not available
# cat devices
Character devices:
  1 mem
  4 ttyS
  5 /dev/tty
  5 /dev/console
  5 /dev/ptmx
 10 misc
 77 AR7100_GPIOC
 90 mtd
108 ppp
128 ptm
136 pts

Block devices:
 31 mtdblock
# cat filesystems
nodev   sysfs
nodev   rootfs
nodev   bdev
nodev   proc
nodev   sockfs
nodev   pipefs
nodev   futexfs
nodev   tmpfs
nodev   devpts
        ext3
        ext2
nodev   ramfs
nodev   jffs2
# cat interrupts
           CPU0
  2:       1375            MIPS  wifi0
  4:        145            MIPS  eth0
  5:          0            MIPS  eth1
  6:          0            MIPS  cascade
  7:       9744            MIPS  timer
 18:          0     AR7100 MISC  cascade
 19:       1305     AR7100 MISC  serial
 36:          0     AR7100 GPIO  SW APROUTER
 44:          0     AR7100 GPIO  SW JUMPSTART
 53:          0     AR7100 GPIO  SW RESET

ERR:          0
# cat iomem
00000000-01ffffff : System RAM
  00002000-001bdc1f : Kernel code
  001bdc20-0021a0bf : Kernel data
18020000-18020fff : serial8250.0
1b000000-1bffffff : ar7100-ehci.0
1c000000-1cffffff : ar7100-ohci.0
# cat meminfo
MemTotal:        30200 kB
MemFree:         17232 kB
Buffers:             0 kB
Cached:           5420 kB
SwapCached:          0 kB
Active:           4016 kB
Inactive:         2724 kB
HighTotal:           0 kB
HighFree:            0 kB
LowTotal:        30200 kB
LowFree:         17232 kB
SwapTotal:           0 kB
SwapFree:            0 kB
Dirty:               0 kB
Writeback:           0 kB
Mapped:           3180 kB
Slab:             4472 kB
CommitLimit:     15100 kB
Committed_AS:     3732 kB
PageTables:        284 kB
VmallocTotal:  1048560 kB
VmallocUsed:      1172 kB
VmallocChunk:  1047120 kB
# cat modules
wlan_scan_ap 10560 0 - Live 0xc007c000
wlan_acl 5536 3 - Live 0xc00da000
wlan_wep 7168 1 - Live 0xc0066000
wlan_tkip 14752 1 - Live 0xc0073000
wlan_ccmp 9760 0 - Live 0xc0078000
wlan_xauth 1568 0 - Live 0xc0064000
ath_ahb 54656 0 - Live 0xc00ee000
ath_dev 111056 1 ath_ahb, Live 0xc008c000
ath_rate_atheros 41648 1 ath_dev, Live 0xc0080000
wlan 243776 9 wlan_scan_ap,wlan_acl,wlan_wep,wlan_tkip,wlan_ccmp,wlan_xauth,ath_ahb,ath_dev, Live 0xc012b000
ath_hal 185584 3 ath_ahb,ath_dev, Live 0xc00ab000
ag7100_mod 34000 0 - Live 0xc0069000
# cat mtd
dev:    size   erasesize  name
mtd0: 00040000 00010000 &quot;u-boot&quot;
mtd1: 00010000 00010000 &quot;u-boot-env&quot;
mtd2: 00160000 00010000 &quot;uImage&quot;
mtd3: 00610000 00010000 &quot;rootfs&quot;
mtd4: 00020000 00010000 &quot;config&quot;
mtd5: 00020000 00010000 &quot;ART&quot;
# cat partitions
major minor  #blocks  name

  31     0        256 mtdblock0
  31     1         64 mtdblock1
  31     2       1408 mtdblock2
  31     3       6208 mtdblock3
  31     4        128 mtdblock4
  31     5        128 mtdblock5
# cat version
Linux version 2.6.15--LSDK-7.1.3.58 (ttajima@localhost.localdomain) (gcc version 3.4.4) #249 Tue Jul 22 22:48:38 JST 2008
#</code></pre></div><p>trunk ramdisk image boot log<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Oct 25 2007 - 15:28:59)

AP81 (ar7100) U-boot
DRAM:
sri
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 222k for U-Boot at: 81fc8000
Reserving 192k for malloc() at: 81f98000
Reserving 44 Bytes for Board Info at: 81f97fd4
Reserving 36 Bytes for Global Data at: 81f97fb0
Reserving 128k for boot params() at: 81f77fb0
Stack Pointer at: 81f77f98
Now running in RAM - U-Boot at: 81fc8000
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
*** Warning - bad CRC, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
Fetching MAC Address from 0x81fedb10
eth0: 00:90:cc:fe:c8:68
dup 1 speed 100
eth0 up
eth0
====check reset button function====
### main_loop entered: bootdelay=4

### main_loop: bootcmd=&quot;bootm 0xbf050000&quot;
Hit any key to stop autoboot:  0
ar7100&gt; help
?       - alias for &#039;help&#039;
base    - print or set address offset
bdinfo  - print Board Info structure
boot    - boot default, i.e., run &#039;bootcmd&#039;
bootd   - boot default, i.e., run &#039;bootcmd&#039;
bootelf - Boot from an ELF image in memory
bootm   - boot application image from memory
bootp   - boot image via network using BootP/TFTP protocol
bootvx  - Boot vxWorks from an ELF image
chpart  - change active partition
cmp     - memory compare
coninfo - print console devices and information
cp      - memory copy
crc32   - checksum calculation
dhcp    - invoke DHCP client to obtain IP/boot params
echo    - echo args to console
erase   - erase FLASH memory
exit    - exit script
flinfo  - print FLASH memory information
fsinfo  - print information about filesystems
fsload  - load binary file from a filesystem image
go      - start application at address &#039;addr&#039;
help    - print online help
iminfo  - print header information for application image
imls    - list all images found in flash
itest   - return true/false on integer compare
loadb   - load binary file over serial line (kermit mode)
loads   - load S-Record file over serial line
loady   - load binary file over serial line (ymodem mode)
loop    - infinite loop on address range
ls      - list files in a directory (default /)
md      - memory display
mii     - MII utility commands
mm      - memory modify (auto-incrementing)
mtdparts- define flash/nand partitions
mtest   - simple RAM test
mw      - memory write (fill)
nfs     - boot image via network using NFS protocol
nm      - memory modify (constant address)
ping    - send ICMP ECHO_REQUEST to network host
printenv- print environment variables
protect - enable or disable FLASH write protection
rarpboot- boot image via network using RARP/TFTP protocol
reset   - Perform RESET of the CPU
run     - run commands in an environment variable
saveenv - save environment variables to persistent storage
setenv  - set environment variables
sleep   - delay execution for some time
test    - minimal test like /bin/sh
tftpboot- boot image via network using TFTP protocol
version - print monitor version
autoscr - run script from memory
ar7100&gt; bdinfo
boot_params = 0x81F77FB0
memstart    = 0x80000000
memsize     = 0x02000000
flashstart  = 0xBF000000
flashsize   = 0x00800000
flashoffset = 0x0002DAD4
ethaddr     = 00:AA:BB:CC:DD:EE
ip_addr     = 192.168.1.10
baudrate    = 115200 bps
ar7100&gt; coninfo
List of available devices:
serial   80000003 SIO stdin stdout stderr
ar7100&gt; flinfo

Bank # 1: The hell do you want flinfo for??
ar7100&gt; imls
Image at BF050000:
   Image Name:   Linux Kernel Image
   Created:      2008-07-22  14:09:06 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    1042450 Bytes = 1018 kB
   Load Address: 80002000
   Entry Point:  8021b000
   Verifying Checksum ... OK
ar7100&gt; printenv
bootargs=console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar7100-nor0:256k(u-boot),64k(u-boot-env),1408k(uImage),6208k(rootfs),128k(config),128k(ART)
bootcmd=bootm 0xbf050000
bootdelay=4
baudrate=115200
ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee
ipaddr=192.168.1.10
serverip=192.168.1.230
stdin=serial
stdout=serial
stderr=serial
ethact=eth0
mtdids=nor0=ar7100-nor0

Environment size: 386/65532 bytes
ar7100&gt; version

U-Boot 1.1.4 (Oct 25 2007 - 15:28:59)
ar7100&gt; tftpboot 0x81000000 openwrt-ar71xx-uImage.gz
Using eth0 device
TFTP from server 192.168.1.230; our IP address is 192.168.1.10
Filename &#039;openwrt-ar71xx-uImage.gz&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################
done
Bytes transferred = 2243739 (223c9b hex)
ar7100&gt; bootm
## Booting image at 81000000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.26.8
   Created:      2008-12-07  14:41:33 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    2243675 Bytes =  2.1 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.26.8 (owrt@debian) (gcc version 4.1.2) #3 Sun Dec 7 23:41:14 JST 2008
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal          0 -&gt;     8192
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 -&gt;     8192
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28588k/32768k available (1763k kernel code, 4180k reserved, 319k data, 1324k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Mount-cache hash table entries: 512
net_namespace: 484 bytes
NET: Registered protocol family 16
MIPS: machine is Generic AR71xx board
registering PCI controller with io_map_base unset
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  c 2001-2006 Red Hat, Inc.
yaffs Dec  7 2008 00:54:48 Installing.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: invalid speed specified
ag71xx: probe of ag71xx.0 failed with error -22
eth0: Atheros AG71xx at 0xba000000, irq 5
eth0: invalid speed specified
ag71xx: probe of ag71xx.1 failed with error -22
Atheros AR71xx SPI Controller driver version 0.2.2
m25p80 spi0.0: m25p64 (8192 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0x7e0000
Searching for RedBoot partition table in spi0.0 at offset 0x7f0000
No RedBoot partition table detected in spi0.0
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 1324k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. ath9k: 0.1
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)



BusyBox v1.11.3 (2008-12-07 22:56:44 JST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13539) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# ifconfig
lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@OpenWrt:/# iwconfig
lo        no wireless extensions.

root@OpenWrt:/# cd /proc/
root@OpenWrt:/proc# ls
1             557           cpuinfo       kmsg          swaps
110           561           crypto        loadavg       sys
113           576           devices       locks         sysvipc
2             583           diskstats     meminfo       timer_list
278           602           driver        misc          tty
280           603           execdomains   modules       uptime
287           88            filesystems   mounts        version
289           89            fs            mtd           vmallocinfo
3             90            interrupts    net           vmstat
301           91            iomem         pagetypeinfo  yaffs
32            buddyinfo     ioports       partitions    zoneinfo
4             bus           irq           self
5             cmdline       kcore         stat
root@OpenWrt:/proc# cat cpuinfo
system type             : Atheros AR9130 rev 1 (id:0xb4)
processor               : 0
cpu model               : MIPS 24K V7.4
BogoMIPS                : 266.24
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes
ASEs implemented        : mips16
shadow register sets    : 1
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available

root@OpenWrt:/proc# cat devices
Character devices:
  1 mem
  4 ttyS
  5 /dev/tty
  5 /dev/console
  5 /dev/ptmx
 10 misc
 90 mtd
128 ptm
136 pts

Block devices:
 31 mtdblock
root@OpenWrt:/proc# cat interrupts
           CPU0
  2:          0            MIPS  cascade [AR71XX PCI]
  6:          0            MIPS  cascade [AR71XX MISC]
  7:       7628            MIPS  timer
 10:          0     AR71XX MISC  cascade [AR71XX GPIO]
 11:        339     AR71XX MISC  serial

ERR:          1
root@OpenWrt:/proc# cat iomem
00000000-01ffffff : System RAM
  00060000-00218dbf : Kernel code
  00218dc0-00268bbf : Kernel data
10000000-17ffffff : PCI memory space
18020000-1802ffff : serial8250.0
  18020000-1802001f : serial
18040000-1804ffff : AR71xx GPIO controller
18070000-18070003 : mii_ctrl
18070004-18070007 : mii_ctrl
19000000-1900001f : mac_base
19000020-19000037 : mdio_base
19000038-190001ff : mac_base2
1a000000-1a00001f : mac_base
1a000038-1a0001ff : mac_base2
1b000000-1bffffff : ar71xx-ehci
1f000000-1fffffff : ar71xx-spi
root@OpenWrt:/proc# cat ioports
0000-0000 : PCI IO space
root@OpenWrt:/proc# cat meminfo
MemTotal:        29912 kB
MemFree:         22244 kB
Buffers:             0 kB
Cached:           4184 kB
SwapCached:          0 kB
Active:           2312 kB
Inactive:         2636 kB
SwapTotal:           0 kB
SwapFree:            0 kB
Dirty:               0 kB
Writeback:           0 kB
AnonPages:         784 kB
Mapped:            760 kB
Slab:             1116 kB
SReclaimable:      352 kB
SUnreclaim:        764 kB
PageTables:        184 kB
NFS_Unstable:        0 kB
Bounce:              0 kB
WritebackTmp:        0 kB
CommitLimit:     14956 kB
Committed_AS:     2572 kB
VmallocTotal:  1048404 kB
VmallocUsed:      1132 kB
VmallocChunk:  1046900 kB
root@OpenWrt:/proc# cat misc
 61 network_throughput
 62 network_latency
 63 cpu_dma_latency
130 watchdog
root@OpenWrt:/proc# cat modules
nf_nat_tftp 448 0 - Live 0xc00b5000
nf_conntrack_tftp 2448 1 nf_nat_tftp, Live 0xc00b3000
nf_nat_irc 864 0 - Live 0xc00b1000
nf_conntrack_irc 2720 1 nf_nat_irc, Live 0xc00af000
nf_nat_ftp 1440 0 - Live 0xc00ad000
nf_conntrack_ftp 4928 1 nf_nat_ftp, Live 0xc0096000
ipt_MASQUERADE 1152 0 - Live 0xc0099000
iptable_nat 2896 1 - Live 0xc0092000
nf_nat 10752 5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat, Live 0xc009c000
xt_state 832 6 - Live 0xc0094000
nf_conntrack_ipv4 8096 9 iptable_nat,nf_nat, Live 0xc008b000
nf_conntrack 36256 11 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_state,nf_conntrack_ipv4, Live 0xc00a3000
ipt_REJECT 1824 2 - Live 0xc0090000
xt_TCPMSS 1984 1 - Live 0xc008e000
ipt_LOG 4512 0 - Live 0xc0076000
xt_multiport 1792 0 - Live 0xc0089000
xt_mac 704 0 - Live 0xc0087000
xt_limit 1152 1 - Live 0xc0085000
iptable_mangle 1184 0 - Live 0xc007b000
iptable_filter 960 1 - Live 0xc0079000
ip_tables 8080 3 iptable_nat,iptable_mangle,iptable_filter, Live 0xc004f000
xt_tcpudp 1824 3 - Live 0xc0074000
x_tables 8560 11 ipt_MASQUERADE,iptable_nat,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp, Live 0xc0067000
ath9k 256736 0 - Live 0xc0138000
mac80211 150224 1 ath9k, Live 0xc00be000
cfg80211 21040 1 mac80211, Live 0xc007e000
arc4 832 0 - Live 0xc0065000
aes_generic 28688 0 - Live 0xc006b000
deflate 1536 0 - Live 0xc005e000
ecb 1408 0 - Live 0xc005c000
cbc 2176 0 - Live 0xc005a000
crypto_blkcipher 11280 2 ecb,cbc, Live 0xc0061000
crypto_hash 2656 0 - Live 0xc0058000
cryptomgr 1568 0 - Live 0xc0052000
crypto_algapi 8128 7 arc4,aes_generic,deflate,ecb,cbc,crypto_blkcipher,cryptomgr, Live 0xc0055000
root@OpenWrt:/proc#</code></pre></div><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77759">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						8 Dec 2008, 16:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi Zukky,</p><p>Nice!</p><p>-Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77761">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						8 Dec 2008, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>Keep it up!&nbsp; The following routers have all been found to be AR9130, 4MB FLASH, 32MB RAM, u-boot.</p><p>Trendnet TEW-632BRP<br />Trendnet TEW-652BRP<br />DLink DIR-615 revision C1<br />Netgear WNR2000 (runs OpenWRT-based)<br />TP-Link TL-WR941N or TL-WR941ND<br />Planex mzk-w300nh</p><p>So far it seems we can only get into u-boot by adding a hardware serial port to the routers.</p><p>We have managed to gain root telnet access to the Trendnet, DLink, and Netgear routers without use of a serial port.&nbsp; So my hope is someone can get us 2.6.15 MIPS compatible uboot-utils program fw_setenv so we can edit the uboot environment from within Linux.</p><p>Is the openwrt-ar71xx-uImage.gz binary somewhere I can download a copy?&nbsp; Thank you.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 8 Dec 2008, 20:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77812">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						9 Dec 2008, 12:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi, all.</p><p>&gt; Gabor.<br />Thanks. I have two this devices. I&#039;ll donate one sooner or later.</p><p>&gt; RoundSparrow<br />This is r13561(latest just now) ramdisk uimage.<br /><a href="http://www.rupan.net/uploader/download/1228818990.gz">http://www.rupan.net/uploader/download/1228818990.gz</a></p><p>regards,<br />zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77829">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						9 Dec 2008, 16:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi Zukky,<br /></p><div class="quotebox"><cite>yapoo wrote:</cite><blockquote><p>&gt; Gabor.<br />Thanks. I have two this devices. I&#039;ll donate one sooner or later.</p></blockquote></div><p>Great, thanks.</p><p>Regards,<br />Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77916">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						11 Dec 2008, 03:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yapoo wrote:</cite><blockquote><p>Hi, all.</p><p>&gt; RoundSparrow<br />This is r13561(latest just now) ramdisk uimage.<br /><a href="http://www.rupan.net/uploader/download/1228818990.gz">http://www.rupan.net/uploader/download/1228818990.gz</a></p></blockquote></div><p>Howdy.&nbsp; that link is a 404 for me.&nbsp; Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78005">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						12 Dec 2008, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi, RoundSparrow.</p><p>I&#039;m sorry to be inconvenient.<br />I&#039;ll serve latest image to you again. But now to built ar71xx image fails.<br /></p><div class="codebox"><pre><code>chmod 644 /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/packages/ipkg/kmod-crypto-core/CONTROL/control
(cd /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/packages/ipkg/kmod-crypto-core/CONTROL; var2file &quot;V_Package_kmod_crypto_core_conffiles&quot; conffiles; var2file &quot;V_Package_kmod_crypto_core_preinst&quot; preinst; var2file &quot;V_Package_kmod_crypto_core_postinst&quot; postinst; var2file &quot;V_Package_kmod_crypto_core_prerm&quot; prerm; var2file &quot;V_Package_kmod_crypto_core_postrm&quot; postrm; )
mkdir -p /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/packages/ipkg/kmod-crypto-core/lib/modules/2.6.26.8
cp -fpR -L /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/crypto_algapi.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/aead.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/crypto_blkcipher.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/cbc.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/deflate.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/ecb.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/crypto_hash.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/cryptomgr.ko /home/owrt/openwrt/trunk/build_dir/linux-ar71xx/packages/ipkg/kmod-crypto-core/lib/modules/2.6.26.8/
cp: cannot stat `/home/owrt/openwrt/trunk/build_dir/linux-ar71xx/linux-2.6.26.8/crypto/aead.ko&#039;: No such file or directory
make[3]: *** [/home/owrt/openwrt/trunk/bin/packages/mips/kmod-crypto-core_2.6.26.8-ar71xx-1_mips.ipk] Error 1
make[3]: Leaving directory `/home/owrt/openwrt/trunk/package/kernel&#039;
make[2]: *** [package/kernel/compile] Error 2
make[2]: Leaving directory `/home/owrt/openwrt/trunk&#039;
make[1]: *** [/home/owrt/openwrt/trunk/staging_dir/mips/stamp/.package_compile] Error 2
make[1]: Leaving directory `/home/owrt/openwrt/trunk&#039;
make: *** [world] ã‚¨ãƒ©ãƒ¼ 2
owrt@debian:~/openwrt/trunk$</code></pre></div><p>Can you give me suggestion to fix it?</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78065">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						14 Dec 2008, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>HI.</p><p>It seems this error occurs when including ath9k driver. I could build it successfully without it.</p><p>&gt; RoundSparrow<br />I sent you PM. It has a link to latest ar71xx ramdisk uImage.</p><p>regards,</p><p>zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78160">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						15 Dec 2008, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>Related thread just opened on the Trendnet version of this router: <a href="http://forum.openwrt.org/viewtopic.php?id=17992">http://forum.openwrt.org/viewtopic.php?id=17992</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78173">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						15 Dec 2008, 22:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi Zukky,</p><div class="quotebox"><blockquote><p>I&#039;ll serve latest image to you again. But now to built ar71xx image fails.<br />...<br />Can you give me suggestion to fix it?</p></blockquote></div><p>This should be fixed in trunk already.</p><p>Regards,<br />Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78176">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						16 Dec 2008, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>Got it on a Netgear WNR2000, svn 13658 boots via u-boot.</p><div class="codebox"><pre><code>U-Boot 1.1.4.16-g04e9b8bf (May 14 2008 - 17:04:28)

AP81 (ar7100) U-boot
sri
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 245k for U-Boot at: 81fc0000
Reserving 192k for malloc() at: 81f90000
Reserving 44 Bytes for Board Info at: 81f8ffd4
Reserving 36 Bytes for Global Data at: 81f8ffb0
Reserving 128k for boot params() at: 81f6ffb0
Stack Pointer at: 81f6ff98
Now running in RAM - U-Boot at: 81fc0000
id read 0x100000ff
flash size 4MB, sector count = 64
Flash: 4MB
In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
Fetching MAC Address from 0x81fea7b0
: cfg1 0xf cfg2 0x7114
eth0: 00:22:3f:0b:c5:9c
dup 1 speed 100
eth0 up
eth0
### main_loop entered: bootdelay=4

### main_loop: bootcmd=&quot;bootm 0xbf2a0000&quot;
Hit any key to stop autoboot:  0
ar7100&gt; tftpboot 0x81000000 openwrt-ar71xx-uImage-gzip.bin
Using eth0 device
TFTP from server 192.168.2.28; our IP address is 192.168.2.126
Filename &#039;openwrt-ar71xx-uImage-gzip.bin&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ##################################
done
Bytes transferred = 2501382 (262b06 hex)
ar7100&gt; bootm
## Booting image at 81000000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.26.8
   Created:      2008-12-16   2:55:58 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    2501318 Bytes =  2.4 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.26.8 (root@stephen-desktop) (gcc version 4.1.2) #3 Mon Dec 15 18:55:46 PST 2008
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal          0 -&gt;     8192
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 -&gt;     8192
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28336k/32768k available (1764k kernel code, 4432k reserved, 318k data, 1576k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Mount-cache hash table entries: 512
net_namespace: 484 bytes
NET: Registered protocol family 16
MIPS: machine is Generic AR71xx board
registering PCI controller with io_map_base unset
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Ã¾Ã¾ 2001-2006 Red Hat, Inc.
yaffs Dec 14 2008 22:59:50 Installing.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: invalid speed specified
ag71xx: probe of ag71xx.0 failed with error -22
eth0: Atheros AG71xx at 0xba000000, irq 5
Atheros AR71xx SPI Controller driver version 0.2.2
m25p80 spi0.0: unrecognized JEDEC id c22016
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 1576k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.
device eth0 entered promiscuous mode
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
wlan: trunk
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 2008-10-02 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, RF2425, REGOPS_FUNC, DFS, XR)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: trunk
eth0: link up (1000Mbps/Full duplex)
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
br-lan: port 1(eth0) entering disabled state
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state



BusyBox v1.11.3 (2008-12-14 22:37:50 PST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13658) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# cat /proc/meminfo
MemTotal:        29912 kB
MemFree:         21144 kB
Buffers:             0 kB
Cached:           4828 kB
SwapCached:          0 kB
Active:           2340 kB
Inactive:         3236 kB
SwapTotal:           0 kB
SwapFree:            0 kB
Dirty:               0 kB
Writeback:           0 kB
AnonPages:         764 kB
Mapped:            756 kB
Slab:             1432 kB
SReclaimable:      364 kB
SUnreclaim:       1068 kB
PageTables:        184 kB
NFS_Unstable:        0 kB
Bounce:              0 kB
WritebackTmp:        0 kB
CommitLimit:     14956 kB
Committed_AS:     2564 kB
VmallocTotal:  1048404 kB
VmallocUsed:      1300 kB
VmallocChunk:  1046716 kB
root@OpenWrt:/# uname -a
Linux OpenWrt 2.6.26.8 #3 Mon Dec 15 18:55:46 PST 2008 mips unknown
root@OpenWrt:/#</code></pre></div>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 16 Dec 2008, 05:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78214">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						16 Dec 2008, 14:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Do ethernet and wireless work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78219">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						16 Dec 2008, 16:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi, Gabor.</p><p>Today I removed trunk and svn up trunk again. I built fresh ar71xx with ath9k. It seems this error remains at least about ar71xx &amp; ath9k.</p><p>regards,<br />zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78263">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						17 Dec 2008, 06:47					</div>
				</div>
				<div class="post-content content">
					<p>yapoo:&nbsp; i encountered your same problem and found a workaround.&nbsp; see the message about svn 13338 checkout:<br /><a href="http://forum.openwrt.org/viewtopic.php?id=18106">http://forum.openwrt.org/viewtopic.php?id=18106</a></p><p>One other thing, I notice that on these routers we are loading ath9k in the dmesg &quot;ath9k: 0.1&quot; - but it isn&#039;t working.&nbsp; It doesn&#039;t seem to recognize the AP81 hardware?&nbsp; Shouldn&#039;t there be another message?&nbsp; I notice the original firmware shows: &quot;wifi0: Atheros AR9100 WiSoC: mem=0xb80c0000, irq=2&quot;</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 17 Dec 2008, 08:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78267">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						17 Dec 2008, 09:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi Zukky,<br /></p><div class="quotebox"><cite>yapoo wrote:</cite><blockquote><p>Today I removed trunk and svn up trunk again. I built fresh ar71xx with ath9k. It seems this error remains at least about ar71xx &amp; ath9k.</p></blockquote></div><p>I forgot that it was fixed on 2.6.27 only. <a href="https://dev.openwrt.org/changeset/13671">Now</a> it works on 2.6.26 as well. Sorry for the inconvenience.</p><p>Regards,<br />Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78277">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						17 Dec 2008, 15:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>&gt; Gabor<br />Thank you so much. Sorry to bother you.<br />I wish I were a skilled developer. I&#039;ll learn more about openwrt buildroot and linux. :-)</p><p>&gt; RoundSparrow<br />Thank you to inform me.<br />In my case, mzk-w300nh has ar9102 as wlan chip which is not listed as supported chip set on ath9k site unfortunately.<br /><a href="http://wireless.kernel.org/en/users/Drivers/ath9k">http://wireless.kernel.org/en/users/Drivers/ath9k</a><br />How about your device?<br />I hope it will be listed in the near future.</p><p>regards,<br />zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78289">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						17 Dec 2008, 17:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>juhosg wrote:</cite><blockquote><p>Hi Zukky,</p><p>I forgot that it was fixed on 2.6.27 only.</p><p>Regards,<br />Gabor</p></blockquote></div><p>Gabor,</p><p>How do I instruct make to build for the 2.6.27 kernel?&nbsp; Post your .config?</p><p>thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78296">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						17 Dec 2008, 18:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yapoo wrote:</cite><blockquote><p>Hi.</p><p>In my case, mzk-w300nh has ar9102 as wlan chip which is not listed as supported chip set on ath9k site unfortunately.</p></blockquote></div><p>I removed the RF shield off my TEW-652BRP and it does have a AR9102 wlan chip as well.</p><p>So who do we work with to get drivers for support?&nbsp; I notice that your factory boot msg shows AR5416 driver?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78299">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						17 Dec 2008, 19:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>How do I instruct make to build for the 2.6.27 kernel?&nbsp; Post your .config?</p></blockquote></div><p>You have to change the LINUX_VERSION variable in &#039;target/linux/ar71xx/Makefile&#039;</p><p>-Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78300">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						17 Dec 2008, 19:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>So who do we work with to get drivers for support?&nbsp; I notice that your factory boot msg shows AR5416 driver?</p></blockquote></div><p>Wireless won&#039;t work until ath9k won&#039;t have support for the AR913x SoCs.</p><p>Regards,<br />Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78952">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2009, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>zukky, I am curious if you can try the new ath9k updates on your router with a new ramdisk image boot.&nbsp; If ath9k does not detect the chip, you could try a u-boot command: <strong> setenv bootargs &#039;board=WNR2000&#039; </strong> before bootm.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79023">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						5 Jan 2009, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>Happy new year to all!</p><p>&gt; RoundSparrow<br />Sure! But unfortunately building image fails by libnl error now.<br /></p><div class="codebox"><pre><code>make[3]: Entering directory `/home/owrt/openwrt/trunk/package/libnl&#039;
WARNING: skipping libnl -- package not selected
CFLAGS=&quot;-Os -pipe -mips32r2 -mtune=mips32r2 -funit-at-a-time -fhonour-copts -ffunction-sections -fpic  -I/home/owrt/openwrt/trunk/staging_dir/mips/usr/include -I/home/owrt/openwrt/trunk/staging_dir/mips/include &quot; CXXFLAGS=&quot;-Os -pipe -mips32r2 -mtune=mips32r2 -funit-at-a-time -fhonour-copts -ffunction-sections -fpic  -I/home/owrt/openwrt/trunk/staging_dir/mips/usr/include -I/home/owrt/openwrt/trunk/staging_dir/mips/include &quot; LDFLAGS=&quot;-L/home/owrt/openwrt/trunk/staging_dir/toolchain-mips_gcc4.1.2/lib -L/home/owrt/openwrt/trunk/staging_dir/mips/usr/lib -L/home/owrt/openwrt/trunk/staging_dir/mips/lib &quot; make -C /home/owrt/openwrt/trunk/build_dir/mips/libnl-1.1/. AR=mips-linux-uclibc-ar AS=&quot;mips-linux-uclibc-gcc -c -Os -pipe -mips32r2 -mtune=mips32r2 -funit-at-a-time -fhonour-copts&quot; LD=mips-linux-uclibc-ld NM=mips-linux-uclibc-nm CC=&quot;mips-linux-uclibc-gcc&quot; GCC=&quot;mips-linux-uclibc-gcc&quot; CXX=&quot;mips-linux-uclibc-g++&quot; RANLIB=mips-linux-uclibc-ranlib STRIP=mips-linux-uclibc-strip OBJCOPY=mips-linux-uclibc-objcopy OBJDUMP=mips-linux-uclibc-objdump SIZE=mips-linux-uclibc-size CROSS=&quot;mips-linux-uclibc-&quot; ARCH=&quot;mips&quot; ;
make[4]: Entering directory `/home/owrt/openwrt/trunk/build_dir/mips/libnl-1.1&#039;
Entering lib
  MAKE libnl.so.1.1
  LD libnl.so.1.1
  LN libnl.so.1.1 libnl.so.1
  LN libnl.so.1 libnl.so
make[6]: `libnl.a&#039; is up to date.
Entering include
Entering doc
Entering src
  LD nl-addr-add
/home/owrt/openwrt/trunk/staging_dir/toolchain-mips_gcc4.1.2/lib/gcc/mips-linux-uclibc/4.1.2/../../../../mips-linux-uclibc/bin/ld: nl-addr-add: hidden symbol `__clz_tab&#039; in /home/owrt/openwrt/trunk/staging_dir/toolchain-mips_gcc4.1.2/lib/gcc/mips-linux-uclibc/4.1.2/libgcc.a(_clz.o) is referenced by DSO
/home/owrt/openwrt/trunk/staging_dir/toolchain-mips_gcc4.1.2/lib/gcc/mips-linux-uclibc/4.1.2/../../../../mips-linux-uclibc/bin/ld: final link failed: Nonrepresentable section on output
collect2: ld returned 1 exit status
make[5]: *** [nl-addr-add] Error 1
make[4]: *** [all] Error 2
make[4]: Leaving directory `/home/owrt/openwrt/trunk/build_dir/mips/libnl-1.1&#039;
make[3]: *** [/home/owrt/openwrt/trunk/build_dir/mips/libnl-1.1/.built] Error 2
make[3]: Leaving directory `/home/owrt/openwrt/trunk/package/libnl&#039;
make[2]: *** [package/libnl/compile] Error 2
make[2]: Leaving directory `/home/owrt/openwrt/trunk&#039;
make[1]: *** [/home/owrt/openwrt/trunk/staging_dir/mips/stamp/.package_compile] Error 2
make[1]: Leaving directory `/home/owrt/openwrt/trunk&#039;
make: *** [world] ã‚¨ãƒ©ãƒ¼ 2
owrt@debian:~/openwrt/trunk$</code></pre></div><p>&gt; Gabor<br />Thank you to prepare to support mzk-300nh. I have to harry up to send you it. :-)</p><p>regards,<br />zukky</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79026">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						5 Jan 2009, 18:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yapoo wrote:</cite><blockquote><p>Happy new year to all!</p><p>regards,<br />zukky</p></blockquote></div><p>Happy New Year to you and all!&nbsp; Zukky, if you have a fast internet connection, I suggest you do a fresh SVN checkout of dev into a new directory.&nbsp; I have had issues with make world and other steps not fully recompiling things... and I find that doing this clears up my compile issues.</p><p>Also - I think at the moment the ath9k driver will probably crash your router - as I think it works on ar9103 but not ar9102.&nbsp; I don&#039;t think Gabor has a router with the ar9102 to test with.&nbsp; I think we discover this with two Tendnet models that have different chips.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79049">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						5 Jan 2009, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi Zukky,<br /></p><div class="quotebox"><blockquote><p>Sure! But unfortunately building image fails by libnl error now.</p></blockquote></div><p>&#039;make package/libnl/clean&#039; should be help.</p><div class="quotebox"><blockquote><p>Thank you to prepare to support mzk-300nh. I have to harry up to send you it. :-)</p></blockquote></div><p>Don&#039;t worry about it.</p><p>-Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79206">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						7 Jan 2009, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi, all.</p><p>&gt; Gabor<br />Thank you for your advice. I could build image!</p><p>&gt; RoundSparrow<br />Sorry to be late. Here you are.<br /></p><div class="codebox"><pre><code>ar7100&gt; tftpboot 0x81000000 openwrt-ar71xx-uImage-gzip.bin
Using eth0 device
TFTP from server 192.168.1.230; our IP address is 192.168.1.10
Filename &#039;openwrt-ar71xx-uImage-gzip.bin&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######################################################
done
Bytes transferred = 2603760 (27baf0 hex)
ar7100&gt; bootm
## Booting image at 81000000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.27.10
   Created:      2009-01-07  17:43:06 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    2603696 Bytes =  2.5 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.27.10 (owrt@debian) (gcc version 4.1.2) #7 Thu Jan 8 02:42:45 JST 2009
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28224k/32768k available (1788k kernel code, 4544k reserved, 318k data, 1664k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
net_namespace: 592 bytes
NET: Registered protocol family 16
MIPS: machine is Generic AR71xx board
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  c 2001-2006 Red Hat, Inc.
yaffs Jan  6 2009 12:18:21 Installing.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
Atheros AR71xx SPI Controller driver version 0.2.2
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 1664k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
        (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
        (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
        (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
ath9k: 0.1
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)



BusyBox v1.11.3 (2009-01-06 11:47:07 JST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13924) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# ifconfig
lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@OpenWrt:/# iwconfig
lo        no wireless extensions.

root@OpenWrt:/#</code></pre></div><p>Yes, wlan chip was not detected.<br />Now, Let&#039;s try setenv bootargs &#039;board=WNR2000&#039;.<br /></p><div class="codebox"><pre><code>ar7100&gt; tftpboot 0x81000000 openwrt-ar71xx-uImage-gzip.bin
Using eth0 device
TFTP from server 192.168.1.230; our IP address is 192.168.1.10
Filename &#039;openwrt-ar71xx-uImage-gzip.bin&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######################################################
done
Bytes transferred = 2603760 (27baf0 hex)
ar7100&gt; setenv bootargs &#039;board=WNR2000&#039;
ar7100&gt; printenv
bootcmd=bootm 0xbf050000
bootdelay=4
baudrate=115200
ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee
stdin=serial
stdout=serial
stderr=serial
ethact=eth0
filesize=27baf0
fileaddr=81000000
ipaddr=192.168.1.10
serverip=192.168.1.230
bootargs=board=WNR2000

Environment size: 244/65532 bytes
ar7100&gt; bootm
## Booting image at 81000000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.27.10
   Created:      2009-01-07  17:43:06 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    2603696 Bytes =  2.5 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.27.10 (owrt@debian) (gcc version 4.1.2) #7 Thu Jan 8 02:42:45 JST 2009
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28224k/32768k available (1788k kernel code, 4544k reserved, 318k data, 1664k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
net_namespace: 592 bytes
NET: Registered protocol family 16
MIPS: machine is NETGEAR WNR2000
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  c 2001-2006 Red Hat, Inc.
yaffs Jan  6 2009 12:18:21 Installing.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
Atheros AR71xx SPI Controller driver version 0.2.2
m25p80 spi0.0: m25p64 (8192 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0x7e0000
Searching for RedBoot partition table in spi0.0 at offset 0x7f0000
No RedBoot partition table detected in spi0.0
Creating 8 MTD partitions on &quot;spi0.0&quot;:
0x00000000-0x00040000 : &quot;u-boot&quot;
0x00040000-0x00050000 : &quot;u-boot-env&quot;
0x00050000-0x00290000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
split_squashfs: no squashfs found in &quot;spi0.0&quot;
0x00290000-0x002a0000 : &quot;user-config&quot;
0x002a0000-0x003c0000 : &quot;uImage&quot;
0x003c0000-0x003e0000 : &quot;language_table&quot;
0x003e0000-0x003f0000 : &quot;rootfs_checksum&quot;
0x003f0000-0x00400000 : &quot;art&quot;
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 1664k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
        (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
        (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
        (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
ath9k: 0.1
Registered led device: ath9k-phy0:radio
Registered led device: ath9k-phy0:assoc
Registered led device: ath9k-phy0:tx
Registered led device: ath9k-phy0:rx
phy0: Atheros AR9100 MAC/BB Rev:0, AR2122 RF Rev:a1, mem=0xb80c0000, irq=2
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)



BusyBox v1.11.3 (2009-01-06 11:47:07 JST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13924) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# ifconfig
lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@OpenWrt:/# iwconfig
lo        no wireless extensions.

wmaster0  no wireless extensions.

wlan0     IEEE 802.11bgn  ESSID:&quot;&quot;
          Mode:Managed  Frequency:2.412 GHz  Access Point: Not-Associated
          Tx-Power=0 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

root@OpenWrt:/# cd /etc/config/
root@OpenWrt:/etc/config# ls
dhcp      firewall  httpd     system
dropbear  fstab     network   wireless
root@OpenWrt:/etc/config# vi wireless

config wifi-device  wlan0
        option type     mac80211
        option channel  5

        # REMOVE THIS LINE TO ENABLE WIFI:
#       option disabled 1

config wifi-iface
        option device   wlan0
        option network  lan
        option mode     ap
        option ssid     OpenWrt-ath9k
        option encryption none
~
~
~
~
~
~
~
~
~
~
root@OpenWrt:/etc/config# /etc/init.d/network restart
ifconfig: SIOCSIFADDR: No such device
device wlan0 entered promiscuous mode
Configuration file: /var/run/hostapd-wlan0.conf
br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state
wlan0: IEEE 802.11 Configured channel (5) not found from the channel list of current mode (1) IEEE 802.11g
wlan0: IEEE 802.11 Hardware does not support configured channel
Could not select hw_mode and channel. (-1)
br-lan: port 1(wlan0) entering disabled state
enable_mac80211(wlan0): Failed to set up wpa for interface wlan0
root@OpenWrt:/etc/config# iwconfig
lo        no wireless extensions.

wmaster0  no wireless extensions.

wlan0     IEEE 802.11bgn  Mode:Master  Frequency:2.432 GHz  Tx-Power=27 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

br-lan    no wireless extensions.

root@OpenWrt:/etc/config# ifconfig
br-lan    Link encap:Ethernet  HWaddr 00:90:CC:FE:C8:68
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@OpenWrt:/etc/config#</code></pre></div><p>Detected!<br />Hey, you must be so handsome. :-)</p><p>A little more...<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# vi wireless

config wifi-device  wlan0
        option type     mac80211
        option channel  auto

        # REMOVE THIS LINE TO ENABLE WIFI:
#       option disabled 1

config wifi-iface
        option device   wlan0
        option network  lan
        option mode     ap
        option ssid     OpenWrt-ath9k
        option encryption none
~
~
~
~
~
~
~
~
~
~
root@OpenWrt:/etc/config# /etc/init.d/network restart
device wlan0 left promiscuous mode
br-lan: port 1(wlan0) entering disabled state
ifconfig: SIOCSIFADDR: No such device
device wlan0 entered promiscuous mode
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state
Error for wireless request &quot;Set ESSID&quot; (8B1A) :
    SET failed on device wlan0 ; Operation not supported.
sh: auto: bad number
Configuration file: /var/run/hostapd-wlan0.conf
br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state
Using interface wlan0 with hwaddr 00:90:cc:fe:c8:68 and ssid &#039;OpenWrt-ath9k&#039;
root@OpenWrt:/etc/config# br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state

root@OpenWrt:/etc/config# iwconfig
lo        no wireless extensions.

wmaster0  no wireless extensions.

wlan0     IEEE 802.11bgn  Mode:Master  Frequency:2.432 GHz  Tx-Power=27 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

br-lan    no wireless extensions.

mon.wlan0  IEEE 802.11bgn  Mode:Monitor  Frequency:2.432 GHz  Tx-Power=27 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

root@OpenWrt:/etc/config# vi wireless

config wifi-device  wlan0
        option type     mac80211
#       option channel  auto

        # REMOVE THIS LINE TO ENABLE WIFI:
#       option disabled 1

config wifi-iface
        option device   wlan0
        option network  lan
        option mode     ap
        option ssid     OpenWrt-ath9k
        option encryption none
~
~
~
~
~
~
~
~
~
~
root@OpenWrt:/etc/config# /etc/init.d/network restart
br-lan: port 1(wlan0) entering disabled state
device wlan0 left promiscuous mode
br-lan: port 1(wlan0) entering disabled state
ifconfig: SIOCSIFADDR: No such device
device wlan0 entered promiscuous mode
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state
Error for wireless request &quot;Set ESSID&quot; (8B1A) :
    SET failed on device wlan0 ; Operation not supported.
Configuration file: /var/run/hostapd-wlan0.conf
br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state
Using interface wlan0 with hwaddr 00:90:cc:fe:c8:68 and ssid &#039;OpenWrt-ath9k&#039;
root@OpenWrt:/etc/config# br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state

root@OpenWrt:/etc/config# iwconfig
lo        no wireless extensions.

wmaster0  no wireless extensions.

wlan0     IEEE 802.11bgn  Mode:Master  Frequency:2.432 GHz  Tx-Power=27 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

br-lan    no wireless extensions.

mon.wlan0  IEEE 802.11bgn  Mode:Monitor  Frequency:2.432 GHz  Tx-Power=27 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

root@OpenWrt:/etc/config# ifconfig
br-lan    Link encap:Ethernet  HWaddr 00:90:CC:FE:C8:68
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

mon.wlan0 Link encap:UNSPEC  HWaddr 00-90-CC-FE-C8-68-00-4C-00-00-00-00-00-00-00-00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

wlan0     Link encap:Ethernet  HWaddr 00:90:CC:FE:C8:68
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

wmaster0  Link encap:UNSPEC  HWaddr 00-90-CC-FE-C8-68-00-4C-00-00-00-00-00-00-00-00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@OpenWrt:/etc/config#</code></pre></div><p>regards,<br />zukky</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=17975&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>