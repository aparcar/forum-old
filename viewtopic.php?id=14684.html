<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> No Bluetooth and Audio</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p64194">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						28 Feb 2008, 00:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m trying to install a USB bluetooth adapter and a USB Audio adapter. But non of them get reconized. What I&#039;m doing wrong? I&#039;m using Kamikaze svn 10443 with 2.6er Kernel.<br />The Bluetooth and Audio USB adapter are connected to my Asus wl-500gP with a 4 Port USB 1.1 HUB. If I connect them without the HUB nothing get changed. Here are my outputs:</p><p>dmesg output<br /></p><div class="codebox"><pre><code>Linux version 2.6.23.16 (oconnor@dell) (gcc version 4.1.2) #15 Wed Feb 27 22:10:52 CET 2008
CPU revision is: 00029006
ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x03, vendor 0x4243)
ssb: Core 1 found: Fast Ethernet (cc 0x806, rev 0x06, vendor 0x4243)
ssb: Core 2 found: Fast Ethernet (cc 0x806, rev 0x06, vendor 0x4243)
ssb: Core 3 found: USB 1.1 Hostdev (cc 0x808, rev 0x02, vendor 0x4243)
ssb: Core 4 found: PCI (cc 0x804, rev 0x08, vendor 0x4243)
ssb: Core 5 found: MIPS 3302 (cc 0x816, rev 0x00, vendor 0x4243)
ssb: Core 6 found: V90 (cc 0x807, rev 0x02, vendor 0x4243)
ssb: Core 7 found: IPSEC (cc 0x80B, rev 0x00, vendor 0x4243)
ssb: Core 8 found: MEMC SDRAM (cc 0x80F, rev 0x00, vendor 0x4243)
ssb: Initializing MIPS core...
ssb: set_irq: core 0x0806, irq 2 =&gt; 2
ssb: set_irq: core 0x0806, irq 3 =&gt; 3
ssb: set_irq: core 0x0804, irq 0 =&gt; 4
ssb: Sonics Silicon Backplane found at address 0x18000000
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
On node 0 totalpages: 8192
  Normal zone: 64 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 8128 pages, LIFO batch:0
  Movable zone: 0 pages used for memmap
Built 1 zonelists in Zone order.  Total pages: 8128
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 16kB, 2-way, linesize 16 bytes.
Synthesized TLB refill handler (21 instructions).
Synthesized TLB load handler fastpath (33 instructions).
Synthesized TLB store handler fastpath (33 instructions).
Synthesized TLB modify handler fastpath (32 instructions).
PID hash table entries: 128 (order: 7, 512 bytes)
Using 132.000 MHz high precision timer.
console [ttyS0] enabled
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29908k/32768k available (2009k kernel code, 2860k reserved, 286k data, 120k init, 0k highmem)
Calibrating delay loop... 262.14 BogoMIPS (lpj=524288)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
ssb: PCIcore in host mode found
registering PCI controller with io_map_base unset
PCI: fixing up bridge
PCI: Setting latency timer of device 0000:00:00.0 to 64
PCI: Fixing up device 0000:00:00.0
Time: MIPS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
detected lzma initramfs
initramfs: LZMA lc=1,lp=2,pb=2,origSize=512
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Ã‚Â© 2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing enabled
serial8250: ttyS0 at MMIO 0x0 (irq = 3) is a 16550A
serial8250: ttyS1 at MMIO 0x0 (irq = 3) is a 16550A
b44.c:v1.01 (Jun 16, 2006)
eth0: Broadcom 10/100BaseT Ethernet 00:18:f3:98:e1:af
eth1: Broadcom 10/100BaseT Ethernet 40:10:18:00:00:2d
flash init: 0x1c000000 0x02000000
Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank
Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0
 Amd/Fujitsu Extended Query Table at 0x0040
Physically mapped flash: CFI does not contain boot bank location. Assuming top.
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
Flash device: 0x800000 at 0x1fc00000
bootloader size: 262144
Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:
0x00000000-0x00040000 : &quot;cfe&quot;
0x00040000-0x007f0000 : &quot;linux&quot;
0x000f5400-0x007f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=6B0000, len=140000 
0x006b0000-0x007f0000 : &quot;rootfs_data&quot;
0x007f0000-0x00800000 : &quot;nvram&quot;
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 120k freed
Please be patient, while OpenWrt loads ...
Algorithmics/MIPS FPU Emulator v1.5
diag: Detected &#039;ASUS WL-500g Premium&#039;
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
Probing device eth0: found!
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.
device eth0.0 entered promiscuous mode
device eth0 entered promiscuous mode
br-lan: port 1(eth0.0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0.0) entering forwarding state
SCSI subsystem initialized
BFL_ENETADM not set in boardflags. Use force=1 to ignore.
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
PPP generic driver version 2.4.2
wlan: trunk
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, REGOPS_FUNC)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: trunk
PCI: Enabling device 0000:00:02.0 (0000 -&gt; 0002)
PCI: Fixing up device 0000:00:02.0
MadWifi: ath_attach: Switching rfkill capability off
MadWifi: ath_attach: Switching per-packet transmit power control off
wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
wifi0: turboG rates: 6Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
wifi0: H/W encryption support: WEP AES AES_CCM TKIP
wifi0: ath_announce: Use hw queue 1 for WME_AC_BE traffic
wifi0: ath_announce: Use hw queue 0 for WME_AC_BK traffic
wifi0: ath_announce: Use hw queue 2 for WME_AC_VI traffic
wifi0: ath_announce: Use hw queue 3 for WME_AC_VO traffic
wifi0: ath_announce: Use hw queue 8 for CAB traffic
wifi0: ath_announce: Use hw queue 9 for beacons
ath_pci: wifi0: Atheros 5212: mem=0x40000000, irq=6
USB Universal Host Controller Interface driver v3.0
PCI: Enabling device 0000:00:03.0 (0000 -&gt; 0001)
PCI: Fixing up device 0000:00:03.0
uhci_hcd 0000:00:03.0: UHCI Host Controller
uhci_hcd 0000:00:03.0: new USB bus registered, assigned bus number 1
uhci_hcd 0000:00:03.0: irq 6, io base 0x00000100
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected
PCI: Enabling device 0000:00:03.1 (0000 -&gt; 0001)
PCI: Fixing up device 0000:00:03.1
uhci_hcd 0000:00:03.1: UHCI Host Controller
uhci_hcd 0000:00:03.1: new USB bus registered, assigned bus number 2
uhci_hcd 0000:00:03.1: irq 6, io base 0x00000120
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 2 ports detected
PCI: Enabling device 0000:00:03.2 (0000 -&gt; 0002)
PCI: Fixing up device 0000:00:03.2
ehci_hcd 0000:00:03.2: EHCI Host Controller
ehci_hcd 0000:00:03.2: new USB bus registered, assigned bus number 3
ehci_hcd 0000:00:03.2: irq 6, io mem 0x40010000
usb 1-1: new full speed USB device using uhci_hcd and address 2
ehci_hcd 0000:00:03.2: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb3: configuration #1 chosen from 1 choice
hub 3-0:1.0: USB hub found
hub 3-0:1.0: 4 ports detected
usb 3-2: new high speed USB device using ehci_hcd and address 3
usb 3-2: configuration #1 chosen from 1 choice
usbcore: registered new interface driver snd-usb-audio
usb 1-1: new full speed USB device using uhci_hcd and address 3
Initializing USB Mass Storage driver...
usb 1-1: configuration #1 chosen from 1 choice
hub 1-1:1.0: USB hub found
hub 1-1:1.0: 5 ports detected
scsi0 : SCSI emulation for USB Mass Storage devices
usb-storage: device found at 3
usb-storage: waiting for device to settle before scanning
usb 1-1.2: new full speed USB device using uhci_hcd and address 4
usb 1-1.2: configuration #1 chosen from 1 choice
usb 1-1.3: new full speed USB device using uhci_hcd and address 5
usb 1-1.3: configuration #1 chosen from 1 choice
usb 1-1.5: new full speed USB device using uhci_hcd and address 6
usb 1-1.5: configuration #1 chosen from 1 choice
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
Linux video capture interface: v2.00
Bluetooth: Core ver 2.11
NET: Registered protocol family 31
Bluetooth: HCI device and connection manager initialized
Bluetooth: HCI socket layer initialized
Bluetooth: L2CAP ver 2.8
Bluetooth: L2CAP socket layer initialized
Bluetooth: SCO (Voice Link) ver 0.5
Bluetooth: SCO socket layer initialized
Bluetooth: RFCOMM socket layer initialized
Bluetooth: RFCOMM TTY layer initialized
Bluetooth: RFCOMM ver 1.8
Bluetooth: BNEP (Ethernet Emulation) ver 1.2
Bluetooth: BNEP filters: protocol multicast
Bluetooth: HCI UART driver ver 2.2
Bluetooth: HCI H4 protocol initialized
Bluetooth: HCI BCSP protocol initialized
Bluetooth: HCI USB driver ver 2.9
usbcore: registered new interface driver hci_usb
/home/oconnor/Desktop/trunk/build_dir/linux-brcm47xx/spca5xx-le/spca_core.c: USB SPCA5XX camera found. Type Mustek gSmart Mini 3(SPCA504A)
usbcore: registered new interface driver spca5xx
/home/oconnor/Desktop/trunk/build_dir/linux-brcm47xx/spca5xx-le/spca_core.c: spca5xx driver 00.57.06LE registered
scsi 0:0:0:0: Direct-Access     Verbatim Store&#039;n&#039;go U3    6.15 PQ: 0 ANSI: 0 CCS
sd 0:0:0:0: [sda] 1994751 512-byte hardware sectors (1021 MB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 45 00 00 08
sd 0:0:0:0: [sda] Assuming drive cache: write through
sd 0:0:0:0: [sda] 1994751 512-byte hardware sectors (1021 MB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 45 00 00 08
sd 0:0:0:0: [sda] Assuming drive cache: write through
 sda: sda1
sd 0:0:0:0: [sda] Attached SCSI removable disk
usb-storage: device scan complete
EXT2-fs: sda1: couldn&#039;t mount because of unsupported optional features (4).
kjournald starting.  Commit interval 5 seconds
EXT3-fs warning: mounting unchecked fs, running e2fsck is recommended
EXT3 FS on sda1, internal journal
EXT3-fs: recovery complete.
EXT3-fs: mounted filesystem with ordered data mode.</code></pre></div><p>logread output<br /></p><div class="codebox"><pre><code>Jan  1 00:00:11 AsusP syslog.info syslogd started: BusyBox v1.8.2
Jan  1 00:00:11 AsusP user.notice kernel: klogd started: BusyBox v1.8.2 (2008-02-15 21:05:39 CET)
Jan  1 00:00:12 AsusP user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Jan  1 00:00:12 AsusP user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Jan  1 00:00:14 kernel: br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.
Jan  1 00:00:14 AsusP user.info kernel: device eth0.0 entered promiscuous mode
Jan  1 00:00:14 AsusP user.info kernel: device eth0 entered promiscuous mode
Jan  1 00:00:14 kernel: br-lan: port 1(eth0.0) entering learning state
Jan  1 00:00:14 kernel: br-lan: topology change detected, propagating
Jan  1 00:00:14 kernel: br-lan: port 1(eth0.0) entering forwarding state
Jan  1 00:00:14 AsusP user.notice kernel: SCSI subsystem initialized
Jan  1 00:00:14 AsusP user.info kernel: t set in boardflags. Use force=1 to ignore.
Jan  1 00:00:14 kernel: BFL_ENETADM no
Jan  1 00:00:15 kernel: usbcore: registered new interface driver usbfs
Jan  1 00:00:15 kernel: usbcore: registered new interface driver hub
Jan  1 00:00:15 AsusP user.info kernel: usbcore: registered new device driver usb
Jan  1 00:00:15 : udhcpc (v1.8.2) started
Jan  1 00:00:16 : Sending discover...
Jan  1 00:00:16 kernel: PPP generic driver version 2.4.2
Jan  1 00:00:19 AsusP user.info kernel: wlan: trunk
Jan  1 00:00:19 kernel: ath_hal: module license &#039;Proprietary&#039; taints kernel.
Jan  1 00:00:19 kernel: ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, REGOPS_FUNC)
Jan  1 00:00:19 : Sending discover...
Jan  1 00:00:19 AsusP user.info kernel: ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
Jan  1 00:00:19 AsusP user.info kernel: ath_rate_minstrel: look around rate set to 10%
Jan  1 00:00:19 AsusP user.info kernel: ath_rate_minstrel: EWMA rolloff level set to 75%
Jan  1 00:00:19 AsusP user.info kernel: ath_rate_minstrel: max segment size in the mrr set to 6000 us
Jan  1 00:00:19 kernel: wlan: mac acl policy registered
Jan  1 00:00:20 AsusP user.info kernel: ath_pci: trunk
Jan  1 00:00:20 AsusP user.warn kernel: PCI: Enabling device 0000:00:02.0 (0000 -&gt; 0002)
Jan  1 00:00:20 AsusP user.info kernel: PCI: Fixing up device 0000:00:02.0
Jan  1 00:00:20 AsusP user.info kernel: MadWifi: ath_attach: Switching rfkill capability off
Jan  1 00:00:20 AsusP user.info kernel: MadWifi: ath_attach: Switching per-packet transmit power control off
Jan  1 00:00:20 AsusP user.warn kernel: wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
Jan  1 00:00:20 AsusP user.warn kernel: wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
Jan  1 00:00:20 AsusP user.warn kernel: wifi0: turboG rates: 6Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
Jan  1 00:00:20 AsusP user.warn kernel: wifi0: H/W encryption support: WEP AES AES_CCM TKIP
Jan  1 00:00:20 AsusP user.info kernel: wifi0: ath_announce: Use hw queue 1 for WME_AC_BE traffic
Jan  1 00:00:20 AsusP user.info kernel: wifi0: ath_announce: Use hw queue 0 for WME_AC_BK traffic
Jan  1 00:00:20 AsusP user.info kernel: wifi0: ath_announce: Use hw queue 2 for WME_AC_VI traffic
Jan  1 00:00:20 AsusP user.info kernel: wifi0: ath_announce: Use hw queue 3 for WME_AC_VO traffic
Jan  1 00:00:20 AsusP user.info kernel: wifi0: ath_announce: Use hw queue 8 for CAB traffic
Jan  1 00:00:20 AsusP user.info kernel: wifi0: ath_announce: Use hw queue 9 for beacons
Jan  1 00:00:20 AsusP user.info kernel: ath_pci: wifi0: Atheros 5212: mem=0x40000000, irq=6
Jan  1 00:00:20 AsusP user.info kernel: USB Universal Host Controller Interface driver v3.0
Jan  1 00:00:20 AsusP user.warn kernel: PCI: Enabling device 0000:00:03.0 (0000 -&gt; 0001)
Jan  1 00:00:20 AsusP user.info kernel: PCI: Fixing up device 0000:00:03.0
Jan  1 00:00:20 AsusP user.info kernel: uhci_hcd 0000:00:03.0: UHCI Host Controller
Jan  1 00:00:20 AsusP user.info kernel: uhci_hcd 0000:00:03.0: new USB bus registered, assigned bus number 1
Jan  1 00:00:20 AsusP user.info kernel: uhci_hcd 0000:00:03.0: irq 6, io base 0x00000100
Jan  1 00:00:20 AsusP user.info kernel: usb usb1: configuration #1 chosen from 1 choice
Jan  1 00:00:20 AsusP user.info kernel: hub 1-0:1.0: USB hub found
Jan  1 00:00:20 AsusP user.info kernel: hub 1-0:1.0: 2 ports detected
Jan  1 00:00:20 kernel: PCI: Enabling device 0000:00:03.1 (0000 -&gt; 0001)
Jan  1 00:00:20 kernel: PCI: Fixing up device 0000:00:03.1
Jan  1 00:00:20 kernel: uhci_hcd 0000:00:03.1: UHCI Host Controller
Jan  1 00:00:20 kernel: uhci_hcd 0000:00:03.1: new USB bus registered, assigned bus number 2
Jan  1 00:00:20 kernel: uhci_hcd 0000:00:03.1: irq 6, io base 0x00000120
Jan  1 00:00:20 kernel: usb usb2: configuration #1 chosen from 1 choice
Jan  1 00:00:20 kernel: hub 2-0:1.0: USB hub found
Jan  1 00:00:20 kernel: hub 2-0:1.0: 2 ports detected
Jan  1 00:00:21 AsusP user.warn kernel: PCI: Enabling device 0000:00:03.2 (0000 -&gt; 0002)
Jan  1 00:00:21 AsusP user.info kernel: PCI: Fixing up device 0000:00:03.2
Jan  1 00:00:21 AsusP user.info kernel: ehci_hcd 0000:00:03.2: EHCI Host Controller
Jan  1 00:00:21 AsusP user.info kernel: ehci_hcd 0000:00:03.2: new USB bus registered, assigned bus number 3
Jan  1 00:00:21 AsusP user.info kernel: ehci_hcd 0000:00:03.2: irq 6, io mem 0x40010000
Jan  1 00:00:21 kernel: usb 1-1: new full speed USB device using uhci_hcd and address 2
Jan  1 00:00:21 AsusP user.info kernel: ehci_hcd 0000:00:03.2: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
Jan  1 00:00:21 AsusP user.info kernel: usb usb3: configuration #1 chosen from 1 choice
Jan  1 00:00:21 AsusP user.info kernel: hub 3-0:1.0: USB hub found
Jan  1 00:00:21 AsusP user.info kernel: hub 3-0:1.0: 4 ports detected
Jan  1 00:00:22 kernel: usb 3-2: new high speed USB device using ehci_hcd and address 3
Jan  1 00:00:22 kernel: usb 3-2: configuration #1 chosen from 1 choice
Jan  1 00:00:22 kernel: usbcore: registered new interface driver snd-usb-audio
Jan  1 00:00:22 kernel: usb 1-1: new full speed USB device using uhci_hcd and address 3
Jan  1 00:00:22 AsusP user.info kernel: Initializing USB Mass Storage driver...
Jan  1 00:00:22 : Sending discover...
Jan  1 00:00:22 kernel: usb 1-1: configuration #1 chosen from 1 choice
Jan  1 00:00:22 AsusP user.info kernel: hub 1-1:1.0: USB hub found
Jan  1 00:00:22 kernel: hub 1-1:1.0: 5 ports detected
Jan  1 00:00:22 AsusP user.notice root: usb device is mass storage
Jan  1 00:00:22 AsusP user.notice root: waiting on usb drive 0 ...
Jan  1 00:00:22 AsusP user.info kernel: scsi0 : SCSI emulation for USB Mass Storage devices
Jan  1 00:00:22 kernel: usb-storage: device found at 3
Jan  1 00:00:22 kernel: usb-storage: waiting for device to settle before scanning
Jan  1 00:00:23 AsusP user.info kernel: usb 1-1.2: new full speed USB device using uhci_hcd and address 4
Jan  1 00:00:23 kernel: usb 1-1.2: configuration #1 chosen from 1 choice
Jan  1 00:00:23 AsusP user.info kernel: usb 1-1.3: new full speed USB device using uhci_hcd and address 5
Jan  1 00:00:23 kernel: usb 1-1.3: configuration #1 chosen from 1 choice
Jan  1 00:00:24 AsusP user.info kernel: usb 1-1.5: new full speed USB device using uhci_hcd and address 6
Jan  1 00:00:24 AsusP user.notice root: waiting on usb drive 1 ...
Jan  1 00:00:24 kernel: usb 1-1.5: configuration #1 chosen from 1 choice
Jan  1 00:00:24 AsusP user.info kernel: usbcore: registered new interface driver usb-storage
Jan  1 00:00:24 AsusP user.info kernel: USB Mass Storage support registered.
Jan  1 00:00:24 kernel: Linux video capture interface: v2.00
Jan  1 00:00:24 AsusP user.info kernel: Bluetooth: Core ver 2.11
Jan  1 00:00:24 AsusP user.info kernel: NET: Registered protocol family 31
Jan  1 00:00:24 AsusP user.info kernel: Bluetooth: HCI device and connection manager initialized
Jan  1 00:00:24 AsusP user.info kernel: Bluetooth: HCI socket layer initialized
Jan  1 00:00:25 kernel: Bluetooth: L2CAP ver 2.8
Jan  1 00:00:25 kernel: Bluetooth: L2CAP socket layer initialized
Jan  1 00:00:25 AsusP user.notice root: waiting on usb drive 2 ...
Jan  1 00:00:25 AsusP user.info kernel: Bluetooth: SCO (Voice Link) ver 0.5
Jan  1 00:00:25 AsusP user.info kernel: Bluetooth: SCO socket layer initialized
Jan  1 00:00:25 kernel: Bluetooth: RFCOMM socket layer initialized
Jan  1 00:00:25 kernel: Bluetooth: RFCOMM TTY layer initialized
Jan  1 00:00:25 kernel: Bluetooth: RFCOMM ver 1.8
Jan  1 00:00:25 AsusP user.info kernel: Bluetooth: BNEP (Ethernet Emulation) ver 1.2
Jan  1 00:00:25 AsusP user.info kernel: Bluetooth: BNEP filters: protocol multicast
Jan  1 00:00:25 kernel: Bluetooth: HCI UART driver ver 2.2
Jan  1 00:00:25 kernel: Bluetooth: HCI H4 protocol initialized
Jan  1 00:00:25 kernel: Bluetooth: HCI BCSP protocol initialized
Jan  1 00:00:25 AsusP user.info kernel: Bluetooth: HCI USB driver ver 2.9
Jan  1 00:00:26 kernel: usbcore: registered new interface driver hci_usb
Jan  1 00:00:26 AsusP user.info kernel: /home/oconnor/Desktop/trunk/build_dir/linux-brcm47xx/spca5xx-le/spca_core.c: USB SPCA5XX camera found. Type Mustek gSmart Mini 3(SPCA504A)
Jan  1 00:00:26 kernel: usbcore: registered new interface driver spca5xx
Jan  1 00:00:26 kernel: /home/oconnor/Desktop/trunk/build_dir/linux-brcm47xx/spca5xx-le/spca_core.c: spca5xx driver 00.57.06LE registered
Jan  1 00:00:26 AsusP user.notice root: waiting on usb drive 3 ...
Jan  1 00:00:27 : &#039;wifi0&#039; is disabled
Jan  1 00:00:27 : &#039;wifi0&#039; is disabled
Jan  1 00:00:27 AsusP user.notice root: waiting on usb drive 4 ...
Jan  1 00:00:28 AsusP user.notice kernel: scsi 0:0:0:0: Direct-Access     Verbatim Store&#039;n&#039;go U3    6.15 PQ: 0 ANSI: 0 CCS
Jan  1 00:00:28 kernel: sd 0:0:0:0: [sda] 1994751 512-byte hardware sectors (1021 MB)
Jan  1 00:00:28 AsusP user.notice kernel: sd 0:0:0:0: [sda] Write Protect is off
Jan  1 00:00:28 AsusP user.debug kernel: sd 0:0:0:0: [sda] Mode Sense: 45 00 00 08
Jan  1 00:00:28 AsusP user.err kernel: sd 0:0:0:0: [sda] Assuming drive cache: write through
Jan  1 00:00:28 kernel: sd 0:0:0:0: [sda] 1994751 512-byte hardware sectors (1021 MB)
Jan  1 00:00:28 AsusP user.notice kernel: sd 0:0:0:0: [sda] Write Protect is off
Jan  1 00:00:28 AsusP user.debug kernel: sd 0:0:0:0: [sda] Mode Sense: 45 00 00 08
Jan  1 00:00:28 AsusP user.err kernel: sd 0:0:0:0: [sda] Assuming drive cache: write through
Jan  1 00:00:28 AsusP user.info kernel:  sda:
Jan  1 00:00:28 kernel:  sda1
Jan  1 00:00:28 AsusP user.notice kernel: sd 0:0:0:0: [sda] Attached SCSI removable disk
Jan  1 00:00:28 AsusP user.debug kernel: usb-storage: device scan complete
Jan  1 00:00:28 AsusP user.notice root: waiting on usb drive 5 ...
Jan  1 00:00:29 : Sending select for 192.168.178.22...
Jan  1 00:00:29 : Lease of 192.168.178.22 obtained, lease time 864000
Jan  1 00:00:30 : adding router 192.168.178.1
Jan  1 00:00:30 : deleting old routes
Jan  1 00:00:30 : adding dns 192.168.178.1
Jan  1 00:00:31 : mounting /dev/sda1 on /mnt/usbdrive
Jan  1 00:00:31 AsusP user.warn kernel: EXT2-fs: sda1: couldn&#039;t mount because of unsupported optional features (4).
Jan  1 00:00:31 kernel: kjournald starting.  Commit interval 5 seconds
Jan  1 00:00:31 AsusP user.warn kernel: EXT3-fs warning: mounting unchecked fs, running e2fsck is recommended
Feb 27 22:06:00 kernel: EXT3 FS on sda1, internal journal
Feb 27 22:06:00 kernel: EXT3-fs: recovery complete.
Feb 27 22:06:00 AsusP user.info kernel: EXT3-fs: mounted filesystem with ordered data mode.
Feb 27 22:06:00 AsusP authpriv.info dropbear[1017]: Running in background
Feb 27 22:06:03 AsusP authpriv.info dropbear[1045]: Child connection from 172.16.1.187:1194
Feb 27 22:06:03 : No configuration file specified.
Feb 27 22:06:03 : dbus-daemon [--version] [--session] [--system] [--config-file=FILE] [--print-address[=DESCRIPTOR]] [--print-pid[=DESCRIPTOR]] [--fork] [--nofork] [--introspect]
Feb 27 22:06:06 AsusP authpriv.notice dropbear[1045]: password auth succeeded for &#039;root&#039; from 172.16.1.187:1194
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: started, version 2.40 cachesize 150
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: compile time options: IPv6 GNU-getopt ISC-leasefile no-DBus no-I18N TFTP
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: DHCP, IP range 172.16.1.100 -- 172.16.1.250, lease time 12h
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: using local addresses only for domain lan
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: reading /tmp/resolv.conf.auto
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: using nameserver 192.168.178.1#53
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: using local addresses only for domain lan
Feb 27 22:06:07 AsusP daemon.info dnsmasq[1065]: read /etc/hosts - 1 addresses
Feb 27 22:06:07 AsusP daemon.err dnsmasq[1065]: failed to read /etc/ethers:No such file or directory
Feb 27 22:06:09 : current locale is &quot;C&quot;
Feb 27 22:06:09 : setting filesystem charset to ISO-8859-1
Feb 27 22:06:09 : config parameter &quot;db_file&quot; not found
Feb 27 22:06:09 : config parameter &quot;error_file&quot; not found
Feb 27 22:06:14 : sysctl: error: &#039;net.ipv6.conf.all.forwarding&#039; is an unknown key</code></pre></div><p>lsusb output<br /></p><div class="codebox"><pre><code>Bus 003 Device 003: ID 08ec:0016 M-Systems Flash Disk Pioneers 
Bus 003 Device 001: ID 0000:0000  
Bus 002 Device 001: ID 0000:0000  
Bus 001 Device 006: ID 0a12:0001 Cambridge Silicon Radio, Ltd Bluetooth Dongle (HCI mode)
Bus 001 Device 005: ID 055f:c520 Mustek Systems, Inc. gSmart mini 3
Bus 001 Device 004: ID 1130:f211 Tenx Technology, Inc. 
Bus 001 Device 003: ID 04cc:1122 Philips Semiconductors Hub
Bus 001 Device 001: ID 0000:0000</code></pre></div><p>Installed Ipkg packages<br /></p><div class="codebox"><pre><code>alsa-lib - 1.0.13-1 - 
amule - 2.1.3-1 - 
base-files-brcm47xx - 12-r10443 - 
bemusedlinuxserver - r011-1 - 
bluez-libs - 3.24-1 - 
bluez-utils - 3.24-1 - 
bridge - 1.0.6-1 - 
busybox - 1.8.2-1 - 
ctorrent - dnh3.2-1 - 
dbus - 1.0.2-1 - 
dctcs - 0.7.0-1 - 
dnsmasq - 2.40-1 - 
dropbear - 0.50-3 - 
glib1 - 1.2.10-1 - 
haserl - 0.8.0-2 - 
hotplug2 - 0.9+r102-2 - 
iptables - 1.3.8-2 - 
kernel - 2.6.23.16-brcm47xx-1 - 
kmod-bluetooth - 2.6.23.16-brcm47xx-1 - 
kmod-diag - 2.6.23.16-brcm47xx-2 - 
kmod-fs-ext2 - 2.6.23.16-brcm47xx-1 - 
kmod-fs-ext3 - 2.6.23.16-brcm47xx-1 - 
kmod-ipt-nathelper - 2.6.23.16-brcm47xx-1 - 
kmod-madwifi - 2.6.23.16+r3314-brcm47xx-1 - 
kmod-ppp - 2.6.23.16-brcm47xx-1 - 
kmod-pppoe - 2.6.23.16-brcm47xx-1 - 
kmod-scsi-core - 2.6.23.16-brcm47xx-1 - 
kmod-sound-core - 2.6.23.16-brcm47xx-1 - 
kmod-switch - 2.6.23.16-brcm47xx-1 - 
kmod-usb-audio - 2.6.23.16-brcm47xx-1 - 
kmod-usb-core - 2.6.23.16-brcm47xx-1 - 
kmod-usb-storage - 2.6.23.16-brcm47xx-1 - 
kmod-usb-uhci - 2.6.23.16-brcm47xx-1 - 
kmod-usb2 - 2.6.23.16-brcm47xx-1 - 
kmod-video-core - 2.6.23.16-brcm47xx-1 - 
kmod-video-spca5xx-le - 2.6.23.16+1-brcm47xx-1 - 
libexpat - 1.95.8-1 - 
libflac - 1.1.2-1 - 
libgcc - 4.1.2-12 - 
libgd - 2.0.33-2 - 
libid3tag - 0.15.1b-1 - 
libjpeg - 6b-1 - 
libmad - 0.15.1b-1 - 
libncurses - 5.6-1 - 
libopenssl - 0.9.8e-3 - 
libpcap - 0.9.4-1 - 
libpcre - 7.6-2 - 
libpng - 1.2.8-1 - 
libpthread - 0.9.29-12 - 
libreadline - 5.1-1 - 
libsqlite2 - 2.8.17-1 - 
libsqlite3 - 3.4.2-1 - 
libstdcpp - 4.1.2-12 - 
libuci - 0.2.5-1 - 
libusb - 0.1.12-1 - 
libvorbisidec - 1.0.2+svn14261-1 - 
libwxbase - 2.6.4-1 - 
libxml2 - 2.6.20-1 - 
lighttpd - 1.4.18-2 - 
lighttpd-mod-cgi - 1.4.18-2 - 
mpd - 0.13.1-1 - 
mtd - 6 - 
ntpclient - 2003_194-6 - 
openssh-sftp-server - 4.7p1-1 - 
php5 - 5.2.5-1 - 
php5-cgi - 5.2.5-1 - 
php5-mod-gd - 5.2.5-1 - 
php5-mod-openssl - 5.2.5-1 - 
php5-mod-pcre - 5.2.5-1 - 
php5-mod-session - 5.2.5-1 - 
php5-mod-sqlite - 5.2.5-1 - 
php5-mod-xml - 5.2.5-1 - 
ppp - 2.4.3-9 - 
ppp-mod-pppoe - 2.4.3-9 - 
samba-common - 2.0.10-4 - 
samba-server - 2.0.10-4 - 
sqlite2-cli - 2.8.17-1 - 
sqlite3-cli - 3.4.2-1 - 
tcpdump - 3.9.8-1 - 
uci - 0.2.5-1 - 
uclibc - 0.9.29-12 - 
uclibcxx - 0.2.2-1 - 
udevtrigger - 106-1 - 
usbutils - 0.72-1 - 
webif - 0.3-10 - 
wireless-tools - 29-2 - 
wol - 0.7.1-2 - 
zlib - 1.2.3-5 - 
Done.</code></pre></div><p>lsmod output<br /></p><div class="codebox"><pre><code>Module                  Size  Used by    Tainted: P  
spca5xx                82304  0 
hci_usb                12320  0 
hci_uart               14752  0 
bnep                   10528  0 
rfcomm                 40384  0 
sco                     7792  0 
l2cap                  16944  4 bnep,rfcomm
bluetooth              53456  6 hci_usb,hci_uart,bnep,rfcomm,sco,l2cap
videodev               23104  1 spca5xx
compat_ioctl32           448  0 
v4l1_compat            11280  1 videodev
v4l2_common            12608  1 videodev
usb_storage            28032  1 
snd_usb_audio          57216  0 
snd_usb_lib            11936  1 snd_usb_audio
ehci_hcd               28880  0 
uhci_hcd               19920  0 
ath_pci               126224  0 
wlan_xauth               480  0 
wlan_wep                4000  0 
wlan_tkip               9664  0 
wlan_ccmp               5440  0 
wlan_acl                1920  0 
ath_rate_minstrel       8256  1 
ath_hal               271168  3 ath_pci,ath_rate_minstrel
wlan_scan_sta           8768  0 
wlan_scan_ap            6656  0 
wlan                  152624  10 ath_pci,wlan_xauth,wlan_wep,wlan_tkip,wlan_ccmp,wlan_acl,ath_rate_minstrel,wlan_scan_sta,wlan_scan_ap
sd_mod                 18512  2 
nf_nat_tftp              480  0 
nf_conntrack_tftp       2480  1 nf_nat_tftp
nf_nat_irc               960  0 
nf_conntrack_irc        2832  1 nf_nat_irc
nf_nat_ftp              1472  0 
nf_conntrack_ftp        5152  1 nf_nat_ftp
snd_pcm_oss            40064  0 
snd_mixer_oss          13728  1 snd_pcm_oss
snd_pcm                57376  2 snd_usb_audio,snd_pcm_oss
snd_timer              16336  1 snd_pcm
snd_rawmidi            16288  1 snd_usb_lib
snd_seq_device          4112  1 snd_rawmidi
snd_hwdep               4784  1 snd_usb_audio
snd_page_alloc          5168  1 snd_pcm
snd                    35344  8 snd_usb_audio,snd_pcm_oss,snd_mixer_oss,snd_pcm,snd_timer,snd_rawmidi,snd_seq_device,snd_hwdep
soundcore               3664  1 snd
ppp_async               9856  0 
ppp_generic            20192  1 ppp_async
slhc                    5376  1 ppp_generic
crc_ccitt               1024  1 ppp_async
ext3                   98064  1 
jbd                    55408  1 ext3
ext2                   40336  0 
usbcore               106576  8 spca5xx,hci_usb,usb_storage,snd_usb_audio,snd_usb_lib,ehci_hcd,uhci_hcd
scsi_mod               72256  2 usb_storage,sd_mod
switch_robo             4016  0 
switch_core             5056  1 switch_robo
diag                    8400  0</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64195">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">confused2008</div>
					<div class="post-datetime">
						28 Feb 2008, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>USB Audio for kernel 2.4 and 2.6: <a href="http://forum.openwrt.org/viewtopic.php?id=14548">http://forum.openwrt.org/viewtopic.php?id=14548</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64197">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						28 Feb 2008, 00:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I already read your thread. But in your thread your soundcard gets reconized and dmesg shows that. But mine does not <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />, also the Bluetooth. I think I missed something to install but I don&#039;t know what.</p>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 28 Feb 2008, 00:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64220">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						28 Feb 2008, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>i guess you should edit you /etc/mpd.conf file...</p><div class="codebox"><pre><code>Feb 27 22:06:09 : config parameter &quot;db_file&quot; not found
Feb 27 22:06:09 : config parameter &quot;error_file&quot; not found</code></pre></div><p>does mpd run?</p><p>* edit: *<br />and i saw this log:<br /></p><div class="codebox"><pre><code>Feb 27 22:06:03 : No configuration file specified.
Feb 27 22:06:03 : dbus-daemon [--version] [--session] [--system] [--config-file=FILE] [--print-address[=DESCRIPTOR]] [--print-pid[=DESCRIPTOR]] [--fork] [--nofork] [--introspect]</code></pre></div><p>are you sure, that you use the updated dbus package (trunk version), as the 7.09 release was buggy. dbus is used for bluez stuff</p><p>cheers</p>											<p class="post-edited">(Last edited by <strong>michu</strong> on 28 Feb 2008, 11:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64226">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						28 Feb 2008, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi, thanks for replaying, because of your bemusedlinuxserver I&#039;m trying to install all that stuff.</p><p>Mpd runs than I change my config in /etc/mpd.conf.</p><p>I&#039;m sure that I use the dbus package from trunk. Because I compiled one large Image from trunk revision 10443 there all this stuff is inside.</p><p>My main problem is that dmesg does not shows that the soundcard is found nor that the bluetooth dongle is found. I will try to compile an Image with only sound and bluez and not the rest of my stuff and will see if dmesg shows that sound and bluez are found.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64229">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						28 Feb 2008, 14:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Oconnor wrote:</cite><blockquote><p>Hi, thanks for replaying, because of your bemusedlinuxserver I&#039;m trying to install all that stuff.</p><p>Mpd runs than I change my config in /etc/mpd.conf.</p><p>I&#039;m sure that I use the dbus package from trunk. Because I compiled one large Image from trunk revision 10443 there all this stuff is inside.</p><p>My main problem is that dmesg does not shows that the soundcard is found nor that the bluetooth dongle is found. I will try to compile an Image with only sound and bluez and not the rest of my stuff and will see if dmesg shows that sound and bluez are found.</p></blockquote></div><p>i&#039;ll post all my packages when im at home. about bluez: did you check [<a href="http://bemused-lnx-mpdhack.origo.ethz.ch/wiki/doc">http://bemused-lnx-mpdhack.origo.ethz.ch/wiki/doc</a>] ? there are some steps to check, if bluetooth is working fine.</p><p>what happens if you enter mpc? did you add songs to mpd? some informations:<br />mpc listall, if this is ok enter &quot;mpc listall | mpc add -&quot; and then &quot;mpc toggle&quot;. mpd should now play some songs.</p><p>did you check, if audio devices exist? (ls -al /dev/ds* or ls -al /dev/aud*, ls -al /dev/mixe*)</p><p>btw there are informatin about bluetooth in your dmsg:<br /></p><div class="codebox"><pre><code>...
Bluetooth: HCI BCSP protocol initialized
Bluetooth: HCI USB driver ver 2.9
usbcore: registered new interface driver hci_usb</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64236">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						28 Feb 2008, 15:40					</div>
				</div>
				<div class="post-content content">
					<p>Can you post your dmesg and logread output also? My Problem is that my Hardware (Bluetooth Audio) is not detected! That what you posted about bluetooth is only the driver but not my hardware. If I boot my router without the bluetooth dongle I&#039;m getting the same output. But than I&#039;m at home I will try it again to play a sound. But it wont work.<br />I checked your wiki<br />After typing &quot;sdptool browse&quot; I get:<br />&nbsp; Inquiring ...<br />Invalid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64238">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						28 Feb 2008, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>what do you mean with </p><div class="codebox"><pre><code>Hardware (Bluetooth Audio)</code></pre></div><p>?</p><p>just to be sure, bemusedlinux server can only CONTROL mpd, but not playback the sound directly on the mobile phone! (but you can download the files to the phone). The sound output will still be on the OPENWRT box!</p><p>please also post the output of my previous questions.</p><p>ill post my dmesg when im at home. cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64275">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						28 Feb 2008, 23:13					</div>
				</div>
				<div class="post-content content">
					<p>Alride lets awnser your questions:<br /></p><div class="quotebox"><cite>michu wrote:</cite><blockquote><p>about bluez: did you check [<a href="http://bemused-lnx-mpdhack.origo.ethz.ch/wiki/doc">http://bemused-lnx-mpdhack.origo.ethz.ch/wiki/doc</a>] ? there are some steps to check, if bluetooth is working fine.</p></blockquote></div><div class="codebox"><pre><code>root@AsusP:~# hciconfig 
hci0:   Type: USB
        BD Address: 00:00:00:00:00:00 ACL MTU: 0:0 SCO MTU: 0:0
        DOWN 
        RX bytes:0 acl:0 sco:0 events:0 errors:0
        TX bytes:0 acl:0 sco:0 commands:0 errors:0
root@AsusP:~# sdptool browse
Inquiring ...
Inquiry failed

I found in logread:

Feb 28 20:51:27 AsusP daemon.info hcid[1051]: Bluetooth HCI daemon
Feb 28 20:51:27 AsusP daemon.err hcid[1051]: Can&#039;t connect to system message bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory
Feb 28 20:51:27 AsusP daemon.err hcid[1051]: Unable to get on D-Bus
Feb 28 20:51:27 AsusP user.info : Can&#039;t get on system busCan&#039;t release device: No such device</code></pre></div><p>So I think Bluetooth is not working.</p><br /><br /><div class="quotebox"><cite>michu wrote:</cite><blockquote><p>what happens if you enter mpc? did you add songs to mpd? some informations:<br />mpc listall, if this is ok enter &quot;mpc listall | mpc add -&quot; and then &quot;mpc toggle&quot;. mpd should now play some songs.</p></blockquote></div><p>Yes I added 2 songs.<br /></p><div class="codebox"><pre><code>Feb 28 20:51:29 AsusP user.info : current locale is &quot;C&quot;
Feb 28 20:51:29 AsusP user.info : setting filesystem charset to ISO-8859-1
Feb 28 20:51:29 AsusP user.info : added ass_1.mp3
Feb 28 20:51:29 AsusP user.info : added ass_2.mp3</code></pre></div><p>After typing &quot;mpc listall&quot; that process just juses about 90% of CPU and does not stop. Same thing with &quot;mpc listall | mpc add -&quot; and &quot;mpc toggle&quot;!<br />Maybe my mpd.conf is wrong</p><div class="codebox"><pre><code># An example configuration file for MPD
# See the mpd.conf man page for a more detailed description of each parameter.

######################## REQUIRED PATHS ########################
music_directory                 &quot;/mnt/usbdrive/test&quot;
playlist_directory              &quot;/mnt/usbdrive/test&quot;
db_file                         &quot;/mnt/usbdrive/test/mpd.db&quot;
log_file                        &quot;/tmp/log/mpd.log&quot;
error_file                      &quot;/tmp/log/mpd.error&quot;
################################################################


######################## OPTIONAL PATHS ########################
#
# If you wish to use mpd --kill to stop MPD, then you must
# specify a file here in which to store MPD&#039;s process ID.
#
#pid_file                        &quot;~/.mpd/mpd.pid&quot;
#
# If specified, MPD will save its current state (playlist,
# current song, playing/paused, etc.) at exit.  This will be
# used to restore the session the next time it is run.
#
#state_file                      &quot;~/.mpd/mpdstate&quot;
#
################################################################


######################## DAEMON OPTIONS ########################
#
# If started as root, MPD will drop root privileges and run as
# this user instead.  Otherwise, MPD will run as the user it was
# started by.  If left unspecified, MPD will not drop root
# privileges at all (not recommended).
#
#user                            &quot;nobody&quot;
#
# The address and port to listen on.
#
#bind_to_address                 &quot;any&quot;
#port                            &quot;6600&quot;
#
# Controls the amount of information that is logged.  Can be
# &quot;default&quot;, &quot;secure&quot;, or &quot;verbose&quot;.
#
#log_level                       &quot;default&quot;
#
# If Zeroconf is configured, the service name to publish.  This
# should be unique on your local network, but name collisions
# will be taken care of for you.
#
#zeroconf_name                   &quot;Music Player&quot;
#
################################################################


########################## PERMISSIONS #########################
#
# MPD can require that users specify a password before using it.
# You may specify one ore more here, along with what users who
# log in with that password are allowed to do.
#
#password                        &quot;password@read,add,control,admin&quot;
#
# Specifies what permissions a user who has not logged in with a
# password has.  By default, all users have full access to MPD
# if no password is specified above, or no access if one or
# more passwords are specified.
#
#default_permissions             &quot;read,add,control,admin&quot;
#
################################################################


########################## AUDIO OUTPUT ########################
#
# MPD supports many audio output types, as well as playing
# through multiple audio outputs at the same time.  You can
# specify one or more here.  If you don&#039;t specify any, MPD will
# automatically scan for a usable audio output.
#
# See &lt;http://mpd.wikia.com/wiki/Configuration#Audio_Outputs&gt;
# for examples of other audio outputs.
#
# An example of an ALSA output:
#
#audio_output {
#        type                    &quot;alsa&quot;
#        name                    &quot;My ALSA Device&quot;
#        device                  &quot;hw:0,0&quot;     # optional
#        format                  &quot;44100:16:2&quot; # optional
#}
#
# An example of an OSS output:
#
audio_output {
        type                    &quot;oss&quot;
        name                    &quot;AsusP&quot;
        device                  &quot;/dev/dsp&quot;   # optional
        format                  &quot;48000:16:2&quot; # optional
}
#
# An example of a shout output (for streaming to Icecast):
#
#audio_output {
#        type                    &quot;shout&quot;
#        name                    &quot;My Shout Stream&quot;
#        host                    &quot;localhost&quot;
#        port                    &quot;8000&quot;
#        mount                   &quot;/mpd.ogg&quot;
#        password                &quot;hackme&quot;
#        quality                 &quot;5.0&quot;
#        bitrate                 &quot;128&quot;
#        format                  &quot;44100:16:1&quot;
#        user                    &quot;source&quot;                # optional
#        description             &quot;My Stream Description&quot; # optional
#        genre                   &quot;jazz&quot;                  # optional
#        public                  &quot;no&quot;                    # optional
#}
#
# Force all decoded audio to be converted to this format before
# being passed to the audio outputs.
#
#audio_output_format             &quot;44100:16:2&quot;
#
# If MPD has been compiled with libsamplerate support, this
# specifies the sample rate converter to use.  Possible
# values can be found in the mpd.conf man page or the
# libsamplerate documentation.
#
#samplerate_converter            &quot;Fastest Sinc Interpolator&quot;
#
################################################################


############################# MIXER ############################
#
# MPD needs to know what mixer settings to change when you
# adjust the volume.  If you don&#039;t specify one here, MPD will
# pick one based on which ones it was compiled with support for.
#
# An example for controlling an ALSA mixer:
#
#mixer_type                      &quot;alsa&quot;
#mixer_device                    &quot;default&quot;
#mixer_control                   &quot;PCM&quot;
#
# An example for controlling an OSS mixer:
#
mixer_type                      &quot;oss&quot;
mixer_device                    &quot;/dev/mixer&quot;
mixer_control                   &quot;PCM&quot;
#
# If you want MPD to adjust the volume of audio sent to the
# audio outputs, you can tell it to use the software mixer:
#
#mixer_type                      &quot;software&quot;
#
################################################################


######################### NORMALIZATION ########################
#
# Specifies the type of ReplayGain to use.  Can be &quot;album&quot; or
# &quot;track&quot;.  ReplayGain will not be used if not specified.  See
# &lt;http://www.replaygain.org&gt; for more details.
#
#replaygain                      &quot;album&quot;
#
# Sets the pre-amp used for files that have ReplayGain tags.
#
#replaygain_preamp               &quot;0&quot;
#
# Enable on the fly volume normalization.  This will cause the
# volume of all songs played to be adjusted so that they sound
# as though they are of equal loudness.
#
#volume_normalization            &quot;no&quot;
#
################################################################


########################### BUFFERING ##########################
#
# The size of the buffer containing decoded audio.  You probably
# shouldn&#039;t change this.
#
#audio_buffer_size               &quot;2048&quot;
#
# How much of the buffer to fill before beginning to play.
# Increase this if you hear skipping when changing songs.
#
#buffer_before_play              &quot;10%&quot;
#
# Similar options for the HTTP stream buffer.  If you hear
# skipping while playing HTTP streams, you may wish to increase
# these.
#
#http_buffer_size                &quot;128&quot;
#http_prebuffer_size             &quot;25%&quot;
#
################################################################


########################### HTTP PROXY #########################
#
# Specifies the HTTP proxy to use for playing HTTP streams.
#
#http_proxy_host                 &quot;proxy.isp.com&quot;
#http_proxy_port                 &quot;8080&quot;
#http_proxy_user                 &quot;user&quot;
#http_proxy_password             &quot;password&quot;
#
################################################################


############################# LIMITS ###########################
#
# These are various limits to prevent MPD from using too many
# resources.  You should only change them if they start
# restricting your usage of MPD.
#
#connection_timeout              &quot;60&quot;
#max_connections                 &quot;5&quot;
#max_playlist_length             &quot;16384&quot;
#max_command_list_size           &quot;2048&quot;
#max_output_buffer_size          &quot;8192&quot;
#
################################################################


###################### CHARACTER ENCODINGS #####################
#
# If file or directory names do not display correctly, then you
# may need to change this.  In most cases it should be either
# &quot;ISO-8859-1&quot; or &quot;UTF-8&quot;.  You must recreate your database
# after changing this (use mpd --create-db).
#
#filesystem_charset              &quot;ISO-8859-1&quot;
#
# The encoding that ID3v1 tags should be converted from.
#
#id3v1_encoding                  &quot;ISO-8859-1&quot;
#
################################################################


######################### OTHER OPTIONS ########################
#
# Try disabling this if you have MP3s which appear to end
# abruptly.  If this solves the problem, it is highly
# recommended that you fix your MP3s with vbrfix (available from
# &lt;http://www.willwap.co.uk/Programs/vbrfix.php&gt;), at which
# point you can re-enable support for gapless MP3 playback.
#
#gapless_mp3_playback             &quot;yes&quot;
#
# Enable this if you wish to use your MPD created playlists in
# other music players.
#
#save_absolute_paths_in_playlists &quot;no&quot;
#
# A list of tag types that MPD will scan for and make available
# to clients.
#
#metadata_to_use                  &quot;artist,album,title,track,name,genre,date,composer,performer,disc&quot;
#
################################################################</code></pre></div><div class="quotebox"><cite>michu wrote:</cite><blockquote><p>did you check, if audio devices exist? (ls -al /dev/ds* or ls -al /dev/aud*, ls -al /dev/mixe*)</p></blockquote></div><p>I dont know why but audio devices exist:<br /></p><div class="codebox"><pre><code>root@AsusP:~# ls -al /dev/ds*
crw-r--r--    1 root     root      14,   3 Jan  1  2000 /dev/dsp
root@AsusP:~# ls -al /dev/aud*
crw-r--r--    1 root     root      14,   4 Jan  1  2000 /dev/audio
root@AsusP:~# ls -al /dev/mixe*
crw-r--r--    1 root     root      14,   0 Jan  1  2000 /dev/mixer</code></pre></div><p>I mean with &quot;My Problem is that my Hardware (Bluetooth Audio) is not detected!&quot; That in dmesg there is nothing that looks like found Bluetooth stick XY or found USB Audio adapter XY!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64277">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						29 Feb 2008, 00:40					</div>
				</div>
				<div class="post-content content">
					<p>hmm did you start dbus?</p><div class="codebox"><pre><code>root@OpenWrt:~# ps
&lt;...&gt;
 1076 root       1880 S   /usr/sbin/dbus-daemon --system
 1091 ntp        1172 S   /usr/sbin/ntpd -s
 1093 root       1152 S   /usr/sbin/ntpd -s
 1101 root       2604 S   /usr/sbin/hcid
 1104 root       1552 S   /usr/sbin/sdpd
 1109 root       1592 S   passkey-agent --default 1234
 1187 root       3480 S   bemusedlinuxserver</code></pre></div><p>bluetooth is working fine:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# hciconfig
hci0:   Type: USB
        BD Address: 00:18:E4:07:91:03 ACL MTU: 310:10 SCO MTU: 64:8
        UP RUNNING PSCAN ISCAN
        RX bytes:9342 acl:242 sco:0 events:639 errors:0
        TX bytes:12973 acl:350 sco:0 commands:33 errors:0

root@OpenWrt:~# sdptool browse
Inquiring ...
Browsing 00:0E:6D:3A:C2:66 ...
Service Name: Fax
Service RecHandle: 0x10000
Service Class ID List:
  &quot;Fax&quot; (0x1111)
  &quot;Generic Telephony&quot; (0x1204)
Protocol Descriptor List:
  &quot;L2CAP&quot; (0x0100)
  &quot;RFCOMM&quot; (0x0003)
    Channel: 2
Language Base Attr List:

#logread output:
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: Bluetooth HCI daemon
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: HCI dev 0 registered
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: HCI dev 0 already up
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: Device hci0 has been added
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: Starting security manager 0
Feb 28 23:33:38 OpenWrt daemon.info sdpd[1314]: Bluetooth SDP daemon
Feb 28 23:33:38 OpenWrt daemon.info sdpd[1314]: Starting SDP server
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: Device hci0 has been activated
Feb 28 23:33:38 OpenWrt daemon.err hcid[1310]: Creation of inotify context failed
Feb 28 23:33:38 OpenWrt daemon.info hcid[1310]: Created local server at unix:path=/var/run/dbus-vXupxF3hzi,guid=98b29720839946b56cfac50047c736c2
Feb 28 23:33:39 OpenWrt daemon.info hcid[1310]: Default passkey agent (:1.1, /org/bluez/passkey_agent_1318) registered</code></pre></div><p>did you check <a href="https://dev.openwrt.org/ticket/2562">https://dev.openwrt.org/ticket/2562</a> ?</p><p>make sure that:<br />dbus is running<br />bluez is running AFTER dbus</p><p>did you check uci config? here i my dump:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# uci show bluetooth
bluetooth.cfg1=hcid
bluetooth.cfg1.enabled=1
bluetooth.cfg2=sdpd
bluetooth.cfg2.enabled=1
bluetooth.cfg3=rfcomm
bluetooth.cfg3.enabled=1
bluetooth.cfg4=dund
bluetooth.cfg4.listen=true
bluetooth.cfg4.persist=true
bluetooth.cfg4.msdun=true
bluetooth.cfg4.enabled=0
bluetooth.cfg5=pand
bluetooth.cfg5.listen=true
bluetooth.cfg5.autozap=true
bluetooth.cfg5.role=NAP
bluetooth.cfg5.master=true
bluetooth.cfg5.persist=true
bluetooth.cfg5.enabled=0</code></pre></div><p>and finally my installed packages:</p><div class="codebox"><pre><code>root@OpenWrt:/# ipkg list_installed
alsa-lib - 1.0.13-1 -
alsa-utils - 1.0.13-1 -
argtable - 2.7-1 -
base-files-brcm47xx - 12-r10172 -
bemusedlinuxserver - 1.73a-1 -
bluez-hcidump - 1.40-1 -
bluez-libs - 3.24-1 -
bluez-utils - 3.24-1 -
bridge - 1.0.6-1 -
busybox - 1.8.2-1 -
cmdpad - 0.0.3-1 -
confuse - 2.5-1 -
dbus - 1.0.2-1 -
dnsmasq - 2.40-1 -
dropbear - 0.50-3 -
glib1 - 1.2.10-1 -
hotplug2 - 0.9+r102-2 -
iptables - 1.3.8-2 -
kernel - 2.6.23.1-brcm47xx-1 -
kmod-b43 - 2.6.23.1-brcm47xx-1 -
kmod-bluetooth - 2.6.23.1-brcm47xx-1 -
kmod-crypto-aes - 2.6.23.1-brcm47xx-1 -
kmod-crypto-arc4 - 2.6.23.1-brcm47xx-1 -
kmod-crypto-core - 2.6.23.1-brcm47xx-1 -
kmod-diag - 2.6.23.1-brcm47xx-2 -
kmod-fs-ext2 - 2.6.23.1-brcm47xx-1 -
kmod-fs-ext3 - 2.6.23.1-brcm47xx-1 -
kmod-fs-vfat - 2.6.23.1-brcm47xx-1 -
kmod-input-core - 2.6.23.1-brcm47xx-1 -
kmod-input-evdev - 2.6.23.1-brcm47xx-1 -
kmod-ipt-nathelper - 2.6.23.1-brcm47xx-1 -
kmod-ipv6 - 2.6.23.1-brcm47xx-1 -
kmod-mac80211 - 2.6.23.1-brcm47xx-1 -
kmod-nls-base - 2.6.23.1-brcm47xx-1 -
kmod-nls-cp1250 - 2.6.23.1-brcm47xx-1 -
kmod-nls-cp437 - 2.6.23.1-brcm47xx-1 -
kmod-nls-cp850 - 2.6.23.1-brcm47xx-1 -
kmod-nls-iso8859-1 - 2.6.23.1-brcm47xx-1 -
kmod-nls-iso8859-15 - 2.6.23.1-brcm47xx-1 -
kmod-nls-iso8859-2 - 2.6.23.1-brcm47xx-1 -
kmod-nls-utf8 - 2.6.23.1-brcm47xx-1 -
kmod-ppp - 2.6.23.1-brcm47xx-1 -
kmod-pppoe - 2.6.23.1-brcm47xx-1 -
kmod-scsi-core - 2.6.23.1-brcm47xx-1 -
kmod-sound-core - 2.6.23.1-brcm47xx-1 -
kmod-switch - 2.6.23.1-brcm47xx-1 -
kmod-usb-audio - 2.6.23.1-brcm47xx-1 -
kmod-usb-core - 2.6.23.1-brcm47xx-1 -
kmod-usb-hid - 2.6.23.1-brcm47xx-1 -
kmod-usb-serial - 2.6.23.1-brcm47xx-1 -
kmod-usb-serial-belkin - 2.6.23.1-brcm47xx-1 -
kmod-usb-serial-ftdi - 2.6.23.1-brcm47xx-1 -
kmod-usb-serial-keyspan - 2.6.23.1-brcm47xx-1 -
kmod-usb-serial-mct - 2.6.23.1-brcm47xx-1 -
kmod-usb-serial-pl2303 - 2.6.23.1-brcm47xx-1 -
kmod-usb-storage - 2.6.23.1-brcm47xx-1 -
kmod-usb-uhci - 2.6.23.1-brcm47xx-1 -
kmod-usb2 - 2.6.23.1-brcm47xx-1 -
lcd4linux - r847-3 -
libcurl - 7.17.1-1 -
libdaemon - 0.12-1 -
libexpat - 1.95.8-1 -
libflac - 1.1.2-1 -
libgcc - 4.1.2-12 -
libid3tag - 0.15.1b-1 -
libintl - 0.16.1-2 -
libmad - 0.15.1b-1 -
libmpd - 0.14.0-1 -
libncurses - 5.6-1 -
libopenssl - 0.9.8e-3 -
libpthread - 0.9.29-12 -
libstdcpp - 4.1.2-12 -
libusb - 0.1.12-1 -
libvorbisidec - 1.0.2+svn14261-1 -
mpc - 0.12.1-2 -
mpd - 0.13.0-2 -
mtd - 6 -
openntpd - 3.9p1-2 -
pciutils - 2.2.9-1 -
ppp - 2.4.3-9 -
ppp-mod-pppoe - 2.4.3-9 -
scmpc - 0.2.2-1 -
strace - 4.5.16-2 -
uclibc - 0.9.29-12 -
udevtrigger - 106-1 -
usbutils - 0.73-1 -
zlib - 1.2.3-5 -</code></pre></div><p>cheers michu</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64278">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						29 Feb 2008, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>your dmsg and no audio or bluetooth &quot;detection&quot;, this is normal:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# dmesg | grep audio
usbcore: registered new interface driver snd-usb-audio
root@OpenWrt:/# dmesg | grep blue
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64280">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						29 Feb 2008, 01:23					</div>
				</div>
				<div class="post-content content">
					<p>Alride! I think my problem is if I start dbus, that dbus has no configuration file.<br /></p><div class="codebox"><pre><code>/etc/init.d/dbus start
No configuration file specified.
dbus-daemon [--version] [--session] [--system] [--config-file=FILE] [--print-address[=DESCRIPTOR]] [--print-pid[=DESCRIPTOR]] [--fork] [--nofork] [--introspect]</code></pre></div><div class="quotebox"><blockquote><p>did you check <a href="https://dev.openwrt.org/ticket/2562">https://dev.openwrt.org/ticket/2562</a> ?</p></blockquote></div><p>There is written &quot;Patch applied in [10230], closing.&quot; I&#039;m using revsion 10443 so I should have that patch.</p><p>Thanks for the uci config, I had to change two things.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64302">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						29 Feb 2008, 11:14					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@OpenWrt:/# ls -al /etc/dbus-1/
drwxr-xr-x    3 root     root            0 Jan  1  2000 .
drwxr-xr-x   10 root     root            0 Feb 28 22:30 ..
-rw-r--r--    1 root     root         1016 Jan 16 05:55 session.conf
-rw-r--r--    1 root     root         2274 Jan 16 05:55 system.conf
drwxr-xr-x    2 root     root            0 Jan  1  2000 system.d</code></pre></div><p>the system conf:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/dbus-1/system.conf
&lt;!-- This configuration file controls the systemwide message bus.
     Add a system-local.conf and edit that rather than changing this
     file directly. --&gt;

&lt;!-- Note that there are any number of ways you can hose yourself
     security-wise by screwing up this file; in particular, you
     probably don&#039;t want to listen on any more addresses, add any more
     auth mechanisms, run as a different user, etc. --&gt;

&lt;!DOCTYPE busconfig PUBLIC &quot;-//freedesktop//DTD D-Bus Bus Configuration 1.0//EN&quot;
 &quot;http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd&quot;&gt;
&lt;busconfig&gt;

  &lt;!-- Our well-known bus type, do not change this --&gt;
  &lt;type&gt;system&lt;/type&gt;

  &lt;!-- Run as special user --&gt;
  &lt;user&gt;root&lt;/user&gt;

  &lt;!-- Fork into daemon mode --&gt;
  &lt;fork/&gt;

  &lt;!-- Write a pid file --&gt;
  &lt;pidfile&gt;/var/run/dbus.pid&lt;/pidfile&gt;

  &lt;!-- Only allow socket-credentials-based authentication --&gt;
  &lt;auth&gt;EXTERNAL&lt;/auth&gt;

  &lt;!-- Only listen on a local socket. (abstract=/path/to/socket
       means use abstract namespace, don&#039;t really create filesystem
       file; only Linux supports this. Use path=/whatever on other
       systems.) --&gt;
  &lt;listen&gt;unix:path=/var/run/dbus/system_bus_socket&lt;/listen&gt;

  &lt;policy context=&quot;default&quot;&gt;
    &lt;!-- Deny everything then punch holes --&gt;
    &lt;deny send_interface=&quot;*&quot;/&gt;
    &lt;deny receive_interface=&quot;*&quot;/&gt;
    &lt;deny own=&quot;*&quot;/&gt;
    &lt;!-- But allow all users to connect --&gt;
    &lt;allow user=&quot;*&quot;/&gt;
    &lt;!-- Allow anyone to talk to the message bus --&gt;
    &lt;!-- FIXME I think currently these allow rules are always implicit
         even if they aren&#039;t in here --&gt;
    &lt;allow send_destination=&quot;org.freedesktop.DBus&quot;/&gt;
    &lt;allow receive_sender=&quot;org.freedesktop.DBus&quot;/&gt;
    &lt;!-- valid replies are always allowed --&gt;
    &lt;allow send_requested_reply=&quot;true&quot;/&gt;
    &lt;allow receive_requested_reply=&quot;true&quot;/&gt;
  &lt;/policy&gt;

  &lt;!-- Config files are placed here that among other things, punch
       holes in the above policy for specific services. --&gt;
  &lt;includedir&gt;system.d&lt;/includedir&gt;

  &lt;!-- This is included last so local configuration can override what&#039;s
       in this standard file --&gt;
  &lt;include ignore_missing=&quot;yes&quot;&gt;system-local.conf&lt;/include&gt;

  &lt;include if_selinux_enabled=&quot;yes&quot; selinux_root_relative=&quot;yes&quot;&gt;contexts/dbus_contexts&lt;/include&gt;

&lt;/busconfig&gt;</code></pre></div><p>bluetooth conf comes with the bluez package<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/dbus-1/system.d/bluetooth.conf
&lt;!-- This configuration file specifies the required security policies
     for Bluetooth core service to work. --&gt;

&lt;!DOCTYPE busconfig PUBLIC &quot;-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN&quot;
 &quot;http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd&quot;&gt;
&lt;busconfig&gt;

  &lt;!-- ../system.conf have denied everything, so we just punch some holes --&gt;

  &lt;policy user=&quot;root&quot;&gt;
    &lt;allow own=&quot;org.bluez&quot;/&gt;
  &lt;/policy&gt;

  &lt;policy at_console=&quot;true&quot;&gt;
    &lt;allow send_destination=&quot;org.bluez.Manager&quot;/&gt;
    &lt;allow receive_sender=&quot;org.bluez.Manager&quot;/&gt;

    &lt;allow send_path=&quot;/org/bluez&quot;/&gt;

    &lt;allow send_destination=&quot;org.bluez.Adapter&quot;/&gt;
    &lt;allow receive_sender=&quot;org.bluez.Adapter&quot;/&gt;

    &lt;allow send_destination=&quot;org.bluez.Service&quot;/&gt;
    &lt;allow receive_sender=&quot;org.bluez.Service&quot;/&gt;

    &lt;allow send_destination=&quot;org.bluez.Database&quot;/&gt;
    &lt;allow receive_sender=&quot;org.bluez.Database&quot;/&gt;

    &lt;allow send_destination=&quot;org.bluez.Security&quot;/&gt;
    &lt;allow receive_sender=&quot;org.bluez.Security&quot;/&gt;
  &lt;/policy&gt;

&lt;/busconfig&gt;</code></pre></div><p>do those files exist?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64305">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						29 Feb 2008, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>Yes they exist and they are the same one:</p><div class="quotebox"><blockquote><p>root@AsusP:~# ls -al /etc/dbus-1/<br />drwxr-xr-x&nbsp; &nbsp; 3 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;58 Feb 28 17:19 .<br />drwxr-xr-x&nbsp; &nbsp; 7 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 Feb 28 22:46 ..<br />-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1016 Feb 28 17:19 session.conf<br />-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2274 Feb 28 17:19 system.conf<br />drwxr-xr-x&nbsp; &nbsp; 2 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31 Feb 28 15:57 system.d<br />root@AsusP:~# ls -al /etc/dbus-1/system.d<br />drwxr-xr-x&nbsp; &nbsp; 2 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31 Feb 28 15:57 .<br />drwxr-xr-x&nbsp; &nbsp; 3 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;58 Feb 28 17:19 ..<br />-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1008 Feb 28 15:59 bluetooth.conf</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 29 Feb 2008, 12:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64306">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						29 Feb 2008, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>stange stuff.. so dbus still does not run? another question, did you update you packages in your repos? did you check your local dbus makefile and compared it to the trunk makefile? as dbus worked out of the box here...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64321">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						29 Feb 2008, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>Yes I updated my packages. I did a new checkout of trunk and packages Revision 10433 and compiled them. I copied also the <a href="https://dev.openwrt.org/browser/packages/utils/dbus/Makefile">Makefile</a> just to make sure I got the newest Version. But dBus still does not work. Could You give me your compiled package of dbus and the libfile.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64500">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						3 Mar 2008, 18:21					</div>
				</div>
				<div class="post-content content">
					<p>What Revision of Kamikaze are you using? I think my problem could be that UCI is not working problerly or somethink like that. I saw some post that uci is not working properly. In Revision <a href="https://dev.openwrt.org/changeset/10447">10447</a> nbd updated uci to 0.3. I will try to install that Version.</p><p>I read somethere that I could use cat to play a sound but this still does not work:<br /></p><div class="quotebox"><blockquote><p>root@AsusP:/mnt/usbdrive/test# cat MM_Abend.wav &gt; /dev/snd/pcmC0D0p<br />cat: write error: File descriptor in bad state<br />root@AsusP:/mnt/usbdrive/test# cat MM_Abend.wav &gt; /dev/snd/pcmC0D0c<br />cat: write error: Invalid argument<br />root@AsusP:/mnt/usbdrive/test# cat MM_Abend.wav &gt; /dev/audio <br />cat: write error: Broken pipe</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64521">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						4 Mar 2008, 00:56					</div>
				</div>
				<div class="post-content content">
					<p>well i use trunk version (About 2 weeks old)... but i guess your error is not really related to a broken uci.. did you read the audio wiki? are all necessary modules installed? make sure that at least the following packages are installed</p><div class="codebox"><pre><code>alsa-lib - 1.0.13-1 -
alsa-utils - 1.0.13-1 -
kmod-sound-core - 2.6.23.1-brcm47xx-1 -
kmod-usb-audio - 2.6.23.1-brcm47xx-1 -
kmod-usb-core - 2.6.23.1-brcm47xx-1 -
kmod-usb-uhci - 2.6.23.1-brcm47xx-1 -
kmod-usb2 - 2.6.23.1-brcm47xx-1 -
libflac - 1.1.2-1 -
libid3tag - 0.15.1b-1 -
libmad - 0.15.1b-1 -</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64555">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						4 Mar 2008, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>I have all these packages installed to my router.&nbsp; But it still does not work. I found in the wiki<br /></p><div class="quotebox"><blockquote><p>Note: There are problems with USB 1.1 sound cards connected through USB 2.0 hubs with the 2.4 kernels. This has been resolved in 2.6; another option is to enable the CONFIG_USB_EHCI_SPLIT_ISO option described here:<br /></p><div class="quotebox"><blockquote><p>ALSA has a quite good support for USB audio devices, the<br /> only problem could be when you mix USB 1.1 audio<br /> devices with USB 2.0 hubs.</p><p> The CONFIG_USB_EHCI_SPLIT_ISO option in the kernel<br /> must be enabled to cope with that.</p></blockquote></div></blockquote></div><p>I&#039;m not sure if I need that option because I&#039;m using Kernel 2.6. But how do I enable that option?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64560">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						4 Mar 2008, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>hmm dunno.. i use also kernel 2.6. did you try to connect the usb sound device directly to the router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64561">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						4 Mar 2008, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>Yes but I have an Asus wl-500g Premium. That one has an USB 2.0 Hub itselves.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64624">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						5 Mar 2008, 13:58					</div>
				</div>
				<div class="post-content content">
					<p>mee too, works flawlessly</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64625">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						5 Mar 2008, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>I finaly got something working. My USB Audio did not worked because of my webcame. They are both connected with an USB 1.1 and I got because of that &quot;bandwith errors&quot;. MPD and aplay now does still not work, but Music browser &quot;phpMp2&quot; can now play mp3 files and radiostream, that works pretty god.</p><p>Dbus did not work because the init script was wrong, I added &quot;ARGS=--system&quot; so it looks now like that</p><div class="codebox"><pre><code>#!/bin/sh /etc/rc.common
# Copyright (C) 2007 OpenWrt.org

SSD=start-stop-daemon
PIDF=/var/run/dbus.pid
PROG=/usr/sbin/dbus-daemon
ARGS=--system

START=60
start() {
        mkdir -p /var/run/dbus
        $SSD -S -p $PIDF -q -x $PROG -- $ARGS
}

stop() {
        $SSD -K -p $PIDF -q
}

status() {
        ps | grep -q &quot;^ *$(cat $PIDF 2&gt;/dev/null) *.*$PROG&quot;
}</code></pre></div><p>Now I can start bemusedserver and can connect with my cellphone via bluetooth. <br />The client &quot;bemused&quot; on my cellphone can connect but does not care about key &quot;1234&quot;. And my Playlist is empty I don&#039;t find any Title. <br />The client &quot;jamse&quot; finds my Asus but if I try to connect, it shows again that the programm finds my Asus so I can&#039;t connect.<br />So what Am I&#039;m doing still wrong?</p>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 5 Mar 2008, 22:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64691">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">michu</div>
					<div class="post-datetime">
						6 Mar 2008, 13:43					</div>
				</div>
				<div class="post-content content">
					<p>about your dbus init file, check <a href="https://dev.openwrt.org/browser/packages/utils/dbus/files/dbus.init">https://dev.openwrt.org/browser/package … /dbus.init</a> - this bug was fixed there!</p><p>about bluetooth and ignoring key, thats true, this do not work properly.. gonna check this in&nbsp; about 2 weeks...</p><p>bemused-mpd-hack works, surprise, only with mpd <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> this means, bemused connect to mpd to get and send information. so you need a working mpd. whats the error about mpd? check all path references in mpd.conf (verify that those path exist), check check sound config.</p><p>btw which version do you use for bemused? i released the first stable version (svn047, <a href="http://bemused-lnx-mpdhack.origo.ethz.ch/download)">http://bemused-lnx-mpdhack.origo.ethz.ch/download)</a>. this old svn011 version contains some bugs, which are fixed in the latest. the patch can be found here: <a href="http://lists.openwrt.org/pipermail/openwrt-devel/2008-February/001740.html">http://lists.openwrt.org/pipermail/open … 01740.html</a></p><p>cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64697">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Oconnor</div>
					<div class="post-datetime">
						6 Mar 2008, 15:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>michu wrote:</cite><blockquote><p>about your dbus init file, check <a href="https://dev.openwrt.org/browser/packages/utils/dbus/files/dbus.init">https://dev.openwrt.org/browser/package … /dbus.init</a> - this bug was fixed there!</p></blockquote></div><p>No its not, there is written &quot;ARGS=&quot; I changed that to &quot;ARGS=--system&quot;.<br /></p><div class="quotebox"><cite>michu wrote:</cite><blockquote><p>bemused-mpd-hack works, surprise, only with mpd <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> this means, bemused connect to mpd to get and send information. so you need a working mpd. whats the error about mpd? check all path references in mpd.conf (verify that those path exist), check check sound config.</p></blockquote></div><p>Oh sorry. I meant that mpc is not running! Mpd runs fine. I can play music with phpMp2 which uses mpd.<br /></p><div class="quotebox"><cite>michu wrote:</cite><blockquote><p>btw which version do you use for bemused? i released the first stable version (svn047, <a href="http://bemused-lnx-mpdhack.origo.ethz.ch/download)">http://bemused-lnx-mpdhack.origo.ethz.ch/download)</a>. this old svn011 version contains some bugs, which are fixed in the latest. the patch can be found here: <a href="http://lists.openwrt.org/pipermail/openwrt-devel/2008-February/001740.html">http://lists.openwrt.org/pipermail/open … 01740.html</a></p><p>cheers</p></blockquote></div><p>I compiled and installed your new Version<br /></p><div class="quotebox"><blockquote><p>root@AsusP:~# ipkg list_installed | grep bemused<br />bemusedlinuxserver - r047-1 -</p></blockquote></div><div class="codebox"><pre><code>root@AsusP:~# /etc/init.d/bemused start
root@AsusP:~# Welcome to Bemused 1.73 + lastest CVS fixes
Copyright Ashley Montanaro 2003
Linux port from Daniel Winter
MPD Hack + various fixes by Michael Vogt 2008

I have a bookmark &quot;UnitedBreaks.mp3&quot; of &quot;http://74.52.13.138:8000&quot;
I have a bookmark &quot;nubreaks.mp3&quot; of &quot;http://208.100.38.52:8419&quot;
I have a bookmark &quot;RauteMusik.mp3&quot; of &quot;http://91.121.107.97:10000&quot;
I have a bookmark &quot;Jump.mp3&quot; of &quot;http://balancer.streamfarm.net/tv1/cms/~kunde/~jump_mp3_live/22004mdrjump/live/3087mdr_jump_live/de_96.mp3.mp3&quot;
Serial Port service registered
registered SP for channel 3</code></pre></div><p>I still can connect with my phone using &quot;bemused&quot;. But I can&#039;t play any music with my phone. My phone shows </p><div class="quotebox"><blockquote><p>Bemused<br />&lt;no title&gt;<br />not playing 310 of 0</p></blockquote></div><p>I&#039;m not able to browse my music or play a song. Because my phone does not find any.</p>											<p class="post-edited">(Last edited by <strong>Oconnor</strong> on 6 Mar 2008, 16:22)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>