<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> trying to compile and run mdadm</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p350196">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Ytrium</div>
					<div class="post-datetime">
						25 Jan 2017, 06:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi! I&#039;m a noob wrt OpenWrt</p><p>I&#039;ve been working on this for more than my wife will let me and I&#039;m stuck. I&#039;m trying to run mdadm on my TL-WDR3600 (ar71xx arch, CC from imagebuilder) </p><p>I have a couple of questions:<br />- I compiled mdadm using trunk, it compiled successfully (ipk was generated), but failed when making package/index because of a missing host dependency (usign) I&#039;m hoping that will be OK and that the default CC version doesn&#039;t expect signed packages.<br />- When I installed the package on the router. It installed &quot;successfully&quot;. Binary is there. But I can&#039;t seem to run it:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# which mdadm
/sbin/mdadm
root@OpenWrt:~# `which mdadm`
-ash: /sbin/mdadm: not found
root@OpenWrt:~# ls -l `which mdadm`
-rwxr-xr-x    1 root     root        228901 Jan 16 12:15 /sbin/mdadm
root@OpenWrt:~# </code></pre></div><p>My theories are:<br />- mdadm expect some kernel module that&#039;s not installed<br />- I somehow screw things up when building.</p><p>Any help is welcome <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350197">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						25 Jan 2017, 06:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ytrium wrote:</cite><blockquote><p>- mdadm expect some kernel module that&#039;s not installed</p></blockquote></div><p>It does, easily a dozen and counting.</p><div class="codebox"><pre><code>$ lsmod
[...]
async_raid6_recov       5702  1 raid456
async_memcpy            1918  2 raid456,async_raid6_recov
async_pq                4996  2 raid456,async_raid6_recov
async_xor               3617  3 async_pq,raid456,async_raid6_recov
async_tx                2134  5 async_xor,async_pq,raid456,async_memcpy,async_raid6_recov
xor                    10424  1 async_xor
raid6_pq              100416  3 async_pq,raid456,async_raid6_recov
libcrc32c               1298  1 raid456
[...]
raid0                   6697  0
multipath               5879  0
linear                  3512  0
dm_mod                 89153  37
raid1                  27652  1
md_mod                105487  7 raid1,raid10,multipath,linear,raid0,raid456
[...]</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350199">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Ytrium</div>
					<div class="post-datetime">
						25 Jan 2017, 06:55					</div>
				</div>
				<div class="post-content content">
					<p>Awesome...will try that.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>