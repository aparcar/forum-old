<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> update RedBoot Config from linux</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p71383">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sara</div>
					<div class="post-datetime">
						24 Jul 2008, 13:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>Has anybody used the package fconfig ( fconfig-20060419.tar.gz)&nbsp; to update the RedBoot config <br />within the linux on Intel IXP425 board ? </p><p>Cos fconfig on my Pronghorn SBC board throws the following error</p><p>root@OpenWrt:/# fconfig -w -v -d /dev/mtd3 -n bootp -x TRUE<br />Low verbosity messages are printed.<br />Normal verbosity messages are printed.<br />Failed to open device or file /dev/mtd3!<br />Could not get a config data handle!<br />root@OpenWrt:/#</p><p>Here are the snapshots of dmesg and mtd partitions info<br />...<br />5 RedBoot partitions found on MTD device IXP4XX-Flash.0<br />Creating 5 MTD partitions on &quot;IXP4XX-Flash.0&quot;:<br />0x00000000-0x00060000 : &quot;RedBoot&quot;<br />0x00060000-0x00160000 : &quot;kernel1&quot;<br />0x00160000-0x00460000 : &quot;rootfs1&quot;<br />0x00fc0000-0x00fc1000 : &quot;RedBoot config&quot;<br />mtd: partition &quot;RedBoot config&quot; doesn&#039;t end on an erase block -- force read-only<br />0x00fe0000-0x01000000 : &quot;FIS directory&quot;</p><p>root@OpenWrt:/# cat /proc/mtd<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00060000 00020000 &quot;RedBoot&quot;<br />mtd1: 00100000 00020000 &quot;kernel1&quot;<br />mtd2: 00300000 00020000 &quot;rootfs1&quot;<br />mtd3: 00001000 00020000 &quot;RedBoot config&quot;<br />mtd4: 00020000 00020000 &quot;FIS directory&quot;</p><p>any idea why fconfig doesn&#039;t open and update the Redboot Config partitions ?</p><br /><p>Sara</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72696">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">adyb</div>
					<div class="post-datetime">
						27 Aug 2008, 11:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi Sara,</p><p>Did you manage to get this working?<br />What are you using openwrt for?<br />Ady</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72704">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sara</div>
					<div class="post-datetime">
						27 Aug 2008, 16:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi Ady,</p><p>I still have the problem in updating RedBoot config. As RedBoot config size (0X1000) doesn&#039;t equal to the mtd<br />erase size (0x20000) and combined with FIS directory, it throws the error.</p><p>If you had a fix, it would be realy helpful for me.</p><p>Well, I am using openwrt for my wireless application project and to automate the firmware updates, I need to modify <br />&quot;boot_script_data&quot; in the &quot;RedBoot config&quot; partition to boot images from the alternate parititions. </p><p>Sara</p>											<p class="post-edited">(Last edited by <strong>sara</strong> on 27 Aug 2008, 16:20)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>