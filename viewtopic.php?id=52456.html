<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wzr-hp-g300nh jtag recovery - Help</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p245244">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						29 Aug 2014, 04:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello All, </p><p>I am looking for assistance in flashing a boot loader on my wzr-hp-g300nh v1 router. </p><p>I was attempting a serial based recovery and did an &quot;erase all&quot; think it would not affect the bootloader.. :-(</p><p>so, I have a <a href="http://dangerousprototypes.com/docs/Bus_Blaster">http://dangerousprototypes.com/docs/Bus_Blaster</a> and Adafruit FTDI Friend connected to the board, I am using openocd (first time user) on Ubuntu 14.4. </p><p>and it is working based on I used some of the commands in this post.. <a href="http://u-boot.10912.n7.nabble.com/U-Boot-for-MIPS-AR7161-td141814.html">http://u-boot.10912.n7.nabble.com/U-Boo … 41814.html</a> </p><p>now the question is what are the steps to flash my backed up made via &quot;dd if=/dev/mtdblock/0 &gt;cfe-backup.bin&quot; using bash scrip by Ross Smith II. </p><br /><p>Not sure what else is need? Any assistance would be appropriated.. </p><p>Cheers, <br />Pasquale</p>											<p class="post-edited">(Last edited by <strong>pusky</strong> on 29 Aug 2014, 04:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245402">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						30 Aug 2014, 15:38					</div>
				</div>
				<div class="post-content content">
					<p>Ok have been searching the internet for help no success yet..</p><p>Did find that this router has some similarity <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr1043nd">http://wiki.openwrt.org/toh/tp-link/tl-wr1043nd</a><br />What concerns me now is the W A R N I N G<br />At the moment it is NOT possible to UNBRICK the router by JTAG (no write access to flashrom).</p><p>Can anyone confirm this for routers with AR9132 rev 2 and ST 25P64V6P can not restore the bootloader via jtag?</p><p>Well will keep searching someone out there must have done this?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245413">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						30 Aug 2014, 20:01					</div>
				</div>
				<div class="post-content content">
					<p>This may well be true that you cannot cannot write directly into your flash with Openocd commands if your flash model is not currently supported by openocd - see:<br /> <a href="http://openocd.sourceforge.net/doc/html/Flash-Commands.html#flashprogrammingcommands.">http://openocd.sourceforge.net/doc/html … gcommands.</a></p><p>But if the case you would have the source code of a version of u-boot capable of flashing your flash, you should be able to:</p><p>- recompile u-boot so that it would run from DRAM instead of flash (RAM relocatable version)<br />- use openocd commands&nbsp; to configure your DRAM controller, see examples of&nbsp; mww commands for ar9331 and<br />&nbsp; one DRAM model here:<br />&nbsp; <a href="https://github.com/pepe2k/u-boot_mod/issues/2">https://github.com/pepe2k/u-boot_mod/issues/2</a></p><p>&nbsp; You need to know what is the starting address of your DRAM, its model or having the source code for a u-boot working on<br />&nbsp; your router , and then use mvm commands for configuring the DRAM controller until you will be able to write/read say a four<br />&nbsp; byte value at the first address of your DRAM. <br />&nbsp; <br />&nbsp; If you have the source for a u-boot working with your router, it does contain the exact&nbsp; DRAM initialization code you need<br />&nbsp; to configure the ar9332 DRAM controller from openocd using mvm commands. </p><p>- download your u-boot into DRAM using openocd,<br />- start u-boot, <br />- finaly use it to flash whatever you have to flash, assuming this can be done from your u-boot.</p><p>I have done this successfully on other platforms.</p><p>By the way, I just got an ar9331 router module and am starting climbing the MIPS/Atheros SoC&nbsp; learning curve:<br />If you can provide me with a link to the source code of a version of u-boot known&nbsp; to be working on your router, I would be<br />willing to help you investigate further.</p><p>I am used to recompile u-boot as well and could make the changes for getting a RAM relocated version.</p><p>ps: could you confirm the following source code is the one for your router (<a href="http://opensource.buffalo.jp/gpl_wireless.html">http://opensource.buffalo.jp/gpl_wireless.html</a>) ?</p><p>Platform:<br />WZR-HP-G300NH, WZR-HP-G301NH</p><p>gpl_wzr-hp-g300nh_160.tar.gz(83,317,838 Bytes)<br />gpl_b_wzr-hp-g300nh.tgz(8,640,959 Bytes)</p><p>Update<br />&nbsp; &nbsp; 2010/02/19</p>											<p class="post-edited">(Last edited by <strong>Frant</strong> on 30 Aug 2014, 20:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245415">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						30 Aug 2014, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />That would be great, i too would like to learn more but am very green in this world.. i will do more reading and searching regarding the u-boot source for the wzr-hp-g300nh.. and yes the source your referanced is the one i am interested in.</p><p>I posted to this list trying to find possible source <a href="http://lists.denx.de/pipermail/u-boot/2012-November/141119.html">http://lists.denx.de/pipermail/u-boot/2 … 41119.html</a> it looks like someone was trying already..</p><p>Cheers,</p>											<p class="post-edited">(Last edited by <strong>pusky</strong> on 30 Aug 2014, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245417">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						30 Aug 2014, 21:22					</div>
				</div>
				<div class="post-content content">
					<p>Hello Frant,</p><p>OK, here is were you will see how green I am..</p><p>my router has a AR9132 and you mention a AR9331 and most of the the info I found and am using is around an AR71xx.cfg.... Can you point me to info to understand the differences..</p><p>recently got introduced to FPGA and SoC, but am at the very early stages of learning... I have a PapilioPro&nbsp; development board to learn from..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245420">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						30 Aug 2014, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>I am new to Atheros SoCs, but my understanding is that all those processors are similar at some points:</p><p>The exact values to be used are those used by u-boot in those two files:</p><p>Uboot_for_WZR-HP-G300NH/boot/u-boot/cpu/mips/ar7100/meminit.c<br />Uboot_for_WZR-HP-G300NH/boot/u-boot/board/ar7100/ap83/ap83.c</p><p>By the way, I was able to compile Uboot_for_WZR-HP-G300NH using the following commands:</p><p>CROSS_COMPILE=mips-linux- ARCH=mips make WZR-HP-G300NH_EU_config<br />CROSS_COMPILE=mips-linux- ARCH=mips make</p><p>Using a mips-linux toolchain I got from here:<br /><a href="http://downloads.openwrt.org/kamikaze/8.09.2/atheros/OpenWrt-SDK-atheros-for-Linux-x86_64.tar.bz2">http://downloads.openwrt.org/kamikaze/8 … 64.tar.bz2</a></p><p>I had to back-port some tftp code from mainline u-boot 2014-4 since one line in tftp.c was not compiling anymore<br />with gcc-4.1.2:</p><p>diff -r -u Uboot_for_WZR-HP-G300NH/boot/u-boot/modify_buffalo/net/tftp.c Uboot_for_WZR-HP-G300NH.gcc-4.1.2/boot/u-boot/modify_buffalo/net/tftp.c<br />--- Uboot_for_WZR-HP-G300NH/boot/u-boot/modify_buffalo/net/tftp.c&nbsp; &nbsp;2009-09-01 11:00:00.000000000 -0400<br />+++ Uboot_for_WZR-HP-G300NH.gcc-4.1.2/boot/u-boot/modify_buffalo/net/tftp.c 2014-08-30 14:43:26.849469502 -0400<br />@@ -500,6 +500,7 @@<br /> uchar * pkt, unsigned dest, unsigned src, unsigned len)<br /> {<br />&nbsp; &nbsp; ushort proto;<br />+&nbsp; &nbsp; ushort* s;<br />&nbsp; &nbsp; volatile IP_t *ip = (volatile IP_t *)(pkt - IP_HDR_SIZE);</p><br /><p>@@ -515,7 +516,12 @@<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; len -= 2;<br />&nbsp; &nbsp; /* warning: don&#039;t use increment (++) in ntohs() macros!! */<br />-&nbsp; &nbsp;proto = *((ushort *)pkt)++;<br />+&nbsp; &nbsp;/* gcc-3.4.4-2.16.1&nbsp; code: proto = *((ushort *)pkt)++; */<br />+&nbsp; &nbsp; /* was replaced by code used in equivalent file of mainstream u-boot 2014-04 */<br />+&nbsp; &nbsp; s = (ushort*)pkt;<br />+&nbsp; &nbsp; proto = *s++;<br />+&nbsp; &nbsp; pkt = (uchar *)s;<br />+<br />&nbsp; &nbsp; switch (ntohs(proto)) {<br />&nbsp; &nbsp; case TFTP_WRQ:<br />&nbsp; &nbsp; &nbsp; &nbsp; TftpClientPort = src;</p><p>Here are the files resulting from the build process:</p><p>ll u-boot*<br />-rwxrwxr-x 1 frant frant 729099 Aug 30 14:43 u-boot*<br />-rwxrwxr-x 1 frant frant 229736 Aug 30 14:43 u-boot.bin*<br />-rw-rw-r-- 1 frant frant 177533 Aug 30 14:43 u-boot.map<br />-rwxrwxr-x 1 frant frant 689330 Aug 30 14:43 u-boot.srec*</p><p>I just need to modify the u-boot linker script so that it will be relocated in DRAM.</p><p>Since the u-boot problem may well be solved (it will not until it will run on your router), focus should now shift to PLL and DRAM controller configuration using openocd.</p><p>1) do you know the DRAM memory layout for your router ?<br />2) are you confortable enough for experimenting with mvm openocd commands you will infere from meminit.c and ap83.c, or would you need my help for building the set of mvm commands ?</p><p>Just let me know.</p>											<p class="post-edited">(Last edited by <strong>Frant</strong> on 30 Aug 2014, 22:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245422">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						30 Aug 2014, 22:34					</div>
				</div>
				<div class="post-content content">
					<p>Wow Frant your good....</p><br /><p>Here is some info from my router before I did an &quot;erase all&quot; thinking it would not touch the bootloader.. hope it helps...</p><br /><br /><br /><p>ar7100&gt; imls<br />Image at BE060000:<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS Linux Kernel Image<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2014-06-23&nbsp; &nbsp;1:09:34 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 1297888 Bytes =&nbsp; 1.2 MB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 800686d0<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Bank # 1: Name: AMD-SPANSION Flash id: 0x1227E, Size: 33554432 bytes.</p><p>ar7100&gt; mtdparts default<br />ar7100&gt; fsinfo<br />### filesystem type is JFFS2<br />Scanning JFFS2 FS:&nbsp; done.<br />Compression: NONE<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />Compression: ZERO<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />Compression: RTIME<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />Compression: RUBINMIPS<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />Compression: COPY<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />Compression: DYNRUBIN<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />Compression: ZLIB<br />&nbsp; &nbsp; &nbsp; &nbsp; frag count: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; compressed sum: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; uncompressed sum: 0<br />ar7100&gt; mtdparts</p><p>device nor0 &lt;ar9100-nor0&gt;, # parts = 4<br /> #: name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; offset&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mask_flags<br /> 0: rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00400000&nbsp; &nbsp; &nbsp; 0x00000000&nbsp; &nbsp; &nbsp; 0<br /> 1: u-boot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00040000&nbsp; &nbsp; &nbsp; 0x00400000&nbsp; &nbsp; &nbsp; 0<br /> 2: u-boot-env&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00020000&nbsp; &nbsp; &nbsp; 0x00440000&nbsp; &nbsp; &nbsp; 0<br /> 3: uImage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00100000&nbsp; &nbsp; &nbsp; 0x00460000&nbsp; &nbsp; &nbsp; 0</p><p>active partition: nor0,0 - (rootfs) 0x00400000 @ 0x00000000</p><p>defaults:<br />mtdids&nbsp; : nor0=ar9100-nor0<br />mtdparts: mtdparts=ar9100-nor0:4096k(rootfs),256k(u-boot),128k(u-boot-env),1024k(uImage)</p><p>ar7100&gt; printenv<br />bootargs=console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar9100-nor0:256k(u-boot),128k(u-boot-env),1024k(uImage),31104k(rootfs),128k@32640k(ART),128k@32512k(properties)<br />bootcmd=bootm 0xbe060000<br />bootdelay=4<br />baudrate=115200<br />ethaddr=02:AA:BB:CC:DD:1A<br />ipaddr=192.168.11.1<br />serverip=192.168.11.2<br />tmp_ram=81F00000<br />tmp_bottom=83F00000<br />fw_eaddr=BE060000 BFFDFFFF<br />uboot_eaddr=BE000000 BE03FFFF<br />u_fw=erase $fw_eaddr; cp.b $fileaddr BE060000 $filesize; bootm BE060000;<br />ut_fw=tftp $tmp_ram firmware.bin; erase $fw_eaddr; cp.b $fileaddr BE060000 $filesize; bootm BE060000;<br />ut_uboot=tftp $tmp_ram u-boot.bin; protect off $uboot_eaddr; erase $uboot_eaddr; cp.b $fileaddr BE000000 $filesize;<br />melco_id=RD_BB08009<br />tftp_wait=4<br />uboot_ethaddr=02:AA:BB:CC:DD:1A<br />DEF-p_wireless_ath0_11bg-authmode=psk<br />DEF-p_wireless_ath0_11bg-crypto=tkip+aes<br />DEF-p_wireless_ath0_11bg-authmode_ex=mixed-psk<br />buf_ver=1.07<br />build_date=Dec 21 2009 - 10:37:30<br />buf_crc=060F07D5<br />hw_rev=0<br />pincode=72169384<br />custom_id=0<br />DEF-p_wireless_ath0_11bg-wpapsk=33fjr47pbmm9x<br />region=US<br />accept_open_rt_fmt=1<br />stdin=serial<br />stdout=serial<br />stderr=serial<br />loadaddr=81F00000<br />mtdids=nor0=ar9100-nor0<br />mtdparts=mtdparts=ar9100-nor0:4096k(rootfs),256k(u-boot),128k(u-boot-env),1024k(uImage)<br />partition=nor0,0<br />mtddevnum=0<br />mtddevname=rootfs<br />ethact=eth0</p><p>Environment size: 1300/131068 bytes</p><br /><br /><br /><br /><br /><br /><br /><p>BUFFALO U-BOOT Ver 1.07<br />AP83--539 (ar9100) U-boot 0.0.12<br />64 MB<br />Memory Test (address line)<br />Memory Test start(0x00000000) end(0x04000000) size(67108864)<br />Data line test start:0x00000000 pattern 0x00000001 0x00000003 0x00000007 0x0000000F 0x00000005 0x00000015 0x00000055 0xAAAAAAAA<br />Address line test start:0x00000000 len:0x4000000 pattern 0xAAAAAAAA 0x55555555<br />Fill test patnum:5<br />fill Pattern 5555AAAA&nbsp; Writing...&nbsp; &nbsp;Reading...<br />fill Pattern AAAA5555&nbsp; Writing...&nbsp; &nbsp;Reading...<br />fill Pattern 0000FFFF&nbsp; Writing...&nbsp; &nbsp;Reading...<br />fill Pattern FFFF0000&nbsp; Writing...&nbsp; &nbsp;Reading...<br />fill Pattern AAAAAAAA&nbsp; Writing...&nbsp; &nbsp;Reading...<br />Top of RAM usable for U-Boot at: 84000000<br />Reserving 275k for U-Boot at: 83fb8000<br />Reserving 256k for malloc() at: 83f78000<br />Reserving 44 Bytes for Board Info at: 83f77fd4<br />Reserving 36 Bytes for Global Data at: 83f77fb0<br />Reserving 128k for boot params() at: 83f57fb0<br />Stack Pointer at: 83f57f98<br />Now running in RAM - U-Boot at: 83fb8000<br />Dev ID2:2222<br />Dev ID3:2201<br />Name: AMD-SPANSION Flash id: 0x1227E, Size: 33554432 bytes.<br />Flash: 32 MB<br />In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Memory Test<br />uboot use&nbsp; 83F57FB0 - 84000000<br />Memory Test start(80000000) end(83F00000) size(03F00000)<br />Pattern 00000000&nbsp; Writing...&nbsp; Reading...<br />Memory Test OK<br />### buf_ver=[1.07] U-Boot Ver.=[1.07]<br />### build_date(env)=[Dec 21 2009 - 10:37:30] build_date(bin)=[Dec 21 2009 - 10:37:30]<br />ag7100_enet_initialize...<br />: cfg1 0xf cfg2 0x7114<br />RTL8366 series driver, reading model-id...<br />&nbsp; ID:0x6027, REV:0x6<br />rtl8366sr_phy_setup&nbsp; ethUnit=0<br />Realtek 8366SR switch ID 0x8366<br />Realtek Greeen Ethernet Setup<br />eth0: 02:aa:bb:cc:dd:1a<br />eth0 up<br />: cfg1 0xf cfg2 0x7114<br />RTL8366 series driver, reading model-id...<br />eth1: 02:aa:bb:cc:dd:1a<br />eth1 up<br />eth0&nbsp; 02:AA:BB:CC:DD:1A<br />, eth1&nbsp; 02:AA:BB:CC:DD:1A</p><p>Trying eth0<br />eth0 is duplex<br />ag7100_check_link: _100BASET<br />dup 1 speed 100<br />CFG_PLL_FREQ=5<br />CFG_HZ=bebc200<br />cpu pll=1050<br />eth pll=1032<br />eth0 clk pll=13000a44<br />eth0 mii=12<br />eth0 cfg1=f<br />eth0 cfg2=7115<br />eth0 fcfg_0=1d1f00<br />eth0 fcfg_1=7ff0000<br />eth0 fcfg_2=fff<br />eth0 fcfg_3=780008<br />eth0 fcfg_4=3ffff<br />eth0 fcfg_5=3ffff</p><br /><br /><p>ar7100&gt; erase BE060000 BFFDFFFF<br />Erase Flash from 0xbe060000 to 0xbffdffff in Bank # 1 First 0x3 last 0xfe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100%<br />Erased 252 sectors</p><p> ar7100&gt; cp.b 81f00000 be060000 460000<br />Copy to Flash...<br /> Copy 4587520 byte to Flash...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;100%<br />done<br />&nbsp; &nbsp;<br />ar7100&gt; bootm BE060000<br />## Booting image at be060000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-2.6.32.27<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2011-12-21&nbsp; &nbsp;1:03:07 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 894165 Bytes = 873.2 kB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80060000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80060000) ...<br />## Giving linux memsize in bytes, 67108864</p><p>Starting kernel ...</p><p>Linux version 2.6.32.27 (jow@nd-build-02.linux-appliance.net) (gcc version 4.3.3 (GCC) ) #5 Wed Dec 21 01:59:33 CET 2011<br />bootconsole [early0] enabled<br />CPU revision is: 00019374 (MIPS 24Kc)<br />Atheros AR9132 rev 2, CPU:400.000 MHz, AHB:200.000 MHz, DDR:400.000 MHz<br />Determined physical RAM map:<br /> memory: 04000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00004000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00004000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=WZR-HP-G300NH<br />PID hash table entries: 256 (order: -2, 1024 bytes)<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />Writing ErrCtl register=00000000<br />Readback ErrCtl register=00000000<br />Memory: 61692k/65536k available (2126k kernel code, 3772k reserved, 423k data, 152k init, 0k highmem)<br />SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />Hierarchical RCU implementation.<br />NR_IRQS:56<br />Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />MIPS: machine is Buffalo WZR-HP-G300NH<br />Found an RTL8366S switch<br />bio: create slab &lt;bio-0&gt; at 0<br />Switching to clocksource MIPS<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 2048 (order: 2, 16384 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 2048)<br />TCP reno registered<br />NET: Registered protocol family 1<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; © 2001-2006 Red Hat, Inc.<br />yaffs Dec 10 2011 18:14:12 Installing.<br />msgmni has been set to 120<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />console [ttyS0] enabled, bootconsole disabled<br />console [ttyS0] enabled, bootconsole disabled<br />ar91xx-flash ar91xx-flash: 02000000 at 1e000000<br />ar91xx-flash: Found 1 x16 devices at 0x0 in 16-bit bank<br /> CFI mfr 0x00000001<br /> CFI id&nbsp; 0x00002201<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />&nbsp; Amd/Fujitsu Extended Query version 1.3.<br />ar91xx-flash: CFI does not contain boot bank location. Assuming top.<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />ar91xx-flash ar91xx-flash: using static partition mapping<br />Creating 7 MTD partitions on &quot;ar91xx-flash&quot;:<br />0x000000000000-0x000000040000 : &quot;u-boot&quot;<br />0x000000040000-0x000000060000 : &quot;u-boot-env&quot;<br />0x000000060000-0x000000160000 : &quot;kernel&quot;<br />0x000000160000-0x000001fc0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />split_squashfs: no squashfs found in &quot;ar91xx-flash&quot;<br />0x000001fc0000-0x000001fe0000 : &quot;user_property&quot;<br />0x000001fe0000-0x000002000000 : &quot;art&quot;<br />0x000000060000-0x000001fc0000 : &quot;firmware&quot;<br />Atheros AR71xx SPI Controller driver version 0.2.4<br />Realtek RTL8366S ethernet switch driver version 0.2.2<br />rtl8366s rtl8366s: using GPIO pins 19 (SDA) and 20 (SCK)<br />rtl8366s rtl8366s: RTL8366 ver. 1 chip found<br />rtl8366s: probed<br />eth0: Atheros AG71xx at 0xb9000000, irq 4<br />eth1: Atheros AG71xx at 0xba000000, irq 5<br />Atheros AR71xx hardware watchdog driver version 0.1.0<br />TCP westwood registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />yaffs: dev is 32505859 name is &quot;mtdblock3&quot;<br />yaffs: passed flags &quot;&quot;<br />yaffs: Attempting MTD mount on 31.3, &quot;mtdblock3&quot;<br />yaffs: MTD device is not NAND it&#039;s type 3<br />jffs2_scan_eraseblock(): End of filesystem marker found at 0x340000<br />jffs2_build_filesystem(): unlocking the mtd device... done.<br />jffs2_build_filesystem(): erasing all blocks after the end marker... done.<br />VFS: Mounted root (jffs2 filesystem) readonly on device 31:3.<br />Freeing unused kernel memory: 152k freed<br />Please be patient, while OpenWrt loads ...<br />input: gpio-buttons as /devices/platform/gpio-buttons/input/input0<br />Button Hotplug driver version 0.3.1<br />eth0: link up (1000Mbps/Full duplex)<br />- preinit -<br />Registered led device: wzr-hp-g300nh:orange:security<br />Registered led device: wzr-hp-g300nh:green:wireless<br />Registered led device: wzr-hp-g300nh:green:router<br />Registered led device: wzr-hp-g300nh:red:diag<br />Registered led device: wzr-hp-g300nh:blue:usb<br />Press the [f] key and hit [enter] to enter failsafe mode<br />- regular preinit -<br />- init -<br />eth0: link down</p><p>Please press Enter to activate this console. eth0: link up (1000Mbps/Full duplex)<br />device eth0 entered promiscuous mode<br />br-lan: port 1(eth0) entering forwarding state<br />Compat-wireless backport release: compat-wireless-2011-11-08-1-g4ab9b62<br />Backport based on wireless-testing.git master-2011-11-15<br />cfg80211: Calling CRDA to update world regulatory domain<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />cfg80211: World regulatory domain updated:<br />cfg80211:&nbsp; &nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />ath: Bad EEPROM checksum 0x0 or revision 0x000f<br />ath: Unable to initialize hardware; initialization status: -22<br />ath9k ath9k: failed to initialize device<br />ath9k: probe of ath9k failed with error -22<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />NET: Registered protocol family 24<br />ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />ar71xx-ehci ar71xx-ehci: Atheros AR91xx built-in EHCI controller<br />ar71xx-ehci ar71xx-ehci: new USB bus registered, assigned bus number 1<br />ar71xx-ehci ar71xx-ehci: irq 3, io mem 0x1b000000<br />ar71xx-ehci ar71xx-ehci: USB 2.0 started, EHCI 1.00<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />nf_conntrack version 0.5.0 (967 buckets, 3868 max)<br />CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use<br />nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or<br />sysctl net.netfilter.nf_conntrack_acct=1 to enable it.<br />ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver</p><br /><br /><p>BusyBox v1.15.3 (2011-11-24 00:44:20 CET) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> Backfire (10.03.1, r29592) ------------------------<br />&nbsp; * 1/3 shot Kahlua&nbsp; &nbsp; In a shot glass, layer Kahlua<br />&nbsp; * 1/3 shot Bailey&#039;s&nbsp; on the bottom, then Bailey&#039;s,<br />&nbsp; * 1/3 shot Vodka&nbsp; &nbsp; &nbsp;then Vodka.<br /> ---------------------------------------------------<br />root@OpenWrt:/#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245425">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						30 Aug 2014, 22:55					</div>
				</div>
				<div class="post-content content">
					<p>It does: Memory Test start(0x00000000) end(0x04000000) size(67108864), i.e. 64Mb RAM starting at 0x00000000.</p><p>Are you familiar with openocd memory access commands ? if not, you need to learn them for next steps:<br /><a href="http://openocd.sourceforge.net/doc/html/General-Commands.html">http://openocd.sourceforge.net/doc/html … mands.html</a></p><p>Basically, CPU registers for this SoC are mapped into memory addressable space. You need to go though initialization code<br />contained in meminit.c and ap83.c and convert statements such as:</p><p>ar7100_reg_wr (AR7100_DDR_TAP_CONTROL0, 0x0);</p><p>into an equivalent openocd mww command. </p><p>In the u-boot code, we can see:<br />#define AR7100_DDR_TAP_CONTROL0&nbsp; &nbsp; AR7100_DDR_CTL_BASE+0x1c<br />#define AR7100_DDR_CTL_BASE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AR7100_APB_BASE+0x00000000<br />#define AR7100_APB_BASE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x18000000&nbsp; /* 384M */</p><p>That is, the openocd mww command equivalent to ar7100_reg_wr (AR7100_DDR_TAP_CONTROL0, 0x0) <br />should be:</p><p>mww 0x1800001c&nbsp; 0x0</p><p>Since&nbsp; &nbsp; AR7100_APB_BASE + AR7100_DDR_CTL_BASE + AR7100_DDR_TAP_CONTROL0 is 0x1800001c.<br />This is an example, I would need to check, but this is the general idea.</p><p>By going trough meminit.c and ap83.c PLL and DRAm initialization code, you should end up having a AR9132 .cfg that will<br />allow transferring u-boot into your DRAM.</p><p>You can use <a href="https://github.com/pepe2k/u-boot_mod/issues/2">https://github.com/pepe2k/u-boot_mod/issues/2</a> as an example of what your final file should look like.</p><p>Does this make sense ?</p><p>One hint that will help readingn the u-boot code:</p><p>Uboot_for_WZR-HP-G300NH/boot/u-boot$ ./include/config.h<br />Uboot_for_WZR-HP-G300NH/boot/u-boot$ ./include/configs/WZR-HP-G300NH.h</p><p>were created during u-boot configuration and gives the&nbsp; defines that are used in u-boot code.</p>											<p class="post-edited">(Last edited by <strong>Frant</strong> on 30 Aug 2014, 23:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245442">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 08:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi Frant,</p><p>Great work...<br />I do have a question though, I noticed the following from the log I posted.<br />I see this reference to memory...<br />Memory Test start(0x00000000) end(0x04000000) size(67108864)</p><p>but I also see referaces here....</p><p>Top of RAM usable for U-Boot at: 84000000<br />Reserving 275k for U-Boot at: 83fb8000<br />Reserving 256k for malloc() at: 83f78000<br />Reserving 44 Bytes for Board Info at: 83f77fd4<br />Reserving 36 Bytes for Global Data at: 83f77fb0<br />Reserving 128k for boot params() at: 83f57fb0<br />Stack Pointer at: 83f57f98<br />Now running in RAM - U-Boot at: 83fb8000</p><p>and here...</p><p>Memory Test start(80000000) end(83F00000) size(03F00000)</p><p>I am away from home right now and I can not check the source.. But is it possible it starts at 0x80000000?<br />When I get home I will look at the source you reference..<br />Just starting to learn the openocd commands, but ready to learn and test on my bricked router..</p><p>Thank you for this help..</p>											<p class="post-edited">(Last edited by <strong>pusky</strong> on 31 Aug 2014, 16:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245472">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 16:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi Frant,</p><p>Sorry my main ASUS router went down last night and just got it back up.. most likely due to last nights thunderstorms, it just lost its configuration... go figure..</p><p>Ok will look at what you sent me yesterday and let you know how it goes..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245476">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 17:01					</div>
				</div>
				<div class="post-content content">
					<p>FYI</p><p>Did the following and got bad results, will do further research....</p><p>Downloaded the mips-linux toolchain you recomended from here <a href="http://downloads.openwrt.org/kamikaze/8">http://downloads.openwrt.org/kamikaze/8</a> … 64.tar.bz2</p><p>I extracted&nbsp; the content of the tar file OpenWrt-SDK-atheros-for-Linux-x86_64.tar.bz2 then extracted<br />the content of gpl_b_wzr-hp-g300nh.tgz and moved the folders boot/ &amp; build/ from Uboot_for_WZR-HP-G300NH to the packages folder as you can see below..</p><p>pusky@pusky-server:~/workingfolder/router/wzr-hp-g300nh/src/OpenWrt-SDK-atheros-for-Linux-x86_64/package$ ls -l<br />total 16<br />drwxr-xr-x&nbsp; 4 pusky pusky 4096 Feb&nbsp; 4&nbsp; 2010 build<br />-rw-r--r--&nbsp; 1 pusky pusky 2035 Nov 30&nbsp; 2009 Makefile<br />-rw-r--r--&nbsp; 1 pusky pusky 2511 Nov 30&nbsp; 2009 rules.mk<br />drwxr-xr-x 27 pusky pusky 4096 Jan 27&nbsp; 2010 u-boot</p><p>when I execute just make I get </p><p>make: *** No rule to make target `/.build&#039;, needed by `package/cleanup&#039;.&nbsp; Stop.</p><p>if I execute your&nbsp; command I get <br />CROSS_COMPILE=mips-linux- ARCH=mips make WZR-HP-G300NH_EU_config<br />CROSS_COMPILE=mips-linux- ARCH=mips make</p><br /><p>CROSS_COMPILE=mips-linux- ARCH=mips make WZR-HP-G300NH_EU_config<br />make: *** No rule to make target `WZR-HP-G300NH_EU_config&#039;.&nbsp; Stop.</p><br /><p>CROSS_COMPILE=mips-linux- ARCH=mips make<br />make: *** No rule to make target `/.build&#039;, needed by `package/cleanup&#039;.&nbsp; Stop</p><br /><p>based on my skill set I am use to just doing ./configure &amp;&amp; make </p><p>Will do some reading on doing cross compiling and openwrt..</p><p>Cheers,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245483">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>Resolved some of my issues I think, </p><br /><p>moved the the build and boot to the root of OpenWrt-SDK-atheros-for-Linux-x86_64 folder<br />then went into the boot/u-boot folder and ran<br />CROSS_COMPILE=mips-linux- ARCH=mips make WZR-HP-G300NH_EU_config</p><p>which returned the following<br />Configuring for WZR-HP-G300NH board...</p><p>CROSS_COMPILE=mips-linux- ARCH=mips make</p><p>but am getting an<br />/bin/sh: 1: mips-linux-gcc: not found</p><p>getting closer..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245485">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>going through the make files and I find that </p><p>export TOOLPATH=$(TOPDIR)/build/$(TOOLCHAIN)/$(TOOLARCH)/<br />export BOOTLOADERDIR=$(TOPDIR)/boot/redboot</p><p>export UBOOTDIR=$(TOPDIR)/boot/u-boot</p><br /><p>its all a folder structure issue..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245498">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>boy am I lost, can&#039;t figure out the folder structure... must be putting things in the wrong folders or thee are other configs I need to do..</p><br /><p>Help..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245511">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 21:47					</div>
				</div>
				<div class="post-content content">
					<p>Ok got it working...</p><p>had to make changes to to the make file and add <br />export PATH:=$(TOPDIR)/mips-linux/bin:${PATH}</p><p>now need to patch the tftp.c</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245512">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 21:59					</div>
				</div>
				<div class="post-content content">
					<p>Huston we have lift-off</p><br /><p> ll u-boot*<br />-rwxrwxr-x 1 pusky pusky 733415 Aug 31 14:56 u-boot*<br />-rwxrwxr-x 1 pusky pusky 229736 Aug 31 14:56 u-boot.bin*<br />-rw-rw-r-- 1 pusky pusky 177402 Aug 31 14:56 u-boot.map<br />-rwxrwxr-x 1 pusky pusky 689330 Aug 31 14:56 u-boot.srec*</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245513">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 22:04					</div>
				</div>
				<div class="post-content content">
					<p>ok found the following in modify_buffalo/board/ar7100/WZR-HP-G300NH/config.mk</p><br /><p># ROM version<br />TEXT_BASE = 0xbe000000<br />SERIAL_FLASH = NO</p><p># SDRAM version<br />#TEXT_BASE = 0xa1000000</p><p>export CONFIG_BUFFALO=y</p><br /><p>so I assume that only changing the TEXT_BASE from 0xbe000000 to xa1000000 should give me a ram version..<br />no other coding changes needed, I hope, I am not a programmer..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245521">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						31 Aug 2014, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi Frant,</p><p>working on the new AR9132.cfg for openocd..</p><p>having a problem understanding the following..</p><p>#define AR7100_RESET_DDR&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (1 &lt;&lt; 16) </p><p>what does the (1&lt;&lt;16) mean? move 16 into that variable?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245540">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						1 Sep 2014, 00:54					</div>
				</div>
				<div class="post-content content">
					<p>It means &#039;1 shifted 16 times to the left&#039;, that is 0x100000000. Each time you shift by 1 to the left, you basically multiply by 2.<br />See <a href="http://en.wikipedia.org/wiki/Logical_shift.">http://en.wikipedia.org/wiki/Logical_shift.</a></p><p>Agree with you on&nbsp; that changing the TEXT_BASE from 0xbe000000 to 0xa1000000 should give you a RAM-relocated version.<br />Please note that meminit.c and ap83.c are using&nbsp; ar7100_reg_wr_nf()&nbsp; ar7100_reg_wr() for writing a configuration word into a register. I am currently investigating what they are exactly doing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245549">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						1 Sep 2014, 02:41					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I have written a small C program that uses u-boot include files and my own function versions of the following macros:<br />ar7100_reg_rd<br />ar7100_reg_wr_nf<br />ar7100_reg_wr</p><p>Basically, I replaced all three macros by functions printing openocd mww/mrw/sleep commands.</p><p>I then went to ap83.c and meminit.c and copied calls to macros into my program:</p><p>int main(int argc, char** argv)<br />{</p><p>&nbsp; &nbsp; comment(&quot;ar7100_mem_config() - ar7100_ddr_initial_config()&quot;);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONFIG, CFG_DDR_CONFIG_VAL);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONFIG2, CFG_DDR_CONFIG2_VAL);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONTROL, 0x8);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_MODE, CFG_DDR_MODE_VAL_INIT);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONTROL, 0x1);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_EXT_MODE, CFG_DDR_EXT_MODE_VAL);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONTROL, 0x2);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONTROL, 0x8);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_MODE, CFG_DDR_MODE_VAL);<br />&nbsp; &nbsp; udelay(10000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_CONTROL, 0x1);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_REFRESH, CFG_DDR_REFRESH_VAL);<br />&nbsp; &nbsp; udelay(1000);<br />&nbsp; &nbsp; ar7100_reg_wr_nf(AR7100_DDR_RD_DATA_THIS_CYCLE, CFG_DDR_RD_DATA_THIS_CYCLE_VAL);<br />&nbsp; &nbsp; udelay(1000);</p><br /><p>&nbsp; &nbsp; comment(&quot;ar7100_mem_config()&quot;);<br />&nbsp; &nbsp; ar7100_reg_wr (AR7100_DDR_TAP_CONTROL0, 0x0);<br />&nbsp; &nbsp; ar7100_reg_wr (AR7100_DDR_TAP_CONTROL1, 0x0);<br />&nbsp; &nbsp; ar7100_reg_wr (AR7100_DDR_TAP_CONTROL2, 0x0);<br />&nbsp; &nbsp; ar7100_reg_wr (AR7100_DDR_TAP_CONTROL3, 0x0);</p><p>#if 0<br />&nbsp; &nbsp;// TODO: forging equivalent openocd commands and/or user procedure to perform what the code hereafter<br />&nbsp; &nbsp;// is doing:</p><p>&nbsp; &nbsp; i = *(volatile int *)0xb8050004;<br />&nbsp; &nbsp; i = i &amp; (~(1 &lt;&lt; 25));<br />&nbsp; &nbsp; *(volatile int *)0xb8050004 = i;<br />&nbsp; &nbsp; while ((*(volatile int *)0xb8050004) &amp; (1 &lt;&lt; 17));</p><p>&nbsp; &nbsp; i = *(volatile int *)0xb8050004;<br />&nbsp; &nbsp; i = i &amp; (~(1 &lt;&lt; 16));<br />&nbsp; &nbsp; *(volatile int *)0xb8050004 = i;<br />&nbsp; &nbsp; while ((*(volatile int *)0xb8050004) &amp; (1 &lt;&lt; 17));</p><p>&nbsp; &nbsp; i = *(volatile int *)0xb8050004;<br />&nbsp; &nbsp; i = i | (0x3f &lt;&lt; 19);<br />&nbsp; &nbsp; *(volatile int *)0xb8050004 = i;<br />&nbsp; &nbsp; udelay(100);</p><p>&nbsp; &nbsp; *(volatile int *)0xb8050014 = 0x13000a44;<br />&nbsp; &nbsp; *(volatile int *)0xb805001c = 0x00000909;<br />&nbsp; &nbsp; udelay(100);</p><p>&nbsp; &nbsp; i = *(volatile int *)0xb8050004;<br />&nbsp; &nbsp; i = i &amp; (~(0x3b &lt;&lt; 19));<br />&nbsp; &nbsp; *(volatile int *)0xb8050004 = i;<br />&nbsp; &nbsp; udelay(100);</p><p>&nbsp; &nbsp; i = *(volatile int *)0xb8050004;<br />&nbsp; &nbsp; i = i | (0x3 &lt;&lt; 20);<br />&nbsp; &nbsp; *(volatile int *)0xb8050004 = i;<br />&nbsp; &nbsp; udelay(100);</p><p>&nbsp; &nbsp; i = *(volatile int *)0xb8050004;<br />&nbsp; &nbsp; i = i &amp; (~(0x3 &lt;&lt; 20));<br />&nbsp; &nbsp; *(volatile int *)0xb8050004 = i;<br />&nbsp; &nbsp; udelay(100);</p><p>&nbsp; &nbsp; /* Temp addition - check with Mani */<br />&nbsp; &nbsp; *(volatile unsigned int *)0xb8080008 = 0x00000060;<br />&nbsp; &nbsp; udelay(100);</p><p>#endif</p><p>&nbsp; &nbsp; return EXIT_SUCCESS;<br />}</p><p>I got the following openocd commands:</p><p># ar7100_mem_config() - ar7100_ddr_initial_config()<br />mww 0xb8000000 0x77bc8cd0<br />sleep 1<br />mww 0xb8000004 0x83d1f6a2<br />sleep 1<br />mww 0xb8000010 0x00000008<br />sleep 1<br />mww 0xb8000008 0x00000131<br />sleep 1<br />mww 0xb8000010 0x00000001<br />sleep 1<br />mww 0xb800000c 0x00000000<br />sleep 1<br />mww 0xb8000010 0x00000002<br />sleep 1<br />mww 0xb8000010 0x00000008<br />sleep 1<br />mww 0xb8000008 0x00000031<br />sleep 10<br />mww 0xb8000010 0x00000001<br />sleep 1<br />mww 0xb8000014 0x00004c00<br />sleep 1<br />mww 0xb8000018 0x0000ffff<br />sleep 1<br /># ar7100_mem_config()<br />mww 0xb800001c 0x00000000<br />mrw 0xb800001c<br />mww 0xb8000020 0x00000000<br />mrw 0xb8000020<br />mww 0xb8000024 0x00000000<br />mrw 0xb8000024<br />mww 0xb8000028 0x00000000<br />mrw 0xb8000028</p><p>Working on creating openocd commands/instructions for the u-boot initialization code that was not using the three macros.</p><p>If you wish, you could revisit the list of calls to the three macros I did in my program, and verify I did not make mistakes.<br />Look at ar7100_mem_config() function in ap83.c&nbsp; and ar7100_ddr_initial_config() in meminit.c.</p><p>You can try the openocd commands above as well, but this may not suffice yet...</p>											<p class="post-edited">(Last edited by <strong>Frant</strong> on 1 Sep 2014, 02:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245550">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						1 Sep 2014, 02:44					</div>
				</div>
				<div class="post-content content">
					<p>Also check out the lowlevel_init.S under u-boot/board/ar7100/common</p><p>following is my first run at the ar9132.cfg used info from&nbsp; ap83.c meminit.c and lowlevel_init.S also needed info from ar7100_soc.h, at7100.h, config.h and WZR-HP-G300NH.h</p><p>note sure if I need to change the chip name from ar71xx to ar9132??<br /># Atheros AR71xx MIPS 24Kc SoC.<br /># tested on PB44 refererence board</p><p>adapter_nsrst_delay 100<br />jtag_ntrst_delay 100</p><p>reset_config trst_and_srst</p><p>set CHIPNAME ar71xx</p><p>jtag newtap $CHIPNAME cpu -irlen 5 -ircapture 0x1 -irmask 0x1f -expected-id 1</p><p>set TARGETNAME $CHIPNAME.cpu<br />target create $TARGETNAME mips_m4k -endian big -chain-position $TARGETNAME</p><p>$TARGETNAME configure -event reset-halt-post {<br />&nbsp; &nbsp; #setup PLL to lowest common denominator 300/300/150 setting<br />&nbsp; &nbsp; mww 0x18050000&nbsp; &nbsp; 0x80000<br />&nbsp; &nbsp; mww 0x18050000&nbsp; &nbsp; 0x0<br />&nbsp; &nbsp; mww 0x18050000&nbsp; &nbsp; 0xc00000<br />&nbsp; &nbsp; mww 0x18050008&nbsp; &nbsp; 0x0<br />&nbsp; &nbsp; mww 0x18050008&nbsp; &nbsp; 0x2&nbsp; 0x2</p><p>&nbsp; &nbsp; #next command will reset for PLL changes to take effect<br />&nbsp; &nbsp; mww 0x18050008 3&nbsp; &nbsp; &nbsp; &nbsp; ;# set reset_switch and clock_switch (resets SoC)<br />}</p><p>$TARGETNAME configure -event reset-init {<br />&nbsp; &nbsp; #complete pll initialization<br />&nbsp; &nbsp; mww 0x18050000&nbsp; &nbsp; 0x80000<br />&nbsp; &nbsp; mww 0x18050000&nbsp; &nbsp; 0x0<br />&nbsp; &nbsp; mww 0x18050000&nbsp; &nbsp; 0xc00000<br />&nbsp; &nbsp; mww 0x18050008&nbsp; &nbsp; 0x0<br />&nbsp; &nbsp; mww 0x18050008&nbsp; &nbsp; 0x2&nbsp; 0x2</p><p>&nbsp; &nbsp; #initialize_pll<br />&nbsp; &nbsp; mww 0x18050000 0x20000 0x80000000<br />&nbsp; &nbsp; mww 0x18050008 0x2<br />&nbsp; &nbsp; mww 0x18050000 0x3ff&nbsp; &nbsp;0x50<br />&nbsp; &nbsp; mww 0x18050000 0x10000<br />&nbsp; &nbsp; mww 0x18050008 0x0<br />&nbsp; &nbsp; sleep 1</p><br /><p>&nbsp; &nbsp; mww 0x18050000 0x800f0080&nbsp; &nbsp; ;# set sw_update bit<br />&nbsp; &nbsp; mww 0x18050008 0&nbsp; &nbsp; &nbsp; &nbsp; ;# clear reset_switch bit<br />&nbsp; &nbsp; mww 0x18050000 0x800f00e8&nbsp; &nbsp; &nbsp; &nbsp;;# clr pwrdwn &amp; bypass<br />&nbsp; &nbsp; mww 0x18050008 1&nbsp; &nbsp; &nbsp; &nbsp; ;# set clock_switch bit<br />&nbsp; &nbsp; sleep 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;# wait for lock</p><p>&nbsp; &nbsp; # Setup DDR config and flash mapping<br />&nbsp; &nbsp; mww 0x18060000 0x77bc8cd0&nbsp; &nbsp; &nbsp; &nbsp;;# DDR cfg cdl val (rst: 0x5bfc8d0)<br />&nbsp; &nbsp; mww 0x18060004 0x83d1f6a2&nbsp; &nbsp; &nbsp; &nbsp;;# DDR cfg2 cdl val (rst: 0x80d106a8)</p><p>&nbsp; &nbsp; mww 0x18060010 8&nbsp; &nbsp; &nbsp; &nbsp; ;# force precharge all banks<br />&nbsp; &nbsp; mww 0x18060008 0x131&nbsp; &nbsp; &nbsp; &nbsp; ;# CFG_DDR_MODE_VAL_INIT<br />&nbsp; &nbsp; mww 0x18060010 1 &nbsp; &nbsp; &nbsp; &nbsp; ;# force EMRS update cycle<br />&nbsp; &nbsp; mww 0x1806000c 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;# clr ext. mode register<br />&nbsp; &nbsp; mww 0x18060010 2 &nbsp; &nbsp; &nbsp; &nbsp; ;# force auto refresh all banks<br />&nbsp; &nbsp; mww 0x18060010 8&nbsp; &nbsp; &nbsp; &nbsp; ;# force precharge all banks<br />&nbsp; &nbsp; mww 0x18060008 0x31&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;# set DDR mode value CAS=3<br />&nbsp; &nbsp; mww 0x18060010 1 &nbsp; &nbsp; &nbsp; &nbsp; ;# force EMRS update cycle<br />&nbsp; &nbsp; mww 0x18060014 0x4c00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;# DDR refresh value ---- <br />&nbsp; &nbsp; mww 0x18060018 0xffff&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;# DDR Read Data This Cycle value (16bit: 0xffff)<br />&nbsp; &nbsp; mww 0x1806001c 0x7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;# delay added to the DQS line (normal = 7)<br />&nbsp; &nbsp; mww 0x18060020 0<br />&nbsp; &nbsp; mww 0x18060024 0<br />&nbsp; &nbsp; mww 0x18060028 0<br />}</p><br /><p># setup working area somewhere in RAM<br />$TARGETNAME configure -work-area-phys 0xa0600000 -work-area-size 0x20000</p><p># serial SPI capable flash<br /># flash bank &lt;driver&gt; &lt;base&gt; &lt;size&gt; &lt;chip_width&gt; &lt;bus_width&gt;<br />#set FLASHNAME $CHIPNAME.flash<br />#flash bank $FLASHNAME stmsmi 0xBE000000 0x02000000 0 0 $TARGETNAME</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245551">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						1 Sep 2014, 02:48					</div>
				</div>
				<div class="post-content content">
					<p>Great job, I would suggest not to change the chip&#039;s name for now.<br />You are right about&nbsp; lowlevel_init.S .</p><p>You will now ar9132.cfg&nbsp; is working when you will be able to write/read a value in RAM, i.e.</p><p>mww 0x00000000 0xA5A5A5A5<br />and re-read it with<br />mrw 0x00000000</p>											<p class="post-edited">(Last edited by <strong>Frant</strong> on 1 Sep 2014, 02:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245552">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						1 Sep 2014, 03:05					</div>
				</div>
				<div class="post-content content">
					<p>ok tried it not working.. btw, the lines with two parameter arw wrong I think, I needed to AND them first to make one parameter.</p><br /><p>when I do a load_image u-boot.bin 0x1a000000 and then a mdw 0x1a000000 I get all zeros..</p><p>&gt; mdw 0x1a000000 30<br />0x1a000000: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 <br />0x1a000020: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 <br />0x1a000040: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 <br />0x1a000060: 00000000 00000000 00000000 00000000 00000000 00000000 <br />&gt; load_image u-boot.bin 0x1a000000<br />229736 bytes written at address 0x1a000000<br />downloaded 229736 bytes in 1.265946s (177.220 KiB/s)<br />&gt; mdw 0x1a000000 30&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0x1a000000: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 <br />0x1a000020: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 <br />0x1a000040: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 <br />0x1a000060: 00000000 00000000 00000000 00000000 00000000 00000000</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245554">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">pusky</div>
					<div class="post-datetime">
						1 Sep 2014, 03:36					</div>
				</div>
				<div class="post-content content">
					<p>as part of ap83.c</p><p>there is a statement</p><p>#if 0<br />&nbsp; &nbsp; ar7100_ddr_width_t width;<br />#endif</p><p>which is used in </p><p>width&nbsp; &nbsp; &nbsp; &nbsp; = ar7100_ddr_get_width();</p><br /><p>which is the code below from meminit.c .. does #if 0 get included or is that a way to comment out large parts of code?</p><br /><p>ar7100_ddr_width_t<br />ar7100_ddr_get_width()<br />{<br />&nbsp; &nbsp; volatile uint32_t *p = 0xa0000000, *p1 = 0xa0001000;<br />&nbsp; &nbsp; uint32_t pat = 0x12345678, rd;</p><p>&nbsp; &nbsp; *p&nbsp; = pat;<br />&nbsp; &nbsp; *p1 = 0;<br />&nbsp; &nbsp; asm(&quot;sync&quot;);<br />&nbsp; &nbsp; /*<br />&nbsp; &nbsp; &nbsp;* discharge DQ[31:16]<br />&nbsp; &nbsp; &nbsp;*/<br />&nbsp; &nbsp; rd&nbsp; = *p;</p><p>&nbsp; &nbsp; if (rd == pat)<br />&nbsp; &nbsp; &nbsp; &nbsp; return AR7100_DDR_32B;</p><p>&nbsp; &nbsp; if ((rd &amp; 0xffff) == (pat &amp; 0xffff))<br />&nbsp; &nbsp; &nbsp; &nbsp; return AR7100_DDR_16B_LOW;</p><p>&nbsp; &nbsp; if ((rd &amp; 0xffff0000) == (pat &amp; 0xffff0000))<br />&nbsp; &nbsp; &nbsp; &nbsp; return AR7100_DDR_16B_HIGH;</p><p>&nbsp; &nbsp; /*<br />&nbsp; &nbsp; &nbsp;* If Some&#039;n&#039;s hosed this early cant do much; silence the compiler <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />&nbsp; &nbsp; &nbsp;*/<br />&nbsp; &nbsp; printf(&quot;something&#039;s wrong. rd %#x pat %#x\n&quot;, rd, pat);</p><p>&nbsp; &nbsp; return AR7100_DDR_32B;<br />}</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245559">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Frant</div>
					<div class="post-datetime">
						1 Sep 2014, 04:41					</div>
				</div>
				<div class="post-content content">
					<p>#if 0<br />/// some code<br />#endif</p><p>means code will never be executed&nbsp; (expression 0 is always false fro the C pre-processor) - this is fine then.</p><p>I forgot to mention that once you will be able to configure the DRAM from openocd, you may have to comment-out PLL/DRAM initialization in your RAM-relocated u-boot: since it will execute from DRAM, keeping this code active could mean configuring DRAM while you are executing from it, which is not desirable.</p><p>You can comment-out large sections of code by using #ifdef 0 ... #endif.</p><p>Which lines with two arguments are you referring to ?</p>											<p class="post-edited">(Last edited by <strong>Frant</strong> on 1 Sep 2014, 04:42)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>