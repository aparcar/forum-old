<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> nfs-kernel-server not working</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p44198">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">domi</div>
					<div class="post-datetime">
						12 Mar 2007, 03:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I installed the nfs-kernel-server package on my Whiterussian 0.9 router (Asus WL-500GP). /etc/exports is configured to share the USB harddisk.</p><p>But trying to mount the NFS share from another machine, I get this error message:</p><p>RPC Error: 15 ( Program not registered )</p><p>Looking at the router, the problem appears to be that rpc.nfsd is not running. Although portmap, rpc.statd and rpc.mountd are running just fine, rpc.nfsd refuses to start. Trying to run it manually immediately brings me back to the command prompt, without any error messages, but no daemon is started.</p><p>Could this be a problem with my setup, or is the package somehow broken? I&#039;d appreciate any help...</p><p>Thanks,<br />Dominic</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45774">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rooster</div>
					<div class="post-datetime">
						3 Apr 2007, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi </p><p>Did you solve this problem already? I am at the same point now, nfsd doesn&#039;t want to start. In the forum i couldn&#039;t find any hint on how to solve this. </p><p>I am also using Whiterussian 0.9 on Asus WL-500GP.</p><p>Regards</p><p>Rooster</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45804">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">domi</div>
					<div class="post-datetime">
						4 Apr 2007, 00:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>nope, I haven&#039;t solved this yet, been using samba for now. But I&#039;d still like to try and get nfs working.</p><p>It seems that one would need to build the nfsd kernel module, which is missing in Whiterussian. If someone can recommend an easy way to do this, please let me know.<br />Of course I don&#039;t know if that&#039;s really all there is to it, I still think it&#039;s odd that rpc.nfsd does not even give an error message (&quot;missing kernel module&quot; or something), but instead just appears to do nothing at all.</p><p>Dominic</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45907">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jhinsch</div>
					<div class="post-datetime">
						5 Apr 2007, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I was also in trouble with the nfs-kernel-space server, found that P.Colberg compiled a newer module that worked for me! At now I&#039;m on kamikaze latest build and since 28.3.2007 they updatet the package, since then it&#039;s works very well for me! Have a look at google for nfs and colberg or try search over here for colberg, you will find the link and the ipk&#039;s he built.</p><p>Regards</p><p>Joachim</p><p>PS: Forgot to say you will also need to install portmap if you don&#039;t have already!</p>											<p class="post-edited">(Last edited by <strong>jhinsch</strong> on 5 Apr 2007, 12:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45908">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">domi</div>
					<div class="post-datetime">
						5 Apr 2007, 14:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Thanks, I found packages here:<br /><a href="http://www.cip.ifi.lmu.de/~colberg/OpenWrt/bin/whiterussian/rc6/">http://www.cip.ifi.lmu.de/~colberg/Open … ssian/rc6/</a></p><p>I installed kmod-nfsd from that site, and also nfs-kernel-server and nfs-kernel-server-utils (replacing those from the Whiterussian backports). This way, I managed to get the nfs server to start.</p><p>I had some more problems trying to mount the exported filesystem, getting this error message on the client:<br />mount: Unknown error 521</p><p>I was able to solve this by changing /etc/exports, so that the exported directory was on a ext3 filesystem, instead of jffs (i.e. exporting /mnt/disc0_1 instead of just /mnt).</p><p>Now nfs seems to be working quite well, and from the little testing I did so far, it appears to be almost twice as fast as samba on my router (though still a bit slower than ftp).</p><p>Thanks a lot,<br />Dominic</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46902">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">pshdo</div>
					<div class="post-datetime">
						22 Apr 2007, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi there....</p><p>I´m trying to mount the NFS server on my Asus Router in to my Dreambox, and just like to ask:<br />What is the mount called when you mount /mnt/disc0_1 to an&nbsp; other linux box ??</p><p>Is it just called /mnt/disc0_1 becource then my NFS server is still not working as it should.... :-(</p><p>-- <br />Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46916">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">domi</div>
					<div class="post-datetime">
						23 Apr 2007, 01:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pshdo wrote:</cite><blockquote><p>I´m trying to mount the NFS server on my Asus Router in to my Dreambox, and just like to ask:<br />What is the mount called when you mount /mnt/disc0_1 to an&nbsp; other linux box ??</p><p>Is it just called /mnt/disc0_1 becource then my NFS server is still not working as it should.... :-(</p></blockquote></div><p>If I understand your question correctly, that would be host:/mnt/disc0_1, where host ist the hostname of the router (e.g. in /etc/hosts on the client), or the routers IP address.<br />So the whole mount command would be:</p><p>mount -t nfs host:/mnt/disc0_1 /mountpoint</p><p>Also, you can verify that the NFS server is actually running and exporting the filesystem by running &quot;showmount -e host&quot; on the client.</p><br /><p>Dominic</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46949">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">pshdo</div>
					<div class="post-datetime">
						23 Apr 2007, 13:58					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for the reply, that was exactly as i thought.....<br />- but i needed to get it confirmed... ;-)</p><p>If i should/could use a login:password, how would i enter that in the setup-files of the NFS-server ??<br />- it would (i think) be in the exports file, but i don´t know the syntax of the file to enter the login....</p><p>One more thing:<br />Can i use the same shared drive eg. /mnt/disc0_1 if i am also using that for my samba-server ??</p><p>At last:<br />Is there any way to get access to a NFS on my router from a Windows XP machine ??<br />It would be mutch easyer to try it that way, than it is to try it from my Dreambox (a linux satellite box)<br />My dreambox don´t have the showmount command, so i cant use that.....<br />- maybe i could try to boot from a DVD with a Linux on it and do it that way ??</p><p>-- <br />Peter</p>											<p class="post-edited">(Last edited by <strong>pshdo</strong> on 23 Apr 2007, 14:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46955">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">pshdo</div>
					<div class="post-datetime">
						23 Apr 2007, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi again....</p><p>Pleace can you perhaps help me a little, as i feel that i have missed something......</p><p>I tey this:<br />mount nfs 192.168.1.1:/mnt/disc0_1 /hdd</p><p>And get this result:<br />mount: Mounting nfs on /192.168.1.1:/mnt/disc0_1 failed: No such file or directory</p><p>My exports file look like this:<br />/mnt/disc0_1 *(rw,all_squash,insecure,sync)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>