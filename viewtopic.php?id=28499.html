<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WR741ND first install OpenWRT</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 13 Apr 2018 and 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=28499&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=28499&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p127485">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Gumel</div>
					<div class="post-datetime">
						6 Feb 2011, 14:16					</div>
				</div>
				<div class="post-content content">
					<p>Hello dear users) <br />There was a lot of questions </p><p>So here I sit reading about this Open VRT and even do not understand. <br />The reason for the transition from regular firmware is support because iptv on the factory firmware with support iptv router hangs every day. <br />Now the questions <br />1) Will iptv work? <br />2) I have a dynamic IP is now IP and DNS assigned automatically, this will be no problems? <br />3) so all still possible or not to flash the access point in the usual way? simply pointing to the new firmware through a standard web interface, simply solder and connect to rx tx does not hunt, and it will be possible to revert back to the factory firmware with OpenVRT without using com port. <br />4) I have a version 1.9 router as I understand it there for 2 shells Gargoyle and Luci, which one is preferable to choose. <br />5) If all as is, you can download the firmware from the section <br />Download a Install Image from this group if is the first flash from OEM firmware: with the numbers 24045 and 24714 all right saying? <br />6) Is it necessary to prescribe the ip on the computer 192.168.1.2??? <br />7) If I make up my mind to flash, it will look like this: <br />Download Firmware <br />Did the usual firmware update via the web interface (but the firmware is already OpenWRT) <br />Rebutnulsya router and I already went under the Open ART <br />All right?? <br />Drop pozhaluysa ICQ or mail your (agent communication in the mail) that-be to chat with you who is OpenWRT yes, and then suddenly the future issues arise. </p><p>FAQ <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd">http://wiki.openwrt.org/toh/tp-link/tl-wr741nd</a> many questions here is the answer, but I have trouble understanding the English language on this has created this topic. </p><p>This text - machine translation. </p><p>Original text in Russian</p><br /><p>??????????? ????????? ????????????)<br />???????? ???? ????????</p><p>??? ??? ???? ????? ??? ???? ???? ??? ? ??? ?? ?????.<br />??????? ???????? ? ??????? ???????? ??? ????????? iptv ?.?. ?? ????????? ???????? ? ?????????? iptv ?????? ???????? ?????? ????.<br />?????? ???????<br />1) ????? ?? iptv ?????????<br />2) ? ???? ?????????? ?? ?????? ?.?. IP ? DNS ??????????? ?????????, ? ???? ??????? ?? ??????<br />3) ??? ??? ???? ???????? ??? ??? ??????? ????? ??????? ??????? ????????? ?????? ?????? ?? ????? ????????, ????? ??????????? ??? ?????????, ?????? ????? ? ???????????? ? rx tx ?? ?????, ? ????? ????? ?? ????????? ?? ????????? ???????? ? ??????? ?? ???????? ??? ????.<br />4) ? ???? ?????? ??????? 1,9 ??? ? ????? ??? ??? ?????????? 2 ???????? Gargoyle ? Luci, ????? ?? ??? ???????????????? ???????.<br />5) ???? ??? ??? ??? ????, ?? ????? ??????? ???????? ?? ???????<br />Download a Install Image from this group if is the first flash from OEM firmware: ? ???????? 24045 ? 24714 ??? ????? ???????<br />6) ???? ?? ??????????? ip ?? ?????????? 192.168.1.2 ???<br />7) ???? ? ?????? ?????????, ?? ??? ????? ????????? ???:<br />?????? ???????? <br />?????? ??????? ?????????? ???????? ????? ??? ?????????(?? ???????? ??? ????W??)<br />?????? ?????????? ? ? ????? ??? ??? ???? ???<br />??? ????????<br />???????? ????????? ICQ ??? ???? ????(??????? ? ???? ??????) ???-?? ?????????? ? ????, ? ???? ????? OpenWR? ?? ? ????? ?? ??????? ????? ??????? ????????.</p><p>??? FAQ <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd">http://wiki.openwrt.org/toh/tp-link/tl-wr741nd</a> ?? ?????? ??????? ????? ???? ?????, ?? ? ???? ???????? ? ?????????? ??????????? ?????, ?? ????? ?????? ?????? ????.</p>											<p class="post-edited">(Last edited by <strong>Gumel</strong> on 6 Feb 2011, 14:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127511">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						6 Feb 2011, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>1) If work with original firmware will work with OpenWrt too.<br />2) <br />3) No need to solder serial until there are big problems. Going back it&#039;s not as easy.<br />4) Gargoyle 1.3.9 at this time has many features out-of-the-box that are not possible with LuCI due to memory limits. Notably: QoS<br />5) <a href="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.3.9-ar71xx-tl-wr741nd-v1-squashfs-factory.bin">http://www.gargoyle-router.com/download … actory.bin</a><br />6) No until there are big problems.<br />7) Right. But... Tell me again: Already OpenWrt? This router has been provided by IPTV provider with OpenWrt already installed? The interface looks like <a href="http://www.tp-link.com/simulator/TL-WR741ND_v1%26v2/index.htm">this</a>?<br />Maybe is a customized router, then:<br />1) No</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127516">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Gumel</div>
					<div class="post-datetime">
						6 Feb 2011, 22:53					</div>
				</div>
				<div class="post-content content">
					<p>Nilfred<br />thanks for the reply. <br />I have the standard firmware. &quot;The interface looks like this?&quot; yes <br />And on this firmware has support for IPTV, but the router on this firmware freezes about 1 every day. </p><p>System Tools -&gt; - Firmware Upgrade -&gt; &quot;5) <a href="http://www.gargoyle-router.com/download">http://www.gargoyle-router.com/download</a> ... actory.bin&quot; All right? </p><p>I want to have OpenWRT firmware to support iptv, but i have the standard firmware. </p><p>2) Question <br /> <a href="http://www.tp-link.com/simulator/TL-WR741ND_v1&amp;v2/index.htm">http://www.tp-link.com/simulator/TL-WR7 … /index.htm</a> network -&gt; wan -&gt; dynamic ip <br />Is there support in OpenWRT dynamic ip?&nbsp; I think yes or no? (Y/N) )))</p><p>please explain to me how, step by step to install open wrt. </p><p>thanks for replying to me, and that trying to understand my wrong English.</p>											<p class="post-edited">(Last edited by <strong>Gumel</strong> on 6 Feb 2011, 22:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127547">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						7 Feb 2011, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t do it by yourself. You&#039;ll probably brick it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127571">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Gumel</div>
					<div class="post-datetime">
						7 Feb 2011, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>Do not even know what to say to you,<br />I ask you to ping a router, it pleases<br />But at 192.168.1.1 does not want to go ... upset, although pleased that pinged.</p><p>What do I do ?))))</p><p>&quot;Redirection</p><p>Link has been redirected to. Click the link to go to.</p><p>You can enable the automatic redirection in the settings.<br />Created Opera. &quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127578">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						7 Feb 2011, 17:02					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s perfectly normal:</p><div class="quotebox"><cite>wiki wrote:</cite><blockquote><p><strong>Clear your browser cache</strong> if you are sure some web interface is installed, but can&#039;t access to <a href="http://192.168.1.1">http://192.168.1.1</a>/<br />&nbsp; &nbsp; &nbsp; Browse to <a href="http://192.168.1.1">http://192.168.1.1</a>/ if LuCI, X-Wrt or Gargoyle web interface is installed.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Only for Gargoyle login with defaults user name: root password: password<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; After password has been setup login with user name: root password: previusly entered</p></blockquote></div><p>Use another browser if you don&#039;t know how.</p>											<p class="post-edited">(Last edited by <strong>Nilfred</strong> on 7 Feb 2011, 17:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127598">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Gumel</div>
					<div class="post-datetime">
						7 Feb 2011, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>Here I am))) <br />It was not as bad as I thought) the router is alive and works fine with the web interface, so only I do not understand anything else out there, but I think of you, and not only your help will deal. </p><p>Now the main problem to sort out lost web interface. <br />And how to get it back. <br />Do not think that I&#039;m noob, I just have to look into this area, and once everything works, then I&#039;ll understand)</p><p>About the different browsers.<br />I tried:<br />Windows 7 x64<br />- Opera 11.01<br />- Internet Explorer 8<br />- Google Chrome<br />Windows xp x86 on another computer<br />- Opera 11.01<br />- Internet Explorer 8</p><p>And everywhere I could see that the gargoyle ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127604">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						7 Feb 2011, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>The new web interface should look like <a href="http://www.gargoyle-router.com/wiki/doku.php?id=screenshots">this</a><br />If definitely no web interface you bricked it.<br />Try</p><div class="codebox"><pre><code>ssh root@192.168.1.1
root@192.168.1.1&#039;s password: password


BusyBox v1.15.3 (2010-12-28 13:19:20 EST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 Backfire (10.03, unknown) --------------------------
  * 1/3 shot Kahlua    In a shot glass, layer Kahlua 
  * 1/3 shot Bailey&#039;s  on the bottom, then Bailey&#039;s, 
  * 1/3 shot Vodka     then Vodka.
 ---------------------------------------------------
root@Gargoyle:~#</code></pre></div><p>Now you must read a lot about failsafe. Sorry.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127694">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Gumel</div>
					<div class="post-datetime">
						8 Feb 2011, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>I wrote a http, and it was necessary to write a https.</p><p>This is how I found the Web interface and configure your router)))</p><p>Must be corrected in the text <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd">http://wiki.openwrt.org/toh/tp-link/tl-wr741nd</a> http to https or write if you can not enter, try to write https.</p><p>thanks to all<br />topic can be closed</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127721">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						8 Feb 2011, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s still a browser caching redirection stuff...<br />Others web interfaces doesn&#039;t support https out-of-the-box, these already redirected URLs should work:<br />Gargoyle: <a href="http://192.168.1.1/login.sh">http://192.168.1.1/login.sh</a> or <a href="https://192.168.1.1/login.sh">https://192.168.1.1/login.sh</a><br />LuCI: <a href="http://192.168.1.1/index.html">http://192.168.1.1/index.html</a> -&gt; <a href="http://192.168.1.1/cgi-bin/luci">http://192.168.1.1/cgi-bin/luci</a><br />X-Wrt: <a href="http://192.168.1.1/index.html">http://192.168.1.1/index.html</a> -&gt; <a href="http://192.168.1.1/cgi-bin/webif/info.sh">http://192.168.1.1/cgi-bin/webif/info.sh</a><br />But can&#039;t test anymore...<br />Wiki edited asking newcomers to report here if those work without clear the cache.<br /><strong>Private browsing</strong> should temporary workaround too. This time not for watching any porn <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>Nilfred</strong> on 8 Feb 2011, 21:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p133145">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">sroppon</div>
					<div class="post-datetime">
						15 Apr 2011, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>I just installed Backfire 10.03.1rc4 with Luci to a fresh TL-WR741ND rev. 1.9 and everything went smoothly. I restored factory settings just in case, then uploaded the firmware with the usual firmware upgrade page following instructions in wiki. Then I went to kitchen for few minutes and when I came back there was the Luci login page waiting for me. I didn&#039;t have to click any links. I used Iceweasel browser.</p><p>Then later I noticed the batman-adv in 10.03.1rc4 is too old as I need v2011.0.0 so I had to install trunk from the wiki page. But the opkg repository link was wrong, pointing to backfire and I had to change it to trunk repository after which I could install batman-adv. But now when I&#039;m beginning to need drivers for USB WLAN stick I see I&#039;ll have to compile my own firmware anyway because there aren&#039;t any pre-compiled USB WLAN drivers available.</p><p>So there haven&#039;t been any real problems and my tests with B.A.T.M.A.N have worked well. Thanks very much for everyone who have been programming this great stuff!</p><p>-sami</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141759">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">janos666</div>
					<div class="post-datetime">
						20 Aug 2011, 19:28					</div>
				</div>
				<div class="post-content content">
					<p>Did anybody try to install OpenWRT (last trunk) on TL-WR741ND <strong>V3</strong> hardware?</p><p>I am in a little hurry to install two of them as either a WDS or as a simple Wireless Bridge (they will arrive on Monday and they should be installed on the Tuesday), so I don&#039;t wish to test it and spend uncertain amount of time with recovery if nobody succeeded yet...</p><p>(These units weren&#039;t in stock when I ordered them, so I wasn&#039;t sure about their revision until they called me that they received the new shipment. And it turned out to be V3...)</p>											<p class="post-edited">(Last edited by <strong>janos666</strong> on 20 Aug 2011, 19:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141785">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						21 Aug 2011, 05:15					</div>
				</div>
				<div class="post-content content">
					<p>Open it and take a good picture, like <a href="https://forum.openwrt.org/viewtopic.php?pid=140472#p140472">this thread</a>.<br />Locate and detail flash chip and RAM chip. Look around for another piece of RAM chip.<br />Is suspicious to have less RAM like 841 V8 do, but all still unconfirmed.</p>											<p class="post-edited">(Last edited by <strong>Nilfred</strong> on 21 Aug 2011, 05:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141795">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						21 Aug 2011, 10:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>janos666 wrote:</cite><blockquote><p>I am in a little hurry to install two of them as either a WDS or as a simple Wireless Bridge</p></blockquote></div><p>if that&#039;s all you need stock firmware shuld do the job <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141847">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">janos666</div>
					<div class="post-datetime">
						22 Aug 2011, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>Well, I opened the boxes and both devices are labeled as V2.1 on their sticker (despite the webshop&#039;s SKU).</p><p>I decided to install OpenWRT (trunk 2011.08.20) on them but the wiki instructions about partition reset in failsafe mode (confirmed as a required step for V2.1 after the very first flashing) let me down: the specified reboot command didn&#039;t work and there is no web interface after a power cycle.<br />I will keep trying...</p><p>By the way... Is there a default (LuCi?) web interface in the trunk images anyway (or those don&#039;t come with a web GUI by default)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141849">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						22 Aug 2011, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>@janos666: i dunno, but in case there is not,&nbsp; _&gt; <a href="http://wiki.openwrt.org/doc/howto/firstlogin">http://wiki.openwrt.org/doc/howto/firstlogin</a> </p><p>btw, you do not want to translate that page?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141863">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">janos666</div>
					<div class="post-datetime">
						22 Aug 2011, 13:46					</div>
				</div>
				<div class="post-content content">
					<p>I could run the package manager but it couldn&#039;t install LuCi because I am already out of free space.</p><p>I guess I will compile a basic firmware with ImageBuilder to start with.</p><br /><br /><p>Do you mean the &quot;howto/firstlogin&quot; page into Hungarian?</p>											<p class="post-edited">(Last edited by <strong>janos666</strong> on 22 Aug 2011, 13:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141867">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						22 Aug 2011, 14:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>janos666 wrote:</cite><blockquote><p>I could run the package manager but it couldn&#039;t install LuCi because I am already out of free space.</p><p>I guess I will compile a basic firmware with ImageBuilder to start with.</p></blockquote></div><p>The ImageGenerator (aka ImageBuilder) does not compile anything! That&#039;s why I dared to ruthlessly change it&#039;s name. Avoid the confusion. Today!</p><br /><p>Also note, that the wiki-page for the ImageGenerator is quite outdated. I&#039;m not saying its not good, I&#039;m saying I dunno.<br />This would be it:&nbsp; <a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.generate">http://wiki.openwrt.org/doc/howto/obtai … e.generate</a></p><br /><p>I would rather start with this: <a href="http://wiki.openwrt.org/about/toolchain">http://wiki.openwrt.org/about/toolchain</a> and do everything from scratch. This will not only compile, but also cross-compile stuff. Thus it will take some time (hours) and also space (3,5GiB).</p><div class="quotebox"><cite>janos666 wrote:</cite><blockquote><p>Do you mean the &quot;howto/firstlogin&quot; page into Hungarian?</p></blockquote></div><p>If you&#039;re really into it, you could rather translate this page:<br /><a href="http://wiki.openwrt.org/about/toolchain">http://wiki.openwrt.org/about/toolchain</a></p><p>Doesn&#039;t have to be accurate, just see that the result makes sense.</p><div class="quotebox"><cite>janos666 wrote:</cite><blockquote><p>into Hungarian?</p></blockquote></div><p>If you speak other languages, be my guest ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142541">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">lopen</div>
					<div class="post-datetime">
						30 Aug 2011, 17:21					</div>
				</div>
				<div class="post-content content">
					<p>Hello, I just got a WR741N V3.1(I&#039;m in China)?<br />The built-in rom is this ( Chinese version):<br /><a href="http://www.tp-link.com.cn/downloadfilesuploadfolder/201131094017.rar">http://www.tp-link.com.cn/downloadfiles … 094017.rar</a></p><p>I tried to flash this rom (WR741ND V3) via web:<br /><a href="http://www.tp-link.com/common/download/?resource=%2fresources%2fsoftware%2f201122315055512.zip">http://www.tp-link.com/common/download/ … 055512.zip</a></p><p>It can not be upgraded directly,&nbsp; must change it&#039;s version and md5 checksum:</p><p>00000000&nbsp; 01 00 00 00 54 50 2d 4c&nbsp; 49 4e 4b 20 54 65 63 68&nbsp; |....TP-LINK Tech|<br />00000010&nbsp; 6e 6f 6c 6f 67 69 65 73&nbsp; 00 00 00 00 76 65 72 2e&nbsp; |nologies....ver.|<br />00000020&nbsp; 20 31 2e 30 00 00 00 00&nbsp; 00 00 00 00 00 00 00 00&nbsp; | 1.0............|<br />00000030&nbsp; 00 00 00 00 00 00 00 00&nbsp; 00 00 00 00 00 00 00 00&nbsp; |................|<br />00000040&nbsp; 07 41 00 03 00 00 00 01&nbsp; 00 00 00 00 05 cd 8e 09&nbsp; |.A..............|</p><p>change 0x00000043 from 03 to 01</p><p>and use this to fix md5sum:<br /><a href="http://download.lark.net.cn/wr941n/hack/fixsum-0.2.tar.gz">http://download.lark.net.cn/wr941n/hack … 0.2.tar.gz</a></p><p>I modified the source:</p><p>diff -u sum.c.orig sum.c<br />--- sum.c.orig&nbsp; 2011-08-28 13:29:25.000000000 +0800<br />+++ sum.c&nbsp; &nbsp; &nbsp; &nbsp;2011-08-28 23:42:33.000000000 +0800<br />@@ -36,7 +36,7 @@<br /> #define FW_OFFSET_MD5SUM_2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x60&nbsp; &nbsp; /* 16 bytes */<br /> #define FW_OFFSET_USE_LOADER_KEY&nbsp; &nbsp; &nbsp; &nbsp;0x94&nbsp; &nbsp; /* when set, bootloader key is used */</p><p>-#define FW_FILENAME&nbsp; &nbsp; &quot;wr941n.bin&quot;<br />+#define FW_FILENAME&nbsp; &nbsp; &quot;rom.bin&quot;</p><p> char md5Key[16] = {<br />&nbsp; &nbsp; &nbsp; &nbsp; 0xdc, 0xd7, 0x3a, 0xa5, 0xc3, 0x95, 0x98, 0xfb,<br />@@ -166,13 +166,13 @@<br /> #endif</p><p> check_version:<br />-&nbsp; &nbsp; &nbsp; &nbsp;if (*(int *)(buff + FW_OFFSET_VERSION) != ntohl(0x09410002)) {<br />+&nbsp; &nbsp; &nbsp; &nbsp;if (*(int *)(buff + FW_OFFSET_VERSION) != ntohl(0x07410001)) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; errstr = &quot;Version not match&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</p><p> check_sig:<br />-&nbsp; &nbsp; &nbsp; &nbsp;if (*(int *)(buff + FW_OFFSET_SIG) != ntohl(0x2)) {<br />+&nbsp; &nbsp; &nbsp; &nbsp;if (*(int *)(buff + FW_OFFSET_SIG) != ntohl(0x1)) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; errstr = &quot;Signature not match&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</p><p># mv wr741nv3_en_3_12_7_up(101230).bin rom.bin<br /># fixsum</p><p>and flash rom.bin from web interface.</p><p>Ok, the WR741ND V3 rom runs really well.</p><p>Use the same method, I flashed the openwrt rom:<br /><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a></p><p>Just change the version to v3 and fix md5 checksum as described above.</p><p>Now it&#039;s running OpenWRT!</p><p>dmesg:</p><p>Linux version 2.6.39.4 (buildslave@dd.das-iro.de) (gcc version 4.5.4 20110808 (prerelease) (Linaro GCC 4.5-2011.08) ) #1 Mon Aug 22 10:18:45 CEST 2011<br />prom: fw_arg0=00000007, fw_arg1=a1f87fb0, fw_arg2=a1f88460, fw_arg3=00000004<br />MyLoader: sysp=ffffffff, boardp=ffffffff, parts=f0f0d0f0<br />bootconsole [early0] enabled<br />CPU revision is: 00019374 (MIPS 24Kc)<br />SoC: Atheros AR7240 rev 2<br />Clocks: CPU:350.000MHz, DDR:350.000MHz, AHB:175.000MHz, Ref:5.000MHz<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00002000<br />On node 0 totalpages: 8192<br />free_area_init_node: node 0, pgdat 802d1200, node_mem_map 81000000<br />&nbsp; Normal zone: 64 pages used for memmap<br />&nbsp; Normal zone: 0 pages reserved<br />&nbsp; Normal zone: 8128 pages, LIFO batch:0<br />pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />pcpu-alloc: [0] 0 <br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line:&nbsp; board=TL-WR741ND console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br />PID hash table entries: 128 (order: -3, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />Writing ErrCtl register=00000000<br />Readback ErrCtl register=00000000<br />Memory: 29268k/32768k available (2105k kernel code, 3500k reserved, 396k data, 180k init, 0k highmem)<br />SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />NR_IRQS:80<br />Calibrating delay loop... 232.24 BogoMIPS (lpj=1161216)<br />pid_max: default: 32768 minimum: 301<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />MIPS: machine is TP-LINK TL-WR741ND<br />registering PCI controller with io_map_base unset<br />bio: create slab &lt;bio-0&gt; at 0<br />pci 0000:00:00.0: [168c:ff1c] type 0 class 0x000200<br />pci 0000:00:00.0: fixup device configuration<br />pci 0000:00:00.0: reg 10: [mem 0x00000000-0x0000ffff 64bit]<br />pci 0000:00:00.0: supports D1<br />pci 0000:00:00.0: PME# supported from D0 D1 D3hot<br />pci 0000:00:00.0: PME# disabled<br />pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1000ffff 64bit]<br />pci 0000:00:00.0: BAR 0: set to [mem 0x10000000-0x1000ffff 64bit] (PCI address [0x10000000-0x1000ffff])<br />PCI: mapping irq 72 to pin1@0000:00:00.0<br />Switching to clocksource MIPS<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />UDP hash table entries: 256 (order: 0, 4096 bytes)<br />UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />NET: Registered protocol family 1<br />PCI: CLS 0 bytes, default 32<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />msgmni has been set to 57<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />console [ttyS0] enabled, bootconsole disabled<br />Atheros AR71xx SPI Controller driver version 0.2.4<br />m25p80 spi0.0: found s25sl032a, expected m25p80<br />m25p80 spi0.0: s25sl032a (4096 Kbytes)<br />spi0.0: searching for MyLoader partition table at offset 0x10000<br />spi0.0: searching for MyLoader partition table at offset 0x20000<br />spi0.0: searching for MyLoader partition table at offset 0x30000<br />spi0.0: searching for MyLoader partition table at offset 0x40000<br />spi0.0: no MyLoader partition table found<br />Searching for RedBoot partition table in spi0.0 at offset 0x3e0000<br />Searching for RedBoot partition table in spi0.0 at offset 0x3f0000<br />No RedBoot partition table detected in spi0.0<br />spi0.0: no WRT160NL signature found<br />Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />0x000000020000-0x000000160000 : &quot;kernel&quot;<br />0x000000160000-0x0000003f0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2D0000, len=120000 <br />0x0000002d0000-0x0000003f0000 : &quot;rootfs_data&quot;<br />0x0000003f0000-0x000000400000 : &quot;art&quot;<br />0x000000020000-0x0000003f0000 : &quot;firmware&quot;<br />ag71xx_mdio: probed<br />eth0: Atheros AG71xx at 0xba000000, irq 5<br />eth0: Found an AR7240 built-in switch<br />eth1: Atheros AG71xx at 0xb9000000, irq 4<br />eth1: connected to PHY at ag71xx-mdio:04 [uid=004dd041, driver=Generic PHY]<br />Atheros AR71xx hardware watchdog driver version 0.1.0<br />ar71xx-wdt: timeout=15 secs (max=24)<br />TCP westwood registered<br />NET: Registered protocol family 17<br />Bridge firewalling registered<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />Freeing unused kernel memory: 180k freed<br />input: gpio-keys-polled as /devices/platform/gpio-keys-polled/input/input0<br />Button Hotplug driver version 0.4.1<br />Registered led device: tl-wr741nd:green:system<br />Registered led device: tl-wr741nd:green:qss<br />JFFS2 notice: (374) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 15 of xref (0 dead, 2 orphan) found.<br />eth0: link down<br />device eth0 entered promiscuous mode<br />Compat-wireless backport release: compat-wireless-2011-08-09<br />Backport based on wireless-testing.git master-2011-08-10<br />cfg80211: Calling CRDA to update world regulatory domain<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />cfg80211: World regulatory domain updated:<br />cfg80211:&nbsp; &nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />PCI: Setting latency timer of device 0000:00:00.0 to 64<br />ath: EEPROM regdomain: 0x0<br />ath: EEPROM indicates default country code should be used<br />ath: doing EEPROM country-&gt;regdmn map search<br />ath: country maps to regdmn code: 0x3a<br />ath: Country alpha2 being used: US<br />ath: Regpair used: 0x3a<br />ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />Registered led device: ath9k-phy0<br />ieee80211 phy0: Atheros AR9285 Rev:2 mem=0xb0000000, irq=72<br />cfg80211: Calling CRDA for country: US<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />cfg80211: Regulatory domain changed to country: US<br />cfg80211:&nbsp; &nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)<br />eth0: link up (1000Mbps/Full duplex)<br />br-lan: port 1(eth0) entering forwarding state<br />br-lan: port 1(eth0) entering forwarding state<br />NET: Registered protocol family 24<br />ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />nf_conntrack version 0.5.0 (460 buckets, 1840 max)<br />ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver</p><p>And BTW, you can use mtd to flash back the WR741ND V3 rom.</p><p>Hope this help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150472">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">psptktn</div>
					<div class="post-datetime">
						6 Dec 2011, 16:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello. I just tried to install openwrt (openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin) to my new TP-LINK TL-MR3420. after the firmware upgrade, i cant accesS to router (192.168.1.1). when i try to connect to <a href="http://192.168.1.1">http://192.168.1.1</a>/ its says that web page is not available. ive also tried alternative links that are written on <a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420">http://wiki.openwrt.org/toh/tp-link/tl-mr3420</a><br />does anyone has any solution, how to fix this problem. i just want my router to be working again eventhough on official firmware, because now its useless.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150520">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						7 Dec 2011, 08:17					</div>
				</div>
				<div class="post-content content">
					<p>Keep reading (<a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420">RTFW</a>) until you realize WTF &quot;Web interface: None&quot; means.<br />Then proceed to the &quot;Search&quot; facility.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151620">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">kizwan</div>
					<div class="post-datetime">
						20 Dec 2011, 16:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>psptktn wrote:</cite><blockquote><p>Hello. I just tried to install openwrt (openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin) to my new TP-LINK TL-MR3420. after the firmware upgrade, i cant accesS to router (192.168.1.1). when i try to connect to <a href="http://192.168.1.1">http://192.168.1.1</a>/ its says that web page is not available. ive also tried alternative links that are written on <a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420">http://wiki.openwrt.org/toh/tp-link/tl-mr3420</a><br />does anyone has any solution, how to fix this problem. i just want my router to be working again eventhough on official firmware, because now its useless.</p></blockquote></div><p>If you use the &quot;Web Interface (None)&quot; package, basically this is what you get. You still need to configure Web GUI &amp; 3G module (if you&#039;re using 3G modem).</p><p>1. Telnet to router<br /></p><div class="codebox"><pre><code>telnet 192.168.1.1</code></pre></div><p>Set <em>root</em> password:-<br /></p><div class="codebox"><pre><code>passwd root</code></pre></div><p>2. Now you can connect to router using SSH (use Putty).<br />3. Install Web GUI. (<a href="http://wiki.openwrt.org/doc/howto/luci.essentials">http://wiki.openwrt.org/doc/howto/luci.essentials</a>)<br />4. Configure 3G function. (<a href="http://wiki.openwrt.org/doc/recipes/3gdongle">http://wiki.openwrt.org/doc/recipes/3gdongle</a>)</p><p>When you completed the Web GUI installation, you can open the Web interface (<a href="http://192.168.1.1">http://192.168.1.1</a>) &amp; flash the original firmware. After you have successfully flashed the original firmware, you need to clear your browser cache. If not, web browser will failed to open Web interface (<a href="http://192.168.1.1">http://192.168.1.1</a>).</p>											<p class="post-edited">(Last edited by <strong>kizwan</strong> on 20 Dec 2011, 16:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151923">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">sancho</div>
					<div class="post-datetime">
						24 Dec 2011, 01:40					</div>
				</div>
				<div class="post-content content">
					<p>Just installed Backfire 10.03.1, latest build, LuCI working out of the box. Thanks a lot <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p159159">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Yaroslav</div>
					<div class="post-datetime">
						29 Feb 2012, 23:32					</div>
				</div>
				<div class="post-content content">
					<p>Just installed the latest build (r30753). Works great, as far as I&#039;m concerned! Hardware: TP-LINK TL-MR3220, version 1.2.</p>											<p class="post-edited">(Last edited by <strong>Yaroslav</strong> on 29 Feb 2012, 23:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p160261">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">opampca</div>
					<div class="post-datetime">
						10 Mar 2012, 01:03					</div>
				</div>
				<div class="post-content content">
					<p>Just installed from trunk r30753 on a MR3220</p><p>I cannot get diversity to work....</p><div class="codebox"><pre><code>root@OpenWrt:~# cat /sys/kernel/debug/ieee80211/phy0/ath9k/modal_eeprom | grep -i ctl
 Ant. Diversity ctl1 :         11
 Ant. Diversity ctl2 :          6

root@OpenWrt:~# iw phy phy0 info | grep -i ant
        Available Antennas: TX 0x1 RX 0x3
        Configured Antennas: TX 0x1 RX 0x3</code></pre></div><p>Also seems the receive antenna is the internal, the transmit is the external....</p><p>I wanted to use this unit on a mesh network with a high gain antenna, for now it seems impossible.</p><p>Any idea ?<br />Richard</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=28499&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=28499&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>