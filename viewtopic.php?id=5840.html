<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear WGT634U with USB not working, can anyone help???</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p27756">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">kyukun</div>
					<div class="post-datetime">
						24 May 2006, 06:59					</div>
				</div>
				<div class="post-content content">
					<p>I flashed my Netgear WGT634U with Kamikaze 3587 and was able to get network working.<br />But I wasn&#039;t able to get USB up and running.<br />I have listed the dmesg and the list of installed package that&#039;s current install on the router.<br />Can someone help me figure out why it isn&#039;t working?<br />Thanks in advance.</p><p>root@OpenWrt:/# dmesg<br />Linux version 2.6.16.1 (root@HOME) (gcc version 3.4.6 (OpenWrt-2.0)) #1 Tue Apr<br />4 22:09:17 EDT 2006<br />CPU revision is: 00029007<br />early_nvram_init: WGT634U NVRAM found.<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />On node 0 totalpages: 8192<br />&nbsp; DMA zone: 8192 pages, LIFO batch:1<br />&nbsp; DMA32 zone: 0 pages, LIFO batch:0<br />&nbsp; Normal zone: 0 pages, LIFO batch:0<br />&nbsp; HighMem zone: 0 pages, LIFO batch:0<br />Built 1 zonelists<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/pre<br />init noinitrd console=ttyS0,115200<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Synthesized TLB refill handler (19 instructions).<br />Synthesized TLB load handler fastpath (31 instructions).<br />Synthesized TLB store handler fastpath (31 instructions).<br />Synthesized TLB modify handler fastpath (30 instructions).<br />PID hash table entries: 256 (order: 8, 4096 bytes)<br />Using 100.000 MHz high precision timer.<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Memory: 29652k/32768k available (2162k kernel code, 3100k reserved, 317k data, 1<br />24k init, 0k highmem)<br />Calibrating delay loop... 193.02 BogoMIPS (lpj=96512)<br />Mount-cache hash table entries: 512<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />NET: Registered protocol family 16<br />PCI: fixing up bridge<br />PCI: Setting latency timer of device 0000:01:00.0 to 64<br />PCI: Fixing up device 0000:01:00.0<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />devfs: 2004-01-31 Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.2. (NAND) (C) 2001-2003 Red Hat, Inc.<br />Initializing Cryptographic API<br />io scheduler noop registered<br />io scheduler anticipatory registered (default)<br />Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0x0 (irq = 3) is a 16550A<br />serial8250: ttyS1 at MMIO 0x0 (irq = 3) is a 16550A<br />b44.c:v0.97 (Nov 30, 2005)<br />PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)<br />PCI: Setting latency timer of device 0000:00:01.0 to 64<br />eth0: Broadcom 47xx 10/100BaseT Ethernet 00:09:5b:f8:17:07<br />Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank<br /> Intel/Sharp Extended Query Table at 0x0031<br />Using buffer write method<br />cfi_cmdset_0001: Erase suspend on write enabled<br />erase region 0: offset=0x0,size=0x20000,blocks=64<br />Flash device: 0x800000 at 0x1c000000<br />bootloader size flag: 3<br />Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00060000 : &quot;cfe&quot;<br />0x000a0000-0x007e0000 : &quot;linux&quot;<br />0x00160000-0x007e0000 : &quot;rootfs&quot;<br />0x00060000-0x00080000 : &quot;nvram&quot;<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 512 (order: -1, 2048 bytes)<br />TCP established hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 2048)<br />TCP reno registered<br />ip_conntrack version 2.4 (256 buckets, 2048 max) - 244 bytes per conntrack<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP vegas registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (jffs2 filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 124k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />Probing device eth0: found!<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />vlan0: Setting MAC address to&nbsp; 00 00 ba dc 0d ed.<br />device eth0 entered promiscuous mode<br />VLAN (vlan0):&nbsp; Setting underlying device (eth0) to promiscious mode.<br />vlan0: add 01:00:5e:00:00:01 mcast address to master interface<br />vlan0: dev_set_promiscuity(master, 1)<br />device vlan0 entered promiscuous mode<br />vlan0: dev_set_allmulti(master, 1)<br />vlan1: add 01:00:5e:00:00:01 mcast address to master interface<br />br0: port 1(vlan0) entering learning state<br />br0: topology change detected, propagating<br />br0: port 1(vlan0) entering forwarding state<br />nbd: registered device at major 43<br />usbcore: registered new driver usbfs<br />usbcore: registered new driver hub<br />ohci_hcd: 2005 April 22 USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver (PCI)<br />PCI: Enabling device 0000:00:03.0 (0000 -&gt; 0002)<br />PCI: Setting latency timer of device 0000:00:03.0 to 64<br />ohci_hcd 0000:00:03.0: OHCI Host Controller<br />ohci_hcd 0000:00:03.0: new USB bus registered, assigned bus number 1<br />ohci_hcd 0000:00:03.0: irq 6, io mem 0x18003000<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 2 ports detected<br />SCSI subsystem initialized<br />hub 1-0:1.0: Cannot enable port 1.&nbsp; Maybe the USB cable is bad?<br />Initializing USB Mass Storage driver...<br />hub 1-0:1.0: Cannot enable port 1.&nbsp; Maybe the USB cable is bad?<br />hub 1-0:1.0: Cannot enable port 1.&nbsp; Maybe the USB cable is bad?<br />hub 1-0:1.0: Cannot enable port 1.&nbsp; Maybe the USB cable is bad?<br />hub 1-0:1.0: Cannot enable port 2.&nbsp; Maybe the USB cable is bad?<br />hub 1-0:1.0: Cannot enable port 2.&nbsp; Maybe the USB cable is bad?<br />hub 1-0:1.0: Cannot enable port 2.&nbsp; Maybe the USB cable is bad?<br />hub 1-0:1.0: Cannot enable port 2.&nbsp; Maybe the USB cable is bad?<br />usb 1-1: new low speed USB device using ohci_hcd and address 10<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: new low speed USB device using ohci_hcd and address 11<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: new low speed USB device using ohci_hcd and address 12<br />usb 1-1: device not accepting address 12, error -145<br />usb 1-1: new low speed USB device using ohci_hcd and address 13<br />usb 1-1: device not accepting address 13, error -145<br />usb 1-2: new low speed USB device using ohci_hcd and address 14<br />usb 1-2: device descriptor read/64, error -145<br />usb 1-2: device descriptor read/64, error -145<br />usb 1-2: new low speed USB device using ohci_hcd and address 15<br />usb 1-2: device descriptor read/64, error -145<br />usb 1-2: device descriptor read/64, error -145<br />usb 1-2: new low speed USB device using ohci_hcd and address 16<br />usb 1-2: device not accepting address 16, error -145<br />usb 1-2: new low speed USB device using ohci_hcd and address 17<br />usb 1-2: device not accepting address 17, error -145<br />usbcore: registered new driver usb-storage<br />USB Mass Storage support registered.<br />USB Universal Host Controller Interface driver v2.3<br />root@OpenWrt:/#</p><br /><br /><p>root@OpenWrt:/# ipkg list_installed<br />base-files - 6 - OpenWrt filesystem structure and scripts<br />base-files-brcm-2.6 - 2 - Board/architecture specific files<br />bridge - 1.0.6-1 - Ethernet bridging tools<br />busybox - 1.1.1-1 - Core utilities for embedded Linux systems<br />dnsmasq - 2.27-1 - A lightweight DNS and DHCP server<br />dropbear - 0.48.1-1 - a small SSH 2 server/client designed for small memory envi<br />ronments.<br />fdisk - 2.12r-1 - Partition table manipulation utility<br />iptables - 1.3.5-1 - The netfilter firewalling software for IPv4<br />kernel - 2.6.16.1-brcm-1 -<br />kmod-fs-ext2 - 2.6.16.1-brcm-1 - Kernel modules for EXT2 filesystem support<br />kmod-fs-ext3 - 2.6.16.1-brcm-1 - Kernel modules for EXT3 filesystem support<br />kmod-fs-nfs - 2.6.16.1-brcm-1 - Kernel modules for NFS support<br />kmod-fs-vfat - 2.6.16.1-brcm-1 - Kernel modules for VFAT filesystem support<br />kmod-nbd - 2.6.16.1-brcm-1 - Kernel module for network block device<br />kmod-nls-base - 2.6.16.1-brcm-1 - Kernel modules for basic native language suppo<br />rt<br />kmod-nls-cp437 - 2.6.16.1-brcm-1 - Kernel module for codepage 437<br />kmod-nls-cp850 - 2.6.16.1-brcm-1 - Kernel module for codepage 850<br />kmod-nls-iso8859-1 - 2.6.16.1-brcm-1 - Kernel module for iso8859-1 charset suppo<br />rt<br />kmod-nls-iso8859-15 - 2.6.16.1-brcm-1 - Kernel module for iso8859-15 charset sup<br />port<br />kmod-nls-utf8 - 2.6.16.1-brcm-1 - Kernel module for utf8 support<br />kmod-ppp - 2.6.16.1-brcm-1 - PPP support<br />kmod-pppoe - 2.6.16.1-brcm-1 - PPP over Ethernet support<br />kmod-soundcore - 2.6.16.1-brcm-1 - Kernel support for audio soundcards<br />kmod-switch - 2.6.16.1-brcm-1 - switch driver for robo/admtek switch<br />kmod-usb-core - 2.6.16.1-brcm-1 - Kernel Support for USB<br />kmod-usb-ohci - 2.6.16.1-brcm-1 - Kernel driver for OHCI USB controllers<br />kmod-usb-storage - 2.6.16.1-brcm-1 - Kernel modules for USB storage support<br />kmod-usb-uhci - 2.6.16.1-brcm-1 - Kernel driver for UHCI USB controllers<br />kmod-usb2 - 2.6.16.1-brcm-1 - Kernel driver for USB2 controllers<br />libflac - 1.1.2-1 - Free Lossless Audio Codec library<br />libid3tag - 0.15.1b-1 - an ID3 tag manipulation library<br />libmad - 0.15.1b-1 - An high-quality MPEG audio decoding library<br />libncurses - 5.2-8 - a terminal handling library and common terminal definitions<br />libusb - 0.1.10a-1 - a Library for accessing Linux USB devices<br />libvorbisidec - 1.2.0-dave-1 - A fixed-point implementation (Tremor) of libogg/l<br />ibvorbis&quot;<br />lsusb - 0.71-1 - A program to list USB devices<br />mpd - 0.12.0-1 - A music player for flac, mp3 and ogg.<br />mtd - 4 - Tool for modifying the flash chip<br />nano - 1.3.8-1 - An enhanced clone of the Pico text editor<br />ppp - 2.4.3-7 - a PPP (Point-to-Point Protocol) daemon (with MPPE/MPPC support)<br />ppp-mod-pppoe - 2.4.3-7 - a PPPoE (PPP over Ethernet) plugin for PPP<br />samba - 2.0.10-2 - NetBIOS/SMB file and print server<br />samba-client - 2.0.10-2 - NetBIOS/SMB client<br />uclibc - 0.9.28-6 - Standard C library for embedded Linux systems<br />wireless-tools - 28.pre13-1 - Tools for setting up WiFi cards using the Wireless<br /> Extension<br />zlib - 1.2.3-3 - an implementation of the deflate compression method (library)<br />Done.<br />root@OpenWrt:/#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p27995">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">kyukun</div>
					<div class="post-datetime">
						28 May 2006, 04:18					</div>
				</div>
				<div class="post-content content">
					<p>So far I have no luck in making it work.</p><p>Can someone send me a copy of your working image? Or provide a link on details on how to build my own?</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28104">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">vincef</div>
					<div class="post-datetime">
						30 May 2006, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>I just posted something on this.</p><p>Use the 2.4 kernel.&nbsp; The 2.6 kernel&#039;s USB is broken.</p><p>Regards,</p><p>Vince</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28106">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">vincef</div>
					<div class="post-datetime">
						30 May 2006, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>Kyukun,</p><p>Also, what kind of device are you trying to use, and what are you doing to test it&nbsp; - &quot;it doesn&#039;t work&quot; isn&#039;t much information for us to go on.</p><p>As for docs on how to build your own image, start here: <a href="http://wiki.openwrt.org">http://wiki.openwrt.org</a>/</p><p>I hope you have some time on your hands - if you&#039;ve never done it before, it&#039;ll take a little while to figure out all the little details.&nbsp; Probably a few days.</p><p>WARNING - HAVE A SERIAL CONSOLE before trying your own image.</p><p>-Vince</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28126">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">kyukun</div>
					<div class="post-datetime">
						31 May 2006, 01:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vincef wrote:</cite><blockquote><p>Kyukun,</p><p>Also, what kind of device are you trying to use, and what are you doing to test it&nbsp; - &quot;it doesn&#039;t work&quot; isn&#039;t much information for us to go on.</p><p>As for docs on how to build your own image, start here: <a href="http://wiki.openwrt.org">http://wiki.openwrt.org</a>/</p><p>I hope you have some time on your hands - if you&#039;ve never done it before, it&#039;ll take a little while to figure out all the little details.&nbsp; Probably a few days.</p><p>WARNING - HAVE A SERIAL CONSOLE before trying your own image.</p><p>-Vince</p></blockquote></div><p>Thank you Vince.</p><p>I didn&#039;t know 2.6&#039;s usb is not working.&nbsp; Thank you for pointing that out.<br />I have tried removing all usb related packages and reinstall it, but it didn&#039;t work either.<br />Also I thought it might not support my usb drive so I tried a 1GB Sandisk Cruzer Mini, PNY Attache 1G,<br />and USB External Hard Drive.&nbsp; Turn out none of those works.</p><p>I read the wiki and posts by other users and found that some user made it work by installing additional packages that&#039;s not available from the ipkg installer.</p><p>So, that&#039;s why I ask if other user can let me have a copy of their working image or point me at the right direction at compiling my own image with the right package.</p><p>For the serial console cable, where do you buy the material to make one?<br />The one at Radioshack is kind of pricy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28144">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">vincef</div>
					<div class="post-datetime">
						31 May 2006, 06:03					</div>
				</div>
				<div class="post-content content">
					<p>I used the radio shack cable.&nbsp; It works nicely, and its easy, even if it is pricy.</p><p>Google around - there are several suggestions on how to make a serial console for the WRT54G, which should work just as well with the WGT; just note that the serial header is very different on the WGT.</p><p>You might be able to use a very similar cable (it&#039;s a Nokia phone data cable) that you can source from ebay.com for under $10; but for the extra $12, you can be sure that it&#039;ll work by getting the radio shack cable.</p><p>I thought it was a good value.</p><p>Is there some reason you need a 2.6 kernel?&nbsp; I found my app works just great with the 2.4 kernel.</p><p>Regards,</p><p>Vince</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28377">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">amellor</div>
					<div class="post-datetime">
						4 Jun 2006, 19:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vincef wrote:</cite><blockquote><p>I just posted something on this.</p><p>Use the 2.4 kernel.&nbsp; The 2.6 kernel&#039;s USB is broken.</p><p>Regards,</p><p>Vince</p></blockquote></div><p>vincef / anybody,</p><p>in what was is the 2.6 kernel&#039;s USB not working ? i ask because i am running a wgt634u with kamakazi &amp; 2.6 kernel. no my usb speeds are quite appaling but usb is working.</p><p>can you please clarify how usb is is broken in 2.6 ?</p><p>many thanks</p><p>adam</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28396">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">AVonGauss</div>
					<div class="post-datetime">
						4 Jun 2006, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>USB support on the WGT-634U with kernel 2.6 is definitely working, albeit in some cases you may need to create the device node by hand (i.e. /dev/usb/lp0).&nbsp; As for packages to support USB, since there is no offical build for the WGT-634U I guess that would depend on where you got your pre-built image from...&nbsp; <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>If you build from the Kamikaze trunk and use one of the later revisions, it should work fine on the WGT-634U.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28402">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">frank7d</div>
					<div class="post-datetime">
						5 Jun 2006, 02:09					</div>
				</div>
				<div class="post-content content">
					<p>just today I flashed a&nbsp; wgt634u with kamikaze r3893&nbsp; (compiled from svn a couple of days ago) &quot;Linux OpenWrt 2.6.16.7 #1 Thu May 25 18:01:14 CEST 2006 mips unknown&quot;<br />I can confirm that USB storage is working with a 128MB fat formatted usb-stick. I mean I could mount the disk and list the directory, I did not yet test more.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28462">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">rou</div>
					<div class="post-datetime">
						6 Jun 2006, 09:25					</div>
				</div>
				<div class="post-content content">
					<p>Yep I use it also with some USB wifi antennas and it&#039;s working perfectly ( didn&#039;t try usb-storage )<br />For the cable the best and most reusable I found was to take a USB - standard serial adapter ( to have a serial port on my laptop ) and to make a little serial level adapter ( for the voltage level ).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28466">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						6 Jun 2006, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>some of those serial adapters already have a level converter as part of their internals, so instead of using another converter, you can remove/bypass one..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28946">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">yarrumretep</div>
					<div class="post-datetime">
						15 Jun 2006, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>I am having similar USB problems with the Asus WL-500G Deluxe.&nbsp; I&#039;ve built the kamikaze head (3905) (after some flub-dubbing around) and flshed it to my Asus.&nbsp; All worked as expected except that when loading the usb modules, it doesn&#039;t seem to recognize the presence of the usb bus.&nbsp; &nbsp;/proc/bus/usb is empty as well.</p><p>I have to use 2.6 b/c the usb driver for the device I&#039;m wanting to use (PowerLinc USB x10 interface) is only available for 2.6.</p><p>I&#039;ve included my dmesg output below.</p><p>Anybody have any leads on how to figure out why the bus isn&#039;t being seen?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28947">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">yarrumretep</div>
					<div class="post-datetime">
						15 Jun 2006, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>Whoops - here&#039;s my dmesg output:</p><p>Linux version 2.6.16.7 (pete@localhost.localdomain) (gcc version 3.4.6 (OpenWrt-2.0)) #1 Sun Jun 11 10:33:56 EDT 2006<br />CPU revision is: 00029007<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />On node 0 totalpages: 8192<br />&nbsp; DMA zone: 8192 pages, LIFO batch:1<br />&nbsp; DMA32 zone: 0 pages, LIFO batch:0<br />&nbsp; Normal zone: 0 pages, LIFO batch:0<br />&nbsp; HighMem zone: 0 pages, LIFO batch:0<br />Built 1 zonelists<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Synthesized TLB refill handler (19 instructions).<br />Synthesized TLB load handler fastpath (31 instructions).<br />Synthesized TLB store handler fastpath (31 instructions).<br />Synthesized TLB modify handler fastpath (30 instructions).<br />PID hash table entries: 256 (order: 8, 4096 bytes)<br />Using 100.000 MHz high precision timer.<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Memory: 29912k/32768k available (1972k kernel code, 2840k reserved, 260k data, 120k init, 0k highmem)<br />Calibrating delay loop... 192.51 BogoMIPS (lpj=96256)<br />Mount-cache hash table entries: 512<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />NET: Registered protocol family 16<br />PCI: fixing up bridge<br />PCI: Setting latency timer of device 0000:01:00.0 to 64<br />PCI: Fixing up device 0000:01:00.0<br />PCI: Failed to allocate I/O resource #4:20@400 for 0000:01:02.0<br />PCI: Failed to allocate I/O resource #4:20@400 for 0000:01:02.1<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />devfs: 2004-01-31 Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.2. (NAND) (C) 2001-2003 Red Hat, Inc.<br />Initializing Cryptographic API<br />io scheduler noop registered<br />io scheduler anticipatory registered (default)<br />Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0x0 (irq = 3) is a 16550A<br />serial8250: ttyS1 at MMIO 0x0 (irq = 3) is a 16550A<br />b44.c:v0.97 (Nov 30, 2005)<br />PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)<br />PCI: Setting latency timer of device 0000:00:01.0 to 64<br />eth0: Broadcom 47xx 10/100BaseT Ethernet 00:13:d4:ad:66:0a<br />Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank<br />Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />Flash device: 0x400000 at 0x1c000000<br />bootloader size flag: 0<br />Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;cfe&quot;<br />0x00040000-0x003f0000 : &quot;linux&quot;<br />0x000f0000-0x003f0000 : &quot;rootfs&quot;<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 512 (order: -1, 2048 bytes)<br />TCP established hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 2048)<br />TCP reno registered<br />ip_conntrack version 2.4 (256 buckets, 2048 max) - 244 bytes per conntrack<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP vegas registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (jffs2 filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 120k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />Probing device eth0: found!<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />vlan0: add 01:00:5e:00:00:01 mcast address to master interface<br />vlan0: dev_set_promiscuity(master, 1)<br />device eth0 entered promiscuous mode<br />device vlan0 entered promiscuous mode<br />vlan0: dev_set_allmulti(master, 1)<br />br0: port 1(vlan0) entering learning state<br />br0: topology change detected, propagating<br />br0: port 1(vlan0) entering forwarding state<br />vlan1: add 01:00:5e:00:00:01 mcast address to master interface<br />usbcore: registered new driver usbfs<br />usbcore: registered new driver hub<br />SCSI subsystem initialized<br />Initializing USB Mass Storage driver...<br />usbcore: registered new driver usb-storage<br />USB Mass Storage support registered.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p28956">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						15 Jun 2006, 23:29					</div>
				</div>
				<div class="post-content content">
					<p>it seems like you never loaded any usb drivers:</p><p>insmod either ohci-hcd or uhci-hcd, whatever works, and ehci-hcd for usb 2.0.</p><p>I can confirm that 2.6.16.7 works perfectly on my WGT634U (FTDI USB-Serial Converter, USB 2.0 Printer, USB 2.0 Hub).</p><p>greetings, <br />andy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p29048">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">unverbraucht</div>
					<div class="post-datetime">
						17 Jun 2006, 21:00					</div>
				</div>
				<div class="post-content content">
					<p>I can confirm that UHCI on the Asus WL500g Premium seems to be broken, while EHCI works. I was pretty confused by the OHCI controller that sits on that board, too. Maybe an internal usb bus?</p><p>Here&#039;s the output from uhci loading:<br />USB Universal Host Controller Interface driver v3.0<br />PCI: Fixing up device 0000:01:03.0<br />uhci_hcd 0000:01:03.0: init 0000:01:03.0 fail, -16<br />uhci_hcd: probe of 0000:01:03.0 failed with error -16<br />PCI: Fixing up device 0000:01:03.1<br />uhci_hcd 0000:01:03.1: init 0000:01:03.1 fail, -16<br />uhci_hcd: probe of 0000:01:03.1 failed with error -16</p><p>Thats with r3962.</p>											<p class="post-edited">(Last edited by <strong>unverbraucht</strong> on 17 Jun 2006, 22:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p29054">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">achim71000</div>
					<div class="post-datetime">
						17 Jun 2006, 22:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>unverbraucht wrote:</cite><blockquote><p>I can confirm that UHCI on the Asus WL500g Premium seems to be broken, while EHCI works. I was pretty confused by the OHCI controller that sits on that board, too. Maybe an internal usb bus?</p><p>Here&#039;s the output from uhci loading:<br />USB Universal Host Controller Interface driver v3.0<br />PCI: Fixing up device 0000:01:03.0<br />uhci_hcd 0000:01:03.0: init 0000:01:03.0 fail, -16<br />uhci_hcd: probe of 0000:01:03.0 failed with error -16<br />PCI: Fixing up device 0000:01:03.1<br />uhci_hcd 0000:01:03.1: init 0000:01:03.1 fail, -16<br />uhci_hcd: probe of 0000:01:03.1 failed with error -16</p><p>Thats with r3962.</p></blockquote></div><p>Are you using 2.6.16.7 or the expermimental 2.6.17-rc6 i maild you?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p29127">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">unverbraucht</div>
					<div class="post-datetime">
						19 Jun 2006, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>Oops, that was with your experimental kernel Achim. I&#039;m compiling a freshly checked out 2.6 right now, and will post about results there. Sorry for the mix-up <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p29517">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">unverbraucht</div>
					<div class="post-datetime">
						26 Jun 2006, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, still completely broken unfortunately. Same error messages as above. According to the sources this is because it can&#039;t find correctly assigned IO ports. And lspci -v shows this on a brand new kamikaze:<br /></p><div class="codebox"><pre><code>01:03.0 USB Controller: VIA Technologies, Inc. VT82xxxxx UHCI USB 1.1 Controller (rev 61) (prog-if 00 [UHCI])
        Subsystem: VIA Technologies, Inc. VT82xxxxx UHCI USB 1.1 Controller
        Flags: medium devsel, IRQ 2
        I/O ports at &lt;ignored&gt; [disabled]
        Capabilities: [80] Power Management version 2</code></pre></div><p>So the ioports are disabled. I tried tinkering with setpci BASE_ADDRESS_0=100 but without success <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p29807">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">whbjr</div>
					<div class="post-datetime">
						2 Jul 2006, 01:24					</div>
				</div>
				<div class="post-content content">
					<p>My WGT634U is running Kamikaze 3587 (Linux OpenWrt 2.6.16.1 #1 Tue Apr 4 22:09:17 EDT 2006 mips unknown)<br />Wireless and USB work just fine, stability is not the greatest (it hangs on occasion - heavy use, or uptime greater than a week, or phase of the moon or something).</p><p>Any particular reason I should upgrade?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>