<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problems enabling https in luci</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p238586">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mperez</div>
					<div class="post-datetime">
						30 Jun 2014, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m trying to enable https on luci as it is explained in [1] and other links I have found in this forum, but I haven&#039;t been able to do. </p><p>I have installed uhttpd-mod-tls and luci-ssl (and some dependencies), this is my uhttpd conf</p><p>uci export uhttpd</p><div class="codebox"><pre><code>package uhttpd

config uhttpd &#039;main&#039;
    option home &#039;/www&#039;
    option rfc1918_filter &#039;1&#039;
    option max_requests &#039;3&#039;
    option cert &#039;/etc/uhttpd.crt&#039;
    option key &#039;/etc/uhttpd.key&#039;
    option cgi_prefix &#039;/cgi-bin&#039;
    option script_timeout &#039;60&#039;
    option network_timeout &#039;30&#039;
    option tcp_keepalive &#039;1&#039;
    list listen_http &#039;0.0.0.0:80&#039;
    list listen_https &#039;0.0.0.0:443&#039;

config cert &#039;px5g&#039;
    option days &#039;730&#039;
    option bits &#039;1024&#039;
    option country &#039;DE&#039;
    option state &#039;Berlin&#039;
    option location &#039;Berlin&#039;
    option commonname &#039;OpenWrt&#039;</code></pre></div><p>When I try to access <a href="https://192.168.1.1/cgi-bin/luci/,">https://192.168.1.1/cgi-bin/luci/,</a> I get the following error</p><p>SSL received a record that exceeded the maximum permissible length. (Error code: ssl_error_rx_record_too_long)</p><p>I can acces <a href="http://192.168.1.1/cgi-bin/luci/">http://192.168.1.1/cgi-bin/luci/</a> and curiously <a href="http://192.168.1.1:443/cgi-bin/luci/">http://192.168.1.1:443/cgi-bin/luci/</a> (a non https server in port 443).</p><p>I&#039;m using Attitude Adjustment</p><div class="codebox"><pre><code>root@UJInuvolguifi2Rd1-f500:~# cat /etc/openwrt_version 
12.09.1
root@UJInuvolguifi2Rd1-f500:~# cat /etc/openwrt_release 
DISTRIB_ID=&quot;OpenWrt&quot;
DISTRIB_RELEASE=&quot;Attitude Adjustment&quot;
DISTRIB_REVISION=&quot;r40757&quot;
DISTRIB_CODENAME=&quot;attitude_adjustment&quot;
DISTRIB_TARGET=&quot;ar71xx/generic&quot;
DISTRIB_DESCRIPTION=&quot;OpenWrt Attitude Adjustment 12.09.1&quot;</code></pre></div><p>Someone can help me?</p><p>Thanks in advance, MIGUEL</p><br /><p>[1]<a href="http://wiki.openwrt.org/doc/uci/uhttpd#https.enable.and.certificate.settings.and.creation">http://wiki.openwrt.org/doc/uci/uhttpd# â€¦ d.creation</a></p>											<p class="post-edited">(Last edited by <strong>mperez</strong> on 30 Jun 2014, 12:34)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>