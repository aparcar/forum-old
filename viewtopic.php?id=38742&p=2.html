<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> D-link DIR-505 support?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 2 Apr 2018 and 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 11</div><nav><ul><li><a href="viewtopic.php%3Fid=38742&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=38742&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=38742&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=38742&amp;p=11.html">11</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p192335">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">elecnix</div>
					<div class="post-datetime">
						18 Feb 2013, 00:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gibz wrote:</cite><blockquote><p>At this point, I&#039;m a bit stuck on how to flash the dir505 with openwrt. I can&#039;t do the serial port thing (i got a dongle specifically for this, and managed to burn/scrape the pads off, so that&#039;s totally out).</p></blockquote></div><p>Without access to the serial port, I wouldn&#039;t risk flashing with OpenWrt. Unless there&#039;s a way to boot OpenWrt without flashing (load to ram), which is normally done from the boot loader interface (serial port), there&#039;s too much risk of bricking.</p><p>Get a new one, practice your soldering. Use hot glue to keep the wire from pulling the pads. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192354">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						18 Feb 2013, 07:29					</div>
				</div>
				<div class="post-content content">
					<p>I used micro tweezer probes to hook up the contacts; better double isolate with tape the other side of pcb. It&#039;s unreliable, but if you don&#039;t move the whole it works <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192424">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">gibz</div>
					<div class="post-datetime">
						18 Feb 2013, 19:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>I used micro tweezer probes to hook up the contacts; better double isolate with tape the other side of pcb. It&#039;s unreliable, but if you don&#039;t move the whole it works <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>I was trying something similar with a binder clip that got me output but no input, hence the soldering fiasco.</p><p>Based on what danz posted, you tftp boot the openwrt image and then write to mtd7.<br />Based on this: <a href="http://wiki.openwrt.org/doc/techref/flash.layout">http://wiki.openwrt.org/doc/techref/flash.layout</a><br />mtd7 probably doesn&#039;t include u-boot. Which means that if I can get a copy of mtd and u-boot onto the 505 (horray usb!), I should be able to mtd write without the tftp boot.</p><p>Based on rAndy&#039;s dmesg (thanks for this)<br />[&nbsp; &nbsp; 3.040000] m25p80 spi0.0: found mx25l6405d, expected m25p80<br />[&nbsp; &nbsp; 3.040000] m25p80 spi0.0: mx25l6405d (8192 Kbytes)<br />[&nbsp; &nbsp; 3.050000] 8 cmdlinepart partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 3.050000] Creating 8 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 3.060000] 0x000000000000-0x000000010000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 3.070000] 0x000000010000-0x000000020000 : &quot;art&quot;<br />[&nbsp; &nbsp; 3.070000] 0x000000020000-0x000000030000 : &quot;mac&quot;<br />[&nbsp; &nbsp; 3.080000] 0x000000030000-0x000000040000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 3.080000] 0x000000040000-0x000000070000 : &quot;language&quot;<br />[&nbsp; &nbsp; 3.090000] 0x000000070000-0x000000150000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 3.090000] 0x000000150000-0x000000400000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 3.100000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[&nbsp; &nbsp; 3.100000] split_squashfs: no squashfs found in &quot;spi0.0&quot;<br />[&nbsp; &nbsp; 3.110000] 0x000000070000-0x000000400000 : &quot;firmware&quot;</p><p>it looks like mtd7 is probably &quot;firmware&quot;, which doesn&#039;t explicitly exist in stock. I think my logical equivalent is both uImage (= kernel) and rootfs.</p><p>I&#039;m going to have to get a copy of dmesg over to this thing tonight and see what else i can dig out of the stock kernel boot messages.</p><p>Also: the gpl package from d-link appears to also include a way to update the uboot partition, so I maaaaay look into seeing if I can put together an update that adds automatic tftp with a timeout and fallback to local boot. Long term, this is probably a better goal since it&#039;ll give me a debricking capability.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192429">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						18 Feb 2013, 20:41					</div>
				</div>
				<div class="post-content content">
					<p>@gibz</p><p>You don&#039;t need to update the uboot partition; i wouldn&#039;t anyway without jtag support, it&#039;s too risky.</p><p>The only todos now are:</p><p>* find a way to package a self compiled image with dlink header so that http flash via original firmware works</p><p>* my patch is outdated: actual kernel version in trunk is using devtree now, so either compile a specific older trunk version (see my previous posts) or create a devtree profile (don&#039;t know atm how many drivers are ported to devtree)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192448">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">gibz</div>
					<div class="post-datetime">
						19 Feb 2013, 02:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>You don&#039;t need to update the uboot partition; i wouldn&#039;t anyway without jtag support, it&#039;s too risky.</p></blockquote></div><p>I flashed it with the root image from gpl build - it is identical to the 1.03 firmware. This is where I got the idea to modify the rootfs to have telnet enabled (and how I&#039;m able to access it currently).</p><p>Based on that, I&#039;m reasonably confident that the other image that&#039;s generated is a uboot image. My only concern is that it looks like a very old version of u-boot (1.1.4), and it might be difficult/impossible to do the boot script the way I want to.<br /></p><div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>The only todos now are:</p><p>* find a way to package a self compiled image with dlink header so that http flash via original firmware works</p></blockquote></div><p>The d-link header seems to revolve around the &#039;imghdr&#039; binary that comes with the gpl tree, but doesn&#039;t appear to have source available. There&#039;s a similar copy on the stock rom, that un-does whatever the pc-side does, and flashes it. I suspect the settings that you pass in control where to write.</p><p>It works out to this for the stock rom:<br />./imghdr image/root_uImage image/DIR-505A1-image.bin 1048576 HORNET HORNET-PACKET-DIR505A1-3 DEF 1.00.12<br />and this for the uboot blob.<br />./imghdr image/tuboot.bin image/DIR-505A1-tuboot.bin 1048576 HORNET HORNET-PACKET-DIR505A1-1 DEF 1.00.12</p><p>Usage: imghdr &lt;src&gt; &lt;dest&gt; &lt;kernel size&gt; &lt;model:19&gt; &lt;signature:29&gt; &lt;fw_reg:3&gt; &lt;fw_ver:11&gt;<br />which loosely corresponds to:<br />kernel size = set in .config, converted to base-10 from base-16 0x100000 (=1048576)<br />model = (this is actually &#039;platform&#039;) set in .config, &#039;HORNET&#039;<br />signature = platform-devicetype-model-type = HORNET, PACKET, DIR505A1, 3 (= firmware) or 1 (= uboot).<br />fw_reg = always &#039;DEF&#039; (not sure what this does)<br />fw_ver = 1.00.12, which is firmware version + build.</p><p>As far as the image itself is concerned, it appears to be built with a squashfs compressed rootfs and lzma&#039;d vmlinux. I&#039;ll spend some time looking into the OpenWRT build process to see if I can just generate this layout and then run it through imghdr.<br /></p><div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>* my patch is outdated: actual kernel version in trunk is using devtree now, so either compile a specific older trunk version (see my previous posts) or create a devtree profile (don&#039;t know atm how many drivers are ported to devtree)</p></blockquote></div><p>Yeah, I manually applied it to 35181; I haven&#039;t updated in a while. I also haven&#039;t spent as much time looking through the Makefiles to figure out how similar the stock rom is to OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193334">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">yaraman</div>
					<div class="post-datetime">
						27 Feb 2013, 16:42					</div>
				</div>
				<div class="post-content content">
					<p>I am keen to install the OpenWrt firmware but the current method sounds a little too risky just now.</p><p>What are the chances that there will be a version that can be flashed from the existing BIOS any time soon? Happy to test and report back findings!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193603">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">junipurr</div>
					<div class="post-datetime">
						2 Mar 2013, 02:32					</div>
				</div>
				<div class="post-content content">
					<p>Based in UK, just got hold of a DIR-505 (P/N EIR505BEU....A1E) but yet to open up to access serial.&nbsp; Been tearing apart the stock firmware and interestingly the tftpd seems to allow the download of anything on the filesystem.&nbsp; It&#039;s therefore possible to backup all the mtd partitions by doing a get on /dev/mtdblock[0-6]&nbsp; &nbsp;(but writing appears to be blocked)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195091">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						16 Mar 2013, 15:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>Great news, got gpl pack from d-link, it includes u-boot src code!! \\o o//</p><p>Trying now to compile with net console activated, as serial console hookup with this device is a pain in the back...</p></blockquote></div><p>did it happen to get the net console activated in customized u-boot?<br />I added something into config.h file as following:</p><p>./platform/Atheros/AR9331/u-boot/DIR-505A1/u-boot/include/config.h<br />#define CONFIG_NETCONSOLE 1<br />#define CONFIG_SYS_CONSOLE_IS_IN_ENV 1</p><p>and found maybe the following file is the source code for net console:<br />./platform/Atheros/AR9331/u-boot/DIR-505A1/u-boot/tools/ncb.c</p>											<p class="post-edited">(Last edited by <strong>tangsoft</strong> on 5 Apr 2013, 11:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195552">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">lee181</div>
					<div class="post-datetime">
						21 Mar 2013, 03:51					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone! </p><p>My name is Michael and this is my first post in this forum after reading along for a while...</p><p>I&#039;m looking for a way to run a simple ftp-server on the DIR-505 to get access to files on an attached usb-drive.</p><p>And I really need it to be flashable throught the original firmware interface...</p><p>Does anyone have an idea how to do this?</p><p>Will I have to wait until there is a way of flashing OpenWRT without soldering?</p><p>@gibz: Do you see a way of activating a ftp-daemon in the stock firmware like you did it with telnet?</p><p>I&#039;ve already contacted D-Link support and asked them if there will be an ftp-server in further firmware versions, but they denied.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p195554">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">elecnix</div>
					<div class="post-datetime">
						21 Mar 2013, 04:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lee181 wrote:</cite><blockquote><p>Will I have to wait until there is a way of flashing OpenWRT without soldering?</p></blockquote></div><p>I felt like that one year ago. Then I took my courage and purchased a USB-Serial adapter and soldered 4 tiny pins on my TP-Link board. It took 10 minutes, and now I can un-brick most devices as a bonus.</p><p>Even if you do get an image that can be flashed through the original firmware, once you start playing with the network settings, you can block yourself access pretty easily.</p><p>Don&#039;t wait. Do it yourself <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197445">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">gagan97</div>
					<div class="post-datetime">
						6 Apr 2013, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>Newbie Question:<br />Sorry got lost in all the discussions going on here ,&nbsp; can anyone tell me do we have a custom firmware for DIR-505 now ?? and can we flash it through web-interface&nbsp; ?? Plus if we have an custom firmware what new features have you guys pushed into it ? </p><p>as i dont see DIR-505 in list of supported routers on openwrt site .. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>gagan97</strong> on 6 Apr 2013, 10:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197652">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">wsy2220</div>
					<div class="post-datetime">
						8 Apr 2013, 13:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gagan97 wrote:</cite><blockquote><p>Newbie Question:<br />Sorry got lost in all the discussions going on here ,&nbsp; can anyone tell me do we have a custom firmware for DIR-505 now ?? and can we flash it through web-interface&nbsp; ?? Plus if we have an custom firmware what new features have you guys pushed into it ? </p><p>as i dont see DIR-505 in list of supported routers on openwrt site .. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><br /><p>I have the same question:|</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198392">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">lee181</div>
					<div class="post-datetime">
						15 Apr 2013, 00:09					</div>
				</div>
				<div class="post-content content">
					<p>@elecnix: Thanks for that hint, but I don&#039;t have any idea about how to open the housing of the DIR-505 at all without destroying it.</p><p>@anyone else: Any news about flashing it via the web interface? Or at least a foolprof manual to open the housing and doing the rest via the serial cable?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198828">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">danz</div>
					<div class="post-datetime">
						18 Apr 2013, 20:19					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s not that hard to open the thing. </p><p>To open the unit, just remove the screw, pull the back cover off the shell, then pry the shell open.</p><p>Just stick a screwdriver in the hole at the bottom next to the ethernet port, and pry the two halves apart. </p><p>Then stick the screwdriver in on the other side in the topmost air vent and pry the top part of the shell apart.</p><p>Then just pull it open.</p><br /><br /><p>It&#039;s not that difficult.</p>											<p class="post-edited">(Last edited by <strong>danz</strong> on 18 Apr 2013, 20:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198833">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">danz</div>
					<div class="post-datetime">
						18 Apr 2013, 21:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>I used micro tweezer probes to hook up the contacts; better double isolate with tape the other side of pcb. It&#039;s unreliable, but if you don&#039;t move the whole it works <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><br /><p>What I did was take a couple strands of individual wires from a stranded ethernet cable wire. They&#039;re like fine wiskers. Then I soldered the individual strands to the rx and tx pads. I used small allegator clips to attach to the strands.</p><p>The advantage is that the strands of wire will break before the pads do, and they&#039;re ultra flexible, so it&#039;s much easier to work with.</p><p>Ultimately though, these pads are supposed to be used with pogo pins and a custom jig at the factory. You could make up a custom jig if you wanted, I&#039;ve considered that myself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198849">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">jeq</div>
					<div class="post-datetime">
						19 Apr 2013, 00:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danz wrote:</cite><blockquote><p>According to the gpl code from dlink I compiled, it looks like the header for the squashfs needs to be HORNET-PACKET-DIR505A1-3. That&#039;s different from the TP-Link device.</p><br /><p>-Dan N7NMD</p></blockquote></div><p>Hi Danz</p><p>Based on the above I assume you have v.A1 of the DIR-505 ?</p><p>A few weeks ago I wrote a generic set of instructions for creating a device Wiki so I&#039;m going to test those by creating a template Wiki page for the DIR-505. I will also create an entry in the TOH as well, completed to the best of my knowledge, but I just need to be sure the information is accurate.</p><p>As a short term measure there will be a link from the device Wiki page to this thread. Longer term the device Wiki could be updated as well by the various developers. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>(I wish my router had this much interest!)</p><p>jeq</p><p>EDIT: created the device wiki for DIR-505 in the &#039;supported&#039; section of the TOH using the Wiki template. However the template is not necessarily complete. Someone has edited it for their router instead of copying it. What&#039;s there now for DIR-505 *could* be used but the original template had more information within it.</p>											<p class="post-edited">(Last edited by <strong>jeq</strong> on 19 Apr 2013, 01:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198853">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">danz</div>
					<div class="post-datetime">
						19 Apr 2013, 01:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jeq wrote:</cite><blockquote><div class="quotebox"><cite>danz wrote:</cite><blockquote><p>According to the gpl code from dlink I compiled, it looks like the header for the squashfs needs to be HORNET-PACKET-DIR505A1-3. That&#039;s different from the TP-Link device.</p><br /><p>-Dan N7NMD</p></blockquote></div><p>Hi Danz</p><p>Based on the above I assume you have v.A1 of the DIR-505 ?</p><p>I wrote a set of instructions for creating a device Wiki so I&#039;m going to test these by creating a template Wiki page for the DIR-505. I will also create an entry in the TOH as well, all completed, but I just need to be sure the information is accurate.</p><p>As a short term measure there will be a link from the device Wiki page to this thread. Longer term the device Wiki could be updated as well by the various developers. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>(I wish my router had this much interest!)</p><p>jeq</p></blockquote></div><br /><p>I&#039;ve actually flashed over 200 of these so far, and there&#039;s another 30 next to me waiting. I&#039;ve been planning on working on the wiki page, whether or not the machine is actually flashable via the web interface thus far. If you want to put it together, I can update it with what I know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198854">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">jeq</div>
					<div class="post-datetime">
						19 Apr 2013, 01:21					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s great Danz. I just edited my last post which is worth a look.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198867">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">danz</div>
					<div class="post-datetime">
						19 Apr 2013, 03:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jeq wrote:</cite><blockquote><p>That&#039;s great Danz. I just edited my last post which is worth a look.</p></blockquote></div><p>The template is fine, actually. I just put in a bunch of information that I had for it, and cleaned it up.</p><p>I&#039;ll keep adding over the next few days.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199324">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						23 Apr 2013, 13:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danz wrote:</cite><blockquote><div class="quotebox"><cite>jeq wrote:</cite><blockquote><div class="quotebox"><cite>danz wrote:</cite><blockquote><p>According to the gpl code from dlink I compiled, it looks like the header for the squashfs needs to be HORNET-PACKET-DIR505A1-3. That&#039;s different from the TP-Link device.</p><br /><p>-Dan N7NMD</p></blockquote></div><p>Hi Danz</p><p>Based on the above I assume you have v.A1 of the DIR-505 ?</p><p>I wrote a set of instructions for creating a device Wiki so I&#039;m going to test these by creating a template Wiki page for the DIR-505. I will also create an entry in the TOH as well, all completed, but I just need to be sure the information is accurate.</p><p>As a short term measure there will be a link from the device Wiki page to this thread. Longer term the device Wiki could be updated as well by the various developers. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>(I wish my router had this much interest!)</p><p>jeq</p></blockquote></div><br /><p>I&#039;ve actually flashed over 200 of these so far, and there&#039;s another 30 next to me waiting. I&#039;ve been planning on working on the wiki page, whether or not the machine is actually flashable via the web interface thus far. If you want to put it together, I can update it with what I know.</p></blockquote></div><p>Can we have all the instructions to flash via the web interface?<br />I gave it up when I ruined the pins by my poor soldering skills.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199333">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">amime</div>
					<div class="post-datetime">
						23 Apr 2013, 13:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danz wrote:</cite><blockquote><div class="quotebox"><cite>jeq wrote:</cite><blockquote><div class="quotebox"><cite>danz wrote:</cite><blockquote><p>According to the gpl code from dlink I compiled, it looks like the header for the squashfs needs to be HORNET-PACKET-DIR505A1-3. That&#039;s different from the TP-Link device.</p><br /><p>-Dan N7NMD</p></blockquote></div><p>Hi Danz</p><p>Based on the above I assume you have v.A1 of the DIR-505 ?</p><p>I wrote a set of instructions for creating a device Wiki so I&#039;m going to test these by creating a template Wiki page for the DIR-505. I will also create an entry in the TOH as well, all completed, but I just need to be sure the information is accurate.</p><p>As a short term measure there will be a link from the device Wiki page to this thread. Longer term the device Wiki could be updated as well by the various developers. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>(I wish my router had this much interest!)</p><p>jeq</p></blockquote></div><br /><p>I&#039;ve actually flashed over 200 of these so far, and there&#039;s another 30 next to me waiting. I&#039;ve been planning on working on the wiki page, whether or not the machine is actually flashable via the web interface thus far. If you want to put it together, I can update it with what I know.</p></blockquote></div><p>I know few things about these technical stuff. Can you please tell me how can I install the OpenWrt into my router, because I saw this router is &quot;Supported&quot;, but I cannot understand what shall I do according this webpage <a href="http://wiki.openwrt.org/toh/d-link/dir-505.">http://wiki.openwrt.org/toh/d-link/dir-505.</a></p>											<p class="post-edited">(Last edited by <strong>amime</strong> on 23 Apr 2013, 13:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202006">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">danz</div>
					<div class="post-datetime">
						17 May 2013, 03:20					</div>
				</div>
				<div class="post-content content">
					<p>Okay, so I created a patch that applies to AA 12.09, and it allows the image to be uploaded from the web interface.</p><p>Let me clean it up, and I&#039;ll post a link to it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202011">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						17 May 2013, 04:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danz wrote:</cite><blockquote><p>Okay, so I created a patch that applies to AA 12.09, and it allows the image to be uploaded from the web interface.</p><p>Let me clean it up, and I&#039;ll post a link to it.</p></blockquote></div><p>super cool...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202355">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">danz</div>
					<div class="post-datetime">
						21 May 2013, 00:58					</div>
				</div>
				<div class="post-content content">
					<p>Okay here it is.<br /><a href="http://pastie.org/7936110">http://pastie.org/7936110</a></p><p>This is against AA 12.09, not trunk. Haven&#039;t tried it against trunk, haven&#039;t had time. If somebody would try it that would help.</p><p>So this is rAndy&#039;s orig patch, plus some changes that make it flashable from the web interface. rAndy i don&#039;t have your info so to put in that patch. PM me if you would plz, have question anwyas.</p><p>It&#039;s not quite a compete patch, sysupgrade still requires an -F to get it to upgrade, and i&#039;m sure there&#039;s other loose ends, but I just can&#039;t find documentation on it all.</p><p>So anyways, directions:</p><p>1) Check out the code (git is your friend)<br />2) patch -p0 &lt; patch.txt or somesuch.<br />3) make menuconfig, choose D-Link 505 profile, and anything else you want.<br />4) make, go get coffee or tea depending on your cultural affinity.<br />5) /bin/ar71xx will have the file openwrt-ar71xx-generic-dir-505-a1-squashfs-factory.bin</p><p>Then: plug the 505 in, set the switch to router/AP mode and connect ethernet to your computer.</p><p>Assign 192.168.0.100 to your computer, wait for bootup, then in a browser go to 192.168.0.1. You&#039;ll see the startup wizard (ugly orange/white screen), click on cancel to get to the main menu, then Maintenance, Firmware, Click on Browse, choose the .bin file from above, and upload. </p><p>Then don&#039;t touch the thing till it comes up, or you might brick it. If you reset your ip to 192.168.1.10, you should be able to login.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202372">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">tangsoft</div>
					<div class="post-datetime">
						21 May 2013, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>what version number of code shall I check out?</p><div class="quotebox"><cite>danz wrote:</cite><blockquote><p>Okay here it is.<br /><a href="http://pastie.org/7936110">http://pastie.org/7936110</a></p><p>This is against AA 12.09, not trunk. Haven&#039;t tried it against trunk, haven&#039;t had time. If somebody would try it that would help.</p><p>So this is rAndy&#039;s orig patch, plus some changes that make it flashable from the web interface. rAndy i don&#039;t have your info so to put in that patch. PM me if you would plz, have question anwyas.</p><p>It&#039;s not quite a compete patch, sysupgrade still requires an -F to get it to upgrade, and i&#039;m sure there&#039;s other loose ends, but I just can&#039;t find documentation on it all.</p><p>So anyways, directions:</p><p>1) Check out the code (git is your friend)<br />2) patch -p0 &lt; patch.txt or somesuch.<br />3) make menuconfig, choose D-Link 505 profile, and anything else you want.<br />4) make, go get coffee or tea depending on your cultural affinity.<br />5) /bin/ar71xx will have the file openwrt-ar71xx-generic-dir-505-a1-squashfs-factory.bin</p><p>Then: plug the 505 in, set the switch to router/AP mode and connect ethernet to your computer.</p><p>Assign 192.168.0.100 to your computer, wait for bootup, then in a browser go to 192.168.0.1. You&#039;ll see the startup wizard (ugly orange/white screen), click on cancel to get to the main menu, then Maintenance, Firmware, Click on Browse, choose the .bin file from above, and upload. </p><p>Then don&#039;t touch the thing till it comes up, or you might brick it. If you reset your ip to 192.168.1.10, you should be able to login.</p></blockquote></div>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 11</div><nav><ul><li><a href="viewtopic.php%3Fid=38742&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=38742&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=38742&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=38742&amp;p=11.html">11</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>