<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> firmware mod</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p45639">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">clicker</div>
					<div class="post-datetime">
						1 Apr 2007, 04:46					</div>
				</div>
				<div class="post-content content">
					<p>i moded openwrt default .trx firmware (inserted first few bits before HDR0 from original firm) for trendnet 410apb+ but it gives me --You cannot downgrade the firmware-- message now. if the version number would be changed, would it work then?</p><p>here&#039;s the stuff:</p><p>.K!¥Ç..HDR0. ..2...........Ø....ä...‹........¡VAl.i.þüÏ$qÒ¸L.·¹–ª¹¿¾8V³ YÖ*YÉ.?í®rè!¤=ô...&nbsp; &nbsp;&lt;-moded firmware<br />.K!¥Ç..HDR0.P..§.¬ ........èg.......‹..:.«A..piggy.ì|.t.W•æíª–Ô¶•¸ôc»c+q·Uj)®à´A.m¦JKN...&nbsp; &lt;-trendnet original/works</p><p>does it lead somewhere? is it possible to put the version info from original firm to moded one?<br />sorry for the question if it&#039;s stupid.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45937">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">JX</div>
					<div class="post-datetime">
						6 Apr 2007, 12:07					</div>
				</div>
				<div class="post-content content">
					<p>I used to try something like that with RC3.<br />I can&#039;t remember what i changed inside the firmware headers to make it work but you could try this:<br />open the webpage http:/&lt;ip of ap&gt;/Debug_command_page.asp</p><p>#enable bootwait</p><p>nvram set boot_wait=on</p><p>#disable firmware header checking</p><p>nvram set chk_fw_hdr=Disabled</p><p>#save changes</p><p>nvram commit</p><p>reboot the ap</p><p>try to upload via tftp the modded firmware.</p><p>there&#039;s a tutorial on the wiki page</p><p>if firmware header is disabled you should be able to upload the original openwrt trx image also.</p><p>please let me know if it worked.</p><p>as an alternative you could mangle the headers but it requires some documentation on<br />the trx firmware headers, but should work.<br />basically you should change bits that are used for firmware version checking.<br />be aware of CRC</p><p>Cheers,<br />Jx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p45940">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">clicker</div>
					<div class="post-datetime">
						6 Apr 2007, 14:06					</div>
				</div>
				<div class="post-content content">
					<p>thx for the info.</p><p>now, when i try to open Debug_command_page.asp i get the blank page!?</p><p>and yes, i know there should be changed bits that contain version info. maybe someone has header editing tools installed on linux machine and could maybe try to mod this firmware version bits? there&#039;s a tool out there. i red about it.</p><p>cheers</p>											<p class="post-edited">(Last edited by <strong>clicker</strong> on 6 Apr 2007, 14:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53870">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">JX</div>
					<div class="post-datetime">
						14 Aug 2007, 12:45					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m really sorry for misleading you there, the web link was for another hardware from linksys i think.<br />In my defense I can only say it was a long time ago when I used the TEW-410 hardware.<br />I&#039;ll get my hands on it in a few days and try to help you out.</p><p>In the mean time you can try <a href="https://developer.berlios.de/projects/firmwaremodkit/">https://developer.berlios.de/projects/firmwaremodkit/</a></p><p>With a serial console it would be a lot easier to change firmware on the AP. </p><p>Cheers,<br />Jx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53871">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						14 Aug 2007, 12:53					</div>
				</div>
				<div class="post-content content">
					<p>There&#039;s a version number as part of the trx image header; change it.</p><p>(trx util in the openwrt sources)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53878">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">clicker</div>
					<div class="post-datetime">
						14 Aug 2007, 14:29					</div>
				</div>
				<div class="post-content content">
					<p>it was a long time since i posted my first question and the thing is; i don&#039;t posses the hardware anymore.</p><p>BUT, i&#039;m willing to try this firmwaremodkit tool and if there will be luck we shoud have working firm maybe. soon.</p><br /><p>edit: mbm, which trx tool from sources?</p>											<p class="post-edited">(Last edited by <strong>clicker</strong> on 14 Aug 2007, 14:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53887">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">clicker</div>
					<div class="post-datetime">
						14 Aug 2007, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m able to create trx image file HEADER but i need to investigate a little bit more.</p><p>how can i determine how long is my trx image file? for ex. so it would bi in 0x5A0000 format?</p><p>cheers</p><p>edit: for now i managed to put this together. maybe it&#039;s working. can anyone test it?</p><p><a href="http://files-upload.com/files/434124/openwrt-brcm-2.4-squashfs_mod.trx">http://files-upload.com/files/434124/op … fs_mod.trx</a> &lt;-- mod 1<br /><a href="http://files-upload.com/files/434132/openwrt-brcm-2.4-squashfs_mod_1.trx">http://files-upload.com/files/434132/op … _mod_1.trx</a> &lt;-- mod 2</p><p>mod 1 &amp; mod 2 -- difference is only in few last bytes.</p>											<p class="post-edited">(Last edited by <strong>clicker</strong> on 14 Aug 2007, 17:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53947">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">JX</div>
					<div class="post-datetime">
						15 Aug 2007, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I managed to obtain an TEW-410APB+</p><p>here&#039;s what you got to do:</p><br /><p>reset to factory defaults</p><p>open <a href="http://192.168.1.250/fw-conf.asp">http://192.168.1.250/fw-conf.asp</a></p><p>select Disabled for &quot;DownGrade Header&quot; and &quot;Firmware Header&quot; and hit Apply</p><p>then you can upload a openwrt image via web-interface</p><p>It worked with openwrt-brcm-2.4-squashfs.trx / size 1.548.288 bytes</p><p>Cheers,</p><p>Jx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53956">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">clicker</div>
					<div class="post-datetime">
						15 Aug 2007, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m glad it happened.</p><p>best luck in further researches.</p><p>cheers.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>