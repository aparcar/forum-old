<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to enable ssh-agent to linksys router??</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p11629">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dipf</div>
					<div class="post-datetime">
						1 Sep 2005, 19:34					</div>
				</div>
				<div class="post-content content">
					<p>I want to use ssh-agent at my desktop to login into Linksys router. but it seems not to work.</p><p>I generate the key, then copy it to the linksys router&nbsp; .ssh/authorized_keys.<br />then run ssh-agent and ssh-add at my desktop<br />but it doesn&#039;t work...... everytime I have to input the password.</p><p>any advise? thanks a lot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11631">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						1 Sep 2005, 20:20					</div>
				</div>
				<div class="post-content content">
					<p>For logins using ssh keys permissions are very important to make it work. By default in WRT root&#039;s home directory is &quot;/tmp&quot;. What I did is create a directory called &quot;/root&quot; and changed root&#039;s home directory to this (edit the /etc/passwd file). Put your DSA and/or RSA keys in &quot;/root/.ssh/authorized_keys&quot; and &quot;chmod -R go= /root&quot; on the WRT. It should now work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11653">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dipf</div>
					<div class="post-datetime">
						2 Sep 2005, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>It works!! thanks so much. <br />but I found that the copy rate to /root is only 30 KB/s, but to /tmp, the speed is above 300 KB/s!<br />I am somehow confused.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11656">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">joseangel</div>
					<div class="post-datetime">
						2 Sep 2005, 13:12					</div>
				</div>
				<div class="post-content content">
					<p>/tmp is in RAM while / (so is /root) is in flash</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11658">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						2 Sep 2005, 15:14					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, for a couple of reasons you don&#039;t actually want to copy stuff to /root, copy it to /tmp. Unless of course you actually need it in /root, and need it to survive a reboot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11665">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dipf</div>
					<div class="post-datetime">
						2 Sep 2005, 21:09					</div>
				</div>
				<div class="post-content content">
					<p>see, <br />Thanks a lot for the helps!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13190">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mistay</div>
					<div class="post-datetime">
						3 Oct 2005, 19:41					</div>
				</div>
				<div class="post-content content">
					<p>thanx, worked for me with dsa keys and /tmp/.ssh/ directory</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13191">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						3 Oct 2005, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>There is also an howto at:</p><p>- <a href="http://wiki.openwrt.org/DropbearPublicKeyAuthenticationHowto">DropbearPublicKeyAuthenticationHowto</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16842">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nottledim</div>
					<div class="post-datetime">
						8 Dec 2005, 15:18					</div>
				</div>
				<div class="post-content content">
					<p>Another thing is to check ownership of /etc&nbsp; it must be root.&nbsp; On my system it had been set to uid = 1000 by, I think, installing the joe editor. Not sure why it wanted to do that.&nbsp; &nbsp;i.e chown root:root /etc</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16926">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">MrUmunhum</div>
					<div class="post-datetime">
						9 Dec 2005, 20:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>olli_04 wrote:</cite><blockquote><p>There is also an howto at:</p><p>- <a href="http://wiki.openwrt.org/DropbearPublicKeyAuthenticationHowto">DropbearPublicKeyAuthenticationHowto</a></p></blockquote></div><p>OK, new question.&nbsp; How can I get the wrt to scp out without suppling a password?&nbsp; I have a script<br />to collect system data that I want to scp to my web server.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16948">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						10 Dec 2005, 03:35					</div>
				</div>
				<div class="post-content content">
					<p>It seems like it should be easy enough:</p><p><a href="http://openzaurus.org/wordpress/howto/passwordless-ssh/">http://openzaurus.org/wordpress/howto/passwordless-ssh/</a></p><p>I was not successful in getting it to work though. I guess it must be broken in RC3. I do this all the time between Linux/UNIX servers but not from my WRT for some reason.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18761">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">TcT</div>
					<div class="post-datetime">
						12 Jan 2006, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I&#039;m using RC4 and was previously RC2 and the authorized_keys thing worked fine for 2 users on the wrt but since my upgrade I didn&#039;t managed to get it work neither for root (with an extra /root home dir) or another user on the router.</p><p>I tried all the chmod suggested in this thread and other howtos but with no luck.<br />I&#039;m normally connecting using PuTTy from windows machines but also tried ssh from another windows machine.</p><p>Does anybody have an idea what I might do wrong. Maybe some general dropbear configuration?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18762">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						12 Jan 2006, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>The authorized_keys file is now stored in /etc/dropbear. And first of all you have to set a password with passwd to activate Dropbear&#039;s SSH server.</p><p>See the <a href="http://wiki.openwrt.org/DropbearPublicKeyAuthenticationHowto">DropbearPublicKeyAuthenticationHowto</a> Wiki page.</p>											<p class="post-edited">(Last edited by <strong>olli</strong> on 12 Jan 2006, 17:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18764">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">TcT</div>
					<div class="post-datetime">
						12 Jan 2006, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>Works perfectly again. After all it was that easy <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Seems like I always overread the part that authorized_keys now goes to /etc/dropbear</p><p>Thank you for the quick and helpful response</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>