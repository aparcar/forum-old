<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with asterisk-1.6.x on OpenWRT SVN (Marvel Kirkwood)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p111772">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						23 Jun 2010, 05:10					</div>
				</div>
				<div class="post-content content">
					<p>I have my local OpenWRT SVN (r21883) source configured with <strong>Marvel Kirkwood</strong> as the Target System for my Seagate DockStar device. The configurations use the default binutils-2.19.1 and uClibc-0.9.30.1. The compilation process runs just fine to produce an OpenWRT firmware + asterisk-1.6.x and my Seagate DockStar device has no problem to boot the OpenWRT OS off an external USB partition. However, it is the asterisk-1.6.x that is having a problem trying to register my trunk to its respective SIP server. For instance, I have configured my asterisk-1.6.x with an account from <a href="http://gizmo5.com">Gizmo5</a>. the <strong>asterisk*CLI&gt;</strong> <em>sip show registry</em> returns the following state of registration:<br /></p><div class="codebox"><pre><code>asterisk*CLI&gt; sip show registry
Host                           dnsmgr Username       Refresh State                Reg.Time                 
proxy01.sipphone.com:5060      N      17471234567       1800 Request Sent                                  
1 SIP registrations.
asterisk*CLI&gt; sip show peers
Name/username              Host            Dyn Nat ACL Port     Status     
1000                       (Unspecified)    D          5060     UNKNOWN    
SPP1234567/17471234567     (Unspecified)        N      5060     UNKNOWN    
2 sip peers [Monitored: 0 online, 2 offline Unmonitored: 0 online, 0 offline]
DockStar*CLI&gt;</code></pre></div><p>I wonder if anyone has encountered such a problem with asterisk-1.6.x on a Marvel Kirkwood platform.</p><p>BTW, I also have another OpenWRT SVN (r21883) with asterisk-1.6.x on a Netgear WGT634U and asterisk has no problem to register my SIP lines.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111795">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						23 Jun 2010, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>When I enabled debug on /etc/asterisk/logger.conf file, asterisk CLI shows a serious network trouble with error for pkt data as shown below:<br /></p><div class="codebox"><pre><code>DockStar*CLI&gt; logger reload
  == Parsing &#039;/etc/asterisk/logger.conf&#039;:   == Found
 Asterisk Event Logger restarted
[2010-06-23 12:48:54] NOTICE[1804]: chan_sip.c:11569 sip_reg_timeout:    -- Registration for &#039;17471234567@proxy01.sipphone.com&#039; timed out, trying again (Attempt #4)
[2010-06-23 12:48:54] ERROR[1804]: chan_sip.c:3920 __sip_reliable_xmit: Serious Network Trouble; __sip_xmit returns error for pkt data
[2010-06-23 12:49:04] ERROR[1804]: chan_sip.c:3920 __sip_reliable_xmit: Serious Network Trouble; __sip_xmit returns error for pkt data
[2010-06-23 12:49:14] NOTICE[1804]: chan_sip.c:11569 sip_reg_timeout:    -- Registration for &#039;17471234567@proxy01.sipphone.com&#039; timed out, trying again (Attempt #5)
[2010-06-23 12:49:14] ERROR[1804]: chan_sip.c:3920 __sip_reliable_xmit: Serious Network Trouble; __sip_xmit returns error for pkt data
DockStar*CLI&gt;</code></pre></div><p>I honestly don&#039;t know why asterisk-1.6.x encountered such a problem while other application, i.e. <a href="http://elinks.cz">ELinks</a> (a full-featured text WWW browser), has no problem to access most WEB sites, i.e. Yahoo, Google, etc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116824">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">qingz</div>
					<div class="post-datetime">
						10 Sep 2010, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>My DockStar with <a href="http://www.cs.cmu.edu/~ecc/dockstar-howto.html">ecc&#039;s</a> openwrt image runs asterisk 1.4 without any problem. Didn&#039;t try 1.6 though.</p>											<p class="post-edited">(Last edited by <strong>qingz</strong> on 12 Sep 2010, 23:28)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>