<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-WR741ND v5.0 Barrier Breaker 14.07 howto</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p286681">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">esben</div>
					<div class="post-datetime">
						7 Aug 2015, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Try this on your OWN RISK!!! I won&#039;t be responsible for ruined equipment!</p><p>This guide supposes that you have fresh v5.0 device with original firmware, and that you know how to flash Openwrt. If not so please read following link before proceeding: <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#oem_easy_installation">http://wiki.openwrt.org/toh/tp-link/tl- … stallation</a></p><p>1st&nbsp; - download wr741nd-v5-squashfs-factory.bin snapshot from trunk: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v5-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a></p><p>2nd - Upload and flash squashfs-factory.bin over original TP-LINK (WARNING: note that snapshot doesn&#039;t include Luci by default so you have to telnet to device)</p><p>3rd - download Barrier Breaker 14.07 wr741-v4-squashfs-sysupgrade.bin from: <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin">https://downloads.openwrt.org/barrier_b … pgrade.bin</a></p><p>4th - SCP to device (if on Windows use Winscp) and upload downloaded wr741nd-v4-squashfs-sysupgrade.bin to &quot;/tmp&quot;</p><p>5th - telnet to device (suggest you to read: <a href="http://wiki.openwrt.org/doc/howto/generic.sysupgrade">http://wiki.openwrt.org/doc/howto/generic.sysupgrade</a> before proceeding)</p><p>6th - enter command in console &quot;sysupgrade -n -v -F /tmp/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin&quot;<br />(this will force flash to skip hardware check)</p><p>Wait for process to finish (watch for blinking leds), and after cca. 2 min you can telnet or browse to your router (as now it has Luci installed).<br />Theoretically using this method you can also install Attitude Adjustment 12.09 (watch to use wr741nd-v4-squashfs-sysupgrade.bin), but I only tested device with Barrier Breaker 14.07.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p298611">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nycko</div>
					<div class="post-datetime">
						4 Nov 2015, 12:52					</div>
				</div>
				<div class="post-content content">
					<p>Excellent for me. Tested on wr740n-v5.</p><p>Thanks you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306759">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">adrian46p</div>
					<div class="post-datetime">
						8 Jan 2016, 18:50					</div>
				</div>
				<div class="post-content content">
					<p>Any experiences with flashing V5.1?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306780">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ahadcox</div>
					<div class="post-datetime">
						8 Jan 2016, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>i just install epenwrt on my wr740n v5.1</p><p>172.16.193.250<br />255.255.255.248<br />172.16.193.249<br />101.2.166.26<br />8.8.8.8<br />this ip i got from my isp</p><p>please help me how i configure my router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306845">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						9 Jan 2016, 15:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ahadcox wrote:</cite><blockquote><p>i just install epenwrt on my wr740n v5</p></blockquote></div><p>Please don&#039;t do double posts, I will answer you on the first one <br />This is off topic, if you are in a urgency and can&#039;t wait, in the mean flash back to stock, you need a Bin without boot download from here, <a href="http://www.friedzombie.com/tplink-stripped-firmware/">http://www.friedzombie.com/tplink-stripped-firmware/</a> make sure you download the right file model and version, from LuCi Sysrem/back up firmware upload it<br />At the bottom Flash new firmware image and uncheck keep serttings<br />Once back to TL upgrade FW to a new one from TL web.</p>											<p class="post-edited">(Last edited by <strong>danymarc</strong> on 9 Jan 2016, 15:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309912">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">DoTheEvo</div>
					<div class="post-datetime">
						1 Feb 2016, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>If I were to go for this guide with TP-WR741ND V5 (on the back 5.1 in the firmware stat page 5.0)<br />I would be using chaos calmer V4 I assume, since its newer than Barrier Breaker and at the time of OP writing this, it was not an option... but now it is...</p><p>Also what is the reason to do it this way?<br />uploading that sysupgrade image, its mentioned that it skips hardware check.. is that all?</p><p>I am considering just sticking with trunk build since it seems to be working, and configuring it through cli only<br />luci I cant install, it says &quot;No space left on device&quot; so I am looking around</p><p><strong>/EDIT</strong></p><p>Yeap, all went well, I followed first posts guide but used Chaos Calmer 15.05 and not barrier Breaker.<br />Now I have luci, and all seems to be working well</p>											<p class="post-edited">(Last edited by <strong>DoTheEvo</strong> on 2 Feb 2016, 00:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311990">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ngladov3</div>
					<div class="post-datetime">
						18 Feb 2016, 16:46					</div>
				</div>
				<div class="post-content content">
					<p>741 nd v5.0 working thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316918">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">cognitiaclaeves</div>
					<div class="post-datetime">
						27 Mar 2016, 05:35					</div>
				</div>
				<div class="post-content content">
					<p>*** Update: 6/5/2016</p><p>Have been having frequent disconnection/wireless dropping issues.</p><p>Noticed today that the version reported in overview page is:<br />TP-Link TL-WR741N/ND v4</p><p>.. However, the version printed on the box is 5.1 .</p><p>Also noticed that I reported installing what looks like a v4 squashfs.</p><p>root@OpenWrt:~# cat /proc/cpuinfo<br />system type&nbsp; &nbsp; &nbsp; &nbsp; : Atheros AR9330 rev 1<br />machine&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : TP-LINK TL-WR741ND v4</p><p>It looks like the version reported is V4, not V5?</p><p>Not sure what I was referring to in this post when I said the web interface reported 5.0 ... Maybe I meant the original factory firmware</p><p>I think the disconnects are due to using incorrect firmware, so I&#039;m looking into 5.0 firmware.</p><p>***</p><p>Followed the guide above, but used <a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/openwrt-15.05.1-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin">https://downloads.openwrt.org/chaos_cal … pgrade.bin</a></p><p>Worked like a charm.</p><p>I&#039;m impressed at how easy the setup was:</p><p>Went from out-of-the-box ( just ordered 3 days ago ) TP-WR741ND 5.1 ( on the unit ) / 5.0&nbsp; ( on the web interface ), navigated to the firmware update page and updated with openwrt-ar71xx-generic-tl-wr741nd-v5-squashfs-factory.bin.</p><p>Waited for the reboot to finish, then pinged for 192.168.1.1 instead of 192.168.0.1. SSHed in as root@192.168.1.1 and scp&#039;ed the -sysupgrade.bin image above to /tmp. Then issued the command to update the firmware while bypassing the hardware check. Waited for it to reboot again, and then found I was unable to SSH in anymore.</p><p>Hit the web interface and found it asking to change my password. Still was unable to SSH in, so I change my password under administration. Then I think I was able to SSH in after doing that.</p><p>Then I tried to get wireless working through luci, and made a real mess out of everything. ( Something about the interface wasn&#039;t immediately intuitive to me -- I think it was not being able to &#039;see&#039; what eth0 and eth1 were supposed to be ... )&nbsp; Anyway, figured that I could do a factory reset by holding down the reset switch, which worked as expected.</p><p>Afterward, was able to get all the settings exactly like I want them, with a separate guest network, and everything. ( <a href="https://wiki.openwrt.org/doc/recipes/guest-wlan-webinterface">https://wiki.openwrt.org/doc/recipes/gu … binterface</a> )</p><p>*** Update: See top of this post ...</p>											<p class="post-edited">(Last edited by <strong>cognitiaclaeves</strong> on 6 Jun 2016, 07:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327360">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">cognitiaclaeves</div>
					<div class="post-datetime">
						6 Jun 2016, 06:51					</div>
				</div>
				<div class="post-content content">
					<p>Upgrading to V5&nbsp; via sysupgrade was easy enough. But then it left me without an interface ( not to mention on the&nbsp; bleeding edge ), and apparently there isn&#039;t enough room in the router to install Luci.</p><p>( I may have one of the cheaper Chinese models, with only 2M of flash. )</p><p>... This was how I found out that it&#039;s quite easy to fill up all available space on the router ... an unpleasant situation that you might want to avoid, if at all possible. Fortunately, I was able to flash over it with sysupgrade again, even though I had triggered the &#039;no space left on the device&#039; error. </p><p>According to the supported hardware table ( <a href="https://wiki.openwrt.org/toh/start?dataflt%5BModel*~%5D=741nd">https://wiki.openwrt.org/toh/start?data … ~%5D=741nd</a> ), v5 is supposed to be supported by r46238 ( this is seen by clicking on the device page, <a href="https://wiki.openwrt.org/toh/tp-link/tl-wr741nd">https://wiki.openwrt.org/toh/tp-link/tl-wr741nd</a> ), and while there is a note at the bottom of the page saying that actual revs will vary more than what&#039;s updated in the wiki, what I actually got when I installed it was: Bleeding Edge, r49377 . That&#039;s quite a difference in revs!</p><p>And after installing it, I was still having connection issues. This time with my Nexus 5x.&nbsp; Switching it to always use the 2.4GHz band ( instead of automatic ) seemed to make the connection stable. ... But now I have a router that isn&#039;t stable on 5GHz.</p><p>This post ( that I&#039;m replying to ) advocates installing a V4 image while ignoring the hardware check ... and it might do that because the hardware itself for &quot;V5.1&quot; reports as &quot;TP-LINK TL-WR741ND v4&quot; ( at least it does when querying /proc/cpuinfo.)</p><p>If you&#039;re really persistent, you might find this thread: <a href="https://forum.openwrt.org/viewtopic.php?id=47382">https://forum.openwrt.org/viewtopic.php?id=47382</a> for installing Chaos Calmer on your 741ND .. spoiler, as of 5/8/2016, it&#039;s EOL.</p><p>( I ended up installing this one, and it appeared to work well, until I noticed that we were having issues with wireless dropping out all the time ... )</p><p>Bottom line, 741ND is nowhere in on this page:</p><p><a href="https://wiki.openwrt.org/toh/views/toh_supported_15.05?dataflt%5BModel*~%5D=741nd">https://wiki.openwrt.org/toh/views/toh_ … ~%5D=741nd</a></p><p>I might stick with r49377 for a while ( provided that there are no other issues than not being able to use 5GHz, and that I don&#039;t decide that I really want the 5GHz option ) ...&nbsp; at least until I can make the time to flash-back to the manufacturer&#039;s firmware.</p><p>If it were me, and I would have read this, I might have stayed with the manufacturer&#039;s firmware. ( Or at least have been more prepared to accept the consequences if I decided to install OpenWRT anyway! )</p><p>It would really be nice if a release for a UI was made for v5 of the WR741ND soon. </p><p>Oh, and this page: <a href="https://wiki.openwrt.org/doc/uci/wireless">https://wiki.openwrt.org/doc/uci/wireless</a> ... was really hard to follow. If you find yourself having to configure wireless via ssh, skip that page, and check out this video instead:&nbsp; <a href="https://youtu.be/U0Gk9TnMrFQ">https://youtu.be/U0Gk9TnMrFQ</a></p><p>In this video, he essentially uses these commands:<br />vi /etc/config/wireless<br />wifi down &amp;&amp; sleep 4 &amp;&amp; wifi up</p><p>.. which was much easier than trying to make sense of the wireless page.</p>											<p class="post-edited">(Last edited by <strong>cognitiaclaeves</strong> on 6 Jun 2016, 07:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p327434">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						6 Jun 2016, 21:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cognitiaclaeves wrote:</cite><blockquote><p>I might stick with r49377 for a while ( provided that there are no other issues than not being able to use 5GHz, and that I don&#039;t decide that I really want the 5GHz option</p></blockquote></div><p>I dont understand this one 741 does not support 5GHz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338518">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">cognitiaclaeves</div>
					<div class="post-datetime">
						18 Sep 2016, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>Well that was quite a basic thing for me to miss ... </p><p>I&#039;m back at this, still having issues with wireless.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363241">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">z-j</div>
					<div class="post-datetime">
						6 Aug 2017, 12:35					</div>
				</div>
				<div class="post-content content">
					<p>Dear all.</p><p>I went throw steps 1 - 4 but now I cannot telnet to device:<br />a. open 192.168.1.1 23 - cannot connect<br />b. open 192.168.1.1 22 - I receive message like this:<br />------------------------------------------------------------------------------------------------------<br />SSH-2.0-dropbear_2016.74<br />☺¶<br />&nbsp; ¶═&#039;Ě°GńvŚű×~(^(F░mcurve25519-sha256@libssh.org,diffie-hellman-group14-sha1,dif<br />fie-hellman-group1-sha1,kexguess2@matt.ucc.asn.aussh-rsa§aes128-ctr,aes256-ctr§a<br />es128-ctr,aes256-ctr↕hmac-sha1,hmac-md5↕hmac-sha1,hmac-md5♦none♦noneĄ=╣l@Ę&lt;|Z<br />-----------------------------------------------------------------------------------------------------------------------<br />What I&#039;m doing wrong?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>