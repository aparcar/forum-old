<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> firewall or firewall3?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p203501">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mk13139</div>
					<div class="post-datetime">
						2 Jun 2013, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>I need some clarification on the firewall3 package.</p><p>Right now I&#039;m on the AA branche and I noticed recently that the firewall3 package was added to AA (listed in network -&gt; firewall3).<br />Is this a replacement for the &#039;normal&#039; firewall v2 (listed in base system -&gt; firewall)? Or should it be installed ontop of firewall?</p><p>In the AA buildroot I can include firewall3 package, but I cannot exclude the normal firewall package from configuration.<br />In the BB buildroot firewall3 is included by default and I cannot exclude it. The normal firewall is optional and can be excluded.</p><p>Also, how about the luci-firewall package? Is this only for normal firewall?</p>											<p class="post-edited">(Last edited by <strong>mk13139</strong> on 2 Jun 2013, 12:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203506">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">phuque99</div>
					<div class="post-datetime">
						2 Jun 2013, 16:15					</div>
				</div>
				<div class="post-content content">
					<p>Looks like it&#039;s a replacement if you install firewall3. The new features are clearly labelled in wiki: <a href="http://wiki.openwrt.org/doc/uci/firewall.">http://wiki.openwrt.org/doc/uci/firewall.</a> But you can&#039;t view or edit them in Luci unless you use the trunk build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203508">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						2 Jun 2013, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d use the firewall3 package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203509">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mk13139</div>
					<div class="post-datetime">
						2 Jun 2013, 16:57					</div>
				</div>
				<div class="post-content content">
					<p>Okay, so I cannot add firewall rules via LuCi on AA if I use firewall3?</p><p>Does firewall3 takeover current settings in firewall v2 if I upgrade?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203512">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">phuque99</div>
					<div class="post-datetime">
						2 Jun 2013, 17:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mk13139 wrote:</cite><blockquote><p>Okay, so I cannot add firewall rules via LuCi on AA if I use firewall3?</p><p>Does firewall3 takeover current settings in firewall v2 if I upgrade?</p><p>Thanks!</p></blockquote></div><p>I&#039;m testing it out now. Seems like not all new options are supported by Luci 0.11. Hand edit is probably the best.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203516">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mk13139</div>
					<div class="post-datetime">
						2 Jun 2013, 18:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>phuque99 wrote:</cite><blockquote><div class="quotebox"><cite>mk13139 wrote:</cite><blockquote><p>Okay, so I cannot add firewall rules via LuCi on AA if I use firewall3?</p><p>Does firewall3 takeover current settings in firewall v2 if I upgrade?</p><p>Thanks!</p></blockquote></div><p>I&#039;m testing it out now. Seems like not all new options are supported by Luci 0.11. Hand edit is probably the best.</p></blockquote></div><p>Thank you for testing it out.</p><p>I think I&#039;ll stay on firewall v2 until a new LuCi comes out for AA.</p><p>On BB buildroot, I assume I can let firewall v2 (base system -&gt; firewall) out of the configuration? I can continue building with firewall3 only, whilst having the option to edit firewall settings via luci-app-firewall package?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203518">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">phuque99</div>
					<div class="post-datetime">
						2 Jun 2013, 18:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mk13139 wrote:</cite><blockquote><p>On BB buildroot, I assume I can let firewall v2 (base system -&gt; firewall) out of the configuration? I can continue building with firewall3 only, whilst having the option to edit firewall settings via luci-app-firewall package?</p></blockquote></div><p>I don&#039;t know enough to comment on that. You can probably try, run make defconfig and if dependencies pull it back in.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203532">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mk13139</div>
					<div class="post-datetime">
						2 Jun 2013, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>It turns out the firewall v2 package gets included anyway, despite having it checked off in the configuration.</p><p>I guess firewall v2 is a dependency of firewall3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203535">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						2 Jun 2013, 21:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mk13139 wrote:</cite><blockquote><p>It turns out the firewall v2 package gets included anyway, despite having it checked off in the configuration.</p><p>I guess firewall v2 is a dependency of firewall3?</p></blockquote></div><p>No. You should be able to build without the old firewall v2.</p><p>I checked with &quot;make menuconfig&quot; search, and it looks like old firewall has been marked as a dependency for &quot;meshwizard&quot; package in BB. Do you have meshwizard in your config?</p><p>EDIT: I wrote a bug ticket about it: <a href="https://dev.openwrt.org/ticket/13634">https://dev.openwrt.org/ticket/13634</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 2 Jun 2013, 22:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203548">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mk13139</div>
					<div class="post-datetime">
						3 Jun 2013, 03:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>mk13139 wrote:</cite><blockquote><p>It turns out the firewall v2 package gets included anyway, despite having it checked off in the configuration.</p><p>I guess firewall v2 is a dependency of firewall3?</p></blockquote></div><p>No. You should be able to build without the old firewall v2.</p><p>I checked with &quot;make menuconfig&quot; search, and it looks like old firewall has been marked as a dependency for &quot;meshwizard&quot; package in BB. Do you have meshwizard in your config?</p><p>EDIT: I wrote a bug ticket about it: <a href="https://dev.openwrt.org/ticket/13634">https://dev.openwrt.org/ticket/13634</a></p></blockquote></div><p>No, i do not have meshwizard in my config..</p><p>How can I check dependencies myself?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203569">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						3 Jun 2013, 08:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mk13139 wrote:</cite><blockquote><p>How can I check dependencies myself?</p></blockquote></div><p>Either by checking a module&#039;s Makefile, or by going to &quot;make menuconfig&quot; and checking the module there. (you can also use slash &quot;/&quot; to start a search. E.g. press slash and enter firewall to the search box, and you will see the modules related to firewall.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>