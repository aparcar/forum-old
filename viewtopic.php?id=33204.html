<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to share Internet connection to my TP LINK?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p149731">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">konfigure</div>
					<div class="post-datetime">
						28 Nov 2011, 12:37					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have a TP LINK MR 3420, and a laptop.</p><p>My laptop is 192.168.1.2 and my TP LINK IP is 192.168.1.1</p><p>My laptop has internet access from a modem, and I want to share it to my TP LINK, so TP LINK can install packages online.</p><p>I got confused with the manual, here&#039;s what I&#039;ve done</p><p>I already set my TP LINK /etc/config/network</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp;option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option &#039;gateway&#039; &#039;192.168.1.2&#039;</p><p>the gateway is my laptop&#039;s IP, but It still cant even ping google.com from my TP LINK<br />what else should I do to make my TP LINK get my internet connection from my laptop?<br />please help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174972">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">exgenui</div>
					<div class="post-datetime">
						15 Aug 2012, 20:08					</div>
				</div>
				<div class="post-content content">
					<p>bump !.. </p><p>I have same question.. Need this to update repo when there is no internet connection and installing 3G modem package.</p><p>thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183004">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mp-swift</div>
					<div class="post-datetime">
						12 Nov 2012, 05:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi have you found the ways on how to make to connect to your computer internet?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183176">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						13 Nov 2012, 22:09					</div>
				</div>
				<div class="post-content content">
					<p>The problem is to access OpenWrt through the WAN port.</p><p>So, first, after all that, you must edit /etc/config/firewall and change the WAN zone rule INPUT from REJECT to ACCEPT:</p><p>config zone<br />&nbsp; &nbsp; &nbsp; &nbsp; option name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option input&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: red">ACCEPT</span><br />&nbsp; &nbsp; &nbsp; &nbsp; option output&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ACCEPT<br />&nbsp; &nbsp; &nbsp; &nbsp; option forward&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; REJECT<br />&nbsp; &nbsp; &nbsp; &nbsp; option masq&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option mtu_fix&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1</p><p>Now do:<br />/etc/init.d/firewall restart</p><p>Connect the router&#039;s WAN port to the computer&#039;s LAN port.<br />In windows, go into your modem&#039;s connection settings, set it to share the internet with the LAN interface.<br />You may search for Windows ICS (Internet Connection Sharing).</p><p>After that you can access your router through the wan port , with the computer.<br />But you will have to figure out what IP address Windows gave to openwrt...<br />That is found fast by looking at the IP of the LAN interface. Then you know the range.<br />Now you could try the next IP, or use an IP scanner and set a search for hosts from xxx.xxx.xxx.1 to xxx.xxx.xxx.254. <br />The three first IP numbers (<strong>xxx.xxx.xxx</strong>.NNN) are the same as your LAN IP.</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 13 Nov 2012, 22:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183258">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						14 Nov 2012, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>Or set a static ip and gw (your pc) also on wan interface...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>