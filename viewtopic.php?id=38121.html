<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WR741ND Need advices : I want to add a usb port</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p172511">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Lock_Smith</div>
					<div class="post-datetime">
						17 Jul 2012, 14:52					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody,<br />As explained in the wiki it is possible to add a usb port to this router : <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#usb.host">http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#usb.host</a><br />My problem is that I&#039;m a student in electronic (and computer science/linux as well of course) and I would appreciate a lot if somebody could give me some advices (escpecially about the &quot;theory part&quot;).</p><p>Of course I know that the risk is HIGH to just make the router burn but I don&#039;t use it anymore, it worth 20â‚¬ and I have a nice project needing a usb port. The router is already flashed with OpenWrt. <strong>The exact reference of my WR741ND is 2.3</strong></p><p>Up to know I found a &quot;trick&quot; to get access to the pin 73 and 74 without a soldering iron (!) : I used two thin nidles that I glued with hot glue. I decided to try this because my soldering iron is not precise enough...<br />The end of the nidles are in contact with the pin of the cpu.<br />Now it seems that the contacts are ok, I used my multimeter to check for contacts and here are my conclusions:<br />-No link between the two nidles <br />-Both of the nidles are &quot;linked&quot; with their pins&nbsp; <br />-Only the pins 73 and 74 are linked <br />-Of course the router is still working perfectly<br />So what ? I guess I did the biggest part of the work but know I have to add the usb port itself and the next step is : &quot;You need to provide two 15k pulldowns on every line&quot; <br />My problem is that I don&#039;t know where I can find the ground on the board, is the negative (-) pin of the power plug [it&#039;s&nbsp; 9v DC] a ground ??</p><p><a href="http://imageshack.us/photo/my-images/855/sam0974wk.jpg/"><span class="postimg"><img src="http://img855.imageshack.us/img855/4017/sam0974wk.jpg" alt="http://img855.imageshack.us/img855/4017/sam0974wk.jpg" /></span></a></p><p><a href="http://imageshack.us/photo/my-images/42/sam0977h.jpg/"><span class="postimg"><img src="http://img42.imageshack.us/img42/8886/sam0977h.jpg" alt="http://img42.imageshack.us/img42/8886/sam0977h.jpg" /></span></a></p><p>Here you have the power plug, I don&#039;t know if I can use this as ground (I&#039;m really a noob) :<br /><a href="http://imageshack.us/photo/my-images/833/sam0982r.jpg/"><span class="postimg"><img src="http://img833.imageshack.us/img833/6118/sam0982r.jpg" alt="http://img833.imageshack.us/img833/6118/sam0982r.jpg" /></span></a></p><p><a href="http://imageshack.us/photo/my-images/406/sam0983v.jpg/"><span class="postimg"><img src="http://img406.imageshack.us/img406/3802/sam0983v.jpg" alt="http://img406.imageshack.us/img406/3802/sam0983v.jpg" /></span></a><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Dirty, huh ?</p><p><a href="http://imageshack.us/photo/my-images/88/sam0987.jpg/"><span class="postimg"><img src="http://img88.imageshack.us/img88/4172/sam0987.jpg" alt="http://img88.imageshack.us/img88/4172/sam0987.jpg" /></span></a></p><p>Uploaded with <a href="http://imageshack.us">ImageShack.us</a></p><br /><p>Thank you for reading:)</p>											<p class="post-edited">(Last edited by <strong>Lock_Smith</strong> on 17 Jul 2012, 16:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172555">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						17 Jul 2012, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Looks to me that they soldered the resistors to the wifi shield, so they are even mounted stable this way. Why did you remove your wifi shield?!?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172560">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Lock_Smith</div>
					<div class="post-datetime">
						17 Jul 2012, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t see what you mean about these resistor but I know that I didn&#039;t change anything else so the wifi shield is still on the board (and there is only 1 board).<br />But I remember that I read on this forum, on a thread concerning the same router, that somebody thought the same !</p><br /><p>I have another question : Do I have to rebuild a kernel ? I mean are the instructions still up to date ? I&#039;m asking because I see that the command dmesg return : </p><p>Linux version 2.6.32.27 (jow@nd-build-02.linux-appliance.net) (gcc version 4.3.3 (GCC) ) #5 Wed Dec 21 01:59:33 CET 2011<br />prom: fw_arg0=00000007, fw_arg1=a1f87fb0, fw_arg2=a1f88460, fw_arg3=00000004<br />MyLoader: sysp=ffffffff, boardp=ffffffff, parts=f0f0f0f0<br />bootconsole [early0] enabled<br />CPU revision is: 00019374 (MIPS 24Kc)<br />Atheros AR7240 rev 2, CPU:350.000 MHz, AHB:175.000 MHz, DDR:350.000 MHz<br />[....]<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />NET: Registered protocol family 24<br /><strong>ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver</strong><br />nf_conntrack version 0.5.0 (459 buckets, 1836 max)<br />CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use<br />nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or<br />sysctl net.netfilter.nf_conntrack_acct=1 to enable it.<br /><strong>ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver</strong><br />ar71xx-wdt: enabling watchdog timer</p>											<p class="post-edited">(Last edited by <strong>Lock_Smith</strong> on 17 Jul 2012, 22:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172617">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						18 Jul 2012, 12:23					</div>
				</div>
				<div class="post-content content">
					<p>If you look at the picture in the wiki, you will see the wifi shield. On your picture it is missing. So, if you did not remove it, TP-Link probably droped it to cut some more cost. Anyway, the visible copper rectangular outline around the wifi chip is gnd, so you can use that.<br />About the firmware: just give it a try and see if it detects your usb devices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172881">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Andreit</div>
					<div class="post-datetime">
						21 Jul 2012, 04:10					</div>
				</div>
				<div class="post-content content">
					<p>For god sake what is that ???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172973">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Jul 2012, 21:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MBS wrote:</cite><blockquote><p>If you look at the picture in the wiki, you will see the wifi shield. On your picture it is missing. So, if you did not remove it, TP-Link probably droped it to cut some more cost.</p></blockquote></div><p>Yes but the one with the shield is a V1.x, if you look at the V2.x picture in wiki the wifi chip shielding is gone too ^^</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174498">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tornadox</div>
					<div class="post-datetime">
						10 Aug 2012, 00:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Lock_Smith wrote:</cite><blockquote><p>I don&#039;t see what you mean about these resistor but I know that I didn&#039;t change anything else so the wifi shield is still on the board (and there is only 1 board).<br />But I remember that I read on this forum, on a thread concerning the same router, that somebody thought the same !</p></blockquote></div><p>I have tried to use trunk and no succes. It does not see usb drive. You jhave to rebuild the Kernel</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>