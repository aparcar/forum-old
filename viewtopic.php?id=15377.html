<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can&#039;t boot from CF on RB532A (2.6.23.16)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p67158">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">apnicsolutions</div>
					<div class="post-datetime">
						20 Apr 2008, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>Press any key within 2 seconds to enter setup..<br />Booting CF<br />Loading kernel... done<br />setting up elf image... OK<br />jumping to kernel code<br />Linux version 2.6.23.16 (root@adam) (gcc version 4.1.2) #13 Sun Apr 20 13:23:37 BST 2008<br />CPU revision is: 0001800a<br />Determined physical RAM map:<br /> memory: 03fffa00 @ 00000400 (usable)<br />Wasting 32 bytes for tracking 1 unused pages<br />Initrd not found or empty - disabling initrd<br />Built 1 zonelists in Zone order.&nbsp; Total pages: 16256<br />Kernel command line: root=/dev/cfa2 console=ttyS0,115200 gpio=8191 kmac=00:0C:42:0A:6A:7A board=500 boot=1<br />korina mac = 00:0C:42:0A:6A:7A<br />Primary instruction cache 8kB, physically tagged, 4-way, linesize 16 bytes.<br />Primary data cache 8kB, 4-way, linesize 16 bytes.</p><p>Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Initializing IRQ&#039;s: 168 out of 256<br />PID hash table entries: 256 (order: 8, 1024 bytes)<br />calculating r4koff... 001e846c(1999980)<br />CPU frequency 400.00 MHz<br />Using 199.998 MHz high precision timer.<br />console [ttyS0] enabled<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Memory: 60736k/65528k available (2501k kernel code, 4736k reserved, 387k data, 136k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />PCI: Initializing PCI<br />registering PCI controller with io_map_base unset<br />SCSI subsystem initialized<br />NET: Registered protocol family 2<br />Time: MIPS clocksource has been installed.<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 2048 (order: 2, 16384 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 2048)<br />TCP reno registered<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; Â© 2001-2006 Red Hat, Inc.<br />yaffs Apr 20 2008 04:08:04 Installing.<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0x0 (irq = 104) is a 16550A<br />cf-mips module loaded<br />cf-mips: resetting..<br />cf-mips: identify drive..</p><p>cf-mips: do_trans without DRQ (status 0x80)!<br />cf-mips: cf identify failed<br />Trying to free already-free IRQ 149<br />rb500-cf: probe of rb500-cf.0 failed with error 1<br />Using NAPI with weight 64<br />eth0: Rx IRQ 40, Tx IRQ 41, 00:0c:42:0a:6a:7a<br />via-rhine.c:v1.10-LK1.4.3 2007-03-06 Written by Donald Becker<br />PCI: Enabling device 0000:00:02.0 (0080 -&gt; 0083)<br />io_map_base of root PCI bus 0000:00 unset.&nbsp; Trying to continue but you better<br />fix this issue or report it to linux-mips@linux-mips.org or your vendor.<br />eth1: VIA Rhine III at 0xb8800000, 00:0c:42:0a:6a:7b, IRQ 142.<br />eth1: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.<br />PCI: Enabling device 0000:00:03.0 (0080 -&gt; 0083)<br />eth2: VIA Rhine III at 0xb8800100, 00:0c:42:0a:6a:7c, IRQ 143.<br />eth2: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.<br />Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2<br />ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx<br />block2mtd: version $Revision: 1.30 $<br />NAND device: Manufacturer ID: 0xad, Chip ID: 0xf1 (Hynix NAND 128MiB 3,3V 8-bit)Scanning device for bad blocks<br />Bad eraseblock 620 at 0x04d80000<br />Creating 2 MTD partitions on &quot;NAND 128MiB 3,3V 8-bit&quot;:<br />0x00000000-0x00400000 : &quot;Routerboard NAND boot&quot;<br />0x00400000-0x08000000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />split_squashfs: no squashfs found in &quot;NAND 128MiB 3,3V 8-bit&quot;<br />input: gpio-keys as /devices/platform/gpio-keys/input/input0<br />rc32434_wdt: Watchdog Timer version 0.1, timer margin: 15 sec<br />Registered led device: rb500led:amber<br />nf_conntrack version 0.5.0 (1024 buckets, 4096 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP vegas registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Cannot open root device &quot;cfa2&quot; or unknown-block(0,0)<br />Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />1f00&nbsp; &nbsp; &nbsp; &nbsp;4096 mtdblock0 (driver?)<br />1f01&nbsp; &nbsp; &nbsp;126976 mtdblock1 (driver?)<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p><br /><p>This is when booting from CF, my guess is that the kernel doesn&#039;t recognise the CF hardware/card. I have tried with two different manufacturor of CF card (512M), both have previously worked fine on this board with 2.6.19.7</p><p>[EDIT]<br />This is me trying to roll my own kernel and cross compile it. I am using the src and patches from the build root, with the linux-mipsel-uclibc-* build tools<br />[/EDIT]</p>											<p class="post-edited">(Last edited by <strong>apnicsolutions</strong> on 20 Apr 2008, 14:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67229">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nathan_vanan</div>
					<div class="post-datetime">
						21 Apr 2008, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>I did exactly like you and ended up against a wall just like you....I had the same config and same setup...even the error message was the same ...then I thought it is not worth to spend time and went back to openwrt....sorry i can help you ....</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>