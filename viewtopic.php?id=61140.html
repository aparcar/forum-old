<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> uclibc std:stoi problem cross compiling C++ for barrier breaker.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p301202">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sweetpea</div>
					<div class="post-datetime">
						25 Nov 2015, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello all<br />Noob question, apologies if it&#039;s a lame one.&nbsp; I&#039;m in my 50&#039;s, losing my marbles, and new to OpenWRT and C++.&nbsp; </p><p>I&#039;m trying to cross-compile a self-developed C++ program into a pkg to SCP and install on Barrier Breaker.&nbsp; This is all part of an experiment with an RTL-SDR dongle with dump1090,&nbsp; and some hardware mods on a TP-LINK MR3020 reflashed to OpenWRT, to create a small ADSB-in receiver and processor.</p><p>It all compiles fine on my Ubuntu 14.04 development box using gcc, but when I try to cross-compile using the OpenWrt-SDK-ar71xx-for-linux-x86_64-gcc-4.8-linaro_uClibc-0.9.33.2 I get an error: </p><p>ADSBServer.cpp:501:24: error: &#039;stoi&#039; is not a member of &#039;std&#039;<br />&nbsp; SBSTransmissionType = std::stoi(token);</p><p>I&#039;ve unset CC and CXX and run make menuconfig.</p><p>My makefile (one level above the src directory) modifies the default build like this:</p><p>define Build/Compile<br />&nbsp; &nbsp; $(MAKE) -C $(PKG_BUILD_DIR) \<br />&nbsp; &nbsp; &nbsp; &nbsp; LIBS=&quot;-nodefaultlibs -lgcc -lc -luClibc++&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; LDFLAGS=&quot;$(EXTRA_LDFLAGS)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; CXXFLAGS=&quot;$(TARGET_CFLAGS) $(EXTRA_CPPFLAGS) -nostdinc++&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; $(TARGET_CONFIGURE_OPTS) \<br />&nbsp; &nbsp; &nbsp; &nbsp; CROSS=&quot;$(TARGET_CROSS)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; ARCH=&quot;$(ARCH)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; $(1);<br />endef</p><p>where&nbsp; &quot;$(LIBS)&quot; is added to the src makefile </p><p>I&#039;ve been stumped by this for days now.... is stoi not in uclibc?, or have I messed up the config &amp; make somehow??</p><p>Thanks in advance</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>