<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> cross_compile_helloworld_program with sdk based on bakfire 10.03.1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p167622">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hidouri</div>
					<div class="post-datetime">
						18 May 2012, 00:42					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>I have spend more than a week trying to compile a simple helloworld program and failed many times even after reading posts here and other websites</p><p>I&#039;m working on TP-Link TL-WR1043ND, it has a Atheros AR9132 target </p><p>first : get the OpenWrt-SDK-ar71xx-for-Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1</p><p>Second download source backfire 10.03.1</p><p>third tape make menuconfig</p><p>then choose correct target and profile =&gt; build successful, after i created a helloword folder under OpenWrt-SDK-ar71xx-for-Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1/package as explained in :</p><p><a href="http://manoftoday.wordpress.com/2007/10/11/writing-and-compiling-a-simple-program-for-openwrt/">http://manoftoday.wordpress.com/2007/10 â€¦ r-openwrt/</a></p><p><a href="https://forum.openwrt.org/viewtopic.php?id=36745">https://forum.openwrt.org/viewtopic.php?id=36745</a></p><p>so under package, i have a Makefile for openwrt and src folder, under src i have another Makefile and the helloworld.c</p><br /><p>i even checked for missing tabs replaced by spaces in Makefiles.then in sdk folder taped</p><div class="quotebox"><blockquote><p>make package/helloworld/compile V=99</p></blockquote></div><p>nut i have the following error :</p><div class="codebox"><pre><code>ERROR: please fix package/helloworld/Makefile
Collecting package info: done      
make[1]: Entering directory `/home/hlejri/OpenWrt-SDK-ar71xx-for-Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1&#039;
make[1]: *** No rule to make target `package/helloworld/compile&#039;.  Stop.
make[1]: Leaving directory `/home/hlejri/OpenWrt-SDK-ar71xx-for-Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1&#039;
make: *** [package/helloworld/compile] Error 2</code></pre></div><p>this is the same topic of the forum, i tried it but didn&#039;t work<br /><a href="https://forum.openwrt.org/viewtopic.php?id=30281">https://forum.openwrt.org/viewtopic.php?id=30281</a></p><p>so here my helloworl.c<br /></p><div class="codebox"><pre><code>include &lt;stdio.h&gt;

int main()

{

printf(&quot;hello world\n&quot;);
return 0;

}</code></pre></div><p>associated Makefile under src folder<br /></p><div class="codebox"><pre><code>#build hellworld executable when user executes &quot;make&quot;
hellworld: helloworld.o
        $(CC) $(LDFLAGS) helloworld.o -o helloworld
helloworld.o: helloworld.c
        $(CC) $(CFLAGS) -c helloworld.c

# remove object files and executable when user excutes &quot;make clean&quot;
clean:
        rm *.o helloworld</code></pre></div><p>and the most important (source of error) ,Makefile under helloworld folder<br /></p><div class="codebox"><pre><code>nclude $(TOPDIR)/rules.mk

PKG_NAME:=helloworld
PKG_RElEASE:=1
PKG_BUILD_DIR :=$(BULD_DIR)/helloworld

include $(INCLUDE_DIR)/package.mk

define Package/helloworld
SECTION:=utils
CATEGORY:=Utilities
TITLE:=HELLOWORLD_program
menu:=1
endef

define Build/Prepare
        mkdir -p $(PKG_BUILD_DIR)
        $(CP) ./src/* $(PKG_BUILD_DIR)/
endef

define Package/hellowrld/install
        $(INSTALL_DIR) $(1)/bin
        $(INSTALL_BIN) $(PKG_BUILD_DIR)/helloworld $(1)/bin
endef

$(eval $(call BuildPackage,helloworld))</code></pre></div><p>indeed , writing Makefile is not easy and frustrating !!!</p><p>any help will be very appreciated.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>