<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem Working with Ap121 board...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 22 Apr 2018 and 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=43494&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p198160">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						12 Apr 2013, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>Dear All,</p><p>I am trying to compile attitude package for AP121 board but facing the problem due to my Flash I think. I have a board which is using a ar7240-nor0 flash as I know. I have compiled the code and i am able to boot but comes across this problem of Kernel panic. Below I have attached the log for console. Hope anyone can help me through this</p><p>U-Boot 1.1.4 (Apr 25 2012 - 14:40:19)</p><p>AP121 (ar9331) U-boot</p><p>DRAM:&nbsp; 32 MB<br />Top of RAM usable for U-Boot at: 82000000<br />Reserving 138k for U-Boot at: 81fdc000<br />Reserving 192k for malloc() at: 81fac000<br />Reserving 44 Bytes for Board Info at: 81fabfd4<br />Reserving 36 Bytes for Global Data at: 81fabfb0<br />Reserving 128k for boot params() at: 81f8bfb0<br />Stack Pointer at: 81f8bf98<br />Now running in RAM - U-Boot at: 81fdc000<br />Flash Manuf Id 0xc2, DeviceId0 0x20, DeviceId1 0x17<br />flash size 8388608, sector count = 128<br />Flash:&nbsp; 8 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7240_enet_initialize...<br />No valid address in Flash. Using fixed address<br />Fetching MAC Address from 0x81ff3d58<br />: cfg1 0x5 cfg2 0x7114<br />eth0: 00:03:7f:09:0b:ad<br />eth0 up<br />: cfg1 0xf cfg2 0x7214<br />eth1: 00:03:7f:1a:10:10<br />athrs26_reg_init_lan<br />ATHRS26: resetting s26<br />ATHRS26: s26 reset done<br />eth1 up<br />eth0, eth1<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-3.3.8<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2013-04-02&nbsp; 19:38:39 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 911424 Bytes = 890.1 kB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80060000<br />&nbsp; &nbsp;Verifying Checksum at 0x9f310040 ...OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80060000) ...<br />## Giving linux memsize in bytes, 33554432</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.3.8 (nikhil@root) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Wed Apr 3 01:08:30 IST 2013<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9330 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] User-defined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; console=ttyATH0,115200=root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),64k(u-boot-en) mem=32M rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 29148k/32768k available (2086k kernel code, 3620k reserved, 403k data, 208k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.090000] gpiochip_add: registered GPIOs 0 to 29 on device: ath79<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is Generic AR71XX/AR724X/AR913X based board<br />[&nbsp; &nbsp; 0.110000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.120000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.120000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.130000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.130000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.130000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.140000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.150000] TCP reno registered<br />[&nbsp; &nbsp; 0.150000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.160000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.160000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.190000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.190000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.200000] msgmni has been set to 56<br />[&nbsp; &nbsp; 0.200000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.210000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.210000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.220000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART<br />[&nbsp; &nbsp; 0.220000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.220000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.240000] TCP cubic registered<br />[&nbsp; &nbsp; 0.250000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.250000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.260000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0)<br />[&nbsp; &nbsp; 0.260000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />[&nbsp; &nbsp; 0.270000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p><p>Thanks and Regards</p><p>Nikhil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198171">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						12 Apr 2013, 21:13					</div>
				</div>
				<div class="post-content content">
					<p>Also Forgot to mention.....<br />My flash is splitted in the following way in my U-BOOT</p><p>I have 128kb of Uboot, followed by 64K uboot-env, 2.8M of rootfs, 896k kernel, 64k nvram,64k ART</p><p>Regards</p><p>Nikhil</p>											<p class="post-edited">(Last edited by <strong>nikhillife11</strong> on 12 Apr 2013, 21:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198308">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mips</div>
					<div class="post-datetime">
						14 Apr 2013, 06:30					</div>
				</div>
				<div class="post-content content">
					<p>If you don&#039;t change the openwrt kernel code,the openwrt kernel code will not use the u-boot passed &quot;command line mtd info&quot;.The first 128k is u-boot,the flash last 64k is art.and also forget the nvram which only in atheros design and the history openwrt release...<br />You need provide more info about you project,the steps you do make the openwrt work on your ap121 board.You only want to use the openwrt kernel and reuse other design from athero SDK design?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198374">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						14 Apr 2013, 20:13					</div>
				</div>
				<div class="post-content content">
					<p>Hello Mips,</p><p>Thanks for you reply. Actually I am using atheros u-boot and I want to port openwrt on it. Basically I have got a board from one of my friends... I am not understanding where to start. I had captured a log before which gave me the information about partitions. But when I tried to port kernel and rootfs code of openwrt, it gave me the above error. I can provide you any details you want... Let me know what you want and I can provide you the same.</p><p>Also i have to use existing u-boot as i have to return the board to my friend whenever he asks for. So how to go forward from here.</p><p>Regards<br />Nikhil</p>											<p class="post-edited">(Last edited by <strong>nikhillife11</strong> on 14 Apr 2013, 20:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198378">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						14 Apr 2013, 21:23					</div>
				</div>
				<div class="post-content content">
					<p>First you use wrong device name for your flash (should be spi0.0 I think), let me know if you need help with porting, I recently ported openWRT to AP94 (AR7161 CPU).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198541">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mips</div>
					<div class="post-datetime">
						16 Apr 2013, 17:23					</div>
				</div>
				<div class="post-content content">
					<p>@Nikhil:<br />The default atheros SDK bootloader can&#039;t load and boot the openwrt code,you need replace it,if this step have do,the next step is more easy.<br />You don&#039;t need change more code to let openwrt work on Atheros AP121,because there is a AP121 target in the current code.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198566">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						16 Apr 2013, 20:06					</div>
				</div>
				<div class="post-content content">
					<p>@mips: current code for AP121 has non matching flash layout so it&#039;s not good for nikhil this is current makefile:<br /></p><div class="codebox"><pre><code>ap121_mtdlayout_2M=mtdparts=spi0.0:64k(u-boot)ro,1216k(rootfs),704k(kernel),64k(art)ro,1920k@0x10000(firmware)
ap121_mtdlayout_4M=mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,2752k(rootfs),896k(kernel),64k(nvram),64k(art)ro,3648k@0x50000(firmware)</code></pre></div><p>@Nikhil:<br />I see more problems there, flash is not detected at all, no entry in dmesg, should probably me something like:<br /></p><div class="codebox"><pre><code>m25p80 spi0.0: found mx25l6405d, expected m25p80</code></pre></div><p>Also as I said before, your kernelcmd is wrong, spi flash in openwrt is called spi0.0 (as per lines from openWRT makefile)</p>											<p class="post-edited">(Last edited by <strong>jaceq</strong> on 16 Apr 2013, 20:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198571">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						16 Apr 2013, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello Jaceq and Mips,</p><p>Actually I am stuck with this atheros u-boot and cant change it as I have to return this board after a month or so. Also as I see in the printenv of the u-boot, they have set flash to ar7240-nor. I have more console prints for you. Can anyone help me to work out with this format. Also can any one arrange a proper openwrt u-boot for this board. As i plan to remove the present u-boot code through console and tftp and when I have to return the board I can load back the u-boot. But will this work. Will the flash get detected or is it that I have to change the flash itself to workout openwrt on it..</p><p>The present log is as below</p><p>U-Boot 1.1.4 (Apr 25 2012 - 14:40:19)</p><p>AP121 (ar9331) U-boot</p><p>DRAM:&nbsp; 32 MB<br />Top of RAM usable for U-Boot at: 82000000<br />Reserving 138k for U-Boot at: 81fdc000<br />Reserving 192k for malloc() at: 81fac000<br />Reserving 44 Bytes for Board Info at: 81fabfd4<br />Reserving 36 Bytes for Global Data at: 81fabfb0<br />Reserving 128k for boot params() at: 81f8bfb0<br />Stack Pointer at: 81f8bf98<br />Now running in RAM - U-Boot at: 81fdc000<br />Flash Manuf Id 0xc2, DeviceId0 0x20, DeviceId1 0x17<br />flash size 8388608, sector count = 128<br />Flash:&nbsp; 8 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7240_enet_initialize...<br />No valid address in Flash. Using fixed address<br />Fetching MAC Address from 0x81ff3d58<br />: cfg1 0x5 cfg2 0x7114<br />eth0: 00:03:7f:09:0b:ad<br />eth0 up<br />: cfg1 0xf cfg2 0x7214<br />eth1: 00:03:7f:1a:10:10<br />athrs26_reg_init_lan<br />ATHRS26: resetting s26<br />ATHRS26: s26 reset done<br />eth1 up<br />eth0, eth1<br />Hit any key to stop autoboot:&nbsp; 4&nbsp; &nbsp; &nbsp;0 <br />Telenet&gt; <br />Telenet&gt; printenv<br />bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),64k(u-boot-env),2944k(rootfs),896k(uImage),64k(NVRAM),64k(config),2944k(brootfs),896k(buImage),64k(chksm),64k(bchksm),64k(ART)<br />bootcmd=bootm 0x9f310000<br />bootdelay=4<br />baudrate=115200<br />ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee<br />ipaddr=192.168.0.99<br />serverip=192.168.0.10<br />stdin=serial<br />stdout=serial<br />stderr=serial<br />ethact=eth0</p><p>Environment size: 424/65532 bytes<br />Telenet&gt; b&nbsp; &nbsp;<br />bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),64k(u-boot-env),2944k(rootfs),896k(uImage),64k(NVRAM),64k(config),2944k(brootfs),896k(buImage),64k(chksm),64k(bchksm),64k(ART)<br />bootcmd=bootm 0x9f310000<br />bootdelay=4<br />baudrate=115200<br />ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee<br />ipaddr=192.168.0.99<br />serverip=192.168.0.10<br />stdin=serial<br />stdout=serial<br />stderr=serial<br />ethact=eth0</p><p>Environment size: 424/65532 bytes<br />Telenet&gt; <br />bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),64k(u-boot-env),2944k(rootfs),896k(uImage),64k(NVRAM),64k(config)<br />bootcmd=bootm 0x9f310000<br />bootdelay=4<br />baudrate=115200<br />ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee<br />ipaddr=192.168.0.99<br />serverip=192.168.0.10<br />stdin=serial<br />stdout=serial<br />stderr=serial<br />ethact=eth0</p><p>Environment size: 424/65532 bytes<br />Telenet&gt; setenv bootargs=console=ttyATH0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),64k(u-boot-env),2944k(rootfs),896k(uImage),64k(NVRAM),64k(config)<br />Telenet&gt; boot<br />## Booting image at 9f310000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-3.3.8<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2013-04-12&nbsp; 16:28:08 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 911485 Bytes = 890.1 kB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80060000<br />&nbsp; &nbsp;Verifying Checksum at 0x9f310040 ...OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80060000) ...<br />## Giving linux memsize in bytes, 33554432</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.3.8 (root@root) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #4 Fri Apr 12 21:57:57 IST 2013<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9330 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] User-defined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; console=ttyATH0,115200=root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),64k(u-boot-env),2944k(rootfs),896k(uImage),64k(NVRAM),64k(config),2944k(brootfs),896k(buImage),64k(chksm),64k(bchksm),64k(ART) mem=32M rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 29148k/32768k available (2086k kernel code, 3620k reserved, 403k data, 208k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.090000] gpiochip_add: registered GPIOs 0 to 29 on device: ath79<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is Generic AR71XX/AR724X/AR913X based board<br />[&nbsp; &nbsp; 0.110000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.120000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.120000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.130000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.130000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.130000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.140000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.150000] TCP reno registered<br />[&nbsp; &nbsp; 0.150000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.160000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.160000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.190000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.190000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.200000] msgmni has been set to 56<br />[&nbsp; &nbsp; 0.200000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.210000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.210000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.220000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART<br />[&nbsp; &nbsp; 0.220000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.220000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.240000] TCP cubic registered<br />[&nbsp; &nbsp; 0.250000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.250000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.260000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0)<br />[&nbsp; &nbsp; 0.260000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />[&nbsp; &nbsp; 0.270000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p><br /><p>Hope you all can help me sort out this issue..</p><p>Regards<br />Nikhil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198577">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						16 Apr 2013, 21:52					</div>
				</div>
				<div class="post-content content">
					<p>I see you already flashed kernel <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />From my experience it&#039;s easier to test kernels by running them from memory directly.<br />You used generic kernel which is wrong, I had exactly same problem with flash.<br />I am now looking at generic AP121 and I see that build are using initramfs...<br />Anyway, since you have a board, check what flash chip you have and then check if it&#039;s supported at all or not</p>											<p class="post-edited">(Last edited by <strong>jaceq</strong> on 16 Apr 2013, 21:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198616">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						17 Apr 2013, 09:25					</div>
				</div>
				<div class="post-content content">
					<p>Sorry Jaceq, I myself have this particular board for a month or so and only if I am able to port openwrt in this, i will buy it.&nbsp; Also Yes i had compiled for a generic flash. I think that the exact problem with the code not booting you. But how can I compile for the Flash I am using(flash used is MX25L6406EM2I. ). I can provide you the details if needed...</p><p>Thanks and Regards<br />Nikhil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198645">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						17 Apr 2013, 13:49					</div>
				</div>
				<div class="post-content content">
					<p>Easiest way to go is:<br />Compile for AP96 target, take just kernel file, and try to run it from memory...<br />It will have totally wrong flash layout and will be gzipped -&gt; meaning that it will not fit into your partition (hence run it from memory) but check if flash is supported at least with it (look for line I mentioned few posts above). If you get that to work it&#039;s a good sign but a long way to go still.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198646">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						17 Apr 2013, 13:57					</div>
				</div>
				<div class="post-content content">
					<p>But how to run from Kernel from memory&nbsp; buddy.. Can you help me with the steps..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198656">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						17 Apr 2013, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>Hey Jaceq, </p><p>I loaded a kernel file &quot;openwrt-ar71xx-generic-ap121-4M-kernel.bin&quot; that i directly downloaded from <a href="http://www.lispmob.org/downloads/openwrt/ar71xx">http://www.lispmob.org/downloads/openwrt/ar71xx</a>&nbsp; and now I am able to see my flash.. Just check the log below</p><p>U-Boot 1.1.4 (Apr 25 2012 - 14:40:19)</p><p>AP121 (ar9331) U-boot</p><p>DRAM:&nbsp; 32 MB<br />Top of RAM usable for U-Boot at: 82000000<br />Reserving 138k for U-Boot at: 81fdc000<br />Reserving 192k for malloc() at: 81fac000<br />Reserving 44 Bytes for Board Info at: 81fabfd4<br />Reserving 36 Bytes for Global Data at: 81fabfb0<br />Reserving 128k for boot params() at: 81f8bfb0<br />Stack Pointer at: 81f8bf98<br />Now running in RAM - U-Boot at: 81fdc000<br />Flash Manuf Id 0xc2, DeviceId0 0x20, DeviceId1 0x17<br />flash size 8388608, sector count = 128<br />Flash:&nbsp; 8 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7240_enet_initialize...<br />No valid address in Flash. Using fixed address<br />Fetching MAC Address from 0x81ff3d58<br />: cfg1 0x5 cfg2 0x7114<br />eth0: 00:03:7f:09:0b:ad<br />eth0 up<br />: cfg1 0xf cfg2 0x7214<br />eth1: 00:03:7f:1a:10:10<br />athrs26_reg_init_lan<br />ATHRS26: resetting s26<br />ATHRS26: s26 reset done<br />eth1 up<br />eth0, eth1<br />Hit any key to stop autoboot:&nbsp; 4  3  2  1  0 <br />## Booting image at 9f310000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-3.3.8<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2013-03-06&nbsp; 11:08:48 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 912961 Bytes = 891.6 kB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80060000<br />&nbsp; &nbsp;Verifying Checksum at 0x9f310040 ...OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80060000) ...<br />## Giving linux memsize in bytes, 33554432</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.3.8 (alopez@pcmatali) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #2 Wed Mar 6 12:05:35 CET 2013<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9330 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=AP121 console=ttyATH0,115200 mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,2752k(rootfs),896k(kernel),64k(nvram),64k(art)ro,3648k@0x50000(firmware) rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 29140k/32768k available (2091k kernel code, 3628k reserved, 406k data, 208k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.090000] gpiochip_add: registered GPIOs 0 to 29 on device: ath79<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is Atheros AP121 reference board<br />[&nbsp; &nbsp; 0.550000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.560000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.560000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.570000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.570000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.570000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.580000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.590000] TCP reno registered<br />[&nbsp; &nbsp; 0.590000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.600000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.600000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.630000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.630000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.640000] msgmni has been set to 56<br />[&nbsp; &nbsp; 0.640000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.650000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.650000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.660000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART<br />[&nbsp; &nbsp; 0.660000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.660000] console [ttyATH0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.680000] m25p80 spi0.0: found mx25l6405d, expected m25p80<br />[&nbsp; &nbsp; 0.680000] m25p80 spi0.0: mx25l6405d (8192 Kbytes)<br />[&nbsp; &nbsp; 0.690000] 7 cmdlinepart partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.690000] Creating 7 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.700000] 0x000000000000-0x000000040000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.710000] 0x000000040000-0x000000050000 : &quot;u-boot-env&quot;<br />[&nbsp; &nbsp; 0.710000] 0x000000050000-0x000000300000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.720000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[&nbsp; &nbsp; 0.720000] split_squashfs: no squashfs found in &quot;spi0.0&quot;<br />[&nbsp; &nbsp; 0.730000] 0x000000300000-0x0000003e0000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.730000] 0x0000003e0000-0x0000003f0000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 0.740000] 0x0000003f0000-0x000000400000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.740000] 0x000000050000-0x0000003e0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.770000] ag71xx_mdio: probed<br />[&nbsp; &nbsp; 0.770000] eth0: Atheros AG71xx at 0xba000000, irq 5<br />[&nbsp; &nbsp; 1.320000] eth0: Found an AR7240/AR9330 built-in switch<br />[&nbsp; &nbsp; 2.360000] eth1: Atheros AG71xx at 0xb9000000, irq 4<br />[&nbsp; &nbsp; 2.910000] ag71xx ag71xx.0: eth1: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]<br />[&nbsp; &nbsp; 2.920000] TCP cubic registered<br />[&nbsp; &nbsp; 2.920000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 2.930000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 2.930000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000000: 0x4f1d instead<br />[&nbsp; &nbsp; 2.940000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000004: 0x0019 instead<br />[&nbsp; &nbsp; 2.950000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000008: 0x2761 instead<br />[&nbsp; &nbsp; 2.960000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000000c: 0x31e2 instead<br />[&nbsp; &nbsp; 2.970000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000010: 0x64c6 instead<br />[&nbsp; &nbsp; 2.980000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000014: 0xe2ed instead<br />[&nbsp; &nbsp; 2.980000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000018: 0x54e9 instead<br />[&nbsp; &nbsp; 2.990000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000001c: 0x7658 instead<br />[&nbsp; &nbsp; 3.000000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000020: 0x0d81 instead<br />[&nbsp; &nbsp; 3.010000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000024: 0xcfce instead<br />[&nbsp; &nbsp; 3.020000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.060000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010000: 0xca7c instead<br />[&nbsp; &nbsp; 3.070000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010004: 0x0d94 instead<br />[&nbsp; &nbsp; 3.080000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010008: 0x97d7 instead<br />[&nbsp; &nbsp; 3.080000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001000c: 0x8c60 instead<br />[&nbsp; &nbsp; 3.090000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010010: 0x4e0e instead<br />[&nbsp; &nbsp; 3.100000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010014: 0xf493 instead<br />[&nbsp; &nbsp; 3.110000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010018: 0x7f40 instead<br />[&nbsp; &nbsp; 3.120000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001001c: 0x3743 instead<br />[&nbsp; &nbsp; 3.130000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010020: 0x4a35 instead<br />[&nbsp; &nbsp; 3.140000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010024: 0x72bd instead<br />[&nbsp; &nbsp; 3.150000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.190000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020000: 0xe4d3 instead<br />[&nbsp; &nbsp; 3.190000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020004: 0x2bb7 instead<br />[&nbsp; &nbsp; 3.200000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020008: 0xf6bf instead<br />[&nbsp; &nbsp; 3.210000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002000c: 0xf50c instead<br />[&nbsp; &nbsp; 3.220000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020010: 0x5802 instead<br />[&nbsp; &nbsp; 3.230000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020014: 0xabe6 instead<br />[&nbsp; &nbsp; 3.240000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020018: 0xc93e instead<br />[&nbsp; &nbsp; 3.250000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002001c: 0x6c78 instead<br />[&nbsp; &nbsp; 3.260000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020020: 0x8f8f instead<br />[&nbsp; &nbsp; 3.260000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020024: 0x5bf2 instead<br />[&nbsp; &nbsp; 3.270000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.310000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030000: 0xe300 instead<br />[&nbsp; &nbsp; 3.320000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030004: 0xcfbe instead<br />[&nbsp; &nbsp; 3.330000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030008: 0xe5ba instead<br />[&nbsp; &nbsp; 3.340000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0003000c: 0xa71e instead<br />[&nbsp; &nbsp; 3.350000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030010: 0xcb75 instead<br />[&nbsp; &nbsp; 3.360000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030014: 0xe8f4 instead<br />[&nbsp; &nbsp; 3.370000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030018: 0x44d5 instead<br />[&nbsp; &nbsp; 3.370000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0003001c: 0x3230 instead<br />[&nbsp; &nbsp; 3.380000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030020: 0xcd73 instead<br />[&nbsp; &nbsp; 3.390000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030024: 0xc087 instead<br />[&nbsp; &nbsp; 3.400000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.440000] Old JFFS2 bitmask found at 0x0003f3cc<br />[&nbsp; &nbsp; 3.440000] You cannot use older JFFS2 filesystems with newer kernels<br />[&nbsp; &nbsp; 3.450000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040000: 0xa46e instead<br />[&nbsp; &nbsp; 3.460000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040004: 0x71c9 instead<br />[&nbsp; &nbsp; 3.470000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040008: 0x2077 instead<br />[&nbsp; &nbsp; 3.480000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0004000c: 0x2797 instead<br />[&nbsp; &nbsp; 3.490000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040010: 0x4907 instead<br />[&nbsp; &nbsp; 3.490000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040014: 0xb003 instead<br />[&nbsp; &nbsp; 3.500000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040018: 0x71bc instead<br />[&nbsp; &nbsp; 3.510000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0004001c: 0x938e instead<br />[&nbsp; &nbsp; 3.520000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040020: 0x1801 instead<br />[&nbsp; &nbsp; 3.530000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00040024: 0xa03a instead<br />[&nbsp; &nbsp; 3.540000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.580000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050000: 0x1012 instead<br />[&nbsp; &nbsp; 3.590000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050004: 0xf57b instead<br />[&nbsp; &nbsp; 3.590000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050008: 0xea89 instead<br />[&nbsp; &nbsp; 3.600000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0005000c: 0x96f1 instead<br />[&nbsp; &nbsp; 3.610000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050010: 0xdc5d instead<br />[&nbsp; &nbsp; 3.620000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050014: 0x9afb instead<br />[&nbsp; &nbsp; 3.630000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050018: 0x4e10 instead<br />[&nbsp; &nbsp; 3.640000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0005001c: 0x3e7f instead<br />[&nbsp; &nbsp; 3.650000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050020: 0x156a instead<br />[&nbsp; &nbsp; 3.660000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00050024: 0xd0d6 instead<br />[&nbsp; &nbsp; 3.670000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.710000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060000: 0x733a instead<br />[&nbsp; &nbsp; 3.710000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060004: 0x6758 instead<br />[&nbsp; &nbsp; 3.720000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060008: 0x1c1a instead<br />[&nbsp; &nbsp; 3.730000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0006000c: 0xcf9e instead<br />[&nbsp; &nbsp; 3.740000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060010: 0x5fe5 instead<br />[&nbsp; &nbsp; 3.750000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060014: 0x7568 instead<br />[&nbsp; &nbsp; 3.760000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060018: 0xd270 instead<br />[&nbsp; &nbsp; 3.770000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0006001c: 0x0b86 instead<br />[&nbsp; &nbsp; 3.780000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060020: 0x3807 instead<br />[&nbsp; &nbsp; 3.780000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00060024: 0xaba3 instead<br />[&nbsp; &nbsp; 3.790000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.830000] Old JFFS2 bitmask found at 0x0006fea8<br />[&nbsp; &nbsp; 3.840000] You cannot use older JFFS2 filesystems with newer kernels<br />[&nbsp; &nbsp; 3.840000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070000: 0x077d instead<br />[&nbsp; &nbsp; 3.850000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070004: 0xbb3a instead<br />[&nbsp; &nbsp; 3.860000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070008: 0xdd69 instead<br />[&nbsp; &nbsp; 3.870000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0007000c: 0x792b instead<br />[&nbsp; &nbsp; 3.880000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070010: 0x34f0 instead<br />[&nbsp; &nbsp; 3.890000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070014: 0x0628 instead<br />[&nbsp; &nbsp; 3.900000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070018: 0x286e instead<br />[&nbsp; &nbsp; 3.900000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0007001c: 0xc11e instead<br />[&nbsp; &nbsp; 3.910000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070020: 0xa57d instead<br />[&nbsp; &nbsp; 3.920000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00070024: 0xe4fb instead<br />[&nbsp; &nbsp; 3.930000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 3.970000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080000: 0xe96f instead<br />[&nbsp; &nbsp; 3.980000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080004: 0x6556 instead<br />[&nbsp; &nbsp; 3.990000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080008: 0x4c79 instead<br />[&nbsp; &nbsp; 4.000000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0008000c: 0x44ff instead<br />[&nbsp; &nbsp; 4.000000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080010: 0xb43f instead<br />[&nbsp; &nbsp; 4.010000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080014: 0x9717 instead<br />[&nbsp; &nbsp; 4.020000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080018: 0x7072 instead<br />[&nbsp; &nbsp; 4.030000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0008001c: 0x8d1f instead<br />[&nbsp; &nbsp; 4.040000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080020: 0x6811 instead<br />[&nbsp; &nbsp; 4.050000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00080024: 0x5229 instead<br />[&nbsp; &nbsp; 4.060000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.100000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090000: 0x397a instead<br />[&nbsp; &nbsp; 4.110000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090004: 0xc0c7 instead<br />[&nbsp; &nbsp; 4.110000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090008: 0x9675 instead<br />[&nbsp; &nbsp; 4.120000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0009000c: 0x35da instead<br />[&nbsp; &nbsp; 4.130000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090010: 0x91fc instead<br />[&nbsp; &nbsp; 4.140000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090014: 0x1a61 instead<br />[&nbsp; &nbsp; 4.150000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090018: 0x49ef instead<br />[&nbsp; &nbsp; 4.160000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0009001c: 0x1036 instead<br />[&nbsp; &nbsp; 4.170000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090020: 0x3a2a instead<br />[&nbsp; &nbsp; 4.180000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00090024: 0x6179 instead<br />[&nbsp; &nbsp; 4.190000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.220000] Old JFFS2 bitmask found at 0x0009d440<br />[&nbsp; &nbsp; 4.220000] You cannot use older JFFS2 filesystems with newer kernels<br />[&nbsp; &nbsp; 4.230000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0000: 0x0d1a instead<br />[&nbsp; &nbsp; 4.240000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0004: 0x0874 instead<br />[&nbsp; &nbsp; 4.250000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0008: 0x907d instead<br />[&nbsp; &nbsp; 4.260000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a000c: 0xb21e instead<br />[&nbsp; &nbsp; 4.270000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0010: 0x5b7c instead<br />[&nbsp; &nbsp; 4.280000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0014: 0x8b6e instead<br />[&nbsp; &nbsp; 4.290000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0018: 0x1cb9 instead<br />[&nbsp; &nbsp; 4.300000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a001c: 0xdb5c instead<br />[&nbsp; &nbsp; 4.300000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0020: 0xbd68 instead<br />[&nbsp; &nbsp; 4.310000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000a0024: 0xb336 instead<br />[&nbsp; &nbsp; 4.320000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.360000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0000: 0xd431 instead<br />[&nbsp; &nbsp; 4.370000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0004: 0x3b5b instead<br />[&nbsp; &nbsp; 4.380000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0008: 0x55bc instead<br />[&nbsp; &nbsp; 4.390000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b000c: 0x7093 instead<br />[&nbsp; &nbsp; 4.400000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0010: 0xed55 instead<br />[&nbsp; &nbsp; 4.400000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0014: 0x7ad1 instead<br />[&nbsp; &nbsp; 4.410000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0018: 0x7a48 instead<br />[&nbsp; &nbsp; 4.420000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b001c: 0xad11 instead<br />[&nbsp; &nbsp; 4.430000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0020: 0x0d59 instead<br />[&nbsp; &nbsp; 4.440000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000b0024: 0xb7ca instead<br />[&nbsp; &nbsp; 4.450000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.470000] Old JFFS2 bitmask found at 0x000b7e38<br />[&nbsp; &nbsp; 4.480000] You cannot use older JFFS2 filesystems with newer kernels<br />[&nbsp; &nbsp; 4.500000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0000: 0xbd50 instead<br />[&nbsp; &nbsp; 4.510000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0004: 0x410e instead<br />[&nbsp; &nbsp; 4.520000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0008: 0x4890 instead<br />[&nbsp; &nbsp; 4.520000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c000c: 0x6419 instead<br />[&nbsp; &nbsp; 4.530000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0010: 0xb43c instead<br />[&nbsp; &nbsp; 4.540000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0014: 0x1b52 instead<br />[&nbsp; &nbsp; 4.550000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0018: 0x7f17 instead<br />[&nbsp; &nbsp; 4.560000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c001c: 0x3e35 instead<br />[&nbsp; &nbsp; 4.570000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0020: 0x1998 instead<br />[&nbsp; &nbsp; 4.580000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000c0024: 0x97b3 instead<br />[&nbsp; &nbsp; 4.590000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.630000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0000: 0x5af0 instead<br />[&nbsp; &nbsp; 4.630000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0004: 0xe710 instead<br />[&nbsp; &nbsp; 4.640000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0008: 0x5323 instead<br />[&nbsp; &nbsp; 4.650000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d000c: 0xffd4 instead<br />[&nbsp; &nbsp; 4.660000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0010: 0x3c1b instead<br />[&nbsp; &nbsp; 4.670000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0014: 0x388a instead<br />[&nbsp; &nbsp; 4.680000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0018: 0xdbe0 instead<br />[&nbsp; &nbsp; 4.690000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d001c: 0x8986 instead<br />[&nbsp; &nbsp; 4.700000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0020: 0x4843 instead<br />[&nbsp; &nbsp; 4.700000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000d0024: 0x4267 instead<br />[&nbsp; &nbsp; 4.710000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.750000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0000: 0xd22b instead<br />[&nbsp; &nbsp; 4.760000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0004: 0x6f74 instead<br />[&nbsp; &nbsp; 4.770000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0008: 0x42f1 instead<br />[&nbsp; &nbsp; 4.780000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e000c: 0x04bd instead<br />[&nbsp; &nbsp; 4.790000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0010: 0xeb27 instead<br />[&nbsp; &nbsp; 4.800000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0014: 0xa1c3 instead<br />[&nbsp; &nbsp; 4.800000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0018: 0xfdfa instead<br />[&nbsp; &nbsp; 4.810000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e001c: 0xcce0 instead<br />[&nbsp; &nbsp; 4.820000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0020: 0x6903 instead<br />[&nbsp; &nbsp; 4.830000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0024: 0xa20c instead<br />[&nbsp; &nbsp; 4.840000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 4.880000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0000: 0x5c52 instead<br />[&nbsp; &nbsp; 4.890000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0004: 0x0988 instead<br />[&nbsp; &nbsp; 4.900000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0008: 0x3c95 instead<br />[&nbsp; &nbsp; 4.910000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f000c: 0x42f3 instead<br />[&nbsp; &nbsp; 4.910000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0010: 0xb882 instead<br />[&nbsp; &nbsp; 4.920000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0014: 0xa386 instead<br />[&nbsp; &nbsp; 4.930000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0018: 0x5c9e instead<br />[&nbsp; &nbsp; 4.940000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f001c: 0xa979 instead<br />[&nbsp; &nbsp; 4.950000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0020: 0xe334 instead<br />[&nbsp; &nbsp; 4.960000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000f0024: 0x887c instead<br />[&nbsp; &nbsp; 4.970000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 5.010000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100000: 0x93ea instead<br />[&nbsp; &nbsp; 5.010000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100004: 0x1cba instead<br />[&nbsp; &nbsp; 5.020000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100008: 0x5b76 instead<br />[&nbsp; &nbsp; 5.030000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0010000c: 0x2f06 instead<br />[&nbsp; &nbsp; 5.040000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100010: 0x9ed3 instead<br />[&nbsp; &nbsp; 5.050000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100014: 0x9ece instead<br />[&nbsp; &nbsp; 5.060000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100018: 0x1f48 instead<br />[&nbsp; &nbsp; 5.070000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0010001c: 0x250e instead<br />[&nbsp; &nbsp; 5.080000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100020: 0xa0ac instead<br />[&nbsp; &nbsp; 5.090000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00100024: 0xaea0 instead<br />[&nbsp; &nbsp; 5.090000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 5.130000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110000: 0xf4a6 instead<br />[&nbsp; &nbsp; 5.140000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110004: 0x118d instead<br />[&nbsp; &nbsp; 5.150000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110008: 0xfeb2 instead<br />[&nbsp; &nbsp; 5.160000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0011000c: 0xd281 instead<br />[&nbsp; &nbsp; 5.170000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110010: 0x409d instead<br />[&nbsp; &nbsp; 5.180000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110014: 0x1ad4 instead<br />[&nbsp; &nbsp; 5.190000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110018: 0x4884 instead<br />[&nbsp; &nbsp; 5.200000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0011001c: 0x1b52 instead<br />[&nbsp; &nbsp; 5.200000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110020: 0x4d11 instead<br />[&nbsp; &nbsp; 5.210000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00110024: 0x29df instead<br />[&nbsp; &nbsp; 5.220000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 5.260000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120000: 0xcf87 instead<br />[&nbsp; &nbsp; 5.270000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120004: 0x7cda instead<br />[&nbsp; &nbsp; 5.280000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120008: 0x72ae instead<br />[&nbsp; &nbsp; 5.290000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0012000c: 0x25d4 instead<br />[&nbsp; &nbsp; 5.300000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120010: 0x25c6 instead<br />[&nbsp; &nbsp; 5.300000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120014: 0x2b60 instead<br />[&nbsp; &nbsp; 5.310000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120018: 0x29ad instead<br />[&nbsp; &nbsp; 5.320000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0012001c: 0x58b9 instead<br />[&nbsp; &nbsp; 5.330000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120020: 0xc9d2 instead<br />[&nbsp; &nbsp; 5.340000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120024: 0x687f instead<br />[&nbsp; &nbsp; 5.350000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 5.390000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130000: 0x9ef8 instead<br />[&nbsp; &nbsp; 5.400000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130004: 0xc100 instead<br />[&nbsp; &nbsp; 5.410000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130008: 0x76f8 instead<br />[&nbsp; &nbsp; 5.410000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0013000c: 0x843e instead<br />[&nbsp; &nbsp; 5.420000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130010: 0xbcb4 instead<br />[&nbsp; &nbsp; 5.430000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130014: 0x2f95 instead<br />[&nbsp; &nbsp; 5.440000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130018: 0xb884 instead<br />[&nbsp; &nbsp; 5.450000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0013001c: 0x7a02 instead<br />[&nbsp; &nbsp; 5.460000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130020: 0xf0ce instead<br />[&nbsp; &nbsp; 5.470000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130024: 0xf7f6 instead<br />[&nbsp; &nbsp; 5.480000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 5.510000] Old JFFS2 bitmask found at 0x0013b6d0<br />[&nbsp; &nbsp; 5.510000] You cannot use older JFFS2 filesystems with newer kernels<br />[&nbsp; &nbsp; 5.530000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140000: 0x8324 instead<br />[&nbsp; &nbsp; 5.530000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140004: 0xb6ef instead<br />[&nbsp; &nbsp; 5.540000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140008: 0x1e26 instead<br />[&nbsp; &nbsp; 5.550000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0014000c: 0xd9bc instead<br />[&nbsp; &nbsp; 5.560000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140010: 0xf8d3 instead<br />[&nbsp; &nbsp; 5.570000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140014: 0x06f1 instead<br />[&nbsp; &nbsp; 5.580000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140018: 0xa915 instead<br />[&nbsp; &nbsp; 5.590000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0014001c: 0x55d0 instead<br />[&nbsp; &nbsp; 5.600000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140020: 0xdebb instead<br />[&nbsp; &nbsp; 5.600000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00140024: 0x3d05 instead<br />[&nbsp; &nbsp; 5.610000] Further such events for this erase block will not be printed<br />[&nbsp; &nbsp; 5.630000] Old JFFS2 bitmask found at 0x00145630<br />[&nbsp; &nbsp; 5.630000] You cannot use older JFFS2 filesystems with newer kernels<br />[&nbsp; &nbsp; 5.660000] Empty flash at 0x0014bedc ends at 0x0014c000<br />[&nbsp; &nbsp; 5.670000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x150000<br />[&nbsp; &nbsp; 5.670000] Cowardly refusing to erase blocks on filesystem with no valid JFFS2 nodes<br />[&nbsp; &nbsp; 5.680000] empty_blocks 22, bad_blocks 0, c-&gt;nr_blocks 43<br />[&nbsp; &nbsp; 5.690000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(31,2)<br />[&nbsp; &nbsp; 5.690000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />[&nbsp; &nbsp; 5.700000] 1f00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;256 mtdblock0&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.710000] 1f01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 64 mtdblock1&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.710000] 1f02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2752 mtdblock2&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.720000] 1f03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;896 mtdblock3&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.720000] 1f04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 64 mtdblock4&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.730000] 1f05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 64 mtdblock5&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.730000] 1f06&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3648 mtdblock6&nbsp; (driver?)<br />[&nbsp; &nbsp; 5.740000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,2)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198658">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						17 Apr 2013, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>Now I have to do the same.... First need to get my code to work till this part.... How to compile my code till this part jac.. Can you help me to build the same kernel as above. I think its a generic flash one. So how is this working...</p><p>Pl. help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198674">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						17 Apr 2013, 17:17					</div>
				</div>
				<div class="post-content content">
					<p>So, flash is detect and seem to work ok (errors above are due to the fact that partition layout doesn&#039;t match).<br />So now what you need to do is get more into details.<br />Easy way from here I suppose is to:<br />add new partition layout that is matching your board (in target/linux/ar71xx/image/Makefile) and once you have this done, I&#039;d say modify this line:<br /></p><div class="codebox"><pre><code>$(eval $(call MultiProfile,AP121,AP121_2M AP121_4M))</code></pre></div><p>so it will contain your newly defined layout, for example:<br /></p><div class="codebox"><pre><code>$(eval $(call MultiProfile,AP121,AP121_2M AP121_4M AP121_8M))</code></pre></div><p>Than recompile.<br />Than load freshly built kernel (you might need to flash rootfs into place for this to work).<br />Let us know what happens</p><p>EDIT: Now I see you downloaded image from somwhere and this particular file does not build in stock openwrt, this means they have modified makefile for image. So... it&#039;s tricker, unless they provide their source... do they?</p>											<p class="post-edited">(Last edited by <strong>jaceq</strong> on 17 Apr 2013, 19:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198692">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						17 Apr 2013, 19:49					</div>
				</div>
				<div class="post-content content">
					<p>ok jaceq..Will try and let you know... updates soon</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198706">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						17 Apr 2013, 21:40					</div>
				</div>
				<div class="post-content content">
					<p>Jaceq</p><p>I found this line bit confusing in that makefile</p><p>$(eval $(call SingleProfile,AthLzma,$(fs_64k),AP121_4M,ap121-4M,AP121,ttyATH0,115200,$$(ap121_mtdlayout_4M),917504,2818048,RKuImage))</p><p>what does different variable of this line say..Such as </p><p>,$(fs_64k) --&gt; ?</p><p>917504,2818048,RKuImag --&gt; ?</p><p>Can you help me with this before i make changes to the MAKEFILE</p><p>Nikhil</p>											<p class="post-edited">(Last edited by <strong>nikhillife11</strong> on 17 Apr 2013, 21:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198768">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						18 Apr 2013, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>Hello Jaceq,</p><p>When I compiled my own source and loaded &quot;openwrt-ar71xx-generic-ap121-4M-kernel.bin&quot;. I got the same output as the one above. So know I have the kernel. I have also made the changes in makefile as you said. But when I compile the same, I am not able to see any new kernel or rootfs file for 8M. Also If I need to change the partition table in the kernel where should I do it. I am not able to find it anywhere. Do you have any idea Jac</p><p>Regards<br />Nikhil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198787">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						18 Apr 2013, 14:22					</div>
				</div>
				<div class="post-content content">
					<p>before you re-compile (with new settings) do: <br />make clean<br />make dirclean<br />and re-try</p><p>Also, post what changes did you add to your make file.</p>											<p class="post-edited">(Last edited by <strong>jaceq</strong> on 18 Apr 2013, 14:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198818">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						18 Apr 2013, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>Hello Jaceq,</p><p>I added following things in the makefile</p><p>$(eval $(call MultiProfile,AP121,AP121_2M AP121_4M AP121_8M)) --&gt; line number 919</p><p>ap121_mtdlayout_8M=mtdparts=spi0.0:128k(u-boot)ro,64k(u-boot-env)ro,2952k(rootfs),896k(kernel),64k(nvram),64k(bconfig),2952k(brootfs),896k(bkernel),64k@0x7f0000(art)ro</p><p>Added the above line since I am using 8MB flash and when i typed printenv on uboot it showed this.</p><p>Also when I make a mtdlayout for 8M flash will i get another kernel image for 8M or i should use the one for 4M only..</p><p>Regards<br />Nikhil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198829">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						18 Apr 2013, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>I did cleanup and then recompiled but i could not find any kernel for 8M buddy. Can you check the above and let me know. I can also send you the compilation log if you need..</p><p>Regards<br />Nikhil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198877">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						19 Apr 2013, 09:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>So you&#039;re still missing one line:<br /></p><div class="codebox"><pre><code>$(eval $(call SingleProfile,AthLzma,$(fs_64k),AP121_8M,ap121-8M,AP121,ttyATH0,115200,$$(ap121_mtdlayout_8M),3022848,917504,RKuImage))</code></pre></div><p>I&#039;d add it around line 830 where other AP_121 are.</p><p>Also, have a look at this: <a href="http://wiki.openwrt.org/doc/techref/flash.layout"> Flash layout </a> I&#039;d suggest to add &#039;firmware&#039; partiton which covers your rootfs and kernel partitions (this is used for upgrades later etc.)</p>											<p class="post-edited">(Last edited by <strong>jaceq</strong> on 19 Apr 2013, 09:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198882">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						19 Apr 2013, 09:56					</div>
				</div>
				<div class="post-content content">
					<p>jaceq what are the values 3022848 and 917504 and RKuImage</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198887">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">jaceq</div>
					<div class="post-datetime">
						19 Apr 2013, 10:52					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s size of rootfs and kernel (in bytes), I modified them for you according to your partition layout:<br /></p><div class="codebox"><pre><code>ap121_mtdlayout_8M=mtdparts=spi0.0:128k(u-boot)ro,64k(u-boot-env)ro,2952k(rootfs),896k(kernel),64k(nvram),64k(bconfig),2952k(brootfs),896k(bkernel),64k@0x7f0000(art)ro</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198888">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">nikhillife11</div>
					<div class="post-datetime">
						19 Apr 2013, 10:58					</div>
				</div>
				<div class="post-content content">
					<p>OK... AS i THOUGHT... But what does $(fs_64k) and RKuImage means.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=43494&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>