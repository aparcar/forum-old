<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Telnet into Netgear WNDR3700 w/ stock firmware possible?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p124549">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">adamlogan</div>
					<div class="post-datetime">
						5 Jan 2011, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>I want to be able to run a script which downloads blocklists/allow lists cleans them and writes the IPs to the hostallow hostblock files onto a router. Script I am speaking about can be found <a href="http://forum.mikrotik.com/viewtopic.php?f=9&amp;t=43073">here</a>. I just bought the WNDR3700 a week ago, and right now It is running the latest Netgear&nbsp; firmware (V1.0.4.68NA). Figured I would give open-wrt &amp; dd-wrt more time to get over bugs and the likes. But perhaps I&#039;ll put it on earlier.</p><p>I have been trying to telnet or ssh into the router without success. Tried regular 192.168.0.1, 192.168.1.1, even the ip address for remote management via web browser 76.115.86.148. Tried this older workaround by going into&nbsp; <a href="http://www.nat32.com/nat32e/htm/dg834g.htm">debug</a> mode. Nothing seems to work. Stock firmware allows you to block addresses, but there&#039;s no way I am going to manually type them in one by one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124556">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						5 Jan 2011, 15:44					</div>
				</div>
				<div class="post-content content">
					<p>Install <a href="http://www.gargoyle-router.com">Gargoyle</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124590">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ccdoggy</div>
					<div class="post-datetime">
						5 Jan 2011, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>you need the netgear telnetEnable utility.&nbsp; it will allow you to get into it via telnet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124601">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">adamlogan</div>
					<div class="post-datetime">
						6 Jan 2011, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>Sweet. I&#039;m in thanks ccdoggy. For others that might come across this thread, links to the TelnetEnable-Utility <a href="http://www.myopenrouter.com/download/11562/Solaris-Linux-OS-X-TelnetEnable-Utility/">*NIX</a> source &amp; <a href="http://www.myopenrouter.com/download/10602/NETGEAR-Telnet-Enable-Utility/">windows</a> binary. Built it on Mac OSX Snow Leopard, there were some errors in the output while building but it did the job just fine. Don&#039;t need to install it anyways, as it&#039;s a one time deal unless possibly firmware upgrades revert the router to no telnet access. Thanks guys!</p><p>EDIT:<br />Hmm I&#039;m confused. The stock firmware uses OpenWRT already albeit a modified Netgear version? This is OpenWrt &amp; Ash/busybox? Also, how the heck do I edit files once I&#039;m in. I have opened remote files using the local copy of vim before, but I&#039;m not sure how that would work via telnet as I cannot connect via ssh. There does not seem to be an editor present on the router itself. Also I only saw a hosts file in the home dir. Possibly netwall-rules is where the firewall rules go?</p>											<p class="post-edited">(Last edited by <strong>adamlogan</strong> on 6 Jan 2011, 02:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124632">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">adamlogan</div>
					<div class="post-datetime">
						6 Jan 2011, 13:14					</div>
				</div>
				<div class="post-content content">
					<p>@fyi<br />Thanks, just took a look at the Gargoyle project, good to know about the front ends for open-wrt, and that Gargoyle is focused on the user&#039;s experience compared to the others that provide (as much as possible) all the bells and whistles.</p><p>Any comments on how to actually get ip blocking with stock firmware as is with telnet? Only thing that I can think of is to just overwrite files. Speaking of which, how do I know whether the firmware is squash (read only) or the other one which can be edited in place?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124663">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						6 Jan 2011, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>I think you&#039;re spinning your wheels here... just put OpenWrt on it.&nbsp; It&#039;s stable.&nbsp; Otherwise, try Gargoyle like fyi suggested.</p><p>Try this thread:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=27722">https://forum.openwrt.org/viewtopic.php?id=27722</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124690">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						6 Jan 2011, 21:57					</div>
				</div>
				<div class="post-content content">
					<p>I mentioned Gargoyle because it supports blacklist and whitelist and it&#039;s still OpenWrt, just without LuCI webif.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125006">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">adamlogan</div>
					<div class="post-datetime">
						10 Jan 2011, 05:04					</div>
				</div>
				<div class="post-content content">
					<p>So, now that I have enabled telnet, have not changed user or password, am I basically an easy target for botnets and the likes? I see reports of DOS attacks in the router logs.</p><p>Tried doing:</p><div class="codebox"><pre><code>root@WNDR3700:/# passwd root
passwd: no record of root in /etc/shadow, using /etc/passwd
Changing password for root
New password:
Retype password:
passwd: cannot create &#039;/etc/passwd+&#039;: File exists
passwd: cannot update password file /etc/passwd
root@WNDR3700:/#</code></pre></div><p>Once again, I find myself trying to use less to view the contents of the /etc/passwd file and getting slapped in the face that less does not exist on the system..</p>											<p class="post-edited">(Last edited by <strong>adamlogan</strong> on 10 Jan 2011, 05:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125025">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						10 Jan 2011, 09:19					</div>
				</div>
				<div class="post-content content">
					<p>I have no idea what&#039;s wrong. Just access FailSafe mode and run firstboot to delete mtd rootfs_data. I should have reminded you not to keep the previous configuration.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125506">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">adamlogan</div>
					<div class="post-datetime">
						15 Jan 2011, 06:50					</div>
				</div>
				<div class="post-content content">
					<p>@fyi<br />I read somewhere that Netgear routers reports DOS attacks even when not connected to WAN, sounds ludricous but I can&#039;t say I know the truth either way. Either way I&#039;m not comfortable with a &quot;default&quot; user/pass esp at the very front of a cable modem. The firstboot command &quot;is for formatting the JFFS2 partition on flash and creating the directory structure; you only need to run it after upgrading the firmware or if you like to restore the default filesystem.&quot; I&#039;m still using stock firmware, have not installed openwrt, but it seems like WNDR3007 stock has it&#039;s own build of openwrt going on. Correct me if I&#039;m wrong, but in my mind firstboot would revert the router to out of the box &quot;factory&quot; firmware and settings? Last but not least, can I actually execute firstboot from telnet? I thought telnet was practically as limited as say sftp?</p><p>On gargoyle, it must be more than just a front end (a few extra packages?) if it includes blocklist/allow list when the underlying embedded os does not.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125529">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						15 Jan 2011, 13:47					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/troubleshooting">Troubleshooting - OpenWrt Wiki</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>