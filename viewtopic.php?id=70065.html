<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Openwrt : Not getting shell prompt after booting - At91Sam</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p353231">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tganeshg8</div>
					<div class="post-datetime">
						1 Mar 2017, 06:22					</div>
				</div>
				<div class="post-content content">
					<p>This my log :<br />AT91Bootstrap 3.5.3 (Wed Jun 25 19:41:17 CST 2014)<br />1-Wire: Loading 1-Wire information ...<br />1-Wire: ROM Searching ... Done, 0x0 1-Wire chips found<br />WARNING: 1-Wire: No 1-Wire chip found<br />1-Wire: Using defalt value SYS_GPBR2: 0x4010425, SYS_GPBR3: 0x8421<br />NAND: ONFI not supported<br />NAND: Manufacturer ID: 0xec Chip ID: 0xda<br />NAND: Disable On-Die ECC<br />NAND: Initialize PMECC params, cap: 0x2, sector: 0x200<br />NAND: Image: Copy 0x80000 bytes from 0x40000 to 0x26f00000<br />NAND: Done to load image</p><p>U-Boot 2012.10-svn283 (Jun 25 2014 - 19:41:41)<br />CPU: AT91SAM9G25<br />Crystal frequency:&nbsp; &nbsp; &nbsp; &nbsp;12 MHz<br />CPU clock&nbsp; &nbsp; &nbsp; &nbsp; :&nbsp; &nbsp; &nbsp; 400 MHz<br />Master clock&nbsp; &nbsp; &nbsp;:&nbsp; 133.333 MHz<br />I2C:&nbsp; &nbsp;ready<br />DRAM:&nbsp; 128 MiB<br />WARNING: Caches not enabled<br />NAND:&nbsp; 256 MiB<br />MMC:&nbsp; &nbsp;mci: 0<br />In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />EEPROM: Invalid ID (00 00 00 00)<br />Net:&nbsp; &nbsp;macb0<br />USB:&nbsp; &nbsp;scanning bus for devices... 1 USB Device(s) found<br />0 Storage Device(s) found<br />USB upgrade initialize USB failed.<br />Hit any key to stop autoboot:&nbsp; 0<br />NAND read: device 0 offset 0x180000, size 0x80000<br />524288 bytes read: OK<br />NAND read: device 0 offset 0x200000, size 0x600000<br />Skipping bad block 0x004c0000<br />6291456 bytes read: OK<br />## Booting kernel from Legacy Image at 22000000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;OpenWrt ARM 4.4.14<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;ARM Linux Kernel Image (uncompressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 5066975 Bytes = 4.8 MiB<br />&nbsp; &nbsp;Load Address: 20008000<br />&nbsp; &nbsp;Entry Point:&nbsp; 20008000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />## Flattened Device Tree blob at 21000000<br />&nbsp; &nbsp;Booting using the fdt blob at 0x21000000<br />&nbsp; &nbsp;Loading Kernel Image ... OK<br />OK<br />&nbsp; &nbsp;Loading Device Tree to 27ddd000, end 27de6a36 ... OK<br />Starting kernel ...<br />[&nbsp; &nbsp; 0.000000] Booting Linux on physical CPU 0x0<br />[&nbsp; &nbsp; 0.000000] Linux version 4.4.14 (ganesh@hpTestPc) (gcc version 5.3.0 (OpenWrt GCC 5.3.0 50104) ) #18 Tue Feb 28 16:29:23 UTC 2017<br />[&nbsp; &nbsp; 0.000000] CPU: ARM926EJ-S [41069265] revision 5 (ARMv5TEJ), cr=0005317f<br />[&nbsp; &nbsp; 0.000000] CPU: VIVT data cache, VIVT instruction cache<br />[&nbsp; &nbsp; 0.000000] Machine model: Atmel AT91SAM9G25-EK<br />[&nbsp; &nbsp; 0.000000] Memory policy: Data cache writeback<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 32512<br />[&nbsp; &nbsp; 0.000000] Kernel command line: root=/dev/mtdblock1 rw rootfstype=ubifs ubi.mtd=1 root=ubi0:rootfs<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />[&nbsp; &nbsp; 0.000000] Memory: 112068K/131072K available (3342K kernel code, 109K rwdata, 1208K rodata, 12824K init, 194K bss, 19004K reserved, 0K cma-reserved)<br />[&nbsp; &nbsp; 0.000000] Virtual kernel memory layout:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;vector&nbsp; : 0xffff0000 - 0xffff1000&nbsp; &nbsp;(&nbsp; &nbsp;4 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;fixmap&nbsp; : 0xffc00000 - 0xfff00000&nbsp; &nbsp;(3072 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;vmalloc : 0xc8800000 - 0xff800000&nbsp; &nbsp;( 880 MB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;lowmem&nbsp; : 0xc0000000 - 0xc8000000&nbsp; &nbsp;( 128 MB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;modules : 0xbf000000 - 0xc0000000&nbsp; &nbsp;(&nbsp; 16 MB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp;.text : 0xc0008000 - 0xc0479db4&nbsp; &nbsp;(4552 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp;.init : 0xc047a000 - 0xc1100000&nbsp; &nbsp;(12824 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp;.data : 0xc1100000 - 0xc111b75c&nbsp; &nbsp;( 110 kB)<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp; &nbsp; .bss : 0xc111b75c - 0xc114c0f4&nbsp; &nbsp;( 195 kB)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:16 nr_irqs:16 16<br />[&nbsp; &nbsp; 0.000000] clocksource: pit: mask: 0xfffffff max_cycles: 0xfffffff, max_idle_ns: 14334453866 ns<br />[&nbsp; &nbsp; 0.000000] sched_clock: 32 bits at 100 Hz, resolution 10000000ns, wraps every 21474836475000000ns<br />[&nbsp; &nbsp; 0.070000] Calibrating delay loop... 199.06 BogoMIPS (lpj=995328)<br />[&nbsp; &nbsp; 0.070000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.070000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.070000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.070000] CPU: Testing write buffer coherency: ok<br />[&nbsp; &nbsp; 0.070000] Setting up static identity map for 0x20008400 - 0x2000843c<br />[&nbsp; &nbsp; 0.090000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns<br />[&nbsp; &nbsp; 0.090000] pinctrl core: initialized pinctrl subsystem<br />[&nbsp; &nbsp; 0.100000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.100000] DMA: preallocated 256 KiB pool for atomic coherent allocations<br />[&nbsp; &nbsp; 0.100000] AT91: Detected SoC family: at91sam9x5<br />[&nbsp; &nbsp; 0.100000] AT91: Detected SoC: at91sam9g25, revision 1<br />[&nbsp; &nbsp; 0.120000] gpio-at91 fffff400.gpio: at address c8852400<br />[&nbsp; &nbsp; 0.120000] gpio-at91 fffff600.gpio: at address c8854600<br />[&nbsp; &nbsp; 0.120000] gpio-at91 fffff800.gpio: at address c8856800<br />[&nbsp; &nbsp; 0.120000] gpio-at91 fffffa00.gpio: at address c8858a00<br />[&nbsp; &nbsp; 0.120000] pinctrl-at91 ahb:apb:pinctrl@fffff400: initialized AT91 pinctrl driver<br />[&nbsp; &nbsp; 0.810000] clocksource: Switched to clocksource pit<br />[&nbsp; &nbsp; 0.810000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.810000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.810000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.810000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.810000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.810000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.810000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 1.550000] futex hash table entries: 256 (order: -1, 3072 bytes)<br />[&nbsp; &nbsp; 1.590000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 1.590000] jffs2: version 2.2 (NAND) (SUMMARY) (ZLIB) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 1.600000] io scheduler noop registered<br />[&nbsp; &nbsp; 1.600000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 1.600000] fffff200.serial: ttyS0 at MMIO 0xfffff200 (irq = 16, base_baud = 8333333) is a ATMEL_SERIAL<br />[&nbsp; &nbsp; 1.960000] console [ttyS0] enabled<br />[&nbsp; &nbsp; 1.970000] f801c000.serial: ttyS1 at MMIO 0xf801c000 (irq = 30, base_baud = 8333333) is a ATMEL_SERIAL<br />[&nbsp; &nbsp; 1.990000] atmel_nand 40000000.nand: Use On Flash BBT<br />[&nbsp; &nbsp; 1.990000] atmel_nand 40000000.nand: Failed to request DMA channel<br />[&nbsp; &nbsp; 2.000000] atmel_nand 40000000.nand: No DMA support for NAND access.<br />[&nbsp; &nbsp; 2.010000] nand: device found, Manufacturer ID: 0xec, Chip ID: 0xda<br />[&nbsp; &nbsp; 2.010000] nand: Samsung NAND 256MiB 3,3V 8-bit<br />[&nbsp; &nbsp; 2.020000] nand: 256 MiB, SLC, erase size: 128 KiB, page size: 2048, OOB size: 64<br />[&nbsp; &nbsp; 2.020000] atmel_nand 40000000.nand: can&#039;t detect min. ECC, assume 2 bits in 512 bytes<br />[&nbsp; &nbsp; 2.030000] atmel_nand 40000000.nand: Initialize PMECC params, cap: 2, sector: 512<br />[&nbsp; &nbsp; 2.040000] Bad block table found at page 131008, version 0x01<br />[&nbsp; &nbsp; 2.050000] Bad block table found at page 130944, version 0x01<br />[&nbsp; &nbsp; 2.050000] nand_read_bbt: bad block at 0x0000004c0000<br />[&nbsp; &nbsp; 2.060000] nand_read_bbt: bad block at 0x0000015e0000<br />[&nbsp; &nbsp; 2.070000] nand_read_bbt: bad block at 0x000002940000<br />[&nbsp; &nbsp; 2.070000] nand_read_bbt: bad block at 0x0000039e0000<br />[&nbsp; &nbsp; 2.080000] nand_read_bbt: bad block at 0x000005f80000<br />[&nbsp; &nbsp; 2.080000] nand_read_bbt: bad block at 0x000006a60000<br />[&nbsp; &nbsp; 2.090000] nand_read_bbt: bad block at 0x000009f40000<br />[&nbsp; &nbsp; 2.090000] nand_read_bbt: bad block at 0x00000e240000<br />[&nbsp; &nbsp; 2.100000] nand_read_bbt: bad block at 0x00000f400000<br />[&nbsp; &nbsp; 2.100000] 5 ofpart partitions found on MTD device atmel_nand<br />[&nbsp; &nbsp; 2.110000] Creating 5 MTD partitions on &quot;atmel_nand&quot;:<br />[&nbsp; &nbsp; 2.110000] 0x000000000000-0x000000040000 : &quot;at91bootstrap&quot;<br />[&nbsp; &nbsp; 2.120000] 0x000000040000-0x0000000c0000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 2.130000] 0x0000000c0000-0x000000200000 : &quot;U-Boot Env&quot;<br />[&nbsp; &nbsp; 2.140000] 0x000000200000-0x000000800000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 2.150000] 0x000000800000-0x000020000000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 2.150000] mtd: partition &quot;rootfs&quot; extends beyond the end of device &quot;atmel_nand&quot; -- size truncated to 0xf800000<br />[&nbsp; &nbsp; 2.170000] mtd: device 4 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 2.180000] mtdsplit: no squashfs found in &quot;rootfs&quot;<br />[&nbsp; &nbsp; 2.190000] libphy: MACB_mii_bus: probed<br />[&nbsp; &nbsp; 2.200000] macb f802c000.ethernet eth0: Cadence MACB rev 0x0001010c at 0xf802c000 irq 35 (f6:bc:f7:4b:79:08)<br />[&nbsp; &nbsp; 2.210000] macb f802c000.ethernet eth0: attached PHY driver [Generic PHY] (mii_bus:phy_addr=f802c000.etherne:01, irq=-1)<br />[&nbsp; &nbsp; 2.220000] AT91: Starting after user reset<br />[&nbsp; &nbsp; 2.230000] at91sam9_wdt: enabled (heartbeat=15 sec, nowayout=0)<br />[&nbsp; &nbsp; 2.240000] atmel_mci f0008000.mmc: version: 0x504<br />[&nbsp; &nbsp; 2.240000] atmel_mci f0008000.mmc: using PIO<br />[&nbsp; &nbsp; 2.250000] atmel_mci f0008000.mmc: No vmmc regulator found<br />[&nbsp; &nbsp; 2.250000] atmel_mci f0008000.mmc: No vqmmc regulator found<br />[&nbsp; &nbsp; 2.300000] atmel_mci f0008000.mmc: Atmel MCI controller at 0xf0008000 irq 29, 1 slots<br />[&nbsp; &nbsp; 2.310000] NET: Registered protocol family 10<br />[&nbsp; &nbsp; 2.320000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 2.320000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.<br />[&nbsp; &nbsp; 2.340000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 2.350000] ubi0: attaching mtd1<br />[&nbsp; &nbsp; 2.350000] ubi0: scanning is finished<br />[&nbsp; &nbsp; 2.360000] ubi0 error: ubi_read_volume_table: the layout volume was not found<br />[&nbsp; &nbsp; 2.360000] ubi0 error: ubi_attach_mtd_dev: failed to attach mtd1, error -22<br />[&nbsp; &nbsp; 2.370000] UBI error: cannot attach mtd1<br />[&nbsp; &nbsp; 2.370000] hctosys: unable to open rtc device (rtc0)<br />[&nbsp; &nbsp; 2.480000] Freeing unused kernel memory: 12824K (c047a000 - c1100000)<br />[&nbsp; &nbsp; 2.520000] init: Console is alive<br />[&nbsp; &nbsp; 2.520000] init: - watchdog -<br />[&nbsp; &nbsp; 2.580000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp; 2.580000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp; 2.590000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp; 2.600000] exFAT: Version 1.2.9<br />[&nbsp; &nbsp; 2.610000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp; 2.620000] ohci-platform: OHCI generic platform driver<br />[&nbsp; &nbsp; 2.630000] ohci-atmel: OHCI Atmel driver<br />[&nbsp; &nbsp; 2.640000] at91_ohci 600000.ohci: USB Host Controller<br />[&nbsp; &nbsp; 2.640000] at91_ohci 600000.ohci: new USB bus registered, assigned bus number 1<br />[&nbsp; &nbsp; 2.650000] at91_ohci 600000.ohci: irq 36, io mem 0x00600000<br />[&nbsp; &nbsp; 2.720000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp; 2.730000] hub 1-0:1.0: 3 ports detected<br />[&nbsp; &nbsp; 2.750000] init: - preinit -<br />Press the [f] key and hit [enter] to enter failsafe mode<br />Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br />[&nbsp; &nbsp; 6.050000] procd: - early -<br />[&nbsp; &nbsp; 6.050000] procd: - watchdog -<br />[&nbsp; &nbsp; 6.670000] procd: - ubus -<br />[&nbsp; &nbsp; 6.730000] random: ubusd urandom read with 12 bits of entropy available<br />[&nbsp; &nbsp; 6.740000] procd: - init -<br />[&nbsp; &nbsp; 8.060000] ip6_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp; 8.110000] i2c /dev entries driver<br />[&nbsp; &nbsp; 8.190000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp; 8.210000] nf_conntrack version 0.5.0 (1951 buckets, 7804 max)<br />[&nbsp; &nbsp; 8.290000] xt_time: kernel timezone is -0000<br />[&nbsp; &nbsp; 8.330000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp; 8.340000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;15.440000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready<br />[&nbsp; &nbsp;17.200000] macb f802c000.ethernet eth0: link up (100/Full)<br />[&nbsp; &nbsp;17.200000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready<br />-------------------------------------------------------------------------------------------------------------------<br />Please help me ... what option have to modify in make menuconfig</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>