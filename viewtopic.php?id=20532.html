<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [dev][ppc40x] can&#039;t mount system during boot</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p89091">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">paranoiq</div>
					<div class="post-datetime">
						2 Jun 2009, 00:48					</div>
				</div>
				<div class="post-content content">
					<p>Hello.<br />I&#039;m trying to get latest development version of Openwrt to work on my ppc40x device - Magicbox v2.<br />Unfortunately I&#039;m getting error during boot telling me that root fs can&#039;t be mounted.</p><p>I didn&#039;t change anything in kernel. Just took <strong>default</strong> config.<br />I checked-squashfs is compiled into kernel. I really don&#039;t have any ideas. <br />Earlier tried to mess up with MTD section (couldn&#039;t see the device at all), but it didn&#039;t help.</p><p>Am I missing sth or it&#039;s a bug? <br /><a href="https://dev.openwrt.org/wiki/ppc40x">https://dev.openwrt.org/wiki/ppc40x</a> says it should work</p><p>The error I get is:<br /></p><div class="codebox"><pre><code>ffc00000.nor_flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
ffc00000.nor_flash: Swapping erase regions for broken CFI table.
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
cmdlinepart partition parsing not available
RedBoot partition parsing not available
Creating 3 MTD partitions on &quot;ffc00000.nor_flash&quot;:
0x00000000-0x003c0000 : &quot;linux&quot;
0x00100000-0x003c0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
split_squashfs: no squashfs found in &quot;ffc00000.nor_flash&quot;
0x003c0000-0x003f0000 : &quot;u-boot&quot;
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
List of all partitions:
1f00            3840 mtdblock0 (driver?)
1f01            2816 mtdblock1 (driver?)
1f02             192 mtdblock2 (driver?)
No filesystem could mount root, tried:  squashfs
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,1)
Rebooting in 180 seconds..</code></pre></div><p>And from the Uboot:<br /></p><div class="codebox"><pre><code>=&gt; printenv

baudrate=115200
ethaddr=00:50:C2:1E:CF:FE
eth1addr=00:50:C2:1E:CF:FD
kernel_addr=ffC00000
bootdelay=5
bootm=ffC00000
bootcmd=bootm ffc00000
ipaddr=10.5.100.1
serverip=10.5.100.2
bootargs=console=ttyS0,115200 root=/dev/mtdblock1 rootfstype=squashfs noinitrd init=/etc/preinit

stdin=serial
stdout=serial
stderr=serial
ver=U-Boot 1.1.2 (Apr 14 2007 - 16:51:19)</code></pre></div><p>using: <br />gcc 4.2.4<br />binutils 2.19.1<br />uClibc-0.9.30.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89285">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">paranoiq</div>
					<div class="post-datetime">
						4 Jun 2009, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>*bump*</p><p>anyone?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>