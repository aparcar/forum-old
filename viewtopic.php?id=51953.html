<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> no virtual ethernet card detected after building from source [VBOX]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p242404">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">arty.net</div>
					<div class="post-datetime">
						1 Aug 2014, 16:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi folks,</p><p>Since I needed to build my own VIRTUALBOX image of openwrt for test purposes, before running the make command I embedded all the <strong>Network Devices</strong> and <strong>Network Support</strong> modules in the kernel with the <strong>*</strong> selection.</p><p>However, Virtualbox still can&#039;t detect the virtual network card bun onli the lo interface : </p><p><span class="postimg"><img src="https://dl.dropboxusercontent.com/u/12693688/ifconfig-openwrt-VirtualBox_039.png" alt="ifconfig bbcode test" /></span></p><p>i really have the hunch I forgot to embed some important module........i can&#039;t also find the /etc/network/interface configuration file ! ! !</p>											<p class="post-edited">(Last edited by <strong>arty.net</strong> on 1 Aug 2014, 17:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242405">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						1 Aug 2014, 16:53					</div>
				</div>
				<div class="post-content content">
					<p>WTF does &quot;card bun onli the lo&quot; mean?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242407">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">arty.net</div>
					<div class="post-datetime">
						1 Aug 2014, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>loop card, the localhost....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242409">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						1 Aug 2014, 17:11					</div>
				</div>
				<div class="post-content content">
					<p>&quot;However, Virtualbox still can&#039;t detect the virtual network loop card, the localhost&quot; still doesn&#039;t make any sense</p><p>Either way you really need to post your system log, drivers list, and virtualbox configuration.</p>											<p class="post-edited">(Last edited by <strong>qasdfdsaq</strong> on 1 Aug 2014, 17:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242418">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">arty.net</div>
					<div class="post-datetime">
						1 Aug 2014, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>my setup is a generic Linux 2.6/3.x (32 bit) environment with Intel e1000 network card which is already embedded as I told in the first post.....then the network card is brided to the local LAN by means of the wlan card of&nbsp; my laptop...</p><p>The plain image of the VDI released on the forum automatically detects and enables the network card without any issue....</p>											<p class="post-edited">(Last edited by <strong>arty.net</strong> on 1 Aug 2014, 18:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242423">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						1 Aug 2014, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>Like I said, you need to post your system log, drivers list, and virtualbox configuration. That means your actual system log output, your actual list of installed drivers, and actual virtualbox configuration file, not some vague description of what you think is important.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242649">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">arty.net</div>
					<div class="post-datetime">
						4 Aug 2014, 03:37					</div>
				</div>
				<div class="post-content content">
					<p>I decided to run the plain x86 image from the repo and embed all the default packages in it :</p><div class="codebox"><pre><code>EMBEDDED SOFTWARE ON PLAIN X86 BUILD 

base-files - 117-r36088
busybox - 1.19.4-6
dnsmasq - 2.62-2
dropbear - 2011.54-2
firewall - 2-55.1
grub - 0.97-3
hotplug2 - 1.0-beta-4
iptables - 1.4.10-4
jshn - 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8
kernel - 3.3.8-1-fa7af62e0ef1d529ecb7f7efccc706c3
kmod-3c59x - 3.3.8-1
kmod-8139too - 3.3.8-1
kmod-e100 - 3.3.8-1
kmod-e1000 - 3.3.8-1
kmod-ipt-conntrack - 3.3.8-1
kmod-ipt-core - 3.3.8-1
kmod-ipt-nat - 3.3.8-1
kmod-ipt-nathelper - 3.3.8-1
kmod-lib-crc-ccitt - 3.3.8-1
kmod-libphy - 3.3.8-1
kmod-natsemi - 3.3.8-1
kmod-ne2k-pci - 3.3.8-1
kmod-pcnet32 - 3.3.8-1
kmod-ppp - 3.3.8-1
kmod-pppoe - 3.3.8-1
kmod-pppox - 3.3.8-1
kmod-r8169 - 3.3.8-1
kmod-sis900 - 3.3.8-1
kmod-tg3 - 3.3.8-1
kmod-via-rhine - 3.3.8-1
kmod-via-velocity - 3.3.8-1
libblobmsg-json - 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8
libc - 0.9.33.2-1
libgcc - 4.6-linaro-1
libip4tc - 1.4.10-4
libiwinfo - 36
libiwinfo-lua - 36
libjson - 0.9-2
liblua - 5.1.4-8
libnl-tiny - 0.1-3
libubox - 2013-01-29-0bc317aa4d9af44806c28ca286d79a8b5a92b2b8
libubus - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
libubus-lua - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
libuci - 2013-01-04.1-1
libuci-lua - 2013-01-04.1-1
libxtables - 1.4.10-4
lua - 5.1.4-8
luci - 0.11+svn9769-1
luci-app-firewall - 0.11+svn9769-1
luci-i18n-english - 0.11+svn9769-1
luci-lib-core - 0.11+svn9769-1
luci-lib-ipkg - 0.11+svn9769-1
luci-lib-nixio - 0.11+svn9769-1
luci-lib-sys - 0.11+svn9769-1
luci-lib-web - 0.11+svn9769-1
luci-mod-admin-core - 0.11+svn9769-1
luci-mod-admin-full - 0.11+svn9769-1
luci-proto-core - 0.11+svn9769-1
luci-proto-ppp - 0.11+svn9769-1
luci-sgi-cgi - 0.11+svn9769-1
luci-theme-base - 0.11+svn9769-1
luci-theme-openwrt - 0.11+svn9769-1
mtd - 18.1
netifd - 2013-01-29.2-4bb99d4eb462776336928392010b372236ac3c93
opkg - 618-3
ppp - 2.4.5-8
ppp-mod-pppoe - 2.4.5-8
ubus - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
ubusd - 2013-01-13-bf566871bd6a633e4504c60c6fc55b2a97305a50
uci - 2013-01-04.1-1
uhttpd - 2012-10-30-e57bf6d8bfa465a50eea2c30269acdfe751a46fd</code></pre></div><br /><p>of course my build contains a lot of other embedded software but the result is always the same. Please take a look at my configuration file : </p><p><a href="https://www.dropbox.com/s/wof2kqu46hz7yp4/config-x86-arty-5">https://www.dropbox.com/s/wof2kqu46hz7y â€¦ x86-arty-5</a></p><div class="codebox"><pre><code>ACTIVE MODULES ON PLAIN BUILD

Module                  Size  Used by    Not tainted
via_velocity           20024  0 
via_rhine              14560  0 
tg3                   107288  0 
sis900                 14100  0 
r8169                  34428  0 
pcnet32                23364  0 
ne2k_pci                4512  0 
8390                    4788  1 ne2k_pci
e100                   21788  0 
8139too                12788  0 
3c59x                  25916  0 
nf_nat_irc               660  0 
nf_conntrack_irc        2296  1 nf_nat_irc
nf_nat_ftp               916  0 
nf_conntrack_ftp        4148  1 nf_nat_ftp
ipt_MASQUERADE           852  1 
iptable_nat             2388  1 
nf_nat                  9248  4 nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat
pppoe                   6164  0 
xt_conntrack            2068  3 
xt_CT                   1108  0 
xt_NOTRACK               436  0 
iptable_raw              532  1 
xt_state                 596  0 
nf_conntrack_ipv4       3996  6 iptable_nat,nf_nat
nf_defrag_ipv4           596  1 nf_conntrack_ipv4
nf_conntrack           32804 12 nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_conntrack,xt_CT,xt_NOTRACK,xt_state,nf_conntrack_ipv4
pppox                    900  1 pppoe
libphy                 11220  1 tg3
ipt_REJECT              1556  2 
xt_TCPMSS               2292  0 
ipt_LOG                 5764  0 
xt_comment               404  0 
xt_multiport            1044  0 
xt_mac                   500  0 
xt_limit                1012  1 
iptable_mangle           756  1 
iptable_filter           564  1 
ip_tables               7636  4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter
xt_tcpudp               1524  3 
x_tables                8216 18 ipt_MASQUERADE,iptable_nat,xt_conntrack,xt_CT,xt_NOTRACK,iptable_raw,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_comment,xt_multiport,xt_mac,xt_limit,iptable_mangle,iptable_filter,ip_tables,xt_tcpudp
e1000                  76784  0 
ppp_async               4628  0 
ppp_generic            16288  3 pppoe,pppox,ppp_async
slhc                    3668  1 ppp_generic
natsemi                17604  0 
crc_ccitt                884  1 ppp_async</code></pre></div><p>The virtualbox configuration is a standard one. One ide device and one network ethernet card (Intel e1000 emulation in bridge mode with embedded driver in the build)....I can&#039;t print all the active modules since i can&#039;t perform a copy/paste in the newly generated built virtual machine...</p>											<p class="post-edited">(Last edited by <strong>arty.net</strong> on 4 Aug 2014, 03:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242654">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">arty.net</div>
					<div class="post-datetime">
						4 Aug 2014, 04:12					</div>
				</div>
				<div class="post-content content">
					<p>maybe i&#039;ve found the issue, since I have modified the kernel name with custom entries with the </p><div class="codebox"><pre><code>CONFIG_LOCALVERSION=&quot; master 1.0 $gitcommit&quot;</code></pre></div><p>and not with :</p><div class="codebox"><pre><code>CONFIG_LOCALVERSION=&quot;-master-1.0-$gitcommit&quot;</code></pre></div><p>separated by a blank space and not from a dash. I am re-building the image and check if the kernel folder is named after that and properly loads the peripherals modules....</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>