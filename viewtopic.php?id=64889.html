<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> IGMP Snooping with MT7620x</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p324255">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ligo.george</div>
					<div class="post-datetime">
						17 May 2016, 10:41					</div>
				</div>
				<div class="post-content content">
					<p>I am trying to enable IGMP on a router made in china. It is using MT7620x.</p><p>I added IGMP snooping option in network, sysctrl etc. But it is not working. All multicast traffic are forwaded to all ports on the LAN.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324257">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ligo.george</div>
					<div class="post-datetime">
						17 May 2016, 11:01					</div>
				</div>
				<div class="post-content content">
					<p>Will that internal switch of MT7620 support IGMP ? If so, how can I enable it ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324288">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ligo.george</div>
					<div class="post-datetime">
						17 May 2016, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>Somebody please help me to enable IGMP with MT7620</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324296">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						17 May 2016, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>mt7620 supports hw igmp snooping, but im not sure it&#039;s currently implemented</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324298">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ligo.george</div>
					<div class="post-datetime">
						17 May 2016, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>I tried searching on internet, I didn&#039;t find any details to enable it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324300">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ligo.george</div>
					<div class="post-datetime">
						17 May 2016, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>In this link : <a href="http://samtelecom.ru/filemanager/download/5567">http://samtelecom.ru/filemanager/download/5567</a><br />A router made using MT7620, it says it will support IGMP and IPTV things.</p><p>For testing I am broadcasting UDP multicast MPEG TS, from a PC connected to the LAN of the router. But all other LAN devices are getting those packets without any subscription .</p>											<p class="post-edited">(Last edited by <strong>ligo.george</strong> on 17 May 2016, 16:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324318">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						17 May 2016, 18:48					</div>
				</div>
				<div class="post-content content">
					<p>keenetic is powered by it&#039;s own firmware based on Ralink ApSoC SDK kernel with proprietary drivers which support IGMP/MLD snooping feature for mt7620n</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324320">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">nenekofi</div>
					<div class="post-datetime">
						17 May 2016, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>The one thing I&#039;ve noticed is that OpenWrt&#039;s support for most of the Mediatek routers, especially the MT762x&#039;s are incomplete. The current support gets you 90% there. Anything custom, i.e. kernel services and drivers not used by most people are not supported. I needed RvMII for my MT7620 and I had to port that over from the original driver provided by Mediatek. And so was enabling the second serial interface on the 7620. The good news is that blogics implementation of the gsw/esw drivers are basically a direct port of the original driver so get your hands on the original driver. Find where the snooping is implemented and port it over. That&#039;s step one. </p><p>Step two: it might just be something that needs to be enabled in the device tree. Grep for snooping here:<br /></p><div class="codebox"><pre><code>your_base_dir/target/linux/ramips/dts</code></pre></div><p>or google &#039;openwrt enable snooping in device tree&#039;. Good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324473">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ligo.george</div>
					<div class="post-datetime">
						18 May 2016, 05:13					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the information. I will try it.<br />I tried searching like that, but no perfectly matching results.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>