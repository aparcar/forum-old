<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Ubiquiti RouterStation [AR71xx] USB errors</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p82722">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">freezer2k</div>
					<div class="post-datetime">
						26 Feb 2009, 18:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I already posted this on the Ubiquiti forum, but since it&#039;s OpenWRT, maybe someone here knows help too.</p><p>Original post:</p><p>---------------------------------------------------------------------------------------------------------------------</p><br /><p>Hi,</p><br /><p>Just got the RouterStation.</p><p>I flashed <a href="http://www.ubnt.com/downloads/RS/RSx.ar7100.OpenWRT.bin">http://www.ubnt.com/downloads/RS/RSx.ar7100.OpenWRT.bin</a> to it. Also tried the latest openwrt snapshot, with similar problems, but the log is from the ubnt.com image!</p><p>What I did:</p><p>I attached a 16GB Sandisk flashdrive to the USB-Port. The drive contains a ext3 FS and first everything seems fine (its been detected with right size etc.). Im able to mount the drive to /mnt/usb using the mount -t ext3 /dev/sda /mnt/usb command. I can see the lost+found dir there and did a &#039;touch test&#039;</p><p>Shortly after that first errors came up (see log). So even small writing operations cause it to freeze/crash. Also tried to transfer a huge file over sftp ... but it stalled instantly.</p><p>Is this problem known? Any ideas how to fix it? Anyone is succesfully using USB, whats your setup?</p><p>Thanks in advance,</p><p>Freezer</p><br /><p>The Log:</p><br /><p>usb 1-1: new high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />scsi0 : SCSI emulation for USB Mass Storage devices<br />usb-storage: device found at 2<br />usb-storage: waiting for device to settle before scanning<br />scsi 0:0:0:0: Direct-Access SanDisk Cruzer 8.02 PQ: 0 ANSI: 0 CCS<br />sd 0:0:0:0: [sda] 31301631 512-byte hardware sectors (16026 MB)<br />sd 0:0:0:0: [sda] Write Protect is off<br />sd 0:0:0:0: [sda] Mode Sense: 45 00 00 08<br />sd 0:0:0:0: [sda] Assuming drive cache: write through<br />sd 0:0:0:0: [sda] 31301631 512-byte hardware sectors (16026 MB)<br />sd 0:0:0:0: [sda] Write Protect is off<br />sd 0:0:0:0: [sda] Mode Sense: 45 00 00 08<br />sd 0:0:0:0: [sda] Assuming drive cache: write through<br />sda: unknown partition table<br />sd 0:0:0:0: [sda] Attached SCSI removable disk<br />scsi 0:0:0:1: CD-ROM SanDisk Cruzer 8.02 PQ: 0 ANSI: 0<br />usb-storage: device scan complete<br />kjournald starting. Commit interval 5 seconds<br />EXT3 FS on sda, internal journal<br />EXT3-fs: recovery complete.<br />EXT3-fs: mounted filesystem with ordered data mode.<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: device descriptor read/8, error -145<br />usb 1-1: device descriptor read/8, error -145<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: device descriptor read/8, error -145<br />usb 1-1: device descriptor read/8, error -145<br />sd 0:0:0:0: Device offlined - not ready after error recovery<br />sd 0:0:0:0: [sda] Result: hostbyte=0x05 driverbyte=0x00<br />end_request: I/O error, dev sda, sector 8<br />Buffer I/O error on device sda, logical block 1<br />lost page write due to I/O error on sda<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />Buffer I/O error on device sda, logical block 1469<br />lost page write due to I/O error on sda<br />sd 0:0:0:0: [sda] Result: hostbyte=0x01 driverbyte=0x00<br />end_request: I/O error, dev sda, sector 7664<br />Buffer I/O error on device sda, logical block 958<br />lost page write due to I/O error on sda<br />Buffer I/O error on device sda, logical block 959<br />lost page write due to I/O error on sda<br />usb 1-1: USB disconnect, address 2<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 3<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 4<br />EXT3-fs error (device sda): ext3_get_inode_loc: unable to read inode block - inode=2, block=959<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda) in ext3_reserve_inode_write: IO failure<br />------------[ cut here ]------------<br />WARNING: at fs/buffer.c:1186 ()<br />Modules linked in: fuse pl2303 ark3116 gpio_buttons input_polldev usb_storage usbserial snd_usb_audio snd_usb_lib ohci_hcd ath_pci wlan_xauth wlan_wep wlan_tkip wlan_ccmp wlan_acl ath_rate_minstrel ath_hal(P) wlan_scan_sta wlan_scan_ap wlan input_core ip6t_REJECT ip6t_LOG ip6t_IMQ ip6t_HL ip6t_rt ip6t_hbh ip6t_mh ip6t_ipv6header ip6t_hl ip6t_frag ip6t_eui64 ip6t_ah ip6table_raw ip6table_mangle ip6table_filter ip6_tables nf_conntrack_ipv6 ebt_vlan ebt_ulog ebt_stp ebt_snat ebt_redirect ebt_pkttype ebt_nflog ebt_mark_m ebt_mark ebt_log ebt_limit ebt_ip ebt_dnat ebt_arpreply ebt_arp ebt_among ebt_802_3 ebtable_nat ebtable_filter ebtable_broute ebtables nf_nat_snmp_basic nf_nat_sip nf_conntrack_sip nf_nat_rtsp nf_conntrack_rtsp nf_nat_pptp nf_conntrack_pptp nf_nat_h323 nf_conntrack_h323 nf_nat_proto_gre nf_conntrack_proto_gre nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp xt_policy xt_esp ipt_ah ipt_TTL xt_MARK ipt_ECN xt_CLASSIFY ipt_ttl xt_time ipt_time xt_tcpmss xt_statistic xt_mark xt_length ipt_ecn xt_DSCP xt_dscp ipt_IMQ imq xt_string xt_layer7 ipt_ipp2p ipt_MASQUERADE iptable_nat nf_nat xt_NOTRACK xt_CONNMARK ipt_recent xt_helper xt_conntrack xt_connmark xt_connbytes xt_state nf_conntrack_ipv4 nf_conntrack ehci_hcd sd_mod ipt_REJECT xt_TCPMSS ipt_LOG xt_multiport xt_mac xt_limit iptable_mangle iptable_filter ip_tables xt_tcpudp x_tables gpio_dev bonding sit ip6_tunnel ppp_mppe tunnel6 tunnel4 tun snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd_rawmidi snd_seq_device snd_hwdep snd_page_alloc snd soundcore ppp_async ppp_generic slhc vfat fat ntfs hfsplus ext3 jbd ext2 ath9k nls_utf8 nls_koi8_r nls_iso8859_2 nls_iso8859_15 nls_iso8859_1 nls_cp850 nls_cp437 nls_cp1251 nls_cp1250 usbcore scsi_mod nls_base mac80211 cfg80211 ipv6 crc_ccitt sha1_generic md5 hmac des_generic arc4 aes_generic deflate ecb cbc crypto_hash cryptomgr crypto_blkcipher aead crypto_algapi<br />Call Trace:[&lt;80066b24&gt;][&lt;80066b24&gt;][&lt;8007f444&gt;][&lt;80180e2c&gt;][&lt;8014ab8c&gt;][&lt;80180e2c&gt;][&lt;8017aa38&gt;][&lt;800abfd0&gt;][&lt;8007c5c4&gt;][&lt;80079438&gt;][&lt;80079438&gt;][&lt;8017fe6c&gt;][&lt;800794fc&gt;][&lt;8007c5c4&gt;][&lt;8007f5f0&gt;][&lt;802274a4&gt;][&lt;8007fbdc&gt;][&lt;800da050&gt;][&lt;8007bf38&gt;][&lt;80080234&gt;][&lt;8022764c&gt;][&lt;800f6620&gt;][&lt;800f2a40&gt;][&lt;c01f1894&gt;][&lt;c01f1878&gt;][&lt;80080268&gt;][&lt;c01f2678&gt;][&lt;c01f265c&gt;][&lt;c01f2524&gt;][&lt;8008028c&gt;][&lt;c01e7fd0&gt;][&lt;c01e7fc0&gt;][&lt;c01f25f0&gt;][&lt;c01f25c0&gt;][&lt;800da050&gt;][&lt;c01e80dc&gt;][&lt;c01e8074&gt;][&lt;800d40e8&gt;][&lt;c01e812c&gt;][&lt;800da050&gt;][&lt;c015f188&gt;][&lt;c01e5794&gt;][&lt;c01ebf3c&gt;][&lt;800edde8&gt;][&lt;800e2fcc&gt;][&lt;800da43c&gt;][&lt;800da418&gt;][&lt;800da050&gt;][&lt;800da4ec&gt;][&lt;800cdc48&gt;][&lt;800bde18&gt;][&lt;80068304&gt;]<br />---[ end trace 49dcdf8557ef9fd4 ]---<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda): ext3_get_inode_loc: unable to read inode block - inode=2, block=959<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda) in ext3_reserve_inode_write: IO failure<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda): ext3_get_inode_loc: unable to read inode block - inode=2, block=959<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda) in ext3_reserve_inode_write: IO failure<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda): ext3_get_inode_loc: unable to read inode block - inode=2, block=959<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />EXT3-fs error (device sda) in ext3_reserve_inode_write: IO failure<br />Buffer I/O error on device sda, logical block 0<br />lost page write due to I/O error on sda<br />Buffer I/O error on device sda, logical block 1901063<br />lost page write due to I/O error on sda<br />Aborting journal on device sda.<br />Buffer I/O error on device sda, logical block 1901056<br />lost page write due to I/O error on sda<br />usb 1-1: device descriptor read/64, error -145<br />ext3_abort called.<br />EXT3-fs error (device sda): ext3_journal_start_sb: Detected aborted journal<br />Remounting filesystem read-only<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 5<br />usb 1-1: device descriptor read/8, error -145<br />usb 1-1: device descriptor read/8, error -145<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 6<br />usb 1-1: device descriptor read/8, error -145<br />usb 1-1: device descriptor read/8, error -145<br />hub 1-0:1.0: unable to enumerate USB device on port 1<br />usb 2-1: new full speed USB device using ar71xx-ohci and address 2<br />usb 2-1: device descriptor read/64, error -145<br />usb 2-1: device descriptor read/64, error -145<br />usb 2-1: new full speed USB device using ar71xx-ohci and address 3<br />Buffer I/O error on device sda, logical block 1901056<br />lost page write due to I/O error on sda<br />scsi 0:0:0:0: rejecting I/O to dead device<br />usb 2-1: device descriptor read/64, error -145<br />usb 2-1: device descriptor read/64, error -145<br />usb 2-1: new full speed USB device using ar71xx-ohci and address 4<br />usb 2-1: device descriptor read/8, error -145<br />usb 2-1: device descriptor read/8, error -145<br />usb 2-1: new full speed USB device using ar71xx-ohci and address 5<br />usb 2-1: device descriptor read/8, error -145<br />usb 2-1: device descriptor read/8, error -62<br />hub 2-0:1.0: unable to enumerate USB device on port 1<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 7<br />usb 1-1: configuration #1 chosen from 1 choice<br />scsi1 : SCSI emulation for USB Mass Storage devices<br />usb-storage: device found at 7<br />usb-storage: waiting for device to settle before scanning<br />scsi 1:0:0:0: Direct-Access SanDisk Cruzer 8.02 PQ: 0 ANSI: 0 CCS<br />sd 1:0:0:0: [sda] 31301631 512-byte hardware sectors (16026 MB)<br />sd 1:0:0:0: [sda] Write Protect is off<br />sd 1:0:0:0: [sda] Mode Sense: 45 00 00 08<br />sd 1:0:0:0: [sda] Assuming drive cache: write through<br />sd 1:0:0:0: [sda] 31301631 512-byte hardware sectors (16026 MB)<br />sd 1:0:0:0: [sda] Write Protect is off<br />sd 1:0:0:0: [sda] Mode Sense: 45 00 00 08<br />sd 1:0:0:0: [sda] Assuming drive cache: write through<br />sda: unknown partition table<br />sd 1:0:0:0: [sda] Attached SCSI removable disk<br />scsi 1:0:0:1: CD-ROM SanDisk Cruzer 8.02 PQ: 0 ANSI: 0<br />usb-storage: device scan complete<br />kjournald starting. Commit interval 5 seconds<br />EXT3 FS on sda, internal journal<br />EXT3-fs: recovery complete.<br />EXT3-fs: mounted filesystem with ordered data mode.<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 7<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: device descriptor read/64, error -145<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 7</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82740">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">freezer2k</div>
					<div class="post-datetime">
						26 Feb 2009, 23:12					</div>
				</div>
				<div class="post-content content">
					<p>Just tested a 512MB stick with vfat.</p><br /><p>It&#039;s interesting, it seems to work better, but still errors. I was able to read over 100MB from the stick and had only some reset errors (see log).</p><p>Then i was able to write about 20MB, and then got several resets in row again and directly after that a lot of more i/o errors.</p><p>But it seems to be a lot better than the 16GB stick anyway...how can that be?</p><br /><p>Here the log for the 512MB:</p><br /><p>usb 1-1: new high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />scsi0 : SCSI emulation for USB Mass Storage devices<br />usb-storage: device found at 2<br />usb-storage: waiting for device to settle before scanning<br />scsi 0:0:0:0: Direct-Access SanDisk Cruzer Mini 0.2 PQ: 0 ANSI: 2<br />sd 0:0:0:0: [sda] 1000944 512-byte hardware sectors (512 MB)<br />sd 0:0:0:0: [sda] Write Protect is off<br />sd 0:0:0:0: [sda] Mode Sense: 03 00 00 00<br />sd 0:0:0:0: [sda] Assuming drive cache: write through<br />sd 0:0:0:0: [sda] 1000944 512-byte hardware sectors (512 MB)<br />sd 0:0:0:0: [sda] Write Protect is off<br />sd 0:0:0:0: [sda] Mode Sense: 03 00 00 00<br />sd 0:0:0:0: [sda] Assuming drive cache: write through<br />sda: sda1<br />sd 0:0:0:0: [sda] Attached SCSI removable disk<br />usb-storage: device scan complete<br />yaffs: dev is 8388609 name is &quot;sda1&quot;<br />yaffs: passed flags &quot;&quot;<br />yaffs: Attempting MTD mount on 8.1, &quot;sda1&quot;<br />yaffs: dev is 8388609 name is &quot;sda1&quot;<br />yaffs: passed flags &quot;&quot;<br />yaffs: Attempting MTD mount on 8.1, &quot;sda1&quot;<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: reset high speed USB device using ar71xx-ehci and address 2<br />sd 0:0:0:0: Device offlined - not ready after error recovery<br />sd 0:0:0:0: [sda] Result: hostbyte=0x05 driverbyte=0x00<br />end_request: I/O error, dev sda, sector 387663<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />sd 0:0:0:0: rejecting I/O to offline device<br />Buffer I/O error on device sda1, logical block 100<br />lost page write due to I/O error on sda1<br />Buffer I/O error on device sda1, logical block 101<br />lost page write due to I/O error on sda1<br />Buffer I/O error on device sda1, logical block 102<br />lost page write due to I/O error on sda1<br />sd 0:0:0:0: rejecting I/O to offline device<br />Buffer I/O error on device sda1, logical block 345<br />lost page write due to I/O error on sda1<br />Buffer I/O error on device sda1, logical block 346<br />lost page write due to I/O error on sda1<br />Buffer I/O error on device sda1, logical block 347<br />lost page write due to I/O error on sda1<br />sd 0:0:0:0: rejecting I/O to offline device<br />Buffer I/O error on device sda1, logical block 501<br />lost page write due to I/O error on sda1<br />sd 0:0:0:0: [sda] Result: hostbyte=0x01 driverbyte=0x00<br />end_request: I/O error, dev sda, sector 387903<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 102)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: FAT read failed (blocknr 100)<br />sd 0:0:0:0: rejecting I/O to offline device<br />FAT: unable to read inode block for updating (i_pos 8028)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82793">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">freezer2k</div>
					<div class="post-datetime">
						27 Feb 2009, 15:05					</div>
				</div>
				<div class="post-content content">
					<p>I made an very interesting observation:</p><br /><p>I removed the kmod-usb2 and now using kmod-usb-ohci only (USB1.1).</p><br /><p>Now I&#039;m able to write/read large files, even with the 16GB stick without problems! So the problem seems to be with USB2 only.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128969">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">languagegame</div>
					<div class="post-datetime">
						20 Feb 2011, 20:08					</div>
				</div>
				<div class="post-content content">
					<p>I am on a Netgear WNDR3700 (also a AR71xx router) and was getting this same error.&nbsp; Removing kmod-usb2 also worked to eliminate i/o errors when copying files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p128983">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">robnitro</div>
					<div class="post-datetime">
						20 Feb 2011, 20:55					</div>
				</div>
				<div class="post-content content">
					<p>Some configs may be running a bad max_sectors value for certain usb sticks.&nbsp; I use a usb hard drive, which got a speed tweak when I maxed it out to 1024, but you may need to lower it for a usb stick, depending on its driver.&nbsp; Then maybe you can do kmod-usb2 which gives you faster speeds than ohci.</p><p>If you need to commit the value for every reboot, you can add this line to /etc/sysctl.conf and reboot or run sysctl -p.<br />/sys/block/sda/device/max_sectors=xxxx (where xxxx is the value you find that works)</p><br /><p><a href="http://www.linux-usb.org/FAQ.html#i5">http://www.linux-usb.org/FAQ.html#i5</a><br /><em>Q: What is max_sectors and how should I use it?</em></p><p><em>A:For USB Mass Storage devices (that is, devices which use the usb-storage driver) max_sectors controls the maximum amount of data that will be transferred to or from the device in a single command. As the name implies this transfer length is measured in sectors, where a sector is 512 bytes (that&#039;s a logical sector size, not necessarily the same as the size of a physical sector on the device). Thus for example, max_sectors = 240 means that a single command will not transfer more than 120 KB of data.</em></p><p><em>Linux 2.6 gives you the ability to see and to change the max_sectors value for each USB storage device, independently. Assuming you have a sysfs filesystem mounted on /sys and assuming /dev/sdb is a USB drive, you can see the max_sectors value for /dev/sdb simply by running:</em></p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; cat /sys/block/sdb/device/max_sectors</em></p><p><em>and you can set max_sectors to 64 by running (as root):</em></p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; echo 64 &gt;/sys/block/sdb/device/max_sectors</em></p><p><em>Values should be positive multiples of 8 (16 on the Alpha and other 64-bit platforms). There is no upper limit, but you probably shouldn&#039;t make max_sectors much bigger than 2048 (corresponding to 1 MB, which is quite a lot).</em></p><p><em>In general, increasing max_sectors will improve throughput since it means that larger amounts of data can be transferred in a single command with no need for being split up among multiple commands. Of course this is subject to diminishing returns when max_sectors is very big. More importantly, it&#039;s true only up to a point. Many devices have limits on the amount of data they can transfer, and if you try to exceed that limit you will most likely crash the device.</em></p><p><em>The default value of 240 works well with most devices. If you&#039;re not running at USB 2.0&#039;s high speed (480 Mb/s) there&#039;s no reason to increase max_sectors. If you are running at high speed and your device can take it, feel free to go as high as you like. Note that with many devices there isn&#039;t much penalty for using a smaller-than-optimum value unless you set max_sectors to something really low! Go ahead and experiment to find what value works best with your hardware.</em></p><p><em>Some devices can only transfer 64 KB or less at a time. The most notable example is the suite of USB-IDE adapters made by Genesys Logic. According to their technical support staff transfers should be limited to 32 KB (max_sectors = 64), and usb-storage automatically sets max_sectors to this value when it detects a Genesys Logic device. However people have had no trouble using 64 KB transfers (max_sectors = 128), and that&#039;s what Windows uses. You can always increase the value above 64 using sysfs, but don&#039;t go beyond 128 as Genesys Logic devices are known to fail when transferring more than 64 KB.</em></p>											<p class="post-edited">(Last edited by <strong>robnitro</strong> on 20 Feb 2011, 20:56)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>