<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> guest network</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p305864">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pinus</div>
					<div class="post-datetime">
						2 Jan 2016, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>I tried to figure out how to configure a guest network with 15.05 using the UI. I found a wiki page describing how to configure a <a href="https://wiki.openwrt.org/doc/recipes/guest-wlan-webinterface">guest wlan with web interface</a>. That looked promising but doesn&#039;t work, mainly because it is outdated. I had a look at the Luci home to figure out what changed and was greeted with &quot;Trac detected an internal error:&quot;. Is there an active Luci page somewhere, this looks pretty dead. I would really like to figure out which page belongs to which configuration.<br />Or is there an updated manual to configure a guest interface or a description what the Luci firewall screens are about?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305875">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						2 Jan 2016, 16:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pinus wrote:</cite><blockquote><p>That looked promising but doesn&#039;t work, mainly because it is outdated.</p></blockquote></div><p>What exactly doesn&#039;t work? The default theme changed, so LuCI looks different from the screenshots now ... but the content is still the same. As far as I am aware the process itself didn&#039;t change.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305894">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">MagicSimon</div>
					<div class="post-datetime">
						2 Jan 2016, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>There is another description for guest wifi available on the openwrt wiki:<br /><a href="https://wiki.openwrt.org/doc/recipes/guest-wlan">https://wiki.openwrt.org/doc/recipes/guest-wlan</a></p><p>Don&#039;t blindly follow the steps there, but try to understand what you actually are doing. With that even a dated documention might be helpful. If you need help here, please explain what doesn&#039;t work (error messages? unexpected behaviour?). Without knowing what exactly you want to archive and why that isn&#039;t working, nobody will be able to help you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305908">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">pinus</div>
					<div class="post-datetime">
						2 Jan 2016, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>I have seen the second tutorial but it patches the config files directly. Which doesn&#039;t make it any easier.</p><p>I was able to configure the WIFI and the Interface. I could also configure the Traffic rules but they do not work for me, the DNS is not working and I can not ping to any IP. I&#039;m able to connect and I get an IP but that&#039;s it.</p><p>Firewall - Zone Settings - Zone &quot;guest&quot; is missing on the screen shots, must be new.</p><p>and </p><p>Firewall - Traffic Rules contains lots of input fields not shown on the screen shots.<br />- Open ports on router:<br />- New forward rule:<br />- New source NAT:</p><p>But what I really need is a documentation of what you do with the UI. What are the concepts of the different Items (Interfaces, Rules,...) how are they linked and what&#039;s their purpose.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305922">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">MagicSimon</div>
					<div class="post-datetime">
						2 Jan 2016, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>If I understand you right, you have a &quot;guest&quot; interface but no &quot;guest&quot; firewall zone? You can create a zone in luci under &quot;Network&quot; &gt; &quot;Interfaces&quot; &gt; &quot;Edit&quot; &gt; &quot;Firewall Settings&quot; (as descriped in the wiki you posted).</p><p>Does that help at all? If not, maybe posting your /etc/config/network and /etc/config/firewall could be helpful (if you know how to access those).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305973">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						3 Jan 2016, 02:52					</div>
				</div>
				<div class="post-content content">
					<p>There was another thread similar to this one in which I&#039;ve posted the CLI commands to have everything required for guest network configured. If you can SSH to your router it should work for you. Tested on both CC and DD.</p><p>You&#039;ll need a fresh CC/DD OpenWrt install tho, if you already have guest network half-way done, I&#039;d advise against using the above-mentioned script.</p><p>However amount of effort required of others to help you troubleshoot your current state and bring it to a working guest network would outweigh the amount of effort you&#039;d exert flashing the stock firmware and then using a script. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359157">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Lord Flasheart</div>
					<div class="post-datetime">
						27 May 2017, 17:40					</div>
				</div>
				<div class="post-content content">
					<p>I too had a lot of trouble setting this up. I couldn&#039;t get dhcp to serve addresses on the guest net. In hindsight I think this was because I had followed several different guides and ended up using a mixture of editing config files, and making changes in the web interface to set it up. I dont think openwrt liked this approach, At one point i got a weird error in the gui telling me i needed to install a protocol for the guest interface but then when i tried to install it it said it was already installed. So then i deleted the interface, rebooted and followed the instructions from here <a href="https://wiki.openwrt.org/doc/recipes/guest-wlan">https://wiki.openwrt.org/doc/recipes/guest-wlan</a> (ie copied and pasted into configs) and it worked like a charm. I can swap to the guest network, get a completely different IP address, and no access is possible to any other machines on the main lan, not even pings will get through. I can then swap back get the regular IP address and connectivity within the lan is restored, pings, ftp, windows shares etc all work.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>