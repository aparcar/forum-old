<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> not able to connect to accesspoint hosted by hostapd</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Feb 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p116743">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nobody</div>
					<div class="post-datetime">
						9 Sep 2010, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>first i have to say, that i am quiet new to linux (and my english isn&#039;t that good either), so please be patient.<br />I tried to set up an access point with a seagate dockstar (kirkwood inside) and a TP-WN821N (ar9170). Ad hoc mode works like expected, but when i configure it as an access point i get following error, when a PC tries to connect to it:</p><p>wlan0: STA 00:22:fb:93:66:a8 IEEE 802.11: authenticated<br />wlan0: STA 00:22:fb:93:66:a8 IEEE 802.11: associated (aid 1)<br />AP-STA-CONNECTED 00:22:fb:93:66:a8<br />wlan0: STA 00:22:fb:93:66:a8 IEEE 802.11: Could not add STA to kerneldriver<br />wlan0: STA 00:22:fb:93:66:a8 RADIUS: starting accounting session<br />4C83F3A3-0000001</p><p>And when i add WPA2 encryption i addionally get:</p><p>Could not set station 00:22:fb:93:66:a8 flags for kernel driver (errno=97).</p><p>I found out that the lib80211 packages wasn&#039;t inlcuded (could this be the reason?), but when i add it within menuconfig, make fails with the following message:</p><p>cp: cannot stat `/..../OpenWrt/backfire/build_dir/linux-kirkwood/linux-2.6.30.10/net/wireless/lib80211.ko&#039;: No such file or directory</p><p>I checked the folder and the only files it compiled were:<br />lib80211_crypt_wep, lib80211_crypt_tkip and lib80211_crytp_ccmp<br />but not lib80211.</p><p>Would be great if someone has some hints for solving this problem.</p><p>Thanks in advance,</p><p>Mike</p>											<p class="post-edited">(Last edited by <strong>nobody</strong> on 9 Sep 2010, 13:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116748">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nobody</div>
					<div class="post-datetime">
						9 Sep 2010, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>Ok i think, it doesn&#039;t compile lib80211, because i already added mac80211. But still it seems like something is missing in the kernel.<br />Any suggenstions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117227">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">linuxb</div>
					<div class="post-datetime">
						15 Sep 2010, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>The AR9170 driver doesn&#039;t support AP mode.&nbsp; <a href="http://marc.info/?l=linux-wireless&amp;m=128060286101558&amp;w=2">http://marc.info/?l=linux-wireless&amp; â€¦ 58&amp;w=2</a><br />You have to use carl9170, I tested the new version that was added to trunk yesterday with my WNDA3100 and it worked, could successfully connect clients, no HT mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118808">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nobody</div>
					<div class="post-datetime">
						10 Oct 2010, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the late answer, but thanks for that. I set up an accesspoint with carl9170 but it doesn&#039;t work in 802.11n mode. I get the same error, as described here: <a href="https://dev.openwrt.org/ticket/7930">https://dev.openwrt.org/ticket/7930</a><br />Do you have a solution for that too?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>