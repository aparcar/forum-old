<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Running Kamikaze on Linksys wag160n</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 7 Oct 2014 and 12 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=19601&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=19601&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=19601&amp;p=4.html">4</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p111850">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">rahan32@hotmail.com</div>
					<div class="post-datetime">
						24 Jun 2010, 12:48					</div>
				</div>
				<div class="post-content content">
					<p>hi<br /> u can find the file in rapidshare link provied by VIRUS in this thread(posted:2010-06-12 23:26:02).<br />Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111865">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">biohazard</div>
					<div class="post-datetime">
						24 Jun 2010, 23:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rahan32@hotmail.com wrote:</cite><blockquote><p>hi<br /> u can find the file in rapidshare link provied by VIRUS in this thread(posted:2010-06-12 23:26:02).<br />Regards</p></blockquote></div><p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />With this firmware wag160n works like router with dsl support ok ?</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111900">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">rahan32@hotmail.com</div>
					<div class="post-datetime">
						25 Jun 2010, 13:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>biohazard wrote:</cite><blockquote><div class="quotebox"><cite>rahan32@hotmail.com wrote:</cite><blockquote><p>hi<br /> u can find the file in rapidshare link provied by VIRUS in this thread(posted:2010-06-12 23:26:02).<br />Regards</p></blockquote></div><p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />With this firmware wag160n works like router with dsl support ok ?</p><p>Regards</p></blockquote></div><p>anytime<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Regarding the adsl part,openwrt is yet to provide support for it.(correct me if im wrong). But things getting promising. Read this thread &quot;<a href="http://open-wrt.ru/forum/viewtopic.php?id=22451">http://open-wrt.ru/forum/viewtopic.php?id=22451</a>&quot;.<br />regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113206">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">xris</div>
					<div class="post-datetime">
						16 Jul 2010, 12:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xris wrote:</cite><blockquote><p>Thx for reup. Is there a way to flash it without jtag?</p><p>Thats my issue with ur .bin:<br />Upgrade file is not the correct type or version for this device.<br />Upgrade failed.</p><p>Please select the correct file and try again.</p></blockquote></div><p>Could somebody tell me why I get this error, please?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113847">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">higglepiggle</div>
					<div class="post-datetime">
						27 Jul 2010, 16:46					</div>
				</div>
				<div class="post-content content">
					<p>All the rapidshare links appear to be dead, can someone repost the file somewhere.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113853">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">rahan32@hotmail.com</div>
					<div class="post-datetime">
						27 Jul 2010, 17:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi<br /> try this link&quot; <a href="http://www.zshare.net/download/7873301166fa3fba/">http://www.zshare.net/download/7873301166fa3fba/</a> &quot;</p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116045">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">alexcrow</div>
					<div class="post-datetime">
						28 Aug 2010, 19:48					</div>
				</div>
				<div class="post-content content">
					<p>Again, is it at all possible to flash with without JTAG? And how?</p><p>If this can be answered it would save me some effort and I will just get a JTAG adapter.</p><p>Thanks</p><p>Alex</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116182">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">kindt.nick</div>
					<div class="post-datetime">
						30 Aug 2010, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>Hey, Virus,</p><p>I think I&#039;ve read every documentation that there is out here. I&#039;m pretty close but still have one problem.</p><p>I&#039;ve downloaded the lateset GPL tarball from the Linksys website (1.00.14 tarball for Annex B)<br />I also have setup Ubuntu-6.06.1 (i386), installed and updated it with all the neccessary packages (via the Openwrt wiki)</p><p>Problem is, the wiki stops there... Can you explain me how it goes from this point on?</p><p>Do we actually need that Linksys GPL code? Or is that just for (extreme) advanced user who can port some of that code into the an Openwrt firmware?</p><p>For now I understad that we just need to fire up &quot;make menuconfig&quot;, select the right hardware and packages/options we want to have,<br />and create an image. Is this correct?</p><p>Also, does linksys allow to flash Openwrt firmware via the webinterface? Or do we actually need to flash is, the first time, via JTAG?</p><p>I don&#039;t need ADSL support since we got VDSL now. Also DHCP/DNS capabilities are managed by another device. <br />Basically I just need a switch, wireless AP and the posibillity to run scripts on the router, that&#039;s the important one.</p><p>Thx in advance,<br />Nick</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116377">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">Virus</div>
					<div class="post-datetime">
						3 Sep 2010, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi kindt.nick,</p><p>U don&#039;t need Linksys source to build OpenWRT firmware. To make Backfire run on WAG160N there u have to modify source to add 96358GW support (board_bcm963xx.c) and make atheros drivers to load calibration data from mtd4 (mth9k drivers and bcm963xx-flash.c).</p><p>Compiled firmware should be flashed via serial console / eth, using CFE (tftp method).</p><p>--<br />Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116573">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">alexcrow</div>
					<div class="post-datetime">
						6 Sep 2010, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>Virus,</p><p>Yes, but how on earth does one get to CFE on a device with the manufacturers firmware installed? The wiki makes me think that I still need a serial cable, the TFTP stuff doesn&#039;t reference CFE, just tells you to try the upload within a 1/2 second of turning the router on (I tried from both Windows and Linux and never got TFTP to work despite varying my timings etc.) Telnet takes me straight into Busybox (I did install a telnet enabled firmware through the web upgrade at least).</p><p>Can someone who put the image linked to above on the WAG160N just enlighten us newbies/blind people/idiots (whatever you want!) as to how to get into CFE and flash the image?</p><p>Cheers</p><p>Alex</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117066">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">kindt.nick</div>
					<div class="post-datetime">
						13 Sep 2010, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>Hey Virus,</p><p>I&#039;ve managed to flash the image, but I managed to have 3 problems...</p><p>1. very important, I can&#039;t enable the wifi device...<br /></p><div class="codebox"><pre><code>Wifi up
PHY for wifi device radio0 not found</code></pre></div><p>2. Also, when I try to reflash the router with the original firmware download from the Linksys website (.img-file) it gives me an error, the flash utility sais:<br /></p><div class="codebox"><pre><code>Firmware tag version [0] is not compatible with the current Tag version [6].    
*** command status = -1</code></pre></div><p>Ps: I&#039;ve got the Annex B hardware version but the firmware is the correct one.<br />&nbsp; &nbsp; &nbsp;I&#039;ve googled for an img to bin converter it can&#039;t seem to find anything out there that works.</p><p>3.&nbsp; I see that there is no GUI inside is, nore are there webpages in the www-directory. Is this correct? Or dit something went wrong during install?</p><br /><p>could you help me out once more?<br />Below you can find a prinout of the startup. The only thing that looks wrong is the country code, I mean, as far as I can see...</p><p>Thx in advance.</p><p>==============</p><p>Alexcrow,</p><p>I&#039;ve managed to flash the bin file provided here. [openwrt-96358GW-squashfs-bc310-cfe.bin]</p><p>1. I&#039;ve soldert the Serial port and made me a TTL to 3.3v serial converter with the MAX233 chip. (&lt;10€)</p><p>2. I&#039;ve downloaded &quot;WinAgents TFTP Server for Windows&quot;, copied the bin file to &quot;C:\ProgramData\WinAgents\TFTP Server 4\TFTPRoot&quot;<br />&nbsp; &nbsp; and renamed it to &quot;bcm963xx_fs_kernel&quot; (without an extenstion) and started the local TFTP server in the WinAgents Manager.</p><p>3. Next what I did was, I&#039;ve fixed the IP of my NIC to &quot;192.168.1.100&quot;, as this is the default Host IP Address that is set in the CFE Loader.</p><p>4. connect the serial coverter and open RealTerm (or another Terminal program) and set it to &quot;115200 8N1&quot;.</p><p>If you start the router you&#039;ll get the following screen: </p><div class="codebox"><pre><code>**************************************************************
CFE version 1.0.37-5.4 for BCM96358 (32bit,SP,BE)
Build Date: å››  1æœˆ 10 19:25:21 CST 2008 (root@9DavidZhang2)
Copyright (C) 2000-2005 Broadcom Corporation.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Parallel flash device: name MX29LV320AB, id 0x22a8, size 4096KB
CPU type 0x2A010: 300MHz, Bus: 133MHz, Ref: 64MHz
Total memory: 33554432 bytes (32MB)

Total memory used by CFE:  0x80401000 - 0x80528800 (1210368)
Initialized Data:          0x8041E550 - 0x8041FF60 (6672)
BSS Area:                  0x8041FF60 - 0x80426800 (26784)
Local Heap:                0x80426800 - 0x80526800 (1048576)
Stack Area:                0x80526800 - 0x80528800 (8192)
Text (code) segment:       0x80401000 - 0x8041E544 (120132)
Boot area (physical):      0x00529000 - 0x00569000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1  
Host IP address                   : 192.168.1.100  
Gateway IP address                :   
Run from flash/host (f/h)         : f  
Default host run file name        : vmlinux  
Default host flash file name      : bcm963xx_fs_kernel  
Boot delay (0-9 seconds)          : 1  
Board Id Name                     : 96358GW  
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 10  
Base MAC Address                  : 00:1d:7e:b3:9b:52  
Ethernet PHY Type                 : Internal
Memory size in MB                 : 32
CMT Thread Number                 : 0

*** Press any key to stop auto run (1 seconds) ***
**************************************************************</code></pre></div><p>5. Hit the &quot;Enter&quot; Key and press &quot;f&quot; followed by Enter.<br />&nbsp; &nbsp; Now the WAG160N device tries to get the &quot;bcm963xx_fs_kernel&quot; from 192.168.1.100 via TFTP over Ethernet.</p><p>6. Nex thing what is does is it flashes the image and reboots...</p><p>Another way is to download is via serrcom but I didn&#039;t managed to get that working since you have the HEX edit the bin file before the sercomm application will accept it</p><br /><br /><p>Greets,<br />Nick</p><div class="codebox"><pre><code>Auto run second count down: 99876543210
Code Address: 0x80010000, Entry Address: 0x80010000
Decompression OK!
Entry at 0x80010000
Closing network.
Starting program at 0x80010000
Linux version 2.6.32.9 (virus@Virion) (gcc version 4.3.3 (GCC) ) #18 Mon Mar 15 16:16:55 CET 2010
Detected Broadcom 0x6358 CPU revision a1
CPU frequency is 300 MHz
32MB of RAM installed
registering 40 GPIOs
board_bcm963xx: CFE version: 1.0.37-5.4
bootconsole [early0] enabled
CPU revision is: 0002a010 (Broadcom BCM6358)
board_bcm963xx: board name: 96358GW
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
PID hash table entries: 128 (order: -3, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Primary instruction cache 32kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 16kB, 2-way, VIPT, cache aliases, linesize 16 bytes
Memory: 29724k/32768k available (2050k kernel code, 3044k reserved, 363k data, 136k init, 0k highmem)
Hierarchical RCU implementation.
NR_IRQS:128
Calibrating delay loop... 299.00 BogoMIPS (lpj=598016)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
ath: Register ath_data_device at address 0x1ffe1000
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(0.197:1): initialized
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 58
io scheduler noop registered
io scheduler deadline registered (default)
gpiodev: gpio device registered with major 254
gpiodev: gpio platform device registered with access mask FFFFFFFF
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0100 (irq = 10) is a bcm63xx_uart
console [ttyS0] enabled, bootconsole disabled
console [ttyS0] enabled, bootconsole disabled
bcm963xx_flash: 0x00400000 at 0x1fc00000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx_flash: Read Signature value of CFE1CFE1
bcm963xx_flash: CFE bootloader detected
bcm963xx_flash: CFE boot tag found with version 6, board type 96358GW, and tagid bc310.
bcm963xx_flash: Partition 0 is CFE offset 81ce1e48 and length 0
bcm963xx_flash: Partition 1 is kernel offset d2b and length 0
bcm963xx_flash: Partition 2 is rootfs offset d6c and length 0
bcm963xx_flash: Partition 3 is ath_data offset dad and length 0
bcm963xx_flash: Partition 4 is nvram offset df0 and length 0
bcm963xx_flash: Spare partition is 2a0000 offset and length 150000
Creating 5 MTD partitions on &quot;bcm963xx&quot;:
0x000000000000-0x000000010000 : &quot;CFE&quot;
0x000000010100-0x0000000f0000 : &quot;kernel&quot;
mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
0x0000000f0000-0x0000003e0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2A0000, len=140000 
0x0000002a0000-0x0000003e0000 : &quot;rootfs_data&quot;
0x0000003e0000-0x0000003f0000 : &quot;ath_data&quot;
0x0000003f0000-0x000000400000 : &quot;nvram&quot;
bcm63xx_enet MII bus: probed
bcm63xx_wdt started, timer margin: 30 sec
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 136k freed
Please be patient, while OpenWrt loads ...
- preinit -
Press f&lt;ENTER&gt; to enter failsafe mode
- regular preinit -
switching to jffs2
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
- init -

Please press Enter to activate this console. bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (2)]
eth1: link forced UP - 100/full - flow control off/off
device eth1 entered promiscuous mode
br-lan: port 1(eth1) entering forwarding state
Generic kernel compatibility enabled based on linux-next next-20100113
cfg80211: Calling CRDA to update world regulatory domain
roboswitch: Probing device eth0: Failed to enable switch
roboswitch: Probing device eth1: found a 5325! It&#039;s a 5350.
cfg80211: World regulatory domain updated:
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
    (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
    (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)
 # reading ath_data
ath: eepdata = 0x00000cb8, el = 0x0000065c,
ath: eepdata = 0x00008142, el = 0x0000065c,
ath: sum = 0x0000ffff, length = 0x00000cb8, checksum = 0x00008243
Registered led device: ath9k-phy0::radio
Registered led device: ath9k-phy0::assoc
Registered led device: ath9k-phy0::tx
Registered led device: ath9k-phy0::rx
phy0: Atheros AR5416 MAC/BB Rev:2 AR2122 RF Rev:81 mem=0xc0380000, irq=39
cfg80211: Calling CRDA for country: US
cfg80211: Regulatory domain changed to country: US
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)
    (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)
    (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (466 buckets, 1864 max)
ath_hal: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
ath_hal: 2009-05-08 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, RF2425, REGOPS_FUNC, XR)
ath_pci: trunk
wlan: trunk
wlan: mac acl policy registered
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us</code></pre></div>											<p class="post-edited">(Last edited by <strong>kindt.nick</strong> on 13 Sep 2010, 23:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117074">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">Virus</div>
					<div class="post-datetime">
						14 Sep 2010, 00:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi kindt.nick!</p><p>1.<br />Look&#039;s like everything goes ok with firmare. Now try to enable wifi. U have to edit /etc/config/wireless to look like this:</p><div class="codebox"><pre><code>config &#039;wifi-device&#039; &#039;radio0&#039;
        option &#039;type&#039; &#039;mac80211&#039;
        option &#039;macaddr&#039; &#039;00:11:22:33:44:55&#039;
        option &#039;hwmode&#039; &#039;11ng&#039;
        option &#039;htmode&#039; &#039;HT20&#039;
        list &#039;ht_capab&#039; &#039;SHORT-GI-40&#039;
        list &#039;ht_capab&#039; &#039;DSSS_CCK-40&#039;
        option &#039;channel&#039; &#039;11&#039;

config &#039;wifi-iface&#039;
        option &#039;device&#039; &#039;radio0&#039;
        option &#039;ssid&#039; &#039;kindt.nick&#039;
        option &#039;network&#039; &#039;lan&#039;
        option &#039;mode&#039; &#039;ap&#039;
        option &#039;encryption&#039; &#039;psk2&#039;
        option &#039;key&#039; &#039;deadbeef&#039;</code></pre></div><p>then reboot and check if it works. </p><p>2.<br />U have to remove header (sErCoMm?) from the original firmware file. Just grab aby bin/hexeditor and trim first 10000h bytes from file. Final image should start with &quot;6...Broadcom Corporatio&quot;.</p><p>3.<br />There is no GUI by default. LuCi installation is described <a href="http://luci.subsignal.org/trac/wiki/Installation">here</a>.</p><p>Good luck!</p><p>Nice &#039;flashing manual&#039; btw - thanks!<br />:-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117150">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">kindt.nick</div>
					<div class="post-datetime">
						15 Sep 2010, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>Hey Virus,</p><p>I&#039;m supprised to here that everything works fine for you.</p><p>To resolve the &quot;PHY for wifi device radio0 not found&quot;issue, I had to mod the &quot;/lib/wifi/mac80211.sh&quot; file</p><p>I replaced the following line<br />&nbsp; &nbsp; &nbsp; &nbsp; local macaddr=&quot;$(config_get &quot;$device&quot; macaddr | tr &#039;A-Z&#039; &#039;a-z&#039;)&quot;<br />with<br />&nbsp; &nbsp; &nbsp; &nbsp; local macaddr=&quot;$(cat /sys/class/ieee80211/phy0/macaddress)&quot;</p><p>as explained here: <a href="https://forum.openwrt.org/viewtopic.php?pid=99313">https://forum.openwrt.org/viewtopic.php?pid=99313</a></p><p>Next thing is connecting the LED <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Thx,<br />Nick</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117461">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">spatsant</div>
					<div class="post-datetime">
						18 Sep 2010, 21:29					</div>
				</div>
				<div class="post-content content">
					<p>Virus, that changes did you make in boardparms file? I have a DSL-2740B (96358GW) and none of the images I tested works. The only one that worked was the one you uploaded for the WAG160N witch loads ok except the wireless part of course. Would I ask too much for an image like the one you created but with Broadcom wireless and Luci? Else could you tell me what you changed in source and made it work so I can compile my own? Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117655">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">spatsant</div>
					<div class="post-datetime">
						22 Sep 2010, 00:56					</div>
				</div>
				<div class="post-content content">
					<p>Come on Virus give me something <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Please!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117683">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">Virus</div>
					<div class="post-datetime">
						22 Sep 2010, 11:20					</div>
				</div>
				<div class="post-content content">
					<p>Spatsant, check these files and search for &quot;board_96358gw&quot;:</p><p><a href="http://rapidshare.com/files/420513156/board_bcm963xx.zip">http://rapidshare.com/files/420513156/b … m963xx.zip</a></p><p>--<br />Cheers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117684">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">spatsant</div>
					<div class="post-datetime">
						22 Sep 2010, 11:50					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot. I will try them asap. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117690">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">spatsant</div>
					<div class="post-datetime">
						22 Sep 2010, 15:52					</div>
				</div>
				<div class="post-content content">
					<p>It works!!! Super thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117693">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">Virus</div>
					<div class="post-datetime">
						22 Sep 2010, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>Nice! Glad I could help :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117699">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">spatsant</div>
					<div class="post-datetime">
						22 Sep 2010, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>I think you should submit the file to trac so that is implemented in future builds. Thanks a lot again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117735">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">reverence</div>
					<div class="post-datetime">
						23 Sep 2010, 10:19					</div>
				</div>
				<div class="post-content content">
					<p>Hello I am new here and I still don`t understand is there a firmware that works on wag 160n dsl?</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117738">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">kindt.nick</div>
					<div class="post-datetime">
						23 Sep 2010, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>Yes, </p><p>either you download the firmware that Virus has made. The link is in one of the posts above.</p><p>Or download the Openwrt sources, set up a unix environment (everything is described in the wiki&#039;s) <br />and use the files that virus has provided to build your own custom firmware for the WAG160N</p><p>How to install the firmware is also described in one of the previous posts.</p><p>grtz,<br />Nick</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117918">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">kindt.nick</div>
					<div class="post-datetime">
						26 Sep 2010, 18:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>Anybody knows how to implement the board_bcm963xx.c file?<br />Cause if you edit the file, it is overwritten on the next build.<br />Which is, after reading, normal.</p><p>I&#039;ve downloaded the backfire sources and the trunk sources, <br />still I can&#039;t figure out how to download the sources without a make command and even worse, <br />how tell the compiler to use the edited local board_bcm963xx.c file and not download it again.</p><p>thx in advance,<br />Nick</p>											<p class="post-edited">(Last edited by <strong>kindt.nick</strong> on 26 Sep 2010, 23:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117975">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">Virus</div>
					<div class="post-datetime">
						27 Sep 2010, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I&#039;ve faced same problem. As for now i&#039;m editing mentioned file placed in ~/backfire/build_dir/linux-brcm63xx/linux-2.6.32.10/arch/mips/bcm63xx/boards/board_bcm963xx.c<br />After edit just run make V=99</p><p>--<br />Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117990">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">rahan32@hotmail.com</div>
					<div class="post-datetime">
						27 Sep 2010, 23:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello Nick<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Can i get a dump/copy of ur cfe(wag160n)?.Also please post a picture of ur serial console setup.<br />Anyone in here help me find a jtag software with cfe64 and bcm6358 support?.<br />Thanks:).</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 51 to 50 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=19601&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=19601&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=19601&amp;p=4.html">4</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>