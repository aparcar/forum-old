<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Easybox 904 LTE open source code to be provide soon</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 12 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=11.html">11</a></li><li class="pagination-current"><span>12</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=13.html">13</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=14.html">14</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p354376">
				<div class="post-metadata">
					<div class="post-num">Post #276</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						16 Mar 2017, 23:44					</div>
				</div>
				<div class="post-content content">
					<p>Again, there is some development.<br />Device specific changes in master:<br /></p><ul><li><p>Integrated sysupgrade feature: means future versions can be flashed via web frontend</p></li><li><p>Vendor bootloader recovery stopper: If bootnum is &gt;=3 then the uboot env variable &quot;bootnum&quot; is erased.</p></li><li><p>Integrated touch device</p></li><li><p>Integrated display device: There may be some issues regarding coloring. Patches welcome <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> </p></li><li><p>Added lcd4linux sample package, which uses serdisplib as framebuffer output and uses a config adapted from this one: <a href="http://forum.ipfire.org/viewtopic.php?f=6&amp;t=11735&amp;sid=277e8d4740d84368181dedead7ad76cc&amp;start=15#p76616">http://forum.ipfire.org/viewtopic.php?f … =15#p76616</a> Thanks!!! </p></li><li><p>Developed lcdcontroller, which starts and stops lcd4linux on touch events</p></li></ul><p>Current device shot:<br /><a href="http://picpaste.de/Easybox904-BCOx86Ah.JPG"><span class="postimg"><img src="http://picpaste.de/extpics/Easybox904-BCOx86Ah.JPG" alt="http://picpaste.de/extpics/Easybox904-BCOx86Ah.JPG" /></span></a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354389">
				<div class="post-metadata">
					<div class="post-num">Post #277</div>
					<div class="post-author">xl2cc</div>
					<div class="post-datetime">
						17 Mar 2017, 01:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>Again, there is some development.<br />Device specific changes in master:</p><p>[*]Integrated sysupgrade feature: means future versions can be flashed via web frontend[/*]<br />......</p></blockquote></div><p>Thats what i wanna hear <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I dont have the time atm to do something but if it works my useless box will have a job again.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354406">
				<div class="post-metadata">
					<div class="post-num">Post #278</div>
					<div class="post-author">aleksy</div>
					<div class="post-datetime">
						17 Mar 2017, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>Hey,<br />Does anyone have the original firmware version 2.06 to EasyBox 904 xDSL?<br />If so, I would ask about my shed.</p><p>And the second thing, if you have the password can operate to U-Boot when connecting serial console? If so, I would also appreciate the message.</p><br /><p>Thanks<br />Aleksy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354455">
				<div class="post-metadata">
					<div class="post-num">Post #279</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						18 Mar 2017, 01:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Nice to hear it is working smile<br />Regarding the U-Boot: I recommend to use my modified boot loader to not fall into the recovery issue.</p></blockquote></div><p>Hmm i use this one: <br /><a href="http://arny.tjps.eu/OpenWrt/EasyBox904xDSL/devel/904xdsl-uboot-maybe-no-passwd.zip">http://arny.tjps.eu/OpenWrt/EasyBox904x … passwd.zip</a><br />what are the differenz to that:<br /><a href="https://mega.nz/#!bA1gADqB!TtTdK3ePNdRjYnCfmM4an4JLbbucFJ2KvEe3U3cnTvo">https://mega.nz/#!bA1gADqB!TtTdK3ePNdRj … Ee3U3cnTvo</a><br />?<br />And how can i build my own bootloader ?</p><p>I have some understanding problems:<br />u-boot.lq starts without boot-env is this correct ?<br />Where are the env and what are the content of env ?<br />On a normal OpenWRT the boot-env normaly on the next partition ?<br />But where are the partiton s defined ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354477">
				<div class="post-metadata">
					<div class="post-num">Post #280</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						18 Mar 2017, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi there.<br />With the help of @chipmunk is was able to implement a working sysupgrade.</p><p>Following steps should be done for the first time (also on a vanilla box&nbsp; with vendor firmware installed):<br /></p><ul><li><p>Prepare a tftp server on 192.168.2.100<br />Copy <a href="https://mega.nz/#!DBVCmZAB!8pLr-vmOcSTwJ8Szr-J32LRNLfZYJCH8tjaDGSnwIv8">fullimage.img</a> to the tftp server</p></li><li><p>Turn off the EasyBox 904</p></li><li><p>Hold the reset button and switch on the box.<br />Wait 5 seconds. Then release the button.</p></li><li><p>The recovery screen should be appear</p></li><li><p>Put the network cable into the box</p></li><li><p>The box should say, image downloaded, image is flashed.</p></li><li><p>After a while, the box should say, switch off and on the box. Do that.</p></li><li><p>The box should boot, and is reachable by <strong><a href="http://192.168.1.1">http://192.168.1.1</a></strong><br />There you are greeted by the recovery flash screen.<br /><strong>Note, that this is only a recovery system, the kernel contains the rootfs within the initramfs. All changes made are lost after an reboot! Use this only for flashing the real system (next step)</strong></p></li><li><p>Upload the following image: <a href="https://mega.nz/#!fd1lWbTY!PpWesto1PXMvzdhxm-43TGhI2gVvX97RHFg3SKV0ZjQ">sysupgrade.bin</a>.</p></li><li><p>The box should reboot after the process. Kernel is written to kernel partition while the rootfs is installed on mtd12 as ubi formatted partition.</p></li><li><p>Future updates can be upload by normal update process via sysupgrade.bin upload. No recovery needed.</p></li></ul><p>On a technical side, the display is working in RBG mode, huh. I don&#039;t know how to change this yet - maybe someone has an idea.</p><p>PS: The recovery is also required when a previous version was used, since the sysupgrade functionality was added in the recent version.</p><p>Update 1: NOTE: Currently there are some issues regarding network. I changed the download link and resolve this issue later.<br />Update 2: Issues resolved (quick&amp;dirty). Sysupgrade image was reuploaded.<br />Update 3: fullimage.img 1-0-1 with network fix. (updated link in description).</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 19 Mar 2017, 14:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354541">
				<div class="post-metadata">
					<div class="post-num">Post #281</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						19 Mar 2017, 10:25					</div>
				</div>
				<div class="post-content content">
					<p>Congratulation, very nice.</p><p>The network on the fullimage.img was not correct working:<br />On the yellow port --&gt; nothing <br />I have switch from the yellow ports to the gray --&gt; nothing<br />I switch back --&gt; It works</p><p>forget my post before.<br />I see that the uboot are inside the <a href="https://github.com/Quallenauge/Easybox-904-XDSL.git">https://github.com/Quallenauge/Easybox-904-XDSL.git</a><br />But when you are finish can everbody explain what is going on boot and where are the MTD partition defined.<br />This is a heave complex device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354547">
				<div class="post-metadata">
					<div class="post-num">Post #282</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						19 Mar 2017, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>Nice work, really. Only one thing:<br /></p><div class="codebox"><pre><code>root@LEDE:~# mount
ubi0:rootfs on / type ubifs (rw,noatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,noatime)
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,noatime)
tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)
tmpfs on /dev type tmpfs (rw,nosuid,relatime,size=512k,mode=755)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,mode=600,ptmxmode=000)
debugfs on /sys/kernel/debug type debugfs (rw,noatime)
root@LEDE:~# df
Filesystem           1K-blocks      Used Available Use% Mounted on
ubi0:rootfs          114031785270 6259669672 107772115598   5% /
tmpfs                27219277232 215512884 27003764349   1% /tmp
tmpfs                250778629         0 250778629   0% /dev
root@LEDE:~# df -h
Filesystem                Size      Used Available Use% Mounted on
ubi0:rootfs             106.3T      5.8T    100.5T   5% /
tmpfs                    25.4T    205.8G     25.2T   1% /tmp
tmpfs                   239.5G         0    239.5G   0% /dev
root@LEDE:~# </code></pre></div><p>106.3T?</p>											<p class="post-edited">(Last edited by <strong>obsy</strong> on 19 Mar 2017, 11:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354551">
				<div class="post-metadata">
					<div class="post-num">Post #283</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						19 Mar 2017, 13:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>Congratulation, very nice.<br />The network on the fullimage.img was not correct working:<br />On the yellow port --&gt; nothing <br />I have switch from the yellow ports to the gray --&gt; nothing<br />I switch back --&gt; It works</p></blockquote></div><p>I have uploaded a new fullimage.img and linked it within the description. Thanks for reporting it.<br />I will have a look at uboot description when I have some time for documentation.<br />Just note, that I don&#039;t built the uboot from the current master-lede branch but only with the easybox-devel<br />branch. The master branch should also work, but I never tested it. Do this only if you are familiar with the recovery procedure by shortcut some pins. For changes on the modified uboot have a look at <a href="https://github.com/Quallenauge/Easybox-904-XDSL/blob/1b361a63a3f2bf3eb7a60de589f03e3fd775b0e2/package/infineon-utilities/feeds/ifx_feeds_uboot/open_uboot/src.904dsl/common/main.c#L692">Uboot modification</a></p><div class="quotebox"><cite>obsy wrote:</cite><blockquote><p>Nice work, really. Only one thing:<br /></p><div class="codebox"><pre><code>root@LEDE:~# mount
ubi0:rootfs on / type ubifs (rw,noatime)
...
root@LEDE:~# df -h
Filesystem                Size      Used Available Use% Mounted on
ubi0:rootfs             106.3T      5.8T    100.5T   5% /
tmpfs                    25.4T    205.8G     25.2T   1% /tmp
tmpfs                   239.5G         0    239.5G   0% /dev
root@LEDE:~# </code></pre></div><p>106.3T?</p></blockquote></div><p>Cool compression algorithm isn&#039;t it ? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />Btw. I don&#039;t know why this comes up - any ideas?</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 19 Mar 2017, 14:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354576">
				<div class="post-metadata">
					<div class="post-num">Post #284</div>
					<div class="post-author">manni</div>
					<div class="post-datetime">
						19 Mar 2017, 20:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi Qauge<br />You did very good work.<br />From the first version to the present is a great progress.<br />However, it is still a long way to a fully functioning image.<br />The installation of your image worked whitout problems.<br />The basic functions (WAN TelekomVDSL100, Fon VOIP-ISDN, WLAN) do not run for me.<br />I don&#039;t realy know, howto setup the VDSL line and the Telefon.</p><p>For daily use I take the opened firmware of arny. The box has been running for weeks without problems at my Telekom VDSL100line.</p><p>Unfortunately, the rescue mode does not work properly. Each flash of an image ends in a bootloop. My solution, fast and dirty:<br />Extract the rootFS from the openedImage and nandwrite the squashRootFS in UARTmode on /dev/mtd1 manually.<br />I spent some hours to find the error. Unfortunately without success</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354606">
				<div class="post-metadata">
					<div class="post-num">Post #285</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						20 Mar 2017, 07:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>manni wrote:</cite><blockquote><p>Hi Qauge<br />You did very good work.</p></blockquote></div><p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /></p><div class="quotebox"><cite>manni wrote:</cite><blockquote><p>However, it is still a long way to a fully functioning image.<br />The installation of your image worked whitout problems.<br />The basic functions (WAN TelekomVDSL100, Fon VOIP-ISDN, WLAN) do not run for me.<br />I don&#039;t realy know, howto setup the VDSL line and the Telefon.</p></blockquote></div><p>For my needs, it is nearly feature complete.<br />Maybe there isn&#039;t an image which covers all functionality the box provides (since dect and isdn and (*maybe*) wlan will not be there).<br />@Someone can explain the setup process with the VDSL setup?! I&#039;m not using it.<br />For the telephony I have the following setup (as example):<br />FritzBox as main router and as SIP server. Easybox asterix as client.</p><p>Prepare lantiq telephony ports, each individual channel line:<br /></p><div class="codebox"><pre><code>/etc/asterisk/lantiq.conf

; Number of FXS ports (default: 2)
channels = 2
; Create contexts per channel (default: off)
per_channel_context = on</code></pre></div><p>Define SIP connection details:<br /></p><div class="codebox"><pre><code>/etc/asterisk/sip.conf

[Fritzbox]
username=620
secret=123456789
type=friend
insecure=port,invite
host=192.168.9.2
fromdomain=fritz.box
fromuser=620
context=incoming</code></pre></div><p># Accept all incoming calls on telephon port2<br /></p><div class="codebox"><pre><code>[incoming]
exten =&gt; 620,1,Answer()
exten =&gt; 620,n,Dial(TAPI/2,150,r,t,)

# Accept all outgoing calls for the 
[lantiq2]
exten =&gt; _0[1-9].,1,Dial(SIP/${EXTEN}@Fritzbox)</code></pre></div><p>Note: Only the analogue ports are supported!</p><div class="quotebox"><cite>manni wrote:</cite><blockquote><p>For daily use I take the opened firmware of arny. The box has been running for weeks without problems at my Telekom VDSL100line.<br />Unfortunately, the rescue mode does not work properly. Each flash of an image ends in a bootloop. My solution, fast and dirty:<br />Extract the rootFS from the openedImage and nandwrite the squashRootFS in UARTmode on /dev/mtd1 manually.<br />I spent some hours to find the error. Unfortunately without success</p></blockquote></div><p>Do you mean the rescue mode does not work on arny&#039;s image?<br />Maybe this image is running in the same problems, I got when I was trying to flash my squashfs to the mtd1 partition.<br />On the rescue process, this partition is formatted as jffs2. Then the image is written to it<br />(see <a href="https://github.com/uwehermann/easybox-904-xdsl-firmware/blob/master/package/infineon-utilities/feeds/ifx_feeds_uboot/open_uboot/src.904dsl/common/upgrade.c#L130">U-Boot upgrade</a> for details).<br />When I do a flash_erase and nandwrite a squashfs on command line, it works.</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 20 Mar 2017, 09:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354634">
				<div class="post-metadata">
					<div class="post-num">Post #286</div>
					<div class="post-author">limbuskakerlake</div>
					<div class="post-datetime">
						20 Mar 2017, 14:55					</div>
				</div>
				<div class="post-content content">
					<p>hi there ,found some pcb pics</p><p>*diy.habichdochgesagt.com/index.php?/category/1*</p>											<p class="post-edited">(Last edited by <strong>limbuskakerlake</strong> on 20 Mar 2017, 14:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354654">
				<div class="post-metadata">
					<div class="post-num">Post #287</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						20 Mar 2017, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>@QAuge How can i rebuild the images from post 280 ?<br />I try master-lede:<br /></p><div class="codebox"><pre><code>git clone https://github.com/Quallenauge/Easybox-904-XDSL.git
cd Easybox-904-XDSL
git checkout master-lede

cp vr9_default.config .config
./scripts/feeds update
./scripts/feeds install

make menuconfig
make</code></pre></div><p>My sysupgrade-image is only ~11MB and produce a bootloop.<br />I can not find the rescue-image.<br />The reason is i need some kernel modules, the imagebuilder and the SDK.<br />Where is Asterisk inside the menu ?</p><p>The next question is: how can i get to the rescue mode ?<br />OK i solved my problem when i redownload the rescue image but i guess this not in the interest of the developer.</p><br /><br /><p>VDSL:<br />I think these modules will additional needed:<br />- ltq-vdsl-app<br />and the Firmware <br />- dsl-vrx200-firmware-xdsl-a<br />- dsl-vrx200-firmware-xdsl-a-patch<br />- dsl-vrx200-firmware-xdsl-b<br />- dsl-vrx200-firmware-xdsl-b-patch<br />I guess firmware-xdsl-a + firmware-xdsl-b-patch <strong>or</strong> firmware-xdsl-b + firmware-xdsl-a-patch should pass<br />But i am not 100% how the vdsl-xy-patch working.</p><p>Note: the vr9 xdsl-firmware inside openwrt <strong>can no Vectoring</strong><br />the reason is it is not allowed for openwrt to restructable it.</p><p>If you need Vectoring, copy your vdsl-firmware from an other Router firmware like FritzBox 7360 or other vr9 devices.<br />A list of other firmware versions, including those with vectoring support, can be found here: <a href="https://xdarklight.github.io/lantiq-xdsl-firmware-info/">https://xdarklight.github.io/lantiq-xdsl-firmware-info/</a></p><p>on an other cool Arcadyan device (O2-Box 6431) my VDSL run fine with this parameter:<br /></p><div class="codebox"><pre><code>...

config atm-bridge &#039;atm&#039;
        option vpi &#039;1&#039;
        option vci &#039;32&#039;
        option encaps &#039;llc&#039;
        option payload &#039;bridged&#039;

config dsl &#039;dsl&#039;
        option annex &#039;b&#039;
        option tone &#039;av&#039;
        option xfer_mode &#039;ptm&#039;
        option line_mode &#039;vdsl&#039;
        option firmware &#039;/lib/firmware/lantiq-vrx200-b.bin&#039;
...</code></pre></div><p>but try first: <br />option tone &#039;auto&#039;<br />option firmware &#039;path-to-your-firmware&#039;<br />option annex &#039;your-annex&#039;</p><p>WLAN:<br />I was hoping it will run with: kmod-rt2800-pci</p><p>ISDN:<br />Does it definitiv not working or have nobody try it ?<br />I have nothing find inside the Forum about ISDN, but for ISDN exist many modules (capi dahdi etc).<br />Have everybody getting the ISDN on the EasyBox 803a running, and if yes how ?</p>											<p class="post-edited">(Last edited by <strong>Plonk34</strong> on 20 Mar 2017, 19:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354657">
				<div class="post-metadata">
					<div class="post-num">Post #288</div>
					<div class="post-author">manni</div>
					<div class="post-datetime">
						20 Mar 2017, 20:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Do you mean the rescue mode does not work on arny&#039;s image?</p></blockquote></div><p>Your Installimage is the only that works properly in the rescue mode.<br />The rescue mode with the official image AT904X-03.17,&nbsp; AT904X-03.12, as well as arnys openedImage, and my selfmodyfied openedImage end in a bootloop with following errormessage:<br /></p><div class="codebox"><pre><code>[    2.294000] end_request: I/O error, dev mtdblock1, sector 0
[    2.298000] SQUASHFS error: squashfs_read_data failed to read block 0x0
[    2.305000] SQUASHFS error: unable to read squashfs_super_block
[    2.311000] VFS: Cannot open root device &quot;mtdblock1&quot; or unknown-block(31,1)
[    2.401000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,1)
[    2.409000] Rebooting in 1 seconds..
  </code></pre></div><p>Following commands in UARTmode solve the problem:<br /></p><div class="codebox"><pre><code>tftpboot $(loadaddr) $(tftppath)$(rootfs)
nand erase $(f_rootfs_addr) $(f_rootfs_size)
nand write.e $(loadaddr) $(f_rootfs_addr) $(f_rootfs_size)</code></pre></div><p>Maybe I&#039;ll look again later for the cause of the error.<br />I have no time for that at the moment</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354669">
				<div class="post-metadata">
					<div class="post-num">Post #289</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						20 Mar 2017, 23:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>manni wrote:</cite><blockquote><div class="quotebox"><blockquote><p>Do you mean the rescue mode does not work on arny&#039;s image?</p></blockquote></div><p>Your Installimage is the only that works properly in the rescue mode.<br />The rescue mode with the official image AT904X-03.17,&nbsp; AT904X-03.12, as well as arnys openedImage, and my selfmodyfied openedImage end in a bootloop with following errormessage:<br /></p><div class="codebox"><pre><code>[    2.294000] end_request: I/O error, dev mtdblock1, sector 0
[    2.298000] SQUASHFS error: squashfs_read_data failed to read block 0x0
[    2.305000] SQUASHFS error: unable to read squashfs_super_block
[    2.311000] VFS: Cannot open root device &quot;mtdblock1&quot; or unknown-block(31,1)
[    2.401000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,1)
[    2.409000] Rebooting in 1 seconds..
  </code></pre></div></blockquote></div><p>Really...I though there is a miracle how to get this thing running. I also ended up in this error<br />when I was trying to get the fullimage.img running. Maybe there is a bug in vendor uboot code and<br />the jffs2 format is wrong in this piece of code ?! Was this ever working for someone<br />(I mean a vendor image recovery) ?</p><div class="quotebox"><cite>manni wrote:</cite><blockquote><p>Following commands in UARTmode solve the problem:<br /></p><div class="codebox"><pre><code>tftpboot $(loadaddr) $(tftppath)$(rootfs)
nand erase $(f_rootfs_addr) $(f_rootfs_size)
nand write.e $(loadaddr) $(f_rootfs_addr) $(f_rootfs_size)</code></pre></div><p>Maybe I&#039;ll look again later for the cause of the error.<br />I have no time for that at the moment</p></blockquote></div><p>Exactly what I did to get this running - no errors when mounting the rootfs.<br />The uboot vendor code formats this with jffs (<a href="https://github.com/uwehermann/easybox-904-xdsl-firmware/blob/master/package/infineon-utilities/feeds/ifx_feeds_uboot/open_uboot/src.904dsl/common/upgrade.c#L130">see here</a>) , this would result in the following command:<br /></p><div class="codebox"><pre><code>nand erase $(f_rootfs_addr) $(f_rootfs_size) clean</code></pre></div><p>and this never worked for me.</p><p>Thanks for reporting.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354670">
				<div class="post-metadata">
					<div class="post-num">Post #290</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						20 Mar 2017, 23:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>@QAuge How can i rebuild the images from post 280 ?<br />I try master-lede:<br /></p><div class="codebox"><pre><code>git clone https://github.com/Quallenauge/Easybox-904-XDSL.git
cd Easybox-904-XDSL
git checkout master-lede

cp vr9_default.config .config
./scripts/feeds update
./scripts/feeds install

make menuconfig
make</code></pre></div></blockquote></div><p>Correct steps.<br />[Update] Not really: Try a<br /></p><div class="codebox"><pre><code>./scripts/feeds install -a</code></pre></div><p>to install all available packages.<br /></p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>My sysupgrade-image is only ~11MB and produce a bootloop.</p></blockquote></div><p>Bootloop: Please adjust the bootcmd in </p><div class="codebox"><pre><code>target/linux/lantiq/dts/VGV952CJW33-E-IR.dts</code></pre></div><p>Size of build: I try it later from a really, really, really clean master.<br />Use <a href="https://github.com/Quallenauge/Easybox-904-XDSL/blob/master-lede/target/linux/lantiq/dts/VGV952CJW33-E-IR.dts#L15">this one</a><br />to boot from nand. I&#039;m currently using the USB mass storage for development reasons.</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>I can not find the rescue-image.</p></blockquote></div><p>Rescue image is build in another branch <a href="https://github.com/Quallenauge/Easybox-904-XDSL/tree/recovery">&quot;recovery&quot;</a>.<br />The reason is i need some kernel modules, the imagebuilder and the SDK.<br /></p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>Where is Asterisk inside the menu ?</p></blockquote></div><p>Location -&gt; Network -&gt; Telephony -&gt; asterisk13</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>The next question is: how can i get to the rescue mode ?<br />OK i solved my problem when i redownload the rescue image but i guess this not in the interest of the developer.</p></blockquote></div><p>Why not. It&#039;s only for the rescue. But If you want, you can use the following branch: <a href="https://github.com/Quallenauge/Easybox-904-XDSL/tree/recovery">&quot;recovery&quot;</a><br />I got it not running to build the rescue image within the normal build process. See this <a href="https://github.com/Quallenauge/Easybox-904-XDSL/blob/recovery/target/linux/lantiq/image/eb904.mk#L87">place</a><br />So I created this branch for it with the correct settings.<br />Please compile with &quot;-j1&quot; there where issues on multithreading builds.<br />Then the fullimage.img contains no rootfs for example. Maybe it is a hack and not intended by the lede developers,<br />but it works for the recovery and thats ok for me. (It would not ok for mainstream builds).</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>WLAN:<br />I was hoping it will run with: kmod-rt2800-pci</p></blockquote></div><p>Have a look at this <a href="http://lists.infradead.org/pipermail/lede-dev/2017-March/006591.html">post</a><br />But maybe there is driver from @kovz ^^ which integrates in the newer kernel.</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>ISDN:<br />Does it definitiv not working or have nobody try it ?<br />I have nothing find inside the Forum about ISDN, but for ISDN exist many modules (capi dahdi etc).<br />Have everybody getting the ISDN on the EasyBox 803a running, and if yes how ?</p></blockquote></div><p>I never tried it, but there is an stollmann.ko module where no source exists. So I thought<br />it doesn&#039;t work here. Hopefully I&#039;m wrong.</p><p>And don&#039;t forget as a wrote earlier:<br />Patches welcome ;-)</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 21 Mar 2017, 12:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354679">
				<div class="post-metadata">
					<div class="post-num">Post #291</div>
					<div class="post-author">kovz</div>
					<div class="post-datetime">
						21 Mar 2017, 00:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>But maybe there is driver from @kovz which integrates in the newer kernel.</p></blockquote></div><p>Currently driver can upload configuration and firmware. Unfortunately sources very buggy <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> In few days I will push my changes to github. Will be nice, if somebody could capture original driver initial communication. With wireshark I can see only broabcast responses from rt3883, but I need packets from driver, ideally after driver reports this sting:<br /></p><div class="codebox"><pre><code>RACFG_CMD_BOOT_STARTUP
Get concurrent card MAC address:88:03:55:e2:84:7a88:03:55:e2:84:7c</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354714">
				<div class="post-metadata">
					<div class="post-num">Post #292</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						21 Mar 2017, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>@Plonk:<br />Try<br /></p><div class="codebox"><pre><code>./scripts/feeds install -a</code></pre></div><p>to install all packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354722">
				<div class="post-metadata">
					<div class="post-num">Post #293</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						21 Mar 2017, 16:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kovz wrote:</cite><blockquote><div class="quotebox"><blockquote><p>But maybe there is driver from @kovz which integrates in the newer kernel.</p></blockquote></div><p>Currently driver can upload configuration and firmware. Unfortunately sources very buggy <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> In few days I will push my changes to github. Will be nice, if somebody could capture original driver initial communication. With wireshark I can see only broabcast responses from rt3883, but I need packets from driver, ideally after driver reports this sting:<br /></p><div class="codebox"><pre><code>RACFG_CMD_BOOT_STARTUP
Get concurrent card MAC address:88:03:55:e2:84:7a88:03:55:e2:84:7c</code></pre></div></blockquote></div><p>How to capture these packets? Enabling these <a href="https://github.com/uwehermann/easybox-904-xdsl-firmware/blob/master/linux/linux-2.6.32.32/drivers/net/ifxmips_ppa/platform/vr9/e5/ifxmips_ppa_datapath_vr9_e5.c#L3552">statements?</a><br />Just a question, does the open firmware driver also work on the &quot;old&quot; 2.6.32 system? That way we have more options to trace some calls.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354748">
				<div class="post-metadata">
					<div class="post-num">Post #294</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						21 Mar 2017, 22:40					</div>
				</div>
				<div class="post-content content">
					<p>For those, who doesn&#039;t want to compile a new image here&#039;s my current one.</p><p><a href="https://mega.nz/#!SU9VGQIB!GJzbzYu_XZ_q58Jjm7rwLF3G_zfxR3jxM62bmMBZnNs">Image 2017-03-21</a></p><p>Highlights:<br /></p><ul><li><p>dsl firmware included</p></li><li><p>simple-adblock</p></li><li><p>luci addons added</p></li><li><p>graph generation</p></li></ul><p>I was able to connect with this image to my vdsl provider.</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 21 Mar 2017, 22:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354758">
				<div class="post-metadata">
					<div class="post-num">Post #295</div>
					<div class="post-author">rony albert</div>
					<div class="post-datetime">
						21 Mar 2017, 23:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>middey wrote:</cite><blockquote><p>I don&#039;t know what i&#039;m making wrong.<br />When i generate the sha1 hash of u50J09KaVO i get b3c794d349137311f07422926a09092e3395ecec<br />The Password must be wrong or i make a big failure.<br />@shodan If you are in the irc chat can you write me your name ?</p><p>Best regards</p></blockquote></div><p>I am on same position!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355167">
				<div class="post-metadata">
					<div class="post-num">Post #296</div>
					<div class="post-author">yoda89</div>
					<div class="post-datetime">
						28 Mar 2017, 23:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>For those, who doesn&#039;t want to compile a new image here&#039;s my current one.</p><p>Highlights:<br /></p><ul><li><p>dsl firmware included</p></li><li><p>simple-adblock</p></li><li><p>luci addons added</p></li><li><p>graph generation</p></li></ul><p>I was able to connect with this image to my vdsl provider.</p></blockquote></div><p>Hi QAuge,</p><p>Congratulations for your hard work.<br />Your firmware is essentially for xDSL version.</p><p>Can you please tell me if that&#039;s good for LTE version ?</p><p>What&#039;s working and not working ? <br />I only need LTE and one RJ45 port (and apps like VPN of course) : is that ok ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355211">
				<div class="post-metadata">
					<div class="post-num">Post #297</div>
					<div class="post-author">kovz</div>
					<div class="post-datetime">
						29 Mar 2017, 22:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,<br /><a href="https://github.com/kovz/ralink_inic">https://github.com/kovz/ralink_inic</a><br />in this repository I pushed all my work. It is dirty and WIP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355241">
				<div class="post-metadata">
					<div class="post-num">Post #298</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						30 Mar 2017, 09:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yoda89 wrote:</cite><blockquote><p>Hi QAuge,</p><p>Congratulations for your hard work.</p></blockquote></div><p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /></p><div class="quotebox"><cite>yoda89 wrote:</cite><blockquote><p>Your firmware is essentially for xDSL version.</p><p>Can you please tell me if that&#039;s good for LTE version ?</p><p>What&#039;s working and not working ? <br />I only need LTE and one RJ45 port (and apps like VPN of course) : is that ok ?</p></blockquote></div><p>I can&#039;t test the image on a LTE box, since I doesn&#039;t own one.<br />The box should be similar - hopefully the GPIOs and the Display is the same, maybe you can give it a try.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355257">
				<div class="post-metadata">
					<div class="post-num">Post #299</div>
					<div class="post-author">kovz</div>
					<div class="post-datetime">
						30 Mar 2017, 12:45					</div>
				</div>
				<div class="post-content content">
					<p>For LTE box you don&#039;t need RTL switch driver and DSL soft. But you need driver for LTE modem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355789">
				<div class="post-metadata">
					<div class="post-num">Post #300</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						7 Apr 2017, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi kovz,</p><p>I didn&#039;t get your WIP code to upload the firmware :-(<br />There&#039;s something that I&#039;m doing wrong :-(</p><p>But I traced some network traffic when loading the driver.</p><div class="quotebox"><cite>kovz wrote:</cite><blockquote><div class="quotebox"><blockquote><p>But maybe there is driver from @kovz which integrates in the newer kernel.</p></blockquote></div><p>Currently driver can upload configuration and firmware. Unfortunately sources very buggy <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> In few days I will push my changes to github. Will be nice, if somebody could capture original driver initial communication. With wireshark I can see only broabcast responses from rt3883, but I need packets from driver, ideally after driver reports this sting:<br /></p><div class="codebox"><pre><code>RACFG_CMD_BOOT_STARTUP
Get concurrent card MAC address:88:03:55:e2:84:7a88:03:55:e2:84:7c</code></pre></div></blockquote></div><p>Please have a look there: <br />The following line is the console log, with tcpdump in background, listening on the master device (eth0)<br /><a href="https://mega.nz/#!KBczAJZC!h7Azjhy92dr2mIaBcR-XFrdlAca_b4Ui8mejn4-lNsc">Console.txt</a></p><p>The following line is the wireshark log, separately recorded:<br /><a href="https://mega.nz/#!uFFjgACY!1shkLC_HTcvoCDBOqSiFZLhmBBYUCSaX-904YkMquu4">Wireshark.log</a></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 12 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=11.html">11</a></li><li class="pagination-current"><span>12</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=13.html">13</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=14.html">14</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>