<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWrt and monitor mode (RFMON)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p19329">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Mux</div>
					<div class="post-datetime">
						19 Jan 2006, 09:31					</div>
				</div>
				<div class="post-content content">
					<p>hey people,</p><br /><p>i got a problem by using aircrack on my wrt54g. I also installed iw-tools</p><br /><p>iwpriv shows:<br />--------------------------------------------------------------------------------------<br />iwpriv</p><p>eth1 Available private ioctls :<br />set_monitor (8BE0) : set 1 int &amp; get 0<br />get_monitor (8BE1) : set 0 &amp; get 1 int<br />set_txpwr_force (8BE2) : set 1 int &amp; get 0<br />get_txpwr_force (8BE3) : set 0 &amp; get 1 int<br />set_antdiv (8BE4) : set 1 int &amp; get 0<br />get_antdiv (8BE5) : set 0 &amp; get 1 int<br />set_txant (8BE6) : set 1 int &amp; get 0<br />get_txant (8BE7) : set 0 &amp; get 1 int<br />set_bss_force (8BE8) : set 1 int &amp; get 0<br />get_bss_force (8BE9) : set 0 &amp; get 1 int</p><p>... and this means that monitor mode is available !</p><p>............................................................................................................</p><p>iwconfig eth1 mode monitor channel 6</p><br /><p>eth1 IEEE 802.11-DS ESSID:&quot;&quot;<br />Mode:Monitor Frequency:2.472 GHz Tx-Power:31 dBm<br />RTS thr=2347 B Fragment thr=2346 B<br />Encryption key:off<br />Link Quality:0 Signal level:0 Noise level:159<br />Rx invalid nwid:0 Rx invalid crypt:0 Rx invalid frag:0<br />Tx excessive retries:117 Invalid misc:0 Missed beacon:0</p><p>...this is working without problems !!!</p><p>............................................................................................................</p><p>BUT:</p><p>when i use airodump i get the following error:</p><p>airodump eth1 test 06 01</p><br /><p>ARP linktype is set to 1 (Ethernet) - expected ARPHRD_IEEE80211<br />or ARPHRD_IEEE80211_PRISM instead. Make sure RFMON is enabled:<br />run &#039;ifconfig eth1 up; iwconfig eth1 mode Monitor channel &lt;#&gt;&#039;</p><p>But iwconfig shows that the card is already set to monitor mode !!</p><p>............................................................................................................<br />dmesg</p><p>eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0<br />device eth1 entered promiscuous mode</p><p>... das zeigt es ja auch !!</p><p>Does anybody know what i´m doing wrong ??<br />I would be very greatful !!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19349">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						19 Jan 2006, 14:22					</div>
				</div>
				<div class="post-content content">
					<p>use the prism0 interface for capture instead of eth1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19383">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Mux</div>
					<div class="post-datetime">
						19 Jan 2006, 20:03					</div>
				</div>
				<div class="post-content content">
					<p>yaer, it worx !!!</p><p>Tank´s You!!!</p><p>And do you know if packet injection is possible ??</p>											<p class="post-edited">(Last edited by <strong>Mux</strong> on 19 Jan 2006, 20:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36394">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">michelinok76</div>
					<div class="post-datetime">
						1 Nov 2006, 19:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mux wrote:</cite><blockquote><p>yaer, it worx !!!</p><p>Tank´s You!!!</p><p>And do you know if packet injection is possible ??</p></blockquote></div><p>1) Do you have some problem with &quot;channels&quot; in airodump? My problem is that airodump still sniff others channels <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />2) Packet injection isn&#039;t possible</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57668">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">LeSanglier</div>
					<div class="post-datetime">
						17 Oct 2007, 23:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>use the prism0 interface for capture instead of eth1</p></blockquote></div><p>Hello,</p><p>I would to know how to use the prism0 instead of eth1 ??</p><p>Thanks in advance !</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>