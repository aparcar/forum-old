<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> NEED HELP!! Module acx-mac80211 not recognizing wireless hardware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p134082">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">fermion120</div>
					<div class="post-datetime">
						26 Apr 2011, 22:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;m trying to get my AVM Fritz!Box 7050 to run with openwrt. Everything works fine, except wireless, although the TNETW1130 wireless chipset should be supported by the acx100 driver.<br /><strong>Technical Data of my Router:</strong><br />TI AR7 chipset<br />WLAN: TI TNETW1130GVF<br />CPU: TNETD7300AGDW (AR7) @ 150 Mhz</p><p>I tried the latest build from svn trunk for ar7, but no wlan chipset is recognized. Look at these Lines from Kernel Log</p><div class="quotebox"><blockquote><p>Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000</p></blockquote></div><p>It seems like kernel module doesn&#039;t get the right Chip ID, so I looked into source code of acx-mac80211 where the CHIP ID of TNETW1130 is defined as 0x00000009 and not 0x00000000 like kernel says.</p><p><strong> Things I have already tried and every time same error in kernel log:</strong><br />- stable release from backfire<br />- stable release from kamikaze<br />- tried acx.ko module instead of acx-mac80211.ko<br />- compiling myself from svn source<br />- changing source of acx-mac80211 to use 16Bit I/O access<br />- changing chip id in source of acx-mac80211 for TNETW1130 to 0x00000000 <br />&nbsp; Result: &quot;PCI/VLYNQ module initialized, waiting for cards to probe...&quot; and then nothing else<br />- also tried another ar7 Router with similar Hardware ( Speedport W701V with TNETW1350A chipset )<br />&nbsp; and wlan is also not recognized, same error in kernel log</p><p>I&#039;m quite running out of ideas, so I need your help.<br />Also searched for related topics in Bug-Trac and this forum, but found nothing. Has nobody else such problems or even same Chipset with working drivers? </p><p>Thanks a lot for your help and sorry for bad English!</p><br /><br /><p><strong>Complete Kernel Log:</strong><br /></p><div class="codebox"><pre><code>Linux version 2.6.37.6 (tom@linux-i1fx.site) (gcc version 4.5.2 (Linaro GCC 4.5-2011.02-0) ) #1 Tue Apr 26 19:49:22 CEST 2011
ar7-gpio: registered 32 GPIOs
bootconsole [early0] enabled
CPU revision is: 00018448 (MIPS 4KEc)
TI AR7 (TNETD7300), ID: 0x0005, Revision: 0x25
Determined physical RAM map:
 memory: 02000000 @ 14000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00014000 -&gt; 0x00016000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00014000 -&gt; 0x00016000
On node 0 totalpages: 8192
free_area_init_node: node 0, pgdat 9436fa70, node_mem_map 95000000
  Normal zone: 64 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 8128 pages, LIFO batch:0
pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
pcpu-alloc: [0] 0 
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line:  console=ttyS0,38400n8
PID hash table entries: 128 (order: -3, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.
Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 16 bytes
Memory: 28660k/32768k available (2173k kernel code, 4108k reserved, 323k data, 148k init, 0k highmem)
NR_IRQS:256
Clocks: prediv: 1, postdiv: 1, mul: 10
Clocks: prediv: 1, postdiv: 1, mul: 10
Calibrating delay loop... 149.50 BogoMIPS (lpj=747520)
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
UDP hash table entries: 256 (order: 0, 4096 bytes)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x8610e00 (irq = 15) is a TI-AR7
console [ttyS0] enabled, bootconsole disabled
serial8250: ttyS1 at MMIO 0x8610f00 (irq = 16) is a TI-AR7
physmap platform flash device: 00800000 at 10000000
physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a7
physmap-flash.0: Found an alias at 0x400000 for the chip at 0x0
Amd/Fujitsu Extended Query Table at 0x0040
  Amd/Fujitsu Extended Query version 1.1.
physmap-flash.0: Swapping erase regions for top-boot CFI table.
number of CFI chips: 1
cmdlinepart partition parsing not available
RedBoot partition parsing not available
4 ar7part partitions found on MTD device physmap-flash.0
Creating 4 MTD partitions on &quot;physmap-flash.0&quot;:
0x000000000000-0x000000010000 : &quot;loader&quot;
0x0000003f0000-0x000000400000 : &quot;config&quot;
0x000000010000-0x0000003f0000 : &quot;linux&quot;
0x0000000f0000-0x0000003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=280000, len=170000 
0x000000280000-0x0000003f0000 : &quot;rootfs_data&quot;
Fixed MDIO Bus: probed
cpmac-mii: probed
cpmac: device eth0 (regs: 08612800, irq: 41, phy: 1:01, mac: 00:04:0e:bd:b2:8d)
cpmac: device eth1 (regs: 08610000, irq: 27, phy: 1:1f, mac: 00:04:0e:bd:b2:8c)
ar7_wdt: disabling watchdog timer
ar7_wdt: timer margin 17 seconds (prescale 65535, change 65535, freq 250000000)
Registered led device: 1
Registered led device: 2
Registered led device: 3
Registered led device: 4
Registered led device: 5
vlynq0: regs 0x08611800, irq 29, mem 0x04000000
vlynq1: regs 0x08611c00, irq 33, mem 0x0c000000
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
Freeing unused kernel memory: 148k freed
device eth0 entered promiscuous mode
device eth1 entered promiscuous mode
br-lan: port 2(eth1) entering forwarding state
br-lan: port 2(eth1) entering forwarding state
PHY: 1:1f - Link is Up - 100/Full
Compat-wireless backport release: compat-wireless-2011-04-14
Backport based on wireless-testing.git master-2011-04-19
cfg80211: Calling CRDA to update world regulatory domain
cfg80211: World regulatory domain updated:
cfg80211:     (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
cfg80211:     (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
NET: Registered protocol family 8
NET: Registered protocol family 20
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
PHY: 1:1f - Link is Down
br-lan: port 2(eth1) entering forwarding state
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (450 buckets, 1800 max)
acx: acx-mac80211, version: v0.6.0 (git: unknown)
acx: this driver is still EXPERIMENTAL
acx: please read the README file and/or go to http://acx100.sourceforge.net/wiki for further information
acx: compiled to use 16bit I/O access only (compatibility mode)
acx: running on a little-endian CPU
 PCI/VLYNQ module initialized, waiting for cards to probe...
Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000
Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000
PHY: 1:01 - Link is Up - 100/Full
br-lan: port 1(eth0) entering forwarding state
br-lan: port 1(eth0) entering forwarding state
jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
jffs2_build_filesystem(): unlocking the mtd device... done.
jffs2_build_filesystem(): erasing all blocks after the end marker... done.
JFFS2 notice: (778) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
ar7_wdt: enabling watchdog timer
ar7_wdt: timer margin 17 seconds (prescale 65535, change 65535, freq 250000000)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139968">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">SimonIremonger</div>
					<div class="post-datetime">
						26 Jul 2011, 12:36					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m getting the same thing, with OpenWRT trunk r27771 and 2.6.37.6 kernel...<br />It does the same:-<br /> acx: PCI/VLYNQ module v0.3.37 initialized, waiting for cards to probe...<br /> Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br /> Not using the 00000029 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />With cold-boot both with &#039;acx&#039; driver and also &#039;acx-mac80211&#039; updated to 20110704 from the acx100 svn tree.</p><p>HOWEVER, on r25675 with 2.6.37.1 on an *apparently* identical DG834Gv3 router (unless it has TNETW1350A EPROM programmed differently or so)...&nbsp; It says:-<br /> acx: PCI/VLYNQ module v0.3.37 initialized, waiting for cards to probe...<br /> Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000029<br /> Driver found for VLYNQ device: 00000029<br /> vlynq0: using remote clock divisor 2<br /> acx: found TI TNETW1350-based wireless network card at (null), irq:80, phymem:0x4000000, mem:0xa4000000<br /> initial debug setting is 0x000A<br /> using IRQ 80<br /> acx: eCPU is already running. reset_dev() FAILED</p><p>I think, it just doesn&#039;t like the TNETW1350A in the old &#039;acx&#039; driver...</p><p>My r25675 2.6.37.1 is here, you could try if you want:-<br /><a href="http://hermes.enyc.org.uk/openwrt-2011-02-23-r25675/ar7/">http://hermes.enyc.org.uk/openwrt-2011- … 25675/ar7/</a></p><p>I also have all the packages that would compile, including kmod-acx-mac80211 and all its&#039; dependencies ;-).&nbsp; Flash space can be a problem ;-).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140371">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">SimonIremonger</div>
					<div class="post-datetime">
						1 Aug 2011, 01:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fermion120 wrote:</cite><blockquote><p>Hello,<br />I&#039;m trying to get my AVM Fritz!Box 7050 to run with openwrt. Everything works fine, except wireless, although the TNETW1130 wireless chipset should be supported by the acx100 driver.<br />- also tried another ar7 Router with similar Hardware ( Speedport W701V with TNETW1350A chipset )<br />&nbsp; and wlan is also not recognized, same error in kernel log</p></blockquote></div><p>It is possible there is a silly problem with the wireless-environment variables or other issue.&nbsp; I also discovered, that if I try to use my DG834G that doesn&#039;t have wireless, funnily-enough it will never see any wireless-adapters ;-). Silly me ;-)</p><p>I would very much suggest trying the &quot;RouterTech&quot; firmware and seeing if that will get your Wireless going *first* <a href="http://www.routertech.org">http://www.routertech.org</a>/&nbsp; ...&nbsp; I note in the case of TNETW1350A they want you to make sure you have got all that &#039;wireless environment&#039; in pspboot and TNETWID stuff sorted.</p><p>I have here, a recent backfire build for ar7 which includes a package for a much more up-to-date kmod-acx-mac80211 ;-).<br /><a href="http://openwrt.enyc.org.uk/openwrt/backfire-2011-07-30-r27838/">http://openwrt.enyc.org.uk/openwrt/back … 30-r27838/</a><br />But, you will need to install wireless-tools, iw, wpad-mini, kmod-acx-mac80211, and (if wanted) luci config interface, as none of that is included out of the box.<br />(Make sure you read Simon-Notes.txt).<br />I would be very interested in your findings, using that, preferably after showing the hardware/eprom-stuff/boot-config works with RouterTech first, which I would definitely suggest to start with.</p>											<p class="post-edited">(Last edited by <strong>SimonIremonger</strong> on 1 Aug 2011, 02:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140952">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">SimonIremonger</div>
					<div class="post-datetime">
						10 Aug 2011, 11:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000</p></blockquote></div><p>I&#039;ve had those messages appearing on a DG834v3 which has no wireless function.<br />I believe, at some point, I also had those appearing in addition to the device being found successfully!</p><p>Have you considered the &#039;vlynq_polarity&#039; pspboot environment variable may need to be low or high?&nbsp; <br />Try setting up the mtd and bootcfg to install &#039;routertech&#039; and see if that works with your hardware and bootloader/environment? (ask me if you would like more details).</p><p>In any case, on OpenWRT the latest kmod-acx-mac80211 does work, at least with TNETW1130 (acx111) devices and NOT with TNETW1350A.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149654">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Tf2k</div>
					<div class="post-datetime">
						27 Nov 2011, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>Got the same symptoms on my Fritz!Box 7050.<br />Everything is working, but the wlan adapter (TNetW1130GVF) via Vlynq is being not correct identified.</p><div class="quotebox"><blockquote><p>Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />Not using the 00000029 VLYNQ device&#039;s driver for VLYNQ device: 00000000</p></blockquote></div><p>This happens with the latest trunk, with Simons custom build and with the various 10.03 RCs. <br />First idea was a defective wlan card, but on the original AVM Firmware, wireless is just working fine.</p><p>Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149678">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">SimonIremonger</div>
					<div class="post-datetime">
						27 Nov 2011, 21:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Tf2k wrote:</cite><blockquote><p>Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />Not using the 00000029 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />First idea was a defective wlan card, but on the original AVM Firmware, wireless is just working fine.</p></blockquote></div><p>Thats&#039; unfortunate!&nbsp; Humm...&nbsp; I would wonder:-</p><p>a) What bootloader/version do you have anyway?<br />b) Have you tried changing the vlynq_polarity environment, as was suggested?<br />c) Have you tried RouterTech firmware, out of interest (a 2.4-kernel-basis)?</p><p>But, short answer, no idea, I haven&#039;t seen TNETW1130 except on Netgear DG834Gv2...&nbsp; I do know I&#039;ve had acx-mac80211 at least partially working (not liking full length WPA key) with my &#039;trunk&#039; version (which is broken in various other ways):-<br /><a href="http://openwrt.enyc.org.uk/openwrt/trunk-2011-07-25-r27771/">http://openwrt.enyc.org.uk/openwrt/trun … 25-r27771/</a><br />(This is buggy, web interface being silly, firewall rules needing overriding manually...).<br />I&#039;m likely to retry TNETW1130 wireless on a DG834Gv2 with a new build of the 10.03.1-rc6 or 10.03.1 (if available) (again with updated acx-mac80211 module), which I may well try to build sometime around 10th Dec.</p><p>--Simon</p>											<p class="post-edited">(Last edited by <strong>SimonIremonger</strong> on 27 Nov 2011, 21:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149683">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Tf2k</div>
					<div class="post-datetime">
						27 Nov 2011, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>Hello Simon,</p><p>a) <br />before: the original ADAM2 Bootloader, Version atm not available <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />now: PSPBoot bootloader Version 1.4.0.4</p><p>b) not tried with ADAM2, now trying with PSPboot.<br />c) Routertech, ah; 2.4 Kernel. Tried the latest Release, but won&#039;t stay for long<br />(reboots itself shortly after it completes the boot process, console message shows no Kernel Oops; just &quot;restarting system&quot;)</p><p>Right, i have no idea either.</p><br /><p>Wlan Card:<br />TNETW1130<br />HW A3<br />FW: 24.05.01.00<br />00120E 2A5300</p><p>PSPboot Enviroment with Routertech Variables<br /></p><div class="codebox"><pre><code>BUILD_OPS             0x301

bootloaderVersion     1.4.0.4

ProductID             AR7WRD

HWRevision            Unknown

SerialNumber          none

IPA                   192.168.1.1

BOOTCFG               m:f:&quot;mtd1&quot;

mtd4                  0x90020000,0x90400000

mtd2                  0x90000000,0x90010000

mtd3                  0x90010000,0x90020000

FLASHSZ               0x00400000

MODETTY0              9600,n,8,1,hw

MODETTY1              9600,n,8,1,hw

CPUFREQ               150000000

MIPSFREQ              150000000

SYSFREQ               125000000

PROMPT                (psbl)

MAC_PORT              0

HWA_0                 00:15:0C:51:9D:7F

HWA_1                 00:15:0c:51:9D:80

HWA_3                 00:15:0C:51:9D:82

mac_ap                00:15:0c:51:9d:81

mtd1                  0x90020090,0x9009f000

mtd0                  0x9009f000,0x90400000

MEMSZ                 0x02000000

vcc_encaps0           0.0

vcc_encaps1           0.0

vcc_encaps2           0.0

vcc_encaps3           0.0

vcc_encaps4           0.0

vcc_encaps5           0.0

vcc_encaps6           0.0

vcc_encaps7           0.0
modulation            0x1</code></pre></div><p>Kernel Boot-log OpenWRT&nbsp; r29337<br /></p><div class="codebox"><pre><code> === IMPORTANT ============================
  Use &#039;passwd&#039; to set your login password
  this will disable telnet and enable SSH
 ------------------------------------------


BusyBox v1.19.3 (2011-11-26 18:09:42 MST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 ATTITUDE ADJUSTMENT (bleeding edge, r29337) ----------
  * 1/4 oz Vodka      Pour all ingredients into mixing
  * 1/4 oz Gin        tin with ice, strain into glass.
  * 1/4 oz Amaretto
  * 1/4 oz Triple sec
  * 1/4 oz Peach schnapps
  * 1/4 oz Sour mix
  * 1 splash Cranberry juice
 -----------------------------------------------------
root@OpenWrt:/# dmesg
Linux version 2.6.37.6 (openwrt@OpenWRTBuild) (gcc version 4.5.4 20110808 (prerelease) (Linaro GCC 4.5-2011.08) ) #1 Sun Nov 27 05:42:39 MST 2011
ar7-gpio: registered 32 GPIOs
bootconsole [early0] enabled
CPU revision is: 00018448 (MIPS 4KEc)
TI AR7 (TNETD7300), ID: 0x0005, Revision: 0x27
Determined physical RAM map:
 memory: 02000000 @ 14000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00014000 -&gt; 0x00016000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00014000 -&gt; 0x00016000
On node 0 totalpages: 8192
free_area_init_node: node 0, pgdat 943928b0, node_mem_map 95000000
  Normal zone: 64 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 8128 pages, LIFO batch:0
pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
pcpu-alloc: [0] 0
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line:  console=ttyS0,9600n8
PID hash table entries: 128 (order: -3, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.
Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 16 bytes
Memory: 28520k/32768k available (2296k kernel code, 4248k reserved, 339k data, 152k init, 0k highmem)
NR_IRQS:256
Clocks: prediv: 1, postdiv: 1, mul: 10
Calibrating delay loop... 149.50 BogoMIPS (lpj=747520)
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
UDP hash table entries: 256 (order: 0, 4096 bytes)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x8610e00 (irq = 15) is a TI-AR7
console [ttyS0] enabled, bootconsole disabled
serial8250: ttyS1 at MMIO 0x8610f00 (irq = 16) is a TI-AR7
physmap platform flash device: 00800000 at 10000000
physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a7
physmap-flash.0: Found an alias at 0x400000 for the chip at 0x0
Amd/Fujitsu Extended Query Table at 0x0040
  Amd/Fujitsu Extended Query version 1.1.
physmap-flash.0: Swapping erase regions for top-boot CFI table.
number of CFI chips: 1
cmdlinepart partition parsing not available
RedBoot partition parsing not available
4 ar7part partitions found on MTD device physmap-flash.0
Creating 4 MTD partitions on &quot;physmap-flash.0&quot;:
0x000000000000-0x000000010000 : &quot;loader&quot;
0x000000010000-0x000000020000 : &quot;config&quot;
0x000000020000-0x000000400000 : &quot;linux&quot;
0x000000100000-0x000000400000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2B0000, len=150000
0x0000002b0000-0x000000400000 : &quot;rootfs_data&quot;
Fixed MDIO Bus: probed
cpmac-mii: probed
cpmac: device eth0 (regs: 08612800, irq: 41, phy: 1:01, mac: 00:15:0c:51:9d:80)
cpmac: device eth1 (regs: 08610000, irq: 27, phy: 1:1f, mac: 00:15:0c:51:9d:7f)
ar7_wdt: disabling watchdog timer
ar7_wdt: timer margin 17 seconds (prescale 65535, change 65535, freq 250000000)
Registered led device: status
vlynq0: regs 0x08611800, irq 29, mem 0x04000000
vlynq1: regs 0x08611c00, irq 33, mem 0x0c000000
TCP westwood registered
NET: Registered protocol family 17
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
Freeing unused kernel memory: 152k freed
JFFS2 notice: (282) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 6 of xref (0 dead, 2 orphan) found.
Compat-wireless backport release: compat-wireless-2011-11-08-1-g4ab9b62
Backport based on wireless-testing.git master-2011-11-15
cfg80211: Calling CRDA to update world regulatory domain
cfg80211: World regulatory domain updated:
cfg80211:     (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
cfg80211:     (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
NET: Registered protocol family 8
NET: Registered protocol family 20
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (448 buckets, 1792 max)
acx: acx-mac80211, version: v0.6.0 (git: unknown)
acx: this driver is still EXPERIMENTAL
acx: please read the README file and/or go to http://acx100.sourceforge.net/wiki for further information
acx: compiled to use 32bit I/O access. I/O timing issues might occur, such as non-working firmware upload. Report them
acx: running on a little-endian CPU
 PCI/VLYNQ module initialized, waiting for cards to probe...
Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000
Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000
registered device TI Avalanche SAR
Sangam detected
requesting firmware image &quot;ar0700xx.bin&quot;
avsar firmware released
tn7dsl_set_modulation : Setting mode to 0x1
Creating new root folder avalanche in the proc for the driver stats
Texas Instruments ATM driver: version:[7.03.01.00]
device eth0 entered promiscuous mode
PHY: 1:1f - Link is Up - 100/Full
device eth1 entered promiscuous mode
br-lan: port 2(eth1) entering forwarding state
br-lan: port 2(eth1) entering forwarding state
ar7_wdt: enabling watchdog timer
ar7_wdt: timer margin 17 seconds (prescale 65535, change 65535, freq 250000000)
root@OpenWrt:/#</code></pre></div><p>being curious, what is the other device lying there on the vlynq bus?<br />We&#039;ve got two device IDs (badly both with 000000), is the other the USB Client Port?<br />Did something changed in the VLYNQ Support from the Kernel?</p>											<p class="post-edited">(Last edited by <strong>Tf2k</strong> on 27 Nov 2011, 23:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149692">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">SimonIremonger</div>
					<div class="post-datetime">
						28 Nov 2011, 03:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Tf2k wrote:</cite><blockquote><p>a) <br />before: the original ADAM2 Bootloader, Version atm not available <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />now: PSPBoot bootloader Version 1.4.0.4</p></blockquote></div><p>Good, I highly recommend staying with that common PSPBoot 1.4.0.4 build, always works better, never caused any problems for me.<br /></p><div class="quotebox"><cite>Tf2k wrote:</cite><blockquote><p>b) not tried with ADAM2, now trying with PSPboot.</p></blockquote></div><p>Have you played with &quot;vlynq_polarity&quot; environment in PSPboot, I suspect that only affects RouterTech, however, not sure...<br /></p><div class="quotebox"><cite>Tf2k wrote:</cite><blockquote><p>c) Routertech, ah; 2.4 Kernel. Tried the latest Release, but won&#039;t stay for long<br />(reboots itself shortly after it completes the boot process, console message shows no Kernel Oops; just &quot;restarting system&quot;)</p></blockquote></div><p>May not be setup right? e.g. its&#039; special MTD partitions?&nbsp; Use their windows MTD calculator etc.?<br />Though&#039; it looked like you got that sorted in the routertech-variables-environment...<br />A working DG834Gv3 w/routertech Has:-<br /></p><div class="codebox"><pre><code>mtd0        0x900a1000,0x90400000
mtd1        0x90020090,0x900a1000
mtd2        0x90000000,0x90010000
mtd3        0x90010000,0x90020000
mtd4        0x90020000,0x90400000
BOOTCFG        m:f:&quot;mtd1&quot;</code></pre></div><div class="quotebox"><cite>Tf2k wrote:</cite><blockquote><p>ATTITUDE ADJUSTMENT (bleeding edge, r29337) ----------<br />root@OpenWrt:/# dmesg<br />Linux version 2.6.37.6 (openwrt@OpenWRTBuild) (gcc version 4.5.4 20110808 (prerelease) vlynq0: regs 0x08611800, irq 29, mem 0x04000000<br />vlynq1: regs 0x08611c00, irq 33, mem 0x0c000000<br /> PCI/VLYNQ module initialized, waiting for cards to probe...<br />Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />Not using the 00000009 VLYNQ device&#039;s driver for VLYNQ device: 00000000<br />registered device TI Avalanche SAR<br />Did something changed in the VLYNQ Support from the Kernel?</p></blockquote></div><p>Yes, apparently, I think....<br />I Note that my older trunk bulid:-<br /><a href="http://openwrt.enyc.org.uk/openwrt/trunk-2011-07-25-r27771/">http://openwrt.enyc.org.uk/openwrt/trun … 25-r27771/</a><br />Says in my notes:-<br />&quot;* kernel has been dropped to 2.6.37.1 (to see if that fixes issue with VLYNQ device detection)&quot;<br />I.e. I&#039;m sure I found that out at the time, and built a version with an older kernel, before where I could apparently see some VLYNQ changes.&nbsp; Might be worth trying that build (be aware the webif was being silly and sometimes needed to wipe some iptables rules manually, e.g. it wasn&#039;t allowing itself to make outgoing DNS queries).<br />Frustratingly, can&#039;t see the 2.6.37.x changelogs on kernel.org at the moment, amongst their changes after kernel.org breakin...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149738">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jaime</div>
					<div class="post-datetime">
						28 Nov 2011, 13:20					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know whether I can help you, but I compiled trunk a couple of days ago for my DG834G v2 and it&#039;s working perfectly (according to the openwrt wiki, the wlan chip is a TI TNETW1130GVF). I&#039;m using the acx-mac80211 driver that&#039;s available in trunk and it&#039;s offering wpa/wpa2 with no problems whatsoever.</p><p>(and a big &quot;thank you&quot; to you, Simon - your posts and openwrt repository motivated me to get back into openwrt after a few years away!)</p><p>Me very happy :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149776">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Tf2k</div>
					<div class="post-datetime">
						28 Nov 2011, 20:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>SimonIremonger wrote:</cite><blockquote><p>[...]<br />I Note that my older trunk bulid:-<br /><a href="http://openwrt.enyc.org.uk/openwrt/trunk-2011-07-25-r27771/">http://openwrt.enyc.org.uk/openwrt/trun … 25-r27771/</a><br />Says in my notes:-<br />&quot;* kernel has been dropped to 2.6.37.1 (to see if that fixes issue with VLYNQ device detection)&quot;<br />I.e. I&#039;m sure I found that out at the time, and built a version with an older kernel, before where I could apparently see some VLYNQ changes.&nbsp; Might be worth trying that build (be aware the webif was being silly and sometimes needed to wipe some [...]</p></blockquote></div><p>Nope, not a success. Same error, it does not recognize the two VLYNQ Devices. </p><p>I&#039;m going a little further back, lets see if i can get it running.</p><p>edit:<br />gone back to kamikaze/8.09.2/ar7, no success either.<br />Same &quot;Error?&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150936">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">freakout2011</div>
					<div class="post-datetime">
						12 Dec 2011, 04:42					</div>
				</div>
				<div class="post-content content">
					<p>Hello, i installed today simons last build (10.03.1-RC6, r27837), and installed the kmod-acx-mac80211 packages etc.</p><p>Now i get this:<br />vlynq0: regs 0x08611800, irq 29, mem 0x04000000<br />vlynq1: regs 0x08611c00, irq 33, mem 0x0c000000</p><p>Still good BUT: </p><p>acx_mac80211: Unknown symbol ieee80211_queue_stopped<br />acx_mac80211: Unknown symbol ieee80211_free_hw<br />acx_mac80211: Unknown symbol ieee80211_alloc_hw<br />acx_mac80211: Unknown symbol ieee80211_register_hw<br />acx_mac80211: Unknown symbol ieee80211_rx<br />acx_mac80211: Unknown symbol ieee80211_wake_queues<br />acx_mac80211: Unknown symbol ieee80211_tx_status<br />acx_mac80211: Unknown symbol ieee80211_stop_queues<br />acx_mac80211: Unknown symbol compat_release_firmware<br />acx_mac80211: Unknown symbol ieee80211_unregister_hw<br />acx_mac80211: Unknown symbol ieee80211_beacon_get_tim<br />acx_mac80211: Unknown symbol ieee80211_queue_work<br />acx_mac80211: Unknown symbol compat_request_firmware.</p><br /><p>I&#039;m using a Fritz!Box Fon WLAN 7050, which got TNETW1130GVF.</p><p>When the vlynq now works it could be an alternative to buy another maybe ath-based pci card for that.<br />But if anyone has a suggestion please tell me <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><br /><p>thanks</p>											<p class="post-edited">(Last edited by <strong>freakout2011</strong> on 12 Dec 2011, 05:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151401">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">SimonIremonger</div>
					<div class="post-datetime">
						17 Dec 2011, 20:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jaime wrote:</cite><blockquote><p>I don&#039;t know whether I can help you, but I compiled trunk a couple of days ago for my DG834G v2 and it&#039;s working perfectly (according to the openwrt wiki, the wlan chip is a TI TNETW1130GVF). I&#039;m using the acx-mac80211 driver that&#039;s available in trunk and it&#039;s offering wpa/wpa2 with no problems whatsoever.<br />Me very happy :-)</p></blockquote></div><p>I tried today with Trunk r29519 (copied snapshot from OpenWRT website).<br /><a href="http://openwrt.enyc.org.uk/openwrt/trunk-2011-12-13-r29519/">http://openwrt.enyc.org.uk/openwrt/trun … 13-r29519/</a><br />I did NOT manage to get wireless to come up on a DG834Gv2 !!</p><p>jamie, Please post your&nbsp; /etc/config/wireless&nbsp; file so we can see it ;-).<br />If your compiled-build binaries can be placed somewhere, that could also be useful for debugging/comparisons...</p><p>With thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154076">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">jaime</div>
					<div class="post-datetime">
						13 Jan 2012, 15:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>SimonIremonger wrote:</cite><blockquote><div class="quotebox"><cite>jaime wrote:</cite><blockquote><p>I don&#039;t know whether I can help you, but I compiled trunk a couple of days ago for my DG834G v2 and it&#039;s working perfectly (according to the openwrt wiki, the wlan chip is a TI TNETW1130GVF). I&#039;m using the acx-mac80211 driver that&#039;s available in trunk and it&#039;s offering wpa/wpa2 with no problems whatsoever.<br />Me very happy :-)</p></blockquote></div><p>I tried today with Trunk r29519 (copied snapshot from OpenWRT website).<br /><a href="http://openwrt.enyc.org.uk/openwrt/trunk-2011-12-13-r29519/">http://openwrt.enyc.org.uk/openwrt/trun … 13-r29519/</a><br />I did NOT manage to get wireless to come up on a DG834Gv2 !!</p><p>jamie, Please post your&nbsp; /etc/config/wireless&nbsp; file so we can see it ;-).<br />If your compiled-build binaries can be placed somewhere, that could also be useful for debugging/comparisons...</p><p>With thanks,</p></blockquote></div><p>Ooops - sorry folks - I&#039;ve just looked at this forum for the first time in over a month so I&#039;ve only just seen your replies.</p><p>I&#039;ve recompiled trunk several times over the last month, and I&#039;m currently running r29712 (from yesterday, I think). Here&#039;s my /etc/config/wireless as requested:</p><div class="codebox"><pre><code>config wifi-device  radio0
    option type     mac80211
    option channel  11
    option macaddr    aa:bb:cc:dd:ee:ff #this isn&#039;t my real mac
    option hwmode    11g

config wifi-iface
    option device   radio0
    option network  lan
    option mode     ap
    option ssid     anyRandomSSID #this isn&#039;t my real ssid
    option encryption psk
    option key      someRandomGibberish #this isn&#039;t my real key</code></pre></div><p>If you want binaries, .config files, or anything else, just let me know (drop me an email via this forum and I&#039;ll answer asap).</p><p>Kind regards,</p><p>Jaime</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188687">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">geekgirl</div>
					<div class="post-datetime">
						12 Jan 2013, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>Same issue with current AR7 on DSL-2640T (AR7WRD w/ TNETD7200): TNETW1350 not detected.<br />It was detected ok with backfire 10.03.1, so I think this is a regression.</p><p>filed bug: <a href="https://dev.openwrt.org/ticket/12789">https://dev.openwrt.org/ticket/12789</a></p>											<p class="post-edited">(Last edited by <strong>geekgirl</strong> on 12 Jan 2013, 18:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239541">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">sturia</div>
					<div class="post-datetime">
						7 Jul 2014, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi jaime, <br />quite a cold thread, but I&#039;d benefit from your experience on the topic.. still there?</p><p>thanks<br />g.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239741">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">jaime</div>
					<div class="post-datetime">
						9 Jul 2014, 14:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi sturia. Yes, I&#039;m still here, but I got rid of my acx hardware months ago. If you&#039;re looking for an adsl wireless router that runs openwrt, come and join us over at openwrt.ebilan.co.uk where we&#039;re all playing with BT home hubs (openwrt trunk has recently had support re-introduced for the version 2B units).</p><p>With kind regards, Jaime</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239752">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">sturia</div>
					<div class="post-datetime">
						9 Jul 2014, 16:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply Jamie, i&#039;ll have a look for any useful information there as well, though I have to stick to my current G624T for the moment. <br />Talking in general about openwrt, is there a way to get backfire trunks? it looks there is just trunks for attitute adjustment, and that here <a href="https://dev.openwrt.org/browser?rev=41554&amp;order=name#branches/packages_10.03.2">https://dev.openwrt.org/browser?rev=415 … es_10.03.2</a> it&#039;s only branches available..</p><p>i&#039;ve found on forum a combination of backfire trunk/acx that is reported to work on g624t but can&#039;t find that trunk anywhere <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>cheers<br />g.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>