<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> I&#039;ve set up port forwarding and it is not working (for real) :)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p46712">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pyrokenx</div>
					<div class="post-datetime">
						19 Apr 2007, 10:29					</div>
				</div>
				<div class="post-content content">
					<p>I have used the external IP and not the internal, for extra good measure I used a proxy hosted off lan to test it.&nbsp; No luck..</p><p>I am using X-WRT currently because I heard that people had more luck with it in some cases.. I also like it&#039;s admin UI..</p><p>anyhow.. heres my info from Network --&gt; Firewall :</p><p>Protocol: TCP<br />Destination Ports: 1337<br />Target: 192.168.1.102<br />(Target) Port: 80</p><p>I have also tried setting target port to 1337, with my apache server listening on both 1337 and 80... I have tried leaving the target port blank.. no luck, I would also like it to be known that I tried this the old fashioned way through iptables, editing /etc/firewall.user over vi in ssh.&nbsp; I have tried with each change both resetting the firewall, and reseting the router itself..&nbsp; No matter what I do it doesnt seem to work..&nbsp; I am not new to Linux personally, but new to use of OpenWRT.&nbsp; Any feedback is welcome, willing to try anything to make this work.</p><p>Using White Russian 0.9</p><br /><p>HERES SOME INFO FOR GOOD MEASURE</p><p>My /etc/config/firewall file:<br />forward:proto=tcp dport=1337:192.168.1.102:80</p><p>Installed Packages:<br />Uninstall&nbsp; &nbsp; base-files&nbsp; &nbsp; 9&nbsp; &nbsp; OpenWrt filesystem structure and scripts<br />Uninstall&nbsp; &nbsp; base-files-brcm&nbsp; &nbsp; 2&nbsp; &nbsp; Board/architecture specific files<br />Uninstall&nbsp; &nbsp; bridge&nbsp; &nbsp; 1.0.6-1&nbsp; &nbsp; Ethernet bridging tools<br />Uninstall&nbsp; &nbsp; busybox&nbsp; &nbsp; 1.00-5&nbsp; &nbsp; Core utilities for embedded Linux systems<br />Uninstall&nbsp; &nbsp; chat&nbsp; &nbsp; 2.4.3-7&nbsp; &nbsp; Utility for establishing a connection with the ISP&#039;s PPP server (e.g. via Modem)<br />Uninstall&nbsp; &nbsp; dnsmasq&nbsp; &nbsp; 2.35-1&nbsp; &nbsp; A lightweight DNS and DHCP server<br />Uninstall&nbsp; &nbsp; dropbear&nbsp; &nbsp; 0.48.1-1&nbsp; &nbsp; a small SSH 2 server/client designed for small memory environments.<br />Uninstall&nbsp; &nbsp; ez-ipupdate&nbsp; &nbsp; 3.0.11b8-2&nbsp; &nbsp; a client for dynamic DNS services<br />Uninstall&nbsp; &nbsp; haserl&nbsp; &nbsp; 0.8.0-1&nbsp; &nbsp; a CGI wrapper to embed shell scripts in HTML documents<br />Uninstall&nbsp; &nbsp; ip&nbsp; &nbsp; 2.6.11-050330-1&nbsp; &nbsp; iproute2 routing control utility<br />Uninstall&nbsp; &nbsp; ipkg&nbsp; &nbsp; 0.99.149-2&nbsp; &nbsp; lightweight package management system<br />Uninstall&nbsp; &nbsp; iptables&nbsp; &nbsp; 1.3.3-2&nbsp; &nbsp; The netfilter firewalling software for IPv4<br />Uninstall&nbsp; &nbsp; iptables-extra&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Other extra Iptables extensions (meta-package)<br />Uninstall&nbsp; &nbsp; iptables-mod-conntrack&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extensions for connection tracking<br />Uninstall&nbsp; &nbsp; iptables-mod-extra&nbsp; &nbsp; 1.3.3-2&nbsp; &nbsp; Other extra Iptables (IPv4) extensions<br />Uninstall&nbsp; &nbsp; iptables-mod-filter&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extension for packet content inspection<br />Uninstall&nbsp; &nbsp; iptables-mod-imq&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extensions for Intermediate Queuing Device QoS-support<br />Uninstall&nbsp; &nbsp; iptables-mod-ipopt&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extensions for matching/changing IP packet options<br />Uninstall&nbsp; &nbsp; iptables-mod-ipsec&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extensions for matching special IPsec packets<br />Uninstall&nbsp; &nbsp; iptables-mod-nat&nbsp; &nbsp; 1.3.3-2&nbsp; &nbsp; Iptables (IPv4) extensions for different NAT targets<br />Uninstall&nbsp; &nbsp; iptables-mod-ulog&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extension for user-space packet logging<br />Uninstall&nbsp; &nbsp; iptables-utils&nbsp; &nbsp; 1.3.3-2&nbsp; &nbsp; iptables-save and iptables-restore for Iptables (IPv4)<br />Uninstall&nbsp; &nbsp; iwlib&nbsp; &nbsp; 28.pre7-1&nbsp; &nbsp; Library for setting up WiFi cards using the Wireless Extension<br />Uninstall&nbsp; &nbsp; kernel&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; kismet&nbsp; &nbsp; 2006-04-R1-1&nbsp; &nbsp; kismet<br />Uninstall&nbsp; &nbsp; kismet-client&nbsp; &nbsp; 2006-04-R1-1&nbsp; &nbsp; The kismet client<br />Uninstall&nbsp; &nbsp; kismet-server&nbsp; &nbsp; 2006-04-R1-1&nbsp; &nbsp; The kismet server<br />Uninstall&nbsp; &nbsp; kmod-brcm-wl&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Proprietary driver for Broadcom Wireless chipsets<br />Uninstall&nbsp; &nbsp; kmod-crypto&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; CryptoAPI kernel modules<br />Uninstall&nbsp; &nbsp; kmod-diag&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel modules for LEDs and buttons<br />Uninstall&nbsp; &nbsp; kmod-gre&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel GRE tunneling support<br />Uninstall&nbsp; &nbsp; kmod-imq&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel support for the Intermediate Queueing device<br />Uninstall&nbsp; &nbsp; kmod-ipt-conntrack&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Extra Netfilter (IPv4) kernel modules for connection tracking<br />Uninstall&nbsp; &nbsp; kmod-ipt-extra&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Other extra Netfilter (IPv4) kernel modules<br />Uninstall&nbsp; &nbsp; kmod-ipt-filter&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) kernel modules for packet content inspection<br />Uninstall&nbsp; &nbsp; kmod-ipt-ipopt&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) kernel modules for matching/changing IP packet options<br />Uninstall&nbsp; &nbsp; kmod-ipt-ipsec&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) kernel modules for matching special IPsec packets<br />Uninstall&nbsp; &nbsp; kmod-ipt-nat&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) kernel modules for different NAT targets<br />Uninstall&nbsp; &nbsp; kmod-ipt-nat-default&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Default Netfilter (IPv4) NAT kernel modules for special protocols<br />Uninstall&nbsp; &nbsp; kmod-ipt-nat-extra&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Extra Netfilter (IPv4) NAT kernel modules for special protocols<br />Uninstall&nbsp; &nbsp; kmod-ipt-queue&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) kernel module for user-space packet queuing<br />Uninstall&nbsp; &nbsp; kmod-ipt-ulog&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) kernel module for user-space packet logging<br />Uninstall&nbsp; &nbsp; kmod-iptables-extra&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Extra kernel modules for iptables<br />Uninstall&nbsp; &nbsp; kmod-mppe&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Microsoft PPP Encryption/Compression support<br />Uninstall&nbsp; &nbsp; kmod-ppp&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; PPP support<br />Uninstall&nbsp; &nbsp; kmod-pppoe&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; PPP over Ethernet support<br />Uninstall&nbsp; &nbsp; kmod-sched&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel schedulers for IP traffic<br />Uninstall&nbsp; &nbsp; kmod-switch&nbsp; &nbsp; 2.4.30-brcm-1&nbsp; &nbsp; switch driver for robo/admtek switch<br />Uninstall&nbsp; &nbsp; kmod-tun&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel TUN/TAP extension<br />Uninstall&nbsp; &nbsp; kmod-wlcompat&nbsp; &nbsp; 2.4.30-brcm-4&nbsp; &nbsp; Compatibility module for using the Wireless Extension with broadcom&#039;s wl<br />Uninstall&nbsp; &nbsp; libelf&nbsp; &nbsp; 0.8.8-1&nbsp; &nbsp; ELF object file access library<br />Uninstall&nbsp; &nbsp; libgcc&nbsp; &nbsp; 3.4.4-9&nbsp; &nbsp; GCC support library<br />Uninstall&nbsp; &nbsp; liblzo&nbsp; &nbsp; 2.02-1&nbsp; &nbsp; a real-time data compression library<br />Uninstall&nbsp; &nbsp; libncurses&nbsp; &nbsp; 5.2-7&nbsp; &nbsp; a terminal handling library and common terminal definitions<br />Uninstall&nbsp; &nbsp; libnetsnmp&nbsp; &nbsp; 5.1.2-2.1&nbsp; &nbsp; Open source SNMP implementation (librairies)<br />Uninstall&nbsp; &nbsp; libopenssl&nbsp; &nbsp; 0.9.8d-1&nbsp; &nbsp; OpenSSL (Secure Socket Layer) libraries<br />Uninstall&nbsp; &nbsp; libpcap&nbsp; &nbsp; 0.9.4-1&nbsp; &nbsp; a low-level packet capture library<br />Uninstall&nbsp; &nbsp; libpcre&nbsp; &nbsp; 5.0-3&nbsp; &nbsp; a Perl Compatible Regular Expression library<br />Uninstall&nbsp; &nbsp; mtd&nbsp; &nbsp; 5&nbsp; &nbsp; Tool for modifying the flash chip<br />Uninstall&nbsp; &nbsp; nmap&nbsp; &nbsp; 3.81-2&nbsp; &nbsp; Nmap is a free open source utility for network exploration or security auditing.<br />Uninstall&nbsp; &nbsp; nvram&nbsp; &nbsp; 1&nbsp; &nbsp; NVRAM utility and libraries for Broadcom hardware<br />Uninstall&nbsp; &nbsp; openssh-server&nbsp; &nbsp; 4.4p1-1&nbsp; &nbsp; OpenSSH server<br />Uninstall&nbsp; &nbsp; openvpn&nbsp; &nbsp; 2.0.8-1&nbsp; &nbsp; Open Source VPN solution using SSL<br />Uninstall&nbsp; &nbsp; ppp&nbsp; &nbsp; 2.4.3-7&nbsp; &nbsp; a PPP (Point-to-Point Protocol) daemon (with MPPE/MPPC support)<br />Uninstall&nbsp; &nbsp; ppp-mod-pppoe&nbsp; &nbsp; 2.4.3-7&nbsp; &nbsp; a PPPoE (PPP over Ethernet) plugin for PPP<br />Uninstall&nbsp; &nbsp; pptp&nbsp; &nbsp; 1.6.0-3&nbsp; &nbsp; a Point-to-Point Tunneling Protocol (PPTP) client<br />Uninstall&nbsp; &nbsp; pptpd&nbsp; &nbsp; 1.3.0-2&nbsp; &nbsp; a Point-to-Point Tunneling Protocol (PPTP) server<br />Uninstall&nbsp; &nbsp; qos-scripts&nbsp; &nbsp; 0.9.4-1&nbsp; &nbsp; QoS scripts for OpenWrt<br />Uninstall&nbsp; &nbsp; snmpd&nbsp; &nbsp; 5.1.2-2.1&nbsp; &nbsp; Open source SNMP implementation (daemon)<br />Uninstall&nbsp; &nbsp; tc&nbsp; &nbsp; 2.6.11-050330-1&nbsp; &nbsp; iproute2 traffic control utility<br />Uninstall&nbsp; &nbsp; tinyproxy&nbsp; &nbsp; 1.6.3-1&nbsp; &nbsp; Tinyproxy is a lightweight HTTP and HTTPS proxy.<br />Uninstall&nbsp; &nbsp; uclibc&nbsp; &nbsp; 0.9.27-9&nbsp; &nbsp; Standard C library for embedded Linux systems<br />Uninstall&nbsp; &nbsp; uclibc++&nbsp; &nbsp; 0.1.11-2&nbsp; &nbsp; A standard c++ library for embedded systems<br />Uninstall&nbsp; &nbsp; webif&nbsp; &nbsp; 0.2-1&nbsp; &nbsp; A modular, extensible web interface for OpenWrt.<br />Uninstall&nbsp; &nbsp; wificonf&nbsp; &nbsp; 6&nbsp; &nbsp; Replacement utility for wlconf<br />Uninstall&nbsp; &nbsp; wireless-tools&nbsp; &nbsp; 28.pre7-1&nbsp; &nbsp; Tools for setting up WiFi cards using the Wireless Extension<br />Uninstall&nbsp; &nbsp; xinetd&nbsp; &nbsp; 2.3.13-2&nbsp; &nbsp; a powerful and secure superserver<br />Uninstall&nbsp; &nbsp; zlib&nbsp; &nbsp; 1.2.2-2&nbsp; &nbsp; an implementation of the deflate compression method (library)</p><p>(sorry for pasting as was from admin panel, got lazy <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> )</p><p>Hope for anyone to solve my problem. B-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46762">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pyrokenx</div>
					<div class="post-datetime">
						20 Apr 2007, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>bump, will bump only one more time after this if no reply.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p46784">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">combro2k</div>
					<div class="post-datetime">
						20 Apr 2007, 11:11					</div>
				</div>
				<div class="post-content content">
					<p>try to make the destinationport the same as the port you&#039;re running on the inside machine..<br />Also most of the time for proxy&#039;s it&#039;s only allowed to allow port 80 and 443 (SSL) pass trough<br />the others are mostly blocked.. check that out?</p><p>Good luck</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69701">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dominiquefortin</div>
					<div class="post-datetime">
						17 Jun 2008, 09:34					</div>
				</div>
				<div class="post-content content">
					<p>I suggest doing this:</p><p>Protocol: tcp<br />Destination Ports: 80<br />Target: 192.168.1.102<br />(Target) Port: 80</p><p>Make sure to save and apply changes.&nbsp; To see if your changes where implemented look in the menu Status/Iptables.&nbsp; Look for the section forwarding_wan.&nbsp; You should see something like:</p><div class="codebox"><pre><code>Chain forwarding_wan (1 references)
num pkts bytes target prot opt in out source     destination    options
 -   -    -    ACCEPT  tcp  --  *  *  0.0.0.0/0  192.168.1.102  tcp dpt:80</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>