<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> D-Link DIR-645: Back to original firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p322488">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Pondera</div>
					<div class="post-datetime">
						4 May 2016, 11:17					</div>
				</div>
				<div class="post-content content">
					<p>Tried to revert to factory firmware without success via LuCI OpenWrt WebUI, via Bootloader and an Ethernet port and via OpenWrt CLI (stock firmware in /tmp via SCP then sysupgrade or mtd write device &quot;firmware&quot; via SSH).</p><div class="codebox"><pre><code>BusyBox v1.23.2 (2015-07-25 05:03:35 CEST) built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (15.05, r46767)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:~# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &quot;uboot&quot;
mtd1: 00004000 00010000 &quot;uboot-env&quot;
mtd2: 00004000 00010000 &quot;factory&quot;
mtd3: 00008000 00010000 &quot;nvram&quot;
mtd4: 00010000 00010000 &quot;devdata&quot;
mtd5: 007b0000 00010000 &quot;firmware&quot;
mtd6: 00110000 00010000 &quot;kernel&quot;
mtd7: 006a0000 00010000 &quot;rootfs&quot;
mtd8: 00470000 00010000 &quot;rootfs_data&quot;</code></pre></div><p>Therefore is it possible only opening the device plastic box via Bootloader and Serial port?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322498">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						4 May 2016, 12:40					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/toh/d-link/dir-645">https://wiki.openwrt.org/toh/d-link/dir-645</a></p><p>Have you tried this?<br /></p><div class="quotebox"><blockquote><p>Like other D-Link routers it has a built-in firmware recovery mode.</p><p>To access, simply hold down the reset button while powering on the router. The WAN LED should blink. Set your computer with a static IP in the 192.168.0.x range, and open 192.168.0.101 in a web browser. Recovery mode loads up within a few seconds, but doesn&#039;t respond to pings. If the power LED is blinking the above page should be accessible.</p><p>You will need to flash either a stock firmware image or Openwrt-factory image, *not* a sysupgrade image.</p></blockquote></div><p>Stock firmware<br /><a href="ftp://ftp2.dlink.com/SECURITY_ADVISEMENTS/DIR-645/REVA/DIR-645_REVA_FIRMWARE_PATCH_1.06.B01.ZIP">ftp://ftp2.dlink.com/SECURITY_ADVISEMEN â€¦ 06.B01.ZIP</a></p><p>It is unclear what you have tried or what happened when you tried it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322690">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Pondera</div>
					<div class="post-datetime">
						5 May 2016, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>First of all thanks for your attention.<br />You mean via Bootloader and an Ethernet port using the Recovery Mode. As I said already done and it doesn&#039;t work: at the end of process and after power off and on the device still remain in Recovery Mode with WAN led blinking and waiting to upload a new firmware; and you can only upload an OpenWrt factory firmware to unbrick the device.<br />I noticed that original firmwares are 7 MB long while DIR-645 OpenWrt standard prepared firmwares are only 3.5 MB long.<br />Also tried via Recovery Mode with original 1.05 1.04 1.03 1.02 versions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337222">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ShturmanUA</div>
					<div class="post-datetime">
						5 Sep 2016, 12:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi all. Please help me reanimate my DIR-645.<br />I want back to original firmware. Upgrade firmware from Web (OpenWRT firmware) and he died.<br />Now WAN led blinking always.<br /></p><div class="quotebox"><blockquote><p>&quot;To access, simply hold down the reset button while powering on the router. The WAN LED should blink. Set your computer with a static IP in the 192.168.0.x range, and open 192.168.0.101 in a web browser. Recovery mode loads up within a few seconds, but doesn&#039;t respond to pings. If the power LED is blinking the above page should be accessible.&quot;</p></blockquote></div><p>This not work, 192.168.0.101 in browser not answer <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />What to do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347003">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Pondera</div>
					<div class="post-datetime">
						18 Dec 2016, 12:53					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s really difficult to brick a DIR router. The WAN led behavior indicates that the Recovery Room is active indeed.<br />You need to:<br />- connect your router to the PC via Ethernet cable;<br />- set the network card with a manually fixed IP, i.e. 192.168.0.10, (instead of DHCP);<br />- clear your browser&#039;s cache.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347005">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Pondera</div>
					<div class="post-datetime">
						18 Dec 2016, 13:27					</div>
				</div>
				<div class="post-content content">
					<p>Reply by myself regarding <a href="http://www.dlink-forum.info/showthread.php?tid=1230&amp;pid=40087#pid40087">how to revert from OpenWrt to DIR-645 stock firmware</a>: CURL needed!</p>											<p class="post-edited">(Last edited by <strong>Pondera</strong> on 19 Dec 2016, 06:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347012">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mike_1234</div>
					<div class="post-datetime">
						18 Dec 2016, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi. Did you already flash back to the OEM stock rom? If yes how you did it? Because me also wanna flash the dir 645 back. The open wrt only does big fails and since I flash it. And the support is very low.</p><p>What&#039;s your reason to switch back to the original stock rom?</p><p>Br</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347078">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Pondera</div>
					<div class="post-datetime">
						19 Dec 2016, 06:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mike_1234 wrote:</cite><blockquote><p>Did you already flash back to the OEM stock rom?</p></blockquote></div><p>Yep! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><div class="quotebox"><cite>mike_1234 wrote:</cite><blockquote><p>how you did it?</p></blockquote></div><p>Link in previous post.</p><div class="quotebox"><cite>mike_1234 wrote:</cite><blockquote><p>What&#039;s your reason to switch back to the original stock rom?</p></blockquote></div><p>No difference regarding DIR-645 wireless performance between OpenWrt and D-Link firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347110">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mike_1234</div>
					<div class="post-datetime">
						19 Dec 2016, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Pondera! I am back to the original, and everything is working.</p><p>@OpenWRT:<br />the newest FW15.05.1 is really buggy at all for the DIR 645. The Wifi connection always break down after a while.<br />I did a downgrad to 15.05, and at the beginning its better but same problems after I really use the Dir 645.<br />I feel&nbsp; the&nbsp; OpenWRT FW is really still in progress and you have to fix or due some tests before you release<br />some FW like this. Maybe it would be better to delete the FW from the webiside for the D-Link 645 until it is really tested&nbsp; and a primary feature like Wifi is working?</p><p>At all the project OPenWRT is pretty but the release in my case was very insufficient. As I see, in the bug tracker of OpenWRT is also the same issue like mine but its long time ago that&nbsp; somebody have&nbsp; a look about it.</p><p>Thanks .</p><p>Mke</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347113">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Pondera</div>
					<div class="post-datetime">
						19 Dec 2016, 13:47					</div>
				</div>
				<div class="post-content content">
					<p>If you want to report an OpenWrt issue or improvement it&#039;s better to open a ticket:</p><p><a href="https://wiki.openwrt.org/doc/devel/bugs">https://wiki.openwrt.org/doc/devel/bugs</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>