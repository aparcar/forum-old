<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem compiling a c program that uses libopenssl library.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p63477">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jchorro</div>
					<div class="post-datetime">
						15 Feb 2008, 19:40					</div>
				</div>
				<div class="post-content content">
					<p>I have install openssl library using make menuconfig, after that I have tried the program using the crosscompling as shown:</p><p>mipsel-linux-gcc client.c -o client -lssl</p><p>and I got the folowing errors:</p><p>In file included from client.c:1:<br />sockets.h:12:25: openssl/rsa.h: No such file or directory<br />sockets.h:13:25: openssl/evp.h: No such file or directory<br />sockets.h:14:25: openssl/pem.h: No such file or directory<br />client.c: In function `main&#039;:<br />client.c:12: error: `RSA&#039; undeclared (first use in this function)<br />client.c:12: error: (Each undeclared identifier is reported only once<br />client.c:12: error: for each function it appears in.)<br />client.c:12: error: `key&#039; undeclared (first use in this function)<br />client.c:12: error: `key2&#039; undeclared (first use in this function)<br />client.c:36: error: `RSA_PKCS1_PADDING&#039; undeclared (first use in this function)</p><p>So I tried this way because I knew where those files ware:</p><p> mipsel-linux-gcc -I/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/include -L/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib&nbsp; client.c -lssl</p><p>And I got the folowing errors.</p><p>client.c:(.text+0x350): undefined reference to `PEM_read_RSAPrivateKey&#039;<br />client.c:(.text+0x3a4): undefined reference to `RSA_private_encrypt&#039;<br />client.c:(.text+0x3bc): undefined reference to `RSA_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_find_type&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_enc_null&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_CIPHER_CTX_init&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_NAME_dup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `COMP_compress_block&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_new_null&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_get_by_subject&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `lh_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `asn1_const_Finish&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_VerifyFinal&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `COMP_CTX_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_dup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_set_ex_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_get_ex_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BN_bin2bn&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_get_ex_new_index&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_DigestFinal_ex&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `PEM_read_bio_RSAPrivateKey&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_aes_128_cbc&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BN_bn2bin&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RAND_add&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_s_socket&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_set_purpose&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `asn1_add_error&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BUF_MEM_grow_clean&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_next&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_RSAPrivateKey&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_num&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_insert&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_free_all&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_up_ref&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_get_retry_reason&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `HMAC_Final&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `HMAC_Init_ex&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_bits&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_md5&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_object_size&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_get_cipherbyname&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_rc4&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_add_cipher&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_get_object&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_s_file&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `COMP_expand_block&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_snprintf&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_RSAPrivateKey_bio&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_dup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_sign&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ERR_peek_error&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `PEM_read_bio_PrivateKey&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `lh_retrieve&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_get_pubkey&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_dup_ex_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DH_generate_key&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DH_size&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `i2d_ASN1_INTEGER&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `lh_doall_arg&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_set_ex_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_peek&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_printf&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_lock&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DSA_verify&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_pop_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_aes_192_cbc&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_MD_CTX_cleanup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_aes_256_cbc&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OPENSSL_DIR_read&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_puts&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_verify_cert_error_string&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BN_num_bits&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BUF_MEM_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_dss1&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_PrivateKey&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DH_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_set_default_paths&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DSA_sign&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DH_compute_key&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_add_lock&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `COMP_CTX_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_push&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_sha1&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_ctrl&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_init&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `i2d_DHparams&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_private_decrypt&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ERR_put_error&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_find&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_write&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_set_cmp_func&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_assign&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OBJ_NAME_add&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_pop&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pitem_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_ASN1_INTEGER&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_zero&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_verify_cert&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_X509_bio&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_check_private_key&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_CIPHER_CTX_cleanup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_value&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_get_depth&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_DigestInit_ex&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_new_ex_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_pop&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_copy_parameters&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_get_subject_name&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `i2d_X509_NAME&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_public_encrypt&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `i2d_X509&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `PEM_read_bio_X509&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_get0_param&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `HMAC_CTX_cleanup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_MD_CTX_init&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_set_depth&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ERR_clear_error&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_DigestUpdate&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OBJ_obj2nid&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OBJ_bsearch&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RAND_bytes&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_iterator&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSAPrivateKey_dup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_copy_next_retry&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_set&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_des_cbc&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OpenSSLDie&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_missing_parameters&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_callback_ctrl&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_PrivateKey_bio&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `DH_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_set_default&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_cleanup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BUF_MEM_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_set_trust&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_SignFinal&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_find&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_MD_CTX_copy_ex&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_read&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_certificate_type&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_INTEGER_get&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_DHparams&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_int_ctrl&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_f_buffer&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `sk_shift&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OPENSSL_cleanse&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `lh_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_free_ex_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_INTEGER_set&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_check_purpose&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ERR_peek_last_error&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `i2d_ASN1_OCTET_STRING&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_get_ex_new_index&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_verify&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BN_dup&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pqueue_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ERR_add_error_data&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_NAME_cmp&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_CipherInit_ex&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_size&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_add_digest&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_const_check_infinite_end&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_push&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_mem_ctrl&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_get_issuer_name&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `ASN1_put_object&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `OPENSSL_DIR_end&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_des_ede3_cbc&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `COMP_zlib&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BUF_MEM_grow&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `lh_insert&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_load_locations&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_NAME_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_ASN1_OCTET_STRING&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `lh_delete&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `CRYPTO_malloc&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BN_clear_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_X509_NAME&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_flags&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `d2i_X509&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `asn1_GetSequence&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RSA_size&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `RAND_pseudo_bytes&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `BIO_s_connect&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_inherit&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_PKEY_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `pitem_new&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `HMAC_Update&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_STORE_CTX_set_verify_cb&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `X509_VERIFY_PARAM_free&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `HMAC_CTX_init&#039;<br />/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib/libssl.so: undefined reference to `EVP_get_digestbyname&#039;<br />collect2: ld returned 1 exit status</p><p>I am block<br />Can anyone help me ?<br />Thankyou.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63483">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						15 Feb 2008, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>I think you need to link against libcrypto too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63560">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jchorro</div>
					<div class="post-datetime">
						17 Feb 2008, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, you are right, but I had to do some thing elese, here is the hole command line:</p><p>mipsel-linux-gcc -I/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/include -L/home/jchorro/whiterussian/openwrt/staging_dir_mipsel/usr/lib&nbsp; client.c -o client&nbsp; -lssl&nbsp; -lcrypto</p><p>and I had to add another include </p><p>&lt;openssl/pem.h&gt;</p><p>And I want to remark that compiling for linux 2.6 in a pc it was only necesary de -lssl option.</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p68137">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">neutron</div>
					<div class="post-datetime">
						12 May 2008, 22:53					</div>
				</div>
				<div class="post-content content">
					<p>I have a similar problem - yet to be solved... I would like to do EAP-TLS authentication with pppd, for which a patch is needed: <a href="http://eaptls.spe.net/download/ppp-2.4.3-eaptls-0.7.patch">http://eaptls.spe.net/download/ppp-2.4. … -0.7.patch</a>. I&#039;ve already had success with this patch on Fedora and Ubuntu, works like a charm. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> (There&#039;s one more thing: the ssl.h in newer OpenSSL versions must also be patched like this:)<br /></p><div class="codebox"><pre><code>diff -urN old-openssl-0.9.8e/ssl/ssl.h openssl-0.9.8e/ssl/ssl.h
--- old-openssl-0.9.8e/ssl/ssl.h        2007-02-19 18:55:07.000000000 +0100
+++ openssl-0.9.8e/ssl/ssl.h    2008-05-12 12:06:05.000000000 +0200
@@ -191,6 +191,7 @@
 #include &lt;openssl/kssl.h&gt;
 #include &lt;openssl/safestack.h&gt;
 #include &lt;openssl/symhacks.h&gt;
+#include &lt;openssl/md5.h&gt;

 #ifdef  __cplusplus
 extern &quot;C&quot; {</code></pre></div><p>Patching OpenSSL works fine, at least compiling doesn&#039;t end there (and without the pppd patch everything compiles fine). At pppd however, with V=99 I see the following error:<br /></p><div class="codebox"><pre><code>mipsel-linux-uclibc-gcc -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts -DHAVE_PATHS_H -DHAVE_MMAP -I../include -DCHAPMS=1 -DMPPE=1 -DHAVE_CRYPT_H=1 -DUSE_CRYPT=1 -DPLUGIN -DPPP_FILTER -DPPP_PRECOMPILED_FILTER -I/home/neutron/OpenWRT/trunk/staging_dir/mipsel/usr/include -DINET6=1 -DMAXOCTETS -Wl,-E -o pppd main.o magic.o fsm.o lcp.o ipcp.o upap.o chap-new.o md5.o ccp.o ecp.o auth.o options.o demand.o utils.o sys-linux.o ipxcp.o tty.o eap.o chap-md5.o eap-tls.o md4.o chap_ms.o sha1.o pppcrypt.o pcap_pcc.o ipv6cp.o eui64.o -lssl -lcurl -lcrypt -ldl /home/neutron/OpenWRT/trunk/staging_dir/mipsel/usr/lib/libpcap.a
/home/neutron/OpenWRT/trunk/staging_dir/toolchain-mipsel_gcc3.4.6/lib/gcc/mipsel-linux-uclibc/3.4.6/../../../../mipsel-linux-uclibc/bin/ld: cannot find -lssl
collect2: ld returned 1 exit status
make[5]: *** [pppd] Error 1</code></pre></div><p>So I guess compiling is fine, but linking fails... The steps I took were the following:<br />1. check out trunk from the svn repository<br />2. make package/symlinks<br />(2.1, 2.2, etc.: make menuconfig, build fancy new firmware for my Asus WL-500gP v1 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />)<br />3. copy openssl patch into trunk/package/openssl/patches/190-ssl_md5.patch<br />4. copy pppd patch into trunk/package/ppp/patches/320-eaptls.patch<br />5. make V=99</p><p>What am I doing wrong?</p><p>Regards,<br />Adam</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>