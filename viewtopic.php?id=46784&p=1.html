<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Technicolor TG582n (BCM63281) and OpenWRT</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Apr 2018 and 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=46784&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p214844">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">spacebass</div>
					<div class="post-datetime">
						15 Oct 2013, 13:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I just got one of these and I never liked the stock Alcatel/Thomson firmware. I started an article @ the wiki: <a href="http://wiki.openwrt.org/toh/thomson/tg582n">TG582n</a> (based on a draft @ <a href="http://wiki.openwrt.org/tg582n">http://wiki.openwrt.org/tg582n</a> by a fellow member). I&#039;ll do some soldering later this week and I&#039;ll update as I go. </p><p>If anyone else is testing OpenWRT on TG582n, please post any info/feedback here.</p><p>Some quick info on the TG582n:</p><p>-They come in 2 hardware/board variants, DANT-T (8MB Flash) or DANT-1 (16MB Flash). The stock firmware images are not interchangeable between the different boards.</p><p>-I&#039;ve only quickly poked around but other than the Flash chip the rest of the hardware looks identical, ditto for the pcb layout</p><ul><li><p>Serial port @ J3</p></li><li><p>JTAG @ J4</p></li></ul><div class="codebox"><pre><code>JTAG pinout:
8 - N/C (Diode missing to 3.3V) 
7 - TDI 
6 - TDO 
5 - GND 
4 - TMS 
3 - TCK 
2 - N/C (3.3V Pullup / Possible nTRST) 
1 - N/C (resistor missing to 3.3V)</code></pre></div><p><a href="http://imgur.com/F64ReaU"><span class="postimg"><img src="http://i.imgur.com/F64ReaUl.jpg" alt="http://i.imgur.com/F64ReaUl.jpg" /></span></a></p>											<p class="post-edited">(Last edited by <strong>spacebass</strong> on 15 Oct 2013, 13:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p214960">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Whiterat</div>
					<div class="post-datetime">
						16 Oct 2013, 19:35					</div>
				</div>
				<div class="post-content content">
					<p>Believe it or not, Technicolor themselves have OpenWRT running on a TG582n V2 <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215370">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">AnonCh4rl1</div>
					<div class="post-datetime">
						22 Oct 2013, 04:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Whiterat wrote:</cite><blockquote><p>Believe it or not, Technicolor themselves have OpenWRT running on a TG582n V2 <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><br /><p>How would one go about liberating this into something resembeling OpenWRT? </p><p>The stock firmware is so, so awefull with regard to the web UI. </p><p>The telnet is locked down to specific commands, theres a big pdf list of them somewhere on the internets, but not very useful.</p>											<p class="post-edited">(Last edited by <strong>AnonCh4rl1</strong> on 22 Oct 2013, 04:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226630">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">federico.rib94</div>
					<div class="post-datetime">
						2 Mar 2014, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody, it is the first time that i write on this forum <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I&#039;m interested to flash the OpenWrt on Tecnicolor TG582 (DANT-T) <br />How can i do this?<br />Thanks ^_^</p>											<p class="post-edited">(Last edited by <strong>federico.rib94</strong> on 2 Mar 2014, 12:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234838">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">foster82</div>
					<div class="post-datetime">
						28 May 2014, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi Guys, </p><p>This is my first post on here and that mainly due to me having several of the TG582n routers. It would be great if Openwrt could be used on this router as this is now quite a common router here in the UK and a lot of service providers now send this router out. </p><p>So I would be more than happy to work with some one on this as a project. I have access to a couple of these routers and am aware of at least 3 different variants of these. Also due to my job i have access to the wholesale firmware as well.</p><p>So will personally will be giving this ago, however this is my first project of this kind so would appreciate any help that would be available.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249009">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nicaroxo</div>
					<div class="post-datetime">
						3 Oct 2014, 17:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi, got myself a DANT-1 unit hoping to have a chance to put OpenWRT on it.<br />Switch serves almost all my needs (mwan3 if possible), mabe usb.<br />But need some guidance, does this serve for a start?<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=112870#p112870">https://forum.openwrt.org/viewtopic.php â€¦ 70#p112870</a></p><p>Tried to flash a unlocked firmware by wizard but it quits about 20% flash going back to original (vodafone pt).</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253162">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stef84</div>
					<div class="post-datetime">
						5 Nov 2014, 09:37					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody.</p><p>I&#039;ve a Alice DANT-T router (telecom) with brand firmware. </p><p>I&#039;ve repleace the brand firmware with SPIPGM for dos and i&#039;ve upload a technicolor TG582n stock firmware and it&#039;s succesfuly.</p><p>Now, it&#039;s possible to flash a Openwrt firmware in this router?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p263775">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">buggrit</div>
					<div class="post-datetime">
						1 Feb 2015, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>OK Like Foster82, this is my first post to the forum. I have a Technicolor TG582n from Direct Save, a UK based ISP. I had decided not to use it as I already had a working router with all my settings for DMZ, port forwarding etc. Unfortunately my existing router just went bang. I&#039;ve readjusted the IP ranges of my firewall to work with the TG582n but the router is locked down and I can&#039;t access it to finnese the settings. I&#039;m hoping that OpenWRT is the solution, but I need to know how to get the firmware onto a locked box. Any help would be appreciated.</p><p>Many Thanks</p><p>JB</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264890">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">M4rk</div>
					<div class="post-datetime">
						10 Feb 2015, 11:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello, <br />any news ?<br />Thanks in advice</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264891">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">buggrit</div>
					<div class="post-datetime">
						10 Feb 2015, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi M4rk,</p><p>No news from anyone yet. I&#039;ll probably end up having to buy an off-the-shelf router and go from there. I&#039;ll wait a little longer though and live in hope.</p><p>JB</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270762">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">unpopular_opinion</div>
					<div class="post-datetime">
						1 Apr 2015, 05:49					</div>
				</div>
				<div class="post-content content">
					<p>I have connected wires to the serial pins on the board, will check what comes out of there tomorrow.</p><p>From what I read here and there it turns out that if the router is branded, that is, having a &quot;_VARIANT_ID&quot; system variable set:</p><div class="codebox"><pre><code>{SuperUser}=&gt;:env get
var = _VARIANT_ID
:env get var=_VARIANT_ID
O2</code></pre></div><p><a href="http://community.plus.net/forum/index.php/topic,110141.msg1005873.html#msg1005873">you cannot flash custom firmwares</a>.</p><p>Also according to <a href="http://forums.whirlpool.net.au/archive/1216321">this</a> the serial console outputs things similar to the telnet CLI. This means that it will be useless for reflashing.</p><p>The only option now left is to experiment with JTAG. The surface for each of the pins on the board is insanely small and I will probably smother solder and short-circuit stuff. What&#039;s a good (and cheap) way to connect a header to such tiny spaces?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270883">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">jacekn</div>
					<div class="post-datetime">
						1 Apr 2015, 20:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>unpopular_opinion wrote:</cite><blockquote><p>I have connected wires to the serial pins on the board, will check what comes out of there tomorrow.</p><p>From what I read here and there it turns out that if the router is branded, that is, having a &quot;_VARIANT_ID&quot; system variable set:</p><div class="codebox"><pre><code>{SuperUser}=&gt;:env get
var = _VARIANT_ID
:env get var=_VARIANT_ID
O2</code></pre></div><p><a href="http://community.plus.net/forum/index.php/topic,110141.msg1005873.html#msg1005873">you cannot flash custom firmwares</a>.</p></blockquote></div><p>I have one of those devices (BeBox) and _VARIANT_ID env variable returns 0, I think it means it is not set.</p><p>I have serial on it and posted OEM boot log on <a href="http://wiki.openwrt.org/toh/thomson/tg582n#oem_bootlog">the wiki page</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270921">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						1 Apr 2015, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>As with other Thomson routers, probably the best way to install OpenWrt isfirst to replace the bootloader for a custom one. Sourcecode for building BCM6328 CFE is available somewhere in internet.</p><p>If JTAG doesn&#039;t allow to flash the bootloader this isn&#039;t a problem. These boards use an SPI flash memory. It&#039;s a piece of cake to flash a flash chip memory, you only need to wire 6 pins. And probably without desoldering the flash chip could work.</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 1 Apr 2015, 23:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275771">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">unpopular_opinion</div>
					<div class="post-datetime">
						9 May 2015, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>As danitool suggested, I hooked up the flash memory to a raspberry pi and can read and write to it. At first, however, I wired the connections wrong and the chip got really hot. After that the router now cannot power up (the serial line shows nothing, the LEDs don&#039;t flash during POST).</p><p>For anyone else that wants to brick their router, I did the following:</p><p>On the raspberry follow this to <a href="http://www.brianhensley.net/2012/07/getting-spi-working-on-raspberry-pi.html">get the SPI working</a>. You will need <a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/plain/Documentation/spi/spidev_test.c?id=95b1ed2ac7ffe3205afc6f5a20320fbdb984da92">this piece of code</a> instead of the current one linked in the post. Then install flashrom.</p><p>Connect 8 pins from the chip to the raspberry. I have <a href="http://www.spansion.com/Support/Datasheets/S25FL129P_00.pdf">SPANSION S25FL129P (variant 0)</a>. For the RPI I use <a href="http://pi.gadgetoid.com/pinout">this layout information</a>. So the connection looks like <a href="http://imgur.com/I0JSWpL">this table</a>. (the forum&#039;s bbcode don&#039;t recognize tables?)</p><p>After you&#039;ve loaded the SPI kernel module on the RPI, tested it works, installed flashrom and *connected the pins correctly*, dump the contents of the flash to a file:<br /></p><div class="codebox"><pre><code>  machine# ./flashrom -p linux_spi:dev=/dev/spidev0.0 -c &quot;S25FL129P......0&quot; -r flash_0.data</code></pre></div><p>danitool, do you have more info where I can CFE sources with a BCM63281 build target? All I can find are things with makefiles for development boards (that are not BCM63281).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275772">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						9 May 2015, 16:40					</div>
				</div>
				<div class="post-content content">
					<p>You can find the CFE sourcecode here</p><p><a href="https://mega.co.nz/#!f8AFFKTI!CPT3BKC8dEw29kubtdYxhB91G9vIIismTkgzQ3iUy3k">https://mega.co.nz/#!f8AFFKTI!CPT3BKC8d â€¦ kgzQ3iUy3k</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275783">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">unpopular_opinion</div>
					<div class="post-datetime">
						9 May 2015, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>I used the sources to generate a BIN file and uploaded it fine to the board, but it doesn&#039;t indicate in any way that it&#039;s alive.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275793">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						9 May 2015, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>This is the cfe6328 bootloader I built</p><p><a href="https://drive.google.com/file/d/0B-EMoBe-_OdBRHZLQjd3Wm5Bd3c/view?usp=sharing">https://drive.google.com/file/d/0B-EMoB â€¦ sp=sharing</a></p><p>can you test it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275801">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">unpopular_opinion</div>
					<div class="post-datetime">
						10 May 2015, 02:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>This is the cfe6328 bootloader I built</p><p><a href="https://drive.google.com/file/d/0B-EMoBe-_OdBRHZLQjd3Wm5Bd3c/view?usp=sharing">https://drive.google.com/file/d/0B-EMoB â€¦ sp=sharing</a></p><p>can you test it?</p></blockquote></div><p>Yes, uploads fine, but router still doesn&#039;t boot. If it&#039;s of any interest, I have to zero (or one)-pad the bin files to 16mb so that flashrom allows me to write them to the flash memory.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276420">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ras_jack</div>
					<div class="post-datetime">
						15 May 2015, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi friends, any advance about this ruter/modem??. I have not experience with the hardware but i&#039;m interested because this model on the DANT-T variant is very common in my contry because is used by an IPS tha haves the monopoly here.</p><p>The price for unit (used) is aroud $ 6.45 USD. So is a cheap hardware but is powerful compared with the WRT54G, more RAM, more processor clock.</p><p>So, if somebody need a unit for test i can send, mabe the shipment will cost more that the unit xD. Really, i can donate 1 o 2 units if is necesary.</p><br /><p>Sorry by my bad english, i have&#039;n used google traslator.</p><p>See you.</p>											<p class="post-edited">(Last edited by <strong>ras_jack</strong> on 16 May 2015, 12:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280214">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						16 Jun 2015, 01:09					</div>
				</div>
				<div class="post-content content">
					<p>this topic looks very interesting , anyone have any more news about turning a thomson tg582n into an openwrt router ?<br />I have ordered an raspberry pi to start playing with my old isp modems witch are blocked to upgrades .<br />turning a thomson firmware into an openwrt firmware will be the cherry on the to of the cake .</p><p>Is there any expansion board to raspberry that can be useful to an universal jtag programmer ?<br />I know that there are expansion boards for raspberry to avoid breaking the device in case anything goes wrong , so anyone here try this one :</p><p><a href="http://i00.i.aliimg.com/wsphoto/v1/1296768724_1/Raspberry-Pi-full-function-expansion-board-.jpg">http://i00.i.aliimg.com/wsphoto/v1/1296 â€¦ board-.jpg</a></p><p>Found an italian page with more information about how to do jtag to this device .</p><p><a href="http://hardware371.rssing.com/browser.php?indx=9066388&amp;item=7">http://hardware371.rssing.com/browser.p â€¦ amp;item=7</a></p><p>Wiring connection between raspberry and the device can be found here (user tested on 2012 raspberry)(wiring linkys) :<br /><a href="https://github.com/oxplot/tjtag-pi/blob/master/wiring.jpg">https://github.com/oxplot/tjtag-pi/blob â€¦ wiring.jpg</a>&nbsp; </p><p>Wiring should be connected according tg582n jtag pinout here :<br /><a href="http://wiki.openwrt.org/toh/thomson/tg582n#jtag">http://wiki.openwrt.org/toh/thomson/tg582n#jtag</a></p><p>software (linux can be found here)<br /><a href="https://github.com/oxplot/tjtag-pi">https://github.com/oxplot/tjtag-pi</a></p>											<p class="post-edited">(Last edited by <strong>pedropt</strong> on 28 Jun 2015, 10:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281653">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						28 Jun 2015, 16:51					</div>
				</div>
				<div class="post-content content">
					<p>i was able to create an serial connection from tg582n to my laptop , but i have some issues with the communication , i already tryed multiple baudrates without any success .<br />Anyone one have any more details about the configuration of putty to syncronize with tg582n ?<br />here is what i got .<br /><a href="http://s4.postimg.org/5rie0qnm5/dev_tty_USB0_Pu_TTY_071.png">http://s4.postimg.org/5rie0qnm5/dev_tty â€¦ TY_071.png</a></p><p>Jtag with raspberry on tg582n is not working for me , i did multiples configurations without connection succefully .<br />It could be some missing stuff in raspberry , dunno , i also looked up the net for wiring configs and i try multiple options , but no success either .<br />Anyway , i ordered a jtag programmer on the net just to make sure if it is the raspberry connection is giving issues or not .<br />i ordered a blackcat usb programmer for testing because it have the multiple voltage options , 3.3V and 5V witch are important depending on the router/modem model i may found in future .<br /><a href="http://psx-scene.com/tmp/psx-scene/reviews/Blackcat-sml.jpg">http://psx-scene.com/tmp/psx-scene/revi â€¦ at-sml.jpg</a></p>											<p class="post-edited">(Last edited by <strong>pedropt</strong> on 28 Jun 2015, 16:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282869">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						9 Jul 2015, 00:54					</div>
				</div>
				<div class="post-content content">
					<p>I bough an flashcat 1.08 but i have some issues getting the openwrt firmware uploaded to the chip .<br />Flashchip on tg582n<br /><a href="http://postimg.org/image/93b9oa1ln/"><span class="postimg"><img src="http://s9.postimg.org/93b9oa1ln/DSCF1807.jpg" alt="http://s9.postimg.org/93b9oa1ln/DSCF1807.jpg" /></span></a></p><p>Flshchip with jtag socket on top and blackcatusb connected :<br /><a href="http://postimg.org/image/m8fofqpab/"><span class="postimg"><img src="http://s13.postimg.org/m8fofqpab/DSCF1803.jpg" alt="http://s13.postimg.org/m8fofqpab/DSCF1803.jpg" /></span></a></p><p>Flashcat results :<br /><a href="http://postimg.org/image/kzf8j30jh/"><span class="postimg"><img src="http://s30.postimg.org/kzf8j30jh/Image3.jpg" alt="http://s30.postimg.org/kzf8j30jh/Image3.jpg" /></span></a></p><p>Is there any way to do this flash with other tool compatible with flashcat device ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283906">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">qiushengfu</div>
					<div class="post-datetime">
						17 Jul 2015, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>I have got a working Openwrt on my TG582n router with the help from the community and google(Thanks!), although I only have the features I want included in the build thus can&#039;t gurantee all the features will work, I still want to share what I have done in case it benifits anybody. The source with TG582n support can be found at git@github.com:kplus/openwrt-tg582n.git</p><p>Apart from the Openwrt firmware image, you will also need CFE to override ISP&#039;s bootloader.</p><p>The steps I have taken are:</p><p>1. flash the CFE bootloader into the flash(using FTDI programmer)<br />2. short-circuit R62 and R63 on the router, and connect to serial port, baudrate set to 115200<br />3. connect the route to PC with an Ethernet cable, and set the ip of PC to static 192.168.1.100<br />4. power on the router, and interrupt bootloader by press anykey during booting.<br />5. open 192.168.1.1 in browser and upload Openwrt CFE image.<br />6. router will reboot automatically after flashing, and then you should be able to login through the serial console.</p><p>Hope this helps. <br />Enjoy.</p>											<p class="post-edited">(Last edited by <strong>qiushengfu</strong> on 17 Jul 2015, 23:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284745">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						24 Jul 2015, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the reply qiushengfu , i will try it your way .<br />for a week i have been trying to find ways to put an openwrt firmware over my tg582n without success .<br />I am using a jtag connection directly to the chip with a blackcat usb jtag .<br />I was able to extract the full flash from the chip and decompile it , but when i recompile again and program it on tg582n it just dont work .<br />I am even unable to change the serial number and flash the original firmware i grabbed , because somehow there is an ssl certificate connected to a specific serial number of the device , changing a number on the serial then it wont work .</p><p>To be able to detect the right ID of chip i had to use an external 3,3v power source , i used my raspberry .<br />Here are some pictures from my progress and findings until now .</p><p>Jtaging tg582n with external power source :<br /><a href="http://s3.postimg.org/xsv63aiub/DSCF1813.jpg">http://s3.postimg.org/xsv63aiub/DSCF1813.jpg</a></p><p>then i was able to detect the proper chip with blackcat jtag programmer , and i flashed the CFE .<br /><a href="http://s21.postimg.org/93bq7xlaf/Image6.jpg">http://s21.postimg.org/93bq7xlaf/Image6.jpg</a></p><p>of course without success .</p><p>Then i started to think to change the serial numbel of the device , but everytime i did , then router wont start .<br />so i opened the bin to lookup :<br /><a href="http://s29.postimg.org/5pzpal6kn/thssl.jpg">http://s29.postimg.org/5pzpal6kn/thssl.jpg</a><br />i notice the ssl certificate must be related to this issue , but i never figured out how to solve this problem .</p><p>So , i decided to extract the complete binary file :<br /><a href="http://s3.postimg.org/r0symtm6r/firmware_mod_kit_trunk_001.jpg">http://s3.postimg.org/r0symtm6r/firmwar â€¦ nk_001.jpg</a></p><p>to try to unblock modem to a specific ISP , but when i recompile the firmware again and programm it then it wont work .<br />On compilation tells me that header is not compatible .</p><p>Anyway , this is my story until now .<br />I will try your way on next weekend to see if it works .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p287663">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">pedropt</div>
					<div class="post-datetime">
						15 Aug 2015, 03:31					</div>
				</div>
				<div class="post-content content">
					<p>I have tested qiushengfu solution without success .<br />I compiled BCM chipset using the git clone , their options are only 6338 cpu as minimum , and you are not able to compile for 63281 cpu .<br />What happens is that when you flash that cfe on the flash and start the device , nothing will happen , it stays dead .<br />I was looking at the flashed bin on the device using a jtag programmer and only 0000 were flashed , i can see the result of the programming in hex format on the programmer .<br />i have used blackcat 3.40 version to flash the chip .<br />The only way until now that worked , is to re-flash the original firmware that was previous in the device from ISP , or flashing a similar firmware from an identical model .</p><p>the git that have the bcm63xx is in here :<br /><a href="https://github.com/kplus/cfe_bcm63xx">https://github.com/kplus/cfe_bcm63xx</a></p><p>and in the instructions you have to compile your cpu model , not all 3 .</p><p>you have 3 options :<br />1 - make BRCM_CHIP=6338<br />2 - make BRCM_CHIP=6348<br />3 - make BRCM_CHIP=6358</p><p>but the chipset 6328 is not there , and even if you try to compile it&nbsp; , you will get a considerable ammount of errors and will get you nowhere .<br />the example i just said was this :<br />make BRCM_CHIP=6328&nbsp; &nbsp;, but it wont work .</p><p>Also in the build script , there are by default a compilation for another cpu :<br /><a href="https://github.com/kplus/cfe_bcm63xx/blob/master/build.sh">https://github.com/kplus/cfe_bcm63xx/bl â€¦ r/build.sh</a></p><p>&quot;cd cfe/build/broadcom/bcm63xx_rom</p><p>make clean<br />make BRCM_CHIP=6348&quot;</p><p>witch is pointing the build to 6348 cpu no matter what you choose .</p><p>anyone could give an help in this one ?</p>											<p class="post-edited">(Last edited by <strong>pedropt</strong> on 15 Aug 2015, 03:32)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=46784&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>