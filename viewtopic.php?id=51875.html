<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Openwrt 14.07 via two USB serial (pl2303) to Ubuntu 12.04</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p241723">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">FuLgOrE</div>
					<div class="post-datetime">
						27 Jul 2014, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>Hello guys,</p><p>I would like to establish a connection between my Ubuntu Laptop to my TP-Link MR13U via two USB to RS232 Prolific PL2303 converters and a null-modem-cable.</p><p>On the Openwrt Router I installed kmod-usb-serial-pl2303 and the converter is recognized successfully as /dev/ttyUSB0.<br />It is also recognized on the Ubuntu 12.04 Laptop as /dev/ttyUSB0.</p><p>Now I would like to get a serial terminal connection working between those two devices but I have some problems I cannot solve by myself.</p><p>According to the Openwrt wiki on that page<br /><a href="http://wiki.openwrt.org/doc/hardware/port.serial?s">http://wiki.openwrt.org/doc/hardware/port.serial?s</a>[]=build<br />I added the following line to /etc/inittab on Openwrt<br />ttyUSB0::askfirst:/bin/ash -login<br />I also tried<br />ttyUSB0::askfirst:/bin/ash --login<br />ttyUSB0::askconsole:/bin/ash â€“login<br />and I tried to get a connection from Ubuntu with &quot;sceen /dev/ttyUSB0&quot;, with &quot;minicom /dev/ttyUSB0&quot; and with cutecom. I furthermore tried several baud rates on Ubuntu without any success.</p><p>I would like to get a terminal working.</p><p>I don&#039;t want to use the internal serial port because it&#039;s not very easy to solder.</p><p>Does anybody know how to fix the problem?</p><p>Thank you very much in advance for your support.<br />Have a nice sunday<br />Georg</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241852">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">FuLgOrE</div>
					<div class="post-datetime">
						28 Jul 2014, 08:13					</div>
				</div>
				<div class="post-content content">
					<p>Today I made a successful try, if the USB/RS232 adapter is working.<br />I connected my working laptop with the build in RS232 interface via nullmodem cable to the adapter and connected the adapter to the TP-Link MR13U.<br />I installed microcom and started the program with<br />microcom -D/dev/ttyUSB0<br />after that I started a serial tool on my working laptop which I need for my work. I could see that some strange symbols are transmitted.</p><p>So the interace is working, I would say.</p><p>Does anybody know how to set up the ttyUSB0 in a correct way to get a terminal interface on it?</p><p>The things for inittab mentioned yesterday are not working for me.<br />I set these values in the inittab, rebooted and tried to connect to openwrt via putty (laptop with integrated RS232 interface). My settings were COM1 (correct one), 115200 baud, 8 data bits, 1 stop bit, parity none, flow control none.</p><p>If I try to connect I just here &quot;ping&quot; on my laptop and nothing happens...</p><p>________________________</p><p>EDIT:</p><p>I tried the same thing on my MR11U. <br />It also don&#039;t works.<br />I guess that the USB device comes up too late.<br />Is there a way to &quot;couple&quot; the ttyUSB0 to a serial console outside of the inittab that I could put it in a script?</p><br /><p>EDIT2: dirty workaround</p><br /><p>I got it working with installing agetty and the following command:<br />agetty -8 115200 ttyUSB0 -n -l /bin/ash</p><p>But when this terminal crashes I had no chance to restart it.<br />So I put the command in a script, made it executable and added the following line to /etc/inittab:<br />bla:12345:respawn:/path/to/script</p><p>I hope this will help somebody someday.</p>											<p class="post-edited">(Last edited by <strong>FuLgOrE</strong> on 28 Jul 2014, 13:05)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>