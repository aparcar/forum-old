<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Easybox 904 LTE open source code to be provide soon</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 11 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p349911">
				<div class="post-metadata">
					<div class="post-num">Post #251</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						22 Jan 2017, 02:14					</div>
				</div>
				<div class="post-content content">
					<p>Thanks,<br />but i think my biggest problem is i can not found the original 3.07 xDSL image.</p><p>i try it with 3.05 and 3.17 without success</p><p>3.05:<br /></p><div class="codebox"><pre><code>dd bs=1 if=fullimage-3.05.img count=19255360 of=RootFS.bin
dd bs=1 if=fullimage-3.05.img count=1441792 skip=19261504 of=Kernel.bin
cat RootFS.bin &gt; fullimage.img
cat Kernel.bin &gt;&gt; fullimage.img</code></pre></div><p><a href="http://pastebin.com/NB380J0q">http://pastebin.com/NB380J0q</a></p><p>3.17<br /></p><div class="codebox"><pre><code>dd bs=1 if=fullimage_AT904X-03.17.01.16.bin of=RootFS.bin count=22192192
dd bs=1 if=fullimage_AT904X-03.17.01.16.bin of=Kernel.bin skip=22198336 count=1572864
cat RootFS.bin &gt; fullimage.img
cat Kernel.bin &gt;&gt; fullimage.img</code></pre></div><p><a href="http://pastebin.com/BMEp4hFY">http://pastebin.com/BMEp4hFY</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350384">
				<div class="post-metadata">
					<div class="post-num">Post #252</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						27 Jan 2017, 23:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi plonk34!</p><p>Thanks for your detailed information. The logs are really helpful to understand the problem.<br />I think something is missing in the uboot environment. Are you able to use the unlocked bootloader by using the recovery method, mentioned here:&nbsp; wiki.openwrt.org/inbox/arcadyanastoria/arcadyan_astoria_easybox_904xdsl_r01#debricking ? So you can show us the values where I can compare to my device. Next step where maybe to boot up with an kernel over tftp and later maybe flash an image over </p><p>BTW: I&#039;m able to run upstream lede version on it. After some sleepless nights <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> I catched the fruits from @arnysch and the other cool developers, mixed them together and tried so much combinations... at least one configuration worked to get the network running. Some findings:<br />RTL3867RB:<br />- Switch is enabled via MDIO based RTL3867RB which is currently a pull request, see: github.com/lede-project/source/pull/537<br />- No tagged port allowed.<br />- Switch is also enabled by modified sequence in uboot.</p><p>Lantiq Switch<br />-&nbsp; Switch can&#039;t using the SWITCH_ROUTING feature - it is blocking arp broadcasts etc.<br />-&nbsp; Switch ports has to be assigned to a vlan / pvid. No tagged port allowed.</p><p>Boot Log here:<br />pastebin.com/t9Vs4WTK</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350744">
				<div class="post-metadata">
					<div class="post-num">Post #253</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						31 Jan 2017, 16:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Are you able to use the unlocked bootloader by using the recovery method</p></blockquote></div><p>Och nööö, this is not the anwser that i have wish to hear.<br />Can you exact tell me what i have todo. should i remove the R148 or break the line to it, but how ?<br />I have to unbox first, for this reason at the moment i can not equal the platine with the image and i have no idea what the image try me to tell.</p><p>Is it possible to bring the uboot-env back via image update ? <br />This will be my preferred method.</p><p>Is it possible to start uboot twice instead of the Kernel ?<br />(first the original uboot and them the own uboot)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351286">
				<div class="post-metadata">
					<div class="post-num">Post #254</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						6 Feb 2017, 21:18					</div>
				</div>
				<div class="post-content content">
					<p>Good times for the Easybox 904xDSL <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>I&#039;m able to get network and telephony running, thanks to the patches which flies around.<br />If someone is interested, try this one:</p><p>!! No warranty ! Use it on your own risk !!</p><p>---------------<br />COMPILE<br />---------------<br /></p><div class="codebox"><pre><code>git clone https://github.com /Quallenauge/Easybox-904-XDSL.git
cd Easybox-904-XDSL
git checkout tags/Easybox-904-XDSL-1-0-0
cp vr9_default.config .config
./scripts/feeds update
./scripts/feeds install
make</code></pre></div><p>Then in bin/lantiq/ are two important files:<br />bin/targets/lantiq/xrx200-uClibc/lede-lantiq-xrx200-device-vgv952cjw33-rootfs.tar.gz (rootfs, tar gz)<br />build_dir/target-mips_24kc_uClibc-1.0.22/linux-lantiq_xrx200/VGV952CJW33-kernel.bin (kernel)</p><p>---------------<br />INSTALL<br />---------------<br />(Taken and adapted from: <a href="https://forum.openwrt.org/viewtopic.php?pid=284534#p284534">This thread page #5</a><br />To install OpenWRT on an EasyBox do the following:<br />1. Download the opened vendor Firmware-Image: <a href="http://arny.tjps.eu/OpenWrt/EasyBox904x">http://arny.tjps.eu/OpenWrt/EasyBox904x</a> … opened.img</p><p>2. And install it via the rescue mode (see <a href="http://arny.tjps.eu/OpenWrt/EasyBox904x">http://arny.tjps.eu/OpenWrt/EasyBox904x</a> … eadme.txt)</p><p>3. Then boot the box with an connected usb stick that includes the special text file (see v0.1-readme.txt) and wait 5 minutes</p><p>4. Set an password via the web interface (192.168.2.1)</p><p>5. Then power off the box, remove then the usb stick</p><p>6. Power on the box again</p><p>7. Now connect via ssh and the setted password:<br /></p><div class="codebox"><pre><code>ssh root@192.168.2.1</code></pre></div><p>8. connect another usb stick with the rootfs and kernel files and go to these data dir:<br /></p><div class="codebox"><pre><code>cd /tmp/usb/a1</code></pre></div><p>9. Write kernel to nand<br /></p><div class="codebox"><pre><code>flash_eraseall /dev/mtd2
nandwrite -p /dev/mtd2 linux-lantiq_xrx200/VGV952CJW33-kernel.bin</code></pre></div><p>10. write rootfs to to a sdcard on a (linux pc)<br />Create 3 Partitions (e.g. with cfdisk)<br /></p><div class="codebox"><pre><code># assume the usb memory is recognized as sda
mkfs.f2fs /dev/sda3
mkdir /tmp/disk
mount /dev/sda3 /tmp/disk
cd /tmp/disk
tar xfz bin/targets/lantiq/xrx200-uClibc/lede-lantiq-xrx200-device-vgv952cjw33-rootfs.tar.gz</code></pre></div><p>11. Insert usb storage into the EasyBox</p><p>12. boot the device again<br /></p><div class="codebox"><pre><code>reboot</code></pre></div><br /><p>-------------------------------------<br />OPTIONAL: Bootloader without password, network support and no uboot-env setting on every boot.<br />-------------------------------------<br />To write a bootloader that is accessible without a password do this:<br />1. Download and extract <br /><a href="https://mega.nz/#!bA1gADqB!TtTdK3ePNdRjYnCfmM4an4JLbbucFJ2KvEe3U3cnTvo">uboot.tar.xz</a></p><p>2. copy u-boot.lq to &quot;another&quot; usb stick (without the special text file for enabling SSH)</p><p>3. CHECK if you could access the u-boot.lq file (stick is mounted, file is listed)<br />because after erasing a bootloder a new one must be written<br />(otherwise the router is BRICKED and a special rescue mode is needed)</p><p>3. erase nand area, write modified u-boot without passwort to it:<br /></p><div class="codebox"><pre><code>flash_eraseall /dev/mtd0
nandwrite -p /dev/mtd0 u-boot.lq
reboot</code></pre></div><p>4. u-boot could accessed via serial line with empty password</p><p>!!!! PS: Big thanks for all people which done a fundamental research to allow this release !!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351287">
				<div class="post-metadata">
					<div class="post-num">Post #255</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						6 Feb 2017, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>HI Plonk34!</p><div class="quotebox"><blockquote><p>Och nööö, this is not the anwser that i have wish to hear.<br />Can you exact tell me what i have todo. should i remove the R148 or break the line to it, but how ?<br />I have to unbox first, for this reason at the moment i can not equal the platine with the image and i have no idea what the image try me to tell.</p></blockquote></div><p>No, it seems to only needed to shortcut the two pins (überbrücken/kurzschließen) for the time of power on - no removing/destroying. This would be my only guess <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><div class="quotebox"><blockquote><p>Is it possible to bring the uboot-env back via image update ? <br />This will be my preferred method.</p></blockquote></div><p>I never built an own image, which corrects a uboot env. Maybe someone else can do it?</p><div class="quotebox"><blockquote><p>Is it possible to start uboot twice instead of the Kernel ?<br />(first the original uboot and them the own uboot)</p></blockquote></div><p>I don&#039;t think so.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352262">
				<div class="post-metadata">
					<div class="post-num">Post #256</div>
					<div class="post-author">trg8984</div>
					<div class="post-datetime">
						18 Feb 2017, 09:54					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />@QAuge<br />I found the files. But unfortunately I do not get so clear with your instructions.<br />I can connect via ssh to the box and also install the kernel image. But where is the file root.squashfs?<br />In section 10, you write 3 partitions. Why 3? Is it not enough if you create a partition and unpack the file?<br />Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352285">
				<div class="post-metadata">
					<div class="post-num">Post #257</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						18 Feb 2017, 18:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>trg8984 wrote:</cite><blockquote><p>Hello,<br />@QAuge<br />I found the files. But unfortunately I do not get so clear with your instructions.<br />I can connect via ssh to the box and also install the kernel image. But where is the file root.squashfs?</p></blockquote></div><p>I used f2fs as filesystem. There is a tar.gz file within the bin folder, which contains the root filesystem. I extracted it to the usb stick partition. I don&#039;t use the squashfs.<br /></p><div class="quotebox"><cite>trg8984 wrote:</cite><blockquote><p>In section 10, you write 3 partitions. Why 3? Is it not enough if you create a partition and unpack the file?<br />Thanks in advance.</p></blockquote></div><p>Have a look at the file<br /><a href="https://github.com/Quallenauge/Easybox-904-XDSL/blob/d0279575f57ed1262fa93206e132c8cbaa64f28f/target/linux/lantiq/dts/VGV952CJW33.dts#L13">VGV952CJW33.dts</a> file. At the boot cmd you can define your root as you wish. In case no partition is involved just define </p><div class="codebox"><pre><code>root=/dev/sda</code></pre></div><p>. (To use the new parameter, recompile and install the kernel and prepare the usb stick like this<br /></p><div class="codebox"><pre><code>mkfs.f2fs /dev/sda
mkdir /tmp/disk
mount /dev/sda /tmp/disk
cd /tmp/disk
tar xfz &lt;path to tar gz&gt;
sync
umount /tmp/disk</code></pre></div><p>NOTE: make sure /dev/sda should your usb stick - not your harddisk <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> ). After that your USB Stick contains the rootfs which is mounted by the kernel.<br />In the release tag, I used the /dev/sda3 partition and so I described it).</p><p>Hint, use tftp to test the kernel. Prepare a ttfp server at 192.168.2.100 and copy the kernel as &quot;uImage&quot; to the tftp server. Boot into u-boot and type:<br /></p><div class="codebox"><pre><code>tftp
bootm</code></pre></div><p>Then the kernel (should) start up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353215">
				<div class="post-metadata">
					<div class="post-num">Post #258</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						1 Mar 2017, 00:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi there.</p><p>I got the display up and running...<br /><a href="http://picpaste.de/EB904.JPG"><span class="postimg"><img src="http://picpaste.de/extpics/EB904.JPG" alt="http://picpaste.de/extpics/EB904.JPG" /></span></a><br />( <a href="http://picpaste.de/pics/EB904.1488320671.JPG">http://picpaste.de/pics/EB904.1488320671.JPG</a> )<br />Currently no fancy graphics, lcd4linux base install.</p><p>I wrote a (my first) driver to support the touchpad as input device. The touchpad is capable for multitouch, bit I doubt. there is a use case at this device - so this is currently not supported. The result is the following:<br /></p><div class="codebox"><pre><code>No device specified, trying to scan all of /dev/input/event*
Available devices:
/dev/input/event0:      eb904_keypad
Select the device event number [0-0]: 0-0
Input driver version is 1.0.1
Input device ID: bus 0x18 vendor 0x1 product 0x1 version 0x1
Input device name: &quot;eb904_keypad&quot;
Supported events:
  Event type 0 (EV_SYN)
  Event type 1 (EV_KEY)
    Event code 28 (KEY_ENTER)
    Event code 103 (KEY_UP)
    Event code 105 (KEY_LEFT)
    Event code 106 (KEY_RIGHT)
    Event code 108 (KEY_DOWN)
  Event type 4 (EV_MSC)
    Event code 4 (MSC_SCAN)
Properties:
Testing ... (interrupt to exit)
Event: time 1487804635.364856, type 4 (EV_MSC), code 4 (MSC_SCAN), value 05
Event: time 1487804635.364856, type 1 (EV_KEY), code 28 (KEY_ENTER), value 1
Event: time 1487804635.364856, -------------- SYN_REPORT ------------
Event: time 1487804635.400817, type 4 (EV_MSC), code 4 (MSC_SCAN), value 04
Event: time 1487804635.400817, type 1 (EV_KEY), code 105 (KEY_LEFT), value 1
Event: time 1487804635.400817, -------------- SYN_REPORT ------------
Event: time 1487804635.554515, type 4 (EV_MSC), code 4 (MSC_SCAN), value 04
Event: time 1487804635.554515, type 1 (EV_KEY), code 105 (KEY_LEFT), value 0
Event: time 1487804635.554515, -------------- SYN_REPORT ------------
Event: time 1487804635.592111, type 4 (EV_MSC), code 4 (MSC_SCAN), value 05
Event: time 1487804635.592111, type 1 (EV_KEY), code 28 (KEY_ENTER), value 0
Event: time 1487804635.592111, -------------- SYN_REPORT ------------</code></pre></div>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 1 Mar 2017, 23:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353491">
				<div class="post-metadata">
					<div class="post-num">Post #259</div>
					<div class="post-author">violentstorm</div>
					<div class="post-datetime">
						4 Mar 2017, 13:03					</div>
				</div>
				<div class="post-content content">
					<p>Hey there,<br />I&#039;ve obtained a 904 xdsl box for cheap.<br />Now I&#039;m trying to get my T-Home VDSL working with this Router.<br />I&#039;ve managed to get access via ssh with the 3.17 image.<br />Now I&#039;ve followed the steps from post 176.<br />But Somehow the box don&#039;t save the vlan_ID@wan050.<br />Its always reset vlan 132.</p><p>On the GUI I see, that the VDSL is connected and the speed is correct detected, but because of the wrong vlan I can&#039;t use it.</p><p>Could anyone help me please?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353903">
				<div class="post-metadata">
					<div class="post-num">Post #260</div>
					<div class="post-author">xl2cc</div>
					<div class="post-datetime">
						10 Mar 2017, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>My 904xDSL is still in bootloop...</p><p>i tryed almost everything without opening the box for UART.<br />Flashed several images - everytime the same result - bootloop<br />i made my own image under Kali , same size as original - bootloop....</p><p>normally it is not my &quot;way&quot; but is there a guy i can send the box? I don´t have the time to do another 20 hour session for trying to unbrick it without solution.</p><p>some pages before i read &quot;flashing takes 2 minutes&quot; - mine is ready in 10 seconds - is there a problem?</p><p>2 times it happend that the box wrote &quot;downloaded the image - flashing&quot; but there was NO tftp up for downloading?! how can that possible?</p><p>any solutions? OR<br />german adress would be fine or the trash is his new home.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353982">
				<div class="post-metadata">
					<div class="post-num">Post #261</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						11 Mar 2017, 21:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xl2cc wrote:</cite><blockquote><p>My 904xDSL is still in bootloop...</p></blockquote></div><p>Hi!<br />Maybe you want to try an highly experimental fullimage.img which boots a customized rootfs from a usb stick?<br />@Plonk: Maybe you want this also try for your box?</p><p>Nevertheless, I think there&#039;s no way back to the vendor firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353994">
				<div class="post-metadata">
					<div class="post-num">Post #262</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						12 Mar 2017, 02:40					</div>
				</div>
				<div class="post-content content">
					<p>Yes i want !<br />I have not yet come to test the UART mode because In my infinite wisdom i have close the case and i must reopen first if i want to use UART.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354023">
				<div class="post-metadata">
					<div class="post-num">Post #263</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						12 Mar 2017, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I tried this on my second box, which has version 3.16 flashed.</p><p>Download the following files:<br /><a href="https://mega.nz/#!6cUHkAaQ!TroZdmVJnGO9_n2-p3i_eZa2_thD0Ar_BDd2qkYTCtY">lede-lantiq-xrx200-device-vgv952cjw33-rootfs.tar.gz</a><br /><a href="https://mega.nz/#!aAl0xQDR!KcGpp0ttAkudhEpGj1vbNa80XlGprmbjmDJSngkJmhU">lede-lantiq-xrx200-VGV952CJW33-ubifs-fullimage-ubinized.bin</a></p><p>Perform the following steps:<br /></p><ul><li><p>Switch off the box. Remove the network cable.</p></li><li><p>scp ~/lede-lantiq-xrx200-VGV952CJW33-ubifs-fullimage-ubinized.bin tftpuser@tftpserver:/tftpboot/fullimage.img<br /></p></li><li><p>Insert USB Stick:<br />sudo cfdisk /dev/sdX (whery sdX is the usb drive).<br />Create a partition on it.<br /></p></li><li><p>Format it to fs2fs:<br />mkfs.f2fs /dev/sdX1</p></li><li><p>Mount it:<br />mkdir /tmp/disk<br />sudo mount /dev/sdX1 /tmp/disk<br />cd /tmp/disk<br /></p></li><li><p>Make sure you are on the right directory:<br />ls -la<br />It has to be empty. If not, check your commands again.</p></li><li><p>tar xfz ~/lede-lantiq-xrx200-device-vgv952cjw33-rootfs.tar.gz</p></li><li><p>sudo chown -r root:root .</p></li><li><p>Sync and umount:<br />sync &amp;&amp; sudo umount /tmp/disk<br />Now you put the stick into the box</p></li><li><p>Hold the reset button and switch on the box.<br />Wait 5 seconds. Then release the button.</p></li><li><p>The recovery screen should be appear</p></li><li><p>Put the network cable into the box</p></li><li><p>The box should say, image downloaded, image is flashed.</p></li><li><p>After a while, the box should say, switch off and on the box. Do that.</p></li><li><p>The box should boot, the usb stick should show some action (if it has an led)</p></li><li><p>After some minutes, the box should be appear with default ip 192.168.1.1</p></li><li><p>I recommend to flash the uboot since every boot the uboot env is rewritten to flash.<br />After three reboots the recovery mode will jump in then.</p></li></ul>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 12 Mar 2017, 15:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354051">
				<div class="post-metadata">
					<div class="post-num">Post #264</div>
					<div class="post-author">xl2cc</div>
					<div class="post-datetime">
						12 Mar 2017, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks @QAuge</p><p>the box is booting &quot;from&quot; USB Stick now into your &quot;image&quot;.</p><p>When i remove the USB Stick and switch off/on the box is again in bootloop - so i think i am booting atm from USB - right?</p><p>then i tryed to flash via the webinterface a image (mine - original) - did not work<br />everytime the same error: &quot;The uploaded image file does not contain a supported format. Make sure that you choose the generic image format for your platform. &quot;</p><p>so i am stuck here. will not do the wrong thing, again....</p><p>can you explain the next steps , simple as before, what to do next?</p><p>That would be fantastic and if we meet i&#039;ll pay the beer, for sure!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354053">
				<div class="post-metadata">
					<div class="post-num">Post #265</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						12 Mar 2017, 21:29					</div>
				</div>
				<div class="post-content content">
					<p>Yes, the rootfs is taken from the stick and not from the flash. There are issues to write that via the fullimage.img recovery function.</p><p>And now: I&#039;m out. I have some ideas how to flash back the image, but without serial line access, this can be difficult.<br />It&#039;s not clear for me, why the recovery doesn&#039;t work via vendor fullimage.img. @Plonk34 has provided some logs from the update process - which doesn&#039;t show an error. But the image isn&#039;t loading.</p><p>So, how to proceed?!<br />Is there a special need for the vendor image?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354056">
				<div class="post-metadata">
					<div class="post-num">Post #266</div>
					<div class="post-author">xl2cc</div>
					<div class="post-datetime">
						12 Mar 2017, 21:46					</div>
				</div>
				<div class="post-content content">
					<p>No, no need for the vendor image. I have to flash a different cause i wanna use the box with Telekom DSL. That was the reason i tryed to flash my selfmade image.</p><p>do you have a different image for me to test? A &quot;opened&quot; would be fine, working with Telekom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354061">
				<div class="post-metadata">
					<div class="post-num">Post #267</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						12 Mar 2017, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>It should be possible to utilize the embedded modem. If I remember, the base packages are included in the image to get a sync. But there are no ppp related packages compiled in.<br />I never tried that. SInce this is a standard chip, it should sync.</p><p>BTW: WLAN doesn&#039;t work - there are no sources for this device :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354063">
				<div class="post-metadata">
					<div class="post-num">Post #268</div>
					<div class="post-author">xl2cc</div>
					<div class="post-datetime">
						12 Mar 2017, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>no way to get the WLAN function working with non-vendor image?</p><p>I do have a Netgear Access point but a second device on the sideboard is not what i want.</p><p>As longer as it takes, i more think about a diffenrent router, for the coming Vectoring DSL my yet active router can´t handle. That was the reason why i bought the cheap 904.</p><p>Any idea for a cheap device which can handle vectoring DSL + WLAN? if it is not too off-topic or via PN</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354064">
				<div class="post-metadata">
					<div class="post-num">Post #269</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						12 Mar 2017, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>&gt; no way to get the WLAN function working with non-vendor image?<br />no way.<br />... or via attached usb stick (The box has 2 of them). But this means no out of the box experience.</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 12 Mar 2017, 23:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354113">
				<div class="post-metadata">
					<div class="post-num">Post #270</div>
					<div class="post-author">kovz</div>
					<div class="post-datetime">
						13 Mar 2017, 16:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>no way to get the WLAN function working with non-vendor image?</p></blockquote></div><p>There is old <a href="https://github.com/canalplus/r7oss/tree/cc27abcdd86aff41dfbf195ed39ccd504bd2e4dc/G5/src/rt3662-modules-2.4.0.9.10">sources</a> for wlan driver. I have done some investigation of them, so&nbsp; now I am understand how it works and trying to port them to new kernel. But this is my firs experience with kernel module. And it quite hard <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354168">
				<div class="post-metadata">
					<div class="post-num">Post #271</div>
					<div class="post-author">chipmunk</div>
					<div class="post-datetime">
						14 Mar 2017, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>first of all thank you QAuge for your excellent work on this device (904xDSL)! I found a way to boot from nand. You will need serial access to modify bootargs and a custom kernel with CONFIG_MIPS_CMDLINE_FROM_BOOTLOADER=y (target/linux/lantiq/config-4.9)<br />I use the device in this config since seven days without problems as my home router on a 16/1 Mbit DSL link (easybell) with sqm. I dont need the FSX ports/asterisk. Thats why i enabled SMP again to have a dual core router. :-)</p><br /><p>1. Do the steps 1.-12. mentioned in post 254. Then you should have a device, which boots nicely from sda3.</p><p>2. On your PC (not on the easybox904!) prepare an ubifs.img.<br /> 2.1. decompress in a new directory (e.g. /tmp/rootfs) the lede-lantiq-xrx200-device-vgv952cjw33-rootfs.tar.gz (sudo tar -xzf lede-lantiq-xrx200-device-vgv952cjw33-rootfs.tar.gz)<br /> 2.2. change directory to /tmp<br /> 2.3. sudo mkfs.ubifs -q -r rootfs/ -v -m 2048 -e 126976 -c 2047 -F -o ubifs.img</p><p>3. log via ssh into the easybox904xDSL to prepare ubi and ubifs on /dev/mtd12 (it is a big partition, like 300 MB, label &quot;misc&quot;, i suppose the vendor used it for the answering machine)<br />3.1. ubiformat /dev/mtd12 -s 2048 ---&gt; say yes to the errors<br />3.2. ubiattach -m 12 -O 2048<br />3.3. ubimkvol /dev/ubi0 -N rootfs -m<br />3.4. transfer the ubifs.img from step 2 to the device and do ubiupdatevol /dev/ubi0_0 ubifs.img</p><p>4. change the bootargs in u-boot to <br />setenv bootargs ubi.mtd=12,2048 root=ubi0:rootfs rootfstype=ubifs console=ttyLTQ0,115200</p><p>5. Enjoy &quot;out of the box experience&quot; :-)</p><p>Bootlog with succesful boot from nand:<br /></p><div class="codebox"><pre><code>[    0.000000] Linux version 4.9.8 (tim@neuron) (gcc version 5.4.0 (LEDE GCC 5.4.0 r3503-023da1a) ) #0 SMP Wed Mar 1 21:56:15 2017
[    0.000000] SoC: xRX200 rev 1.2
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 00019556 (MIPS 34Kc)
[    0.000000] MIPS: machine is VGV952CJW33-E-IR - EasyBox 904 xDSL
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 08000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Detected 1 available secondary CPU(s)
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] On node 0 totalpages: 32768
[    0.000000] free_area_init_node: node 0, pgdat 80681120, node_mem_map 8100a0e0
[    0.000000]   Normal zone: 256 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 32768 pages, LIFO batch:7
[    0.000000] percpu: Embedded 13 pages/cpu @8110d000 s21584 r8192 d23472 u53248
[    0.000000] pcpu-alloc: s21584 r8192 d23472 u53248 alloc=13*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 32512
[    0.000000] Kernel command line: ubi.mtd=12,2048 root=ubi0:rootfs rootfstype=ubifs console=ttyLTQ0,115200 
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 121564K/131072K available (5075K kernel code, 200K rwdata, 1380K rodata, 1264K init, 248K bss, 9508K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] NR_IRQS:256
[    0.000000] Setting up vectored interrupts
[    0.000000] Setting up IPI vectored interrupts
[    0.000000] arch/mips/lantiq/xway/sysctrl.c:ltq_soc_init:517 LTQ_EBU_BUSCON2: 0x0001d3dd
[    0.000000] arch/mips/lantiq/xway/sysctrl.c:ltq_soc_init:520 LTQ_EBU_BUSCON2: 0x0001d3dd
[    0.000000] CPU Clock: 500MHz
[    0.000000] clocksource: MIPS: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041786 ns
[    0.000011] sched_clock: 32 bits at 250MHz, resolution 4ns, wraps every 8589934590ns
[    0.008037] Console: colour dummy device 80x25
[    0.012363] Calibrating delay loop... 332.54 BogoMIPS (lpj=665088)
[    0.046867] pid_max: default: 32768 minimum: 301
[    0.051741] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.058281] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.069843] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.069861] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.070088] CPU1 revision is: 00019556 (MIPS 34Kc)
[    0.129191] Synchronize counters for CPU 1: 
[    0.129193] done.
[    0.135470] Brought up 2 CPUs
[    0.143870] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.153599] pinctrl core: initialized pinctrl subsystem
[    0.159694] NET: Registered protocol family 16
[    0.173887] pinctrl-xway 1e100b10.pinmux: Init done
[    0.179932] dma-xway 1e104100.dma: Init done - hw rev: 7, ports: 7, channels: 28
[    0.294573] dcdc-xrx200 1f106a00.dcdc: Core Voltage : 1016 mV
[    0.305711] FPU Affinity set after 2008 emulations
[    0.533639] ifx_pcie_wait_phy_link_up timeout
[    0.545914] random: fast init done
[    0.753650] ifx_pcie_wait_phy_link_up timeout
[    0.970420] ifx_pcie_wait_phy_link_up timeout
[    1.187191] ifx_pcie_wait_phy_link_up timeout
[    1.403974] ifx_pcie_wait_phy_link_up timeout
[    1.408192] pcie_rc_initialize link up failed!!!!!
[    1.445061] gpio-stp-xway 1e100bb0.stp: Init done
[    1.450834] SCSI subsystem initialized
[    1.455512] usbcore: registered new interface driver usbfs
[    1.461093] usbcore: registered new interface driver hub
[    1.466474] usbcore: registered new device driver usb
[    1.474685] clocksource: Switched to clocksource MIPS
[    1.498908] NET: Registered protocol family 2
[    1.504733] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    1.511637] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    1.518036] TCP: Hash tables configured (established 1024 bind 1024)
[    1.524545] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    1.530365] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    1.537009] NET: Registered protocol family 1
[    1.541297] PCI: CLS 0 bytes, default 32
[    1.542317] gptu: totally 6 16-bit timers/counters
[    1.547394] gptu: misc_register on minor 63
[    1.551548] gptu: succeeded to request irq 126
[    1.556066] gptu: succeeded to request irq 127
[    1.560553] gptu: succeeded to request irq 128
[    1.565089] gptu: succeeded to request irq 129
[    1.569579] gptu: succeeded to request irq 130
[    1.574104] gptu: succeeded to request irq 131
[    1.581667] lantiq,vmmc 1f103000.vmmc: requested GPIO 499
[    1.586964] lantiq,vmmc 1f103000.vmmc: reserved 1MB at 0x07400000
[    1.593582] phy-xrx200 gphy-xrx200: requesting lantiq/vr9_phy11g_a2x.bin
[    1.600821] phy-xrx200 gphy-xrx200: booting GPHY0 firmware at 7F40000
[    1.607178] phy-xrx200 gphy-xrx200: booting GPHY1 firmware at 7F40000
[    1.714740] No VPEs reserved for AP/SP, not initialize VPE loader
[    1.714740] Pass maxvpes=&lt;n&gt; argument as kernel argument
[    1.726119] No TCs reserved for AP/SP, not initializing RTLX.
[    1.726119] Pass maxtcs=&lt;n&gt; argument as kernel argument
[    1.738970] futex hash table entries: 512 (order: 2, 16384 bytes)
[    1.745086] Crashlog allocated RAM at address 0x3f00000
[    1.751011] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    1.778412] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.784136] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    1.800872] io scheduler noop registered
[    1.804703] io scheduler deadline registered (default)
[    1.811200] 1e100c00.serial: ttyLTQ0 at MMIO 0x1e100c00 (irq = 112, base_baud = 0) is a lantiq,asc
[    1.820111] console [ttyLTQ0] enabled
[    1.827442] bootconsole [early0] disabled
[    1.838254] gen_nand 14000000.nand-parts: platform_nand_data is missing
[    1.843502] gen_nand: probe of 14000000.nand-parts failed with error -22
[    1.850766] nand: device found, Manufacturer ID: 0xec, Chip ID: 0xdc
[    1.856486] nand: Samsung NAND 512MiB 3,3V 8-bit
[    1.861101] nand: 512 MiB, SLC, erase size: 128 KiB, page size: 2048, OOB size: 64
[    1.868803] Scanning device for bad blocks
[    2.137494] Bad eraseblock 2618 at 0x000014740000
[    2.289553] 16 ofpart partitions found on MTD device 14000000.nand-parts
[    2.294844] Creating 16 MTD partitions on &quot;14000000.nand-parts&quot;:
[    2.300879] 0x000000000000-0x000000040000 : &quot;uboot&quot;
[    2.308060] 0x000000040000-0x000003c40000 : &quot;rootfs1&quot;
[    2.314641] 0x000003c40000-0x000004140000 : &quot;kernel1&quot;
[    2.320574] 0x000004140000-0x000004240000 : &quot;tmp1&quot;
2.326360] 0x000004240000-0x000004440000 : &quot;tmp2&quot;
[    2.332022] 0x000004440000-0x000004540000 : &quot;sysconfig&quot;
[    2.338306] 0x000004540000-0x000004640000 : &quot;ubootconfig&quot;
[    2.344537] 0x000004640000-0x000004700000 : &quot;fwdiag&quot;
[    2.350862] 0x000004700000-0x000004a00000 : &quot;lcdimage&quot;
[    2.356798] 0x000004a00000-0x000004b00000 : &quot;mfgconfig&quot;
[    2.362918] 0x000004b00000-0x000004c00000 : &quot;sipdata&quot;
[    2.368714] 0x000004c00000-0x000008c00000 : &quot;voice&quot;
[    2.375191] 0x000008c00000-0x00001be00000 : &quot;misc&quot;
[    2.384340] 0x00001be00000-0x00001fa00000 : &quot;rootfs2&quot;
[    2.391064] 0x00001fa00000-0x00001ff00000 : &quot;kernel2&quot;
[    2.396904] 0x00001ff00000-0x000020000000 : &quot;mystery&quot;
[    2.407394] libphy: Fixed MDIO Bus: probed
[    2.489856] libphy: lantiq,xrx200-mdio: probed
[    2.566637] Intel XWAY PHY11G (xRX integrated) 0:11: attached PHY driver [Intel XWAY PHY11G (xRX integrated)] (mii_bus:phy_addr=0:11, irq=-1)
[    2.650642] Intel XWAY PHY11G (xRX integrated) 0:13: attached PHY driver [Intel XWAY PHY11G (xRX integrated)] (mii_bus:phy_addr=0:13, irq=-1)
[    2.664262] dwc2 1e101000.ifxhcd: requested GPIO 495
[    2.768487] dwc2 1e101000.ifxhcd: DWC OTG Controller
[    2.772143] dwc2 1e101000.ifxhcd: new USB bus registered, assigned bus number 1
[    2.779417] dwc2 1e101000.ifxhcd: irq 62, io mem 0x00000000
[    2.784964] dwc2 1e101000.ifxhcd: Hardware does not support descriptor DMA mode -
[    2.792375] dwc2 1e101000.ifxhcd: falling back to buffer DMA mode.
[    2.800308] hub 1-0:1.0: USB hub found
[    2.802836] hub 1-0:1.0: 1 port detected
[    2.908258] dwc2 1e106000.ifxhcd: DWC OTG Controller
[    2.911886] dwc2 1e106000.ifxhcd: new USB bus registered, assigned bus number 2
[    2.919173] dwc2 1e106000.ifxhcd: irq 91, io mem 0x00000000
[    2.924698] dwc2 1e106000.ifxhcd: Hardware does not support descriptor DMA mode -
[    2.932145] dwc2 1e106000.ifxhcd: falling back to buffer DMA mode.
[    2.940051] hub 2-0:1.0: USB hub found
[    2.942564] hub 2-0:1.0: 1 port detected
[    2.947711] usbcore: registered new interface driver usb-storage
[    3.053965] ltq-cputemp cputemp@0: Current CPU die temperature: 52.5 °C
[    3.059696] wdt 1f8803f0.watchdog: Init done
[    3.067556] NET: Registered protocol family 10
[    3.073025] NET: Registered protocol family 17
[    3.076225] 8021q: 802.1Q VLAN Support v1.8
[    3.083964] rtl8367b rtl8367b: using bus lantiq,xrx200-mdio
[    3.088433] rtl8367b rtl8367b: RTL8367RB chip found
[    4.423594] ubi0: attaching mtd12
[    4.846589] ubi0: scanning is finished
[    4.866113] ubi0: attached mtd12 (name &quot;misc&quot;, size 306 MiB)
[    4.870376] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    4.877249] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 512
[    4.883952] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    4.890914] ubi0: good PEBs: 2447, bad PEBs: 1, corrupted PEBs: 0
[    4.896984] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    4.904251] ubi0: max/mean erase counter: 1/0, WL threshold: 4096, image sequence number: 1396515132
[    4.913365] ubi0: available PEBs: 0, total reserved PEBs: 2447, PEBs reserved for bad PEB handling: 79
[    4.922738] ubi0: background thread &quot;ubi_bgt0d&quot; started, PID 544
[    4.978080] UBIFS (ubi0:0): recovery needed
[    5.042967] UBIFS (ubi0:0): recovery deferred
[    5.046079] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name &quot;rootfs&quot;, R/O mode
[    5.054188] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    5.064104] UBIFS (ubi0:0): FS size: 258523136 bytes (246 MiB, 2036 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    5.074813] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    5.080630] UBIFS (ubi0:0): media format: w4/r0 (latest is w4/r0), UUID C50B1FC8-721D-4E09-A6C2-26BCA56B1F62, small LPT model
[    5.092879] VFS: Mounted root (ubifs filesystem) readonly on device 0:10.
[    5.102630] Freeing unused kernel memory: 1264K (80684000 - 807c0000)
[    5.107673] This architecture does not have kernel memory protection.
[    5.214279] init: Console is alive
[    5.216559] init: - watchdog -
[    5.476119] kmodloader: loading kernel modules from /etc/modules-boot.d/*
[    5.512001] kmodloader: done loading kernel modules from /etc/modules-boot.d/*
[    5.521419] init: - preinit -
[    7.995755] mount_root: mounting /dev/root
[    7.999406] UBIFS (ubi0:0): completing deferred recovery
[    8.047930] UBIFS (ubi0:0): background thread &quot;ubifs_bgt0_0&quot; started, PID 604
[    8.051525] UBIFS (ubi0:0): deferred recovery completed
[    8.062618] urandom-seed: Seeding with /etc/urandom.seed
[    8.117784] procd: - early -
[    8.120410] procd: - watchdog -
[    8.814541] procd: - ubus -
[    8.873363] procd: - init -
[    9.307024] kmodloader: loading kernel modules from /etc/modules.d/*
[    9.337477] fbtft_of_value: buswidth = 8
[    9.340051] fbtft_of_value: debug = 1
[    9.343649] fbtft_of_value: rotate = 270
[    9.347591] fbtft_of_value: fps = 30
[    9.351662] fb_ili9341_eb904 0.easybox904-display: fbtft_request_one_gpio: &#039;reset-gpios&#039; = GPIO468
[    9.360202] fb_ili9341_eb904 0.easybox904-display: fbtft_request_one_gpio: &#039;led-gpios&#039; = GPIO490
[    9.490325] ili9341_Probe: Probed ID4: 9341
[    9.656979] graphics fb0: fb_ili9341_eb904 frame buffer, 320x240, 150 KiB video memory, 16 KiB DMA buffer memory, fps=31
[    9.672138] IFXOS, Version 1.5.19 (c) Copyright 2009, Lantiq Deutschland GmbH
[    9.707068] Lantiq TAPI device driver, version 3.13.0.2, (c) 2001-2010 Lantiq Deutschland GmbH
[    9.726067] NET: Registered protocol family 8
[    9.729001] NET: Registered protocol family 20
[    9.787547] RPC: Registered named UNIX socket transport module.
[    9.792155] RPC: Registered udp transport module.
[    9.796841] RPC: Registered tcp transport module.
[    9.801470] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    9.827895] tun: Universal TUN/TAP device driver, 1.6
[    9.831626] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
[    9.951517] Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
[    9.966116] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   10.054941] Lantiq (VRX) DSL CPE MEI driver, version 1.5.17.6, (c) 2007-2015 Lantiq Beteiligungs-GmbH &amp; Co. KG
[   10.075149] i2c /dev entries driver
[   10.115094] 
[   10.115094] 
[   10.115094] Lantiq CPE API Driver version: DSL CPE API V4.17.18.6
[   10.122793] 
[   10.122793] Predefined debug level: 3
[   10.134204] i2c-gpio 0.i2c: using pins 481 (SDA) and 476 (SCL)
[   12.731549] input: eb904_keypad as /devices/platform/0.i2c/i2c-0/0-0014/input/input0
[   12.762561] hidraw: raw HID events driver (C) Jiri Kosina
[   12.783903] u32 classifier
[   12.785178]     input device check on
[   12.788857]     Actions configured
[   12.794835] Mirror/redirect action on
[   12.819020] nf_conntrack version 0.5.0 (2048 buckets, 8192 max)
[   12.849055] Console: switching to colour frame buffer device 40x30
[   12.918541] Lantiq MIPS34KEc MPS driver, version 2.2.2.5, (c) 2006-2010 Lantiq Deutschland GmbH
[   12.925886] request_timer(2, 0x000001AE, 1)...
[   12.930114] successful!
[   12.933078] Lantiq VMMC device driver, version 1.9.0.3, (c) 2006-2010 Lantiq Deutschland GmbH
[   12.947387] ip_tables: (C) 2000-2006 Netfilter Core Team
[   12.961520] Infineon Technologies DEU driver version 2.0.0 
[   12.967661] IFX DEU DES initialized (multiblock).
[   12.972321] IFX DEU AES initialized (multiblock).
[   12.976230] IFX DEU ARC4 initialized (multiblock).
[   12.980737] IFX DEU SHA1 initialized.
[   12.984496] IFX DEU MD5 initialized.</code></pre></div><div class="codebox"><pre><code>root@LEDE:~# df -h
Filesystem                Size      Used Available Use% Mounted on
ubi0:rootfs             227.4M     34.0M    193.4M  15% /
tmpfs                    60.0M      1.5M     58.4M   3% /tmp
tmpfs                   512.0K         0    512.0K   0% /dev
root@LEDE:~# mount
ubi0:rootfs on / type ubifs (rw,noatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,noatime)
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,noatime)
tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)
tmpfs on /dev type tmpfs (rw,nosuid,relatime,size=512k,mode=755)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,mode=600,ptmxmode=000)
debugfs on /sys/kernel/debug type debugfs (rw,noatime)
nfsd on /proc/fs/nfsd type nfsd (rw,relatime)
root@LEDE:~# </code></pre></div>											<p class="post-edited">(Last edited by <strong>chipmunk</strong> on 14 Mar 2017, 13:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354284">
				<div class="post-metadata">
					<div class="post-num">Post #272</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						15 Mar 2017, 22:00					</div>
				</div>
				<div class="post-content content">
					<p>Great Thanks QAuge it was working !<br />I have start in OpenWRT from the USB-Stick and replace the uboot by the password-free-uboot (from post 120).<br />And them i have installed my openwrt-lantiq-xrx200-VGV952CJW33-uImage to /dev/mtd2 and <br />openwrt-lantiq-xrx200-VGV952CJW33-squashfs-ubinized.bin to /dev/mtd12 (see Posts: 120).<br />But does not work because i get a bootloop: <a href="http://pastebin.com/raw/EcJZJxnX">http://pastebin.com/raw/EcJZJxnX</a></p><p>I have reinstall your image and it work again.</p><p>Now i have a free booloader and will see how i can get a working openwrt on the device.<br />Thanks for your troubles !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354319">
				<div class="post-metadata">
					<div class="post-num">Post #273</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						16 Mar 2017, 10:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi chipmunk!</p><p>Thanks for your steps. I currently prepare the sysupgrade functionality and ran into some issues regarding the<br />VID header offset size (parameter -s / -o of ubiformat and ubiattach). Where did you take this values.<br />If I perform a ubiformat / ubiattach it tooks standard values (512) with ecc errors as result. In opposite to that,<br />If I use your values, the format / attach /detach / re-attach cycle is just fine.<br />Can you please explain this - and is it possible to set the 2048 as default values?!<br />If this is not the case I have to update the nand.sh script and introduce another value ( CU_UBI_VID_HEADER_OFFSET ).</p><p>Also why &quot;-c 2047&quot; on mkfs.ubifs?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354329">
				<div class="post-metadata">
					<div class="post-num">Post #274</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						16 Mar 2017, 13:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kovz wrote:</cite><blockquote><div class="quotebox"><blockquote><p>no way to get the WLAN function working with non-vendor image?</p></blockquote></div><p>There is old <a href="https://github.com/canalplus/r7oss/tree/cc27abcdd86aff41dfbf195ed39ccd504bd2e4dc/G5/src/rt3662-modules-2.4.0.9.10">sources</a> for wlan driver. I have done some investigation of them, so&nbsp; now I am understand how it works and trying to port them to new kernel. But this is my firs experience with kernel module. And it quite hard <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Indeed, that are the sources. I&#039;m not aware of it. Hopefully there where no device specific changes by the vendor.<br />Regarding to the age of the sources&nbsp; - linux development is so fast, and interfaces (within the kernel) where changed very often - so I hope the wlan part isn&#039;t affected very much, to make the porting easier.<br />If you need some help let me know. It would be nice to have another feature reactivated by an alternative firmware.<br />Thumbs up ! :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354330">
				<div class="post-metadata">
					<div class="post-num">Post #275</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						16 Mar 2017, 13:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>Great Thanks QAuge it was working !<br />I have start in OpenWRT from the USB-Stick and replace the uboot by the password-free-uboot (from post 120).<br />And them i have installed my openwrt-lantiq-xrx200-VGV952CJW33-uImage to /dev/mtd2 and <br />openwrt-lantiq-xrx200-VGV952CJW33-squashfs-ubinized.bin to /dev/mtd12 (see Posts: 120).<br />But does not work because i get a bootloop: <a href="http://pastebin.com/raw/EcJZJxnX">http://pastebin.com/raw/EcJZJxnX</a></p><p>I have reinstall your image and it work again.</p><p>Now i have a free booloader and will see how i can get a working openwrt on the device.<br />Thanks for your troubles !</p></blockquote></div><p>Nice to hear it is working <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Regarding the U-Boot: I recommend to use my modified boot loader to not fall into the recovery issue.</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 16 Mar 2017, 13:09)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 11 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=9.html">9</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=10.html">10</a></li><li class="pagination-current"><span>11</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=12.html">12</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=13.html">13</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>