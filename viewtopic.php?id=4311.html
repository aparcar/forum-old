<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bricked WRT54GS V4.0 - Am I screwed?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p20101">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">5t3v3</div>
					<div class="post-datetime">
						3 Feb 2006, 04:48					</div>
				</div>
				<div class="post-content content">
					<p>I am hoping you guys can let me know if my WRT54GS v4.0 is salvageable from brick land.</p><p>I purchased the router only 2 weeks ago and immediately installed OpenWRT&nbsp; -&nbsp; openwrt-wrt54gs_v4-squashfs.bin</p><p>Everything was going fine until I had troubles NATing to an internal FTP server.&nbsp; &nbsp; &nbsp;Rather then deal with the head-aches of the /etc/firewall.user file, I decided to forgo openWRT and try hyperWRT instead.&nbsp; &nbsp;I knew taking the easy way out would cause me problems! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>At this point I ran the following to begin the update.&nbsp; &nbsp;Please note that I did not run boot_wait=on in my NVRAM settings before doing this.</p><p>&gt; wget <a href="http://www.example.org/hyperWRT.bin">http://www.example.org/hyperWRT.bin</a><br />&gt; dd bs=32 skip=1 if=hyperWRT.bin of=hyperWRT.trx<br />&gt; mtd -e linux -r write hyperWRT.trx linux</p><p>Upon rebooting, my power light was flashing repeatedly and would not respond to my pings.&nbsp; &nbsp;My router was bricked.</p><p>After following these instructions to short ping 15-16 I was able to revive my router to at least respond to my ping.</p><p><a href="http://www.linksysinfo.org/modules.php?name=Content&amp;pa=showpage&amp;pid=33">http://www.linksysinfo.org/modules.php? … amp;pid=33</a></p><p>The instructions told me to power-cycle my Linksys to TFTP the HyperWRT.bin file to it.&nbsp; &nbsp;This failed repeadely with a Invalid Password error.&nbsp; &nbsp;So I tried the latest linksys.bin file.&nbsp; &nbsp;</p><p>&gt; TFTP -i 192.168.1.1 PUT WRT54GSV4_1.05.2_US_code.bin<br />&gt; Error on server: Invalid Password!!</p><p>I also tried the Linksys-Setup-Wizard 2.0 which is similair to the earlier Auto Update Utilities from Linksys.&nbsp; &nbsp; This also failed givig me the error message:&nbsp; &nbsp;Invalid Password. </p><p><a href="ftp://ftp.linksys.com/pub/network/WPS54G-Setup-Wizard-2.0.zip">ftp://ftp.linksys.com/pub/network/WPS54 … rd-2.0.zip</a></p><p>I believe I am receiving the invalid password because my NVRAM is not giving me the time to flash it.&nbsp; This is probably happening because I have never set my boot-wait to ON.&nbsp; &nbsp; </p><p>Can someone tell me if I am screwed?</p>											<p class="post-edited">(Last edited by <strong>5t3v3</strong> on 3 Feb 2006, 04:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20107">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">dl</div>
					<div class="post-datetime">
						3 Feb 2006, 08:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>5t3v3 wrote:</cite><blockquote><p>After following these instructions to short ping 15-16 I was able to revive my router to at least respond to my ping.</p><p>The instructions told me to power-cycle my Linksys to TFTP the HyperWRT.bin file to it.</p></blockquote></div><p>Power cycling undoes the pin short method. You should have just tftp&#039;d after getting a ping response. The instructions were for using the boot_wait method.</p><p>- DL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20119">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">5t3v3</div>
					<div class="post-datetime">
						3 Feb 2006, 14:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dl wrote:</cite><blockquote><div class="quotebox"><cite>5t3v3 wrote:</cite><blockquote><p>After following these instructions to short ping 15-16 I was able to revive my router to at least respond to my ping.</p><p>The instructions told me to power-cycle my Linksys to TFTP the HyperWRT.bin file to it.</p></blockquote></div><p>Power cycling undoes the pin short method. You should have just tftp&#039;d after getting a ping response. The instructions were for using the boot_wait method.</p><p>- DL</p></blockquote></div><p>Thanks for the response dl.&nbsp; &nbsp; Yes, I tried the TFTP right after the pin shorting.&nbsp; &nbsp; This game me the error:</p><p>&gt; Error on server: Invalid Password!!</p><p>So I power cycled and again received the same error.</p><p>I’ve shorted pin 15-16 multiple times but was still unable to apply the firmare.</p><p>Is this because I have not set my boot-wait to on?&nbsp; &nbsp; If my boot-wait in NVRAM is currently set to off,&nbsp; am I bricked for life?</p><p>Btw, in case someone is reading this who has done the same thing I have,&nbsp; &nbsp; there is discussion about shorting out pin 5-6 instead of 15-16 on WRT54GS v4.0 routers.&nbsp; &nbsp; I tried this but found it didn’t result in anything.&nbsp; &nbsp; &nbsp;Pin 15-16 always allowed me to receive at least a ping from the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20765">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">greywulf</div>
					<div class="post-datetime">
						13 Feb 2006, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>Did you try it with the windows-upgrade-tool (&quot;Upgrade Firmware Version 1.255&quot;-tftp-tool) and password &quot;admin&quot;.<br />I had similar problems and was able to flash firmware &quot;WRT54GSV4_1.05.2_US_code.bin&quot;.<br />A Ping to 192.168.1.1 should work (after shorting pins 15 to 16) before you try to transfer the image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22839">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Craven</div>
					<div class="post-datetime">
						14 Mar 2006, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>What are pins 15 and 16?&nbsp; Which WRTxxx devices does this apply to, or more precisely, which flash chips does this apply to?&nbsp; I have the datasheets for most Intel flash devices and am curious.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22869">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">greywulf</div>
					<div class="post-datetime">
						15 Mar 2006, 09:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Craven wrote:</cite><blockquote><p>What are pins 15 and 16?&nbsp; Which WRTxxx devices does this apply to, or more precisely, which flash chips does this apply to?&nbsp; I have the datasheets for most Intel flash devices and am curious.</p></blockquote></div><p>Have a look at the following link which helped me solving my problem: <a href="http://voidmain.is-a-geek.net:81/redhat/wrt54g_revival.html">http://voidmain.is-a-geek.net:81/redhat … vival.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22879">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Craven</div>
					<div class="post-datetime">
						15 Mar 2006, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, but that doesn&#039;t answer my question.&nbsp; Void Main&#039;s page doesn&#039;t say exactly what flash device is in his WRT54G v1.1, and the <a href="http://www.linksysinfo.org/modules.php?name=Content&amp;pa=showpage&amp;pid=6">inksysinfo autopsy page</a> doesn&#039;t say either.&nbsp; He says the same technique works for WRT54G v1.0 and 2.0, but the linksysinfo page says those models have different flash devices.&nbsp; Unless the pinouts are the same for all 3 flash chips I find it hard to believe.&nbsp; They <em>might</em> be the same, I&#039;m not saying it&#039;s impossible, but I&#039;d want to know for sure before trying it.&nbsp; Knowing the flash device part number would let me cross-reference the pins.</p><p>I guess I should ask him <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; Glad you got yours working again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51814">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">radnak</div>
					<div class="post-datetime">
						4 Jul 2007, 15:37					</div>
				</div>
				<div class="post-content content">
					<p>Folks,</p><p>I don&#039;t know if this will help at all, but I got my router (WRT54GL v 1.1) unbricked by doing the following:</p><p>1.&nbsp; Open the case<br />2.&nbsp; Short contacts 35 and 36 - this got my ping replys back<br />3.&nbsp; Short contacts 15 and 16 - this got my tftp response back<br />4.&nbsp; TFTP the original firmware back on.<br />5.&nbsp; After the tftp load, power cycle.<br />6.&nbsp; Log in via www management page</p><p>I know there is no documentation out there about pins 35 and 36 working to unbrick a unit but nothing else worked for me to actually get a response back on the unit.&nbsp; I shorted pin 15 and 16 all day long with no response and getting no closer to solving my problem until I accidentally shorted the opposite side of the corresponding pins on the chip.&nbsp; Oh, I did this with the power on as well.&nbsp; It would not work otherwise.</p><p>I hope this helps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70675">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jwaggz82</div>
					<div class="post-datetime">
						9 Jul 2008, 06:02					</div>
				</div>
				<div class="post-content content">
					<p>Ok I had to reigster on this forum because there are so many people in this situation and I really thought I had no chance.&nbsp; I have the wrt54g v8 and was able to get a bricked unit (one that had no ping at all and a dim power light) and made it work.</p><p>Steps:<br />set a static address to whatever subnet your router was on before it got bricked.&nbsp; Default is 192.168.1.1 but mine was 192.168.141.1 - So I set my static address on my laptop to 192.168.141.2 but could have choosed a range of numbers becides .2<br />Now hold a constant ping to your router.&nbsp; IF your router was 141.1 like mine you would type: ping -t 192.168.141.1<br />Now open up your router by flipping it over and using your thumbs to push the blue part off.&nbsp; There are no screws so it should just pop off.<br />Remove the main board from the other piece of plastic an put it in your lap (like i have it in the picture).<br />Connect your ethernet wire from your router to your computer and make sure you started that constant ping because that is what will tell you when you have shorted the right jumpers.<br />Now plug your router in and look at the picture I took.&nbsp; Right where I am pointing there is a chip that has pins on it.&nbsp; I dont know which pins I connected but it was somewhere in the middle 1/3rd area.&nbsp; I tried 5 times over and over - took a break - went back at it again ... till I found out which pins made my ping start up.&nbsp; Once I found that I was able to force it to ping (you have to keep the paperclip or small screwdriver on the pins for it to keep pinging).&nbsp; Then i launched a pre-setup tftp string that I had waiting in another command window.<br />Well I just wanted to post this because some people were saying that 80% of the people ruin their units doing this ..etc etc etc ... well I missed the pins and was trying all kinds of pins ...and it worked for me.</p><p>The goal is to get a ping and tftp the .bin flash while the router has a ping.&nbsp; Then when its done w/ the tftp you reboot and your done.</p><p><a href="http://www.detailedhosting.com/users/wrt54g/wrt54g.jpg">http://www.detailedhosting.com/users/wrt54g/wrt54g.jpg</a> </p><p>all those posts saying how this can not be done on newer models ....well ... I did it on the v8 - I wish I knew the pins but I got flustered after a while and started touching a bunch of the middle pins in groups of 3 at one point.&nbsp; Maybe I got lucky and didnt fry the unit doing that but the amount of pin combos i tried ...it cant be that easy to fry it.&nbsp; Just use a small screwdriver that cant fit over more then a few pins.&nbsp; I would assume that the more pins you grounded out at the same time the more of a chance you would fry it.&nbsp; I am a network admin and not in any way a technology guy who is into messing with boards - but i had to try this because doing a hard reset 10 times did not do anything - the unit was truely bricked.</p>											<p class="post-edited">(Last edited by <strong>jwaggz82</strong> on 9 Jul 2008, 17:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p137638">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">sz_j1991</div>
					<div class="post-datetime">
						22 Jun 2011, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone,<br />I have WR841 Router, and meanwhile I updating the firmware the electricity got cut off and then when I accessed the RS232 with the cable it booted, I tried to write a flash on the address of the firmware but ever since it didn’t boot and I bought a WR1043 instead and I tried to write a firmware on the WR841 flash but I don’t know exactly its address, and this is what I got:<br />erase 0xbf020000 +7c0000<br />tftpboot 0x81000000 code.bin<br />cp.b 0x81000000 0xbf020000 0x7c0000<br />So I thought of doing this, while it was working or on function, I dispatched the flash for the WR1043 and I’ve installed it on the WR841, I managed to write the WR841 and the file on the flash (wr841n_en_3_4_5_up_boot(090226) but it doesn’t boot because I wrote it on the wrong address, the file includes the boot sector (U-BOOT 1.1.4 feb 6 2009). So on what kind of address do I have to write it, can anyone help me out?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>