<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Alix Usb ohci 1.0 , ehci 2.0 ext2 image. atheros cards</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p77318">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">daxroc</div>
					<div class="post-datetime">
						1 Dec 2008, 01:03					</div>
				</div>
				<div class="post-content content">
					<p>Hello </p><p>I have been trying all weekend to get usb working on my alix 2 tiny bios v.99 board ( 256mb , LX700 , 2xUSB 2x MiniPci).</p><p>The problem does not exsist using squashfs image of my own build or the stable build on the x86 download but is persistent through the x86 ext2 stable image from the download page and my own custom builds. </p><p>Any help would be greatly appreciated .. </p><p>lspci -v</p><p>00:01.0 Host bridge: Advanced Micro Devices [AMD] CS5536 [Geode companion] Host Bridge (rev 33)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] Host Bridge<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, 66MHz, medium devsel, latency 248<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at ac1c [size=4]</p><p>00:01.2 Entertainment encryption device: Advanced Micro Devices [AMD] Geode LX AES Security Block<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Advanced Micro Devices [AMD] Geode LX AES Security Block<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 9<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at efff4000 (32-bit, non-prefetchable) [size=16K]</p><p>00:09.0 Ethernet controller: VIA Technologies, Inc. VT6105M [Rhine-III] (rev 96)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: VIA Technologies, Inc. Device 0106<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, stepping, medium devsel, latency 64, IRQ 10<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 1000 [size=256]<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at e0000000 (32-bit, non-prefetchable) [size=256]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [40] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; Kernel driver in use: via-rhine</p><p>00:0b.0 Ethernet controller: VIA Technologies, Inc. VT6105M [Rhine-III] (rev 96)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: VIA Technologies, Inc. Device 0106<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, stepping, medium devsel, latency 64, IRQ 12<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 1400 [size=256]<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at e0040000 (32-bit, non-prefetchable) [size=256]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [40] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; Kernel driver in use: via-rhine</p><p>00:0c.0 Ethernet controller: Atheros Communications, Inc. AR5006X 802.11abg NIC (rev 01)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Atheros Communications, Inc. EnGenius EMP-8602 (400mw) or Compex WLM54AG (SuperAG)<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, medium devsel, latency 168, IRQ 9<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at e0080000 (32-bit, non-prefetchable) [size=64K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [44] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; Kernel driver in use: ath5k</p><p>00:0e.0 Ethernet controller: Atheros Communications, Inc. AR5006X 802.11abg NIC (rev 01)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Atheros Communications, Inc. EnGenius EMP-8602 (400mw) or Compex WLM54AG (SuperAG)<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, medium devsel, latency 168, IRQ 11<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at e00c0000 (32-bit, non-prefetchable) [size=64K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [44] Power Management version 2<br />&nbsp; &nbsp; &nbsp; &nbsp; Kernel driver in use: ath5k</p><p>00:0f.0 ISA bridge: Advanced Micro Devices [AMD] CS5536 [Geode companion] ISA (rev 03)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] ISA<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: 66MHz, medium devsel<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 6000 [size=8]<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 6100 [size=256]<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 6200 [size=64]<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at &lt;unassigned&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 9d00 [size=128]<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at 9c00 [size=64]</p><p>00:0f.2 IDE interface: Advanced Micro Devices [AMD] CS5536 [Geode companion] IDE (rev 01) (prog-if 80 [Mas)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] IDE<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: bus master, 66MHz, medium devsel, latency 248<br />&nbsp; &nbsp; &nbsp; &nbsp; [virtual] Memory at 000001f0 (32-bit, non-prefetchable) [disabled] [size=8]<br />&nbsp; &nbsp; &nbsp; &nbsp; [virtual] Memory at 000003f0 (type 3, non-prefetchable) [disabled] [size=1]<br />&nbsp; &nbsp; &nbsp; &nbsp; [virtual] Memory at 00000170 (32-bit, non-prefetchable) [disabled] [size=8]<br />&nbsp; &nbsp; &nbsp; &nbsp; [virtual] Memory at 00000370 (type 3, non-prefetchable) [disabled] [size=1]<br />&nbsp; &nbsp; &nbsp; &nbsp; I/O ports at ff00 [size=16]</p><p>00:0f.4 USB Controller: Advanced Micro Devices [AMD] CS5536 [Geode companion] OHC (rev 02) (prog-if 10 [OH)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] OHC<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: 66MHz, medium devsel, IRQ 15<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at efffe000 (32-bit, non-prefetchable) [size=4K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [40] Power Management version 2</p><p>00:0f.5 USB Controller: Advanced Micro Devices [AMD] CS5536 [Geode companion] EHC (rev 02) (prog-if 20 [EH)<br />&nbsp; &nbsp; &nbsp; &nbsp; Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] EHC<br />&nbsp; &nbsp; &nbsp; &nbsp; Flags: 66MHz, medium devsel, IRQ 15<br />&nbsp; &nbsp; &nbsp; &nbsp; Memory at efffd000 (32-bit, non-prefetchable) [size=4K]<br />&nbsp; &nbsp; &nbsp; &nbsp; Capabilities: [40] Power Management version 2<br />________________________________________</p><p>dmesg</p><p>Linux version 2.6.27.7 (dax@dax-laptop) (gcc version 4.1.2) #6 SMP Sun Nov 30 20:52:24 GMT 2008<br />PAT not supported by CPU.<br />BIOS-provided physical RAM map:<br /> BIOS-e820: 0000000000000000 - 00000000000a0000 (usable)<br /> BIOS-e820: 00000000000f0000 - 0000000000100000 (reserved)<br /> BIOS-e820: 0000000000100000 - 0000000010000000 (usable)<br /> BIOS-e820: 00000000fff00000 - 0000000100000000 (reserved)<br />DMI not present or invalid.<br />last_pfn = 0x10000 max_arch_pfn = 0x100000<br />kernel direct mapping tables up to 10000000 @ 7000-c000<br />256MB LOWMEM available.<br />&nbsp; mapped low ram: 0 - 10000000<br />&nbsp; low ram: 00000000 - 10000000<br />&nbsp; bootmap 00002000 - 00004000<br />(8 early reservations) ==&gt; bootmem [0000000000 - 0010000000]<br />&nbsp; #0 [0000000000 - 0000001000]&nbsp; &nbsp;BIOS data page ==&gt; [0000000000 - 0000001000]<br />&nbsp; #1 [0000001000 - 0000002000]&nbsp; &nbsp; EX TRAMPOLINE ==&gt; [0000001000 - 0000002000]<br />&nbsp; #2 [0000006000 - 0000007000]&nbsp; &nbsp; &nbsp; &nbsp;TRAMPOLINE ==&gt; [0000006000 - 0000007000]<br />&nbsp; #3 [0000100000 - 000037c490]&nbsp; &nbsp; TEXT DATA BSS ==&gt; [0000100000 - 000037c490]<br />&nbsp; #4 [000037d000 - 000037f000]&nbsp; &nbsp; INIT_PG_TABLE ==&gt; [000037d000 - 000037f000]<br />&nbsp; #5 [000009f000 - 0000100000]&nbsp; &nbsp; BIOS reserved ==&gt; [000009f000 - 0000100000]<br />&nbsp; #6 [0000007000 - 0000008000]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PGTABLE ==&gt; [0000007000 - 0000008000]<br />&nbsp; #7 [0000002000 - 0000004000]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BOOTMAP ==&gt; [0000002000 - 0000004000]<br />Zone PFN ranges:<br />&nbsp; DMA&nbsp; &nbsp; &nbsp; 0x00000000 -&gt; 0x00001000<br />&nbsp; Normal&nbsp; &nbsp;0x00001000 -&gt; 0x00010000<br />Movable zone start PFN for each node<br />early_node_map[2] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x000000a0<br />&nbsp; &nbsp; 0: 0x00000100 -&gt; 0x00010000<br />On node 0 totalpages: 65440<br />free_area_init_node: node 0, pgdat c02fed80, node_mem_map c1000000<br />&nbsp; DMA zone: 3968 pages, LIFO batch:0<br />&nbsp; Normal zone: 60960 pages, LIFO batch:15<br />No local APIC present or hardware disabled<br />mapped APIC to ffffb000 (01201000)<br />Allocating PCI resources starting at 20000000 (gap: 10000000:eff00000)<br />PERCPU: Allocating 36636 bytes of per cpu data<br />NR_CPUS: 8, nr_cpu_ids: 8, nr_node_ids 1<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 64928<br />Kernel command line: root=/dev/hda2 rootfstype=ext2 init=/etc/preinit&nbsp; noinitrd console=tty0 console=ttyS0,38400n8 reboot=bios<br />Initializing CPU#0<br />CPU 0 irqstacks, hard=c0351000 soft=c0349000<br />PID hash table entries: 1024 (order: 10, 4096 bytes)<br />TSC: Using PIT calibration value<br />Detected 498.049 MHz processor.<br />Console: colour dummy device 80x25<br />console [tty0] enabled<br />console [ttyS0] enabled<br />Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)<br />Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)<br />Memory: 256752k/262144k available (1494k kernel code, 4872k reserved, 608k data, 204k init, 0k highmem)<br />virtual kernel memory layout:<br />&nbsp; &nbsp; fixmap&nbsp; : 0xfffb9000 - 0xfffff000&nbsp; &nbsp;( 280 kB)<br />&nbsp; &nbsp; vmalloc : 0xd0800000 - 0xfffb7000&nbsp; &nbsp;( 759 MB)<br />&nbsp; &nbsp; lowmem&nbsp; : 0xc0000000 - 0xd0000000&nbsp; &nbsp;( 256 MB)<br />&nbsp; &nbsp; &nbsp; .init : 0xc0313000 - 0xc0346000&nbsp; &nbsp;( 204 kB)<br />&nbsp; &nbsp; &nbsp; .data : 0xc0275ac1 - 0xc030dcfc&nbsp; &nbsp;( 608 kB)<br />&nbsp; &nbsp; &nbsp; .text : 0xc0100000 - 0xc0275ac1&nbsp; &nbsp;(1494 kB)<br />Checking if this processor honours the WP bit even in supervisor mode...Ok.<br />CPA: page pool initialized 1 of 1 pages preallocated<br />Calibrating delay loop (skipped), value calculated using timer frequency.. 996.09 BogoMIPS (lpj=4980490)<br />Mount-cache hash table entries: 512<br />CPU: L1 I Cache: 64K (32 bytes/line), D cache 64K (32 bytes/line)<br />CPU: L2 Cache: 128K (32 bytes/line)<br />Checking &#039;hlt&#039; instruction... OK.<br />Checking for popad bug... OK.<br />SMP alternatives: switching to UP code<br />Freeing SMP alternatives: 15k freed<br />weird, boot CPU (#0) not listedby the BIOS.<br />SMP motherboard not detected.<br />Local APIC not detected. Using dummy APIC emulation.<br />SMP disabled<br />Brought up 1 CPUs<br />Total of 1 processors activated (996.09 BogoMIPS).<br />net_namespace: 600 bytes<br />NET: Registered protocol family 16<br />PCI: PCI BIOS revision 2.10 entry at 0xfcd03, last bus=0<br />PCI: Using configuration type 1 for base access<br />Linux Plug and Play Support v0.97 (c) Adam Belay<br />PCI: Probing PCI hardware<br />PCI: Probing PCI hardware (bus 00)<br />PCI: 0000:00:01.0 reg 10 io port: [ac1c, ac1f]<br />PCI: 0000:00:01.2 reg 10 32bit mmio: [efff4000, efff7fff]<br />PCI: 0000:00:09.0 reg 10 io port: [1000, 10ff]<br />PCI: 0000:00:09.0 reg 14 32bit mmio: [e0000000, e00000ff]<br />pci 0000:00:09.0: supports D1<br />pci 0000:00:09.0: supports D2<br />pci 0000:00:09.0: PME# supported from D0 D1 D2 D3hot D3cold<br />pci 0000:00:09.0: PME# disabled<br />PCI: 0000:00:0b.0 reg 10 io port: [1400, 14ff]<br />PCI: 0000:00:0b.0 reg 14 32bit mmio: [e0040000, e00400ff]<br />pci 0000:00:0b.0: supports D1<br />pci 0000:00:0b.0: supports D2<br />pci 0000:00:0b.0: PME# supported from D0 D1 D2 D3hot D3cold<br />pci 0000:00:0b.0: PME# disabled<br />PCI: 0000:00:0c.0 reg 10 32bit mmio: [e0080000, e008ffff]<br />PCI: 0000:00:0e.0 reg 10 32bit mmio: [e00c0000, e00cffff]<br />PCI: 0000:00:0f.0 reg 10 io port: [6000, 6007]<br />PCI: 0000:00:0f.0 reg 14 io port: [6100, 61ff]<br />PCI: 0000:00:0f.0 reg 18 io port: [6200, 623f]<br />PCI: 0000:00:0f.0 reg 20 io port: [9d00, 9d7f]<br />PCI: 0000:00:0f.0 reg 24 io port: [9c00, 9c3f]<br />PCI: 0000:00:0f.2 reg 20 io port: [ff00, ff0f]<br />PCI: 0000:00:0f.4 reg 10 32bit mmio: [efffe000, efffefff]<br />pci 0000:00:0f.4: PME# supported from D0 D3hot D3cold<br />pci 0000:00:0f.4: PME# disabled<br />PCI: 0000:00:0f.5 reg 10 32bit mmio: [efffd000, efffdfff]<br />pci 0000:00:0f.5: PME# supported from D0 D3hot D3cold<br />pci 0000:00:0f.5: PME# disabled<br />bus: 00 index 0 io port: [0, ffff]<br />bus: 00 index 1 mmio: [0, ffffffff]<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP established hash table entries: 8192 (order: 4, 65536 bytes)<br />TCP bind hash table entries: 8192 (order: 4, 65536 bytes)<br />TCP: Hash tables configured (established 8192 bind 8192)<br />TCP reno registered<br />NET: Registered protocol family 1<br />platform rtc_cmos: registered platform RTC device (no PNP device found)<br />IA-32 Microcode Update Driver: v1.14a &lt;tigran@aivazian.fsnet.co.uk&gt;<br />microcode: CPU0 not a capable Intel processor<br />scx200: NatSemi SCx200 Driver<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; Ã‚Â© 2001-2006 Red Hat, Inc.<br />msgmni has been set to 501<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />isapnp: Scanning for PnP cards...<br />isapnp: No Plug &amp; Play device found<br />Real Time Clock Driver v1.12ac<br />Non-volatile memory driver v1.2<br />AMD Geode RNG detected<br />Serial: 8250/16550 driver2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A<br />Uniform Multi-Platform E-IDE driver<br />ide_generic: please use &quot;probe_mask=0x3f&quot; module parameter for probing all legacy ISA IDE ports<br />Probing IDE interface ide0...<br />hda: LEXAR ATA FLASH CARD, CFA DISK drive<br />Probing IDE interface ide1...<br />ide0 at 0x1f0-0x1f7,0x3f6 on irq 14<br />ide1 at 0x170-0x177,0x376 on irq 15<br />hda: max request size: 128KiB<br />hda: 7831152 sectors (4009 MB) w/1KiB Cache, CHS=7769/16/63<br /> hda: hda1 hda2<br />PNP: No PS/2 controller found. Probing ports directly.<br />i8042.c: No controller found.<br />mice: PS/2 mouse device common for all mice<br />TCP vegas registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />Using IPI Shortcut mode<br />VFS: Mounted root (ext2 filesystem) readonly.<br />Freeing unused kernel memory: 204k freed<br />Please be patient, while OpenWrt loads ...<br />EXT2-fs warning: mounting unchecked fs, running e2fsck is recommended<br />cfg80211: Using static regulatory domain info<br />cfg80211: Regulatory domain: US<br />&nbsp; &nbsp; (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />&nbsp; &nbsp; (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)<br />&nbsp; &nbsp; (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)<br />&nbsp; &nbsp; (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)<br />&nbsp; &nbsp; (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)<br />&nbsp; &nbsp; (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)<br />&nbsp; &nbsp; (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)<br />cfg80211: Calling CRDA for country: US<br />SCSI subsystem initialized<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />ath5k 0000:00:0c.0: registered as &#039;phy0&#039;<br />phy0: Selected rate control algorithm &#039;minstrel&#039;<br />ath5k phy0: Atheros AR5414 chip found (MAC: 0xa5, PHY: 0x61)<br />ath5k 0000:00:0e.0: registered as &#039;phy1&#039;<br />phy1: Selected rate control algorithm &#039;minstrel&#039;<br />ath5k phy1: Atheros AR5414 chip found (MAC: 0xa5, PHY: 0x61)<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />Driver &#039;sd&#039; needs updating - please use bus_type methods<br />ehci_hcd 0000:00:0f.5: setting latency timer to 64<br />ehci_hcd 0000:00:0f.5: EHCI Host Controller<br />ehci_hcd 0000:00:0f.5: new USB bus registered, assigned bus number 1<br />ehci_hcd 0000:00:0f.5: request interrupt 15 failed<br />ehci_hcd 0000:00:0f.5: USB bus 1 deregistered<br />ehci_hcd 0000:00:0f.5: init 0000:00:0f.5 fail, -16<br />ehci_hcd: probe of 0000:00:0f.5 failed with error -16<br />nf_conntrack version 0.5.0 (4096 buckets, 16384 max)<br />CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Plase use<br />nf_conntrack.acct=1 kernel paramater, acct=1 nf_conntrack module option or<br />sysctl net.netfilter.nf_conntrack_acct=1 to enable it.<br />Registered led device: alix:1<br />Registered led device: alix:2<br />Registered led device: alix:3<br />ohci_hcd: 2006 August 04 USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />ohci_hcd 0000:00:0f.4: setting latency timer to 64<br />ohci_hcd 0000:00:0f.4: OHCI Host Controller<br />ohci_hcd 0000:00:0f.4: new USB bus registered, assigned bus number 1<br />ohci_hcd 0000:00:0f.4: request interrupt 15 failed<br />ohci_hcd 0000:00:0f.4: USB bus 1 deregistered<br />ohci_hcd 0000:00:0f.4: init 0000:00:0f.4 fail, -16<br />ohci_hcd: probe of 0000:00:0f.4 failed with error -16<br />USB Universal Host Controller Interface driver v3.0<br />via-rhine.c:v1.10-LK1.4.3 2007-03-06 Written by Donald Becker<br />via-rhine 0000:00:09.0: setting latency timer to 64<br />eth0: VIA Rhine III (Management Adapter) at 0xe0000000, 00:0d:b9:15:cb:e8, IRQ 10.<br />eth0: MII PHY found at address 1, status 0x7869 advertising 05e1 Link 4de1.<br />via-rhine 0000:00:0b.0: setting latency timer to 64<br />eth1: VIA Rhine III (Management Adapter) at 0xe0040000, 00:0d:b9:15:cb:e9, IRQ 12.<br />eth1: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.<br />Initializing USB Mass Storage driver...<br />usbcore: registered new interface driver usb-storage<br />USB Mass Storage support registered.<br />Bluetooth: Core ver 2.13<br />NET: Registered protocol family 31<br />Bluetooth: HCI device and connection manager initialized<br />Bluetooth: HCI socket layer initialized<br />Bluetooth: L2CAP ver 2.11<br />Bluetooth: L2CAP socket layer initialized<br />Clocksource tsc unstable (delta = 80003972 ns)<br />Bluetooth: SCO (Voice Link) ver 0.6<br />Bluetooth: SCO socket layer initialized<br />Bluetooth: RFCOMM socket layer initialized<br />Bluetooth: RFCOMM TTY layer initialized<br />Bluetooth: RFCOMM ver 1.10<br />Bluetooth: BNEP (Ethernet Emulation) ver 1.3<br />Bluetooth: BNEP filters: protocol multicast<br />Bluetooth: HCI UART driver ver 2.2<br />Bluetooth: HCI H4 protocol initialized<br />Bluetooth: HCI BCSP protocol initialized<br />eth0: link up, 100Mbps, full-duplex, lpa 0x4DE1<br />Bluetooth: HCI USB driver ver 2.10<br />usbcore: registered new interface driver hci_usb<br />br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.<br />device eth0 entered promiscuous mode<br />br-lan: topology change detected, propagating<br />br-lan: port 1(eth0) entering forwarding state<br />br-lan: port 1(eth0) entering disabled state<br />br-lan: topology change detected, propagating<br />br-lan: port 1(eth0) entering forwarding state</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77355">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lgvienna</div>
					<div class="post-datetime">
						1 Dec 2008, 15:46					</div>
				</div>
				<div class="post-content content">
					<p>EDIT3: i was confused :-)</p><p>my alix works fine with kmod-usb-core, -ohci, -hid, -serial, -storage<br />and kmod-usb2 using kamikaze 8.09RC1 svn13305, x86-2.6 on alix 3d3.</p><p>hope this is any help</p><div class="codebox"><pre><code>ohci_hcd: 2006 August 04 USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
PCI: Setting latency timer of device 0000:00:0f.4 to 64
ohci_hcd 0000:00:0f.4: OHCI Host Controller
ohci_hcd 0000:00:0f.4: new USB bus registered, assigned bus number 1
ohci_hcd 0000:00:0f.4: irq 5, io mem 0xefffe000
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 4 ports detected
PCI: Setting latency timer of device 0000:00:0f.5 to 64
ehci_hcd 0000:00:0f.5: EHCI Host Controller
ehci_hcd 0000:00:0f.5: new USB bus registered, assigned bus number 2
ehci_hcd 0000:00:0f.5: irq 5, io mem 0xefffd000
ehci_hcd 0000:00:0f.5: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 4 ports detected</code></pre></div><div class="codebox"><pre><code>00:0f.4 USB Controller: Advanced Micro Devices [AMD] CS5536 [Geode companion] OHC (rev 02) (prog-if 10 [OHCI])
    Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] OHC
    Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 5
    Memory at efffe000 (32-bit, non-prefetchable) [size=4K]
    Capabilities: [40] Power Management version 2
    Kernel driver in use: ohci_hcd

00:0f.5 USB Controller: Advanced Micro Devices [AMD] CS5536 [Geode companion] EHC (rev 02) (prog-if 20 [EHCI])
    Subsystem: Advanced Micro Devices [AMD] CS5536 [Geode companion] EHC
    Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 5
    Memory at efffd000 (32-bit, non-prefetchable) [size=4K]
    Capabilities: [40] Power Management version 2
    Kernel driver in use: ehci_hcd</code></pre></div>											<p class="post-edited">(Last edited by <strong>lgvienna</strong> on 1 Dec 2008, 16:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79184">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gryphius</div>
					<div class="post-datetime">
						7 Jan 2009, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>How exactly did you solve this? <br />I have enabled the modules as you suggested, but still getting that error</p><p>My system is a alix 6b2<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# dmesg | grep hci
ehci_hcd 0000:00:0f.5: setting latency timer to 64
ehci_hcd 0000:00:0f.5: EHCI Host Controller
ehci_hcd 0000:00:0f.5: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:0f.5: request interrupt 15 failed
ehci_hcd 0000:00:0f.5: USB bus 1 deregistered
ehci_hcd 0000:00:0f.5: init 0000:00:0f.5 fail, -16
ehci_hcd: probe of 0000:00:0f.5 failed with error -16
ohci_hcd: 2006 August 04 USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
ohci_hcd 0000:00:0f.4: setting latency timer to 64
ohci_hcd 0000:00:0f.4: OHCI Host Controller
ohci_hcd 0000:00:0f.4: new USB bus registered, assigned bus number 1
ohci_hcd 0000:00:0f.4: request interrupt 15 failed
ohci_hcd 0000:00:0f.4: USB bus 1 deregistered
ohci_hcd 0000:00:0f.4: init 0000:00:0f.4 fail, -16
ohci_hcd: probe of 0000:00:0f.4 failed with error -16</code></pre></div><p>Edit:<br />The problem seems to be caused by ide_generic blocking irq15?</p><div class="codebox"><pre><code>ide_generic: please use &quot;probe_mask=0x3f&quot; module parameter for probing all legacy ISA IDE ports
Probing IDE interface ide0...
Probing IDE interface ide1...
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/interrupts 
           CPU0       
  0:     158288    XT-PIC-XT        timer
  2:          0    XT-PIC-XT        cascade
  4:          9    XT-PIC-XT        serial
  8:          0    XT-PIC-XT        rtc
  9:          0    XT-PIC-XT        wifi0
 10:        946    XT-PIC-XT        eth0
 11:        147    XT-PIC-XT        eth1
 14:       7562    XT-PIC-XT        ide0
 15:          0    XT-PIC-XT        ide1
NMI:          0   Non-maskable interrupts
LOC:          0   Local timer interrupts
RES:          0   Rescheduling interrupts
CAL:          0   function call interrupts
TLB:          0   TLB shootdowns
TRM:          0   Thermal event interrupts
SPU:          0   Spurious interrupts
ERR:          0
MIS:          0</code></pre></div><p>Does anyone have a hint how I could solve this conflict?</p>											<p class="post-edited">(Last edited by <strong>gryphius</strong> on 7 Jan 2009, 18:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79284">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lgvienna</div>
					<div class="post-datetime">
						8 Jan 2009, 15:36					</div>
				</div>
				<div class="post-content content">
					<p>i never had this problem. but i will do another build tomorrow and then compare the output.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79299">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						8 Jan 2009, 20:09					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem with IDE IRQ 15 conflicting with USB. USB consequently does not work.&nbsp; I just did a build on Jan 7 with the latest trunk.&nbsp; <br />On the web someone suggested removing hardware clock&nbsp; support from the kernel. I will also try toggling the MFPGT&nbsp; in the BIOS and see if that makes a difference</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79355">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						9 Jan 2009, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>I emailed PCEngines about this and they suggested that I try upgrading to the latest BIOS v0.99h (Tiny Bios) - this BIOS is NOT the right one for 3c3 cards - so be careful. Apparently they made the fix for Mikrotik&nbsp; which also&nbsp; had an IRQ conflict between USB and IDE. <br />I am going to try that. I need to get a new CF and put freeDos on it -&nbsp; I couldn&#039;t upgrade the BIOS with the existing squashfs CF.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79357">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">gryphius</div>
					<div class="post-datetime">
						9 Jan 2009, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>I needed that box to be running very quickly, so I installed <a href="http://linux.voyage.hk/">voyage linux</a> as a workaround. It seems to probe only one ide port leaving irq 15 free, usb works fine</p><div class="codebox"><pre><code>dmesg | grep ide
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
    ide0: BM-DMA at 0xff00-0xff07
Probing IDE interface ide0...
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14</code></pre></div><div class="codebox"><pre><code>voyage:~# cat /proc/interrupts 
           CPU0       
  0:         85    XT-PIC-XT        timer
  2:          0    XT-PIC-XT        cascade
  4:        353    XT-PIC-XT        serial
  7:   25170524    XT-PIC-XT        mfgpt-timer
  9:     438578    XT-PIC-XT        wifi0
 11:          0    XT-PIC-XT        eth1
 14:       1205    XT-PIC-XT        ide0
 15:       3420    XT-PIC-XT        ohci_hcd:usb1, ehci_hcd:usb2
NMI:          0   Non-maskable interrupts
LOC:          0   Local timer interrupts
TRM:          0   Thermal event interrupts
SPU:          0   Spurious interrupts
ERR:          0
MIS:          0</code></pre></div><p>@snowyowlster: Good luck with the bios update ;-) - pls let us know if it helped</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79364">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sbrown</div>
					<div class="post-datetime">
						9 Jan 2009, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>I had the same problem and used the following boot option to avoid probing ide1.</p><p>CONFIG_X86_GRUB_BOOTOPTS=&quot;init=/etc/preinit ide_generic.probe_mask=0x01&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79451">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						10 Jan 2009, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>Great. <br />The updated BIOS (0.99h) did fix the USB problem and now I do have USB working. <br />However updating the BIOS was a pain and I had to use the Compact Flash&nbsp; LBA method. Which requires a Windows Machine also. <br />So I guess setting the Kernel build option is a better way to go - Perhaps sbrown could add it the AlixPort wiki</p><p>Cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141756">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">esplinter</div>
					<div class="post-datetime">
						20 Aug 2011, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>I know this is an old post but in case it is useful for anyone:</p><p>usb in my alix2d3 with bios v0.99h is working great with this installed packages:</p><p>kmod-usb-core - 2.6.32.27-1<br />kmod-usb-hid - 2.6.32.27-1<br />kmod-usb-ohci - 2.6.32.27-1<br />kmod-usb-serial - 2.6.32.27-1<br />kmod-usb-storage - 2.6.32.27-1<br />kmod-usb-storage-extras - 2.6.32.27-1<br />kmod-usb2 - 2.6.32.27-1</p><br /><p>I am running Backfire (10.03.1-RC5, r27608).</p>											<p class="post-edited">(Last edited by <strong>esplinter</strong> on 20 Aug 2011, 18:02)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>