<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> patch to create a /proc/sys/ciscobutton</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p17919">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">CodePoet82</div>
					<div class="post-datetime">
						28 Dec 2005, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve recieved a few emails asking if I could get this hack included into the official releases, though I&#039;ve no idea who I even need to talk with to find out about this. So I figure the best bet is just to post in here and hopefully someone who may be interested can pick it up and get it included.</p><p>This is a modified version of the source for diag.o (originally from WhiteRussian RC2) to make a /proc/sys/ciscobutton, identical to the /proc/sys/reset one. This also adds a 0x02 and 0x08 to /proc/sys/diag to turn the cisco button orange and/or white respectively. Sorry, don&#039;t have a .diff of this handy to provide. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Source:<br /><a href="http://www.intherack.com/random-stuff/diag_led.c">http://www.intherack.com/random-stuff/diag_led.c</a></p><p>-Kenneth Sanislo</p><br /><p>EDIT: Forgot to include....<br />If anyone wants a drop-in binary of the module to use, you can find it at:<br /><a href="http://www.intherack.com/random-stuff/diag.o">http://www.intherack.com/random-stuff/diag.o</a></p>											<p class="post-edited">(Last edited by <strong>CodePoet82</strong> on 28 Dec 2005, 23:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21844">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						1 Mar 2006, 20:20					</div>
				</div>
				<div class="post-content content">
					<p>Any feedback on if this got included or not?</p><p>I could definitely use this function for a current project.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21924">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jr</div>
					<div class="post-datetime">
						2 Mar 2006, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d like to see extra buttons/leds supported as well.</p><p>For example WRT54G3G uses following GPIOs:</p><p>Power and DMZ are same as on other Linksys WRT54G series devices.<br />3G/UMTS Connect/Disconnect button is same as Cisco-button on others.</p><p>There&#039;s two-color 3G/UMTS led and one GPIO that controls if it&#039;s blinking or not. See below for complete list.<br />gpio enable&nbsp; 1&nbsp; &nbsp; POWER LED ON<br />gpio disable 1&nbsp; &nbsp; POWER LED FLASH<br />gpio enable&nbsp; 2&nbsp; &nbsp; 3G/UMTS LED ON (GREEN)<br />gpio disable 2&nbsp; &nbsp; 3G/UMTS LED OFF<br />gpio enable&nbsp; 3&nbsp; &nbsp; 3G/UMTS LED ON (BLUE, overrides green)<br />gpio disable 3&nbsp; &nbsp; 3G/UMTS LED OFF<br />gpio enable&nbsp; 5&nbsp; &nbsp; 3G/UMTS BLINK ON<br />gpio disable 5&nbsp; &nbsp; 3G/UMTS BLINK OFF<br />gpio enable&nbsp; 7&nbsp; &nbsp; DMZ OFF<br />gpio disable 7&nbsp; &nbsp; DMZ ON</p><p>To make adding support easier here&#039;s nvram variables that could be perhaps used to detect when diag.o is loaded on WRT54G3G:<br />boardflags2=0<br />boardflags=0x0318<br />boardnum=42<br />boardrev=0x10<br />boardtype=0x0101</p><p>Also presence of PCI device 104c:ac56 (TI Cardbus controller) quite clear sign that it&#039;s WRT54G3G.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21929">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						2 Mar 2006, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>I just loaded &quot;nbd&quot; firmware from 2/19/2006, onto my WRTSL54GS</p><p>I see /proc/sys/reset and /proc/sys/diag</p><p>That 3G unit looks quite interesting. Removable antenna, sweet! Too bad it has to sacrifice USB port, and not available in US <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 2 Mar 2006, 22:13)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>