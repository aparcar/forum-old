<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Firmware update failed on WRT54GS-DE</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p4159">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">meinereinerseiner</div>
					<div class="post-datetime">
						26 Jan 2005, 20:56					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>I have a WRT54GS-DE with Linksys firmware 2.07.2.de,<br />hardware version 2.0, boot version 3.2.<br />I use the snapshot-20050126 file.<br />I set boot_wait to on.</p><p>both, netkit-tftp and atftp dont work:</p><p>jvc-tux wrt # tftp 192.168.1.1<br />tftp&gt; binary<br />tftp&gt; rexmt 1<br />tftp&gt; trace<br />Packet tracing on.<br />tftp&gt; put openwrt-gs-code.bin<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />received ACK &lt;block=0&gt;<br />tftp&gt; </p><p>jvc-tux wrt # atftp<br />tftp&gt; connect 192.168.1.1<br />tftp&gt; mode octet<br />tftp&gt; <br />tftp&gt; trace<br />Trace mode on.<br />tftp&gt; put openwrt-gs-code.bin<br />sent WRQ &lt;file: openwrt-gs-code.bin, mode: octet &lt;&gt;&gt;<br />timeout: retrying...<br />sent WRQ &lt;file: openwrt-gs-code.bin, mode: octet &lt;&gt;&gt;<br />timeout: retrying...<br />sent WRQ &lt;file: openwrt-gs-code.bin, mode: octet &lt;&gt;&gt;<br />received ACK &lt;block: 0&gt;<br />sent DATA &lt;block: 1, size: 512&gt;<br />received ACK &lt;block: 1&gt;<br />sent DATA &lt;block: 2, size: 512&gt;<br />received ACK &lt;block: 2&gt;<br />sent DATA &lt;block: 3, size: 512&gt;<br />received ACK &lt;block: 3&gt;<br />sent DATA &lt;block: 4, size: 512&gt;<br />received ACK &lt;block: 4&gt;<br />.<br />.<br />.<br />.<br />sent DATA &lt;block: 1644, size: 512&gt;<br />received ACK &lt;block: 1644&gt;<br />sent DATA &lt;block: 1645, size: 512&gt;<br />received ACK &lt;block: 1644&gt;<br />sent DATA &lt;block: 1645, size: 512&gt;<br />tftp: error received from server &lt;transfer cancelled&gt;<br />tftp: aborting</p><br /><p>where is my mistake?</p><p>thanks in advance<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p4165">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wbx</div>
					<div class="post-datetime">
						27 Jan 2005, 00:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>meinereinerseiner wrote:</cite><blockquote><p>hi,</p><p>I have a WRT54GS-DE with Linksys firmware 2.07.2.de,<br />hardware version 2.0, boot version 3.2.<br />I use the snapshot-20050126 file.<br />I set boot_wait to on.</p><p>both, netkit-tftp and atftp dont work:</p><p>jvc-tux wrt # tftp 192.168.1.1<br />tftp&gt; binary<br />tftp&gt; rexmt 1<br />tftp&gt; trace<br />Packet tracing on.<br />tftp&gt; put openwrt-gs-code.bin<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />sent WRQ &lt;file=openwrt-gs-code.bin, mode=octet&gt;<br />received ACK &lt;block=0&gt;<br />tftp&gt; </p><p>jvc-tux wrt # atftp<br />tftp&gt; connect 192.168.1.1<br />tftp&gt; mode octet<br />tftp&gt; <br />tftp&gt; trace<br />Trace mode on.<br />tftp&gt; put openwrt-gs-code.bin<br />sent WRQ &lt;file: openwrt-gs-code.bin, mode: octet &lt;&gt;&gt;<br />timeout: retrying...<br />sent WRQ &lt;file: openwrt-gs-code.bin, mode: octet &lt;&gt;&gt;<br />timeout: retrying...<br />sent WRQ &lt;file: openwrt-gs-code.bin, mode: octet &lt;&gt;&gt;<br />received ACK &lt;block: 0&gt;<br />sent DATA &lt;block: 1, size: 512&gt;<br />received ACK &lt;block: 1&gt;<br />sent DATA &lt;block: 2, size: 512&gt;<br />received ACK &lt;block: 2&gt;<br />sent DATA &lt;block: 3, size: 512&gt;<br />received ACK &lt;block: 3&gt;<br />sent DATA &lt;block: 4, size: 512&gt;<br />received ACK &lt;block: 4&gt;<br />.<br />.<br />.<br />.<br />sent DATA &lt;block: 1644, size: 512&gt;<br />received ACK &lt;block: 1644&gt;<br />sent DATA &lt;block: 1645, size: 512&gt;<br />received ACK &lt;block: 1644&gt;<br />sent DATA &lt;block: 1645, size: 512&gt;<br />tftp: error received from server &lt;transfer cancelled&gt;<br />tftp: aborting</p><p>where is my mistake?</p><p>How your WRT54GS is connected to a PC?<br />I use a cross-over TP-cable and it fails sometimes even so.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p4172">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">meinereinerseiner</div>
					<div class="post-datetime">
						27 Jan 2005, 07:45					</div>
				</div>
				<div class="post-content content">
					<p>the router ist directly connected on my notebook with an TP-cable.</p><p>I try to set the interface speed to 10mbitsHD - same<br />problem.</p><p> <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> </p><br /><p>tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p4210">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">TheRoDent</div>
					<div class="post-datetime">
						28 Jan 2005, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>If it&#039;s pingable it should be able to flash...</p><p>I have found that specifying</p><br /><p>put openwrt-gs-code.bin <strong>code.bin</strong></p><br /><p>sometimes does the trick. Some of the bootloaders expect the file that&#039;s uploaded to be called &quot;code.bin&quot;&nbsp; ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6580">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tuzzer</div>
					<div class="post-datetime">
						29 Apr 2005, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>I have exactly the same issue with a WRT54G_EU, hardware version 2.2, Linksys firmware 3.03.1_EU.</p><p>The FAQ suggests downgrading, however this is not possible because this is the oldest (and only) firmware that&#039;s supported for this hardware version.</p><p>I don&#039;t like having to use the web firmware upload because I&#039;d like to know in advance if boot_wait and TFTP flashing works properly before I mess things up and need it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6605">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Joachim</div>
					<div class="post-datetime">
						30 Apr 2005, 02:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tuzzer wrote:</cite><blockquote><p>I have exactly the same issue with a WRT54G_EU, hardware version 2.2, Linksys firmware 3.03.1_EU.</p><p>The FAQ suggests downgrading, however this is not possible because this is the oldest (and only) firmware that&#039;s supported for this hardware version.</p><p>I don&#039;t like having to use the web firmware upload because I&#039;d like to know in advance if boot_wait and TFTP flashing works properly before I mess things up and need it.</p></blockquote></div><p>Hmmmm ....some WRT54GS you can only flash if you use the lan connector with number 1 on the router ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6655">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tuzzer</div>
					<div class="post-datetime">
						1 May 2005, 19:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Joachim wrote:</cite><blockquote><p>Hmmmm ....some WRT54GS you can only flash if you use the lan connector with number 1 on the router ...</p></blockquote></div><p>Done that. Makes no difference. But I noticed from other posts there are more people with this problem... just no solution.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p6732">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">tuzzer</div>
					<div class="post-datetime">
						3 May 2005, 08:59					</div>
				</div>
				<div class="post-content content">
					<p>Okay, I got it to work.</p><p>First I tried flashing the original Linksys firmware through TFTP, that didn&#039;t work either.</p><p>So I checked the Linksys knowledge base and decided to give their suggestion of using 10 Mbit, half duplex a try. The driver for my SIS900 didn&#039;t want to be set to that so I plugged it in my old Realtek 8029, and voila: there it went.</p><p>I&#039;m now happily running OpenWRT experimental :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14671">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">SanDiego</div>
					<div class="post-datetime">
						2 Nov 2005, 01:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tuzzer wrote:</cite><blockquote><p>So I checked the Linksys knowledge base and decided to give their suggestion of using 10 Mbit, half duplex a try. The driver for my SIS900 didn&#039;t want to be set to that so I plugged it in my old Realtek 8029, and voila: there it went.</p></blockquote></div><p>I am not very clear about it. Can somebody explain more about it please? <br /></p><div class="quotebox"><cite>tuzzer wrote:</cite><blockquote><p>I&#039;m now happily running OpenWRT experimental :-)</p></blockquote></div><p>Well, I am looking forward to be able to run it too.. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14699">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">SanDiego</div>
					<div class="post-datetime">
						2 Nov 2005, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I figured out this too. Finally I have OpenWrt working on my Wrt54g. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Let me explain how I managed to overcome the problems:<br />This page <a href="http://linksys.custhelp.com/cgi-bin/linksys.cfg/php/enduser/std_adp.php?p_faqid=175&amp;p_created=1084205858&amp;p_sid=H1_MbxTh&amp;p_lva=175&amp;p_sp=cF9zcmNoPTEmcF9zb3J0X2J5PSZwX2dyaWRzb3J0PSZwX3Jvd19jbnQ9MiZwX3Byb2RzPTEsMjAsMCZwX2NhdHM9JnBfcHY9Mi4yMDszLnUwJnBfY3Y9JnBfc2VhcmNoX3R5cGU9YW5zd2Vycy5zZWFyY2hfZm5sJnBfc2NmX2xhbmc9MSZwX3BhZ2U9MSZwX3NlYXJjaF90ZXh0PWR1cGxleA**&amp;p_li=&amp;p_topview=1">http://linksys.custhelp.com/cgi-bin/lin … _topview=1</a>&nbsp; &nbsp;suggests using 10BaseT half duplex link. I used mii-tool to set link speed. Specifically I used:</p><p>mii-tool eth0 -F 10baseT-HD</p><p>Note that my linux laptop had Intel ethernet controller (82801DB) which failed to upload even after link adjustment. I uploaded the image to desktop linux which had &quot;Realtek Semiconductor Co., Ltd. RTL-8139/8139C/8139C+ (rev 10)&quot; Ethernet controller (you can use lspci to check). I was able to upload the image from this one successfully. I have Ubuntu installed on this computer. I downloaded debian&#039;s tftp. You can get tftp for Ubuntu from this link:<br /><a href="http://linus.yhspatriot.net/cs/docs/ubuntu_howto/UbuntuLTSPInstall">http://linus.yhspatriot.net/cs/docs/ubu … TSPInstall</a></p><p>I hope this would be useful for you if you&#039;re experiencing this problem.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>