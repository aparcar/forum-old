<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenVPN server to client tunnel issues</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p342825">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rpreston</div>
					<div class="post-datetime">
						2 Nov 2016, 18:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>I have been working on this for about a week and I am all out of ideas, I believe my issues is routes but I&#039;m not sure exactly the routes needed. Below you can find all configs and logs for server and then client.</p><p>Here is some helpful tips I believe.</p><p><strong>Here is a ping test from the Server side of the VPN</strong></p><p>Mac -&gt; BB.179&nbsp; &nbsp; <br />Able to ping (.210.1 &amp; 0.1)<br />Unable to ping (0.6 &amp; 200.1 &amp; 8.8)</p><p>BB.179<br />Able to ping (.210.1 &amp; 0.1 &amp; 201.108 &amp; 215.179)<br />Unable to ping (0.6 &amp; 200.1 &amp; 8.8)</p><p><strong>Here is a ping test from the Client side of the VPN</strong></p><p> BB.180<br />Able to ping (.210.1 &amp; 0.1 &amp; 0.6 &amp; 200.1 &amp; 8.8)<br />Unable to ping (210.108)</p><p>Mac-BB.180<br />Unable to ping (.210.1 &amp; 0.1 &amp; 0.6 210.108)<br />Unable to ping (8.8)</p><p>Below you can find all configs and logs for server and then client.</p><br /><p><strong>UCI Network -- Server --</strong></p><div class="quotebox"><blockquote><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr ‘xxx.xxx.xxx.xxx&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.248&#039;<br />&nbsp; &nbsp; option gateway &#039;xxx.xxx.xxx.xxx&#039;<br />&nbsp; &nbsp; option dns &#039;208.67.222.222, 208.67.220.220&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; option ifname &#039;eth1&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;192.168.210.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option gateway &#039;192.168.200.1&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; option ula_prefix &#039;fd34:31f0:b386::/48&#039;</p><br /><p>config interface &#039;vpn0&#039;<br />&nbsp; &nbsp; option ifname &#039;tun0&#039;<br />&nbsp; &nbsp; option proto &#039;none&#039;<br />&nbsp; &nbsp; option auto &#039;1&#039;</p></blockquote></div><p><strong>UCI firewall -- Server --</strong></p><div class="quotebox"><blockquote><p>config include<br />&nbsp; &nbsp;option path &#039;/etc/firewall.user&#039;<br />config include &#039;miniupnpd&#039;<br />&nbsp; &nbsp;option type &#039;script&#039;<br />&nbsp; &nbsp;option path &#039;/usr/share/miniupnpd/firewall.include&#039;<br />&nbsp; &nbsp;option family &#039;any&#039;<br />&nbsp; &nbsp;option reload &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #::: Defaults :::#<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # LuCI: Network - Firewall<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #------------------------------------------------<br />config defaults<br />&nbsp; &nbsp; option syn_flood &#039;1&#039;<br />&nbsp; &nbsp; option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option forward &#039;DROP&#039;<br />&nbsp; &nbsp; option drop_invalid</p><p>config redirect<br />&nbsp; &nbsp; option enabled &#039;1&#039;<br />&nbsp; &nbsp; option target &#039;DNAT&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;lan&#039;<br />&nbsp; &nbsp; option proto &#039;tcp&#039;<br />&nbsp; &nbsp; option src_dport ‘xxxx’<br />&nbsp; &nbsp; option dest_ip &#039;192.168.210.1&#039;<br />&nbsp; &nbsp; option dest_port &#039;22&#039;<br />&nbsp; &nbsp; option name &#039;SSh&#039;<br />config redirect<br />&nbsp; &nbsp;option enabled &#039;1&#039;<br />&nbsp; &nbsp;option target &#039;DNAT&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option proto &#039;tcp udp&#039;<br />&nbsp; &nbsp;option src_dport ‘xxxx’<br />&nbsp; &nbsp;option dest_ip &#039;192.168.210.1&#039;<br />&nbsp; &nbsp;option dest_port &#039;443&#039;<br /> &nbsp; &nbsp; option name &#039;Luci&#039;</p><br /><p>config rule<br />&nbsp; &nbsp;option name &#039;Allow-OpenVPN-Inbound&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option src &#039;*&#039;<br />&nbsp; &nbsp;option proto &#039;udp&#039;<br />&nbsp; &nbsp;option dest_port &#039;9411&#039;<br />config rule<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;udp&#039;<br />&nbsp; &nbsp;option dest_port &#039;68&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option family &#039;ipv4&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-Ping&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;option icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp;option family &#039;ipv4&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-IGMP&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;igmp&#039;<br />&nbsp; &nbsp;option family &#039;ipv4&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-DHCPv6&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;udp&#039;<br />&nbsp; &nbsp;option src_ip ‘xxxx::/10&#039;<br />&nbsp; &nbsp;option src_port &#039;547&#039;<br />&nbsp; &nbsp;option dest_ip ‘xxxx::/10&#039;<br />&nbsp; &nbsp;option dest_port &#039;546&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-MLD&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;option src_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp;list icmp_type &#039;130/0&#039;<br />&nbsp; &nbsp;list icmp_type &#039;131/0&#039;<br />&nbsp; &nbsp;list icmp_type &#039;132/0&#039;<br />&nbsp; &nbsp;list icmp_type &#039;143/0&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-ICMPv6-Input&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-reply&#039;<br />&nbsp; &nbsp;list icmp_type &#039;destination-unreachable&#039;<br />&nbsp; &nbsp;list icmp_type &#039;packet-too-big&#039;<br />&nbsp; &nbsp;list icmp_type &#039;time-exceeded&#039;<br />&nbsp; &nbsp;list icmp_type &#039;bad-header&#039;<br />&nbsp; &nbsp;list icmp_type &#039;unknown-header-type&#039;<br />&nbsp; &nbsp;list icmp_type &#039;router-solicitation&#039;<br />&nbsp; &nbsp;list icmp_type &#039;neighbour-solicitation&#039;<br />&nbsp; &nbsp;list icmp_type &#039;router-advertisement&#039;<br />&nbsp; &nbsp;list icmp_type &#039;neighbour-advertisement&#039;<br />&nbsp; &nbsp;option limit &#039;1000/sec&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-ICMPv6-Forward&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;*&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-reply&#039;<br />&nbsp; &nbsp;list icmp_type &#039;destination-unreachable&#039;<br />&nbsp; &nbsp;list icmp_type &#039;packet-too-big&#039;<br />&nbsp; &nbsp;list icmp_type &#039;time-exceeded&#039;<br />&nbsp; &nbsp;list icmp_type &#039;bad-header&#039;<br />&nbsp; &nbsp;list icmp_type &#039;unknown-header-type&#039;<br />&nbsp; &nbsp;option limit &#039;1000/sec&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option proto &#039;esp&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option dest_port &#039;500&#039;<br />&nbsp; &nbsp;option proto &#039;udp&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #::: Zones :::#<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # LuCI: Network - Firewall - Zones<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #------------------------------------------------<br />config zone<br />&nbsp; &nbsp;option name &#039;vpn&#039;<br />&nbsp; &nbsp;option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;REJECT&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option network &#039;vpn0&#039;<br />config zone<br />&nbsp; &nbsp;option name &#039;lan&#039;<br />&nbsp; &nbsp;list network &#039;lan&#039;<br />&nbsp; &nbsp;option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;DROP&#039;<br />config zone<br />&nbsp; &nbsp;option name &#039;wan&#039;<br />&nbsp; &nbsp;list network &#039;wan&#039;<br />&nbsp; &nbsp;list network &#039;wan6&#039;<br />&nbsp; &nbsp;option input &#039;DROP&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;DROP&#039;<br />&nbsp; &nbsp;option masq &#039;1&#039;<br />&nbsp; &nbsp;option mtu_fix &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #::: InterZone Forwarding :::#<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # LuCI: Network -&gt; Firewall -&gt; Zones -<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # VPN - Edit - Inter-Zone Forwarding<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #------------------------------------------------<br />config forwarding<br />&nbsp; &nbsp;option dest &#039;vpn&#039;<br />&nbsp; &nbsp;option src &#039;lan&#039;<br />config forwarding<br />&nbsp; &nbsp;option dest &#039;wan&#039;<br />&nbsp; &nbsp;option src &#039;lan&#039;<br />config forwarding<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option src &#039;vpn&#039;</p></blockquote></div><p><strong>UCI Openvpn -- Server --</strong></p><div class="quotebox"><blockquote><p>config openvpn &#039;myvpn&#039;<br />&nbsp; &nbsp; option enabled &#039;1&#039;<br />&nbsp; &nbsp; option verb &#039;3&#039;<br />&nbsp; &nbsp; option port &#039;9411&#039;<br />&nbsp; &nbsp; option proto &#039;udp&#039;<br />&nbsp; &nbsp; option dev &#039;tun&#039;<br />&nbsp; &nbsp; option server &#039;10.8.0.0 255.255.255.0&#039;<br />&nbsp; &nbsp; option ca &#039;/etc/openvpn/ca.crt&#039;<br />&nbsp; &nbsp; option cert &#039;/etc/openvpn/my-server.crt&#039;<br />&nbsp; &nbsp; option key &#039;/etc/openvpn/my-server.key&#039;<br />&nbsp; &nbsp; option dh &#039;/etc/openvpn/dh2048.pem&#039;<br />&nbsp; &nbsp; list &#039;route&#039; &#039;192.168.200.0 255.255.255.0&#039;<br />&nbsp; &nbsp; list &#039;route&#039; &#039;192.168.210.0 255.255.255.0&#039;<br />&nbsp; &nbsp; list &#039;push&#039;&nbsp; &#039;route 192.168.210.0 255.255.255.0&#039;<br />&nbsp; &nbsp; option&nbsp; log_append&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/openvpn.log&#039;<br />&nbsp; &nbsp; option&nbsp; status&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/openvpn-status.log&#039;<br />&nbsp; &nbsp; option&nbsp; verb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5</p></blockquote></div><p><strong>OpenVPN - Status log&nbsp; -- Server --</strong></p><div class="quotebox"><blockquote><p>OpenVPN CLIENT LIST<br />Updated,Wed Nov&nbsp; 2 14:32:52 2016<br />Common Name,Real Address,Bytes Received,Bytes Sent,Connected Since<br />Loren,xxx.xxx.xxx.xxx:1194,65044,60758,Wed Nov&nbsp; 2 14:04:16 2016<br />ROUTING TABLE<br />Virtual Address,Common Name,Real Address,Last Ref<br />10.8.0.6,Loren,xxx.xxx.xxx.xxx:1194,Wed Nov&nbsp; 2 14:09:22 2016<br />GLOBAL STATS<br />Max bcast/mcast queue length,0<br />END</p></blockquote></div><p><strong>OpenVPN Log --Server -- Verb3</strong></p><div class="quotebox"><blockquote><p>Wed Nov&nbsp; 2 14:03:24 2016 us=391135 OpenVPN 2.3.6 x86_64-openwrt-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [MH] [IPv6] built on Aug 19 2016<br />Wed Nov&nbsp; 2 14:03:24 2016 us=391150 library versions: OpenSSL 1.0.2f&nbsp; 28 Jan 2016, LZO 2.08<br />Wed Nov&nbsp; 2 14:03:24 2016 us=391172 WARNING: --keepalive option is missing from server config<br />Wed Nov&nbsp; 2 14:03:24 2016 us=403051 Diffie-Hellman initialized with 2048 bit key<br />Wed Nov&nbsp; 2 14:03:24 2016 us=405539 TLS-Auth MTU parms [ L:1541 D:138 EF:38 EB:0 ET:0 EL:0 ]<br />Wed Nov&nbsp; 2 14:03:24 2016 us=405551 Socket Buffers: R=[212992-&gt;131072] S=[212992-&gt;131072]<br />Wed Nov&nbsp; 2 14:03:24 2016 us=409192 TUN/TAP device tun0 opened<br />Wed Nov&nbsp; 2 14:03:24 2016 us=409202 TUN/TAP TX queue length set to 100<br />Wed Nov&nbsp; 2 14:03:24 2016 us=409434 do_ifconfig, tt-&gt;ipv6=0, tt-&gt;did_ifconfig_ipv6_setup=0<br />Wed Nov&nbsp; 2 14:03:24 2016 us=409468 /usr/sbin/ip link set dev tun0 up mtu 1500<br />Wed Nov&nbsp; 2 14:03:24 2016 us=420891 /usr/sbin/ip addr add dev tun0 local 10.8.0.1 peer 10.8.0.2<br />Wed Nov&nbsp; 2 14:03:24 2016 us=430983 /usr/sbin/ip route add 192.168.200.0/24 via 10.8.0.2<br />Wed Nov&nbsp; 2 14:03:24 2016 us=433626 /usr/sbin/ip route add 192.168.210.0/24 via 10.8.0.2<br />RTNETLINK answers: File exists<br />Wed Nov&nbsp; 2 14:03:24 2016 us=434245 ERROR: Linux route add command failed: external program exited with error status: 1<br />Wed Nov&nbsp; 2 14:03:24 2016 us=434262 /usr/sbin/ip route add 10.8.0.0/24 via 10.8.0.2<br />Wed Nov&nbsp; 2 14:03:24 2016 us=438146 Data Channel MTU parms [ L:1541 D:1450 EF:41 EB:4 ET:0 EL:0 ]<br />Wed Nov&nbsp; 2 14:03:24 2016 us=438156 UDPv4 link local (bound): [undef]<br />Wed Nov&nbsp; 2 14:03:24 2016 us=438160 UDPv4 link remote: [undef]<br />Wed Nov&nbsp; 2 14:03:24 2016 us=438165 MULTI: multi_init called, r=256 v=256<br />Wed Nov&nbsp; 2 14:03:24 2016 us=438179 IFCONFIG POOL: base=10.8.0.4 size=62, ipv6=0<br />Wed Nov&nbsp; 2 14:03:24 2016 us=438188 Initialization Sequence Completed<br />Wed Nov&nbsp; 2 14:04:13 2016 us=119698 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:04:16 2016 us=780483 MULTI: multi_create_instance called<br />Wed Nov&nbsp; 2 14:04:16 2016 us=780536 xxx.xxx.xxx.xxx:1194 Re-using SSL/TLS context<br />Wed Nov&nbsp; 2 14:04:16 2016 us=780586 xxx.xxx.xxx.xxx:1194 Control Channel MTU parms [ L:1541 D:138 EF:38 EB:0 ET:0 EL:0 ]<br />Wed Nov&nbsp; 2 14:04:16 2016 us=780592 xxx.xxx.xxx.xxx:1194 Data Channel MTU parms [ L:1541 D:1450 EF:41 EB:4 ET:0 EL:0 ]<br />RWed Nov&nbsp; 2 14:04:16 2016 us=780609 xxx.xxx.xxx.xxx:1194 TLS: Initial packet from [AF_INET]xxx.xxx.xxx.xxx:1194, sid=76a6f3fb c92284e1<br />WRRWRWWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRRRRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:04:16 2016 us=907179 xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=1, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />Wed Nov&nbsp; 2 14:04:16 2016 us=907268 xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=0, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Loren, name=EasyRSA, emailAddress=rpreston@wirediq.com<br />WRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:04:16 2016 us=911628 xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:04:16 2016 us=911637 xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:04:16 2016 us=911668 xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:04:16 2016 us=911673 xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />WWRRWed Nov&nbsp; 2 14:04:16 2016 us=912788 xxx.xxx.xxx.xxx:1194 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br />Wed Nov&nbsp; 2 14:04:16 2016 us=912821 xxx.xxx.xxx.xxx:1194 [Loren] Peer Connection Initiated with [AF_INET]xxx.xxx.xxx.xxx:1194<br />Wed Nov&nbsp; 2 14:04:16 2016 us=912831 Loren/xxx.xxx.xxx.xxx:1194 MULTI_sva: pool returned IPv4=10.8.0.6, IPv6=(Not enabled)<br />Wed Nov&nbsp; 2 14:04:16 2016 us=912853 Loren/xxx.xxx.xxx.xxx:1194 MULTI: Learn: 10.8.0.6 -&gt; Loren/xxx.xxx.xxx.xxx:1194<br />Wed Nov&nbsp; 2 14:04:16 2016 us=912859 Loren/xxx.xxx.xxx.xxx:1194 MULTI: primary virtual IP for Loren/xxx.xxx.xxx.xxx:1194: 10.8.0.6<br />RWed Nov&nbsp; 2 14:04:19 2016 us=256337 Loren/xxx.xxx.xxx.xxx:1194 PUSH: Received control message: &#039;PUSH_REQUEST&#039;<br />Wed Nov&nbsp; 2 14:04:19 2016 us=256353 Loren/xxx.xxx.xxx.xxx:1194 send_push_reply(): safe_cap=940<br />Wed Nov&nbsp; 2 14:04:19 2016 us=256377 Loren/xxx.xxx.xxx.xxx:1194 SENT CONTROL [Loren]: &#039;PUSH_REPLY,route 192.168.210.0 255.255.255.0,route 10.8.0.1,topology net30,ifconfig 10.8.0.6 10.8.0.5&#039; (status=1)<br />WWWRRRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRWed Nov&nbsp; 2 14:04:56 2016 us=619759 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwRwWed Nov&nbsp; 2 14:05:13 2016 us=279661 IP packet with unknown IP version=15 seen<br />RwRwRwRwRwRwRwRwRwRwRwRwRwrWrWrWRwRwRwrWrWrWRwRwRwrWrWrWRwRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwRwRwRwRwRwRwRwRwRwRwRwRwRwRwRwRWed Nov&nbsp; 2 14:05:56 2016 us=781643 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RwRwRwRwRwRwRwRwRwRwRwRwRwRwRwRwWed Nov&nbsp; 2 14:06:13 2016 us=440048 IP packet with unknown IP version=15 seen<br />RwRwrWrWrWRwRwRwrWrWrWRwRwRwRwrWrWrWRwRwrWRwrWrWRwRwrWRwrWrWRwRwrWrWRwrWRwRwrWrWrWRwRwRwrWrWrWRwRwRwrWrWrWRwRwRwrWrWrWRwRwRwrWrWrWRwRwRwRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRWed Nov&nbsp; 2 14:06:56 2016 us=944123 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWWed Nov&nbsp; 2 14:07:13 2016 us=600067 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRWed Nov&nbsp; 2 14:07:57 2016 us=106279 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWWed Nov&nbsp; 2 14:08:13 2016 us=759816 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWrWRwRwrWrWRwRwrWrWRwRwrWrWRwRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRWed Nov&nbsp; 2 14:08:57 2016 us=268278 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWWed Nov&nbsp; 2 14:09:13 2016 us=920010 IP packet with unknown IP version=15 seen<br />RwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWRwrWWed Nov&nbsp; 2 14:10:14 2016 us=79961 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:11:14 2016 us=240013 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:12:14 2016 us=399939 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:13:14 2016 us=559991 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:14:14 2016 us=720014 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:15:14 2016 us=879576 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:16:15 2016 us=39591 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:17:15 2016 us=199583 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:18:15 2016 us=359552 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:19:15 2016 us=519591 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:20:15 2016 us=679618 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:21:15 2016 us=839597 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:22:15 2016 us=999594 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:23:16 2016 us=159616 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:24:16 2016 us=319591 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:25:16 2016 us=479756 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:25:54 2016 us=871836 Loren/xxx.xxx.xxx.xxx:1194 TLS: new session incoming connection from [AF_INET]xxx.xxx.xxx.xxx:1194<br />WRRWRWWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRRRRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:25:54 2016 us=998706 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=1, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />Wed Nov&nbsp; 2 14:25:54 2016 us=998800 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=0, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Loren, name=EasyRSA, emailAddress=rpreston@wirediq.com<br />WRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:25:55 2016 us=2893 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:25:55 2016 us=2902 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:25:55 2016 us=2933 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:25:55 2016 us=2938 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:25:55 2016 us=2969 Loren/xxx.xxx.xxx.xxx:1194 TLS: move_session: dest=TM_ACTIVE src=TM_UNTRUSTED reinit_src=1<br />Wed Nov&nbsp; 2 14:25:55 2016 us=3026 Loren/xxx.xxx.xxx.xxx:1194 TLS: tls_multi_process: untrusted session promoted to semi-trusted<br />WWRRWed Nov&nbsp; 2 14:25:55 2016 us=4216 Loren/xxx.xxx.xxx.xxx:1194 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br />RWed Nov&nbsp; 2 14:25:57 2016 us=274036 Loren/xxx.xxx.xxx.xxx:1194 PUSH: Received control message: &#039;PUSH_REQUEST&#039;<br />Wed Nov&nbsp; 2 14:25:57 2016 us=274066 Loren/xxx.xxx.xxx.xxx:1194 send_push_reply(): safe_cap=940<br />Wed Nov&nbsp; 2 14:25:57 2016 us=274088 Loren/xxx.xxx.xxx.xxx:1194 SENT CONTROL [Loren]: &#039;PUSH_REPLY,route 192.168.210.0 255.255.255.0,route 10.8.0.1,topology net30,ifconfig 10.8.0.6 10.8.0.5&#039; (status=1)<br />WWWRRRWed Nov&nbsp; 2 14:26:00 2016 us=24846 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:26:16 2016 us=640224 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:27:00 2016 us=186963 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:27:16 2016 us=799384 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:28:00 2016 us=81372 Loren/xxx.xxx.xxx.xxx:1194 TLS: new session incoming connection from [AF_INET]xxx.xxx.xxx.xxx:1194<br />WRRWRWWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRRRRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:28:00 2016 us=208464 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=1, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />Wed Nov&nbsp; 2 14:28:00 2016 us=208556 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=0, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Loren, name=EasyRSA, emailAddress=rpreston@wirediq.com<br />WRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:28:00 2016 us=212648 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:28:00 2016 us=212657 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:28:00 2016 us=212688 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:28:00 2016 us=212692 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:28:00 2016 us=212713 Loren/xxx.xxx.xxx.xxx:1194 TLS: move_session: dest=TM_ACTIVE src=TM_UNTRUSTED reinit_src=1<br />Wed Nov&nbsp; 2 14:28:00 2016 us=212756 Loren/xxx.xxx.xxx.xxx:1194 TLS: tls_multi_process: untrusted session promoted to semi-trusted<br />WWRRWed Nov&nbsp; 2 14:28:00 2016 us=213830 Loren/xxx.xxx.xxx.xxx:1194 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br />RWed Nov&nbsp; 2 14:28:02 2016 us=518932 Loren/xxx.xxx.xxx.xxx:1194 PUSH: Received control message: &#039;PUSH_REQUEST&#039;<br />Wed Nov&nbsp; 2 14:28:02 2016 us=518944 Loren/xxx.xxx.xxx.xxx:1194 send_push_reply(): safe_cap=940<br />Wed Nov&nbsp; 2 14:28:02 2016 us=518966 Loren/xxx.xxx.xxx.xxx:1194 SENT CONTROL [Loren]: &#039;PUSH_REPLY,route 192.168.210.0 255.255.255.0,route 10.8.0.1,topology net30,ifconfig 10.8.0.6 10.8.0.5&#039; (status=1)<br />WWWRRWed Nov&nbsp; 2 14:28:16 2016 us=960037 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:29:00 2016 us=510706 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:29:17 2016 us=119924 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:30:00 2016 us=673464 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:30:04 2016 us=935267 Loren/xxx.xxx.xxx.xxx:1194 TLS: new session incoming connection from [AF_INET]xxx.xxx.xxx.xxx:1194<br />WRRWRWWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRRRRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:30:05 2016 us=62014 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=1, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />Wed Nov&nbsp; 2 14:30:05 2016 us=62106 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=0, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Loren, name=EasyRSA, emailAddress=rpreston@wirediq.com<br />WRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:30:05 2016 us=66061 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:30:05 2016 us=66071 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:30:05 2016 us=66101 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:30:05 2016 us=66106 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:30:05 2016 us=66126 Loren/xxx.xxx.xxx.xxx:1194 TLS: move_session: dest=TM_ACTIVE src=TM_UNTRUSTED reinit_src=1<br />Wed Nov&nbsp; 2 14:30:05 2016 us=66170 Loren/xxx.xxx.xxx.xxx:1194 TLS: tls_multi_process: untrusted session promoted to semi-trusted<br />WWRRWed Nov&nbsp; 2 14:30:05 2016 us=67394 Loren/xxx.xxx.xxx.xxx:1194 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br />RWed Nov&nbsp; 2 14:30:07 2016 us=422614 Loren/xxx.xxx.xxx.xxx:1194 PUSH: Received control message: &#039;PUSH_REQUEST&#039;<br />Wed Nov&nbsp; 2 14:30:07 2016 us=422627 Loren/xxx.xxx.xxx.xxx:1194 send_push_reply(): safe_cap=940<br />Wed Nov&nbsp; 2 14:30:07 2016 us=422649 Loren/xxx.xxx.xxx.xxx:1194 SENT CONTROL [Loren]: &#039;PUSH_REPLY,route 192.168.210.0 255.255.255.0,route 10.8.0.1,topology net30,ifconfig 10.8.0.6 10.8.0.5&#039; (status=1)<br />WWWRRWed Nov&nbsp; 2 14:30:17 2016 us=279616 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:31:00 2016 us=835571 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />Wed Nov&nbsp; 2 14:31:17 2016 us=439687 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:32:00 2016 us=997778 Loren/xxx.xxx.xxx.xxx:1194 IP packet with unknown IP version=15 seen<br />RWed Nov&nbsp; 2 14:32:10 2016 us=240318 Loren/xxx.xxx.xxx.xxx:1194 TLS: new session incoming connection from [AF_INET]xxx.xxx.xxx.xxx:1194<br />WRRWRWWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRRRRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:32:10 2016 us=366357 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=1, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />Wed Nov&nbsp; 2 14:32:10 2016 us=366447 Loren/xxx.xxx.xxx.xxx:1194 VERIFY OK: depth=0, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Loren, name=EasyRSA, emailAddress=rpreston@wirediq.com<br />WRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 14:32:10 2016 us=370614 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:32:10 2016 us=370623 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:32:10 2016 us=370653 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 14:32:10 2016 us=370658 Loren/xxx.xxx.xxx.xxx:1194 Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 14:32:10 2016 us=370679 Loren/xxx.xxx.xxx.xxx:1194 TLS: move_session: dest=TM_ACTIVE src=TM_UNTRUSTED reinit_src=1<br />Wed Nov&nbsp; 2 14:32:10 2016 us=370722 Loren/xxx.xxx.xxx.xxx:1194 TLS: tls_multi_process: untrusted session promoted to semi-trusted<br />WWRRWed Nov&nbsp; 2 14:32:10 2016 us=371873 Loren/xxx.xxx.xxx.xxx:1194 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br />RWed Nov&nbsp; 2 14:32:12 2016 us=783173 Loren/xxx.xxx.xxx.xxx:1194 PUSH: Received control message: &#039;PUSH_REQUEST&#039;<br />Wed Nov&nbsp; 2 14:32:12 2016 us=783184 Loren/xxx.xxx.xxx.xxx:1194 send_push_reply(): safe_cap=940<br />Wed Nov&nbsp; 2 14:32:12 2016 us=783206 Loren/xxx.xxx.xxx.xxx:1194 SENT CONTROL [Loren]: &#039;PUSH_REPLY,route 192.168.210.0 255.255.255.0,route 10.8.0.1,topology net30,ifconfig 10.8.0.6 10.8.0.5&#039; (status=1)<br />WWWRRWed Nov&nbsp; 2 14:32:17 2016 us=599520 IP packet with unknown IP version=15 seen</p></blockquote></div><br /><p><strong>UCI Network -- Client --</strong></p><div class="quotebox"><blockquote><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr ‘xxx.xxx.xxx.xxx’<br />&nbsp; &nbsp; option netmask &#039;255.255.255.248&#039;<br />&nbsp; &nbsp; option dns &#039;208.67.222.222, 208.67.220.220&#039;<br />&nbsp; &nbsp; option metric &#039;0&#039;<br />&nbsp; &nbsp; option gateway ‘xxx.xxx.xxx.xxx&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; option ifname &#039;eth1&#039;<br />&nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; option ipaddr &#039;192.168.200.1&#039;<br />&nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option gateway &#039;192.168.200.1&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; option ula_prefix ‘xxxx:xxxx:xxxx::/48&#039;</p><br /><p>config interface &#039;vpn0&#039;<br />&nbsp; &nbsp; option ifname &#039;tun0&#039;<br />&nbsp; &nbsp; option proto &#039;none&#039;<br />&nbsp; &nbsp; option auto &#039;1&#039;</p></blockquote></div><p><strong>UCI Firewall -- Client --</strong></p><div class="quotebox"><blockquote><p>config include<br />&nbsp; &nbsp;option path &#039;/etc/firewall.user&#039;</p><br /><p>config include &#039;miniupnpd&#039;<br />&nbsp; &nbsp;option type &#039;script&#039;<br />&nbsp; &nbsp; option path &#039;/usr/share/miniupnpd/firewall.include&#039;<br />&nbsp; &nbsp; option family &#039;any&#039;<br />&nbsp; &nbsp; option reload &#039;1&#039;</p><p>config defaults<br />&nbsp; &nbsp;option syn_flood &#039;1&#039;<br />&nbsp; &nbsp;option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;REJECT&#039;</p><p>config redirect<br />&nbsp; &nbsp;option enabled &#039;1&#039;<br />&nbsp; &nbsp;option target &#039;DNAT&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option proto &#039;tcp&#039;<br />&nbsp; &nbsp;option src_dport ‘xxxxx’<br />&nbsp; &nbsp;option dest_ip &#039;192.168.200.1&#039;<br />&nbsp; &nbsp;option dest_port &#039;22&#039;<br />&nbsp; &nbsp;option name &#039;SSH&#039;<br />config redirect<br />&nbsp; &nbsp;option target &#039;DNAT&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option proto &#039;tcp udp&#039;<br />&nbsp; &nbsp;option src_dport ‘xxxxx’<br />&nbsp; &nbsp;option dest_ip &#039;192.168.200.1&#039;<br />&nbsp; &nbsp;option dest_port &#039;443&#039;<br />&nbsp; &nbsp;option name &#039;Luci&#039;</p><p>config rule<br />&nbsp; &nbsp;option name &#039;Allow-DHCP-Renew&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;udp&#039;<br />&nbsp; &nbsp;option dest_port &#039;68&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option family &#039;ipv4&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-Ping&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;option icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp;option family &#039;ipv4&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-IGMP&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;igmp&#039;<br />&nbsp; &nbsp;option family &#039;ipv4&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-DHCPv6&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;udp&#039;<br />&nbsp; &nbsp;option src_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp;option src_port &#039;547&#039;<br />&nbsp; &nbsp;option dest_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp;option dest_port &#039;546&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-MLD&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;option src_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp;list icmp_type &#039;130/0&#039;<br />&nbsp; &nbsp;list icmp_type &#039;131/0&#039;<br />&nbsp; &nbsp;list icmp_type &#039;132/0&#039;<br />&nbsp; &nbsp;list icmp_type &#039;143/0&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-ICMPv6-Input&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-reply&#039;<br />&nbsp; &nbsp;list icmp_type &#039;destination-unreachable&#039;<br />&nbsp; &nbsp;list icmp_type &#039;packet-too-big&#039;<br />&nbsp; &nbsp;list icmp_type &#039;time-exceeded&#039;<br />&nbsp; &nbsp;list icmp_type &#039;bad-header&#039;<br />&nbsp; &nbsp;list icmp_type &#039;unknown-header-type&#039;<br />&nbsp; &nbsp;list icmp_type &#039;router-solicitation&#039;<br />&nbsp; &nbsp;list icmp_type &#039;neighbour-solicitation&#039;<br />&nbsp; &nbsp;list icmp_type &#039;router-advertisement&#039;<br />&nbsp; &nbsp;list icmp_type &#039;neighbour-advertisement&#039;<br />&nbsp; &nbsp;option limit &#039;1000/sec&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option name &#039;Allow-ICMPv6-Forward&#039;<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;*&#039;<br />&nbsp; &nbsp;option proto &#039;icmp&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp;list icmp_type &#039;echo-reply&#039;<br />&nbsp; &nbsp;list icmp_type &#039;destination-unreachable&#039;<br />&nbsp; &nbsp;list icmp_type &#039;packet-too-big&#039;<br />&nbsp; &nbsp;list icmp_type &#039;time-exceeded&#039;<br />&nbsp; &nbsp;list icmp_type &#039;bad-header&#039;<br />&nbsp; &nbsp;list icmp_type &#039;unknown-header-type&#039;<br />&nbsp; &nbsp;option limit &#039;1000/sec&#039;<br />&nbsp; &nbsp;option family &#039;ipv6&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;lan&#039;<br />&nbsp; &nbsp;option proto &#039;esp&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;<br />config rule<br />&nbsp; &nbsp;option src &#039;wan&#039;<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option dest_port &#039;500&#039;<br />&nbsp; &nbsp;option proto &#039;udp&#039;<br />&nbsp; &nbsp;option target &#039;ACCEPT&#039;</p><p>config zone<br />&nbsp; &nbsp;option name &#039;vpn&#039;<br />&nbsp; &nbsp;option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;REJECT&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option network &#039;vpn0&#039;<br />config zone<br />&nbsp; &nbsp;option name &#039;lan&#039;<br />&nbsp; &nbsp;list network &#039;lan&#039;<br />&nbsp; &nbsp;option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;ACCEPT&#039;<br />config zone<br />&nbsp; &nbsp;option name &#039;wan&#039;<br />&nbsp; &nbsp;list network &#039;wan&#039;<br />&nbsp; &nbsp;list network &#039;wan6&#039;<br />&nbsp; &nbsp;option input &#039;REJECT&#039;<br />&nbsp; &nbsp;option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp;option forward &#039;REJECT&#039;<br />&nbsp; &nbsp;option masq &#039;1&#039;<br />&nbsp; &nbsp;option mtu_fix &#039;1&#039;</p><br /><p>config forwarding<br />&nbsp; &nbsp;option dest &#039;vpn&#039;<br />&nbsp; &nbsp;option src &#039;lan&#039;<br />config forwarding<br />&nbsp; &nbsp;option dest &#039;wan&#039;<br />&nbsp; &nbsp;option src &#039;lan&#039;<br />config forwarding<br />&nbsp; &nbsp;option dest &#039;lan&#039;<br />&nbsp; &nbsp;option src &#039;vpn&#039;</p></blockquote></div><p><strong>UCI Openvpn -- Client --</strong></p><div class="quotebox"><blockquote><p>config openvpn &#039;myvpn&#039;<br />&nbsp; &nbsp; option enabled &#039;1&#039;<br />&nbsp; &nbsp; option dev &#039;tun&#039;<br />&nbsp; &nbsp; option proto &#039;udp&#039;<br />&nbsp; &nbsp; option verb &#039;3&#039;<br />&nbsp; &nbsp; option ca &#039;/etc/openvpn/ca.crt&#039;<br />&nbsp; &nbsp; option cert &#039;/etc/openvpn/my-client.crt&#039;<br />&nbsp; &nbsp; option key &#039;/etc/openvpn/my-client.key&#039;<br />&nbsp; &nbsp; option client &#039;1&#039;<br />&nbsp; &nbsp; option remote_cert_tls &#039;server&#039;<br />&nbsp; &nbsp; option remote ‘xxx.xxx.xxx.xxx :1149&#039;<br />&nbsp; &nbsp; list &#039;route&#039; &#039;192.168.200.0 255.255.255.0&#039;<br />&nbsp; &nbsp; list &#039;route&#039; &#039;192.168.210.0 255.255.255.0&#039;<br />&nbsp; &nbsp;option&nbsp; log_append&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/openvpn.log&#039;<br />&nbsp; &nbsp; option&nbsp; status&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/openvpn-status.log&#039;<br />&nbsp; &nbsp; option&nbsp; verb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5</p></blockquote></div><br /><br /><p><strong>OpenVPN - Status log&nbsp; -- Client --</strong></p><div class="quotebox"><blockquote><p>OpenVPN STATISTICS<br />Updated,Wed Nov&nbsp; 2 14:33:34 2016<br />TUN/TAP read bytes,32<br />TUN/TAP write bytes,0<br />TCP/UDP read bytes,5425<br />TCP/UDP write bytes,5226<br />Auth read bytes,0<br />END</p></blockquote></div><p><strong>OpenVPN Log --Client -- Verb3</strong><br />The file is to large to paste here so here is just a sample of the file.</p><div class="quotebox"><blockquote><p>Wed Nov&nbsp; 2 03:21:12 2016 us=458979 OpenVPN 2.3.6 x86_64-openwrt-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [MH] [IPv6] built on Aug 19 2016<br />Wed Nov&nbsp; 2 03:21:12 2016 us=459070 library versions: OpenSSL 1.0.2f&nbsp; 28 Jan 2016, LZO 2.08<br />Wed Nov&nbsp; 2 03:21:12 2016 us=460360 WARNING: file &#039;/etc/openvpn/my-client.key&#039; is group or others accessible<br />Wed Nov&nbsp; 2 03:21:12 2016 us=460992 Control Channel MTU parms [ L:1541 D:138 EF:38 EB:0 ET:0 EL:0 ]<br />Wed Nov&nbsp; 2 03:21:12 2016 us=461115 Socket Buffers: R=[212992-&gt;131072] S=[212992-&gt;131072]<br />Wed Nov&nbsp; 2 03:21:12 2016 us=461191 Data Channel MTU parms [ L:1541 D:1450 EF:41 EB:4 ET:0 EL:0 ]<br />Wed Nov&nbsp; 2 03:21:12 2016 us=461238 UDPv4 link local (bound): [undef]<br />Wed Nov&nbsp; 2 03:21:12 2016 us=461298 UDPv4 link remote: [AF_INET]xxx.xxx.xxx.xxx:1149<br />WRWed Nov&nbsp; 2 03:21:12 2016 us=463042 TLS: Initial packet from [AF_INET]xxx.xxx.xxx.xxx:1149, sid=13be3145 8c86c86f<br />WWWRRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWed Nov&nbsp; 2 03:21:12 2016 us=472612 VERIFY OK: depth=1, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473550 Validating certificate key usage<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473603 ++ Certificate has key usage&nbsp; 00a0, expects 00a0<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473644 VERIFY KU OK<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473691 Validating certificate extended key usage<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473737 ++ Certificate has EKU (str) TLS Web Server Authentication, expects TLS Web Server Authentication<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473776 VERIFY EKU OK<br />Wed Nov&nbsp; 2 03:21:12 2016 us=473814 VERIFY OK: depth=0, C=US, ST=FL, L=Sarasota, O=WiredIQ, OU=MyOrganizationalUnit, CN=Robert, name=Test, emailAddress=rpreston@wirediq.com<br />WRWRWRWRWRWRWRWRWRWRWWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRRRRWWWRRRWRWed Nov&nbsp; 2 03:21:12 2016 us=606427 Data Channel Encrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 03:21:12 2016 us=606511 Data Channel Encrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />Wed Nov&nbsp; 2 03:21:12 2016 us=606637 Data Channel Decrypt: Cipher &#039;BF-CBC&#039; initialized with 128 bit key<br />Wed Nov&nbsp; 2 03:21:12 2016 us=606684 Data Channel Decrypt: Using 160 bit message hash &#039;SHA1&#039; for HMAC authentication<br />WWed Nov&nbsp; 2 03:21:12 2016 us=606826 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br />Wed Nov&nbsp; 2 03:21:12 2016 us=606917 [Robert] Peer Connection Initiated with [AF_INET]xxx.xxx.xxx.xxx:1149<br />Wed Nov&nbsp; 2 03:21:14 2016 us=622290 SENT CONTROL [Robert]: &#039;PUSH_REQUEST&#039; (status=1)<br />WRRWRWed Nov&nbsp; 2 03:21:14 2016 us=624219 PUSH: Received control message: &#039;PUSH_REPLY,route 192.168.210.0 255.255.255.0,route 10.8.0.1,topology net30,ifconfig 10.8.0.6 10.8.0.5&#039;<br />Wed Nov&nbsp; 2 03:21:14 2016 us=624369 OPTIONS IMPORT: --ifconfig/up options modified<br />Wed Nov&nbsp; 2 03:21:14 2016 us=624409 OPTIONS IMPORT: route options modified<br />Wed Nov&nbsp; 2 03:21:14 2016 us=625459 TUN/TAP device tun0 opened<br />Wed Nov&nbsp; 2 03:21:14 2016 us=625586 TUN/TAP TX queue length set to 100<br />Wed Nov&nbsp; 2 03:21:14 2016 us=625670 do_ifconfig, tt-&gt;ipv6=0, tt-&gt;did_ifconfig_ipv6_setup=0<br />Wed Nov&nbsp; 2 03:21:14 2016 us=625773 /usr/sbin/ip link set dev tun0 up mtu 1500<br />Wed Nov&nbsp; 2 03:21:14 2016 us=628121 /usr/sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5<br />Wed Nov&nbsp; 2 03:21:14 2016 us=630336 /usr/sbin/ip route add 192.168.200.0/24 via 10.8.0.5<br />RTNETLINK answers: File exists<br />Wed Nov&nbsp; 2 03:21:14 2016 us=632808 ERROR: Linux route add command failed: external program exited with error status: 1<br />Wed Nov&nbsp; 2 03:21:14 2016 us=632947 /usr/sbin/ip route add 192.168.210.0/24 via 10.8.0.5<br />Wed Nov&nbsp; 2 03:21:14 2016 us=635196 /usr/sbin/ip route add 192.168.210.0/24 via 10.8.0.5<br />RTNETLINK answers: File exists<br />Wed Nov&nbsp; 2 03:21:14 2016 us=639485 ERROR: Linux route add command failed: external program exited with error status: 1<br />Wed Nov&nbsp; 2 03:21:14 2016 us=639610 /usr/sbin/ip route add 10.8.0.1/32 via 10.8.0.5<br />Wed Nov&nbsp; 2 03:21:14 2016 us=641567 Initialization Sequence Completed<br />WrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWrWed Nov&nbsp; 2 03:23:14 2016 us=449829 [Robert] Inactivity timeout (--ping-restart), restarting<br />Wed Nov&nbsp; 2 03:23:14 2016 us=450503 TCP/UDP: Closing socket<br />Wed Nov&nbsp; 2 03:23:14 2016 us=450667 /usr/sbin/ip route del 10.8.0.1/32<br />Wed Nov&nbsp; 2 03:23:14 2016 us=452175 /usr/sbin/ip route del 192.168.210.0/24<br />Wed Nov&nbsp; 2 03:23:14 2016 us=453724 Closing TUN/TAP interface<br />Wed Nov&nbsp; 2 03:23:14 2016 us=453848 /usr/sbin/ip addr del dev tun0 local 10.8.0.6 peer 10.8.0.5<br />Wed Nov&nbsp; 2 03:23:14 2016 us=534397 SIGUSR1[soft,ping-restart] received, process restarting<br />Wed Nov&nbsp; 2 03:23:14 2016 us=534491 Restart pause, 2 second(s)<br />Wed Nov&nbsp; 2 03:23:16 2016 us=535402 WARNING: file &#039;/etc/openvpn/my-client.key&#039; is group or others accessible<br />Wed Nov&nbsp; 2 03:23:16 2016 us=535909 Control Channel MTU parms [ L:1541 D:138 EF:38 EB:0 ET:0 EL:0 ]</p></blockquote></div><p>Any Help will be much appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343069">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rpreston</div>
					<div class="post-datetime">
						5 Nov 2016, 05:48					</div>
				</div>
				<div class="post-content content">
					<p>I am still having trouble getting the server to ping the clients lan side can someone please help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343070">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dl12345</div>
					<div class="post-datetime">
						5 Nov 2016, 06:51					</div>
				</div>
				<div class="post-content content">
					<p>Your problem description is very brief and hard to understand. You should try to supply more information on the problem and avoid using abbreviated IP address and abbreviations such as Mac and BB that are ambiguous. You don&#039;t describe what your network setup looks like.</p><p>Nobody is going to read through a whole bunch of configs and logs to work out what you&#039;re trying to do and why it&#039;s going wrong. I would suggest that you write up a much more complete problem description that is easier to read and then maybe people will be able to help you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343248">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rpreston</div>
					<div class="post-datetime">
						7 Nov 2016, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>Hello dl12345,<br />Sorry for the brief description of the problem to start so let me explain a little better the problem. I have two Openwrt chaos calmer 15.05 devices running x86 on a core I7 intel setup. The devices for the rest of my reply I will be named BB1 and BB2. BB1 is the server and BB2 is the client configurations. I have two locations I am trying to establish a tunnel between site A, and Site B. Site A has the BB1 device on the edge of the network behind a Comcast modem, the modem is providing a static IP to BB1. Site B has the BB2 device on the edge of the frontier network with a static IP. <br />BB1 problem<br />The problem that I am having is that BB1 can not ping anything beyond the tunnel. The tunnel has 2 IP addresses 10.8.0.1 which is the server side of the tunnel and 10.8.0.6 which is the client side of the tunnel. Anything beyond the 10.8.0.6 is unable to be reached so that is one end of the problem.<br />BB2 problem<br />The client side BB2 can ping everything on the BB1 location this means both ends of the tunnel and the subnet behind the router. For example, BB2 can ping the routers private LAN IP and a laptop connected.&nbsp; The part that is a bit frustrating is that a laptop connected on the LAN side of BB2 is unable to ping anything beyond its side of the tunnel which is IP 10.8.0.6. </p><p>My company is willing to work with anyone that can provide assistance I can provide any other detail that is required just need guidance.&nbsp; </p><p>Thanks in advance to anyone willing to help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343255">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">felipee07</div>
					<div class="post-datetime">
						8 Nov 2016, 02:28					</div>
				</div>
				<div class="post-content content">
					<p>Wed Nov&nbsp; 2 14:03:24 2016 us=434245 ERROR: Linux route add command failed: external program exited with error status: 1</p><p>Try route table, see if you have missing route rules.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343316">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rpreston</div>
					<div class="post-datetime">
						8 Nov 2016, 17:58					</div>
				</div>
				<div class="post-content content">
					<p>Hello Felipee07</p><p>Here are my Route tables while the VPN is active.</p><p><strong>Client Route Table</strong><br />Kernel IP routing table<br />Destination&nbsp; &nbsp; &nbsp;Gateway&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags Metric Ref&nbsp; &nbsp; Use Iface<br />0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;xx.xx.128.1&nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UG&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth0<br />10.8.0.1&nbsp; &nbsp; &nbsp; &nbsp; 10.8.0.5&nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.255 UGH&nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 tun0<br />10.8.0.5&nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.255 UH&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 tun0<br />xx.xx.128.0&nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.224.0&nbsp; &nbsp;U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth0<br />xx.xx.128.1&nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.255 UH&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth0<br />192.168.200.0&nbsp; &nbsp;0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.0&nbsp; &nbsp;U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth1<br />192.168.210.0&nbsp; &nbsp;10.8.0.5&nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0&nbsp; &nbsp;UG&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 tun0</p><p><strong>Server Route Table</strong></p><p>Kernel IP routing table<br />Destination&nbsp; &nbsp; &nbsp;Gateway&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags Metric Ref&nbsp; &nbsp; Use Iface<br />0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;xx.xx.215.182 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UG&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth0<br />10.8.0.0&nbsp; &nbsp; &nbsp; &nbsp; 10.8.0.2&nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0&nbsp; &nbsp;UG&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 tun0<br />10.8.0.2&nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.255 UH&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 tun0<br />173.163.215.176 0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.248 U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth0<br />192.168.210.0&nbsp; &nbsp;0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.255.0&nbsp; &nbsp;U&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0 eth1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343319">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">felipee07</div>
					<div class="post-datetime">
						8 Nov 2016, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Are you using masquerade on FORWARD table ?</p><p>sysctl -w net.ipv4.ip_forward=1</p><p>iptables -t nat -s XXXXXXX/24 -A POSTROUTING -o ethX -j MASQUERADE</p><p>10.8.0.2 ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343321">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">rpreston</div>
					<div class="post-datetime">
						8 Nov 2016, 18:50					</div>
				</div>
				<div class="post-content content">
					<p>Felipee07,</p><p>The only place we are masquerading is on the WAN zone. Are you wanting me to run this iptables command? </p><div class="quotebox"><blockquote><p>iptables -t nat -s XXXXXXX/24 -A POSTROUTING -o ethX -j MASQUERADE</p></blockquote></div><p>should this look like this <strong>iptables -t nat -s (xxxxxxx/24 is this LAN or WAN or ip subnet that goes here?) -A POSTROUTING -O eth(x should be my wan or lan port) -j MASQUERADE</strong></p><p>I apologize for my short comings of not knowing these details.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343329">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">felipee07</div>
					<div class="post-datetime">
						8 Nov 2016, 20:06					</div>
				</div>
				<div class="post-content content">
					<p>When the packet arrive on your client(BB2) they will leave in the lan network(here you need add masquerade rule).</p><p>iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o ethX -j MASQUERADE</p><p>CHANGE ethX for your lan network card. And you should add route( SERVER) to your subnet that the client is using on the lan network.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>