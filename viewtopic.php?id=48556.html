<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WiFi for Actiontec GT784WNV</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p223325">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">bad81637</div>
					<div class="post-datetime">
						21 Jan 2014, 02:49					</div>
				</div>
				<div class="post-content content">
					<p>Hey all,</p><p>I have an unused GT784WNV that I would like to put into service as a wireless extender.&nbsp; But before I get that far, I am attempting to take baby steps as, even though I have a decent background in computers in general, I get stupid real fast when it comes to networking. </p><p>According to this...</p><p><a href="http://wiki.openwrt.org/toh/actiontec/gt784wnv">http://wiki.openwrt.org/toh/actiontec/gt784wnv</a></p><p>&quot;The MAC address is initialized to all zeroes, which prevents normal config. It can be set manually, after which wireless works.&quot;</p><p>I&#039;ve been reading posts and trying all kinds of config changes for 3 days and I&#039;m ready to wave the white flag.</p><p>I have flashed the OpenWrt firmware (many, many times actually) but I cannot seem to get wifi working!!!</p><p>I say that based on the fact that the ifconfig command does not show a wireless network and when I &quot;scan&quot; for wireless networks in the luci gui I see nothing.</p><p>I am working under the assumption that wifi will work based on the wiki.&nbsp; But I really, REALLY need help with manually setting the MAC address.&nbsp; I think this is where I am getting hung up.</p><p>I&#039;ve put &quot;option macaddr&quot; and &quot;option disabled &#039;0&#039;&quot; in the /etc/config/wireless file but nothing is working.&nbsp; I&#039;ll gladly post my network and wireless files but they are basically right out of the fresh install with the changes I mention above.</p><p>If anyone is king enough to assist it would be *greatly* appreciated.</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>bad81637</strong> on 21 Jan 2014, 05:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223335">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bad81637</div>
					<div class="post-datetime">
						21 Jan 2014, 05:26					</div>
				</div>
				<div class="post-content content">
					<p>Doing some more digging, here is a snip from the output of the logread command.&nbsp; Definitely some stuff not right for wifi.&nbsp; Hopefully someone can tell me if it is possible to get wifi working on this device.&nbsp; Maybe I&#039;m working toward something that is not possible.</p><p>Could someone please confirm that the number I should be trying to set for the MAC address for the wifi is the one listed on the bottom of the router and labeled as the &quot;WAN MAC&quot;?</p><div class="codebox"><pre><code>Thu Jan  1 00:00:27 1970 daemon.info dnsmasq[665]: read /etc/hosts - 1 addresses
Thu Jan  1 00:00:20 1970 daemon.notice netifd: Interface &#039;loopback&#039; is now up
Thu Jan  1 00:00:20 1970 daemon.warn odhcpd[419]: Failed to send to ff02::1%br-lan (Cannot assign requested address)
Thu Jan  1 00:00:20 1970 daemon.warn odhcpd[419]: Failed to send to ff02::1%br-lan (Cannot assign requested address)
Thu Jan  1 00:00:21 1970 daemon.notice odhcpd[419]: Got a NS for fd95:ec41:d7c9::1
Thu Jan  1 00:00:21 1970 kern.info kernel: [   21.596000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0.1: link becomes ready
Thu Jan  1 00:00:21 1970 daemon.notice netifd: radio0 (515): command failed: Operation not supported (-122)
Thu Jan  1 00:00:21 1970 user.notice firewall: Reloading firewall due to ifup of lan (br-lan)
Thu Jan  1 00:00:22 1970 kern.info kernel: [   22.592000] br-lan: port 1(eth0.1) entered forwarding state
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): Configuration file: /var/run/hostapd-phy0.conf
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): Could not set interface wlan0 flags (UP): Cannot assign requested address
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): nl80211: Could not set interface &#039;wlan0&#039; UP
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): nl80211 driver initialization failed.
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): hostapd_free_hapd_data: Interface wlan0 wasn&#039;t started
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): cat: can&#039;t open &#039;/var/run/wifi-phy0.pid&#039;: No such file or directory
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): Command failed: Invalid argument
Thu Jan  1 00:00:23 1970 daemon.notice netifd: radio0 (515): Device setup failed: HOSTAPD_START_FAILED
Thu Jan  1 00:00:23 1970 daemon.notice odhcpd[419]: Got DHCPv6 request
Thu Jan  1 00:00:24 1970 daemon.notice odhcpd[419]: Got a NS for fd95:ec41:d7c9:0:6029:a77a:1e1d:b9d5</code></pre></div>											<p class="post-edited">(Last edited by <strong>bad81637</strong> on 21 Jan 2014, 05:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223357">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						21 Jan 2014, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>You can use a random MAC address if none is detected. Put this in your /etc/config wireless and try it again.<br /></p><div class="codebox"><pre><code>option phy phy0
option macaddr 00:11:22:33:44:55 </code></pre></div><p>If your /etc/config/wireless file is empty, then this won&#039;t solve anything.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223361">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bad81637</div>
					<div class="post-datetime">
						21 Jan 2014, 13:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the response.&nbsp; That change didn&#039;t appear to have any effect.&nbsp; Here are my config files.&nbsp; Any more ideas?&nbsp; </p><div class="codebox"><pre><code> 
root@OpenWrt:/etc/config# cat wireless

config wifi-device  radio0
        option type     mac80211
        option channel  11
        option hwmode   11g
        option path     &#039;pci0000:00/0000:00:00.0/0000:01:00.0/bcma0:0&#039;  ## I tried both with and without this line.
        option macaddr  &#039;00:11:23:33:44:55&#039;
        option phy      &#039;phy0&#039;
        option disabled &#039;0&#039;

config wifi-iface
        option device   radio0
        option network  lan
        option mode     ap
        option ssid     OpenWrt
        option encryption none

root@OpenWrt:/etc/config# cat network

config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
        option ula_prefix &#039;fd95:ec41:d7c9::/48&#039;

config interface &#039;lan&#039;
        option ifname &#039;eth0.1&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.1.1&#039;
        option netmask &#039;255.255.255.0&#039;
        option ip6assign &#039;60&#039;

config switch
        option name &#039;eth0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;

config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 1 2 3 8t&#039;</code></pre></div>											<p class="post-edited">(Last edited by <strong>bad81637</strong> on 21 Jan 2014, 13:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223380">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">bad81637</div>
					<div class="post-datetime">
						21 Jan 2014, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>Here is a thread where it looks like the person was having the same issue as me.&nbsp; In the final post, he mentions that he solved the problem by downloading some firmware from a website.&nbsp; Sounds promising, right?&nbsp; Well, the website is in Spanish and the thread is 27 pages long.&nbsp; Would anyone happen to know which link on the website points to the f/w that would help me?</p><p>Link to forum entry...<br /><a href="https://forum.openwrt.org/viewtopic.php?id=42800">https://forum.openwrt.org/viewtopic.php?id=42800</a></p><p>Link to website that contains the fix...<br /><a href="http://foro.seguridadwireless.net/openwrt/openwrt-en-routers-de-telefonica-home-station-alpha-asl26555-y-adb-p-dg-a4001n1/?PHPSESSID=4abbe52d94e4def6e210e5118fbcab7f">http://foro.seguridadwireless.net/openw … 118fbcab7f</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223387">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						21 Jan 2014, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>Looks like the kernel needs to be patched for these particular routers, otherwise the wifi won&#039;t work. You can use a git created by people at the forum you mention.<br /></p><div class="codebox"><pre><code>git clone git://github.com/openwrt-es/barrier-breaker-openwrt.git -b barrier-breaker_13.12</code></pre></div><p>It contains the fixes for the wifi.</p><p>BTW, the patches will be integrated (maybe soon) in next OpenWrt trunk revisions.</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 21 Jan 2014, 21:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223458">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">bad81637</div>
					<div class="post-datetime">
						22 Jan 2014, 13:20					</div>
				</div>
				<div class="post-content content">
					<p>I updated my firmware from the forum and wifi now works.&nbsp; I&#039;m not familiar with git so I&#039;ll need to check that out.&nbsp; As I&#039;m still learning about this, it seems like I can&#039;t do what I really wanted, which is to have wifi into the OpenWrt router from my main router and then have OpenWrt as a wireless AP.&nbsp; But it does work with an ethernet cable between routers.</p><p>Speed is slower than I expected.&nbsp; I disabled the firewall on the OpenWrt.&nbsp; Any suggestions to get better performance?&nbsp; Or is it normal to be slower.&nbsp; My speedtest.net speeds are about 50% slower through the OpenWrt vs. my main router.</p><p>Thanks for the help so far.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223459">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						22 Jan 2014, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>About the wifi performance. Broadcom still didn&#039;t bring any FLOSS quality drivers for the comunity, until this happens the wifi performance always will be poor. Atheros wifis are the way to have an excelent wifi performance.</p><p>Sadly you cannot replace your onboard wifi at your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223471">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">bad81637</div>
					<div class="post-datetime">
						22 Jan 2014, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>How would something like a TP-Link TL-WR841N work?&nbsp; These are pretty inexpensive and I may be able to get a used one for cheap.</p><p>Could this be used as both a wireless client and a wireless access point?&nbsp; That&#039;s really were I would like to be.&nbsp; I understand I may have some degraded performance, as long as it&#039;s not unacceptably slow.</p><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244142">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">hans109h</div>
					<div class="post-datetime">
						18 Aug 2014, 18:52					</div>
				</div>
				<div class="post-content content">
					<p>@bad81637,&nbsp; </p><p>I&#039;m about to start playing with openwrt on a GT784WN.&nbsp; I thought I&#039;d save myself some time and ask if you could list which build you were loading onto the modem and what patches you needed to get wifi working.</p><p>Thanks,</p><p>Hans</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265219">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">gike.ol</div>
					<div class="post-datetime">
						12 Feb 2015, 06:19					</div>
				</div>
				<div class="post-content content">
					<p>I have just flashed my GT784WNV with OpenWRT and I have problem with WiFi too.<br />Can&#039;t use it because of &quot;Wireless is disabled or not associated&quot;<br />And also is has only b and g modes, on wiki page (<a href="http://wiki.openwrt.org/toh/actiontec/gt784wnv#info">http://wiki.openwrt.org/toh/actiontec/gt784wnv#info</a>) it says that it has 802.11bgN - what happened to n mode?</p>											<p class="post-edited">(Last edited by <strong>gike.ol</strong> on 12 Feb 2015, 06:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265246">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						12 Feb 2015, 12:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gike.ol wrote:</cite><blockquote><p>I have just flashed my GT784WNV with OpenWRT and I have problem with WiFi too.<br />Can&#039;t use it because of &quot;Wireless is disabled or not associated&quot;<br />And also is has only b and g modes, on wiki page (<a href="http://wiki.openwrt.org/toh/actiontec/gt784wnv#info">http://wiki.openwrt.org/toh/actiontec/gt784wnv#info</a>) it says that it has 802.11bgN - what happened to n mode?</p></blockquote></div><p>First of all you should use trunk version for this router (bcm6328). <br />Second, which drivers are using your wifi, if b43, uninstall them and install kmod-brcmsmac. </p><p>In theory brcmsmac is able to manage the broadcom N mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265290">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">gike.ol</div>
					<div class="post-datetime">
						12 Feb 2015, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>thanks for fast reply<br />I&#039;ve uninstalled&nbsp; b43 and installed&nbsp; kmod-brcmsmac (with dependencies kmod-lib-cordic, kmod-lib-crc8 and kmod-brcmutil)<br />Wireless is still disabled or not associated and in b/g/n modes now is only auto mode in dropdown menu.</p><p>About trunk version, are you talking about this one?<br /><a href="https://downloads.openwrt.org/snapshots/trunk/brcm63xx/generic/openwrt-96328avng-16M-flash-generic-squashfs-cfe.bin">https://downloads.openwrt.org/snapshots … fs-cfe.bin</a><br />Is it OK that folder name is bRcm63xx, not bcm63xx?</p><p>How should I use it now? Simply &quot;Flash new firmware&quot; from WebUI?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265292">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						12 Feb 2015, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>Not sure, try with this firmware<br /><a href="https://downloads.openwrt.org/snapshots/trunk/brcm63xx/generic/openwrt-96328avng-8M-flash-generic-squashfs-cfe.bin">https://downloads.openwrt.org/snapshots … fs-cfe.bin</a><br />There are several firmwares with different size to avoid double image messing in CFE, I don&#039;t know if your board is affected. </p><p>For installing a new firmware, this is te best and easy way for routers models like yours.<br /><a href="http://wiki.openwrt.org/doc/techref/bootloader/cfe#using_cfe_web_http_server">http://wiki.openwrt.org/doc/techref/boo … ttp_server</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265305">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">gike.ol</div>
					<div class="post-datetime">
						12 Feb 2015, 19:29					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /><br />flashed <a href="https://downloads.openwrt.org/snapshots/trunk/brcm63xx/generic/openwrt-96328avng-16M-flash-generic-squashfs-cfe.bin">https://downloads.openwrt.org/snapshots … fs-cfe.bin</a> throw WebUI<br />not receiving any IP from it <br />can&#039;t connect by 192.168.1.1<br />can&#039;t reset settings to defaults&nbsp; </p><p>flashed <a href="https://downloads.openwrt.org/snapshots/trunk/brcm63xx/generic/openwrt-96328avng-8M-flash-generic-squashfs-cfe.bin">https://downloads.openwrt.org/snapshots … fs-cfe.bin</a> on another router (it had original firmware on it)<br />not receiving any IP from it <br />can&#039;t connect by 192.168.1.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p266477">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">markwithk</div>
					<div class="post-datetime">
						22 Feb 2015, 05:29					</div>
				</div>
				<div class="post-content content">
					<p>Have the same problem here. Wifi not working.<br />What is the latest solution?<br />Should I try to install some other drives or just flash the other image? But isn&#039;t the other image from the Spanish website for another model?</p><p>I am totally lost.<br />Any help would be appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p266497">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						22 Feb 2015, 12:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>markwithk wrote:</cite><blockquote><p>Have the same problem here. Wifi not working.<br />What is the latest solution?<br />Should I try to install some other drives or just flash the other image? But isn&#039;t the other image from the Spanish website for another model?</p><p>I am totally lost.<br />Any help would be appreciated.</p></blockquote></div><p>AFAIK in latest trunk versions the OpenWrt firmware comes without wifi drivers. You must install it.</p><p>- First configure the router to bring it internet access (edit /etc/config/network). Then install the drivers<br /></p><div class="codebox"><pre><code>opkg update
opkg install kmod-brcmsmac</code></pre></div><p>- you may also want to install luci web interface<br /></p><div class="codebox"><pre><code>opkg install luci
/etc/init.d/uhttpd enable</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p266581">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">markwithk</div>
					<div class="post-datetime">
						23 Feb 2015, 05:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><div class="quotebox"><cite>markwithk wrote:</cite><blockquote><p>Have the same problem here. Wifi not working.<br />What is the latest solution?<br />Should I try to install some other drives or just flash the other image? But isn&#039;t the other image from the Spanish website for another model?</p><p>I am totally lost.<br />Any help would be appreciated.</p></blockquote></div><p>AFAIK in latest trunk versions the OpenWrt firmware comes without wifi drivers. You must install it.</p><p>- First configure the router to bring it internet access (edit /etc/config/network). Then install the drivers<br /></p><div class="codebox"><pre><code>opkg update
opkg install kmod-brcmsmac</code></pre></div><p>- you may also want to install luci web interface<br /></p><div class="codebox"><pre><code>opkg install luci
/etc/init.d/uhttpd enable</code></pre></div></blockquote></div><br /><p>Thank you very much for the reply.</p><p>This device works with DSL so I do not know how to make it connect to the Internet.&nbsp; I plugged the phone cable in but no connection appeared.<br />Is the DSL function supposed to work with openwrt? Here in my case, it didn&#039;t.</p><p>I do get kmod-brcmsmac installed by downloading the packages to my computer and then transferring them to the device. But after this, wifi still won&#039;t work.</p><p>Now I want to flash it back to the original Verizon firmware, but I could not find the image file anywhere.<br />I did find the source code, but no image files.</p><p>Sigh...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p266615">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						23 Feb 2015, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>The internal xDSL modem is absolutely not supported by OpenWrt, and never will</p><p>The wifi is to be supposed to work in latest trunks</p><p>If you don&#039;t find the original firmware anywhere, then there is only one way to get it. Get a fresh device with the original firmware, and make a backup of the flash. The firmware can be exgracted from the backup.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>