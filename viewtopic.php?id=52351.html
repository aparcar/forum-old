<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Archer C5 V1.20 AC1200 question</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p244719">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						24 Aug 2014, 09:56					</div>
				</div>
				<div class="post-content content">
					<p>My local shop has just received stock of the Archer C5 (Yes ARCHER C5 not C7) AC1200 V1.20 router.</p><p>It is supported in trunk but the file size is 16mb whereas wikidevi reports it to be 8mb. The TP-Link firmware is around 8mb too.<br />So can anyone confirm the following questions:</p><p>- The file in trunk is for which version of Archer C5?<br />- Is the 5GHz card used in v1.20 of this router is the revised version which is supported by ath10k?</p><p>Product link: <a href="http://www.tp-link.com/en/products/details/?categoryid=2872&amp;model=Archer+C5">http://www.tp-link.com/en/products/deta … =Archer+C5</a></p><p><span class="postimg"><img src="http://www.tp-link.com/resources/images/products/gallery/Archer-C5(UN)1.0-02.jpg" alt="Archer C5 AC1200" /></span></p>											<p class="post-edited">(Last edited by <strong>farrukh</strong> on 24 Aug 2014, 10:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244806">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						25 Aug 2014, 05:57					</div>
				</div>
				<div class="post-content content">
					<p>Bump !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244826">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						25 Aug 2014, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>I approached TP-Link support to get info about:</p><p>- Flash size<br />- Ram size<br />- Make and mode numbers of both 2.4 and 5ghz radios.</p><p>but this is what I got in reply:</p><p>Dear Customer,</p><div class="codebox"><pre><code>Thank you very much for your email requesting information about our product.

1. Flash size of this Archer C5 is 128 Mbit;
2. Ram size is 512 Mbit * 2;
3. What do you mean by make and mode number? Do you mean how many devices can connect to this router? Generally speaking, the recommended value is 1~25 in total, the specific number depends on your traffic load. For example, if some clients inyour network are downloading large file, most of the bandwidth and system resources will be occupied, then only a few clients can enjoy the network, but if all the clients just do ordinary web browsing, then the router can handle much more clients simultaneously with good network performance. </code></pre></div><p>Upon explaining her the 3rd question this is what she said:</p><div class="codebox"><pre><code>Thanks for your kind feedback.

I confirmed this information with our seniors and Sincerely sorry to tell you that we cannot provide these details for you about this product, we hope you could understand this situation.

If you have any other problems, please let me know then I can take further steps.

Best Regards！

------------------------------------------------------------------

Sarah Xiao

Technical Support Engineer

TP-LINK Technology Co., LTD. </code></pre></div><p>So they&#039;re not revealing the radio info and the parts info seems outlandish too. Makes me wonder how come this router made it to OpenWRT trunk? Hope someone opens up the case and help me out. One of the existing member has already bricked their Archer C5 in an attempt to flash OpenWRT on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244835">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Aug 2014, 13:16					</div>
				</div>
				<div class="post-content content">
					<p>You can ask to the maker of support patch:</p><br /><p><a href="https://dev.openwrt.org/changeset/41814">https://dev.openwrt.org/changeset/41814</a></p><p><a href="https://forum.openwrt.org/profile.php?id=5">https://forum.openwrt.org/profile.php?id=5</a></p><br /><p><a href="https://dev.openwrt.org/wiki/Kaloz">https://dev.openwrt.org/wiki/Kaloz</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244927">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						26 Aug 2014, 09:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>You can ask to the maker of support patch:</p><br /><p><a href="https://dev.openwrt.org/changeset/41814">https://dev.openwrt.org/changeset/41814</a></p><p><a href="https://forum.openwrt.org/profile.php?id=5">https://forum.openwrt.org/profile.php?id=5</a></p><br /><p><a href="https://dev.openwrt.org/wiki/Kaloz">https://dev.openwrt.org/wiki/Kaloz</a></p></blockquote></div><p>Thanks, Sent him email but no reply yet after 15 hours. Either he is on vacation or that is not his active email address.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244929">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						26 Aug 2014, 10:46					</div>
				</div>
				<div class="post-content content">
					<p>Just got a reply for another TP-Link support person:</p><p>Dear Farrukh,<br />Thank you for choosing TP-LINK, This is Mandy from TP-LINK Technical Support.<br />Hope that can help you, please see following:</p><p>- Flash size: 128 Mbit<br />- Ram size: 512 Mbit * 2<br />- Which 5ghz radio card? Yes, it is Qualcomm Atheros <strong>QCA9880.</strong><br />--------------------------</p><p>So before I go and pickup this puppy, I&#039;m making sure if it is BR4A or the faulty AR1A revision of the 5ghz radio.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244948">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						26 Aug 2014, 12:49					</div>
				</div>
				<div class="post-content content">
					<p>512 Megabit x 2? So 128 MB RAM then <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>According to this: <a href="https://wikidevi.com/wiki/TP-LINK_Archer_C5">https://wikidevi.com/wiki/TP-LINK_Archer_C5</a></p><p>It has 8MB flash and 128MB RAM. Its big brother C7 has 16MB/128MB. I believe the new C5 AC1350 has same specs as well, so I&#039;d be surprised if yours have 128MB flash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244956">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						26 Aug 2014, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>I just went ahead and bought it and straight away flashed the latest OpenWRT trunk on it. The flashing went smooth and I&#039;m in telnet now and just finished installing LUCI. I can confirm that wiki is wrong. Because it has: <br />RAM = 128MB<br />FLASH = 16MB (512mbit x 2 / 8 = 128mbyte)<br />5Ghz radio = Don&#039;t know which revision it is but installing kmod-ath10k shows up the 5ghz interface in the WIFI page of Luci.</p><p>dmesg shows:</p><div class="codebox"><pre><code>11.130000] ath10k: pci irq legacy irq_mode 0 reset_mode 0
11.560000] ath10k: otp stream is empty, using board.bin contents
12.390000] ath10k: qca988x hw2.0 (0x4100016c, 0x043202ff) fw 10.1.467.2-1 api 2 htt 2.1</code></pre></div><p>Does that mean it has the V2 revision of QCA9880? And I don&#039;t have to open the case to check it?</p><p>cat /proc/cpuinfo:</p><div class="codebox"><pre><code>system type             : Qualcomm Atheros QCA9558 rev 0
machine                 : TP-LINK Archer C5
processor               : 0
cpu model               : MIPS 74Kc V5.0
BogoMIPS                : 358.80
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x0fe8, 0x07f8, 0x0ef0]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp dsp2
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available</code></pre></div><p>df -h</p><div class="codebox"><pre><code>Filesystem                Size      Used Available Use% Mounted on
rootfs                   12.9M      1.3M     11.6M  10% /
/dev/root                 2.0M      2.0M         0 100% /rom
tmpfs                    61.7M    444.0K     61.2M   1% /tmp
/dev/mtdblock3           12.9M      1.3M     11.6M  10% /overlay
overlayfs:/overlay       12.9M      1.3M     11.6M  10% /
tmpfs                   512.0K         0    512.0K   0% /dev</code></pre></div>											<p class="post-edited">(Last edited by <strong>farrukh</strong> on 26 Aug 2014, 13:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244968">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						26 Aug 2014, 15:19					</div>
				</div>
				<div class="post-content content">
					<p>Just check if you have 5GHz wifi I guess? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I&#039;m interested to know what kind of AC speeds you get, and the CPU load while doing transfers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244979">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						26 Aug 2014, 16:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Just check if you have 5GHz wifi I guess? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I&#039;m interested to know what kind of AC speeds you get, and the CPU load while doing transfers.</p></blockquote></div><p>Yes 5ghz is working ! Wasn&#039;t that easy to configure but finally managed it. The trick is to configure it through uci instead of luci.</p><p>I don&#039;t have any AC client so can&#039;t test it to full potential. Just did quick tests with an android phone and didn&#039;t notice any transfer issues. Will do some tests using macbook pro later.</p><p>What strikes me is that the max TX power in 2.4 GHZ is 23dbm and on 5ghz it shows 30dbm / 1000mw :0 in status. I wonder is it a typo or Is it really possible on a consumer grade router?</p><p>P.S. this is Archer C5 AC1200 with 3x3 external antennas and not the one which is listed as AC1350 on wikidevi.</p><p>Here is my wireless config if anyone ever needs:</p><div class="codebox"><pre><code>config wifi-device &#039;radio0&#039;
    option type &#039;mac80211&#039;
    option channel &#039;149&#039;
    option hwmode &#039;11a&#039;
    option path &#039;pci0000:01/0000:01:00.0&#039;
    option htmode &#039;VHT80&#039;

config wifi-iface
    option device &#039;radio0&#039;
    option network &#039;lan&#039;
    option mode &#039;ap&#039;
    option ssid &#039;XS 5G&#039;
    option encryption &#039;psk2+ccmp&#039;
    option key &#039;12345678&#039;

config wifi-device &#039;radio1&#039;
    option type &#039;mac80211&#039;
    option channel &#039;11&#039;
    option hwmode &#039;11g&#039;
    option path &#039;platform/qca955x_wmac&#039;
    option txpower &#039;23&#039;
    option country &#039;US&#039;
    option htmode &#039;HT40&#039;

config wifi-iface
    option device &#039;radio1&#039;
    option network &#039;lan&#039;
    option mode &#039;ap&#039;
    option ssid &#039;XS 2.4G&#039;
    option encryption &#039;psk2+ccmp&#039;
    option key &#039;12345678&#039;</code></pre></div>											<p class="post-edited">(Last edited by <strong>farrukh</strong> on 26 Aug 2014, 17:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245101">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						27 Aug 2014, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>Some impressions after usage of 30+ hours.</p><p>Pros:</p><p>- Both radios are stable. Haven&#039;t witnessed any tx rx error in logs or on the client side yet.</p><p>- Too good 2.4GHz wifi range. So good that I didn&#039;t have to use the 2nd AP on the ground floor. It easily covers 2 stories house with minimum 60% signal almost every where. In same scenario WDR3600 could&#039;t get stable signals to the ground floor.</p><p>- Outstanding 5GHz range. Almost as good as 2.4Ghz.</p><p>- Throughput is great on a 2011 macbook pro which is N only. So couldn&#039;t check AC yet but the 5GHz N performance beats any existing N routers I have quite convincingly. Hovering around 30MB/s (300+mbps) at just under 30% cpu usage with several processes running and several clients connected.</p><p><span class="postimg"><img src="http://i60.tinypic.com/wb6n0l.jpg" alt="http://i60.tinypic.com/wb6n0l.jpg" /></span></p><br /><p>- SMB and FTP speed is almost twice as fast as WDR3600.</p><p>Cons:<br />Wifi lights didn&#039;t lightup, So had to enable it manually from luci. That&#039;s it.</p><p>I think for $90, this seems to be a great option for those who want at-least guaranteed N throughput with AC capabilities always at disposal for future proofing.</p>											<p class="post-edited">(Last edited by <strong>farrukh</strong> on 27 Aug 2014, 22:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279897">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Hexxer2</div>
					<div class="post-datetime">
						13 Jun 2015, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>Long time ago since i read that. Dows the Archer C5 1.20 running with OpenWRT? Are these 5gHz problems still there? </p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283848">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						17 Jul 2015, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>I talked with OpenWrt developers on IRC and I got this comment:</p><p>&lt;dev&gt; valent_: i would not recommend atheros 802.11ac hardware<br />&lt;valent_&gt; dev, thanks for that tip, you have much better insight. do atheros 802.11ac still have driver issues? Which devices do you recommend?<br />&lt;dev&gt; at the moment, there is no fully stable 802.11ac solution<br />&lt;dev&gt; i&#039;m working on a driver for mediatek chipsets myself<br />&lt;dev&gt; with atheros 802.11ac chipsets there is no way for the community to fix most of the issues<br />&lt;dev&gt; because most of the interesting parts are locked away behind a crappy proprietary firmware<br />&lt;p0g0__&gt; the Annoying Propriatary Parts again...</p><p>I don&#039;t care about 802.11ac, just need stable router that supports 802.11n on both bands, and I have Archer C5 v1.2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283929">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						18 Jul 2015, 04:43					</div>
				</div>
				<div class="post-content content">
					<p>The WDR3600/4300 are very stable on both bands. Ath9k is well supported and has been around long enough to have the kinks worked out. It&#039;s driver is fully open AFAIK.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283973">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">petiso</div>
					<div class="post-datetime">
						18 Jul 2015, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>My Archer C7 was updated yesterday to CC RC3, and so far, it&#039;s VERY stable on both bands!</p><p>Edit: Wifi is still dropping on 5ghz, the difference is with RC3 my laptop is able to reconnect. In RC2 I must reboot the client to connect again.</p>											<p class="post-edited">(Last edited by <strong>petiso</strong> on 18 Jul 2015, 19:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284201">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">farrukh</div>
					<div class="post-datetime">
						20 Jul 2015, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m quite sure old trunk builds used to be fine. But I can confirm this issue is there on CC RC2. So something to do with recent ath10k driver or openwrt itself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284204">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						20 Jul 2015, 21:33					</div>
				</div>
				<div class="post-content content">
					<p>If you have problems with stability running OpenWrt on 802.11ac devices like Archer C5/C7 then try this firmware which author claims is rock solid:<br /><a href="https://forum.openwrt.org/viewtopic.php?id=50914">https://forum.openwrt.org/viewtopic.php?id=50914</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284229">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">petiso</div>
					<div class="post-datetime">
						20 Jul 2015, 23:00					</div>
				</div>
				<div class="post-content content">
					<p>I was reading some of the mails in the ath10k developers list, and since 10.2.4.45 used in CC RC3 (r46163), there was a LOT of patches applied to firmware.<br />Bleeding edge ath10k firmware version is 10.2.4.70, commited in OpenWRT r46194: maybe in the next release candidate we can, at least, try this firmware version? We are not too far!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294227">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">spirymedia</div>
					<div class="post-datetime">
						1 Oct 2015, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>I do not recommend this router with OpenWRT bullcrap. You won&#039;t get full performance. Stock firmware does 70% better performance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305858">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Deivs</div>
					<div class="post-datetime">
						2 Jan 2016, 14:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spirymedia wrote:</cite><blockquote><p>I do not recommend this router with OpenWRT bullcrap. You won&#039;t get full performance. Stock firmware does 70% better performance.</p></blockquote></div><p>Can confirm that. Same situation with DD-wrt, I have C5 V1.2. My laptop has 300 mbit wifi card, connected to 5 Ghz network, router has 2.4 Ghz network configurated also but if I connect laptop with 5 Ghz&nbsp; it usually lossing 2.4&nbsp; from network list after 10 -15 min... Speed on wifi not above 110 Mbit/s. So I decided go back to stock TP-link FW after one year DD-wrt and open wrt&nbsp; usage and I am very surprised. No network dropping, wifi speed is increased <a href="http://www.speedtest.net/my-result/4974208093">http://www.speedtest.net/my-result/4974208093</a> , so I think I will stay with latest stock FW for this router. My internet speed defined as 250 Mb/s. Router is 7 meters from pc, no walls or other obstacles.</p>											<p class="post-edited">(Last edited by <strong>Deivs</strong> on 6 Jan 2016, 20:48)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>