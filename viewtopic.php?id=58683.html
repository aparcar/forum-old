<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-mr3420 v1.2 Brick</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p285027">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">flavio.mrib</div>
					<div class="post-datetime">
						26 Jul 2015, 14:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>My tp Link tl-mr3420 v1.2 is bricked, the light are blinking but I can&#039;t ping the router, reset button doesn&#039;t work.</p><p>I found alot of information how to do a jtag but not for this version.</p><p>can someone help me?</p><p>best regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285091">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						27 Jul 2015, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi Flavio.</p><p>Sounds a lot like the how i have locked myself out 2 days ago.<br />I&#039;m also new at this but i&#039;ll give it a try.</p><p>I used a USB to TTL based on a CP2104 chip&nbsp; But others should also work.&nbsp; If you dont have one and buy a new one then find one that is already supported by your OS.&nbsp; CP210x is supported in the linux kernel<br />For windows you eventually need to install a driver</p><p>Connect <br />GND &lt;------&gt; GND<br />RX&nbsp; &lt;-------&gt; TX<br />TX &lt;-------&gt; RX</p><p>Use Putty or Minicom to make a serial connection</p><p>Set the bps rate (i had to set it to 57600 8N1 look in the wiki for the speed for your device)<br />Also make sure you select the right comport (For me it was /dev/ttyUSB0 but in windows it is probably different)</p><p>Start the terminal connection and reset the router... </p><p>Then you will see the boot stuff appear on the screen... When it stops and boot is ready then you need to hit enter.... I didn&#039;t know that and waited... and waited... hehehe</p><p>If the data it spits out is garbled, then you probably have the wrong bps rate, or a bad GND connection<br />When nothing appears at all then the RX and TX are mostlikely twisted, unplug and connect them the other way around...</p><p>I hope this covers most of the process.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285335">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">flavio.mrib</div>
					<div class="post-datetime">
						28 Jul 2015, 19:02					</div>
				</div>
				<div class="post-content content">
					<p>Thank you,</p><p>but where I connect the cable on router?</p><p>best regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285395">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						29 Jul 2015, 02:06					</div>
				</div>
				<div class="post-content content">
					<p>hmmm</p><p><a href="http://wiki.openwrt.org/_detail/toh/tp-link/tl741v2-1.jpg?id=toh%3Atp-link%3Atl-mr3420">http://wiki.openwrt.org/_detail/toh/tp- … Atl-mr3420</a><br />does that help?&nbsp; or is the v1.2 a total different PCB layout?</p><p>do you have a picture of it?</p><p>Have you tried to google for images? that look the same as your router?</p><p>or this perhaps?<br /><a href="https://redacacia.files.wordpress.com/2013/03/identify_connection.jpg">https://redacacia.files.wordpress.com/2 … ection.jpg</a><br />or<br /><a href="http://wiki.openwrt.org/_media/media/dsc02532_324.jpg?w=800&amp;tok=5c9960">http://wiki.openwrt.org/_media/media/ds … tok=5c9960</a></p><br /><p>PS&nbsp; Never connect the VCC unless you know what you are doing...<br />When not sure then just don&#039;t do it and keep learning until you are sure.</p><p>I&#039;m also still learning, so I hope someone with more knowledge of that router type can join the topic.</p>											<p class="post-edited">(Last edited by <strong>frietpan</strong> on 29 Jul 2015, 02:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285451">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">flavio.mrib</div>
					<div class="post-datetime">
						29 Jul 2015, 13:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>thank you for the answer.</p><p>Is diferent the version1.2 <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285537">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						29 Jul 2015, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>can you make a picture of the pcb? In a good resolution and not too blurry if possible.&nbsp; GND is easy to find so we only need to hunt down RX and TX.&nbsp; </p><p>What CPU/SoC chip is used on the v1.2? Try to find a datasheet of it. And search for the RX and TX pins</p><p>I&#039;m sure there must be some more info here on the website. What does the wiki tell you about the v1.2? You have to try to filter out the things that fit to your router.&nbsp; &nbsp;Keep in mind that we cannot see what you have in front of you, so to be able to help you we have to rely on what you are able to tell us.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285661">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">flavio.mrib</div>
					<div class="post-datetime">
						30 Jul 2015, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>please chek if one of this help. two from the front and one from rear<br />h*tps://uploaddeimagens.com.br/imagens/pic_0070-jpg<br />h*tps://uploaddeimagens.com.br/imagens/pic_0071-jpg<br />h*tps://uploaddeimagens.com.br/imagens/pic_0072-jpg</p>											<p class="post-edited">(Last edited by <strong>flavio.mrib</strong> on 30 Jul 2015, 20:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p285930">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						2 Aug 2015, 01:21					</div>
				</div>
				<div class="post-content content">
					<p>The four pin header marked SJ1 is the UART connection.</p><p>To me it looks like this is the case for you.</p><p><a href="http://postimg.org/image/v8nbbhjqf/">http://postimg.org/image/v8nbbhjqf/</a><br /><span class="postimg"><img src="http://postimg.org/image/v8nbbhjqf/" alt="TL-MR3420 v1.2 UART" /></span><br />I hope this link works...</p><p>The RX and TX might eventually be switched..&nbsp; <br />This should get you a long way.&nbsp; </p><p>Still... read all the stuff in the wiki<br /><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420">http://wiki.openwrt.org/toh/tp-link/tl-mr3420</a><br />you never can know too much.. :-)</p><p>It now depends on how severe the router is bricked <br />Getting the correct baudrate is the next step.&nbsp; <br />I&#039;m not sure if i can help with all of that, i&#039;m still having to learn the stuff myself and that could cause a lot of confusion.</p><br /><br /><p>another try to include the image...</p><p><span class="postimg"><img src="http://pasteboard.co/2p5METT5.png" alt="TL-MR3420 v1.2" /></span><br /><a href="http://pasteboard.co/2p5METT5.png">http://pasteboard.co/2p5METT5.png</a></p>											<p class="post-edited">(Last edited by <strong>frietpan</strong> on 2 Aug 2015, 01:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286002">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">flavio.mrib</div>
					<div class="post-datetime">
						2 Aug 2015, 17:40					</div>
				</div>
				<div class="post-content content">
					<p>Thank you. Now is only try <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p>first i need to find the usb to ttl, may be I need buy from the internet because here in portugal isn&#039;t easy to find</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p286031">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						2 Aug 2015, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>You are welcome,</p><p>It might be an idea to get a USB to TTL that has a chip that windows already recognises... (asuming you use windows?)&nbsp; </p><p>I have good results with the CP2104 chip with Ubuntu, </p><p><a href="http://www.aliexpress.com/item/New-product-promotion-2pcs-LOT-CP2104-CP2102-Serial-Converter-USB-2-0-To-TTL-UART-6PIN/1105133935.html">http://www.aliexpress.com/item/New-prod … 33935.html</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(takes about 5 weeks shipping time)</p><p>This one also has a DTR pin and breakout pads for RTS, CTS, etc. that could eventually be fun in the future...&nbsp; </p><p>Or you could order 3 differnt ones and just see what works best for you. these things are cheap enough to collect.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>