<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> openvpn on openwrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p56131">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mctiew</div>
					<div class="post-datetime">
						21 Sep 2007, 06:59					</div>
				</div>
				<div class="post-content content">
					<p>I presume many of you have tried using openvpn with openwrt boxes<br />from linksys and so on. Any one care to let me know how&#039;s the<br />performance ? Assuming a non vpn has a latency x, will adding vpn<br />layer causes a latency of 2x ? How about CPU utilization ?</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56132">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						21 Sep 2007, 09:16					</div>
				</div>
				<div class="post-content content">
					<p>It depends on the openvpn usage you have to. On the internet the VPN bottleneck ist most probably routing delay. I connect a WRT with another 80Mhz router through openvpn (running on both boxes) and perceive no significative delay.</p><p>CPU usage is very low, except during rekeying. I got then 2-4 seconds service interruption.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56171">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">eleon216</div>
					<div class="post-datetime">
						21 Sep 2007, 20:47					</div>
				</div>
				<div class="post-content content">
					<p>latency shouldÂ´t be a problem. <br />I tried to ping my router at home, and the respond-time is 50ms over an unencrypted connection and about 60ms over an openvpn-connection. so I get a delay of 10ms over the encrypted channel</p><p>but I disagree with rAndy: cpu-utilistation is quite high. </p><p>with a &quot;normal&quot; broadcom-cpu with 200 MHz you get about 200-300 kByte/sec if you use AES-128. <br />I think blowfish is a little bit faster but donÂ´t expect more than 500 KByte/sec, and you will have 100% CPU-utilisation. <br />It is not possible to use the crypto-engine of the wifi-device, and afaik there are no linux-drivers for the hardwarecryptoengine which is integrated in some newer broadcom-cpus (the wl-500g premium has such a chip).</p><p>If you need better performance you can look for a router with a faster cpu, or for a minipci-hardware-acceleration-module (I think soekris sell some with linux-support) and replace your wifi-module (if your router has a minipci-slot)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56194">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						22 Sep 2007, 00:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eleon216 wrote:</cite><blockquote><p>but I disagree with rAndy: cpu-utilistation is quite high. </p><p>with a &quot;normal&quot; broadcom-cpu with 200 MHz you get about 200-300 kByte/sec if you use AES-128. <br />I think blowfish is a little bit faster but donÂ´t expect more than 500 KByte/sec, and you will have 100% CPU-utilisation.</p></blockquote></div><p>Of course if you want such throughput a 200 Mhz cpu is definitively not enough. Here the hardware ist the bottleneck, not openvpn. wl500gp has crypto hardware, but, afaik, no usable linux driver, see <a href="http://forum.openwrt.org/viewtopic.php?id=5032">http://forum.openwrt.org/viewtopic.php?id=5032</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>