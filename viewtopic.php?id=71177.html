<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ATH10K driver support for Clearfog router board</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p360025">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">MarcAZ81</div>
					<div class="post-datetime">
						9 Jun 2017, 09:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone,</p><p>I just succeed to install OpenWRT mainline on Clearfog router board from SolidRun. Works fine, except mini-PCIe WiFi modules from Compex: WLE900VX on Qualcomm-Atheros QCA9880. As I seen on lots of posts I&#039;m not the only one in this case and the router board or the WiFi module aren&#039;t the problem.</p><p>I wrote a full step-by-step tutorial to build and install OpenWRT on the board:<br />forum.solid-run.com/viewtopic.php?f=34&amp;t=3287&amp;p=22116#p22116</p><p>On the .config file the following selected items are checked:<br /></p><div class="codebox"><pre><code>CONFIG_PACKAGE_ath10k-firmware-qca988x=y
CONFIG_PACKAGE_ATH_DFS=y
CONFIG_PACKAGE_kmod-ath10k=y</code></pre></div><p>When I&#039;m booting the board I got some errors about this firmware:<br /></p><div class="codebox"><pre><code>[   13.293644] ath10k_pci 0000:01:00.0: enabling device (0140 -&gt; 0142)
[   13.300102] ath10k_pci 0000:01:00.0: pci irq msi oper_irq_mode 2 irq_mode 0 reset_mode 0
[   13.479283] ath10k_pci 0000:01:00.0: Direct firmware load for ath10k/pre-cal-pci-0000:01:00.0.bin failed with error -2
[   13.490021] ath10k_pci 0000:01:00.0: Falling back to user helper
[   13.500372] firmware ath10k!pre-cal-pci-0000:01:00.0.bin: firmware_loading_store: map pages failed
[   13.509486] ath10k_pci 0000:01:00.0: Direct firmware load for ath10k/cal-pci-0000:01:00.0.bin failed with error -2
[   13.519883] ath10k_pci 0000:01:00.0: Falling back to user helper
[   13.530035] firmware ath10k!cal-pci-0000:01:00.0.bin: firmware_loading_store: map pages failed
[   13.554585] ath10k_pci 0000:01:00.0: qca988x hw2.0 target 0x4100016c chip_id 0x043202ff sub 0000:0000
[   13.563863] ath10k_pci 0000:01:00.0: kconfig debug 0 debugfs 1 tracing 0 dfs 1 testmode 1
[   13.573874] ath10k_pci 0000:01:00.0: firmware ver 10.2.4.97 api 5 features no-p2p crc32 f91e34f2
[   13.622787] ath10k_pci 0000:01:00.0: Direct firmware load for ath10k/QCA988X/hw2.0/board-2.bin failed with error -2
[   13.633259] ath10k_pci 0000:01:00.0: Falling back to user helper
[   13.643895] firmware ath10k!QCA988X!hw2.0!board-2.bin: firmware_loading_store: map pages failed
[   13.656918] ath10k_pci 0000:01:00.0: board_file api 1 bmi_id N/A crc32 bebc7c08
[   13.867871] hidraw: raw HID events driver (C) Jiri Kosina
[   14.795986] ath10k_pci 0000:01:00.0: htt-ver 2.1 wmi-op 5 htt-op 2 cal otp max-sta 128 raw 0 hwcrypto 1
[   14.886825] pci 0000:00:03.0: enabling device (0140 -&gt; 0142)
[   14.892536] ath10k_pci 0000:02:00.0: enabling device (0140 -&gt; 0142)
[   14.899002] ath10k_pci 0000:02:00.0: pci irq msi oper_irq_mode 2 irq_mode 0 reset_mode 0
[   15.074278] ath10k_pci 0000:02:00.0: Direct firmware load for ath10k/pre-cal-pci-0000:02:00.0.bin failed with error -2
[   15.085014] ath10k_pci 0000:02:00.0: Falling back to user helper
[   15.095334] firmware ath10k!pre-cal-pci-0000:02:00.0.bin: firmware_loading_store: map pages failed
[   15.104430] ath10k_pci 0000:02:00.0: Direct firmware load for ath10k/cal-pci-0000:02:00.0.bin failed with error -2
[   15.114820] ath10k_pci 0000:02:00.0: Falling back to user helper
[   15.125559] firmware ath10k!cal-pci-0000:02:00.0.bin: firmware_loading_store: map pages failed
[   15.134298] ath10k_pci 0000:02:00.0: qca988x hw2.0 target 0x4100016c chip_id 0x043202ff sub 0000:0000
[   15.143554] ath10k_pci 0000:02:00.0: kconfig debug 0 debugfs 1 tracing 0 dfs 1 testmode 1
[   15.153363] ath10k_pci 0000:02:00.0: firmware ver 10.2.4.97 api 5 features no-p2p crc32 f91e34f2
[   15.202285] ath10k_pci 0000:02:00.0: Direct firmware load for ath10k/QCA988X/hw2.0/board-2.bin failed with error -2
[   15.212756] ath10k_pci 0000:02:00.0: Falling back to user helper
[   15.223094] firmware ath10k!QCA988X!hw2.0!board-2.bin: firmware_loading_store: map pages failed
[   15.232409] ath10k_pci 0000:02:00.0: board_file api 1 bmi_id N/A crc32 bebc7c08</code></pre></div><p>Then the lspci command returns informations on both modules:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# lspci
00:02.0 Class 0604: 11ab:6828
00:03.0 Class 0604: 11ab:6828
01:00.0 Class 0280: 168c:003c
02:00.0 Class 0280: 168c:003c</code></pre></div><p>Full boot log:<br /></p><div class="codebox"><pre><code>BootROM - 1.73

Booting from MMC


General initialization - Version: 1.0.0
Detected Device ID 6828
High speed PHY - Version: 2.0

Init Customer board board SerDes lanes topology details:
 | Lane # | Speed|    Type     |
 ------------------------------|
 |   0    |  3   |  SATA0      |
 |   1    |  0   |  SGMII1     |
 |   2    |  5   |  PCIe1      |
 |   3    |  5   |  USB3 HOST1 |
 |   4    |  5   |  PCIe2      |
 |   5    |  0   |  SGMII2     |
 -------------------------------
PCIe, Idx 1: detected no link
PCIe, Idx 2: detected no link
High speed PHY - Ended Successfully
DDR3 Training Sequence - Ver TIP-1.39.0
DDR3 Training Sequence - Switching XBAR Window to FastPath Window 
DDR3 Training Sequence - Ended Successfully
BootROM: Image checksum verification PASSED

 __   __                      _ _
|  \/  | __ _ _ ____   _____| | |
| |\/| |/ _` | &#039;__\ \ / / _ \ | |
| |  | | (_| | |   \ V /  __/ | |
|_|  |_|\__,_|_|    \_/ \___|_|_|
         _   _     ____              _
        | | | |   | __ )  ___   ___ | |_ 
        | | | |___|  _ \ / _ \ / _ \| __| 
        | |_| |___| |_) | (_) | (_) | |_ 
         \___/    |____/ \___/ \___/ \__| 
 ** LOADER **


U-Boot 2013.01-g1e88e63-dirty (Jul 20 2016 - 21:38:48) Marvell version: 2015_T1.0p11

Board: A38x-Customer-Board-1
SoC:   MV88F6828 Rev A0
       running 2 CPUs
CPU:   ARM Cortex A9 MPCore (Rev 1) LE
       CPU 0
       CPU    @ 1332 [MHz]
       L2     @ 666 [MHz]
       TClock @ 250 [MHz]
       DDR3    @ 666 [MHz]
       DDR3 32 Bit Width,FastPath Memory Access, DLB Enabled, ECC Disabled
DRAM:  1 GiB
MMC:   mv_sdh: 0
sdhci_transfer_data: Error detected in status(0x408000)!
PCI-e 1 (IF 0 - bus 0) Root Complex Interface, Detected Link X1, GEN 1.1
PCI-e 2 (IF 1 - bus 1) Root Complex Interface, Detected Link X1, GEN 1.1
USB2.0 0: Host Mode
USB3.0 0: Host Mode
USB3.0 1: Host Mode

Map:   Code:                    0x3fed3000:0x3ff978bc
       BSS:                     0x3ffef564
       Stack:                   0x3f9c2f20
       Heap:                    0x3f9c3000:0x3fed3000
       U-Boot Environment:      0x000f0000:0x00100000 (MMC)

Board configuration detected:
Register 20 is = 0xffff
Writing 0xfff9 to register 20
Verifying value - 0xffff
Port1: phyAddr=0x1, Not Marvell PHY id1 ffff id2 ffff
PHY error - shutdown port1
Net:   
|  port  | Interface | PHY address  |
|--------|-----------|--------------|
| egiga0 |   RGMII   |     0x00     |
| egiga1 |   SGMII   |     0x01     |
| egiga2 |   SGMII   |   In-Band    |
egiga0 [PRIME], egiga1, egiga2
Hit any key to stop autoboot:  0 
18588 bytes read in 17 ms (1 MiB/s)
2277252 bytes read in 133 ms (16.3 MiB/s)
## Flattened Device Tree blob at 01000000
   Booting using the fdt blob at 0x01000000
   Loading Device Tree to 00ff8000, end 00fff89b ... OK

   Skipping Device Tree update (&#039;fdt_skip_update&#039; = yes)

Limit DDR size at 3GB due to power of 2 requirement of Address decoding

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.4.14 (jcd@jcdserveri7b) (gcc version 5.3.0 (OpenWrt GCC 5.3.0 50104) ) #83 SMP Thu Jun 8 14:51:03 UTC 2017
[    0.000000] CPU: ARMv7 Processor [414fc091] revision 1 (ARMv7), cr=10c5387d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine model: SolidRun Clearfog A1
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] PERCPU: Embedded 12 pages/cpu @cfdd1000 s17984 r8192 d22976 u49152
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 65024
[    0.000000] Kernel command line: rootfstype=ext4 root=/dev/mmcblk0p1 rw console=ttyS0,115200 rootwait
[    0.000000] PID hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
[    0.000000] Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Memory: 252760K/262144K available (4532K kernel code, 187K rwdata, 1628K rodata, 268K init, 299K bss, 9384K reserved, 0K cma-reserved, 0K highmem)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xd0800000 - 0xff800000   ( 752 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xd0000000   ( 256 MB)
[    0.000000]     pkmap   : 0xbfe00000 - 0xc0000000   (   2 MB)
[    0.000000]     modules : 0xbf000000 - 0xbfe00000   (  14 MB)
[    0.000000]       .text : 0xc0008000 - 0xc060c3d4   (6161 kB)
[    0.000000]       .init : 0xc060d000 - 0xc0650000   ( 268 kB)
[    0.000000]       .data : 0xc0650000 - 0xc067edb4   ( 188 kB)
[    0.000000]        .bss : 0xc067edb4 - 0xc06c9cec   ( 300 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000]  RCU restricting CPUs from NR_CPUS=4 to nr_cpu_ids=2.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.000000] NR_IRQS:16 nr_irqs:16 16
[    0.000000] mvebu_mbus: [Firmware Warn]: deprecated mbus-mvebu Device Tree, suspend/resume will not work
[    0.000000] L2C-310 enabling early BRESP for Cortex-A9
[    0.000000] L2C-310 full line of zeros enabled for Cortex-A9
[    0.000000] L2C-310 D prefetch enabled, offset 1 lines
[    0.000000] L2C-310 dynamic clock gating enabled, standby mode enabled
[    0.000000] L2C-310 Coherent cache controller enabled, 16 ways, 1024 kB
[    0.000000] L2C-310 Coherent: CACHE_ID 0x410054c9, AUX_CTRL 0x56070001
[    0.000000] Switching to timer-based delay loop, resolution 40ns
[    0.000003] sched_clock: 32 bits at 25MHz, resolution 40ns, wraps every 85899345900ns
[    0.000011] clocksource: armada_370_xp_clocksource: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 76450417870 ns
[    0.000161] Console: colour dummy device 80x30
[    0.000172] Calibrating delay loop (skipped), value calculated using timer frequency.. 50.00 BogoMIPS (lpj=250000)
[    0.000180] pid_max: default: 32768 minimum: 301
[    0.000220] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000226] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000446] CPU: Testing write buffer coherency: ok
[    0.000565] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.000593] Setting up static identity map for 0x8280 - 0x82d8
[    0.000692] mvebu-soc-id: MVEBU SoC ID=0x6828, Rev=0x4
[    0.000792] mvebu-pmsu: Initializing Power Management Service Unit
[    0.001262] Booting CPU 1
[    0.001458] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.001489] Brought up 2 CPUs
[    0.001496] SMP: Total of 2 processors activated (100.00 BogoMIPS).
[    0.001499] CPU: All CPU(s) started in SVC mode.
[    0.003540] VFP support v0.3: implementor 41 architecture 3 part 30 variant 9 rev 4
[    0.003629] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.003673] pinctrl core: initialized pinctrl subsystem
[    0.004048] NET: Registered protocol family 16
[    0.004623] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.029882] cpuidle: using governor ladder
[    0.033040] mvebu-pmsu: CPU hotplug support is currently broken on Armada 38x: disabling
[    0.033051] mvebu-pmsu: CPU idle is currently broken on Armada 38x: disabling
[    0.060712] SCSI subsystem initialized
[    0.060936] usbcore: registered new interface driver usbfs
[    0.060967] usbcore: registered new interface driver hub
[    0.060995] usbcore: registered new device driver usb
[    0.061602] clocksource: Switched to clocksource armada_370_xp_clocksource
[    0.063723] NET: Registered protocol family 2
[    0.063991] TCP established hash table entries: 2048 (order: 1, 8192 bytes)
[    0.064010] TCP bind hash table entries: 2048 (order: 2, 16384 bytes)
[    0.064031] TCP: Hash tables configured (established 2048 bind 2048)
[    0.064060] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.064075] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.064150] NET: Registered protocol family 1
[    0.064660] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.067808] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.067818] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.068744] io scheduler noop registered
[    0.068753] io scheduler deadline registered (default)
[    0.069233] armada-38x-pinctrl f1018000.pinctrl: registered pinctrl driver
[    0.069620] irq: Cannot allocate irq_descs @ IRQ50, assuming pre-allocated
[    0.069780] irq: Cannot allocate irq_descs @ IRQ82, assuming pre-allocated
[    0.070133] mv_xor f1060800.xor: Marvell shared XOR driver
[    0.112148] mv_xor f1060800.xor: Marvell XOR (Descriptor Mode): ( xor cpy intr )
[    0.112254] mv_xor f1060900.xor: Marvell shared XOR driver
[    0.152119] mv_xor f1060900.xor: Marvell XOR (Descriptor Mode): ( xor cpy intr )
[    0.152297] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    0.152670] console [ttyS0] disabled
[    0.172746] f1012000.serial: ttyS0 at MMIO 0xf1012000 (irq = 23, base_baud = 15625000) is a 16550A
[    0.730262] console [ttyS0] enabled
[    0.754059] f1012100.serial: ttyS1 at MMIO 0xf1012100 (irq = 24, base_baud = 15625000) is a 16550A
[    0.763454] ahci-mvebu f10a8000.sata: AHCI 0001.0000 32 slots 2 ports 6 Gbps 0x3 impl platform mode
[    0.772536] ahci-mvebu f10a8000.sata: flags: 64bit ncq sntf led only pmp fbs pio slum part sxs 
[    0.782076] scsi host0: ahci-mvebu
[    0.785678] scsi host1: ahci-mvebu
[    0.789196] ata1: SATA max UDMA/133 mmio [mem 0xf10a8000-0xf10a9fff] port 0x100 irq 45
[    0.797146] ata2: SATA max UDMA/133 mmio [mem 0xf10a8000-0xf10a9fff] port 0x180 irq 45
[    0.805194] ahci-mvebu f10e0000.sata: AHCI 0001.0000 32 slots 2 ports 6 Gbps 0x3 impl platform mode
[    0.814275] ahci-mvebu f10e0000.sata: flags: 64bit ncq sntf led only pmp fbs pio slum part sxs 
[    0.823871] scsi host2: ahci-mvebu
[    0.827460] scsi host3: ahci-mvebu
[    0.830966] ata3: SATA max UDMA/133 mmio [mem 0xf10e0000-0xf10e1fff] port 0x100 irq 46
[    0.838917] ata4: SATA max UDMA/133 mmio [mem 0xf10e0000-0xf10e1fff] port 0x180 irq 46
[    0.848030] libphy: Fixed MDIO Bus: probed
[    0.852282] libphy: orion_mdio_bus: probed
[    0.857694] mvneta f1030000.ethernet eth0: Using random mac address 0a:f3:cf:7d:aa:bf
[    0.866505] mvneta f1034000.ethernet eth1: Using random mac address 62:c8:8d:e1:35:3f
[    0.875252] mvneta f1070000.ethernet eth2: Using random mac address 92:c0:d6:0f:1e:1d
[    0.883172] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    0.889716] ehci-pci: EHCI PCI platform driver
[    0.894210] ehci-platform: EHCI generic platform driver
[    0.899554] ehci-orion: EHCI orion driver
[    0.903664] orion-ehci f1058000.usb: EHCI Host Controller
[    0.909087] orion-ehci f1058000.usb: new USB bus registered, assigned bus number 1
[    0.916749] orion-ehci f1058000.usb: irq 40, io mem 0xf1058000
[    0.941617] orion-ehci f1058000.usb: USB 2.0 started, EHCI 1.00
[    0.947834] hub 1-0:1.0: USB hub found
[    0.951623] hub 1-0:1.0: 1 port detected
[    0.955899] xhci-hcd f10f0000.usb3: xHCI Host Controller
[    0.961232] xhci-hcd f10f0000.usb3: new USB bus registered, assigned bus number 2
[    0.968849] xhci-hcd f10f0000.usb3: hcc params 0x0a000990 hci version 0x100 quirks 0x00010010
[    0.977420] xhci-hcd f10f0000.usb3: irq 48, io mem 0xf10f0000
[    0.983442] hub 2-0:1.0: USB hub found
[    0.987213] hub 2-0:1.0: 1 port detected
[    0.991246] xhci-hcd f10f0000.usb3: xHCI Host Controller
[    0.996586] xhci-hcd f10f0000.usb3: new USB bus registered, assigned bus number 3
[    1.004127] usb usb3: We don&#039;t know the algorithms for LPM for this host, disabling LPM.
[    1.012480] hub 3-0:1.0: USB hub found
[    1.016251] hub 3-0:1.0: 1 port detected
[    1.020321] xhci-hcd f10f8000.usb3: xHCI Host Controller
[    1.025663] xhci-hcd f10f8000.usb3: new USB bus registered, assigned bus number 4
[    1.033269] xhci-hcd f10f8000.usb3: hcc params 0x0a000990 hci version 0x100 quirks 0x00010010
[    1.041841] xhci-hcd f10f8000.usb3: irq 49, io mem 0xf10f8000
[    1.047850] hub 4-0:1.0: USB hub found
[    1.051649] hub 4-0:1.0: 1 port detected
[    1.055675] xhci-hcd f10f8000.usb3: xHCI Host Controller
[    1.061004] xhci-hcd f10f8000.usb3: new USB bus registered, assigned bus number 5
[    1.068556] usb usb5: We don&#039;t know the algorithms for LPM for this host, disabling LPM.
[    1.076895] hub 5-0:1.0: USB hub found
[    1.080668] hub 5-0:1.0: 1 port detected
[    1.084832] usbcore: registered new interface driver usb-storage
[    1.091021] armada38x-rtc f10a3800.rtc: rtc core: registered f10a3800.rtc as rtc0
[    1.098689] i2c /dev entries driver
[    1.113190] orion_wdt: Initial timeout 171 sec
[    1.117816] sdhci: Secure Digital Host Controller Interface driver
[    1.124019] sdhci: Copyright(c) Pierre Ossman
[    1.128568] sdhci-pxav3 f10d8000.sdhci: Got CD GPIO
[    1.133508] sdhci-pxav3 f10d8000.sdhci: No vmmc regulator found
[    1.139442] sdhci-pxav3 f10d8000.sdhci: No vqmmc regulator found
[    1.151620] ata1: SATA link down (SStatus 0 SControl 300)
[    1.157052] ata2: SATA link down (SStatus 0 SControl 300)
[    1.181613] ata4: SATA link down (SStatus 0 SControl 300)
[    1.187038] ata3: SATA link down (SStatus 0 SControl 300)
[    1.192522] mmc0: SDHCI controller on f10d8000.sdhci [f10d8000.sdhci] using ADMA
[    1.199982] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.209539] marvell-cesa f1090000.crypto: CESA device successfully registered
[    1.217333] NET: Registered protocol family 10
[    1.222380] NET: Registered protocol family 17
[    1.226863] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    1.239521] 8021q: 802.1Q VLAN Support v1.8
[    1.243808] Registering SWP/SWPB emulation handler
[    1.249513] armada38x-rtc f10a3800.rtc: setting system clock to 2106-02-07 06:26:55 UTC (4294967215)
[    1.259692] Waiting for root device /dev/mmcblk0p1...
[    1.295793] mmc0: MAN_BKOPS_EN bit is not set
[    1.304855] mmc0: new high speed MMC card at address 0001
[    1.310516] mmcblk0: mmc0:0001 DF4064 58.2 GiB 
[    1.315149] mmcblk0boot0: mmc0:0001 DF4064 partition 1 4.00 MiB
[    1.321151] mmcblk0boot1: mmc0:0001 DF4064 partition 2 4.00 MiB
[    1.327157] mmcblk0rpmb: mmc0:0001 DF4064 partition 3 4.00 MiB
[    1.334472]  mmcblk0: p1 p2
[    1.372079] EXT4-fs (mmcblk0p1): couldn&#039;t mount as ext3 due to feature incompatibilities
[    1.380543] EXT4-fs (mmcblk0p1): couldn&#039;t mount as ext2 due to feature incompatibilities
[    1.401934] EXT4-fs (mmcblk0p1): mounted filesystem with ordered data mode. Opts: (null)
[    1.410057] VFS: Mounted root (ext4 filesystem) on device 179:1.
[    1.416255] Freeing unused kernel memory: 268K (c060d000 - c0650000)
[    1.511668] init: Console is alive
[    1.515153] init: - watchdog -
[    1.541667] usb 5-1: new SuperSpeed USB device number 2 using xhci-hcd
[    1.562584] usb-storage 5-1:1.0: USB Mass Storage device detected
[    1.568906] usb-storage 5-1:1.0: Quirks match for vid 174c pid 55aa: 400000
[    1.575956] scsi host4: usb-storage 5-1:1.0
[    1.835793] Uniform Multi-Platform E-IDE driver
[    1.860793] init: - preinit -
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    2.571897] scsi 4:0:0:0: Direct-Access     ASMT     2115             0    PQ: 0 ANSI: 6
[    2.580644] sd 4:0:0:0: [sda] 234441648 512-byte logical blocks: (120 GB/112 GiB)
[    2.588303] random: procd urandom read with 12 bits of entropy available
[    2.595049] sd 4:0:0:0: [sda] Write Protect is off
[    2.600037] sd 4:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&#039;t support DPO or FUA
[    2.615102] sd 4:0:0:0: [sda] Attached SCSI disk
[    4.960324] mount_root: mounting /dev/root
[    4.964976] EXT4-fs (mmcblk0p1): re-mounted. Opts: (null)
[    4.970455] mount_root: loading kmods from internal overlay
[    5.022901] block: attempting to load /etc/config/fstab
[    5.029439] block: extroot: not configured
[    5.041064] procd: - early -
[    5.043997] procd: - watchdog -
[    5.620865] procd: - ubus -
[    5.774063] procd: - init -
Please press Enter to activate this console.
[    6.459967] md: linear personality registered for level -1
[    6.467862] md: raid0 personality registered for level 0
[    6.474683] md: raid1 personality registered for level 1
[    6.483251] md: raid10 personality registered for level 10
[    6.489606] async_tx: api initialized (async)
[    6.494502] xor: measuring software checksum speed
[    6.591595]    arm4regs  :  2102.400 MB/sec
[    6.691593]    8regs     :  1618.800 MB/sec
[    6.791591]    32regs    :  1672.400 MB/sec
[    6.795783] xor: using function: arm4regs (2102.400 MB/sec)
[    6.971906] raid6: int32x1  gen()   127 MB/s
[    7.141603] raid6: int32x1  xor()   140 MB/s
[    7.311887] raid6: int32x2  gen()   199 MB/s
[    7.481694] raid6: int32x2  xor()   174 MB/s
[    7.651614] raid6: int32x4  gen()   216 MB/s
[    7.821652] raid6: int32x4  xor()   166 MB/s
[    7.991777] raid6: int32x8  gen()   309 MB/s
[    8.161672] raid6: int32x8  xor()   172 MB/s
[    8.165951] raid6: using algorithm int32x8 gen() 309 MB/s
[    8.171360] raid6: .... xor() 172 MB/s, rmw enabled
[    8.176253] raid6: using intx1 recovery algorithm
[    8.183216] md: raid6 personality registered for level 6
[    8.188544] md: raid5 personality registered for level 5
[    8.193888] md: raid4 personality registered for level 4
[    8.204202] md: multipath personality registered for level -4
[    8.211393] aoe: AoE v85 initialised.
[    8.216736] NET: Registered protocol family 8
[    8.221105] NET: Registered protocol family 20
[    8.228383] device-mapper: ioctl: 4.34.0-ioctl (2015-10-28) initialised: dm-devel@redhat.com
[    8.244430] loop: module loaded
[    8.249687] nbd: registered device at major 43
[    8.258803] tun: Universal TUN/TAP device driver, 1.6
[    8.263899] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
[    8.276292] ipip: IPv4 over IPv4 tunneling driver
[    8.284200] l2tp_core: L2TP core driver, V2.0
[    8.288954] l2tp_netlink: L2TP netlink interface
[    8.297448] gre: GRE over IPv4 demultiplexor driver
[    8.302908] ip_gre: GRE over IPv4 tunneling driver
[    8.310360] PPP generic driver version 2.4.2
[    8.317584] ip6_tables: (C) 2000-2006 Netfilter Core Team
[    8.332718] nf_conntrack version 0.5.0 (3953 buckets, 15812 max)
[    9.452306] st: Version 20101219, fixed bufsize 32768, s/g segs 256
[    9.632108] Netfilter messages via NETLINK v0.30.
[    9.637751] ip_set: protocol 6
[   12.677455] Loading modules backported from Linux version wt-2016-05-12-0-g7a54796
[   12.685066] Backport generated by backports.git backports-20160216-0-ge3c56e4
[   13.257861] GPIO line 496 (pcie1.0-clkreq) hogged as input
[   13.263989] GPIO line 499 (pcie1.0-w-disable) hogged as output/low
[   13.270484] GPIO line 500 (pcie2.0-clkreq) hogged as input
[   13.276603] GPIO line 503 (pcie2.0-w-disable) hogged as output/low
[   13.283108] GPIO line 501 (usb3-current-limit) hogged as input
[   13.289566] GPIO line 502 (usb3-power) hogged as output/high
[   13.295856] GPIO line 507 (m.2 devslp) hogged as output/low
[   13.301741] GPIO line 508 (sfp-los) hogged as input
[   13.306930] GPIO line 509 (sfp-tx-fault) hogged as input
[   13.312873] GPIO line 510 (sfp-tx-disable) hogged as output/low
[   13.319105] GPIO line 511 (sfp-mod-def0) hogged as input
[   13.324486] pca953x 0-0020: interrupt support not compiled in
[   13.330324] mvebu-pcie soc:pcie-controller: /soc/pcie-controller/pcie@2,0: reset gpio is active low
[   13.340080] mvebu-pcie soc:pcie-controller: /soc/pcie-controller/pcie@3,0: reset gpio is active low
[   13.401715] mvebu-pcie soc:pcie-controller: PCI host bridge to bus 0000:00
[   13.408611] pci_bus 0000:00: root bus resource [io  0x1000-0xfffff]
[   13.414912] pci_bus 0000:00: root bus resource [mem 0xe0000000-0xe7ffffff]
[   13.421811] pci_bus 0000:00: root bus resource [bus 00-ff]
[   13.427551] PCI: bus0: Fast back to back transfers disabled
[   13.433147] pci 0000:00:02.0: bridge configuration invalid ([bus 00-00]), reconfiguring
[   13.441172] pci 0000:00:03.0: bridge configuration invalid ([bus 00-00]), reconfiguring
[   13.449484] PCI: bus1: Fast back to back transfers disabled
[   13.455358] PCI: bus2: Fast back to back transfers disabled
[   13.461006] pci 0000:00:02.0: BAR 8: assigned [mem 0xe0000000-0xe02fffff]
[   13.467822] pci 0000:00:03.0: BAR 8: assigned [mem 0xe0400000-0xe06fffff]
[   13.474635] pci 0000:01:00.0: BAR 0: assigned [mem 0xe0000000-0xe01fffff 64bit]
[   13.481974] pci 0000:01:00.0: BAR 6: assigned [mem 0xe0200000-0xe020ffff pref]
[   13.489214] pci 0000:00:02.0: PCI bridge to [bus 01]
[   13.494197] pci 0000:00:02.0:   bridge window [mem 0xe0000000-0xe02fffff]
[   13.501005] pci 0000:02:00.0: BAR 0: assigned [mem 0xe0400000-0xe05fffff 64bit]
[   13.508343] pci 0000:02:00.0: BAR 6: assigned [mem 0xe0600000-0xe060ffff pref]
[   13.515586] pci 0000:00:03.0: PCI bridge to [bus 02]
[   13.520563] pci 0000:00:03.0:   bridge window [mem 0xe0400000-0xe06fffff]
[   13.527858] pci 0000:00:02.0: enabling device (0140 -&gt; 0142)
[   13.533562] ath10k_pci 0000:01:00.0: enabling device (0140 -&gt; 0142)
[   13.540039] ath10k_pci 0000:01:00.0: pci irq msi oper_irq_mode 2 irq_mode 0 reset_mode 0
[   13.719283] ath10k_pci 0000:01:00.0: Direct firmware load for ath10k/pre-cal-pci-0000:01:00.0.bin failed with error -2
[   13.730020] ath10k_pci 0000:01:00.0: Falling back to user helper
[   13.740251] firmware ath10k!pre-cal-pci-0000:01:00.0.bin: firmware_loading_store: map pages failed
[   13.749366] ath10k_pci 0000:01:00.0: Direct firmware load for ath10k/cal-pci-0000:01:00.0.bin failed with error -2
[   13.759763] ath10k_pci 0000:01:00.0: Falling back to user helper
[   13.769926] firmware ath10k!cal-pci-0000:01:00.0.bin: firmware_loading_store: map pages failed
[   13.795280] ath10k_pci 0000:01:00.0: qca988x hw2.0 target 0x4100016c chip_id 0x043202ff sub 0000:0000
[   13.804561] ath10k_pci 0000:01:00.0: kconfig debug 0 debugfs 1 tracing 0 dfs 1 testmode 1
[   13.814591] ath10k_pci 0000:01:00.0: firmware ver 10.2.4.97 api 5 features no-p2p crc32 f91e34f2
[   13.863520] ath10k_pci 0000:01:00.0: Direct firmware load for ath10k/QCA988X/hw2.0/board-2.bin failed with error -2
[   13.873992] ath10k_pci 0000:01:00.0: Falling back to user helper
[   13.884377] firmware ath10k!QCA988X!hw2.0!board-2.bin: firmware_loading_store: map pages failed
[   13.897232] ath10k_pci 0000:01:00.0: board_file api 1 bmi_id N/A crc32 bebc7c08
[   14.127791] hidraw: raw HID events driver (C) Jiri Kosina
[   14.402334] sd 4:0:0:0: Attached scsi generic sg0 type 0
[   15.037314] ath10k_pci 0000:01:00.0: htt-ver 2.1 wmi-op 5 htt-op 2 cal otp max-sta 128 raw 0 hwcrypto 1
[   15.127023] pci 0000:00:03.0: enabling device (0140 -&gt; 0142)
[   15.132764] ath10k_pci 0000:02:00.0: enabling device (0140 -&gt; 0142)
[   15.139290] ath10k_pci 0000:02:00.0: pci irq msi oper_irq_mode 2 irq_mode 0 reset_mode 0
[   15.314244] ath10k_pci 0000:02:00.0: Direct firmware load for ath10k/pre-cal-pci-0000:02:00.0.bin failed with error -2
[   15.324982] ath10k_pci 0000:02:00.0: Falling back to user helper
[   15.335213] firmware ath10k!pre-cal-pci-0000:02:00.0.bin: firmware_loading_store: map pages failed
[   15.344347] ath10k_pci 0000:02:00.0: Direct firmware load for ath10k/cal-pci-0000:02:00.0.bin failed with error -2
[   15.354739] ath10k_pci 0000:02:00.0: Falling back to user helper
[   15.365302] firmware ath10k!cal-pci-0000:02:00.0.bin: firmware_loading_store: map pages failed
[   15.374044] ath10k_pci 0000:02:00.0: qca988x hw2.0 target 0x4100016c chip_id 0x043202ff sub 0000:0000
[   15.383300] ath10k_pci 0000:02:00.0: kconfig debug 0 debugfs 1 tracing 0 dfs 1 testmode 1
[   15.393387] ath10k_pci 0000:02:00.0: firmware ver 10.2.4.97 api 5 features no-p2p crc32 f91e34f2
[   15.442548] ath10k_pci 0000:02:00.0: Direct firmware load for ath10k/QCA988X/hw2.0/board-2.bin failed with error -2
[   15.453020] ath10k_pci 0000:02:00.0: Falling back to user helper
[   15.463437] firmware ath10k!QCA988X!hw2.0!board-2.bin: firmware_loading_store: map pages failed
[   15.472250] ath10k_pci 0000:02:00.0: board_file api 1 bmi_id N/A crc32 bebc7c08
[   16.211989] u32 classifier
[   16.214705]     input device check on
[   16.218373]     Actions configured
[   16.621908] ath10k_pci 0000:02:00.0: htt-ver 2.1 wmi-op 5 htt-op 2 cal otp max-sta 128 raw 0 hwcrypto 1
[   16.642060] Mirror/redirect action on
[   20.157786] fuse init (API version 7.23)
[   20.374293] ip_tables: (C) 2000-2006 Netfilter Core Team
[   20.382636] ctnetlink v0.93: registering with nfnetlink.
[   20.573789] PPP MPPE Compression module registered
[   20.579086] NET: Registered protocol family 24
[   20.584061] PPTP driver version 0.8.5
[   20.592791] usbcore: registered new interface driver usbserial
[   20.598672] usbcore: registered new interface driver usbserial_generic
[   20.605252] usbserial: USB Serial support registered for generic
[   20.622058] xt_time: kernel timezone is -0000
[   20.628238] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[   20.637756] usbcore: registered new interface driver sierra
[   20.643393] usbserial: USB Serial support registered for Sierra USB modem
[   20.650784] usbcore: registered new interface driver sierra_net
[   22.709908] random: nonblocking pool is initialized
[   23.203990] device eth0 entered promiscuous mode
[   23.209751] br-lan: port 1(eth0) entered forwarding state
[   23.215206] br-lan: port 1(eth0) entered forwarding state
[   23.230688] device eth1 entered promiscuous mode
[   23.235576] br-lan: port 2(eth1) entered forwarding state
[   23.241015] br-lan: port 2(eth1) entered forwarding state
[   23.254630] IPv6: ADDRCONF(NETDEV_UP): eth2: link is not ready
[   24.191724] br-lan: port 1(eth0) entered disabled state
[   24.197053] br-lan: port 2(eth1) entered disabled state
[   25.201621] mvneta f1030000.ethernet eth0: Link is Up - 1Gbps/Full - flow control off
[   25.209487] br-lan: port 1(eth0) entered forwarding state
[   25.214927] br-lan: port 1(eth0) entered forwarding state
[   25.221614] mvneta f1034000.ethernet eth1: Link is Up - 1Gbps/Full - flow control off
[   25.229472] br-lan: port 2(eth1) entered forwarding state
[   25.234901] br-lan: port 2(eth1) entered forwarding state
[   27.211598] br-lan: port 1(eth0) entered forwarding state
[   27.231597] br-lan: port 2(eth1) entered forwarding state
[   28.252019] mvneta f1070000.ethernet eth2: Link is Up - 1Gbps/Full - flow control off
[   28.259878] IPv6: ADDRCONF(NETDEV_CHANGE): eth2: link becomes ready
[   39.155421] EXT4-fs (mmcblk0p2): mounted filesystem with ordered data mode. Opts: (null)
[   42.131605] ath10k_pci 0000:01:00.0: bss channel survey timed out
[   45.131604] ath10k_pci 0000:01:00.0: bss channel survey timed out
[   48.131606] ath10k_pci 0000:02:00.0: bss channel survey timed out
[   51.131605] ath10k_pci 0000:02:00.0: bss channel survey timed out



BusyBox v1.24.2 () built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 DESIGNATED DRIVER (Bleeding Edge, 50104)
 -----------------------------------------------------
  * 2 oz. Orange Juice         Combine all juices in a
  * 2 oz. Pineapple Juice      tall glass filled with
  * 2 oz. Grapefruit Juice     ice, stir well.
  * 2 oz. Cranberry Juice
 -----------------------------------------------------
root@OpenWrt:/# </code></pre></div><p>Any help? Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360208">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MarcAZ81</div>
					<div class="post-datetime">
						12 Jun 2017, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi, ok just found it, just have to complete /etc/config/wireless to enable WiFi modules on specific channels, because doesn&#039;t support &quot;auto&quot; mode.</p><div class="codebox"><pre><code>config wifi-device &#039;radio0&#039;
        option type &#039;mac80211&#039;
        option channel &#039;36&#039;
        option hwmode &#039;11a&#039;
        option path &#039;soc/soc:pcie-controller/pci0000:00/0000:00:03.0/0000:02:00.0&#039;
        option htmode &#039;VHT80&#039;
        option txpower &#039;20&#039;
        option country &#039;FR&#039;

config wifi-iface
        option device &#039;radio0&#039;
        option mode &#039;ap&#039;
        option encryption &#039;none&#039;
        option ssid &#039;WiFi 5Ghz&#039;
        option network &#039;wlan0&#039;

config wifi-device &#039;radio1&#039;
        option type &#039;mac80211&#039;
        option path &#039;soc/soc:pcie-controller/pci0000:00/0000:00:02.0/0000:01:00.0&#039;
        option hwmode &#039;11g&#039;
        option channel &#039;10&#039;
        option htmode &#039;HT40&#039;
        option txpower &#039;20&#039;
        option country &#039;FR&#039;

config wifi-iface
        option device &#039;radio1&#039;
        option mode &#039;ap&#039;
        option encryption &#039;none&#039;
        option ssid &#039;WiFi 2.4Ghz&#039;
        option network &#039;wlan1&#039;</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>