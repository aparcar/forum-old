<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asus WL-500gP v1 with OpenWRT/Kamikaze 7.09 [2.4] &amp; iptables rules</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p74898">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">KeFaS</div>
					<div class="post-datetime">
						18 Oct 2008, 04:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>This is my first post here, so Hello. :-)</p><p>In few days I&#039;ll install OpenWRT/Kamikaze 7.09 [2.4] on my Asus WL-500g Premium v1.<br />I wanna build strong and effective firewall. I sometimes work on Linux, but I never setup iptables, because I&#039;m always behind the router with build-in firewall.<br />I was reading this board, FAQ&#039;s and HowTO&#039;s, but I&#039;m still not sure if my iptables will be good.<br />I&#039;m asking for help with custom iptables rules.<br />I wanna setup firewall something like that:</p><p>1. All ports from Internet (WAN) are close (I think this is standard safely configuration)<br />2. Few ports are forwarded from PC&#039;s in LAN to WAN, for ex. P2P ports TCP and UDP 18770.<br />3. Three ports are open directly on router to use ssh from outside (but on custom port TCP 18880), rTorrent (TCP and UDP 18777), and Irssi, but I&#039;m not sure IRC client need open port?<br />4. If the same IP from WAN are trying connect to open ports (ssh on router) 3 times per minute this IP will be blocked for 10 minutes. (I don&#039;t know... it will be good and effective rule?)<br />5. No respond to ping and icmp from WAN side. (Can it stop scanning trys?)<br />6. Inside LAN all ports are open and everything is enabled, but only inside LAN. (Is this in standard configuration?) I&#039;m not using Wi-Fi right now, only Ethernet connections. :-)</p><p>And one extra question:<br />7. Is possible to make second user (but not root) on OpenWRT and login using this user on router ssh from WAN to use rTorrent and Irssi on Screen? How can I do that? If I&#039;ll add user directly in /etc/passwd file it will be working?</p><p>Please help me make this iptables rules and answer to my question about extra user.</p><p>Thanks.</p><br /><p>Edit:</p><p>I have one more question.<br />I was reading about QoS, but I can&#039;t find any script which set high priority level to HTTP, POP3, SMTP, IRC, etc protocols when P2P (rTorrent) is running on router. I mean, I wanna comfortably use Internet when rTorrent is downloading and/or uploading something with max speed.<br />Can someone help me with this?</p>											<p class="post-edited">(Last edited by <strong>KeFaS</strong> on 19 Oct 2008, 07:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74994">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">KeFaS</div>
					<div class="post-datetime">
						20 Oct 2008, 04:14					</div>
				</div>
				<div class="post-content content">
					<p>Please, help me.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>