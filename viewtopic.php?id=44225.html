<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Substituting kernel source tree in buildroot?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p201889">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jmorash</div>
					<div class="post-datetime">
						15 May 2013, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi folks,</p><p>I am interested in trying out OpenWrt on an ARM development board that is supplied with a Yocto (OpenEmbedded) Linux build, booting from an SD card (with uBoot underneath). The processor on this board is a Freescale i.MX6 (Cortex A9). Freescale has their own kernel branch with a bunch of hardware specific patches that have not all made it upstream. They are currently on v3.0.35.</p><p>Would it be possible to substitute Freescale&#039;s kernel source tree into an OpenWrt buildroot and build successfully? I would have to add this target as an option for make menuconfig, presumably; and what else?</p><p>And would it be possible to run the latest-and-greatest OpenWrt with this old-ish kernel underneath? Hopefully thanks to the magic of compat-wireless?</p><p>Thanks,<br />Jim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201891">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						15 May 2013, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>Do these links help:<br /><a href="http://wiki.openwrt.org/doc/devel/add.new.platform">http://wiki.openwrt.org/doc/devel/add.new.platform</a><br /><a href="http://wiki.openwrt.org/doc/devel/add.new.device">http://wiki.openwrt.org/doc/devel/add.new.device</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201912">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jmorash</div>
					<div class="post-datetime">
						15 May 2013, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, I did see those documents. Either I am missing something, or they are incomplete.</p><p>The &quot;add new platform&quot; document ends a bit abruptly; it has easy to follow instructions for generating a patch set, for example, but what do I do with the patches? I can&#039;t apply them to the kernel that comes with OpenWrt trunk, it&#039;s far too recent. Hence my question about &quot;dropping in&quot; an entire linux source tree.</p><p>And there is a lot of detail on flash map handling, but nothing on the &quot;right way&quot; to actually add a new target platform to target/linux/ ...?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202335">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						20 May 2013, 18:22					</div>
				</div>
				<div class="post-content content">
					<p>I think this should be possible. OpenWrt buildroot has several options for external kernel trees, including local and remote (git).</p><p>In menuconfig, under &quot;Advanced configuration options (for developers)&quot; the options are:<br /></p><div class="codebox"><pre><code>Use external kernel tree
Enter git repository to clone
Enter path to local reference repository</code></pre></div><p>AFAIK if you specify an external tree, none of the OpenWrt kernel patches are applied.</p><p>One issue I could see is that the module paths in package/kernel/modules/*.mk might not be correct for such an old kernel. OpenWrt constantly updates to the latest kernel, and removes checks for old kernels.</p><p>If you&#039;re up for an adventure, you could try porting the changes from the old 3.0 kernel to the latest.</p>											<p class="post-edited">(Last edited by <strong>aport</strong> on 20 May 2013, 18:23)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>