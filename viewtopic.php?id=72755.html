<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Multi Servers behind router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p369466">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">TomSB</div>
					<div class="post-datetime">
						11 Dec 2017, 16:24					</div>
				</div>
				<div class="post-content content">
					<p>Good day,</p><p>I use a linksys router that is capable of running OpenWRT.</p><p>Someone told me that OpenWRT would be my solution to a problem.</p><p>I have a couple of servers behind my router, that all want to listen on port 80.</p><p>I currently use Port redirect to solve the issue, but have problems with people remembering all the different port numbers for the correct item they want.</p><p>I have been advised that OpenWRT can actually handle the direction of multi servers on the same port.&nbsp; <br />Is this actually something it can do? if so, what mod or package do I need to work with to get it going.</p><p>Any info on the subject would be greatly appreciated.</p><p>Thanks<br />Tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369472">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						11 Dec 2017, 18:49					</div>
				</div>
				<div class="post-content content">
					<p><span class="bbu">In general</span>, neither OpenWrt or any other software can do that: there is no way a router can guess which service is the client trying to reach, if all services are in the same port 80; there is provision at the TCP/IP level to do that.</p><p>However, version 1.1 of the HTTP protocol introduced the capability of hosting several &quot;virtual hosts&quot; in the same &quot;physical server&quot;. So, you could host a web server in the OpenWrt, and service several domains from that web server, be it directly or forwarding / redirecting to an internal host.</p><p>Have a look at the <a href="https://wiki.openwrt.org/doc/howto/http.overview">Web Server Overview</a>, and see which of them meets your needs. Or you could also try using a proxy server instead (see <a href="https://wiki.openwrt.org/doc/howto/proxy.overview">Proxy Server Overview</a>), if properly configured.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369476">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">cvmiller</div>
					<div class="post-datetime">
						11 Dec 2017, 20:20					</div>
				</div>
				<div class="post-content content">
					<p>What eduperez says is true. In addition, if you have IPv6 running, each of the hosts behind your firewall can respond to port 80 (assuming you put entries in the firewall to allow this). Of course, this would require each server to have a unique DNS name (with AAAA records).</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>