<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 6 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=5.html">5</a></li><li class="pagination-current"><span>6</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=8.html">8</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p151847">
				<div class="post-metadata">
					<div class="post-num">Post #126</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						23 Dec 2011, 00:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Backfire 10.03.SVN (r29594) / LuCI 0.10 Branch (0.10+svn8131)<br/><a href="http://koti.welho.com/hnyman1/Openwrt/backfire-r29594-2011-12-21-release-10.03.1/">http://koti.welho.com/hnyman1/Openwrt/backfire-r29594-2011-12-21-release-10.03.1/</a></p></blockquote></div><p>Running smoothly here, thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152302">
				<div class="post-metadata">
					<div class="post-num">Post #127</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						29 Dec 2011, 00:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>with the trunk build I have wondered about the stability of the new iwinfo based wireless-stats tab in luci-statistics. The recent builds have been occasionally crashing if that graph is enabled. But when the iwinfo section is disabled in luci-statistics, the last build r29571-2011-12-19 has been quite stable. The reason of the crashes is not quite clear yet, but I am keeping the graph off for the time being, just in case.</p></blockquote></div><p>Looks like the iwinfo wireless stats has a memory leak. It steadily grabs more memory. See the chart where it is enabled for the last 2.5 hours...<br/><a href="https://dev.openwrt.org/ticket/10630#comment:6">https://dev.openwrt.org/ticket/10630#comment:6</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 2 Jun 2012, 12:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154191">
				<div class="post-metadata">
					<div class="post-num">Post #128</div>
					<div class="post-author">nerbrume</div>
					<div class="post-datetime">
						14 Jan 2012, 20:40					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br/>I&#039;m trying to make the QOS work. Currently, it isn&#039;t working, but I don&#039;t know wether something is wrong with my setup or with your build.<br/>I&#039;ve saw there is some requirement, as indicated <a href="http://wiki.openwrt.org/doc/uci/qos">on the wiki</a>. By default, kmod-ifb is not included in your build, and I&#039;m not sure as wether act_connmark is included or not.</p><p>I&#039;ve manually added kmod-ifb with opkg. QOS seems to be still uneffective. Once again, that might be me misconfiguring it. I remember a lot of people having problems with QOS on OpenWRT<br/>Before starting to fiddle around, I would be glad to know if anybody have a working QOS on their 3700 with this build ? Thanks !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154369">
				<div class="post-metadata">
					<div class="post-num">Post #129</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Jan 2012, 13:03					</div>
				</div>
				<div class="post-content content">
					<p>Basic QoS works for me out of package both with my Backfire build and with trunk build. As far as I know, there is no need to add any kernel modules, unless you want to do something more advanced.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154404">
				<div class="post-metadata">
					<div class="post-num">Post #130</div>
					<div class="post-author">98i4rtg</div>
					<div class="post-datetime">
						16 Jan 2012, 17:01					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone determined the vulnerability of the WNDR3700/hnyman box to the recent WPS vulnerabilities? IIUC, attacks are now reported &quot;in the wild&quot;.</p><p><a href="http://lifehacker.com/5873407/how-to-crack-a-wi+fi-networks-wpa-password-with-reaver">http://lifehacker.com/5873407/how-to-crack-a-wi+fi-networks-wpa-password-with-reaver</a></p><p>Quote from the article:-<br/>&quot;...Unfortunately, as Gallagher points out at Ars, even with WPS<br/>manually turned off through his router&#039;s settings, Reaver was still<br/>able to crack his password.</p><p>In a phone conversation, Craig Heffner said that the inability to shut<br/>this vulnerability down is widespread. He and others have found it to<br/>occur with every Linksys and Cisco Valet wireless access point they&#039;ve<br/>tested. &quot;On all of the Linksys routers, you cannot manually disable<br/>WPS,&quot; he said. While the Web interface has a radio button that<br/>allegedly turns off WPS configuration, &quot;it&#039;s still on and still<br/>vulnerable.</p><p>So that&#039;s kind of a bummer.&quot;</p><p>Quote from a linked article at<br/><a href="http://arstechnica.com/business/news/2011/12/researchers-publish-open-source-tool-for-hacking-wifi-protected-setup.ars">http://arstechnica.com/business/news/20 … -setup.ars</a></p><p>&quot;The routers most vulnerable to these attacks—the ones without PIN<br/>lockout features—include products from Cisco&#039;s Linksys division,<br/>Belkin, Buffalo, Netgear, TP-Link, ZyXEL, and Technicolor. </p><p>None of the vendors has issued a statement on the vulnerability, or<br/>replied to inquiries from Veihbock.&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154589">
				<div class="post-metadata">
					<div class="post-num">Post #131</div>
					<div class="post-author">nerbrume</div>
					<div class="post-datetime">
						18 Jan 2012, 15:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Basic QoS works for me out of package both with my Backfire build and with trunk build. As far as I know, there is no need to add any kernel modules, unless you want to do something more advanced.</p></blockquote></div><p>Ok, thanks for the confirmation. I must now go dive in the qos documentation on OpenWRT, and understand why it&#039;s not effective for me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154598">
				<div class="post-metadata">
					<div class="post-num">Post #132</div>
					<div class="post-author">mmhorda</div>
					<div class="post-datetime">
						18 Jan 2012, 16:56					</div>
				</div>
				<div class="post-content content">
					<p>Do you possibly plan to provide sources for your builds?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154970">
				<div class="post-metadata">
					<div class="post-num">Post #133</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Jan 2012, 06:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mmhorda wrote:</cite><blockquote><p>Do you possibly plan to provide sources for your builds?</p></blockquote></div><p>I already have released them as diffs.<br/>E.g. for most recent trunk build, go <a href="http://koti.welho.com/hnyman1/Openwrt/trunk-r29722-2012-01-12/">http://koti.welho.com/hnyman1/Openwrt/trunk-r29722-2012-01-12/</a></p><p>Take the .config file that is there and use it for compilation (or modify it according to your tastes)<br/>Then use unix &#039;patch&#039; to patch main trunk source with <a href="http://koti.welho.com/hnyman1/Openwrt/trunk-r29722-2012-01-12/WNDR3700-trunk-r29722-2012-01-12-1935-svn.diff">http://koti.welho.com/hnyman1/Openwrt/t … 5-svn.diff</a><br/>Then patch &#039;packages&#039; feeds sources with <a href="http://koti.welho.com/hnyman1/Openwrt/trunk-r29722-2012-01-12/WNDR3700-trunk-r29722-2012-01-12-1935-packages.diff">http://koti.welho.com/hnyman1/Openwrt/t … kages.diff</a><br/>(If you want to modify also LucI source, download LuCI sources and patch with Luci diff. There is mainly changes to statistics defaults, a comment about reset button and LuCI config option for WPS button functionality)</p><p>The main diff also includes my full build scripts.</p><p>EDIT: Well, the newest trunk build is now <a href="http://koti.welho.com/hnyman1/Openwrt/trunk-r29844-2012-01-22/">http://koti.welho.com/hnyman1/Openwrt/trunk-r29844-2012-01-22/</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 22 Jan 2012, 09:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154971">
				<div class="post-metadata">
					<div class="post-num">Post #134</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Jan 2012, 06:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>98i4rtg wrote:</cite><blockquote><p>Has anyone determined the vulnerability of the WNDR3700/hnyman box to the recent WPS vulnerabilities? IIUC, attacks are now reported &quot;in the wild&quot;.</p></blockquote></div><p>My build uses the normal hostapd component for wireless security functionalities. But only the &quot;pushbutton&quot; authentication method is active there, so the &quot;PIN code&quot; method should not work. And that vulnerability is just about the PIN code thing.</p><p>(I haven&#039;t checked how well hostapd would support PIN code authentication in Openwrt, and I haven&#039;t checked if they have already patched the vulnerability upstream at hostapd sources.)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 22 Jan 2012, 09:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154973">
				<div class="post-metadata">
					<div class="post-num">Post #135</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Jan 2012, 07:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nerbrume wrote:</cite><blockquote><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Basic QoS works for me out of package both with my Backfire build and with trunk build. As far as I know, there is no need to add any kernel modules, unless you want to do something more advanced.</p></blockquote></div><p>Ok, thanks for the confirmation. I must now go dive in the qos documentation on OpenWRT, and understand why it&#039;s not effective for me...</p></blockquote></div><p>You have to check the default speed limits for QoS and then turn it on. (I have turned it off by default, as having it on without your personalized speed limits for your connection, it would be futile to have it enabled.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155291">
				<div class="post-metadata">
					<div class="post-num">Post #136</div>
					<div class="post-author">hvkls</div>
					<div class="post-datetime">
						25 Jan 2012, 01:05					</div>
				</div>
				<div class="post-content content">
					<p>My question may sound dumb, but anyway, here it is. I&#039;m new to the WNDR3700v2 and have flashed hnyman&#039;s WNDR3700v2-trunk-r29844-2012-01-22-0802-squashfs-sysupgrade.bin, at the default settings. There are only IPv4 addresses in my LAN. I would like connect to the internet thru a cable modem, but I never get a (IPv4) address from my ISP UnityMedia. The WAN interface is set to DHCP, so it should be a no-brainer, shouldn&#039;t it...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155293">
				<div class="post-metadata">
					<div class="post-num">Post #137</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						25 Jan 2012, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>Many cable modems require a reset to accept a new mac/device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155337">
				<div class="post-metadata">
					<div class="post-num">Post #138</div>
					<div class="post-author">hvkls</div>
					<div class="post-datetime">
						25 Jan 2012, 14:59					</div>
				</div>
				<div class="post-content content">
					<p>Did several resets, tried different cables (Cat5e, Cat6, Cat6Crossover). The best I can get is a WAN LED blinking at a rate of about 3 seconds. My WRT54G/DD-WRT works fine on the same cable I use now, and so did my TP-Link 1043ND/OpenWRT before I bricked it.</p><p>My network:</p><p>package &#039;dhcp&#039;</p><p>config &#039;dnsmasq&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;domainneeded&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;boguspriv&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;filterwin2k&#039; &#039;0&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;localise_queries&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;rebind_protection&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;rebind_localhost&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;local&#039; &#039;/lan/&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;domain&#039; &#039;lan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;expandhosts&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;nonegcache&#039; &#039;0&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;authoritative&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;readethers&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;leasefile&#039; &#039;/tmp/dhcp.leases&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;resolvfile&#039; &#039;/tmp/resolv.conf.auto&#039;</p><p>config &#039;dhcp&#039; &#039;lan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;interface&#039; &#039;lan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;start&#039; &#039;100&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;limit&#039; &#039;150&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;leasetime&#039; &#039;12h&#039;</p><p>config &#039;dhcp&#039; &#039;wan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;interface&#039; &#039;wan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ignore&#039; &#039;1&#039;</p><br/><p>package &#039;network&#039;</p><p>config &#039;interface&#039; &#039;loopback&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;lo&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039; &#039;127.0.0.1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0.1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.1.1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;</p><p>config &#039;interface&#039; &#039;wan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;eth1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;dhcp&#039;</p><p>config &#039;switch&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;rtl8366s&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;reset&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enable_vlan&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;blinkrate&#039; &#039;2&#039;</p><p>config &#039;switch_vlan&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;rtl8366s&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;vlan&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ports&#039; &#039;0 1 2 3 5t&#039;</p><p>config &#039;switch_port&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;rtl8366s&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;port&#039; &#039;1&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;led&#039; &#039;6&#039;</p><p>config &#039;switch_port&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;rtl8366s&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;port&#039; &#039;2&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;led&#039; &#039;9&#039;</p><p>config &#039;switch_port&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;rtl8366s&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;port&#039; &#039;5&#039;<br/>&nbsp; &nbsp; &nbsp; &nbsp; option &#039;led&#039; &#039;2&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155349">
				<div class="post-metadata">
					<div class="post-num">Post #139</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						25 Jan 2012, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>You might try using the &quot;Override MAC address&quot; option on the WAN interface to match that of your working WRT54G. If that succeeds, then you could either leave it that way, or call your ISP and complain about having to register your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155364">
				<div class="post-metadata">
					<div class="post-num">Post #140</div>
					<div class="post-author">hvkls</div>
					<div class="post-datetime">
						25 Jan 2012, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>It turned out to be a weird, cable-related problem. My Cisco EPC3212 cablemodem, the WNDR3700 and a Netgear GS108 GBit-Switch are located in two different corners of the room. My previous setup looked like C-----W-N, where one dash stands for one meter of Ethernet cable. I changed that to C-W-----N, and now it works. Using the same cables!</p><p>From what I&#039;ve read in the forum, there are reports about both GBit and Crossover cable issues with the WNDR3700. I still don&#039;t know how to make sense of the above.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155620">
				<div class="post-metadata">
					<div class="post-num">Post #141</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						28 Jan 2012, 14:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Looks like the iwinfo wireless stats has a memory leak. It steadily grabs more memory.</p></blockquote></div><p>Jow has fixed that memory leak in iwinfo component, so the trunk wireless stats should again be stable.</p><p>I have updated both Backfire and Trunk builds to r29933. One addition in January has been the HTTPS support for LuCI.</p><p>Trunk seems to have some trouble with mounting mtdblocks(?):<br/>Jan 24 18:44:09 OpenWrt user.notice fstab: mount: mounting /dev/mtdblock0 on /mnt/mtdblock0 failed: Invalid argument<br/>The system log contains those references to /mnt/mtdblock0, 1, 2, 3, 5, 6, (but not 4). However, I have not seen any actual negative effects. I wrote a ticket about it: <a href="https://dev.openwrt.org/ticket/10850">https://dev.openwrt.org/ticket/10850</a><br/>Build 29890 had already the error messages, while&nbsp; 29844 did not have. So, some change between them is causing this. (This has also been reported by Ferob in Arokh&#039;s thread, so this is not just in my builds.)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 28 Jan 2012, 14:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155719">
				<div class="post-metadata">
					<div class="post-num">Post #142</div>
					<div class="post-author">hvkls</div>
					<div class="post-datetime">
						29 Jan 2012, 14:37					</div>
				</div>
				<div class="post-content content">
					<p>Would you take any feature requests? I could really use NFS client access, i.e. lockd.ko, sunrpc.ko (kmod-fs-nfs-common) and nfs.ko (kmod-fs-nfs)...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155737">
				<div class="post-metadata">
					<div class="post-num">Post #143</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						29 Jan 2012, 16:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hvkls wrote:</cite><blockquote><p>Would you take any feature requests? I could really use NFS client access, i.e. lockd.ko, sunrpc.ko (kmod-fs-nfs-common) and nfs.ko (kmod-fs-nfs)...</p></blockquote></div><p>I haven&#039;t really thought about it. I have no need for that functionality, and I have tried to keep the router pretty basic.</p><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Trunk seems to have some trouble with mounting mtdblocks(?):<br/>Jan 24 18:44:09 OpenWrt user.notice fstab: mount: mounting /dev/mtdblock0 on /mnt/mtdblock0 failed: Invalid argument<br/>The system log contains those references to /mnt/mtdblock0, 1, 2, 3, 5, 6, (but not 4). However, I have not seen any actual negative effects. I wrote a ticket about it: <a href="https://dev.openwrt.org/ticket/10850">https://dev.openwrt.org/ticket/10850</a></p></blockquote></div><p>I think I have narrowed the regression range down: r29860 does not produce the error, but the version built with r29862 does produce that error.</p><p>Of the two changesets r29861 and r29862, r29862 sounds like a more probable suspect for the reason of those error messages. If I understand the change correctly, it makes some of the hotplug triggers to re-run.&nbsp; <a href="https://dev.openwrt.org/changeset/29862">https://dev.openwrt.org/changeset/29862</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155807">
				<div class="post-metadata">
					<div class="post-num">Post #144</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						30 Jan 2012, 06:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>I haven&#039;t really thought about it. I have no need for that functionality, and I have tried to keep the router pretty basic.</p></blockquote></div><p>In my opinion that&#039;s the best thing about the build, that it is a router and only a router. It improves performance, security and maintainability. When additional funtionality is needed, the standard packages are easily loaded in any case.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157015">
				<div class="post-metadata">
					<div class="post-num">Post #145</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						11 Feb 2012, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>The default kernel for ar71xx builds was bumped up from Linux 2.6 to 3.2 with svn changeset 30403. So, that may cause some &quot;unexpected features&quot; in the near future, before things stabilize.</p><p>Apparently the &quot;mtdblock bug&quot; is mostly cosmetics. See <a href="https://dev.openwrt.org/ticket/10850">https://dev.openwrt.org/ticket/10850</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157391">
				<div class="post-metadata">
					<div class="post-num">Post #146</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						14 Feb 2012, 20:05					</div>
				</div>
				<div class="post-content content">
					<p>The default compiler was bumped up to gcc4.6, and that seems to break several modules. Some of them have already been fixed, but collectd, the base of LuCI statistics, seems to be still broken (due to too tight compiler warning checks). After a small makefile patch I managed to get the compilation to work (https://dev.openwrt.org/ticket/10962 ) , so trunk r30523 is the first version with the new 3.2 kernel and built with the new compiler. The build seems quite ok, so far.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157644">
				<div class="post-metadata">
					<div class="post-num">Post #147</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Feb 2012, 20:44					</div>
				</div>
				<div class="post-content content">
					<p>Related to collectd, after Jow had patched it to relax the warning checks, I noticed that those two surplus variables about which gcc4.6 complained, have been removed in August 2011 from the collectd source code.</p><p>&quot;Many build fixes that turned up with GCC 4.6.&quot;&nbsp; <a href="http://git.verplant.org/?p=collectd.git;a=commit;h=61a1fa91ba73e4fe3a34949f77c5f017056f2b7a">http://git.verplant.org/?p=collectd.git;a=commit;h=61a1fa91ba73e4fe3a34949f77c5f017056f2b7a</a></p><p>The fixes would be included the current collectd 4.10.5, but because Openwrt is still using the old 4.10.2, gcc ran into that problem already fixed in upstream.</p><p>I have patched my trunk build 30585 with collectd 4.10.5 and submitted a patch to update it in the general source code. Hopefully it gets officially implemented at some point. <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2012-February/014017.html">https://lists.openwrt.org/pipermail/openwrt-devel/2012-February/014017.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158364">
				<div class="post-metadata">
					<div class="post-num">Post #148</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Feb 2012, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>I have tentatively switched from rng-tools to haveged as the entropy source in r30685.<br/>The package is not yet in the packages feed repository, but Olipro has submitted the definition to the Openwrt-devel mailing list, so hopefully it ends up in the repository: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2012-February/014127.html">https://lists.openwrt.org/pipermail/openwrt-devel/2012-February/014127.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162184">
				<div class="post-metadata">
					<div class="post-num">Post #149</div>
					<div class="post-author">hvkls</div>
					<div class="post-datetime">
						26 Mar 2012, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>Sorry to bug you again-- I tried to force the installation of the nfs-common/nfs (client) trunk kernel modules, but the post-installation insmod operation never completed. I didn&#039;t dare to reboot without having reverted the installation. Is there any way to use precompiled kmod-nfs(-common) modules with your build? The FTDI module, for example, just works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162187">
				<div class="post-metadata">
					<div class="post-num">Post #150</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						26 Mar 2012, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>It depends.<br/>Kernel modules calculate nowadays a checksum for the kernel options used in compilation, so getting additional kernel modules to install is hard. </p><p>I have otherwise pure vanilla defaults, but I have enabled timestamps from kernel log. That may be enough to prevent from using pre-compiled snapshot modules.</p><p>EDIT: additionally, the ar71xx snapshots seem to be from 14 March 2012, when there still was the 3.2.9 kernel. It has been updated to 3.2.12 after that and my newest build already uses that.</p><p>I wonder, why the snapshots have not been run in almost two weeks.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 26 Mar 2012, 23:25)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 151 to 150 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 6 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=5.html">5</a></li><li class="pagination-current"><span>6</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=8.html">8</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>