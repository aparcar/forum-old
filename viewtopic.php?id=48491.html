<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> igmpproxy doesnt start</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p223027">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ralu</div>
					<div class="post-datetime">
						17 Jan 2014, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>I am trying to set up igmpproxy. I followed walktrough on&nbsp; wiki, but running igmpproxy with -d yields </p><div class="codebox"><pre><code>Vif #2 was already upstream. Cannot set VIF #3 as upstream as well.</code></pre></div><p>More precise running igmpproxy -dvv /etc/igmpproxy.conf returns</p><div class="codebox"><pre><code>root@OpenWrt:/etc# igmpproxy -dvv igmpproxy.conf 
Searching for config file at &#039;igmpproxy.conf&#039;
Config: Quick leave mode enabled.
Config: Got a phyint token.
Config: IF: Config for interface eth0.2.
Config: IF: Got upstream token.
Config: IF: Got ratelimit token &#039;0&#039;.
Config: IF: Got threshold token &#039;1&#039;.
Config: IF: Got altnet token 192.168.1.0/24.
Config: IF: Altnet: Parsed altnet to 192.168.1/24.
IF name : eth0.2
Next ptr : 0
Ratelimit : 0
Threshold : 1
State : 1
Allowednet ptr : 8952a8
Config: Got a phyint token.
Config: IF: Config for interface br-lan.
Config: IF: Got downstream token.
Config: IF: Got ratelimit token &#039;0&#039;.
Config: IF: Got threshold token &#039;1&#039;.
IF name : br-lan
Next ptr : 0
Ratelimit : 0
Threshold : 1
State : 2
Allowednet ptr : 0
buildIfVc: Interface lo Addr: 127.0.0.1, Flags: 0x0049, Network: 127/8
buildIfVc: Interface br-lan Addr: 192.168.1.1, Flags: 0x1043, Network: 192.168.1/24
buildIfVc: Interface eth0.2 Addr: 188.230.111.222, Flags: 0x1043, Network: 188.230/16
buildIfVc: Interface eth0.2 Addr: 188.230.111.222, Flags: 0x1043, Network: 188.230/16
Found config for br-lan
Found config for eth0.2
Found config for eth0.2
adding VIF, Ix 0 Fl 0x0 IP 0xc0a80101 br-lan, Threshold: 1, Ratelimit: 0
        Network for [br-lan] : 192.168.1/24
adding VIF, Ix 1 Fl 0x0 IP 0xbce66fde eth0.2, Threshold: 1, Ratelimit: 0
        Network for [eth0.2] : 188.230/16
        Network for [eth0.2] : 192.168.1/24
Vif #2 was already upstream. Cannot set VIF #3 as upstream as well.</code></pre></div><br /><p>I have currently default configs and have tried varous setting, but none of them works.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>