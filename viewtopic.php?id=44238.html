<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Current Kernel&#039;s in Source</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p201937">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pjfrase</div>
					<div class="post-datetime">
						16 May 2013, 09:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>I am somewhat confused at how to identify the kernel that is used in each relase. </p><p>Can someone tell me the following: </p><p>1: Attitude Adjustment 12.09 Final - Kernel Version? </p><p>2: Trunk - Kernel Version</p><p>3: Where can I find this information?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201938">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ryzhov_al</div>
					<div class="post-datetime">
						16 May 2013, 09:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>Kernel version depends on platform you going to use. Details is <a href="https://dev.openwrt.org/browser/trunk/target/linux">here</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201939">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						16 May 2013, 09:45					</div>
				</div>
				<div class="post-content content">
					<p>You can also look at packages collection for selected platform and check any kmod-* package filename - it includes kernel version number. <br />See <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/packages/">AA&#039;s packages</a> for ar71xx for example.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201940">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 May 2013, 10:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pjfrase wrote:</cite><blockquote><p>3: Where can I find this information?</p></blockquote></div><p>From the correct platform&#039;s Makefile:<br />Trunk/ar71xx kernel version is 3.8.12: <a href="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/Makefile">https://dev.openwrt.org/browser/trunk/t … x/Makefile</a><br />AA/ar71xx version is 3.3.8: <a href="https://dev.openwrt.org/browser/branches/attitude_adjustment/target/linux/ar71xx/Makefile">https://dev.openwrt.org/browser/branche … x/Makefile</a></p><p>You have to replace ar71xx with your device&#039;s platform.<br />In general,&nbsp; AA uses 3.3.8, while trunk is mostly 3.8.12 (some plaforms already 3.9, some still in 3.6).</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 May 2013, 10:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202009">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pjfrase</div>
					<div class="post-datetime">
						17 May 2013, 04:07					</div>
				</div>
				<div class="post-content content">
					<p>Cheers guys, that helps alot. </p><p>Makes sense now why i was so confused.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202469">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">pjfrase</div>
					<div class="post-datetime">
						22 May 2013, 05:02					</div>
				</div>
				<div class="post-content content">
					<p>Ok, so after some further investigation around the kernel I am again a little confused. </p><p>I now know where to find which kernel is being run. However how come some packages wont install? For example: </p><p>This is a list of pacakges available in AA RC2. This version runs kernel 3.3.8. <br /><a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc2/x86/net5501/packages/">http://downloads.openwrt.org/attitude_a … /packages/</a></p><p>The package for openvpn however says that it does not meet dependencies and requires kernel 3.3.8.1.</p><p>Why is this package listed as available if its not supported for this version?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202472">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 May 2013, 06:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pjfrase wrote:</cite><blockquote><p>The package for openvpn however says that it does not meet dependencies and requires kernel 3.3.8.1.<br />Why is this package listed as available if its not supported for this version?</p></blockquote></div><p>The packages are tightly version dependent. E.g. the kmod kernel modifications have to be from the same build run as the main kernel. If you are running AA final, most likely the rc2 packages (especially kernel related) will refuse to work.</p><p>you may try to use --force-depends option with opkg command line, but that may brick the router...<br /><a href="http://wiki.openwrt.org/doc/techref/opkg">http://wiki.openwrt.org/doc/techref/opkg</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202473">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">pjfrase</div>
					<div class="post-datetime">
						22 May 2013, 06:34					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply. Turns out I am running RC1 </p><p>When i do an opkg update: i see: Downloading <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/x86/xen_domu/packages/Packages.gz.">http://downloads.openwrt.org/attitude_a … ckages.gz.</a></p><p>This tells me I am running RC-1. Im still confused though if I am getting a package list for RC1 and in that list the packages are available why would they not install? </p><p>Are you saying that all the packages for RC1 are the same regardless of which kernel you have? </p><p>So i might be able to install it on Atheros ar71xx but not on Xen?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202474">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 May 2013, 06:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pjfrase wrote:</cite><blockquote><p>Thanks for the reply. Turns out I am running RC1 </p><p>When i do an opkg update: i see: Downloading <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/x86/xen_domu/packages/Packages.gz.">http://downloads.openwrt.org/attitude_a … ckages.gz.</a></p><p>This tells me I am running RC-1.</p></blockquote></div><p>No, it does not.<br />It means that your /etc/opkg.conf settings file still points to the rc1 library, but it says nothing about your actual version. (Sadly, that file is carried on with an update, so after a sysupgrade it does not reflect the correct packages library for you, if you have preserved settings in the sysupgrade.)</p><p>Check the /etc/banner or /etc/openwrt_release for version info.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/openwrt_release
DISTRIB_ID=&quot;OpenWrt&quot;
DISTRIB_RELEASE=&quot;Bleeding Edge&quot;
DISTRIB_REVISION=&quot;r36675&quot;
DISTRIB_CODENAME=&quot;barrier_breaker&quot;
DISTRIB_TARGET=&quot;ar71xx/generic&quot;
DISTRIB_DESCRIPTION=&quot;OpenWrt Barrier Breaker r36675&quot;</code></pre></div>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 22 May 2013, 06:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202475">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">pjfrase</div>
					<div class="post-datetime">
						22 May 2013, 07:00					</div>
				</div>
				<div class="post-content content">
					<p>I must not be grasping something here: <br />DISTRIB_ID=&quot;OpenWrt&quot;<br />DISTRIB_RELEASE=&quot;Attitude Adjustment&quot;<br />DISTRIB_REVISION=&quot;r36088&quot;<br />DISTRIB_CODENAME=&quot;attitude_adjustment&quot;<br />DISTRIB_TARGET=&quot;x86/xen_domu&quot;<br />DISTRIB_DESCRIPTION=&quot;OpenWrt Attitude Adjustment 12.09-rc1&quot;</p><p>This my release. I have not done a sysupgrade since I built this image. </p><p>I would have thought that any packages available in the repo for 12.09-rc1 would be installable for that version rather than throwing kernel issues.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202476">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 May 2013, 07:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pjfrase wrote:</cite><blockquote><p>DISTRIB_REVISION=&quot;r36088&quot;<br />...<br />DISTRIB_DESCRIPTION=&quot;OpenWrt Attitude Adjustment 12.09-rc1&quot;</p><p>This my release. I have not done a sysupgrade since I built this image. </p><p>I would have thought that any packages available in the repo for 12.09-rc1 would be installable for that version rather than throwing kernel issues.</p></blockquote></div><p>That version info is confusing, as r36088 is the release source code version, not rc1.</p><p>But in general, if you have self-compiled kernel, then many repository packages do not work as they require the same kernel options checksum that have been used with the kernel itself. You have to compile also the packages at the same compiler run as the kernel.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 22 May 2013, 08:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202484">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						22 May 2013, 10:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>But in general, if you have self-compiled kernel, then many repository packages do not work as they require the same kernel options checksum</p></blockquote></div><p>I guess that there&#039;s not only options in checksum but also timestamp-alike thing is used too.<br />Because if you simply make two subsequent firmware compilations with exactly the same options you&#039;ll still get different checksums for kmods. And opkg will report that &quot;incompability&quot;, although in fact there&#039;s no incompabilities at all and all the packages are completely the same. So in theory you can bypass dependency warnings with --force-depends options, but it *may* break things if there actually were some changes.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>