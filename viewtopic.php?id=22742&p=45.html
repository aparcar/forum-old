<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP Link WR1043ND 11n gigabit router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 20 Jul 2013 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 45 of 52</div><nav><ul><li><a href="viewtopic.php%3Fid=22742&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=22742&amp;p=43.html">43</a></li><li><a href="viewtopic.php%3Fid=22742&amp;p=44.html">44</a></li><li class="pagination-current"><span>45</span></li><li><a href="viewtopic.php%3Fid=22742&amp;p=46.html">46</a></li><li><a href="viewtopic.php%3Fid=22742&amp;p=47.html">47</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=22742&amp;p=52.html">52</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p142473">
				<div class="post-metadata">
					<div class="post-num">Post #1101</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						29 Aug 2011, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>@khudko_denys: It seems your problem was solved already in this thread: <a href="https://forum.openwrt.org/viewtopic.php?id=30671">https://forum.openwrt.org/viewtopic.php?id=30671</a><br />And also have a look at this: <a href="https://openwrt.org/support.html">https://openwrt.org/support.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142559">
				<div class="post-metadata">
					<div class="post-num">Post #1102</div>
					<div class="post-author">uqbar</div>
					<div class="post-datetime">
						31 Aug 2011, 01:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MBS wrote:</cite><blockquote><div class="quotebox"><cite>uqbar wrote:</cite><blockquote><p>The 1043 is indeed a best seller, so it deserves better documentation. IMHO.</p></blockquote></div><p>Indeed, and I have not yet come over another wiki page with that enormous amount of information. Your effort in improving the wiki article is highly appreciated, though I recommend to add only verified information.</p></blockquote></div><p>It&#039;s been verified by actually doing it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142586">
				<div class="post-metadata">
					<div class="post-num">Post #1103</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						31 Aug 2011, 11:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>uqbar wrote:</cite><blockquote><p>It&#039;s been verified by actually doing it.</p></blockquote></div><p>No offence, but in the wiki you mentioned:<br /></p><div class="quotebox"><cite>uqbar wrote:</cite><blockquote><p>I temporarly don&#039;t have at hand my WR1043 to confirm.</p></blockquote></div><p>That&#039;s why you could not see that the mtd command line you have posted in the wiki was invalid (openwrt uses a different mtd-partition labeling than dd-wrt/freewrt).<br />Anyway, I highly appreciate your effort in extending the wiki.</p>											<p class="post-edited">(Last edited by <strong>MBS</strong> on 31 Aug 2011, 11:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142590">
				<div class="post-metadata">
					<div class="post-num">Post #1104</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						31 Aug 2011, 11:46					</div>
				</div>
				<div class="post-content content">
					<p>@uqbar: Whats actually the purpose of this in the wiki: [ [[https://forum.openwrt.org/viewtopic.php?pid=141869#p141869|reference]] ]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142697">
				<div class="post-metadata">
					<div class="post-num">Post #1105</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						1 Sep 2011, 13:54					</div>
				</div>
				<div class="post-content content">
					<p>How do you test the WAN and LAN performance?<br />When I plug in my computer to WAN port the router refuses to give out IP address and echo pings. <br />Turning off the Firewall didn&#039;t help either.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142733">
				<div class="post-metadata">
					<div class="post-num">Post #1106</div>
					<div class="post-author">miguel.arce</div>
					<div class="post-datetime">
						2 Sep 2011, 06:06					</div>
				</div>
				<div class="post-content content">
					<p>@alphasparc</p><p>Think it this way: the Wan port is for the router to GET an address and act just like your pc when plugged into the LAN ports.&nbsp; Router wont give you an IP on the wan port (at least not without some tweaking ) because it is expecting to receive one.</p><p>to test performance you can use iperf or simply transfer a big file from one computer to another. 100 Mbps should be 12.5 MB/s in ideal teorical. anything between 9.5 - 11.5 are fine.</p><p>also i recommend installing htop, so you can get an easy idea of the routers resources usage.</p><p>best regards.<br />Miguel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142735">
				<div class="post-metadata">
					<div class="post-num">Post #1107</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						2 Sep 2011, 06:41					</div>
				</div>
				<div class="post-content content">
					<p>However even if I statically set an IP and Gateway it still doesn&#039;t send and receive the packets from router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142771">
				<div class="post-metadata">
					<div class="post-num">Post #1108</div>
					<div class="post-author">Del</div>
					<div class="post-datetime">
						2 Sep 2011, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>Try setting up a dhcp server on the machine on the wan port. For Debian based distros it is pretty smooth. There is a lot of good documentation, any of these should do:<br /><a href="http://wiki.debian.org/DHCP_Server">http://wiki.debian.org/DHCP_Server</a><br /><a href="http://www.debianhelp.co.uk/dhcp.htm">http://www.debianhelp.co.uk/dhcp.htm</a><br /><a href="http://www.debian-administration.org/article/343/Configuring_Dynamic_DNS__DHCP_on_Debian_Stable">http://www.debian-administration.org/ar … ian_Stable</a><br /><a href="https://help.ubuntu.com/community/dhcp3-server">https://help.ubuntu.com/community/dhcp3-server</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142835">
				<div class="post-metadata">
					<div class="post-num">Post #1109</div>
					<div class="post-author">Del</div>
					<div class="post-datetime">
						4 Sep 2011, 15:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Del wrote:</cite><blockquote><p>OK, I have opened a ticket for the unstable wireless:<br /><a href="https://dev.openwrt.org/ticket/9950">https://dev.openwrt.org/ticket/9950</a></p></blockquote></div><p>The ticket is now closed. The testing I have done so far indicates that it is resolved. alphasparc, maybe you should give it a go too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142898">
				<div class="post-metadata">
					<div class="post-num">Post #1110</div>
					<div class="post-author">rcmc_ronny</div>
					<div class="post-datetime">
						5 Sep 2011, 20:01					</div>
				</div>
				<div class="post-content content">
					<p>I`ve written an eMail to TP-Link Support regarding my issue of input voltage for the 1043ND, now they answered:</p><div class="codebox"><pre><code>Thank you for your email requesting information about our product. This is
Kim from TP-LINK technical support department.Wish i could give you some
help.
Yes, it works with 10.5v--14v and will not damage the device.</code></pre></div><p>So it seems to be working all good with a car battery <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />My 1043ND is since yesterday now on my 12V power supply (car battery backed-up, so around 13.4V).</p><p>Ronny</p>											<p class="post-edited">(Last edited by <strong>rcmc_ronny</strong> on 6 Sep 2011, 09:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142963">
				<div class="post-metadata">
					<div class="post-num">Post #1111</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						6 Sep 2011, 16:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Del.<br />I am now using R28186 <br />So far I haven&#039;t seen errors in the logs.<br />However there is an issue with wifi.</p><p>Luci allows you to set the max txpower of 27dbm(501mw) after you set the region to US but luci only displays Tx-Power: 24 dBm after you set to 27dbm.<br />Is the max txpower 27dbm or 24dbm?</p><p>Currently I am trying to get openvpn server running on this router however I keep encountering errors when following the wiki.<br />At step:</p><p>Build your certificates<br />&nbsp; &nbsp; Prime your cert database<br />&nbsp; &nbsp; -&gt;clean-all</p><p>I get the error: rm: cannot remove &#039;/etc/easy-rsa/keys&#039;: Invalid argument</p><p>Then at step:</p><p>build-key-server server</p><p>After it prompts for the challenge password and the optional company name<br />It return the error messages below.</p><p>Using configuration from /etc/easy-rsa/openssl.cnf<br />/etc/easy-rsa/keys/index.txt: No such file or directory<br />unable to open &#039;/etc/easy-rsa/keys/index.txt&#039;<br />12623:error:02001002:lib(2):func(1):reason(2):NA:0:fopen(&#039;/etc/easy-rsa/keys/index.txt&#039;,&#039;r&#039;)<br />12623:error:20074002:lib(32):func(116):reason(2):NA:0:</p><p>Any help?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143199">
				<div class="post-metadata">
					<div class="post-num">Post #1112</div>
					<div class="post-author">khudko_denys</div>
					<div class="post-datetime">
						9 Sep 2011, 12:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MBS wrote:</cite><blockquote><p>@khudko_denys: It seems your problem was solved already in this thread: <a href="https://forum.openwrt.org/viewtopic.php?id=30671">https://forum.openwrt.org/viewtopic.php?id=30671</a><br />And also have a look at this: <a href="https://openwrt.org/support.html">https://openwrt.org/support.html</a></p></blockquote></div><p>Thanks for the answer, but the problem is different and not solved. Have discussed the problem with topic starter of above link - he had another initialization problem. My dongle is correctly initialized, as I have understood, but doesn&#039;t work properly.<br />Please look at my thread with problem details, maybe somebody know how to solve the matter.<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=143196#p143196">https://forum.openwrt.org/viewtopic.php … 96#p143196</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143345">
				<div class="post-metadata">
					<div class="post-num">Post #1113</div>
					<div class="post-author">Del</div>
					<div class="post-datetime">
						11 Sep 2011, 15:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Luci allows you to set the max txpower of 27dbm(501mw) after you set the region to US but luci only displays Tx-Power: 24 dBm after you set to 27dbm.<br />Is the max txpower 27dbm or 24dbm?</p></blockquote></div><p>I noticed the reduction too. Actually, I think the maximum you can set now is 20dBm (the ath9k driver doesn&#039;t support more), and it coincides with the maximum allowed transmit power in the US:<br /> <a href="http://en.wikipedia.org/wiki/DBm">http://en.wikipedia.org/wiki/DBm</a><br />hardly a coincidence. I guess we can patch the driver to override it, but I have other bugs to hunt down higher up on my priority list.<br /></p><div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Currently I am trying to get openvpn server running on this router</p></blockquote></div><p>I have compiled in openvpn in my router, but sadly no time to fiddle with it yet. My starting point will be a simplistic walk-through at Linux.com. The whole linux-server infrastructure is down at the moment, so we will have to use web-cache:<br /><a href="http://webcache.googleusercontent.com/search?q=cache:x_zT2PG2tdoJ:www.linux.com/learn/tutorials/457103:install-and-configure-openvpn-server-on-linux+http://www.linux.com/learn/tutorials/457103:install-and-configure-openvpn-server-on-linux&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;client=ubuntu">http://webcache.googleusercontent.com/s … ent=ubuntu</a><br />Note that /etc/network/interfaces is debian specific, so it will not work on openwrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144304">
				<div class="post-metadata">
					<div class="post-num">Post #1114</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						23 Sep 2011, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Anyone knows the file containing the value of the hashsize and max conntrack in the built files?<br />I have been hunting the the file but failed to spot anything.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 23 Sep 2011, 17:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144717">
				<div class="post-metadata">
					<div class="post-num">Post #1115</div>
					<div class="post-author">miguel.arce</div>
					<div class="post-datetime">
						29 Sep 2011, 00:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello All, </p><p>just to comment about something that happened recently a couple of times.</p><p>Have a 16G usb as storage in the 1043nd with FAT32 partition and a 128 MB swap partition on it.</p><p>Now its the second time that deleting and trashing a torrent with its data corrupts the FAT partition..</p><p>i think this is memory related because if i try to fun a fsck.vfat on it, first complains about memory allocation<br />i then enable the 128MB swap and it start the process and then fails for something else.. or maybe its just<br />a little unstable the FAT kernel module..</p><p>i am using RC-5.</p><p>i also have a WRT160NL with a usb hub to its usb port, and two 500G usb hdd, both with ext4 partitions,<br />and i can add, delete and trash data form the disks without problem.</p><p>its a little strange that torrenting with the 1043 being a far more disk intensive task&nbsp; (as it constantly reads and writes pieces to the FAT partition ) goes without problem, and is part of the reason why i dont use usb harddrives for it and preffer usb flash disks ), and fails with a simple file deletion.</p><p>i am doing checks remotely right now, but as soon as i get home i&#039;ll repair the FAT partition in my desktop computer and try some simple and massive file deletion with the router to see if its the deletion operations or I/O in general.</p><p>i&#039;ll be changing the vFAT to ext4 and retry.</p><p>Well, best regards,<br />hope this helps someone.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144718">
				<div class="post-metadata">
					<div class="post-num">Post #1116</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						29 Sep 2011, 01:45					</div>
				</div>
				<div class="post-content content">
					<p>Did you consider the block size of flash media being 64k instead of 512 bytes on magnetic medias? Meaning, if you don&#039;t explicitly tell the filesystem driver to use 64k blocks, it will straight send a message to the flash chip, requesting to change a 512 bytes block. The flash chip then has to read the 64k block (maybe erase it) and write it back, including the changed 512 bytes. This is very slow (and wears out the flash) and might cause some timeouts.<br />Once I installed a linux on a flash card and had massive problems due to that fact. In that case it also helped a lot to disable atime.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144724">
				<div class="post-metadata">
					<div class="post-num">Post #1117</div>
					<div class="post-author">miguel.arce</div>
					<div class="post-datetime">
						29 Sep 2011, 05:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi MBS, </p><p>thanks for the tip, i forgot that, where should i specify the option? <br />at the fstab as a mount option or some other place kernel module related?</p><p>it seems this has corrupted the partition very badly... as i havent been able<br />to repear the FAT filesystem...</p><p>EDIT: FAT repaired, now into the router... i get this..</p><p>&lt;code&gt;<br />usb-storage: waiting for device to settle before scanning<br />scsi 1:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;Kingston DT 100 G2&nbsp; &nbsp; &nbsp; &nbsp; PMAP PQ: 0 ANSI: 0 CCS<br />usb-storage: device scan complete<br />sd 1:0:0:0: [sda] 31260672 512-byte logical blocks: (16.0 GB/14.9 GiB)<br />sd 1:0:0:0: [sda] Write Protect is off<br />sd 1:0:0:0: [sda] Mode Sense: 23 00 00 00<br />sd 1:0:0:0: [sda] Assuming drive cache: write through<br />sd 1:0:0:0: [sda] Assuming drive cache: write through<br /> sda: sda1 sda2<br />sd 1:0:0:0: [sda] Assuming drive cache: write through<br />sd 1:0:0:0: [sda] Attached SCSI removable disk<br />yaffs: dev is 8388609 name is &quot;sda1&quot;<br />yaffs: passed flags &quot;blocksize=65535&quot;<br />yaffs: Bad mount option &quot;blocksize=65535&quot;<br />yaffs: dev is 8388609 name is &quot;sda1&quot;<br />yaffs: passed flags &quot;blocksize=65535&quot;<br />yaffs: Bad mount option &quot;blocksize=65535&quot;<br />FAT: &quot;blocksize=65535&quot; option is obsolete, not supported now<br />Adding 131064k swap on /dev/sda2.&nbsp; Priority:-1 extents:1 across:131064k<br />Adding 131064k swap on /dev/sda2.&nbsp; Priority:-1 extents:1 across:131064k</p><p>i tried with size althougth its not a FAT mount option...</p><p>yaffs: dev is 8388609 name is &quot;sda1&quot;<br />yaffs: passed flags &quot;size=64k&quot;<br />yaffs: Bad mount option &quot;size=64k&quot;<br />yaffs: dev is 8388609 name is &quot;sda1&quot;<br />yaffs: passed flags &quot;size=64k&quot;<br />yaffs: Bad mount option &quot;size=64k&quot; <br />&lt;/code&gt;</p><p>i tried with blocksize=64k failed just the same.. so i think i&#039;ll move my data to a ext4 partition for now...</p><p>thanks anyway MBS.</p>											<p class="post-edited">(Last edited by <strong>miguel.arce</strong> on 29 Sep 2011, 06:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144737">
				<div class="post-metadata">
					<div class="post-num">Post #1118</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						29 Sep 2011, 11:25					</div>
				</div>
				<div class="post-content content">
					<p>it actually starts with your partition setup. So you would need to make sure your partitions start at multiple of 128 blocks (of 512 bytes). then you need to force a block size of 64k when creating the filesystem (mkfs.vfat or mkfs.ext4). And it is probably better to turn off the journal of journaled filesystems (like ext3/4).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144802">
				<div class="post-metadata">
					<div class="post-num">Post #1119</div>
					<div class="post-author">miguel.arce</div>
					<div class="post-datetime">
						30 Sep 2011, 05:48					</div>
				</div>
				<div class="post-content content">
					<p>i see, </p><p>i&#039;ll give it a shot on weekend. </p><p>hey little on another matter, do you think is possible to use the openwrt image creation method to compile<br />the linux kernel for a board that is not a router like, the herotab M816 .. </p><p>an ARM machine with known ICs and procesos and i think samsung has even released the source for their procesor.. <br />the guys at slatedroid.com seems to be having a hard time trying to build honeycomb ...</p><p>EDIT:</p><p>Couldn&#039;t wait til tomorroy:</p><p>Disk /dev/sda: 16.0 GB, 16005464064 bytes<br />64 heads, 32 sectors/track, 15264 cylinders<br />Units = cylinders of 2048 * 512 = 1048576 bytes<br />Disk identifier: 0xe82ae82a</p><p>&nbsp; &nbsp;Device Boot&nbsp; &nbsp; &nbsp; Start&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;End&nbsp; &nbsp; &nbsp; Blocks&nbsp; &nbsp;Id&nbsp; System<br />/dev/sda1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;257&nbsp; &nbsp; &nbsp; 262144&nbsp; &nbsp;82&nbsp; Linux swap / Solaris<br />Partition 1 does not end on cylinder boundary.<br />/dev/sda2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;258&nbsp; &nbsp; &nbsp; &nbsp;15264&nbsp; &nbsp; 15367168&nbsp; &nbsp;83&nbsp; Linux<br />Partition 2 does not end on cylinder boundary.</p><br /><p>root@TL-WR1043ND:~# mkfs.ext4 -b 65535 /dev/sda2<br />Warning: blocksize 65535 not usable on most systems.<br />mke2fs 1.41.11 (14-Mar-2010)<br />mkfs.ext4: 65535-byte blocks too big for system (max 4096)<br />Proceed anyway? (y,n)</p><p>is that right?</p><p>error: EXT4-fs (sda2): bad block size 32768<br />seems it didnt created 64k blocksize after all <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>miguel.arce</strong> on 30 Sep 2011, 06:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144814">
				<div class="post-metadata">
					<div class="post-num">Post #1120</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						30 Sep 2011, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>two things: 64k are actually 65536. Although that will probably not change mkfs.ext4&#039;s behavior to reject everything above 4096 (I didn&#039;t know about that restrictions so far). Second thing is in fdisk it seems to be ok, but it also helps to switch to extended mode, where the &quot;p&quot;-command actually displayes all values in bytes (to check if it is really multiples of 64k).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144830">
				<div class="post-metadata">
					<div class="post-num">Post #1121</div>
					<div class="post-author">miguel.arce</div>
					<div class="post-datetime">
						30 Sep 2011, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi MBS, good day</p><p>you are right, lol, i am so used to start count from 0 <br />indeed 64k = 65536 bytes</p><p>yes, mkfs.ext4 only allowed 32768 (32k) blocks, but event at mounting it the system complained about<br />that 32k block size.</p><p>anyway, i am using now an ext4 with 4096 blocksize and was able to trash data from transmission without incident<br />i also doubled my initial swap space seems more stable now and better throughtput (256MB)</p><p>what is your opinion on the herotab thing?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144852">
				<div class="post-metadata">
					<div class="post-num">Post #1122</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						30 Sep 2011, 20:45					</div>
				</div>
				<div class="post-content content">
					<p>In terms of the build environment I would say that buildroot is not the worst choice, but if you intend to build an openwrt image and put it on that tablet pc - then I&#039;m in some doubt. openwrt seems to be more like server related (having several services running all the time), while a tablet is more a client (having other purposes, including mobility, which requires low cpu-usage).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144871">
				<div class="post-metadata">
					<div class="post-num">Post #1123</div>
					<div class="post-author">miguel.arce</div>
					<div class="post-datetime">
						1 Oct 2011, 02:13					</div>
				</div>
				<div class="post-content content">
					<p>hi MBS,</p><p>what i meant is that the slatedroid guys need first is a way to compile linux to support the<br />hardware these board has.</p><p>i dont think they will be compiling anything more than just the linux kernel, as android runs on top of the<br />linux kernel (i guess) its justa matter of compiling the kernel for a specific architecture, with an<br />specific set of drivers and support for things.</p><p>now how hard is to create a profile in openwrt&#039;s buildroot ? ( i dont know, maybe its harder than i think )</p><p>the way i understand it ( and i could be very wrong ), when you compile an openwrt image<br />you compile the kernel for the arch and components specific to a device, its switch<br />driver, the wireless driver, the driver for the flash, the driver for the usb, and some tweakings like vlan support, etc.<br />this is because the kernel is intended to be run in a network device, and all this with the limitation of the flash space.</p><p>but with these tablet devices you have no limitation in space as firmwares are stored in 2, 4, 8 GB and so MicroSD flash cards,<br />and are commongly composed of 2 parts the boot img that contains the bootloader, the kernel, and the initrd, and the system.img<br />that is where the android resides (&nbsp; i guess compiled or configured for the kernel in boot.img, i am really at the begining of this).</p><p>so they just need a way to generate a working boot.img for the device..</p><p>then again i really dont know for sure what i am talking about, as i have a lot to learn but thats my general idea</p>											<p class="post-edited">(Last edited by <strong>miguel.arce</strong> on 1 Oct 2011, 02:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144907">
				<div class="post-metadata">
					<div class="post-num">Post #1124</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						1 Oct 2011, 17:16					</div>
				</div>
				<div class="post-content content">
					<p>I couldn&#039;t clearly say yes or no, since I haven&#039;t messed too much with android yet. There are several things popping up in my mind about that:<br />- How is the driver support in the kernel vs in openwrt? Having a look into latest kernel sources show, that a lot of driver code came from openwrt developers.<br />- Is it only a kernel, that is needed? A kernel without further software is worth nothing.<br />- Is the filesystem layout of android the same as openwrt?<br />Creating a new profile in the build system is not too difficult, just take a look at the patches (for example when the 1043 got initially supported) in trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144996">
				<div class="post-metadata">
					<div class="post-num">Post #1125</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						2 Oct 2011, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>A german version of the WR1043ND was reported in the wiki. Could someone with such a version, please execute<br /></p><div class="codebox"><pre><code>iw list</code></pre></div><p>and then post the output?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 45 of 52</div><nav><ul><li><a href="viewtopic.php%3Fid=22742&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=22742&amp;p=43.html">43</a></li><li><a href="viewtopic.php%3Fid=22742&amp;p=44.html">44</a></li><li class="pagination-current"><span>45</span></li><li><a href="viewtopic.php%3Fid=22742&amp;p=46.html">46</a></li><li><a href="viewtopic.php%3Fid=22742&amp;p=47.html">47</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=22742&amp;p=52.html">52</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>