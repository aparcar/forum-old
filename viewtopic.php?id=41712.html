<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> luci-app-qos</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p189226">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">roror29</div>
					<div class="post-datetime">
						18 Jan 2013, 01:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I am trying to use luci-app-qos to limit the bandwidth use of some computers in my home network. E.g., I want to give traffic on one port, 9090, a low priority. So, I added one other classification rule to the list. I am attaching the screenshot of my configuration. </p><p><span class="postimg"><img src="http://snag.gy/JDlRN.jpg" alt="configuration" /></span></p><p>This doesn&#039;t seem to slow down the traffic on that port at all. </p><p>Btw, I have gone over the wiki page at <a href="http://wiki.openwrt.org/doc/uci/qos">http://wiki.openwrt.org/doc/uci/qos</a> . It doesn&#039;t explain the things very well. So, wanted to give web-ui a try first. Couldn&#039;t find anything on forum that explains these things. </p><p>A few specific questions. </p><p>1. Why is there a section for WAN interface and no section for the LAN?<br />2. Why would one need to control the WAN upload and download? Shouldn&#039;t we always use the maximum given by the ISP?<br />3. In each classification rule, are the conditions AND&#039;ed or OR&#039;ed? E.g. for a Target=&quot;low&quot; classification if I set SourceHost=192.168.1.2 and DestinationHost=192.168.1.3, does it leave the traffic between 192.168.1.2 and 192.168.1.4 untouched? Or, does it classify the all the traffic from 192.168.1.2 to ANY host, as well as all the traffic to 192.168.1.3 from any host to Target=low? <br />4. Does the order of the classification rule matter? </p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189322">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">roror29</div>
					<div class="post-datetime">
						19 Jan 2013, 02:35					</div>
				</div>
				<div class="post-content content">
					<p>bump</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192486">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">iptell</div>
					<div class="post-datetime">
						19 Feb 2013, 12:27					</div>
				</div>
				<div class="post-content content">
					<p>I am looking for few hours in Google and all openwrt related forums to find how can I control bandwidth on OpenWRT. And I can not find it...<br />I use TP-link WR1043ND - in stock firmware there is option &quot;Bandwidth control&quot;, where I can easily set bandwidth limit.<br />In Backfire 10.03.1 there is no option like that. I was looking for some plugins or even CLI configuration, but I couldn&#039;t find it.<br />No one needs to limit bandwidth on his router?<br />I would like to be able to set bandwidth limit for each LAN port or for single LAN IP address. Is it possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192506">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">djkencollins</div>
					<div class="post-datetime">
						19 Feb 2013, 15:44					</div>
				</div>
				<div class="post-content content">
					<p>I too would like to have a straight-out bandwidth limit option, would be nice to limit the kids netflix to a lower rate!</p><p>To the first poster, QOS really has to be applied to the wan port to work. True, you should always use the maximum as given by the ISP. The maximum should be put in the upload and download boxes. The QOS will then divide this bandwith across the devices on the LAN that are connecting to the outside world through the WAN, according to the rules that you set.</p><p>As for the order, I have just asked that same question on another thread. I was thinking that it might affect the QOS....the first line gets applied first, then the second and so on. That way you could use the top lines for devices that you didnt want any blanket restrictions to apply to...eg have two computers as high priority as number 1 and 2. If you then put a rule limiting bit-torrent on line 3...that would probably affect any devices lower down on the list.</p><p>Thats only a guess though!</p><p>Ken</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197513">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">aenertia</div>
					<div class="post-datetime">
						7 Apr 2013, 01:43					</div>
				</div>
				<div class="post-content content">
					<p>I have created a new ticket for this feature-request : Please add any relevant details of your own experiences.</p><p>Ideally I would like to see this done as dot1p layer2 marking and policing rather than at layer3 as the use case is more general - currently the various solutions I have seen all will be useless for anything other than ipv4 traffic, and as a huge chunk of my traffic on my LAN is ipv6 these days that isn&#039;t so great. </p><p>ticket: 13310</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197514">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">aenertia</div>
					<div class="post-datetime">
						7 Apr 2013, 01:47					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://dev.openwrt.org/ticket/13310">https://dev.openwrt.org/ticket/13310</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197516">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">brontide</div>
					<div class="post-datetime">
						7 Apr 2013, 02:44					</div>
				</div>
				<div class="post-content content">
					<p>QoS will not limit the bandwith of a specific ip/port/service out of the box, the idea is that services/ports/ips with a lower quality will be served after others with a higher priority.&nbsp; Low priority services will still get the full bandwidth when no one else is requesting bandwidth.</p><p>My understanding is the gargoyle firmware has a lot of ip/service bandwidth settings.&nbsp; If you goal is to hard-limit specific IPs or ports you may want to try that rather than OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238598">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">stone8936</div>
					<div class="post-datetime">
						30 Jun 2014, 13:42					</div>
				</div>
				<div class="post-content content">
					<p>I am little confused about what the interface here represents. There actually is not a physical interface named WAN. <br />According to <a href="http://wiki.openwrt.org/doc/uci/qos:">http://wiki.openwrt.org/doc/uci/qos:</a><br />&quot;The interface section declares global characteristics of the connection on which the specified interface is communicating.&quot;<br />the interface in the example above is &quot;dsl&quot;.<br />And we actually can add any name for a new interface here.</p>											<p class="post-edited">(Last edited by <strong>stone8936</strong> on 30 Jun 2014, 14:05)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>