<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Turn wireless radio off?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p58132">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">wiciu</div>
					<div class="post-datetime">
						28 Oct 2007, 01:53					</div>
				</div>
				<div class="post-content content">
					<p>I want to turn wireless off completely on my Fonera (with Kamikaze 7.09) at night, with a cron job.<br />I&#039;ve already tried with &quot;iwconfig ath0 txpower off&quot; but this does not seem to work ...</p><p>What would be the correct way to do it?<br />Thank you in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58133">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Sonic</div>
					<div class="post-datetime">
						28 Oct 2007, 02:19					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>wifi down</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58134">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">qwillio</div>
					<div class="post-datetime">
						28 Oct 2007, 03:17					</div>
				</div>
				<div class="post-content content">
					<p>I usually use<br /></p><div class="codebox"><pre><code>wl radio off</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58143">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">wiciu</div>
					<div class="post-datetime">
						28 Oct 2007, 09:36					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, &quot;wifi [down|up]&quot; did the trick!<br />I already tried &quot;wl radio off&quot; since that was the way to go for OpenWrt, but in Kamikaze &quot;wl&quot; simply does not exist.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58146">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						28 Oct 2007, 11:20					</div>
				</div>
				<div class="post-content content">
					<p>The correct way is to use UCI:</p><p>Disable wireless<br /></p><div class="codebox"><pre><code>uci set wireless.wifi0.disabled=1
uci commit wireless &amp;&amp; wifi</code></pre></div><p>Enable wireless<br /></p><div class="codebox"><pre><code>uci set wireless.wifi0.disabled=0
uci commit wireless &amp;&amp; wifi</code></pre></div><p>The disabled option can have the values 1=disable wireless and 0=enable wireless.</p><p>I&#039;m using something similar for a WiFi toogle hotplug script using a button on the router to turn wireless on/off (<a href="http://openwrt.ertl-net.net/broadcom/scripts/WifiToggle/">http://openwrt.ertl-net.net/broadcom/sc â€¦ ifiToggle/</a>). This script only works with 2.4 Kernels at the moment.</p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 28 Oct 2007, 11:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58148">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">qwillio</div>
					<div class="post-datetime">
						28 Oct 2007, 11:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wiciu wrote:</cite><blockquote><p>Thank you, &quot;wifi [down|up]&quot; did the trick!<br />I already tried &quot;wl radio off&quot; since that was the way to go for OpenWrt, but in Kamikaze &quot;wl&quot; simply does not exist.</p></blockquote></div><p>use &#039;ipkg install wl&#039; ... it&#039;s there. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>forum, your method (verbatim) doesn&#039;t work on my WRT54G ... wifi0 is for Atheros, no? ... it&#039;s wl0 here.&nbsp; Other than that, it works.&nbsp; And I suppose <em>wl</em> won&#039;t work on Atheros ... but &#039;wifi down&#039; seems like the quickest solution.&nbsp; Unless you want to always have no wireless, in that case I suppse committing it to uci would be better.</p>											<p class="post-edited">(Last edited by <strong>qwillio</strong> on 28 Oct 2007, 11:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59272">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">johnnytaco</div>
					<div class="post-datetime">
						20 Nov 2007, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>I know &#039;wl radio off&#039; disabled wireless and turned off the radio. Does &#039;wifi down&#039; or the uci commands above turn off the radio for sure or do they just stop allowing wireless connections? Specifically, I want to insure the radio is not transmitting, and I&#039;m low on space so I don&#039;t want to install wl if I don&#039;t have to. </p><p>I&#039;m paranoid with my newborn 10 feet from the wireless radio. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>jt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59286">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lschweiss</div>
					<div class="post-datetime">
						20 Nov 2007, 18:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnnytaco wrote:</cite><blockquote><p>I&#039;m paranoid with my newborn 10 feet from the wireless radio. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>I hope you&#039;ve radio shielded your baby then, because your baby&#039;s getting a lot more microwave radiation coming from other sources you cannot control like cell phone towers, etc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59302">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">johnnytaco</div>
					<div class="post-datetime">
						21 Nov 2007, 05:08					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for that very helpful reply. &lt;/sarcasm&gt;</p><p>After some research, here&#039;s how to turn the radio off easily without installing any other packages:</p><div class="codebox"><pre><code>wlc radio 0
echo 0 &gt; /proc/diag/led/wlan</code></pre></div><p>Or here&#039;s a script I wrote called wlradio that I run with a cron job to turn the radio on/off (start/stop):</p><div class="codebox"><pre><code>#!/bin/sh /etc/rc.common
START=50

start() {
        wlc radio 1
        echo &quot;Radio on&quot;
}

stop() {
        wlc radio 0
        echo 0 &gt; /proc/diag/led/wlan
        echo &quot;Radio off&quot;
}</code></pre></div><p>jt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59304">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ndk</div>
					<div class="post-datetime">
						21 Nov 2007, 09:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>forum2006 wrote:</cite><blockquote><p>The correct way is to use UCI:</p></blockquote></div><p>Yes. But this way you are writing to flash every time the radio is turned on/off.<br />If you&#039;re not interested in keeping settings after a reboot, other methods work well enough.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82640">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">AppleWolf</div>
					<div class="post-datetime">
						25 Feb 2009, 18:00					</div>
				</div>
				<div class="post-content content">
					<p>I think, may you can try this code:</p><p>Turn off wlan:</p><p>stopservice nas<br />wl -i eth1 radio off</p><br /><p>Turn on wlan:</p><p>stopservice nas<br />wl -i eth1 radio on<br />startservice nas</p><p>This Code was tested by my DD-WRT, it&#039;s work fine!</p>											<p class="post-edited">(Last edited by <strong>AppleWolf</strong> on 25 Feb 2009, 18:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82653">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						25 Feb 2009, 20:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>AppleWolf wrote:</cite><blockquote><p>This Code was tested by my DD-WRT, it&#039;s work fine!</p></blockquote></div><p>But OpenWrt is NOT DD-WRT...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84706">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">mikemike</div>
					<div class="post-datetime">
						27 Mar 2009, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your research JT!<br />It&#039;s been very helpful</p><p>Mike</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p227912">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						19 Mar 2014, 00:16					</div>
				</div>
				<div class="post-content content">
					<p>Other method is to use just &quot;wifi down&quot; to shutdown all wifi interfaces and then &quot;wifi&quot; to restart wifi interfaces that are enabled in your wireless config file.</p><p>So it is as simple as:<br />wifi off &amp;&amp; sleep 10 &amp;&amp; wifi</p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 19 Mar 2014, 00:16)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>