<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> GPS doesnÂ´t work on WRT54GL</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p58975">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						14 Nov 2007, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>(Sorry for my bad english! <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> )</p><p>I connected a GPS receiver to the serial port of my wrt54gl. The power supply to the gps receiver with 3.3 volt instead of 5 volt seems to be enough to run the receiver.</p><p>My Problem is: When I try the command &quot;cat /dev/tts/1&quot; I can see some symbols but not gps data.<br />gps data must look like this I think (&quot;$GPRMC&quot;) but I get this for example:<br /></p><div class="codebox"><pre><code>Â®Ã…Ãµï¿½ Ã«vÃ¶Â¶vÂ¶vÂ­Ã™Ã™Â¶6mVÃ¶Ã–vmÃ–ÃšÃ–Ã–vÃ¶6-Ã–vvÂ­Ã—ÃšvÃ­Ã¶vÃ­Ãš</code></pre></div><p>As bootscript I use this one:<br /></p><div class="codebox"><pre><code>setserial /dev/tts/1 irq 3
./stty -F /dev/tts/1 raw speed 4800</code></pre></div><p>What Im doing wrong?</p><p>Thank you very much!!!!! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>											<p class="post-edited">(Last edited by <strong>Cypher</strong> on 14 Nov 2007, 20:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58976">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						14 Nov 2007, 20:47					</div>
				</div>
				<div class="post-content content">
					<p>At least Kamikaze&#039;s Busybox is compiled with stty disabled by default.</p><p>grep STTY .config<br /></p><div class="codebox"><pre><code># CONFIG_BUSYBOX_CONFIG_STTY is not set</code></pre></div><p>So, enable this option in menuconfig (Base System -&gt; Busybox -&gt; Configuration -&gt; Coreutils -&gt; [*] stty) then recompile and reflash.</p>											<p class="post-edited">(Last edited by <strong>forum2006</strong> on 14 Nov 2007, 20:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58978">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						14 Nov 2007, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>Thank you! I try it on the weekend when I have more time. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>But... DoesnÂ´t work it with this stty ( <a href="http://tobe.mine.nu/software/openwrt/stty.tgz">http://tobe.mine.nu/software/openwrt/stty.tgz</a> ) on the latest WhiteRussian?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58979">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						14 Nov 2007, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>No idea. I don&#039;t use third-party binaries. I always compile by myself and I don&#039;t use WR.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59024">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">star882</div>
					<div class="post-datetime">
						15 Nov 2007, 16:04					</div>
				</div>
				<div class="post-content content">
					<p>Maybe you need to invert/not invert the serial line?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59029">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						15 Nov 2007, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>I use 3 pins on the router: Pin 1 (VCC), Pin 9 (Ground) and Pin 5 (Rx).<br />I dont use Tx because the gps doesnt need it to run.<br />Thats right or?</p><p>What do you mean with invert the serial line? Invert Rx und Tx?</p><p>Thank you!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59037">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						15 Nov 2007, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>Before we go further compile Busybox with STTY support and reflash your router. Everything else is wasting of time...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59039">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						15 Nov 2007, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>I thought it can run with the white russian but when there is no other way...</p><p>thx</p>											<p class="post-edited">(Last edited by <strong>Cypher</strong> on 15 Nov 2007, 19:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59066">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">star882</div>
					<div class="post-datetime">
						16 Nov 2007, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>Is the GPS intended for direct connection to a RS232 port? If so, it is inverted. Use an inverter to undo the inversion.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59094">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						16 Nov 2007, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>For PC I use an USB-to-COM adapter when you mean that.<br />Does an inverter only invert rx and tx or manipulates it the data stream / electrical signals?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59165">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">star882</div>
					<div class="post-datetime">
						18 Nov 2007, 17:11					</div>
				</div>
				<div class="post-content content">
					<p>If it plugs into a regular RS232 connector, it&#039;s inverted.<br /><a href="http://beyondlogic.org/serial/serial1.htm#40">http://beyondlogic.org/serial/serial1.htm#40</a><br />Notice how positive voltage is 1 for TTL/CMOS and 0 for RS232.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59173">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						18 Nov 2007, 19:57					</div>
				</div>
				<div class="post-content content">
					<p>Hm my english is too bad. I cant follow. xD</p><p>My gps receiver is &quot;TTL&quot;.<br />And the WRT is RS232. &lt;- Is that right?</p><p>So I must invert it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59215">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">star882</div>
					<div class="post-datetime">
						19 Nov 2007, 05:46					</div>
				</div>
				<div class="post-content content">
					<p>If it uses a DB type connector, it&#039;s most likely RS232 level.<br />If your router does not have a RS232 translator chip, it is TTL.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59238">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						19 Nov 2007, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>Now I have measured the voltage.<br />The WRT54GL must have an RS232 because the voltage is always +3 volt (logical 0 when RS232) and the GPS is TTL because the voltage is only 0 volt or +3 volt. (no -3 volt like rs232). Is that right?</p><p>Okay thank you! Now I try to get or make an TTL to RS232 converter for the TX line of the gps receiver.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59264">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">star882</div>
					<div class="post-datetime">
						20 Nov 2007, 05:29					</div>
				</div>
				<div class="post-content content">
					<p>Yes, try inverting it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59834">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Cypher</div>
					<div class="post-datetime">
						1 Dec 2007, 21:59					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> It works!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I buyed the MAX233 Chip from <a href="http://www.reichelt.de">www.reichelt.de</a><br />Thank you for help me!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>