<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Activate USB 4G Dongle on TP-link MR 3420</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p306708">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">johan.bouzi</div>
					<div class="post-datetime">
						8 Jan 2016, 15:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m trying to activate my usb-dongle on my router. Would like to use the web interface LuCI as much as possible. When adding&nbsp; an interface with the Protocol UMTS/GPRS/EV-DO I get the following error message: <br /></p><div class="codebox"><pre><code>Missing protocol extension for proto &quot;3g&quot;
cannot open /usr/lib/lua/luci/model/cbi/admin_network/proto_3g.lua: No such file or directory</code></pre></div><p>So I try to install the package by logging in over ssh and writing:<br /></p><div class="codebox"><pre><code>opkg update
opkg install luci-proto-3g</code></pre></div><p>Update is successful but I get the following error message from trying to install the LuCI package: <br /></p><div class="codebox"><pre><code>Installing luci-proto-3g (git-15.248.30277-3836b45-1) to root...
Downloading [url]http://downloads.openwrt.org/chaos_calmer/15.05/ar71xx/generic/packages/luci/luci-proto-3g_git-15.248.30277-3836b45-1_all.ipk.[/url]
Collected errors:
 * wfopen: //usr/lib/opkg/info/luci-proto-3g.postinst: Read-only file system.
 * wfopen: //usr/lib/opkg/info/luci-proto-3g.control: Read-only file system.
 * wfopen: //usr/lib/opkg/info/luci-proto-3g.prerm: Read-only file system.
 * wfopen: /usr/lib/lua/luci/model/cbi/admin_network/proto_3g.lua: Read-only file system.
 * set_flags_from_control: Failed to open //usr/lib/opkg/info/luci-proto-3g.control: No such file or directory.
 * pkg_write_filelist: Failed to open //usr/lib/opkg/info/luci-proto-3g.list: Read-only file system.
 * opkg_install_pkg: Failed to extract data files for luci-proto-3g. Package debris may remain!
 * opkg_install_cmd: Cannot install package luci-proto-3g.</code></pre></div><p>What to do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306723">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">johan.bouzi</div>
					<div class="post-datetime">
						8 Jan 2016, 16:45					</div>
				</div>
				<div class="post-content content">
					<p>Seems like the problem was too little free space. Re-installed the firmware and installed only the few packages I needed and it worked to install luci-proto-3g.</p><p>So it is up and running, its communicating with the usb-modem that seems to be connected (it has an IP-adress) but it doesn&#039;t give me access to internet. Do I need to set the usb-modem as connection to WAN somehow?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306762">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">shanicoolest</div>
					<div class="post-datetime">
						8 Jan 2016, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>TL-MR3420 flash memory is very limited.<br />3G requires multiple packages to be installed Therefore 3g usb won&#039;t work</p><p><a href="https://wiki.openwrt.org/doc/recipes/3gdongle#required_packages">https://wiki.openwrt.org/doc/recipes/3g â€¦ d_packages</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306771">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">brimur</div>
					<div class="post-datetime">
						8 Jan 2016, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>Maybe try one of the modem specific images? <a href="http://ofmodemsandmen.com/">http://ofmodemsandmen.com/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306807">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">johan.bouzi</div>
					<div class="post-datetime">
						9 Jan 2016, 00:06					</div>
				</div>
				<div class="post-content content">
					<p>Thanks brimur! It works great!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>