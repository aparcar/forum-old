<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> BCM63xx CFE settings</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p107842">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						25 Apr 2010, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>Hi all.</p><p>While trying to flash openwrt to my DSL-2640B H/W T1 ( BCM6333 ) I made a stupid mistake to change the board ID of the CFE from 7 ( 96333W ) to 3 ( 96338W ).<br />At serial console the modem still boots the CFE but freeze and no commands are recognized.</p><div class="codebox"><pre><code>CFE version 1.0.37-10.3 for BCM96338 (32bit,SP,BE)
Build Date: Fri Jul  3 19:16:30 CST 2009 (root@localhost.localdomain)
Copyright (C) 2000-2006 Broadcom Corporation.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Serial flash device: name NX25P32, id 0xef15, size 4096KB
Flash Layout: Boot[63,0xbfff0000] Kern[1,0xbfc10000]
              AuxFS[61,0xbffd0000] Misc[61,0xbffd0000] PSI[63,0xbfff0000]
Flash RootFS Partition Length: 3932160
CPU type 0x29010: 240MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x80528970 (1210736)
Initialized Data:          0x8041E050 - 0x80420170 (8480)
BSS Area:                  0x80420170 - 0x80426970 (26624)
Local Heap:                0x80426970 - 0x80526970 (1048576)
Stack Area:                0x80526970 - 0x80528970 (8192)
Text (code) segment:       0x80401000 - 0x8041E044 (118852)
Boot area (physical):      0x00529000 - 0x00569000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1:ffffff00
Host IP address                   : 192.168.1.100
Gateway IP address                :
Run from flash/host (f/h)         : f
Default host run file name        : vmlinux
Default host flash file name      : bcm963xx_fs_kernel
Boot delay (0-9 seconds)          : 1
Board Id (0-9)                    : 96338W
Number of MAC Addresses (1-32)    : 11
Base MAC Address                  : 00:24:01:f9:29:dd
PSI Size (1-64) KBytes            : 24
Flash Block Size (1-128) in KBytes: 0
Auxillary File System Size Percent: 0

udp_send finished</code></pre></div><p>Anyone have any idea where the board ID is located at the serial flash device ? are any easy way to flashing SPI devices ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108989">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						13 May 2010, 03:16					</div>
				</div>
				<div class="post-content content">
					<p>Anyone have a guide or could help me to dump the serial flash ? I want to try recover this hardware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109043">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						13 May 2010, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>you must restore board id to original value and perhaps reset nvram.<br />try to use help command on serial console from CFE boot.</p><p>edit<br />sorry, i read fast and i mistake you can&#039;t enter any command from CFE boot. You must read/reflash CFE with JTAG</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 13 May 2010, 23:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109051">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						14 May 2010, 02:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>you must restore board id to original value and perhaps reset nvram.<br />try to use help command on serial console from CFE boot.</p><p>edit<br />sorry, i read fast and i mistake you can&#039;t enter any command from CFE boot. You must read/reflash CFE with JTAG</p></blockquote></div><p>The board doesn&#039;t have a jtag connector. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>The serial flash chip is a 25X32VSIG. Googling about it and found the pinout but I have no knowledge in how to backup/restore the contents.</p><p>I found that the leds behaviour of the board changed. Ex. OSS led lights up when pluged a cat5 cable at port 3.</p>											<p class="post-edited">(Last edited by <strong>zhadoom</strong> on 14 May 2010, 02:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114048">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rogfanther</div>
					<div class="post-datetime">
						30 Jul 2010, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi, did you manage to solve this ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114112">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						31 Jul 2010, 02:42					</div>
				</div>
				<div class="post-content content">
					<p>Not yet. I&#039;m trying to collect enough knowledge about spi devices and how to use spipgm software. My goal is to remove the 25X32, full dump the chip and analyse to discover how to back to the original state. Painfull job ....<br />Today I&#039;m looking for a dump of the firmware + CFE from another 2640B H/W T1. I think that this way will be more simple to recover the modem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134264">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">PopOpen</div>
					<div class="post-datetime">
						28 Apr 2011, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>I know this is late, and that you probably have already bought 10 new routers, but just to have it said. All chips in the BCM63xx series should have JTAG pins on them. Find them and connect.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134331">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						30 Apr 2011, 02:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>PopOpen wrote:</cite><blockquote><p>I know this is late, and that you probably have already bought 10 new routers, but just to have it said. All chips in the BCM63xx series should have JTAG pins on them. Find them and connect.</p></blockquote></div><p>Where can I find that info about 96333 JTAG pins ? The damned broadcom 96333 is almost unknown even in google .... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134373">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">PopOpen</div>
					<div class="post-datetime">
						30 Apr 2011, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>If you want good help, you need to be precise. If you&#039;re not careful with details, I really do not recommend you to flash or solder anything! </p><p>You are doing some weird things!<br />a) Why would you wanna change the Board ID?<br />b) I&#039;ve never heard of a BCM96333 are you sure? </p><p>Post some pictures!! We&#039;d love to know about &quot;new&quot; stuff!<br />Compare with: <a href="http://pudeev.livejournal.com/35872.html#cutid1">http://pudeev.livejournal.com/35872.html#cutid1</a></p><p>If it is a 6338, it may be similar to the 6348 in pin layout. Which you can find here:<br /><a href="http://www.f-x.fr/wikini/wakka.php?wiki=Bcm6348PinOut">http://www.f-x.fr/wikini/wakka.php?wiki=Bcm6348PinOut</a><br /><a href="http://pudeev.livejournal.com/37410.html">http://pudeev.livejournal.com/37410.html</a><br />Count your pins, and start testing!</p>											<p class="post-edited">(Last edited by <strong>PopOpen</strong> on 30 Apr 2011, 20:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p134393">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">zhadoom</div>
					<div class="post-datetime">
						1 May 2011, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>a) my mistake to change that parameter<br />b) I opened the modem and is BCM96333</p><p>I will take a look at the links.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145599">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">PopOpen</div>
					<div class="post-datetime">
						11 Oct 2011, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>How did it go with this project?</p><p>I&#039;m interested in the BCM96333 chip, can you post a picture of your board with the chip?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174454">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Marvin_TheMartian</div>
					<div class="post-datetime">
						9 Aug 2012, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi PopOpen,</p><p>Are you still interested in the BCM96333? I have the same version of zhadoom and I&#039;ll be uploading a picture of it tonight (~9pm BRT (UTC-3)).</p><p>I&#039;m interested in installing the OpenWrt into this modem (DSL-2640B H/W: T1) but I&#039;m not having success... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Have a good day.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174492">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Marvin_TheMartian</div>
					<div class="post-datetime">
						9 Aug 2012, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>Here are the pics I promise... <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Full Board - <a href="http://postimage.org/image/4kkcfp5ap/">http://postimage.org/image/4kkcfp5ap/</a><br />4-ports Ethernet Controler (BCM5325) | ADSL Controller (BCM6333) | Memory (ESMT) - <a href="http://postimage.org/image/uhno364nl/">http://postimage.org/image/uhno364nl/</a><br />Wireless Controler (BCM4312) - <a href="http://postimage.org/image/faepk6tbv/">http://postimage.org/image/faepk6tbv/</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>