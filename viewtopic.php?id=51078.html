<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Transition period between old packages feed and new packages feed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p236409">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						12 Jun 2014, 00:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>As you probably noticed, we recently moved the packages feed that was at <a href="http://git.openwrt.org/packages.git">http://git.openwrt.org/packages.git</a> to a github hosted packages repository at the following address: <a href="https://github.com/openwrt/packages">https://github.com/openwrt/packages</a></p><p>The rationale behind that moved have been explained by Steven in this email: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2014-June/025810.html">https://lists.openwrt.org/pipermail/ope … 25810.html</a></p><p>In order to allow for a smooth transition, we will keep the old and new package feeds enabled at the same time for a grace period of 3 weeks, that will end on the 2nd of July 2014, such that we allow any package maintainer to progressively move the packages from the old feed to the new feed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236416">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">k25c2yf</div>
					<div class="post-datetime">
						12 Jun 2014, 01:08					</div>
				</div>
				<div class="post-content content">
					<p>ok,早一點出聲呀，我以為倒閉了</p><p>後來發覺全新下載命令更改成為:<br />1.&nbsp; &nbsp; &nbsp;&quot;git clone git://git.openwrt.org/openwrt.git&quot;<br />2.&nbsp; &nbsp; &nbsp;&quot;git clone git://github.com/openwrt/packages.git&quot;<br />3.&nbsp; &nbsp; &nbsp;&quot;cd openwrt;git pull;./scripts/feeds update -a;./scripts/feeds install -a&quot;<br />4.&nbsp; &nbsp; &nbsp;&quot;cd..;mv packages ./openwrt/feeds/<br />5.&nbsp; &nbsp; &nbsp;&quot;cd openwrt;./scripts/feeds update -a;./scripts/feeds install -a&quot;</p><p>sorry,佔了位置了.........</p>											<p class="post-edited">(Last edited by <strong>k25c2yf</strong> on 12 Jun 2014, 01:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236417">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">k25c2yf</div>
					<div class="post-datetime">
						12 Jun 2014, 01:14					</div>
				</div>
				<div class="post-content content">
					<p>那麼以後&quot;svn up&quot;更新源碼不能用了，取代的命令是:&quot;git pull&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236420">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						12 Jun 2014, 01:36					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for this florian as I was wondering where quite a lot of packages had vanished to when running the scripts to update them all just a few hours ago.&nbsp; I&#039;m looking to do some full feature builds especially now that it looks like sysupgrade support is enabled for at least the WNDR4300 (Netgear) routers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239024">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						3 Jul 2014, 10:48					</div>
				</div>
				<div class="post-content content">
					<p>The grace period ended. Every day the oldpackages feed stays active can be considered your lucky day :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240036">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jmomo</div>
					<div class="post-datetime">
						12 Jul 2014, 03:04					</div>
				</div>
				<div class="post-content content">
					<p>Do the wiki pages need to be updated?</p><p><a href="http://wiki.openwrt.org/doc/howto/build">http://wiki.openwrt.org/doc/howto/build</a><br /><a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence">http://wiki.openwrt.org/doc/howto/buildroot.exigence</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240078">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">roger_</div>
					<div class="post-datetime">
						12 Jul 2014, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>How does one move a package from git.openwrt.org to GitHub? Is a pull request on GitHub sufficient, and if so who will commit the deletion on git.openwrt.org?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241052">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Jul 2014, 13:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>florian_ wrote:</cite><blockquote><p>In order to allow for a smooth transition, we will keep the old and new package feeds enabled at the same time for a grace period of 3 weeks, that will end on the 2nd of July 2014, such that we allow any package maintainer to progressively move the packages from the old feed to the new feed.</p></blockquote></div><p>The three weeks have gone and oldpackages is still enabled by default. </p><p>Will oldpackages be disabled in feeds.conf.default soon? <br />Or have your plans changed, e.g. oldpackages to be removed after BB branching after rc2 ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p260726">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">zxdavb</div>
					<div class="post-datetime">
						9 Jan 2015, 20:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>roger_ wrote:</cite><blockquote><p>How does one move a package from git.openwrt.org to GitHub? Is a pull request on GitHub sufficient, and if so who will commit the deletion on git.openwrt.org?</p></blockquote></div><p>I would like to know the answer to this question, as well. Anyone?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262674">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">probono</div>
					<div class="post-datetime">
						24 Jan 2015, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>Trying to answer although I am not a core OpenWrt developer. Not sure if everything is correct, but appears to have worked for me when I tried to get the madplay package from oldpackages into trunk again:</p><p>Install trunk SDK</p><p>cat feeds.conf.default | sed &#039;s/#src-git oldpackages/src-git oldpackages/&#039; &gt; feeds.conf</p><p>./scripts/feeds update oldpackages</p><p>./scripts/feeds install madplay</p><p>make</p><p>On GitHub, clone the openwrt/packages repository<br />On GitHub, make a new branch<br />On the new branch, add the Makefile for the package</p><p>Add the following fields to the Makefile (of course you might have to change the values according to the upstream source; PKG_MAINTAINER is you):</p><p>PKG_LICENSE:=GPL-2.0+<br />PKG_LICENSE_FILES:=COPYING<br />PKG_MAINTAINER:=My Name &lt;name@domain.tld&gt;</p><p>IMPORTANT:<br />The commit message needs to start with the package name, followed by a &quot;:&quot;, e.g.:<br />madplay: Create Makefile<br />The commit message needs to have the following comment:<br />Signed-off-by: My Name &lt;name@domain.tld&gt;</p><p>On GitHub, create a pull request</p><p>Title:<br />madplay: import from old packages feed</p><p>Watch the pull request you made, e.g.,:<br /><a href="https://github.com/openwrt/packages/pull/817">https://github.com/openwrt/packages/pull/817</a></p><p>Possibly it is a good idea to stay around in #openwrt-devel on irc.freenode.net</p><p>Once it is merged, you can delete your branch.</p><p>NOTE: If you forgot to add the Signed-off-by comment in your commit message, then you need to follow <a href="https://help.github.com/articles/changing-a-commit-message/">https://help.github.com/articles/changi … t-message/</a> to rewrite your commit message.</p>											<p class="post-edited">(Last edited by <strong>probono</strong> on 24 Jan 2015, 18:47)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>