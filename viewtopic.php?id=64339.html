<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unknown package &#039;adblock&#039;.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p320739">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">czezz</div>
					<div class="post-datetime">
						21 Apr 2016, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />my router: TP-Link TL-WR841N/ND v9<br />my OpenWRT: CHAOS CALMER (15.05.1, r48532)</p><p>I have been trying install &quot;adblock&quot; package. However during installation I get following error:</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update
...
root@OpenWrt:~# opkg install adblock
Unknown package &#039;adblock&#039;.
Collected errors:
 * opkg_install_cmd: Cannot install package adblock.</code></pre></div><p>What am I doing wrong ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320741">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						21 Apr 2016, 23:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>czezz wrote:</cite><blockquote><p>What am I doing wrong ?</p></blockquote></div><p>Nothing. <br />But adblock has not been pre-compiled for 15.05.1 as support for it has been only added after the build. so there is not downloadable packae for 15.05(.1)</p><p>Download manually and install a trunk adblock package. It should be compatible.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 21 Apr 2016, 23:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320742">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						21 Apr 2016, 23:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>czezz wrote:</cite><blockquote><p>Hi,<br />my router: TP-Link TL-WR841N/ND v9<br />my OpenWRT: CHAOS CALMER (15.05.1, r48532)</p><p>I have been trying install &quot;adblock&quot; package. However during installation I get following error:</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update
...
root@OpenWrt:~# opkg install adblock
Unknown package &#039;adblock&#039;.
Collected errors:
 * opkg_install_cmd: Cannot install package adblock.</code></pre></div><p>What am I doing wrong ?</p></blockquote></div><p>Nothing, it&#039;s not part of the CC release repository. Install it manually, see <a href="https://forum.openwrt.org/viewtopic.php?pid=319674#p319674">here</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320745">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">czezz</div>
					<div class="post-datetime">
						22 Apr 2016, 00:24					</div>
				</div>
				<div class="post-content content">
					<p>Many thanks for replies <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />However I hit another problem:</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg install /tmp/adblock_1.0.3-1_all.ipk 
Installing adblock (1.0.3-1) to root...
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for adblock:
 *     wget * 
 * opkg_install_cmd: Cannot install package adblock.</code></pre></div><p>It seems like it does not like wget ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320770">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						22 Apr 2016, 03:11					</div>
				</div>
				<div class="post-content content">
					<p>opkg update; opkg install wget; opkg install /tmp/adblock_1.0.3-1_all.ipk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320812">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">czezz</div>
					<div class="post-datetime">
						22 Apr 2016, 10:27					</div>
				</div>
				<div class="post-content content">
					<p>wget is there:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# wget
BusyBox v1.23.2 (2016-01-02 18:01:44 CET) multi-call binary.

Usage: wget [-c|--continue] [-s|--spider] [-q|--quiet] [-O|--output-document FILE]
    [--header &#039;header: value&#039;] [-Y|--proxy on/off] [-P DIR]
    [-U|--user-agent AGENT] URL...

Retrieve files via HTTP or FTP

    -s    Spider mode - only check file existence
    -c    Continue retrieval of aborted transfer
    -q    Quiet
    -P DIR    Save to DIR (default .)
    -O FILE    Save to FILE (&#039;-&#039; for stdout)
    -U STR    Use STR for User-Agent header
    -Y    Use proxy (&#039;on&#039; or &#039;off&#039;)</code></pre></div><p>Nevertheless I tried to install/reinstall it and here is the story:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update; opkg install wget; 
...
Installing wget (1.17.1-1) to root...
Downloading http://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/packages/packages/wget_1.17.1-1_ar71xx.ipk.
Installing libpcre (8.38-1) to root...
Downloading http://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/packages/packages/libpcre_8.38-1_ar71xx.ipk.
Installing libopenssl (1.0.2g-1) to root...
Configuring libpcre.
Collected errors:
 * verify_pkg_installable: Only have 256kb available on filesystem /overlay, pkg libopenssl needs 676
 * opkg_install_cmd: Cannot install package wget.</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320813">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						22 Apr 2016, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>Well, Dirk might provide better answer, but I&#039;d assume that his adblock requires the full wget, not the busybox substitute, that&#039;s why it&#039;s listed as dependency.</p><p>Not sure if wget-nossl would satisfy the dependency but it may be installable on your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320818">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dibdot</div>
					<div class="post-datetime">
						22 Apr 2016, 11:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>czezz wrote:</cite><blockquote><p>wget is there:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# wget
BusyBox v1.23.2 (2016-01-02 18:01:44 CET) multi-call binary.

Usage: wget [-c|--continue] [-s|--spider] [-q|--quiet] [-O|--output-document FILE]
    [--header &#039;header: value&#039;] [-Y|--proxy on/off] [-P DIR]
    [-U|--user-agent AGENT] URL...

Retrieve files via HTTP or FTP

    -s    Spider mode - only check file existence
    -c    Continue retrieval of aborted transfer
    -q    Quiet
    -P DIR    Save to DIR (default .)
    -O FILE    Save to FILE (&#039;-&#039; for stdout)
    -U STR    Use STR for User-Agent header
    -Y    Use proxy (&#039;on&#039; or &#039;off&#039;)</code></pre></div><p>Nevertheless I tried to install/reinstall it and here is the story:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update; opkg install wget; 
...
Installing wget (1.17.1-1) to root...
Downloading http://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/packages/packages/wget_1.17.1-1_ar71xx.ipk.
Installing libpcre (8.38-1) to root...
Downloading http://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/packages/packages/libpcre_8.38-1_ar71xx.ipk.
Installing libopenssl (1.0.2g-1) to root...
Configuring libpcre.
Collected errors:
 * verify_pkg_installable: Only have 256kb available on filesystem /overlay, pkg libopenssl needs 676
 * opkg_install_cmd: Cannot install package wget.</code></pre></div></blockquote></div><p>as stangri said, busybox wget is not sufficient, you need the full wget package with ssl support. To enlarge your root filesystem, see <a href="https://wiki.openwrt.org/doc/howto/extroot">here</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322193">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">czezz</div>
					<div class="post-datetime">
						2 May 2016, 14:42					</div>
				</div>
				<div class="post-content content">
					<p>Eventually, as my HW has very limited disk space, I have used script from the following project and it works perfectly to me:<br /><a href="https://gist.github.com/teffalump/7227752">https://gist.github.com/teffalump/7227752</a></p><p>The only change I did to this script is to keep <em>block.hosts</em> on <em>/tmp</em> instead of <em>/etc</em> as the size of the file is nearly 2.0 MB as of today.<br />The downside of this workaround is that the list of domains needs to be downloaded and re-built every reboot (which in fact is not a big deal as it is automated).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360168">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">supperzerohero</div>
					<div class="post-datetime">
						11 Jun 2017, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>many thanks for this topic</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365894">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">arpitjain.dev</div>
					<div class="post-datetime">
						25 Sep 2017, 15:52					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the post.<br />I am trying to setup the script for on my Tp link wr841n v9.</p><p>When I run the script from /tmp directory, it doesnt show any output.<br />Neither does it block any ads.<br />Is there something different that I need to do?</p><p>Here is the list of commands I ran:<br />scp adblock.sh root@192.168.1.1:/tmp/adblock.sh <br />ssh root@192.168.1.1<br />chmod +x /tmp/adblock.sh<br />sh /tmp/adblock.sh -f</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>