<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> PPPoE on wr841n</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p154910">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pinner</div>
					<div class="post-datetime">
						21 Jan 2012, 19:05					</div>
				</div>
				<div class="post-content content">
					<p>Yesterday I installed the following : <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a> on my wr841n.</p><p>I managed to enter through telnet and ssh, changed passwords, set up the wifi, but can&#039;t for the life of me know how to set up the pppoe connection. I modified the wan interface (/etc/config/network) to something along the following:</p><p>config ‘interface’ ‘wan’<br />option ‘ifname’ ‘eth0.2?<br />option ‘proto’ ‘pppoe’<br />option ‘username’ ’user’<br />option ‘password’ ‘pass’</p><p>But do I have to configure something about the physical eth0.2 itself as well? Where can I read about that type of configuration? I couldn&#039;t find the right place to follow up to this subject (It&#039;s probably because i&#039;m a newbie and don&#039;t know where I should look).</p><p>Thanks for any help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154911">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						21 Jan 2012, 19:12					</div>
				</div>
				<div class="post-content content">
					<p>There are switch dirver issues currently, might be the reason for your pppoe issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154922">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pinner</div>
					<div class="post-datetime">
						21 Jan 2012, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>But is that config file the only thing I should change to get it working? I&#039;m a newbie at this so I probably either failed configuring it or haven&#039;t yet configured something else for the ifname in case.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154924">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						21 Jan 2012, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>Yes, your changes are otherwise correct.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154930">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pinner</div>
					<div class="post-datetime">
						21 Jan 2012, 21:13					</div>
				</div>
				<div class="post-content content">
					<p>I see, that&#039;s a shame.</p><p>Should I wait until a new release comes out or should I use another one that already exists? I&#039;ll have to learn to flash through cli <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>I appreciate you took the time to answer me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154931">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						21 Jan 2012, 21:44					</div>
				</div>
				<div class="post-content content">
					<p>You could try the 10.03.1 release if this supports your particular revision.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154948">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">pinner</div>
					<div class="post-datetime">
						22 Jan 2012, 02:06					</div>
				</div>
				<div class="post-content content">
					<p>I have a 7.2 version. According to <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr841nd">http://wiki.openwrt.org/toh/tp-link/tl-wr841nd</a>, if I&#039;m not wrong, I can only use the one I used and <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-jffs2-sysupgrade.bin">http://downloads.openwrt.org/snapshots/ … pgrade.bin</a>. </p><p>Although I don&#039;t know the differences between jffs2 and squashfs I believe it won&#039;t fix that issue, right?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154974">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">pinner</div>
					<div class="post-datetime">
						22 Jan 2012, 07:27					</div>
				</div>
				<div class="post-content content">
					<p>I managed to get it working. I don&#039;t know the reason why, but I&#039;ll say it in case it can be &quot;fixed&quot; or if it helps someone else, when I turn on the router for at least 30 secs with modem off, then turn it on, it seems like it will indeed work.</p>											<p class="post-edited">(Last edited by <strong>pinner</strong> on 22 Jan 2012, 07:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155029">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						22 Jan 2012, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>I wonder why you use &quot;eth0.2&quot; as wan. Why not eth1? Please execute &quot;uci export network&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155032">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">pinner</div>
					<div class="post-datetime">
						22 Jan 2012, 20:45					</div>
				</div>
				<div class="post-content content">
					<p>I wanted to try possibilites, and I&#039;m definitely not savvy on the matter. After I got the connection working I changed it back to eth1. I didn&#039;t change anything but wan from default, but here it is:</p><div class="codebox"><pre><code>package &#039;network&#039;

config &#039;interface&#039; &#039;loopback&#039;
        option &#039;ifname&#039; &#039;lo&#039;
        option &#039;proto&#039; &#039;static&#039;
        option &#039;ipaddr&#039; &#039;127.0.0.1&#039;
        option &#039;netmask&#039; &#039;255.0.0.0&#039;

config &#039;interface&#039; &#039;lan&#039;
        option &#039;ifname&#039; &#039;eth0&#039;
        option &#039;type&#039; &#039;bridge&#039;
        option &#039;proto&#039; &#039;static&#039;
        option &#039;ipaddr&#039; &#039;192.168.1.1&#039;
        option &#039;netmask&#039; &#039;255.255.255.0&#039;

config &#039;interface&#039; &#039;wan&#039;
        option &#039;proto&#039; &#039;pppoe&#039;
        option &#039;ifname&#039; &#039;eth1&#039;
        option &#039;username&#039; &#039;user&#039;
        option &#039;password&#039; pass
        option &#039;timeout&#039; &#039;10&#039;

config &#039;switch&#039;
        option &#039;name&#039; &#039;eth0&#039;
        option &#039;reset&#039; &#039;1&#039;
        option &#039;enable_vlan&#039; &#039;1&#039;

config &#039;switch_vlan&#039;
        option &#039;device&#039; &#039;eth0&#039;
        option &#039;vlan&#039; &#039;1&#039;
        option &#039;ports&#039; &#039;0 1 2 3 4&#039;</code></pre></div>											<p class="post-edited">(Last edited by <strong>pinner</strong> on 22 Jan 2012, 20:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p155039">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						22 Jan 2012, 21:11					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/uci/network">Network configuration - OpenWrt Wiki</a><br /><a href="http://wiki.openwrt.org/doc/uci/network/switch">Switch Documentation - OpenWrt Wiki</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>