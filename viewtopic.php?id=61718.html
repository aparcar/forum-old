<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> best openwrt router full usb power?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p304815">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sahotaonline</div>
					<div class="post-datetime">
						23 Dec 2015, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>please tell me which openwrt compatable router which have full power usb port <br />so no need for usb powered hub.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304852">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						23 Dec 2015, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>I know only x86 that support full USB power (Battery Charging Modes for iPad &amp; other mobiles)</p><p>Most embedded systems are not designed to provide charging power over USB<br />Considering the PCB design: Often its impossible to have (full/high power) USB and a functioning router (Ex: 12V 1.5-2A might not be enough to support full power 1 USB 3.0 / 2USB 2.0 ports and all Ethernet Ports+Wireless)</p><p>For some devices the USB port - power connection / electrical design is published (some Mediatek boards).</p><p>Sometimes USB power is regulated/set up by pins and this feature might been missing from OpenWrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304862">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						24 Dec 2015, 01:08					</div>
				</div>
				<div class="post-content content">
					<p>You have not stated a use case, but I thought this question curious enough to test my GLI AR150.</p><p>It is real router, however only two ports (1 WAN and 1 LAN) and runs off 5v.&nbsp; It has 1 USB port and with the latest firmware is charging my iPhone when the router is connected to the Apple Charger.&nbsp; </p><p>I also have tried a Seagate 2TB 2.5&quot; USB Hard drive and this works when the router is attached to a AC power strip with USB support.&nbsp; <a href="https://www.monoprice.com/product?c_id=109&amp;cp_id=10907&amp;cs_id=1090702&amp;p_id=10999&amp;seq=1&amp;format=2">https://www.monoprice.com/product?c_id= … p;format=2</a></p><p>There is this topic on the GLI web site.&nbsp; <a href="http://www.gl-inet.com/forums/topic/usb-power/">http://www.gl-inet.com/forums/topic/usb-power/</a></p><p>Not tried an unpowered hub.</p><p>There are a number of battery powered routers that I think will also do this.&nbsp; Most of these are designed to share media, so USB power of some good amount is pretty much a must.&nbsp; See the TOH.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304864">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						24 Dec 2015, 01:13					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/toh/views/toh_extended_all?datasrt=^usb%20ports&amp;dataflt">https://wiki.openwrt.org/toh/views/toh_ … mp;dataflt</a>[Device%20Type*~]=travel</p><p>Copy the entire string</p><p>This sort is for travel routers and sorted by USB.&nbsp; There are some devices which are NOT supported by OpenWRT so you may want to resort the data.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304878">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						24 Dec 2015, 07:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RangerZ wrote:</cite><blockquote><p>It has 1 USB port and with the latest firmware is charging my iPhone when the router is connected to the Apple Charger.&nbsp; </p><p>I also have tried a Seagate 2TB 2.5&quot; USB Hard drive and this works when the router is attached to a AC power strip with USB support.</p></blockquote></div><p>From what i hear most 1A chargers are not stable enough to supply.&nbsp; They are good enough to charge batteries, but they are very noisy, and tend to oscillate when the load get&#039;s too high. </p><p>What is the actual power rating of those Seagate drives?&nbsp; Google does not find it, and Seagate refuses to tell it in the specs on their website.<br />Is there a sticker on the back or bottom that tells the power rating? I have the feeling that this could be a bit on the high side as well. <br />If Powerusage of router + drive are near 1A then I fear a 1A charger does not keep up...&nbsp; Though for charging it should be good enough since it only needs to supply the 500mA&nbsp; or 750mA in that case.&nbsp; I would strongly recommend to use a 2A charger.</p><p>I connected a Arduino and a few LEDS to the USB the other day, also using a 1A charger, the router still worked but i noticed that the LEDS showed a slow oscillation. (a sign that the PSU was not keeping up with the demand)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304883">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">sahotaonline</div>
					<div class="post-datetime">
						24 Dec 2015, 08:39					</div>
				</div>
				<div class="post-content content">
					<p>thanks for replies<br />actually i have alfa wireless usb adapter and tplink mr3020 router with openwrt.<br />mr 3020 router not giving full power to run alfa wireless card properly it connect disconnect due to low power and current of usb.<br />so i want to know or need the openwrt router that can provide proper current and voltage to run alfa card through usb in openwrt.<br />alfa card works ok in laptop usb 2.0 port.<br />so please help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304891">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						24 Dec 2015, 09:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sahotaonline wrote:</cite><blockquote><p>thanks for replies<br />actually i have alfa wireless usb adapter and tplink mr3020 router with openwrt.<br />mr 3020 router not giving full power to run alfa wireless card properly it connect disconnect due to low power and current of usb.<br />so i want to know or need the openwrt router that can provide proper current and voltage to run alfa card through usb in openwrt.<br />alfa card works ok in laptop usb 2.0 port.<br />so please help.</p></blockquote></div><p>change the power supply, my mr3020 runs usb hub, extra usb wifi card and 3g modem (or usb tethered android phone with charging) at the same time with 2A iPad power supply</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 24 Dec 2015, 09:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304914">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						24 Dec 2015, 15:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>frietpan wrote:</cite><blockquote><p>What is the actual power rating of those Seagate drives?&nbsp; Google does not find it, and Seagate refuses to tell it in the specs on their website.</p></blockquote></div><p>I have a Seagate GoFLEX Home with its original 1 TB HDD (5400 RPM?) and it is running on a self-built OpenWRT firmware. Its AC/DC adapter is rated 12VDC @2A (24 Watts). Occasionally, I plugged this <a href="http://www.aliexpress.com/item/1A-dedicated-lithium-battery-charging-pad-charging-module-lithium-battery-charger-module-1A-Charging-Board/1444615148.html">TP4056 1A dedicated USB lithium battery charger</a> to its USB port to charge my 18665 Li-ION battery without a problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304923">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						24 Dec 2015, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>I think the real questions are how how much power do you need and have?<br /><a href="http://www.ebay.com/itm/OLED-USB-3-0-Charger-Capacity-power-Current-Voltage-Detector-Tester-Meter-white-/281661664198?hash=item419457ebc6">http://www.ebay.com/itm/OLED-USB-3-0-Ch … 419457ebc6</a></p><p>You do not say how you are powering your device, and as I already noted my AR150 will support some equipment at 1A and other at what I know know is 2.1A.&nbsp; </p><p>While I expect that the wireless adapter should not need much power, you may want to try to figure out what it needs.&nbsp; Its probably cheaper to upgrade your wireless USB than to change your router.</p><p>@frietpan, no label on the seagate.&nbsp; Did the same search then just tested it on the different USB power sources I have.&nbsp; Seems like most ACDC converters are either 1A or 2.1A.&nbsp; I suspect my PC&#039;s USB power is close to 1A, as it will run the USB HD (2.5A, no power supply) directly, but not through the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304933">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						24 Dec 2015, 19:57					</div>
				</div>
				<div class="post-content content">
					<p>I just measured a GLiNet AR-150 and a NEXX WT3020</p><p>AR150 peaks at 140mA during boot after boot it settles at 100mA (very nice!)<br />WT3020 peaks at 180mA during boot and when it turns on WIFi it jumps up 220mA (A hungry little beast)</p><p>Theoretically it then looks like this</p><p>USB ports max power rating is 500mA (but many PC&#039;s can handle a bit more thoug some have self re-setting polyfuses that blow at 500mA)</p><p>So 500mA + 220mA + a little headroom, say 200 mA&nbsp; that would make 920mA so a 1A power supply would do.</p><p>1A powersuppy as in rock solid 1A 24/7&nbsp; &nbsp;Though most chargers are build to offer 500mA + headroom = roughly 1A&nbsp; and then are sold as 1A chargers... but&nbsp; little over 500mA they already start to struggle, as charger that&#039;s mot a big issue as long as there is current then the battery is charged with whatever it gets. So it just takes a little longer... </p><p>To power up a device you need a stable supply that can offer a real 1A and if possible without too much noise.&nbsp; Chargers tend to be very noisy, and the bigger the load gets the more noise they produce and that also has it&#039;s toll..</p><p>For that reason. I would say use a 2A charger this then offers 100% headroom. But it still does not tell us how much noise it adds. Most DC converters have somekind of filter but it really depends on the quality of a given design how good that is.</p><p>Also the resistance of the USB cables causes a little voltage drop and can pick up external noise.&nbsp; So the thicker the copper wire inside the USB cable the better. This is why some devices now have a bit more chunky USB cables. (lets hope that is actually more copper and not just more plastic)</p><p>@RangerZ is that 2.5A the poweruse of the USB drive or is that a typo?&nbsp; if the drive is 2.5 amp and the router is 200 mA then you would need at least 3A. to be safe.&nbsp; And it would be best to use thick and short USB cables from PSU to router and from router to USB drive.&nbsp; 2.5A thats a bit hungry.&nbsp; (or is this a big 3,5&quot; HDD?)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304940">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						24 Dec 2015, 21:35					</div>
				</div>
				<div class="post-content content">
					<p>a little hint for the usb stability:<br /><span class="postimg"><img src="http://i.imgur.com/oM7lp9Zl.jpg" alt="http://i.imgur.com/oM7lp9Zl.jpg" /></span></p><p>about 100uF or bigger 16V or better electrolytic cap for the usb power (in my case it connected to the &quot;internal&quot; usb hub input)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304941">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						24 Dec 2015, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>@frietpan, it was suppose to have been a 2.5&quot; HD with no external power supply</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304963">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						25 Dec 2015, 05:24					</div>
				</div>
				<div class="post-content content">
					<p>@ RangerZ Those 2.5&quot; should not be consuming more then 500mA.&nbsp; (but I wonder why there are no specs available on this...)</p><p>@ stas2z: does that&nbsp; hack still give 5V Or does the voltage drop below 5V? (BTW. thats a nice antenna)</p><p>Also to filter noise from the PSU a few ferrite beats could make some good improvements</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304969">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						25 Dec 2015, 09:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>frietpan wrote:</cite><blockquote><p>@ stas2z: does that&nbsp; hack still give 5V Or does the voltage drop below 5V? (BTW. thats a nice antenna)</p></blockquote></div><p>MR3020 have no it&#039;s own power supply which usual routers have. This hack does not affects voltage, but helps with current consumption peaks (usually happens while usb devices initialization during startup). Also it can smooth pulsations of the impulse power supply. Without this hack my rt5370 usb stick connected to the hub fails to initialize sometimes using weak 1A supplies, but with it it start and run smoothly using only 0.5A supply.</p><p>btw, yeah, antenna is my own experiment using monoconductor cable, started with flat quaterwave quad its now transformed to the shape u can see on the photo <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />it have a very strange polarisation and requires more adjusting of the router to reach the best result, but it give about 3-5db more then stock pcb antenna in case of success</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 25 Dec 2015, 15:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305003">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">frietpan</div>
					<div class="post-datetime">
						25 Dec 2015, 18:15					</div>
				</div>
				<div class="post-content content">
					<p>@stas2z: I just added a capacitor to a NEXX, and going to keep an eye on it&#039;s performance. <br />Have you also experimented with reflective ground planes to make the antenna directional?<br />Just stick aluminium duct tape to the back of the router and connect it to ground. This reflects the signal of the PCB antenna and depending on the distance (needs experimenting) the signal gets boosted into the antenna&#039;s direction. <br />When it is all in phase then the range can be very surprising, although it&#039;s nearfield range then becomes much weaker</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305007">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						25 Dec 2015, 18:42					</div>
				</div>
				<div class="post-content content">
					<p>you need mr13u it has 0.5A usb + charging only usb 2A. you can use y-usb cable for high power wifi adapter for example.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305043">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						26 Dec 2015, 05:34					</div>
				</div>
				<div class="post-content content">
					<p>..but only 4mb flash.<br /><a href="https://wiki.openwrt.org/toh/hwdata/tp-link/tp-link_tl-mr13u_10">https://wiki.openwrt.org/toh/hwdata/tp- … l-mr13u_10</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>