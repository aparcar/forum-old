<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWrt on FON2100</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p82102">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						18 Feb 2009, 03:48					</div>
				</div>
				<div class="post-content content">
					<p>Hello, I have a FON2100 router with RedBoot acces.</p><p>I want to install the las estable version of openwrt, I try this guide: <a href="http://www.fonerahacks.com/index.php/Tutorials-and-Guides/Flash-Legend-Firmware-to-Fonera.html">http://www.fonerahacks.com/index.php/Tu … onera.html</a></p><p>But it doesn&#039;t work, this is all the installation:</p><p><span style="color: #FF0000"><br />lazkano@LG:~$ telnet 192.168.0.106 9000<br />Trying 192.168.0.106...<br />Connected to 192.168.0.106.<br />Escape character is &#039;^]&#039;.<br />RedBoot&gt; ip_address -l 192.168.0.106 -h 192.168.0.101<br />IP: 192.168.0.106/255.255.255.0, Gateway: 192.168.0.1<br />Default server: 192.168.0.101<br />RedBoot&gt; fis init<br />About to initialize [format] FLASH image system - continue (y/n)? y<br />*** Initialize FLASH Image System<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt;&nbsp; &nbsp; &nbsp; load -r -v -b %{FREEMEMLO} openwrt-atheros-2.6-root.jffs2-64k^[[D^^C^C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-2.6-root.jffs2-64k <br />Using default protocol (TFTP)<br />-<br />Raw file loaded 0x80040800-0x803a07ff, assumed entry at 0x80040800<br />RedBoot&gt; fis create -f 0xA8030000 -l 0x006F0000 rootfs <br />... Erase from 0xa8030000-0xa8720000: ...............................................................................................................<br />... Program from 0x80040800-0x803a0800 at 0xa8030000: ......................................................<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; load -r -v -b %{FREEMEMLO} openwrt-atheros-2.6-vmlinux.lzma<br />Using default protocol (TFTP)<br />-<br />Raw file loaded 0x80040800-0x801007ff, assumed entry at 0x80040800<br />RedBoot&gt; fis create -r 0x80041000 -e 0x80041000 vmlinux.bin.l7<br />... Erase from 0xa8720000-0xa87e0000: ............<br />... Program from 0x80040800-0x80100800 at 0xa8720000: ............<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: .<br />RedBoot&gt; reset<br /></span></p><p>How can I install OpenWrt?</p><p>Thanks a lot!</p><p>Edited:</p><p>This is my RedBoot version:</p><p>RedBoot&gt; version</p><p>RedBoot(tm) bootstrap and debug environment [ROMRAM]<br />Non-certified release, version v1.3.0 - built 16:57:58, Aug&nbsp; 7 2006</p><p>Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.</p><p>Board: ap51 <br />RAM: 0x80000000-0x81000000, [0x80040450-0x80fe1000] available<br />FLASH: 0xa8000000 - 0xa87f0000, 128 blocks of 0x00010000 bytes each.<br />RedBoot&gt;</p>											<p class="post-edited">(Last edited by <strong>jlazkano</strong> on 18 Feb 2009, 03:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82119">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						18 Feb 2009, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>Once you have gained access to the RedBoot console it&#039;s very easy to install OpenWrt on the fon2100. You need to run a local TFTP server and put the two files <a href="http://downloads.openwrt.org/kamikaze/8.09/atheros/openwrt-atheros-vmlinux.lzma">http://downloads.openwrt.org/kamikaze/8 … linux.lzma</a> , <a href="http://downloads.openwrt.org/kamikaze/8.09/atheros/openwrt-atheros-root.squashfs">http://downloads.openwrt.org/kamikaze/8 … t.squashfs</a> in the TFTP Root directory. The to files above installed OpenWrt Kamikaze 8.09 final.</p><p>Then use the following commands in the RedBoot console:</p><div class="codebox"><pre><code>RedBoot&gt; ip_addr -l 192.168.1.254/24 -h 192.168.1.122
RedBoot&gt; fis init
RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
RedBoot&gt; fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-root.squashfs
RedBoot&gt; fis create rootfs
RedBoot&gt; reset</code></pre></div><p>That&#039;s it.</p><p>Once installed telnet to 192.168.1.1, set a password with passwd. Now you can SSH to the Fon with username root and the password you just set. Run &#039;opkg update&#039; and install the LuCI WebUI: &#039;opkg install luci-admin-full luci-app-firewall&#039;. From now on you can do most configurations from the browser at <a href="http://192.168.1.1">http://192.168.1.1</a>/.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82125">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nas</div>
					<div class="post-datetime">
						18 Feb 2009, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>jlazkano, can you post the output of the fconfig -l command?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82131">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						18 Feb 2009, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>ok, this is the output:</p><p>lazkano@LG:~$ telnet 192.168.0.106 9000<br />Trying 192.168.0.106...<br />Connected to 192.168.0.106.<br />Escape character is &#039;^]&#039;.<br />RedBoot&gt; fconfig -l<br />Run script at boot: false<br />Use BOOTP for network configuration: true<br />Default server IP address: 0.0.0.0<br />Console baud rate: 9600<br />GDB connection port: 9000<br />Force console for special debug messages: false<br />Network debug at boot time: false<br />RedBoot&gt; </p><br /><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82133">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						18 Feb 2009, 14:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jlazkano wrote:</cite><blockquote><p>Run script at boot: false</p></blockquote></div><p>There is your problem.</p><p>Enable the boot_script and enter the boot_script_data</p><div class="quotebox"><blockquote><p>RedBoot&gt; fconfig<br />Run script at boot: true<br />Boot script:<br />.. fis load -b 0x80100000 loader<br />..&nbsp; go 0x80100000<br />Enter script, terminate with empty line<br />&gt;&gt; fis load -l vmlinux.bin.l7<br />&gt;&gt; exec<br />&gt;&gt;<br />Boot script timeout (1000ms resolution): 10<br />Use BOOTP for network configuration: false<br />Gateway IP address:<br />Local IP address: 192.168.1.1<br />Local IP address mask: 255.255.255.0<br />Default server IP address: 192.168.1.254<br />Console baud rate: 9600<br />GDB connection port: 9000<br />Force console for special debug messages: false<br />Network debug at boot time: false<br />Update RedBoot non-volatile configuration - continue (y/n)?y</p></blockquote></div><p>Also take a look at the Wiki page: <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Fon/Fonera">http://wiki.openwrt.org/OpenWrtDocs/Hardware/Fon/Fonera</a></p>											<p class="post-edited">(Last edited by <strong>Yanira</strong> on 18 Feb 2009, 14:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82137">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						18 Feb 2009, 15:08					</div>
				</div>
				<div class="post-content content">
					<p>Hello again, thanks for your reply.</p><p>Can I change these lines?</p><p>Local IP address: 192.168.1.1<br />Local IP address mask: 255.255.255.0<br />Default server IP address: 192.168.1.254</p><p>The INTERNET interface will be 192.168.0.x</p><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82140">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						18 Feb 2009, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>I am tryingh to edit the configuration but I can change it:</p><p>lazkano@LG:~$ telnet 192.168.0.106 9000<br />Trying 192.168.0.106...<br />Connected to 192.168.0.106.<br />Escape character is &#039;^]&#039;.<br />RedBoot&gt; fconfig<br />Run script at boot: false </p><p>I can erase the &quot;false&quot; word, I want to put &quot;true&quot;.</p><p>How can i change it? Thanks again!</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82144">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">knox</div>
					<div class="post-datetime">
						18 Feb 2009, 16:44					</div>
				</div>
				<div class="post-content content">
					<p>Try </p><div class="codebox"><pre><code>fco -d boot_script</code></pre></div><p>.<br />See the complete <a href="http://ecos.sourceware.org/docs-latest/redboot/redboot-guide.html">redboot user&#039;s guide</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82147">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						18 Feb 2009, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>OK, thanks again!</p><p>i change it, but happens the same with all the variables, I must edit them with commands?</p><p>lazkano@LG:~$ telnet 192.168.0.106 9000<br />Trying 192.168.0.106...<br />Connected to 192.168.0.106.<br />Escape character is &#039;^]&#039;.<br />RedBoot&gt; fco -d boot_script<br />boot_script: true ? true<br />Update RedBoot non-volatile configuration - continue (y/n)? y<br />... Erase from 0xa87e0000-0xa87f0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xa87e0000: . .<br />RedBoot&gt; fconfig<br />Run script at boot: true<br />Boot script: <br />Enter script, terminate with empty line<br />&gt;&gt; fis load -l vmlinux.bin.l7<br />&gt;&gt; exec<br />&gt;&gt; <br />Boot script timeout (1000ms resolution): 010<br />Use BOOTP for network configuration: true</p><p>thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82155">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						18 Feb 2009, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>OK, I know to edit the variables:</p><p>fconfig boot_script true<br />fconfig boot_script_timeout 10<br />fconfig bootp false </p><p>But it doen&#039;t goes.</p><p>Those are all my steps:</p><div class="codebox"><pre><code>RedBoot&gt; fconfig
Run script at boot: true
Boot script:
.. fis load -b 0x80100000 loader
..  go 0x80100000
Enter script, terminate with empty line
&gt;&gt; fis load -l vmlinux.bin.l7
&gt;&gt; exec
&gt;&gt;
Boot script timeout (1000ms resolution): 10
Use BOOTP for network configuration: false
Gateway IP address:
Local IP address: 192.168.1.1
Local IP address mask: 255.255.255.0
Default server IP address: 192.168.1.254
Console baud rate: 9600
GDB connection port: 9000
Force console for special debug messages: false
Network debug at boot time: false
Update RedBoot non-volatile configuration - continue (y/n)?y</code></pre></div><p>And then:</p><div class="codebox"><pre><code>ip_addr -l 192.168.0.106/24 -h 192.168.0.10
fis init
load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
load -r -b %{FREEMEMLO} openwrt-atheros-root.squashfs
fis create rootfs
reset</code></pre></div><p>Now I can&#039;t find which IP it has.</p><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82156">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						18 Feb 2009, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>Tomorrow or the day after tomorrow I will test 8.09 final on my fon2100. Maybe I can help more then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82171">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						19 Feb 2009, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>I have installed it! Now I want to disable the web interface, I want to configure from command-line. I having some problem with intrfaces. Which one is the ethernet port?</p><p>Which version of OpenWrt do you recomend to install?</p><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82231">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						20 Feb 2009, 03:20					</div>
				</div>
				<div class="post-content content">
					<p>Oh! OpenWrt 8.09 just released! I want install this version on my little FON2100</p><p>I have a problem to access to RedBoot:</p><div class="codebox"><pre><code>debian:/home/lazkano# telnet 192.168.1.1 9000
Trying 192.168.1.1...
Connected to 192.168.1.1.
Escape character is &#039;^]&#039;.
== Executing boot script in 7.150 seconds - enter ^C to abort
^C</code></pre></div><p>I don&#039;t know how to enter commands, I enter the &quot;^C&quot; (ctrl+c) but nohing happen. What is the problem?</p><p>Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82233">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">jlazkano</div>
					<div class="post-datetime">
						20 Feb 2009, 04:22					</div>
				</div>
				<div class="post-content content">
					<p>OK, I have got it.</p><p>I must edit .telnetrc file</p><div class="codebox"><pre><code>192.168.1.1
  mode line</code></pre></div><p>Thanks for all. Now I just need to configure it.</p><p>Thanks</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>