<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWrt for Netgear WNR2000 V5</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p301952">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Ahmed.Shafei</div>
					<div class="post-datetime">
						1 Dec 2015, 15:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello all,</p><p>I am really new to the OpenWrt world. I&#039;ve already bought 5 Netgear WNR2000 V5 routers in order to install OpenWrt on them and create a 802.11s mesh network. I am struggling to get it working as I can&#039;t find any documentation for V5 (Latest OpenWrt documentation for Netgear WNR2000 is for V4). Here is what I did:</p><p>1. Unlocked the Telnet Daemon.<br />2. From initial investigation, it turned out that V5 has only a &quot;mtd0:u-boot&quot; partition and no &quot;mtd1:u-boot-env&quot;.<br />3. In order to test and try, I tried copying the WNR2000 V4 OpenWrt image [<a href="http://downloads.openwrt.org/chaos_calmer/15.05/ar71xx/generic/openwrt-15.05-ar71xx-generic-wnr2000v4-squashfs-sysupgrade.bin">http://downloads.openwrt.org/chaos_calm â€¦ pgrade.bin</a>] to the &quot;firmware&quot; partition.<br />4. After it was copied, the router rebooted and the power LED keeps blinking forever.<br />5. I can&#039;t access the router anymore &quot;either telnet or SSH&quot;</p><p>The router is probably bricked, which is okay, but I&#039;d like some input or help from experts regarding what shall I do in order to start get it working with V5.<br />Also, if there is any information about debricking it, that would be really helpful.</p><br /><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304468">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pjhartin</div>
					<div class="post-datetime">
						21 Dec 2015, 08:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi Ahmed,</p><p>Did you ever resolve you issue? I just picked up one of these routers today for $50 AUD, and was hoping I could get openWRT on it. Like you I have only seen documentation for versions pre v5.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304482">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						21 Dec 2015, 12:46					</div>
				</div>
				<div class="post-content content">
					<p>No wonder a v4 image doesn&#039;t work on a v5: They have different SoCs.</p><p><a href="https://wikidevi.com/wiki/Netgear_WNR2000v4">https://wikidevi.com/wiki/Netgear_WNR2000v4</a> -&gt; AR9341<br /><a href="https://wikidevi.com/wiki/Netgear_WNR2000v5">https://wikidevi.com/wiki/Netgear_WNR2000v5</a> -&gt; QCA9531</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305024">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						25 Dec 2015, 23:26					</div>
				</div>
				<div class="post-content content">
					<p>@tmo26<br />the SoC does not matter. Both are supported from openwrt and also inside the image.</p><p>@all<br />I got the device, soldered serial connectors on it and i am nearly done with basic support. Nearly means: u-boot is blocking my propper image and i dont understand why.</p><p>From the beginning:<br />First i checked the oem firmware file with a hex editor. </p><p>device:WNR2000v5<br />version:V1.0.0.34<br />region:<br />hd_id:29764648+4+0+32+2x2+0</p><p>Then i read out the serial information:</p><p>hey, its already running openwrt...</p><p>...<br />Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-2.6.31<br />...</p><p>...<br />Kernel command line: rootfstype=squashfs console=ttyS0,115200 mem=32M board=WNR2000V5 mtdparts=ath-nor0:128k(u-boot)ro,832k(kernel),2752k(rootfs),128k(language),64k(pot),64k(traffic_meter),64k(config),64k(a)<br />...</p><p>...<br />9 cmdlinepart partitions found on MTD device ath-nor0<br />Creating 9 MTD partitions on &quot;ath-nor0&quot;:<br />0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />0x000000020000-0x0000000f0000 : &quot;kernel&quot;<br />0x0000000f0000-0x0000003a0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=3A0000, len=0 <br />0x0000003a0000-0x000000400000 : &quot;rootfs_data&quot;<br />0x0000003a0000-0x0000003c0000 : &quot;language&quot;<br />0x0000003c0000-0x0000003d0000 : &quot;pot&quot;<br />0x0000003d0000-0x0000003e0000 : &quot;traffic_meter&quot;<br />0x0000003e0000-0x0000003f0000 : &quot;config&quot;<br />0x0000003f0000-0x000000400000 : &quot;art&quot;<br />0x000000020000-0x0000003a0000 : &quot;firmware&quot;<br />u32 classifier<br />&nbsp; &nbsp; Performance counters on<br />Netfilter messages via NETLINK v0.30.<br />...</p><p>Then i took those values and added them while creating a openwrt image. I used the profile for the wnr2000v3 because it was most simple for me.</p><br /><p>I modified following lines:<br />...<br />wnr2000v3_mtdlayout=mtdparts=spi0.0:128k(u-boot)ro,3904k(firmware),64k(art)ro<br />...</p><p>...<br />$(eval $(call SingleProfile,Netgear,64kraw,WNR2000V3,wnr2000v3,WNR2000V3,ttyS0,115200,$$(wnr2000v3_mtdlayout),0x32303035,WNR2000V5,&quot;&quot; NA,-H 29764648+4+0+32+2x2+0))<br />...</p><br /><p>After that the image get accepted from the oem installer and the device rebooted:</p><p>FILE: /tmp/uhttp-upgrade.img is download successfully!<br />dd: writing &#039;/tmp/tmp11&#039;: No space left on device<br />1+0 records in<br />0+0 records out<br />Writing Image&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[##&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]&nbsp; &nbsp;8%Sending discover...<br />Writing Image&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[#######&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]&nbsp; 28%Sending discover...<br />Writing Image&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[#########&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]&nbsp; 36%sh: /www/cgi-bin/uhttpd.sh: not found<br />Writing Image&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[############&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]&nbsp; 48%Sending discover...<br />Writing Image&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[#########################] 100%sh: /sbin/ledcontrol: not found<br />Saving Data... Done!<br />Sending discover...<br />Restarting system.</p><p>Ok, great, i thought i am done. But then u-boot told:</p><p>...<br />Retry count exceeded; boot the image as usual</p><p> nmrp server is stopped or failed !<br />&nbsp; &nbsp;Bad Magic Number<br />Trying eth0<br />eth0 link down<br />FAIL<br />Trying eth1</p><p>The Router is in TFTP Server Firmware Recovery mode NOW!<br />Listening on Port : 69, IP Address: 192.168.1.1...<br />...</p><p>The magic is correct so far. Its 0x32303035 and its written into the first bytes of the file. Thats why the updater have accepted the image.</p><p>Ok, lets write with tftp the self made openwrt image again:</p><p>Rcv:<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; .................................................................<br />&nbsp; &nbsp; &nbsp; &nbsp; ..........................................<br />Done!<br />Bytes transferred = 3539077 (360085 hex)<br />Bad Magic Number,it is forbidden to be written to flash!!<br />Trying eth0<br />eth0 link down<br />FAIL<br />Trying eth1</p><p>The Router is in TFTP Server Firmware Recovery mode NOW!<br />Listening on Port : 69, IP Address: 192.168.1.1...</p><br /><p>???</p><p>Can someone help me? What magic does u-boot check?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308882">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						24 Jan 2016, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>Also a complete change to:</p><p>wnr2000v5_mtdlayout=mtdparts=spi0.0:128k(u-boot)ro,3904k(firmware),64k(art)ro<br />and<br />$(eval $(call SingleProfile,Netgear,64kraw,WNR2000V5,wnr2000v5,WNR2000V5,ttyS0,115200,$$(wnr2000v5_mtdlayout),0x32303035,WNR2000v5,&quot;&quot; NA,-H 29764648+4+0+32+2x2+0))</p><p>does not help. I always get the tftp error:<br />Bad Magic Number,it is forbidden to be written to flash!!</p><p>Working oem firmware:<br /><a href="http://www.downloads.netgear.com/files/GDC/WNR2000V5/WNR2000v5-V1.0.0.34.zip">http://www.downloads.netgear.com/files/ â€¦ 0.0.34.zip</a></p><p>The sourcecode from the working firmware and the installed u-boot:<br /><a href="http://www.downloads.netgear.com/files/GPL/wnr2000v5-V1.0.0.34_gpl_src.zip">http://www.downloads.netgear.com/files/ â€¦ pl_src.zip</a></p><p>In the file git_home/u-boot.git/net/net.c there is the check that answers &quot;Bad Magic Number,it is forbidden to be written to flash!!&quot;:<br />(!board_model_id_match_open_source_id() &amp;&amp; !image_match_open_source_fw_id(addr)) &amp;&amp; (ntohl(hdr-&gt;ih_magic) != IH_MAGIC)) </p><p>Can someone please help and tell me what other values then the first few bytes of the firmware file are checked?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311512">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">y_nk</div>
					<div class="post-datetime">
						15 Feb 2016, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>Is there someone with the knowledge willing to create a device profile and make a build for this device ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312543">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						25 Feb 2016, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>Yes, i think caspase/jclehner have the knowledge to help with this device. I asked him if he could take a look.<br /><a href="https://forum.openwrt.org/viewtopic.php?id=62656">https://forum.openwrt.org/viewtopic.php?id=62656</a></p>											<p class="post-edited">(Last edited by <strong>kelhgvrb</strong> on 25 Feb 2016, 15:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312544">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">caspase</div>
					<div class="post-datetime">
						25 Feb 2016, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi kelhgvrb,</p><p>the WNR2000v5-V1.0.0.34.img image you&#039;re referring to uses 0x27051956 (IH_MAGIC), see<br /></p><div class="codebox"><pre><code>$ hexdump -C -s 128 -n 64 WNR2000v5-V1.0.0.34.img
00000080  27 05 19 56 38 86 70 9a  55 37 5a a5 00 0c ff 40  |&#039;..V8.p.U7Z....@|
00000090  80 00 20 00 80 1f 68 f0  40 e4 ad d2 05 05 02 03  |.. ...h.@.......|
000000a0  4d 49 50 53 20 4f 70 65  6e 57 72 74 20 4c 69 6e  |MIPS OpenWrt Lin|
000000b0  75 78 2d 32 2e 36 2e 33  31 00 00 00 00 00 00 00  |ux-2.6.31.......|
000000c0</code></pre></div><p>Where did you get the 0x32303035 from?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312548">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						25 Feb 2016, 16:06					</div>
				</div>
				<div class="post-content content">
					<p>I got the 0x32303035 by looking at hexdump at line 00000000.The naming i used is from the other wnr2000 revisions like for example here:<br /><a href="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/image/Makefile#L2452">https://dev.openwrt.org/browser/trunk/t â€¦ file#L2452</a></p><p>The image i had build then with this magic flashed without problems with the default oem firmware but u-boot check fails. So oem webgui say &quot;file is ok&quot; and write it into ROM but u-boot say &quot;file is not ok, i dont boot&quot;. That i didnt understand.</p><p>Are there two kind of magics and on newer devices the design of the magic have changed? What is then the magic design i used?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312557">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						25 Feb 2016, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>Here is how it looks like and still didnt work. Some magic for part 2(?) of the image seems to be missing:</p><p>original image:<br /></p><div class="codebox"><pre><code>hexdump -C -n 256 oem.img 
00000000  64 65 76 69 63 65 3a 57  4e 52 32 30 30 30 76 35  |device:WNR2000v5|
00000010  0a 76 65 72 73 69 6f 6e  3a 56 31 2e 30 2e 30 2e  |.version:V1.0.0.|
00000020  33 34 0a 72 65 67 69 6f  6e 3a 0a 68 64 5f 69 64  |34.region:.hd_id|
00000030  3a 32 39 37 36 34 36 34  38 2b 34 2b 30 2b 33 32  |:29764648+4+0+32|
00000040  2b 32 78 32 2b 30 0a 00  00 00 00 00 00 00 00 00  |+2x2+0..........|
00000050  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00000080  27 05 19 56 38 86 70 9a  55 37 5a a5 00 0c ff 40  |&#039;..V8.p.U7Z....@|
00000090  80 00 20 00 80 1f 68 f0  40 e4 ad d2 05 05 02 03  |.. ...h.@.......|
000000a0  4d 49 50 53 20 4f 70 65  6e 57 72 74 20 4c 69 6e  |MIPS OpenWrt Lin|
000000b0  75 78 2d 32 2e 36 2e 33  31 00 00 00 00 00 00 00  |ux-2.6.31.......|
000000c0  6d 00 00 80 00 40 60 27  00 00 00 00 00 00 04 01  |m....@`&#039;........|
000000d0  d7 43 c0 07 f1 86 7f 28  2c 6b 1b cb e4 ee 3b 7c  |.C.....(,k....;||
000000e0  f4 c1 12 37 50 51 15 cf  7b bc a0 cc 7a 5f 48 12  |...7PQ..{...z_H.|
000000f0  51 89 35 50 31 31 89 2b  78 77 b3 02 d4 5e e2 ca  |Q.5P11.+xw...^..|
00000100</code></pre></div><p>self build image:<br /></p><div class="codebox"><pre><code>hexdump -C -n 256 owrt.img 
00000000  64 65 76 69 63 65 3a 57  4e 52 32 30 30 30 76 35  |device:WNR2000v5|
00000010  0a 76 65 72 73 69 6f 6e  3a 56 4f 70 65 6e 57 72  |.version:VOpenWr|
00000020  74 2e 72 34 38 37 38 30  0a 72 65 67 69 6f 6e 3a  |t.r48780.region:|
00000030  0a 68 64 5f 69 64 3a 32  39 37 36 34 36 34 38 2b  |.hd_id:29764648+|
00000040  34 2b 30 2b 33 32 2b 32  78 32 2b 30 0a 00 00 00  |4+0+32+2x2+0....|
00000050  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00000080  27 05 19 56 a9 c3 b3 d6  56 cf 05 12 00 13 34 00  |&#039;..V....V.....4.|
00000090  bf 07 00 00 bf 07 00 00  97 b6 7b 86 05 05 07 00  |..........{.....|
000000a0  4d 49 50 53 20 4f 70 65  6e 57 72 74 20 4c 69 6e  |MIPS OpenWrt Lin|
000000b0  75 78 2d 34 2e 31 2e 31  36 00 00 00 00 00 00 00  |ux-4.1.16.......|
000000c0  73 71 73 68 00 00 00 03  00 00 00 00 00 00 00 00  |sqsh............|
000000d0  00 00 00 00 00 00 00 00  00 00 00 00 00 03 00 00  |................|
000000e0  00 00 00 10 40 01 00 56  cf 05 12 00 00 00 00 00  |....@..V........|
000000f0  00 00 8c 00 01 00 00 00  00 00 00 00 00 00 00 00  |................|
00000100</code></pre></div><p>log output:<br /></p><div class="codebox"><pre><code>boot the image as usual

 nmrp server is stopped or failed !
   Verifying Checksum ... OK
 Begin Second part firmware check
Second part Bad Magic Number
Trying eth0
eth0 link down
FAIL
Trying eth1

The Router is in TFTP Server Firmware Recovery mode NOW!
Listening on Port : 69, IP Address: 192.168.1.1...</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312577">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">caspase</div>
					<div class="post-datetime">
						25 Feb 2016, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>Okay, if this is the same method as used in the EX2700, then this &quot;Second part&quot; means that U-Boot expects to find another uImage header at the end of the last block of the kernel partition. For the EX2700 I did the following:</p><p>1. Pad the (lzma) compressed kernel to the nearest eraseblock size-128 bytes. For example, if your kernel is 1100 kB in size, and the block size is 64k, you must pad it to 1152 kB (that&#039;s 18 blocks), minus 128 byte (for 2 uImage headers: one for the kernel, and a fake one), that&#039;s 1152*1024-64&nbsp; =1179584 bytes.</p><p>2. Create a uImage from the padded kernel (do NOT use the uImage that is automatically created by the OpenWrt build process).</p><p>3. Append a fake uImage header (for a 0 byte image) to the padded kernel uImage. The resulting image size is aligned to the block size (1152 kB in our example). You can find the fake header used in the EX2700 (which should work for you too) <a href="https://dev.openwrt.org/export/48771/trunk/target/linux/ramips/image/ex2700-fakeroot.uImage">here</a>.</p><p>In the end you&#039;d do something along the lines of (use a helper function for this, because you&#039;ll also have to add a marker for the jffs2 partition after the squashfs part, otherwise you won&#039;t have a writeable filesystem):<br /></p><div class="codebox"><pre><code>$ cat kernel-wnr2000v5.uImage fakeroot.uImage root.squashfs</code></pre></div><br /><p>See <a href="https://dev.openwrt.org/changeset/48771/trunk">https://dev.openwrt.org/changeset/48771/trunk</a> for details.</p>											<p class="post-edited">(Last edited by <strong>caspase</strong> on 25 Feb 2016, 20:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312590">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						25 Feb 2016, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>I checked the HEX values and found the magic twice in the oem image. Once already known at beginning of 00000080 and a second time at the beginning of 000D0040. The memory directly before 000D0040 there is much just full with zero.</p><p>Could you help with that? I have no idea how to change your patch to what i am needing.<br />Would it make most sense to just say somehow in the openwrt sourcecode that this few bytes should be set to 0x27051956 and openwrt can use all the memory around them in the flash chip?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312708">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">caspase</div>
					<div class="post-datetime">
						26 Feb 2016, 19:48					</div>
				</div>
				<div class="post-content content">
					<p>What&#039;s your current SingleProfile line? Also, have you tried setting the magic value to 0x27051956? Because 0x32303030 is esentially the string &quot;2000&quot; in the DNI header (the first 128 bytes); this header is not written to the flash, so U-Boot never sees it. The magic value it expects (and complains about) is the U-Boot magic, which in your case is 0x27051956.</p>											<p class="post-edited">(Last edited by <strong>caspase</strong> on 26 Feb 2016, 20:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312717">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">caspase</div>
					<div class="post-datetime">
						26 Feb 2016, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>Also, have a look at NetgearNAND. They do exactly this, but with a blocksize of 128k, and they ubinize the image, which is not neccessary for your device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312766">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						27 Feb 2016, 13:56					</div>
				</div>
				<div class="post-content content">
					<p>I use now as you told:<br />wnr2000v5_mtdlayout=mtdparts=spi0.0:128k(u-boot)ro,3904k(firmware),64k(art)ro</p><p>and</p><p>$(eval $(call SingleProfile,Netgear,64kraw,WNR2000V5,wnr2000v5,WNR2000V5,ttyS0,115200,$$(wnr2000v5_mtdlayout),0x27051956,WNR2000v5,&quot;&quot; NA,-H 29764648+4+0+32+2x2+0))</p><p>Thanks to you telling me the correct magic the error changed from<br />Bad Magic Number<br />to<br />Second part Bad Magic Number</p><p>As told i run a search for the magic number in the oem firmware that you found out in 00000080 and find it once again in 000D0040 inside the WNR2000v5-V1.0.0.34.img file.</p><p>I took a look into NetgearNAND by looking into <a href="https://dev.openwrt.org/changeset/38655">https://dev.openwrt.org/changeset/38655</a><br />The main case there is to create different partitions and so on. The WNR2000v5 here have with 4MB flash too less space for such things. You say that this is been called ubinizing and that is not needed for the WNR2000v5. I cant find anything in NetgearNAND how to put just a Magic number to a exact place in a firmware file.</p><p>Could you maybe help with coding here and send some patch i could test?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319073">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">xloem</div>
					<div class="post-datetime">
						11 Apr 2016, 03:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi, has anybody pursued this further?&nbsp; It sounds it is so close.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319303">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">y_nk</div>
					<div class="post-datetime">
						12 Apr 2016, 15:20					</div>
				</div>
				<div class="post-content content">
					<p>I also wish i could help but i&#039;m totally lost in translation. It sounds very close though.<br />I&#039;m willing to help but i really don&#039;t know what i can do.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341545">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">AllanLohse</div>
					<div class="post-datetime">
						19 Oct 2016, 12:46					</div>
				</div>
				<div class="post-content content">
					<p>Did any one got it to work on this router ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346016">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">LaineyBugsDaddy</div>
					<div class="post-datetime">
						7 Dec 2016, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>I would really like this working myself. I can&#039;t get the stock firmware to log in to noip.com for my DDNS service to work, even though I know I have my username and password correct. I think it&#039;s because the stock firmware predates the switch from no-ip.com to noip.com.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365616">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">kelhgvrb</div>
					<div class="post-datetime">
						21 Sep 2017, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>Yes, the WNR2000v5 is working great with LEDE (OpenWrt is not beeing developed any more).</p><p>More information about the WNR2000v5 support you can find here:</p><p><a href="https://github.com/lede-project/source/pull/1256">https://github.com/lede-project/source/pull/1256</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365619">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						21 Sep 2017, 00:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kelhgvrb wrote:</cite><blockquote><p>OpenWrt is not beeing developed any more</p></blockquote></div><p>LEDE and OpenWrt are going to merge under the OpenWrt name.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>