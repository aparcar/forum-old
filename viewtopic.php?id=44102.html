<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link-WA830RE V2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p201300">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						9 May 2013, 22:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello to all,<br />I bought the router (extender) TP-Link-WA830RE V2 , someone has already installed openwrt for this router?<br />Openwrt is compatible with the TP-LINK-WA830RE V2?</p><p>I searched on the &quot;Supported Hardware - Router type&quot; site openwrt but it is not present.</p><p>Thanks in advance.</p><p>MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202160">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						18 May 2013, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>For developers :</p><p>This is boot from serial console router&nbsp; TL-WA830RE V2.<br />Serial console (TX,RX,GND) </p><br /><p>- Detail from uboot serial console <br /></p><div class="quotebox"><blockquote><p>wasp&gt; printenv<br />bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art)<br />bootcmd=bootm 0x9f020000<br />bootdelay=1<br />baudrate=115200<br />ethaddr=0xXX:0xXX:0xXX:0xXX:0xXX:0xXX<br />ipaddr=192.168.1.111<br />serverip=192.168.1.100<br />dir=<br />bc=ap123<br />lu=tftp 0x81000000 ${dir}u-boot.bin&amp;&amp;erase 0x9f000000 +$filesize;cp.b $fileaddr 0x9f000000 $filesize<br />lf=tftp 0x81000000 ${dir}${bc}-squashfs&amp;&amp;erase 0x9f120000 +$filesize;cp.b $fileaddr 0x9f120000 $filesize<br />stdin=serial<br />stdout=serial<br />stderr=serial<br />ethact=eth0</p><p>Environment size: 565/65532 bytes</p></blockquote></div><p>- Detail boot firmware from serial console :<br /></p><div class="quotebox"><blockquote><p>U-Boot 1.1.4 (Oct&nbsp; 8 2012 - 16:51:51)</p><p>U-boot AP123</p><br /><p>DRAM:&nbsp; 32 MB<br />id read 0x100000ff<br />Flash:&nbsp; 4 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag934x_enet_initialize...<br />wasp reset mask:c03300<br />WASP ----&gt; S27 PHY<br />GMAC: cfg1 0x5 cfg2 0x7114<br />eth0: xx:xx:xx:xx:xx:xx<br />s27 reg init <br />athrs27_phy_setup ATHR_PHY_CONTROL 4: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 4: 0x10<br />eth0 up<br />WASP ----&gt; S27 PHY<br />GMAC: cfg1 0xf cfg2 0x7214<br />eth1: xx:xx:xx:xx:xx:xx<br />s27 reg init lan <br />ATHRS27: resetting s27<br />ATHRS27: s27 reset done<br />athrs27_phy_setup ATHR_PHY_CONTROL 0: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 0: 0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 1: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 1: 0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 2: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 2: 0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 3: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 3: 0x10<br />eth1 up<br />eth0, eth1<br />Autobooting in 1 seconds<br />## Booting image at 9f020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>Booting Atheros AR934x</p><p>Linux version 2.6.31--LSDK-9.2.0_U5.508 (root@localhost.localdomain) (gcc version 4.3.3 (GCC) ) #14 Mon Oct 8 16:55:43 CST 2012<br />flash_size passed from bootloader = 4<br />Ram size passed from bootloader =33554432<br />CPU revision is: 0001974c (MIPS 74Kc)<br />ath_sys_frequency: cpu srif ddr srif cpu 535 ddr 400 ahb 200<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00002000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line: console=ttyS0,115200 root=31:2 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art) mem=32M<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />Writing ErrCtl register=00000000<br />Readback ErrCtl register=00000000<br />Memory: 30132k/32768k available (1723k kernel code, 2636k reserved, 425k data, 112k init, 0k highmem)<br />NR_IRQS:128<br />plat_time_init: plat time init done<br />Calibrating delay loop... 267.26 BogoMIPS (lpj=534528)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />bio: create slab &lt;bio-0&gt; at 0<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NET: Registered protocol family 1<br />ATH GPIOC major 0<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />msgmni has been set to 58<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0xb8020000 (irq = 19) is a 16550A<br />console [ttyS0] enabled<br />PPP generic driver version 2.4.2<br />NET: Registered protocol family 24<br />5 cmdlinepart partitions found on MTD device ath-nor0<br />Creating 5 MTD partitions on &quot;ath-nor0&quot;:<br />0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />0x000000020000-0x000000120000 : &quot;kernel&quot;<br />0x000000120000-0x0000003e0000 : &quot;rootfs&quot;<br />0x0000003e0000-0x0000003f0000 : &quot;config&quot;<br />0x0000003f0000-0x000000400000 : &quot;art&quot;<br />-&gt;Oops: flash id 0x10215 . <br />ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />Port Status 1c000004 <br />ath-ehci ath-ehci.0: ATH EHCI<br />ath-ehci ath-ehci.0: new USB bus registered, assigned bus number 1<br />ehci_reset Intialize USB CONTROLLER in host mode: 13<br />ehci_reset Port Status 1c000000 <br />ath-ehci ath-ehci.0: irq 3, io mem 0x1b000000<br />ehci_reset Intialize USB CONTROLLER in host mode: 13<br />ehci_reset Port Status 1c000000 <br />ath-ehci ath-ehci.0: USB 2.0 started, EHCI 1.00<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />TCP cubic registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />athwdt_init: Registering WDT success<br />ath_otp_init: Registering OTP success<br />ath_clksw_init: Registering Clock Switch Interface success<br />VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />Freeing unused kernel memory: 112k freed</p><p>init started:&nbsp; BusyBox v1.01 (2012.09.06-08:33+0000) multi-call binary<br />This Board use 2.6.31<br />xt_time: kernel timezone is -0000<br />nf_conntrack version 0.5.0 (512 buckets, 5120 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />insmod: cannot open module `/lib/modules/2.6.31/kernel/iptable_raw.ko&#039;: No such file or directory<br />insmod: cannot open module `/lib/modules/2.6.31/kernel/flashid.ko&#039;: No such file or directory<br />PPPoL2TP kernel driver, V1.0<br />PPTP driver version 0.8.3<br />insmod: cannot open module `/lib/modules/2.6.31/kernel/harmony.ko&#039;: No such file or directory</p><p> (none) mips #14 Mon Oct 8 16:55:43 CST 2012 (none)</p><p>(none) login: Now flash open!<br />Now flash open!<br />ATHR_GMAC: Length per segment 1536<br />ATHR_GMAC: fifo cfg 3 01f00140<br />ATHR_GMAC: RX TASKLET - Pkts per Intr:32<br />mac:1 Registering S27....<br />ATHR_GMAC: Max segments per packet :&nbsp; &nbsp;1<br />ATHR_GMAC: Max tx descriptor count :&nbsp; &nbsp;40<br />ATHR_GMAC: Max rx descriptor count :&nbsp; &nbsp;128<br />ATHR_GMAC: Mac capability flags&nbsp; &nbsp; :&nbsp; &nbsp;2D82<br />ATHR_GMAC: RX TASKLET - Pkts per Intr:32<br />mac:0 Registering S27....<br />ATHR_GMAC: Max segments per packet :&nbsp; &nbsp;1<br />ATHR_GMAC: Max tx descriptor count :&nbsp; &nbsp;40<br />ATHR_GMAC: Max rx descriptor count :&nbsp; &nbsp;128<br />ATHR_GMAC: Mac capability flags&nbsp; &nbsp; :&nbsp; &nbsp;2582<br />athr_gmac_ring_alloc Allocated 640 at 0x81e2dc00<br />athr_gmac_ring_alloc Allocated 2048 at 0x81ccb000<br />WASP ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames <br />Setting PHY...<br />athr_gmac_ring_alloc Allocated 640 at 0x81e2d800<br />athr_gmac_ring_alloc Allocated 2048 at 0x81f00800<br />WASP ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames <br />ATHRS27: resetting s27<br />ATHRS27: s27 reset done<br />++++ athrs27_igmp_setup once<br />port0 vid is 0xb000b<br />port1 vid is 0x30003<br />port2 vid is 0x50005<br />port3 vid is 0x70007<br />port4 vid is 0x90009<br />++ PVID: 0x0000000b, bitmap: 0x0000001f<br />++ PVID: 0x00000003, bitmap: 0x0000001f<br />++ PVID: 0x00000005, bitmap: 0x0000001f<br />++ PVID: 0x00000007, bitmap: 0x0000001f<br />++ PVID: 0x00000009, bitmap: 0x0000001f<br />vtable vid: 0x00000002, bitmap 0x00000003<br />vtable vid: 0x00000004, bitmap 0x00000005<br />vtable vid: 0x00000006, bitmap 0x00000007<br />vtable vid: 0x00000008, bitmap 0x00000009<br />vtable vid: 0x0000000a, bitmap 0x0000000b<br />vtable vid: 0x0000000c, bitmap 0x0000000d<br />vtable vid: 0x0000000e, bitmap 0x0000000f<br />vtable vid: 0x00000010, bitmap 0x00000011<br />vtable vid: 0x00000012, bitmap 0x00000013<br />vtable vid: 0x00000014, bitmap 0x00000015<br />vtable vid: 0x00000016, bitmap 0x00000017<br />vtable vid: 0x00000018, bitmap 0x00000019<br />vtable vid: 0x0000001a, bitmap 0x0000001b<br />vtable vid: 0x0000001c, bitmap 0x0000001d<br />vtable vid: 0x0000001e, bitmap 0x0000001f<br />vtable vid: 0x00000020, bitmap 0x00000021<br />Setting PHY...<br />device eth1 entered promiscuous mode<br />Now flash open!<br />athr_gmac_ring_free Freeing at 0x81e2dc00<br />athr_gmac_ring_free Freeing at 0x81ccb000<br />athr_gmac_ring_alloc Allocated 640 at 0x81e2dc00<br />athr_gmac_ring_alloc Allocated 2048 at 0x81ea8800<br />WASP ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames <br />Setting PHY...<br />enet0 port0 up<br />ATHR_GMAC: Enet Unit:0 PHY:0 is UP Mii 100Mbps full duplex<br />ATHR_GMAC: done cfg2 0x7115 ifctl 0x10000 miictrl&nbsp; <br />WASP ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames <br />br0: port 1(eth1) entering forwarding state<br />nf_conntrack_rtsp v0.6.21 loading<br />nf_nat_rtsp v0.6.21 loading<br />asf: module license &#039;Proprietary&#039; taints kernel.<br />Disabling lock debugging ath_hal: 0.9.17.1 (AR5416, AR9380, REGOPS_FUNC, WRITE_EEPROM, 11D)<br />ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved<br />ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved<br />ath_ahb: 9.2.0_U10.1020 (Atheros/multi-bss)<br />__ath_attach: Set global_scn[0]<br />ACBKMinfree = 48<br />ACBEMinfree = 32<br />ACVIMinfree = 16<br />ACVOMinfree = 0<br />CABMinfree = 48<br />UAPSDMinfree = 0<br />Restoring Cal data from Flash<br />ath_get_caps[5105] rx chainmask mismatch actual 3 sc_chainmak 0<br />ath_get_caps[5080] tx chainmask mismatch actual 3 sc_chainmak 0<br />wifi0: Atheros 9340: mem=0xb8100000, irq=2<br />====&gt;&gt;&gt;&gt;SystemMode : Standard AP <br />wlan_vap_create : enter. devhandle=0x81fec2c0, opmode=IEEE80211_M_HOSTAP, flags=0x1<br />wlan_vap_create : exit. devhandle=0x81fec2c0, opmode=IEEE80211_M_HOSTAP, flags=0x1.<br />VAP device ath0 created <br />====&gt;&gt;&gt;&gt;wlan: rand channel 6</p> <br /><p> DES SSID SET=TP-LINK_Extender_B57EF8 <br /> ieee80211_ioctl_siwmode: imr.ifm_active=131712, new mode=3, valid=1 <br />athr_gmac_ring_free Freeing at 0x81e2dc00<br />athr_gmac_ring_free Freeing at 0x81ea8800<br />br0: port 1(eth1) entering disabled state<br />athr_gmac_ring_alloc Allocated 640 at 0x81f56400<br />athr_gmac_ring_alloc Allocated 2048 at 0x81ea8000<br />WASP ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames <br />Setting PHY...<br />device ath0 entered promiscuous mode<br />br0: port 2(ath0) entering forwarding state<br /> ieee80211_ioctl_siwmode: imr.ifm_active=1442432, new mode=3, valid=1 <br />br0: port 2(ath0) entering disabled state</p><p> DES SSID SET=TP-LINK_Extender_B57EF8 <br />br0: port 2(ath0) entering forwarding state<br />====&gt;&gt;&gt;&gt;ssss_1295<br />====&gt;&gt;&gt;&gt;cmdCtrl open success <br />====&gt;&gt;&gt;&gt;eventCtrl open success <br />====&gt;&gt;&gt;&gt;eventCtrl attach success <br />====&gt;&gt;&gt;&gt;------------swWlanExtenderStart---------------<br />====&gt;&gt;&gt;&gt;swWlanExtenderThread<br />====&gt;&gt;&gt;&gt;create extender thread ok,pid:6151<br />====&gt;&gt;&gt;&gt;linkStatus = 0<br />====&gt;&gt;&gt;&gt;create ssid thread success, pid:8201<br />====&gt;&gt;&gt;&gt;linkStatus is 0<br />ATHR_GMAC: GE0 RX DMA ENABLE<br />enet0 port0 up<br />ATHR_GMAC: Enet Unit:0 PHY:0 is UP Mii 100Mbps full duplex<br />ATHR_GMAC: done cfg2 0x7115 ifctl 0x10000 miictrl&nbsp; <br />WASP ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames <br />br0: port 2(ath0) entering disabled state<br />br0: port 1(eth1) entering forwarding state<br />br0: port 2(ath0) entering forwarding state<br />====&gt;&gt;&gt;&gt;linkStatus = 1<br />====&gt;&gt;&gt;&gt;DHCP start.dhcpc.c,dhcpcStart,894 <br />====&gt;&gt;&gt;&gt;DHCP end.dhcpc.c,dhcpcStNow flash open!<br />art,954 <br />Erase from 0X3E0000 to 0X3EC808:.<br />Program from 0X3E0000 to 0X3EC808:<br />write successfully<br />Now flash open!<br />Erase from 0X3E0000 to 0X3EC808:.<br />Program from 0X3E0000 to 0X3EC808:<br />write successfully<br />====&gt;&gt;&gt;&gt;lan type detect start. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;wzd start ROOTAP CONNECT 1<br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect retry. </p><p>TL-WA830RE mips #14 Mon Oct 8 16:55:43 CST 2012 (none)<br />TL-WA830RE login: admin====&gt;&gt;&gt;&gt;lan type detect retry. <br />Password: ====&gt;&gt;&gt;&gt;lan type detect retry. <br />====&gt;&gt;&gt;&gt;lan type detect fail. <br />====&gt;&gt;&gt;&gt;lanTypeDectect, 1127<br />Now flash open!<br />Erase from 0X3E0000 to 0X3EC808:.<br />Program from 0X3E0000 to 0X3EC808:<br />write successfully<br />br0: port 2(ath0) entering disabled state<br />br0: port 2(ath0) entering forwarding state<br />Login incorrect<br />TL-WA830RE login:</p></blockquote></div><p>I tried to login with the following users/password with negative results.</p><p>root / 5up<br />root / root<br />root / passwd<br />admin / admin</p><p>Anyone knows how to retrieve the root pwd ?</p><p>Here there are image of board and serial console. <a href="http://misterox.altervista.org/dokuwiki/doku.php?id=tp-link-wa830re_v2">http://misterox.altervista.org/dokuwiki … wa830re_v2</a></p><p>Bye<br />MisteroX</p>											<p class="post-edited">(Last edited by <strong>misteroX</strong> on 18 May 2013, 15:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346246">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mac93</div>
					<div class="post-datetime">
						10 Dec 2016, 15:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello, I saw that you&#039;re the only one who has posted information about this repeater .. I find myself stuck with repeater. I think something went wrong during recovery from ddwrt to OEM. I have a serial interface, and I have already solder the pins to connect. Could you help on this?</p><p>My mail is anto.auteri@gmail.com</p>											<p class="post-edited">(Last edited by <strong>mac93</strong> on 10 Dec 2016, 15:28)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>