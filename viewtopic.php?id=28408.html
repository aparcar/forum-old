<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to set up broadcast UDP forwarding in bridged client mode?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p126946">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">exxon</div>
					<div class="post-datetime">
						31 Jan 2011, 07:28					</div>
				</div>
				<div class="post-content content">
					<p>I have configuration like this</p><p>Comp1-----WNDR3700 -&nbsp; -&nbsp; -&nbsp; - wl500gp----Comp2</p><p>&quot;---&quot; - ethernet connection<br />&quot;-&nbsp; -&nbsp; -&quot; - wifi connection</p><p>wl500gp is set up in bridged client mode.<br />I am trying to get windows &quot;Network Map&quot; showing computer on other end of wifi link.<br />So far it looks like LLDP uses broadcast UDP requests, and according to wireshark these requests don&#039;t reach computer on other end of link. <br />hence the question: how do I configure wl500gp so that it forwards broadcast/mulitcast UDP requests to its network and in particular to Comp2?</p><p>UPDATE:<br />thinking some more about it - UDP broadcast should work, because DHCP requests from Comp2 succesfully reach wndr3700, which is DHCP server. <br />on other hand DHCP request in WireShark has destination address &quot;255.255.255.255&quot;, while LLDP request has destintion &quot;Broadcast&quot;.<br />what&#039;s the difference?? :?</p><p>UPDATE: all 4 nodes are in 192.168.1.0/24 subnet. </p><p>thanks!</p>											<p class="post-edited">(Last edited by <strong>exxon</strong> on 31 Jan 2011, 09:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126960">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						31 Jan 2011, 09:27					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/doc/howto/clientmode#bridged.client.mode.issues">Client Mode Wireless - OpenWrt Wiki - Bridged Client Mode Issues</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126964">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">exxon</div>
					<div class="post-datetime">
						31 Jan 2011, 09:45					</div>
				</div>
				<div class="post-content content">
					<p>thanks.<br />read that before.<br />that kind of explains no ARP routing at all. but I do have it, since I use brcm proprietary driver.<br />that page also contains explanation why it works with brcm.<br />besides if it was the case neither DHCP nor ARP request would work.<br />and they do.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126966">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						31 Jan 2011, 10:03					</div>
				</div>
				<div class="post-content content">
					<p>I think the Broadcom proprietary bridged client mode is somehow broken.</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=26951">OpenWrt / Fonera as a wireless client</a><br /><a href="https://dev.openwrt.org/ticket/6969">#6969 (Repeater mode not working. Timeout during auth to repeated network) â€“ OpenWrt</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p126967">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">exxon</div>
					<div class="post-datetime">
						31 Jan 2011, 10:18					</div>
				</div>
				<div class="post-content content">
					<p>thanks again.<br />I think first link is about brcm-2.4 which is obsolete. I run 2.6.36<br />second could be related, but not sure.<br />indeed either it&#039;s broken (at least partially) or I just can&#039;t set it properly <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127825">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RollerDK</div>
					<div class="post-datetime">
						9 Feb 2011, 18:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>exxon wrote:</cite><blockquote><p>I have configuration like this</p><p>Comp1-----WNDR3700 -&nbsp; -&nbsp; -&nbsp; - wl500gp----Comp2</p><p>&quot;---&quot; - ethernet connection<br />&quot;-&nbsp; -&nbsp; -&quot; - wifi connection</p><p>wl500gp is set up in bridged client mode.<br />I am trying to get windows &quot;Network Map&quot; showing computer on other end of wifi link.<br />So far it looks like LLDP uses broadcast UDP requests, and according to wireshark these requests don&#039;t reach computer on other end of link. <br />hence the question: how do I configure wl500gp so that it forwards broadcast/mulitcast UDP requests to its network and in particular to Comp2?</p><p>UPDATE:<br />thinking some more about it - <strong>UDP broadcast should work</strong>, because DHCP requests from Comp2 succesfully reach wndr3700, which is DHCP server. <br />on other hand DHCP request in WireShark has destination address &quot;255.255.255.255&quot;, while LLDP request has destintion &quot;Broadcast&quot;.<br />what&#039;s the difference?? :?</p><p>UPDATE: all 4 nodes are in 192.168.1.0/24 subnet. </p><p>thanks!</p></blockquote></div><p>You are right: &quot;UDP broadcast should work&quot; but....<br />The problem is between revision 23000 and 23525 of trunk (for now, I&#039;m compiling between these revisions to test and meet the &quot;broken&quot; revision and create a ticket with this little issue).</p><p>In my scenary:<br />Target: brcm63xx<br />Wireless driver: wl Broadcom propietary</p><p>With r23000 UDP broadcast packets reach the destination<br />Since r23525&nbsp; UDP broadcast packets doesn&#039;t reach the destination, of course there isn&#039;t any problem with the rest of traffic and the bridge seems to work well but not.</p><p>Between these revisions the unique change affect to wl directly was a &#039;channel change&#039; from 5 to 11 but I think this is not the problem.</p><p>I&#039;m following the test to meet the critic revision..</p>											<p class="post-edited">(Last edited by <strong>RollerDK</strong> on 9 Feb 2011, 19:00)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>