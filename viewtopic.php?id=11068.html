<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> pptpd with mppe support for broadcom 2.4</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p49950">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Noerr</div>
					<div class="post-datetime">
						7 Jun 2007, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi<br />I couldn&#039;t find package to include mppe module for pptpd in kamikaze 7.06 on linksys wrt54gl.<br />I also tried to install package kmod-mppe from whiterussian and loaded module manually but still getting same message<br />Well I think it&#039;s straight forward that I&#039;d needed MPPE and also ARC4 module?? what package is that, I couldn&#039;t find it either.</p><p>I also tried to download source and compile it but, got an error + don&#039;t really want to be testing too much so I don&#039;t brick my router.<br />any help appreciated.</p><p>lsmod shows:<br />ppp_mppe_mppc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 13412&nbsp; 0 (unused)<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15520&nbsp; 0 (unused)<br />ip_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;1712&nbsp; 0 (unused)<br />ip_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2336&nbsp; 0 (unused)<br />ip_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 3128&nbsp; 1<br />ip_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2960&nbsp; 0 (unused)<br />ip_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 4272&nbsp; 1<br />tun&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4504&nbsp; 3<br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7884&nbsp; 0<br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 22300&nbsp; 0 [ppp_mppe_mppc ppp_async]<br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6064&nbsp; 0 [ppp_generic]<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 630776&nbsp; 0 (unused)<br />switch-robo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4540&nbsp; 0 (unused)<br />switch-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4864&nbsp; 0 [switch-robo]<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;22960&nbsp; 0 (unused)<br />---------------------------------------------------------</p><p>---some log output<br />Jun&nbsp; 7 12:24:46 vhr daemon.notice pppd[1963]: Connect: ppp0 &lt;--&gt; /dev/pts/0<br />Jun&nbsp; 7 12:24:49 vhr user.err kernel: mppe_decomp_alloc: cannot load ARC4 module<br />Jun&nbsp; 7 12:24:49 vhr daemon.err pppd[1963]: MPPE required, but kernel has no support.<br />Jun&nbsp; 7 12:24:49 vhr daemon.notice pppd[1963]: Connection terminated.<br />Jun&nbsp; 7 12:24:49 vhr daemon.info pppd[1963]: Connect time 0.1 minutes.<br />Jun&nbsp; 7 12:24:49 vhr daemon.info pppd[1963]: Sent 0 bytes, received 0 bytes.<br />Jun&nbsp; 7 12:24:49 vhr daemon.debug pptpd[1962]: CTRL: Reaping child PPP[1963]<br />Jun&nbsp; 7 12:24:49 vhr daemon.info pppd[1963]: Exit.<br />Jun&nbsp; 7 12:24:49 vhr daemon.info pptpd[1962]: CTRL: Client 84.255.203.209 control connection finished<br />----------------------------------------------------------------------<br />/tmp/pptp-server.log<br />------------------------<br />Connect: ppp0 &lt;--&gt; /dev/pts/0<br />MPPE required, but kernel has no support.<br />Connection terminated.<br />Connect time 0.1 minutes.<br />Sent 0 bytes, received 0 bytes.<br />-------------------------------------------------------------------<br />ipkg list_installed<br />---------------------<br />base-files-brcm-2.4 - 8-7431 -<br />bridge - 1.0.6-1 -<br />busybox - 1.4.2-1 -<br />dnsmasq - 2.38-1 -<br />dropbear - 0.49-1 -<br />iptables - 1.3.5-1 -<br />kernel - 2.4.34-brcm-1 -<br />kmod-brcm-wl - 2.4.34+4.80.53.0-1 -<br />kmod-crypto - 2.4.34-brcm-1 -<br />kmod-diag - 1+2.4.34-brcm-1 -<br />kmod-gre - 2.4.34-brcm-1 -<br />kmod-ipt-nathelper - 2.4.34-brcm-1 -<br />kmod-mppe - 2.4.30-brcm-4 -<br />kmod-ppp - 2.4.34-brcm-1 -<br />kmod-pppoe - 2.4.34-brcm-1 -<br />kmod-switch - 2.4.34-brcm-1 -<br />kmod-tun - 2.4.34-brcm-1 -<br />kmod-wlcompat - 2.4.34+brcm-4 -<br />libgcc - 3.4.6-8 -<br />liblzo - 2.02-1 -<br />libncurses - 5.2-8 -<br />libopenssl - 0.9.8e-1 -<br />libpopt - 1.7-4 -<br />mtd - 5 -<br />nano - 1.3.8-1 -<br />nas - 4.80.53.0-1 -<br />nvram - 1 -<br />openvpn - 2.0.9-1 -<br />ppp - 2.4.3-7 -<br />ppp-mod-pppoe - 2.4.3-7 -<br />pptp - 1.6.0-3 -<br />pptpd - 1.3.0-1 -<br />rsync - 2.6.5-1 -<br />screen - 4.0.2-1 -<br />uclibc - 0.9.28-8 -<br />wireless-tools - 28-1 -<br />wlc - 4.80.53.0-1 -<br />zlib - 1.2.3-3 -<br />Done.<br />------------------------------------------</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49953">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Noerr</div>
					<div class="post-datetime">
						7 Jun 2007, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>Wah Wah Wee&nbsp; Wah</p><p>got it to work i did manually load following modules<br />arc4<br />sha1</p><p>and of course <br />ppp_mppe_mppc from WR rc6 distro <br />for anyone&#039;s quick reference:</p><p>cd /tmp<br />wget <a href="http://downloads.openwrt.org/whiterussian/rc6/packages/kmod-mppe_2.4.30-brcm-4_mipsel.ipk">http://downloads.openwrt.org/whiterussi â€¦ mipsel.ipk</a><br />ipkg install /tmp/kmod-mppe_2.4.30-brcm-4_mipsel.ipk<br />insmod ppp_mppe_mppc<br />insmod arc4<br />insmod sha1</p><p>kill -3 `pidof pptpd`<br />pptpd</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>