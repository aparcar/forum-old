<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> XIAOMI 6TB R2D Router English?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 22 Mar 2018 and 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=59079&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p288376">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">King0fK0ng</div>
					<div class="post-datetime">
						19 Aug 2015, 23:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>BIGPIT wrote:</cite><blockquote><p>Now my Questions:<br />Why the router is not listed as offical supported? It is based on openwrt with a chinese LUCI Webinterface.</p></blockquote></div><p>My guess is because they are using proprietary drivers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288448">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">BIGPIT</div>
					<div class="post-datetime">
						20 Aug 2015, 07:26					</div>
				</div>
				<div class="post-content content">
					<p>I can see still a chance.<br />I found out that in the switch(devmode) in the English translatet router app isn&#039;t working.<br />With the webinterface I found it is still inactive.<br />The next problem is now, that xiaomi requires a registration as dev and you need to get an dev/plugin/app id to do this.</p><p>Let you know when I have real root access.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290464">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">BIGPIT</div>
					<div class="post-datetime">
						4 Sep 2015, 04:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>makarel wrote:</cite><blockquote><p>check /overlay folder if its writable <br />and if it has a structure like /overlay/lib/lua/luci/view/</p></blockquote></div><br /><p>Hi Makarel,</p><p>i am not really much further. I haven&#039;t found the way how i could modify the interface.<br />But this i probalbly also based on my bad knowledge.</p><p>What ever, i tried to understand what you mentioned with this overlay folder.<br />I understand that the overlay folder will make a mixture of the changed files and the original ones on the router.<br />Is this correct?</p><p>I tried to create a new file in the overlay folder in the past. This wasnt successful.<br />But I found out, if i mount a writeable folder on the overlay onces it becomes also writeable.<br />Is this a possibility to carry on somehow?</p><p>For all who are interessted in the inner life of the router, <br /><a href="http://www.dd-wrt.com/phpBB2/download.php?id=33128">http://www.dd-wrt.com/phpBB2/download.php?id=33128</a><br />sorry i dont know how to upload here some files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290515">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						4 Sep 2015, 18:21					</div>
				</div>
				<div class="post-content content">
					<p>no worry.. nobody knows all</p><p>from what i know /overlay(RW fs) contains information on top of /rom(RO fs); its a trick to make /rom writable; so if a file exist both in /overlay and /rom it will execute the one from /overlay</p><p>another trick is extroot used to move whole OWRT on external drive(read not from internal flash)<br /><a href="http://wiki.openwrt.org/doc/howto/extroot?s">http://wiki.openwrt.org/doc/howto/extroot?s</a>[]=overlay</p><p>i wander <br />-can the chinese fw install packages to achieve this feature?<br />-is the external drive used only for user storage? maybe it has the OWRT on it..</p><p>you could ask xiaomi dudes to give you an unlocked fw.. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> im loughfing myself of such thing.. but who knows.. email them..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290567">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">BIGPIT</div>
					<div class="post-datetime">
						5 Sep 2015, 07:48					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for answer.<br />Regarding the rom and overlay topic i read the same.<br />But if it belongs only to the rom folder it seems maybe not helpful.<br />In the rom folder i only find a note with this text:</p><p>SQUASHFS USERS:<br />After firstboot has been run, / will be jffs2 and /rom will be squashfs<br />(* except when in failsafe)</p><br /><p>I will double check this ext root thing the near time.</p><p>The chinese fw has a future to develop plugins and install them. But therefor it seems i need some studys things what i haven&#039;t heard until now. <br />But i already have my xiaomi dev license.<br />On the external drive i can see some folders, similar like openwrt but the most are empty, some have some configfiles, like Macadress, Mappingfolderconfigurations, and there is a Folder (OTAdownloaded, witch contains the Routerfirmware as .bin</p><p>I haven&#039;t asked further things to xiaomi, but maybe i should try.<br />Even i think that its lost time. </p><p>What i also have prepared, i soldierd now the Serial interfaces and connected the a TTL adapter from my arduino equipment.<br />Just looking for a way to backup CFE and NVRAM sections.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290583">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						5 Sep 2015, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>check this</p><p><a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm63xx?s">http://wiki.openwrt.org/doc/hardware/so â€¦ .bcm63xx?s</a>[]=cfetool<br /><a href="https://github.com/openwrt-es/cfetool">https://github.com/openwrt-es/cfetool</a></p><p>edit: if you take out external drive.. does it remembers settings? if it doesnt then it stores settings on external drive.. maybe interface also</p>											<p class="post-edited">(Last edited by <strong>makarel</strong> on 5 Sep 2015, 23:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290780">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">BIGPIT</div>
					<div class="post-datetime">
						7 Sep 2015, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />i have checked the external drive. Seems you are right, there area a lot of datas stored.<br />The path is the following /userdisk/appdata/chroot_file/lib/lua/luci/view/web/setting</p><p>The files of the webinterface are not there, but the folder structure is the same.<br />I have no glue about it, but for a noob i would say it could also look like a overlay.<br />I copied a modified html file in the right folder on this path, but nothing changes. I also tried to restart the router.</p><p>Not all the files are there but it looks good.<br />As i was searching for some configfiles i found some files look very interessting, but i dont knwo how to usw.</p><p>See the attached file and folderstructure.</p><p><a href="http://www.directupload.net/file/d/4103/jgqihgfi_jpg.htm"><span class="postimg"><img src="http://fs2.directupload.net/images/150907/temp/jgqihgfi.jpg" alt="http://fs2.directupload.net/images/150907/temp/jgqihgfi.jpg" /></span></a></p><p>Do you think there is a possibility that i get the sytem somehow to use the datas from the drive.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p290823">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						7 Sep 2015, 23:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>makarel wrote:</cite><blockquote><p>if you take out external drive.. does it remembers settings? if it doesnt then it stores settings on external drive.. maybe interface also</p></blockquote></div><p>...<br />so does it remember settings?</p><p>chroot.. looks promissing<br />check again regarding &quot;copied a modified html file in the right folder on this path, but nothing changes.&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304111">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">wimv</div>
					<div class="post-datetime">
						18 Dec 2015, 13:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi BIGPIT,</p><p>I have worked with squashfs and overlay fs before. If openWRT overlays behave the same by default as f.e. ubuntu or slax, you would have to make a vfat (fat32) partition on the 1TB hard disk. Then mount this partition under /overlay as rw. This would make any changes made to the entire / filesystem persistent.<br />If you can mount a folder onto it and that makes it wrwritabl maybe that would happen too if you mount a writable filesystem. However I can&#039;t see how this would not require root.</p><p>For obtaining root on your device, you can flash the deveolpment bin. Another trick you could try is sudo passwd root. (Should you have sudo priviledges, but very doubtfull as this would be a serious flaw in security).</p><p>Anyway, the dev rom for R2D can be douwnloaded from here :<br /><a href="http://www1.miwifi.com/wap_download.html">http://www1.miwifi.com/wap_download.html</a><br />(Google chrome can auto-translate this page for you).</p><p>Please let me know how if anything is any help/provide feedback.</p><p>I intent to buy thus router and my purpose is to get wpa_supplicant working on it. I can&#039;t use WDS as I don&#039;t have access to the main router configuration, but I&#039;m hoping pluggin xioami wifi amplifier into this will yield a wl1 or wlan1, after wich I can use basic routing or bridging to amplify the 802.1x network.</p><p>If anyting else fails, I could try and build dd-wrt for the R2D, which has wpa_supplicant by default.</p><p>So exciting days of hacking ahead. And hoped to have been of any help.<br />Ps. Sorry for any typos, the text is really small on my phone...</p><p>EDIT : persistency is only possible if the --persistent kernel option is present. But once root, you should be able to change this in the bootloader. It&#039;s possible they&#039;ve added it by default.</p>											<p class="post-edited">(Last edited by <strong>wimv</strong> on 18 Dec 2015, 13:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p373753">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">aschuetze</div>
					<div class="post-datetime">
						14 Mar 2018, 12:44					</div>
				</div>
				<div class="post-content content">
					<p>Did anyone ever succeed in compiling it&#039;s own OpenWRT for Xiaomi R2D Router? I bought it, cause i wanted to serve the internal stored files through minimserver (DLNA Server) and years ago i managed to compile OpenWRT for oxnas device including java support - which is needed for minimserver. As java doesn&#039;t seems to run out of the box on R2D router i guess OpenWRT needs to be compiled with java support for this device too!? So any steps into that direction (running java on R2D or compiling OpenWRT for it) would be more than welcome. :-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=59079&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>