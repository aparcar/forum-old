<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ftpd-topfield on Barrier Braker and DIR-825b1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p283529">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">passain</div>
					<div class="post-datetime">
						14 Jul 2015, 20:46					</div>
				</div>
				<div class="post-content content">
					<p>I have been using ftpd-topfield on 12.09 Attitude Adjustment for a long time.&nbsp; After I upgraded to Barrier Braker, ftpd-topfield no longer connect to my Topfield.&nbsp; Any pointers if I miss anything?</p><p>I get error:<br />ncftp / &gt; cd DataFiles<br />Could not chdir to DataFiles: server said: Failed to connect to Topfield PVR</p><p>The server prints out:<br />open /proc/bus/usb/devices: No such file or directory<br />open /proc/bus/usb/devices: No such file or directory</p><br /><p>Here&#039;s debug log:<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 220 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: OpenWrt FTP server (Topfield ftpd 0.7.4) ready.<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: USER anonymous<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 331 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: Guest login ok, type your name as password.<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: PASS NcFTP@<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 230 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: Guest login ok, access restrictions apply.<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: PWD<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 257 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &quot;/&quot; is current directory.<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: FEAT<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 500 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &#039;FEAT&#039;: command not understood.<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: HELP SITE<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 214- <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: The following SITE commands are recognized (* =&gt;&#039;s unimplemented).<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 214 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: Direct comments to ftp-bugs@OpenWrt.<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: CLNT NcFTP 3.2.5 linux-x86_64-glibc2.16<br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 500 <br />Tue Jul 14 17:39:48 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &#039;CLNT NcFTP 3.2.5 linux-x86_64-glibc2.16&#039;: command not understood.<br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: CWD DataFiles<br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: topfield_open(0) returned -1<br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 550 <br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: Failed to connect to Topfield PVR<br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: command: CWD DataFiles<br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: topfield_open(0) returned -1<br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: &lt;--- 550 <br />Tue Jul 14 17:40:00 2015 <a href="ftp://ftp.debug">ftp.debug</a> ftpd-topfield[1444]: Failed to connect to Topfield PVR</p><p>root@OpenWrt:/proc/bus# lsusb<br />Bus 001 Device 002: ID 11db:1000 Topfield Co., Ltd. PVR<br />Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</p><p>root@OpenWrt:/proc/bus# lsmod<br />arc4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1312&nbsp; 4 <br />ath&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 19717&nbsp; 3 ath9k<br />ath9k&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 88369&nbsp; 0 <br />ath9k_common&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11437&nbsp; 1 ath9k<br />ath9k_hw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 314943&nbsp; 2 ath9k<br />cfg80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 197703&nbsp; 4 ath9k<br />compat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1988&nbsp; 4 ath9k<br />crc16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1015&nbsp; 1 ext4<br />crc_ccitt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1019&nbsp; 1 ppp_async<br />crypto_blkcipher&nbsp; &nbsp; &nbsp; &nbsp;10375&nbsp; 2 dm_crypt<br />crypto_hash&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9514&nbsp; 3 dm_crypt<br />dm_crypt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;13088&nbsp; 0 <br />dm_log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7233&nbsp; 2 dm_mirror<br />dm_mirror&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10960&nbsp; 0 <br />dm_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;58442&nbsp; 3 dm_crypt<br />dm_region_hash&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5988&nbsp; 1 dm_mirror<br />dns_resolver&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3482&nbsp; 0 <br />ehci_hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;30780&nbsp; 1 ehci_platform<br />ehci_platform&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1872&nbsp; 0 <br />ext4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 292633&nbsp; 0 <br />gpio_button_hotplug&nbsp; &nbsp; &nbsp;4448&nbsp; 0 <br />input_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;24297&nbsp; 1 snd<br />ip6_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9105&nbsp; 3 ip6table_raw<br />ip6t_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2032&nbsp; 2 <br />ip6table_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 656&nbsp; 1 <br />ip6table_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1056&nbsp; 1 <br />ip6table_raw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;576&nbsp; 1 <br />ip_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9197&nbsp; 4 iptable_nat<br />ipt_MASQUERADE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1136&nbsp; 1 <br />ipt_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1808&nbsp; 2 <br />iptable_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;720&nbsp; 1 <br />iptable_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;960&nbsp; 1 <br />iptable_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1968&nbsp; 1 <br />iptable_raw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 640&nbsp; 1 <br />ipv6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 248940 26 ip6t_REJECT<br />jbd2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;46508&nbsp; 1 ext4<br />ledtrig_usbdev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1952&nbsp; 0 <br />lockd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 48332&nbsp; 2 nfsv3<br />mac80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 346193&nbsp; 1 ath9k<br />mbcache&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3981&nbsp; 1 ext4<br />nf_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;46014 13 iptable_nat<br />nf_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 5120&nbsp; 1 nf_nat_ftp<br />nf_conntrack_ipv4&nbsp; &nbsp; &nbsp; &nbsp;5188&nbsp; 8 <br />nf_conntrack_ipv6&nbsp; &nbsp; &nbsp; &nbsp;5552&nbsp; 3 <br />nf_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 2784&nbsp; 1 nf_nat_irc<br />nf_defrag_ipv4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;790&nbsp; 1 nf_conntrack_ipv4<br />nf_defrag_ipv6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8711&nbsp; 1 nf_conntrack_ipv6<br />nf_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10592&nbsp; 7 iptable_nat<br />nf_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1200&nbsp; 0 <br />nf_nat_ipv4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2654&nbsp; 1 iptable_nat<br />nf_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;976&nbsp; 0 <br />nfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;100659&nbsp; 1 nfsv3<br />nfsv3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14504&nbsp; 0 <br />nls_base&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4974&nbsp; 1 usbcore<br />ohci_hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16608&nbsp; 0 <br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6144&nbsp; 0 <br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 19634&nbsp; 3 pppoe<br />pppoe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7744&nbsp; 0 <br />pppox&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1338&nbsp; 1 pppoe<br />scsi_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;76866&nbsp; 2 usb_storage<br />sd_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;24560&nbsp; 0 <br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4299&nbsp; 1 ppp_generic<br />snd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 42154 10 snd_usb_audio<br />snd_compress&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6175&nbsp; 0 <br />snd_hwdep&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4302&nbsp; 1 snd_usb_audio<br />snd_mixer_oss&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 12377&nbsp; 1 snd_pcm_oss<br />snd_page_alloc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4497&nbsp; 1 snd_pcm<br />snd_pcm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 56301&nbsp; 2 snd_usb_audio<br />snd_pcm_oss&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 33537&nbsp; 0 <br />snd_rawmidi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14963&nbsp; 1 snd_usbmidi_lib<br />snd_seq_device&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4301&nbsp; 1 snd_rawmidi<br />snd_timer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14382&nbsp; 1 snd_pcm<br />snd_usb_audio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 88997&nbsp; 0 <br />snd_usbmidi_lib&nbsp; &nbsp; &nbsp; &nbsp; 14170&nbsp; 1 snd_usb_audio<br />soundcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3788&nbsp; 1 snd<br />sunrpc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 138499&nbsp; 3 nfsv3<br />usb_common&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1160&nbsp; 1 usbcore<br />usb_storage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 36248&nbsp; 0 <br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;109781&nbsp; 7 snd_usb_audio<br />x_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10997 26 ipt_MASQUERADE<br />xt_CT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2272&nbsp; 0 <br />xt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9488&nbsp; 0 <br />xt_REDIRECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1056&nbsp; 0 <br />xt_TCPMSS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2672&nbsp; 2 <br />xt_comment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;480 53 <br />xt_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2160 10 <br />xt_id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 480&nbsp; 0 <br />xt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992 20 <br />xt_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;608&nbsp; 0 <br />xt_mark&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 672&nbsp; 0 <br />xt_multiport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1184&nbsp; 0 <br />xt_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1072&nbsp; 0 <br />xt_state&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;688&nbsp; 0 <br />xt_tcpudp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1680&nbsp; 8 <br />xt_time&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1664&nbsp; 0</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>