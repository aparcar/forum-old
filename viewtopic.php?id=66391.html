<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Friendly D-Link DIR-505 v1 OpenWrt/LEDE images</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p332423">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						22 Jul 2016, 02:28					</div>
				</div>
				<div class="post-content content">
					<p>Kudos to the devs who ported OpenWrt to DIR-505, however the default image is not very easy to use/configure post-flash as the wifi is off by default and the only ethernet port is configured as LAN. Also, stock image does utilize the mode switch slider of this excellent router.</p><p>Hence I&#039;ve built an OpenWrt 15.05.1 and LEDE 17.01.0 images with:<br />1. Proper Router, Repeater and Hotspot configurations pre-set for the slider switch (thanks to @manishgkasera&#039;s script). The only ethernet port acts as WAN port in Router mode.<br />2. Uses <a href="https://forum.openwrt.org/viewtopic.php?id=67697">Dirk&#039;s travelmate</a> for LEDE builds (only active in the Wireless Repeater mode) and home-cooked STA disable script in OpenWrt build.<br />3. WPS button acts as reboot, so if you need to switch mode -- use the slider and then press/release WPS button.<br />4. Lightweight adblock in Router mode.<br />5. Auto-generated WiFi SSID and password in the form of OpenWrt-XXXXXXXX where Xes are random 8 hex symbols or LEDE-XXXXXX where Xes are the last 6 symbols of eth0 MAC address. Same SSID and password (case-sensitive). Not very secure, but better than static SSID/password.<br />6. No default root password set -- immediately connect to your DIR-505 after flashing and change it.<br />7. Luci and miniupnpd; full wpad and dnsmasq -- just because.<br />8. LAN IP is 192.168.0.1 in Router mode.<br />9. Material theme for Luci, because it looks so much better on smaller screens.</p><p>Both OpenWrt and LEDE images can be downloaded from: <a href="https://github.com/stangri/openwrt-images">https://github.com/stangri/openwrt-images</a></p><p>Please verify md5 hash before flashing and flash images at your own risk -- I got rid of DIR-505v1 and have no way to test those builds anymore.</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 1 Apr 2017, 07:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332474">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bashywash</div>
					<div class="post-datetime">
						22 Jul 2016, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>Started using this few days and it&#039;s a great addition, thank you for the work on this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332894">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						29 Jul 2016, 02:00					</div>
				</div>
				<div class="post-content content">
					<p>Just realized that my builds (both OpenWrt and LEDE) are not friendly to update while preserving settings. As of tomorrow (or revisions *after* 1139) it will be fixed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332949">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						30 Jul 2016, 03:29					</div>
				</div>
				<div class="post-content content">
					<p>So updating my build with any LEDE build while preserving settings should work now, I&#039;d appreciate the feedback.<br />I&#039;ve also added relayd, luci-proto-relay and igmpproxy packages, but they are not enabled be default.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335816">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						24 Aug 2016, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>Looks like the package structure or something else (that my build script depends on to find out of there&#039;s a newer LEDE revision) has changed, so no new builds until the weekend when I have the time to figure it out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335982">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						26 Aug 2016, 08:13					</div>
				</div>
				<div class="post-content content">
					<p>Thanks to clarification on IRC, this: <a href="https://github.com/lede-project/source/commit/8cf1d64f1cff8ea3abb531d8c23e2a09a56e173f">https://github.com/lede-project/source/ â€¦ 09a56e173f</a> has caused my build script to fail. </p><p>I&#039;m back in business with the new image builder, so the new builds should be available as of now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338232">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						14 Sep 2016, 07:50					</div>
				</div>
				<div class="post-content content">
					<p>While replying in another thread I&#039;ve had an idea that maybe when booting into Repeater configuration, each time you restart the router should boot up with STA interface disabled.</p><p>It was a pretty quick fix to implement, so now there&#039;s a new experimental feature: if file /etc/.disable_sta exists, then STA mode will be disabled automatically on boot to repeater mode.</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 14 Sep 2016, 10:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344402">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						22 Nov 2016, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>From LEDE revision 2289 and up, there&#039;re following changes:<br />1. Both WiFi SSID and password switched to LEDE-xxxxxx where xxxxxx are the last 6 symbols of the eth0 mac address.<br />2. Switched to Dirk&#039;s travelmate for STA management in Repeater mode. I hope it works.<br />3. Given <a href="https://forum.openwrt.org/viewtopic.php?id=68607">my recent experience with D-Link Customer Service</a>, I&#039;m getting rid of my DIR-505, so as infrequently as I&#039;ve tested them before, from now on I will not be able to test the automatically built images at all.</p>											<p class="post-edited">(Last edited by <strong>stangri</strong> on 22 Nov 2016, 04:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348396">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">kiwiruss</div>
					<div class="post-datetime">
						4 Jan 2017, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>Is there an updated guide on the Flashing procedure?</p><p>I just acquired a Dlink DIR-505L A1 and am interested in flashing it.</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>kiwiruss</strong> on 4 Jan 2017, 15:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348412">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						4 Jan 2017, 16:58					</div>
				</div>
				<div class="post-content content">
					<p>There should be one at the wiki.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>