<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> building package (?) for pandorabox. Where to find source ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p357910">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">flodjo78</div>
					<div class="post-datetime">
						6 May 2017, 17:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi !</p><p>I installed the OpenWrt chinese project &quot;Pandorabox&quot; on my Router Lenovo Y1, so that I can get full wifi support for the 7620A/E Soc.</p><p>I&#039;d like to use my LTE modem with it and to do so I need a few packages which aren&#039;t available in the pandorabox repo&nbsp; ( downloads.openwrt.org.cn/PandoraBox/ralink/packages )</p><br /><p>I need kmod-usb-net and kmod-usb-net-cdc-ether packages.</p><p>Can I find sources of those so that I can build .ipk files suitable for my system ?<br />( don&#039;t know if it matters but the kernel is 3.14.44 )</p><br /><p>Thanks in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357918">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						6 May 2017, 20:44					</div>
				</div>
				<div class="post-content content">
					<p>All sources needed to build OpenWRT can be downloaded from <a href="https://dev.openwrt.org/wiki/GetSource,">https://dev.openwrt.org/wiki/GetSource,</a> but remember that external sources are downloaded during the build process.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358032">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">flodjo78</div>
					<div class="post-datetime">
						8 May 2017, 14:56					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much for your reply.</p><p>I came to understand that the kernel modules have to be compiled at the same time as the kernel...</p><p>Is there any way I can compile a new kernel with all the kmods I need and then update my system ? Cause I don&#039;t have the source for the specific pandorabox image of my router...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358034">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						8 May 2017, 16:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>flodjo78 wrote:</cite><blockquote><p>I came to understand that the kernel modules have to be compiled at the same time as the kernel...</p><p>Is there any way I can compile a new kernel with all the kmods I need and then update my system ? Cause I don&#039;t have the source for the specific pandorabox image of my router...</p></blockquote></div><p>If you have no access to the pandorabox sources, the answer is &quot;no way&quot;.</p><p>In practice, to update the kernel and all kernel-dependent packages, you need to compile the whole firmware. So you need access to the full sources.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358101">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">flodjo78</div>
					<div class="post-datetime">
						9 May 2017, 18:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>flodjo78 wrote:</cite><blockquote><p>I came to understand that the kernel modules have to be compiled at the same time as the kernel...</p><p>Is there any way I can compile a new kernel with all the kmods I need and then update my system ? Cause I don&#039;t have the source for the specific pandorabox image of my router...</p></blockquote></div><p>If you have no access to the pandorabox sources, the answer is &quot;no way&quot;.</p><p>In practice, to update the kernel and all kernel-dependent packages, you need to compile the whole firmware. So you need access to the full sources.</p></blockquote></div><br /><br /><p>Ok Thank you,</p><p>In fact I have access to the latest pandorabox git, not exactly specific for my system but it should do it.</p><p>some guy also provided pandorabox sources for another router, and the fw seems to run Ok on my system so I also could start from there.</p><p>That being said :</p><p>1 )&nbsp; the kernel modules I need are not included those sources filesystem<br />2)&nbsp; I have no idea of how I can &quot; inject &quot; the modules in the filesystem...</p><p>All information I have found regarding building images are :<br />execute this, execute that, do whatever you want in the filesystem and then compile the fw image...</p><p>A newbie like me will need more information so if someone could shed some light on this for me I&#039;ll be gratefull. How do I specifically make changes to the filesystem to include the kernel modules ?</p><p>Thank you for your time <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>flodjo78</strong> on 9 May 2017, 18:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358103">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						9 May 2017, 18:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>flodjo78 wrote:</cite><blockquote><p>All information I have found regarding building images are :<br />execute this, execute that, do whatever you want in the filesystem and then compile the fw image...</p><p>A newbie like me will need more information so if someone could shed some light on this for me I&#039;ll be gratefull. How do I specifically make changes to the filesystem to include the kernel modules ?</p></blockquote></div><p>Information can be found in wiki. And also here in the forum.</p><p>Kernel modules are packages just like the normal userspace packages.<br />You create/edit the Makefile and possibly needed Openwrt-specific support files (but likely not much for a kernel module) and then compile the package along the firmware.</p><p>You are looking for generic package building advice, so wiki is your friend.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358109">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">flodjo78</div>
					<div class="post-datetime">
						9 May 2017, 20:09					</div>
				</div>
				<div class="post-content content">
					<p>Ok thank you !</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>