<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> after failsafe, can I enter a UCI command to modify saved config?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p273648">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">opticalc</div>
					<div class="post-datetime">
						23 Apr 2015, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d prefer to not have to default my router to the base config; if I can get into failsafe, from there what do I need to do to be able to issue the UCI command &quot;uci set openvpn.myvpn.server=&#039;10.8.0.0 255.255.255.0&#039;&quot;</p><p>so that when it reboots, it is then unFUBARed? (currently that IP network is set to the same IP network as my LAN, causing the FUBAR condition of me not being able to surf, and no LUCI or SSH)</p><p>Also, if I do use the firstboot, I will lose my extroot and all installed opkgs?&nbsp; or does firstboot just erase the config and leave the filesystem as is?</p><p>thanks all</p>											<p class="post-edited">(Last edited by <strong>opticalc</strong> on 24 Apr 2015, 00:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p273783">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						24 Apr 2015, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>When you are in failsafe first step is to put file system to regular read/write mode, because when it is in failsage then it is read only.</p><p>Do this by &quot;mount_root&quot; command.</p><p>I&#039;m not sure that uci is working in failsafe but learn basics of vi editor commands and then edit your config files directly by:</p><p>vi /etc/config/openvpn</p><p>you can exit from vi by &quot;:q [enter]&quot;</p><p>Also one option is to consider creating your own image with ImageBulder (search for it on the wiki) and have your packages and your config be default one, so when you reset to factory setting they are your settings.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>