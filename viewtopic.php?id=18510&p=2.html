<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can&#039;t find usb device to mount</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=18510&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p309738">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						31 Jan 2016, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>Post the<br /></p><div class="codebox"><pre><code>dmesg</code></pre></div><p>log from circa second 7 - </p><p>Begins with </p><ul><li><p>&#039;[&nbsp; &nbsp; 7.320674] scsi 0:0:0:0: Direct-Access ...&#039;</p></li></ul><p>up to and including<br /></p><ul><li><p>&#039;[&nbsp; &nbsp; 7.366148] sd 0:0:0:0: [sda] Attached SCSI removable disk&#039;</p></li></ul><p>The precise message of interest is &#039;[&nbsp; &nbsp; 7.359355]&nbsp; sda: sda1 ...&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309741">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">StacK</div>
					<div class="post-datetime">
						31 Jan 2016, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>[&nbsp; &nbsp;10.340000] scsi 0:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;Corsair&nbsp; Flash Voyager&nbsp; &nbsp; 1100 PQ: 0 ANSI: 0 CCS<br />[&nbsp; &nbsp;10.350000] sd 0:0:0:0: [sda] 3964928 512-byte logical blocks: (2.03 GB/1.89 GiB)<br />[&nbsp; &nbsp;10.370000] sd 0:0:0:0: [sda] Write Protect is off<br />[&nbsp; &nbsp;10.370000] sd 0:0:0:0: [sda] Mode Sense: 43 00 00 00<br />[&nbsp; &nbsp;10.370000] sd 0:0:0:0: [sda] No Caching mode page found<br />[&nbsp; &nbsp;10.380000] sd 0:0:0:0: [sda] Assuming drive cache: write through<br />[&nbsp; &nbsp;10.390000]&nbsp; sda: sda1<br />[&nbsp; &nbsp;10.400000] sd 0:0:0:0: [sda] Attached SCSI removable disk<br />[&nbsp; &nbsp;10.890000] procd: - ubus -<br />[&nbsp; &nbsp;11.910000] procd: - init -</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309744">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						31 Jan 2016, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>Which device, which OpenWrt version?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309746">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">StacK</div>
					<div class="post-datetime">
						31 Jan 2016, 17:33					</div>
				</div>
				<div class="post-content content">
					<p>TP-Link TL-WR1043N/ND v2<br />OpenWrt Chaos Calmer 15.05 / LuCI (git-15.248.30277-3836b45)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309833">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						1 Feb 2016, 10:44					</div>
				</div>
				<div class="post-content content">
					<p>@StacK - Thank-you for the informations.</p><p>Honest to say I see nothing incorrect with the outputs:</p><ul><li><p>(success recognising the device)<br />[&nbsp; &nbsp;10.390000]&nbsp; sda: sda1<br />[&nbsp; &nbsp;10.400000] sd 0:0:0:0: [sda] Attached SCSI removable disk</p></li><li><p>(the mount point exists)<br />mkdir /mnt/vfat</p></li><li><p>(/etc/fstab is <em>not</em> referenced)<br /> mount -t vfat /dev/sda1 /mnt/vfat</p></li></ul><p>About this -</p><div class="codebox"><pre><code>root@OpenWrt:~# mount -t vfat /dev/sda1
mount: can&#039;t read &#039;/etc/fstab&#039;: No such file or directory</code></pre></div><p><a href="http://linux.die.net/man/8/mount">The <strong>mount</strong> program <span class="bbu">does not read the /etc/fstab file if device (or LABEL/UUID) <em>and</em> dir are specified.</span></a></p><p>Thus, here I can only think the LABEL of the device is not accepted by <em>mount</em> (which is unthinkable).</p><p><span style="color: #ff3300">EDIT</span>: testing on a device <strong>without</strong> the <strong>required</strong> (for <strong>vfat</strong>) codepages (kmod-nls-cp437 and kmod-nls-iso8859-1) results in the &#039;Invalid argument&#039; message.<br /></p><div class="codebox"><pre><code>For some filesystems, like for VFAT, you need to additionally install language packages (codepages / charsets) to handle the filenames. If your mount fails, look in dmesg - a message like

FAT: codepage cp437 not found

means that you need NLS codepage 437, and a message like

FAT: IO charset iso8859-1 not found

means that you need NLS ISO 8859-1.</code></pre></div><p>N.B. <em>dmesg</em> does not contain these messages @ r47142 (DD)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310205">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">StacK</div>
					<div class="post-datetime">
						3 Feb 2016, 23:55					</div>
				</div>
				<div class="post-content content">
					<p>@Max Hopper,</p><p>Thank you very much for your help.<br />Unfortunately it is not clear for me whether there is any problem and where is it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310211">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						4 Feb 2016, 00:17					</div>
				</div>
				<div class="post-content content">
					<p>Post the output of</p><div class="codebox"><pre><code>opkg list-installed kmod-nls*</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310253">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						4 Feb 2016, 12:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tmo26 wrote:</cite><blockquote><p>Post the output of</p><div class="codebox"><pre><code>opkg list-installed kmod-nls*</code></pre></div></blockquote></div><p>Or -</p><div class="codebox"><pre><code>opkg update; opkg install kmod-nls-cp437 kmod-nls-iso8859-1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310355">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">StacK</div>
					<div class="post-datetime">
						5 Feb 2016, 01:40					</div>
				</div>
				<div class="post-content content">
					<p>root@OpenWrt:~# opkg list-installed kmod-nls*<br />kmod-nls-base - 3.18.20-1</p><br /><p>And after installation:</p><p>kmod-nls-base - 3.18.20-1<br />kmod-nls-cp437 - 3.18.20-1<br />kmod-nls-iso8859-1 - 3.18.20-1</p><br /><p>And again:</p><p>root@OpenWrt:~# mount -t vfat /dev/sda1<br />mount: can&#039;t read &#039;/etc/fstab&#039;: No such file or directory</p><br /><p>Still not visible in dev.</p><br /><p>Edit: I&#039;ve missed to reboot. Now sda1 is visible in dev.<br />Thank you both, guys. <br />Good night <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>StacK</strong> on 5 Feb 2016, 01:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338730">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">juancalopez</div>
					<div class="post-datetime">
						20 Sep 2016, 19:37					</div>
				</div>
				<div class="post-content content">
					<p>same problem, I followed all the steps described above and is not visible in the UUID usb section, dmesg output :</p><p>[&nbsp; 639.970000] dwc2 101c0000.otg: Overcurrent change detected<br />[&nbsp; 639.980000] dwc2 101c0000.otg: Overcurrent change detected<br />[&nbsp; 640.210000] dwc2 101c0000.otg: Overcurrent change detected<br />[&nbsp; 640.220000] dwc2 101c0000.otg: Overcurrent change detected<br />...<br />...</p><p>help please</p>											<p class="post-edited">(Last edited by <strong>juancalopez</strong> on 20 Sep 2016, 19:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343139">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">borisstoqnov</div>
					<div class="post-datetime">
						6 Nov 2016, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>Hit the same issue and spent a good hour trying to figure out what was wrong, all the mods installed and usb was added as /dev/sda1, but could not mount it.</p><p>In my case the usb was brand new and had no fs, ran mkfs.ext4 to format it now it works.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=18510&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>