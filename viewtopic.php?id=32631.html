<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Modify Official Netgear firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p146848">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						27 Oct 2011, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>I have a DGND3700 which has a dynamic update option for dyndns but I would like to add an opendns updater and was wondering if this was possible, I dont want to use the live parental controls that come with this router as they do not work properly.</p><p>I can access the router via telnet and get the below but I am very new to linux:</p><p>BusyBox v1.00 (2011.09.17-03:36+0000) Built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>~ # ls<br />bin&nbsp; &nbsp; &nbsp; dev&nbsp; &nbsp; &nbsp; lib&nbsp; &nbsp; &nbsp; mnt&nbsp; &nbsp; &nbsp; proc&nbsp; &nbsp; &nbsp;sys&nbsp; &nbsp; &nbsp; usr&nbsp; &nbsp; &nbsp; www<br />data&nbsp; &nbsp; &nbsp;etc&nbsp; &nbsp; &nbsp; linuxrc&nbsp; opt&nbsp; &nbsp; &nbsp; sbin&nbsp; &nbsp; &nbsp;tmp&nbsp; &nbsp; &nbsp; var</p><p>Would it be possible to add a script that can run on router start up that will update opendns, I found some sites below with info but have no idea how to implement on this router, they mention curl? which I am not sure is an option:</p><p><a href="http://www.opendns.com/support/article/101">http://www.opendns.com/support/article/101</a></p><p><a href="http://matthew.mceachen.us/blog/opendns-updater-for-linux-ubuntu-679.html">http://matthew.mceachen.us/blog/opendns … u-679.html</a></p><p><a href="http://bassmadrigal.com/blog/2008/08/opendns-dynamic-ip-update-script-through-linux">http://bassmadrigal.com/blog/2008/08/op … ough-linux</a></p><p>Please help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146893">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						28 Oct 2011, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>Would some how getting the router to run this work:</p><p>&quot;It&#039;s possible to update the IP using an HTTP request. I use the following command in a cron job:</p><p>wget -O - -q --http-user=USERNAME --http-passwd=PASSWD <a href="https://updates.opendns.com/nic/update\">https://updates.opendns.com/nic/update&quot;</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146934">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						28 Oct 2011, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>telnet in again and run that command in the shell. see how it goes (and if wget is available).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146989">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						29 Oct 2011, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, it does indeed have wget but I get an error</p><p>wget: unrecognized option `--http-user=USERNAME</p><p>tried with just --user but the same, is this to do with the versionn of wget?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147034">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						30 Oct 2011, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>Most likely, yes. It might be a stripped down version, either manually or the busybox version. try wget --help to see what it supports and which version it is.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147036">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						30 Oct 2011, 12:09					</div>
				</div>
				<div class="post-content content">
					<p>~ # wget --help<br />BusyBox v1.00 (2011.09.17-03:36+0000) multi-call binary</p><p>Usage: wget [-c|--continue] [-q|--quiet] [-O|--output-document file]<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [--header &#039;header: value&#039;] [-Y|--proxy on/off] [-P DIR] url</p><p>wget retrieves files via HTTP or FTP</p><p>Options:<br />&nbsp; &nbsp; &nbsp; &nbsp; -c&nbsp; &nbsp; &nbsp; continue retrieval of aborted transfers<br />&nbsp; &nbsp; &nbsp; &nbsp; -q&nbsp; &nbsp; &nbsp; quiet mode - do not print<br />&nbsp; &nbsp; &nbsp; &nbsp; -P&nbsp; &nbsp; &nbsp; Set directory prefix to DIR<br />&nbsp; &nbsp; &nbsp; &nbsp; -O&nbsp; &nbsp; &nbsp; save to filename (&#039;-&#039; for stdout)<br />&nbsp; &nbsp; &nbsp; &nbsp; -Y&nbsp; &nbsp; &nbsp; use proxy (&#039;on&#039; or &#039;off&#039;)</p><p>~ #</p><p>I tried this &quot;wget -O - https://bilbonvia:123456@updates.opendns.com/nic/upda<br />e?hostname=home&quot;</p><p>but doesn&#039;t support https either. Tried to compile a new wget using instructiuons on internet but got:</p><p>/tmp/wget-1.5.3 # ./configure<br />loading cache ./config.cache<br />configuring for GNU Wget 1.5.3<br />checking host system type... mips-pc-linux-gnuoldld<br />checking whether make sets ${MAKE}... no<br />checking for a BSD compatible install... ./install-sh -c<br />checking for gcc... no<br />checking for cc... no<br />configure: error: no acceptable cc found in $PATH<br />/tmp/wget-1.5.3 # </p><p>If I knew whetre the dyndns config was or how to browse maybe I could modify that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147141">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						31 Oct 2011, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>I have downloaded the dgnd3700 sdk, looks like you can compile it failry easily.</p><p>Would it be possible to modify one of the source files with a opendns updater, how would I do it? Then compile?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147164">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						31 Oct 2011, 18:55					</div>
				</div>
				<div class="post-content content">
					<p>maybe this might be something you want: <a href="http://bddc.klienux.org">http://bddc.klienux.org</a>/</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147178">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						31 Oct 2011, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>If you want a &quot;full&quot; version of busybox there are precompiled static binaries available. <br /><a href="http://busybox.net/downloads/binaries/">http://busybox.net/downloads/binaries/</a><br />Select mips or mipsel depending on which your router has. The DGND3300 and WNDR3700 are both mipsel so I&#039;d think the DGND3700 would be as well. Upload the file to a USB stick then copy it to /tmp<br />chmod +755<br />then you can run from /tmp as below<br />./busybox-mipsel wget blabla-bla.com/files/to/get<br />Or just run it with no options to see what is available.<br />You can put it in places other than /tmp or even leave it on the USB drive if the DGND3700 allows you to mount ext2,3,4 filesystems.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147181">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						1 Nov 2011, 00:22					</div>
				</div>
				<div class="post-content content">
					<p>On the router I changed to /tmp and did a wget <a href="http://busybox.net/downloads/binaries/latest/busybox-mipsel">http://busybox.net/downloads/binaries/l … box-mipsel</a></p><p>chmod 755</p><p>but when I try to run it I get:</p><p>/tmp # ./busybox-mipsel wget<br />./busybox-mipsel: 1: Syntax error: &quot;(&quot; unexpected</p><p>edit, the mips version works but unfortunately the wget version in the latest busybox is not supporting https.</p>											<p class="post-edited">(Last edited by <strong>bilbo</strong> on 1 Nov 2011, 00:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147723">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						6 Nov 2011, 08:56					</div>
				</div>
				<div class="post-content content">
					<p>Any luck compiling your own wget?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147735">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">bilbo</div>
					<div class="post-datetime">
						6 Nov 2011, 13:03					</div>
				</div>
				<div class="post-content content">
					<p>no not been able to get it figured out. No massive issue , I&#039;ll have to settle for the software client updater for now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158193">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Mystikal57</div>
					<div class="post-datetime">
						21 Feb 2012, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>You need busybox-mips and not busybox-mipsel.</p><p>I&#039;ve made a script which enable telnet, connect to the router and launch a script placed on the usb key.<br /></p><div class="codebox"><pre><code>Set oSh=CreateObject(&quot;WScript.Shell&quot;)
WScript.Sleep 500: oSh.Run &quot;telnetenable 192.168.1.1 204D7B0B892F Gearguy Geardog&quot;
WScript.Sleep 500: oSh.Run &quot;telnet 192.168.1.1&quot;
WScript.Sleep 500: oSh.SendKeys &quot;/tmp/shares/USB_Storage/test.sh&quot;
WScript.Sleep 500: oSh.SendKeys &quot;{ENTER}&quot;
WScript.Sleep 500: oSh.SendKeys &quot;exit~&quot;</code></pre></div><p>It&#039;s just a bad senkey, but it works.</p><p>ps: telnetenable must be in the same directory...</p>											<p class="post-edited">(Last edited by <strong>Mystikal57</strong> on 15 Nov 2012, 22:43)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>