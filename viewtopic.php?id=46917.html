<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> can&#039;t install pl2303 usb serial driver, or also usb serial device</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p215386">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">aleics</div>
					<div class="post-datetime">
						22 Oct 2013, 11:13					</div>
				</div>
				<div class="post-content content">
					<p>hi all,<br />to log usb serial port I have to install pl2303 but i obtain following strange error:<br />root@OpenWrt:/etc/modules.d# opkg install kmod-usb-serial-pl2303<br />Installing kmod-usb-serial-pl2303 (3.3.8-1) to root...<br />Downloading <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/brcm63xx/generic/packages/kmod-usb-serial-pl2303_3.3.8-1_brcm63xx.ipk.">http://downloads.openwrt.org/attitude_a â€¦ m63xx.ipk.</a><br />Collected errors:<br /> * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-usb-serial-pl2303:<br /> *&nbsp; &nbsp; &nbsp; kernel (= 3.3.8-1-3e727c51e42e8034f8ada81e0e9fe681) *&nbsp; &nbsp;kernel (= 3.3.8-1-3e727c51e42e8034f8ada81e0e9fe681) *<br /> * opkg_install_cmd: Cannot install package kmod-usb-serial-pl2303.</p><p>But it seems I have 3.3.8 kernel.</p><p>root@OpenWrt:/etc/modules.d# uname -a<br />Linux OpenWrt 3.3.8 #2 Thu Jan 3 13:45:15 CET 2013 mips GNU/Linux</p><p>How can I do?</p><p>Thanks a lot<br />Alex</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215387">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						22 Oct 2013, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>Only modules compiled together with currently installed kernel are guaranteed to work without problems.<br />You can override this restriction with opkg --force-depends install ...<br />But if something goes wrong you will probably have kernel panic and reboot</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215392">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">aleics</div>
					<div class="post-datetime">
						22 Oct 2013, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, but what means &quot;Only modules compiled together with currently installed kernel&quot;?<br />How can I have them?</p><p>It seems I have last kernel or not, for my HG553. Is it a way to update kernel without reinstalling it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215403">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						22 Oct 2013, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>I explained the idea to another guy here : <a href="https://forum.openwrt.org/viewtopic.php?id=46856">https://forum.openwrt.org/viewtopic.php?id=46856</a>.<br />Updating kernel is not as easy as on PC. Kernel is part of flash image, you have to reflash the whole thing.<br />Thats why some guys here build temporary linux system for loading kernel from USB flash drive with kexec</p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 22 Oct 2013, 13:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215415">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">aleics</div>
					<div class="post-datetime">
						22 Oct 2013, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I tried to install with&nbsp; --force-depends and it works fine! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Now I can read from my first usb-serial port.</p><p>Unfortunately I have on second port of my HW553 another usb-converter (ihr brand) but with lsusb I don&#039;t see anything...<br />What can be in your opinion?</p><p>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub<br />Bus 002 Device 002: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port</p><p>Thanks<br />Alex</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215430">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						22 Oct 2013, 20:01					</div>
				</div>
				<div class="post-content content">
					<p>USB port with 2303 is working by fact. What happens if you unplug PL2303 and insert second usb converter to this port ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215456">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">aleics</div>
					<div class="post-datetime">
						23 Oct 2013, 00:31					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />i tried as suggested tu unplug pl2303 cable and insert the other one: it works after installing ftdi driver, or better I saw that ttyusb0 was created; now I have to read &amp; write.</p><p>the strange thing is that other port, in which I can insert &amp; mount usb pen drive, doesn&#039;t read any type of usb serial.<br />What can be?</p><p>Second strange thing is that linking a 2 hub port, I see on dmesg that is linked, but I can&#039;t see anything I link at it,&nbsp; usb pen or serial...</p><p>I don&#039;t know what to think...please suggest ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215471">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						23 Oct 2013, 06:29					</div>
				</div>
				<div class="post-content content">
					<p>Can you try another USB hub ?<br />Passive USB hubs not too reliable and power supply from the router is quite weak.<br />Quality can vary between different usb hub models/vendors</p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 23 Oct 2013, 06:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215491">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">aleics</div>
					<div class="post-datetime">
						23 Oct 2013, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />unfortunately I can&#039;t try another usb hub, but I think that every hub usb is passive. Not?</p><p>Have I to install driver for it or not?<br />Alex</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215553">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						24 Oct 2013, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>Passive hub is one without external power supply.<br />Don&#039;t think any driver required for USB hub - its builtin in the USB subsystem</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215555">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						24 Oct 2013, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>What&#039;s the output of opkg list-installed kmod-usb ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215562">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">aleics</div>
					<div class="post-datetime">
						24 Oct 2013, 13:05					</div>
				</div>
				<div class="post-content content">
					<p>opkg list-installed |grep usb |grep kmod</p><p>kmod-rt2800-usb - 3.3.8+2012-09-07-3<br />kmod-rt2x00-usb - 3.3.8+2012-09-07-3<br />kmod-usb-core - 3.3.8-1<br />kmod-usb-ohci - 3.3.8-1<br />kmod-usb-printer - 3.3.8-1<br />kmod-usb-serial - 3.3.8-1<br />kmod-usb-serial-ftdi - 3.3.8-1<br />kmod-usb-serial-pl2303 - 3.3.8-1<br />kmod-usb-storage - 3.3.8-1<br />kmod-usb-storage-extras - 3.3.8-1<br />kmod-usb-uhci - 3.3.8-1<br />kmod-usb2 - 3.3.8-1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221162">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">hugbear</div>
					<div class="post-datetime">
						29 Dec 2013, 14:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aleics wrote:</cite><blockquote><p>I tried to install with&nbsp; --force-depends and it works fine! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />Alex</p></blockquote></div><p>Hi everybody!<br />I&#039;m in a similar situation except &quot;--force-depends&quot; doesn&#039;t work:<br /></p><div class="codebox"><pre><code>gpkg install --force-depends kmod-usb-serial-pl2303

ERROR: Dependency kernel (= 3.3.8-1-d6597ebf6203328d3519ea3c3371a493) of package kmod-usb-serial-pl2303 is installed, but has incompatible version 3.3.8-1-9085b13c38263aeabdadc676913afc1c and is marked as &#039;hold&#039;</code></pre></div><p>I read <a href="https://forum.openwrt.org/viewtopic.php?pid=215239#p215239">bolvan&#039;s suggestion</a> but since I&#039;m quite noob I think I&#039;ll chicken out on this...<br />How should I go about fixing this? Is there any way to get &quot;opkg update&quot; to fetch the list of packages that are compatible to the actual version of the installed kernel (at least module-wise)?</p><p>Thanks a lot!</p><p>BTW, I have Gargoyle Version:1.5.11 on a TP-Link TL-WR1043ND ver1.8</p>											<p class="post-edited">(Last edited by <strong>hugbear</strong> on 29 Dec 2013, 14:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221174">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">hugbear</div>
					<div class="post-datetime">
						29 Dec 2013, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>Well kind of ashamed with myself...</p><p>I did an &quot;opkg upgrade opkg&quot; and then everything went fine on the &quot;install&quot; side:</p><div class="codebox"><pre><code>[591174.230000] usb 1-1: USB disconnect, device number 3
[591184.530000] usb 1-1: new full-speed USB device number 4 using ehci-platform
[591258.200000] usb 1-1: USB disconnect, device number 4
[597158.580000] USB Serial support registered for FTDI USB Serial Device
[597158.590000] usbcore: registered new interface driver ftdi_sio
[597158.590000] ftdi_sio: v1.6.0:USB FTDI Serial Converters Driver
[597193.760000] USB Serial support registered for pl2303
[597193.760000] usbcore: registered new interface driver pl2303
[597193.770000] pl2303: Prolific PL2303 USB to serial adaptor driver
[597447.860000] usb 1-1: new full-speed USB device number 5 using ehci-platform
[597448.010000] pl2303 1-1:1.0: pl2303 converter detected
[597448.040000] usb 1-1: pl2303 converter now attached to ttyUSB0</code></pre></div><p>Sorry for wasting your time. I&#039;ll try harder next time, I promise! <img src="https://forum.openwrt.org/img/smilies/roll.png" width="15" height="15" alt="roll" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330307">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">frakman1</div>
					<div class="post-datetime">
						1 Jul 2016, 21:36					</div>
				</div>
				<div class="post-content content">
					<p>Now that you can access ttyUSB, how do you actually read serial output through it? I don&#039;t see an openwrt equivalent to screen on minicom. Better still, is there a Luci App for that?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>