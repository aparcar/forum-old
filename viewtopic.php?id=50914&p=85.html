<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Optimized and feature rich trunk build for select routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 20 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 85 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=83.html">83</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=84.html">84</a></li><li class="pagination-current"><span>85</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=86.html">86</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=87.html">87</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p284683">
				<div class="post-metadata">
					<div class="post-num">Post #2101</div>
					<div class="post-author">Mr. Happy</div>
					<div class="post-datetime">
						23 Jul 2015, 21:08					</div>
				</div>
				<div class="post-content content">
					<p>and log 2<br /></p><div class="codebox"><pre><code>[    0.000000] Using Freescale P1014 machine description
[    0.000000] Memory CAM mapping: 64/64 Mb, residual: 0Mb
[    0.000000] Linux version 4.1.2 (trondah@ff0) (gcc version 4.9.3 (OpenWrt/Linaro GCC 4.9-2015.03 r46434) ) #1 Wed Jul 22 05:28:18 CEST 2015
[    0.000000] Found legacy serial port 0 for /soc@ffe00000/serial@4500
[    0.000000]   mem=ffe04500, taddr=ffe04500, irq=0, clk=399999996, speed=0
[    0.000000] TL-WDR4900 v1 board from TP-Link
[    0.000000] Top of RAM: 0x8000000, Total RAM: 0x8000000
[    0.000000] Memory hole size: 0MB
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000]   Normal   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] On node 0 totalpages: 32768
[    0.000000] free_area_init_node: node 0, pgdat c0387050, node_mem_map c7eed000
[    0.000000]   DMA zone: 256 pages used for memmap
[    0.000000]   DMA zone: 0 pages reserved
[    0.000000]   DMA zone: 32768 pages, LIFO batch:7
[    0.000000] MMU: Allocated 1088 bytes of context maps for 255 contexts
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 32512
[    0.000000] Kernel command line: console=ttyS0,115200
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Sorting __ex_table...
[    0.000000] Memory: 60160K/131072K available (2756K kernel code, 112K rwdata, 640K rodata, 132K init, 190K bss, 70912K reserved, 0K cma-reserved)
[    0.000000] Kernel virtual memory layout:
[    0.000000]   * 0xfffdf000..0xfffff000  : fixmap
[    0.000000]   * 0xfe000000..0xfe000000  : early ioremap
[    0.000000]   * 0xc9000000..0xfe000000  : vmalloc &amp; ioremap
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:512 nr_irqs:512 16
[    0.000000] mpic: Resetting
[    0.000000] mpic: Setting up MPIC &quot; OpenPIC  &quot; version 1.2 at ffe40000, max 1 CPUs
[    0.000000] mpic: ISU size: 256, shift: 8, mask: ff
[    0.000000] mpic: Initializing for 256 sources
[    0.000000] time_init: decrementer frequency = 49.999999 MHz
[    0.000000] time_init: processor frequency   = 799.999992 MHz
[    0.000010] clocksource timebase: mask: 0xffffffffffffffff max_cycles: 0xb88126fc8, max_idle_ns: 440795204701 ns
[    0.000019] clocksource: timebase mult[14000007] shift[24] registered
[    0.000028] clockevent: decrementer mult[cccccc9] shift[32] cpu[0]
[    0.000054] pid_max: default: 32768 minimum: 301
[    0.000124] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000133] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.003249] clocksource jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.003607] NET: Registered protocol family 16
[    0.007815] Found FSL PCI host bridge at 0x00000000ffe09000. Firmware bus number: 0-&gt;255
[    0.007827] PCI host bridge /pcie@ffe09000 (primary) ranges:
[    0.007839]  MEM 0x00000000a0000000..0x00000000bfffffff -&gt; 0x00000000a0000000 
[    0.007847]   IO 0x00000000ffc10000..0x00000000ffc1ffff -&gt; 0x0000000000000000
[    0.007862] /pcie@ffe09000: PCICSRBAR @ 0xfff00000
[    0.008170] Found FSL PCI host bridge at 0x00000000ffe0a000. Firmware bus number: 0-&gt;255
[    0.008177] PCI host bridge /pcie@ffe0a000  ranges:
[    0.008187]  MEM 0x0000000080000000..0x000000009fffffff -&gt; 0x0000000080000000 
[    0.008195]   IO 0x00000000ffc00000..0x00000000ffc0ffff -&gt; 0x0000000000000000
[    0.008209] /pcie@ffe0a000: PCICSRBAR @ 0xfff00000
[    0.018949] PCI: Probing PCI hardware
[    0.019096] fsl-pci ffe09000.pcie: PCI host bridge to bus 0000:00
[    0.019110] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
[    0.019119] pci_bus 0000:00: root bus resource [mem 0xa0000000-0xbfffffff]
[    0.019130] pci_bus 0000:00: root bus resource [bus 00-ff]
[    0.019142] pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to ff
[    0.019182] pci 0000:00:00.0: [1957:012b] type 01 class 0x0b2000
[    0.019208] pci 0000:00:00.0: reg 0x10: [mem 0xfff00000-0xffffffff]
[    0.019260] pci 0000:00:00.0: supports D1 D2
[    0.019270] pci 0000:00:00.0: PME# supported from D0 D1 D2 D3hot D3cold
[    0.019570] pci 0000:01:00.0: [168c:0033] type 00 class 0x028000
[    0.019601] pci 0000:01:00.0: reg 0x10: [mem 0xa0000000-0xa001ffff 64bit]
[    0.019642] pci 0000:01:00.0: reg 0x30: [mem 0x00000000-0x0000ffff pref]
[    0.019695] pci 0000:01:00.0: supports D1
[    0.019704] pci 0000:01:00.0: PME# supported from D0 D1 D3hot
[    0.024191] pci 0000:00:00.0: PCI bridge to [bus 01-ff]
[    0.024213] pci 0000:00:00.0:   bridge window [mem 0xa0000000-0xa00fffff]
[    0.024287] pci_bus 0000:01: busn_res: [bus 01-ff] end is updated to 01
[    0.024302] pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to 01
[    0.024462] fsl-pci ffe0a000.pcie: PCI host bridge to bus 0001:02
[    0.024477] pci_bus 0001:02: root bus resource [io  0x20000-0x2ffff] (bus address [0x0000-0xffff])
[    0.024487] pci_bus 0001:02: root bus resource [mem 0x80000000-0x9fffffff]
[    0.024497] pci_bus 0001:02: root bus resource [bus 02-ff]
[    0.024508] pci_bus 0001:02: busn_res: [bus 02-ff] end is updated to ff
[    0.024536] pci 0001:02:00.0: [1957:012b] type 01 class 0x0b2000
[    0.024557] pci 0001:02:00.0: reg 0x10: [mem 0xfff00000-0xffffffff]
[    0.024608] pci 0001:02:00.0: supports D1 D2
[    0.024617] pci 0001:02:00.0: PME# supported from D0 D1 D2 D3hot D3cold
[    0.024783] pci 0001:02:00.0: Primary bus is hard wired to 0
[    0.024795] pci 0001:02:00.0: bridge configuration invalid ([bus 01-01]), reconfiguring
[    0.024911] pci 0001:03:00.0: [168c:abcd] type 00 class 0x020000
[    0.024923] pci 0001:03:00.0: AR9381 fixup applied
[    0.024946] pci 0001:03:00.0: reg 0x10: [mem 0x80000000-0x8001ffff 64bit]
[    0.024987] pci 0001:03:00.0: reg 0x30: [mem 0x00000000-0x0000ffff pref]
[    0.025040] pci 0001:03:00.0: supports D1
[    0.025049] pci 0001:03:00.0: PME# supported from D0 D1 D3hot
[    0.032193] pci 0001:02:00.0: PCI bridge to [bus 03-ff]
[    0.032211] pci 0001:02:00.0:   bridge window [mem 0x80000000-0x800fffff]
[    0.032266] pci_bus 0001:03: busn_res: [bus 03-ff] end is updated to 03
[    0.032280] pci_bus 0001:02: busn_res: [bus 02-ff] end is updated to 03
[    0.032305] PCI: Cannot allocate resource region 0 of PCI bridge 1, will remap
[    0.032319] PCI: Cannot allocate resource region 0 of device 0000:00:00.0, will remap
[    0.032331] PCI: Cannot allocate resource region 0 of device 0001:02:00.0, will remap
[    0.032350] PCI 0001:02 Cannot reserve Legacy IO [io  0x20000-0x20fff]
[    0.032367] pci 0000:00:00.0: disabling bridge window [io  0x0000-0xffffffff] to [bus 01] (unused)
[    0.032387] pci 0000:00:00.0: BAR 0: no space for [mem size 0x00100000]
[    0.032396] pci 0000:00:00.0: BAR 0: failed to assign [mem size 0x00100000]
[    0.032411] pci 0000:01:00.0: BAR 6: assigned [mem 0xa0020000-0xa002ffff pref]
[    0.032421] pci 0000:00:00.0: PCI bridge to [bus 01]
[    0.032432] pci 0000:00:00.0:   bridge window [mem 0xa0000000-0xbfffffff]
[    0.032442] pci_bus 0000:00: Some PCI device resources are unassigned, try booting with pci=realloc
[    0.032452] pci_bus 0000:00: resource 4 [io  0x0000-0xffff]
[    0.032461] pci_bus 0000:00: resource 5 [mem 0xa0000000-0xbfffffff]
[    0.032471] pci_bus 0000:01: resource 1 [mem 0xa0000000-0xbfffffff]
[    0.032488] pci 0001:02:00.0: BAR 0: no space for [mem size 0x00100000]
[    0.032497] pci 0001:02:00.0: BAR 0: failed to assign [mem size 0x00100000]
[    0.032509] pci 0001:03:00.0: BAR 6: assigned [mem 0x80020000-0x8002ffff pref]
[    0.032518] pci 0001:02:00.0: PCI bridge to [bus 03]
[    0.032527] pci 0001:02:00.0:   bridge window [io  0x20000-0x2ffff]
[    0.032537] pci 0001:02:00.0:   bridge window [mem 0x80000000-0x9fffffff]
[    0.032546] pci_bus 0001:02: Some PCI device resources are unassigned, try booting with pci=realloc
[    0.032556] pci_bus 0001:02: resource 4 [io  0x20000-0x2ffff]
[    0.032566] pci_bus 0001:02: resource 5 [mem 0x80000000-0x9fffffff]
[    0.032575] pci_bus 0001:03: resource 0 [io  0x20000-0x2ffff]
[    0.032584] pci_bus 0001:03: resource 1 [mem 0x80000000-0x9fffffff]
[    0.032825] Registering qe_ic with sysfs...
[    0.036712] Switched to clocksource timebase
[    0.037479] NET: Registered protocol family 2
[    0.037981] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.038003] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.038019] TCP: Hash tables configured (established 1024 bind 1024)
[    0.038081] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.038099] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.038250] NET: Registered protocol family 1
[    0.038320] PCI: CLS 32 bytes, default 32
[    0.039175] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.050420] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.050438] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.051201] io scheduler noop registered
[    0.051216] io scheduler deadline registered (default)
[    0.074338] Serial: 8250/16550 driver, 2 ports, IRQ sharing enabled
[    0.074871] console [ttyS0] disabled
[    0.074909] serial8250.0: ttyS0 at MMIO 0xffe04500 (irq = 42, base_baud = 24999999) is a 16550A
[    0.650135] console [ttyS0] enabled
[    0.654128] console [ttyS0] disabled
[    0.657742] ffe04500.serial: ttyS0 at MMIO 0xffe04500 (irq = 42, base_baud = 24999999) is a 16550
[    1.248812] console [ttyS0] enabled
[    1.252601] Generic RTC Driver v1.07
[    1.256739] fsl_espi ffe07000.spi: cs=0, init_csmode=0x100008
[    1.291014] m25p80 spi0.0: found s25fl128s, expected s25fl129p1
[    1.296965] m25p80 spi0.0: s25fl128s (16384 Kbytes)
[    1.302032] 7 ofpart partitions found on MTD device spi0.0
[    1.307524] Creating 7 MTD partitions on &quot;spi0.0&quot;:
[    1.312316] 0x000000000000-0x000000050000 : &quot;u-boot&quot;
[    1.317791] 0x000000050000-0x000000060000 : &quot;dtb&quot;
[    1.322946] 0x000000060000-0x000000300000 : &quot;kernel&quot;
[    1.328344] 0x000000300000-0x000000fe0000 : &quot;rootfs&quot;
[    1.333769] mtd: device 3 (rootfs) set to be root filesystem
[    1.340294] 1 squashfs-split partitions found on MTD device rootfs
[    1.346497] 0x000000970000-0x000000fe0000 : &quot;rootfs_data&quot;
[    1.352404] 0x000000fe0000-0x000000ff0000 : &quot;config&quot;
[    1.357824] 0x000000ff0000-0x000001000000 : &quot;caldata&quot;
[    1.363324] 0x000000060000-0x000000fe0000 : &quot;firmware&quot;
[    1.368953] fsl_espi ffe07000.spi: at 0xc9038000 (irq = 59)
[    1.375112] libphy: Freescale PowerQUICC MII Bus: probed
[    1.385237] switch0: Atheros AR8327 rev. 2 switch registered on mdio@ffe24000
[    1.450355] fsl-gianfar soc@ffe00000:ethernet@b0000: enabled errata workarounds, flags: 0x4
[    1.468995] fsl-gianfar soc@ffe00000:ethernet@b0000 eth0: mac: f8:1a:67:5a:b7:3e
[    1.476402] fsl-gianfar soc@ffe00000:ethernet@b0000 eth0: Running with NAPI enabled
[    1.484059] fsl-gianfar soc@ffe00000:ethernet@b0000 eth0: RX BD ring size for Q[0]: 128
[    1.492063] fsl-gianfar soc@ffe00000:ethernet@b0000 eth0: TX BD ring size for Q[0]: 128
[    1.500179] ucc_geth_driver: QE UCC Gigabit Ethernet Controller
[    1.506437] NET: Registered protocol family 17
[    1.510947] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    1.523579] Bridge firewalling registered
[    1.527594] 8021q: 802.1Q VLAN Support v1.8
[    1.537022] VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
[    1.544458] Freeing unused kernel memory: 132K (c0353000 - c0374000)
[    1.569660] random: nonblocking pool is initialized
[    2.333272] init: Console is alive
[    3.721789] usbcore: registered new interface driver usbfs
[    3.727344] usbcore: registered new interface driver hub
[    3.732725] usbcore: registered new device driver usb
[    3.740971] exFAT: Version 1.2.9
[    3.784564] SCSI subsystem initialized
[    3.791925] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    3.798566] fsl-ehci fsl-ehci.0: Freescale On-Chip EHCI Host Controller
[    3.805206] fsl-ehci fsl-ehci.0: new USB bus registered, assigned bus number 1
[    3.822287] fsl-ehci fsl-ehci.0: irq 28, io mem 0xffe22000
[    3.836720] fsl-ehci fsl-ehci.0: USB 2.0 started, EHCI 1.00
[    3.842776] hub 1-0:1.0: USB hub found
[    3.846657] hub 1-0:1.0: 1 port detected
[    3.851444] ehci-platform: EHCI generic platform driver
[    3.857543] booke_wdt: powerpc book-e watchdog driver loaded
[    3.865016] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    3.871901] ohci-platform: OHCI generic platform driver
[    3.879985] usbcore: registered new interface driver usb-storage
[    4.160732] usb 1-1: new high-speed USB device number 2 using fsl-ehci
[    4.298713] hub 1-1:1.0: USB hub found
[    4.302866] hub 1-1:1.0: 4 ports detected
[    4.365556] init: - preinit -
[    6.652983] fsl-gianfar soc@ffe00000:ethernet@b0000 eth0: Link is Up - 1Gbps/Full - flow control off
[    8.661209] Atheros AR8216/AR8236/AR8316 mdio@ffe24000:00: Port 1 is up
[    8.668069] Atheros AR8216/AR8236/AR8316 mdio@ffe24000:00: Port 2 is up
[    8.674920] Atheros AR8216/AR8236/AR8316 mdio@ffe24000:00: Port 3 is up
[    8.681770] Atheros AR8216/AR8236/AR8316 mdio@ffe24000:00: Port 4 is up
[    8.750524] mount_root: loading kmods from internal overlay
[    9.060034] jffs2: notice: (888) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[    9.075852] block: attempting to load /tmp/jffs_cfg/upper/etc/config/fstab
[    9.082845] block: unable to load configuration (fstab: Entry not found)
[    9.089594] block: attempting to load /tmp/jffs_cfg/etc/config/fstab
[    9.096017] block: unable to load configuration (fstab: Entry not found)
[    9.102761] block: attempting to load /etc/config/fstab
[    9.142162] block: extroot: not configured
[    9.201244] jffs2: notice: (885) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[    9.419374] block: attempting to load /tmp/jffs_cfg/upper/etc/config/fstab
[    9.426361] block: unable to load configuration (fstab: Entry not found)
[    9.433109] block: attempting to load /tmp/jffs_cfg/etc/config/fstab
[    9.439536] block: unable to load configuration (fstab: Entry not found)
[    9.446280] block: attempting to load /etc/config/fstab
[    9.451777] block: extroot: not configured
[    9.457432] mount_root: overlay filesystem has not been fully initialized yet
[    9.465298] mount_root: switching to jffs2 overlay
[    9.506179] procd: - early -
[   10.410720] procd: - watchdog -
[   10.419143] procd: - ubus -
[   11.485302] procd: - init -
[   13.482270] NET: Registered protocol family 10
[   13.504200] Initializing XFRM netlink socket
[   13.517142] NET: Registered protocol family 15
[   13.529165] tun: Universal TUN/TAP device driver, 1.6
[   13.534228] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
[   13.594024] sit: IPv6 over IPv4 tunneling driver
[   13.612655] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.646898] u32 classifier
[   13.649631]     input device check on
[   13.653288]     Actions configured
[   13.667012] Mirror/redirect action on
[   13.687183] nf_conntrack version 0.5.0 (1970 buckets, 7880 max)
[   13.758720] Loading modules backported from Linux version master-2015-06-22-0-g4732c92
[   13.766672] Backport generated by backports.git backports-20150626-0-gc1a4168
[   13.787999] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.876212] xt_time: kernel timezone is -0000
[   13.920670] cfg80211: Calling CRDA to update world regulatory domain
[   13.932771] cfg80211: World regulatory domain updated:
[   13.937923] cfg80211:  DFS Master region: unset
[   13.942276] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   13.952020] cfg80211:   (2402000 KHz - 2494000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[   13.960022] cfg80211:   (4910000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[   14.063083] PPP generic driver version 2.4.2
[   14.069654] NET: Registered protocol family 24
[   14.128096] ath9k 0000:01:00.0: Direct firmware load for pci_wmac0.eeprom failed with error -2
[   14.136744] ath9k 0000:01:00.0: Falling back to user helper
[   14.441184] ath: EEPROM regdomain: 0x0
[   14.441196] ath: EEPROM indicates default country code should be used
[   14.441201] ath: doing EEPROM country-&gt;regdmn map search
[   14.441211] ath: country maps to regdmn code: 0x3a
[   14.441217] ath: Country alpha2 being used: US
[   14.441222] ath: Regpair used: 0x3a
[   14.448447] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   14.450456] ieee80211 phy0: Atheros AR9300 Rev:4 mem=0xc9bc0000, irq=17
[   14.457476] cfg80211: Calling CRDA for country: US
[   14.468891] ath9k 0001:03:00.0: Direct firmware load for pci_wmac1.eeprom failed with error -2
[   14.477517] ath9k 0001:03:00.0: Falling back to user helper
[   14.483480] cfg80211: Regulatory domain changed to country: US
[   14.489328] cfg80211:  DFS Master region: FCC
[   14.493507] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   14.503249] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[   14.511261] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 1700 mBm), (N/A)
[   14.520741] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (0 s)
[   14.530219] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2300 mBm), (0 s)
[   14.538308] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[   14.546310] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)
[   14.680528] ath: EEPROM regdomain: 0x0
[   14.680540] ath: EEPROM indicates default country code should be used
[   14.680545] ath: doing EEPROM country-&gt;regdmn map search
[   14.680555] ath: country maps to regdmn code: 0x3a
[   14.680561] ath: Country alpha2 being used: US
[   14.680566] ath: Regpair used: 0x3a
[   14.687873] ieee80211 phy1: Selected rate control algorithm &#039;minstrel_ht&#039;
[   14.689766] ieee80211 phy1: Atheros AR9300 Rev:3 mem=0xc9cc0000, irq=18
[   21.489756] device eth0.1 entered promiscuous mode
[   21.494654] device eth0 entered promiscuous mode
[   21.533482] br-lan: port 1(eth0.1) entered forwarding state
[   21.539103] br-lan: port 1(eth0.1) entered forwarding state
[   22.221013] cfg80211: Calling CRDA to update world regulatory domain
[   22.256828] cfg80211: World regulatory domain updated:
[   22.261984] cfg80211:  DFS Master region: unset
[   22.266342] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   22.276087] cfg80211:   (2402000 KHz - 2494000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[   22.284092] cfg80211:   (4910000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[   23.484994] fsl-gianfar soc@ffe00000:ethernet@b0000 eth0: Link is Up - 1Gbps/Full - flow control off
[   23.540714] br-lan: port 1(eth0.1) entered forwarding state
[   24.121506] IPv6: ADDRCONF(NETDEV_UP): wlan1: link is not ready
[   24.166382] device wlan1 entered promiscuous mode
[   24.224921] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   24.285443] device wlan0 entered promiscuous mode
[   24.290322] br-lan: port 3(wlan0) entered forwarding state
[   24.295841] br-lan: port 3(wlan0) entered forwarding state
[   24.840547] br-lan: port 2(wlan1) entered forwarding state
[   24.846098] br-lan: port 2(wlan1) entered forwarding state
[   24.851739] IPv6: ADDRCONF(NETDEV_CHANGE): wlan1: link becomes ready
[   25.131846] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[   26.296762] br-lan: port 3(wlan0) entered forwarding state
[   26.848733] br-lan: port 2(wlan1) entered forwarding state</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284690">
				<div class="post-metadata">
					<div class="post-num">Post #2102</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						23 Jul 2015, 21:27					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>Wed Jul 22 05:21:30 2015 user.notice dnsmasq: found already running DHCP-server on interface &#039;br-lan&#039; refusing to start, use &#039;option force 1&#039; to override</code></pre></div><p>You didn&#039;t by any chance plug your wan connection in a lan port? You can see that udhcpc tries to get an address but fails. At the same time you got dnsmasq reporting about an already existing dhcp server on the lan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284693">
				<div class="post-metadata">
					<div class="post-num">Post #2103</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						23 Jul 2015, 21:37					</div>
				</div>
				<div class="post-content content">
					<p>There&#039;s an issue with the Tor config in the latest r46441 build. Anyone who wants to use Tor needs to execute this command:</p><div class="codebox"><pre><code>uci set wireless.tor.device=radio1</code></pre></div><p>In addition to enabling the device:</p><div class="codebox"><pre><code>uci set wireless.tor.disabled=0</code></pre></div><p>Then execute wifi command or reboot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284697">
				<div class="post-metadata">
					<div class="post-num">Post #2104</div>
					<div class="post-author">Mr. Happy</div>
					<div class="post-datetime">
						23 Jul 2015, 21:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><div class="codebox"><pre><code>Wed Jul 22 05:21:30 2015 user.notice dnsmasq: found already running DHCP-server on interface &#039;br-lan&#039; refusing to start, use &#039;option force 1&#039; to override</code></pre></div><p>You didn&#039;t by any chance plug your wan connection in a lan port? You can see that udhcpc tries to get an address but fails. At the same time you got dnsmasq reporting about an already existing dhcp server on the lan.</p></blockquote></div><p>No I didn&#039;t... <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>There is already a dhcp server running on my network, that explains that message.<br />r45415 works fine after flashing without keeping settings...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284700">
				<div class="post-metadata">
					<div class="post-num">Post #2105</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						23 Jul 2015, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>The log says you are on r46434 though. I just reset mine on r46441 and my wan is fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284701">
				<div class="post-metadata">
					<div class="post-num">Post #2106</div>
					<div class="post-author">extenue</div>
					<div class="post-datetime">
						23 Jul 2015, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>is anyone tried to install nginx ? i prefer ask before trying , i ask as i would like to do reverse proxy and did not find a way to do that with uhttpd</p>											<p class="post-edited">(Last edited by <strong>extenue</strong> on 23 Jul 2015, 22:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284709">
				<div class="post-metadata">
					<div class="post-num">Post #2107</div>
					<div class="post-author">Mr. Happy</div>
					<div class="post-datetime">
						23 Jul 2015, 23:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>The log says you are on r46434 though. I just reset mine on r46441 and my wan is fine.</p></blockquote></div><p>I had r46434-2 installed, this created a non-functional wan connection.<br />After that i reverted to r45415 and that one worked....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284713">
				<div class="post-metadata">
					<div class="post-num">Post #2108</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						23 Jul 2015, 23:07					</div>
				</div>
				<div class="post-content content">
					<p>Try the latest build. I don&#039;t know, no changes that should cause any such problem. I had no issues with r46434-2 either.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284715">
				<div class="post-metadata">
					<div class="post-num">Post #2109</div>
					<div class="post-author">erikoo</div>
					<div class="post-datetime">
						23 Jul 2015, 23:18					</div>
				</div>
				<div class="post-content content">
					<p>@arokh</p><p>I&#039;m still having trouble using ipsec on my iphone.&nbsp; Using WiFi it works ok.&nbsp; However, when using 3G there is no traffic:</p><p>running tcpdump -v&nbsp; -i any host 10.1.3.2</p><div class="codebox"><pre><code>22:14:38.969893 IP (tos 0x0, ttl 64, id 38788, offset 0, flags [none], proto UDP (17), length 65)
    10.1.3.2.65302 &gt; OpenWrt.lan.domain: 32002+ A? api.smoot.apple.com. (37)
22:14:39.000050 IP (tos 0x0, ttl 64, id 6837, offset 0, flags [none], proto UDP (17), length 67)
    10.1.3.2.57610 &gt; OpenWrt.lan.domain: 25452+ A? init.itunes.apple.com. (39)
22:14:41.040260 IP (tos 0x0, ttl 64, id 49724, offset 0, flags [none], proto UDP (17), length 65)
    10.1.3.2.65302 &gt; OpenWrt.lan.domain: 32002+ A? api.smoot.apple.com. (37)
22:14:41.059882 IP (tos 0x0, ttl 64, id 57502, offset 0, flags [none], proto UDP (17), length 67)
    10.1.3.2.57610 &gt; OpenWrt.lan.domain: 25452+ A? init.itunes.apple.com. (39)
22:14:41.539988 IP (tos 0x0, ttl 64, id 46605, offset 0, flags [none], proto UDP (17), length 76)
    10.1.3.2.54840 &gt; OpenWrt.lan.domain: 10144+ A? p04-keyvalueservice.icloud.com. (48)
22:14:42.690232 IP (tos 0x0, ttl 64, id 49345, offset 0, flags [none], proto UDP (17), length 76)
    10.1.3.2.54840 &gt; OpenWrt.lan.domain: 10144+ A? p04-keyvalueservice.icloud.com. (48)
22:14:44.469908 IP (tos 0x0, ttl 64, id 43465, offset 0, flags [none], proto UDP (17), length 63)
    10.1.3.2.55697 &gt; OpenWrt.lan.domain: 45141+ A? forum.openwrt.org. (35)
22:14:44.740064 IP (tos 0x0, ttl 64, id 18254, offset 0, flags [none], proto UDP (17), length 76)
    10.1.3.2.54840 &gt; OpenWrt.lan.domain: 10144+ A? p04-keyvalueservice.icloud.com. (48)
22:14:45.520012 IP (tos 0x0, ttl 64, id 9812, offset 0, flags [none], proto UDP (17), length 63)
    10.1.3.2.55697 &gt; OpenWrt.lan.domain: 45141+ A? forum.openwrt.org. (35)
22:14:47.219937 IP (tos 0x0, ttl 64, id 32750, offset 0, flags [none], proto UDP (17), length 65)
    10.1.3.2.65302 &gt; OpenWrt.lan.domain: 32002+ A? api.smoot.apple.com. (37)
22:14:47.260045 IP (tos 0x0, ttl 64, id 5777, offset 0, flags [none], proto UDP (17), length 67)
    10.1.3.2.57610 &gt; OpenWrt.lan.domain: 25452+ A? init.itunes.apple.com. (39)
22:14:47.620083 IP (tos 0x0, ttl 64, id 62576, offset 0, flags [none], proto UDP (17), length 63)
    10.1.3.2.55697 &gt; OpenWrt.lan.domain: 45141+ A? forum.openwrt.org. (35)
22:14:50.890581 IP (tos 0x0, ttl 64, id 11038, offset 0, flags [none], proto UDP (17), length 76)
    10.1.3.2.54840 &gt; OpenWrt.lan.domain: 10144+ A? p04-keyvalueservice.icloud.com. (48)
22:14:53.318961 IP (tos 0x0, ttl 64, id 3447, offset 0, flags [none], proto UDP (17), length 65)
    10.1.3.2.65302 &gt; OpenWrt.lan.domain: 32002+ A? api.smoot.apple.com. (37)
22:14:53.359863 IP (tos 0x0, ttl 64, id 58320, offset 0, flags [none], proto UDP (17), length 67)
    10.1.3.2.57610 &gt; OpenWrt.lan.domain: 25452+ A? init.itunes.apple.com. (39)
22:14:53.720081 IP (tos 0x0, ttl 64, id 46544, offset 0, flags [none], proto UDP (17), length 63)
    10.1.3.2.55697 &gt; OpenWrt.lan.domain: 45141+ A? forum.openwrt.org. (35)
22:14:56.989978 IP (tos 0x0, ttl 64, id 46949, offset 0, flags [none], proto UDP (17), length 76)
    10.1.3.2.54840 &gt; OpenWrt.lan.domain: 10144+ A? p04-keyvalueservice.icloud.com. (48)
22:14:59.890192 IP (tos 0x0, ttl 64, id 10782, offset 0, flags [none], proto UDP (17), length 63)
    10.1.3.2.55697 &gt; OpenWrt.lan.domain: 45141+ A? forum.openwrt.org. (35)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284719">
				<div class="post-metadata">
					<div class="post-num">Post #2110</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						23 Jul 2015, 23:27					</div>
				</div>
				<div class="post-content content">
					<p>Looks good from the tcpdump, those are DNS requests to 192.168.1.1.&nbsp; Odd that there are only DNS requests though. Not sure what your problem is, &quot;it works here&quot; with strongswan official android app, and ios ikev1/ikev2:)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284759">
				<div class="post-metadata">
					<div class="post-num">Post #2111</div>
					<div class="post-author">exrwagon</div>
					<div class="post-datetime">
						24 Jul 2015, 03:31					</div>
				</div>
				<div class="post-content content">
					<p>r46441 flashed and running on my Archer C7v2 (wndr3700v1 is now the standby router). will have a serial port installed as soon as the serial board arrives. quite willing to try experimental builds once I have console access.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284824">
				<div class="post-metadata">
					<div class="post-num">Post #2112</div>
					<div class="post-author">foxbat</div>
					<div class="post-datetime">
						24 Jul 2015, 13:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Yes, sure I can add that.</p></blockquote></div><p>Add please. It is important function! Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284829">
				<div class="post-metadata">
					<div class="post-num">Post #2113</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						24 Jul 2015, 14:37					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s already there <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><a href="http://enduser.subsignal.org/~trondah/wndr3700_8mb_800mhz/">http://enduser.subsignal.org/~trondah/w … mb_800mhz/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284850">
				<div class="post-metadata">
					<div class="post-num">Post #2114</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						24 Jul 2015, 18:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><div class="quotebox"><cite>valentt wrote:</cite><blockquote><p>How come you got so poor results for OpenSSL benchmark? I have compared your results for AES-128 (16655690) to highest number WDR4900 AES-128 in OpenSSL table (23153400) [1] and your results is 30% worse! Why? Did I get wrong numbers? Can you please confirm my numbers.</p><p>[1] <a href="http://wiki.openwrt.org/inbox/benchmark.openssl">http://wiki.openwrt.org/inbox/benchmark.openssl</a></p></blockquote></div><p>There are 7 benchmarks of the wdr4900 there, and only one of them has that high score on AES-128. Look at the MD5 score in the same report, it&#039;s half of what mine scores in that test. The one you are referring to is using OpenSSL 1.0.1i, my build has OpenSSL 1.0.2d. So it&#039;s quite an old version, and that means older versions of everything including the compiler it was built with etc. That explains the differences in result. Look at all the numbers. My scores crushes all the others in some tests. This is due to the OpenSSL ppc assembly code that isn&#039;t activated in normal builds for some reason.</p></blockquote></div><p>@arokh I just added your results into my custom LibreOffice table for comparison, and f*ck, you are right, your number blow away everything else in that chart. Well, all numbers except AES-128 numbers. </p><p>Why I&#039;m focused on AES-128 performance? To bo honest, I have no clue what those other benchmark numbers benefit. I know that AES-128 is used in OpenVPN encrypted tunnels so that is why I&#039;m focusing on it specifically. I need a device with killer OpenVPN performance. Do any of the other number have role in OpenVPN performance?</p><p>Then I took your advice and ignored results from openssl 1.0.1 and used only results that have same version of openssl library as yours (1.0.2d) and than number is 18209210 vs yours 16655690. Much closer but still less. To be fair that guy didn&#039;t use stock firmware because he noted that his firmware used musl+hw-acceleration and r46314.</p><p>Is there some other thing you can do to get AES-128 number higher?</p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 24 Jul 2015, 19:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284864">
				<div class="post-metadata">
					<div class="post-num">Post #2115</div>
					<div class="post-author">johan81</div>
					<div class="post-datetime">
						24 Jul 2015, 20:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>OpenWrt uses dropbear, not OpenSSH. I&#039;ll investigate the brute force protection, it worked fine when I tested not that long ago though.</p><p>EDIT: Found the problem right away, seems somehow I&#039;ve removed the executable bit on my scripts in files/usr/sbin. This affects vpn.sh as well, so initial VPN setup won&#039;t work on the last build. I&#039;ll remove it and restart the build.</p><p>EDIT2: Just do &quot;chmod +x /usr/sbin/dropBrute.sh&quot; to fix it.</p></blockquote></div><p>I couldn&#039;t find the rebuild here (last version is from before when you found the issue):<br /><a href="http://enduser.subsignal.org/~trondah/wdr4900/">http://enduser.subsignal.org/~trondah/wdr4900/</a><br />But I did find one here:<br /><a href="http://enduser.subsignal.org/~trondah/wdr4900_musl/">http://enduser.subsignal.org/~trondah/wdr4900_musl/</a></p><p>And if I have come to understand it correctly, the WDR4900 build is better off without musl, did you accidentily build the wrong one, did I misunderstand or something else? Want to upgrade again tomorrow and just want to be sure to get the right one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284868">
				<div class="post-metadata">
					<div class="post-num">Post #2116</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						24 Jul 2015, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>Musl on the WDR4900 works perfect now. No problems so far here..</p>											<p class="post-edited">(Last edited by <strong>written_direcon</strong> on 24 Jul 2015, 20:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284870">
				<div class="post-metadata">
					<div class="post-num">Post #2117</div>
					<div class="post-author">johan81</div>
					<div class="post-datetime">
						24 Jul 2015, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>I know it doesn&#039;t give any problems, but as I have come to understand it doesn&#039;t support some important hardware acceleration and thus is slower than the non musl.</p><div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>New special build for wdr4900 r46441 is built with uClibc-ng 1.0.4. The regular uClibc hasn&#039;t been properly maintained for a long while, it&#039;s been forked as uClibc-ng. Until we wait for musl to get hardware float support for ppc this is a better alternative for the wdr4900. A bonus is that uClibc-ng seems to work with musl snapshot packages.</p><p><a href="http://enduser.subsignal.org/~trondah/wdr4900/r46441/">http://enduser.subsignal.org/~trondah/wdr4900/r46441/</a></p><p>Trunk has updated wireless drivers as well, I&#039;ll build the others too.</p></blockquote></div><p>This is what I mean</p>											<p class="post-edited">(Last edited by <strong>johan81</strong> on 24 Jul 2015, 20:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284877">
				<div class="post-metadata">
					<div class="post-num">Post #2118</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						24 Jul 2015, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>The numbers are fine. Go and flash a stock openwrt firmware on your router, then compare the numbers. If you can get a better score, then we&#039;ll talk.</p><p>EDIT: This build has enabled the PPC ASM code in OpenSSL, and I compile with -O2 for uClibc and OpenSSL. I&#039;m not aware of any other performance enhancements that can be done for the wdr4900. musl will give you much lower numbers because it doesn&#039;t have hard float / SPE support.</p><p>EDIT2: I went ahead and did it for you. Here is results with stock OpenWrt musl&nbsp; build (latest snapshot) on wdr4900:</p><div class="codebox"><pre><code>| r46478 | 1.0.2d | 75212630 | 22225610 | 15245570 | 7766250 | 10550620 | 3713200 | 18217230 | 16062660 | 14372080 | 14.3 | 531.9 52.2 | 41.9 |</code></pre></div><p>Here is results with mine to compare:</p><div class="codebox"><pre><code>| r46478 | 1.0.2d | 75719460 | 81220150 | 38100020 | 21962720 | 14246310 | 5312350 | 16755330 | 14481500 | 12852580 | 17.9 | 656.1 65.4 | 52.4 |</code></pre></div><p>Musl does a little better with the AES and RSA tests, otherwise my build wins hands down. Oh and OpenVPN uses BF-CBC as the default encryption, not AES. I posted earlier my OpenVPN result with musl build and it wasn&#039;t more than 20Mbps. With my build I can score 32/32 Mbps. I don&#039;t know if you switched to AES encryption in OpenVPN if that would be any faster in the musl build, but I kind of doubt that a marginally better internal speed test will translate to better VPN performance. Both OpenVPN and IPsec performs _much faster_ in my build than stock OpenWrt.</p><p>EDIT 3:</p><p>Here is results with my musl build that has PPC ASM code activated in OpenSSL:</p><div class="codebox"><pre><code>| r46441 | 1.0.2d | 71164580 | 76837240 | 38209680 | 21946010 | 14150160 | 5237230 | 16726590 | 14470010 | 12823370 | 17.9 | 651.7 63.1 | 53.5 |</code></pre></div><p>As you can see, all other scores increase compared to the stock OpenWrt musl build but AES takes a small dive. I&#039;m pretty sure this is just some weirdness with the test / ASM code. If you compare real application performance, I believe my build will be faster. Especially on the wdr4900.</p><p>If you want the baddest OpenWrt performance on a home router, better get the WRT1900AC V2 or WRT1200AC they got a dual core 1.3 GHz and 512MB of RAM.</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 24 Jul 2015, 22:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284889">
				<div class="post-metadata">
					<div class="post-num">Post #2119</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						24 Jul 2015, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>Hm, I just did some VPN speed tests with the latest musl build and got pretty good results for:</p><p>OpenVPN openssl BF-CBC: 32/30 Mbps (HTC One M7 client)<br />IPsec IKEv2 kernel AES128: 65/54 Mbps (iPad Air 2)</p><p>OpenVPN performance is the same as with uClibc. IPsec is actually faster with musl than with uClibc, but with the new SPE kernel modules in the 4.1 kernel I get 86/68 Mbps.</p><p>So my recommendation: stick with non-musl build for wdr4900 if you want the best performance. If musl gets hard float and SPE support we will probably see even better performance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284892">
				<div class="post-metadata">
					<div class="post-num">Post #2120</div>
					<div class="post-author">johan81</div>
					<div class="post-datetime">
						25 Jul 2015, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your extensive testing and conclusions, will flash the non musl per your advice then for now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284910">
				<div class="post-metadata">
					<div class="post-num">Post #2121</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						25 Jul 2015, 04:08					</div>
				</div>
				<div class="post-content content">
					<p>Sorry but I&#039;ll have to revise that statement. I have realized that just because musl does not support hard floats does not mean the kernel doesn&#039;t. The new PPC SPE hardware crypto modules that I had disabled for musl can safely be enabled. New IKEv2 speed test on musl build: 86/70 Mbps.</p><p>So now that OpenSSL and the 4.1 kernel is using PPC acceleration for crypto, there isn&#039;t actually any reason to use the uClibc build for the wdr4900 anymore.</p><p>The r46483 musl build enables the new kernel crypto stuff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284925">
				<div class="post-metadata">
					<div class="post-num">Post #2122</div>
					<div class="post-author">johan81</div>
					<div class="post-datetime">
						25 Jul 2015, 09:54					</div>
				</div>
				<div class="post-content content">
					<p>Haha, no need to apologize! Will go full &quot;muscle&quot; then <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284927">
				<div class="post-metadata">
					<div class="post-num">Post #2123</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						25 Jul 2015, 10:31					</div>
				</div>
				<div class="post-content content">
					<p>Arokh, where did you modify the default password for the root user?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284928">
				<div class="post-metadata">
					<div class="post-num">Post #2124</div>
					<div class="post-author">johan81</div>
					<div class="post-datetime">
						25 Jul 2015, 10:45					</div>
				</div>
				<div class="post-content content">
					<p>When restarting the firewall I get a warning (looked up which [7] is) that the protocol esp is unknown</p><div class="codebox"><pre><code>Warning: Option @rule[7].protocol is unknown
does not specify a protocol, assuming TCP+UDP</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284930">
				<div class="post-metadata">
					<div class="post-num">Post #2125</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						25 Jul 2015, 11:07					</div>
				</div>
				<div class="post-content content">
					<p>@written_direcon</p><p>I set the hash in package/base-files/files/etc/shadow.</p><p>@johan81</p><p>Is that with the wndr3700 v1 build? All other builds should recognize esp as protocol, as they have both iptables-mod-ipsec and kmod-ipt-ipsec included.</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 2126 to 2125 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 85 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=83.html">83</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=84.html">84</a></li><li class="pagination-current"><span>85</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=86.html">86</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=87.html">87</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>