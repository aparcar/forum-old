<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 9 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=11.html">11</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p168855">
				<div class="post-metadata">
					<div class="post-num">Post #201</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						2 Jun 2012, 06:22					</div>
				</div>
				<div class="post-content content">
					<p>I have to say, this 32016 build is really smooth and responsive. Web page delays are WAY down using it, compared to Backfire. As ever, I love the nice clean minimal configuration hnyman has put together too - probably a big part of this result. Thanks again to you and of course the Openwrt devs!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168882">
				<div class="post-metadata">
					<div class="post-num">Post #202</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						2 Jun 2012, 14:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Dickie wrote:</cite><blockquote><p>mmmm thanks.&nbsp; I tried that yesterday, and the router started into a reboot loop, so I&#039;ll try again&nbsp; with the latest build. Thanks!</p></blockquote></div><p>I tried forcing the installation of the pptp modules rom snapshot repository, and although the installation seemed to go ok, also my router went to a reboot loop after I created a pptp tunnel. So, apparently the snapshot version does not work with my build.</p><p>I tried to compile the needed modules by myself, and with them the router stays up quite ok.<br/>However, there seems to be some trouble with the pptp authentication in general, so the tunnel does not get properly initiated.<br/>See <a href="https://dev.openwrt.org/ticket/11570">https://dev.openwrt.org/ticket/11570</a> and <a href="https://dev.openwrt.org/ticket/11545">https://dev.openwrt.org/ticket/11545</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 2 Jun 2012, 16:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168902">
				<div class="post-metadata">
					<div class="post-num">Post #203</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						2 Jun 2012, 20:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>I tried to compile the needed modules by myself, and with them the router stays up quite ok.<br/>However, there seems to be some trouble with the pptp authentication in general</p></blockquote></div><p>Thankyou very much hnyman for going to the trouble of checking it out!&nbsp; I&#039;m already tracking those same tickets on the MSCHAPV2 issue as well, so we&#039;ll see how it plays out.&nbsp; I have a noob-dev question that I&#039;ll PM you instead of clogging up the boards.&nbsp; Thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168970">
				<div class="post-metadata">
					<div class="post-num">Post #204</div>
					<div class="post-author">Jas_4</div>
					<div class="post-datetime">
						3 Jun 2012, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>I have a problem with your trunk builds,<br/>I can&#039;t configure igmp proxy in it,<br/>but have no problems in your Backfire builds,<br/>so do I something wrong or is there a bug in the trunk builds ?<br/>it can also be a bug in the igmp proxy, for I can see it has a different version no.</p>											<p class="post-edited">(Last edited by <strong>Jas_4</strong> on 3 Jun 2012, 15:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168976">
				<div class="post-metadata">
					<div class="post-num">Post #205</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						3 Jun 2012, 19:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Jas_4 wrote:</cite><blockquote><p>I have a problem with your trunk builds,<br/>I can&#039;t configure igmp proxy in it,<br/>but have no problems in your Backfire builds,<br/>so do I something wrong or is there a bug in the trunk builds ?<br/>it can also be a bug in the igmp proxy, for I can see it has a different version no.</p></blockquote></div><p>No idea. I have never used that module.</p><p>Actually Backfire and trunk seem to use the same version 0.1, I think. It might be possible that the recent change to netifd scripts might have caused something.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168984">
				<div class="post-metadata">
					<div class="post-num">Post #206</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						3 Jun 2012, 20:20					</div>
				</div>
				<div class="post-content content">
					<p>Yes, the trunk version oof igmp proxy uses /etc/config/igmpproxy instead of a plain config file.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168987">
				<div class="post-metadata">
					<div class="post-num">Post #207</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						3 Jun 2012, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>@Dickie:<br/>I built the pptp support to my new 32035 build, and initially it seemed able to connect to a pptp tunnel (a demo account from usaip), but then it broke down and did not get up again. The pptp seems to get stuck to a loop of neverending tries, until it gets stopped by bringing the interface down from Luci.</p><p>There was also this possible error in the log: Script /lib/netifd/ppp-up finished (pid 2940), status = 0x1<br/>So, I guess the situation has improved, but I am not sure how much. :-(</p><p>I am not sure if I had the firewall config correctly in place when doing that, so that might be part of the reason. It looks like the interface does not get added to the firewall when the interface gets up. I have not done pptp config earlier, so I am not quite sure how it is supposed to work. </p><div class="codebox"><pre><code>root@OpenWrt:/tmp/log# head -n 240 pptp-server.log
using channel 1
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
Got signal, pid=2853
Script /usr/sbin/pptp vpn16.usaip.eu --loglevel 0 --nolaunchpppd  finished (pid 2849), status = 0x0
Modem hangup
Connection terminated.
using channel 2
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
sent [LCP ConfReq id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xfd68f34b&gt;]
rcvd [LCP ConfReq id=0x1 &lt;auth chap MS-v2&gt; &lt;mru 1460&gt; &lt;magic 0x7c10a720&gt;]
sent [LCP ConfAck id=0x1 &lt;auth chap MS-v2&gt; &lt;mru 1460&gt; &lt;magic 0x7c10a720&gt;]
rcvd [LCP ConfRej id=0x1 &lt;asyncmap 0x0&gt;]
sent [LCP ConfReq id=0x2 &lt;magic 0xfd68f34b&gt;]
rcvd [LCP ConfAck id=0x2 &lt;magic 0xfd68f34b&gt;]
sent [LCP EchoReq id=0x0 magic=0xfd68f34b]
rcvd [LCP ConfReq id=0x2 &lt;auth chap MS-v2&gt; &lt;mru 1460&gt; &lt;magic 0x7c10a720&gt;]
sent [LCP ConfReq id=0x3 &lt;asyncmap 0x0&gt; &lt;magic 0xcb5f1517&gt;]
sent [LCP ConfAck id=0x2 &lt;auth chap MS-v2&gt; &lt;mru 1460&gt; &lt;magic 0x7c10a720&gt;]
rcvd [LCP ConfRej id=0x3 &lt;asyncmap 0x0&gt;]
sent [LCP ConfReq id=0x4 &lt;magic 0xcb5f1517&gt;]
rcvd [LCP ConfAck id=0x4 &lt;magic 0xcb5f1517&gt;]
sent [LCP EchoReq id=0x0 magic=0xcb5f1517]
rcvd [CHAP Challenge id=0x1 &lt;e0d734a5410cd783c68a9affeecd8d53&gt;, name = &quot;MikroTik&quot;]
sent [CHAP Response id=0x1 &lt;5e288edf7dbc240a5664a6c8eb51328100000000000000004b2cd3a8d5d78e820d3eb33cb8184c454ecad834eecabfee00&gt;, name = &quot;demo&quot;]
rcvd [LCP EchoRep id=0x0 magic=0x7c10a720]
rcvd [CHAP Success id=0x1 &quot;S=E4CF6ABA6415E81C372700A4CF482149E3A2CF5E&quot;]
CHAP authentication succeeded
sent [CCP ConfReq id=0x1 &lt;mppe +H -M +S -L -D -C&gt;]
rcvd [IPCP ConfReq id=0x1 &lt;addr 172.31.255.254&gt;]
sent [IPCP TermAck id=0x1]
rcvd [proto=0x8281] 01 01 00 04
Unsupported protocol 0x8281 received
sent [LCP ProtRej id=0x5 82 81 01 01 00 04]
rcvd [CCP ConfReq id=0x1 &lt;mppe +H -M +S +L -D -C&gt;]
sent [CCP ConfNak id=0x1 &lt;mppe +H -M +S -L -D -C&gt;]
rcvd [CCP ConfAck id=0x1 &lt;mppe +H -M +S -L -D -C&gt;]
rcvd [CCP ConfReq id=0x2 &lt;mppe +H -M +S -L -D -C&gt;]
sent [CCP ConfAck id=0x2 &lt;mppe +H -M +S -L -D -C&gt;]
MPPE 128-bit stateless compression enabled
sent [IPCP ConfReq id=0x1 &lt;compress VJ 0f 01&gt; &lt;addr 0.0.0.0&gt; &lt;ms-dns1 0.0.0.0&gt; &lt;ms-dns2 0.0.0.0&gt;]
rcvd [IPCP ConfRej id=0x1 &lt;compress VJ 0f 01&gt;]
sent [IPCP ConfReq id=0x2 &lt;addr 0.0.0.0&gt; &lt;ms-dns1 0.0.0.0&gt; &lt;ms-dns2 0.0.0.0&gt;]
rcvd [IPCP ConfNak id=0x2 &lt;addr 172.31.156.35&gt; &lt;ms-dns1 172.31.255.254&gt; &lt;ms-dns2 8.8.8.8&gt;]
sent [IPCP ConfReq id=0x3 &lt;addr 172.31.156.35&gt; &lt;ms-dns1 172.31.255.254&gt; &lt;ms-dns2 8.8.8.8&gt;]
rcvd [IPCP ConfAck id=0x3 &lt;addr 172.31.156.35&gt; &lt;ms-dns1 172.31.255.254&gt; &lt;ms-dns2 8.8.8.8&gt;]
sent [LCP EchoReq id=0x1 magic=0xcb5f1517]
rcvd [LCP EchoRep id=0x1 magic=0x7c10a720]
rcvd [IPCP ConfReq id=0x2 &lt;addr 172.31.255.254&gt;]
sent [IPCP ConfAck id=0x2 &lt;addr 172.31.255.254&gt;]
local  IP address 172.31.156.35
remote IP address 172.31.255.254
primary   DNS address 172.31.255.254
secondary DNS address 8.8.8.8
Script /lib/netifd/ppp-up started (pid 2876)
Script /lib/netifd/ppp-up finished (pid 2876), status = 0x1
No response to 5 echo-requests
Serial link appears to be disconnected.
Connect time 0.1 minutes.
Sent 3912807 bytes, received 0 bytes.
Script /lib/netifd/ppp-down started (pid 3014)
MPPE disabled
sent [LCP TermReq id=0x6 &quot;MPPE disabled&quot;]
sent [LCP TermReq id=0x7 &quot;MPPE disabled&quot;]
Script /usr/sbin/pptp vpn16.usaip.eu --loglevel 0 --nolaunchpppd  finished (pid 2856), status = 0x0
Modem hangup
Connection terminated.
using channel 3
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
anon warn[pptp_gre_bind:pptp_gre.c:95]: connect: Network is unreachable
anon fatal[main:pptp.c:287]: Cannot bind GRE socket, aborting.
Script /usr/sbin/pptp vpn16.usaip.eu --loglevel 0 --nolaunchpppd  finished (pid 3016), status = 0x1
Modem hangup
Connection terminated.
using channel 4
anon warn[pptp_gre_bind:pptp_gre.c:95]: connect: Network is unreachable
anon fatal[main:pptp.c:287]: Cannot bind GRE socket, aborting.
Failed to set PPP kernel option flags: Inappropriate ioctl for device
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
Script /usr/sbin/pptp vpn16.usaip.eu --loglevel 0 --nolaunchpppd  finished (pid 3018), status = 0x1
Modem hangup
Connection terminated.
using channel 5
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
anon warn[pptp_gre_bind:pptp_gre.c:95]: connect: Network is unreachable
anon fatal[main:pptp.c:287]: Cannot bind GRE socket, aborting.
Script /usr/sbin/pptp vpn16.usaip.eu --loglevel 0 --nolaunchpppd  finished (pid 3023), status = 0x1
Modem hangup
Connection terminated.
using channel 6
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
anon warn[pptp_gre_bind:pptp_gre.c:95]: connect: Network is unreachable
anon fatal[main:pptp.c:287]: Cannot bind GRE socket, aborting.
Modem hangup
Connection terminated.
using channel 7
Using interface pptp-test
Connect: pptp-test &lt;--&gt; /dev/pts/1
Script /usr/sbin/pptp vpn16.usaip.eu --loglevel 0 --nolaunchpppd  finished (pid 3026), status = 0x1
anon warn[pptp_gre_bind:pptp_gre.c:95]: connect: Network is unreachable
anon fatal[main:pptp.c:287]: Cannot bind GRE socket, aborting.
Modem hangup
Connection terminated.
using channel 8</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168991">
				<div class="post-metadata">
					<div class="post-num">Post #208</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						3 Jun 2012, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman - I just recompiled using the latest packages / trunk (says 32035) and everything seems to be working&nbsp; (falls to kness, shaking fists).&nbsp; It seems to fail the first few times for no apparent reason, and then connects and stays up?&nbsp; &nbsp;It does add the int. to the firewall zone I specified when I created the interface - do you have one specified?</p><br/><p>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: pppd 2.4.5 started by root, uid 0<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.info pppd[2484]: Using interface pptp-UKVPN<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Connect: pptp-UKVPN &lt;--&gt; /dev/pts/1<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2488]: anon log[main:pptp.c:279]: The synchronous pptp option is NOT activated<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Modem hangup<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Connection terminated.<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2491]: anon log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 1 &#039;Start-Control-Connection-Request&#039;<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2493]: anon log[main:pptp.c:279]: The synchronous pptp option is NOT activated<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.info pppd[2484]: Using interface pptp-UKVPN<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Connect: pptp-UKVPN &lt;--&gt; /dev/pts/1<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2491]: anon log[ctrlp_disp:pptp_ctrl.c:738]: Received Start Control Connection Reply<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2491]: anon log[ctrlp_disp:pptp_ctrl.c:772]: Client connection established.<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2496]: anon log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 1 &#039;Start-Control-Connection-Request&#039;<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Modem hangup<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Connection terminated.<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.info pppd[2484]: Using interface pptp-UKVPN<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pppd[2484]: Connect: pptp-UKVPN &lt;--&gt; /dev/pts/1<br/>Jun&nbsp; 3 12:18:18 DataHub daemon.notice pptp[2498]: anon log[main:pptp.c:279]: The synchronous pptp option is NOT activated<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2496]: anon log[ctrlp_disp:pptp_ctrl.c:738]: Received Start Control Connection Reply<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2496]: anon log[ctrlp_disp:pptp_ctrl.c:772]: Client connection established.<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: Modem hangup<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: Connection terminated.<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2502]: anon log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 1 &#039;Start-Control-Connection-Request&#039;<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.info pppd[2484]: Using interface pptp-UKVPN<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: Connect: pptp-UKVPN &lt;--&gt; /dev/pts/1<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2504]: anon log[main:pptp.c:279]: The synchronous pptp option is NOT activated<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2502]: anon log[ctrlp_disp:pptp_ctrl.c:738]: Received Start Control Connection Reply<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2502]: anon log[ctrlp_disp:pptp_ctrl.c:772]: Client connection established.<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: Modem hangup<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: Connection terminated.<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.info pppd[2484]: Using interface pptp-UKVPN<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: Connect: pptp-UKVPN &lt;--&gt; /dev/pts/1<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2508]: anon log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 1 &#039;Start-Control-Connection-Request&#039;<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2510]: anon log[main:pptp.c:279]: The synchronous pptp option is NOT activated<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2491]: anon log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 7 &#039;Outgoing-Call-Request&#039;<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2491]: anon log[ctrlp_disp:pptp_ctrl.c:857]: Received Outgoing Call Reply.<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2491]: anon log[ctrlp_disp:pptp_ctrl.c:896]: Outgoing call established (call ID 0, peer&#039;s call ID 17792).<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2508]: anon log[ctrlp_disp:pptp_ctrl.c:738]: Received Start Control Connection Reply<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pptp[2508]: anon log[ctrlp_disp:pptp_ctrl.c:772]: Client connection established.<br/>Jun&nbsp; 3 12:18:19 DataHub daemon.notice pppd[2484]: CHAP authentication succeeded<br/>Jun&nbsp; 3 12:18:20 DataHub daemon.notice pppd[2484]: MPPE 128-bit stateless compression enabled<br/>Jun&nbsp; 3 12:18:20 DataHub daemon.notice pppd[2484]: local&nbsp; IP address 10.7.1.156<br/>Jun&nbsp; 3 12:18:20 DataHub daemon.notice pppd[2484]: remote IP address 10.0.0.1<br/>Jun&nbsp; 3 12:18:20 DataHub daemon.notice netifd: Interface &#039;UKVPN&#039; is now up<br/>Jun&nbsp; 3 12:18:21 DataHub user.notice ifup: Enabling Router Solicitations on UKVPN (pptp-UKVPN)<br/><strong>Jun&nbsp; 3 12:18:21 DataHub user.info firewall: adding UKVPN (pptp-UKVPN) to zone wan</strong><br/>Jun&nbsp; 3 12:18:30 DataHub daemon.info dnsmasq[2057]: reading /tmp/resolv.conf.auto<br/>Jun&nbsp; 3 12:18:30 DataHub daemon.info dnsmasq[2057]: using nameserver 75.75.75.75#53<br/>Jun&nbsp; 3 12:18:30 DataHub daemon.info dnsmasq[2057]: using nameserver 75.75.76.76#53<br/>Jun&nbsp; 3 12:18:30 DataHub daemon.info dnsmasq[2057]: using local addresses only for domain lan<br/>Jun&nbsp; 3 12:19:19 DataHub daemon.notice pptp[2496]: anon log[logecho:pptp_ctrl.c:676]: Echo Request received.<br/>Jun&nbsp; 3 12:19:19 DataHub daemon.notice pptp[2496]: anon log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 6 &#039;Echo-Reply&#039;<br/>Jun&nbsp; 3 12:19:19 DataHub daemon.notice pptp[2502]: anon log[logecho:pptp_ctrl.c:676]: Echo Request received.</p>											<p class="post-edited">(Last edited by <strong>Dickie</strong> on 3 Jun 2012, 22:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168997">
				<div class="post-metadata">
					<div class="post-num">Post #209</div>
					<div class="post-author">Jas_4</div>
					<div class="post-datetime">
						4 Jun 2012, 00:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Yes, the trunk version oof igmp proxy uses /etc/config/igmpproxy instead of a plain config file.</p></blockquote></div><p>Ok. <br/>But how can I then change the config file?<br/>because I usually use: nano /etc/igmpproxy.conf</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168998">
				<div class="post-metadata">
					<div class="post-num">Post #210</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						4 Jun 2012, 00:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Jas_4 wrote:</cite><blockquote><div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Yes, the trunk version oof igmp proxy uses /etc/config/igmpproxy instead of a plain config file.</p></blockquote></div><p>Ok. <br/>But how can I then change the config file?<br/>because I usually use: nano /etc/igmpproxy.conf</p></blockquote></div><p>nano /etc/config/igmpproxy&nbsp; ?????</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169063">
				<div class="post-metadata">
					<div class="post-num">Post #211</div>
					<div class="post-author">Jas_4</div>
					<div class="post-datetime">
						4 Jun 2012, 17:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Jas_4 wrote:</cite><blockquote><div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Yes, the trunk version oof igmp proxy uses /etc/config/igmpproxy instead of a plain config file.</p></blockquote></div><p>Ok. <br/>But how can I then change the config file?<br/>because I usually use: nano /etc/igmpproxy.conf</p></blockquote></div><p>nano /etc/config/igmpproxy&nbsp; ?????</p></blockquote></div><p>thanks for everything<br/>I got it working now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169780">
				<div class="post-metadata">
					<div class="post-num">Post #212</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						12 Jun 2012, 04:34					</div>
				</div>
				<div class="post-content content">
					<p>Am I the only one that thinks the latest build run slow?<br/>slow trunk-r32165-2012-06-10<br/>fast trunk-r32125-2012-06-07</p><p>I noticed there are huge commits recently, so maybe things will smooth out in a few days.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169781">
				<div class="post-metadata">
					<div class="post-num">Post #213</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						12 Jun 2012, 04:44					</div>
				</div>
				<div class="post-content content">
					<p>@hynman FYI on our PPTP conversation - the latest trunk / packages (32197 onwards) drop support for the user-mode PPTP and re-instate it as a kernel mode PPP extension.&nbsp; I think you&#039;ll need to revisit the changes you made to your config if you want to still include it (I&#039;m trying a build now with 32233 so I&#039;ll PM you if anything weird happens)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169792">
				<div class="post-metadata">
					<div class="post-num">Post #214</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						12 Jun 2012, 09:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnthomas00 wrote:</cite><blockquote><p>Am I the only one that thinks the latest build run slow?<br/>slow trunk-r32165-2012-06-10<br/>fast trunk-r32125-2012-06-07</p><p>I noticed there are huge commits recently, so maybe things will smooth out in a few days.</p></blockquote></div><p>Both of those have run normally for me. </p><div class="quotebox"><cite>Dickie wrote:</cite><blockquote><p>@hynman FYI on our PPTP conversation - the latest trunk / packages (32197 onwards) drop support for the user-mode PPTP and re-instate it as a kernel mode PPP extension.&nbsp; I think you&#039;ll need to revisit the changes you made to your config if you want to still include it (I&#039;m trying a build now with 32233 so I&#039;ll PM you if anything weird happens)</p></blockquote></div><p>I didn&#039;t publish my yesterday&#039;s build, as Luci still had dependency on the old user-mode pptp. Jow seems to have corrected that last night (<a href="http://luci.subsignal.org/trac/changeset/8703">http://luci.subsignal.org/trac/changeset/8703</a>), so probably I will build today if everything else is smooth.</p><p>The added dependency checks for the build process are causing some modules to break at compilation. Collectd/luci statistics already got fixed yesterday and it looks like tons of other modules have their dependencies corrected.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169861">
				<div class="post-metadata">
					<div class="post-num">Post #215</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						12 Jun 2012, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>Ok - 32233 all up and running.&nbsp; Using your base config everything looks ok with the exception of resolveip (I&#039;m guessing a missing dependency from the switch over).&nbsp; Either install it manually afterwards or explicitly select in the menuconfig and works perfectly so far.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169862">
				<div class="post-metadata">
					<div class="post-num">Post #216</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						12 Jun 2012, 23:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Dickie wrote:</cite><blockquote><p>Ok - 32233 all up and running.&nbsp; Using your base config everything looks ok with the exception of resolveip (I&#039;m guessing a missing dependency from the switch over).&nbsp; Either install it manually afterwards or explicitly select in the menuconfig and works perfectly so far.</p></blockquote></div><p>That is interesting, as I thought that jow removed that module by purpose. Do you think that &#039;resolveip&#039; is needed in the new config?</p><p>I actually already built a new version, using the following .config template, but I have not yet uploaded it for general usage.<br/></p><div class="codebox"><pre><code># Use &quot;make defconfig&quot; to expand this to a full .config
CONFIG_TARGET_ar71xx=y
CONFIG_TARGET_ar71xx_generic_WNDR3700=y
CONFIG_PACKAGE_kmod-leds-wndr3700-usb=y
CONFIG_BUSYBOX_CONFIG_DIFF=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LESS_FLAGS=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LESS_REGEXP=y
CONFIG_BUSYBOX_CONFIG_FEATURE_LESS_WINCH=y
CONFIG_PACKAGE_uhttpd-mod-tls_openssl=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_ccrypt=y
CONFIG_PACKAGE_haveged=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_vsftpd=y

# USB device mount
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_kmod-fs-ext2=y
CONFIG_PACKAGE_kmod-fs-ext3=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-msdos=y
CONFIG_PACKAGE_kmod-fs-ntfs=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-nls-cp1250=y
CONFIG_PACKAGE_kmod-nls-cp437=y
CONFIG_PACKAGE_kmod-nls-cp850=y
CONFIG_PACKAGE_kmod-nls-iso8859-1=y
CONFIG_PACKAGE_kmod-nls-iso8859-15=y
CONFIG_PACKAGE_kmod-nls-utf8=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_mount-utils=y

# IPv6 support
CONFIG_BUSYBOX_CONFIG_TRACEROUTE6=y
CONFIG_PACKAGE_aiccu=y
CONFIG_PACKAGE_ip6tables=y
CONFIG_PACKAGE_luci-proto-6x4=y

# WLAN/WPS support
CONFIG_PACKAGE_hostapd-utils=y
CONFIG_WPA_SUPPLICANT_INTERNAL=y
CONFIG_WPA_MSG_MIN_PRIORITY=4
CONFIG_PACKAGE_wpad=y
# CONFIG_PACKAGE_wpad-mini is not set
CONFIG_ATH_USER_REGD=y

# Luci
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_luci-app-diag-devinfo=y
CONFIG_PACKAGE_luci-app-qos=y
CONFIG_PACKAGE_luci-app-radvd=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-wol=y

# Luci statistics
CONFIG_PACKAGE_luci-app-statistics=y
CONFIG_PACKAGE_collectd-mod-conntrack=y
CONFIG_PACKAGE_collectd-mod-cpu=y
CONFIG_PACKAGE_collectd-mod-dns=y
CONFIG_PACKAGE_collectd-mod-memory=y
CONFIG_PACKAGE_collectd-mod-network=y
CONFIG_PACKAGE_collectd-mod-ping=y

# 3G USB dongle
CONFIG_PACKAGE_luci-proto-3g=y
CONFIG_PACKAGE_kmod-usb-serial-option=y
CONFIG_PACKAGE_kmod-usb-sierrawireless-directip=y

# PPTP support
CONFIG_PACKAGE_luci-proto-ppp=y
CONFIG_PACKAGE_ppp-mod-pptp=y</code></pre></div><p>EDIT: now that you said it, it looks like there is a missing dependency.<br/>The new scripts still use the resolveip command, but the package is not automatically built along pptp.<br/>I am going to write a ticket for that. ... wrote already: <a href="https://dev.openwrt.org/ticket/11668">https://dev.openwrt.org/ticket/11668</a></p><p>EDIT2: ...and jow fixed the thing while I was writing the ticket: <a href="https://dev.openwrt.org/changeset/32269">https://dev.openwrt.org/changeset/32269</a>&nbsp; ;-)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 13 Jun 2012, 00:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169939">
				<div class="post-metadata">
					<div class="post-num">Post #217</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						13 Jun 2012, 22:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>EDIT2: ...and jow fixed the thing while I was writing the ticket: <a href="https://dev.openwrt.org/changeset/32269">https://dev.openwrt.org/changeset/32269</a>&nbsp; ;-)</p></blockquote></div><p>Wow - things happen fast around here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170006">
				<div class="post-metadata">
					<div class="post-num">Post #218</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						14 Jun 2012, 16:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>In the trunk version, the new QoS logic, CoDel, seems to work quite nicely. It replaced the old logic two weeks ago.</p></blockquote></div><p>I&#039;m experimenting with QoS and wondering if there is a way to define a bidirectional rule. From looking at the UCI code and the wiki, it appears to me that the rules are unidirectional - specifying only a source or dest address and/or port. Is there a better way than the following if I want to prioritize flows to and from a given host range? </p><div class="codebox"><pre><code>config classify
        option target &#039;Express&#039;
        option ports &#039;443&#039;
        option proto &#039;tcp&#039;
        option dsthost &#039;XX.YY.0.0/16&#039;

config classify
        option proto &#039;tcp&#039;
        option ports &#039;443&#039;
        option target &#039;Express&#039;
        option srchost &#039;XX.YY.0.0/16&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170007">
				<div class="post-metadata">
					<div class="post-num">Post #219</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						14 Jun 2012, 16:27					</div>
				</div>
				<div class="post-content content">
					<p>To be honest, I am not quite sure how much the new codel logic takes the different queues into account.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170105">
				<div class="post-metadata">
					<div class="post-num">Post #220</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						16 Jun 2012, 04:25					</div>
				</div>
				<div class="post-content content">
					<p>Do I still need to enable RADVD with these recent IPv6 builds? The network-&gt;Interface-&gt;LAN settings now have checkboxes for &quot;Accept router advertisements&quot; and &quot;Send router solicitations&quot;. How do those interact with radvd?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170113">
				<div class="post-metadata">
					<div class="post-num">Post #221</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Jun 2012, 10:25					</div>
				</div>
				<div class="post-content content">
					<p>I am not sure, but I think that radvd is still needed. (If radvd is stopped, my PC doesn&#039;t get a proper IPv6 address.)</p><p>Those options got introduced over a year ago with <a href="https://dev.openwrt.org/changeset/25454">https://dev.openwrt.org/changeset/25454</a> to trunk/package/base-files/files/etc/hotplug.d/iface/10-routes , but that file has since then disappeared and has been replaced with <a href="https://dev.openwrt.org/browser/trunk/package/netifd/files/etc/hotplug.d/iface/10-sysctl">https://dev.openwrt.org/browser/trunk/package/netifd/files/etc/hotplug.d/iface/10-sysctl</a> . The options seems to actually map into Linux kernel sysctl options net.ipv6.conf.$DEVICE.&quot;accept_ra&quot; and .&quot;forwarding&quot;. Those are explained here: <a href="http://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt">http://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Jun 2012, 10:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170157">
				<div class="post-metadata">
					<div class="post-num">Post #222</div>
					<div class="post-author">tt</div>
					<div class="post-datetime">
						16 Jun 2012, 20:21					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;ll experiment further. So far things seem to work with or without radvd from various systems on my network.</p><p>On the radvd configuration page, which services do you enable? I assume the Interfaces-&gt;LAN checkbox is advisable, but what about Prefixes, Routes, RDNSS and DNSSL? All optional depending on client population?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170208">
				<div class="post-metadata">
					<div class="post-num">Post #223</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						18 Jun 2012, 03:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>EDIT2: ...and jow fixed the thing while I was writing the ticket: <a href="https://dev.openwrt.org/changeset/32269">https://dev.openwrt.org/changeset/32269</a>&nbsp; ;-)</p></blockquote></div><p>Do you know if theres an easy way to change the interface order on startup?&nbsp; The new kernel mode PPTP is great , but it tries to bring it up on boot before the external interface is up (so obviously it fails), so am trying to think how to delay the interface so that it starts on boot, but not until Eth1 is up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170240">
				<div class="post-metadata">
					<div class="post-num">Post #224</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						18 Jun 2012, 10:04					</div>
				</div>
				<div class="post-content content">
					<p>Do you use a symbolic server name? If yes, please temporarely try with IP and see if it works then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170313">
				<div class="post-metadata">
					<div class="post-num">Post #225</div>
					<div class="post-author">Dickie</div>
					<div class="post-datetime">
						18 Jun 2012, 22:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Do you use a symbolic server name? If yes, please temporarely try with IP and see if it works then.</p></blockquote></div><p>I&#039;ll try that when I get back later - but if the ETH1 is still down, won&#039;t it just fail anyway? <br/>Does the kernel PPTP mode retry for a number of attempts &#039;under the hood&#039;? If so I guess we can just increase the retry count to cover until boot time.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 9 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=11.html">11</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>