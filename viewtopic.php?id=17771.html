<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ASUS WL-500W + OpenWRT r13287 + kernel 2.6.27.4</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p76810">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">advance38</div>
					<div class="post-datetime">
						20 Nov 2008, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve built an OpenWRT image for ASUS WL-500W(brcm47xx, Broadcom b43 Wi-Fi interface), from r13287, kernel 2.6.27.4, compat-wireless-2008-11-03, hostapd 0.6.5. After flashing it, kernel can recognize its wi-fi interface, I can see that by ifconfig and iwconfig.</p><p>However, when I set the interface as master mode and active it, it does not work. &#039;dmesg&#039; shows like this:</p><div class="codebox"><pre><code>b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0 ERROR: IEEE 802.11n devices are not supported, yet.
b43-phy0 debug: Chip initialized
b43-phy0 debug: 64-bit DMA initialized
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::assoc
Registered led device: b43-phy0::radio
b43-phy0 debug: Wireless interface started
b43-phy0 debug: Adding Interface type 2
b43-phy0: Radio turned on by software
device wlan0 entered promiscuous mode
b43-phy0: Radio hardware status changed to DISABLED
b43-phy0 debug: Removing Interface type 2
b43-phy0 debug: Wireless interface stopped
b43-phy0 debug: DMA-64 rx_ring: Used slots 0/64, Failed frames 0/0 = 0.0%, Avera
b43-phy0 ERROR: DMA RX reset timed out
b43-phy0 debug: DMA-64 tx_ring_AC_BK: Used slots 0/128, Failed frames 0/0 = 0.0%
b43-phy0 debug: DMA-64 tx_ring_AC_BE: Used slots 0/128, Failed frames 0/0 = 0.0%
b43-phy0 debug: DMA-64 tx_ring_AC_VI: Used slots 0/128, Failed frames 0/0 = 0.0%
b43-phy0 debug: DMA-64 tx_ring_AC_VO: Used slots 0/128, Failed frames 0/0 = 0.0%
br-lan: port 2(wlan0) entering disabled state
input: b43-phy0 as /devices/virtual/input/input1
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0 ERROR: IEEE 802.11n devices are not supported, yet.
b43-phy0 debug: Chip initialized
b43-phy0 debug: 64-bit DMA initialized
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::assoc
Registered led device: b43-phy0::radio
b43-phy0 debug: Wireless interface started
b43-phy0 debug: Adding Interface type 2
device wlan0 left promiscuous mode
br-lan: port 2(wlan0) entering disabled state
device wlan0 entered promiscuous mode
b43-phy0: Radio hardware status changed to DISABLED
b43-phy0 debug: Removing Interface type 2
b43-phy0 debug: Wireless interface stopped
b43-phy0 debug: DMA-64 rx_ring: Used slots 0/64, Failed frames 0/0 = 0.0%, Avera
b43-phy0 ERROR: DMA RX reset timed out
b43-phy0 debug: DMA-64 tx_ring_AC_BK: Used slots 0/128, Failed frames 0/0 = 0.0%
br-lan: port 2(wlan0) entering disabled state
input: b43-phy0 as /devices/virtual/input/input2
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0 ERROR: IEEE 802.11n devices are not supported, yet.
b43-phy0 debug: Chip initialized
b43-phy0 debug: 64-bit DMA initialized
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::assoc
Registered led device: b43-phy0::radio
b43-phy0 debug: Wireless interface started
b43-phy0 debug: Adding Interface type 3
br-lan: topology change detected, propagating
br-lan: port 2(wlan0) entering forwarding state
b43-phy0 debug: Set beacon interval to 100
b43-phy0 debug: Set beacon interval to 100
b43-phy0 debug: Updated beacon template at 0x68
b43-phy0 debug: Updated beacon template at 0x468
b43-phy0 debug: Updated beacon template at 0x468
b43-phy0 debug: Set beacon interval to 100
b43-phy0 debug: Updated beacon template at 0x68
b43-phy0: Radio hardware status changed to DISABLED</code></pre></div><p>Any idea how I can get it working?</p>											<p class="post-edited">(Last edited by <strong>advance38</strong> on 20 Nov 2008, 20:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76853">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">crazyquark</div>
					<div class="post-datetime">
						21 Nov 2008, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>Has OpenWRT ever worked for you? With WiFi I mean. Your device has 802.11n wifi chip which is not officially supported by OpenWrt. Correct me if I am wrong.<br />And that&#039;s what the log is saying as well:<br />&quot;b43-phy0 ERROR: IEEE 802.11n devices are not supported, yet.&quot;</p>											<p class="post-edited">(Last edited by <strong>crazyquark</strong> on 21 Nov 2008, 16:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76871">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">advance38</div>
					<div class="post-datetime">
						21 Nov 2008, 22:18					</div>
				</div>
				<div class="post-content content">
					<p>No, this device has never worked for OpenWRT on kernel 2.6.x. I know this is really a well-known topic in the OpenWRT community, but I tried once again with the newest revision of OpenWRT, because I really want to get it working.</p><p>Even if 802.11n funtionalities are not supported, basic 802.11b/g functionalities should work, doesn&#039;t it? As I looked into the compat-wireless source codes, the 802.11n error messages do not seem to be a critical reason. I think the most serious part is the radio hardware changing always to DISABLED state.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>