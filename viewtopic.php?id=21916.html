<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to enable WME at boot time</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p94910">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">legendbb</div>
					<div class="post-datetime">
						24 Sep 2009, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi, Guys,</p><p>I can toggle WME mode ON/OFF at run time by using $wl wme 1/0/-1, but as long as I switch up/down my wl0, I will lose my wireless connection to the AP. Don&#039;t know how to get connection again other than reboot.</p><p>So I&#039;ll need to set WME=ON at boot time.<br />Followed: <a href="http://wiki.openwrt.org/oldwiki/wmehowto">http://wiki.openwrt.org/oldwiki/wmehowto</a><br />But it won&#039;t work for me, </p><p>The next thing I did is directly set the NVRAM.<br />$nvram set wl0_wme=&quot;on&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;##sure I just assume wl0_wme is same to wl wme 1. (but after reboot, wl0_wme=&quot;on&quot;, the wl wme still shows -1</p><p>What I did wrong, please suggest.</p><p>Thanks,</p>											<p class="post-edited">(Last edited by <strong>legendbb</strong> on 24 Sep 2009, 18:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94911">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						24 Sep 2009, 18:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Configuration support for wmm/wme has been added recently, see <a href="https://dev.openwrt.org/changeset/17676/trunk/package/broadcom-wl/files/lib/wifi/broadcom.sh">https://dev.openwrt.org/changeset/17676 … roadcom.sh</a> .<br />You can download the script using the following url: <a href="https://dev.openwrt.org/export/17676/trunk/package/broadcom-wl/files/lib/wifi/broadcom.sh">https://dev.openwrt.org/export/17676/tr … roadcom.sh</a> - copy to your router and replace the existing /lib/wifi/broadcom.sh file with it.</p><p>After the script was updated, you can add &quot;option wmm 1&quot; to the wifi-iface section in /etc/config/wireless which will enable wme at boot time.</p><p>Regards,<br />JoW</p>											<p class="post-edited">(Last edited by <strong>jow</strong> on 24 Sep 2009, 18:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94912">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Dogge</div>
					<div class="post-datetime">
						24 Sep 2009, 19:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>After the script was updated, you can add &quot;option wmm 1&quot; to the wifi-iface section in /etc/config/wireless which will enable wme at boot time.</p></blockquote></div><p>The UCI CLI way:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# uci set wireless.@wifi-iface[0].wmm=1
root@OpenWrt:~# uci commit wireless
root@OpenWrt:~# reboot</code></pre></div>											<p class="post-edited">(Last edited by <strong>Dogge</strong> on 24 Sep 2009, 19:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94924">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">legendbb</div>
					<div class="post-datetime">
						24 Sep 2009, 21:40					</div>
				</div>
				<div class="post-content content">
					<p>It works, thank you very much for all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95151">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tiendunn732</div>
					<div class="post-datetime">
						1 Oct 2009, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>Oh nice! I&#039;ve been looking for the script.. thanks!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>