<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Newbie assistance please - using my 3G connection on the wifi</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p158016">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">johnjm</div>
					<div class="post-datetime">
						19 Feb 2012, 21:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi there</p><p>I have a tp-link 703n that I have managed to install openwrt and luci. I eventually got my 3G USB dongle to connect. However, when I connect my laptop to the wifi of the router, it does not have internet connection - even though the 3G connection is up and running. </p><p>I know it must be a network configuration issue but for the life of me Im unsure how to do it.</p><p>I currently have two network interfaces set up<br />WAN<br />- this is my 3G connection<br />LAN<br />here the ethernet port and the wifi is bridged<br />It is set up as a static IP 192.168.1.1</p><p>Im not sure what I am missing.... help appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158066">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						20 Feb 2012, 11:21					</div>
				</div>
				<div class="post-content content">
					<p>Execute &quot;uci export network ; uci export wireless&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158089">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">johnjm</div>
					<div class="post-datetime">
						20 Feb 2012, 17:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fyi wrote:</cite><blockquote><p>Execute &quot;uci export network ; uci export wireless&quot;.</p></blockquote></div><p>Here it is</p><p>package &#039;network&#039;</p><p>config &#039;interface&#039; &#039;loopback&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;lo&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;_orig_ifname&#039; &#039;eth0 wlan0&#039;<br />&nbsp; &nbsp; option &#039;_orig_bridge&#039; &#039;true&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0&#039;</p><p>config &#039;interface&#039; &#039;WAN&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;ppp0&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;3g&#039;<br />&nbsp; &nbsp; option &#039;service&#039; &#039;umts&#039;<br />&nbsp; &nbsp; option &#039;apn&#039; &#039;internet&#039;<br />&nbsp; &nbsp; option &#039;pincode&#039; &#039;8812&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;device&#039; &#039;/dev/ttyUSB0&#039;</p><p>package &#039;wireless&#039;</p><p>config &#039;wifi-device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;mac80211&#039;<br />&nbsp; &nbsp; option &#039;channel&#039; &#039;11&#039;<br />&nbsp; &nbsp; option &#039;macaddr&#039; &#039;14:e6:e4:e7:41:00&#039;<br />&nbsp; &nbsp; option &#039;hwmode&#039; &#039;11ng&#039;<br />&nbsp; &nbsp; option &#039;htmode&#039; &#039;HT20&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;SHORT-GI-20&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;SHORT-GI-40&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;RX-STBC1&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;DSSS_CCK-40&#039;<br />&nbsp; &nbsp; option &#039;txpower&#039; &#039;27&#039;<br />&nbsp; &nbsp; option &#039;country&#039; &#039;US&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; option &#039;device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; option &#039;mode&#039; &#039;ap&#039;<br />&nbsp; &nbsp; option &#039;encryption&#039; &#039;none&#039;<br />&nbsp; &nbsp; option &#039;ssid&#039; &#039;JJM_TP&#039;<br />&nbsp; &nbsp; option &#039;network&#039; &#039;lan&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158095">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">johnjm</div>
					<div class="post-datetime">
						20 Feb 2012, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>I ticked something in Luci and now it is working <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>My config files now look like this:</p><p>config &#039;interface&#039; &#039;loopback&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;lo&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.0.0.0&#039;</p><p>config &#039;interface&#039; &#039;lan&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;_orig_ifname&#039; &#039;eth0 wlan0&#039;<br />&nbsp; &nbsp; option &#039;_orig_bridge&#039; &#039;true&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;static&#039;<br />&nbsp; &nbsp; option &#039;ipaddr&#039; &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; option &#039;netmask&#039; &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth0&#039;</p><p>config &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;3g&#039;<br />&nbsp; &nbsp; option &#039;service&#039; &#039;umts&#039;<br />&nbsp; &nbsp; option &#039;apn&#039; &#039;internet&#039;<br />&nbsp; &nbsp; option &#039;pincode&#039; &#039;8812&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;bridge&#039;<br />&nbsp; &nbsp; option &#039;device&#039; &#039;/dev/ttyUSB0&#039;</p><p>package &#039;wireless&#039;</p><p>config &#039;wifi-device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; option &#039;type&#039; &#039;mac80211&#039;<br />&nbsp; &nbsp; option &#039;channel&#039; &#039;11&#039;<br />&nbsp; &nbsp; option &#039;macaddr&#039; &#039;14:e6:e4:e7:41:00&#039;<br />&nbsp; &nbsp; option &#039;hwmode&#039; &#039;11ng&#039;<br />&nbsp; &nbsp; option &#039;htmode&#039; &#039;HT20&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;SHORT-GI-20&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;SHORT-GI-40&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;RX-STBC1&#039;<br />&nbsp; &nbsp; list &#039;ht_capab&#039; &#039;DSSS_CCK-40&#039;<br />&nbsp; &nbsp; option &#039;txpower&#039; &#039;27&#039;<br />&nbsp; &nbsp; option &#039;country&#039; &#039;US&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; option &#039;device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; option &#039;mode&#039; &#039;ap&#039;<br />&nbsp; &nbsp; option &#039;encryption&#039; &#039;none&#039;<br />&nbsp; &nbsp; option &#039;ssid&#039; &#039;JJM_TP&#039;<br />&nbsp; &nbsp; option &#039;network&#039; &#039;lan&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158096">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">johnjm</div>
					<div class="post-datetime">
						20 Feb 2012, 18:29					</div>
				</div>
				<div class="post-content content">
					<p>I wonder, is it possible to seperate the lan from the wifi (IE disconnect the bridge). </p><p>I want to do this so that I can plug the router into a thernet cable at work and broadcast it via wifi to connect my phone onto the work network?</p><p>However I would like to do this without the need to change settings etc - is it possible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158114">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						20 Feb 2012, 21:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>3g -&gt; virtual ap with ssid1<br />eth0 -&gt; virtual ap with ssid2</p></blockquote></div><p>You have to modify network, wireless, firewall and dhcp under /etc/config.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158154">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">johnjm</div>
					<div class="post-datetime">
						21 Feb 2012, 06:11					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, I&#039;ll backup the current setup just in case</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>