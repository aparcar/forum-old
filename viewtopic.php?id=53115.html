<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Reboot via SSH or router homepage causes all settings to be lost</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p249187">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">aunsoenr</div>
					<div class="post-datetime">
						5 Oct 2014, 01:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I just picked up a TP-link WDR-3600 router.&nbsp; I am new to OpenWRT but have played with a Raspberry PI, so am not completely useless.</p><p>On my PI, I had set up a samba share, minidlna, transmission-daemon, and XBMC.&nbsp; I found the PI unstable with all those tasks, so I though I should buy a router for everything except XBMC, and just get rid of mini-dlna.</p><p>I notice anytime I reboot my router all the settings (wifi settings, password, packages installed etc) are lost and I have to set a new password (via SSH reboot or webUI reboot).&nbsp; Anyone know how I can prevent my settings from being lost?</p><p>Thanks,</p>											<p class="post-edited">(Last edited by <strong>aunsoenr</strong> on 5 Oct 2014, 01:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249217">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Oct 2014, 07:24					</div>
				</div>
				<div class="post-content content">
					<p>which file did you flash?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249219">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">aunsoenr</div>
					<div class="post-datetime">
						5 Oct 2014, 08:03					</div>
				</div>
				<div class="post-content content">
					<p>tl-wdr3600-webflash.bin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249220">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Oct 2014, 08:39					</div>
				</div>
				<div class="post-content content">
					<p>where did you get it? that&#039;s not a typical filename for an openwrt build. </p><p>try this: <a href="https://downloads.openwrt.org/barrier_breaker/14.07-rc3/ar71xx/generic/openwrt-ar71xx-generic-tl-wdr3600-v1-squashfs-factory.bin">https://downloads.openwrt.org/barrier_b â€¦ actory.bin</a></p><p>My guess is that the file you have is a sysupgrade style firmware, which is only for upgrading an existing openwrt install, resulting in the flash partition where settings are stored not being totally functional. You need a &quot;factory&quot; style flash to fix this most likely, which is used for the initial flash from stock to openwrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249221">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Oct 2014, 08:44					</div>
				</div>
				<div class="post-content content">
					<p>a quick google search suggests that&#039;s a dd-wrt file. if trying to go from dd-wrt-&gt;openwrt, you *might* need to revert to stock, but don&#039;t quote me on that. There are some quirks to get TP-Link routers back to stock.</p><p>i also re-read your first post - these routers really don&#039;t have a ton of CPU power. You&#039;re better off running all the non-routing stuff on your RPi, a pogoplug or similar. OpenWrt can do it, but there are better hardware options IMO.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249284">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">aunsoenr</div>
					<div class="post-datetime">
						5 Oct 2014, 19:15					</div>
				</div>
				<div class="post-content content">
					<p>sorry, originally i went with: <br />openwrt-ar71xx-generic-tl-wdr3600-v1-squashfs-sysupgrade.bin</p><p>afterwards I flashed the dd-wrt file out of frustration.&nbsp; Samba seems to be running a lot faster and reliably on this device vs raspberry PI.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249298">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Oct 2014, 20:55					</div>
				</div>
				<div class="post-content content">
					<p>you need openwrt-ar71xx-generic-tl-wdr3600-v1-squashfs-<strong>factory</strong>.bin for the initial flash. I&#039;m guessing the partition where settings are saved didn&#039;t get initialized properly, which is done with the &quot;factory&quot; file.</p><p>OpenWrt is definitely much better than DD-WRT on Atheros hardware, although it is more barebones to start.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249305">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">aunsoenr</div>
					<div class="post-datetime">
						5 Oct 2014, 21:35					</div>
				</div>
				<div class="post-content content">
					<p>ok I am going to revert dd-wrt back to factory, then install openwrt-ar71xx-generic-tl-wdr3600-v1-squashfs-factory.bin</p>											<p class="post-edited">(Last edited by <strong>aunsoenr</strong> on 5 Oct 2014, 21:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249318">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">aunsoenr</div>
					<div class="post-datetime">
						6 Oct 2014, 00:38					</div>
				</div>
				<div class="post-content content">
					<p>problem solved</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249322">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						6 Oct 2014, 01:47					</div>
				</div>
				<div class="post-content content">
					<p>great! enjoy!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>