<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> davidc502 1900ac 3200acm builds</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 25 of 229</div><nav><ul><li><a href="viewtopic.php%3Fid=64949&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=23.html">23</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=24.html">24</a></li><li class="pagination-current"><span>25</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=26.html">26</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=27.html">27</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=229.html">229</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p345364">
				<div class="post-metadata">
					<div class="post-num">Post #601</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						1 Dec 2016, 01:14					</div>
				</div>
				<div class="post-content content">
					<p>@johndoe</p><p>I put in a bug report for wifi yesterday, and am currently re-compiling a new image that should take care of the wifi problem.&nbsp; </p><p>More to come -- thanks</p><p>**EDIT**</p><p>The latest download included new wifi drivers that seemed to have an issue with kernel 4.4.32. I&#039;m now compiling with kernel 4.4.35 which the driver supposedly gets along with.</p>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 1 Dec 2016, 01:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345368">
				<div class="post-metadata">
					<div class="post-num">Post #602</div>
					<div class="post-author">cybrnook2002</div>
					<div class="post-datetime">
						1 Dec 2016, 02:16					</div>
				</div>
				<div class="post-content content">
					<p>Fingers crossed it gets good feedback</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345377">
				<div class="post-metadata">
					<div class="post-num">Post #603</div>
					<div class="post-author">bill1228</div>
					<div class="post-datetime">
						1 Dec 2016, 06:01					</div>
				</div>
				<div class="post-content content">
					<p>@david<br />Thanks for all your efforts to give us the best firmware for our wrt1x00acx routers. Good luck with the testing. </p><p>--bill</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345448">
				<div class="post-metadata">
					<div class="post-num">Post #604</div>
					<div class="post-author">cybrnook2002</div>
					<div class="post-datetime">
						2 Dec 2016, 03:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>@johndoe</p><p>I put in a bug report for wifi yesterday, and am currently re-compiling a new image that should take care of the wifi problem.&nbsp; </p><p>More to come -- thanks</p><p>**EDIT**</p><p>The latest download included new wifi drivers that seemed to have an issue with kernel 4.4.32. I&#039;m now compiling with kernel 4.4.35 which the driver supposedly gets along with.</p></blockquote></div><p>What&#039;s the good word boss? Any luck with the newer Kernel, or not as you had hoped?</p><br /><p>On a side note, have you tried playing with &quot;cake&quot; SQM on your ACS?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345449">
				<div class="post-metadata">
					<div class="post-num">Post #605</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						2 Dec 2016, 04:50					</div>
				</div>
				<div class="post-content content">
					<p>@cybrnook2002</p><p>Actually, the new build will be &#039;building&#039; tonight and into the morning, so I should be able to start trying it out some time tomorrow.&nbsp; In the meantime I fell back to r2221 which is rock solid. </p><p>Haven&#039;t played around with cake sqm yet. Maybe I&#039;m wrong in my thinking, but didn&#039;t think it would really help out since I&#039;m fortunate enough to have a fiber connection. It&#039;s supper low latency, and handles pretty much what I throw at it. Originally, I had a 1 gig connection, but downgraded to 100mbps after realizing it was a bit more than I needed <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345452">
				<div class="post-metadata">
					<div class="post-num">Post #606</div>
					<div class="post-author">cybrnook2002</div>
					<div class="post-datetime">
						2 Dec 2016, 06:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>1. I recommend Ubuntu Distro running on a machine. Yes, a VM Guest running Ubuntu runs just fine to compile images<br />2. Install the following packages on installed Ubuntu - gcc, binutils, bzip2, flex, python, perl, make,<br />find, grep, diff, unzip, gawk, getopt, subversion, libz-dev and libc headers.</p><p>It&#039;s been a while since I&#039;ve done step 2, but there may be a package or 2 in the list that will take a little doing to find. Take your time and you should be able to find it through a little research.</p><p>3. Get the lede code -- Create a folder and call it lede. Next, In command line, cd to that folder and run the following commands.<br />a. git clone <a href="https://git.lede-project.org/source.git">https://git.lede-project.org/source.git</a><br />b. cd source<br />c. ./scripts/feeds update -all<br />d. ./scripts/feeds install -all <br />e. make menuconfig</p><p>If all of the prerequisites have been installed properly from step 2, the &quot;make menuconfig&quot; will invoke the Lede Configuration menu.</p><p>It will take a couple of minutes, but read how to use the arrow keys and &quot;hotkeys&quot;.</p><p>1. Choose Target System = Marvell Armada 37x/38x/XP<br />2. Choose Target Profile = Choose the Image you want to create (Cobra) (Caiman) (Shelby) (Mamba).</p><p>Then save and that will bring you back to a command prompt.</p><p>Then run the command make V=s</p><p>From there it will start compiling minimum options, but will be good place to start to see if it will compile completely. After it&#039;s finished compiling, just check the /source/bin/targets directory for your compiled image. </p><p>Start out doing that and see if it works for you.</p><p>P.S.&nbsp; If you want to, in the LEDE Configuration menu scroll down to LuCi and choose it so you have a Gui to log into.</p></blockquote></div><p>Just wanted to add, this is a great post.</p><p>I stood up a VM this evening on Ubuntu 16.04.1, and of course the package list was a little different. - most of the other packages come by default</p><p>I was able to just use the base build-essential and some *-dev packages (and of course git hehe) </p><p>I am currently compiling from your little guide :-) </p><p>Few gotchas, like:<br />- don&#039;t run as root :-) (bad habit of mine)<br />- ./scripts/feeds update -all&nbsp; &nbsp;( is actually -a, not -all)<br />- ./scripts/feeds install -all&nbsp; &nbsp; &nbsp;( is actually -a, not -all)<br />and likely a few others....</p><p>but I am getting there. My next questions will be about picking and choosing commit to build off of / Kernels / Drivers / and of course &quot;Packages&quot; etc.... but I can research on my own as well. Just wanted to say thanks!</p><p>I assume since this is all scripted and serial, we are favoring cpu speed per core and not the amount of cores..... At least that&#039;s what I am seeing, just watching the process jump from core to core shooting to %98. (but only ever over one core)</p><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>@cybrnook2002</p><p>Actually, the new build will be &#039;building&#039; tonight and into the morning, so I should be able to start trying it out some time tomorrow.&nbsp; In the meantime I fell back to r2221 which is rock solid. </p><p>Haven&#039;t played around with cake sqm yet. Maybe I&#039;m wrong in my thinking, but didn&#039;t think it would really help out since I&#039;m fortunate enough to have a fiber connection. It&#039;s supper low latency, and handles pretty much what I throw at it. Originally, I had a 1 gig connection, but downgraded to 100mbps after realizing it was a bit more than I needed <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>We are on a similar connection (bandwidth wise), latency may be another thing as I am still on archaic Comcast coax :-) but at 105/15 (provisioned at 125/25). However, of course I fail dslreports buffer bloat challenge, which twists my ocd..... That is the core of my venture into cake.</p><p>On a side note, I have noticed two Easter eggs in the WRT1900ACS builds:</p><p>1. the fan script for the ACv1 is still in cron (schedule). I would assume a build for the ACS would not need this. But I guess this all started with the ACv1, so it&#039;s just inherited in all the builds at this point?</p><p>2. The default interface for SQM is set to eth1. Which, I believe on the ACS should be set to eth0. So be careful if you do start to test QoS.</p>											<p class="post-edited">(Last edited by <strong>cybrnook2002</strong> on 2 Dec 2016, 20:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345453">
				<div class="post-metadata">
					<div class="post-num">Post #607</div>
					<div class="post-author">phuque99</div>
					<div class="post-datetime">
						2 Dec 2016, 07:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>@cybrnook2002<br />Haven&#039;t played around with cake sqm yet. Maybe I&#039;m wrong in my thinking, but didn&#039;t think it would really help out since I&#039;m fortunate enough to have a fiber connection. It&#039;s supper low latency, and handles pretty much what I throw at it. Originally, I had a 1 gig connection, but downgraded to 100mbps after realizing it was a bit more than I needed <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Will be interested in your results. I had the impression that SQM or QoS in general isn&#039;t required in a large 1Gbps link that will hardly be saturated all the time.</p><p>On a similar note, there were old threads discussing how OpenWRT is slower than original firmware and without &quot;hardware NAT&quot;, routing speed is sub par. It took a lot of searching for me to confirm that WRT1900AC with OpenWRT can come close to 1Gbps NAT routing speed. </p><p>Perhaps this piece of information should be more prominent.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345485">
				<div class="post-metadata">
					<div class="post-num">Post #608</div>
					<div class="post-author">physdl</div>
					<div class="post-datetime">
						2 Dec 2016, 12:43					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m looking for some help with download speeds on a new WRT1900ACSv2 I just bought. My goal is to replace my current D-Link DIR-825. Currently, I get 125/10 (wired) with the old router which is running CC15.05. Internet connection is Comcast 150/10 through a Motorola SB6120 modem.</p><p>With the D-Link, I can basically load a new version of OpenWRT on it and get that performance without changing any settings. With the new WRT1900ACS, I&#039;m having issues. I&#039;ve tried the stock firmware, DD-WRT, and (my preference) davidc502&#039;s 11/26 build of OpenWRT. With OpenWRT, I&#039;m getting about 40/10 by default. With stock firmware, I get about the same by default, but if I fiddle with the media prioritization enough I can get 135/0.02 (upload basically non-existent). I did manage to get DD-WRT up to 100/10, but then tried to install a new build and could never get it back. Local wireless/wired speed appears to be good - it&#039;s just the Internet connection (all the tests here were done through wired).</p><p>I don&#039;t understand why this router is having so many speed issues. Does anyone have any thoughts on what settings to change to increase the speed? I&#039;ve tried fiddling with QoS and SQM but that hasn&#039;t improved things much. Given that I have gotten 135 Mbps download speeds, I think the router can handle it - it&#039;s just figuring out what it needs settings-wise to get both download and upload speeds correct (preferably on OpenWRT and not stock).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345508">
				<div class="post-metadata">
					<div class="post-num">Post #609</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						2 Dec 2016, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>2 days ago, I performed speed tests to the 1900acs through NAT, and I was consistently getting 850-900mbps. I have a second router, on a different network, connected to the outside interface of the 1900acs. From there, I just connect a NAS to the 2nd router, and then connect to it from a PC behind the NAT. Downloading video files from the NAS to the PC is just like doing speed tests as if connected to a Gigabit WAN..</p><p>Besides throughput I was specifically looking at CPU utilization which maintained around 32%. The load wasn&#039;t balanced as CPU0 was doing 90% of the work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345570">
				<div class="post-metadata">
					<div class="post-num">Post #610</div>
					<div class="post-author">physdl</div>
					<div class="post-datetime">
						3 Dec 2016, 03:37					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply. I think I have a better understanding of the problem now and it&#039;s more related to uploads than downloads (and not to NAT speed at all). Specifically, there seem to be two modes of operation for the router:</p><p>1) High (probably full) downstream speed but uploads stall out after a second (and in some cases never make it through).<br />2) Low (20-30 Mbs) downstream speed but uploads are stable at 10 Mbps</p><p>It&#039;s almost always in the first mode, but I can sometimes get it into the second mode after a reboot (typically with SQM and/or QoS turned on, but I&#039;m not sure those are requirements). This is not a NAT issue as I get the same behavior happens when uploading from the router itself.</p><p>When connected via the old router, I don&#039;t think I&#039;ve ever seen the stalled uploads.</p><p>This may just be some kind of incompatibility between the router and the modem. I tried dropping the MTU to 1490 but that didn&#039;t seem to help (maybe even made it worse).</p><p>Any thoughts on anything to try besides buying a new modem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345573">
				<div class="post-metadata">
					<div class="post-num">Post #611</div>
					<div class="post-author">108</div>
					<div class="post-datetime">
						3 Dec 2016, 05:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi David</p><p>Thanks for your contribution and really liked your builds!</p><p>May I check with you if the CESA acceleration is working for you in recent builds (say r2221)? My WRT1900ACv2 is currently on r2221 and current has:<br /></p><div class="codebox"><pre><code>kmod-cryptodev    4.4.32+1.8-mvebu-2
libopenssl    1.0.2j-1</code></pre></div><p>installed from your repo, but running openssl engine gives me only:<br /></p><div class="codebox"><pre><code>root@WRT1900AC:~# openssl engine
(dynamic) Dynamic engine loading support</code></pre></div><p>dmesg yields only the following line relating to CESA:<br /></p><div class="codebox"><pre><code>[    1.208654] marvell-cesa f1090000.crypto: CESA device successfully registered</code></pre></div><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345574">
				<div class="post-metadata">
					<div class="post-num">Post #612</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						3 Dec 2016, 05:20					</div>
				</div>
				<div class="post-content content">
					<p>@shysdl</p><p>This probably isn&#039;t going to be the problem, but always check layer 1 first, so change the cable with a new short length CAT5e or CAT6. This is the cable between the modem and router. Then change out the cable from the router to the PC. It may sound like a pain, but it&#039;s worth the hassle. </p><p>Secondly, do a constant ping check to google.com. Let it run for about 5 minutes and then stop it. What you want to see if if there are dropped packets.</p>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 3 Dec 2016, 05:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345575">
				<div class="post-metadata">
					<div class="post-num">Post #613</div>
					<div class="post-author">physdl</div>
					<div class="post-datetime">
						3 Dec 2016, 05:45					</div>
				</div>
				<div class="post-content content">
					<p>@david</p><p>Thanks again for all the help! I don&#039;t think it&#039;s layer 1 - I&#039;ve tried both the cable that came with the WRT1900 and the original cable. Both are 3 feet or so. The fact that it works fine connected via the old router indicates something between the modem and the router to me. Also I&#039;m pretty sure it&#039;s not on the PC side - I get the same behavior uploading directly from the router (scp to a VPS I have) and on both wireless and wired from the PC.</p><p>I haven&#039;t tried &quot;regular&quot; pings yet. I did a bit of ping flood testing over wireless and I see a somewhat higher fraction of dropped packets with the WRT1900 vs the old router but it&#039;s just a few percent more. I don&#039;t think it&#039;s that bad. I&#039;ll try your test over the weekend as I modified the WRT1900 to be access point only for now.</p><p>To be honest, I feel like there is some kind of hardware setting that is causing these problems, likely related to QoS, combined with some weird incompatibility with my admittedly somewhat old modem. I don&#039;t think it&#039;s an OpenWRT problem - my old router running CC15.05 runs beautifully and the WRT1900 has this problem on OpenWRT, DD-WRT, and stock.</p><p>So maybe a good question: is all traffic prioritization (QoS, SQM) handled by the CPU, or does changing any of those settings modify any hardware setting? If it does, that might be the culprit for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345578">
				<div class="post-metadata">
					<div class="post-num">Post #614</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						3 Dec 2016, 06:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>108 wrote:</cite><blockquote><p>Hi David</p><p>Thanks for your contribution and really liked your builds!</p><p>May I check with you if the CESA acceleration is working for you in recent builds (say r2221)? My WRT1900ACv2 is currently on r2221 and current has:<br /></p><div class="codebox"><pre><code>kmod-cryptodev    4.4.32+1.8-mvebu-2
libopenssl    1.0.2j-1</code></pre></div><p>installed from your repo, but running openssl engine gives me only:<br /></p><div class="codebox"><pre><code>root@WRT1900AC:~# openssl engine
(dynamic) Dynamic engine loading support</code></pre></div><p>dmesg yields only the following line relating to CESA:<br /></p><div class="codebox"><pre><code>[    1.208654] marvell-cesa f1090000.crypto: CESA device successfully registered</code></pre></div><p>Thanks!</p></blockquote></div><br /><p>That is going to be a negative. I&#039;ve tried dynamic as well as crypto-dev (On earlier builds), and can&#039;t seem to download any faster than 6mbps when connecting the router as a client to a VPN server.&nbsp; The most current builds fail to load crpyto-dev, so dynamic seems to be the only choice.</p><p>Let me know if you find any patches, setting or suggestions that might help fix this issue. </p><br /><p>root@lede:~# openssl speed -evp aes128 -elapsed -engine cryptodev<br />invalid engine &quot;cryptodev&quot;<br />3069928644:error:25066067:lib(37):func(102):reason(103):NA:0:filename(/usr/lib/engines/li&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bcryptodev.so): Error loading shared library /usr/lib/engines/libcryptodev.so: No such fi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; le or directory</p><br /><p>thanks,</p>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 3 Dec 2016, 06:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345581">
				<div class="post-metadata">
					<div class="post-num">Post #615</div>
					<div class="post-author">InkblotAdmirer</div>
					<div class="post-datetime">
						3 Dec 2016, 07:16					</div>
				</div>
				<div class="post-content content">
					<p>Regarding CESA engine:</p><p>Remember, the hardware acceleration really only offloads the CPU workload.&nbsp; This isn&#039;t a core i7 crypto engine we&#039;re talking about here so you shouldn&#039;t expect ridiculous throughput.&nbsp; In reality you will get better throughput (on Shelby/Caiman/Rango) without the CESA engine because the CPUs are smoking fast.&nbsp; CPU workload goes to 100% on a single core during intense crypto, however.</p><p>In addition, for the crypto core to shine you need to pick ciphers it will accelerate, etc.&nbsp; You don&#039;t need to do anything special to get the engine to kick in, if CESA is loaded the kernel will pick the &quot;best&quot; option based on the crypto it needs to do.</p><p>Regarding 5G wifi drops:</p><p>I recently saw the same.&nbsp; I rebuilt EVERYTHING (toolchain, tools, openwrt) with the latest (as of 12/02) and there are still drops.&nbsp; Reverted to 11/27, rebuilt EVERYTHING and all is stable.&nbsp; Therefore I&#039;m reasonably sure there is a commit after this date that interacts with the driver.&nbsp; Based on updates to tools as well as base code, this may be really time consuming to bisect.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345598">
				<div class="post-metadata">
					<div class="post-num">Post #616</div>
					<div class="post-author">johndoe</div>
					<div class="post-datetime">
						3 Dec 2016, 13:00					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I tried rolling back from r2321 to r2221, but I get following message when choosing the image and clicking &quot;flash image&quot;. I unchecked &quot;keep settings&quot; before.<br /></p><div class="quotebox"><blockquote><p>The uploaded image file does not contain a supported format. Make sure that you choose the generic image format for your platform.</p></blockquote></div><p>I tried both of your files for my WRT1900ACS:<br />- lede-mvebu-linksys-wrt1900acs-squashfs-factory.img<br />- lede-mvebu-linksys-wrt1900acs-squashfs-sysupgrade.bin<br />which I got from following link: <a href="http://davidc502sis.dynamic-dns.net/mvebu/Shelby/lede_Shelby/archive/lede_Shelby_r2221.zip">http://davidc502sis.dynamic-dns.net/mve … _r2221.zip</a></p><p>Any help please?</p>											<p class="post-edited">(Last edited by <strong>johndoe</strong> on 3 Dec 2016, 13:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345599">
				<div class="post-metadata">
					<div class="post-num">Post #617</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						3 Dec 2016, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>Upgrade from ssh console using &quot;sysupgrade -F&quot; to override the image format check.</p><p>The update format verification was updated/changed in the past few weeks, so going down is a bit harder as the old images do not contain the new format ID metadata.</p><p>commits making the change:<br /><a href="https://git.lede-project.org/?p=source.git;a=commitdiff;h=9fc0bcdd18688724494e3364ec986318372129a4;hp=d596c21ebd5a3e6ce933eff3e51989031e4b1d58">https://git.lede-project.org/?p=source. … 031e4b1d58</a><br /><a href="https://git.lede-project.org/?p=source.git;a=commitdiff;h=cc853810a4aae04f1afcad3439bf9db6fc1f4852;hp=929641fa1fb23942581f64e6fa75ba87ba6111af">https://git.lede-project.org/?p=source. … 87ba6111af</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345604">
				<div class="post-metadata">
					<div class="post-num">Post #618</div>
					<div class="post-author">johndoe</div>
					<div class="post-datetime">
						3 Dec 2016, 14:36					</div>
				</div>
				<div class="post-content content">
					<p>I successfully downgraded to r2221, but I&#039;m still facing wifi problems on some channels @5GHz.</p><p>For example, with channel 52 and channel width at 80MHz, I can&#039;t connect to the assigned SSID.<br />It&#039;s working fine with channel 36 on the same settings.</p><p>Edit: Same problem with channels 100+, I tried this with 2 WRT1900ACS on factory settings.</p><p>It just shows me &quot;Birate: = ? Mbit/s&quot; on the SSID.</p><p>On one of my APs the 2,4GHz band is not coming up with channel 1 configured. I don&#039;t get what&#039;s wrong, wifi seems really broken. Everyone told r2221 is stable?</p>											<p class="post-edited">(Last edited by <strong>johndoe</strong> on 3 Dec 2016, 16:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345616">
				<div class="post-metadata">
					<div class="post-num">Post #619</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						3 Dec 2016, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>If you want to hang on, I&#039;ll be posting new images this evening.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345617">
				<div class="post-metadata">
					<div class="post-num">Post #620</div>
					<div class="post-author">johndoe</div>
					<div class="post-datetime">
						3 Dec 2016, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>Just did set up everything <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> - But I&#039;ll test them tonight, since I had a great experience with one of your old images (never change a running system, heh).</p>											<p class="post-edited">(Last edited by <strong>johndoe</strong> on 3 Dec 2016, 16:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345636">
				<div class="post-metadata">
					<div class="post-num">Post #621</div>
					<div class="post-author">Redferne</div>
					<div class="post-datetime">
						3 Dec 2016, 18:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>physdl wrote:</cite><blockquote><p>@david</p><p>Thanks again for all the help! I don&#039;t think it&#039;s layer 1 - I&#039;ve tried both the cable that came with the WRT1900 and the original cable. Both are 3 feet or so.</p></blockquote></div><p>You might wanna doublecheck that both modem and router are using 1000mbit/full duplex on their interfaces. Had this issue once and it turned out to be a problem with auto negotiation.</p><p>///Rickard</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345654">
				<div class="post-metadata">
					<div class="post-num">Post #622</div>
					<div class="post-author">pyther</div>
					<div class="post-datetime">
						3 Dec 2016, 22:59					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m considering installing this image on my 3200ACM as the stock firmware is lacking a few critical features. I was wondering if you could provide some insight to how stable the firmware is? Are there any known issues? Is the firmware mostly stable for day to day use, or I&#039;m a better off sticking with stock for a bit longer?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345656">
				<div class="post-metadata">
					<div class="post-num">Post #623</div>
					<div class="post-author">cluprogram</div>
					<div class="post-datetime">
						3 Dec 2016, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi David - I put in r321 yesterday, looks like I&#039;m having same issue with WiFi. Also the interface became really slow. I know you are aware - just reporting in! Thanks for all the help here. </p><p>In order to jump back to r221 - How do I use that &quot;-f&quot; option? Do I have to SSH to the router in order to do that? Kind of a NOOB at Linux.. </p><p>Paul</p>											<p class="post-edited">(Last edited by <strong>cluprogram</strong> on 3 Dec 2016, 23:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345659">
				<div class="post-metadata">
					<div class="post-num">Post #624</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						4 Dec 2016, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>@cuprogram</p><p>Thanks for the feedback.&nbsp; I will be posting a new image a little later if you want to wait, but yes, sysupgrade -F /tmp/imagefilename.bin</p><p>To get it over to the router use scp<br /># scp &quot;imagefilename.bin&quot; root@192.168.1.1:/tmp</p><p>If you want to use a gui, download winscp for windows.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345662">
				<div class="post-metadata">
					<div class="post-num">Post #625</div>
					<div class="post-author">Eyerex</div>
					<div class="post-datetime">
						4 Dec 2016, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello just wondered will it be ok to do an upgrade and keep setting with the new version coming</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 626 to 625 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 25 of 229</div><nav><ul><li><a href="viewtopic.php%3Fid=64949&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=23.html">23</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=24.html">24</a></li><li class="pagination-current"><span>25</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=26.html">26</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=27.html">27</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=229.html">229</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>