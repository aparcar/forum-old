<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> &quot;SQUASHFS error&quot; on sysupgrade</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p320407">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">monkey</div>
					<div class="post-datetime">
						19 Apr 2016, 17:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>when upgrading my alix2d13 board using <br /></p><div class="codebox"><pre><code>sysupgrade -v -i &lt;image&gt; </code></pre></div><p>I get a lot &quot;SQUASHFS errors&quot; like shown below (shortened by &quot;(...)&quot; a little bit).</p><p>The new image is installed and working but my configfile changes are lost.&nbsp; It<br />seems to be no physical problem since I can write the old image again to the<br />cf-card without problems. Also these errors only appear when I want to keep my<br />configuration.<br />The only thing I found when googling around was this: <br /><a href="https://dev.openwrt.org/changeset/35590#file0">https://dev.openwrt.org/changeset/35590#file0</a><br />But as mentioned before I&#039;m on x86.</p><br /><div class="codebox"><pre><code>Sending TERM to remaining processes ... udhcpc uhttpd dnsmasq exe exe ntpd vnstatd sleep sleep /sbin/sysupgrade: line 167: can&#039;t open /proc/397/stat: no such file
syslogd klogd hotplug2 ubusd 
Sending KILL to remaining processes ... 
Switching to ramdisk...
ln: /tmp/root//bin/vi: Read-only file system
Performing system upgrade...
Refreshing partitions
[  357.066847] SQUASHFS error: xz_dec_run error, data probably corrupt
[  357.085909] SQUASHFS error: squashfs_read_data failed to read block 0x4b352
[  357.107002] SQUASHFS error: Unable to read data cache entry [4b352]
(...)
[  357.746629] SQUASHFS error: Unable to read page, block 4b352, size 3db8
[  357.766534] SQUASHFS error: Unable to read data cache entry [4b352]
[  357.785414] SQUASHFS error: Unable to read page, block 4b352, size 3db8
Bus error
[  357.816577] SQUASHFS error: xz_dec_run error, data probably corrupt
[  357.835551] SQUASHFS error: squashfs_read_data failed to read block 0x2334e
[  357.856531] SQUASHFS error: Unable to read data cache entry [2334e]
[  357.875410] SQUASHFS error: Unable to read page, block 2334e, size b94c
[  357.895349] SQUASHFS error: Unable to read data cache entry [2334e]
[  357.914192] SQUASHFS error: Unable to read page, block 2334e, size b94c
(...)
[  358.400071] SQUASHFS error: Unable to read data cache entry [2334e]
[  358.418981] SQUASHFS error: Unable to read page, block 2334e, size b94c
[  358.438998] SQUASHFS error: Unable to read data cache entry [2334e]
[  358.457862] SQUASHFS error: Unable to read page, block 2334e, size b94c
Segmentation fault
[  358.486323] SQUASHFS error: xz_dec_run error, data probably corrupt
[  358.505239] SQUASHFS error: squashfs_read_data failed to read block 0x4b352
[  358.526265] SQUASHFS error: Unable to read data cache entry [4b352]
[  358.545172] SQUASHFS error: Unable to read page, block 4b352, size 3db8
Bus error
Upgrade completed
Reboot (Y/n): </code></pre></div><p>Can anyone tell me whats wrong?</p><p>Thanks a lot!!<br />Monkey</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p346730">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lirolee</div>
					<div class="post-datetime">
						15 Dec 2016, 03:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi, did you solve? I also have same problem as you!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>