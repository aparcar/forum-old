<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Turn single port mini-PC into multiport using 802.1q switch?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p89393">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Whitebox</div>
					<div class="post-datetime">
						5 Jun 2009, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>In looking at all the mini e-way pc&#039;s I was wondering if it would be possible to take something like that, an x86 fanless pc with one LAN port, and turn it into a functional router by using an 802.1q managed switch. Essentially having a trunk come in to the one port on the mini-PC and then dedicate X amount of ports on the switch as, say vlan3, and those could be LAN ports. Then say dedicate a couple ports to vlan4 and vlan5, respectively, for example, and those could act as WAN ports for the router.</p><p>Has anyone ever done something like this? I understand how to define vlans and do tagging in Kamikaze, but I do not know much about how you could create some virtual interfaces to act as the WAN&#039;s and get it to all function correctly over the trunk.</p><p>Any thoughts, ideas, examples, or experiences on the subject would be helpful!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89395">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Whitebox</div>
					<div class="post-datetime">
						5 Jun 2009, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>Searching around a bit I understand how virtual interfaces would work with vlans based on this config sample:</p><div class="codebox"><pre><code>#### VLAN configuration 
config switch eth0
        option vlan0    &#039;0 1 2 5&#039;
        option vlan1    &#039;3 5&#039;
        option vlan2    &#039;4 5&#039;

config interface vlan1
        option ifname &#039;eth0.1&#039;
        option proto  &#039;dhcp&#039;

config interface vlan2
        option ifname &#039;eth0.2&#039;
        option proto  &#039;dhcp&#039;</code></pre></div><p>So it seems like this idea should be possible, still would like to hear from anyone doing it.</p>											<p class="post-edited">(Last edited by <strong>Whitebox</strong> on 5 Jun 2009, 21:32)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>