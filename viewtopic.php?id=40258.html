<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build error after adding ath5k</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p182113">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">VincentGW</div>
					<div class="post-datetime">
						1 Nov 2012, 16:45					</div>
				</div>
				<div class="post-content content">
					<p>I can build an image without error using the default configuration profile. However, when I try to add ath5k as the wireless driver module, the build will always fail and the error shows like this:</p><div class="codebox"><pre><code>armeb-openwrt-linux-uclibcgnueabi-objcopy -O binary -R .reginfo -R .notes -R .note -R .comment -R .mdebug -R .note.gnu.build-id -S /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/linux-2.6.37.6/vmlinux /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/vmlinux
armeb-openwrt-linux-uclibcgnueabi-objcopy -R .reginfo -R .notes -R .note -R .comment -R .mdebug -R .note.gnu.build-id -S /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/linux-2.6.37.6/vmlinux /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/vmlinux.elf
BFD: /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/linux-2.6.37.6/vmlinux: warning: Empty loadable segment detected, is this intentional ?

touch /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/linux-2.6.37.6/.image
make -C image compile install TARGET_BUILD=
make[5]: Entering directory `/home/gallon/openwrt/trunk/target/linux/ixp4xx/image&#039;
make[5]: `compile&#039; is up to date.
cp /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/linux-2.6.37.6/arch/arm/boot/zImage /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/zImage
# Use symbolic permissions to avoid clobbering SUID/SGID/sticky bits
/usr/bin/find /home/gallon/openwrt/trunk/build_dir/target-armeb_v5te_uClibc-0.9.32/root-ixp4xx -type f -not -perm +0100 -not -name &#039;ssh_host*&#039; -print0 | xargs -r -0 chmod u+rw,g+r,o+r
/usr/bin/find /home/gallon/openwrt/trunk/build_dir/target-armeb_v5te_uClibc-0.9.32/root-ixp4xx -type f -perm +0100 -print0 | xargs -r -0 chmod u+rwx,g+rx,o+rx
/usr/bin/find /home/gallon/openwrt/trunk/build_dir/target-armeb_v5te_uClibc-0.9.32/root-ixp4xx -type d -print0 | xargs -r -0 chmod u+rwx,g+rx,o+rx
install -d -m0755 /home/gallon/openwrt/trunk/build_dir/target-armeb_v5te_uClibc-0.9.32/root-ixp4xx/tmp
chmod 0777 /home/gallon/openwrt/trunk/build_dir/target-armeb_v5te_uClibc-0.9.32/root-ixp4xx/tmp
cp /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/zImage /home/gallon/openwrt/trunk/bin/ixp4xx/openwrt-ixp4xx-generic-zImage
BIN_DIR=/home/gallon/openwrt/trunk/bin/ixp4xx IMG_PREFIX=&quot;openwrt-ixp4xx-generic&quot; /home/gallon/openwrt/trunk/scripts/arm-magic.sh
/home/gallon/openwrt/trunk/staging_dir/host/bin/mksquashfs4 /home/gallon/openwrt/trunk/build_dir/target-armeb_v5te_uClibc-0.9.32/root-ixp4xx /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/root.squashfs -nopad -noappend -root-owned -comp lzma -Xpreset 9 -Xe -Xlc 0 -Xlp 2 -Xpb 2 -processors 1
Parallel mksquashfs: Using 1 processor
Creating 4.0 filesystem on /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/root.squashfs, block size 131072.
[===============================================================\] 340/340 100%
Exportable Squashfs 4.0 filesystem, lzma compressed, data block size 131072
    compressed data, compressed metadata, compressed fragments, no xattrs
    duplicates are removed
Filesystem size 1199.40 Kbytes (1.17 Mbytes)
    35.29% of uncompressed filesystem size (3398.44 Kbytes)
Inode table size 4191 bytes (4.09 Kbytes)
    22.35% of uncompressed inode table size (18748 bytes)
Directory table size 5534 bytes (5.40 Kbytes)
    51.73% of uncompressed directory table size (10698 bytes)
Number of duplicate files found 4
Number of inodes 555
Number of files 330
Number of fragments 11
Number of symbolic links  168
Number of device nodes 0
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 57
Number of ids (unique uids + gids) 1
Number of uids 1
    root (0)
Number of gids 1
    root (0)
/home/gallon/openwrt/trunk/staging_dir/host/bin/padjffs2 /home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/root.squashfs 4 8 64 128 256
padding image to 0012c000
padding image to 00130000
padding image to 00140000
dd if=/home/gallon/openwrt/trunk/build_dir/linux-ixp4xx_generic/root.squashfs of=/home/gallon/openwrt/trunk/bin/ixp4xx/openwrt-ixp4xx-generic-squashfs.img bs=131072 conv=sync
10+1 records in
11+0 records out
1441792 bytes (1.4 MB) copied, 0.00597388 s, 241 MB/s
BIN_DIR=/home/gallon/openwrt/trunk/bin/ixp4xx /home/gallon/openwrt/trunk/scripts/slugimage.pl -L /home/gallon/openwrt/trunk/bin/ixp4xx/apex/apex-nslu2-armeb.bin -k /home/gallon/openwrt/trunk/bin/ixp4xx/openwrt-nslu2-zImage -r rootfs:/home/gallon/openwrt/trunk/bin/ixp4xx/openwrt-ixp4xx-generic-squashfs.img -p -o /home/gallon/openwrt/trunk/bin/ixp4xx/openwrt-nslu2-squashfs.bin
Read 0x00040000 bytes from &quot;/tmp/filetQCvoi&quot; into &lt;RedBoot&gt; (2 blocks / 2 blocks)
Read 0x00020000 bytes from &quot;/tmp/file0ThGPF&quot; into &lt;SysConf&gt; (1 blocks / 1 blocks)
Read 0x0000D1E8 bytes from &quot;/home/gallon/openwrt/trunk/bin/ixp4xx/apex/apex-nslu2-armeb.bin&quot; into &lt;Loader&gt; (1 blocks / 1 blocks)
Can&#039;t find firmware part &quot;/home/gallon/openwrt/trunk/bin/ixp4xx/openwrt-nslu2-zImage&quot;: No such file or directory
make[5]: *** [install] Error 2
make[5]: Leaving directory `/home/gallon/openwrt/trunk/target/linux/ixp4xx/image&#039;
make[4]: *** [install] Error 2
make[4]: Leaving directory `/home/gallon/openwrt/trunk/target/linux/ixp4xx&#039;
make[3]: *** [install] Error 2
make[3]: Leaving directory `/home/gallon/openwrt/trunk/target/linux&#039;
make[2]: *** [target/linux/install] Error 2
make[2]: Leaving directory `/home/gallon/openwrt/trunk&#039;
make[1]: *** [/home/gallon/openwrt/trunk/staging_dir/target-armeb_v5te_uClibc-0.9.32/stamp/.target_install] Error 2
make[1]: Leaving directory `/home/gallon/openwrt/trunk&#039;
make: *** [world] Error 2</code></pre></div><p>To me, it sounds like an error for nslu2 image. Is there a way to fix or bypass this error? I need ath5k in the image and I am only interested in the cambria image.</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193895">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Claymore</div>
					<div class="post-datetime">
						5 Mar 2013, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>I Also have the same problem...<br />I want to build an image just for cambria, but I want also to compile a set of packages for a later install. Because the make fails when trying to create an image for nslu2, the package dir is not complete (lacks the Packages.gz and Packages files)</p><p>This is kinda of a serious problem...<br />De-selecting Linksys Nslu2 in the kernel_menuconfig does not work!!! I already tried that!</p><p>Is anyone able to help?? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193896">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">VincentGW</div>
					<div class="post-datetime">
						5 Mar 2013, 18:41					</div>
				</div>
				<div class="post-content content">
					<p>FYI, I was not able to solve it but just got around the problem by checking out the latest Kamikaze version.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>