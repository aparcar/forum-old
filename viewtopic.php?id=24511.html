<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> dnsmasq: bad command line options: bad dhcp-range</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p108023">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">basco</div>
					<div class="post-datetime">
						27 Apr 2010, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I&#039;m new and have been fiddling with openwrt for a couple of weeks now and i&#039;m impressed.</p><p>I bought a wndr3700 and reflashed it with openwrt bleeding edge. After this i reflashed with dd-wrt just to give it a try.<br />However, to my knowlegde, dd is not as far finished as openwrt. I did however run the superchannel patch on dd.</p><p>Then I flashed back to open-wrt, again Kamikaze latest bleeding edge 21182 with samba/usb/openvpn.<br />Somehow the dchp daemon does not start now. It did with an older bleeding edge (which i&#039;ve lost).</p><p>This is what i get:</p><p>Apr 27 11:44:11 OpenWrt user.info sysinit: awk: can&#039;t resolve symbol &#039;__gtdf2&#039; in lib &#039;awk&#039;.<br />Apr 27 11:44:11 OpenWrt daemon.crit dnsmasq[909]: bad command line options: bad dhcp-range<br />Apr 27 11:44:11 OpenWrt daemon.crit dnsmasq[909]: FAILED to start up<br />Apr 27 11:44:11 OpenWrt user.info sysinit: dnsmasq: bad command line options: bad dhcp-range</p><p>Here&#039;s my config file:</p><p>config dnsmasq<br />&nbsp; &nbsp; &nbsp; &nbsp; option domainneeded&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option boguspriv&nbsp; &nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option filterwin2k&nbsp; &nbsp; &nbsp; &#039;0&#039;&nbsp; #enable for dial on demand<br />&nbsp; &nbsp; &nbsp; &nbsp; option localise_queries 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option local&nbsp; &nbsp; &#039;/lan/&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option domain&nbsp; &nbsp;&#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option expandhosts&nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option nonegcache&nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; option authoritative&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option readethers&nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasefile&nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/dhcp.leases&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option resolvfile&nbsp; &nbsp; &nbsp; &nbsp;&#039;/tmp/resolv.conf.auto&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; #list server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/mycompany.local/1.2.3.4&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; #option nonwildcard&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; #list interface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;br-lan<br />&nbsp; &nbsp; &nbsp; &nbsp; #list notinterface&nbsp; &nbsp; &nbsp; lo</p><p>config dhcp lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option interface&nbsp; &nbsp; &nbsp; &nbsp; lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option start&nbsp; &nbsp; 100<br />&nbsp; &nbsp; &nbsp; &nbsp; option limit&nbsp; &nbsp; 150<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasetime&nbsp; &nbsp; &nbsp; &nbsp; 12h</p><p>config dhcp wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option interface&nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option ignore&nbsp; &nbsp;1</p><br /><p>I greatly appreciate any help on this.<br />Regards, Basco.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108029">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						27 Apr 2010, 22:32					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, the dnsmasq config looks fine, I don&#039;t see anything wrong with it.</p><p>However, this<br /></p><div class="codebox"><pre><code>Apr 27 11:44:11 OpenWrt user.info sysinit: awk: can&#039;t resolve symbol &#039;__gtdf2&#039; in lib &#039;awk&#039;</code></pre></div><p>is not normal. Is this a self built image or a trunk snapshot?</p><p>~ Jow</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108038">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">basco</div>
					<div class="post-datetime">
						27 Apr 2010, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi Jow!</p><p>I&#039;ve svn&#039;ed the latest snapshot, configured it with the wndr3700 wiki howto and added samba, usb and openvp and built the thing.<br />I tried to search for a solution for this __gtdf2 error but haven&#039;t found anything.</p><p>do you have a clue where to start?<br />is it perhaps a package that i did not include?</p><p>any help would be greatly appreciated... i&#039;m nearly there... uhhh i think ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108154">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">basco</div>
					<div class="post-datetime">
						29 Apr 2010, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>I deleted the entire trunk and redownloaded it to latest bleeding edge. now it&#039;s ok, but due to a kernel update i&#039;m not able to install packages needed to use usb.</p><p>kmod-nls-cp437, kmod-nls-cp850, kmod-nls-iso8859-1, kmod-nls-iso8859-15, kmod-nls-utf8</p><p>these modules are not available yet.<br />i tried installing them with --force.. but that did not result in a working usb.</p><p>should i wait or can this be fixed?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108159">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						29 Apr 2010, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>If you compile yourself, you should build the required kernel modules too, the modules from the repository are binary incompatible to self built kernels in almost every case.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108165">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">basco</div>
					<div class="post-datetime">
						29 Apr 2010, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>sorry, my explanation was not 100% clear.<br />i use make menuconfig to configure te package.</p><p>this wndr3700 wiki states that a number of packages should be included to use usb.</p><p><a href="http://wiki.openwrt.org/inbox/netgear/wndr3700#uh.oh.i.bricked.my.router.optional">http://wiki.openwrt.org/inbox/netgear/w â€¦ r.optional</a></p><p>in the latest bleeding edge i cannot select these packages with menuconfig anymore (i could select them with an older bleeding edge):</p><p>kmod-nls-cp437, kmod-nls-cp850, kmod-nls-iso8859-1, kmod-nls-iso8859-15, kmod-nls-utf8</p><p>does this make any sense?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108168">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						29 Apr 2010, 16:45					</div>
				</div>
				<div class="post-content content">
					<p>They were moved to a dedicated &quot;NLS&quot; submenu yesterday, maybe you overlooked that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108257">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">basco</div>
					<div class="post-datetime">
						30 Apr 2010, 14:12					</div>
				</div>
				<div class="post-content content">
					<p>overlooked....<br />things are moving fast in openwrt... which is great!!</p><p>my usb is working!</p><p>thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123950">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">CheBuzz</div>
					<div class="post-datetime">
						26 Dec 2010, 09:20					</div>
				</div>
				<div class="post-content content">
					<p>The solution to this for me was to disable strip unneeded libraries from the menuconfig.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>