<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Guest WLAN access to WAN ports?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p264225">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zimberto</div>
					<div class="post-datetime">
						5 Feb 2015, 08:01					</div>
				</div>
				<div class="post-content content">
					<p>Having created a guest WLAN by following this article: <a href="http://wiki.openwrt.org/doc/recipes/guest-wlan-webinterface">http://wiki.openwrt.org/doc/recipes/gue … binterface</a> I expected guests to be able to access ports on the WAN just like any other external clients, however they cannot. What am I missing?</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>zimberto</strong> on 5 Feb 2015, 08:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264239">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						5 Feb 2015, 10:51					</div>
				</div>
				<div class="post-content content">
					<p>What exactly do you mean with &quot;access ports on the WAN&quot;? Can other computers in the non-guest WLAN reach them?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264262">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">zimberto</div>
					<div class="post-datetime">
						5 Feb 2015, 16:32					</div>
				</div>
				<div class="post-content content">
					<p>Yes, other computers in the non-guest wlan can access them.<br />I forward some ports from the wan to my media server so that I can access my home media from places other than home. This works for external clients and also internal clients hitting the wan interface, however devices on the guest wlan cannot access the media via the wan interface.</p>											<p class="post-edited">(Last edited by <strong>zimberto</strong> on 5 Feb 2015, 16:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264264">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						5 Feb 2015, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>Your Media Server is in your LAN zone.<br />Your Guest WLAN is isolated from that zone because you used a guide where </p><div class="quotebox"><blockquote><p>It also provides firewall security rules to isolate your guest network from the rest.</p></blockquote></div><p>If you do not want that isolation then they should join the other network.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264274">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						5 Feb 2015, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>Go to &quot;Network &gt; Firewall &gt; Traffic rules&quot; and add a rule to allow traffic from any computer in your GUEST zone to the IP and PORT of the media server in the LAN zone.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264291">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zimberto</div>
					<div class="post-datetime">
						5 Feb 2015, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>I want devices attached to the guest zone to have the same access to my LAN as the rest of the Internet does. Right now they actually have no access: they cannot access my publically (albeit password protected) endpoints. I don&#039;t want to give guests full access to my LAN, just access to those things that they could access if they were in a coffee shop. Is there no way to configure that as a general policy and not on a port by port basis?</p><p>FWIW I am trying to cure a known issue with a couple of Cisco Windows Media Extenders. When Samsumg smartphones (of which we have plenty) are connected to the LAN they constantly perform some sort of discovery probing. These probes actually kill the networking stack in the Cisco devices. Since these devices are no longer supported the only way to fix the problem (I am told) is to move the phones onto their own network. There they should be able to contact the media center (via a &quot;Remote Potato&quot;) service. Right now if they are anywhere but home they can.</p><p><a href="http://www.thegreenbutton.tv/forums/viewtopic.php?f=8&amp;t=6973">http://www.thegreenbutton.tv/forums/vie … amp;t=6973</a></p>											<p class="post-edited">(Last edited by <strong>zimberto</strong> on 5 Feb 2015, 20:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264461">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">zimberto</div>
					<div class="post-datetime">
						7 Feb 2015, 05:34					</div>
				</div>
				<div class="post-content content">
					<p>Ping! </p><p>I feel that there is a way to do this (there&#039;s gotta be!) but I&#039;m too stooped to figure it out myself. Please help.</p><p>To recap: I want devices in my guest network to be able to access forwarded ports on my wan interface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264490">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						7 Feb 2015, 12:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Is there no way to configure that as a general policy and not on a port by port basis?</p></blockquote></div><p>The Solution of putting them in the LAN is not feasible - ok</p><p>The Solution of creating port forwards between GUEST LAN and LAN (where the server is) is one alternative.<br />This is only not feasible for you because it involves some &quot;duplicate&quot; configuration.<br />You can also write a firewall script that keeps duplicates the WAN-&gt;LAN redirections and adds them to the Guest-LAN -&gt; LAN rules (that are firewalled)</p><div class="quotebox"><blockquote><p>I want devices in my guest network to be able to access forwarded ports on my wan interface.</p></blockquote></div><p>You have 3 Networks attached to 1 Router.<br />WAN, LAN, G(uest)LAN.<br />You have many iptable rulesets by default. (see iptables-save,ip6tables-save)<br />WAN-&gt;LAN contains some rules.<br />You say &quot;GLAN=WAN&quot;. That means that as a final result you will have to duplicate in some way the configuration. (duplicate ruleet WAN-&gt;LAN to GLAN-&gt;LAN)</p><p>I dont know if you can add a zone/chain/ruleset so that you have<br />WAN-&gt; (NEW) -&gt; LAN and GLAN -&gt; (NEW) -&gt; LAN . But by this you have probably more rules (WAN-&gt;(NEW) and GLAN-&gt;(NEW) that can differ too in subtle ways)<br />There are other iptables ressources where you can ask too - but I think nobody will write a complete iptables ruleset for your special use case.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264553">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						7 Feb 2015, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>this sounds like a loopback problem for the guest WLAN. No idea how to fix it.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>