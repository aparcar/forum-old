<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54G Issues</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p113470">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						20 Jul 2010, 15:31					</div>
				</div>
				<div class="post-content content">
					<p>Apologies if this sounds like a noobish question. I have googled my question and searched these forums to no avail.</p><p>I have a WRT54G v2 and have installed OpenWRT Whiterussian RC3. I am trying to install the wl drive using the &#039;opkg&#039; package utility. The router can access the internet fine but I can&#039;t seem to install anything at all. I am attempting to turn the WRT54G router into a Kismet drone.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113477">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ripat</div>
					<div class="post-datetime">
						20 Jul 2010, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>Did you do an opkg update first?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113478">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						20 Jul 2010, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>yes I did.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113480">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						20 Jul 2010, 16:30					</div>
				</div>
				<div class="post-content content">
					<p>White Russian RC3 does not even have opkg... did you mean ipkg? Is it indeed white russian? What error do you get?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113998">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						29 Jul 2010, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>root@OpenWrt:~# opkg install wl<br />Collected errors:<br /> * opkg_install_cmd: Cannot install package wl.<br />root@OpenWrt:~#</p><p>Cheers for the help jow, any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113999">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						29 Jul 2010, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>root@OpenWrt:~# opkg update<br />Downloading <a href="http://downloads.openwrt.org/backfire/10.03-rc3/brcm47xx/packages/Packages.gz">http://downloads.openwrt.org/backfire/1 … ackages.gz</a>.<br />Inflating <a href="http://downloads.openwrt.org/backfire/10.03-rc3/brcm47xx/packages/Packages.gz">http://downloads.openwrt.org/backfire/1 … ackages.gz</a>.<br />Updated list of available packages in /var/opkg-lists/packages.<br />root@OpenWrt:~# opkg install wl<br />Collected errors:<br /> * opkg_install_cmd: Cannot install package wl.<br />root@OpenWrt:~#</p><br /><p>Just to show package list is up-to-date.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114030">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						29 Jul 2010, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>Is it worth upgrading (via tftp of course) to a more recent OpenWRT distribution?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114031">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						29 Jul 2010, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>You&#039;re running brcm47xx, the Kernel 2.6 variant. There is no &quot;wl&quot; for this version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114032">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						29 Jul 2010, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>OK, so what should&nbsp; I do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114035">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						29 Jul 2010, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>No idea. Use iwconfig maybe?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114093">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						30 Jul 2010, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>So I&#039;ve installed kismet-drone. So how do I go about setting it up and configuring it?</p><br /><p>root@OpenWrt:~# kismet_drone<br />ERROR: NOT spawning suid-root IPC capture control, because we are ALREADY<br />&nbsp; &nbsp; &nbsp; &nbsp;running as root.&nbsp; This is not the preferred method of running Kismet<br />&nbsp; &nbsp; &nbsp; &nbsp;because it prevents certain security features from operating.<br />INFO: Reading from config file /etc/kismet/kismet_drone.conf<br />INFO: Plugin system disabled by Kismet configuration file or command line<br />INFO: Setting drone connection buffer to 65535 bytes<br />INFO: Kismet will attempt to hop channels at 5 channels per second unless<br />&nbsp; &nbsp; &nbsp; overridden by source-specific options<br />INFO: No specific sources named on the command line, sources will be read from<br />&nbsp; &nbsp; &nbsp; kismet.conf<br />ERROR: Failed to find a type for auto-type source &#039;null&#039;, you will have to tell<br />&nbsp; &nbsp; &nbsp; &nbsp;Kismet what it is by adding a type=[card type] to the ncsource config<br />ERROR: It is possible that the device for interface &#039;null&#039; is not active or was<br />&nbsp; &nbsp; &nbsp; &nbsp;not plugged in.&nbsp; Kismet will ignore this interface, you may re-add it<br />&nbsp; &nbsp; &nbsp; &nbsp;later.<br />INFO: Created Kismet drone TCP server on port 2502<br />INFO: Starting GPS components...<br />INFO: Enabling reconnection to the GPS device if the link is lost<br />ERROR: Could not create initial connection to the GPSD server<br />INFO: Using GPSD server on localhost:2947<br />INFO: Kismet drone starting to gather packets<br />ERROR: Could not connect to the GPSD server, will reconnect in 5 seconds</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114110">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dave_birdi</div>
					<div class="post-datetime">
						31 Jul 2010, 02:01					</div>
				</div>
				<div class="post-content content">
					<p>Great to see people are flocking with answers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129039">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">iriki</div>
					<div class="post-datetime">
						21 Feb 2011, 01:00					</div>
				</div>
				<div class="post-content content">
					<p>In your kismet_drone.conf you have ncsource=null, that&#039;s a no-no</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131244">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cheewii</div>
					<div class="post-datetime">
						21 Mar 2011, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I change my card_type = bcm47xx, some errors seems&nbsp; to disappear. However, there are still many errors. I use WRT54GS v3, kernal 2.4, backfire 10.03-rc3, bcm-2.4 firmware.</p><p>root@OpenWrt:~# kismet_drone <br />ERROR: NOT spawning suid-root IPC capture control, because we are ALREADY <br />&nbsp; &nbsp; &nbsp; &nbsp;running as root.&nbsp; This is not the preferred method of running Kismet <br />&nbsp; &nbsp; &nbsp; &nbsp;because it prevents certain security features from operating.<br />INFO: Reading from config file /etc/kismet/kismet_drone.conf<br />INFO: Plugin system disabled by Kismet configuration file or command line<br />INFO: Setting drone connection buffer to 65535 bytes<br />INFO: Kismet will attempt to hop channels at 5 channels per second unless <br />&nbsp; &nbsp; &nbsp; overridden by source-specific options<br />INFO: No specific sources named on the command line, sources will be read from <br />&nbsp; &nbsp; &nbsp; kismet.conf<br />INFO: Using hardware channel list 1,2,3,4,5,6,7,8,9,10,11,12,13, 13 channels on <br />&nbsp; &nbsp; &nbsp; source wl0<br />INFO: Source &#039;wl0&#039; will attempt to create and use a monitor-only VAP instead of <br />&nbsp; &nbsp; &nbsp; reconfiguring the main interface<br />INFO: Created source wl0 with UUID c8c4628c-53ad-11e0-8c26-9c03fa131301<br />INFO: Will attempt to reopen on source &#039;wl0&#039; if there are errors<br />INFO: Created Kismet drone TCP server on port 2502<br />INFO: Starting GPS components...<br />INFO: GPS support disabled in kismet.conf<br />INFO: Kismet drone starting to gather packets<br />ERROR: Source &#039;wl0&#039; doesn&#039;t have mac80211 support, disabling VAP creation of <br />&nbsp; &nbsp; &nbsp; &nbsp;default monitor mode VAP<br />INFO: Capture source &#039;wl0&#039; doesn&#039;t appear to use the monitor_type iwpriv <br />&nbsp; &nbsp; &nbsp; control.<br />INFO: Capture source &#039;wl0&#039; doesn&#039;t appear to use the set_prismhdr iwpriv control<br />ERROR: Failed to set monitor mode on interface &#039;wl0&#039; in current state, bringing <br />&nbsp; &nbsp; &nbsp; &nbsp;interface down and trying again<br />ERROR: mode set ioctl failed 22:Invalid argument<br />ERROR: Failed to set monitor mode on interface &#039;wl0&#039;, even after bringing <br />&nbsp; &nbsp; &nbsp; &nbsp;interface into a down state.&nbsp; This usually means your drivers either do <br />&nbsp; &nbsp; &nbsp; &nbsp;not report monitor mode, use a different mechanism than Kismet expected <br />&nbsp; &nbsp; &nbsp; &nbsp;to configure monitor mode, or that the user which started Kismet does <br />&nbsp; &nbsp; &nbsp; &nbsp;not have permission to change the driver mode. Make sure you have the <br />&nbsp; &nbsp; &nbsp; &nbsp;required version and have applied any patches needed to your drivers, <br />&nbsp; &nbsp; &nbsp; &nbsp;and that you have configured the proper source type for Kismet.&nbsp; See the <br />&nbsp; &nbsp; &nbsp; &nbsp;troubleshooting section of the Kismet README for more information.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>