<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kamikaze on Pronghorn</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Nov 2017.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p56926">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">DaniMesh</div>
					<div class="post-datetime">
						3 Oct 2007, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi to all,</p><p>I&#039;m trying to install Kamikaze on a Pronghorn metro SBC with the IXP425 at 533MHz.<br/>I download the file &quot;openwrt-pronghornmetro-2.6-zImage&quot; from the site and I load it on the pronghron with &quot;load -r -v -b 0x01600000 zImage&quot;. <br/>After starting it with &quot;go -n 0x01600000&quot; I could see the kernel starting but it stops at Kernel Panic: Unable to mount root file system :-).</p><p>So I download the openwrt-ixp4xx-2.6-squashfs.img and I load it with &quot;load -r -v -b 0x00800000 openwrt-ixp4xx-2.6-squashfs.img&quot; but after booting I see the same error.</p><p>Any ideas about this?</p><p>Thanks in advance for help</p><p>Daniele</p><p>P.S.: I have found the memory addresses (0x00800000,0x01600000) indication on Pronghorn doc(ftp://ftp.adiengineering.com/Archive/PronghornSBC/ADI-PRONGHORN-HOWTO).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56928">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						3 Oct 2007, 14:20					</div>
				</div>
				<div class="post-content content">
					<p>init flash contents: fis init -f<br/>load kernel into memory: load -r -b %{FREEMEMLO} openwrt-pronghornmetro-2.6-zImage<br/>flash the kernel: fis create kernel<br/>check the free space: fis free<br/>load rootfs into memory load -r -b %{FREEMEMLO} -l openwrt-ixp4xx-2.6-squashfs.img<br/>flash rootfs (make sure you use all free space for it: fis create -l 0xfreespace rootfs</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58053">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">baskin</div>
					<div class="post-datetime">
						25 Oct 2007, 21:44					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to install kamikaze on a CF on the Pronghorn metro SBC and boot from there?</p><p>How can I accomplish that?</p><p>I&#039;m planning to buy some units and i want to run them with kamikaze. I searched the forum and wiki and i didn&#039;t find any installation guidelines about this board.</p><p>Has anyone tried that?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59451">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">baskin</div>
					<div class="post-datetime">
						24 Nov 2007, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>Anyone????</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62549">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">adyb</div>
					<div class="post-datetime">
						30 Jan 2008, 12:35					</div>
				</div>
				<div class="post-content content">
					<p>bump.</p><p>We are due a shipment of Pronghorn metro boards and I would really like to get this up and working on them.<br/>We only have an SBC210 for testing at the moment - has anyone managed to get it working on that board? Also, has anyone managed to get the metro to run from CF yet?<br/>Sorry if this is basic stuff, first post here and fairly new to this software.....</p><p>Cheers,<br/>Ade</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62718">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						2 Feb 2008, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>I didn&#039;t try to run from CF, only from flash. Also, the metro image should work on the sbc as well - I&#039;m preparing an updated patch for the Pronghorn series, tho.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63445">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">giusepped</div>
					<div class="post-datetime">
						15 Feb 2008, 09:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi. I have the same problem &quot;Kernle panic&quot; after an exec.<br/>I have downloaded and copied the zImage to the CF.<br/>Then issued the load commands.<br/>The output is as follow:</p><p>RedBoot&gt; go -n 0x01600000<br/>Uncompressing Linux................................................................. done, booting the kernel.<br/>Linux version 2.6.21.6 (nbd@ds10) (gcc version 4.1.2) #2 Sun Sep 30 20:44:34 CEST 2007<br/>CPU: XScale-IXP42x Family [690541c2] revision 2 (ARMv5TE), cr=000039ff<br/>Machine: ADI Engineering Pronghorn Metro<br/>Warning: bad configuration page, trying to continue<br/>Memory policy: ECC disabled, Data cache writeback<br/>CPU0: D VIVT undefined 5 cache<br/>CPU0: I cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets<br/>CPU0: D cache: 32768 bytes, associativity 32, 32 byte lines, 32 sets<br/>Built 1 zonelists.&nbsp; Total pages: 4064<br/>Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit<br/>PID hash table entries: 64 (order: 6, 256 bytes)<br/>Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br/>Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br/>Memory: 16MB = 16MB total<br/>Memory: 14172KB available (1788K code, 167K data, 76K init)<br/>Mount-cache hash table entries: 512<br/>CPU: Testing write buffer coherency: ok<br/>NET: Registered protocol family 16<br/>IXP4xx: Using 16MiB expansion bus window size<br/>PCI: IXP4xx is host<br/>PCI: IXP4xx Using direct access for memory space<br/>PCI: bus0: Fast back to back transfers enabled<br/>NET: Registered protocol family 2<br/>Time: OSTS clocksource has been installed.<br/>IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br/>TCP established hash table entries: 512 (order: 0, 4096 bytes)<br/>TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br/>TCP: Hash tables configured (established 512 bind 512)<br/>TCP reno registered<br/>NetWinder Floating Point Emulator V0.97 (double precision)<br/>squashfs: version 3.0 (2006/03/15) Phillip Lougher<br/>Registering mini_fo version $Id$<br/>JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.<br/>io scheduler noop registered<br/>io scheduler deadline registered (default)<br/>IXP4xx Watchdog Timer: heartbeat 60 sec<br/>Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled<br/>serial8250.0: ttyS0 at MMIO 0xc8001000 (irq = 13) is a XScale<br/>IXP4XX Q Manager 0.2.1 initialized.<br/>IXP4XX NPE driver Version 0.3.0 initialized<br/>ixp4xx_crypto 0.0.1 registered successfully<br/>IXP4XX-Flash.0: Found 1 x16 devices at 0x0 in 16-bit bank<br/> Intel/Sharp Extended Query Table at 0x010A<br/> Intel/Sharp Extended Query Table at 0x010A<br/> Intel/Sharp Extended Query Table at 0x010A<br/> Intel/Sharp Extended Query Table at 0x010A<br/> Intel/Sharp Extended Query Table at 0x010A<br/>Using buffer write method<br/>cfi_cmdset_0001: Erase suspend on write enabled<br/>Searching for RedBoot partition table in IXP4XX-Flash.0 at offset 0xfe0000<br/>4 RedBoot partitions found on MTD device IXP4XX-Flash.0<br/>Creating 4 MTD partitions on &quot;IXP4XX-Flash.0&quot;:<br/>0x00000000-0x00060000 : &quot;RedBoot&quot;<br/>npe: searching for firmware...<br/>npe: found at 0x13504, unknown/NPE-A func: 03, rev: a.8, size: 1074750988, id: 5003da08<br/>npe: found at 0x4123c, IXP465/NPE-A func: 81, rev: 2.0, size: 12848, id: 10810200<br/>npe: found at 0x4446c, IXP425/NPE-B func: 01, rev: 2.0, size: 12848, id: 01010200<br/>Image loaded to NPE-B Func:1, Rel: 2:0, Status: 82400000<br/>npe: found at 0x4769c, IXP425/NPE-C func: 01, rev: 2.0, size: 12848, id: 02010200<br/>Image loaded to NPE-C Func:1, Rel: 2:0, Status: 80800000<br/>0x00060000-0x00fe0000 : &quot;unallocated&quot;<br/>0x00fe0000-0x00fff000 : &quot;FIS directory&quot;<br/>0x00fff000-0x01000000 : &quot;RedBoot config&quot;<br/>i2c /dev entries driver<br/>nf_conntrack version 0.5.0 (128 buckets, 1024 max)<br/>ip_tables: (C) 2000-2006 Netfilter Core Team<br/>TCP westwood registered<br/>NET: Registered protocol family 1<br/>NET: Registered protocol family 17<br/>802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br/>All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br/>XScale DSP coprocessor detected.<br/>ixp4xx_mac driver 0.3.1: eth0 on NPE-B with PHY[0] initialized<br/>ixp4xx_mac driver 0.3.1: eth1 on NPE-C with PHY[1] initialized<br/>drivers/rtc/hctosys.c: unable to open rtc device (rtc0)<br/>jffs2: Flash size not aligned to erasesize, reducing to 0KiB<br/>jffs2: Too few erase blocks (0)<br/>No filesystem could mount root, tried:&nbsp; squashfs jffs2<br/>Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,2)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63446">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">giusepped</div>
					<div class="post-datetime">
						15 Feb 2008, 10:00					</div>
				</div>
				<div class="post-content content">
					<p>I saw that there is only an openwrt-pronghorn-zImage.<br/>Do I need also the ramdisk.gz?<br/>Sorry for the basic question.<br/>G</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63448">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">giusepped</div>
					<div class="post-datetime">
						15 Feb 2008, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>I am trying to compile the OpenWRT.<br/>But after make menuconfig, I get &quot;</p><p>Error during writing of the OpenWrt configuration.<br/>Your configuration changes were NOT saved.</p><p>make: *** [menuconfig] Error 1</p><br/><p>Why</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63450">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						15 Feb 2008, 10:51					</div>
				</div>
				<div class="post-content content">
					<p>If you want to use the CF for the root file system, you should change the kernel configuration and the command line to do so. If you can&#039;t save the config file, you have local problem with file permissions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63598">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">giusepped</div>
					<div class="post-datetime">
						18 Feb 2008, 04:46					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, and where I should start from?<br/>How can I change the kernel in order to let the root filesystem be installed in the CF?<br/>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63603">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">giusepped</div>
					<div class="post-datetime">
						18 Feb 2008, 10:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Kaloz wrote:</cite><blockquote><p>init flash contents: fis init -f<br/>load kernel into memory: load -r -b %{FREEMEMLO} openwrt-pronghornmetro-2.6-zImage<br/>flash the kernel: fis create kernel<br/>check the free space: fis free<br/>load rootfs into memory load -r -b %{FREEMEMLO} -l openwrt-ixp4xx-2.6-squashfs.img<br/>flash rootfs (make sure you use all free space for it: fis create -l 0xfreespace rootfs</p></blockquote></div><p>Ok, I did exactly as you wrote.<br/>Now, I got the prompt, but when I try<br/>ls<br/>only strange characters come.<br/>Why</p><p> _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br/> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br/> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br/> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br/> KAMIKAZE (7.09) -----------------------------------<br/>&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br/>&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br/>&nbsp; * 10 oz lime juice&nbsp; Salute!<br/> ---------------------------------------------------<br/>root@OpenWrt:/# ls<br/>\0x1b[1;34mbin\0x1b[0m&nbsp; &nbsp;\0x1b[1;34metc\0x1b[0m&nbsp; &nbsp;\0x1b[1;34mlib\0x1b[0m&nbsp; &nbsp;\0x1b[1;34mproc\0x1b[0m&nbsp; \0x1b[1;34msbin\0x1b[0m&nbsp; \0x1b[1;34mtmp\0x1b[0m&nbsp; &nbsp;\0x1b[1;36mvar\0x1b[0m<br/>\0x1b[1;34mdev\0x1b[0m&nbsp; &nbsp;\0x1b[1;34mjffs\0x1b[0m&nbsp; \0x1b[1;34mmnt\0x1b[0m&nbsp; &nbsp;\0x1b[1;34mrom\0x1b[0m&nbsp; &nbsp;\0x1b[1;34msys\0x1b[0m&nbsp; &nbsp;\0x1b[1;34musr\0x1b[0m&nbsp; &nbsp;\0x1b[1;34mwww\0x1b[0m<br/>root@OpenWrt:/#</p><br/><p>Moreover, may you explain to me why I need two image, squashfs and opernwet-pronghron-zImage?<br/>I am trying to understand, but if you can help me I will appreciate very much.<br/>G</p>											<p class="post-edited">(Last edited by <strong>giusepped</strong> on 18 Feb 2008, 10:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63604">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						18 Feb 2008, 11:00					</div>
				</div>
				<div class="post-content content">
					<p>&quot;make kernel_menuconfig&quot; can used to modify the kernel configuration. You need two &quot;images&quot; because one file is the kernel, the other is the root file system.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63677">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">giusepped</div>
					<div class="post-datetime">
						19 Feb 2008, 08:36					</div>
				</div>
				<div class="post-content content">
					<p>I have a question. Itried an answer but I hope to find it here.<br/>I follosed the steps of Kaloz. Anyway:</p><p>1)Is it always necessary the creation of the kernel<br/>That is I want to make a script that automatically load the kernel and the image.<br/>2) How can I install a package into the OpenWrt and let it stay installed after a reboot?<br/>I am trying to install OLSRd</p><p>G</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p66151">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">baskin</div>
					<div class="post-datetime">
						1 Apr 2008, 20:48					</div>
				</div>
				<div class="post-content content">
					<p>This is from my friend Francesco (Thank you very much)</p><br/><p>Hello,</p><p>here are the steps to flash OpenWrt Kamikaze 7.09 on<br/>Pronghorn Metro:<br/>(you have to issue these commands from Redboot using an<br/>hypterminal)</p><p>fis init -f</p><p>load -r -b %{FREEMEMLO} -m xmodem&nbsp; &nbsp; (and select<br/>&quot;openwrt-pronghornmetro-2.6-zImage&quot;, you can also upload<br/>via tftp (faster))</p><p>fis unlock -f 0x50060000 -l 0x100000</p><p>fis create kernel</p><p>load -r -b %{FREEMEMLO} -m xmodem (and select<br/>&quot;openwrt-ixp4xx-2.6-squashfs.img&quot;)</p><p>fis unlock -f 0x50160000 -l 0xE80000</p><p>fis create -l 0xE80000 rootfs</p><p>Here you go.</p><p>To launch Kamikaze (you can run this script at startup)</p><p>fis load kernel</p><p>exec</p><br/><br/><p>Have fun :-)</p><br/><p>Francesco</p><p>To install a package, just use the usual instructions for the ipkg command. I have two boards running olsrd with 7.09 for some months now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297184">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">faisan98</div>
					<div class="post-datetime">
						23 Oct 2015, 20:25					</div>
				</div>
				<div class="post-content content">
					<p>baskin, can you public a manual or step by step how to install OpenWRT on Pronghorn metro SBC with the IXP425 at 533MHZ<br/>because I try but is not working.</p><p>and how to build script to launch</p><p>thanks</p>											<p class="post-edited">(Last edited by <strong>faisan98</strong> on 23 Oct 2015, 20:36)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>