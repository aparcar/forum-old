<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with &quot;gcc install&quot; doing compile</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p53583">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">margate</div>
					<div class="post-datetime">
						8 Aug 2007, 18:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi There,</p><p>i keep having trubles with compile of a new image for my WL500W - primaly it stops at gcc install and when i run with V=99 i get the following belowindicating a issue with machname.h, I found a few thread indicating that there was incombability issues with my host system so i upgraded from ubuntu 6.06 to fiesta and started over, my main goal was to build an image with as much i wanted regarding functionality, that is for the moment basic stuff, samba and lighttpd with perl also i incl updatedd,ntpclient,vsftpd and sftpd, I left out the kmod-brcm-wl and incl. kmod-brcm-wl-mimo instead.</p><p>Am not realy a shark to read these messages and able to locate the source of my troubles.</p><p>By the way i have a box there for the moment do the kmod-brcm-wl-mimo driver with Lighttpd/php5,sftp,ftp,samba on a 500GB usb drive with spindown without trouble, however a have no room left and need to compress it into my flash image </p><p>I CUT the last few 100 lines</p><p>if test yes = yes \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|| test -n &quot;&quot;; then \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /bin/bash /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/genmultilib \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;yes&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt; tmp-mlib.h; \<br />&nbsp; &nbsp; &nbsp; &nbsp; else \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /bin/bash /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/genmultilib &#039;&#039; &#039;&#039; &#039;&#039; &#039;&#039; &#039;&#039; &#039;&#039; &#039;&#039; no \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt; tmp-mlib.h; \<br />&nbsp; &nbsp; &nbsp; &nbsp; fi<br />/bin/bash /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/move-if-change tmp-mlib.h multilib.h<br />multilib.h is unchanged<br />echo timestamp &gt; s-mlib<br />lsf=&quot;/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/cp/lang-specs.h&quot;; for f in $lsf; do \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;#include \&quot;$f\&quot;&quot;; \<br />&nbsp; &nbsp; &nbsp; &nbsp; done | sed &#039;s|/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/||&#039; &gt; tmp-specs.h<br />/bin/bash /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/move-if-change tmp-specs.h specs.h<br />specs.h is unchanged<br />echo timestamp &gt; s-specs<br />(SHLIB_LINK=&#039;/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/xgcc -B/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/ -B/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/bin/ -B/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/lib/ -isystem /home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/include -isystem /home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/sys-include -O2&nbsp; -DIN_GCC -DCROSS_COMPILE&nbsp; -DUSE_UCLIBC -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition -Wno-error -isystem ./include&nbsp; -fPIC -g -DHAVE_GTHR_DEFAULT -DIN_LIBGCC2 -D__GCC_FLOAT_NOT_NEEDED -Dinhibit_libc -shared -nodefaultlibs -Wl,--soname=@shlib_so_name@.so.1 -Wl,--version-script=@shlib_map_file@ -o @shlib_dir@@shlib_so_name@.so.1.tmp @multilib_flags@ @shlib_objs@ -lc &amp;&amp; rm -f @shlib_base_name@.so &amp;&amp; if [ -f @shlib_dir@@shlib_so_name@.so.1 ]; then mv -f @shlib_dir@@shlib_so_name@.so.1 @shlib_dir@@shlib_so_name@.so.1.backup; else true; fi &amp;&amp; mv @shlib_dir@@shlib_so_name@.so.1.tmp @shlib_dir@@shlib_so_name@.so.1 &amp;&amp; ln -s @shlib_dir@@shlib_so_name@.so.1 @shlib_base_name@.so&#039; \<br />&nbsp; &nbsp; &nbsp; &nbsp; SHLIB_MULTILIB=&#039;&#039;; \<br />&nbsp; &nbsp; &nbsp; &nbsp; gcc&nbsp; -DUSE_UCLIBC -g -O2 -DIN_GCC -DCROSS_COMPILE&nbsp; -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long&nbsp; -Wno-error&nbsp; -DHAVE_CONFIG_H&nbsp; &nbsp; -I. -I. -I/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc -I/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/. -I/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/../include&nbsp; \<br />&nbsp; -DSTANDARD_STARTFILE_PREFIX=\&quot;../../../\&quot; -DSTANDARD_EXEC_PREFIX=\&quot;/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/lib/gcc/\&quot; -DSTANDARD_LIBEXEC_PREFIX=\&quot;/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/libexec/gcc/\&quot; -DDEFAULT_TARGET_VERSION=\&quot;3.4.6\&quot; -DDEFAULT_TARGET_MACHINE=\&quot;mipsel-linux-uclibc\&quot; -DSTANDARD_BINDIR_PREFIX=\&quot;/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/bin/\&quot; -DTOOLDIR_BASE_PREFIX=\&quot;../../../../\&quot;&nbsp; `test &quot;X${SHLIB_LINK}&quot; = &quot;X&quot; || test &quot;yes&quot; != &quot;yes&quot; || echo &quot;-DENABLE_SHARED_LIBGCC&quot;` `test &quot;X${SHLIB_MULTILIB}&quot; = &quot;X&quot; || echo &quot;-DNO_SHARED_LIBGCC_MULTILIB&quot;` \<br />&nbsp; -c /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/gcc.c -o gcc.o)<br />In file included from /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/gcc.c:141:<br />./configargs.h:2: warning: string length &#039;720&#039; is greater than the length &#039;509&#039; ISO C89 compilers are required to support<br />/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/gcc.c:906: warning: string length &#039;529&#039; is greater than the length &#039;509&#039; ISO C89 compilers are required to support<br />/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/gcc.c:924: warning: string length &#039;608&#039; is greater than the length &#039;509&#039; ISO C89 compilers are required to support<br />gcc&nbsp; -DUSE_UCLIBC -g -O2 -DIN_GCC -DCROSS_COMPILE&nbsp; -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long&nbsp; &nbsp; -DHAVE_CONFIG_H&nbsp; -o xgcc gcc.o gccspec.o intl.o \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prefix.o version.o&nbsp; ../libiberty/libiberty.a&nbsp; <br />cp xgcc gcc-cross<br />gcc&nbsp; -DUSE_UCLIBC -g -O2 -DIN_GCC -DCROSS_COMPILE&nbsp; -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long&nbsp; &nbsp; -DHAVE_CONFIG_H&nbsp; -o cpp gcc.o cppspec.o intl.o \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prefix.o version.o&nbsp; ../libiberty/libiberty.a&nbsp; <br />/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/xgcc -B/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/ -B/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/bin/ -B/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/lib/ -isystem /home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/include -isystem /home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/mipsel-linux-uclibc/sys-include -dumpspecs &gt; tmp-specs<br />mv tmp-specs specs<br />if [ -f specs.ready ] ; then \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; true; \<br />&nbsp; &nbsp; &nbsp; &nbsp; else \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo timestamp &gt; specs.ready; \<br />&nbsp; &nbsp; &nbsp; &nbsp; fi<br />(MAKE=&quot;make&quot;; srcdir=`cd /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/fixinc &amp;&amp; ${PWDCMD-pwd}` ; \<br />&nbsp; &nbsp; &nbsp; &nbsp; CC=&quot;gcc&quot;; CFLAGS=&quot; -DUSE_UCLIBC -g -O2 -DIN_GCC -DCROSS_COMPILE&nbsp; -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long&nbsp; -Wno-error&nbsp; -DHAVE_CONFIG_H -DGENERATOR_FILE&quot;; LDFLAGS=&quot;&quot;; \<br />&nbsp; &nbsp; &nbsp; &nbsp; WARN_CFLAGS=&quot;-W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long&nbsp; -Wno-error&quot;; LIBERTY=`${PWDCMD-pwd}`/&quot;../libiberty/libiberty.a&quot;; \<br />&nbsp; &nbsp; &nbsp; &nbsp; export MAKE srcdir CC CFLAGS LDFLAGS WARN_CFLAGS LIBERTY; \<br />&nbsp; &nbsp; &nbsp; &nbsp; cd ./fixinc &amp;&amp; \<br />&nbsp; &nbsp; &nbsp; &nbsp; /bin/bash ${srcdir}/mkfixinc.sh i486-pc-linux-gnu mipsel-unknown-linux-uclibc)<br />constructing ../fixinc.sh for mipsel-unknown-linux-uclibc to run on i486-pc-linux-gnu<br />make TARGETS=oneprocess SHELL=&quot;/usr/bin/env bash -c &#039;. /home/margate/kamikaze/include/shell.sh; eval &quot;$2&quot;&#039; --&quot; CC=&quot;gcc&quot; CFLAGS=&quot; -DUSE_UCLIBC -g -O2 -DIN_GCC -DCROSS_COMPILE -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long -Wno-error -DHAVE_CONFIG_H -DGENERATOR_FILE&quot; LDFLAGS=&quot;&quot; LIBERTY=&quot;/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/../libiberty/libiberty.a&quot; install-bin<br />make[6]: Entering directory `/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/fixinc&#039;<br />/usr/bin/env bash -c &#039;. /home/margate/kamikaze/include/shell.sh; eval mipsel-unknown-linux-uclibc&#039; -- /home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6/gcc/fixinc/genfixes machname.h<br />--: mipsel-unknown-linux-uclibc: command not found<br />make[6]: *** [machname.h] Error 127<br />make[6]: Leaving directory `/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc/fixinc&#039;<br />make[5]: *** [fixinc.sh] Error 2<br />make[5]: Leaving directory `/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final/gcc&#039;<br />make[4]: *** [all-gcc] Error 2<br />make[4]: Leaving directory `/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-final&#039;<br />make[3]: *** [/home/margate/kamikaze/staging_dir/toolchain-mipsel_gcc3.4.6/stamp/.gcc_installed] Error 2<br />make[3]: Leaving directory `/home/margate/kamikaze/toolchain/gcc&#039;<br />make[2]: *** [toolchain/gcc/install] Error 2<br />make[2]: Leaving directory `/home/margate/kamikaze&#039;<br />make[1]: *** [/home/margate/kamikaze/staging_dir/mipsel/stampfiles/.toolchain_install] Error 2<br />make[1]: Leaving directory `/home/margate/kamikaze&#039;<br />make: *** [world] Error 2<br />margate@Ubuntu:~/kamikaze$ </p><p>regards <br />Helge</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53584">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">margate</div>
					<div class="post-datetime">
						8 Aug 2007, 19:06					</div>
				</div>
				<div class="post-content content">
					<p>By the way, the only one i find is</p><p>/home/margate/kamikaze/build_dir/toolchain-mipsel/gcc-3.4.6-initial/gcc/fixinc/machname.h</p><p>regards Helge</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>