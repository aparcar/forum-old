<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ASUS DSL-N10_C1 USB mod</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p314322">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">JRD McLAREN</div>
					<div class="post-datetime">
						11 Mar 2016, 00:03					</div>
				</div>
				<div class="post-content content">
					<p>Hello ...</p><p>I found this DSL router on my bag, and I try to modify it..<br />The N10 N12 and N14 _C1 have same board, same or similar fw / user interface.<br />GPL source is avalible .. so &quot;we are free&quot; ...</p><p>SOC is Ralink RT63365E<br />RAM is 32M<br />Flash 8M<br />Wifi 150Mbps&nbsp; (rt5390ap ?? )<br />No USB !!!</p><p>So, I need usb port, for printer, usb stick, etc.</p><p><span class="bbu"><strong>HW mod:</strong></span><br />we need solder one cap, fuse or short wire, to give +5V on usb socket pin<br />now need to solder usb socket or wire for usb hub (my choice / mod)<br />(buy any cheap 4 port usb hub with external power source socket)<br /><em>Pics:</em><br /><span class="postimg"><img src="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3514s.JPG" alt="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3514s.JPG" /></span></p><p><span class="postimg"><img src="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3515s.JPG" alt="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3515s.JPG" /></span></p><p><span class="postimg"><img src="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3516s.JPG" alt="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3516s.JPG" /></span></p><p><span class="postimg"><img src="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3517s.JPG" alt="http://195.28.90.62/dohc/dsl-n10-c1/DSCN3517s.JPG" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314327">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">JRD McLAREN</div>
					<div class="post-datetime">
						11 Mar 2016, 00:21					</div>
				</div>
				<div class="post-content content">
					<p><span class="bbu"><strong>SW mod:</strong></span></p><p>Cause, router have 8MB flash only, we need &quot;extra storage&quot; for file system.<br />If we can boot form USB Stick (usb-mass-storage), we need to recompile kernel<br />with all required modules. (ehci-hcd, usbcore, scsi, etc.)</p><p>All needed modified config files for kernel, profile for GPL are <a href="http://195.28.90.62/dohc/dsl-n10-c1/">there.</a><br />It is for GPL 1.1.0.4 source from Asus website.</p><p>Make these partiton on your new USB stick:<br />sda1 - 64MB ext3&nbsp; label rootfs<br />sda2 - 64MB swap<br />sda3 - all available space ext3 or fat32 label data</p><p>Make &quot;your own&quot; firmware with modified .conf files from GPL source<br />after compile, copy all files from GPL tmpfilesys/filesystem to usb (sda1)<br />flash &quot;new&quot; firmware from Project/images DSL-N10-C1_USBMOD_1.1.0.4.trx into the router<br />..and now your router can run from usb key .. </p><p>Enjoy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332928">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">krembuk</div>
					<div class="post-datetime">
						29 Jul 2016, 13:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>JRD McLAREN wrote:</cite><blockquote><p><span class="bbu"><strong>SW mod:</strong></span></p><p>...<br />Enjoy.</p></blockquote></div><p>I&#039;m trying to compile but stuck at this boa-asp error.</p><div class="codebox"><pre><code>cc -g -O2 -Wall -I. -I../ -I../../../libdisk/ -DTRENDCHIP  -c grammar.c 
In file included from grammar.y:11:0:
mini-asp.h:107:5: error: conflicting types for ‘gb_parse’
 int gb_parse (void*);
     ^
In file included from mini-asp.h:105:0,
                 from grammar.y:11:
grammar.tab.h:78:5: note: previous declaration of ‘gb_parse’ was here
grammar.tab.c: In function ‘gb_parse’:
grammar.tab.c:1195:7: error: too few arguments to function ‘gb_lex’
In file included from grammar.y:11:0:
mini-asp.h:109:5: note: declared here
 int gb_lex (YYSTYPE* yylval, asp_reent* reent);
     ^
grammar.y:15:35: error: ‘__yy_reent’ undeclared (first use in this function)
     #define yy_reent ((asp_reent*)__yy_reent)
                                   ^
grammar.y:47:39: note: in expansion of macro ‘yy_reent’
 aspfile:statements {$$=$1;yy_reent-&gt;root = $$;};
                                       ^
grammar.y:15:35: note: each undeclared identifier is reported only once for each function it appears in
     #define yy_reent ((asp_reent*)__yy_reent)
                                   ^
grammar.y:47:39: note: in expansion of macro ‘yy_reent’
 aspfile:statements {$$=$1;yy_reent-&gt;root = $$;};
                                       ^
make: *** [grammar.o] Error 1</code></pre></div><br /><p>If I modify Makefile, removing boa-asp definition, the build was completed successfully.</p><p>How did you overcome this boa-asp issue? I tried to do binwalk to fetch the original boa-asp binary, but haven&#039;t been successful in extracting the squashfs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362314">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">vnduylequang</div>
					<div class="post-datetime">
						20 Jul 2017, 06:12					</div>
				</div>
				<div class="post-content content">
					<p>@krembuk: I also got this error in Ubuntu 16.04 64bit, but got it fixed by compiling on Ubuntu12.04 32bit. This might be some error related to 32/64bit architecture.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>