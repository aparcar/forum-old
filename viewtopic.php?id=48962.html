<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TPLINK 1043ND wifi RX rate very slow</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p225244">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">danyro</div>
					<div class="post-datetime">
						13 Feb 2014, 18:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys</p><p>Since 2 weeks i am struggle with a strange behavior of my tp link 1043nd v1.11 router.</p><p>the wireless is set as client to another wifi AP. i tried many versions and trunks but i cannot get more than 5.5Mbps on RX. on TX is variable - from 20Mbps to 120Mbps. the signal is 85%. i tried many settings but...no effect.</p><p>if i connect my laptop directly to AP, i have connection from 54 to 120Mbps. but the 1043nd just 5.5Mbps on rx rate</p><p>openwrt version is: Powered by LuCI Trunk (svn-r9953) OpenWrt Barrier Breaker r39535 </p><p>below is my wireless config</p><p>root@TP-Link:~# cat /etc/config/wireless</p><p>config wifi-device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;mac80211&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;a0:f3:c1:fe:aa:aa&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab &#039;SHORT-GI-40&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab &#039;DSSS_CCK-40&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode &#039;11ng&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option country &#039;US&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel &#039;auto&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode &#039;HT40-&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option noscan &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option bursting &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ff &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option compression &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option xr &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ar &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option txpower &#039;24&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;wwan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;ssid&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;sta&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option bssid &#039;8C:E0:81:66:42:58&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;XXXXX&#039;</p><p>no errors in dmesg:</p><p>[&nbsp; &nbsp;27.990000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;27.990000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;28.000000] cfg80211:&nbsp; DFS Master region: unset<br />[&nbsp; &nbsp;28.000000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;28.010000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;28.020000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;28.030000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;28.040000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;28.040000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;28.050000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm)<br />[&nbsp; &nbsp;28.120000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;28.140000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;28.210000] ath: EEPROM regdomain: 0x0<br />[&nbsp; &nbsp;28.210000] ath: EEPROM indicates default country code should be used<br />[&nbsp; &nbsp;28.210000] ath: doing EEPROM country-&gt;regdmn map search<br />[&nbsp; &nbsp;28.210000] ath: country maps to regdmn code: 0x3a<br />[&nbsp; &nbsp;28.210000] ath: Country alpha2 being used: US<br />[&nbsp; &nbsp;28.210000] ath: Regpair used: 0x3a<br />[&nbsp; &nbsp;28.230000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />[&nbsp; &nbsp;28.240000] ieee80211 phy0: Atheros AR9100 MAC/BB Rev:7 AR2133 RF Rev:a2 mem=0xb80c0000, irq=2<br />[&nbsp; &nbsp;28.270000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp;28.270000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp;28.280000] cfg80211:&nbsp; DFS Master region: FCC<br />[&nbsp; &nbsp;28.280000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;28.290000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />[&nbsp; &nbsp;28.300000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz), (300 mBi, 1700 mBm)<br />[&nbsp; &nbsp;28.300000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz), (300 mBi, 2400 mBm)<br />[&nbsp; &nbsp;28.310000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 80000 KHz), (300 mBi, 2400 mBm)<br />[&nbsp; &nbsp;28.320000] cfg80211:&nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2400 mBm)<br />[&nbsp; &nbsp;28.330000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (300 mBi, 3000 mBm)<br />[&nbsp; &nbsp;28.340000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm)<br />[&nbsp; &nbsp;35.720000] ar71xx: pll_reg 0xb8050014: 0x1a000000</p><br /><p>any advices?</p><p>many thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>danyro</strong> on 13 Feb 2014, 18:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225286">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">danyro</div>
					<div class="post-datetime">
						14 Feb 2014, 08:44					</div>
				</div>
				<div class="post-content content">
					<p>i think i found the solution. </p><p>I switched to ddwrt but same issue. i changed the encryption mode from tkip+aes just to aes and now i have much higher rates. </p><p>i will switch back to openwrt and try with the new encryption settings. for sure this was the issue.</p><p>i hope to help others to use 2 weeks of free time with their kids/hobbies instead of doing troubleshooting <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>br</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225305">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						14 Feb 2014, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>I use option ecryption psk2+aes and have 80+ mbit of real data throughput in both drections (not duplex) between wr1043nd v1 AP and wr841n v8 as client doing nat.</p>											<p class="post-edited">(Last edited by <strong>nozombian</strong> on 14 Feb 2014, 12:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253358">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">blankcat</div>
					<div class="post-datetime">
						6 Nov 2014, 13:10					</div>
				</div>
				<div class="post-content content">
					<p>Greetings, not sure if this is the right topic to up, but I have a similar problem with Tx and Rx values. </p><p>While I clearly see the Tx value at 54 mbits, the Rx drops at 1 mbits few hours after the device is restarted. And the device is TP-Link TL-WR1043N/ND v1.8 Powered by LuCI Trunk (0.12+svn-r10530) OpenWrt Barrier Breaker 14.07 </p><p>IPv4-Address &nbsp; &nbsp;&nbsp; &nbsp;Signal &nbsp; &nbsp;&nbsp; &nbsp; Noise &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX Rate &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TX Rate<br />192.168.1.100&nbsp; &nbsp; -31 dBm&nbsp; &nbsp; -95 dBm&nbsp; &nbsp; 1.0 Mbit/s, MCS 0, 20MHz&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;54.0 Mbit/s, MCS 0, 20MHz<br />192.168.1.246&nbsp; &nbsp; -56 dBm&nbsp; &nbsp; -95 dBm&nbsp; &nbsp; 1.0 Mbit/s, MCS 0, 20MHz&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;52.0 Mbit/s, MCS 5, 20MHz</p><p>the first device is a laptop just 2 feet away from the router, running Win7 and Wi-fi adapter Intel(R) PRO/Wireless 3945ABG. The second is Android MTK6577 phone. </p><p>However this time I am not using an encryption method, but instead I have the MAC-filter set to allow only few devices to connect. No passwords whatsoever. </p><p>Can this be the source of my problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253400">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						6 Nov 2014, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>are you actually transmitting data during these drops? my devices drop to lower rates when nothing is going on, especially the mobile devices. probably saves battery and/or reduces noise on that channel.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253504">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">blankcat</div>
					<div class="post-datetime">
						7 Nov 2014, 10:27					</div>
				</div>
				<div class="post-content content">
					<p>Sadly I am observing this phenomenon exactly because I had noticeable drops in web experiences. While browsing or while using torrent client the speed of loading pages or downloading files shows that there is something quite wrong with the router performance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253577">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						8 Nov 2014, 05:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>blankcat wrote:</cite><blockquote><p>Sadly I am observing this phenomenon exactly because I had noticeable drops in web experiences. While browsing or while using torrent client the speed of loading pages or downloading files shows that there is something quite wrong with the router performance.</p></blockquote></div><p>if this happens during torrents, maybe you have a bufferbloat problem. Try enabling &amp; configuring QOS.</p>											<p class="post-edited">(Last edited by <strong>drawz</strong> on 8 Nov 2014, 05:41)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>