<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HAME MPR-A1 - Small and cheap router with built-in battery</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 May 2015 and 2 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 28</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p167919">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						22 May 2012, 16:51					</div>
				</div>
				<div class="post-content content">
					<p>HAME MPR-A1 WiFi 802.11b/g/n Wireless 3G Router w/ 1800mAh Battery Charger Dongle:<br /><a href="http://www.dealextreme.com/p/hame-mpr-a1-wifi-802-11b-g-n-wireless-3g-router-w-1800mah-battery-charger-dongle-122121">http://www.dealextreme.com/p/hame-mpr-a … gle-122121</a></p><p>This is small wifi router with built in battery, if it could only run openwrt that would be awesome! Not sure if it can or not, but I really wish it could...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167921">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						22 May 2012, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>Just found these images on some chinese forum, so check out how it looks inside:<br /><a href="http://dl.dropbox.com/u/184632/WRP-A1A.jpg">http://dl.dropbox.com/u/184632/WRP-A1A.jpg</a><br /><a href="http://dl.dropbox.com/u/184632/WRP-A1B.jpg">http://dl.dropbox.com/u/184632/WRP-A1B.jpg</a><br /><a href="http://dl.dropbox.com/u/184632/WRP-A1C.jpg">http://dl.dropbox.com/u/184632/WRP-A1C.jpg</a><br /><a href="http://dl.dropbox.com/u/184632/WRP-A1D.jpg">http://dl.dropbox.com/u/184632/WRP-A1D.jpg</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167964">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Lennong</div>
					<div class="post-datetime">
						23 May 2012, 07:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>valentt wrote:</cite><blockquote><p>HAME MPR-A1 WiFi 802.11b/g/n Wireless 3G Router w/ 1800mAh Battery Charger Dongle:<br /><a href="http://www.dealextreme.com/p/hame-mpr-a1-wifi-802-11b-g-n-wireless-3g-router-w-1800mah-battery-charger-dongle-122121">http://www.dealextreme.com/p/hame-mpr-a … gle-122121</a></p><p>This is small wifi router with built in battery, if it could only run openwrt that would be awesome! Not sure if it can or not, but I really wish it could...</p></blockquote></div><p>Do you have the adress to the chinese forum?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169527">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rafkeduck</div>
					<div class="post-datetime">
						9 Jun 2012, 17:09					</div>
				</div>
				<div class="post-content content">
					<p>It is running Linux 2.6, and it does have busybox. From the pictures it looks like ralink RT5350</p><p>PORT&nbsp; &nbsp;STATE&nbsp; &nbsp; SERVICE VERSION<br />23/tcp open&nbsp; &nbsp; &nbsp;telnet&nbsp; BusyBox telnetd<br />53/tcp open&nbsp; &nbsp; &nbsp;domain&nbsp; dnsmasq 2.40<br />80/tcp filtered http<br />MAC Address: 9C:41:7x:xx:xx:xx (Unknown)<br />Device type: general purpose<br />Running: Linux 2.6.X<br />OS details: Linux 2.6.13 - 2.6.28<br />Network Distance: 1 hop</p><p>I have locked myself out of the device (can no longer connect wireless, wrong key), and the reset button does not work for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169528">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">pepe2k</div>
					<div class="post-datetime">
						9 Jun 2012, 17:12					</div>
				</div>
				<div class="post-content content">
					<p>You can find more info about HAME MPR-A1 here (polish language):<br /><a href="http://openrouter.info/forum/viewtopic.php?f=19&amp;t=1678&amp;start=0">http://openrouter.info/forum/viewtopic. … mp;start=0</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173977">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						3 Aug 2012, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>Some more info:<br />firmware update from here: <a href="http://www.hamedata.com/html/server/download.html">http://www.hamedata.com/html/server/download.html</a><br />review: <a href="http://www.nowhere.per.sg/?p=1758">http://www.nowhere.per.sg/?p=1758</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174424">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">phariseo</div>
					<div class="post-datetime">
						9 Aug 2012, 11:28					</div>
				</div>
				<div class="post-content content">
					<p>Polish developers got it up and running, as you can see in topic mentioned above, they&#039;ll maybe release some patches. WiFi, USB and LAN isn&#039;t working.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p174456">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						9 Aug 2012, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>So serial port is under the battery, so anybody wanting to dig in will have to remove the battery first and connect serial port. Serial port is working on speed 57600, 8N1. </p><p>Full boot log</p><div class="quotebox"><blockquote><p>U-Boot 1.1.8 (Feb&nbsp; 6 2012 - 16:07:57)</p><br /><p>Board: Ralink APSoC DRAM:&nbsp; 16 MB</p><p>relocate_code Pointer at: 80fb0000</p><p>spi_wait_nsec: 42</p><p>spi device id: c8 40 16 c8 40 (4016c840)</p><p>find flash: G 1407</p><p>raspi_read: from:30000 len:1000</p><p>.*** Warning - bad CRC, using default environment</p><br /><p>============================================</p><p>Ralink UBoot Version: 3.6.0.0</p><p>--------------------------------------------</p><p>ASIC 5350_MP (Port5&lt;-&gt;None)</p><p>DRAM_CONF_FROM: Boot-Strapping</p><p>DRAM_TYPE: SDRAM</p><p>DRAM_SIZE: 128 Mbits</p><p>DRAM_WIDTH: 16 bits</p><p>DRAM_TOTAL_WIDTH: 16 bits</p><p>TOTAL_MEMORY_SIZE: 16 MBytes</p><p>Flash component: SPI Flash</p><p>Date:Feb&nbsp; 6 2012&nbsp; Time:16:07:57</p><p>============================================</p><p>icache: sets:256, ways:4, linesz:32 ,total:32768</p><p>dcache: sets:128, ways:4, linesz:32 ,total:16384</p><br /><p> ##### The CPU freq = 360 MHZ ####</p><p> estimate memory size =16 Mbytes</p><p>raspi_read: from:40028 len:6</p><p>.</p><p>raspi_read: from:0 len:30004</p><p>....[ff ff]</p><p>Init Plat A1</p><p>*************Is_update = 0 plat = 1**************</p><p>No lcd plat</p><p>Disable usb</p><p>Usb ok</p><br /><p>Please choose the operation:</p><p>&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.</p><p>&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.</p><p>&nbsp; &nbsp;3: Boot system code via Flash (default).</p><p>&nbsp; &nbsp;4: Entr boot command line interface.</p><p>&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial.</p><p>&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.</p><br /><br /><p>You choosed 3</p><br /><p> 0</p><p>&nbsp; &nbsp;</p><p>3: System Boot system code via Flash.</p><p>## Booting image at bc050000 ...</p><p>raspi_read: from:50000 len:40</p><p>.&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux Kernel Image</p><p>&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2012-05-11&nbsp; &nbsp;8:52:06 UTC</p><p>&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)</p><p>&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 3784987 Bytes =&nbsp; 3.6 MB</p><p>&nbsp; &nbsp;Load Address: 80000000</p><p>&nbsp; &nbsp;Entry Point:&nbsp; 80250000</p><p>raspi_read: from:50040 len:39c11b</p><p>..........................................................&nbsp; &nbsp;Verifying Checksum ... OK</p><p>&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>No initrd</p><p>## Transferring control to Linux (at address 80250000) ...</p><p>## Giving linux memsize in MB, 16</p><br /><p>Starting kernel ...</p><br /><br /><p>LINUX started...</p><p> THIS IS ASIC<br />Linux version 2.6.21 (root@localhost) (gcc version 3.4.2) #107 Sat Mar 31 02:09:35 EDT 2012</p><p> The CPU frequency set to 360 MHz<br />CPU revision is: 0001964c<br />Determined physical RAM map:<br /> memory: 01000000 .0 (128 buckets, 1024 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone<br />TCP cubic registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 112k freed</p><p>init started: BusyBox v1.12.1 (2011-10-22 23:04:50 CST)</p><p>starting pid 17, tty &#039;&#039;: &#039;/etc_ro/rcS&#039;<br />Algorithmics/MIPS FPU Emulator v1.5<br />devpts: called with bogus options<br />-------------------------------------------<br />Welcome to<br />&nbsp; &nbsp;__&nbsp; __&nbsp; &nbsp; &nbsp;__&nbsp; &nbsp; &nbsp;__&nbsp; &nbsp; __&nbsp; ______<br />&nbsp; &nbsp;| | | |&nbsp; &nbsp;/&nbsp; \&nbsp; &nbsp;|&nbsp; \&nbsp; /&nbsp; | | ____|<br />&nbsp; &nbsp;| |_| |&nbsp; / /\ \&nbsp; | |\\//| | | |___<br />&nbsp; &nbsp;|&nbsp; _&nbsp; | |_/__\ \ | | \/ | | | |___|<br />&nbsp; &nbsp; &nbsp; &nbsp; | | | | | |&nbsp; | | | |&nbsp; &nbsp; | | | |___<br />&nbsp; &nbsp; &nbsp; &nbsp; |_| |_| |_|&nbsp; |_| |_|&nbsp; &nbsp; |_| |_____|<br />&nbsp; &nbsp;HameData Technology Co., Ltd<br />-------------------------------------------<br />killall: goahead: no process killed<br />dir_3fbfff gpio_7 - 0 4000 0 0 0<br />usbcore: registered new interface driver ipheth<br />g_iplat = 1</p><p>starting pid 49, tty &#039;/dev/ttyS1&#039;: &#039;/bin/sh&#039;</p><br /><p>BusyBox v1.12.1 (2011-10-22 23:04:50 CST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p># killall: udhcpc: no process killed<br />killall: udhcpc: no process killed<br />apcli0&nbsp; &nbsp; no private ioctls.</p><p>ifconfig: ioctl 0x8913 failed: No such device<br />internet.sh<br />Password for &#039;hame&#039; changed<br />/sbin/internet.sh: line 271: can&#039;t create /proc/sys/kernel/hotplug: nonexistent directory<br />/sbin/internet.sh: line 282: can&#039;t create /proc/sys/net/ipv6/conf/default/accept_dad: nonexistent directory<br />rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller<br />rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1<br />rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000<br />rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller<br />rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2<br />rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000<br />usb usb2: configuration #1 chosen from 1 choice<br />hub 2-0:1.0: USB hub found<br />hub 2-0:1.0: 1 port detected<br />rmmod: ralink_wdt: No such file or directory<br />rmmod: cls: No such file or directory<br />rmmod: hw_nat: No such file or directory<br />rmmod: raeth: No such file or directory<br />insmod: bridge.ko: module not found<br />insmod: mii.ko: module not found<br />insmod: raeth.ko: module not found<br />/sbin/internet.sh: line 318: can&#039;t create /proc/<br />phy_tx_ring = 0x00959000, tx_ring = 0xa0959000</p><p>phy_rx_ring0 = 0x0095a000, rx_ring0 = 0xa095a000<br />MAC_ADRH -- : 0x00009c41<br />MAC_ADRL -- : 0x7c24eb95<br />sys/net/ipv6/conRT305x_ESW: Link Status Changed<br />f/eth2/accept_dad: nonexistent directory</p><p>##### disable 1st wireless interface #####<br />rmmod: rt2860v2_ap_net: No such file or directory<br />rmmod: rt2860v2_ap: No such file or directory<br />rmmod: rt2860v2_ap_util: No such file or directory<br />rmmod: rt2860v2_sta_net: No such file or directory<br />rmmod: rt2860v2_sta: No such file or directory<br />rmmod: rt2860v2_sta_util: No such file or directory<br />insmod: rt2860v2_ap_util.ko: module not found<br />rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.</p><br /><p>=== pAd = c0069000, size = 629120 ===</p><p>&lt;-- RTMPAllocAdapterBlock, Status=0<br />insmod: rt2860v2_ap_net.ko: module not found<br />rmmod: nf_nat_pptp: No such file or directory<br />rmmod: nf_conntrack_pptp: No such file or directory<br />rmmod: nf_nat_proto_gre: No such file or directory<br />rmmod: nf_conntrack_proto_gre: No such file or directory<br />RX DESC a04a8000&nbsp; size = 2048<br />&lt;-- RTMPAllocTxRxRingMemory, Status=0<br />RTMP_TimerListAdd: add timer obj c00d3b88!<br />RTMP_TimerListAdd: add timer obj c007101c!<br />RTMP_TimerListAdd: add timer obj c0070bec!<br />RTMP_TimerListAdd: add timer obj c0070fc8!<br />RTMP_TimerListAdd: add timer obj c0070ff0!<br />RTMP_TimerListAdd: add timer obj c00710d4!<br />RTMP_TimerListAdd: add timer obj c0071100!<br />RTMP_TimerListAdd: add timer obj c00712ac!<br />RTMP_TimerListAdd: add timer obj c00a19c4!<br />RTMP_TimerListAdd: add timer obj c00a1594!<br />RTMP_TimerListAdd: add timer obj c00a1970!<br />RTMP_TimerListAdd: add timer obj c00a1998!<br />RTMP_TimerListAdd: add timer obj c00a1a7c!<br />RTMP_TimerListAdd: add timer obj c00a1aa8!<br />RTMP_TimerListAdd: add timer obj c00a19f0!<br />RTMP_TimerListAdd: add timer obj c00a1a1c!<br />RTMP_TimerListAdd: add timer obj c00a1a48!<br />RTMP_TimerListAdd: add timer obj c00d40a8!<br />RTMP_TimerListAdd: add timer obj c00d4080!<br />RTMP_TimerListAdd: add timer obj c00d4058!<br />RTMP_TimerListAdd: add timer obj c00aa944!<br />RTMP_TimerListAdd: add timer obj c00aaa48!<br />RTMP_TimerListAdd: add timer obj c00aa96c!<br />RTMP_TimerListAdd: add timer obj c00a1f8c!<br />RTMP_TimerListAdd: add timer obj c006e4e0!<br />RTMP_TimerListAdd: add timer obj c00a1cac!<br />Key1Str is Invalid key length(0) or Type(0)<br />Key2Str is Invalid key length(0) or Type(0)<br />Key3Str is Invalid key length(0) or Type(0)<br />Key4Str is Invalid key length(0) or Type(0)<br />1. Phy Mode = 9<br />2. Phy Mode = 9<br />TXALC&gt; bInternalTxALC = 0<br />3. Phy Mode = 9<br />RTMP_TimerListAdd: add timer obj c006e0e4!<br />NICInitAsicFromEEPROM: pAd-&gt;TxPowerCtrl.bInternalTxALC = 0<br />RTMPSetPhyMode: channel is out of range, use first channel=0<br />MCS Set = ff 00 00 00 01<br />SYNC - BBP R4 to 20MHz.l<br />RTMP_TimerListAdd: add timer obj c00a228c!<br />Main bssid = 9c:41:7c:24:eb:98<br />&lt;==== rt28xx_init, Status=0<br />0x1300 = 00064380<br />vconfig: ioctl error for rem: Invalid argument<br />vconfig: ioctl error for rem: Invalid argument<br />rmmod: 8021q: No such file or directory<br />insmod: 8021q.ko: module not found<br />eth2.2: Setting MAC address to&nbsp; 9c 41 7c 24 eb 97.<br />device eth2 entered promiscuous mode<br />VLAN (eth2.2):&nbsp; Setting underlying device (eth2) to promiscious mode.<br />/sbin/internet.sh: line 469: can&#039;t create /proc/sys/net/ipv6/conf/eth2.2/accept_dad: nonexistent directory<br />/sbin/internet.sh: line 469: can&#039;t create /proc/sys/net/ipv6/conf/eth2.2/dad_transmits: nonexistent directory<br />ifconfig: ioctl 0x8913 failed: No such device<br />brctl: bridge br0: No such device or address<br />##### config Ralink ESW vlan partition (WLLLL) #####<br />switch reg write offset=14, value=405555<br />switch reg write offset=50, value=2001<br />switch reg write offset=98, value=7f3f<br />switch reg write offset=e4, value=3f<br />switch reg write offset=40, value=1002<br />switch reg write offset=44, value=1001<br />switch reg write offset=48, value=1001<br />switch reg write offset=70, value=ffff417e<br />done.<br />device ra0 entered promiscuous mode<br />/sbin/internet.sh: line 745: can&#039;t create /proc/sys/net/ipv6/conf/br0/accept_dad: nonexistent dieth2.1: dev_set_promiscuity(master, 1)<br />rectory<br />/sbin/idevice eth2.1 entered promiscuous mode<br />nternet.sh: line 745: can&#039;t create /proc/sys/net/ipv6/conf/br0/dad_transmits: nonexistent directory<br />##### start wan #####<br />wan.sh: unknown wan connection type: SMART<br />##### start lan #####<br />br0: port 2(eth2.1) entering learning state<br />br0: port 1(ra0) entering learning state<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />br0: topology change detected, propagating<br />br0: port 2(eth2.1) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 1(ra0) entering forwarding state<br />killall: udhcpd: no process killed<br />Set: phy[0].reg[0] = 3900<br />Set: phy[1].reg[0] = 3900<br />Set: phy[2].reg[0] = 3900<br />Set: phy[3].reg[0] = 3900<br />Set: phy[4].reg[0] = 3900<br />Set: phy[0].reg[0] = 3100<br />ifconfig: ioctl 0x8913 failed: No such device<br />/sbin/lan.sh: line 154: can&#039;t create /proc/sys/net/ipv6/conf/all/forwarding: nonexistent directory<br />##### start nat #####<br />##### finish nat #####<br />killall rt2860apd 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F -t filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j web_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F web_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j malicious_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F malicious_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D INPUT -j malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F malicious_input_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -P INPUT ACCEPT<br />iptables -P OUTPUT ACCEPT<br />iptables -P FORWARD ACCEPT<br />iptables -t filter -N web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N malicious_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N synflood_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N synflood_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j malicious_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A malicious_filter -p tcp --syn -j synflood_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A INPUT -j malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A malicious_input_filter -p tcp --syn -j synflood_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A malicious_input_filter -i&nbsp; -m state --state RELATED,ESTABLISHED -j ACCEPT<br />Bad argument `state&#039;<br />Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.<br />iptables -A malicious_input_filter -i&nbsp; -m state -p tcp --dport 80 --state NEW,INVALID -j DROP<br />Bad argument `state&#039;<br />Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.<br />/bin/super_dmz -f<br />sh: /bin/super_dmz: not found<br />iptables -t nat -D PREROUTING -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F port_forward&nbsp; 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X port_forward&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X DMZ&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F POSTROUTING 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N port_forward 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 1 -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 2 -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -A POSTROUTING -o&nbsp; -s 192.168.169.1/255.255.255.0 -j MASQUERADE 1&gt;/dev/null 2&gt;&amp;1<br />ntp.sh<br />ddns.sh<br />pool.ntp.org: Unknown host<br />kill -9 `cat /var/run/wscd.pid.ra0`<br />cat: can&#039;t open &#039;/var/run/wscd.pid.ra0&#039;: No such file or directory<br />kill: you need to specify whom to kill<br />iwpriv ra0 set WscConfMode=0 1&gt;/dev/null 2&gt;&amp;1<br />route delete 239.255.255.250 1&gt;/dev/null 2&gt;&amp;1<br />killall -q klogd<br />killall -q syslogd<br />syslogd -C8 1&gt;/dev/null 2&gt;&amp;1<br />klogd 1&gt;/dev/null 2&gt;&amp;1<br />killall -q zebra<br />killall -q ripd<br />webs: Listening for HTTP requests at address 192.168.169.1<br />tmk 7 set askdiadir_3fbffe gpio_7 - 4000 0 0 0 0<br />l=1<br />dir_3fbffe gpio_7 - 0 4000 0 0 0</p><p>isAndroid == 0<br />dir_3fbffe gpio_17 - 0 4000 0 0 0<br />dir_3fbffe gpio_20 - 6 24 4000 0 4000</p></blockquote></div><p>And also printenv:</p><div class="quotebox"><blockquote><p>bootcmd=tftp</p><p>bootdelay=2</p><p>baudrate=57600</p><p>ethaddr=&quot;00:AA:BB:CC:DD:10&quot;</p><p>ipaddr=192.168.1.109</p><p>serverip=192.168.1.55</p><p>ramargs=setenv bootargs root=/dev/ram rw</p><p>addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):off</p><p>addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) panic=1</p><p>flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)</p><p>kernel_addr=BFC40000</p><p>u-boot=u-boot.bin</p><p>load=tftp 8A100000 $(u-boot)</p><p>u_b=protect off 1:0-1;era 1:0-1;cp.b 8A100000 BC400000 $(filesize)</p><p>loadfs=tftp 8A100000 root.cramfs</p><p>u_fs=era bc540000 bc83ffff;cp.b 8A100000 BC540000 $(filesize)</p><p>test_tftp=tftp 8A100000 root.cramfs;run test_tftp</p><p>stdin=serial</p><p>stdout=serial</p><p>stderr=serial</p><p>ethact=Eth0 (10/100-M)</p><br /><p>Environment size: 768/4092 bytes</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183493">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">denovo</div>
					<div class="post-datetime">
						17 Nov 2012, 15:42					</div>
				</div>
				<div class="post-content content">
					<p>I just saw these for $21 <a href="http://www.aliexpress.com/store/product/3G-WIFI-Hame-3-in-1-MPR-A1-3G-Wireless-Router-Mobile-power-supply-MINI-Wireless/404570_677312055.html">here</a>.</p><p>It seems to be the cheapest potentially OpenWRT compatible router with a USB port and a battery, could be quite awesome if it was fully operational. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Oooh - it has a button and 3 LEDs. Current firmware uses the button to check battery level, but couldn&#039;t it be used to change modes, with the LEDs showing the current mode? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>denovo</strong> on 17 Nov 2012, 15:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183570">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						18 Nov 2012, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m sure we could buy one and donate it to any openwrt developer who can make it work...<br />Money is not an issue, is there anybody who has the knowledge to make this one work on openwrt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183613">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">monotube</div>
					<div class="post-datetime">
						18 Nov 2012, 21:38					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.geekbuying.com/item/3-In-1-3G-150Mbps-Mobile-Wireless-Roster-Router-Broadband-Power-WIFI-Hotspot-Mini-AP-Triple-307247.html">Here</a> is also a similar, but the model is MPR-L8, for $19. Would be great to see OpenWrt on it..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183771">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						20 Nov 2012, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>There is a cool g+ thread regarding this router:<br /><a href="https://plus.google.com/112108158515025495787/posts/5ut4ivVoa3T">https://plus.google.com/112108158515025 … ut4ivVoa3T</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183786">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">arpunk</div>
					<div class="post-datetime">
						20 Nov 2012, 17:15					</div>
				</div>
				<div class="post-content content">
					<p>There are different models for that same RT5350F 3G modem. I currently have one from Embedsys (EBS-PMA-W1) and another from other factory (it isn&#039;t labeled at all, assuming a prototype).</p><p>Here is the bootlog for the Embedsys:</p><div class="quotebox"><blockquote><p>U-Boot 1.1.3 (Jun 25 2012 - 17:19:19)</p><p>Board: Ralink APSoC DRAM:&nbsp; 16 MB<br />relocate_code Pointer at: 80fb0000<br />spi_wait_nsec: 42&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />spi device id: c8 40 16 c8 40 (4016c840)<br />Warning: un-recognized chip ID, please update bootloader!<br />raspi_read: from:30000 len:1000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />.raspi_read: from:30000 len:1000 <br />.============================================ <br />Ralink UBoot Version: 3.5.2.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />-------------------------------------------- <br />ASIC 5350_MP (Port5&lt;-&gt;None)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />DRAM_CONF_FROM: Boot-Strapping <br />DRAM_TYPE: SDRAM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />DRAM_SIZE: 128 Mbits<br />DRAM_WIDTH: 16 bits <br />DRAM_TOTAL_WIDTH: 16 bits<br />TOTAL_MEMORY_SIZE: 16 MBytes<br />Date:Jun 25 2012&nbsp; Time:17:19:19<br />============================================ </p><p>##### The CPU freq = 360 MHZ #### <br />estimate memory size =16 Mbytes&nbsp; &nbsp;</p><p>SYSTEM ID: EASO-PMA</p><p>&nbsp; &nbsp;2: Load system code then write to Flash via TFTP. <br />&nbsp; &nbsp;3: Boot system code via Flash (default).&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;4: Entr boot command line interface.&nbsp; &nbsp; <br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP. </p><p>## Booting image at bc050000 ...<br />raspi_read: from:50000 len:40&nbsp; &nbsp;<br />.&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux EASO-PMA<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2012-06-25&nbsp; &nbsp;9:18:32 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 3344802 Bytes =&nbsp; 3.2 MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;Load Address: 80000000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;Entry Point:&nbsp; 80434000<br />raspi_read: from:50040 len:3309a2 <br />....................................................&nbsp; &nbsp;Verifying Checksum ... OK1<br />&nbsp; &nbsp;Uncompressing(LZMA) Kernel Image ... UOK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />No initrd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />## Transferring control to Linux (at address 80434000) ...<br />## Giving linux memsize in MB, 16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>Starting kernel ...</p><p>LINUX started...</p><p> THIS IS ASIC<br />Linux version 2.6.21 (root@dev.cn) (gcc version 3.4.2) #3990 Sat Jun 23 00:30:43 CST 2012</p><p> The CPU feqenuce set to 360 MHz<br />CPU revision is: 0001964c<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />Built 1 zonelists.&nbsp; Total pages: 4064<br />Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock5<br />Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.<br />Primary data cache 16kB, 4-way, linesize 32 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Cache parity protection disabled<br />cause = c0808000, status = 11000000<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />calculating r4koff... 0015f900(1440000)<br />CPU frequency 360.00 MHz<br />Using 0.050 MHz high precision timer.<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 11684k/16384k available (3644k kernel code, 4700k reserved, 655k data, 128k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />SCSI subsystem initialized<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />NET: Registered protocol family 2<br />Time: MIPS clocksource has been installed.<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)</p><p>deice id : c8 40 16 c8 40 (4016c840)<br />Warning: un-recognized chip ID, please update SPI driver!<br />AT25DF321(1f 47000000) (4096 Kbytes)<br />mtd .name = raspi, .size = 0x00400000 (4M) .erasesize = 0x00010000 (64K) .numeraseregions = 0<br />Creating 7 MTD partitions on &quot;raspi&quot;:<br />0x00000000-0x00400000 : &quot;ALL&quot; <br />0x00000000-0x00030000 : &quot;Bootloader&quot; <br />0x00030000-0x00040000 : &quot;Config&quot; <br />0x00040000-0x00050000 : &quot;Factory&quot; <br />0x00050000-0x001b09e2 : &quot;Kernel&quot; <br />mtd: partition &quot;Kernel&quot; doesn&#039;t end on an erase block -- force read-only<br />0x001b09e2-0x01000000 : &quot;RootFS&quot; <br />mtd: partition &quot;RootFS&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x00050000-0x01000000 : &quot;Kernel_RootFS&quot; <br />RT3xxx EHCI/OHCI init.<br />squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher<br />squashfs: LZMA suppport for slax.org by jro<br />NTFS driver 2.1.28 [Flags: R/W].<br />io scheduler noop registered (default)<br />Ralink gpio driver initialized<br />HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096<br />N_HDLC line discipline registered.<br />Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A<br />serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A<br />loop: loaded (max 8 devices)<br />rdm_major = 254<br />MAC_ADRH -- : 0x00000000<br />MAC_ADRL -- : 0x00000000<br />Ralink APSoC Ethernet Driver Initilization. v2.0&nbsp; 256 rx/tx descriptors allocated, mtu = 1500!<br />MAC_ADRH -- : 0x0000000c<br />MAC_ADRL -- : 0x4333ed09<br />PROC INIT OK!<br />KERNEL nio_init_mudule OK!<br />PPP generic driver version 2.4.2<br />PPP Deflate Compression module registered<br />PPP BSD Compression module registered<br />PPP MPPE Compression module registered<br />NET: Registered protocol family 24<br />PPPoL2TP kernel driver, V0.17<br />PPTP driver version 0.8.1</p><p>=== pAd = c0019000, size = 802328 ===</p><p>&lt;-- RTMPAllocAdapterBlock, Status=0<br />SCSI Media Changer driver v0.25 <br />block2mtd: version $Revision: 1.1.1.1 $<br />usbmon: debugfs is not available<br />rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller<br />rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 1<br />rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000<br />usb usb1: Product: RT3xxx OHCI Controller<br />usb usb1: Manufacturer: Linux 2.6.21 ohci_hcd<br />usb usb1: SerialNumber: rt3xxx-ohci<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />usbcore: registered new interface driver cdc_acm<br />Initializing USB Mass Storage driver...<br />usbcore: registered new interface driver usb-storage<br />USB Mass Storage support registered.<br />nf_conntrack version 0.5.0 (128 buckets, 1024 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone<br />NET: Registered protocol family 1<br />NET: Registered protocol family 10<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />VFS: Mounted root (squashfs filesystem) readonly.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Freeing unused kernel memory: 128k freed&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />init started: BusyBox v1.12.1 (2012-06-05 22:48:24 CST)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p><p>Algorithmics/MIPS FPU Emulator v1.5<br />devpts: called with bogus options<br /> ________&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__<br />|&nbsp; &nbsp;_____|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; |<br />|&nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;_&nbsp; ___&nbsp; ___&nbsp; &nbsp;|&nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ____&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; |&nbsp; ____ ___&nbsp; &nbsp; ___ ____ <br />|&nbsp; |_____ | |/ _ \/ _ \&nbsp; |&nbsp; |____&nbsp; &nbsp; / ____ \&nbsp; &nbsp; _____|&nbsp; | /&nbsp; __/\&nbsp; \&nbsp; /&nbsp; //&nbsp; __/<br />|&nbsp; &nbsp;_____||&nbsp; _/ \&nbsp; / \ | |&nbsp; &nbsp;___ \&nbsp; / /____\ \&nbsp; /&nbsp; ___&nbsp; &nbsp;| | /&nbsp; &nbsp; \&nbsp; \/&nbsp; / | /&nbsp; &nbsp;<br />|&nbsp; |&nbsp; &nbsp; &nbsp; | |&nbsp; &nbsp;| |&nbsp; | | |&nbsp; |&nbsp; &nbsp;| | | |______| |&nbsp; |&nbsp; &nbsp;|&nbsp; |&nbsp; \ \&nbsp; &nbsp; \&nbsp; &nbsp; /&nbsp; &nbsp;\ \&nbsp; <br />|&nbsp; |_____ | |&nbsp; &nbsp;| |&nbsp; | | |&nbsp; |___| | | |______&nbsp; |&nbsp; |___|&nbsp; | __\ \&nbsp; &nbsp; \&nbsp; /&nbsp; &nbsp;__\ \<br />|________||_|&nbsp; &nbsp;|_|&nbsp; |_| |______ /&nbsp; &nbsp;\_______|&nbsp; \________|/____/&nbsp; &nbsp; / /&nbsp; &nbsp;/____/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _/ /<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/__/</p><p>/sbin/internet.sh: line 247: can&#039;t create /proc/sys/kernel/hotplug: nonexistent directory<br />rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller<br />rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 2<br />rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000<br />rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004<br />usb usb2: Product: Ralink EHCI Host Controller<br />usb usb2: Manufacturer: Linux 2.6.21 ehci_hcd<br />usb usb2: SerialNumber: rt3xxx<br />usb usb2: configuration #1 chosen from 1 choice<br />hub 2-0:1.0: USB hub found<br />hub 2-0:1.0: 1 port detected</p><p>phy_tx_ring = 0x0088e000, tx_ring = 0xa088e000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>phy_rx_ring0 = 0x0088f000, rx_ring0 = 0xa088f000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />RT5350_ESW: Link Status Changed&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />RX DESC a08ae000&nbsp; size = 2048<br />&lt;-- RTMPAllocTxRxRingMemory, Status=0<br />pAd-&gt;TxPowerCtrl.bInternalTxALC == FALSE !<br />MCS Set = 00 00 00 00 00<br />Main bssid = 00:0c:43:33:ed:08<br />&lt;==== rt28xx_init, Status=0<br />0x1300 = 00064380</p><p>(none) login: vconfig: ioctl error for rem: Invalid argument<br />vconfig: ioctl error for rem: Invalid argument<br />mknod: /dev/sg0: File exists<br />ifconfig: ioctl 0x8913 failed: No such device<br />brctl: bridge br0: No such device or address<br />##### config Ralink ESW vlan partition (LLLLW) #####<br />done.<br />device ra0 entered promiscuous mode<br />eth2.1: dev_set_promiscuity(master, 1)<br />device eth2 entered promiscuous mode<br />device eth2.1 entered promiscuous mode<br />br0: port 2(eth2.1) entering learning state<br />br0: port 1(ra0) entering learning state<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />Password for &#039;pma1&#039; changed<br />===&gt; [00:00:09] Compile: [Jun 22 2012 23:51:35] SMART(1) PMA=[PMA1] &lt;===<br />killall: udhcpd: no process killed<br />[00:00:10] ==&gt; Calibrated ... C[0],NP[6], PMA=[PMA1]<br />ifconfig: ioctl 0x8913 failed: No such device<br />==&gt; [00:00:13] GET MAC-Address: {000C4333ED08} &lt;==<br />Password for &#039;admin&#039; changed<br />==&gt; nid: 99, CONNMODE: 3G &lt;==<br />libupnp: using UDP SSDP_PORT = 1900<br />webs: Listening for HTTP requests at address 10.10.10.254<br />P[daemon:180] [00:00:18] CHECK-status: 11(NO-inited) defined(DOWNLIGHT[88])<br />-=&gt; RUN-MODE: 3G:0 &lt;=-<br />==&gt; SSID: PMA1-33ED08; BAP_NAME: PMA1-33ED08 &lt;==<br />br0: topology change detected, propagating<br />br0: port 2(eth2.1) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 1(ra0) entering forwarding state<br />[00:00:22] PMA1 off ALL-LED: WIFI.3G! then blink WiFi-LED<br />NET-status: DOWN PID(180) cnt=[1]<br />[00:00:22] -=&gt; count: [1], LINE{1531}, ADSL[0], NPRO[6], NLINK[0]; NP[0-0] &lt;=-<br />[00:00:23] [0] PROGRAM (goahead) run: (#0 =&gt; #23)<br /> - setting default address to 10.10.10.254<br />rt3xxx-ehci rt3xxx-ehci: remove, state 1<br />usb usb2: USB disconnect, address 1<br />[00:00:28] [3] PROGRAM (debsocket) run: (#0 =&gt; #925)<br />rt3xxx-ehci rt3xxx-ehci: USB bus 2 deregistered<br />[00:00:29] [4] PROGRAM (syslogd) run: (#0 =&gt; #1023)<br />[00:00:29] [4] PROGRAM (rt5350A) run: (#0 =&gt; #1025)<br />[00:00:29] [4] PROGRAM (proftpd) run: (#0 =&gt; #1049)<br />[00:00:29] [4] PROGRAM (hbeat) run: (#0 =&gt; #1052)<br />Password for &#039;pma1&#039; changed<br />NET-status: DOWN PID(1025) cnt=[1]<br />SSS check status3: CMD_INIT_DEVICE PID={180} [32]<br />SSS check status3: CMD_INIT_DEVICE PID={180} [48]</p></blockquote></div><p>Here is the bootlog for the generic one:</p><div class="quotebox"><blockquote><p>U-Boot 1.1.8 (Feb&nbsp; 6 2012 - 16:07:57)</p><p>Board: Ralink APSoC DRAM:&nbsp; 16 MB<br />relocate_code Pointer at: 80fb0000<br />spi_wait_nsec: 42&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />spi device id: 7f 9d 46 7f 9d (9d467f9d)<br />Warning: un-recognized chip ID, please update bootloader!<br />raspi_read: from:30000 len:1000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />.raspi_read: from:30000 len:1000 <br />.============================================ <br />Ralink UBoot Version: 3.6.0.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />-------------------------------------------- <br />ASIC 5350_MP (Port5&lt;-&gt;None)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />DRAM_CONF_FROM: Boot-Strapping <br />DRAM_TYPE: SDRAM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />DRAM_SIZE: 128 Mbits<br />DRAM_WIDTH: 16 bits <br />DRAM_TOTAL_WIDTH: 16 bits<br />TOTAL_MEMORY_SIZE: 16 MBytes<br />Flash component: SPI Flash&nbsp; <br />Date:Feb&nbsp; 6 2012&nbsp; Time:16:07:57<br />============================================ <br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384 </p><p> ##### The CPU freq = 360 MHZ #### <br /> estimate memory size =16 Mbytes&nbsp; &nbsp;<br />raspi_read: from:40028 len:6&nbsp; &nbsp; <br />.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />raspi_read: from:0 len:30004 <br />....[ff ff]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Init Plat A1<br />*************Is_update = 0 plat = 1**************<br />No lcd plat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Disable usb<br />Usb ok&nbsp; &nbsp; &nbsp;</p><p>Please choose the operation: <br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP. <br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP. <br />&nbsp; &nbsp;3: Boot system code via Flash (default).&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;4: Entr boot command line interface.&nbsp; &nbsp; <br />&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial. <br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.&nbsp; &nbsp;<br /> 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p><p>3: System Boot system code via Flash.<br />## Booting image at bc050000 ...&nbsp; &nbsp; &nbsp;<br />raspi_read: from:50000 len:40&nbsp; &nbsp;<br />.&nbsp; &nbsp;Image Name:&nbsp; &nbsp;Linux Kernel Image<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2012-10-29&nbsp; 15:04:42 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (gzip compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 3782250 Bytes =&nbsp; 3.6 MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;Load Address: 80000000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;Entry Point:&nbsp; 8024f000<br />raspi_read: from:50040 len:39b66a <br />..........................................................&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />No initrd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />## Transferring control to Linux (at address 8024f000) ...<br />## Giving linux memsize in MB, 16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>Starting kernel ...</p><p>LINUX started...</p><p> THIS IS ASIC<br />Linux version 2.6.21 (arpunk@bela) (gcc version 3.4.2) #3 Mon Oct 29 10:04:41 COT 2012</p><p> The CPU frequency set to 360 MHz<br />CPU revision is: 0001964c<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />Built 1 zonelists.&nbsp; Total pages: 4064<br />Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock5<br />Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.<br />Primary data cache 16kB, 4-way, linesize 32 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Cache parity protection disabled<br />cause = e0808000, status = 11000000<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />calculating r4koff... 0015f900(1440000)<br />CPU frequency 360.00 MHz<br />Using 180.000 MHz high precision timer.<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 13676k/16384k available (2073k kernel code, 2708k reserved, 286k data, 112k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />NET: Registered protocol family 2<br />Time: MIPS clocksource has been installed.<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)<br />TCP reno registered<br />deice id : 7f 9d 46 7f 9d (9d467f9d)<br />Warning: un-recognized chip ID, please update SPI driver!<br />AT25DF321(1f 47000000) (4096 Kbytes)<br />mtd .name = raspi, .size = 0x00400000 (4M) .erasesize = 0x00010000 (64K) .numeraseregions = 0<br />Creating 7 MTD partitions on &quot;raspi&quot;:<br />0x00000000-0x00400000 : &quot;ALL&quot; <br />0x00000000-0x00030000 : &quot;Bootloader&quot; <br />0x00030000-0x00040000 : &quot;Config&quot; <br />0x00040000-0x00050000 : &quot;Factory&quot; <br />0x00050000-0x0015a6aa : &quot;Kernel&quot; <br />mtd: partition &quot;Kernel&quot; doesn&#039;t end on an erase block -- force read-only<br />0x0015a6aa-0x01000000 : &quot;RootFS&quot; <br />mtd: partition &quot;RootFS&quot; extends beyond the end of device &quot;raspi&quot; -- size truncated to 0x2a5956<br />mtd: partition &quot;RootFS&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x00050000-0x01000000 : &quot;Kernel_RootFS&quot; <br />mtd: partition &quot;Kernel_RootFS&quot; extends beyond the end of device &quot;raspi&quot; -- size truncated to 0x3b0000<br />squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher<br />squashfs: LZMA suppport for slax.org by jro<br />io scheduler noop registered (default)<br />Ralink gpio driver initialized<br />HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096<br />N_HDLC line discipline registered.<br />Serial: 8250/16550 driver $Revision: 1.8 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A<br />3erial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A<br />loop: loaded (max 8 devices)<br />rdm_major = 253<br />Ralink APSoC Ethernet Driver Initilization. v2.1&nbsp; 256 rx/tx descriptors allocated, mtu = 1500!<br />MAC_ADRH -- : 0x00009c41<br />MAC_ADRL -- : 0x7c222ee5<br />PROC INIT OK!<br />IMQ starting with 2 devices...<br />IMQ driver loaded successfully.<br />&nbsp; &nbsp; &nbsp; &nbsp; Hooking IMQ after NAT on PREROUTING.<br />&nbsp; &nbsp; &nbsp; &nbsp; Hooking IMQ before NAT on POSTROUTING.<br />PPP generic driver version 2.4.2<br />PPP BSD Compression module registered<br />NET: Registered protocol family 24<br />PPPoL2TP kernel driver, V0.17<br />PPTP driver version 0.8.1<br />block2mtd: version $Revision: 1.1.1.1 $<br />nf_conntrack version 0.5.0 (128 buckets, 1024 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone<br />TCP cubic registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 10<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 112k freed<br />init started: BusyBox v1.12.1 (2012-10-29 09:41:47 COT)<br />starting pid 13, tty &#039;&#039;: &#039;/etc_ro/rcS&#039;<br />Algorithmics/MIPS FPU Emulator v1.5<br />devpts: called with bogus options<br />mount: mounting none on /proc/bus/usb failed: No such file or directory<br />Welcome to<br />&nbsp; &nbsp; &nbsp;_______&nbsp; _______&nbsp; ___&nbsp; &nbsp; &nbsp;__&nbsp; ____&nbsp; &nbsp;_&nbsp; _&nbsp; &nbsp;___<br />&nbsp; &nbsp; |&nbsp; ___&nbsp; \|&nbsp; &nbsp;__&nbsp; ||&nbsp; &nbsp;|&nbsp; &nbsp;|__||&nbsp; &nbsp; \ | || | /&nbsp; /<br />&nbsp; &nbsp; | |___| ||&nbsp; |__| ||&nbsp; &nbsp;|__&nbsp; __ |&nbsp; &nbsp; &nbsp;\| || |/&nbsp; /<br />&nbsp; &nbsp; |&nbsp; &nbsp;_&nbsp; &nbsp;/|&nbsp; &nbsp;_&nbsp; &nbsp;||&nbsp; &nbsp; &nbsp; ||&nbsp; || |\&nbsp; &nbsp; &nbsp;||&nbsp; &nbsp; &nbsp;\<br />&nbsp; &nbsp; |__| \__\|__| |__||______||__||_| \____||_|\___\</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=System Architecture Department=</p><p>starting pid 22, tty &#039;/dev/ttyS1&#039;: &#039;/bin/sh&#039;</p><p>BusyBox v1.12.1 (2012-10-29 09:41:47 COT) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p># internet.sh<br />Password for &#039;admin&#039; changed<br />rmmod: ralink_wdt: No such file or directory<br />rmmod: cls: No such file or directory<br />rmmod: hw_nat: No such file or directory<br />rmmod: raeth: No such file or directory<br />insmod: bridge.ko: module not found<br />insmod: mii.ko: module not found<br />insmod: raeth.ko: module not found</p><p>phy_tx_ring = 0x0085b000, tx_ring = 0xa085b000</p><p>phy_rx_ring0 = 0x0085c000, rx_ring0 = 0xa085c000<br />MAC_ADRH -- : 0x00009c41<br />MAC_ADRL -- : 0x7c222ee5<br />RT305x_ESW: Link Status Changed</p><p>##### disable 1st wireless interface #####<br />rmmod: rt2860v2_ap_net: No such file or directory<br />rmmod: rt2860v2_ap: No such file or directory<br />rmmod: rt2860v2_ap_util: No such file or directory<br />rmmod: rt2860v2_sta_net: No such file or directory<br />rmmod: rt2860v2_sta: No such file or directory<br />rmmod: rt2860v2_sta_util: No such file or directory<br />RT305x_ESW: Link Status Changed<br />insmod: rt2860v2_ap_util.ko: module not found<br />rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.</p><p>=== pAd = c0049000, size = 630120 ===</p><p>&lt;-- RTMPAllocAdapterBlock, Status=0<br />insmod: rt2860v2_ap_net.ko: module not found<br />rmmod: nf_nat_pptp: No such file or directory<br />rmmod: nf_conntrack_pptp: No such file or directory<br />rmmod: nf_nat_proto_gre: No such file or directory<br />rmmod: nf_conntrack_proto_gre: No such file or directory<br />RX DESC a0866000&nbsp; size = 2048<br />&lt;-- RTMPAllocTxRxRingMemory, Status=0<br />Key1Str is Invalid key length(0) or Type(0)<br />Key2Str is Invalid key length(0) or Type(0)<br />Key3Str is Invalid key length(0) or Type(0)<br />Key4Str is Invalid key length(0) or Type(0)<br />1. Phy Mode = 9<br />2. Phy Mode = 9<br />3. Phy Mode = 9<br />MCS Set = ff 00 00 00 01<br />Main bssid = 9c:41:7c:22:2e:e8<br />&lt;==== rt28xx_init, Status=0<br />0x1300 = 00064380<br />vconfig: ioctl error for rem: Invalid argument<br />vconfig: ioctl error for rem: Invalid argument<br />rmmod: 8021q: No such file or directory<br />insmod: 8021q.ko: module not found<br />eth2.2: Setting MAC address to&nbsp; 9c 41 7c 22 2e e7.<br />device eth2 entered promiscuous mode<br />VLAN (eth2.2):&nbsp; Setting underlying device (eth2) to promiscious mode.<br />ifconfig: ioctl 0x8913 failed: No such device<br />brctl: bridge br0: No such device or address<br />##### config Ralink ESW vlan partition (LLLLW) #####<br />switch reg write offset=14, value=405555<br />switch reg write offset=50, value=2001<br />switch reg write offset=98, value=7f3f<br />switch reg write offset=e4, value=3f<br />switch reg write offset=40, value=1001<br />switch reg write offset=44, value=1001<br />switch reg write offset=48, value=1002<br />switch reg write offset=70, value=ffff506f<br />done.<br />device ra0 entered promiscuous mode<br />eth2.1: dev_set_promiscuity(master, 1)<br />device eth2.1 entered promiscuous mode<br />udhcpc (v1.12.1) started<br />br0: port 2(eth2.1) entering learning state<br />br0: port 1(ra0) entering learning state<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />/sbin/lan.sh: line 63: hostname: not found<br />br0: topology change detected, propagating<br />br0: port 2(eth2.1) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 1(ra0) entering forwarding state<br />killall: udhcpd: no process killed<br />Set: phy[0].reg[RT305x_ESW: Link Status Changed<br />0] = 3900<br />Set: phy[1].reg[0] = 3900<br />Set: phy[2].reg[0] = 3900<br />Set: phy[3].reg[0] = 3900<br />Set: phy[0].reg[0] = 3100<br />Set: phy[1].reg[0] = 3100<br />Set: phy[2].reg[0] = 3100<br />Set: phy[3].reg[0] = 3100<br />ifconfig: ioctl 0x8913 failed: No such device<br />RT305x_ESW: Link Status Changed<br />killall rt2860apd 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F -t filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j web_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F web_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j malicious_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F malicious_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D INPUT -j malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F malicious_input_filter&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -P INPUT ACCEPT<br />iptables -P OUTPUT ACCEPT<br />iptables -P FORWARD ACCEPT<br />iptables -t filter -N web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N malicious_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N synflood_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N synflood_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j malicious_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A malicious_filter -p tcp --syn -j synflood_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A INPUT -j malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A malicious_input_filter -p tcp --syn -j synflood_input_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A malicious_input_filter -i eth2.2 -m state --state RELATED,ESTABLISHED -j ACCEPT<br />iptables -A malicious_input_filter -i eth2.2 -m state -p tcp --dport 80 --state NEW,INVALID -j DROP<br />/bin/super_dmz -f<br />sh: /bin/super_dmz: not found<br />iptables -t nat -D PREROUTING -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F port_forward&nbsp; 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X port_forward&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X DMZ&nbsp; 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N port_forward 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 1 -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 2 -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />ntp.sh<br />ddns.sh<br />kill -9 `cat /var/run/wscd.pid.ra0`<br />cat: can&#039;t open &#039;/var/run/wscd.pid.ra0&#039;: No such file or directory<br />kill: you need to specify whom to kill<br />iwpriv ra0 set WscConfMode=0 1&gt;/dev/null 2&gt;&amp;1<br />route delete 239.255.255.250 1&gt;/dev/null 2&gt;&amp;1<br />killall -q klogd<br />killall -q syslogd<br />syslogd -C8 1&gt;/dev/null 2&gt;&amp;1<br />klogd 1&gt;/dev/null 2&gt;&amp;1<br />killall -q zebra<br />killall -q ripd<br />/bin/qos_run<br />webs: Listening for HTTP requests at address 10.10.10.254</p></blockquote></div><p>Embedsys is running a modified version of Ralink SDK 3.6.0.0 and the generic is running stock Ralink SDK firmware.</p><p>The flash layout is as follows:</p><div class="quotebox"><blockquote><p># cat /proc/mtd <br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00400000 00010000 &quot;ALL&quot; <br />mtd1: 00030000 00010000 &quot;Bootloader&quot; <br />mtd2: 00010000 00010000 &quot;Config&quot; <br />mtd3: 00010000 00010000 &quot;Factory&quot; <br />mtd4: 0010a6aa 00010000 &quot;Kernel&quot; <br />mtd5: 002a5956 00010000 &quot;RootFS&quot; <br />mtd6: 003b0000 00010000 &quot;Kernel_RootFS&quot; <br />#</p></blockquote></div><p>The ones I&#039;m trying to get to work have 16MB RAM and 4MB FLASH (AT25DF321 (1f 47000000) (4096 Kbytes)) and use the propietary Ralink rt2860v2 wireless drivers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185236">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						4 Dec 2012, 18:00					</div>
				</div>
				<div class="post-content content">
					<p>I bought an MPR-L8 (HAME MPR-A1 clone, apparently).</p><p>Is there any progress on having OpenWrt working on the RT5350, including wireless and USB?</p><p>Does someone has patches for that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185539">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						8 Dec 2012, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>Bump!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185669">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						10 Dec 2012, 10:50					</div>
				</div>
				<div class="post-content content">
					<p>There is some progress on Google+:<br /><a href="https://plus.google.com/112108158515025495787/posts/5ut4ivVoa3T">https://plus.google.com/112108158515025 … ut4ivVoa3T</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185671">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						10 Dec 2012, 11:50					</div>
				</div>
				<div class="post-content content">
					<p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185673">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						10 Dec 2012, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>I have seen the patches posted in the dev list regarding Wi-fi, but I haven&#039;t tried it yet... Do you have an experience with it?</p><p>Also, it looks like USB is still not working: it may be just a GPIO controlling the USB power switch, don&#039;t you think?</p><p>And it looks like nobody touched the bootloader yet: it could be interesting for performing a Flash upgrade...</p><p>I will have some time to work on it, so I will solder a console adapter first. Then try to backup the Flash chip just in case, then proceed from there...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185696">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Heffer</div>
					<div class="post-datetime">
						10 Dec 2012, 17:33					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d definitely like to see the USB and WiFi working on my very similar HOTSION HOT-V9 Device.</p><p>I&#039;ve added a Wiki Page for it here <a href="http://wiki.openwrt.org/toh/hotsion/hot-v9">http://wiki.openwrt.org/toh/hotsion/hot-v9</a><br />I&#039;ve posted my patches here <a href="http://heffer.fedorapeople.org/openwrt/">http://heffer.fedorapeople.org/openwrt/</a></p><p>The WiFi Patch posted there does activate the wifi card but somehow I cannot receive it&#039;s signal. I&#039;ll check with the original firmware whether the EEPROM in the MTD differs from what the driver is actually loading.</p><p>As far as the USB is concerned I&#039;m wondering why it only detects one port:<br /></p><div class="codebox"><pre><code>rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller
rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1
rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000
rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: Product: Ralink EHCI Host Controller
usb usb1: Manufacturer: Linux 2.6.21 ehci_hcd
usb usb1: SerialNumber: rt3xxx
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller
rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2
rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000
usb usb2: Product: RT3xxx OHCI Controller
usb usb2: Manufacturer: Linux 2.6.21 ohci_hcd
usb usb2: SerialNumber: rt3xxx-ohci
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
usb 1-1: new high speed USB device using rt3xxx-ehci and address 2
usb 1-1: Product: USB Storage
usb 1-1: Manufacturer: Generic
usb 1-1: SerialNumber: 000000000250
usb 1-1: configuration #1 chosen from 1 choice</code></pre></div><p>I see only one port being registered: <strong>hub 1-0:1.0: 1 port detected</strong><br />As you can see it registers the internal SD cardreader (which actually even works, I can mount and use it). However the two external USB ports don&#039;t work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185702">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						10 Dec 2012, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>From your hi-res PCB picture, I can tell that:<br /></p><ul><li><p>U12 is a Genesys Logic <a href="http://www.genesyslogic.com/manage/upfile/13432711671.pdf">GL823</a> USB 2.0 SD/MMC Card Reader Controller: this is the device that provides the microSD card over USB</p></li><li><p>U3 and U4 are 2x Elite MicroPower <a href="http://www.micro-bridge.com/data/EMP/EMC5060.pdf">EMC5060</a> Single-cell Li-Ion Charger IC with System Power Management</p></li><li><p>There are 2x unidentified TSSOP8 chips left and below the 2x &quot;4R7&quot; power inductors which are probably DC/DC voltage regualtors</p></li><li><p>U29 is a Chipsea <a href="http://www.chipsea.com/doce/download-downloads-146.html">CS1168</a> 24-bit Sigma/delta ADC</p></li><li><p>U9 &quot;MT3470&quot; is unidentified, but given the large &quot;4R7&quot; power inductor close to it, it is probably a power-related chip</p></li><li><p>The SDRAM chip is an EtronTech <a href="http://www.digchip.com/datasheets/download_datasheet.php?id=2788497&amp;part-number=EM63A165TS-6G">EM63A165</a> 16Mega x 16 Synchronous DRAM (SDRAM), so you get 32MB</p></li><li><p>As you already found out, the Flash chip is a GigaDevice <a href="http://www.gigadevice.com/UserFiles/File/20121107/GD25Q64B.pdf">GD25Q64B</a> 64M-bit Serial Flash, so you get 8MB</p></li></ul><p>But the culprits may well be U36 and U37, which look like 2x USB power switch chips, that are probably GPIO-controlled....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185705">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						10 Dec 2012, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>Regarding my MPR-L8 (HAME MPR-A1 clone), I found a Feeling Technology <a href="http://www.feeling-tech.com.tw/km-master/ezcatfiles/cust/img/img/24/fp6290v062-lf.pdf">FP6290</a> Low-Noise Step-Up Current Mode PWM Controller with Over Current Protection, which is apparently used to provide the +5V USB power from the +3V3 or +3V7 battery voltage. It is located on the battery-side of the PCB, close to the battery, the USB connector and a 10µH D/DC inductor.</p><p>Pin 3 is an EN (ENable) pin, so it may also be GPIO-controlled by the RT5350, which could explain why there is no USB detected besides the root hub itself.</p><p>But if this is the case, we still have to find out which GPIO is used... Maybe by looking in the &quot;/sys/class/gpio&quot; from the original firmware?</p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 10 Dec 2012, 19:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185716">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						10 Dec 2012, 21:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>monotube wrote:</cite><blockquote><p><a href="http://www.geekbuying.com/item/3-In-1-3G-150Mbps-Mobile-Wireless-Roster-Router-Broadband-Power-WIFI-Hotspot-Mini-AP-Triple-307247.html">Here</a> is also a similar, but the model is MPR-L8, for $19. Would be great to see OpenWrt on it..</p></blockquote></div><p>thank for the link, just ordered 2 of these, waiting for openwrt support!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185720">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						10 Dec 2012, 22:37					</div>
				</div>
				<div class="post-content content">
					<p>As I haven&#039;t seen it yet, here is the TTL console pinout. Looking at PCB bottom/battery side, USB connector on left, Ethernet RJ45 on right side, there are 4 horizontally-aligned pads close to the PCB edge the closest to you :<br /></p><ul><li><p>Left: GND</p></li><li><p>Middle-Left: RX</p></li><li><p>Middle-Right: TX</p></li><li><p>Right: +3V3</p></li></ul><p>Console is running at 57600 bps, 8 bits , no parity, 1 stop bit, no software/hardware flow control.</p><p>Here is the MPR-L8 boot log:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.7 (Dec 13 2011 - 13:49:42)

Board: Ralink APSoC DRAM:  16 MB
relocate_code Pointer at: 80fb4000
spi_wait_nsec: 42 
spi device id: ef 40 16 0 0 (40160000)
find flash: W25Q32BV
raspi_read: from:30000 len:1000 
.raspi_read: from:30000 len:1000 
.============================================ 
Ralink UBoot Version: 3.6.0.0
-------------------------------------------- 
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping 
DRAM_TYPE: SDRAM 
DRAM_SIZE: 128 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 16 MBytes
Flash component: SPI Flash
Date:Dec 13 2011  Time:13:49:42
============================================ 
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384 

 ##### The CPU freq = 360 MHZ #### 
 estimate memory size =16 Mbytes
raspi_read: from:40028 len:6 
.
raspi_read: from:0 len:30004 
....*************Is_update = 0 plat = 1**************

Please choose the operation: 
   1: Load system code to SDRAM via TFTP. 
   2: Load system code then write to Flash via TFTP. 
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial. 
   9: Load Boot Loader code then write to Flash via TFTP. 
 0 

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40 
.   Image Name:   Linux Kernel Image
   Created:      2012-08-21   8:22:53 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3305408 Bytes =  3.2 MB
   Load Address: 80000000
   Entry Point:  802d1000
raspi_read: from:50040 len:326fc0 
...................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 802d1000) ...
## Giving linux memsize in MB, 16

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@hex.centos.mac) (gcc version 3.4.2) #1390 Tue Aug 21 15:13:30 HKT 2012

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Built 1 zonelists.  Total pages: 4064
Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock4
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808020, status = 11000000
PID hash table entries: 64 (order: 6, 256 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 180.000 MHz high precision timer.
Console: colour dummy device 80x25
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 13072k/16384k available (2190k kernel code, 3312k reserved, 689k data, 112k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
Time: MIPS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
deice id : ef 40 16 0 0 (40160000)
W25Q32BV(ef 40160000) (4096 Kbytes)
mtd .name = raspi, .size = 0x00400000 (4M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 6 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x00150000 : &quot;Kernel&quot;
0x00150000-0x00400000 : &quot;RootFS&quot;
0x00050000-0x00400000 : &quot;Firmware&quot;
RT3xxx EHCI/OHCI init.
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
fuse init (API version 7.8)
io scheduler noop registered (default)
DIR=003fbfff
MOD=004000c0
DATA=003c0001
ralink_gpio.c ===&gt;GPIOMMODE =0x004000C0 DIR=0x003FBFFF DAT=0x003C0001
==============&gt;SET GPIOMMODE =0x0000005D 
---- HXTM Set LED! ----
3 ===&gt;GPIOMMODE =0x0000005D DIR=0x003FBFFE DAT=0x003C4081
Ralink gpio driver initialized
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocated, mtu = 1500!
MAC_ADRH -- : 0x00009c41
MAC_ADRL -- : 0x7c264e95
PROC INIT OK!
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.1
block2mtd: version $Revision: 1.1.1.1 $
Netfilter messages via NETLINK v0.30.
ip_conntrack version 2.4 (128 buckets, 1024 max) - 232 bytes per conntrack
ip_conntrack_pptp version 3.1 loaded
ip_nat_pptp version 3.0 loaded
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone
ipt_time loading
arp_tables: (C) 2002 David S. Miller
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 112k freed
nvram_init start.
NVRAM MTD is mtd1
_nvram_read checksum = 4a1e save checksum = 4a1e
nvram_init finished. 
Netlink Hotplugdrt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller
rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1
rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000
rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: Product: Ralink EHCI Host Controller
usb usb1: Manufacturer: Linux 2.6.21 ehci_hcd
usb usb1: SerialNumber: rt3xxx
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller
rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2
rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000
usb usb2: Product: RT3xxx OHCI Controller
usb usb2: Manufacturer: Linux 2.6.21 ohci_hcd
usb usb2: SerialNumber: rt3xxx-ohci
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected

phy_tx_ring = 0x00a65000, tx_ring = 0xa0a65000

phy_rx_ring0 = 0x00a66000, rx_ring0 = 0xa0a66000
RT305x_ESW: Link Status Changed
Hit enter to continue...

3G Router Start!
--&gt;start_lan BaseMode=6
--&gt;wan_proto =5
rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.


=== pAd = c006f000, size = 632752 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
RX DESC a04e5000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
ff:ac:f2:bb:9b:14:da:b7:6a:22:24:9a:52:dd:14:cc:
23:90:a1:e1:8d:70:11:e5:8d:5b:16:cf:e7:e0:ef:2b:

1. Phy Mode = 9
2. Phy Mode = 9
TXALC&gt; bInternalTxALC = 0
3. Phy Mode = 9
NICInitAsicFromEEPROM: pAd-&gt;TxPowerCtrl.bInternalTxALC = 0
MCS Set = ff 00 00 00 01
Main bssid = 00:20:0c:06:35:a0
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
Algorithmics/MIPS FPU Emulator v1.5
device ra0 entered promiscuous mode
device eth2 entered promiscuous mode
br0: port 2(eth2) entering learning state
br0: port 1(ra0) entering learning state
open error
Open /proc/max/macfilter Failed
Set Port Mirror Failed.
Set Port VLAN Failed
Set Port Mirror Failed.
=====&gt; set eth2.2 hwaddr to 00:20:0C:06:35:A1 error
eth2.2: No such device
ioctl siocsifmtu fail 19 No such device
IDLE
Hit enter to continue...
br0: topology change detected, propagating
br0: port 2(eth2) entering forwarding state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
-----------------run smartd----------------------
Hit enter to continue...



BusyBox v1.12.1 (2012-07-22 23:43:12 HKT) built-in shell (msh)
Enter &#039;help&#039; for a list of built-in commands.</code></pre></div><p>But you only get access to a limited shell <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br /></p><div class="codebox"><pre><code>BoC Router&gt; 
BoC Router&gt; help

 ?                   -&gt;Display help information.
 help                -&gt;Display help information, same as &#039;?&#039; command.
 clear               -&gt;Clear various talbes, type clear for help.
 ping                -&gt;ping HOST, type ping for help.
 traceroute          -&gt;route trace, type traceroute for help.
 ipmac               -&gt;ip mac bind settings.
 quit                -&gt;Close terminal session.
 show                -&gt;Display various talbes information, type show for help.
 restart_httpd       -&gt;Restart web server.
 restore_defaults    -&gt;Restore the config to the default factory value.
 ated                -&gt;run ated for MP test.

BoC Router&gt; show
  ip          &lt; ip informations
  ipmac       &lt; ipmac binding information.
  nat         &lt; nat informations
  dev         &lt; show device statistics
  system      &lt; system basic informations

BoC Router&gt; show system
  revision        &lt; show basic information
  process         &lt; show the process of the router
  run             &lt; show the run status of the router
  uptime          &lt; show time when the router start
  date            &lt; show current the date of the router

BoC Router&gt; show system revision

  software version: 2.1.1.8
     product model: MPR-L8
     serial number: HXTM12061766
  hardware version: V1.0.1
  f/w release date: Aug. 21, 2012 00:02:18</code></pre></div><p>Here is the U-Boot printenv:<br /></p><div class="codebox"><pre><code>RT5350 # printenv
bootcmd=tftp
bootdelay=2
baudrate=57600
ethaddr=&quot;00:AA:BB:CC:DD:10&quot;
ramargs=setenv bootargs root=/dev/ram rw
addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):off
addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) panic=1
flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)
kernel_addr=BFC40000
u-boot=u-boot.bin
load=tftp 8A100000 $(u-boot)
u_b=protect off 1:0-1;era 1:0-1;cp.b 8A100000 BC400000 $(filesize)
loadfs=tftp 8A100000 root.cramfs
u_fs=era bc540000 bc83ffff;cp.b 8A100000 BC540000 $(filesize)
test_tftp=tftp 8A100000 root.cramfs;run test_tftp
ethact=Eth0 (10/100-M)
serverip=10.10.10.3
ipaddr=10.10.10.123
stdin=serial
stdout=serial
stderr=serial

Environment size: 765/4092 bytes
RT5350 # </code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185732">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						11 Dec 2012, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>@Ricardo: looking at the <a href="http://openrouter.info/forum/viewtopic.php?p=18984#p18984">Polish thread</a> on the subject:<br /></p><div class="codebox"><pre><code>GPIO0 - Reset Button
GPIO7 - USB Power
GPIO12 - cos zwiazanego z USB 
GPIO13 - ? (jest w bootlogu oryginalu ale nie doszedlem do czego sluzy)
GPIO17 - Dioda LED red Power
GPIO20 - Dioda LED ble sys</code></pre></div><p>I don&#039;t understand everything, but it looks like the GPIO7 controls the USB power, and GPIO12 has something to do with USB too, maybe USB over-current detect input?</p><p>So you can try to play with /sys/class/gpio and export GPIO7 as output and set it to 1? Then if it works, integrate it into the machine def like this one from TL-WR703N:<br /></p><div class="codebox"><pre><code>    gpio_request_one(TL_WR703N_GPIO_USB_POWER,
             GPIOF_OUT_INIT_HIGH | GPIOF_EXPORT_DIR_FIXED,
             &quot;USB power&quot;);</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185813">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">perazim</div>
					<div class="post-datetime">
						12 Dec 2012, 10:29					</div>
				</div>
				<div class="post-content content">
					<p>I am waiting for a supplier to build one of these with a built-in 3G modem.</p><p>And while they are at it, an on-board SLIC ATA interface too.</p><p>Perazim</p>											<p class="post-edited">(Last edited by <strong>perazim</strong> on 12 Dec 2012, 10:31)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 28</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>