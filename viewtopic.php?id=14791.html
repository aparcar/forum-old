<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with 2GB CompactFlash card with default Kamikaze build</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p64694">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pavko</div>
					<div class="post-datetime">
						6 Mar 2008, 14:53					</div>
				</div>
				<div class="post-content content">
					<p>HW Platform: PcEngines ALIX 3c2 (<a href="http://www.pcengines.ch/alix3c2.htm">http://www.pcengines.ch/alix3c2.htm</a>)</p><p>Booting ext2 image from 2GB CF card leads to following error:<br /></p><div class="codebox"><pre><code>Linux version 2.6.23.16 (builder@buildenv) (gcc version 4.2.3) #1 SMP Tue Mar 4 13:04:03 CET 2008
BIOS-provided physical RAM map:
 BIOS-e820: 0000000000000000 - 00000000000a0000 (usable)
 BIOS-e820: 00000000000f0000 - 0000000000100000 (reserved)
 BIOS-e820: 0000000000100000 - 0000000010000000 (usable)
 BIOS-e820: 00000000fff00000 - 0000000100000000 (reserved)
256MB LOWMEM available.
Zone PFN ranges:
  DMA             0 -&gt;     4096
  Normal       4096 -&gt;    65536
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 -&gt;    65536
DMI not present or invalid.
Allocating PCI resources starting at 20000000 (gap: 10000000:eff00000)
Built 1 zonelists in Zone order.  Total pages: 65024
Kernel command line: root=/dev/hda2 rootfstype=ext2 init=/etc/preinit  noinitrd console=tty0 console=ttyS0,38400n8 reboot=bios
No local APIC present or hardware disabled
Initializing CPU#0
PID hash table entries: 1024 (order: 10, 4096 bytes)
Detected 498.048 MHz processor.
Console: colour dummy device 80x25
console [tty0] enabled
console [ttyS0] enabled
Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
Memory: 256964k/262144k available (1518k kernel code, 256976k reserved, 589k data, 180k init, 0k highmem)
virtual kernel memory layout:
    fixmap  : 0xfffb9000 - 0xfffff000   ( 280 kB)
    vmalloc : 0xd0800000 - 0xfffb7000   ( 759 MB)
    lowmem  : 0xc0000000 - 0xd0000000   ( 256 MB)
      .init : 0xc0315000 - 0xc0342000   ( 180 kB)
      .data : 0xc027baae - 0xc030ef90   ( 589 kB)
      .text : 0xc0100000 - 0xc027baae   (1518 kB)
Checking if this processor honours the WP bit even in supervisor mode... Ok.
Calibrating delay using timer specific routine.. 997.39 BogoMIPS (lpj=4986992)
Mount-cache hash table entries: 512
CPU: L1 I Cache: 64K (32 bytes/line), D cache 64K (32 bytes/line)
CPU: L2 Cache: 128K (32 bytes/line)
Compat vDSO mapped to ffffe000.
Checking &#039;hlt&#039; instruction... OK.
Checking for popad bug... OK.
SMP alternatives: switching to UP code
Freeing SMP alternatives: 11k freed
CPU0: AMD Geode(TM) Integrated Processor by AMD PCS stepping 02
SMP motherboard not detected.
Local APIC not detected. Using dummy APIC emulation.
Brought up 1 CPUs
NET: Registered protocol family 16
PCI: PCI BIOS revision 2.10 entry at 0xfcc2b, last bus=0
PCI: Using configuration type 1
Setting up standard PCI resources
Linux Plug and Play Support v0.97 (c) Adam Belay
PCI: Probing PCI hardware
NET: Registered protocol family 2
Time: tsc clocksource has been installed.
IP route cache hash table entries: 2048 (order: 1, 8192 bytes)
TCP established hash table entries: 8192 (order: 4, 98304 bytes)
TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
TCP: Hash tables configured (established 8192 bind 8192)
TCP reno registered
microcode: CPU0 not a capable Intel processor
IA-32 Microcode Update Driver: v1.14a &lt;tigran@aivazian.fsnet.co.uk&gt;
scx200: NatSemi SCx200 Driver
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler deadline registered (default)
isapnp: Scanning for PnP cards...
isapnp: No Plug &amp; Play device found
Real Time Clock Driver v1.12ac
Non-volatile memory driver v1.2
AMD Geode RNG detected
Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled
--?---250: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
hda: TOSHIBA THNCF2G04QG, CFA DISK drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hda: max request size: 128KiB
hda: 3985632 sectors (2040 MB) w/2KiB Cache, CHS=3954/16/63
 hda: hda1 hda2
block2mtd: version $Revision: 1.30 $
PNP: No PS/2 controller found. Probing ports directly.
i8042.c: No controller found.
mice: PS/2 mouse device common for all mice
nf_conntrack version 0.5.0 (4096 buckets, 16384 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Using IPI Shortcut mode
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 180k freed
Please be patient, while OpenWrt loads ...
- preinit -
EXT2-fs warning: mounting unchecked fs, running e2fsck is recommended
- init -

Please press Enter to activate this console. BUG: unable to handle kernel paging request at virtual address 7373622e
 printing eip:
c01b3265
*pde = 00000000
Oops: 0000 [#1]
SMP
Modules linked in:
CPU:    0
EIP:    0060:[&lt;c01b3265&gt;]    Not tainted VLI
EFLAGS: 00010202   (2.6.23.16 #1)
EIP is at strcmp+0x6/0x19
eax: 7373622e   ebx: cfe4ad20   ecx: cfd55750   edx: c135ecc0
esi: 7373622e   edi: c135ecc0   ebp: cfe4ad54   esp: cfe85e64
ds: 007b   es: 007b   fs: 00d8  gs: 0000  ss: 0068
Process insmod (pid: 443, ti=cfe84000 task=cfd26030 task.ti=cfe84000)
Stack: c135ecc0 cfd55600 c017f26e cfe4acec cfd55634 c017ed37 cfe4ad54 00000000
       00000000 00000000 cfd55750 00000000 cfd55600 cfe4ad54 c0180c9d cfd55774
       000000d0 c013ff97 00000008 cfe4ad54 cfd557c4 cfd55600 cfd55778 d0856080
Call Trace:
 [&lt;c017f26e&gt;] sysfs_find_dirent+0x19/0x29
 [&lt;c017ed37&gt;] sysfs_add_file+0x42/0x88
 [&lt;c0180c9d&gt;] sysfs_create_group+0x84/0xe7
 [&lt;c013ff97&gt;] kstrdup+0x23/0x44
 [&lt;c0133312&gt;] sys_init_module+0x1308/0x14de
 [&lt;c0150b86&gt;] do_sync_read+0xc7/0x10a
 [&lt;c027b0f6&gt;] _spin_lock+0x0/0xf
 [&lt;c01042b2&gt;] syscall_call+0x7/0xb
 =======================
Code: d2 89 c3 89 c7 83 ec 0c 89 d0 f2 ae 4f 89 e9 49 78 06 ac aa 84 c0 75 f7 31 c0 aa 83 c4 0c 89 d8 5b 5e 5f 5d c3 57 89 d7 56 89 c6 &lt;ac&gt; ae 75 08 84 c0 75 f8 31 c0 eb 04 19 c0 0c 01 5e 5f c3 57 89
EIP: [&lt;c01b3265&gt;] strcmp+0x6/0x19 SS:ESP 0068:cfe85e64
Clocksource tsc unstable (delta = 320022281 ns)
Time: pit clocksource has been installed.



BusyBox v1.8.2 (2008-03-04 12:42:55 CET) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r10543) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/#</code></pre></div><p>Writing same image to the 128MB CF card lets it boot (not without problems but that another problem...). Could you please tell me what to do to enable successfull boot from 2GB CF?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64695">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						6 Mar 2008, 15:00					</div>
				</div>
				<div class="post-content content">
					<p>Oops is a segfault in kernel mode, so it&#039;s unlikely to be card dependent. With r10546 mounting jffs filesystem fails for me on a 256M CF card, while succeeded on 7.09. Please try with 7.09 to exclude definitively a card failure issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64696">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pavko</div>
					<div class="post-datetime">
						6 Mar 2008, 15:04					</div>
				</div>
				<div class="post-content content">
					<p>OK I&#039;ll try. But as I said changing card to 128 MB removes segfault...</p><p>Edit 11/03/2008<br />I&#039;ve recompiled toolchain and segfault just disappeared; Not investigating this further as I don&#039;t have free time to do so... Didn&#039;t tried 7.09 as it has no support for ALIX.</p>											<p class="post-edited">(Last edited by <strong>pavko</strong> on 11 Mar 2008, 19:45)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>