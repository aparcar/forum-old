<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Blueendless Kimax U35WF firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Apr 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=66908&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=66908&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p353435">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">arvati</div>
					<div class="post-datetime">
						3 Mar 2017, 13:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>100EB wrote:</cite><blockquote><div class="quotebox"><cite>filin.rsb wrote:</cite><blockquote><p>Who needs the firmware, please, I have the original version since 1.2.2 to 1.3.5 and dump flash memory.</p></blockquote></div><p>Hi, i need the original firmware, can you share to me?</p></blockquote></div><p>Could share original version with me too?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353470">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">Dman12</div>
					<div class="post-datetime">
						4 Mar 2017, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>guys quick question, after installing firmware from RinaGute my connection between the device and computer over ethernet is only 100Mb?<br />I was sure that this device support 1000Mb connections<br />is it firmware problem? or the device is not 1000Mb?</p>											<p class="post-edited">(Last edited by <strong>Dman12</strong> on 4 Mar 2017, 01:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p353910">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">alex2104</div>
					<div class="post-datetime">
						10 Mar 2017, 19:27					</div>
				</div>
				<div class="post-content content">
					<p>Dman12&nbsp; &nbsp; &nbsp; &nbsp;What is your speed on WiFi?&nbsp; &nbsp;The situation is this. If&nbsp; connect directly to Kimax via WiFi is the speed of copying from a disc 6.5 Mb / s. If Kimax connected to another router through WiFi the speed of the disc has 1.5 Mb / s. At the same time the normal speed of the Internet in both cases (10Mb / s) It is possible as that correct?<br />Updated to version 1.4.0 nothing has changed.</p>											<p class="post-edited">(Last edited by <strong>alex2104</strong> on 10 Mar 2017, 19:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354073">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">arvati</div>
					<div class="post-datetime">
						12 Mar 2017, 23:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alazyworkaholic wrote:</cite><blockquote><p>How can I insure myself against losing the ability to connect to the U35WF after disabling DHCP?</p><p>Would assigning a static-IP in the U35WF to my computer&#039;s MAC address do it?</p><p>Correct me if I&#039;m wrong, but if I disable DHCP, then the U35WF will never assign an address to anything, and I&#039;ll never be able to connect to it. Or not?</p></blockquote></div><p>Now i got my kimax-u35wf device. i may help further others but i am doing yet some mistakes so I can&#039;t connect it to my router via ethernet, only via wifi (strange?). does anybody could help?</p><p>Well, to assure myself against losing ability to connect i created a wifi interface called &quot;service&quot; with dhcp enabled.<br />The lan interface is bridged with eth0.1, master wifi and client wifi (to connect to my router).</p><p>Right now i configured two fixed ip addres:<br />192.168.169.1 when connecting via &quot;service&quot;&nbsp; wifi<br />192.168.1.14 when connecting via ethernet or lan wifi.</p><p>Some work i am doing at shared over here:<br /></p><div class="codebox"><pre><code>https://github.com/arvati/openwrt-U35WF/wiki/OpenWrt-Configuration</code></pre></div><p>What I ve done so far:<br />* bricked (rsrs) and unbricked device with serial cable<br />* compiled firmware with useful packages (for btrfs filesystem) and configurations<br />* configured extroot to hd<br />* created &quot;service&quot; interface via wifi<br />* not getting ethernet working the right way....</p>											<p class="post-edited">(Last edited by <strong>arvati</strong> on 12 Mar 2017, 23:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354123">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">alex2104</div>
					<div class="post-datetime">
						13 Mar 2017, 19:30					</div>
				</div>
				<div class="post-content content">
					<p>Tell me, who&#039;s speed through the router by Wifi is more than 1.5mb / s</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354127">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">arvati</div>
					<div class="post-datetime">
						13 Mar 2017, 19:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alex2104 wrote:</cite><blockquote><p>Tell me, who&#039;s speed through the router by Wifi is more than 1.5mb / s</p></blockquote></div><p>How could I measure that from an Ubuntu or chromebook machine?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354367">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">alex2104</div>
					<div class="post-datetime">
						16 Mar 2017, 21:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arvati wrote:</cite><blockquote><div class="quotebox"><cite>alex2104 wrote:</cite><blockquote><p>Tell me, who&#039;s speed through the router by Wifi is more than 1.5mb / s</p></blockquote></div><p>How could I measure that from an Ubuntu or chromebook machine?</p></blockquote></div><p>Excuse me. I did not understand your question. Russian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354485">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">arvati</div>
					<div class="post-datetime">
						18 Mar 2017, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>I just compiled an image for LEDE project version 17.01.<br />Download available here: </p><div class="codebox"><pre><code>https://github.com/arvati/lede-U35WF/releases</code></pre></div><p>After flashing connect to lan port with your computer and access address 192.168.1.1 with dhcp enabled.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354794">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						22 Mar 2017, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>Thanks arvati, how to enable the drive sharing with this version?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354796">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">arvati</div>
					<div class="post-datetime">
						22 Mar 2017, 18:22					</div>
				</div>
				<div class="post-content content">
					<p>Lede comes with Luci interface.<br />Just install samba server package to e able to share data.<br />You may also want to configure fstab to mount your HDD.<br />Some of my config files I shared in a wiki page at Github.<br />To share video files via dlna to my TV I use minidlna package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354837">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						23 Mar 2017, 06:44					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, installed the Samba.<br />Still having some issues sharing the USB HDD, after mounting and sharing.<br />Seems to be permissions issue, since only way to share is as a root and I can&#039;t login as a root.<br />BTW: would is be possible to compile a package that is including all the functions as one for &quot;none Linux&quot; experts?<br />Just in case, I&#039;m trying to find the original software of the U35WF, any link?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354858">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">arvati</div>
					<div class="post-datetime">
						23 Mar 2017, 14:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Thehobit wrote:</cite><blockquote><p>BTW: would is be possible to compile a package that is including all the functions as one for &quot;none Linux&quot; experts?<br />Just in case, I&#039;m trying to find the original software of the U35WF, any link?</p></blockquote></div><p>Sure. Tell me what functionalities you want.<br />Just samba, torrent, dlna ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354874">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						23 Mar 2017, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>Much appreciated mate.</p><p>Actually the basic NAS functionality as a priority:</p><p>* Easy mounting and sharing of internal and external USB drive, including permission and networking functionality.<br />* DLNA is a great add on<br />* Fully functional LAN port (major issue with original firmware)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354958">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						24 Mar 2017, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>Additional question, just in case, how it is possible to revert from openWrt to original firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355069">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">alex2104</div>
					<div class="post-datetime">
						26 Mar 2017, 18:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Thehobit wrote:</cite><blockquote><p>Thanks, installed the Samba.<br />Still having some issues sharing the USB HDD, after mounting and sharing.<br />Seems to be permissions issue, since only way to share is as a root and I can&#039;t login as a root.<br />BTW: would is be possible to compile a package that is including all the functions as one for &quot;none Linux&quot; experts?<br />Just in case, I&#039;m trying to find the original software of the U35WF, any link?</p></blockquote></div><p>&nbsp; Original software of the U35WF&nbsp; V.1.4.0.&nbsp; &nbsp; &nbsp; <a href="https://cloud.mail.ru/public/D1rK/Xrm8mUDJ2">https://cloud.mail.ru/public/D1rK/Xrm8mUDJ2</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355073">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						26 Mar 2017, 19:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alex2104 wrote:</cite><blockquote><div class="quotebox"><cite>Thehobit wrote:</cite><blockquote><p>Thanks, installed the Samba.<br />Still having some issues sharing the USB HDD, after mounting and sharing.<br />Seems to be permissions issue, since only way to share is as a root and I can&#039;t login as a root.<br />BTW: would is be possible to compile a package that is including all the functions as one for &quot;none Linux&quot; experts?<br />Just in case, I&#039;m trying to find the original software of the U35WF, any link?</p></blockquote></div><p>&nbsp; Original software of the U35WF&nbsp; V.1.4.0.&nbsp; &nbsp; &nbsp; <a href="http://h**ps://cloud.mail.ru/public/D1rK/Xrm8mUDJ2">h**ps://cloud.mail.ru/public/D1rK/Xrm8mUDJ2</a></p></blockquote></div><p>Thanks, any guide how to revert from openWrt to stock?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355163">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">rospicio</div>
					<div class="post-datetime">
						28 Mar 2017, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>bricked <br />Original software of the U35WF&nbsp; V.1.4.0.[*][/*]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355179">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						29 Mar 2017, 08:04					</div>
				</div>
				<div class="post-content content">
					<p>Appreciate if anyone can reply how to unbrick / revert from openWrt to stock</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355601">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">rospicio</div>
					<div class="post-datetime">
						4 Apr 2017, 21:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Thehobit wrote:</cite><blockquote><p>Appreciate if anyone can reply how to unbrick / revert from openWrt to stock</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355777">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">Thehobit</div>
					<div class="post-datetime">
						7 Apr 2017, 10:12					</div>
				</div>
				<div class="post-content content">
					<p>Anyone still active on that thread? Appreciate help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358291">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">hedgehogwrt</div>
					<div class="post-datetime">
						13 May 2017, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>Hello friends, bought yourself u25wf, a lot of experimentation with the firmware, as a result there is a wifi but to 192.168.1.1 through the web and ssh there is no connection. There is a programmer for 8 contacts and usb-uart. Does anyone have a full memory dump, since I do not know the offset for my data? Or is there an easier way to restore the firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363604">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">Ewiyn</div>
					<div class="post-datetime">
						13 Aug 2017, 06:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m realy-realy new in openwrt<br />is there someone can give me, some tutorial step by step, how to flash the firmware <br />LEDE? and which file from <a href="http://github.com/arvati/lede-U35WF/releases">github.com/arvati/lede-U35WF/releases</a>?</p><p>for the info, i just bough the kimax u35wf, and the firmware already LUCI for-15.05<br />thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363755">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">alazyworkaholic</div>
					<div class="post-datetime">
						15 Aug 2017, 19:31					</div>
				</div>
				<div class="post-content content">
					<p>I forget exactly how I accessed the UI of the stock KiMax firmware, but I think I simply connect an ethernet cable directly between my PC and the U35WF&#039;s ethernet port. I think the instructions that come in the box include the IP address (192.168.1.1, I think) &amp; username/password.</p><p>Navigate via a browser to that IP, enter credentials, and then find the webpage/menu that has something about upgrading the firmware. Click on browse, then find the new image file, and click upload.</p><p>I flashed this image: lede-17.01-snapshot-r3287-1ebe050-ramips-mt7620-u35wf-squashfs-sysupgrade.bin</p><p>Expect to wait a few minutes.<br />The device will restart. <br />For me, it didn&#039;t work right off. I had to powercycle (after waiting a few minutes again) once more to connect.</p><p>Connect ethernet cable directly between U35WF &amp; PC.<br />On PC, navigate to 192.168.1.1, and you&#039;ll be granted access without a password, and you&#039;ll have to set one.</p><p>### Optional Further Setup ###<br />(just notes that I made for myself, so some minor steps might be missing or plain wrong. Consider as guideline, not definitive reference)</p><p>In LuCi interface, navigate to Network -&gt; Interfaces<br />Edit interface, set to DHCP Client<br />Consider assigning a static IP to this device in the DHCP server (your home router, if you have one) to facilitate port forwards, NAS, etc.<br />You could assign a static IP, but then you&#039;d have to to reconfigure it each time, and also set the gateway, dns, etc. by hand.</p><p>opkg files are held in tmp, so must be re-downloaded every time via &quot;opkg update&quot;</p><p>Run:<br />&nbsp; &nbsp; opkg update<br />&nbsp; &nbsp; opkg install nano<br />Also install whatever luci-app-* packages you find convenient.</p><p>### TRANSMISSION BITTORRENT CLIENT ###<br />Install:<br />&nbsp; &nbsp; transmission-daemon-openssl<br />&nbsp; &nbsp; transmission-web<br />&nbsp; &nbsp; luci-app-transmission<br />Then start transmission in the foreground by running:<br />&nbsp; &nbsp; transmission-daemon -f<br />A file should now exist at:<br />&nbsp; &nbsp; /root/.config/transmission-daemon<br />Edit the file so:<br />&nbsp; &nbsp; &quot;download-dir&quot;: &quot;/path/to/download-dir&quot;,<br />&nbsp; &nbsp; &quot;incomplete-dir&quot;: &quot;/path/to/incomplete-dir&quot;,<br />&nbsp; &nbsp; &quot;incomplete-dir-enabled&quot;: true,<br />&nbsp; &nbsp; &quot;rpc-enabled&quot;: true,<br />&nbsp; &nbsp; &quot;rpc-authentication-required&quot;: true,<br />&nbsp; &nbsp; &quot;rpc-password&quot;: &quot;mypasswd&quot;,<br />&nbsp; &nbsp; &quot;rpc-username&quot;: &quot;myusername&quot;<br />&nbsp; &nbsp; &quot;rpc-whitelist-enabled&quot;: false,<br />Optionally, save it in a new location like:<br />&nbsp; &nbsp; /mnt/2TBhdd/TORRENTS/.Config/settings.json<br />&amp; specify it as the config file directory in the LuCi transmission app, like:<br />&nbsp; &nbsp; /mnt/2TBhdd/TORRENTS/.Config</p><p>Finally, run:<br />&nbsp; &nbsp; /etc/init.d/transmission enable<br />&nbsp; &nbsp; /etc/init.d/transmission start<br />If that doesn&#039;t do it (it didn&#039;t), you may need to run:<br />&nbsp; &nbsp; transmission-daemon -g /mnt/2TBhdd/TORRENTS/.Config</p><p>Unfortunately, the watch directory (to automatically load/start torrent files) does not work, because the OpenWRT kernel would need to support a notify feature, or so I&#039;ve read.<br />&nbsp; &nbsp; </p><p>### SAMBA FILE SHARING ###<br />I have 2 users, alan &amp; bella (I write a &#039;$&#039; for steps repeated with different variables, don&#039;t write it literally), and want each to have their own private directory, besides sharing files.<br />to restart samba server: /etc/init.d/samba restart<br />to restart Windows client: Run services.msc, restart &quot;Workstation&quot; service.</p><p>Run:<br />&nbsp; &nbsp; mkdir -p /mnt/U35WF/$EACH_USER</p><p>Edit /etc/samba/smb.conf<br />[global]<br />&nbsp; &nbsp; display charset = UTF-8<br />&nbsp; &nbsp; unix charset = UTF-8<br />&nbsp; &nbsp; guest ok = no<br />&nbsp; &nbsp; #invalid users = root<br />&nbsp; &nbsp; map to guest = never<br />&nbsp; &nbsp; null passwords = no<br />&nbsp; &nbsp; security = user<br />&nbsp; &nbsp; writable = yes</p><p>[2TBhdd]<br />&nbsp; &nbsp; path = /mnt/2TBhdd<br />&nbsp; &nbsp; valid users = users<br />&nbsp; &nbsp; read only = no<br />&nbsp; &nbsp; guest ok = no<br />&nbsp; &nbsp; create mask = 0660<br />&nbsp; &nbsp; directory mask = 2770</p><p>[$EACH_USER] (e.g. alan)<br />&nbsp; &nbsp; path = /mnt/U35WF/$EACH_USER<br />&nbsp; &nbsp; valid users = $EACH_USER<br />&nbsp; &nbsp; read only = no<br />&nbsp; &nbsp; guest ok = no<br />&nbsp; &nbsp; create mask = 0600<br />&nbsp; &nbsp; directory mask = 0700</p><p>Not sure about these yet (they&#039;re share options)...<br />&nbsp; &nbsp; force groups = +users<br />&nbsp; &nbsp; force directory mode = 2775<br />&nbsp; &nbsp; force create mode = 664</p><p>To have separately-permissioned directories, you need to add users. OpenWRT/LEDE is not designed for multiple users out-of-the box. To do that, install:<br />&nbsp; &nbsp; opkg install shadow-useradd<br />Run for each user:<br />&nbsp; &nbsp; useradd --home-dir/mnt/2TBhdd/user_home_directory -M -N -g 100 -p MyPa$$w0rd -s /bin/false -u $MyUUID $LOGIN_NAME</p><p>This will add a user, without a valid shell (/bin/false) to the users group (-g 100)<br />Remove:<br />&nbsp; &nbsp; opkg remove shadow-useradd (no longer necessary)<br />Run for each user:<br />&nbsp; &nbsp; smbpasswd -a $LOGIN_NAME<br />Unfortunately, smbpasswd &amp; passwd need something called PAM to sync the passwords, and I&#039;m not up to working that out now.<br />Also, I&#039;ve been told tdbsmb is reportedly a better password backend than smbpasswd, if you have the choice.</p><p>Permissions are tricky:<br />1=x<br />2=w<br />3=wx<br />4=r<br />5=rx<br />6=rw<br />7=rwx<br />I want each user to have their own home, but also have a shared files directory accessible to all users. Run:<br />&nbsp; &nbsp; chown -R root /mnt/U35WF<br />&nbsp; &nbsp; chgrp -R users /mnt/U35WF<br />&nbsp; &nbsp; find /mnt/U35WF -type d -exec chmod 2770 {} +&nbsp; &nbsp; &nbsp; &nbsp; # ~= chmod g+sw<br />&nbsp; &nbsp; find /mnt/U35WF -type f -exec chmod 660 {} +&nbsp; &nbsp; &nbsp; &nbsp; # ~= chmod g+w<br />The 2770 permissions applied to the directories appear as &#039;drwxrws---&#039;. The &#039;s&#039; in the group permissions triplet means that users of the same group as the person who writes any new files/directories will have the same permissions for those files/directories as the person writing them.<br />for $EACH_USER:<br />&nbsp; &nbsp; chown -R $EACH_USER /mnt/U35WF/$EACH_USER<br />&nbsp; &nbsp; find /mnt/U35WF/$EACH_USER -type d -exec chmod 2700 {} +<br />&nbsp; &nbsp; find /mnt/U35WF/$EACH_USER -type f -exec chmod 600 {} +<br />&nbsp; &nbsp; chmod 700 /mnt/U35WF/$EACH_USER&nbsp; &nbsp; # This allows only the owner to descend into their share.</p><p>Mounting the shares on ...<br />Windows<br />&nbsp; &nbsp; Go to My Computer, add a network location.<br />Linux (temporary)<br />&nbsp; &nbsp; mount //{$IP_OF_U35WF}/{$SHARE_NAME} /mnt/U35WF/$EACH_USER -t cifs -o username=alan,password=&quot;pa$$w0rd&quot;,uid=1000,gid=1000<br />Linux (permanent, via fstab line)<br />&nbsp; &nbsp; //{$IP_OF_U35WF}/{$SHARE_NAME}&nbsp; &nbsp; cifs&nbsp; &nbsp; credentials=/home/$EACH_USER/.smbcredentials,iocharset=utf8,sec=ntlm,uid=$UID_OF_$EACH_USER,gid=$GID_OF_$EACH_USER&nbsp; &nbsp; 0 0</p><p>where .smbcredentials is a file with permissions 600 with only username=$EACH_USER (newline) password=p@$$w0Rd<br />But a separate mount point for multiple users is still a lousy way to mount for multiple users. It&#039;s workable for two or a few, but the proper way would be to use the multiuser mount option. I tried to figure that out via a youtube video entitled &quot;Configuring Samba with multiuser mounts&quot;, but it seems the samba server installed on the U35WF is missing a component (cifscreds, not in repo) that makes it work.</p><br /><p>### FTP ###<br />Prefer to use vsftpd-tls<br />See <a href="https://www.vultr.com/docs/how-to-secure-vsftpd-with-ssl-tls">https://www.vultr.com/docs/how-to-secur … th-ssl-tls</a></p><p>Run:<br />&nbsp; &nbsp; opkg install openssl-util vsftpd-tls</p><p>Edit /etc/vsftpd.conf:&nbsp; (below lines are only my changes/notes, leave be other default lines)<br />&nbsp; &nbsp; anonymous_enable=NO<br />&nbsp; &nbsp; local_enable=YES<br />&nbsp; &nbsp; write_enable=YES<br />&nbsp; &nbsp; chroot_local_user=NO<br />&nbsp; &nbsp; ftpd_banner=Whatever I want to see on login.<br />&nbsp; &nbsp; ssl_enable=YES&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Enables encryption for data transfer<br />&nbsp; &nbsp; allow_anon_ssl=NO<br />&nbsp; &nbsp; force_local_data_ssl=NO&nbsp; &nbsp; &nbsp; &nbsp; #Requires encryption for data transfer (turned off because encryption consumes so much of the U35WF&#039;s limited CPU that transfer speed is limited to 3-4 MB/s. Still, nice to have option.<br />&nbsp; &nbsp; force_local_logins_ssl=NO&nbsp; &nbsp; #Requires encryption for login credential transfer<br />&nbsp; &nbsp; ssl_tlsv1=YES<br />&nbsp; &nbsp; require_ssl_reuse=NO<br />&nbsp; &nbsp; ssl_ciphers=HIGH<br />&nbsp; &nbsp; rsa_cert_file=/etc/vsftpd/vsftpd.pem&nbsp; &nbsp; #This file doesn&#039;t exist yet. You&#039;ll soon create it.<br />&nbsp; &nbsp; rsa_private_key_file=/etc/vsftpd/vsftpd.pem<br />&nbsp; &nbsp; pasv_max_port=65535<br />&nbsp; &nbsp; pasv_min_port=64000</p><p>Run:<br />&nbsp; &nbsp; openssl req -x509 -days 365 -newkey rsa:2048 -nodes -keyout /etc/vsftpd/vsftpd.pem -out /etc/vsftpd/vsftpd.pem<br />&nbsp; &nbsp; /etc/init.d/vsftpd enable<br />&nbsp; &nbsp; /etc/init.d/vsftpd start</p><p>You&#039;ll need that vsftpd.pem file you created on the client machine if you want to access securely.</p><br /><p>### DYNAMIC DNS CLIENT ###<br />First you need to create a dynamic dns account with a provider.<br />For now, I&#039;ve picked dynu.com, although I later found out IPv6 doesn&#039;t work.<br />Run:<br />&nbsp; &nbsp; opkg install luci-app-ddns ca-certificates<br />Then go to the Luci dyndns page, and edit the myddns_ipv4 entry.<br />Click &#039;enabled&#039;<br />Select dynu.com in the &#039;DDNS Service provider&#039; dropdown.<br />Set both &#039;Lookup Hostname&#039; &amp; &#039;Domain&#039; to u35wf.dynu.net<br />Set username &amp; password<br />Click Use HTTP Secure, and leave the &#039;Path to CA-Certificate&#039; as the default /etc/ssl/certs</p><br /><p>### DLNA ###<br />TO DO</p><br /><p>### EAD (Emergency Access Daemon) ###<br />&quot;The Emergency Access Daemon allows you to run arbitrary commands on your router in the chance that you don&#039;t have console access to it. This is, in fact, as powerful and dangerous as it sounds.&quot;<br />However, it may be just what I need as the U35WF doesn&#039;t have a reset button.<br />TO DO<br /><a href="https://wiki.openwrt.org/doc/howto/ead">https://wiki.openwrt.org/doc/howto/ead</a></p><br /><p>### S.M.A.R.T ###<br /><a href="https://help.ubuntu.com/community/Smartmontools">https://help.ubuntu.com/community/Smartmontools</a><br />Run /opt/usr/sbin/smartctl<br />&nbsp; &nbsp; opkg install smartmontools -d opt (works fine on /opt)<br />To examine info &amp; health:<br />&nbsp; &nbsp; smartctl -i /dev/sda<br />&nbsp; &nbsp; smartctl -H /dev/sda<br />To run tests (pick one):<br />&nbsp; &nbsp; smartctl -t short /dev/sda<br />&nbsp; &nbsp; smartctl -t long /dev/sda&nbsp; &nbsp; &nbsp; &nbsp; #most useful!<br />&nbsp; &nbsp; smartctl -t conveyance /dev/sda</p><p>Note, this doesn&#039;t extend to automatic checking &amp; messaging in case of test failure.</p><br /><br /><p>Finally, I really, really wish the U35WF would be included in the LEDE project as a supported device, but I&#039;ve no idea how to make that happen. If a LEDE dev reads this, please help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366217">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">vandxtrm</div>
					<div class="post-datetime">
						3 Oct 2017, 04:32					</div>
				</div>
				<div class="post-content content">
					<p>I hope this forum still active, i just flash my u35wf with chaos calmer 15.01<br />And i will try to flash to lede 17.01 but im still doubt and confuse<br />Which one is better or the difference between?<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366623">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">evzen.gros</div>
					<div class="post-datetime">
						12 Oct 2017, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>any success connecting U35WF with OpenWRT as USB mass storage to PC?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=66908&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=66908&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>