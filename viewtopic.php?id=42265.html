<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Need help getting Sparklan WAPR-150GN online</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p191710">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mediabox</div>
					<div class="post-datetime">
						11 Feb 2013, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi. I saw that OpenWrt had support for the Sparklan WCR-150GN board and was hoping that WAPR-150GN would also work. Unfortunately I&#039;m having boot issues with rootfs not being found. Looks like a jffs2 files system was supposed to get installed somewhere?</p><p>I have a 15+ yrs of linux and programming background so should be a little more helpful than your average nubie.&nbsp; I started modding the source tree/Makefiles to include WARP-150GN as a build option. Let me know where to look/what to change.</p><p>Thanks in advance.</p><p><strong>Given:</strong><br />Ralink RT3050 with 16meg flash / 128meg SDRAM.<br />Board type: not sure, assuming it&#039;s the same as the WCR-150GN<br /><a href="http://wiki.openwrt.org/toh/sparklan/wcr-150gn">http://wiki.openwrt.org/toh/sparklan/wcr-150gn</a><br /><a href="http://www.sparklan.com/product.php?func=view&amp;prod_id=175">http://www.sparklan.com/product.php?fun â€¦ rod_id=175</a></p><br /><br /><p><strong>Openwrt (attitude adjustement) bootup:</strong></p><p>U-Boot 1.1.3 (Jul 2 2009 - 13:42:47)<br />Board: Ralink APSoC DRAM: 16 MB<br />relocate_code Pointer at: 80fb0000<br />config usb otg<br />flash_protect ON: from 0xBF000000 to 0xBF01E4CB<br />flash_protect ON: from 0xBF030000 to 0xBF030FFF<br />*** Warning - bad CRC, using default environment<br />============================================<br />Ralink UBoot Version: 3.3<br />--------------------------------------------<br />ASIC 3052_MP2 (Port5&lt;-&gt;None)<br />DRAM component: 128 Mbits SDR<br />DRAM bus: 16 bit<br />Total memory: 16 MBytes<br />Flash component: NOR Flash<br />Date:Jul 2 2009 Time:13:42:47<br />============================================<br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384<br />##### The CPU freq = 320 MHZ ####<br />SDRAM bus set to 16 bit<br />SDRAM size =16 Mbytes<br />Please choose the operation:<br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.<br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.<br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.<br />0<br />&nbsp; <br />3: System Boot system code via Flash.<br />## Booting image at bf050000 ...<br />&nbsp; &nbsp;Image Name: MIPS OpenWrt Linux-3.3.8<br />&nbsp; &nbsp;Created: 2013-02-10 9:11:31 UTC<br />&nbsp; &nbsp;Image Type: MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size: 839351 Bytes = 819.7 kB<br />&nbsp; &nbsp;Load Address: 80000000<br />&nbsp; &nbsp;Entry Point: 80000000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80000000) ...<br />## Giving linux memsize in MB, 16<br />Starting kernel ...<br />[ 0.000000] Linux version 3.3.8 (root@mediabox) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #2 Sun Feb 10 03:10:29 CST 2013<br />[ 0.000000] bootconsole [early0] enabled<br />[ 0.000000] CPU revision is: 0001964c (MIPS 24KEc)<br />[ 0.000000] Ralink RT3350 id:1 rev:2 running at 320.00 MHz<br />[ 0.000000] Determined physical RAM map:<br />[ 0.000000] memory: 01000000 @ 00000000 (usable)<br />[ 0.000000] Initrd not found or empty - disabling initrd<br />[ 0.000000] Zone PFN ranges:<br />[ 0.000000] Normal 0x00000000 -&gt; 0x00001000<br />[ 0.000000] Movable zone start PFN for each node<br />[ 0.000000] Early memory PFN ranges<br />[ 0.000000] 0: 0x00000000 -&gt; 0x00001000<br />[ 0.000000] Built 1 zonelists in Zone order, mobility grouping off. Total pages: 4064<br />[ 0.000000] Kernel command line: board=WCR150GN console=ttyS1,57600 mtdparts=physmap-flash.0:192k(u-boot)ro,64k(u-boot-env)ro,64k(factory)ro,896k(kernel),2880k(rootfs),3776k@0x50000(firmware) rootfstype=squashfs,jffs2<br />[ 0.000000] PID hash table entries: 64 (order: -4, 256 bytes)<br />[ 0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[ 0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[ 0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.<br />[ 0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes<br />[ 0.000000] Writing ErrCtl register=0003200c<br />[ 0.000000] Readback ErrCtl register=0003200c<br />[ 0.000000] Memory: 13576k/16384k available (1919k kernel code, 2808k reserved, 328k data, 172k init, 0k highmem)<br />[ 0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[ 0.000000] NR_IRQS:48<br />[ 0.000000] console [ttyS1] enabled, bootconsole disabled<br />[ 0.000000] console [ttyS1] enabled, bootconsole disabled<br />[ 0.010000] Calibrating delay loop... 212.58 BogoMIPS (lpj=1062912)<br />[ 0.090000] pid_max: default: 32768 minimum: 301<br />[ 0.090000] Mount-cache hash table entries: 512<br />[ 0.100000] NET: Registered protocol family 16<br />[ 0.110000] MIPS: machine is Sparklan WCR-150GN<br />[ 0.120000] gpiochip_add: registered GPIOs 0 to 23 on device: RT305X-GPIO0<br />[ 0.130000] gpiochip_add: registered GPIOs 24 to 39 on device: RT305X-GPIO1<br />[ 0.140000] gpiochip_add: registered GPIOs 40 to 51 on device: RT305X-GPIO2<br />[ 0.170000] bio: create slab &lt;bio-0&gt; at 0<br />[ 0.180000] Switching to clocksource MIPS<br />[ 0.190000] NET: Registered protocol family 2<br />[ 0.200000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[ 0.220000] TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />[ 0.230000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />[ 0.240000] TCP: Hash tables configured (established 512 bind 512)<br />[ 0.260000] TCP reno registered<br />[ 0.260000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[ 0.280000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[ 0.290000] NET: Registered protocol family 1<br />[ 0.340000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[ 0.360000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[ 0.380000] msgmni has been set to 26<br />[ 0.390000] io scheduler noop registered<br />[ 0.390000] io scheduler deadline registered (default)<br />[ 0.410000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled<br />[ 0.420000] serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A<br />[ 0.430000] serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A<br />[ 0.450000] physmap platform flash device: 00800000 at bf000000<br />[ 0.460000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a8<br />[ 0.490000] Amd/Fujitsu Extended Query Table at 0x0040<br />[ 0.500000] Amd/Fujitsu Extended Query version 1.1.<br />[ 0.510000] number of CFI chips: 1<br />[ 0.510000] 6 cmdlinepart partitions found on MTD device physmap-flash.0<br />[ 0.530000] Creating 6 MTD partitions on &quot;physmap-flash.0&quot;:<br />[ 0.540000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;<br />[ 0.550000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;<br />[ 0.570000] 0x000000040000-0x000000050000 : &quot;factory&quot;<br />[ 0.580000] 0x000000050000-0x000000130000 : &quot;kernel&quot;<br />[ 0.600000] 0x000000130000-0x000000400000 : &quot;rootfs&quot;<br />[ 0.610000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[ 0.620000] split_squashfs: no squashfs found in &quot;physmap-flash.0&quot;<br />[ 0.640000] 0x000000050000-0x000000400000 : &quot;firmware&quot;<br />[ 0.660000] ramips-wdt ramips-wdt: timeout value must be 0 &lt; timeout &lt;= 40, using 40<br />[ 0.680000] TCP cubic registered<br />[ 0.690000] NET: Registered protocol family 17<br />[ 0.700000] 8021q: 802.1Q VLAN Support v1.8<br />[ 0.710000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000000: 0xfca4 instead<br />[ 0.730000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000004: 0xc65e instead<br />[ 0.740000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000008: 0xe62e instead<br />[ 0.760000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000000c: 0xc61d instead<br />[ 0.780000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000010: 0x1ea4 instead<br />[ 0.800000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000014: 0x93df instead<br />[ 0.810000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000018: 0xa526 instead<br />[ 0.830000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000001c: 0x128f instead<br />[ 0.850000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000020: 0x52e8 instead<br />[ 0.870000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000024: 0x3a24 instead<br />[ 0.890000] Further such events for this erase block will not be printed<br />[ 0.900000] Old JFFS2 bitmask found at 0x0000252c<br />[ 0.910000] You cannot use older JFFS2 filesystems with newer kernels<br />[ 0.940000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010000: 0x6cca instead<br />[ 0.960000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010004: 0xcfbe instead<br />[ 0.970000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010008: 0x8d20 instead<br />[ 0.990000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001000c: 0x2809 instead<br />[ 1.010000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010010: 0x8f52 instead<br />[ 1.030000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010014: 0xd6a6 instead<br />[ 1.050000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010018: 0xf78b instead<br />[ 1.060000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001001c: 0xc502 instead<br />[ 1.080000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010020: 0xb4da instead<br />[ 1.100000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010024: 0x8346 instead<br />[ 1.120000] Further such events for this erase block will not be printed<br />[ 1.150000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020000: 0x1e40 instead<br />[ 1.170000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020004: 0x2d4d instead<br />[ 1.180000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020008: 0x255a instead<br />[ 1.200000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002000c: 0x1d0f instead<br />[ 1.220000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020010: 0x2bce instead<br />[ 1.240000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020014: 0x50c5 instead<br />[ 1.260000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020018: 0x679e instead<br />[ 1.270000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002001c: 0x1124 instead<br />[ 1.290000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020020: 0xa2de instead<br />[ 1.310000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020024: 0x9a4d instead</p><p>&lt;snip&gt;</p><br /><p>[ 9.640000] Further such events for this erase block will not be printed<br />[ 9.670000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0000: 0x35cd instead<br />[ 9.690000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0004: 0x312e instead<br />[ 9.700000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0008: 0x1fad instead<br />[ 9.720000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a000c: 0xa628 instead<br />[ 9.740000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0010: 0x0aed instead<br />[ 9.760000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0014: 0x49f9 instead<br />[ 9.780000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0018: 0x9baf instead<br />[ 9.790000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a001c: 0xeccd instead<br />[ 9.810000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0020: 0x4be9 instead<br />[ 9.830000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002a0024: 0x9a3c instead<br />[ 9.850000] Further such events for this erase block will not be printed<br />[ 9.870000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0000: 0x564e instead<br />[ 9.890000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0004: 0x31c5 instead<br />[ 9.910000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0008: 0x0524 instead<br />[ 9.930000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b000c: 0x4af4 instead<br />[ 9.950000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0010: 0x736f instead<br />[ 9.960000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0014: 0x6d61 instead<br />[ 9.980000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0018: 0x6f00 instead<br />[ 10.000000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b001c: 0x6576 instead<br />[ 10.020000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0020: 0x6f69 instead<br />[ 10.040000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002b0024: 0x4453 instead<br />[ 10.050000] Further such events for this erase block will not be printed<br />[ 10.080000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0000: 0x4146 instead<br />[ 10.100000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0004: 0x3a6e instead<br />[ 10.120000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0008: 0x0003 instead<br />[ 10.140000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c000c: 0x0052 instead<br />[ 10.150000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0010: 0x7465 instead<br />[ 10.170000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0014: 0x6361 instead<br />[ 10.190000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0018: 0x7264 instead<br />[ 10.210000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c001c: 0x3a30 instead<br />[ 10.230000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0020: 0x343a instead<br />[ 10.240000] jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x002c0024: 0x3661 instead<br />[ 10.260000] Further such events for this erase block will not be printed<br />[ 10.290000] Cowardly refusing to erase blocks on filesystem with no valid JFFS2 nodes<br />[ 10.310000] empty_blocks 0, bad_blocks 0, c-&gt;nr_blocks 45<br />[ 10.320000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(31,4)<br />[ 10.330000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />[ 10.350000] 1f00 192 mtdblock0 (driver?)<br />[ 10.360000] 1f01 64 mtdblock1 (driver?)<br />[ 10.370000] 1f02 64 mtdblock2 (driver?)<br />[ 10.380000] 1f03 896 mtdblock3 (driver?)<br />[ 10.390000] 1f04 2880 mtdblock4 (driver?)<br />[ 10.400000] 1f05 3776 mtdblock5 (driver?)<br />[ 10.410000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,4)</p><br /><br /><p><strong>For reference this is the Sparklan stock bootup:</strong><br />U-Boot 1.1.3 (Jul 2 2009 - 13:42:47)<br />Board: Ralink APSoC DRAM: 16 MB<br />relocate_code Pointer at: 80fb0000<br />config usb otg<br />flash_protect ON: from 0xBF000000 to 0xBF01E4CB<br />flash_protect ON: from 0xBF030000 to 0xBF030FFF<br />*** Warning - bad CRC, using default environment<br />============================================<br />Ralink UBoot Version: 3.3<br />--------------------------------------------<br />ASIC 3052_MP2 (Port5&lt;-&gt;None)<br />DRAM component: 128 Mbits SDR<br />DRAM bus: 16 bit<br />Total memory: 16 MBytes<br />Flash component: NOR Flash<br />Date:Jul 2 2009 Time:13:42:47<br />============================================<br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384<br />##### The CPU freq = 320 MHZ ####<br />SDRAM bus set to 16 bit<br />SDRAM size =16 Mbytes<br />Please choose the operation:<br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.<br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.<br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.<br />3<br />You choosed 3<br />0<br />&nbsp; <br />3: System Boot system code via Flash.<br />## Booting image at bf050000 ...<br />&nbsp; &nbsp;Image Name: Linux Kernel Image<br />&nbsp; &nbsp;Created: 2011-06-02 8:13:51 UTC<br />&nbsp; &nbsp;Image Type: MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size: 3153856 Bytes = 3 MB<br />&nbsp; &nbsp;Load Address: 80000000<br />&nbsp; &nbsp;Entry Point: 80210000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80210000) ...<br />## Giving linux memsize in MB, 16<br />Starting kernel ...<br />LINUX started...<br />THIS IS ASIC<br />Linux version 2.6.21 (eric@h70-210-66-97.seed.net.tw) (gcc version 3.4.2) #502 Thu Jun 2 16:13:45 CST 2011<br />The CPU feqenuce set to 320 MHz<br />CPU revision is: 0001964c<br />Determined physical RAM map:<br />memory: 01000000 @ 00000000 (usable)<br />Built 1 zonelists. Total pages: 4064<br />Kernel command line: console=ttyS1,57600n8 root=1f04<br />Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.<br />Primary data cache 16kB, 4-way, linesize 32 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Cache parity protection disabled<br />cause = 800000, status = 1100ff00<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />calculating r4koff... 00138800(1280000)<br />CPU frequency 320.00 MHz<br />Using 160.000 MHz high precision timer.<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 13936k/16384k available (1861k kernel code, 2448k reserved, 247k data, 108k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />NET: Registered protocol family 2<br />Time: MIPS clocksource has been installed.<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)<br />TCP reno registered<br />Load RT2880 Timer Module(Wdg/Soft)<br />squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher<br />squashfs: LZMA suppport for slax.org by jro<br />io scheduler noop registered (default)<br />FLASH_API: MAN_ID=C2 DEV_ID=22A8 SIZE=4MB<br />Ralink gpio driver initialized<br />HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096<br />N_HDLC line discipline registered.<br />Serial: 8250/16550 driver $Revision: 1.3 $ 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A<br />serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A<br />loop: loaded (max 8 devices)<br />rdm_major = 254<br />PPP generic driver version 2.4.2<br />PPP BSD Compression module registered<br />PPP MPPE Compression module registered<br />NET: Registered protocol family 24<br />ralink flash device: 0x1000000 at 0x1f000000<br />Ralink SoC physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank<br />Amd/Fujitsu Extended Query Table at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />Creating 5 MTD partitions on &quot;Ralink SoC physically mapped flash&quot;:<br />0x00000000-0x00030000 : &quot;Bootloader&quot;<br />0x00030000-0x00040000 : &quot;Config&quot;<br />0x00040000-0x00050000 : &quot;Factory&quot;<br />0x00050000-0x00110000 : &quot;Kernel&quot;<br />0x00110000-0x01000000 : &quot;RootFS&quot;<br />mtd: partition &quot;RootFS&quot; extends beyond the end of device &quot;Ralink SoC physically mapped flash&quot; -- size truncated to 0x2f0000<br />block2mtd: version $Revision: 1.1.1.1 $<br />Netfilter messages via NETLINK v0.30.<br />nf_conntrack version 0.5.0 (128 buckets, 1024 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Linux<br />TCP cubic registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />GDMA1_MAC_ADRH -- : 0x00000000<br />GDMA1_MAC_ADRL -- : 0x00000000<br />Ralink APSoC Ethernet Driver Initilization. v2.00 256 rx/tx descriptors allocated, mtu = 1500!<br />GDMA1_MAC_ADRH -- : 0x0000000e<br />GDMA1_MAC_ADRL -- : 0x8e3ec5ac<br />PROC INIT OK!<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 108k freed<br />init started: BusyBox v1.12.1 (2011-06-02 15:24:47 CST)<br />starting pid 13, tty &#039;&#039;: &#039;/etc_ro/rcS&#039;<br />Algorithmics/MIPS FPU Emulator v1.5<br />mount: mounting devpts: called with bogus options<br />none on /sys failed: No such device<br />mount: mounting none on /proc/bus/usb failed: No such file or directory<br />Welcome to<br />&nbsp; &nbsp; &nbsp;_______ __ ___ ______ __ __<br />&nbsp; &nbsp; / | | | | | | _ || \| |<br />&nbsp; &nbsp; | --- _____ _____ __ ___| | __| |__ | |_| || \ |<br />&nbsp; &nbsp; \___ \| _ \/ _ \| / _/| |/ /| || _ || . |<br />&nbsp; &nbsp; |_______/| ___/\___\_||___| |__\__\|______||__| |_||__|\__|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|__|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;== IEEE 802.11N Product ==<br />goahead: waiting for nvram_daemon initGpio 0 for 20<br />starting pid 28, tty &#039;/dev/ttyS1&#039;: &#039;/bin/sh&#039;<br />BusyBox v1.12.1 (2011-06-02 15:24:47 CST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.<br /># internet.sh<br />Password for &#039;admin&#039; changed<br />phy_tx_ring = 0x00f15000, tx_ring = 0xa0f15000<br />phy_rx_ring = 0x00000000, rx_ring = 0x00000000<br />CDMA_CSG_CFG = 81000007<br />GDMA1_FWD_CFG = 710000<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />ifconfig: ioctl 0x8913 failed: No such device<br />rmmod: rt2860v2_ap: No such file or directory<br />rmmod: rt2860v2_sta: No such file or directory<br />rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.<br />=== pAd = c0002000, size = 494216 ===<br />&lt;-- RTMPAllocAdapterBlock, Status=0<br />rmmod: nf_nat_pptp: No such file or directory<br />rmmod: nf_conntrack_pptp: No such file or directory<br />rmmod: nf_nat_proto_gre: No such file or directory<br />rmmod: nf_conntrack_proto_gre: No such file or directory<br />RX DESC a0a3f000 size = 2048<br />&lt;-- RTMPAllocTxRxRingMemory, Status=0<br />Key1Str is Invalid key length(0) or Type(0)<br />Key2Str is Invalid key length(0) or Type(0)<br />Key3Str is Invalid key length(0) or Type(0)<br />Key4Str is Invalid key length(0) or Type(0)<br />1. Phy Mode = 9<br />2. Phy Mode = 9<br />3. Phy Mode = 9<br />MCS Set = ff 00 00 00 01<br />Main bssid = 00:0e:8e:3e:b7:fc<br />&lt;==== rt28xx_init, Status=0<br />0x1300 = 00064380<br />ifconfig: ioctl 0x8913 failed: No such device<br />brctl: bridge br0: No such device or address<br />device ra0 entered promiscuous mode<br />##### restore RT3052 to dump switch #####<br />Set: phy[0].reg[0] = 3900<br />Set: phy[1].reg[0] = 3900<br />Set: phy[2].reg[0] = 3900<br />Set: phy[3].reg[0] = 3900<br />Set: phy[4].reg[0] = 3900<br />switch reg write offset=14, value=5555<br />switch reg write offset=40, value=1001<br />switch reg write offset=44, value=1001<br />switch reg write offset=48, value=1001<br />switch reg write offset=4c, value=1<br />switch reg write offset=50, value=2001<br />switch reg write offset=70, value=ffffffff<br />switch reg write offset=98, value=7f7f<br />switch reg write offset=e4, value=7f<br />Set: phy[0].reg[0] = 3100<br />Set: phy[1].reg[0] = 3100<br />Set: phy[2].reg[0] = 3100<br />Set: phy[3].reg[0] = 3100<br />Set: phy[4].reg[0] = 3100<br />##### connected to single port #####<br />Rcv Wcid(1) AddBAReq<br />Start Seq = 00000000<br />udhcpc (v1.12.1) started<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />br0: port 1(ra0) entering learning state<br />ifconfig: ioctl 0x8914 failed: Cannot assign requested address<br />br0: topology change detected, propagating<br />br0: port 1(ra0) entering forwarding state<br />killall: udhcpd: no process killed<br />Set: phy[1].reg[0] = 3900<br />Set: phy[2].reg[0] = 3900<br />Set: phy[3].reg[0] = 3900<br />Set: phy[4].reg[0] = 3900<br />Sending select for 192.168.1.208...<br />Lease of 192.168.1.208 obtained, lease time 86400<br />deleting routers<br />route: ioctl 0x890c failed: No such process<br />adding dns 75.75.75.75<br />adding dns 75.75.76.76<br />adding dns 8.8.8.8<br />killall -q ripd<br />Set: phy[1].reg[0] = 3100<br />Set: phy[2].reg[0] = 3100<br />Set: phy[3].reg[0] = 3100<br />Set: phy[4].reg[0] = 3100<br />killall -q prio_conn<br />killall rt2860apd 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F -t filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -D FORWARD -j web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -F web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -P INPUT ACCEPT<br />iptables -P OUTPUT ACCEPT<br />iptables -P FORWARD ACCEPT<br />iptables -t filter -N web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -N macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j web_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t filter -A FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1<br />iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F port_forward 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -D PREROUTING -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -F DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X DMZ 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N port_forward 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 1 -j port_forward 1&gt;/dev/null 2&gt;&amp;1<br />iptables -t nat -N DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 2 -j DMZ 1&gt;/dev/null 2&gt;&amp;1<br />ntp.sh<br />ddns.sh<br />route delete 239.255.255.250 1&gt;/dev/null 2&gt;&amp;1<br />killall wscd 1&gt;/dev/null 2&gt;&amp;1<br />killall -9 wscd 1&gt;/dev/null 2&gt;&amp;1<br />iwpriv ra0 set WscConfMode=0 1&gt;/dev/null 2&gt;&amp;1<br />killall -q klogd<br />killall -q syslogd<br />syslogd -C8 1&gt;/dev/null 2&gt;&amp;1<br />klogd 1&gt;/dev/null 2&gt;&amp;1<br />killall -q zebra<br />killall -q ripd<br />echo 4.2.1.4A &gt; /etc/fw_version<br />webs: Listening for HTTP requests at address 192.168.1.250<br />#</p>											<p class="post-edited">(Last edited by <strong>mediabox</strong> on 11 Feb 2013, 19:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191748">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mediabox</div>
					<div class="post-datetime">
						12 Feb 2013, 08:41					</div>
				</div>
				<div class="post-content content">
					<p>Made a little progress. Might help someone. I originally loaded the vmlinux-wcr150gn.uImage via the stock Web Interface, which produced the results above.</p><p>I tried openwrt-ramips-rt305x-wcr150gn-squashfs-sysupgrade.bin file via the Uboot tftp loader which actually got me to a # root prompt! Yippie. </p><p>Have the radio broadcasting now, and seems like it&#039;s taking clients, handing out ip&#039;s. Cool! Need to figure out my WAN side of things....</p>											<p class="post-edited">(Last edited by <strong>mediabox</strong> on 12 Feb 2013, 08:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191999">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mediabox</div>
					<div class="post-datetime">
						14 Feb 2013, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>Wan need a little help on the /etc/config/network file. It was set for eth0.1 and really needed to be set to eth0. Not sure where that&#039;s determined but it took a few hours to figure that out.</p><p>Browsing works. If anyone wants to tell me where that&#039;s set I can update the Makefiles and create a new profile for this model #.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>