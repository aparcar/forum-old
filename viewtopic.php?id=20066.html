<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Anyone have a external kernel module development example that works?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p86698">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">obrienj</div>
					<div class="post-datetime">
						27 Apr 2009, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>I have been working for 3 days trying to port a simple device driver to Openwrt (Kamikaze 8.09) for a WRTSL54GS with, at best, no luck at all.</p><p>First I have found that despite the glowing words in the documentation and wiki as to how easy it is (and they contradict each other), I find that it is anything but.</p><p>I have one source module and one makefile which exist outside the kamikaze directories. </p><p>I have included a mine.mk file in the package/kernel/module directory (discovering that nuance was a trip!)&nbsp; </p><p>After much effort I can see the package listed in Kernel modules in menuconfig which I select with an &quot;M&quot;.</p><p>When I make, nothing happens with&nbsp; my kernel module, no compile, no errors, nothing other than some indeciferable stuff and an .ipk file with nothing in it.&nbsp; The makefile works outside the kamikaze make.&nbsp; Just to be sure I&#039;ve even put errors in the source code, and kamikaze make never compiles it.</p><p>As far as I can tell I have followed the doc, such as it is.</p><p>One curious thing is that the package used in the doc example (i2c-gpio-custom) doesn&#039;t show up at all in memuconfig as far as I can tell so I&#039;m really not sure how one would select it.&nbsp; I followed that garden path for a day.</p><p>I&#039;ve been doing this kind of stuff for 45 years and this is something else.</p><p>Oh yes, I do understand that programmers generally don&#039;t like to write doc but a simple step by step cookbook would be nice.</p><p>Anyone got any help?</p><p>Regards,<br />Jim</p>											<p class="post-edited">(Last edited by <strong>obrienj</strong> on 27 Apr 2009, 00:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86699">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						27 Apr 2009, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>If the source module isn&#039;t too complex, you could try to take one existing external module&#039;s makefile and adapt it to yours. Take a look at the broadcom-diag module in package/broadcom-diag. I sucessfully used it as a template to compile a selfwritten module (a simple one to read some mips-registers).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86706">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">obrienj</div>
					<div class="post-datetime">
						27 Apr 2009, 02:39					</div>
				</div>
				<div class="post-content content">
					<p>KanjiMonster,</p><p>Thanks for the suggestion.&nbsp; </p><p>I tried that with the i2c-gpio-custom (I think that&#039;s the name) and it didn&#039;t show up in menuconfig but maybe it&#039;snot supposed to as the one I used as a pattern didn&#039;t show up either.&nbsp; It&#039;s an external kernel modusle like I want to build.&nbsp; The problem is that many of the packages that come with Openwrt are somewhat integrated at the build system level and that buildsystems seems to have morphed between releases.</p><p>Short of a cookbook, I may just reset and try again and this time climb down inside the hidden stuff and force it to work.</p><p>Too bad, Openwrt is a great piece of work and making it easy to expand and enhance would be a great attribute if it was in fact easy.</p><p>Regards,<br />Jim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86707">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						27 Apr 2009, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>obrienj,</p><p>I certainly sympathize and agree with your assessment and also wish there were a cookbook.&nbsp; I can&#039;t help you with your problem, but regarding &quot;i2c-gpio-custom&quot; not appearing after you tried to build it externally, did you try searching with &quot;/&quot; in menuconfig?&nbsp; I may be missing your point, since you were trying to build it as a test preview for building your own module, but there is a &quot;kmod-i2c-gpio-custom&quot; under &quot;Kernel modules&quot;, &quot;I2C support&quot;.&nbsp; I find the &quot;/&quot; search very helpful in finding items in this complex hierarchy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86713">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">roberto99</div>
					<div class="post-datetime">
						27 Apr 2009, 08:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi, this is my simply external kernel package build as test. I hope this help you. Roberto</p><p>1)cd 8.09/package -&gt; mkdir zprova;<br />2)cd&nbsp; zprova -&gt; mkdir src;<br />3)nano Makefile (*);<br />4)cd src -&gt; nano zprova.c;<br />5) nano Makefile (**); </p><div class="codebox"><pre><code>/*  zprova.c - The simplest kernel module.
 */
#include &lt;linux/module.h&gt;  /* Needed by all modules */
#include &lt;linux/kernel.h&gt;  /* Needed for KERN_ALERT */


int init_module(void)
{
   printk(&quot;&lt;1&gt;Hello world 1.\n&quot;);
    
   // A non 0 return means init_module failed; module can&#039;t be loaded.
   return 0;
}


void cleanup_module(void)
{
  printk(KERN_ALERT &quot;Goodbye world 1.\n&quot;);
}</code></pre></div><p>Makefile *</p><div class="codebox"><pre><code>#
# Copyright (C) 2008 OpenWrt.org
#
# This is free software, licensed under the GNU General Public License v2.
# See /LICENSE for more information.
#

include $(TOPDIR)/rules.mk
include $(INCLUDE_DIR)/kernel.mk

PKG_NAME:=zprova
PKG_RELEASE:=2

include $(INCLUDE_DIR)/package.mk

define KernelPackage/zprova
  SUBMENU:=I2C support
  TITLE:=plutp
  FILES:=$(PKG_BUILD_DIR)/zprova.$(LINUX_KMOD_SUFFIX)
  KCONFIG:=
endef

define KernelPackage/zprova/description
 Provaaaaaaaaaa.
endef

EXTRA_KCONFIG:= \
    

EXTRA_CFLAGS:= \

MAKE_OPTS:= \
    ARCH=&quot;$(LINUX_KARCH)&quot; \
    CROSS_COMPILE=&quot;$(TARGET_CROSS)&quot; \
    SUBDIRS=&quot;$(PKG_BUILD_DIR)&quot; \
    EXTRA_CFLAGS=&quot;$(EXTRA_CFLAGS)&quot; \
    LINUXINCLUDE=&quot;-I$(LINUX_DIR)/include -include linux/autoconf.h&quot; \
    $(EXTRA_KCONFIG)

define Build/Prepare
    mkdir -p $(PKG_BUILD_DIR)
    $(CP) ./src/* $(PKG_BUILD_DIR)/
endef

define Build/Compile
    $(MAKE) -C &quot;$(LINUX_DIR)&quot; \
        $(MAKE_OPTS) \
        modules
endef

$(eval $(call KernelPackage,zprova))</code></pre></div><p>Makefile **</p><div class="codebox"><pre><code>obj-m   := zprova.o
ifeq ($(MAKING_MODULES),1)
-include $(TOPDIR)/Rules.make
endif</code></pre></div><p>6) make menuconfig<br />7) you find the package in section ‘I2C support’. Enable the package<br />8) make<br />9) you find it in bin/package/mips</p>											<p class="post-edited">(Last edited by <strong>roberto99</strong> on 27 Apr 2009, 09:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86741">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						27 Apr 2009, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>roberto99,</p><p>Thank your for your very clear and simple example.&nbsp; Unfortunately, I get an error when running &quot;make menuconfig&quot;:<br /></p><div class="codebox"><pre><code>:~/kamikaze$ make menuconfig
Collecting package info: package/zprovaERROR: please fix package/zprova/Makefile</code></pre></div><p>Below is ~/kamikaze/package/zprova/Makefile (unchanged from yours).&nbsp; <br /></p><div class="codebox"><pre><code>#
# Copyright (C) 2008 OpenWrt.org
#
# This is free software, licensed under the GNU
General Public License v2.
# See /LICENSE for more information.
#

include $(TOPDIR)/rules.mk
include $(INCLUDE_DIR)/kernel.mk

PKG_NAME:=zprova
PKG_RELEASE:=2

include $(INCLUDE_DIR)/package.mk

define KernelPackage/zprova
  SUBMENU:=I2C support
  TITLE:=plutp
  FILES:=$(PKG_BUILD_DIR)/zprova.$(LINUX_KMOD_SUFFIX)
  KCONFIG:=
endef

define KernelPackage/zprova/description
 Provaaaaaaaaaa.
endef

EXTRA_KCONFIG:= \

EXTRA_CFLAGS:= \

MAKE_OPTS:= \
    ARCH=&quot;$(LINUX_KARCH)&quot; \
    CROSS_COMPILE=&quot;$(TARGET_CROSS)&quot; \
    SUBDIRS=&quot;$(PKG_BUILD_DIR)&quot; \
    EXTRA_CFLAGS=&quot;$(EXTRA_CFLAGS)&quot; \
    LINUXINCLUDE=&quot;-I$(LINUX_DIR)/include -include linux/autoconf.h&quot; \
    $(EXTRA_KCONFIG)

define Build/Prepare
    mkdir -p $(PKG_BUILD_DIR)
    $(CP) ./src/* $(PKG_BUILD_DIR)/
endef

define Build/Compile
    $(MAKE) -C &quot;$(LINUX_DIR)&quot; \
        $(MAKE_OPTS) \
        modules
endef

$(eval $(call KernelPackage,zprova))</code></pre></div><p>Here are the files in the directory chain:<br /></p><div class="codebox"><pre><code>x@Ubun1:~/kamikaze/package/zprova$ ls
Makefile  src
x@Ubun1:~/kamikaze/package/zprova$ cd src
x@Ubun1:~/kamikaze/package/zprova/src$ ls
Makefile  zprova.c</code></pre></div><p>Note: I created this build setup 2 days ago with &quot;svn co svn://svn.openwrt.org/openwrt/trunk ~/kamikaze&quot;.&nbsp; What do I need to do to fix this?</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 27 Apr 2009, 21:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86747">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">roberto99</div>
					<div class="post-datetime">
						27 Apr 2009, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m a very neebie about this world.<br />I can suggest you to get a copy of development environment from svp://svp.openwrt.org/openwrt/branches/8.09</p><p>1) Make menuconfig<br />2) Select target atheros 231/x5312<br />3) Make</p><p>Tell me if it works! Ciao</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86764">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						27 Apr 2009, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>Ach, I don&#039;t know about svp.&nbsp; What&#039;s the difference between &quot;svp://svp.openwrt.org/openwrt/branches/8.09&quot; and &quot;svn co svn://svn.openwrt.org/openwrt/trunk ~/kamikaze&quot; (which seems other than this to be working for me)?&nbsp; My target, if it makes a difference, is ipx4xx, NSLU2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86769">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">obrienj</div>
					<div class="post-datetime">
						27 Apr 2009, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>Roberto99,</p><p>Brilliant!!!</p><p>Other than a small mess-up when I copied and pasted one of the make files to gedit, it works great.</p><p>Please see if you can get this simple&nbsp; and easy to follow sample included as a HowTo.</p><p>Many thanks.</p><p>I&#039;m now onto building and testing my device driver - another world of pain.</p><p>Regards,<br />Jim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86777">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">roberto99</div>
					<div class="post-datetime">
						28 Apr 2009, 00:19					</div>
				</div>
				<div class="post-content content">
					<p>Glad to have you helped.<br />I&#039;m working around a device driver i2c with some Interrupt.</p><p>Please give me news in future about your work.</p><p>Ciao, Roberto.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86779">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">obrienj</div>
					<div class="post-datetime">
						28 Apr 2009, 02:00					</div>
				</div>
				<div class="post-content content">
					<p>Roberto99,</p><p>I&#039;m working on porting a driver for an X10 device, the CM15A, which attaches via USB but has some specific requirements that require a specialized driver.</p><p>I will keep you posted of my work.</p><p>With your recent help, I can now focus on the real issues and not on the build process.</p><p>Again, thanks.</p><p>Regards,<br />Jim</p>											<p class="post-edited">(Last edited by <strong>obrienj</strong> on 28 Apr 2009, 02:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88661">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">helderbm</div>
					<div class="post-datetime">
						25 May 2009, 13:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obrienj wrote:</cite><blockquote><p>Roberto99,</p><p>I&#039;m working on porting a driver for an X10 device, the CM15A, which attaches via USB but has some specific requirements that require a specialized driver.</p><p>I will keep you posted of my work.</p><p>With your recent help, I can now focus on the real issues and not on the build process.</p><p>Again, thanks.</p><p>Regards,<br />Jim</p></blockquote></div><p>Do you have any news about the cm15a driver?</p><p>regards,<br />Helder</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88668">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">obrienj</div>
					<div class="post-datetime">
						25 May 2009, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>The CM15A driver works with Kamikaze 8.09 on a WRTSL54GS (the only device I built for).</p><p>I also have MisterHouse running on the WRTSL54GS using the CM15A.</p><p>I am just into test mode but have not yet encountered a major issue.</p><p>The driver is an unchanged version of one I found on the web for Linux.</p><p>I use the latest Debian running on a VMWare virtual machine to do the builds and I followed the info on the OpenWRT web site.</p><p>It did take a while to sort through all the various bits of information and a big help from Roberto in providing a sample Makefile.</p><p>Jim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88669">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">helderbm</div>
					<div class="post-datetime">
						25 May 2009, 16:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obrienj wrote:</cite><blockquote><p>The CM15A driver works with Kamikaze 8.09 on a WRTSL54GS (the only device I built for).</p><p>I also have MisterHouse running on the WRTSL54GS using the CM15A.</p><p>I am just into test mode but have not yet encountered a major issue.</p><p>The driver is an unchanged version of one I found on the web for Linux.</p><p>I use the latest Debian running on a VMWare virtual machine to do the builds and I followed the info on the OpenWRT web site.</p><p>It did take a while to sort through all the various bits of information and a big help from Roberto in providing a sample Makefile.</p><p>Jim</p></blockquote></div><p>It is possible for you to share the Makefile, so i can try and compile it to my Asus 500GPV2</p><p>regards,<br />Helder</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88682">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">obrienj</div>
					<div class="post-datetime">
						25 May 2009, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>I will try to get to that this evening.&nbsp; </p><p>Jim</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88683">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">helderbm</div>
					<div class="post-datetime">
						25 May 2009, 17:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obrienj wrote:</cite><blockquote><p>I will try to get to that this evening.&nbsp; </p><p>Jim</p></blockquote></div><p>thanks,</p><p>regards,<br />Helder</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89308">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">p0g0</div>
					<div class="post-datetime">
						4 Jun 2009, 19:25					</div>
				</div>
				<div class="post-content content">
					<p>Here are working openwrt and source makefiles for the x10 USB transceiver driver from <a href="http://lemaymd.com/files/x10-cm19a-0.1.1.tar.bz2">http://lemaymd.com/files/x10-cm19a-0.1.1.tar.bz2</a></p><p>I changed the directory structure found in the source tarball (above), removing all subdirs found there, and creating a new subdir called &quot;src&quot; that contains only the files license, README, AUTHORS, a modified Makefile,&nbsp; and the x10-cm19a.c file.&nbsp; I did that to simplify debugging, and because I have no use for the xmms tools and test suite.</p><p>To use the tarball, untar it, and from the x10-cm19a dir, delete the test and tools directories and create the &quot;src&quot; directory, then move all the files in the drivers/usb/comm/&nbsp; directory to src.&nbsp; Then delete the drivers directory recursively.&nbsp; Rename or delete the original Makefile in src and replace it with the modified source Makefile listed below.&nbsp; You _MUST_ use tabs, not spaces, in both Makefiles, so your cut and paste will likely be trouble until you fix any tab conversions caused by the cut and paste.&nbsp; If the line begins with whitespace, it&#039;s a tab.&nbsp; You&#039;ll know you have spaces when the make fails with the error report &#039;Makefile:#: *** missing separator&#039;, where # is the offending line number in the makefile.&nbsp; Look closely at the path reported by the error to ascertain which makefile has spaces.</p><p>See the original tarball for usage of the driver (I&#039;ve not fully tested it yet, but I have succeeded in building the ipkg without error).</p><p>I have used the Ubiquiti Routerstation source (an SVN R15349 copy of Openwrt with patches) to build the firmware for the routerstation.&nbsp; This is set up as a directory containing the openwrt tree source, so one can descend to the openwrt directory and do a make menuconfig as usual to build openwrt (the x10-cm19a module appears in the utilities submenu of menuconfig).&nbsp; However, the Ubiquiti system will apply it&#039;s own .config (the file openwrt-routerstation-r####/config/rs&nbsp; where #### is the ubiquiti release number) and overwrite any .config you might make with the openwrt menuconfig-you can hand edit the rs file to revise most software to the routerstation, but this module (x10-cm19a) will be offered as a prompt when you make the routerstation, so no hand editing of the rs file is required for it, instead, simply select the module with an &quot;m&quot; when prompted to include it for the routerstation after you invoke &quot;make V=99&quot; in the openwrt-routerstation-r#### directory.&nbsp; Regular openwrt users will just use the standard menuconfig and makemethods.</p><p>I&#039;ll be testing the module soon, but it is the original source so it should work fine.</p><br /><p>===source Makefile===<br />obj-m&nbsp; &nbsp;:= x10-cm19a.o<br />ifeq ($(MAKING_MODULES),1)<br />-include $(TOPDIR)/Rules.make<br />endif<br />===EOF source Makefile</p><p>===Openwrt package Makefile ===<br />#<br /># Copyright (C) 2009 WS. Herrick<br />#<br /># This software is licensed under the GNU General Public License v2.<br /># See /LICENSE for more information.<br />#<br />include $(TOPDIR)/rules.mk<br />include $(INCLUDE_DIR)/kernel.mk</p><p>PKG_NAME:=x10-cm19a<br />PKG_VERSION:=0.1.1<br />PKG_RELEASE:=1<br />###PKG_BUILD_DIR:=$(KERNEL_BUILD_DIR)/x10-cm19a-$(PKG_VERSION)<br />####PKG_BUILD_DIR:=$(BUILD_DIR)/x10-cm19a-$(PKG_VERSION)<br />###PKG_SOURCE:=x10-cm19a-$(PKG_VERSION).tar.bz2<br />###PKG_SOURCE_URL:=http://lemaymd.com/files/<br />###PKG_MD5SUM:=9e7ee0feb8315163eda60538729addb6</p><p>include $(INCLUDE_DIR)/package.mk</p><p>define KernelPackage/x10-cm19a<br />&nbsp; &nbsp; TITLE:=X10-CM19A support<br />&nbsp; &nbsp; SECTION:=utils<br />&nbsp; &nbsp; CATEGORY:=Utilities<br />&nbsp; &nbsp; FILES:=$(PKG_BUILD_DIR)/x10-cm19a.$(LINUX_KMOD_SUFFIX)<br />&nbsp; &nbsp; AUTOLOAD:=$(call AutoLoad,50,x10-cm19a)<br />endef</p><p>define Package/x10-cm19a/description<br />&nbsp; &nbsp; Kernel module for X10 CM19a USB controller<br />endef</p><p>define Build/Prepare<br />&nbsp; &nbsp; mkdir -p $(PKG_BUILD_DIR)<br />&nbsp; &nbsp; $(CP) ./src/* $(PKG_BUILD_DIR)/<br />endef</p><p>define Build/Compile<br />&nbsp; &nbsp; $(MAKE) -C $(LINUX_DIR) \<br />&nbsp; &nbsp; &nbsp; &nbsp; CROSS_COMPILE=&quot;$(TARGET_CROSS)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; ARCH=&quot;$(LINUX_KARCH)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; SUBDIRS=&quot;$(PKG_BUILD_DIR)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; KERNELDIR=$(LINUX_DIR) \<br />&nbsp; &nbsp; &nbsp; &nbsp; CC=&quot;$(TARGET_CC)&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; modules<br />endef</p><p>$(eval $(call KernelPackage,x10-cm19a))</p><p>===EOF openwrt package Makefile ===</p><br /><p>The Openwrt package Makefile was tediously exacting to construct, but ultimately, an examination of the included package siit&#039;s Makefile prevailed.&nbsp; Most other examples were inappropriate or flawed.&nbsp; </p><p>good luck,</p><p>p0g0</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89321">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">p0g0</div>
					<div class="post-datetime">
						4 Jun 2009, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>I forgot to mention that the tarball should be in the openwrt/package directory, as is standard.&nbsp; In my case, building for the routerstation, that is:&nbsp; /usr/src/openwrt-routerstation-r1665/openwrt/package/x10-cm19a-0.1.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89817">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">p0g0</div>
					<div class="post-datetime">
						13 Jun 2009, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>The cm19a module tests OK and works with the makefiles I listed above.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>