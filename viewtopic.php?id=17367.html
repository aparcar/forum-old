<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asus wl500gP v1 OpenWrt openwrt-brcm-2.4-squashfs.trx kismet_drone</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p74885">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">spazmonkey</div>
					<div class="post-datetime">
						17 Oct 2008, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m new to openwrt and linux but I&#039;ve managed to installe openwrt-brcm-2.4-squashfs.trx on my Asus wl500gP v1.&nbsp; Then using ipkg installed kismet-drone for my wardriving setup I&#039;m building for my vehicle.</p><p>So i configured the kismet_drone.conf as follows before running kismet.</p><div class="codebox"><pre><code># Kismet drone config file

version=2005.04.R1

# Name of server (Purely for organiational purposes)
servername=Kismet

# User to setid to (should be your normal user)
suiduser=root

# Port to serve packet data... This probably shouldn&#039;t be the same as the port
# you configured kismet_server for, or else you&#039;ll have problems running them 
# on the same system.
tcpport=3501
# People allowed to connect, comma seperated IP addresses or network/mask
# blocks.  Netmasks can be expressed as dotted quad (/255.255.255.0) or as
# numbers (/24)
allowedhosts=127.0.0.1,192.168.1.0/24
# Maximum number of concurrent stream attachments
maxclients=5

# Packet sources:
# source=capture_cardtype,capture_interface,capture_name
# Card type - Specifies the type of device. It can be one of:
#     cisco         - Cisco card with Linux Kernel drivers 
#     cisco_cvs     - Cisco card with CVS Linux drivers
#     cisco_bsd     - Cisco on *BSD
#     prism2        - Prism2 using wlan-ng drivers with pcap support (all 
#                      current versions support pcap)
#     prism2_hostap - Prism2 using hostap drivers
#     prism2_legacy - Prism2 using wlan-ng drivers without pcap support (0.1.9)
#     prism2_bsd    - Prism2 on *BSD
#     orinoco       - Orinoco cards using Snax&#039;s patched driers
#     generic       - Generic card with no specific support.  You will have 
#                      to put this into monitor mode yourself!
#     wsp100        - WSP100 embedded remote sensor.  
#     wtapfile      - Saved file of packets readable by libwiretap
#     ar5k          - ar5k 802.11a using the vt_ar5k drivers
# Capture interface - Specifies the network interface Kismet will watch for
#  packets to come in on.  Typically &quot;ethX&quot; or &quot;wlanX&quot;.  For the WSP100 capture
#  engine, the WSP100 device sends packets via a UDP stream, so the capture
#  interface should be in the form of host:port where &#039;host&#039; is the WSP100 and 
#  &#039;port&#039; is the local UDP port that it will send data to.
# Capture Name      - The name Kismet uses for this capture source.  This is the 
#   name used to specify what sources to enable.
# 
# To enable multiple sources, specify a source line for each and then use the
# enablesources line to enable them.  For example:
# source=prism2,wlan0,prism
# source=cisco,eth0,cisco
source=wrt54g,prism0,wireless
# For v1 hardware uncomment this:
# source=wrt54g,eth2,wireless

# Comma-separated list of sources to enable.  This is only needed if you wish 
# to selectively enable multiple sources.
# enablesources=prism,cisco

# Do we channelhop?
channelhop=true

# How many channels per second do we hop?  (1-10)
channelvelocity=5

# By setting the dwell time for channel hopping we override the channelvelocity
# setting above and dwell on each channel for the given number of seconds.
#channeldwell=10

# Do we split channels between cards on the same spectrum?  This means if 
# multiple 802.11b capture sources are defined, they will be offset to cover
# the most possible spectrum at a given time.  This also controls splitting
# fine-tuned sourcechannels lines which cover multiple interfaces (see below)
splitchannels=true

# Basic channel hopping control:
# These define the channels the cards hop through for various frequency ranges
# supported by Kismet.   More finegrain control is available via the 
# &quot;sourcechannels&quot; configuration option.
# 
# Don&#039;t change the IEEE80211&lt;x&gt; identifiers or channel hopping won&#039;t work.

# Users outside the US might want to use this list:
# defaultchannels=IEEE80211b:1,7,13,2,8,3,14,9,4,10,5,11,6,12
defaultchannels=IEEE80211b:1,6,11,2,7,3,8,4,9,5,10

# 802.11g uses the same channels as 802.11b...
defaultchannels=IEEE80211g:1,6,11,2,7,3,8,4,9,5,10

# 802.11a channels are non-overlapping so sequential is fine.  You may want to
# adjust the list depending on the channels your card actually supports.
# defaultchannels=IEEE80211a:36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140,149,153,157,161,184,188,192,196,200,204,208,212,216 
defaultchannels=IEEE80211a:36,40,44,48,52,56,60,64

# Combo cards like Atheros use both &#039;a&#039; and &#039;b/g&#039; channels.  Of course, you
# can also explicitly override a given source.  You can use the script 
# extras/listchan.pl to extract all the channels your card supports.
defaultchannels=IEEE80211ab:1,6,11,2,7,3,8,4,9,5,10,36,40,44,48,52,56,60,64

# Fine-tuning channel hopping control:
# The sourcechannels option can be used to set the channel hopping for 
# specific interfaces, and to control what interfaces share a list of 
# channels for split hopping.  This can also be used to easily lock
# one card on a single channel while hopping with other cards.
# Any card without a sourcechannel definition will use the standard hopping
# list.
# sourcechannels=sourcename[,sourcename]:ch1,ch2,ch3,...chN

# ie, for us channels on the source &#039;prism2source&#039; (same as normal channel
# hopping behavior):
# sourcechannels=prism2source:1,6,11,2,7,3,8,4,9,5,10

# Given two capture sources, &quot;prism2a&quot; and &quot;prism2b&quot;, we want prism2a to stay
# on channel 6 and prism2b to hop normally.  By not setting a sourcechannels 
# line for prism2b, it will use the standard hopping.
# sourcechannels=prism2a:6

# To assign the same custom hop channel to multiple sources, or to split the 
# same custom hop channel over two sources (if splitchannels is true), list
# them all on the same sourcechannels line:
# sourcechannels=prism2a,prism2b,prism2c:1,6,11</code></pre></div><p>then I proceded to run kismet drone giving me this error.</p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# /usr/bin/kismet_drone -f /etc/kismet/kismet_drone.confUsing alternate config file: /etc/kismet/kismet_drone.conf
Suid priv-dropping disabled.  This may not be secure.
No specific sources given to be enabled, all will be enabled.
Enabling channel hopping.
Disabling channel splitting.
Source 0 (wireless): Enabling monitor mode for wrt54g source interface prism0 channel 0...
prism0    no private ioctls.

Source 0 (wireless): Opening wrt54g source interface prism0...
FATAL: ioctl: No such device</code></pre></div><p>I&#039;m not sure what to make of this error other that I&#039;ve configured the kismet_drone.conf wrong.&nbsp; I&#039;ve tried various settings for the &quot;source=&quot; line.</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/WhiteRussian/Configuration">http://wiki.openwrt.org/OpenWrtDocs/Whi … figuration</a> shows me that the wifi interface is eth2 and ive tried setting it source=wrt54g,eth2,wireless also with no success.</p><p>Can anyone point me in the right direction?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74886">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RussellSenior</div>
					<div class="post-datetime">
						17 Oct 2008, 21:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spazmonkey wrote:</cite><blockquote><p>I&#039;m new to openwrt and linux but I&#039;ve managed to installe openwrt-brcm-2.4-squashfs.trx on my Asus wl500gP v1.&nbsp; Then using ipkg installed kismet-drone for my wardriving setup I&#039;m building for my vehicle.</p><p>[...]</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/WhiteRussian/Configuration">http://wiki.openwrt.org/OpenWrtDocs/Whi … figuration</a> shows me that the wifi interface is eth2 and ive tried setting it source=wrt54g,eth2,wireless also with no success.</p><p>Can anyone point me in the right direction?</p><p>Thanks</p></blockquote></div><p>What does:</p><p> # iwconfig </p><p>show for interfaces?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74887">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">spazmonkey</div>
					<div class="post-datetime">
						17 Oct 2008, 22:32					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@OpenWrt:/etc/kismet# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

eth0.0    no wireless extensions.

eth0.1    no wireless extensions.

br-lan    no wireless extensions.

wl0       IEEE 802.11-DS  ESSID:&quot;&quot;
          Mode:Repeater  Frequency:2.432 GHz  Tx-Power:off
          RTS thr:off   Fragment thr:off
          Encryption key:off</code></pre></div><p>shows wl0 along with settings that dont seem to match up with my wireless conf</p><div class="codebox"><pre><code>config wifi-device  wl0
        option type     broadcom
        option channel  5

        # REMOVE THIS LINE TO ENABLE WIFI:
        option disabled 0

config wifi-iface
        option device   wl0
        option network  lan
        option mode     sta
        option ssid     OpenWrt
        option encryption none</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74888">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RussellSenior</div>
					<div class="post-datetime">
						17 Oct 2008, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>Try:</p><p>source=wrt54g,wl0,wireless</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74889">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">spazmonkey</div>
					<div class="post-datetime">
						17 Oct 2008, 22:53					</div>
				</div>
				<div class="post-content content">
					<p>yea sorry i meant to say i already tried that</p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# /usr/bin/kismet_drone -f /etc/kismet/kismet_drone.confUsing alternate config file: /etc/kismet/kismet_drone.conf
Suid priv-dropping disabled.  This may not be secure.
No specific sources given to be enabled, all will be enabled.
Enabling channel hopping.
Disabling channel splitting.
Source 0 (wireless): Enabling monitor mode for wrt54g source interface wl0 channel 0...
wl0       no private ioctls.

Source 0 (wireless): Opening wrt54g source interface wl0...
FATAL: ioctl: No such device</code></pre></div><p>I&#039;ve tried multiple combinations of wl0 inside the source none of them seem to work :(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74891">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RussellSenior</div>
					<div class="post-datetime">
						17 Oct 2008, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t have any experience with an Asus wl500gp, but I do have lots of experience with kismet on Netgear WGT634U.&nbsp; Those use Atheros radios.&nbsp; If your device has a minipci slot, you might try replacing the radio with Atheros.&nbsp; I *know* that works ;-)</p><p>See for example:</p><p>&nbsp; <a href="http://wiki.personaltelco.net/WgtStumbler">http://wiki.personaltelco.net/WgtStumbler</a></p><p>It&#039;s a little dated now, but it worked for me.&nbsp; More recently, I am using an Alix.3d3 instead of the Netgear.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79835">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">grg000</div>
					<div class="post-datetime">
						18 Jan 2009, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>Same problem here, with kismet_drone (kismet-drone_2007-01-R1a-1_mipsel.ipk) on a WRT54GL that runs Kamikaze 8.09_RC1.</p><p>Can&#039;t find out what to write on kismet_drone.conf &quot;source&quot; line. According to <a href="http://svn.kismetwireless.net/code/tags/kismet-2008-05-R1/README">http://svn.kismetwireless.net/code/tags … -R1/README</a>,&nbsp; &quot;source=wrt54g,wl0,drone&quot; should work but raises an error:<br />--------------------------<br />root@Reverb:/tmp# kismet_drone<br />Suid priv-dropping disabled.&nbsp; This may not be secure.<br />No specific sources given to be enabled, all will be enabled.<br />Enabling channel hopping.<br />Disabling channel splitting.<br />Source 0 (drone): Enabling monitor mode for wrt54g source interface wl0 channel 0...<br />wl0&nbsp; &nbsp; &nbsp; &nbsp;no private ioctls.</p><p>Source 0 (drone): Opening wrt54g source interface wl0...<br />FATAL: ioctl: No such device<br />--------------------------<br />root@Reverb:/tmp# iwconfig wl0<br />wl0&nbsp; &nbsp; &nbsp; &nbsp;IEEE 802.11-DS&nbsp; ESSID:&quot;Reverb&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Master&nbsp; Frequency:2.442 GHz&nbsp; Access Point: 00:18:39:BC:56:BA<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bit Rate=54 Mb/s&nbsp; &nbsp;Tx-Power:32 dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Retry min limit:7&nbsp; &nbsp;RTS thr:off&nbsp; &nbsp;Fragment thr:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Link Quality:5&nbsp; Signal level:0&nbsp; Noise level:166<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rx invalid nwid:0&nbsp; Rx invalid crypt:2&nbsp; Rx invalid frag:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx excessive retries:1615&nbsp; Invalid misc:0&nbsp; &nbsp;Missed beacon:0<br />--------------------------</p><p>Except for that, OpenWRT rocks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>