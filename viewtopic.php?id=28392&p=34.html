<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 34 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=32.html">32</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=33.html">33</a></li><li class="pagination-current"><span>34</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=35.html">35</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=36.html">36</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p220700">
				<div class="post-metadata">
					<div class="post-num">Post #826</div>
					<div class="post-author">Manp</div>
					<div class="post-datetime">
						23 Dec 2013, 13:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eigma wrote:</cite><blockquote><p>Two things, one to gather more information, the other a possible fix.</p><p>1) Edit /lib/netifd/netifd-wireless.sh and insert this line at the beginning, before the NETIFD_MAIN_DIR line:<br/></p><div class="codebox"><pre><code>echo &quot;$@&quot; &gt;&gt;/tmp/netifd.log</code></pre></div><p>Then run &#039;wifi reload radio0&#039; and post the contents of /tmp/netifd.log.</p><p>Restore the netifd-wireless.sh to rom (rm /overlay/lib/netifd/netifd-wireless.sh).</p></blockquote></div><p>&quot;wifi reload radio0&quot; dosn&#039;t seem to produce any file inside /tmp/</p><p>this is the log after a &quot;wifi down&quot; and &quot;wifi up&quot;</p><div class="codebox"><pre><code>mac80211 setup radio0 {&quot;config&quot;:{&quot;macaddr&quot;:&quot;c4:3d:c7:97:79:45&quot;,&quot;hwmode&quot;:&quot;11ng&quot;,&quot;ht_capab&quot;:[&quot;SHORT-GI-40&quot;,&quot;TX-STBC&quot;,&quot;RX-STBC1&quot;,&quot;DSSS_CCK-40&quot;],&quot;htmode&quot;:&quot;HT40-&quot;,&quot;country&quot;:&quot;IT&quot;,&quot;channel&quot;:&quot;6&quot;,&quot;txpower&quot;:20},&quot;interfaces&quot;:{&quot;0&quot;:{&quot;bridge&quot;:&quot;br-lan&quot;,&quot;config&quot;:{&quot;mode&quot;:&quot;ap&quot;,&quot;ssid&quot;:&quot;mywpassidhere&quot;,&quot;encryption&quot;:&quot;psk2&quot;,&quot;key&quot;:&quot;mywpakeyhere&quot;,&quot;wps_pushbutton&quot;:true,&quot;wps_pin&quot;:&quot;mypinhere&quot;,&quot;network&quot;:[&quot;lan&quot;]}},&quot;1&quot;:{&quot;config&quot;:{&quot;mode&quot;:&quot;ap&quot;,&quot;ssid&quot;:&quot;MelaBacata&quot;,&quot;encryption&quot;:&quot;wep-shared&quot;,&quot;key1&quot;:&quot;s:pocasicurezza&quot;,&quot;hidden&quot;:true,&quot;macfilter&quot;:&quot;allow&quot;,&quot;maclist&quot;:[&quot;mymachere&quot;],&quot;network&quot;:[&quot;guest&quot;]}}}}
mac80211 setup radio1 {&quot;config&quot;:{&quot;channel&quot;:&quot;36&quot;,&quot;macaddr&quot;:&quot;c4:3d:c7:97:79:47&quot;,&quot;hwmode&quot;:&quot;11na&quot;,&quot;ht_capab&quot;:[&quot;SHORT-GI-40&quot;,&quot;TX-STBC&quot;,&quot;RX-STBC1&quot;,&quot;DSSS_CCK-40&quot;],&quot;txpower&quot;:17,&quot;htmode&quot;:&quot;HT40+&quot;,&quot;country&quot;:&quot;IT&quot;},&quot;interfaces&quot;:{&quot;0&quot;:{&quot;bridge&quot;:&quot;br-lan&quot;,&quot;config&quot;:{&quot;mode&quot;:&quot;ap&quot;,&quot;encryption&quot;:&quot;psk2&quot;,&quot;wps_pushbutton&quot;:true,&quot;ssid&quot;:&quot;myradio1ssidhere&quot;,&quot;key&quot;:&quot;mykeyhere&quot;,&quot;wps_pin&quot;:&quot;mypinhere&quot;,&quot;network&quot;:[&quot;lan&quot;]}}}}</code></pre></div><p>everything seems correct to me. </p><div class="quotebox"><blockquote><p>2) Edit /lib/netifd/hostapd.sh, around line 236, after this line:<br/></p><div class="codebox"><pre><code>local wep_keyidx=0</code></pre></div><p>Insert this line:<br/></p><div class="codebox"><pre><code>json_get_vars key</code></pre></div><p>Then wifi reload and check the hostapd config.</p></blockquote></div><p>seems to work now... i get the right hex value for the actual WEP key used in config even if the WPA SSID comes before in the config.</p><p>EDIT: tested both combinations and both seems to work fine now.</p><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>											<p class="post-edited">(Last edited by <strong>Manp</strong> on 23 Dec 2013, 13:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220741">
				<div class="post-metadata">
					<div class="post-num">Post #827</div>
					<div class="post-author">eigma</div>
					<div class="post-datetime">
						23 Dec 2013, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>Patch: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2013-December/023051.html">https://lists.openwrt.org/pipermail/openwrt-devel/2013-December/023051.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220807">
				<div class="post-metadata">
					<div class="post-num">Post #828</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						24 Dec 2013, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>Thnx eigma, seems to solve the wep issue <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220947">
				<div class="post-metadata">
					<div class="post-num">Post #829</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						26 Dec 2013, 19:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eigma wrote:</cite><blockquote><p>Patch: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2013-December/023051.html">https://lists.openwrt.org/pipermail/openwrt-devel/2013-December/023051.html</a></p></blockquote></div><p>This second WEP patch is not yet in the svn repository, but I have included it in the 39163 build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221078">
				<div class="post-metadata">
					<div class="post-num">Post #830</div>
					<div class="post-author">Manp</div>
					<div class="post-datetime">
						28 Dec 2013, 19:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>eigma wrote:</cite><blockquote><p>Patch: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2013-December/023051.html">https://lists.openwrt.org/pipermail/openwrt-devel/2013-December/023051.html</a></p></blockquote></div><p>This second WEP patch is not yet in the svn repository, but I have included it in the 39163 build.</p></blockquote></div><p>added to trunk in r39174 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221201">
				<div class="post-metadata">
					<div class="post-num">Post #831</div>
					<div class="post-author">fmfranzeck</div>
					<div class="post-datetime">
						30 Dec 2013, 00:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Romulus wrote:</cite><blockquote><p>I notice also that my Windows machines get an IPV6 with a lease time of 1 hour, after that it says Expired.<br/>Don&#039;t Windows machine renew their IPV6 leases, or don&#039;t I have the optimal DHCPv6 settings for Windows?</p></blockquote></div><p>I have never bothered to investigate, but I see the same.</p><p>My first guess is that Windows7 is happy with the stateless RA and does not bother to maintain the stateful dhcpv6.</p></blockquote></div><p>this still is the same for trunk, my windows7 client renews it ipv6 address, but &quot;leasetime remaining&quot; in LuCI remains as &quot;expired&quot;. Any fix for this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221263">
				<div class="post-metadata">
					<div class="post-num">Post #832</div>
					<div class="post-author">ferob</div>
					<div class="post-datetime">
						30 Dec 2013, 17:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fmfranzeck wrote:</cite><blockquote><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>Romulus wrote:</cite><blockquote><p>I notice also that my Windows machines get an IPV6 with a lease time of 1 hour, after that it says Expired.<br/>Don&#039;t Windows machine renew their IPV6 leases, or don&#039;t I have the optimal DHCPv6 settings for Windows?</p></blockquote></div><p>I have never bothered to investigate, but I see the same.</p><p>My first guess is that Windows7 is happy with the stateless RA and does not bother to maintain the stateful dhcpv6.</p></blockquote></div><p>this still is the same for trunk, my windows7 client renews it ipv6 address, but &quot;leasetime remaining&quot; in LuCI remains as &quot;expired&quot;. Any fix for this?</p></blockquote></div><p>There are problems with static leases too.<br/>For example there are two lines with the same address for every host, first is expired from the beginning and has &quot;?&quot; as hostname, while the second has the correct hostname, but remains expired after an hour.</p><p>It&#039;s the same on Windows 7 and 8/8.1 and there for a long time now.</p>											<p class="post-edited">(Last edited by <strong>ferob</strong> on 30 Dec 2013, 17:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221367">
				<div class="post-metadata">
					<div class="post-num">Post #833</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						31 Dec 2013, 18:53					</div>
				</div>
				<div class="post-content content">
					<p>#1<br/>Build 39183 sets WPS pin code to the original value given by Netgear in the label at the router&#039;s bottom. I got interested in bug 14701 (<a href="https://dev.openwrt.org/ticket/14701">https://dev.openwrt.org/ticket/14701</a>), so I wrote a patch to fetch the original PIN value from the Art partition where it is stored. The value can be overridden in /etc/config/wireless with the &#039;wps_pin&#039; option. Or if you want the Openwrt default 12345670, just comment my lines in a live router&#039;s /lib/netifd/hostapd.sh and uncomment the original 12345670 line.<br/></p><div class="codebox"><pre><code>--- trunk/package/network/services/hostapd/files/netifd.sh    (revision 39183)
+++ trunk/package/network/services/hostapd/files/netifd.sh    (working copy)
@@ -257,7 +257,11 @@
         set_default wps_device_type &quot;6-0050F204-1&quot;
         set_default wps_device_name &quot;OpenWrt AP&quot;
         set_default wps_manufacturer &quot;openwrt.org&quot;
-        set_default wps_pin &quot;12345670&quot;
+        # Set WPS label pin to match original Netgear value stored in art partition
+        # Value for wps_pin can be overridden by /etc/config/wireless
+        local PINdefault=&quot;$(dd if=/dev/mtdblock6 bs=1 skip=18 count=8 2&gt;/dev/null)&quot;
+        set_default wps_pin &quot;$PINdefault&quot;
+        #set_default wps_pin &quot;12345670&quot;
 
         wps_state=2
         [ -n &quot;$wps_configured&quot; ] &amp;&amp; wps_state=1</code></pre></div><p>#2<br/>I have noticed that 6relayd may die during the boot process. And then LAN clients don&#039;t get ipv6 connectivity. I have filed two bugs about this, and the bug has apparently surfaced somewhere around 39150. Build 39061 from Dec 15 works, while 39155 from Dec 21 already shows the symptoms sometimes.<br/><a href="https://dev.openwrt.org/ticket/14710">https://dev.openwrt.org/ticket/14710</a> and <a href="https://dev.openwrt.org/ticket/14658">https://dev.openwrt.org/ticket/14658</a></p><p>#3<br/>r39183 is the last build in two weeks. Next build in late January.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 31 Dec 2013, 19:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221369">
				<div class="post-metadata">
					<div class="post-num">Post #834</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						31 Dec 2013, 19:11					</div>
				</div>
				<div class="post-content content">
					<p>Good New Year Eve!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221389">
				<div class="post-metadata">
					<div class="post-num">Post #835</div>
					<div class="post-author">Manp</div>
					<div class="post-datetime">
						31 Dec 2013, 22:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>#1<br/>Build 39183 sets WPS pin code to the original value given by Netgear in the label at the router&#039;s bottom. I got interested in bug 14701 (<a href="https://dev.openwrt.org/ticket/14701">https://dev.openwrt.org/ticket/14701</a>), so I wrote a patch to fetch the original PIN value from the Art partition where it is stored. The value can be overridden in /etc/config/wireless with the &#039;wps_pin&#039; option. Or if you want the Openwrt default 12345670, just comment my lines in a live router&#039;s /lib/netifd/hostapd.sh and uncomment the original 12345670 line.<br/></p><div class="codebox"><pre><code>--- trunk/package/network/services/hostapd/files/netifd.sh    (revision 39183)
+++ trunk/package/network/services/hostapd/files/netifd.sh    (working copy)
@@ -257,7 +257,11 @@
         set_default wps_device_type &quot;6-0050F204-1&quot;
         set_default wps_device_name &quot;OpenWrt AP&quot;
         set_default wps_manufacturer &quot;openwrt.org&quot;
-        set_default wps_pin &quot;12345670&quot;
+        # Set WPS label pin to match original Netgear value stored in art partition
+        # Value for wps_pin can be overridden by /etc/config/wireless
+        local PINdefault=&quot;$(dd if=/dev/mtdblock6 bs=1 skip=18 count=8 2&gt;/dev/null)&quot;
+        set_default wps_pin &quot;$PINdefault&quot;
+        #set_default wps_pin &quot;12345670&quot;
 
         wps_state=2
         [ -n &quot;$wps_configured&quot; ] &amp;&amp; wps_state=1</code></pre></div></blockquote></div><p>that&#039;s great news. i always considered the choice to hardcode a default pin as a possible security concern since someone who know an access point is running openwrt could gain access to the wireless network simply by trying the default pin.<br/>of course that&#039;s only true if you don&#039;t set your own pin in /etc/config/wireless but since this particular setting isn&#039;t available in luci i think it&#039;s fair to assume most people won&#039;t bother.</p><p>your patch seems to me the most reasonable solution, thanks again!</p><p>btw, happy new year!</p><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>											<p class="post-edited">(Last edited by <strong>Manp</strong> on 1 Jan 2014, 00:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221416">
				<div class="post-metadata">
					<div class="post-num">Post #836</div>
					<div class="post-author">Ankh</div>
					<div class="post-datetime">
						1 Jan 2014, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Maybe a stupid question, but does this build also work great with ipv4? My current provider doesn&#039;t offer ipv6 (yet), but they have annouced to implement it in 2014. :-)</p><p>Also happy new year!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221418">
				<div class="post-metadata">
					<div class="post-num">Post #837</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						1 Jan 2014, 14:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ankh wrote:</cite><blockquote><p>Maybe a stupid question, but does this build also work great with ipv4?</p></blockquote></div><p>Naturally yes.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 1 Jan 2014, 14:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221489">
				<div class="post-metadata">
					<div class="post-num">Post #838</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						2 Jan 2014, 16:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>#2<br/>I have noticed that 6relayd may die during the boot process. And then LAN clients don&#039;t get ipv6 connectivity. I have filed two bugs about this, and the bug has apparently surfaced somewhere around 39150. Build 39061 from Dec 15 works, while 39155 from Dec 21 already shows the symptoms sometimes.<br/><a href="https://dev.openwrt.org/ticket/14710">https://dev.openwrt.org/ticket/14710</a> and <a href="https://dev.openwrt.org/ticket/14658">https://dev.openwrt.org/ticket/14658</a></p><p>#3<br/>r39183 is the last build in two weeks. Next build in late January.</p></blockquote></div><p>I made one more build, as 39184 seems to fix the 6relayd issue.</p><p>r39185 is the last build in two weeks. Next build in late January.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221827">
				<div class="post-metadata">
					<div class="post-num">Post #839</div>
					<div class="post-author">acema</div>
					<div class="post-datetime">
						6 Jan 2014, 19:08					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman: is there a reason you didn&#039;t inlucde dnsmasq with ipv6 support?<br/>You are using 6relayd instead of radvd. Because of overlapping features with dnsmasq(6)?</p><p>I am sure these are important design decissions I want to understand for my setup.</p><p>Thanks,<br/>acema</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221885">
				<div class="post-metadata">
					<div class="post-num">Post #840</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						7 Jan 2014, 08:57					</div>
				</div>
				<div class="post-content content">
					<p>6relayd is the current openwrt default in Openwrt trunk. So I am using it.</p><p>If you read this thread about a year ago, you would find that I used dnsmasq-dhcpv6 variant for awhile. But dropped it after the new default functionality was introduced. Same for radvd.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222067">
				<div class="post-metadata">
					<div class="post-num">Post #841</div>
					<div class="post-author">zcecc22</div>
					<div class="post-datetime">
						8 Jan 2014, 12:55					</div>
				</div>
				<div class="post-content content">
					<p>Dear hnyman,</p><p>I wanted to thank you for this fine release. I have been a follower of yours for the past year and never hit an issue (I follow the attitude/stable branch). </p><p>I would have a small request for your next compilation, could you include the two scheduler modules (kmod-sched + kmod-sched-core)? I would like to use HTB instead of HFSC and so far have been compiling my own images to get it. If you could also include ethtool that would be great. Also, having the Heartbeat LED module would be a cool addon.</p><p>If you are interested in my qos scripts (lightweight debloat + HFSC/FQ_CODEL), you can find them on my github: </p><p><a href="http://github.com/zcecc22/qos-nxt">http://github.com/zcecc22/qos-nxt</a></p><p>Best Regards,<br/>zcecc22</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222144">
				<div class="post-metadata">
					<div class="post-num">Post #842</div>
					<div class="post-author">GethroC</div>
					<div class="post-datetime">
						9 Jan 2014, 09:42					</div>
				</div>
				<div class="post-content content">
					<p>Hello all - thank you hnyman for a great build!!!I am new to OpenWRT and to Linux but I am learning. I have a 3 questions:</p><p>First: I am receiving some &quot;spam&quot; in my system log, as follows:</p><p>Wed Jan&nbsp; 8 19:19:49 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()<br/>Wed Jan&nbsp; 8 19:20:49 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()<br/>Wed Jan&nbsp; 8 19:21:51 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()<br/>Wed Jan&nbsp; 8 19:22:54 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()<br/>Wed Jan&nbsp; 8 19:23:55 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()<br/>Wed Jan&nbsp; 8 19:24:55 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()<br/>Wed Jan&nbsp; 8 19:25:56 2014 user.notice firewall: Reloading firewall due to ifup of wan6 ()</p><p>As you see I a receive the messages quite frequently. I am running the following on a WNDR3800<br/>Model&nbsp; &nbsp; NETGEAR WNDR3800<br/>Firmware Version&nbsp; &nbsp; OpenWrt Barrier Breaker r39185 / LuCI Trunk (svn-r9946)<br/>Kernel Version&nbsp; &nbsp; 3.10.24</p><p>I found info about the issue at <a href="https://forum.openwrt.org/viewtopic.php?id=46872">https://forum.openwrt.org/viewtopic.php?id=46872</a> and <br/><a href="https://forum.openwrt.org/viewtopic.php?id=46872.">https://forum.openwrt.org/viewtopic.php?id=46872.</a><br/>I applied what looked like a temp patch:<br/>[ &quot;$ACTION&quot; != &quot;ifupdate&quot; ] || exit 0<br/>But do not know how to apply the patch at the second link. I&#039;m wondering if anyone else has noticed this and if so what they did about it.</p><p>Also, I had a high school kid from upstairs get into my router - I think - he was able to pull an IPv4 ip from the router which was configured with dd-WRT (BrainSlayer-V24-preSP2 - 4-15-2013-r21286). I found his lease listed in the attached devices section of dd-WRT.<br/>I used the following settings: SSID turned off, it used a 63 character key, I used the MAC filter option to allow two clients, and turned the power down.<br/>I thought switching to static IPv6 and IPv4 addresses for the LAN might help this issue but haven&#039;t figured out out to do this yet. Any suggestions?</p><p>And finally, is there a way to create an admin account other than root and disable the root account?</p><p>Thanks for your assistance!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222830">
				<div class="post-metadata">
					<div class="post-num">Post #843</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Jan 2014, 17:40					</div>
				</div>
				<div class="post-content content">
					<p>@GethroC: none of those questions is related specifically to my build, and I have no idea what the dd-Wrt question does in this thread. Please ask especially the generic questions in other threads. This is not a general support thread. </p><p>Regarding the ipv6 log spam, there seems to be an issue that some users see. CyrusFF is the author of 6relayd and odhcp6c, and was also active in the thread you mentioned. He added in October a filter to drop RA renews less than 60 seconds apart, but your case just exceeds that filter, as the update intervals are 60-63 seconds. I added a request to change the limit from 60 to 65 seconds to that thread you already mentioned. <a href="https://forum.openwrt.org/viewtopic.php?pid=222877#p222877">https://forum.openwrt.org/viewtopic.php?pid=222877#p222877</a></p><p>@zcecc22: kmod-sched is already included in trunk I think. But I am not going to add new modules, as I have no need for them. At least in my usage, the cpu utilization / system load remains so low, that I doubt the heartbeat would offer any special effects. I try to keep this build simple, so you have to continue building your own if you want those :-(&nbsp; &nbsp;(That goes especially for stable AA branch, as there is practically no development, so the build remain rather static.)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Jan 2014, 06:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223090">
				<div class="post-metadata">
					<div class="post-num">Post #844</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						18 Jan 2014, 19:26					</div>
				</div>
				<div class="post-content content">
					<p>It seems that putty is not able to download from a https site. This is useful when the web interface is not available.<br/>putty<br/></p><div class="quotebox"><cite>putty wrote:</cite><blockquote><p>root@WNDR3700:/tmp# wget <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/hZVui56bJu/trunk-r39319-2014-01-18/WNDR3700-trunk-r39319-2014-01-18-1240-squashfs-sysupgrade.bin">https://www.dropbox.com/sh/t52c02rm20y8 … pgrade.bin</a><br/>wget: not an http or ftp url: <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/hZVui56bJu/trunk-r39319-2014-01-18/WNDR3700-trunk-r39319-2014-01-18-1240-squashfs-sysupgrade.bin">https://www.dropbox.com/sh/t52c02rm20y8 … pgrade.bin</a></p></blockquote></div><p>However I managed to do the update in two stages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223092">
				<div class="post-metadata">
					<div class="post-num">Post #845</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Jan 2014, 19:35					</div>
				</div>
				<div class="post-content content">
					<p>Hmm. <br/>wget support was one of the reasons why I started to use dropbox after the previous FTP site went down. But apparently I didn&#039;t test busybox wget :-(</p><p>I will check how much space the GNU wget (with https support) would take and I might include it in the next build. (It might not be not that much as the openssl library is already included.)</p><p>EDIT:<br/>alternatively you could also install GNU wget from the snapshot package repository.<br/>opkg update<br/>opkg install wget</p><p>EDIT2:<br/>It seems to increase the firmware size by 192 kB. I will include it in the build as also I would like to have the download capability readily there.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Jan 2014, 19:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223095">
				<div class="post-metadata">
					<div class="post-num">Post #846</div>
					<div class="post-author">Manani</div>
					<div class="post-datetime">
						18 Jan 2014, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>Good news, thank you! <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223173">
				<div class="post-metadata">
					<div class="post-num">Post #847</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						19 Jan 2014, 16:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>@GethroC: <br/>Regarding the ipv6 log spam, there seems to be an issue that some users see. CyrusFF is the author of 6relayd and odhcp6c, and was also active in the thread you mentioned. He added in October a filter to drop RA renews less than 60 seconds apart, but your case just exceeds that filter, as the update intervals are 60-63 seconds. I added a request to change the limit from 60 to 65 seconds to that thread you already mentioned. <a href="https://forum.openwrt.org/viewtopic.php?pid=222877#p222877">https://forum.openwrt.org/viewtopic.php?pid=222877#p222877</a></p></blockquote></div><p>r39320 trunk: <br/>- odhcp6c filter time for ISP RA spam has been increased 60--&gt;70 seconds to avoid spam from ISPs with one-minute RA update cycle. <br/>- GNU wget has been added</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223197">
				<div class="post-metadata">
					<div class="post-num">Post #848</div>
					<div class="post-author">felixbuenemann</div>
					<div class="post-datetime">
						19 Jan 2014, 20:22					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman: Any chance to get kmod-fs-hfsplus built in as a default package? I tried installing via opkg, but the packages don&#039;t work with the kernel and if ignoring dependencies I get: &quot;hfsplus: Unknown symbol __blockdev_direct_IO (err 0)&quot;. This would be very useful, to allow the WNDR to act as a time machine target. It&#039;s possible to use a different fs, but then you can&#039;t plug the drive directly into the mac to do a restore. The ipk is just 54k, so it shouldn&#039;t add much required space.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223256">
				<div class="post-metadata">
					<div class="post-num">Post #849</div>
					<div class="post-author">CyrusFF</div>
					<div class="post-datetime">
						20 Jan 2014, 14:51					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman: increasing that timer won&#039;t really help. It will just reduce the reloads to happen every 70 seconds instead of 60.<br/>However <a href="https://dev.openwrt.org/changeset/39332">https://dev.openwrt.org/changeset/39332</a> should fix everything for all ISPs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223258">
				<div class="post-metadata">
					<div class="post-num">Post #850</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 Jan 2014, 16:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>CyrusFF wrote:</cite><blockquote><p>@hnyman: increasing that timer won&#039;t really help. It will just reduce the reloads to happen every 70 seconds instead of 60.<br/>However <a href="https://dev.openwrt.org/changeset/39332">https://dev.openwrt.org/changeset/39332</a> should fix everything for all ISPs.</p></blockquote></div><p>I noticed, and your fix should help also for similar ipv4 dhcp renewal spam (every 30 min for me). Nice.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 34 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=32.html">32</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=33.html">33</a></li><li class="pagination-current"><span>34</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=35.html">35</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=36.html">36</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>