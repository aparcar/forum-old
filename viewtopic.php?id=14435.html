<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> default partitioning?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p63069">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">swinnenb</div>
					<div class="post-datetime">
						8 Feb 2008, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;ve searched the forum to look for some guide lines about partitioning flash for OpenWrt.<br />I&#039;m trying to get my AT91SAM9260-EK dev board running OpenWrt.<br />I already succeeded to boot with jffs2 filesystem.<br />But I do not understand the partitioning scheme very well.<br />Can someone point me to some good explanations of partitions used and for which filesystem? And how they should be sized (relative).<br />What does rootfs_data do and how this works with squashfs ???<br />Some partitioning rules and explanations would be appreciated.</p><p>As soon I have my port working properly, I&#039;ll post it.</p><p>BTW: I had to change the image.mk include file in order to set the right jffs2 page and erease size for my AT45 SPI flash. Is it possible someone makes this configurable in OpenWrt menuconfig?</p><p>Kind regards</p><p>Bart</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71113">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">G Herzog</div>
					<div class="post-datetime">
						19 Jul 2008, 10:48					</div>
				</div>
				<div class="post-content content">
					<p>I am using an AsusGL500gP.&nbsp; Your board is not a router/gateway without wifi, so it is quite atypical from what most of us are trying to achieve.&nbsp; I am not sure you have to provide more than one partition for the flash. What would be the advantage? Is there a need due to the memory structure of your unit? </p><p>Try Wikipedia to get a quick start with squashfs.&nbsp; From what I understand is OpenWrt stores a boot image at RO and it is copied into RAM for actual use. As I reside in Taiwan, I rely heavily on Wikipedia and OReily books to get answers as diverse issues keep popping up as one gets into this.&nbsp; Wikipedia will help you learn quickly.</p><p>Before you even consider partitioning, you should be looking at required mount points.&nbsp; I suspect that further partitioning is unnecessary.</p><p>You may be confused by discussions of outboard mass storage expansion, like USBsticks or USB HDD. If you have USB HDD there may be advantages to having multiple partitions.&nbsp; In particular, one might provide a swap partition.&nbsp; But with solid-state memory, a swap partition is said to actually shorten the life of the memory.</p><p>I am trying to decide on partitioning for a 160Gbyte external HDD.&nbsp; It seems to me that it is a good idea to have smaller partitions as it takes several hours to run fschk of the one big partition due to the small ram and slower clock rate.&nbsp; It even takes hours on a desktop PC.&nbsp; So I am considering nothing bigger than 20Gbyte.&nbsp; And if at startup a partition is going to run fschk, much smaller than that would be wise -- maybe 1Gbyte or less.&nbsp; You could wait for hours before a complete boot.</p><p>At this point, I am still trying to understand how to usefully configure the mount points.&nbsp; I am not in a rush, but I&#039;d like to have a system that allows most of the changes occuring on the HDD rather than internal firmware.&nbsp; I suspect that flashing the firmware repeatedly is going to shorten the life of the router.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>