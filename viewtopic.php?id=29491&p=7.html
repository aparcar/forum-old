<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> shairport on openwrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 2 Sep 2014 and 25 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 7</div><nav><ul><li><a href="viewtopic.php%3Fid=29491&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=29491&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=29491&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p227545">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">czyzczyz</div>
					<div class="post-datetime">
						13 Mar 2014, 20:53					</div>
				</div>
				<div class="post-content content">
					<p>I wish that patch was available as source -- I&#039;ve spent a day getting a compilation environment up so that I could compile my own firmware, so I can&#039;t use their binary patch. I&#039;d love to know what line or lines of code have to be tweaked to fix the USB 1.1 reset problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230774">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">vladx2</div>
					<div class="post-datetime">
						20 Apr 2014, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>I got it to work on a TL-MR3020 with Attitude Adjustment by loosely following <a href="http://mikekazakov.blogspot.ro/2012/12/tp-link-tl-mr3020-as-airplay-receiver.html:">http://mikekazakov.blogspot.ro/2012/12/ … iver.html:</a><br />1. Use <a href="https://github.com/sm3rt/OpenWRT-ShairPort">https://github.com/sm3rt/OpenWRT-ShairPort</a> as a feed<br />2. Select the shairport package in menuconfig, not shairport_new<br />3. Change socketlib.h:27 from </p><div class="codebox"><pre><code>int setup_server(struct addrinfo *server_address, in pPort);</code></pre></div><p> to </p><div class="codebox"><pre><code>int setup_server(struct addrinfo **server_address, int pPort);</code></pre></div><p>, with the necessary changes in socketlib.c. This was to fix a segmentation fault that appeared because socket() didn&#039;t write in the provided struct. The symptom was &quot;Error: Unable to accept connection to server socket: Bad address&quot;. Bad address in this case does not mean bad network address, but bad memory address.<br />4. Compile just the package and its dependencies (libopenssl, avahi-daemon, libao, libpthread), following the instructions at <a href="http://wiki.openwrt.org/doc/howtobuild/single.package">http://wiki.openwrt.org/doc/howtobuild/single.package</a><br />5. Install the package.<br />6. Enable the daemons: </p><div class="codebox"><pre><code>/etc/init.d/dbus enable &amp;&amp; /etc/init.d/avahi-daemon enable &amp;&amp; /etc/init.d/shairport enable</code></pre></div><p>7. Reboot/start and enjoy!</p><p>If you&#039;re running on an AR71XX you can skip steps 1-4 and download the binary I built from <a href="https://drive.google.com/file/d/0B-r6w8siuIqrOWlleGpBLVdYSmM/edit?usp=sharing">my Google Drive</a>.<br />Patched versions of <a href="https://drive.google.com/file/d/0B-r6w8siuIqrRTRGWUJUaUdwUzA/edit?usp=sharing">socketlib.h</a> and <a href="https://drive.google.com/file/d/0B-r6w8siuIqrd05GWHVLZHl4R0E/edit?usp=sharing">socketlib.c</a> are also available. IPv6 is disabled in those and I&#039;ve left some debugging code in because I couldn&#039;t be bothered to remove it, but they work.</p>											<p class="post-edited">(Last edited by <strong>vladx2</strong> on 20 Apr 2014, 00:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231336">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">peteruithoven</div>
					<div class="post-datetime">
						26 Apr 2014, 17:36					</div>
				</div>
				<div class="post-content content">
					<p>@vladx2, Why use the sm3rt feed, but not use it&#039;s package? </p><p>We are talking about socketlib.h and socketlib.c located in the following folder right?<br />build_dir/target-mips_34kc_uClibc-0.9.33.2/shairport-2012-10-20</p><p>How can we properly fix this socketlib? </p><p>Enabling those deamons could be a part of the post install of Shairport?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231341">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">vladx2</div>
					<div class="post-datetime">
						26 Apr 2014, 18:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>peteruithoven wrote:</cite><blockquote><p>@vladx2, Why use the sm3rt feed, but not use it&#039;s package? </p><p>We are talking about socketlib.h and socketlib.c located in the following folder right?<br />build_dir/target-mips_34kc_uClibc-0.9.33.2/shairport-2012-10-20</p><p>How can we properly fix this socketlib? </p><p>Enabling those deamons could be a part of the post install of Shairport?</p></blockquote></div><p>I&#039;m afraid it was mostly trial and error. Just posted to report what worked for me.</p><p>I used the shairport package instead of shairport_new by mistake, having tried other feeds before and not reading Sm3rt&#039;s instructions properly. To be honest, I didn&#039;t really investigate where the Sm3rt feed even pulls the code from, but it&#039;s not the latest Abrasive version as it claims in the Readme.</p><p>The fix to the socketlib is proper, not a kludge. The original version discarded the socket that the system call returned and the fix fixes that. However, the latest <a href="https://github.com/abrasive/shairport">https://github.com/abrasive/shairport</a> does not use socketlib.c/h anymore, so the fix is probably not needed in that.</p><p>Yes, enabling the deamons could be a part of the post install. Didn&#039;t do that since I have absolutely 0 experience with ipk&#039;s.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231342">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">mhamad8</div>
					<div class="post-datetime">
						26 Apr 2014, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>hi<br />can anyone help me please<br />i have TP-Link TL-WR841ND and i installed openwrt on it ,<br />and this device support (DBPSK, DQPSK, CCK, OFDM, 16-QAM, 64-QAM) modulation Technology<br />can i select one of them manually .<br />i want the device uses one modulation .<br />thank you very much</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232668">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						7 May 2014, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>I am using ShairPort_new from<br /><a href="https://github.com/sm3rt/OpenWRT-ShairPort">https://github.com/sm3rt/OpenWRT-ShairPort</a></p><p>However, I noticed that in my device, rcS process is always stuck at boot.<br />If I terminate airplay, i.e. ShairPort_new or disable it from start-up, rcS disappears.<br />If I launch airplay, i.e. ShairPort_new after boot is completed, it seems to work just fine.</p><p>Anyone experience something similar? or have any solution?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239454">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">probono</div>
					<div class="post-datetime">
						6 Jul 2014, 14:48					</div>
				</div>
				<div class="post-content content">
					<p>How did you manage to get that compiled? Could you please shared a compiled version?</p><p>How do we get this version into OpenWrt &quot;properly&quot;?</p>											<p class="post-edited">(Last edited by <strong>probono</strong> on 6 Jul 2014, 14:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239466">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						6 Jul 2014, 17:09					</div>
				</div>
				<div class="post-content content">
					<p>The shairport package should make it into <a href="https://github.com/openwrt/packages/">https://github.com/openwrt/packages/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240143">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">wertius</div>
					<div class="post-datetime">
						13 Jul 2014, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Am I just being stupid?? I can&#039;t seem to get this working on my 703N without going over the amount of space available? Whats the secret/easiest way to get this Shairport going ?</p><p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>* verify_pkg_installable: Only have 44kb available on filesystem /overlay, pkg libopenssl needs 670<br /> * opkg_install_cmd: Cannot install package shairport.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240148">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						13 Jul 2014, 23:00					</div>
				</div>
				<div class="post-content content">
					<p>Check out ImageBuilder with it you can create firmware really easy with shairport already included. All packages that are included are compressed so you can fit more than later by installing packages...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240150">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">wertius</div>
					<div class="post-datetime">
						13 Jul 2014, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Valentt, I&#039;m very new to this and will check it out <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244663">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">mausmaus</div>
					<div class="post-datetime">
						23 Aug 2014, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>I got Shairport working thanks to valdx2&#039;s image. Much appreciated efforts. </p><p>Although Shairport works now, I have to restart Shairport every time a system logs disconnects. Tried turning of ipv6 in Avahi to no avail. Anyone aware of a workaround for this minor issue?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255089">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">falkmannen</div>
					<div class="post-datetime">
						21 Nov 2014, 09:45					</div>
				</div>
				<div class="post-content content">
					<p>Having an really annoying poriblem with shairport on WR703N. All deamons up and running at boot (usbd, avahi and shairport). WR703N configured as a AP </p><p>/etc/config/wireless:</p><p>config wifi-device&nbsp; radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode&nbsp; &nbsp;11ng<br />&nbsp; &nbsp; &nbsp; &nbsp; option path&nbsp; &nbsp; &nbsp;&#039;platform/ar933x_wmac&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode&nbsp; &nbsp;HT20<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;SHORT-GI-20<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;SHORT-GI-40<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;RX-STBC1<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;DSSS_CCK-40<br />&nbsp; &nbsp; &nbsp; &nbsp; # REMOVE THIS LINE TO ENABLE WIFI:<br />&nbsp; &nbsp; &nbsp; &nbsp; # option disabled 1</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;ap<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid&nbsp; &nbsp; &nbsp;vessLAN<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption none</p><br /><p>/etc/config/network:</p><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;</p><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;wlan0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;192.168.1.10&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;</p><p>wlan0 is up and running:</p><p>root@OpenWrt:/# ifconfig<br />eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 08:57:00:4C:D7:66<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:4</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:11579 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:11579 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:949544 (927.2 KiB)&nbsp; TX bytes:949544 (927.2 KiB)</p><p>wlan0&nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 08:57:00:4C:D7:66<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.10&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:304 errors:0 dropped:120 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:335 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:22896 (22.3 KiB)&nbsp; TX bytes:36412 (35.5 KiB)</p><p>iPhone is connected to the wlan<br />root@OpenWrt:/# iw dev wlan0 station dump<br />Station d0:23:db:b2:35:ef (on wlan0)<br />&nbsp; &nbsp; &nbsp; &nbsp; inactive time:&nbsp; 40 ms<br />&nbsp; &nbsp; &nbsp; &nbsp; rx bytes:&nbsp; &nbsp; &nbsp; &nbsp;4148<br />&nbsp; &nbsp; &nbsp; &nbsp; rx packets:&nbsp; &nbsp; &nbsp;77<br />&nbsp; &nbsp; &nbsp; &nbsp; tx bytes:&nbsp; &nbsp; &nbsp; &nbsp;1583<br />&nbsp; &nbsp; &nbsp; &nbsp; tx packets:&nbsp; &nbsp; &nbsp;11<br />&nbsp; &nbsp; &nbsp; &nbsp; tx retries:&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; tx failed:&nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp; &nbsp; &nbsp; signal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-51 [-51] dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; signal avg:&nbsp; &nbsp; &nbsp;-31 [-31] dBm<br />&nbsp; &nbsp; &nbsp; &nbsp; tx bitrate:&nbsp; &nbsp; &nbsp;1.0 MBit/s<br />&nbsp; &nbsp; &nbsp; &nbsp; rx bitrate:&nbsp; &nbsp; &nbsp;65.0 MBit/s MCS 7<br />&nbsp; &nbsp; &nbsp; &nbsp; authorized:&nbsp; &nbsp; &nbsp;yes<br />&nbsp; &nbsp; &nbsp; &nbsp; authenticated:&nbsp; yes<br />&nbsp; &nbsp; &nbsp; &nbsp; preamble:&nbsp; &nbsp; &nbsp; &nbsp;short<br />&nbsp; &nbsp; &nbsp; &nbsp; WMM/WME:&nbsp; &nbsp; &nbsp; &nbsp; yes<br />&nbsp; &nbsp; &nbsp; &nbsp; MFP:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; no<br />&nbsp; &nbsp; &nbsp; &nbsp; TDLS peer:&nbsp; &nbsp; &nbsp; no</p><br /><p>Avahi has published my AirPlay server using IPv4<br />root@OpenWrt:/# avahi-browse -a<br />+&nbsp; wlan0 IPv4 Web Server on OpenWrt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_http._tcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />+&nbsp; &nbsp;eth0 IPv4 Web Server on OpenWrt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_http._tcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />+&nbsp; wlan0 IPv4 Secure Shell on OpenWrt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ssh._tcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />+&nbsp; &nbsp;eth0 IPv4 Secure Shell on OpenWrt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ssh._tcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />+&nbsp; wlan0 IPv4 005E3D5D2921@vessLAN&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _raop._tcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />+&nbsp; &nbsp;eth0 IPv4 005E3D5D2921@vessLAN&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _raop._tcp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local</p><p>The airplay server is seen on my iPhone<br />but, shairport is just sitting and awaiting connections<br /> LogLevel: 7<br />AirName: vessLAN<br />HWID: 1&lt;7hm0<br />HWID_Hex(12): 00313C37686D<br />Avahi/DNS-SD started on PID: 1747<br />Starting connection server: specified server port: 5002<br />Waiting for clients to connect<br />Avahi/DNS-SD Name: 00313C37686D@vessLAN<br />Established under name &#039;00313C37686D@vessLAN&#039;</p><p>on my phone it looks like im connected, AirPlay symbol turns white, but when trying to play music it thinks for a while then drops connection. I do not understand what the problem is</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255093">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">falkmannen</div>
					<div class="post-datetime">
						21 Nov 2014, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>Solved it! Needed to bridge wifi and lan in the network configuration file</p><p>updated /etc/config/network<br />config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;</p><p>updated /etc(config/wireless (just the wifi-iface part)<br />config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;ap<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid&nbsp; &nbsp; &nbsp;vessLAN<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption none</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 7 of 7</div><nav><ul><li><a href="viewtopic.php%3Fid=29491&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=29491&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=29491&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>