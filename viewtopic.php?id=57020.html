<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WN722N and MR3040</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p273993">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">TheOmran</div>
					<div class="post-datetime">
						26 Apr 2015, 09:03					</div>
				</div>
				<div class="post-content content">
					<p>Okay, so here&#039;s the issue.</p><p>I&#039;m rocking Attitude Adjustment 12.09 on an MR3040 V2 with pineapple wifi installed on it which works great since I found an AA image on <a href="https://github.com/FriedZombie/OpenWrt_Attitude-Adjustment_backports/releases/">https://github.com/FriedZombie/OpenWrt_ â€¦ /releases/</a> for my V2.3 router.</p><p>Now the issue is I bought a TL-WN722N USB Wifi card (Chipset Atheros AR9271) to use on the device for specific features in the pineapple firmware but to my surprise, the chipsets drivers aren&#039;t installed by default on the device, but there is a kernel module that I can download to use that, easy enough? Hell NO!</p><p>I ran the opkg install kmod-ath9k-htc in order to install the drivers onto my openwrt router which says installed successfully, but everytime I plug the USB in I see this in the dmesg output.</p><p>[&nbsp; &nbsp;96.250000] usb 1-1.2: new high-speed USB device number 5 using ehci-platform</p><p>And nothing else.</p><p>To my understanding there were some patches to fix this and enable the ath9k-htc drivers but I can&#039;t seem to figure out how to apply them. I can see that the USB card is working fine with Barrier Breaker by just installing the kmod-ath9k-htc and running modprobe ath9k_htc and BAM, the device is fully functional.</p><p>I would REALLY appreciate it if someone can assist me in getting the USB wifi to work on my device since I can&#039;t really wait for pineapple to update to BB or keep using the device with only one wifi interface.</p><p>I already have the attitude adjustment source on my laptop and I successfully compiled the image before, the only thing I&#039;m missing is the driver for the USB wifi to work!</p><p>I don&#039;t know if it&#039;s possible or not to build the kernel module itself after the patching and the modifications and just copy that over to my current installation on the device and run the insmod/modprobe to get that to work, but I&#039;d really like it if I didn&#039;t have to reflash the entire image to get it working.</p>											<p class="post-edited">(Last edited by <strong>TheOmran</strong> on 26 Apr 2015, 09:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274061">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						27 Apr 2015, 01:01					</div>
				</div>
				<div class="post-content content">
					<p>It is possible but just too much work, best way is to wait until Pineapple updates to BB.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>