<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Correct way to have a local copy of the Luci source code?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p127099">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						1 Feb 2011, 22:04					</div>
				</div>
				<div class="post-content content">
					<p>I would like to experiment a bit with Luci, but I am wondering what is the correct way to have a local copy of the Luci source code and use it in the make process?</p><p>Based on the Luci source code, the /luci/branches/luci-0.10/contrib/package/luci/Makefile (and same file in Luci trunk) seems to have a logic for detecting the existence of &quot;full local repository&quot;. And an additional tar command is used to circumvent the source data import during the make process by creating the expected tar archive there by hand(?). So it looks like the make process could happily use a local source repository without changes. Correct?</p><p>&#039;feeds&#039; definition points to /luci/branches/luci-0.10/contrib/package, while full source should be pulled from the root /luci, I guess.</p><p>At the first glance it looks like the process might be:<br />-the full Luci source data (of the required Luci branch) is manually pulled with svn from Luci SVN to a local repository. And then it is edited, updated, whatever...<br />-in &#039;feeds.conf.default&#039; in buildroot the feed type is set to &#039;src-link&#039; instead of &#039;src-svn&#039; and the feed is set to point to the correct subdirectory (/luci/branches/luci-0.10/contrib/package) in the local Luci source repository. In practice the feeds system creates a symlink pointing there at &quot;feeds install&quot;.</p><p>Is that the correct (and best) way?</p><p>EDIT:<br />Additional question:<br />Now that Backfire uses Luci 0.10, is there any specific reason not to use Luci trunk with Backfire builds?<br />(At the moment the difference between Luci trunk and 0.10 are rather minimal, but some changes are not always backported to 0.10 immediately.)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 1 Feb 2011, 22:07)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>