<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> android thetering setup</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p117997">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						28 Sep 2010, 00:26					</div>
				</div>
				<div class="post-content content">
					<p>so, my cable provider is less reliable than AT&amp;T... looking for workarounds for my downtime i&#039;ve found this <a href="http://whats.all.this.brouhaha.com/2010/07/21/usb-tethering-an-android-phone-to-an-openwrt-router/">http://whats.all.this.brouhaha.com/2010 … rt-router/</a></p><div class="quotebox"><blockquote><p>USB tethering an Android phone to an OpenWRT router<br />...<br /> I connected my Nexus One phone to the USB port of the DIR-825, and installed the following packages:</p><p>kmod-nls-base<br />kmod-usb2<br />kmod-usb-core<br />kmod-usb-net<br />kmod-usb-net-cdc-ether<br />kmod-usb-net-rndis<br />kmod-usb-ohci<br />kmod-usb-uhci<br />Once these were installed, I edited /etc/config/network, and under “config interface wan” replaced “option ifname eth1? with “option ifname usb0?.</p><p>I enabled USB tethering on the phone, and upon rebooting the router, it successfully set up the usb0 network interface and obtained its IP address, netmask, default gateway, etc. from the phone via DHCP.</p><p>At this point the only problem is that if I disconnect the phone (or disable tethering), then reconnect, the usb0 interface appears, but does not get configured by dhcp</p></blockquote></div><p>i think he got everything right except the network config (and installing both ohci and uhci...)</p><p>Does anyone here have a better setup?&nbsp; i&#039;d really like to play with this later but can&#039;t risk the downtime right now. (on both cable and att)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118040">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						28 Sep 2010, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>You would need some kind of udev rules to start the connection when you plug the phone</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135101">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						11 May 2011, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>with the latest release, i just installed all that +usbutils +udev</p><p>and it&#039;s working with hot plugging just fine!</p><p>all i needed to do is to replace the interface name on my wlan in /etc/config/network and i&#039;m in business.</p><p>will try to make the button on my modem make that interface switch for wlan later. would be a good backup uplink solution that everyone can use without root password.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146384">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nbritton</div>
					<div class="post-datetime">
						22 Oct 2011, 14:11					</div>
				</div>
				<div class="post-content content">
					<p>Like gcbwrt said, everything is working flawlessly for me too.&nbsp; I&#039;m using it as my primary internet connection at home now; I dropped my cable provider and switched to Dish, saving around $100/mo now.&nbsp; The speedtest.net results are Sprint 3G with an average 2 or 3 signal bars on my EVO, I live in Dubuque, Iowa...</p><p>Speedtest.net:<br />&nbsp; &nbsp; Ping = 125 ~ 142 ms<br />&nbsp; &nbsp; Download Speed = 1.25 ~ 1.65 Mbps<br />&nbsp; &nbsp; Upload Speed = 0.33 ~ 0.43 Mbps</p><p>Hardware:<br />&nbsp; &nbsp; Sprint HTC EVO 4G:<br />&nbsp; &nbsp; &nbsp; &nbsp; Hardware Version = 0002<br />&nbsp; &nbsp; &nbsp; &nbsp; Android Version = 2.3.3<br />&nbsp; &nbsp; &nbsp; &nbsp; Software number = 4.24.651.1<br />&nbsp; &nbsp; &nbsp; &nbsp; Kernel version = 2.6.35.10<br />&nbsp; &nbsp; &nbsp; &nbsp; Baseband version = 2.15.00.0808<br />&nbsp; &nbsp; &nbsp; &nbsp; Build number = Synergy (RLS1+GodMode)<br />&nbsp; &nbsp; &nbsp; &nbsp; PRI Verions = 2.15_003<br />&nbsp; &nbsp; &nbsp; &nbsp; PRL Version = 60681<br />&nbsp; &nbsp; Netgear N600 Wireless Dual Band Gigabit Router (WNDR3700v2)<br />&nbsp; &nbsp; &nbsp; &nbsp; OpenWRT Version = 10.03.1-rc5</p><p>Complete Instructions (for WNDR3700v2 / EVO 4G):</p><p>&nbsp; &nbsp; 1. Install OpenWRT<br />&nbsp; &nbsp; &nbsp; &nbsp; Download: <a href="http://downloads.openwrt.org/backfire/10.03.1-rc5/ar71xx/openwrt-ar71xx-wndr3700v2-squashfs-factory-NA.img">http://downloads.openwrt.org/backfire/1 … ory-NA.img</a><br />&nbsp; &nbsp; &nbsp; &nbsp; Flash the router using the Firmware Upgrade option in the Netgear admin web interface (Defaults: 192.168.1.1, admin/password).</p><p>&nbsp; &nbsp; 2. Navigate to the OpenWRT router web interface (Defaults: 192.168.1.1, root without a password) and set root password to enable SSH.</p><p>&nbsp; &nbsp; 3. Download the following files to your PC, from <a href="http://downloads.openwrt.org/backfire/10.03.1-rc5/ar71xx/packages/">http://downloads.openwrt.org/backfire/1 … /packages/</a><br />&nbsp; &nbsp; &nbsp; &nbsp; kmod-usb-net-cdc-ether_2.6.32.27-1_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; kmod-usb-net-rndis_2.6.32.27-1_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; kmod-usb-net_2.6.32.27-1_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; libpthread_0.9.30.1-43.20_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; librt_0.9.30.1-43.20_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; libusb-1.0_1.0.8-1_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; udev_142-1_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; usbutils_003-1_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; zlib_1.2.3-5_ar71xx.ipk<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Note: kmod-nls-base, kmod-usb2, kmod-usb-core, and kmod-usb-ohci packages are part of the base firmware.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Note: kmod_usb-uhci is only needed for USB 1.0 devices, USB 1.1 devices uses OHCI and USB 2.0 uses EHCI.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Note: libpthread, librt, libusb, and zlib are dependencies of usbutils.</p><p>&nbsp; &nbsp; 4. SCP the files you download on your computer to your router. The WinSCP program will work if you set the mode to SCP<br />&nbsp; &nbsp; &nbsp; &nbsp; Note: SFTP does not work, you must use SCP to transfer the files.</p><p>&nbsp; &nbsp; 5. SSH to your router and install the packages using the following command: &quot;opkg install *.ipk&quot;.</p><p>&nbsp; &nbsp; 6. Edited /etc/config/network, and under “config interface wan” replace “option ifname eth1? with “option ifname usb0?. Then reboot.</p><p>&nbsp; &nbsp; 7. Plug your phone into the router, you should get a pop-up on your phone asking what USB mode you want, select USB Tethering.</p><p>&nbsp; &nbsp; 8. SSH to your router and run &quot;ifconfig usb0&quot;. If you see an IP address assigned your golden, otherwise look through dmesg for errors.</p><p>root@OpenWrt:~# ifconfig usb0<br />usb0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr AA:CC:B6:36:B3:97<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.42.65&nbsp; Bcast:192.168.42.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:110 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:120 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:32350 (31.5 KiB)&nbsp; TX bytes:22395 (21.8 KiB)</p><p>root@OpenWrt:~# dmesg |grep usb<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />usb usb1: configuration #1 chosen from 1 choice<br />usb usb2: configuration #1 chosen from 1 choice<br />usbcore: registered new interface driver cdc_ether<br />usbcore: registered new interface driver rndis_host<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb 1-1: USB disconnect, address 2<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 3<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb0: register &#039;rndis_host&#039; at usb-ar71xx-ehci-1, RNDIS device, aa:cc:b6:36:b3:97<br />usb 1-1: USB disconnect, address 3<br />usb0: unregister &#039;rndis_host&#039; usb-ar71xx-ehci-1, RNDIS device<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 4<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb0: register &#039;rndis_host&#039; at usb-ar71xx-ehci-1, RNDIS device, aa:cc:b6:36:b3:97<br />usb 1-1: USB disconnect, address 4<br />usb0: unregister &#039;rndis_host&#039; usb-ar71xx-ehci-1, RNDIS device<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 5<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb 1-1: USB disconnect, address 5<br />usb 1-1: new high speed USB device using ar71xx-ehci and address 6<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb0: register &#039;rndis_host&#039; at usb-ar71xx-ehci-1, RNDIS device, aa:cc:b6:36:b3:97</p><p>root@OpenWrt:~# lsusb -v<br />Bus 001 Device 006: ID 0bb4:0ffe High Tech Computer Corp.<br />Device Descriptor:<br />&nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 18<br />&nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; bcdUSB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.00<br />&nbsp; bDeviceClass&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 Communications<br />&nbsp; bDeviceSubClass&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; bDeviceProtocol&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; bMaxPacketSize0&nbsp; &nbsp; &nbsp; &nbsp; 64<br />&nbsp; idVendor&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x0bb4 High Tech Computer Corp.<br />&nbsp; idProduct&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x0ffe<br />&nbsp; bcdDevice&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.26<br />&nbsp; iManufacturer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 HTC<br />&nbsp; iProduct&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 Android Phone<br />&nbsp; iSerial&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 HT05DHL08233<br />&nbsp; bNumConfigurations&nbsp; &nbsp; &nbsp; 1<br />&nbsp; Configuration Descriptor:<br />&nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9<br />&nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2<br />&nbsp; &nbsp; wTotalLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;75<br />&nbsp; &nbsp; bNumInterfaces&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2<br />&nbsp; &nbsp; bConfigurationValue&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; iConfiguration&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp; bmAttributes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0xc0<br />&nbsp; &nbsp; &nbsp; Self Powered<br />&nbsp; &nbsp; MaxPower&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 500mA<br />&nbsp; &nbsp; Interface Association:<br />&nbsp; &nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8<br />&nbsp; &nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; 11<br />&nbsp; &nbsp; &nbsp; bFirstInterface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; bInterfaceCount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2<br />&nbsp; &nbsp; &nbsp; bFunctionClass&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 Communications<br />&nbsp; &nbsp; &nbsp; bFunctionSubClass&nbsp; &nbsp; &nbsp; &nbsp;2 Abstract (modem)<br />&nbsp; &nbsp; &nbsp; bFunctionProtocol&nbsp; &nbsp; &nbsp; &nbsp;0 None<br />&nbsp; &nbsp; &nbsp; iFunction&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6 RNDIS<br />&nbsp; &nbsp; Interface Descriptor:<br />&nbsp; &nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9<br />&nbsp; &nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4<br />&nbsp; &nbsp; &nbsp; bInterfaceNumber&nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp; &nbsp; bAlternateSetting&nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; bNumEndpoints&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; bInterfaceClass&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 Communications<br />&nbsp; &nbsp; &nbsp; bInterfaceSubClass&nbsp; &nbsp; &nbsp; 2 Abstract (modem)<br />&nbsp; &nbsp; &nbsp; bInterfaceProtocol&nbsp; &nbsp; 255 Vendor Specific (MSFT RNDIS?)<br />&nbsp; &nbsp; &nbsp; iInterface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4 RNDIS Communications Control<br />&nbsp; &nbsp; &nbsp; CDC Header:<br />&nbsp; &nbsp; &nbsp; &nbsp; bcdCDC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.10<br />&nbsp; &nbsp; &nbsp; CDC Call Management:<br />&nbsp; &nbsp; &nbsp; &nbsp; bmCapabilities&nbsp; &nbsp; &nbsp; &nbsp;0x00<br />&nbsp; &nbsp; &nbsp; &nbsp; bDataInterface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; CDC ACM:<br />&nbsp; &nbsp; &nbsp; &nbsp; bmCapabilities&nbsp; &nbsp; &nbsp; &nbsp;0x00<br />&nbsp; &nbsp; &nbsp; CDC Union:<br />&nbsp; &nbsp; &nbsp; &nbsp; bMasterInterface&nbsp; &nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp; &nbsp; &nbsp; bSlaveInterface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; Endpoint Descriptor:<br />&nbsp; &nbsp; &nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; &nbsp; &nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5<br />&nbsp; &nbsp; &nbsp; &nbsp; bEndpointAddress&nbsp; &nbsp; &nbsp;0x82&nbsp; EP 2 IN<br />&nbsp; &nbsp; &nbsp; &nbsp; bmAttributes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Transfer Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Synch Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;None<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Usage Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Data<br />&nbsp; &nbsp; &nbsp; &nbsp; wMaxPacketSize&nbsp; &nbsp; &nbsp;0x0008&nbsp; 1x 8 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; bInterval&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9<br />&nbsp; &nbsp; Interface Descriptor:<br />&nbsp; &nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9<br />&nbsp; &nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4<br />&nbsp; &nbsp; &nbsp; bInterfaceNumber&nbsp; &nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; bAlternateSetting&nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; bNumEndpoints&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2<br />&nbsp; &nbsp; &nbsp; bInterfaceClass&nbsp; &nbsp; &nbsp; &nbsp; 10 CDC Data<br />&nbsp; &nbsp; &nbsp; bInterfaceSubClass&nbsp; &nbsp; &nbsp; 0 Unused<br />&nbsp; &nbsp; &nbsp; bInterfaceProtocol&nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp; &nbsp; iInterface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5 RNDIS Ethernet Data<br />&nbsp; &nbsp; &nbsp; Endpoint Descriptor:<br />&nbsp; &nbsp; &nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; &nbsp; &nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5<br />&nbsp; &nbsp; &nbsp; &nbsp; bEndpointAddress&nbsp; &nbsp; &nbsp;0x81&nbsp; EP 1 IN<br />&nbsp; &nbsp; &nbsp; &nbsp; bmAttributes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Transfer Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bulk<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Synch Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;None<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Usage Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Data<br />&nbsp; &nbsp; &nbsp; &nbsp; wMaxPacketSize&nbsp; &nbsp; &nbsp;0x0200&nbsp; 1x 512 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; bInterval&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; Endpoint Descriptor:<br />&nbsp; &nbsp; &nbsp; &nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; &nbsp; &nbsp; &nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5<br />&nbsp; &nbsp; &nbsp; &nbsp; bEndpointAddress&nbsp; &nbsp; &nbsp;0x01&nbsp; EP 1 OUT<br />&nbsp; &nbsp; &nbsp; &nbsp; bmAttributes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Transfer Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bulk<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Synch Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;None<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Usage Type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Data<br />&nbsp; &nbsp; &nbsp; &nbsp; wMaxPacketSize&nbsp; &nbsp; &nbsp;0x0200&nbsp; 1x 512 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; bInterval&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />Device Qualifier (for other device speed):<br />&nbsp; bLength&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10<br />&nbsp; bDescriptorType&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6<br />&nbsp; bcdUSB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.00<br />&nbsp; bDeviceClass&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 Communications<br />&nbsp; bDeviceSubClass&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; bDeviceProtocol&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; bMaxPacketSize0&nbsp; &nbsp; &nbsp; &nbsp; 64<br />&nbsp; bNumConfigurations&nbsp; &nbsp; &nbsp; 1<br />Device Status:&nbsp; &nbsp; &nbsp;0x0000<br />&nbsp; (Bus Powered)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146386">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						22 Oct 2011, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>If your router has a USB port, then why not just get a USB 3G/4G modem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146399">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						22 Oct 2011, 18:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>If your router has a USB port, then why not just get a USB 3G/4G modem?</p></blockquote></div><p>Because it&#039;s fun to get it working without buying extra hardawre?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146421">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nbritton</div>
					<div class="post-datetime">
						23 Oct 2011, 01:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>If your router has a USB port, then why not just get a USB 3G/4G modem?</p></blockquote></div><p>For a few reasons, according to a BestBuy sales rep...<br />1. A USB 3G adapter/plan on Sprint is an extra $50 a month, and their is a monthly 5GB data cap.<br />2. A USB 4G adapter/plan on Sprint is an extra $75 a month, but no monthly cap though.</p><p>Their are no additional costs or monthly data caps by simply using your Sprint phone. The inconvenience of having to plug your phone into the router is minimal because you have to plug it in anyways to recharge it. Since hot-plugging is working you can unplug it any time you need to. If your spouse and you both have EVO&#039;s you can use one for data and the other for calls. To me, saving $1200 a year is worth a little inconvenience.</p><p>Best Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173375">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">torontob</div>
					<div class="post-datetime">
						27 Jul 2012, 04:09					</div>
				</div>
				<div class="post-content content">
					<p>I got all needed packages installed and phone shows USB tether ON and interface comes up but then no IP is obtained by OpenWRT and I get the following erros (usb disconnected) continuously:</p><p>root@OpenWrt:~# dmesg |grep usb<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />usb usb1: configuration #1 chosen from 1 choice<br />usb 1-1: new high speed USB device using ehci_hcd and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb usb2: configuration #1 chosen from 1 choice<br />usbcore: registered new interface driver cdc_ether<br />usbcore: registered new interface driver rndis_host<br />usb 1-1: USB disconnect, address 2<br />usb 1-1: new high speed USB device using ehci_hcd and address 3<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb0: register &#039;rndis_host&#039; at usb-0000:00:0f.5-1, RNDIS device, 52:01:e2:2f:a3:9f<br />usb 1-1: USB disconnect, address 3<br />usb0: unregister &#039;rndis_host&#039; usb-0000:00:0f.5-1, RNDIS device<br />usb 1-1: new high speed USB device using ehci_hcd and address 4<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb 1-1: USB disconnect, address 4<br />usb 1-1: new high speed USB device using ehci_hcd and address 5<br />usb 1-1: configuration #1 chosen from 1 choice<br />usb0: register &#039;rndis_host&#039; at usb-0000:00:0f.5-1, RNDIS device, 52:01:e2:2f:a3:9f</p><p>Phone: XT860 Android 2.3.3<br />OpenWRT: Alix2d3</p><p>Please guide.</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>torontob</strong> on 27 Jul 2012, 04:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173381">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">torontob</div>
					<div class="post-datetime">
						27 Jul 2012, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>Turns out that it was the phone which was the issue. I test the phone with computer and it failed to provide an IP to computer. Factory reset the phone and then everything was all good.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191826">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						12 Feb 2013, 22:20					</div>
				</div>
				<div class="post-content content">
					<p>just tried to use it again... i don&#039;t get any rndis message in the logs...</p><div class="codebox"><pre><code>usb 1-1: new high speed USB device using ar71xx-ehci and address 2
usb 1-1: configuration #1 chosen from 1 choice
usb 1-1: USB disconnect, address 2
usb 1-1: new high speed USB device using ar71xx-ehci and address 3
usb 1-1: configuration #1 chosen from 1 choice</code></pre></div><p>and that&#039;s it. nothing else...</p><p>update: think it was also a phone issue as above. it was registering fine at my linux host. but as soon as i tried to use with windows7, it would go crazy. completely froze any window trying to get network stats.</p><p>i&#039;ve updated cyanogenmod to the latest nightly and it&#039;s now getting the IP just fine on windows7, so i&#039;m guessing it will go back to working on openwrt when i test it later.</p><p>Update 2:<br />ok, just plugged the reimaged phone and ... same thing <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p><p>also, checking my first post, there&#039;s no <strong>kmod-usb-net</strong> anymore. is there any updated documentation for this?<br />thanks!</p>											<p class="post-edited">(Last edited by <strong>gcbwrt</strong> on 13 Feb 2013, 02:07)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>