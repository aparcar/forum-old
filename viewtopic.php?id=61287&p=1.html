<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> SOLVED: make profile=? for the WT3020H</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 4 Apr 2018 and 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=61287&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p302180">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 06:08					</div>
				</div>
				<div class="post-content content">
					<p>Bought one of these to try out, using image builder 14.07 but scouring the net, I cannot find the correct profile name. </p><p>I found one reference to using &quot;MT7620a&quot; but that just leads to errors.</p><p>Wondering if someone might be able to let me know.</p><p>Thanks.</p><br /><p>SOLVED: See; <a href="https://forum.openwrt.org/viewtopic.php?id=62626">https://forum.openwrt.org/viewtopic.php?id=62626</a></p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 17 Apr 2016, 02:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302183">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>Official BB revision is r42625 as i know. but wt3020 support was added only in r42983. Try Chaos Calmer builder for it.<br />And WT3020 is a mt7620n, not a</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302245">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>Can you tell me where I can find the correct Image Builder which would be r42983 and which arch (ramips I think?) that the WT3020 needs? </p><p>This one I think but I cannot tell which version it is to know if it&#039;s r42983</p><p><a href="https://downloads.openwrt.org/chaos_calmer/15.05/ramips/mt7620/OpenWrt-ImageBuilder-15.05-ramips-mt7620.Linux-x86_64.tar.bz2">https://downloads.openwrt.org/chaos_cal … 64.tar.bz2</a></p><p>In the meantime, I&#039;ve downloaded the above and set it up. Tried running with your suggested profile name but got the following error.</p><br /><p>Profile &quot;mt7620n&quot; does not exist</p><p>Guessing it means I don&#039;t have the correct image builder version.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 3 Dec 2015, 16:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302255">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 16:44					</div>
				</div>
				<div class="post-content content">
					<p>it&#039;s a proper image generator, use make image Default</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302259">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 17:12					</div>
				</div>
				<div class="post-content content">
					<p>make image default?</p><p>This is what I am using;</p><p>make image PROFILE=mt7620n PACKAGES=&quot;blah blah&quot; FILES=files/</p><p>Are you suggesting I use the following instead? </p><p>make image default PACKAGES=&quot;blah blah&quot; FILES=files/</p><p>That seems to have worked. It&#039;s safe to use either the factory or upgrade 8M build on the factory default device?</p><p>openwrt-15.05-ramips-mt7620-wt3020-8M-squashfs-factory.bin<br />openwrt-15.05-ramips-mt7620-wt3020-8M-squashfs-sysupgrade.bin</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 3 Dec 2015, 17:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302263">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 17:25					</div>
				</div>
				<div class="post-content content">
					<p>check yr device flash size, it can be 4m or 8m and flash proper image<br />first flash only by factory image</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 3 Dec 2015, 17:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302264">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>I bought it from eBay as being the H version meaning 8M. There is no H in the model number on the label which makes it silly hard to know unless you log into it, which I did, and confirmed it is 8M.</p><p>The IB generated a ton of images which is why I wanted to post the ones I think are the correct ones before I upgrade this device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302265">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>ok, flash wt3020 8m factory</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302267">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>Perfect. I&#039;ll give it a try and report that it&#039;s all good I&#039;m sure <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302273">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>Seems I messed it up by accidentally using a tp-link network config in /etc/config/network</p><p># cat files/etc/config/network<br />config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ula_prefix &#039;fd5f:467e:351c::/48&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ip6assign &#039;60&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;dhcp&#039;</p><p>It picks up a dhcp IP but never responds. I&#039;ve tested using both NICs. </p><p>I then used the reset switch the put openwrt into rescue mode, the LED is flashing fast but still no response on either NIC. </p><p>This makes no sense.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 3 Dec 2015, 18:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302279">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>oops, sounds bad<br /><a href="https://dev.openwrt.org/ticket/18768">https://dev.openwrt.org/ticket/18768</a><br />if this tru - the only way to bring it back is to use TTL cable and reflash it by uboot<br />for any future mistakes it&#039;s better to use modded uboot with web interface like breed</p><p><a href="http://breed.hackpascal.net/r791%20%5b2015-11-03%5d/breed-mt7620-reset1.bin">http://breed.hackpascal.net/r791%20%5b2 … reset1.bin</a></p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 3 Dec 2015, 19:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302280">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 19:12					</div>
				</div>
				<div class="post-content content">
					<p>I did post asking for help about the wireless but no replies. <br />I was hoping to have a very basic dhcp client/web interface to allow a person to enter the correct wireless network and password.</p><p>Anyhow, guess I&#039;m SOL now and need to order another one. Wish I&#039;d have ordered two instead of having to wait another two weeks now.</p><p>Thanks very much for all the help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302282">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>just find a ttl cable (2-3$ @ebay or use some old nokia/siemens cable), or ask any service to unbrick, it&#039;s not so difficult as it sounds</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302283">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 19:26					</div>
				</div>
				<div class="post-content content">
					<p>I do have such a cable, just not sure how to do it without taking too much time nor do I know how to take the top off.</p><p>My cable has four unlabelled wires, black, green, red and white so no idea what needs to be connected.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 3 Dec 2015, 19:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302285">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>teared down pics is here - <a href="https://wiki.openwrt.org/toh/nexx/wt3020">https://wiki.openwrt.org/toh/nexx/wt3020</a></p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 3 Dec 2015, 19:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302286">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 19:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>My cable has four unlabelled wires, black, green, red and white so no idea what needs to be connected.</p></blockquote></div><p>usuall black is GND, red is +3.3 (for ttl) and others are rx/tx<br />but better to check it by voltmeter or find a &quot;pinout&quot; for yr cable</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302287">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 19:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stas2z wrote:</cite><blockquote><p>teared down pics is here - <a href="https://wiki.openwrt.org/toh/nexx/wt3020">https://wiki.openwrt.org/toh/nexx/wt3020</a></p></blockquote></div><br /><p>Yup, saw that page, just didn&#039;t want to break the tabs but too late.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302288">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 19:50					</div>
				</div>
				<div class="post-content content">
					<p>it will be an almost free lesson why you shouldn&#039;t restore backup from other device with totally different chip)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302289">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 19:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stas2z wrote:</cite><blockquote><p>it will be an almost free lesson why you shouldn&#039;t restore backup from other device with totally different chip)</p></blockquote></div><p>No, I already knew that but made a stupid mistake by doing this while busy with too many other things at the same time.</p><p>I&#039;ve got some leads soldered onto the pads now so just need to figure out what to do next.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302291">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 20:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stas2z wrote:</cite><blockquote><div class="quotebox"><blockquote><p>My cable has four unlabelled wires, black, green, red and white so no idea what needs to be connected.</p></blockquote></div><p>usuall black is GND, red is +3.3 (for ttl) and others are rx/tx<br />but better to check it by voltmeter or find a &quot;pinout&quot; for yr cable</p></blockquote></div><p>Nice, I found some info on it.</p><p>Built-in TTL COM PC-PL2303HX Chip<br />Standard USB type A male and TTL 4 pin connector<br />Black cable-----GND<br />Green cable-----TXD<br />White cable-----RXD<br />Red cable -------VCC</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302293">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						3 Dec 2015, 20:12					</div>
				</div>
				<div class="post-content content">
					<p>RX of cable to TX of router<br />TX of cable to RX of router<br />GND to GND<br />do not connect VCC</p><p>first, be sure you can see console output and can send input to router</p><p>setup your pc as 192.168.1.2<br />setup tftp server and put openwrt.bin (rename factory image) to tftp root</p><p>after powering router u will see boot messages<br />wait for menu<br /></p><div class="codebox"><pre><code>Please choose the operation: 
   1: Load system code to SDRAM via TFTP. 
   2: Load system code then write to Flash via TFTP. 
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial. 
   9: Load Boot Loader code then write to Flash via TFTP. </code></pre></div><p>you need option 2 to unbrick</p><p>watch the device output after selecting second option<br /></p><div class="codebox"><pre><code>You choosed 2
        2: System Load Linux Kernel then write to Flash via TFTP. 
        Warning!! Erase Linux in Flash then burn new one. Are you sure?(Y/N)</code></pre></div><p>press Y<br /></p><div class="codebox"><pre><code>         Please Input new ones /or Ctrl-C to discard
         Input device IP (10.10.10.123) ==:192.168.1.1
         Input server IP (10.10.10.3) ==:192.168.1.2
         Input Linux Kernel filename () ==: openwrt.bin</code></pre></div><p>and it goes<br /></p><div class="codebox"><pre><code>        Filename &#039;openwrt.bin&#039;.
        TIMEOUT_COUNT=10,Load address: 0x80100000
        Loading: checksum bad
        Got ARP REPLY, set server/gtwy eth addr (d8:cb:8a:13:7e:35)
        Got it
        #################################################################
           #################################################################
           #################################################################
        ......</code></pre></div>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 3 Dec 2015, 20:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302294">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 Dec 2015, 20:13					</div>
				</div>
				<div class="post-content content">
					<p>Wow, didn&#039;t expect that. Thanks very much. I&#039;ll give the whole thing a try this afternoon or tomorrow if I can&#039;t today. </p><p>Thanks!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302340">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						4 Dec 2015, 02:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>projects wrote:</cite><blockquote><div class="quotebox"><cite>stas2z wrote:</cite><blockquote><div class="quotebox"><blockquote><p>My cable has four unlabelled wires, black, green, red and white so no idea what needs to be connected.</p></blockquote></div><p>usuall black is GND, red is +3.3 (for ttl) and others are rx/tx<br />but better to check it by voltmeter or find a &quot;pinout&quot; for yr cable</p></blockquote></div><p>Built-in TTL COM PC-PL2303HX Chip<br />Standard USB type A male and TTL 4 pin connector<br />Black cable-----GND<br />Green cable-----TXD<br />White cable-----RXD<br />Red cable -------VCC</p></blockquote></div><p>Oddly enough, I connected as the following suggested, Green to Tx and White to Rx but nothing at all.</p><p><a href="https://wiki.openwrt.org/_detail/media/nexx/wt3020/wt3020a_serial_ttl.jpg?id=toh%3Anexx%3Awt3020">https://wiki.openwrt.org/_detail/media/ … x%3Awt3020</a></p><p>My solder job is perfect so I know it&#039;s not that. Unless I&#039;m supposed to connect ground or something else?</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 4 Dec 2015, 02:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302360">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						4 Dec 2015, 06:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stas2z wrote:</cite><blockquote><p>RX of cable to TX of router<br />TX of cable to RX of router<br />GND to GND<br />do not connect VCC</p></blockquote></div><p><a href="http://pingec.si/blog/articles/wt3020-vpn-roadwarrior-micro-router-box-to-keep-in-your-pocket/IMG_20150111_221819.jpg">http://pingec.si/blog/articles/wt3020-v … 221819.jpg</a></p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 4 Dec 2015, 06:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302449">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						4 Dec 2015, 23:51					</div>
				</div>
				<div class="post-content content">
					<p>Yes, that&#039;s how I have it connected. I only garbage when it is turned off. When I turn it on, I get nothing what so ever.</p><p>Black is connected to the USB metal cover. Seems to be grounded.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=61287&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>