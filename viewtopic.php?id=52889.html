<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem configuring a guest wlan for strictly http and https</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p247850">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">playplayon</div>
					<div class="post-datetime">
						23 Sep 2014, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>I have been following the <a href="https://http://wiki.openwrt.org/doc/recipes/guest-wlan">Configuring a guest wlan</a> tutorial to create a guest wifi with internet access.&nbsp; I created most of it though luci where the guest wifi is on a &quot;guest&quot; interface and &quot;guest&quot; firewall zone.&nbsp; Internet works when I allow every port to forward from guest zone to wan and every port accept input from guest zone to device.&nbsp; But I really want to only allow limited function on the guest wifi such as http &amp; https.&nbsp; When I follow the tutorial and allow input from source guest to device zone on port 53 and 67 and 68 for dns query and dhcp request, the guest wifi will get a dhcp ip but will not have internet access despite forwarding for every port to wan is allowed.</p><p>What works for internet is this:<br />The guest zone forward to wan.&nbsp; Input and and forward is both reject and output is accept.&nbsp; Under traffic rule if I accept input from source zone &quot;guest&quot; and destination zone device for any port and if I accept forward for source zone &quot;guest&quot; and destination zone wan for any port</p><p>What am I doing incorrectly?&nbsp; What port do I need to accept input for guest to device and what port do I need to forward from guest to wan to allow web surfing?&nbsp; It seems accepting input for tcp/udp for port 53, 67, 68 and forwarding every port from guest to wan is not enough for websurfing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247851">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						23 Sep 2014, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>You don&#039;t need port forwards to achieve this but traffic rules. Source must be set to guest, destination to wan, protocol to tcp and port to 80. Add another such rule with port 443.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>