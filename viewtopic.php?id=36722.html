<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> serial on a actiontec GT701D</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p166930">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						10 May 2012, 00:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m a software guy clueless and fearless about messing up with my hardware.</p><p>i&#039;m trying to attach a serial port to my semi-bricked gt701d (it boots but do not get the dhcp daemon and other stuff up, actiontec says i can fix it with a restore program for windows that they send me but warned that a windows firewall or something would forever brick the modem... so instead of trusting windows network stack i will just have two openwrt devices in my network)</p><p>right now, on my first step, i&#039;m already blocked for not understanding the <a href="http://wiki.openwrt.org/toh/actiontec/gt701d">wiki</a> when it says: &quot;Pin 1 is the closest to R441.&quot;</p><p>what&#039;s R441? resistor number 441? a chip that should have R441 labeled? i have neither <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><br /><p>i&#039;ve uploaded a pic of the board on the wiki. any help appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166960">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						10 May 2012, 10:44					</div>
				</div>
				<div class="post-content content">
					<p>the picture has a terribly low resolution and differs totally from what&#039;s written there. anyway, it is mentioned, that pin 1 should be gnd. so you could measure the resistance of the first pin from each side against a common gnd source (like the shield of a connector or the gnd of the power supply connector) and whenever you get 0 ohms, you&#039;ve got it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167042">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						11 May 2012, 03:47					</div>
				</div>
				<div class="post-content content">
					<p>Will put a better pic soon.</p><p>meanwhile, I did as you said, and it appears to be the pin closer the the &quot;J5&quot; printing the ground one. as it shorts with the ground shielding on the power supply input.</p><p>now, looking at the plugs for the rs232 line driver i have, the pins should be &quot;+VCC,&nbsp; RX0, TX0, RX1, TX1, GND&quot;</p><p>so i tried to turn it on measuring the voltage DC on pin 1 and 6. and i get random mV readings at all times. nothing stable or near 3 or 5V i was expecting.</p><p>does that sound right?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167044">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						11 May 2012, 04:20					</div>
				</div>
				<div class="post-content content">
					<p>tried to just plug it in there and attach to my box serial port on the other end, booting the modem with and wihout the reset button pressed resulted in absolutely nothing on the serial line...</p><p>some more bad pics taken with the phone camera:</p><p>the line board<br /><span class="postimg"><img src="https://lh6.googleusercontent.com/-Y-jdAQNRp5g/T6xlyA2hYTI/AAAAAAAAAd8/rUERaafMgjE/s800/IMG_20120510_180208.jpg" alt="https://lh6.googleusercontent.com/-Y-jdAQNRp5g/T6xlyA2hYTI/AAAAAAAAAd8/rUERaafMgjE/s800/IMG_20120510_180208.jpg" /></span></p><p>the setup<br /><span class="postimg"><img src="https://lh3.googleusercontent.com/-J8V_Jjg8CIg/T6xmE9V3eUI/AAAAAAAAAeE/3_xLJhwEJgk/s800/IMG_20120510_180141.jpg" alt="https://lh3.googleusercontent.com/-J8V_Jjg8CIg/T6xmE9V3eUI/AAAAAAAAAeE/3_xLJhwEJgk/s800/IMG_20120510_180141.jpg" /></span></p><p>hum... while upload the pics, tried to use port 1 instead of 0 on the line board... now i get something in my serial... garbage mostly. was using 9600 speed as i was expecting the modem to be in &quot;damaged mode&quot;, but aparently it isnt&#039;. changed to 38400, now i do have something!</p><p>here&#039;s the boot with the reset button pressed:</p><div class="codebox"><pre><code>Basic POST completed...     Success.
Last reset cause: Hardware reset (Power-on reset)

PSPBoot3.3 rev: 3.3.7.15
(c) Copyright 2002-2008 Texas Instruments, Inc. All Rights Reserved.


Reset button pressed

(psbl) &lt;cursor here&gt;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167046">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						11 May 2012, 04:22					</div>
				</div>
				<div class="post-content content">
					<p>here&#039;s the boot, mostly for my own documentation <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="codebox"><pre><code>(psbl) help
reboot            version           fa                printenv          
setenv            unsetenv          defragenv         fmt               
boot              oclk              help              
(psbl) boot
-----argv[0]=mtd1, argc=1

Booting...
Launching kernel decompressor.
Starting LZMA Uncompression Algorithm.
Copyright (C) 2003 Texas Instruments Incorporated; Copyright (C) 1999-2003 Igor Pavlov.
Compressed file is LZMA format.
Kernel decompressor was successful ... launching kernel.

LINUX started...
Config serial console: ttyS0,38400
Auto Detection OHIO chip
This SOC has MDIX cababilities on chip.
CPU revision is: 00018448
Primary instruction cache 16kb, linesize 16 bytes (4 ways)
Primary data cache 8kb, linesize 16 bytes (4 ways)
Number of TLB entries 16.
Linux version 2.4.17_mvl21-malta-mips_fp_le (yirun@localhost.localdomain) (gcc version 2.95.3 20010315 (release/MontaVista)) #1 Wed Aug 24 17:15:20 PDT 2011
Determined physical RAM map:
 memory: 14000000 @ 00000000 (reserved)
 memory: 00020000 @ 14000000 (ROM data)
 memory: 00fe0000 @ 14020000 (usable)
On node 0 totalpages: 4096
zone(0): 4096 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: 
calculating r4koff... 00102c00(1059840)
CPU frequency 211.97 MHz
Calibrating delay loop... 211.35 BogoMIPS
Freeing Adam2 reserved memory [0x14001000,0x0001f000]
Memory: 14300k/16384k available (1564k kernel code, 2084k reserved, 103k data, 60k init)
Dentry-cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode-cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
--------init push-----
Checking for &#039;wait&#039; instruction...  unavailable.
POSIX conformance testing by UNIFIX
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
TI Optimizations: Allocating TI-Cached Memory Pool.
Using 384 Buffers for TI-Cached Memory Pool.
DEBUG: Using Hybrid Mode.
NSP Optimizations: Succesfully allocated TI-Cached Memory Pool.
Initializing RT netlink socket
Starting kswapd
Disabling the Out Of Memory Killer
devfs: v1.7 (20011216) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
pty: 32 Unix98 ptys configured
Serial driver version 5.05c (2001-07-08) with no serial options enabled
ttyS00 at 0xa8610e00 (irq = 15) is a 16550A
block: 64 slots per queue, batch=16
DEBUG: Initializing the voice port management module. 
DEBUG: Initialization of the voice port management module successful..
Error getting CPMAC Configuration params for instance:0
Environment Variable:MACCFG_A not set in bootloader
Setting Default configuration params for CPMAC instance:0
TI CPMAC Linux DDA version 1.8 - CPMAC DDC version 0.2
Cpmac: Installed 1 instances.
Cpmac driver is allocating buffer memory at init time.
PPP generic driver version 2.4.1
imq driver loaded.
avalanche flash device: 0x400000 at 0x10000000.
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1
Looking for mtd device :mtd0:
Found a mtd0 image (0xc0000), with size (0x300000).
Creating 1 MTD partitions on &quot;Physically mapped flash:0&quot;:
0x000c0000-0x003c0000 : &quot;mtd0&quot;
Looking for mtd device :mtd1:
Found a mtd1 image (0x20000), with size (0xa0000).
Creating 1 MTD partitions on &quot;Physically mapped flash:0&quot;:
0x00020000-0x000c0000 : &quot;mtd1&quot;
Looking for mtd device :mtd2:
Found a mtd2 image (0x0), with size (0x10000).
Creating 1 MTD partitions on &quot;Physically mapped flash:0&quot;:
0x00000000-0x00010000 : &quot;mtd2&quot;
Looking for mtd device :mtd3:
Found a mtd3 image (0x10000), with size (0x10000).
Creating 1 MTD partitions on &quot;Physically mapped flash:0&quot;:
0x00010000-0x00020000 : &quot;mtd3&quot;
Looking for mtd device :mtd4:
Found a mtd4 image (0x3f0000), with size (0x10000).
Creating 1 MTD partitions on &quot;Physically mapped flash:0&quot;:
0x003f0000-0x00400000 : &quot;mtd4&quot;
Looking for mtd device :mtd5:
Found a mtd5 image (0x3c0000), with size (0x30000).
Creating 1 MTD partitions on &quot;Physically mapped flash:0&quot;:
0x003c0000-0x003f0000 : &quot;mtd5&quot;
Looking for mtd device :mtd6:
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 1024 bind 1024)
Linux IP multicast router 0.06 plus PIM-SM
****ip_conntrack version 2.0 (128 buckets, 1024 max) - 380 bytes per conntrack
ip_tables: (c)2000 Netfilter core team
netfilter PSD loaded - (c) astaro AG
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
Initializing the WAN Bridge.
Please set the MAC Address for the WAN Bridge.
Set the Environment variable &#039;wan_br_mac&#039;. 
MAC Address should be in the following format: xx.xx.xx.xx.xx.xx
VFS: Mounted root (squashfs filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 60k freed
serial console detected.  Disabling virtual terminals.
init started:  BusyBox v0.61.pre (2011.08.25-00:19+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5
/bin/cp  /etc/ppp/* /var/etc/ppp
cp: /etc/ppp/resolv.conf: No such file or directory
cp: /etc/dproxy.conf: No such file or directory
cp: /etc/dropbear: omitting directory
cp: /etc/gateways: No such file or directory
cp: /etc/hosts: No such file or directory
cp: /etc/init.d: omitting directory
cp: /etc/linux-igd: No such file or directory
cp: /etc/passwd: No such file or directory
cp: /etc/ppp: omitting directory
cp: /etc/resolv.conf: No such file or directory
cp: /etc/shadow: No such file or directory
cp: /etc/stunnel: omitting directory
cp: /etc/stunnel.conf: No such file or directory
cp: /etc/stunnel.pem: No such file or directory
cp: /etc/udhcpc: omitting directory
cp: /etc/udhcpd.conf: No such file or directory
cp: /etc/localhosts: No such file or directory
cp: /usr/www/html/pc_*.html: No such file or directory
cp: /usr/bin/add_dev: No such file or directory
 Reading Standard Configuration File /etc/led.conf

 Configured 51 states 
Using /lib/modules/2.4.17_mvl21-malta-mips_fp_le/kernel/drivers/atm/tiatm.o
registered device TI Avalanche SAR
Ohio250(7200/7100A2) detected
DSP binary filesize = 383830 bytes
tn7dsl_set_modulation : Setting mode to 0x1
Texas Instruments ATM driver: version:[7.00.01.00]
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
mkdir: Cannot create directory `/var/run&#039;: File exists

Please press Enter to activate this console. ver new 3.0.4.1.4-GT701D,-2
ver old 3.0.4.1.2-GT701D,-2
ACS_Bootstrap= 1
dhcps ReservedAddresses=192.168.0.1
dhcps domain=domain_not_set.invalid
pPriv-&gt;ifaddr=
dhcps lease=86400</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167047">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						11 May 2012, 04:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gcbwrt wrote:</cite><blockquote><p>Will put a better pic soon.</p><p>meanwhile, I did as you said, and it appears to be the pin closer the the &quot;J5&quot; printing the ground one. as it shorts with the ground shielding on the power supply input.</p><p>now, looking at the plugs for the rs232 line driver i have, the pins should be &quot;+VCC,&nbsp; RX0, TX0, RX1, TX1, GND&quot;</p><p>so i tried to turn it on measuring the voltage DC on pin 1 and 6. and i get random mV readings at all times. nothing stable or near 3 or 5V i was expecting.</p><p>does that sound right?</p></blockquote></div><p>apparently the pins mentioned in the wiki are more acurate then the lables on my rs232 line board <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>GND matches<br />TX1 and RX1 matches TX and RX on the modem<br />what my board says is TX0 is not used<br />what my board says is RX0 is +3.3V<br />what my board says is +VCC is unused</p><p>but it all works. somehow <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168140">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">gcbwrt</div>
					<div class="post-datetime">
						25 May 2012, 05:48					</div>
				</div>
				<div class="post-content content">
					<p>A nice hack for the next one to need serial on this modem...</p><p>if you plug just the required 4 female jumper cables on the conectors (GND, TX, RX, skip, VDC, skip) and pass the cables trhu the hole in the adsl connector, you don&#039;t have to cut the case or open it to use the serial later.</p><p><span class="postimg"><img src="https://lh5.googleusercontent.com/-2LzG8M9WG8I/T77wZ-yDsRI/AAAAAAAAAiI/htLkkPB4qzc/s800/IMG_20120524_193536.jpg" alt="https://lh5.googleusercontent.com/-2LzG8M9WG8I/T77wZ-yDsRI/AAAAAAAAAiI/htLkkPB4qzc/s800/IMG_20120524_193536.jpg" /></span></p><p>The cables are NOT being smashed. they go trhu perfectly. also the telephone cable plugs in without even touching the cables.<br /><span class="postimg"><img src="https://lh6.googleusercontent.com/-L-87KAr4YR0/T77wMF1rhaI/AAAAAAAAAiA/1dklUM8Cnwc/s800/IMG_20120524_193545.jpg" alt="https://lh6.googleusercontent.com/-L-87KAr4YR0/T77wMF1rhaI/AAAAAAAAAiA/1dklUM8Cnwc/s800/IMG_20120524_193545.jpg" /></span></p><p>and i had the dremel all ready...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>