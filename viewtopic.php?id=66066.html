<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How can I set it to monitor mode?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p330814">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">carryrain</div>
					<div class="post-datetime">
						8 Jul 2016, 10:30					</div>
				</div>
				<div class="post-content content">
					<p>I try to change config Managed Mode to Monitor Mode<br />I use Linux OpenWrt 3.18.29 - BusyBox v1.23.2<br />The following is my wireless configuration<br />|------------------------------<br />|config wifi-device&nbsp; radio0<br />|&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;ralink<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ht&nbsp; &nbsp; &nbsp; &nbsp;20<br />|<br />|config wifi-iface<br />|&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;radio0<br />|&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; lan<br />|&nbsp; &nbsp; &nbsp; &nbsp; option mode monitor<br />|&nbsp; &nbsp; &nbsp; &nbsp; option hidden 1<br />|------------------------------<br />The following is my network configuration<br />|-------------------------------------<br />|config interface &#039;loopback&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;<br />|<br />|config globals &#039;globals&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ula_prefix &#039;&#039;<br />|<br />|config interface &#039;lan&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0.1&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option force_link &#039;1&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;bridge&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;192.168.8.1&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />|<br />|config interface &#039;wan&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;radio0&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option force_link &#039;1&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option macaddr &#039;&#039;<br />|&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;dhcp&#039;<br />|--------------------------------------<br />when i use &#039;iw reg get&#039;, i can see the changed mode<br />|------------------------------------------------------------------<br />|root@OpenWrt:/etc/config# iw reg get<br />|global<br />|country 00: DFS-UNSET<br />|&nbsp; &nbsp; &nbsp; &nbsp; (2402 - 2472 @ 40), (6, 20), (N/A)<br />|&nbsp; &nbsp; &nbsp; &nbsp; (2457 - 2482 @ 40), (6, 20), (N/A), PASSIVE-SCAN<br />|&nbsp; &nbsp; &nbsp; &nbsp; (2474 - 2494 @ 20), (6, 20), (N/A), NO-OFDM, PASSIVE-SCAN<br />|&nbsp; &nbsp; &nbsp; &nbsp; (5170 - 5250 @ 160), (6, 20), (N/A), PASSIVE-SCAN<br />|&nbsp; &nbsp; &nbsp; &nbsp; (5250 - 5330 @ 160), (6, 20), (0 ms), DFS, PASSIVE-SCAN<br />|&nbsp; &nbsp; &nbsp; &nbsp; (5490 - 5730 @ 160), (6, 20), (0 ms), DFS, PASSIVE-SCAN<br />|------------------------------------------------------------------<br />but, when i use &#039;iwconfig&#039;, it was not changed<br />|-------------------------------------------------<br />|ra0&nbsp; &nbsp; &nbsp; &nbsp;RTWIFI SoftAP&nbsp; ESSID:&quot;WRTnode1A7C&quot;<br />|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Managed&nbsp; Channel=11&nbsp; Access Point:<br />|-------------------------------------------------<br />How can I set it to monitor mode?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330820">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						8 Jul 2016, 12:07					</div>
				</div>
				<div class="post-content content">
					<p>Are you sure your device is running official openwrt build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p330824">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">carryrain</div>
					<div class="post-datetime">
						8 Jul 2016, 12:25					</div>
				</div>
				<div class="post-content content">
					<p>I had download package from the following site:<br />#1. <br /><a href="https://github.com/openwrt-mirror/openwrt">https://github.com/openwrt-mirror/openwrt</a><br />I had used the following commands:<br />git clone <a href="https://github.com/openwrt-mirror/openwrt.git">https://github.com/openwrt-mirror/openwrt.git</a> <br />(i fixed the url)<br />and then I did make menuconfig</p><p>#2. I tried the following link, too.<br /><a href="https://github.com/wrtnode-sdk/openwrt">https://github.com/wrtnode-sdk/openwrt</a><br />But the same result.</p><p>After setting menuconfig, &quot;make V=s&quot; has been done.<br />I don&#039;t know what to look at further.</p><p>cf)<br />Menuconfig<br />Language - Lua - libwiinfo-lua<br />Libraries - libiw<br />Libraries - libiwinfo<br />Network - iw<br />Utilities - iwcap<br />Utilities - iwcap<br />with defalut config</p>											<p class="post-edited">(Last edited by <strong>carryrain</strong> on 8 Jul 2016, 12:34)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>