<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear R8000 support?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 23 Mar 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 13 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=55367&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=11.html">11</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=12.html">12</a></li><li class="pagination-current"><span>13</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=15.html">15</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=19.html">19</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p303650">
				<div class="post-metadata">
					<div class="post-num">Post #301</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						14 Dec 2015, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>Your wireless interface is disabled, that&#039;s why.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303652">
				<div class="post-metadata">
					<div class="post-num">Post #302</div>
					<div class="post-author">LogicoZone</div>
					<div class="post-datetime">
						14 Dec 2015, 20:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Your wireless interface is disabled, that&#039;s why.</p></blockquote></div><p>What do you mean? I don&#039;t recall i disable the interface and it&#039;s just newly flashed and booted. Then I delete the /etc/config/wireless to run wifi detect.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303655">
				<div class="post-metadata">
					<div class="post-num">Post #303</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						14 Dec 2015, 21:33					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/doc/uci/wireless">https://wiki.openwrt.org/doc/uci/wireless</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303677">
				<div class="post-metadata">
					<div class="post-num">Post #304</div>
					<div class="post-author">LogicoZone</div>
					<div class="post-datetime">
						15 Dec 2015, 00:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p><a href="https://wiki.openwrt.org/doc/uci/wireless">https://wiki.openwrt.org/doc/uci/wireless</a></p></blockquote></div><p>I&#039;ll double check. I know my first device is disabled since it&#039;s just flashed and with factory settings. </p><p>However, the problem is that this router should have 3 interfaces which I only have one with trunk build but shows 3 devices in CC build. </p><p>It&#039;s not about the first device, it works fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303823">
				<div class="post-metadata">
					<div class="post-num">Post #305</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						16 Dec 2015, 09:29					</div>
				</div>
				<div class="post-content content">
					<p>I had to move a lot of posts to <a href="https://forum.openwrt.org/viewtopic.php?id=60591">arokh&#039;s thread</a> again.</p><p>If you flash arokh&#039;s firmware and experience some problem, report it in arokh&#039;s thread. Do not report it here.</p><p>arokh&#039;s builds are experimental, they use kernel 4.4 that is still broken &amp; untested on bcm53xx devices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303830">
				<div class="post-metadata">
					<div class="post-num">Post #306</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Dec 2015, 10:06					</div>
				</div>
				<div class="post-content content">
					<p>Actually, they use 4.1 kernel. The 4.4 build was a one off and has been removed as it was not bootable. My only mod to current trunk is setting the country code to US as has been recommended in this thread, so the radio issue should be relevant.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303833">
				<div class="post-metadata">
					<div class="post-num">Post #307</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						16 Dec 2015, 10:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>visata wrote:</cite><blockquote><p>The latest code from trunk also bricked my router, here is the log:</p></blockquote></div><p>There isn&#039;t any special error visible in your log. OpenWrt booted fine. What&#039;s the issue?</p><div class="quotebox"><cite>LogicoZone wrote:</cite><blockquote><p>It seems the 1 radio issue should be fixed in 47467 but I&#039;m still having same issue to see only 1 radio.</p></blockquote></div><p>The problem fixed in <a href="http://dev.openwrt.org/changeset/47467">r47467</a> was brcmfmac treating all <strong>three</strong> BCM43602 devices as 2.4 GHz ones.</p><div class="quotebox"><cite>LogicoZone wrote:</cite><blockquote><p>However, the problem is that this router should have 3 interfaces which I only have one with trunk build but shows 3 devices in CC build.</p></blockquote></div><p>This is correct. It seems updating Broadcom&#039;s iproc driver in trunk broke detecting all PCIe devices on R8000.</p><div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Actually, they use 4.1 kernel. The 4.4 build was a one off and has been removed as it was not bootable. My only mod to current trunk is setting the country code to US as has been recommended in this thread, so the radio issue should be relevant.</p></blockquote></div><p>Good to know, thanks for info!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303835">
				<div class="post-metadata">
					<div class="post-num">Post #308</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						16 Dec 2015, 10:50					</div>
				</div>
				<div class="post-content content">
					<p>So we have 2 important issues with R8000:</p><p>1) Netgear R8000 - cannot open &quot;ubi0:rootfs&quot;, error -19<br /><a href="https://dev.openwrt.org/ticket/20731">https://dev.openwrt.org/ticket/20731</a><br />Exists in both: CC and trunk. Affects selected units only.</p><p>2) Regression: pcie_iproc_bcma detects only 1 device on Netgear R8000<br /><a href="https://dev.openwrt.org/ticket/21393">https://dev.openwrt.org/ticket/21393</a><br />Exists in trunk only. Affects all units.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303840">
				<div class="post-metadata">
					<div class="post-num">Post #309</div>
					<div class="post-author">visata</div>
					<div class="post-datetime">
						16 Dec 2015, 11:42					</div>
				</div>
				<div class="post-content content">
					<p>I double checked the logs and it appears it booted indeed. Most likely I couldn&#039;t access the router because I did a few pings and assumed it was bricked.</p><p>Zajec, let me know when you have something to test.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303842">
				<div class="post-metadata">
					<div class="post-num">Post #310</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						16 Dec 2015, 11:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>visata wrote:</cite><blockquote><p>I double checked the logs and it appears it booted indeed. Most likely I couldn&#039;t access the router because I did a few pings and assumed it was bricked.</p><p>Zajec, let me know when you have something to test.</p></blockquote></div><p>I&#039;m wondering if this can be related to the <a href="http://dev.openwrt.org/changeset/47692">r47692</a>. Please provide output of:</p><div class="codebox"><pre><code>cat /etc/config/network
swconfig dev switch0 show | grep port
nvram show | grep ports</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303843">
				<div class="post-metadata">
					<div class="post-num">Post #311</div>
					<div class="post-author">visata</div>
					<div class="post-datetime">
						16 Dec 2015, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>Should I flash with CC or trunk?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303844">
				<div class="post-metadata">
					<div class="post-num">Post #312</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						16 Dec 2015, 12:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>visata wrote:</cite><blockquote><p>Should I flash with CC or trunk?</p></blockquote></div><p>The one that has broken network support according to you. Maybe you should verify if network really isn&#039;t working? I&#039;m not convinced if you really see some problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303845">
				<div class="post-metadata">
					<div class="post-num">Post #313</div>
					<div class="post-author">visata</div>
					<div class="post-datetime">
						16 Dec 2015, 12:11					</div>
				</div>
				<div class="post-content content">
					<p>I will flash with trunk later tonight and post the output. I don&#039;t have a permanent access to a serial connection. If it bricks it, I will have to tear apart the router again.</p><p>LogicoZone reported that trunk works, so it might be that I didn&#039;t test enough and everything is fine with a trunk build. I usually disable/enable my Ethernet card on a PC when I try any new build but I didn&#039;t do that then because I assumed that trunk is also with 4.4 kernel...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p304382">
				<div class="post-metadata">
					<div class="post-num">Post #314</div>
					<div class="post-author">visata</div>
					<div class="post-datetime">
						20 Dec 2015, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve just flashed with trunk R8000 and network is working fine. I tried installing luci but couldn&#039;t:</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg update
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/base/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/base/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/luci/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/luci/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/management/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/management/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/packages/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/packages/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/routing/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/routing/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/telephony/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/telephony/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Collected errors:
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/base/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/base/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/luci/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/luci/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/management/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/management/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/packages/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/packages/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/routing/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/routing/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/telephony/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/telephony/Packages.sig, wget returned 1.
root@OpenWrt:~# opkg install luci
Unknown package &#039;luci&#039;.
Collected errors:
 * opkg_install_cmd: Cannot install package luci.
root@OpenWrt:~# opkg update
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/base/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/base/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/luci/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/luci/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/management/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/management/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/packages/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/packages/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/routing/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/routing/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/telephony/Packages.gz.
wget: bad address &#039;downloads.openwrt.org&#039;
Downloading http://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/package                                            s/telephony/Packages.sig.
wget: bad address &#039;downloads.openwrt.org&#039;
Signature check failed.
Remove wrong Signature file.
Collected errors:
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/base/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/base/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/luci/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/luci/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/management/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/management/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/packages/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/packages/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/routing/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/routing/Packages.sig, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/telephony/Packages.gz, wget returned 1.
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trun                                            k/bcm53xx/generic/packages/telephony/Packages.sig, wget returned 1.</code></pre></div><p>Still only 1 radio detected.</p><p>Not sure whether you still need the output you requested, but I&#039;m posting anyway:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/config/network

config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
        option ula_prefix &#039;fda0:0454:5e1b::/48&#039;

config interface &#039;lan&#039;
        option type &#039;bridge&#039;
        option ifname &#039;eth0.1&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.1.1&#039;
        option netmask &#039;255.255.255.0&#039;
        option ip6assign &#039;60&#039;

config interface &#039;wan&#039;
        option ifname &#039;eth0.2&#039;
        option proto &#039;dhcp&#039;

config interface &#039;wan6&#039;
        option ifname &#039;eth0.2&#039;
        option proto &#039;dhcpv6&#039;

config switch
        option name &#039;switch0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 1 2 3 5t&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;2&#039;
        option ports &#039;4 5t&#039;

root@OpenWrt:~# cat /etc/config/wireless
config wifi-device  radio0
        option type     mac80211
        option channel  36
        option hwmode   11a
        option path     &#039;platform/18000000.axi/bcma0:7/pci0000:00/0000:00:00.0/0000:01:00.0&#039;
        option htmode   VHT80
        # REMOVE THIS LINE TO ENABLE WIFI:
        option disabled 1

config wifi-iface
        option device   radio0
        option network  lan
        option mode     ap
        option ssid     OpenWrt
        option encryption none

root@OpenWrt:~# swconfig dev switch0 show | grep port
        ports: 0x01bf
        link: port:0 link:up speed:1000baseT full-duplex auto
        link: port:1 link:up speed:1000baseT full-duplex auto
        link: port:2 link:down
        link: port:3 link:down
        link: port:4 link:down
        link: port:5 link:up speed:1000baseT full-duplex
        ports: 0 1 2 3 5t
        ports: 4 5t
root@OpenWrt:~# nvram show | grep ports
vlan2ports=4 8u
vlan1ports=0 1 2 3 5 7 8*
vlan_ports=0x3FF</code></pre></div><p>Let me know if you need any other debug info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306494">
				<div class="post-metadata">
					<div class="post-num">Post #315</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 Jan 2016, 17:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>meuleman wrote:</cite><blockquote><p>Spent some time today on this issue and there is indeed a problem with brcmfmac/firmware running on OpenWrt when it comes to setting country codes. Unfortunately there is no easy workaround. Some details first: The country code being set by userspace needs a translation to a country which can be used by the firmware. This should have been done by the driver, but it isn&#039;t. The biggest problem for us (driver developers) is that the translation is board/platform specific. So the R8000 needs its own mapping which we can not determine runtime. </p><p>The only workaround for the moment is selecting the country US, but that should not be done when being in an other country.</p><p>There is also another &quot;quick&quot; workaround, but that will need a patch on brcmfmac and hence a new build. The country code configured by Netgear user interface gets set in NVRAM. This country code is &quot;correct&quot; and should not be overwritten by the driver. So by commenting out the code which which actually programs the &quot;country&quot; in the driver would work around the problem, but wont allow you to select a different country/region from the user interface, but once configured correctly through the netgear firmware this should not be necessary unless you physically move the AP to a different country/region.</p></blockquote></div><p>Can you help me understanding some details of this problem?</p><p>1. Country code translation<br />I understand Broadcom&#039;s firmware uses different codes than Linux (at least some of them). But why do you think code translation is board/platform specific? Linux uses a set of defined codes, see:<br /><a href="http://git.kernel.org/cgit/linux/kernel/git/sforshee/wireless-regdb.git/tree/db.txt">http://git.kernel.org/cgit/linux/kernel … ree/db.txt</a><br />So it seems to me that:<br />a) Some codes can be used difectly, e.g. &quot;US&quot;, &quot;DE&quot;, &quot;PL&quot;:</p><div class="codebox"><pre><code># iw reg set US
[13191.210728] brcmfmac: brcmf_cfg80211_reg_notifier: enter: initiator=1, alpha=US
[13191.230701] brcmfmac: brcmf_cfg80211_reg_notifier: enter: initiator=1, alpha=US
[13191.244864] cfg80211: Regulatory domain changed to country: US
[13191.250672] cfg80211:  DFS Master region: FCC
[13191.254858] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[13191.264558] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[13191.272539] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (N/A)
[13191.281987] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (0 s)
[13191.291428] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2300 mBm), (0 s)
[13191.299489] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[13191.307464] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)</code></pre></div><p>b) Some codes need to be translated ,e.g. &quot;00&quot;</p><div class="codebox"><pre><code>root@OpenWrt:/# iw reg set 00
[13227.053992] cfg80211: Invalid regulatory domain detected:
[13227.059429] cfg80211: Regulatory domain: 00
[13227.063590] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[13227.073138] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[13227.081117] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[13227.089089] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[13227.097067] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (N/A)
[13227.106509] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)
[13227.115952] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[13227.124003] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[13227.131979] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[13227.140125] brcmfmac: brcmf_cfg80211_reg_notifier: enter: initiator=0, alpha=00
[13227.147597] brcmfmac: brcmf_cfg80211_reg_notifier: not a ISO3166 code
[13227.154245] brcmfmac: brcmf_cfg80211_reg_notifier: enter: initiator=0, alpha=00
[13227.161780] brcmfmac: brcmf_cfg80211_reg_notifier: not a ISO3166 code
[13227.168439] cfg80211: World regulatory domain updated:
[13227.173795] cfg80211:  DFS Master region: unset
[13227.178224] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[13227.187932] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[13227.195908] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[13227.203872] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[13227.211848] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (N/A)
[13227.221300] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)
[13227.230743] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[13227.238812] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[13227.246787] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)</code></pre></div><p>2. &quot;US&quot; workaround<br />Why selecting &quot;US&quot; is the only workaround? What&#039;s the problem in the first place? Why I can&#039;t simply use e.g. &quot;PL&quot; if living in Poland?</p><p>3. Quick workaround (hacking brcmf_cfg80211_reg_notifier?)<br />First of all, are you use firmware gets country code set in NVRAM? Take a look at this:</p><div class="codebox"><pre><code>root@OpenWrt:/# nvram show | grep country_code
wl1_country_code=US
wl0_country_code=US
wl_country_code=US
root@OpenWrt:/# nvram show | grep devid
0:devid=0x43BB
1:devid=0x43BC</code></pre></div><p>As my SR400ac doesn&#039;t have &quot;0:country_code&quot; or &quot;1:country_code&quot; entries, I&#039;m afraid we never pass any country_code to the firmware.</p><p>Second question: why hacking &quot;brcmf_cfg80211_reg_notifier&quot; should result in any better result that simply setting a proper country in OpenWrt? Why I can&#039;t simply do:<br />iw reg set PL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306497">
				<div class="post-metadata">
					<div class="post-num">Post #316</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 Jan 2016, 18:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><h5>Booting problem (UBI/rootfs)</h5><p>It&#039;s reported with a nice log in <a href="https://dev.openwrt.org/ticket/20731">ticket #20731</a>. For some reason UBI partition isn&#039;t available or recognized and OpenWrt can&#039;t boot userspace. Looks like a valid report and serious problem. I&#039;ll try to track/debug/fix this problem in the mentioned ticket.</p></blockquote></div><p>Fixed now in both: trunk &amp; chaos_calmer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306596">
				<div class="post-metadata">
					<div class="post-num">Post #317</div>
					<div class="post-author">meuleman</div>
					<div class="post-datetime">
						7 Jan 2016, 12:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Can you help me understanding some details of this problem?</p></blockquote></div><p>Yes, I&#039;ll try. I&#039;m currently working on getting it all in place. The exact reason for some of the choices made within firmware I don&#039;t know, but there are some obvious reasons to think about.</p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>1. Country code translation<br />I understand Broadcom&#039;s firmware uses different codes than Linux (at least some of them). But why do you think code translation is board/platform specific?</p></blockquote></div><p>The board/platform specific translation is due to the firmware/hardware of the board. When it comes to country codes then there are a couple of factors which determine which country code / regrev are supported by the FW API. 1) The firmware has impact. It is compiled for a certain product and with that supports certain country codes /regrev. 2) The OTP. Some boards (actually most of them) get their board specific data from OTP. This is being programmed during production. 3) NVRAM. This file is specific to a board (not a device, you cannot and never should use a nvram used on a certain board on another board even though it is the same chipset). Now, why? Well there is at least one reason and that is power constraints, however power constraints are not only determined by FCC (or whatever organisation) but also by board characteristics. Each board is different and as such needs to be calibrated. With that I mean that 43602 on a R8000 is behaving completely different from the 43602 used in for example Apple mac book. Probably the mac book version doesn&#039;t have an external PA, and this component has a huge impact on the power to be used to work efficiently. Many people think that it is good thing to higher the output power to get more range, and that power is only limited by bodies like FCC. This is not true, and in fact higher powers will often result in lower throughput as the signal gets distorted, but not only that, it will also have more impact on neighboring channels where it would be out of specification.</p><p>So that is why it is board specific. Every board is different. However there is more. Some products get sold worldwide, some of them only in limited countries. And some vendors want to simplify the user interface. So each product can be different from that point of view. For example: A product which is to be used in US only will most of the time be only configurable for US or World. And world is not what you want as it is minimal set which makes it allowed to work in any country. Very often these products will not be sold to other countries (not allowed by the stores) and often will not work (at least not optimal) in other countries either. The reason that a vendor is doing this is simple: It costs money (quite a bit) to get certified, and the more countries it desires to support the higher the costs. There are also vendors (like netgear) which try to simplify the user interface and have country codes grouped by region. So in case of netgear there are something like 10 regions: US, EU, CN, etc.. In this case US does not mean USA like it does in ISO3166 (alpha2) but it means quite a few more countries. And it uses the combined set of limitations of these countries to configure the device. This is in general almost the same as US but not 100%. </p><p>Now for the final reason, which I started by explaining that US in netgear means something else as US in Macbook (and US in linux db); To support US for both devices with the same firmware the API of the firmware uses a country code and a regrev code. The country code is not an ISO3166 version first of all, but often is (but not always). Like EU is not used by linux, though it is an (exceptional) ISO3166 country code. The regrev is used to support both US as a country and US as region, and for every product we (broadcom) create new regrevs. </p><p>So this is why we need a translation of ISO3166 (alpha2) country code to a broadcom API (country code with regrev) and that translation will be different per board.</p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>2. &quot;US&quot; workaround<br />Why selecting &quot;US&quot; is the only workaround? What&#039;s the problem in the first place? Why I can&#039;t simply use e.g. &quot;PL&quot; if living in Poland?</p></blockquote></div><p>Well simply because Poland it not even a possible/valid country code within this combination of device/firmware/nvram. You would have to use EU. However even that would not work optimal. We (driver team) thought we could use a country code and regrev -1. This turned out not to be true. For some country codes it will work, but for some it wont. In case of the R8000 the US/-1 will work and that is why when used with OpenWrt on R8000 this is the best country code to use. </p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>3. Quick workaround (hacking brcmf_cfg80211_reg_notifier?)<br />First of all, are you use firmware gets country code set in NVRAM? Take a look at this:</p><div class="codebox"><pre><code>root@OpenWrt:/# nvram show | grep country_code
wl1_country_code=US
wl0_country_code=US
wl_country_code=US
root@OpenWrt:/# nvram show | grep devid
0:devid=0x43BB
1:devid=0x43BC</code></pre></div><p>As my SR400ac doesn&#039;t have &quot;0:country_code&quot; or &quot;1:country_code&quot; entries, I&#039;m afraid we never pass any country_code to the firmware.</p></blockquote></div><p>It could very well be that the SR400AC is programmed with a correct country code. Either through OTP or through other settings in NVRAM. In that case you really wouldnt want to override it with anything. If not then you would have to figure out which codes are supported by the device and create a translation table.</p><div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Second question: why hacking &quot;brcmf_cfg80211_reg_notifier&quot; should result in any better result that simply setting a proper country in OpenWrt? Why I can&#039;t simply do:<br />iw reg set PL</p></blockquote></div><p>Good to know: most products when sold, either have a correct country code in OTP or in NVRAM matching the country in which the product is sold. In case of R8000 I don&#039;t know if it defaults to the correct country/region, but I believe so. In case of R8000 this setting is stored in NVRAM. When the firmware boots it will initial use this country code or if nothing is programmed, fall back to world code. <br />What we will do in the driver is that we will translate the used country codes to country code/regrev, if a translation table is available. When there is no translation table available nothing will be programmed. First problem is that cfg80211 only specifies ISO3166 (alpha2), but doesnt tell if it for example allows EU. In fact I think that is up to userspace, but not 100% sure here, though it doesn&#039;t really matter, as the API of the FW will require a translation table anyway.<br /><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2</a><br />So what I intend to do (work in progress) is offer the option to specify a translation table through platform data, which will be device (device id/revision) specific. If this table is available then it will be used to try to translate the used code. If the table is not available or if the translation is not successful then no country code will be programmed. The first patch is on the way and it will basically look if there is a table and if not it wont program any country code. The result is basically the same as my suggestion to hack the reg_notifier and not program any country code. Simply because the country code of the device is most likely already correct.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306607">
				<div class="post-metadata">
					<div class="post-num">Post #318</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						7 Jan 2016, 14:28					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Hante. So far I was thinking all board specific data is in NVRAM. I saw these magic entries like aa5g, maxp5ga0, mcsbw205ghpo, pa5ga0, etc. and I was assuming it&#039;s all that firmware needs for a proper setup.</p><p>I wasn&#039;t aware there are more data compiled into firmware that firmware choses depending on the regrev.</p><p>Do I get it correctly that calling<br />iw reg set US<br />(that results in passing rev -1 to the firmware) may cause firmware use incorrect calibration data? AFAIU you were assuming rev -1 tells firmware to change *only* country (without changing rev) but it&#039;s not the case?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307755">
				<div class="post-metadata">
					<div class="post-num">Post #319</div>
					<div class="post-author">jolouis</div>
					<div class="post-datetime">
						15 Jan 2016, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone done a few power cycles on their R8000 and noticed it failing to boot? I have two units both with the same behavior. Flash to Openwrt, boots fine all is well. Reboot, things are fine. Power down, leave it for a day or two, power back on and blamo:<br />Checking crc...Boot program checksum is invalid</p><p>And yet the previous day it was working fine. I also had this happen randomly after something like 5 or 6 reboots. Only solution is to then reflash the Openwrt image. I will do some more testing today to see if I can determine how frequently/often this comes up to try and make it reproduceable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307984">
				<div class="post-metadata">
					<div class="post-num">Post #320</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						17 Jan 2016, 18:11					</div>
				</div>
				<div class="post-content content">
					<p>I got few bugs to report. Would provide the logs if needed.</p><p>1. Slow Wifi TX Speed as per Mac.<br />I tried the latest CC build, and weirdly it keeps me at around 200Mbps / 170Mbps only on Wifi AC.<br />Tried restarting the Router and changing any options either leads to No Wifi, or Same Slow Speed.</p><p>2. Luci does not show Wifi Signal db&#039;s keeps it at 0db. </p><p>3. Changing country to many options lead to wifi being disabled.</p><p>4. OpenWrt shows that it has only 38MB available, but isn&#039;t the Flash size 128MB ?</p><p>5. Trunk is still showing only 1 Wireless Device is available. I know its a known bug, and the cause is also found, but whats the plan forward ? Should we build it locally only ?</p>											<p class="post-edited">(Last edited by <strong>adityaxavier</strong> on 17 Jan 2016, 18:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308001">
				<div class="post-metadata">
					<div class="post-num">Post #321</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						17 Jan 2016, 20:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>2. Luci does not show Wifi Signal db&#039;s keeps it at 0db.</p></blockquote></div><p>This may be fixed by <a href="https://dev.openwrt.org/changeset/48166/">https://dev.openwrt.org/changeset/48166/</a></p><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>4. OpenWrt shows that it has only 38MB available, but isn&#039;t the Flash size 128MB ?</p></blockquote></div><p>It&#039;s because of ugly partitioning used by Broadcom. They use separated &quot;roofs&quot; and &quot;bcrmnand&quot; partitions. Currently there is no way to extend basic partition/volume using another one.</p><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>5. Trunk is still showing only 1 Wireless Device is available. I know its a known bug, and the cause is also found, but whats the plan forward ? Should we build it locally only ?</p></blockquote></div><p>No plan right now. I don&#039;t have any device with 3 bands so I cannont reproduce &amp; work on this issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308003">
				<div class="post-metadata">
					<div class="post-num">Post #322</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						17 Jan 2016, 20:44					</div>
				</div>
				<div class="post-content content">
					<p>Wow what an omnious post No.</p><p>Anyway, regarding issue 2 : <br />Isn&#039;t that patch already put in in the latest CC release ?</p><p>Regarding 4:<br />I understand, do let me know if i can be of any help testing.</p><p>Regarding 5:<br />Please do let me know if you need any help testing the same. Promise i&#039;ll be quick <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Or better yet, you can ssh into my router and try whatever you need to <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Regarding 1:<br />Would you be able to help me out on this ? Let me know if you need any logs.</p><p>Regarding 3:<br />I believe it has to do with the same Issue of Country Code issue.</p><p>Another Issue :<br />LED&#039;s don&#039;t work as they are supposed. Do let me know if i can help !</p>											<p class="post-edited">(Last edited by <strong>adityaxavier</strong> on 17 Jan 2016, 21:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308073">
				<div class="post-metadata">
					<div class="post-num">Post #323</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						18 Jan 2016, 14:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>2. Luci does not show Wifi Signal db&#039;s keeps it at 0db.</p></blockquote></div><p>This may be fixed by <a href="https://dev.openwrt.org/changeset/48166/">https://dev.openwrt.org/changeset/48166/</a></p><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>4. OpenWrt shows that it has only 38MB available, but isn&#039;t the Flash size 128MB ?</p></blockquote></div><p>It&#039;s because of ugly partitioning used by Broadcom. They use separated &quot;roofs&quot; and &quot;bcrmnand&quot; partitions. Currently there is no way to extend basic partition/volume using another one.</p><div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>5. Trunk is still showing only 1 Wireless Device is available. I know its a known bug, and the cause is also found, but whats the plan forward ? Should we build it locally only ?</p></blockquote></div><p>No plan right now. I don&#039;t have any device with 3 bands so I cannont reproduce &amp; work on this issue.</p></blockquote></div><p>Hi,</p><p>I believe currently, the major Issues are :-</p><p>1. Slow WiFi Speeds ( around 170 - 200 Mbps on AC )<br />2. Only Single Wifi is detected in Trunk.<br />&nbsp; &nbsp; ( Can you please verify, i find that few patches are missing in patches-4.4 folder, but present in 4.1 folder)<br />3. GPIO LEDS not working.<br />&nbsp; &nbsp; ( Would <a href="http://svn.dd-wrt.com/browser/src/router/netgear/ambitCfg-r8000.h?rev=28812">http://svn.dd-wrt.com/browser/src/route … ?rev=28812</a> be of any help ?)<br />&nbsp; &nbsp; Am planning on spending more time on it this weekend.<br />4. Regarding cannot open &quot;ubi0:rootfs&quot;, error -19, as per the ticket and your previous Message it exists in both trunk and CC, but i find this happening only using Trunk.<br />5. Regarding the size available for Openwrt, i also own a Asus AC56U which has BCM4708A0 which i thought was pretty similar to BCM4709A0 except few differences regarding speed and pcie support. And Asus AC56U is giving me complete 128MB size available. I might be completely wrong about them being similar though <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Sorry for pushing you <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thanks,<br />Aditya Xavier.</p>											<p class="post-edited">(Last edited by <strong>adityaxavier</strong> on 18 Jan 2016, 14:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308096">
				<div class="post-metadata">
					<div class="post-num">Post #324</div>
					<div class="post-author">meuleman</div>
					<div class="post-datetime">
						18 Jan 2016, 18:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adityaxavier wrote:</cite><blockquote><p>1. Slow WiFi Speeds ( around 170 - 200 Mbps on AC )</p></blockquote></div><p>Can you provide some details on what you&#039;re testing here? Which OpenWrt image are you using (trunk or CC)? Which band? 2.4 or 5G? Which country code have you configured? What client device are you using? Which channel? Are you using device 1, 2 or three of the router to connect to? What is distance from client card to router? Which tool do you use for measurement (iperf or something else)? Do you test against remote on WAN or LAN? Do you have interference from other APs? Are you testing UDP or TCP, Tx or Rx? And then I&#039;ll probably have a few questions more, but need some answers first on the given questions here.</p><p>When I try locally on 5G any channel, using a good AC client card (three antennas) and on short distance I reach easily 600Mbps TCP on either Rx or Tx. This is not the max of this router, but still very decent. So in the correct circumstances you should be able to get a whole lot more then 200Mbps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p308108">
				<div class="post-metadata">
					<div class="post-num">Post #325</div>
					<div class="post-author">adityaxavier</div>
					<div class="post-datetime">
						18 Jan 2016, 19:37					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply !</p><p>1. Am using OpenWrt CC build :- r46450<br />2. Am using 5G (radio0) - AC Band for testing.<br />3. Distance between Client and Router is around 8ft apart ( Clear view of sight )<br />4. Client is MacBook Pro 2015<br />5. Am testing using the drop down details of Wifi attaching images for reference.<br />6. I can&#039;t test using iPerf cause somehow it keeps hanging at 13 bits ( possibly OSX Issue )<br />7. Same router, at same distance using same client, using stock Firmware am getting between 1053-1300Mbps (UI)<br />8. Am only testing LAN Speeds.</p><p>Stock Firmware :- <a href="http://picpaste.com/Screen_Shot_2016-01-18_at_9.58.38_PM-8AajTNia.png">http://picpaste.com/Screen_Shot_2016-01 … ajTNia.png</a><br />OpenWrt :- <a href="http://picpaste.com/Screen_Shot_2016-01-18_at_10.11.13_PM-xfs1lasR.png">http://picpaste.com/Screen_Shot_2016-01 … s1lasR.png</a></p><p>OpenWrt Config :- </p><p>config wifi-device &#039;radio0&#039;<br />&nbsp; &nbsp; option type &#039;mac80211&#039;<br />&nbsp; &nbsp; option hwmode &#039;11a&#039;<br />&nbsp; &nbsp; option path &#039;18000000.axi/bcma0:7/pci0000:00/0000:00:00.0/0000:01:00.0&#039;<br />&nbsp; &nbsp; option htmode &#039;VHT80&#039;<br />&nbsp; &nbsp; option channel &#039;40&#039;<br />&nbsp; &nbsp; option txpower &#039;20&#039;<br />&nbsp; &nbsp; option country &#039;00&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; option network &#039;lan&#039;<br />&nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; option ssid &#039;AdityaXavier5G1&#039;<br />&nbsp; &nbsp; option encryption &#039;psk2&#039;</p><p>I think i have found another issue.. Something which doesn&#039;t make much sense.</p><p>You can see in the configuration i have set it to be at Channel 40. But i see that the signal is at Channel 48 !</p><p>dmesg :- <a href="http://pastebin.com/rxvmgctK">http://pastebin.com/rxvmgctK</a><br />nvram :- <a href="http://pastebin.com/bcchQLd9">http://pastebin.com/bcchQLd9</a></p><p>Apart from this please do let me know if you need anymore data.</p>											<p class="post-edited">(Last edited by <strong>adityaxavier</strong> on 18 Jan 2016, 19:57)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 13 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=55367&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=11.html">11</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=12.html">12</a></li><li class="pagination-current"><span>13</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=55367&amp;p=15.html">15</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=55367&amp;p=19.html">19</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>