<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> D-Link 504T</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p24571">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sergei.k</div>
					<div class="post-datetime">
						5 Apr 2006, 22:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I want to install openwrt on new D-Link 504T, i&#039;ve already built some *.bin files:<br />-rw-r--r--&nbsp; 1 df df&nbsp; 478400 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-kernel.bin<br />-rw-r--r--&nbsp; 1 df df 1384596 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs-AG1B.bin<br />-rw-r--r--&nbsp; 1 df df 1384548 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs.bin<br />-rw-r--r--&nbsp; 1 df df 1384596 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs-WA21.bin<br />-rw-r--r--&nbsp; 1 df df 1384596 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs-WA22.bin<br />-rw-r--r--&nbsp; 1 df df 1384596 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs-WA31.bin<br />-rw-r--r--&nbsp; 1 df df 1384596 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs-WA32.bin<br />-rw-r--r--&nbsp; 1 df df 1384596 Apr&nbsp; 5 22:48 openwrt-ar7-2.4-squashfs-WAG2.bin</p><p>What files I should use?</p><p>Thanks.</p><p>PS: maybe someone already had an experience of 504T upgrading, please give me info how to do it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25227">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mrmr</div>
					<div class="post-datetime">
						14 Apr 2006, 15:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;d like to have infos too...</p><p>I own a 502t and i like to run OpenWrt on it.</p><p>Another question is:</p><p>Should i upgrade with an original firmware to get ADSL2/2+ support? <br />Or installing OpenWrt get that support too?</p><p>mrmr</p><p>EDIT:</p><p>right now i&#039;ve got output from ADAM2 for this 502t&nbsp; (DSL-502T/UK V A1):</p><div class="quotebox"><blockquote><p>Adam2_AR7DB &gt; info<br />Monitor Revision&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.22.02<br />Monitor Compilation time&nbsp; &nbsp; &nbsp; Oct 29 2003, 15:47:14<br />Endianness&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Little<br />External Memory rate&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Full, 16 bit wide<br />CPU Frequency&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;150 MHz<br />Adam2_AR7DB &gt; printenv<br />memsize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x01000000<br />flashsize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00400000<br />modetty0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 38400,n,8,1,hw<br />modetty1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 38400,n,8,1,hw<br />bootserport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tty0<br />cpufrequency&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 150000000<br />sysfrequency&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 125000000<br />bootloaderVersion&nbsp; &nbsp; &nbsp;0.22.02<br />ProductID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AR7DB<br />HWRevision&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Unknown<br />SerialNumber&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; none<br />my_ipaddress&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10.8.8.8<br />maca&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00:0F:3D:xx:xx:x6<br />prompt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Adam2_AR7DB<br />firstfreeaddress&nbsp; &nbsp; &nbsp; 0x9401d328<br />req_fullrate_freq&nbsp; &nbsp; &nbsp;125000000<br />mtd0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x900a0000,0x903f0000<br />mtd1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x90010000,0x900a0000<br />mtd2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x90000000,0x90010000<br />mtd3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x903f0000,0x90400000<br />autoload&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1<br />usb_vid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x2001<br />usb_pid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x5b00<br />usb_man&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;D-Link<br />usb_prod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DSL-502T<br />usb_board_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;00:0F:3D:xx:xx:x7<br />usb_rndis_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;00:0F:3D:xx:xx:x8<br />usb_serial&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00:0F:3D:xx:xx:x7<br />Adam2_AR7DB &gt;</p></blockquote></div><p>this is the bootsequence:</p><div class="quotebox"><blockquote><p>Warning!!<br />Default IP address [10.8.8.8] maybe conflict with other device(s)!!<br />Please Change IP by: setenv my_ipaddress &lt;your ip address&gt;</p><p>ADAM2 Revision 0.22.02<br />Usage: setmfreq [-d] [-s sys_freq, in MHz] [cpu_freq, in MHz]<br />Memory optimization Complete!</p><p>Adam2_AR7DB &gt;<br />Press any key to abort OS load, or wait 5 seconds for OS to boot...<br />Launching kernel decompressor.<br />Kernel decompressor was successful ... launching kernel.</p><p>LINUX started...<br />Config serial console: ttyS0,38400<br />CPU revision is: 00018448<br />Primary instruction cache 16kb, linesize 16 bytes (4 ways)<br />Primary data cache 16kb, linesize 16 bytes (4 ways)<br />Number of TLB entries 16.<br />Linux version 2.4.17_mvl21-malta-mips_fp_le (tiger@fd7.alphanetworks.com) (gcc version 2.95.3 20010315 (release<br />/MontaVista)) #70 Wed Feb 11 14:17:23 GMT 2004<br />Determined physical RAM map:<br /> memory: 14000000 @ 00000000 (reserved)<br /> memory: 00020000 @ 14000000 (ROM data)<br /> memory: 00fe0000 @ 14020000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line:<br />the pacing pre-scalar has been set as 600.<br />calculating r4koff... 000b71b0(750000)<br />CPU frequency 150.00 MHz<br />Calibrating delay loop... 149.91 BogoMIPS<br />Freeing Adam2 reserved memory [0x14001000,0x0001f000]<br />Memory: 14552k/16384k available (1335k kernel code, 1832k reserved, 111k data, 48k init)<br />Dentry-cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount-cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />Disabling the Out Of Memory Killer<br />devfs: v1.7 (20011216) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />pty: 32 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with no serial options enabled<br />ttyS00 at 0xa8610e00 (irq = 15) is a 16550A<br />ttyS01 at 0xa8610f00 (irq = 16) is a 16550A<br />block: 64 slots per queue, batch=16<br />PPP generic driver version 2.4.1<br />avalanche flash device: 0x400000 at 0x10000000.<br /> Amd/Fujitsu Extended Query Table v1.0 at 0x0041<br />Flash Vender ID=1f<br />Physically mapped flash: JEDEC Device ID is 0xC8. Assuming broken CFI table.<br />Physically mapped flash: Swapping erase regions for broken CFI table.<br />number of CFI chips: 1<br />Looking for mtd device :mtd0:<br />Found a mtd0 image (0xa0000), with size (0x350000).<br />Looking for mtd device :mtd1:<br />Found a mtd1 image (0x10000), with size (0x90000).<br />Looking for mtd device :mtd2:<br />Found a mtd2 image (0x0), with size (0x10000).<br />Looking for mtd device :mtd3:<br />Found a mtd3 image (0x3f0000), with size (0x10000).<br />Looking for mtd device :mtd4:<br />Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x000a0000-0x003f0000 : &quot;mtd0&quot;<br />0x00010000-0x000a0000 : &quot;mtd1&quot;<br />0x00000000-0x00010000 : &quot;mtd2&quot;<br />0x003f0000-0x00400000 : &quot;mtd3&quot;<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 1024)<br />Linux IP multicast router 0.06 plus PIM-SM<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />cramfs: wrong magic<br />expected 0x28cd3d45 got 0x7d236fa4<br />Reading magic from address 0x941fde50<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 48k freed<br />serial console detected.&nbsp; Disabling virtual terminals.<br />console=/dev/tts/0<br />init started:&nbsp; BusyBox v0.61.pre (2004.02.11-20:30+0000) multi-call binary<br />Starting pid 9, console /dev/tts/0: &#039;/etc/init.d/rcS&#039;<br /> Standard Configuration File<br />proc write:Calling Configuration<br />Number of State module =&nbsp; 1<br />STATE =&nbsp; 1<br />STATE =&nbsp; 2<br />STATE =&nbsp; 3<br />STATE =&nbsp; 4<br />module =&nbsp; 2<br />STATE =&nbsp; 1<br />STATE =&nbsp; 2<br />module =&nbsp; 3<br />STATE =&nbsp; 1<br />STATE =&nbsp; 2<br />STATE =&nbsp; 3<br />module =&nbsp; 5<br />STATE =&nbsp; 1<br />STATE =&nbsp; 2<br />STATE =&nbsp; 3<br />module =&nbsp; 6<br />STATE =&nbsp; 1<br />STATE =&nbsp; 2<br />STATE =&nbsp; 3<br />module =&nbsp; 9<br />STATE =&nbsp; 1<br />STATE =&nbsp; 2<br />Elements = 17<br />Total Length = 140<br />Using /lib/modules/2.4.17_mvl21-malta-mips_fp_le/kernel/drivers/atm/tiatm.o<br />registered device TI Avalanche SAR<br />Initializing DSL interface<br />Texas Instruments ATM driver: version:[4.02.01.00]<br />Using /lib/modules/2.4.17_mvl21-malta-mips_fp_le/kernel/drivers/net/avalanche_usb.o<br />USB: Entering USB_init_module.<br />vid = 0x2001<br />pid = 0x5b00<br />Serial Number String = 00:0F:3D:xx:xx:x7<br />man = D-Link<br />prod = DSL-502T<br />USB: Entering USB_Init.<br />USB: Leaving USB_Init.<br />USB: Leaving USB_init_module.<br />Waiting for enter to start &#039;/bin/sh&#039; (pid 38, terminal /dev/tts/0)</p><p>Please press Enter to activate this console. Sep&nbsp; 8 12:00:06 cm_monitor: Monitor Starting<br />ip_tables: (c)2000 Netfilter core team<br />ip_conntrack version 2.0 (128 buckets, 1024 max) - 364 bytes per conntrack<br />device usbrndis entered promiscuous mode<br />br0: port 1(usbrndis) entering learning state<br />device eth0 entered promiscuous mode<br />br0: port 2(eth0) entering learning state<br />br0: port 1(usbrndis) entering forwarding state<br />br0: topology change detected, propagating<br />br0: port 2(eth0) entering forwarding state<br />br0: topology change detected, propagating</p></blockquote></div><p>maybe it could help...</p>											<p class="post-edited">(Last edited by <strong>mrmr</strong> on 14 Apr 2006, 18:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25322">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mrmr</div>
					<div class="post-datetime">
						15 Apr 2006, 14:26					</div>
				</div>
				<div class="post-content content">
					<p>WOW<br />So far i&#039;ve menaged to flash an OpenWrt to this 502t.<br />Here&#039;s booting sequence:</p><div class="quotebox"><blockquote><p>ADAM2 Revision 0.22.02<br />Usage: setmfreq [-d] [-s sys_freq, in MHz] [cpu_freq, in MHz]<br />Memory optimization Complete!</p><p>Adam2_AR7DB &gt;<br />Press any key to abort OS load, or wait 5 seconds for OS to boot...<br />Launching kernel decompressor.<br />Kernel decompressor was successful ... launching kernel.</p><p>LINUX started...<br />CPU revision is: 00018448<br />Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, linesize 16 bytes.<br />Linux version 2.4.32 (mrmr@archmobile) (gcc version 3.4.6 (OpenWrt-2.0)) #2 Wed Apr 12 20:09:35 CEST 2006<br />Determined physical RAM map:<br /> memory: 00020000 @ 14000000 (ROM data)<br /> memory: 00fe0000 @ 14020000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,384<br />00<br />the pacing pre-scalar has been set as 600.<br />Using 75.000 MHz high precision timer.<br />Calibrating delay loop... 149.91 BogoMIPS<br />Memory: 14300k/16384k available (1338k kernel code, 2084k reserved, 92k data, 72k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; available.<br />POSIX conformance testing by UNIFIX<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with no serial options enabled<br />ttyS00 at 0xa8610e00 (irq = 15) is a 16550A<br />ttyS01 at 0xa8610f00 (irq = 16) is a 16550A<br />VLYNQ INIT FAILED: Please try cold reboot.<br />Vlynq CONFIG_AR7_VLYNQ_PORTS=2<br />Vlynq Device vlynq0 registered with minor no 63 as misc device. Result=0<br />VLYNQ 0 : init failed<br />Vlynq Device vlynq1 registered with minor no 62 as misc device. Result=0<br />VLYNQ 1 : init failed<br />ar7_wdt: last system reset initiated by hardware reset<br />ar7_wdt: timer margin 59 seconds (prescale 65535, change 57180, freq 62500000)<br />ar7 flash device: 0x400000 at 0x10000000.<br /> Amd/Fujitsu Extended Query Table v1.0 at 0x0041<br />Physically mapped flash: JEDEC Device ID is 0xC8. Assuming broken CFI table.<br />Physically mapped flash: Swapping erase regions for broken CFI table.<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling fast programming due to code brokenness.<br />Parsing ADAM2 partition map...<br />Looking for mtd device :mtd0:<br />Found a mtd0 image (0xa0000), with size (0x350000).<br />Assuming default rootfs offset of 0xa0000<br />Looking for mtd device :mtd1:<br />Found a mtd1 image (0x10000), with size (0x90000).<br />Looking for mtd device :mtd2:<br />Found a mtd2 image (0x0), with size (0x10000).<br />Assuming adam2 size of 0x10000<br />Looking for mtd device :mtd3:<br />Found a mtd3 image (0x3f0000), with size (0x10000).<br />Looking for mtd device :mtd4:<br />Found a mtd4 image (0x10000), with size (0x3e0000).<br />Setting new rootfs offset to 00084852<br />Squashfs detected (size = 0xb00848c6)<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00010000 : &quot;adam2&quot;<br />0x00010000-0x003f0000 : &quot;linux&quot;<br />0x00084852-0x001e0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x003f0000-0x00400000 : &quot;config&quot;<br />0x001e0000-0x003f0000 : &quot;OpenWrt&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 360 bytes per conntrack<br />ip_tables: (C) 2000-2002 Netfilter core team<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Preserving ADAM2 memory.<br />Freeing unused kernel memory: 72k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />Unlocking linux ...<br />switching to jffs2<br />mount: Mounting /rom/sys on /sys failed: Invalid argument<br />init started:&nbsp; BusyBox v1.1.2 (2006.04.12-15:35+0000) multi-call binary</p><p>Please press Enter to activate this console. jffs2.bbc: SIZE compression mode activated.<br />Using the MAC with external PHY<br />Cpmac driver is allocating buffer memory at init time.<br />Using the MAC with external PHY<br />Cpmac driver Disable TX complete interrupt setting threshold to 20.<br />IPv6 v0.8 for NET4.0<br />IPv6 over IPv4 tunneling driver<br />Universal TUN/TAP device driver 1.5 (C)1999-2002 Maxim Krasnyansky<br />ip_conntrack_rtsp v0.01 loading<br />ip_nat_rtsp v0.01 loading<br />ip_conntrack_pptp version 1.9 loaded<br />ip_nat_pptp version 1.5 loaded<br />registered device TI Avalanche SAR<br />Initializing DSL interface<br />size=10120<br />size=38720<br />size=46432<br />size=45312<br />Texas Instruments ATM driver: version:[4.02.04.00]<br />device eth0 entered promiscuous mode</p><br /><br /><p>BusyBox v1.1.2 (2006.04.12-15:35+0000) Built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> KAMIKAZE (bleeding edge, r3626) -------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br />&nbsp; * 10 oz lime juice&nbsp; Salute!<br /> ---------------------------------------------------<br />root@OpenWrt:/# cat /proc/cpuinfo<br />system type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Texas Instruments AR7<br />processor&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: MIPS 4KEc V4.8<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 149.91<br />wait instruction&nbsp; &nbsp; &nbsp; &nbsp; : yes<br />microsecond timers&nbsp; &nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 16<br />extra interrupt vector&nbsp; : yes<br />hardware watchpoint&nbsp; &nbsp; &nbsp;: yes<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available<br />root@OpenWrt:/# cat /proc/meminfo<br />&nbsp; &nbsp; &nbsp; &nbsp; total:&nbsp; &nbsp; used:&nbsp; &nbsp; free:&nbsp; shared: buffers:&nbsp; cached:<br />Mem:&nbsp; 14716928&nbsp; 8327168&nbsp; 6389760&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; 1056768&nbsp; 2867200<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0<br />MemTotal:&nbsp; &nbsp; &nbsp; &nbsp; 14372 kB<br />MemFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6240 kB<br />MemShared:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1032 kB<br />Cached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2800 kB<br />SwapCached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Active:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2176 kB<br />Inactive:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1680 kB<br />HighTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />HighFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />LowTotal:&nbsp; &nbsp; &nbsp; &nbsp; 14372 kB<br />LowFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6240 kB<br />SwapTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />SwapFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />root@OpenWrt:/#</p></blockquote></div><p>As always serial console has helped me alot.<br />Just follow the <a href="http://wiki.openwrt.org/OpenWrtDocs/InstallingAR7">InstallingAR7</a> and put on the unit &quot;openwrt-ar7-2.4-squashfs.bin&quot;. For me it worked so far...</p><p>btw, as this unit has only one eth, i can&#039;t ping nothing now...<br />Working on it!</p><p>mrmr</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37878">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">santosh0705</div>
					<div class="post-datetime">
						27 Nov 2006, 08:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi mrmr,<br />Great to see that you have a working openwrt on DLS-502T. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I&#039;ve also purchased a DSL-502T for the experimenting only. Mine version of DSL-502 have only 2MB FLASH (AT49V162A) and 8MB RAM (M12L64164A)&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />quite low in memory profile.</p><p>mrmr, I wanted to know- 1)whether you have only installed the filesystem image or the both filesystem and the kernel images? 2) Will the newly compiled programs and utilities will work with the original kernel provided with the DSL-502T?</p><p>I tried to compile openwrt but the filesystem and kernel image size is much bigger.</p><p>I would like to make DSL-502T act as a NTP server with ethernet only LAN/WAN interface with working serial interface and GPIOs.</p><p>Pls. sugest some ideas to make smaller kernel and filesystem images.</p><p>santosh...<br />INDIA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37882">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Z3r0</div>
					<div class="post-datetime">
						27 Nov 2006, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>1) OpenWRT Kamikaze if installed using SquashFS comes as image which has kernel and filesystem, you need both for the unit to boot.<br />2) Some binaries may work if you move them from one system to the other but don&#039;t rely on it.</p><p>You should be able to get the image down to less than 2MB if you don&#039;t install much</p><p>I think the DSL-504T is only mildy different to the 502T, here&#039;s some info on how I set my unit up: <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/D-Link/DSL-502T">http://wiki.openwrt.org/OpenWrtDocs/Har … k/DSL-502T</a></p>											<p class="post-edited">(Last edited by <strong>Z3r0</strong> on 27 Nov 2006, 12:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37963">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">santosh0705</div>
					<div class="post-datetime">
						28 Nov 2006, 21:08					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m novice in openwrt pls. teach me!</p><div class="quotebox"><cite>Z3r0 wrote:</cite><blockquote><p>1) OpenWRT Kamikaze if installed using SquashFS comes as image which has kernel and filesystem, you need both for the unit to boot.</p></blockquote></div><p>Does this means the kernel and filesystem both are embedded into a single squashfs image?</p><p>I tried to mount the squashfs image in my fedora 5 system it failed, says header not found.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37977">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Z3r0</div>
					<div class="post-datetime">
						29 Nov 2006, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>yes I think so, also about how small the images can be, a basic install is around 1.65MB this leaves only a tiny bit of room for other things, but enough room for an ntp server etc. it all depends on what you need.</p><p>I don&#039;t think you could mount it unless you use a hex editor and separate the&nbsp; squashfs from the kernel, look for the string hsqs this is the start of the fs, I guess you also need a mount that understands how to mount squash3 and also has the LZMA patch applied, since this is non-standard, but used by OpenWRT.</p>											<p class="post-edited">(Last edited by <strong>Z3r0</strong> on 29 Nov 2006, 00:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37978">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">booBot</div>
					<div class="post-datetime">
						29 Nov 2006, 00:40					</div>
				</div>
				<div class="post-content content">
					<p>Is there a way to put OpenWRT into <strong>DI-604</strong> or <strong>DI-804HV</strong>?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37983">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mctiew</div>
					<div class="post-datetime">
						29 Nov 2006, 01:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>booBot wrote:</cite><blockquote><p>Is there a way to put OpenWRT into <strong>DI-604</strong> or <strong>DI-804HV</strong>?</p></blockquote></div><p>Do share the info if you found a way to do it. </p><p>As far as I know the non-T series and the T series are quite different animals, ie based on totally different processors. The DI 604 is based on DLINK&#039;s DL7300 which I found no information about it&#039;s MIPs compatible or not. I have also never able to TFTP into it or doing ADAM2-style telnet into it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37994">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">santosh0705</div>
					<div class="post-datetime">
						29 Nov 2006, 03:50					</div>
				</div>
				<div class="post-content content">
					<p>Tnx Z3r0,<br />I&#039;m making a JTAG interface then will try <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38225">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">santosh0705</div>
					<div class="post-datetime">
						2 Dec 2006, 22:59					</div>
				</div>
				<div class="post-content content">
					<p>I made the buffered JTAG interface with 74HC244 buffer IC but it not worked <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> I dont know why!<br />So decided to make the Xilinx cable with four resistors and it worked <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>The &quot;AT49V162A&quot; flash chip is not supported by the HairyDairyMaid software so I downloaded &quot;CICLaMaB&quot; from <a href="http://www.dlinkpedia.net/software/ciclamab.php">http://www.dlinkpedia.net/software/ciclamab.php</a> and it worked for me.</p><p>COOOOOOL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61684">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">pavko</div>
					<div class="post-datetime">
						14 Jan 2008, 22:04					</div>
				</div>
				<div class="post-content content">
					<p>Could someone please describe me differences between 504T and 504G. Is 504G capable of running OpenWRT? I&#039;m not interested in working DSL - rather I would like to use it as cheap embedded platform.</p><p>Hardware found inside:<br />cpu: conexant gs8120-174-008d<br />flash: at45db161b<br />memory: mira p2v64s40dtp<br />switch: ip175a<br />dsl driver: gs3780-174-001z</p><p>info shown on serial while booting:<br /></p><div class="codebox"><pre><code>Starting POST - V2.0                    
SDRAM ... Passed                
Loader Checksum ... Passed                          
Loader (V2.0) Self-Extracting ... Done                                      
Decompressing UMON (V1.6) ... Done/Activated                                            
Flash AT45DB161 (Capacity=2112K, PageSize=528, TotalPages=4096)                                                               
Testing FILESYS Checksum ... Passed                                   
Testing DSLCODE Checksum ... Passed                                   
Testing APPCODE Checksum ... Passed                                   
Decompressing &quot;TEAppl.gsz&quot; (1119491-&gt;3181824) ... Done                                                      

Text Segment Size  = 2915456 bytes                                  
Data Segment Size  = 266368 bytes                                 
Bss  Segment Size  = 1937264 bytes                                  
System Stack Size  = 16536 bytes                                
HISR   Stack Size  = 16536 bytes                                
NetBuffer Pool Size= 710512 bytes                                 
System Memory Size = 664656 bytes                                 
Start of DSPText   = 207aa8d0 bytes                                   
Decompressing &quot;TEMod.gsz&quot; (169401-&gt;409448) ... Done                                                   
Decompressing &quot;TEDSL.gsz&quot; (72728-&gt;163376) ... Done                                                  

File System Memory Size = 1101824 bytes
UnTar File System \...\..\..\\\....\........\...........\\..........\.....\.....
...................................\.....\....\\......\..\..\...\.\.... Done

Eth MAC (TEManu) : 00 : 0f : 3d : fffffff5 : 11 : fffffff4 :
Eth MAC (Backup) : 00 : 0f : 3d : fffffff5 : 11 : fffffff4 :
USB MAC (TEManu) : 00 : 05 : 5d : 00 : 00 : 04 :
USB MAC (Backup) : ffffffff : ffffffff : ffffffff : ffffffff : ffffffff : ffffff
ff :
USB Backup MAC is Invalid !! Don&#039;t do anything.
Config size = 94, DHCP size = 125
Normal Execution Mode

 CfgInit: System Coming up from Default Configuration
                         *******************
                         Welcome to Viking
                         *******************

Software Release R2.01.B07.XT(030917a/Y1.21.1)
Copyright (c) 2001-2003 by D-Link, Inc.

$
Wed Dec 19 12:43:33 2007 : STATUS ALARM : System Up

$</code></pre></div>											<p class="post-edited">(Last edited by <strong>pavko</strong> on 14 Jan 2008, 23:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61723">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">pavko</div>
					<div class="post-datetime">
						15 Jan 2008, 23:46					</div>
				</div>
				<div class="post-content content">
					<p>Let me answer myself.</p><p>Maybe it is possible to switch to OpenWRT but hardware constrains (2MB flash; 8MB SDRAM) limits sensible use. (Someone may put this info into table of hardware).<br />Info for search engine: DSL-504G vs. DSL-504T</p><p>Photo of the board:<br /><a href="http://img412.imageshack.us/my.php?image=dlinkdsl504gboardpf5.jpg"><span class="postimg"><img src="http://img412.imageshack.us/img412/9484/dlinkdsl504gboardpf5.th.jpg" alt="http://img412.imageshack.us/img412/9484/dlinkdsl504gboardpf5.th.jpg" /></span></a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106709">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cybernoid</div>
					<div class="post-datetime">
						13 Apr 2010, 03:14					</div>
				</div>
				<div class="post-content content">
					<p>hi, all.<br /> few days ago i picked up on the fleamarket for couple $$ some DSL-302G ver.C1, DSL-502T ver.A5, DSL-504G ver.D1. all of them still alive and blinking with their LED&#039;s. i hooked&#039;em up with &quot;console tail&quot; - all good <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>502T have TNETTD7300GDU ARM7 clone CPU 4Mb NAND flash ROM and 16Mb SDRAM<br />302G and 504G have CONEXANT GS8120-174-008D ARM7 clone CPU, 8Mb SDRAM and 2Mb NAND flash ROM</p><p> basically i bought them for capacitors and some smd components, but when i had look on the datasheet of AT45DB161B(302G and 504G)&nbsp; pinout of this chip remind me something very common. 5 minutes of google gave me that interface of this chip is EQUAL to..... SD Card. what does it mean? with some skills, its very possible to replace original microchip with SD Card socket and have as much memory as you want.</p><p> i dont really want to keep them as ADSL modems, even ready to remove DSL front-end, but to use this extremly cheap equipment as Linux device with serial console, ethernet port, USB-slave and possibility to attach one more SD Card via GPIO(instead of LED)should be good.</p><p>what do you think, folks?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>