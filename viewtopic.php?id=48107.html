<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wrt610n v2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p221324">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">chrisjanusz007</div>
					<div class="post-datetime">
						31 Dec 2013, 10:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi:<br />&nbsp; According to this page:<br />&nbsp; <a href="http://wiki.openwrt.org/toh/linksys/wrt610n">http://wiki.openwrt.org/toh/linksys/wrt610n</a></p><p>&nbsp; &nbsp; r36099 should work,&nbsp; I checked out svn attitude_adjustment&nbsp; r36099 and built the image, flash the firmware using web interface. It boot up OK, except that i lost the Ethernet interface:</p><p>[&nbsp; &nbsp; 3.380000] diag: Detected &#039;Linksys WRT610N V2&#039;<br />[&nbsp; &nbsp; 4.472000] roboswitch: Probing device eth0: No such device<br />[&nbsp; &nbsp; 4.476000] roboswitch: Probing device eth1: No such device<br />[&nbsp; &nbsp; 4.480000] roboswitch: Probing device eth2: No such device<br />[&nbsp; &nbsp; 4.488000] roboswitch: Probing device eth3: No such device</p><p>Another&nbsp; thing I am confused is that my &quot;svn info&quot; shows that I have Revision : r36099, but the serial console shows that my openWRT is:</p><p>ATTITUDE ADJUSTMENT (12.09, r36088)</p><p>Why is that?</p><p>Since I have no ethernet in linux, I&nbsp; can NOT flash any other image, I tried go into CFE, and:</p><p>flash -ctheader 192.168.1.100:code.bin flash0.trx</p><p>image transfer OK, but CFE generated exception and reseted the box.</p><p>Can any one shed some lights on me? I am totally stucked on this <br />1. The roboswitch probing problem, any developers can point to me which line of the code fixed problem?So that I can check my local version.</p><p>2. How to load another image?</p><p>Appreciate any help!</p><p>Chris</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221328">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						31 Dec 2013, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>r36099 is a commit in trunk, so it affects BB, not AA version. I&#039;ve no idea how well AA is supposed to support this router.</p><p>You should try installing BB (snapshot / trunk) version.</p><p>For all possible ways of installing firmware with CFE see:<br /><a href="http://wiki.openwrt.org/doc/techref/bootloader/cfe">http://wiki.openwrt.org/doc/techref/bootloader/cfe</a></p><p>It&#039;s normal (Broadcom&#039;s quality) that some methods fail/crash on some routers <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221410">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">chrisjanusz007</div>
					<div class="post-datetime">
						1 Jan 2014, 08:47					</div>
				</div>
				<div class="post-content content">
					<p>Zajec<br />&nbsp; Thank for your reply.<br />&nbsp; I have tried everything with CFE, nothing worked!&nbsp; <br />&nbsp; Luckily the router does have wireless LAN working.&nbsp; &nbsp;I was able to transfer newly build image to the router via wget.<br />And trying to update the firmware</p><p>sysupgrade -v /tmp/mynewfirmware.bin</p><p>But it falied with:</p><p>sysupgrade -v -F openwrt-wrt610n_v2-squashfs.bin<br />Invalid image type. Please use only .trx files</p><p>Give it &quot;-F&quot; to force upgrade, still failed:</p><p>Bad trx header<br />This is not the correct file format; refusing to flash.<br />Please specify the correct file or use -f to force.</p><p>Looks like I am really running out of options..</p><p>Can anybody help?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221419">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						1 Jan 2014, 14:09					</div>
				</div>
				<div class="post-content content">
					<p>What about using this tip: &quot;Invalid image type. Please use only .trx files&quot;? Looks pretty obvious to me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221445">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">chrisjanusz007</div>
					<div class="post-datetime">
						1 Jan 2014, 21:59					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/yikes.png" width="15" height="15" alt="yikes" /><br />I thought I have to use exact image matches to WRT610N_V2, but looks like the &quot;.trx&quot; image works for all brcm47xx based router?<br />Anyway, I upgrade it with BB version(Bleeding edge r39183), it got better, switch chip was detected.</p><p>[&nbsp; &nbsp; 4.690000] bgmac bcma0:1: Found PHY addr: 30 (NOREGS)<br />[&nbsp; &nbsp; 4.700000] bgmac bcma0:1: Support for Roboswitch not implemented<br />[&nbsp; &nbsp; 4.710000] libphy: bgmac mii bus: probed<br />[&nbsp; &nbsp; 4.790000] b53_common: found switch: BCM53115, rev 8<br />[&nbsp; &nbsp; 4.800000] bgmac: Broadcom 47xx GBit MAC driver loaded</p><p>3 interfaces showing up, eth0, eth0.0, eth0.1<br />However, none of them is receiving traffic.&nbsp; &nbsp;dhcp client started on eth0.1 interface:</p><p>udhcpc -p /var/run/udhcpc-eth0.1.pid -s /lib/netifd/</p><p>So I assume that is for &quot;Internet&quot; connection. However, no Rx packets.</p><p>I filed a ticket, but would like to work on it if some one can give some pointer, I googled around and seems this &quot;roboswitch not implemented&quot; was mentioned before and might have been fixed?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221447">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						1 Jan 2014, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>Sharing a link would be nice <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> <a href="https://dev.openwrt.org/ticket/14713">https://dev.openwrt.org/ticket/14713</a><br />This message about Roboswitch doesn&#039;t matter, you can ignore that. Your switch is handled by the b53 driver which was loaded correctly on your device.<br />Swtich BCM53115 rev 8 can also be found in Asus RT-N16, Netgear WNR-3500L, Netgear WNDR3700V3, Linksys E2000 V1. I didn&#039;t hear about any problems with it, I&#039;m not sure what the issue with your device... It should be working <img src="https://forum.openwrt.org/img/smilies/neutral.png" width="15" height="15" alt="neutral" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221454">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">chrisjanusz007</div>
					<div class="post-datetime">
						2 Jan 2014, 01:31					</div>
				</div>
				<div class="post-content content">
					<p>Zajec:<br />&nbsp; Thanks for the support on this ticket.<br />&nbsp; Meanwhile, another beginer&#039;s question, by default, the openwrt built lots of packages(I also included LuCI when make menuconfig). But the result image size is always 3280928 Bytes.&nbsp; Where are all those packages ? they are not included in the rootfs in the image?&nbsp; Does the trx or bin contains the rootfs content at all?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221466">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						2 Jan 2014, 08:07					</div>
				</div>
				<div class="post-content content">
					<p>In &quot;make menuconfig&quot; you choose if package should be included in the image on built as a separated file.<br />[*] ─ built in<br />[m] ─ separated file</p><p>As you should know (or you can check, for example on <a href="http://wiki.openwrt.org/doc/packages)">http://wiki.openwrt.org/doc/packages)</a> packages are .ipk files. Have you tried finding them?<br />find ./ -name *.ipk</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>