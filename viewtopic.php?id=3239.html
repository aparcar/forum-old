<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Serial port to WGT634U with MAX3222CPN, help needed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p15246">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">is95kiko</div>
					<div class="post-datetime">
						11 Nov 2005, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>Hello</p><p>I would like to solder one or two serial ports to the WGT634U.<br />I know that it&#039;s possible with MAXIM 232? as described in <a href="http://gallery.nomis52.net/albums/album48/interface.png">http://gallery.nomis52.net/albums/album48/interface.png</a></p><p>My problem is that I only have MAXIM MAX3222CPN chips and I would like to know how to use those.<br />Pinout of the chip is described here: <a href="http://www.avocetsystems.com/chipdir/pinusr/max3222cpn.txt">http://www.avocetsystems.com/chipdir/pi â€¦ 222cpn.txt</a></p><p>I found some instructions how to build RS port with but WGT634U does not have RTS and CTS signals described in the picture of the circuit, how should I connect those? Just not connect?<br />Circuit: <a href="http://www.waz.org.uk/gamedev/pics/dccircuit01.gif">http://www.waz.org.uk/gamedev/pics/dccircuit01.gif</a></p><p>Can I use only one MAX 3222CPN chip to build both serial ports, using connectors T1IN, T1OUT, R1IN and R1OUT for the first serial port and connectors T2IN, T2OUT,&nbsp; R2IN and R2OUT for the second one?</p><p>Regards<br />Kimmo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15282">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">is95kiko</div>
					<div class="post-datetime">
						12 Nov 2005, 13:46					</div>
				</div>
				<div class="post-content content">
					<p>To answer to myself, yes, using MAX 3222CPN works.</p><p>I have now soldered both serial ports to the router but only ttyS1 seems to work. <br />I had to solder header pins to the router circuitboard, there were header only for ttyS1.</p><p>Kernel only mentions that IRQ 3 is for serial:<br /># cat /proc/interrupts<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPU0<br />&nbsp; 2:&nbsp; &nbsp; 4915283&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; ath0, ehci_hcd, usb-ohci, usb-ohci<br />&nbsp; 3:&nbsp; &nbsp; &nbsp; &nbsp;4482&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; serial<br />&nbsp; 4:&nbsp; &nbsp; &nbsp; &nbsp; 142&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; eth0<br />&nbsp; 7:&nbsp; &nbsp; &nbsp;123209&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MIPS&nbsp; timer</p><p>ERR:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><p>And the ERR: 0. But there is no IRQ 4 which should be there for ttyS0?</p><p>Any ideas, is the second serial port disabled by hardware or just something else?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18197">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Xnaron</div>
					<div class="post-datetime">
						3 Jan 2006, 07:01					</div>
				</div>
				<div class="post-content content">
					<p>Did you ever find the answer for this?&nbsp; I would be interested to know as I am trying to use two serial ports with my wrt54gs as well.&nbsp; In one of the mini how-to&#039;s I read that both serial ports share irq 3.</p><p>Brendin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21285">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hitek146</div>
					<div class="post-datetime">
						21 Feb 2006, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>I have both serial ports working on one of my WGTs.&nbsp; It is programmed to be a &quot;programmer&quot;, in that the tts1 interface is connected to another &quot;factory&quot; WGT&#039;s tts1 to program it.&nbsp; I can still get a shell on tts0, but only at 9600 baud...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21287">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Xnaron</div>
					<div class="post-datetime">
						21 Feb 2006, 21:45					</div>
				</div>
				<div class="post-content content">
					<p>I have now done the serial port mod on my wrt54gs and both serial ports are available and useable.</p><p>Brendin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21478">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">pEEf</div>
					<div class="post-datetime">
						24 Feb 2006, 07:39					</div>
				</div>
				<div class="post-content content">
					<p>I was able to get both ports working in a WGT634U too.&nbsp; (Using one MAX233)</p><p>You can&#039;t use any of the enhanced signalling, (CTS, RTS, DTR, DCR, etc) because these are not present on the header.</p><p>Just make sure you choose NO software or hardware flow control on whatever you connect to these ports!</p><p>So in summary, you only need 2 lines per port, RXD and TXD.&nbsp; Usually, There are at least 2 input buffers and 2 output drivers on the smallest of serial converters, so this is perfect for 2 plain ports.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>