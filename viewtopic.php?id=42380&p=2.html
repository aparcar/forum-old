<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tp-Link td-w8970</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Mar 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 16</div><nav><ul><li><a href="viewtopic.php%3Fid=42380&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=42380&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=16.html">16</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p224470">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">openwrtuserx</div>
					<div class="post-datetime">
						3 Feb 2014, 21:23					</div>
				</div>
				<div class="post-content content">
					<p>I have recently flashed and tested the two precompiled images which are linked here:<br />1. <a href="http://ecco.selfip.net/trunk/lantiq/">http://ecco.selfip.net/trunk/lantiq/</a><br />2. <a href="https://drive.google.com/folderview?id=0B3ZoWoxOuVdsZnRwUTh2SklvTWM&amp;usp=sharing">https://drive.google.com/folderview?id= … sp=sharing</a></p><p>Everything worked as expected except my DSL (PPPoA) connection works only with the first image.<br />Although there is some additional bin image for the DSL driver in the Google-Drive folder, I&#039;m not quite sure how to flash it or include it into my own build. I already compiled a working image from trunk, but with the same problem mentioned above.</p><p>So can anyone tell me please how to compile an image from latest sources <strong>with working ADSL</strong>?</p><p>thx in advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224745">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">openwrtuserx</div>
					<div class="post-datetime">
						7 Feb 2014, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>Finally I managed to solve this problem myself. I thought it would require a rather complex solution, but it wasn&#039;t that difficult in the end. I only had to include the DSL firmware image into the buildroot (/lib/firmware/vdsl.bin).</p><p>I didn&#039;t get that in the first place as I&#039;m quite new to OpenWRT <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>openwrtuserx</strong> on 7 Feb 2014, 12:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225673">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">ultratoto14</div>
					<div class="post-datetime">
						18 Feb 2014, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi All, can one of you tell me if the average ping time is the same with openwrt as the vendor firmware on this W8970.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225934">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">z3non</div>
					<div class="post-datetime">
						21 Feb 2014, 14:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi all, hi lpm11</p><div class="quotebox"><cite>lpm11 wrote:</cite><blockquote><p>&quot;Firstly - DO NOT upgrade to the 28.08.2013 (or newer) firmware on TP-Link website. It has modified u-boot, and applies a NEW UNKNOWN header - first byte is 0x03. We don&#039;t know how is it working. &quot; - this is the problem. TP-Link introduced a new format of image files. It is diffrent than in other TP-Link firmwares, so that is the reason we can&#039;t do the correct image file, upgradable by http.</p></blockquote></div><p>Is my understanding right, that it is basically possible to install OpenWrt via the web interface, as long the firmware is not upgraded to the version of 28.8.2013 or newer ? (mine is 0.6.0 2.1 v000c.0 Build 130415 Rel.34164n).</p><p>I tried to install the available openwrt images via the stock web interface with no success. (openwrt-lantiq-xrx200-TDW8970-sysupgrade.image, openwrt-lantiq-xrx200-TDW8970-sysupgrade_v39435.image and openwrt-lantiq-xrx200-TDW8970-sysupgrade_v39586_EXPERIMENTAL_usb3.image). With all of them I get the following error:</p><div class="codebox"><pre><code>Error code: 4503
The uploaded file was not accepted by the device.</code></pre></div><p>Am I missing something here or is serial access (soldering) and deploying the image via tftboot also necessary with the old firmware version?</p><p>If there are no compatible (http-installable) images available on the web, can anyone give me some short hints on how to build one on my own?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229287">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">toni.perez.figols</div>
					<div class="post-datetime">
						5 Apr 2014, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>Well, it&#039;s safe to upgrade to OpenWRT or has comlts problems?</p><p>openwrtuserx, which is the process to install openwrt?</p>											<p class="post-edited">(Last edited by <strong>toni.perez.figols</strong> on 6 Apr 2014, 13:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229659">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">Zack75</div>
					<div class="post-datetime">
						9 Apr 2014, 07:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi RyLoS,</p><p>Thanks for your compiled image.&nbsp; it worked good for me.&nbsp; One question, is the latest one contain the switch support?.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229663">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">toni.perez.figols</div>
					<div class="post-datetime">
						9 Apr 2014, 09:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi openwrtuserx;</p><p>How to add dsl module? And How to install firmware 2. <a href="https://drive.google.com/folderview?id=0B3ZoWoxOuVdsZnRwUTh2SklvTWM&amp;usp=sharing?">https://drive.google.com/folderview?id= … p=sharing?</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229982">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">toni.perez.figols</div>
					<div class="post-datetime">
						12 Apr 2014, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>Exist web image to install via web interface? Please can I help me?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231219">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">kyraxyg</div>
					<div class="post-datetime">
						24 Apr 2014, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I have bought this modem to complete my network 1043nd, 740nd, 842n network. But mine came with 0.6.0 2.8 v000c.0 Build 130828 Rel.38099n firmware. </p><p>So is there a way to downgrade this firmware version or am i stuck with a non-openwrtable modem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232948">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">tsis</div>
					<div class="post-datetime">
						10 May 2014, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>good afternoon </p><p>you can upgrade to this firmware if you have the last upgrade of tplink? </p><p>0.6.0 Build 130828 2.8 v000c.0 Rel.38099n is my firmware and hard TD-W8970 v1 00000000</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232953">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						10 May 2014, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>at the moment you could only upgrade via TTL serial connection and uboot.</p><p>new tplink firmware header is unknown AFAIK</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 10 May 2014, 15:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232965">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">tsis</div>
					<div class="post-datetime">
						10 May 2014, 17:50					</div>
				</div>
				<div class="post-content content">
					<p>thanks nebbia88&nbsp; &nbsp;for replying </p><p>which is the correct procedure? and firmware?</p><br /><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232966">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						10 May 2014, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>did you read page 1 of this topic?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232967">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">jimasek</div>
					<div class="post-datetime">
						10 May 2014, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>I have problem witch ADSL synchronization on my W8970<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc/init.d# ./dsl_control lucistat
local dsl={}
dsl.chipset=&quot;Lantiq-VRx n&quot;
dsl.line_state_num=0xff
dsl.line_state_detail=&quot;idle request&quot;
dsl.line_state=&quot;DOWN&quot;
dsl.data_rate_down=0
dsl.data_rate_up=0
dsl.data_rate_down_s=&quot;0 b&quot;
dsl.data_rate_up_s=&quot;0 b&quot;
dsl.line_attenuation_down=0.0
dsl.line_attenuation_up=0.0
dsl.noise_margin_down=0.0
dsl.noise_margin_up=0.0
dsl.line_uptime=0
return dsl </code></pre></div><p>WAN configuration:</p><div class="codebox"><pre><code>config atm-bridge &#039;atm&#039;
    option vpi &#039;0&#039;
    option vci &#039;35&#039;
    option payload &#039;bridged&#039;
    option encaps &#039;vc&#039;

config interface &#039;wan&#039;
    option ifname &#039;nas0&#039;
    option proto &#039;pppoa&#039;
    option username &#039;internet&#039;
    option password &#039;internet&#039;
    option encaps &#039;vc&#039;
    option vpi &#039;0&#039;
    option vci &#039;35&#039;
    option ipv6 &#039;1&#039;
    option macaddr &#039;a0:f3:c1:ff:9f:83&#039;

config interface &#039;wan6&#039;
    option ifname &#039;@wan&#039;
    option proto &#039;dhcpv6&#039;

config vdsl &#039;dsl&#039;
    option annex &#039;a&#039;
    option firmware &#039;/lib/firmware/vdsl.bin&#039;
    option tone &#039;av&#039;
    option xfer_mode &#039;ptm&#039;</code></pre></div><br /><p>Any suggestions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235543">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">z3non</div>
					<div class="post-datetime">
						3 Jun 2014, 20:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lpm11 wrote:</cite><blockquote><p>Could you help me to connect UART to this modem? I have connected TX,RX,GND, diodes are lighting on USB TTL adapter, but nothing appears on console <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />( The same in other modem shows everything. What&#039;s going on?</p></blockquote></div><p>Hi there!</p><p>I managed to solder connection pins to the board and connect a CP2102 based usb2serial adapter. I&#039;m trying to connect to the console after powering up the board (using &quot;screen /dev/ttyUSB0 115200 8N1&quot; or CuteCom). As mentioned by lpm11 also in my case nothing appears on the screen. The RX diode is blinking on the usb adapter while the device boots. When I send an input through the console, the TX diode is blinking, but again nothing to see. From the blinking diodes I conclude the connection should be right. What else can be wrong?</p><p>I don&#039;t have an opportunity currently to test the adapter with a different router, but it seems ok to me. Am I missing something? It&#039;s my first time, any hints would be very welcome. btw, I also had connected the 3,3V voltage pin in the beginning, hope I didn&#039;t fry anything but so far the route is still working ..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235776">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">VS228</div>
					<div class="post-datetime">
						5 Jun 2014, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>I am using the TP-Link W8970 for an Airtel ADSL connection in India currently. It is working fine.</p><p>I am switching to a Tata Docomo connection which provides connecting via an ethernet cable. Is it possible to use PPPoE via the WAN port of the router? Is there a firmware which will enable me to achieve this?</p><p>Any help is greatly appreciated.</p><p>VS228</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237648">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">Jabberwocky</div>
					<div class="post-datetime">
						22 Jun 2014, 03:18					</div>
				</div>
				<div class="post-content content">
					<p>OK, first at all, comppletly newbie to OPENWRT... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I screw up updating to TD-W8970_V1_140613, I was having freezing issues every day and support&nbsp; tells me to try new firmware, again the same crap, still freezing once a day.<br />There is a way to test OPENWRT via serial console in my version?? I know that this mew version have someting unknow but is still posible use OPENWRT ???</p><p>If not I&#039;ll use a nice paperweights in my desk <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Best regard</p>											<p class="post-edited">(Last edited by <strong>Jabberwocky</strong> on 22 Jun 2014, 03:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237650">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Jun 2014, 06:35					</div>
				</div>
				<div class="post-content content">
					<p>if you flash from serial then your current firmware does not make any difference.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237930">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">Riffer</div>
					<div class="post-datetime">
						24 Jun 2014, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>I have a </p><p>Firmware Version:0.6.0 2.5 v000d.0 Build 140320 Rel.67818n<br />Hardware Version:TD-W8970B v1 00000000</p><p>on my Desk. Is this the same hardware as this (<a href="http://wiki.openwrt.org/toh/tp-link/td-w8970">http://wiki.openwrt.org/toh/tp-link/td-w8970</a>) one?</p><p>In case it is I think I can only flash to OpenWrt with TTL serial, right?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237977">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">Riffer</div>
					<div class="post-datetime">
						25 Jun 2014, 11:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>VS228 wrote:</cite><blockquote><p>I am using the TP-Link W8970 for an Airtel ADSL connection in India currently. It is working fine.</p><p>I am switching to a Tata Docomo connection which provides connecting via an ethernet cable. Is it possible to use PPPoE via the WAN port of the router? Is there a firmware which will enable me to achieve this?</p><p>Any help is greatly appreciated.</p><p>VS228</p></blockquote></div><p>Afaik you only have to turn the device to another mode. Should not be the problem with the original firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242876">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">DarioX7</div>
					<div class="post-datetime">
						5 Aug 2014, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>Any progress?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242886">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">sigma</div>
					<div class="post-datetime">
						6 Aug 2014, 01:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi there,</p><p>i&#039;m using an w8970 Router, and I am very happy with your work on the OpenWRT-Firmware!<br />Now I have a question. Is there a Firmware or a driver to use the internal switch for routing?<br />I have read someting about it on an other website, but the link to the driver was down..<br />Has somebody experience with using the internal switch for routing/different vlans?<br />I would be happy about all info i can get!</p><p>regards Sigma</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244711">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">JinInRage</div>
					<div class="post-datetime">
						24 Aug 2014, 04:52					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys,</p><p>I got the same problem... <br />Nothing appears on the screen.But the connection is ok because I can stop booting but when I want to load the firmware by tftp nothing happens.I captured the network with wireshark... The router doesn&#039;t send any requests <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <br />I&#039;ve got the W8970B with the first firmware TD-W8970B_V1_130918.What can I do ? I want OpenWRT <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />(<br />Are the B-firmwares the problem ? If yes, can I install a non-B firmware ??</p><p>Regards Matt</p><p>EDIT: What about JTAG ?? Does anybody know if i can install OpenWRT over JTAG ?</p>											<p class="post-edited">(Last edited by <strong>JinInRage</strong> on 24 Aug 2014, 05:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244731">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">sigma</div>
					<div class="post-datetime">
						24 Aug 2014, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi JinInRage,<br />i don&#039;t know if i can help you, but i will try.</p><p>Is your TFTP-Server running on a windows system?<br />I had also problems with TFTP under windows... After I used a TFTP-server on a linux-system it has worked perfect for me...<br />Perhaps this is the solution you are searching for.</p><p>kind regrads</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244741">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">JinInRage</div>
					<div class="post-datetime">
						24 Aug 2014, 14:39					</div>
				</div>
				<div class="post-content content">
					<p>Yes it&#039;s running on windows.<br />Ok I will try and hope it works...</p><p>Regards Matt</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 16</div><nav><ul><li><a href="viewtopic.php%3Fid=42380&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=42380&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=42380&amp;p=16.html">16</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>