<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> AR7 - motorola 3347 - have serial interface. same as telnet.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p75572">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cwatkins</div>
					<div class="post-datetime">
						30 Oct 2008, 02:21					</div>
				</div>
				<div class="post-content content">
					<p>I would think this goes in the wiki, but I don&#039;t know..</p><p>So, I was expecting to get ADAM2 or another bootloader when I finally got the serial port working.<br />BTW, that was not posted, so it took me awhile to figure out.<br />J5 is a 4 solder point strip, the J2 appears to be jtag<br />Left to right with antenna on left, (upside down from writing)<br />1 square GND - Obvious<br />2 Trx<br />3 ?voltage?<br />4 Rec</p><p>took a 3.3 serial cable.Ah, and was at 57600..</p><br /><p>Now, where&#039;s the problem, I didn&#039;t see any of the bootloaders.&nbsp; Tried all sorts of keys, the button, etc.<br />and All I get is the same SOC OS prompt with netopia that you get from telnet.<br />And, of course&#039; then nothing will load.<br />Although, I have done buils for ar7 and even adm5120.<br />Now I know if I get this thing to work it will suck because of no decent acx driver;<br />But I&#039;m making a issue with qwest and adsl quality and I need to hammer it out and<br />was hoping this would work.</p><p>Anyway, in any case I have board Id and such; with qwest handing these out for all their<br />decent level dsl; I woud think there would be interest in getting them working..</p><p>I know this was asked recently and the answer was just ar7, but does anyone know of a working<br />openwrt wireless/adsl2+/router/bridge/switch that works?&nbsp; or do we all face the acx issue?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75579">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cwatkins</div>
					<div class="post-datetime">
						30 Oct 2008, 04:44					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I just want to correct the serial port from the left itls gnd,?,tx,rc.</p><p>And again snagging from the serial port, its only the soc os, and it&#039;s a infineon PSB7200ZDW (7200ZDW AR7)</p><p>but there&#039;s NO ADAM2 or PSP BOOTLOADER!!<br />It&#039;s DRIVING ME BATTY</p><p>IS it possible it&#039;s got boot pause unset or something?&nbsp; How in the heck can I clear that?<br />Netopia-3000/136441737568&gt; status</p><p>Netopia Model 3347-02 AnnexA High-Power Wireless DSL Ethernet Managed Switch<br />Running Netopia SOC OS version QM01-7.7.4 (build r10)<br />Multimode ADSL Capable<br />(admin completed login: Full Read/Write access)<br />Serial number 136441737568, CPU MIPS4KEC, Board ID 0xe4<br />System Log Message counts:<br />&nbsp; Low 0, Medium 0, High 56, Alerts 13, Lost 0, Total 69<br />Uptime 00:00:01:30</p><p>The serial port looks exactly like the telnet login..<br />control C, break on boot, yields NOTHING!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75583">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dgi</div>
					<div class="post-datetime">
						30 Oct 2008, 06:36					</div>
				</div>
				<div class="post-content content">
					<p>If the device does not already have some form of Linux on it, don&#039;t expect it to have a Linux bootloader. That said, it may be possible to force OpenWRT onto it anyway, assuming the device is little-endian, and has enough RAM and flash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75586">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">cwatkins</div>
					<div class="post-datetime">
						30 Oct 2008, 08:03					</div>
				</div>
				<div class="post-content content">
					<p>Right, I guess I&#039;m just expecting any kind of a shell like ADAM2 or such.</p><p>So, then theoretically J-PORT or getting a properly setup image that SOC OS accepts<br />is the only option?</p><p>So, the serial port must be on a no boot wait? and have nothing like ADAM loaded?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75620">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						30 Oct 2008, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>What messages are printed before the login prompt? Is there a &quot;shell&quot; command after you login to get to a shell prompt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75621">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						30 Oct 2008, 22:37					</div>
				</div>
				<div class="post-content content">
					<p>What messages are printed before the login prompt? Is there a &quot;shell&quot; command after you login to get to a shell prompt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75703">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">cwatkins</div>
					<div class="post-datetime">
						1 Nov 2008, 17:41					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not by it to do an example; but ALL I see is the login prompt *JUST* like when I telnet,<br />then there is a shell to SOC OS, but that is the fully booted OS.&nbsp; In fact, it boots sick fast, like under 3 seconds.<br />So, I assume it&#039;s loading some 2 meg image and executing.<br />I can use the reset switch, that clears the eeprom settings for soc os..&nbsp; I have to reset the password at that point.<br />(In the serial port or through telnet.)</p><p>So; I had one idea;&nbsp; is the serial port possibly setup just to be a tty and JTAG is the only way to change<br />the firmware image... ?</p><p>That would be a great idea for huge companies like qwest to keep people like us from hacking/changing it.</p><p>So to summarize:<br />Reset/power on/etc = same exact output on serial port as is when one telnet&#039;s.</p><p>I&#039;ve tried, control-c, break, various things in various spots in the poweron process, etc.</p><p>I can &quot;INSTALL&quot; a firmware image with soc os, but *NOTHING* passes the verification, even<br />3347-02-1006 firmware&#039;s that aren&#039;t qwest.&nbsp; There is no way to see what needs to maybe<br />be put in the front of the image, because at this point, NO qwest 3347-02 firmware upgrade is available,<br />or the current one for download, etc..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75814">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">cwatkins</div>
					<div class="post-datetime">
						3 Nov 2008, 15:44					</div>
				</div>
				<div class="post-content content">
					<p>So bumb?!?<br />I&#039;d really like to use just DSL portion of this thing...<br />I know the acx thing is hosed and that&#039;s ok, because I have other boxes to just<br />do the wireless that are N.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76449">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">sw</div>
					<div class="post-datetime">
						14 Nov 2008, 19:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cwatkins wrote:</cite><blockquote><p>I know this was asked recently and the answer was just ar7, but does anyone know of a working<br />openwrt wireless/adsl2+/router/bridge/switch that works?&nbsp; or do we all face the acx issue?</p></blockquote></div><p>acx works with kernel 2.6.27.x. You will need the latest version of acx git.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p76689">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">cwatkins</div>
					<div class="post-datetime">
						18 Nov 2008, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>Everything worked; loaded etc, but all I got was repeated errors etc, are you saying that<br />the latest openwrt kernel rev is not new enough to use with the latest acx?<br />I thought it was feb some time; I used do you have a link for it if it&#039;s different?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117772">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">speedercat</div>
					<div class="post-datetime">
						24 Sep 2010, 05:54					</div>
				</div>
				<div class="post-content content">
					<p>Were you able to get OpenWRT loaded on this?&nbsp; I had a look at some of the 3347 upgrade binaries (oddly sized at 0x200100) and saw some snippets like the following:</p><div class="codebox"><pre><code>inflate 1.1.4 Copyright 1995-2002 Mark Adler</code></pre></div><p>suggesting what was used to pack the binary, and</p><div class="codebox"><pre><code>ELXR 3.5 (c) 2001 Green Hills Software    Build: Feb  7 2002.Link Date:.Tue Jun 26 03:10:42 2007.Host OS:.GHS_WIN32.Release:.MULTI 2000, MIPS v3.5</code></pre></div><p>illustrating what the toolchain used to compile was.<br />However, I didn&#039;t see any way to load OpenWRT or a better bootloader on the device, though I haven&#039;t tried JTAG yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187506">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dgi</div>
					<div class="post-datetime">
						31 Dec 2012, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>I have a JTAG dump of the entire flash, supplied to me by someone on IRC. It doesn&#039;t provide any further clues.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>