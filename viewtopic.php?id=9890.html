<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Perl problems with backticks and large amounts of output</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p44471">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cobar</div>
					<div class="post-datetime">
						15 Mar 2007, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>I recently ran into a problem where whenever I would call a shell command using backticks in perl, the program would hang and never exit.&nbsp; I spent a good bit of time tracking down the source of the problem and it turns out that if your shell command returns more than 4096 bytes of output (1 page of memory), microperl doesn&#039;t know what to do and just sits there and hangs.</p><p>I have several scripts for parsing wireless survey results that are written in perl and generate large amounts of output.&nbsp; Does anyone know of a way to workaround this problem or compile microperl with some sort of option that will allow more output?&nbsp; Even trying to use system() and sending the output to a text file that I can read from doesn&#039;t work.&nbsp; The best solution would be one that fixes perl itself rather than changing my scripts, so that if there are any other places in the code that generate lots of output, they&#039;ll work without changing anything.</p><p>ls -l /tmp/sample.txt<br />-rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4181 Jan&nbsp; 1 00:50 sample.txt</p><p>perl code (note that this is just sample code to illustrate the problem):<br />print `cat /tmp/sample.txt`; # hangs<br />system(&#039;cat /tmp/sample.txt&#039;); # works<br />system(&#039;cat /tmp/sample.txt &gt; /tmp/copy.txt&#039;); # hangs</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>