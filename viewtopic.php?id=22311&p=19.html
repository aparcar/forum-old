<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WNDR3700 exploration</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Oct 2014 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 19 of 20</div><nav><ul><li><a href="viewtopic.php%3Fid=22311&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=22311&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=22311&amp;p=18.html">18</a></li><li class="pagination-current"><span>19</span></li><li><a href="viewtopic.php%3Fid=22311&amp;p=20.html">20</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p119087">
				<div class="post-metadata">
					<div class="post-num">Post #451</div>
					<div class="post-author">jake1981</div>
					<div class="post-datetime">
						15 Oct 2010, 05:26					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ll check back with you kj0 when I come from work at evening. I sure do have a working netatalk/afpd configuration..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119105">
				<div class="post-metadata">
					<div class="post-num">Post #452</div>
					<div class="post-author">mag81</div>
					<div class="post-datetime">
						15 Oct 2010, 14:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ronzo wrote:</cite><blockquote><p>I am running Backfire 10.03.1 (build 20728) on my WNDR3700 for quite a while now...</p><p>What I noticed is, that establishing a wifi connection takes much longer as with my OpenWRT-device before (Linksys). Obtaining an IP address by DHCP takes also longer. [...]</p><p>Can anyone confirm this problem? Does anyone know more about it?</p></blockquote></div><p>The same problem with several versions.<br />Long time for establishing the wifi-connection and annoying long time to get an DHCP-answer.. :-/ Maybe about a minute.. <br />The WRT54g with openwrt Kamikaze does this within a second.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119109">
				<div class="post-metadata">
					<div class="post-num">Post #453</div>
					<div class="post-author">bbarrett</div>
					<div class="post-datetime">
						15 Oct 2010, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>Yes, same problems with slow connects.&nbsp; Also random wireless &quot;drops&quot; (the wireless link is up, but the router stops responding on wireless ports).&nbsp; I&#039;ve tried several builds over the last 6 months, and each time I (very reluctantly) end up going back to the factory firmware.&nbsp; I&#039;ve taken to watching for promising sounding patches on the ath9k driver.&nbsp; There&#039;s been some in the last couple weeks, and I haven&#039;t had a chance to retest.</p><p>There has been some speculation that older hardware revisions of the router are more prone to the wireless issues.&nbsp; I don&#039;t know how strong the evidence is.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119121">
				<div class="post-metadata">
					<div class="post-num">Post #454</div>
					<div class="post-author">ronzo</div>
					<div class="post-datetime">
						15 Oct 2010, 19:48					</div>
				</div>
				<div class="post-content content">
					<p>What&#039;s the easiest way of going back to the original Netgear firmware?</p><p>Can I simply download the latest firmware (WNDR3700-V1.0.4.68) for the device and flash it using the LuCi &#039;flash firmware&#039; page? How did you do it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119127">
				<div class="post-metadata">
					<div class="post-num">Post #455</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						15 Oct 2010, 21:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ronzo wrote:</cite><blockquote><p>What&#039;s the easiest way of going back to the original Netgear firmware?</p><p>Can I simply download the latest firmware (WNDR3700-V1.0.4.68) for the device and flash it using the LuCi &#039;flash firmware&#039; page? How did you do it?</p></blockquote></div><p>Flash via TFTP. The method is described earlier in this thread.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119559">
				<div class="post-metadata">
					<div class="post-num">Post #456</div>
					<div class="post-author">DocterD</div>
					<div class="post-datetime">
						23 Oct 2010, 01:20					</div>
				</div>
				<div class="post-content content">
					<p>Could anyone provide an recent custom build of OpenWRT with force regdomain on?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120573">
				<div class="post-metadata">
					<div class="post-num">Post #457</div>
					<div class="post-author">SRG</div>
					<div class="post-datetime">
						7 Nov 2010, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />I&#039;ve just bought this router and was willing to install OpenWRT.<br />I don&#039;t know where it goes wrong but now i&#039;m totally stuck ...<br />I installed the OpenWRT last release in the first place with no problem, entered the admin zone, but after the first reboot : no more DHCP, unable to go back to the Luci console, no ping on 192.168.1.1 from my computer (and i really don&#039;t know why).</p><p>So i tried to restore the original firmware but it&#039;s a big failure too. <br />Am i doing something wrong ?</p><p>Here is the image i try to reapply : 6160577 2010-11-07 15:41 WNDR3700-V1.0.4.68.img</p><p>On my computer i unplug eth cable, turn off wifi and enter (eth3 is my ethernet link) :<br /></p><div class="quotebox"><blockquote><p>sudo ifconfig eth3 down<br />sudo ifconfig eth3 192.168.1.2 netmask 255.255.255.0 up</p></blockquote></div><p>ifconfig seems ok.<br />Then i ping ping 192.168.1.1, i press the reset factory button and i turn on the router :</p><div class="quotebox"><blockquote><p>From 192.168.1.2 icmp_seq=58 Destination Host Unreachable<br />From 192.168.1.2 icmp_seq=59 Destination Host Unreachable<br />From 192.168.1.2 icmp_seq=60 Destination Host Unreachable<br />40 bytes from 192.168.1.1: icmp_seq=61 ttl=64 (truncated)<br />40 bytes from 192.168.1.1: icmp_seq=62 ttl=64 (truncated)<br />40 bytes from 192.168.1.1: icmp_seq=63 ttl=64 (truncated)</p></blockquote></div><p>Until here everything seems ok, but then i try what is in the guideline (the router led is blinking as a green led) :</p><div class="quotebox"><blockquote><p>tftp<br />tftp&gt; verbose<br />Verbose mode on.<br />tftp&gt; trace<br />Packet tracing on.<br />tftp&gt; rexmt<br />(value) binary<br />tftp&gt; connect 192.168.1.1<br />Connected to 192.168.1.1 (192.168.1.1), port 69<br />tftp&gt; put WNDR3700-V1.0.4.68.img<br />putting WNDR3700-V1.0.4.68.img to 192.168.1.1:WNDR3700-V1.0.4.68.img [netascii]<br />sent WRQ &lt;file=WNDR3700-V1.0.4.68.img, mode=netascii&gt;</p></blockquote></div><p>After the &quot;sent WRQ&quot; i don&#039;t have back the tftp command line (sounds strange).<br />Nothing happens on the router even after 5~10 minutes (still blinks).<br />If i try again to tftp it seems to work again ... but tftp seems pretty strange, it seems able to &quot;connect&quot; on any asdress (even non-existing ones) :</p><div class="quotebox"><blockquote><p>tftp <br />tftp&gt; verbose<br />Verbose mode on.<br />tftp&gt; trace<br />Packet tracing on.<br />tftp&gt; connect 192.168.1.1<br />Connected to 192.168.1.1 (192.168.1.1), port 69<br />tftp&gt; quit</p></blockquote></div><p>Is there something wrong in my command lines ?<br />Any help would be really appreciated &#039;cause i really don&#039;t know what to do now (and i&#039;ve bought this router &#039;cause the previous one (Dlink DGL-4300) suddenly died (does&#039;nt turn on anymore).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120578">
				<div class="post-metadata">
					<div class="post-num">Post #458</div>
					<div class="post-author">SRG</div>
					<div class="post-datetime">
						7 Nov 2010, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>Ok first mistake : i was following line by line the indications here : <a href="http://wiki.openwrt.org/toh/netgear/wndr3700">http://wiki.openwrt.org/toh/netgear/wndr3700</a> , and there is a little type rexmt asks for a value and the answer is not &quot;binary&quot; (which is another command) (sounds pretty obious but i&#039;m new to tftp ...).<br />Without inputing rexmt the firmware is indeed well sent (sending traces shown on tftp console). I&#039;m waiting for the router to reboot now, let&#039;s see how things are going in 5 minutes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120825">
				<div class="post-metadata">
					<div class="post-num">Post #459</div>
					<div class="post-author">rageeb</div>
					<div class="post-datetime">
						11 Nov 2010, 16:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ronzo wrote:</cite><blockquote><p>What&#039;s the easiest way of going back to the original Netgear firmware?</p><p>Can I simply download the latest firmware (WNDR3700-V1.0.4.68) for the device and flash it using the LuCi &#039;flash firmware&#039; page? How did you do it?</p></blockquote></div><p>Run the firmware recovery included on the cd that came with your router.</p><p>Instructions<br />Turn off the router. Now turn it on whilst holding in the reset button on the bottom. Wait until the power light starts blinking slowly and release. Now run the recovery utility from the CD and you&#039;re good to go.</p><div class="quotebox"><cite>DocterD wrote:</cite><blockquote><p>Could anyone provide an recent custom build of OpenWRT with force regdomain on?</p></blockquote></div><p>+1 . It would be a real help to those that are having problems compiling our own. I managed to get it working but no 5ghz due to the regdomain restriction..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120866">
				<div class="post-metadata">
					<div class="post-num">Post #460</div>
					<div class="post-author">ccdoggy</div>
					<div class="post-datetime">
						12 Nov 2010, 05:12					</div>
				</div>
				<div class="post-content content">
					<p>So after encountering an un-fixable kernel panic from dd-wrt (which no one else was having, only happened when running samba or transmission) I am about to give openwrt a shot.</p><p>For the past few days i have been working with the build configure to nail down exactly what i want/need in the configuration.&nbsp; But I am having a problem with determining the size of image i am shooting for and how that effects the jffs2 or squashfs versions.&nbsp; currently I have the jffs2 at 7.4 megs and the squashfs at 5.4 megs.&nbsp; I could add a few more apps to the image if i could get the squash up on space but not sure how it takes up space once uploaded (if it uncompressed or something to take up more space).&nbsp; </p><p>What is the max size for a squashfs .img file am i looking for?</p><br /><p>Also is there still a problem with the DHCP not handing out an IP address within a reasonable amount of time?</p><br /><p>Any help would be much appreciated.</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>ccdoggy</strong> on 12 Nov 2010, 05:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120886">
				<div class="post-metadata">
					<div class="post-num">Post #461</div>
					<div class="post-author">DocterD</div>
					<div class="post-datetime">
						12 Nov 2010, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>Regdomain seems to be broken in the current SVN Version (23969).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120888">
				<div class="post-metadata">
					<div class="post-num">Post #462</div>
					<div class="post-author">rageeb</div>
					<div class="post-datetime">
						12 Nov 2010, 13:32					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think it&#039;s broken. 5ghz was disabled to comply with certain laws or something iirc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120889">
				<div class="post-metadata">
					<div class="post-num">Post #463</div>
					<div class="post-author">DocterD</div>
					<div class="post-datetime">
						12 Nov 2010, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>Nope, 5GHZ works but not every channel. Without Regdomain I can only access channel 36,40,44 and 48. With Regdomain and Countrycode DE additionally 120,124 and 128. Use &quot;iw list&quot; to check which channel you can use.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120910">
				<div class="post-metadata">
					<div class="post-num">Post #464</div>
					<div class="post-author">rageeb</div>
					<div class="post-datetime">
						12 Nov 2010, 17:37					</div>
				</div>
				<div class="post-content content">
					<p>really? weird - i have 0 channels - it&#039;s not even an option. cant get it to turn at all. where&#039;d you get your firmware from?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120962">
				<div class="post-metadata">
					<div class="post-num">Post #465</div>
					<div class="post-author">markjtrickey</div>
					<div class="post-datetime">
						13 Nov 2010, 03:10					</div>
				</div>
				<div class="post-content content">
					<p>Trying to configure a guest wireless network (guest SSID should only have access to the Internet) via a second SSID on the wireless 0 interface. I&#039;m running &#039;OpenWrt Backfire 10.03&#039; with Luci for the GUI interface. I understand I need make some changes with VLANS, but I an a noobie in this area and have come close to locking myself out of the router once with a bad VLAN setup. I&#039;m hoping someone could walk though this using Luci to set it up or if needed provide network config examples and an explanation on the VLAN setup.</p><p>Thanks,<br />Mark</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120974">
				<div class="post-metadata">
					<div class="post-num">Post #466</div>
					<div class="post-author">ccdoggy</div>
					<div class="post-datetime">
						13 Nov 2010, 09:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DocterD wrote:</cite><blockquote><p>Nope, 5GHZ works but not every channel. Without Regdomain I can only access channel 36,40,44 and 48. With Regdomain and Countrycode DE additionally 120,124 and 128. Use &quot;iw list&quot; to check which channel you can use.</p></blockquote></div><p>I am unsure how to choose a channel using &#039;iw list&#039; because even some of the channels displayed are unavailable and not sure if the wireless power limits are accurate.&nbsp; I should be able to get my 2.4ghz radio up to 23db but its listed at only capable of 20.&nbsp; </p><p>I went ahead and installed the version I compiled myself from root.&nbsp; amazingly easy to do, i am very impressed.&nbsp; only missed one package to implement wireless fully without any need to install.&nbsp; some space on the router for additional installs and now an additional flash drive for more.</p><p>its working great and only a few problems getting used to openwrt vs dd-wrt setup and configuration options.&nbsp; working flawlessly and will hopefully finish the setup tomorrow for vpn, samba, and minidlna.&nbsp; I Love the ability to only include what i need and remove all the stuff i never touch (unlike most pre-built releases which seem bloated).</p><p>I plan on reporting back with my experience with some lan-wan speeds when i finally get it into the working environment (testing/setup right now).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p122462">
				<div class="post-metadata">
					<div class="post-num">Post #467</div>
					<div class="post-author">boser</div>
					<div class="post-datetime">
						2 Dec 2010, 20:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>markjtrickey wrote:</cite><blockquote><p>Trying to configure a guest wireless network (guest SSID should only have access to the Internet) via a second SSID on the wireless 0 interface. I&#039;m running &#039;OpenWrt Backfire 10.03&#039; with Luci for the GUI interface. I understand I need make some changes with VLANS, but I an a noobie in this area and have come close to locking myself out of the router once with a bad VLAN setup. I&#039;m hoping someone could walk though this using Luci to set it up or if needed provide network config examples and an explanation on the VLAN setup.</p><p>Thanks,<br />Mark</p></blockquote></div><p>Did you find out how to do this? </p><p>I&#039;d be interested in the solution also! (The one for WRT54 on the forum does not seem to apply to the WNDR 3700).</p><p>Many thanks,<br />Bernhard</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123247">
				<div class="post-metadata">
					<div class="post-num">Post #468</div>
					<div class="post-author">Eugen1968</div>
					<div class="post-datetime">
						14 Dec 2010, 21:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi all.<br />Please, anyone upload your build of OpenWRT.<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123274">
				<div class="post-metadata">
					<div class="post-num">Post #469</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						15 Dec 2010, 10:04					</div>
				</div>
				<div class="post-content content">
					<p>any specific settings you need.. ? or just a vanilla with GUI.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123275">
				<div class="post-metadata">
					<div class="post-num">Post #470</div>
					<div class="post-author">eleon216</div>
					<div class="post-datetime">
						15 Dec 2010, 10:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Eugen1968 wrote:</cite><blockquote><p>Hi all.<br />Please, anyone upload your build of OpenWRT.<br />Thanks</p></blockquote></div><p>Hi here is mine, it&#039;s backfire-svn revision 24148 with luci (including following luci-apps: ntpclient, openvpn, qos, realtime-stats, ddns) usb-storage, ext2-fs and ext4-fs, everthing needed for wifi (including force regdomain), tor-daemon</p><p>I have been using it since end of november and had no problems so far. I use 11n at 5GHz (Channel 40) for my laptop, and 11n/11g at 2.4GHz on for all the other devices (phones, old laptop,...)</p><p><a href="http://www.unet.univie.ac.at/~a0027060/openwrt/3700-backfire-r24148/">My Build</a></p><p>but compiling your own image isn&#039;t that difficult check out the wiki for more info.</p>											<p class="post-edited">(Last edited by <strong>eleon216</strong> on 15 Dec 2010, 10:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p123277">
				<div class="post-metadata">
					<div class="post-num">Post #471</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						15 Dec 2010, 10:56					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://forum.openwrt.org/viewtopic.php?id=27722">https://forum.openwrt.org/viewtopic.php?id=27722</a></p><p>Here&#039;s my build for the WNDR3700.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124179">
				<div class="post-metadata">
					<div class="post-num">Post #472</div>
					<div class="post-author">DanSF</div>
					<div class="post-datetime">
						30 Dec 2010, 06:12					</div>
				</div>
				<div class="post-content content">
					<p>The WNDR3700 has three ethernet addresses:</p><p>&nbsp; &nbsp; # 802.11g<br />&nbsp; &nbsp; aa:bb:cc:dd:ee:2A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; # WAN<br />&nbsp; &nbsp; aa:bb:cc:dd:ee:2B<br />&nbsp; &nbsp; # 802.11n<br />&nbsp; &nbsp; aa:bb:cc:dd:ee:2C</p><p>Which one do I associate with 192.168.1.1 in /etc/ethers?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p124191">
				<div class="post-metadata">
					<div class="post-num">Post #473</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						30 Dec 2010, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>If you call ifconfig you&#039;ll see the LAN and WLAN interfaces do not have an IP assigned. The LAN bridge (br-lan) does though.</p><p>Why would you want to add 192.168.1.1 to /etc/ethers anyway? That file is intended for clients.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127010">
				<div class="post-metadata">
					<div class="post-num">Post #474</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						31 Jan 2011, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>I wanted to make the OpenWrt build for WNDR3700 more &quot;feature-complete&quot;, so I searched for information enabling the two buttons on the WNDR3700. Here are short explanations, how to enable the WiFi button and the WPS button. I have done the work on Backfire 10.03.1-SVN branch, but there shouldn&#039;t be difference to Kamikaze/trunk.</p><p>Based on SVN revision: r25261 Backfire<br />Build examples and SVN diffs: <a href="http://koti.welho.com/hnyman1/Openwrt/">http://koti.welho.com/hnyman1/Openwrt/</a><br />Build process and included features explained here: <a href="https://forum.openwrt.org/viewtopic.php?id=28392">https://forum.openwrt.org/viewtopic.php?id=28392</a></p><p>Buttons have different names in Backfire and in Kamikaze/trunk:<br /></p><div class="codebox"><pre><code>Backfire:  reset=BTN_0,  wps=BTN_1,  wifi=BTN_2
trunk:  reset=reset,  wps=wps,  wifi=BTN_2</code></pre></div><p>Note: I added a logger line to the scripts, so that each button event gets noted in Syslog.</p><p><strong>WiFi button:</strong></p><p>The button automatics is pretty much already in place. It only requires hotplugging the button event to the &#039;/sbin/wifi&#039; script. <br />- The button toggles WiFi off, it at least one radio was on. <br />- And if both radios were off, it toggles WiFi on according to the specs set in normal Wifi config.</p><p>The simple button script just requires adding a file &#039;/etc/hotplug.d/button/10-radio-toggle&#039;. </p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/hotplug.d/button/10-radio-toggle

#!/bin/sh
if [ &quot;$BUTTON&quot; = &quot;BTN_2&quot; ] &amp;&amp; [ &quot;$ACTION&quot; = &quot;pressed&quot; ]; then
    if [ -d /var/run/hostapd-phy0 -o -d /var/run/hostapd-phy1 ]; then
        logger &quot;WiFi button used: WiFi down&quot;
        /sbin/wifi down
    else
        logger &quot;WiFi button used: WiFi up&quot;
        /sbin/wifi up
    fi
fi</code></pre></div><p><strong>WPS button:</strong></p><p>If you have a WPS-enabled network device (like a modern USB dongle) supporting Wi-Fi Protected Setup (WPS), you can negotiate joining the router&#039;s Wifi network without manually entering SSID &amp; passkey. You just initiate &quot;WPS authentication&quot; by pushing the similar WPS button on the device (or launching the process by its driver/control software). After the device has initiated the authentication process, you can accept the transaction by using the WPS button on WNDR3700. The connection should then get negotiated, and in most cases in future your PC should remember the received network settings from then on. </p><p>After finding the information and browsing the hostapd package sourcecode, the needed actions for enabling the WPS button are pretty simple:</p><p>1) Using WPS authentication requires <strong>replacing the default &#039;wpad-mini&#039; package with &#039;wpad&#039; and &#039;hostapd-utils&#039;</strong>. The reason is that the tool &quot;hostapd_cli&quot; and some needed support functions are not included in &#039;wpad-mini&#039;.</p><p>WPS authentication itself is launched with a command: hostapd_cli -p /var/run/hostapd-phy0 wps_pbc</p><p>It tells the running hostapd daemon to participate in ongoing WPS authentication sequence. It needs to be run separately for each radio (= each existing hostapd process). </p><p>2) And it only works if the <strong>&#039;/etc/config/wireless&#039; has been modified</strong> to include info about WPS authentication being allowed by <strong>adding the option &#039;wps_pushbutton&#039; &#039;1&#039; to the wifi-iface section of (each) radio</strong>. Additionally, the encryption should be WPA2-PSK (or maybe WPA-PSK is enough, I haven&#039;t tested).<br /> (Looks like the version of hostapd scripts in OpenWrt does not support the full scope of hostapd&#039;s capabilities, so many of the config options documented in hostapd docs are left unused.)</p><p>That config file is read when radios are turned on, so after editing the config, restart the radios in WNDR3700.<br />At this point, you should be able to test it by running it from command line. If the message gets passed to hostapd, you should see there result &#039;OK&#039; there. Otherwise the result is &#039;FAIL&#039;.<br />&gt; root@OpenWrt:~# hostapd_cli -p /var/run/hostapd-phy0 wps_pbc<br />&gt; Selected interface &#039;wlan0&#039;<br />&gt; OK<br />&gt; root@OpenWrt:~#</p><p>3) Add a hotplug <strong>button event script to launch the process</strong>.</p><p>I modified directly the hostapd package source ( /package/hostapd/files/wps-hotplug.sh ), as the hotplug script gets automatically installed to &#039;/etc/hotplug.d/button/50-wps&#039; with the package.&nbsp; See below.</p><p>The script launches hostapd_cli for each radio and lights the WPS led for 10 seconds. There is no monitoring of the result, or anything like that. It is just a dumb script using the hostapd_cli command to pass the message to the hostapd daemon.<br />Remember to check the button name: Backfire:&nbsp; wps=&quot;BTN_1&quot;,&nbsp; trunk:&nbsp; wps=&quot;wps&quot;<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/hotplug.d/button/50-wps

if [ &quot;$ACTION&quot; = &quot;pressed&quot; -a &quot;$BUTTON&quot; = &quot;BTN_1&quot; ]; then
        echo &quot;255&quot; &gt; /sys/devices/platform/leds-gpio/leds/wndr3700:green:wps/brightness
        for dir in /var/run/hostapd-*; do
                [ -d &quot;$dir&quot; ] || continue
                logger &quot;WPS button active: $dir&quot;
                hostapd_cli -p &quot;$dir&quot; wps_pbc
        done
        sleep 10
        echo &quot;0&quot; &gt; /sys/devices/platform/leds-gpio/leds/wndr3700:green:wps/brightness
fi</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/config/wireless
...
config &#039;wifi-iface&#039;
        option &#039;device&#039; &#039;radio0&#039;
        option &#039;network&#039; &#039;lan&#039;
        option &#039;mode&#039; &#039;ap&#039;
        option &#039;ssid&#039; &#039;public&#039;
        option &#039;encryption&#039; &#039;psk2&#039;
        option &#039;key&#039; &#039;SecretKey&#039;
        option &#039;wps_pushbutton&#039; &#039;1&#039;
...</code></pre></div><p>If everything goes ok, you should see in Syslog not only the button events, but also succesful WPS authentication:<br /></p><div class="codebox"><pre><code>Jan 31 21:11:09 OpenWrt user.notice root: WiFi button used: WiFi up
Jan 31 21:11:09 OpenWrt user.info kernel: ADDRCONF(NETDEV_UP): wlan0: link is not ready
Jan 31 21:11:09 OpenWrt user.info kernel: device wlan0 entered promiscuous mode
Jan 31 21:11:09 OpenWrt user.info kernel: br-lan: port 2(wlan0) entering forwarding state
...
Jan 31 21:12:00 OpenWrt user.notice root: WPS button active: /var/run/hostapd-phy0
Jan 31 21:12:00 OpenWrt user.notice root: WPS button active: /var/run/hostapd-phy1
Jan 31 21:12:03 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.11: authenticated
Jan 31 21:12:03 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.11: associated (aid 1)
Jan 31 21:12:04 OpenWrt daemon.warn hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.1X: authentication failed - EAP type: 0 ((null))
Jan 31 21:12:04 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.1X: Supplicant used different EAP type: 254 ((null))
Jan 31 21:12:04 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.11: disassociated
Jan 31 21:12:05 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.11: deauthenticated due to inactivity
Jan 31 21:12:17 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.11: authenticated
Jan 31 21:12:17 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc IEEE 802.11: associated (aid 1)
Jan 31 21:12:17 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc RADIUS: starting accounting session 4D47094D-00000000
Jan 31 21:12:17 OpenWrt daemon.info hostapd: wlan0: STA 1c:af:f7:f6:11:dc WPA: pairwise key handshake completed (RSN)
Jan 31 21:12:29 OpenWrt daemon.info dnsmasq-dhcp[1855]: DHCPREQUEST(br-lan) 192.168.1.190 1c:af:f7:f6:11:dc 
Jan 31 21:12:29 OpenWrt daemon.info dnsmasq-dhcp[1855]: DHCPACK(br-lan) 192.168.1.190 1c:af:f7:f6:11:dc HNH57JG</code></pre></div><p>EDIT: added a note about the correct button names in Backfire and trunk.<br />If you want to check the button names on your system, you can use the following hotplug script that just logs the button &#039;pressed&#039; actions into system log:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/etc/config# cat /etc/hotplug.d/button/02-log
#!/bin/sh
if [ &quot;$ACTION&quot; = &quot;pressed&quot; ]; then
        logger &quot;button: &quot;$BUTTON
fi</code></pre></div>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 5 Feb 2011, 21:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127030">
				<div class="post-metadata">
					<div class="post-num">Post #475</div>
					<div class="post-author">Comitizer</div>
					<div class="post-datetime">
						1 Feb 2011, 02:02					</div>
				</div>
				<div class="post-content content">
					<p>What are the ramifications of switching from wpad-mini to wpad?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 19 of 20</div><nav><ul><li><a href="viewtopic.php%3Fid=22311&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=22311&amp;p=17.html">17</a></li><li><a href="viewtopic.php%3Fid=22311&amp;p=18.html">18</a></li><li class="pagination-current"><span>19</span></li><li><a href="viewtopic.php%3Fid=22311&amp;p=20.html">20</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>