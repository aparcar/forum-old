<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> releasing PBX (supporting Asterisk) interface for LuCI</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Apr 2018 and 30 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=32392&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=32392&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=32392&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=32392&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=32392&amp;p=6.html">6</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p164970">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						18 Apr 2012, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>@rubenmoran</p><p>Yes! Please do take a look at the code. The front-end was written with the idea that it can support different voip servers, and was kept completely independent from the backend. It writes the config files with no Asterisk bias, in my opinion. All one has to do for freeswitch support is to create a script which would take the UCI config entries and cook up a bunch of template files to make an actual Freeswitch configuration that works. So in fact, there should be no need for a Freeswitch GUI, rather a PBX gui which can be instructed to manage either an Asterisk or a Freeswitch server in the back.</p><p>If you do decide to work on such a backend, please do let me know, as there are certain things I would have done better in my own Asterisk configuration-cooking script. In fact, it would be nice for us to meet in the #luci-hackers room on freenode (IRC) to discuss particulars.</p><p>Cheers!<br />Iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164983">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">tekoholic</div>
					<div class="post-datetime">
						18 Apr 2012, 22:55					</div>
				</div>
				<div class="post-content content">
					<p>@dancho</p><p>My apologies, I&#039;ve also been away from this end of my project, for a while.</p><p>While I do run a business from home, my reasons for the separate VM needs are not related:</p><p>I&#039;ve got a wife, 2 teenagers, 1 young&#039;un, and a roommate, each of which has their own GV account, in addition to my own personal and business GV lines.&nbsp; Again, external VM is handled by GV just fine, but I&#039;d like to be able to, utilizing OpenVPN and our Android phones, call each other via extension, and that isn&#039;t so easy to route out to GV VM system.</p><p>As well, much of my reasoning for this whole project, is the fact that we&#039;ve just purchased a home, and I&#039;m starting an informal Neighborhood Watch.&nbsp; I&#039;m also a bit of a zombie-apocalypser, in the sense that whatever may come, I want to be as ready as conceivable.&nbsp; I want, via my neighborhood mesh (that I&#039;m also building), to maintain contact with/between my family and NW participants with or without land-line / POTS / Cell infrastructure, in the case that these are no longer available.</p><p>I&#039;m also a Ham Radio Operator, but that&#039;s difficult to convince other people to get involved in, with the Internet, VoIP, cellphones and other such technologies (horribly fallible tho they can be) pretending to replace it.&nbsp; Most folks, these days, honestly believe that all that stuff will always be there, unless they were actually there for such events as Katrina, or the tornado bombardment that hit the South last year...&nbsp; Also, speaking of Ham radio, I&#039;d love to have my * server integrated with a radio, for further comms redundancy, and I don&#039;t see OpenWRT&#039;s implementation doing that, too easily...</p><p>As a result of all this, and the fact that OpenWRT seems less than capable at the moment, I&#039;m building out via other means, for the time being.&nbsp; Netbooks are cheap, and capable of offering most (if not all) of what I was hoping OpenWRT could do from my router, with the added benefit of built-in power redundancy and portability, as well as much larger system resource and storage.</p><p>Anyhow, thanx much for your help, and I&#039;ll keep my eye on this for further development!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165005">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 Apr 2012, 03:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rubenmoran wrote:</cite><blockquote><p>@dancho<br />Are you working on freeswitch version of your package?</p></blockquote></div><p><a href="http://www.fusionpbx.com">FusionPBX</a> is a <a href="http://freeswitch.org">FreeSWITCH</a> GUI and it works just fine with LuCI. The only problem is it&#039;s written in PHP language. As such, it requires PHP5 packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165153">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">rubenmoran</div>
					<div class="post-datetime">
						20 Apr 2012, 00:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><div class="quotebox"><cite>rubenmoran wrote:</cite><blockquote><p>@dancho<br />Are you working on freeswitch version of your package?</p></blockquote></div><p><a href="http://www.fusionpbx.com">FusionPBX</a> is a <a href="http://freeswitch.org">FreeSWITCH</a> GUI and it works just fine with LuCI. The only problem is it&#039;s written in PHP language. As such, it requires PHP5 packages.</p></blockquote></div><p>Yes, I know about it... but I think... If we use OpenWRT we need think on a solution working over LuCI to help us keep low the value of resources we need take from the hardware (If we talk about the kind of hardware we use to run OpenWRT). I&#039;m runing now Freeswitch + FusionPBX over Voyage Linux and I can say the box run very well on lab (it needs Apache + PHP support). Really I think ALix or Atom + OpenWRT + LuCI + Freeswitch running PBX services can run very well on a &lt;30 phone users office or home business.</p><p>Ruben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167742">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">dir2cas</div>
					<div class="post-datetime">
						19 May 2012, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>Hello, it could be already discussed somewhere in the forum but I would like to ask is it possible to use separete sockets for the internal network (lan) and another one if you intend to access the PBX from Internet (wan)?</p><p>As far as I looked in this setup (Advanced Settings -&gt; Remote Usage), it seems that there is one socket created for the pbx itself (listening on all interfaces and one port). I would like to use the default configuration in my internal network(local IP:5060), but let the service available on a different publically accessible socket (wan Ip and a port different from sip:5060).</p><p>Thanks in advance,</p><p>p.s. dancho, great work, highly appreciated!</p><br /><p>P.S.(2) I just found this <br /><a href="http://wiki.kolmisoft.com/index.php/Two_SIP_listening_ports_for_single_Asterisk">http://wiki.kolmisoft.com/index.php/Two … e_Asterisk</a><br /><a href="http://kb.didx.net/tiki-index.php?page=How+to+map+multiple+sip+ports+on+one+asterisk+server">http://kb.didx.net/tiki-index.php?page= … isk+server</a></p><p>Is it really true? In freeswith it is possible to define something like an internal and external profiles.</p>											<p class="post-edited">(Last edited by <strong>dir2cas</strong> on 19 May 2012, 18:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p173938">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">iprouteth0</div>
					<div class="post-datetime">
						3 Aug 2012, 10:32					</div>
				</div>
				<div class="post-content content">
					<p>I have some suggestions, and might be able to help some, though I am a poor programmer.&nbsp; I am experienced with asterisk and have been running it on openwrt for almost 2 years.&nbsp; I would like to see a music on hold configuration section.&nbsp; Also, as a user of cisco 7940s I think it would be nice to have a provisioning section that cooks up some boot and config files for certain common phone types and place them in the proper boot directory.&nbsp; Cisco 79XX both old and new, and Polycom soundpoint phones for instance.&nbsp; Then maybe a checkbox option for modifying the dhcp server config to add the boot options 66 and 150 and install the tftp server.&nbsp; A command line execution section would be nice as well</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177665">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">francisco.dominguez</div>
					<div class="post-datetime">
						10 Sep 2012, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>Hello<br />Any one has installed Luci-PBX with Asterisk in Carambola?<br />I did and basically it works but pbx-voicemail fails for some reason.<br />Does any one have the same problem?<br />In other hand I would like to use IVR with PBX but I have lost, since ther is not luci-pbx-ivr and I am not a Asterisk expert.<br />Could any one help me?<br />Thanks in advance.<br /> Paco</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194286">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						9 Mar 2013, 03:17					</div>
				</div>
				<div class="post-content content">
					<p>Hey Paco,</p><p>I only now saw your post about the voicemail issue. I&#039;ve fixed the voicemail over the past couple of days, and will make an announcement when the new package is available in the attitude adjustment packages.</p><p>Cheers!<br />Iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224038">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						29 Jan 2014, 13:01					</div>
				</div>
				<div class="post-content content">
					<p>Hello dancho,<br />thanks for this great work... one question <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Can I transfer calls between internals with *2 or #1?</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>Crazy</strong> on 29 Jan 2014, 13:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224054">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						29 Jan 2014, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>Hey Crazy,</p><p>I have no idea! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> What happens when you try?</p><p>It&#039;s all a matter of configuration, I&#039;m sure. I haven&#039;t looked at this project in a while, but next time I do (to update it to Asterisk 10, say), I can lump this in as well. If my PBX config doesn&#039;t work for transfering, but you have config elsewhere that does, you can post the relevant configuration here for my reference.</p><p>Thanks!<br />iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224081">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						29 Jan 2014, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><div class="quotebox"><cite>dancho wrote:</cite><blockquote><p>What happens when you try?</p></blockquote></div><p>nothing the call continues <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I read that to work I have to add this on features.conf (empty by default)<br /></p><div class="codebox"><pre><code>blindxfer =&gt; #1
atxfer =&gt; *2</code></pre></div><p>and tT string in dial plain but where? With this package I have</p><p>extensions.conf<br />extensions_blacklist.conf<br />extensions_callback.conf<br />extensions_callthrough.conf<br />extensions_default.conf<br />extensions_incoming.conf<br />extensions_incoming_gtalk.conf <br />extensions_user.conf<br />extensions_voicemail.conf</p><p>My config</p><p>extensions_default.conf<br /></p><div class="codebox"><pre><code>[default-incoming-call-context]
exten =&gt; s,1,NoOp(${CALLERID})
exten =&gt; s,n,Set(SOURCECONTEXT=default-incoming-call-context)
exten =&gt; s,n,Set(SOURCEEXTEN=s)
exten =&gt; s,n,Goto(blacklist-call-context,s,1)
exten =&gt; s,n(doneblacklist),NoOp()
exten =&gt; s,n,Goto(callback-check-call-context,s,1)
exten =&gt; s,n(donecallback),NoOp()
exten =&gt; s,n,Goto(disa-check-call-context,s,1)
exten =&gt; s,n(donedisacheck),Dial(SIP/800&amp;SIP/801&amp;SIP/803,${RINGTIME},r)
exten =&gt; s,n,Goto(context-voicemail,s,1)
exten =&gt; 800,1,Goto(default-incoming-call-context,s,1)
exten =&gt; 801,1,Goto(default-incoming-call-context,s,1)
exten =&gt; 803,1,Goto(default-incoming-call-context,s,1)</code></pre></div><p>extensions_user.conf<br /></p><div class="codebox"><pre><code>[context-user-800]

exten =&gt;     800,1,Dial(SIP/800,${RINGTIME},r)
exten =&gt;     801,1,Dial(SIP/801,${RINGTIME},r)
exten =&gt;     803,1,Dial(SIP/803,${RINGTIME},r)
include =&gt; context-voicemail-record-greeting
include =&gt; context-catch-all

[context-user-801]

exten =&gt;     800,1,Dial(SIP/800,${RINGTIME},r)
exten =&gt;     801,1,Dial(SIP/801,${RINGTIME},r)
exten =&gt;     803,1,Dial(SIP/803,${RINGTIME},r)
include =&gt; context-voicemail-record-greeting
include =&gt; context-catch-all

[context-user-803]

exten =&gt;     800,1,Dial(SIP/800,${RINGTIME},r)
exten =&gt;     801,1,Dial(SIP/801,${RINGTIME},r)
exten =&gt;     803,1,Dial(SIP/803,${RINGTIME},r)
include =&gt; context-voicemail-record-greeting
include =&gt; context-catch-all</code></pre></div><p>sip_users.conf<br /></p><div class="codebox"><pre><code>[800]
fullname     = Test
defaultuser  = 800
secret       = TestAsterisk123
hassip       = yes
hasvoicemail = no
host         = dynamic
type         = friend
context      = context-user-800
qualify      = no

[801]
fullname     = Test2
defaultuser  = 801
secret       = TestAsterisk123
hassip       = yes
hasvoicemail = no
host         = dynamic
type         = friend
context      = context-user-801
qualify      = no

[803]
fullname     = Test3
defaultuser  = 803
secret       = TestAsterisk123
hassip       = yes
hasvoicemail = no
host         = dynamic
type         = friend
context      = context-user-803
qualify      = no</code></pre></div><p>It would be nice to have something like this<br /><span class="postimg"><img src="http://s7.postimg.org/rr0ntnaxn/Bildschirmfoto_2012_12_12_um_15_54_23.png" alt="http://s7.postimg.org/rr0ntnaxn/Bildschirmfoto_2012_12_12_um_15_54_23.png" /></span></p><p>Thanks again</p><p>PS. module pbx-transfer is necessary?</p>											<p class="post-edited">(Last edited by <strong>Crazy</strong> on 30 Jan 2014, 11:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224215">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						1 Feb 2014, 00:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>1) Add a file </p><p>&nbsp; &nbsp; /etc/pbx-asterisk/features.conf.TEMPLATE</p><p>containing what you posted.</p><p>2) Edit /etc/init.d/pbx-asterisk, and at line 44, add:<br />TMPL_FEATURES= $TEMPLATEDIR/features.conf.TEMPLATE</p><p>3) Again in the same file, at line 127, in function copy_unedited_templates_over(), add:<br />&nbsp; &nbsp; cp $TMPL_FEATURES&nbsp; &nbsp; &nbsp; $WORKDIR/features.conf</p><p>4) Save and restart the router (there are things you can do so you don&#039;t have to restart the router, but for simplicity...).</p><p>How does it work?</p><p>Cheers!<br />iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224238">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						1 Feb 2014, 13:50					</div>
				</div>
				<div class="post-content content">
					<p>unfortunately no</p><div class="codebox"><pre><code>root@OpenWrt:/etc/init.d# ./pbx-asterisk start
/etc/pbx-asterisk/features.conf.TEMPLATE: line 1: syntax error: unexpected newline
BusyBox v1.19.4 (2014-01-25 15:34:30 CET) multi-call binary.

Usage: cp [OPTIONS] SOURCE DEST

Copy SOURCE to DEST, or multiple SOURCE(s) to DIRECTORY

    -a    Same as -dpR
    -R,-r    Recurse
    -d,-P    Preserve symlinks (default if -R)
    -L    Follow all symlinks
    -H    Follow symlinks on command line
    -p    Preserve file attributes if possible
    -f    Overwrite
    -i    Prompt before overwrite
    -l,-s    Create (sym)links

mv: can&#039;t rename &#039;/tmp/pbx.1595/inext.TMP&#039;: No such file or directory
mv: can&#039;t rename &#039;/tmp/pbx.1595/sip_regs.TMP&#039;: No such file or directory
mv: can&#039;t rename &#039;/tmp/pbx.1595/sip_peers.TMP&#039;: No such file or directory
mv: can&#039;t rename &#039;/tmp/pbx.1595/jabber.TMP&#039;: No such file or directory
chown: /var/run/asterisk: No such file or directory
chown: /var/log/asterisk: No such file or directory
chown: /var/spool/asterisk: No such file or directory
root@OpenWrt:/etc/init.d# </code></pre></div><p>/etc/pbx-asterisk/features.conf.TEMPLATE contains<br /></p><div class="codebox"><pre><code>blindxfer =&gt; #1
atxfer =&gt; *2</code></pre></div><p>Thanks for your help!</p><p>PS. Soon I will try with clean asterisk11 so I can understand where is the problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224248">
				<div class="post-metadata">
					<div class="post-num">Post #89</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						1 Feb 2014, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>With asterisk11 works but need:<br />- pbx-transfer (ulaw,alaw and gsm)<br />- music on hold directory and sounds (<a href="http://downloads.asterisk.org/pub/telephony/sounds/">download</a>), in musiconhold.conf change directory setting in /usr/lib/asterisk/moh</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224551">
				<div class="post-metadata">
					<div class="post-num">Post #90</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						4 Feb 2014, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>Hey Crazy,</p><p>You clearly introduced a syntax error after editing pbx-asterisk in step (2) of my instructions. See the error message you pasted:</p><p>/etc/pbx-asterisk/features.conf.TEMPLATE: line 1: syntax error: unexpected newline</p><p>Please try to post your pbx-asterisk for me to see if I can spot where the mistake is.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224566">
				<div class="post-metadata">
					<div class="post-num">Post #91</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						4 Feb 2014, 20:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dancho wrote:</cite><blockquote><p>2) Edit /etc/init.d/pbx-asterisk, and at line 44, add:<br />TMPL_FEATURES= $TEMPLATEDIR/features.conf.TEMPLATE</p></blockquote></div><p>Found!</p><p>TMPL_FEATURES=$TEMPLATEDIR/features.conf.TEMPLATE<br />No space before the $<br />I will try again tomorrow, thanks again!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224567">
				<div class="post-metadata">
					<div class="post-num">Post #92</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						4 Feb 2014, 20:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi, thanks for letting me know. I don&#039;t know how that space got in there, I was copy-pasting most of the time... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><p>Let me know if things work now.</p><p>Cheers!<br />iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224598">
				<div class="post-metadata">
					<div class="post-num">Post #93</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						5 Feb 2014, 11:04					</div>
				</div>
				<div class="post-content content">
					<p>I think there is a bug with openwrt - Asterisk 1.8 and transfer because I always get &quot;core segmentation fault&quot; when I do *2 or #1 during a call.<br />I installed also musiconhold and sound but when I press *2 or #1 during the call I hear &quot;transfer&quot; and then &quot;core segmentation fault&quot;.<br />Also tried with a clean install of Asterisk 1.8 (without luci-pbx) but same problem so I think is a openwrt-asterisk 1.8 bug <br />With Asterisk 11 (without luci-pbx) everything works fine. </p><p>Another small problem .. every time I change something luci-pbx delete the string &quot;tT&quot; by extensions_users.conf</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224683">
				<div class="post-metadata">
					<div class="post-num">Post #94</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						6 Feb 2014, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>Hey Crazy,</p><p>If you want something to remain when luci-pbx changes something, that something has to be in one of the TEMPLATE files. Which file it needs to be in depends on what it is. What does a valid &quot;tT&quot; entry look like, and which section of the dial-plan does it go into?</p><p>Thanks!<br />iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224872">
				<div class="post-metadata">
					<div class="post-num">Post #95</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						9 Feb 2014, 07:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dancho wrote:</cite><blockquote><p>This is an announcement about the availability of a PBX interface for LuCI. The package name is luci-app-pbx.</p></blockquote></div><p>I just noticed this package is tied to asterisk18. If I use asterisk11, then I can&#039;t use this GUI even though I manually select asterisk-gui package, can I?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224875">
				<div class="post-metadata">
					<div class="post-num">Post #96</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						9 Feb 2014, 07:55					</div>
				</div>
				<div class="post-content content">
					<p>Hey mazi,</p><p>I haven&#039;t yet ported the pbx interface to asterisk11. Jiri and I were looking into whether it would be possible to fit asterisk11 and luci-pbx and all prerequisites onto 8MB, and last time I tried it didn&#039;t fit, but now Jiri may have shrunk asterisk11 enough to fit. I have to test.</p><p>iordan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224889">
				<div class="post-metadata">
					<div class="post-num">Post #97</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						9 Feb 2014, 11:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dancho wrote:</cite><blockquote><p>which section of the dial-plan does it go into?</p></blockquote></div><p>Hi, here<br />extensions_user.conf</p><p>[context-user-800]</p><p>exten =&gt;&nbsp; &nbsp; &nbsp;800,1,Dial(SIP/800,${RINGTIME},r<strong>tT</strong>)<br />exten =&gt;&nbsp; &nbsp; &nbsp;801,1,Dial(SIP/801,${RINGTIME},r<strong>tT</strong>)<br />exten =&gt;&nbsp; &nbsp; &nbsp;803,1,Dial(SIP/803,${RINGTIME},r<strong>tT</strong>)<br />include =&gt; context-voicemail-record-greeting<br />include =&gt; context-catch-all</p><p>[context-user-801]</p><p>exten =&gt;&nbsp; &nbsp; &nbsp;800,1,Dial(SIP/800,${RINGTIME},r<strong>tT</strong>)<br />exten =&gt;&nbsp; &nbsp; &nbsp;801,1,Dial(SIP/801,${RINGTIME},r<strong>tT</strong>)<br />exten =&gt;&nbsp; &nbsp; &nbsp;803,1,Dial(SIP/803,${RINGTIME},r<strong>tT</strong>)<br />include =&gt; context-voicemail-record-greeting<br />include =&gt; context-catch-all</p><br /><p>etc etc</p><p>Note that with asterisk 1.8 I get always core segmentation fault error (OK with asterisk 11) and no errors on log <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>Crazy</strong> on 9 Feb 2014, 11:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224957">
				<div class="post-metadata">
					<div class="post-num">Post #98</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						9 Feb 2014, 23:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dancho wrote:</cite><blockquote><p>I haven&#039;t yet ported the pbx interface to asterisk11.</p></blockquote></div><p>OK. I thought asterisk11 and asterisk1.8 are the same. If that is the case, you can include a <em>choice</em> for user to select which asterisk to include.</p><div class="quotebox"><blockquote><p>Jiri and I were looking into whether it would be possible to fit asterisk11 and luci-pbx and all prerequisites onto 8MB, and last time I tried it didn&#039;t fit, but now Jiri may have shrunk asterisk11 enough to fit. I have to test.</p></blockquote></div><p>That will be cool.</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225892">
				<div class="post-metadata">
					<div class="post-num">Post #99</div>
					<div class="post-author">dancho</div>
					<div class="post-datetime">
						21 Feb 2014, 01:44					</div>
				</div>
				<div class="post-content content">
					<p>Hey everyone,</p><p>I&#039;ve created new test packages which configure asterisk11 rather than 1.8. I need you guys to test out as many aspects of the functionality as possible and give feedback here!</p><p>The first important point, please uninstall all asterisk 1.8 packages and the old luci-app-pbx and luci-app-pbx-voicemail packages before installing these, or else you may have problems, and in any case, I&#039;m not responsible <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>A second important point is that I&#039;ve tested this with OpenWRT Barrier Breaker (available in the snapshots directory), and haven&#039;t tested it with Attitude Adjustment (12.09). Feedback is appreciated.</p><p>A third important point is that with a clean install of Barrier Breaker snapshot, all of the required packages, and additionally luci-app-qos and luci-app-ddns fit on an 8MB device with 250kb to spare. I can&#039;t guarantee what would happen if you&#039;ve installed other packages (like Asterisk 1.8) previously and have removed them. If you have more than 8MB of space, you&#039;re not affected.</p><p>The PBX:<br /><a href="http://iiordanov.com/files/pbx/luci-app-pbx-11.ipk">http://iiordanov.com/files/pbx/luci-app-pbx-11.ipk</a></p><p>The voicemail package:<br /><a href="http://iiordanov.com/files/pbx/luci-app-pbx-voicemail-11.ipk">http://iiordanov.com/files/pbx/luci-app … ail-11.ipk</a></p><p>Thanks in advance for all the feedback. And one more thing, no this version does not include transfer capability.</p>											<p class="post-edited">(Last edited by <strong>dancho</strong> on 21 Feb 2014, 01:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225950">
				<div class="post-metadata">
					<div class="post-num">Post #100</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						21 Feb 2014, 20:17					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, soon begin tests <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br /></p><div class="quotebox"><cite>dancho wrote:</cite><blockquote><p>And one more thing, no this version does not include transfer capability.</p></blockquote></div><p>Nooo ... <br /><span class="postimg"><img src="http://images.zaazu.com/img/male19-male-crying-tears-smiley-emoticon-000061-medium.gif" alt="http://images.zaazu.com/img/male19-male-crying-tears-smiley-emoticon-000061-medium.gif" /></span></p><p>Thanks anyway <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 4 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=32392&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=32392&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=32392&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li><li><a href="viewtopic.php%3Fid=32392&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=32392&amp;p=6.html">6</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>