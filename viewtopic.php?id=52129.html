<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> A Powerful Router for 100000mbit connection and OpenVPN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p243492">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">BigBrother</div>
					<div class="post-datetime">
						11 Aug 2014, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>Hey,</p><p>I&#039;m new in the community and in the subject matter of OpenWRT.<br />I hope I&#039;m in the right place for this question.</p><p>The Question:<br />I have a new 100mbit connection and I want to use an OpenWRT Router to create a vlan.<br />This new vlan should be routed completely over an OpenVPN connection to an VPN Provider.<br />so, Do I need a porwerful router like TP-Link TL-WDR4300 or TP-Link Archer C7 AC1750??</p><p>thanks for your help</p><p>EDIT:<br />Sry, my fault. 100000mbit is a dream XD</p>											<p class="post-edited">(Last edited by <strong>BigBrother</strong> on 12 Aug 2014, 18:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243494">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						11 Aug 2014, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>Are you sure that you have a 100Gbit line? Really?</p><p>On the other hand, if I read your message strictly, you have a 100000 millibit line, i.e. 100bit per second.</p><p>Both options do not seem valid to me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243522">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						11 Aug 2014, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>A regular user can&#039;t reach an equipment capable of handling 100Gbit. You would have to decide between buying your car and house or buying that device.<br />Anyway, the fact that you have such connection is barely believable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243543">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dorian</div>
					<div class="post-datetime">
						12 Aug 2014, 04:36					</div>
				</div>
				<div class="post-content content">
					<p>Well, consumer routers like the ones mentioned do only have 1Gbps ports, and most only have 5 of those, so the best you could get out of them would be a 2Gbps bridge. In NAT mode you only get about 300Mbps at best, because openWRT does software NAT, even on devices which have hardware NAT capability (drivers not implemented yet, because lack of specs and hardware NAT being rather buggy and unstable with the vendor&#039;s driver), and hardware NAT can&#039;t do better than 1.2Gbps either.<br />The only real option you have, is using a PC as a router, though I&#039;m not sure how well PCIe 3.0, and whatever Ethernet adapters you&#039;re using actually work here, Infiniband and bridging multiple Intel adapters are the only thing available, as far as I&#039;m aware. Not even the internet backbones runs on those, though, it&#039;s mostly bonded and bridged 1Gbps Ethernet over fiber, some 10Gbps. Even 40Gbps is rare. Chances even are, that what you&#039;re getting from your IP transit provider is the same thing. Your best option is probably getting an&nbsp; SFP+ 40/10Gbps switch with Fulcrum/Intel chips inside off of eBay. If you&#039;re lucky, you can get one for less than $1000. The Barcelona platform can run a router, not sure if vanilla openWRT would work, though. Fulcrum engineers don&#039;t talk much since the Intel acquisition anymore.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243640">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">BigBrother</div>
					<div class="post-datetime">
						12 Aug 2014, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>Sorry that was a typo.<br />I have corrected my entry <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>How do I fix my topic headline?</p>											<p class="post-edited">(Last edited by <strong>BigBrother</strong> on 12 Aug 2014, 18:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243664">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						12 Aug 2014, 23:27					</div>
				</div>
				<div class="post-content content">
					<p>haha you caused a big impact in the community! <img src="https://forum.openwrt.org/img/smilies/lol.png" width="15" height="15" alt="lol" /></p><p>Any gigabit router will satisfy that. The WDR4300 will be more than enough! Nice power and wifi capabilities<br />I have a 100Mbit line too (measured 105Mbit <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> ), using a wdr4900 and no issues.</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 12 Aug 2014, 23:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243672">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">golialive</div>
					<div class="post-datetime">
						12 Aug 2014, 23:57					</div>
				</div>
				<div class="post-content content">
					<p>Hey there.</p><p>100Gbit/s would be awesom but it&#039;s completely out of scope. Running &quot;dd if=/dev/zero of=/dev/null bs=4MB count=4096&quot; on any current desktop consumer CPU (like i5 or i7) should give you something like 150Gbit/s (=18GB/s). Even if you didn&#039;t correct your initial post it&#039;s obviously either a typo or missunderstanding of ISPs marketing crap. ISPs regularly talk in &quot;kbit/s&quot;, skip that and sell &quot;50&#039;000er lines&quot; when they mean &quot;50MBit down, 5MBit up, regular german VDSL&quot;. </p><p>I know that I&#039;m repeating myself. But I realy realy like my TP-Link 4900 and suggest you to give it a try.</p><p>I don&#039;t exactly run it as a 100MBit upstream router. But let me give you some numbers.<br />* I have a single ESX hardare server<br />* this one has a single intel e1000 NIC<br />* connected to a TP-Link 4900<br />* both, the TP-Link and the ESX communicate vlan trunked (vlans 1, 3, 4,&nbsp; to be exact)<br />* one VM (&quot;ssh-inbound&quot;) is on vlan 1<br />* another VM (ssh-outbound&quot;) is on vlan 3<br />* routeing between vlans goes through that TP-Link 4900</p><p>This means when both VMs are copying data this data is leaving the ESX, entering the TP-Link device, routed in the TP-Link device fro one subnet to another, switched over to the other vlan, leaving the TP-Link device, entering the ESX and here finely reaches the other VM.</p><div class="codebox"><pre><code>e@ssh-outbound:~$ nc -v -v -l -n 2222 &gt;/dev/null
Connection from 10.214.1.50 port 2222 [tcp/*] accepted</code></pre></div><div class="codebox"><pre><code>e@ssh-inbound:~$ dd if=/dev/zero bs=1M count=512 | nc -v ssh-outbound 2222
Connection to ssh-outbound 2222 port [tcp/*] succeeded!
512+0 records in
512+0 records out
536870912 bytes (537 MB) copied, 10.9418 s, 49.1 MB/s</code></pre></div><p>That&#039;s like 400Mbit going full-duplex into that TP-Link device and coming from that TP-Link device on the very same lane.</p><p>So this device doesn&#039;t work for &quot;fiber&quot; connetions, but it&#039;s enough for your 100Mbit.</p><p>Regards,<br />Stephan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243693">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						13 Aug 2014, 02:02					</div>
				</div>
				<div class="post-content content">
					<p>My WDR4900:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# time sh -c &quot;dd if=/dev/zero of=/dev/null bs=4M count=4096&quot;
4096+0 records in
4096+0 records out
real    0m 51.88s
user    0m 0.04s
sys     0m 51.07s</code></pre></div><p>That&#039;s 315MB/s = 2.5Gbit/s&nbsp; not bad for a router!<br />BTW I&#039;m using it just as a plain AP for my 100Mbit line. Nothing even close to your setup!</p><p>While my i7-3770K does 35.6GB/S running Ubuntu on VirtualBox <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 13 Aug 2014, 02:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p243871">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">BigBrother</div>
					<div class="post-datetime">
						14 Aug 2014, 22:15					</div>
				</div>
				<div class="post-content content">
					<p>Good to know that the router will work with 100000kbit, but what is with VPN passthrough?<br />Can the router handle this connection without higher ping or connection troubles?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p244196">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						19 Aug 2014, 02:32					</div>
				</div>
				<div class="post-content content">
					<p>Depends on the VPN software and configuration.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>