<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Router as WiFi client *and* AP</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p295709">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">HellFire</div>
					<div class="post-datetime">
						12 Oct 2015, 03:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m planning on getting a portable (USB powered) router to use when I&#039;m away. I want to set it up to be a client on public WiFi, then have my own encrypted network (with VPN uplink) for all my devices. Can I actually do this with openwrt? It&#039;s been years since I&#039;ve used it. With dd-wrt (and stock firmware, but that doesn&#039;t have OpenVPN) I could configure all of it through the web interface, but I have no problem doing it manually with onboot/firewall scripts (dd-wrt don&#039;t support any of the USB powered routers).</p><p>Basically this is what I&#039;m after:<br /><a href="http://www.planex.net/product/router/image/MZK-W300HP_chart5.jpg"><span class="postimg"><img src="http://www.planex.net/product/router/image/MZK-W300HP_chart5.jpg" alt="http://www.planex.net/product/router/image/MZK-W300HP_chart5.jpg" /></span></a></p><p>I&#039;m guessing I&#039;d be using <a href="http://wiki.openwrt.org/doc/recipes/routedclient">this</a> as a starting point for my config.<br />Currently my router choices are the TP-Link <a href="http://uk.tp-link.com/products/details/cat-9_TL-WR802N.html">TL-WR802N</a> and <a href="http://uk.tp-link.com/products/details/cat-4691_TL-MR3040.html">TL-MR3040</a>, but I&#039;d prefer to use the WR802N.</p>											<p class="post-edited">(Last edited by <strong>HellFire</strong> on 12 Oct 2015, 03:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295716">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						12 Oct 2015, 05:19					</div>
				</div>
				<div class="post-content content">
					<p>The basic answer is yes.</p><p>There are a few threads on routers that perform these tasks already.<br /><a href="https://forum.openwrt.org/viewtopic.php?id=59101">https://forum.openwrt.org/viewtopic.php?id=59101</a><br /><a href="https://forum.openwrt.org/search.php?search_id=815417125">https://forum.openwrt.org/search.php?se … =815417125</a><br /><a href="https://forum.openwrt.org/viewtopic.php?id=53014">https://forum.openwrt.org/viewtopic.php?id=53014</a><br /><a href="https://forum.openwrt.org/viewtopic.php?id=60110">https://forum.openwrt.org/viewtopic.php?id=60110</a><br /><a href="https://forum.openwrt.org/viewtopic.php?id=48401">https://forum.openwrt.org/viewtopic.php?id=48401</a><br /><a href="https://forum.openwrt.org/viewtopic.php?id=55077">https://forum.openwrt.org/viewtopic.php?id=55077</a></p><p>The TOH can be sorted to help you find all the available devices. Search the first column on &quot;travel&quot;.<br /><a href="http://wiki.openwrt.org/toh/views/toh_extended_all?dataflt">http://wiki.openwrt.org/toh/views/toh_e … ll?dataflt</a>[Device+Type*~]=travel</p><p>Its really hard to suggest buying anything that does not have at least 8MB flash and 32 MB Memory, though there are a few with 16/64.&nbsp; Personally I think the best choice based on hardware is the Kingston MLWG2 as it has the most of everything in it.&nbsp; The gl.inet is a good choice it you want an unpowered unit as it comes with OpenWRT installed and it&#039;s GUI is easier to use on a portable device than the standard LuCi interface.&nbsp; They will becoming out with a 16/128 unit in the near future.&nbsp; <a href="http://www.gl-inet.com/download/product-catalog_EN_20150930.pdf">http://www.gl-inet.com/download/product … 150930.pdf</a> page 5.</p><p>As for the link to the routed client, if you intend to use this as a plain old router with wireless on both sides then you do not need to install relayd.&nbsp; It&#039;s pretty much good to go out of the box.&nbsp; You only really need relayd if you want it to run as an AP bridge.</p><p>One thing you need to understand however is that there are issues with a single radio.&nbsp; Specifically the radio config for channel and band width must be the same on the LAN and the WAN.&nbsp; You may need to configure the LAN radio to match an AP you wish to connect to.&nbsp; Read my post here&nbsp; <a href="https://forum.openwrt.org/viewtopic.php?id=59678">https://forum.openwrt.org/viewtopic.php?id=59678</a>&nbsp; I have gotten around this by adding a second radio, but it has some of it&#039;s own issues.&nbsp; Save that for later, but suffice to say the problem is the same independent of device.</p><p>I run VPN on my HooToo, and get about 3-4Mbps to my home server with a good connection.&nbsp; I would strongly suggest the MT7620 processor as it&#039;s 50% faster than my HooToo.&nbsp; No benchmarks unfortunately.&nbsp; Also for the same reason the more memory the better.&nbsp; While there are a pair of HooToos with this CPU, the only one running today with a battery is the Kingstons.&nbsp; The new Gl.iNet will have this CPU and double the memory and be delivered with OpenWRT on day one (no dev), but no battery.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300249">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">unmesh</div>
					<div class="post-datetime">
						18 Nov 2015, 02:49					</div>
				</div>
				<div class="post-content content">
					<p>RangerZ,</p><p>Based on your post, I&#039;m inclined to buy a gl.inet device. Do you know if its non-LuCi user interface has direct support to establish a connection to a WISP using a wireless-only client? Ideally I&#039;d be able to use either the wired WAN port or the wireless rdio for the uplink depending on what is available.</p><p>Also, any guidance to making the router an OpenVPN endpoint when needed will be greatly appreciated. (I already know how to make my Windows laptop and my Android smartphone OpenVPN clients)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>