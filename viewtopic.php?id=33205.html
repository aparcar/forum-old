<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> uboot for ar7241 with new features</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Nov 2017.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p149752">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tthrx</div>
					<div class="post-datetime">
						28 Nov 2011, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d realy like to share my uboot with you if you want the source codes just send a email to tthrx@126.com</p><p>this uboot can support all TP&#039;s WRT with AR7241+AR9287 such as Wr841nv7, wr3240v1</p><p>features:</p><p>4,&nbsp; &nbsp;test verion uboot, for testing only. <br/>&nbsp; &nbsp; &nbsp; to test if this uboot is suitable for your wrt. this version is running from RAM not norflash, just download it using TFTP and run.<br/>use the following command:<br/>ar7241#tftp 80000000 8Muboot4pub-debug-version.bin<br/>ar7241#go 80000000<br/>and you will see:<br/>&nbsp; &nbsp; U-boot 1.3.0-TT-0.1.0(NOV 15 2011 - 10:42:01)@TTHR<br/>&nbsp; &nbsp; &nbsp; &nbsp; <br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IN DEBUG VERSION</p><p>&nbsp; &nbsp; AP99(ar7241 ………………….<br/>otherwise this uboot doesn&#039;t support your wrt</p><p>3,&nbsp; OverClocking, this uboot support OverClocking configuration and using 420_420_210 as default frequ;<br/>&nbsp; &nbsp; usage:<br/>&nbsp; &nbsp; edit uboot.bin file with WinHex or other hex tool. find offset 0x01fd00 where you can find a MAGICNUM C700 and the following&nbsp; Bytes are the frequ config param each one contents six Bytes like 000100000828(for 400_400_200), the first tow Bytes is a Swicth unit and the next 4 Bytes is PLL setting param. if you want to use one of them just put the Switch unit =0001 and the previous ones =0000; caution OverClocking too much may cause the build in SWITCH NOT WORKING and you may&nbsp; even not flash it back</p><p>2,&nbsp; when your wrt is semibricked(this uboot is OK but your firmware is not working) you can just press the qss button until all LED flashing 3 times then the uboot will download the firmware file using tftp portocal,&nbsp; the fireware name must be &quot;factory.bin&quot; and the server machine ipaddr must be 192.168.1.23. and then just wait for rebooting;</p><br/><p>1, you should edit the MAC and PIN at offset 0x01fc00 and 0x01fe00, where i used build date as default settings</p><br/><p>just press tt to stop autoboot</p><p>for 4M flash Oly<br/><a href="http://www.right.com.cn/forum/attachment.php?aid=48671&amp;k=1b3f4e40370f203a0748b788095c1ca4&amp;t=1322488730&amp;sid=f230mAot3jG7qB0afcLWLLmNenO6JgIALiQRkQvtwj0caC8">http://www.right.com.cn/forum/attachmen … Qvtwj0caC8</a></p><p>for 8M flash only<br/><a href="http://www.right.com.cn/forum/attachment.php?aid=48672&amp;k=097fd0dd6d48a95095157bfe373f1483&amp;t=1322488730&amp;sid=f230mAot3jG7qB0afcLWLLmNenO6JgIALiQRkQvtwj0caC8">http://www.right.com.cn/forum/attachmen … Qvtwj0caC8</a></p><p>for 16M flash Only<br/><a href="http://www.right.com.cn/forum/attachment.php?aid=48673&amp;k=3dad22abe0d8af9577e466b2f1cb07f4&amp;t=1322488730&amp;sid=f230mAot3jG7qB0afcLWLLmNenO6JgIALiQRkQvtwj0caC8">http://www.right.com.cn/forum/attachmen … Qvtwj0caC8</a></p><p>and for test DO NOT FLASH IT INTO YOUR NORFLASH RUNNING ONLY IN RAM<br/><a href="http://www.right.com.cn/forum/attachment.php?aid=48928&amp;k=2c8620f2df630b04f39e3d62ca9b6d22&amp;t=1322560251&amp;sid=b34e%2FGBW3lVxUax%2F75mVa8%2BYvd3RniNTXrBeO7%2B2ZTWSPvk">http://www.right.com.cn/forum/attachmen … 2B2ZTWSPvk</a></p><p>art file?for wr841nv7 AR9287 only<br/><a href="http://www.right.com.cn/forum/attachment.php?aid=48903&amp;k=e6e33097bc48ad6f2f495e65590bca7e&amp;t=1322489037&amp;sid=a098YHOIbJNSid9C86RgHJCsL%2BoLBY347nkgOq8Pv5KbPW4">http://www.right.com.cn/forum/attachmen … q8Pv5KbPW4</a></p>											<p class="post-edited">(Last edited by <strong>tthrx</strong> on 29 Nov 2011, 11:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p163181">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Dioptimizer</div>
					<div class="post-datetime">
						3 Apr 2012, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>28.03.12</p><p>Hello <strong>tthrx</strong>.<br/>I am interested in your ideas and development to boot uboot. But<br/>unfortunately, no link in this topic forum does not work.</p><p>Be so kind, please update the links in the forum topic or share<br/>uboot.bin separately for testing and for the firmware, it would also<br/>be interesting to see the source code. I have a MR3220 (AR7241 with 4M<br/>flash), I would like to put your ideas on the page wiki:<br/><a href="http://wiki.openwrt.org/ru/toh/tp-link/tl-mr3420">http://wiki.openwrt.org/ru/toh/tp-link/tl-mr3420</a><br/>and this forum:<br/><a href="https://forum.openwrt.org/viewtopic.php?id=34993">Debrick Routers with AR724x processors Using JTAG</a></p><p> (of course with link to the source - forum) if you do not mind.<br/>==========================================<br/>02.04.12</p><p>Hello.<br/>I previously wrote to you requesting compiled uboot you with the<br/>possibility load it from memory<br/>I will not to spoil you &quot;party&quot; for the exclusive distribution solutions.<br/>I just wanted to (as an enthusiast) to use your uboot, to test<br/>debugging AR7241 via ejtag using OpenOCD. The process of initializing<br/>CPU / DDR / AHB and memory registers - was successful. It remains to<br/>check the options to debug via memory over ejtag.</p><p>I ask you again, please link your uboot (debug version) for AP99 to<br/>some (not Chinese) resource to ordinary mortals that people can use it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165754">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tthrx</div>
					<div class="post-datetime">
						25 Apr 2012, 11:20					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m afraid I can&#039;t offer another link. I&#039;ve sent all 4 uboot.bin and the source codes to you. Feel free to use or modify them . Good Luck</p>											<p class="post-edited">(Last edited by <strong>tthrx</strong> on 1 May 2012, 04:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165765">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						25 Apr 2012, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>Does the uboot overclocking work? How much performance improvements can be obtained.<br/>If yes I am very interested to know how to extend this to other TP-Link Routers running similar processors.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166202">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tthrx</div>
					<div class="post-datetime">
						1 May 2012, 04:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Does the uboot overclocking work? How much performance improvements can be obtained.<br/>If yes I am very interested to know how to extend this to other TP-Link Routers running similar processors.</p></blockquote></div><p>well it seems that my router does not gain much improvements from it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166253">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						1 May 2012, 20:15					</div>
				</div>
				<div class="post-content content">
					<p>Can you give further details?<br/>What is the bogomips difference?<br/>Can you try running the OpenSSL &#039;benchmark&#039;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176793">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">FPeter</div>
					<div class="post-datetime">
						3 Sep 2012, 20:03					</div>
				</div>
				<div class="post-content content">
					<p>hi tthrx!</p><p>do You see any chance to exchange the SPI flash to an SPI-wired SD/MicroSD card, and use it as boot device? or is it possible to wire an SD card parallel with the flash chip and use it with an additional CS GPIO pin ?</p><p>regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193240">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						26 Feb 2013, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>Tested and working ok on ar7240 cxhipset (tplink wr741nd v2.4)</p><p>Mirrorred tthrxn files so everybody can download them:<br/><a href="http://www.mediafire.com/?ck2d6kc6n47ob">http://www.mediafire.com/?ck2d6kc6n47ob</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p211711">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Tolyan</div>
					<div class="post-datetime">
						6 Sep 2013, 08:19					</div>
				</div>
				<div class="post-content content">
					<p>Hello.<br/>Who has the source code of this project?<br/>Please share</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>