<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54G v2 usb mod config, where do I find contents of my thumb drive</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p350382">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">wa2ise</div>
					<div class="post-datetime">
						27 Jan 2017, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>I have a WRT54G v2 router I flashed with openwrt 10.03.1 and I did the hardware mod for a USB port. However, I&#039;m a rank beginner noob when it comes to the firmware/software side.&nbsp; My thumb drive uses a FAT file system.&nbsp; And installed various software packages: <br />kmod-fs-ext2 &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-ext3 &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-hfs &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-msdos &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-nfs &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-nfs-common &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-ntfs &nbsp; &nbsp; 2.4.37.9-1<br />kmod-fs-vfat&nbsp; &nbsp; 2.4.37.9-1<br />kmod-ipt-core &nbsp; &nbsp; 2.4.37.9-1<br />kmod-scsi-core &nbsp; &nbsp; 2.4.37.9-1<br />kmod-usb-core &nbsp; &nbsp; 2.4.37.9-1<br />kmod-usb-net &nbsp; &nbsp; 2.4.37.9-1<br />kmod-usb-ohci &nbsp; &nbsp; 2.4.37.9-1<br />kmod-usb-storage &nbsp; &nbsp; 2.4.37.9-1<br />kmod-usb-uhci &nbsp; &nbsp; 2.4.37.9-1<br />kmod-usb2 &nbsp; &nbsp; 2.4.37.9-1</p><p>I imagine some of the above are not necessary, and hopefully don&#039;t interfere with each other...</p><p>I did a dmesg (via a SSH connection into the router)</p><p>root@OpenWrt:~# dmesg<br />CPU revision is: 00029007<br />Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, linesize 16 bytes.<br />Linux version 2.4.37.9 (jow@nd-build-02.linux-appliance.net) (gcc version 3.4.6 (OpenWrt-2.0<br />)) #12 Wed Dec 21 03:33:39 CET 2011<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitr<br />d console=ttyS0,115200<br />CPU: BCM4712 rev 1 at 200 MHz<br />Using 100.000 MHz high precision timer.<br />Calibrating delay loop... 197.83 BogoMIPS<br />Memory: 14232k/16384k available (1457k kernel code, 2152k reserved, 100k data, 84k init, 0k <br />highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: Initializing host<br />PCI: Fixing up bus 0<br />PCI: Fixing up bridge<br />PCI: Setting latency timer of device 01:00.0 to 64<br />PCI: Fixing up bus 1<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />Registering mini_fo version $Id$<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 3) is a 16550A<br />b44.c:v0.93 (Mar, 2004)<br />PCI: Setting latency timer of device 00:02.0 to 64<br />eth0: Broadcom 47xx 10/100BaseT Ethernet 00:12:17:ac:8e:95<br />Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0<br />cfi_cmdset_0001: Erase suspend on write enabled<br />0: offset=0x0,size=0x2000,blocks=8<br />1: offset=0x10000,size=0x10000,blocks=63<br />Using word write method<br />Flash device: 0x400000 at 0x1c000000<br />bootloader size: 262144<br />Physically mapped flash: Filesystem type: squashfs, size=0x1a99ba<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;cfe&quot;<br />0x00040000-0x003f0000 : &quot;linux&quot;<br />0x000bd400-0x00270000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />0x00270000-0x003f0000 : &quot;rootfs_data&quot;<br />sflash: found no supported devices<br />Initializing Cryptographic API<br />IEEE 802.2 LLC for Linux 2.1 (c) 1996 Tim Alpaerts<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />Linux IP multicast router 0.06 plus PIM-SM<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 84k freed<br />diag: Detected &#039;Linksys WRT54G/GS/GL&#039;<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />roboswitch: Probing device eth0: No Robo switch in managed mode found, phy_id = 0xffffffff<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />SCSI subsystem driver Revision: 1.00<br />usb.c: registered new driver usbdevfs<br />usb.c: registered new driver hub<br />Journalled Block Device driver loaded<br />PCI: Setting latency timer of device 00:04.0 to 64<br />usb-ohci.c: USB OHCI at membase 0xb8004000, IRQ 2<br />usb-ohci.c: usb-00:04.0, PCI device 14e4:4716<br />usb.c: new USB bus registered, assigned bus number 1<br />hub.c: USB hub found<br />hub.c: 2 ports detected<br />uhci.c: USB Universal Host Controller Interface driver v1.1<br />Initializing USB Mass Storage driver...<br />usb.c: registered new driver usb-storage<br />USB Mass Storage support registered.<br />hub.c: new USB device 00:04.0-1, assigned address 2<br />scsi0 : SCSI emulation for USB Mass Storage devices<br />&nbsp; Vendor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Model: USB Flash Memory&nbsp; Rev: 5.00<br />&nbsp; Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0<br />SCSI device sda: 4028416 512-byte hdwr sectors (2063 MB)<br />sda: Write Protect is off<br />Partition check:<br /> /dev/scsi/host0/bus0/target0/lun0: p1<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 2<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /overlay<br />mtdblock: erase of region [0x0, 0x10000] on &quot;nvram&quot; failed<br />jffs2.bbc: SIZE compression mode activated.<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />There is already a switch registered on the device &#039;eth0&#039;<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />eth0.0: add 01:00:5e:00:00:01 mcast address to master interface<br />eth0.1: add 01:00:5e:00:00:01 mcast address to master interface<br />eth0.0: dev_set_promiscuity(master, 1)<br />device eth0 entered promiscuous mode<br />device eth0.0 entered promiscuous mode<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: port 1(eth0.0) entering forwarding state<br />br-lan: topology change detected, propagating<br />PCI: Setting latency timer of device 00:01.0 to 64<br />PCI/DMA<br />wl0: wlc_attach: chiprev 1 coreunit 0 corerev 7 cccap 0x4876a maccap 0x0 band 2.4G, phy_type<br /> 2 phy_rev 2 ana_rev 2<br />wl0: Broadcom BCM4320 802.11 Wireless Controller 4.150.10.5<br />NTFS driver v1.1.22 [Flags: R/O MODULE]<br />CSLIP: code copyright 1989 Regents of the University of California<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2002 Netfilter core team<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 352 bytes per conntrack<br />uhci.c: USB Universal Host Controller Interface driver v1.1<br />usb.c: USB disconnect on device 00:04.0-1 address 2<br />USB device disconnected from the SCSI subsystem<br />hub.c: new USB device 00:04.0-1, assigned address 3<br />&nbsp; Vendor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Model: USB Flash Memory&nbsp; Rev: 5.00<br />&nbsp; Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0<br />SCSI device sda: 4028416 512-byte hdwr sectors (2063 MB)<br />sda: Write Protect is off<br /> /dev/scsi/host0/bus0/target0/lun0: p1<br />USB device connected to the SCSI subsystem<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 3<br />usb.c: USB disconnect on device 00:04.0-1 address 3<br />USB device disconnected from the SCSI subsystem<br />hub.c: new USB device 00:04.0-1, assigned address 4<br />&nbsp; Vendor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Model: USB Flash Memory&nbsp; Rev: 5.00<br />&nbsp; Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0<br />SCSI device sda: 4028416 512-byte hdwr sectors (2063 MB)<br />sda: Write Protect is off<br /> /dev/scsi/host0/bus0/target0/lun0: p1<br />USB device connected to the SCSI subsystem<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 4<br />usb.c: USB disconnect on device 00:04.0-1 address 4<br />USB device disconnected from the SCSI subsystem<br />hub.c: new USB device 00:04.0-1, assigned address 5<br />scsi1 : SCSI emulation for USB Mass Storage devices<br />&nbsp; Vendor: SanDisk&nbsp; &nbsp;Model: Cruzer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rev: 1100<br />&nbsp; Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Attached scsi removable disk sda at scsi1, channel 0, id 0, lun 0<br />SCSI device sda: 7821312 512-byte hdwr sectors (4005 MB)<br />sda: Write Protect is off<br /> /dev/scsi/host1/bus0/target0/lun0: p1<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 5<br />root@OpenWrt:~# </p><p>So it looks like the system is seeing my thumb drive (I can see my plugging and unplugging various thumb drives above), but I haven&#039;t figured out where I can go (directory path) to look at the files on this thumb drive.&nbsp; In the SSH session, I can&#039;t find the /dev/sda1 directory or where /home is located.&nbsp; These are directories, yes?&nbsp; And is vfat good for thumb drives that use a FAT system?&nbsp; </p><p>Here&#039;s the &quot;mount points-mount entry&quot; info at the luci web page of the router</p><p>General settings <br />Device&nbsp; /dev/sda1<br />mount point&nbsp; /home<br />file system&nbsp; vfat<br />run filesystem check&nbsp; (yes)</p><p>What I&#039;m hoping to be able to do is access say image files or html files from a browser on a computer on the same network this router is on.&nbsp; Like <br />192.168.1.115:80/directorypath/example.html<br />and have it show up in the browser like a web page. </p><p>Thanks in advance, I did lots of searching, but didn&#039;t find the clues I need...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350389">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						28 Jan 2017, 03:06					</div>
				</div>
				<div class="post-content content">
					<p>Well, what is the output of &#039;mount&#039; in your ssh session?<br />If it isn&#039;t mounted yet, you can do &#039;mount /dev/sda1 /home -t vfat&#039; via ssh.<br />/dev/sda1 is no directory, it is a file representing your first partition on the flash drive (as a binary container, without filesystem interpretation of the data).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350393">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">wa2ise</div>
					<div class="post-datetime">
						28 Jan 2017, 06:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi, This is what I get when I say &quot;mount&quot; in a SSH session:</p><p>root@OpenWrt:~# mount<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro)<br />none on /dev type devfs (rw)<br />none on /proc type proc (rw)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev)<br />devpts on /dev/pts type devpts (rw)<br />/dev/mtdblock/4 on /overlay type jffs2 (rw)<br />mini_fo:/overlay on / type mini_fo (rw)<br />none on /proc/bus/usb type usbfs (rw)<br />root@OpenWrt:~#</p><p>When I do</p><p>root@OpenWrt:~# mount /dev/sda1 /home -t vfat</p><p>I get</p><p>root@OpenWrt:~# mount<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro)<br />none on /dev type devfs (rw)<br />none on /proc type proc (rw)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev)<br />devpts on /dev/pts type devpts (rw)<br />/dev/mtdblock/4 on /overlay type jffs2 (rw)<br />mini_fo:/overlay on / type mini_fo (rw)<br />none on /proc/bus/usb type usbfs (rw)<br />root@OpenWrt:~# </p><p>Looks the same (unless I missed something).&nbsp; Anyway, I&#039;m clueless as to what any of this means...&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />&nbsp; As I&#039;m a software noob.&nbsp; (I&#039;m a hardware guy)</p><p>What command in SSH would I say to see a list of the files and directories on the thumb drive?&nbsp; Assuming no configuration or such errors above</p><p>again TIA.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350499">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						29 Jan 2017, 03:35					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>dmesg | tail</code></pre></div><p>should give some details on what&#039;s going on here, after trying to mount the partition.</p><p>Basically, to access files in a files ystem (be it a partition or a binary file), you need to mount it to a certain directory, wherein the file structure (files and directories) will appear. So, usually, mount is invoked with the location of the file system file and the destination directory (mount point) - and optionally with files ystem type (although this is usually autoprobed). After that, you can move between directories with &quot;cd&quot; and list directory contents with &quot;ls&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350503">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wa2ise</div>
					<div class="post-datetime">
						29 Jan 2017, 04:08					</div>
				</div>
				<div class="post-content content">
					<p>I did a </p><p>root@OpenWrt:~# dmesg | tail<br />PCI: Setting latency timer of device 00:01.0 to 64<br />PCI/DMA<br />wl0: wlc_attach: chiprev 1 coreunit 0 corerev 7 cccap 0x4876a maccap 0x0 band 2<br />.4G, phy_type 2 phy_rev 2 ana_rev 2<br />wl0: Broadcom BCM4320 802.11 Wireless Controller 4.150.10.5<br />NTFS driver v1.1.22 [Flags: R/O MODULE]<br />CSLIP: code copyright 1989 Regents of the University of California<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2002 Netfilter core team<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 352 bytes per conntrack<br />uhci.c: USB Universal Host Controller Interface driver v1.1<br />root@OpenWrt:~# </p><p>In the luci web pages of this OpenWRT router, in &quot;system&quot; and then &quot;Mount Points&quot; it says the device is&nbsp; /dev/sda1 (which I can&#039;t find) and the mount point is at &quot;/home&quot; which I also cannot find.&nbsp; Where should I find /home?</p><p>doing <br />root@OpenWrt:~# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1K-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1728&nbsp; &nbsp; &nbsp; 1728&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7156&nbsp; &nbsp; &nbsp; &nbsp;104&nbsp; &nbsp; &nbsp; 7052&nbsp; &nbsp;1% /tmp<br />/dev/mtdblock/4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1536&nbsp; &nbsp; &nbsp; 1296&nbsp; &nbsp; &nbsp; &nbsp;240&nbsp; 84% /overlay<br />mini_fo:/overlay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1728&nbsp; &nbsp; &nbsp; 1728&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /<br />root@OpenWrt:~# </p><p>I don&#039;t see /home&nbsp; </p><p>Probably something fundamental I&#039;m missing...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350553">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						29 Jan 2017, 23:47					</div>
				</div>
				<div class="post-content content">
					<p>Maybe the lack of /home is the reason, I just checked on my router, it doesn&#039;t have a /home directory either. So, better use /mnt instead. I&#039;m just wondering why there is no error message.<br />Over all, I would recommend to start over again with booting the router, plugging in the flash drive, connecting via ssh and run the following commands (and post all the shell logs):<br /></p><div class="codebox"><pre><code>dmesg | tail
ls /
ls /dev
mount /dev/sda1 /mnt -t vfat
dmesg | tail
lsmod</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350566">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">wa2ise</div>
					<div class="post-datetime">
						30 Jan 2017, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>I did the above and got this:</p><p>root@OpenWrt:~# dmesg | tail<br />scsi0 : SCSI emulation for USB Mass Storage devices<br />&nbsp; Vendor: SanDisk&nbsp; &nbsp;Model: Cruzer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rev: 1100<br />&nbsp; Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0<br />SCSI device sda: 7821312 512-byte hdwr sectors (4005 MB)<br />sda: Write Protect is off<br />Partition check:<br /> /dev/scsi/host0/bus0/target0/lun0: p1<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 2<br />root@OpenWrt:~# <br />root@OpenWrt:~# ls /<br />bin&nbsp; &nbsp; &nbsp; etc&nbsp; &nbsp; &nbsp; mnt&nbsp; &nbsp; &nbsp; proc&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp;sys&nbsp; &nbsp; &nbsp; usr&nbsp; &nbsp; &nbsp; www<br />dev&nbsp; &nbsp; &nbsp; lib&nbsp; &nbsp; &nbsp; overlay&nbsp; rom&nbsp; &nbsp; &nbsp; sbin&nbsp; &nbsp; &nbsp;tmp&nbsp; &nbsp; &nbsp; var<br />root@OpenWrt:~# <br />root@OpenWrt:~# ls /dev<br />console&nbsp; &nbsp;gpio&nbsp; &nbsp; &nbsp; mtd&nbsp; &nbsp; &nbsp; &nbsp;ppp&nbsp; &nbsp; &nbsp; &nbsp;random&nbsp; &nbsp; tts&nbsp; &nbsp; &nbsp; &nbsp;zero<br />cua&nbsp; &nbsp; &nbsp; &nbsp;kmem&nbsp; &nbsp; &nbsp; mtdblock&nbsp; ptmx&nbsp; &nbsp; &nbsp; root&nbsp; &nbsp; &nbsp; tty<br />discs&nbsp; &nbsp; &nbsp;log&nbsp; &nbsp; &nbsp; &nbsp;null&nbsp; &nbsp; &nbsp; pts&nbsp; &nbsp; &nbsp; &nbsp;scsi&nbsp; &nbsp; &nbsp; urandom<br />full&nbsp; &nbsp; &nbsp; mem&nbsp; &nbsp; &nbsp; &nbsp;port&nbsp; &nbsp; &nbsp; pty&nbsp; &nbsp; &nbsp; &nbsp;shm&nbsp; &nbsp; &nbsp; &nbsp;usb<br />root@OpenWrt:~# <br />root@OpenWrt:~# mount /dev/sda1 /mnt -t vfat<br />root@OpenWrt:~# <br />root@OpenWrt:~# dmesg | tail<br />scsi0 : SCSI emulation for USB Mass Storage devices<br />&nbsp; Vendor: SanDisk&nbsp; &nbsp;Model: Cruzer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rev: 1100<br />&nbsp; Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0<br />SCSI device sda: 7821312 512-byte hdwr sectors (4005 MB)<br />sda: Write Protect is off<br />Partition check:<br /> /dev/scsi/host0/bus0/target0/lun0: p1<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 2<br />root@OpenWrt:~# <br />root@OpenWrt:~# lsmod<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Tainted: P&nbsp; <br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9600&nbsp; 0 <br />ip_nat_tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1768&nbsp; 0 <br />ip_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;1628&nbsp; 1 <br />ip_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2296&nbsp; 0 <br />ip_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 3028&nbsp; 1 <br />ip_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2920&nbsp; 0 <br />ip_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 4172&nbsp; 1 <br />ipt_MASQUERADE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1316&nbsp; 1 <br />iptable_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 20888&nbsp; 4 ip_nat_tftp ip_nat_irc ip_nat_ftp ipt_MASQUERAD<br />E<br />ipt_NOTRACK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 616&nbsp; 0 <br />iptable_raw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1164&nbsp; 1 <br />ipt_state&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 424&nbsp; 3 <br />ip_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;23376&nbsp; 3 ip_nat_tftp ip_conntrack_tftp ip_nat_irc ip_con<br />ntrack_irc ip_nat_ftp ip_conntrack_ftp ipt_MASQUERADE iptable_nat ipt_NOTRACK i<br />pt_state<br />pppoe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9368&nbsp; 0 <br />pppox&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1196&nbsp; 1 pppoe<br />ipt_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3932&nbsp; 2 <br />ipt_TCPMSS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2316&nbsp; 0 <br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3804&nbsp; 0 <br />ipt_comment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 284&nbsp; 0 <br />ipt_multiport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 748&nbsp; 0 <br />ipt_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 556&nbsp; 0 <br />ipt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 892&nbsp; 1 <br />iptable_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2156&nbsp; 1 <br />iptable_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1676&nbsp; 1 <br />ip_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 16960 16 ipt_MASQUERADE iptable_nat ipt_NOTRACK iptable_<br />raw ipt_state ipt_REJECT ipt_TCPMSS ipt_LOG ipt_comment ipt_multiport ipt_mac i<br />pt_limit iptable_mangle iptable_filter<br />nfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 88712&nbsp; 0 <br />msdos&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6028&nbsp; 0 <br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8044&nbsp; 0 <br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25772&nbsp; 0 pppoe pppox ppp_async<br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6064&nbsp; 0 ppp_generic<br />vfat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11340&nbsp; 0 <br />fat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 34448&nbsp; 0 msdos vfat<br />ntfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;59152&nbsp; 0 <br />lockd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 61804&nbsp; 0 nfs<br />sunrpc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;76944&nbsp; 0 nfs lockd<br />hfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 94640&nbsp; 0 <br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 666560&nbsp; 0 <br />usb-storage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 70144&nbsp; 0 <br />usb-ohci&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;19252&nbsp; 0 <br />sd_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12500&nbsp; 0 <br />ext2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;40720&nbsp; 0 <br />ext3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;71436&nbsp; 0 <br />jbd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 51152&nbsp; 0 ext3<br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 71296&nbsp; 1 usb-storage usb-ohci<br />scsi_mod&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;67152&nbsp; 2 usb-storage sd_mod<br />switch-adm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6292&nbsp; 0 <br />switch-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5104&nbsp; 0 switch-adm<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;57968&nbsp; 0 <br />root@OpenWrt:~# </p><p>I also did a logread:</p><p>Jan 30 00:43:05 OpenWrt authpriv.info dropbear[875]: Child connection from 192.<br />168.1.104:54507<br />Jan 30 00:43:16 OpenWrt authpriv.notice dropbear[875]: Password auth succeeded <br />for &#039;root&#039; from 192.168.1.104:54507<br />Jan 30 00:43:51 OpenWrt user.info kernel: hub.c: new USB device 00:04.0-1, assi<br />gned address 2<br />Jan 30 00:43:53 OpenWrt user.info kernel: scsi0 : SCSI emulation for USB Mass S<br />torage devices<br />Jan 30 00:43:53 OpenWrt user.warn kernel:&nbsp; &nbsp;Vendor: SanDisk&nbsp; &nbsp;Model: Cruzer&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; Rev: 1100<br />Jan 30 00:43:53 OpenWrt user.warn kernel:&nbsp; &nbsp;Type:&nbsp; &nbsp;Direct-Access&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; ANSI SCSI revision: 02<br />Jan 30 00:43:53 OpenWrt user.warn kernel: Attached scsi removable disk sda at s<br />csi0, channel 0, id 0, lun 0<br />Jan 30 00:43:53 OpenWrt user.warn kernel: SCSI device sda: 7821312 512-byte hdw<br />r sectors (4005 MB)<br />Jan 30 00:43:53 OpenWrt user.warn kernel: sda: Write Protect is off<br />Jan 30 00:43:53 OpenWrt user.info kernel: Partition check:<br />Jan 30 00:43:53 OpenWrt user.info kernel:&nbsp; /dev/scsi/host0/bus0/target0/lun0: p<br />1<br />Jan 30 00:43:53 OpenWrt user.debug kernel: WARNING: USB Mass Storage data integ<br />rity not assured<br />Jan 30 00:43:53 OpenWrt user.debug kernel: USB Mass Storage device found at 2<br />root@OpenWrt:/mnt/usb# </p><p>I did an ls in this directory, but nothing there, below:<br />root@OpenWrt:/mnt/usb# ls<br />root@OpenWrt:/mnt/usb# ls -l</p><p>Seems the router knows that a thumb drive is present, but doesn&#039;t know what to do with it...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350599">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						30 Jan 2017, 13:55					</div>
				</div>
				<div class="post-content content">
					<p>Then try<br /></p><div class="codebox"><pre><code>mount /dev/scsi/host0/bus0/target0/lun0:p1 /mnt/usb</code></pre></div><p>You can also try auto-completion by using the Tab-key. Although I don&#039;t remember how much that worked on such ancient systems.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>