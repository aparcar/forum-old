<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WR841N(D) Extended Build [v3,v5,v7,v8,v9]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 27 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=54604&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=54604&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=54604&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=54604&amp;p=5.html">5</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p291713">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						14 Sep 2015, 00:29					</div>
				</div>
				<div class="post-content content">
					<p>Andre,</p><p>I wouldn&#039;t expect more than 2 MB/s (16 Mb/s) on a device like WDR4300. I&#039;m getting just 1.5 MB/s (12 Mb/s) on WR841N after all.</p><p>I&#039;m using the official polarssl (mbed tls) package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291716">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">andre.beat</div>
					<div class="post-datetime">
						14 Sep 2015, 00:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>amq wrote:</cite><blockquote><p>Andre,</p><p>I wouldn&#039;t expect more than 2 MB/s (16 Mb/s) on a device like WDR4300. I&#039;m getting just 1.5 MB/s (12 Mb/s) on WR841N after all.</p><p>I&#039;m using the official polarssl (mbed tls) package.</p></blockquote></div><p>Yes, I messed up the units. I noticed it and edited my post but your reply was too fast ;-) Thanks for the help anyway, at least now I know my results are ok :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291839">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">julianocs</div>
					<div class="post-datetime">
						14 Sep 2015, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>amq,</p><p>Can i ugrade from your previous version preserving settings?</p><p>Thanks.<br />Juliano</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291862">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						14 Sep 2015, 23:39					</div>
				</div>
				<div class="post-content content">
					<p>julianocs, yes, there should be no problem with preserving settings (I&#039;ve upgraded this way myself).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291889">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">julianocs</div>
					<div class="post-datetime">
						15 Sep 2015, 03:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi amq.</p><p>I upgrade all of my routers... Everything ok.<br />I´m getting a lot of messages like these in system log:</p><p>SSDP packet sender [fdc3:963d:aa81::1]:37295 not from a LAN, ignoring</p><br /><p>Do you know what could be?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291923">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						15 Sep 2015, 11:54					</div>
				</div>
				<div class="post-content content">
					<p>It comes from miniupnp.</p><p>Similar reports:<br /><a href="https://github.com/miniupnp/miniupnp/issues/32">https://github.com/miniupnp/miniupnp/issues/32</a><br /><a href="https://dev.openwrt.org/ticket/12997">https://dev.openwrt.org/ticket/12997</a><br /><a href="https://forum.pfsense.org/index.php?topic=83189.0">https://forum.pfsense.org/index.php?topic=83189.0</a></p><p>Since [fdc3:963d:aa81::1] is a global address, it could be that in your configuration miniupnp is accessible from the outside.</p>											<p class="post-edited">(Last edited by <strong>amq</strong> on 15 Sep 2015, 11:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291947">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">Tridon</div>
					<div class="post-datetime">
						15 Sep 2015, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi amq !</p><p>I have been eagerly waiting for your update and am finally happy to see it ! If you could only clear a few doubts for me :</p><p> [Signal: -39 dBm / Noise: -95 dBm] &nbsp; &nbsp; Rx[-39 dBm&nbsp; &nbsp; -95 dBm&nbsp; &nbsp; 1.0 Mbit/s, MCS 0]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Tx [20MHz&nbsp; &nbsp; 57.8 Mbit/s, MCS 5, 20MHz]</p><p>Even though I have set the channel width to 40Mhz, it seems that it auto selects 20 Mhz. How do I force 40 Mhz as channel width ? What does MCS 0 / MCS 5 signify ? These are my current settings :</p><p>Channel: 13 (2.472 GHz) | Tx-Power: 19 dBm<br />Signal: -39 dBm | Noise: -95 dBm<br />Bitrate: 57.8 Mbit/s | Country: IN</p><p>Is there anything (besides buying another router / antenna that I could do to improve my WiFi setup and maximise the speeds ? Or you could point me towards the necessary resources and I could read for myself. I&#039;m also confused as to what &quot;Distance Optimization&quot;, &quot;Fragmentation Threshold&quot;, &quot;RTS/CTS Threshold&quot; do to the WiFi connection.</p><p>Any help is appreciated.</p><p>Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291994">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						15 Sep 2015, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Tridon,</p><p>Do you have &quot;option noscan &#039;1&#039;&quot; in /etc/config/wireless?</p><p>... but I wouldn&#039;t use 40Mhz in crowded areas, it makes your router take twice as much radio space than usual.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292002">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">Tridon</div>
					<div class="post-datetime">
						15 Sep 2015, 23:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>amq wrote:</cite><blockquote><p>Tridon,</p><p>Do you have &quot;option noscan &#039;1&#039;&quot; in /etc/config/wireless?</p><p>... but I wouldn&#039;t use 40Mhz in crowded areas, it makes your router take twice as much radio space than usual.</p></blockquote></div><p>Hi amq,</p><p>No, I don&#039;t have that in my config. Also, I have only one other WiFi network in my neighbourhood, on channel 6.</p><p>Here&#039;s the contents of&nbsp; /etc/config/wireless :</p><p>&nbsp; &nbsp; config wifi-device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;mac80211&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode &#039;11g&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option path &#039;platform/ar934x_wmac&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode &#039;HT40&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option country &#039;IN&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel &#039;13&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option txpower &#039;19&#039;</p><p>&nbsp; &nbsp; config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;#&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hidden &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;#&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;lan&#039;</p><p>(The SSID and WiFi key have been replaced by a hash)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292016">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						16 Sep 2015, 01:32					</div>
				</div>
				<div class="post-content content">
					<p>Tridon,</p><p>Ok, adding &quot;option noscan &#039;1&#039;&quot; should force OpenWRT to use 40Mhz.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292084">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">felix__1</div>
					<div class="post-datetime">
						16 Sep 2015, 16:24					</div>
				</div>
				<div class="post-content content">
					<p>hi, thx for the firmware..it works great.</p><p>i would like to know is possible to put coova-chilli?</p><p>installing it from luci says there is no space.</p><p>thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292088">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						16 Sep 2015, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>felix__1,</p><p>I won&#039;t add coova-chilli in my image, but you can go ahead and build one yourself (you&#039;ll probably need to leave out OpenVPN).</p><p>Simply download Ubuntu / Lubuntu (my preference) 14.04, install the <a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence">prerequisites</a> and configure the image using <em>make menuconfig</em>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292092">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">felix__1</div>
					<div class="post-datetime">
						16 Sep 2015, 16:38					</div>
				</div>
				<div class="post-content content">
					<p>thx for the reply</p><p>i need openvpn too... i&#039;m trying to build it leaving out all ipv6 and luci-openvnp and all other things in your post.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292562">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">TJKV</div>
					<div class="post-datetime">
						19 Sep 2015, 11:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>amq,</p><p>I seem to be unable to wget anything:</p><div class="codebox"><pre><code>root@OpenWrt:/tmp# wget &#039;http://exopenwrt.rlnd.black/exopenwrt.pub&#039;
wget: bad address &#039;exopenwrt.rlnd.black&#039;</code></pre></div><p>Updating lists through luci under System-&gt;Software also results in wget errors:</p><div class="codebox"><pre><code>wget: bad address &#039;downloads.openwrt.org&#039;
Collected errors:
 * opkg_download: Failed to download http://downloads.openwrt.org/chaos_calmer/15.05/ar71xx/generic/packages/base/Packages.gz, wget returned 1.</code></pre></div><p>and so on for each entry</p></blockquote></div><p>Disregard that, seems it was a simple dns misconfiguration <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>											<p class="post-edited">(Last edited by <strong>TJKV</strong> on 19 Sep 2015, 12:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292706">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">marco_silva85</div>
					<div class="post-datetime">
						20 Sep 2015, 19:35					</div>
				</div>
				<div class="post-content content">
					<p>Just upgraded from r45545 to 15.05.<br />In both of my WR841ND v8 routers, on LUCI&#039;s OpenVPN tab this shows up:<br /><span class="postimg"><img src="http://i.imgur.com/ZEDYvLu.png" alt="http://i.imgur.com/ZEDYvLu.png" /></span><br />(myvpn is a VPN configuration that I already had working on the previous images)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292723">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						20 Sep 2015, 22:15					</div>
				</div>
				<div class="post-content content">
					<p>marco_silva85,</p><p>Have you tried this?<br /></p><div class="quotebox"><cite>amq wrote:</cite><blockquote><p>If the OpenVPN page in Luci doesn&#039;t work:<br /></p><div class="codebox"><pre><code>mv /etc/config/openvpn /etc/config/openvpn.bak
touch /etc/config/openvpn</code></pre></div></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292747">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">marco_silva85</div>
					<div class="post-datetime">
						21 Sep 2015, 00:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>amq wrote:</cite><blockquote><p>marco_silva85,</p><p>Have you tried this?<br /></p><div class="quotebox"><cite>amq wrote:</cite><blockquote><p>If the OpenVPN page in Luci doesn&#039;t work:<br /></p><div class="codebox"><pre><code>mv /etc/config/openvpn /etc/config/openvpn.bak
touch /etc/config/openvpn</code></pre></div></blockquote></div></blockquote></div><p>but /etc/config/openvpn already had my previous (non-Luci) openvpn configuration with:</p><div class="codebox"><pre><code>config openvpn vpn1

        # Set to 1 to enable this instance:
        option enabled 1

        # Include OpenVPN configuration
        option config /etc/openvpn/server.conf

config openvpn vpn1tcp
        option enable 1
        option config /etc/openvpn/server-tcp.conf</code></pre></div><p>where I already had configurations in server.conf and server-tcp.conf, which are [openVPN sintax-correct] configs, as opposed to the UCI configs for Luci.<br />Guess it&#039;s just an error in Luci trying to interpret them (didn&#039;t test my VPN from outside yet).</p>											<p class="post-edited">(Last edited by <strong>marco_silva85</strong> on 21 Sep 2015, 00:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293257">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">gtxent</div>
					<div class="post-datetime">
						24 Sep 2015, 09:00					</div>
				</div>
				<div class="post-content content">
					<p>amq,</p><p>question.&nbsp; You have included ipset-dns in the latest release.&nbsp; Is this not to be used in conjunction with ipset?&nbsp; </p><p>What i would like to do is run all my traffic through VPN, except netflix and hulu.&nbsp; I have read tutorials&nbsp; and they all state you need both.&nbsp; Perhaps you have another way?</p><p>Thank You!</p><p>examples:</p><p><a href="http://git.zx2c4.com/ipset-dns/about/">http://git.zx2c4.com/ipset-dns/about/</a><br />and<br /><a href="https://www.danielfett.de/privat,blog,route-by-domain-name">https://www.danielfett.de/privat,blog,r … omain-name</a></p>											<p class="post-edited">(Last edited by <strong>gtxent</strong> on 24 Sep 2015, 09:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293423">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">lohchab1</div>
					<div class="post-datetime">
						25 Sep 2015, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>@amq</p><p>Can you Please also make a Build for TP LINK WR841n v10 it looks exactly same as its old v9 Version and I tried to Make a Build for v10 everything is working fine in it I have just Modified the Hardware Version of v9 [09] Firmware to v10 [10] of v9 Firmware BIN File using the Hex Editor.</p><p>I am just facing the issue with Wireless Coverage/Range Only Internal Antenna seems to be working in it 2 External Antennas are not working when OpenWRT is Installed in it.</p><p>Can anyone here help in resolving this..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293442">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">amq</div>
					<div class="post-datetime">
						25 Sep 2015, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>gtxent,<br />Yes, ipset-dns turns out to be pretty much useless without ipset (I found this out after publishing the image). For now, it looks like we don&#039;t have enough space for ipset though.</p><p>lohchab1,<br />Sorry, but v10 is not yet supported by OpenWRT. You could help by publishing the hardware details on wiki.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293755">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">gtxent</div>
					<div class="post-datetime">
						28 Sep 2015, 08:02					</div>
				</div>
				<div class="post-content content">
					<p>amq, </p><p>the ipset + ipset-dns packages, do you know how much space they require?&nbsp; also are there any dependancies?&nbsp; perhaps we could condense or remove unused packages?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293924">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">isamsunggalaxyw</div>
					<div class="post-datetime">
						29 Sep 2015, 14:01					</div>
				</div>
				<div class="post-content content">
					<p>amq</p><p>I have recently bought this router v10, but found that its not yet supported.</p><p>Am a newbie here can you please guide me how to find the &#039;hardware details&#039; of the router and publish it in the wiki?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294439">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">sameerabdulrahiman</div>
					<div class="post-datetime">
						3 Oct 2015, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>Dear amq,</p><p>I have Tp link Wr841 ND ver 9.2.I need to flash it to open wrt which includes open vpn.As i am using this just for open vpn.I tried ddwrt ,but it doesnt have open vpn because of low flash memory (4 mb).I will roll back to tp link stock firmware.Can you guide me from here please.</p><p>Regards<br />Sameer</p>											<p class="post-edited">(Last edited by <strong>sameerabdulrahiman</strong> on 3 Oct 2015, 10:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294680">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">OpenEverything</div>
					<div class="post-datetime">
						4 Oct 2015, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>Thanks so much for adding dnscrypt, amq. That complements this build quite nicely!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p294933">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">waqar</div>
					<div class="post-datetime">
						6 Oct 2015, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi amq,&nbsp; I appreciate the hard work you have put into compiling these builds. You have mentioned in later builds that you removed the USB support.&nbsp; I have WR841nd v7.2 and I have used all your builds from BB to CC one to flash my router. But after flashing even your oldest builds I wasn&#039;t able to use USB. Do i still need to installed kmod-core-usb and other packages. </p><p>I have done the hardware mod to add usb to the wr841. But i can&#039;t seem to be able to use USB even after following official guide and installing kmod usb packages. Can you please guide me as I have been very confused as to how i can build my own image. I don&#039;t need openVPN but really need to have USB support so that I can add more packages by using USB space. </p><p>Thanks in advance.</p><p>P.S Will appreciate if you can share one of your builds with pre installed usb support. Even if you have olders builds of Barrier Breaker or older laying around <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>waqar</strong> on 6 Oct 2015, 12:26)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 76 to 75 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=54604&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=54604&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=54604&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=54604&amp;p=5.html">5</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>