<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> strange runtime errors with new package</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p68950">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Hauke</div>
					<div class="post-datetime">
						30 May 2008, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>I am porting the gigaset isdn driver and frontend to openwrt. The packages are compiling but when running the frontend application on a testing system in VMware with newest svn kamikaze version I get the following error.</p><div class="codebox"><pre><code>root@OpenWrt:/usr/lib# gigacontr 
/usr/sbin/gigacontr: line 6: Ã¯Â¿Â½a1hÃ¯Â¿Â½a2pÃ¯Â¿Â½a3xÃ¯Â¿Â½a4Ã¯Â¿Â½Ã¯Â¿Â½a5HÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½=HÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½5ÃŠÂ°!Ã¯Â¿Â½%ÃŒÂ°!@Ã¯Â¿Â½%ÃŠÂ°!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã‚Â°!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!hÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!hÃ¯Â¿Â½pÃ¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½%Ã¯Â¿Â½Ã¯Â¿Â½!Ã¯Â¿Â½: not found
/usr/sbin/gigacontr: line 6: @@@@@@@@Ã¯Â¿Â½Ã¯Â¿Â½@@@@Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½: not found
/usr/sbin/gigacontr: line 6: ELF: not found
/usr/sbin/gigacontr: line 7: syntax error: &quot;)&quot; unexpected</code></pre></div><p>It also creates in the current directory an empty file named: Ã¯Â¿Â½ahÃ¯Â¿Â½apÃ¯Â¿Â½axÃ¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½aÃ¯Â¿Â½Ã¯Â¿Â½a</p><p>Does someone have any idea how to solve this error?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69166">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">vasquez</div>
					<div class="post-datetime">
						4 Jun 2008, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>gigacontr seems to be a script, but made for the bash shell or some other kind. OpenWRT uses ash from busybox. You have to port the script to busybox/ash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69190">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						4 Jun 2008, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Strange.&nbsp; I have encountered this on AR7 and other MIPS-based devices when you are trying to run a binary compiled using OpenWrt&#039;s buildroot on the standard firmware.</p><p>The standard firmware for the devices where I&#039;ve seen or heard of this happening have a uClibc compiled for MIPS-I.&nbsp; OpenWrt&#039;s uClibc is not compiled for MIPS-I, and when you link a binary against it and try to run it on the standard firmware, this is the sort of problem you get.</p><p>Not sure how this happens on VMware.</p><p>I can&#039;t seem to get to <a href="http://www.linux-mips.org">www.linux-mips.org</a> at the moment, but here are some Google-cached mailing list posts that might give you a hint about what&#039;s wrong with the binary you are trying to run, even if they don&#039;t tell you how it happened.</p><p>EDIT: I can get to <a href="http://www.linux-mips.org">www.linux-mips.org</a> now, so I&#039;ve updated the links.</p><p><a href="http://www.linux-mips.org/archives/linux-mips/2008-02/msg00058.html">http://www.linux-mips.org/archives/linu â€¦ 00058.html</a><br /><a href="http://www.linux-mips.org/archives/linux-mips/2008-02/msg00061.html">http://www.linux-mips.org/archives/linu â€¦ 00061.html</a><br /><a href="http://www.linux-mips.org/archives/linux-mips/2008-02/msg00062.html">http://www.linux-mips.org/archives/linu â€¦ 00062.html</a></p><p>i.e. run &quot;readelf&quot; on a working binary and the broken one and see what the differences are.</p>											<p class="post-edited">(Last edited by <strong>Wodin</strong> on 4 Jun 2008, 22:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69294">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Hauke</div>
					<div class="post-datetime">
						7 Jun 2008, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>I think the problem is that the package isn&#039;t compiled with the cross compiler but with the system compiler (x86_64) . Executing the binary build for openWRT on my x86_64 System is no problem, but executing it on a x86 system isn&#039;t working. It says &quot;cannot execute binary file&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69295">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						7 Jun 2008, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>LOL. Cross-compile using the OpenWrt build-system and it should work. Easiest to do cross-compilation is creating or adapting an existing OpenWrt package Makefile for your own package.</p>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 7 Jun 2008, 20:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69296">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Hauke</div>
					<div class="post-datetime">
						7 Jun 2008, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>This is the Makefile: <br /></p><div class="codebox"><pre><code>include $(TOPDIR)/rules.mk

PKG_NAME:=gigaset-frontend
PKG_VERSION:=0.5.3
PKG_RELEASE:=1

PKG_SOURCE:=gigaset-frontend-$(PKG_VERSION).tar.bz2
PKG_SOURCE_URL:=@SF/gigaset307x
PKG_MD5SUM:=2a494f9a68c07c0d7eb57fe248e4013e

PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)-$(PKG_VERSION)
PKG_INSTALL_DIR:=$(PKG_BUILD_DIR)/ipkg-install


include $(INCLUDE_DIR)/package.mk

define Package/gigaset-frontend
  SECTION:=base
  DEPENDS:=+kmod-gigaset +libexpat
  CATEGORY:=Network
  TITLE:=Siemens GigaSet 307x isdn frontend
  URL:=http://gigaset307x.sourceforge.net/
endef

define Package/gigaset-frontend/description
 The Gigaset 3070 isdn (aka Sinus 45 isdn) and its descendants
 are ISDN DECT base stations allowing the connection of a PC via USB or DECT.
 This project is developing the Linux support (drivers and frontend utilities)
 which Siemens neglected to provide.
endef

define Build/Configure
    $(CP) ./files/Makefile.config $(PKG_BUILD_DIR)/Makefile.config
endef

CONFIGURE_ARGS += \
    --without-qt \
    --without-qtlibs \
    --without-expat \

define Build/Compile
    $(MAKE) -C $(PKG_BUILD_DIR) \
    DESTDIR=&quot;$(PKG_INSTALL_DIR)&quot; \
        all install
endef

define Package/gigaset-frontend/install
    $(INSTALL_DIR) $(1)/usr/sbin
    $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/sbin/gigacontr $(1)/usr/sbin/
    $(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/sbin/gigaconf $(1)/usr/sbin/
endef
  
$(eval $(call BuildPackage,gigaset-frontend))</code></pre></div><p>The full package can be downloaded at:<br /><a href="http://hauke-m.de/fileadmin/openwrt/gigaset-frontend.tar.gz">http://hauke-m.de/fileadmin/openwrt/gig â€¦ end.tar.gz</a><br /><a href="http://hauke-m.de/fileadmin/openwrt/gigaset-driver.tar.gz">http://hauke-m.de/fileadmin/openwrt/gig â€¦ ver.tar.gz</a><br /><a href="http://hauke-m.de/fileadmin/openwrt/isdn4linux.tar.gz">http://hauke-m.de/fileadmin/openwrt/isdn4linux.tar.gz</a><br />All packages need some clean up.</p><p>I looked at the binary file generated for x86 with cat and in the file there is: &quot;/lib64/ld-linux-x86-64.so.2&quot;</p>											<p class="post-edited">(Last edited by <strong>Hauke</strong> on 7 Jun 2008, 20:52)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>