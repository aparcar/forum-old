<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to use USB hub with WL500gP?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p49524">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">petrs</div>
					<div class="post-datetime">
						1 Jun 2007, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I need connect at least 4 USB peripherals to my WL500gP but when I try to connect them using USB hub, they do not work. If connected directly to USB port they work fine. Tested with USB Flash Disc, BT Dongle, Prolific 2303 USB/RS232 cable, webcam etc.</p><div class="codebox"><pre><code>#lsusb
Bus 003 Device 004: ID 05e3:0606 Genesys Logic, Inc.</code></pre></div><div class="codebox"><pre><code>#dmesg | grep hub
usb.c: registered new driver hub
hub.c: USB hub found
hub.c: 2 ports detected
hub.c: USB hub found
hub.c: 2 ports detected
hub.c: USB hub found
hub.c: 4 ports detected
hub.c: connect-debounce failed, port 1 disabled
hub.c: new USB device 01:03.2-1, assigned address 2
hub.c: USB hub found
hub.c: 4 ports detected
hub.c: new USB device 01:03.2-1.1, assigned address 3
hub.c: new USB device 01:03.0-2, assigned address 2
hub.c: connect-debounce failed, port 2 disabled
hub.c: new USB device 01:03.0-2, assigned address 3
hub.c: new USB device 01:03.0-2, assigned address 4
hub.c: new USB device 01:03.2-2, assigned address 4
hub.c: USB hub found
hub.c: 4 ports detected</code></pre></div>											<p class="post-edited">(Last edited by <strong>petrs</strong> on 1 Jun 2007, 17:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49525">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">manoweb</div>
					<div class="post-datetime">
						1 Jun 2007, 17:09					</div>
				</div>
				<div class="post-content content">
					<p>I am not near my device now - it&#039;s mounted at the top of a mountain connected with a digicam: <a href="http://lnx.manoweb.com/wifi/webcam">http://lnx.manoweb.com/wifi/webcam</a> - but I tested 4 digicams connected together with a small no-brand USB hub and it was working fine, with kamikaze kernel 2.4</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49528">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">petrs</div>
					<div class="post-datetime">
						1 Jun 2007, 17:23					</div>
				</div>
				<div class="post-content content">
					<p>I bought another small hub but it has the same ID (in lsusb) so as I can expect it does not work too. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>petrs</strong> on 1 Jun 2007, 17:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49537">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						1 Jun 2007, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>Try using a powered usb hub.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49552">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">petrs</div>
					<div class="post-datetime">
						1 Jun 2007, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think that problem is power consumption. Device is always detected but not claimed by any active driver. For example USB MMC/SD card reader with 1 GB SD connected to hub and then directly:</p><div class="codebox"><pre><code>hub.c: new USB device 01:03.2-1.1, assigned address 3
usb.c: USB device 3 (vend/prod 0x416/0x7723) is not claimed by any active driver.
usb.c: USB disconnect on device 01:03.2-1.1 address 3
usb.c: USB disconnect on device 01:03.2-1 address 2
hub.c: new USB device 01:03.0-1, assigned address 6
scsi1 : SCSI emulation for USB Mass Storage devices
  Vendor: General   Model: USB Disk Drive    Rev: 1.00
  Type:   Direct-Access                      ANSI SCSI revision: 02
Attached scsi removable disk sdb at scsi1, channel 0, id 0, lun 0
SCSI device sdb: 1931265 512-byte hdwr sectors (989 MB)
sdb: Write Protect is off
 /dev/scsi/host1/bus0/target0/lun0: p1 p2
WARNING: USB Mass Storage data integrity not assured
USB Mass Storage device found at 6</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49611">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						3 Jun 2007, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>It works, just you have turned on write protection for your SD card. I don&#039;t think a hub should be claimed by any driver.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49921">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">petrs</div>
					<div class="post-datetime">
						7 Jun 2007, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think problem is write protection. See previous post.</p><p>Line 2 is USB MMC/SD card reader connected to hub - but not claimed by any active driver. Line 3 disconnecting reader, 4 disconnecting hub. Line 5 and following describes the same reader connected directly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50154">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">petrs</div>
					<div class="post-datetime">
						9 Jun 2007, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>Solved by upgrade to Kernel 2.6 - <a href="http://downloads.openwrt.org/kamikaze/7.06/brcm47xx-2.6/">http://downloads.openwrt.org/kamikaze/7 â€¦ m47xx-2.6/</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>