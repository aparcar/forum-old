<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> failed to ssh from outside with openwrt router in sub-net</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p279510">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">super_ylam</div>
					<div class="post-datetime">
						10 Jun 2015, 04:52					</div>
				</div>
				<div class="post-content content">
					<p>Recently I flashed my TP-Link WR1043ND router with OpenWrt 14.07</p><p>My purpose is to use this router as <br />1) a dumb wireless AP<br />2) file sharing (samba)<br />3) rsync server <br />4) svn server</p><p>This is TP-Link router (I called it sub-router) is behind the main router.</p><p>I have:<br />1) set the port forward of the main router to forward port 22 to the sub-router.<br />2) to increase the speed of the rsync, I replaced the dropbear ssh in the <br />&nbsp; &nbsp; sub-router with open ssh. (So that I can use a less secure but faster<br />&nbsp; &nbsp; encryption &quot;arcfour&quot;)<br />3) I connected the LAN port 0 of the sub-router to the main router <br />&nbsp; &nbsp; (because I used it as dumb AP)</p><p>Everything is working fine when I tested the ssh, rsync and svn internally.</p><p>However, when I tried to ssh / svn to the sub-router, I failed.<br />I tried all the firewall setting on the sub-router and doesn&#039;t help. <br />Can anyone help?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279526">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						10 Jun 2015, 08:48					</div>
				</div>
				<div class="post-content content">
					<p>Check that your SSH daemon is accepting connections from IPs outside the range of the LAN network.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279602">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">super_ylam</div>
					<div class="post-datetime">
						10 Jun 2015, 17:56					</div>
				</div>
				<div class="post-content content">
					<p>checked.... I compared the sshd_config of a Linux PC (that SSH from internet) is OK and the one in the router. they are almost identical</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279706">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">super_ylam</div>
					<div class="post-datetime">
						11 Jun 2015, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>is there anyone know why?</p><p>- I tried disable the firewall... doesn&#039;t help<br />- not even the ssh, the svn (port 3690) also does not work through internet.<br />&nbsp; (it worked fin in intra-net)</p><p>I need it to work badly......</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280010">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">super_ylam</div>
					<div class="post-datetime">
						14 Jun 2015, 18:23					</div>
				</div>
				<div class="post-content content">
					<p>i gave up setting the router as dumb AP.<br />but set up WAN with static address and LAN in other subnet,<br />everything works ok now.</p><p>because i am using&nbsp; wr1043nd v2 router, i guess <br />&quot;On switchless devices, simply bridge all ethernet interfaces together&quot; then I avoid the subnet in LAN.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280011">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">super_ylam</div>
					<div class="post-datetime">
						14 Jun 2015, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>need to learn from relevant section in <a href="http://wiki.openwrt.org/doc/recipes/dumbap">http://wiki.openwrt.org/doc/recipes/dumbap</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>