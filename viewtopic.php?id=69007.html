<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> SOLVED - Luci with limited access; network only</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p347182">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						20 Dec 2016, 02:14					</div>
				</div>
				<div class="post-content content">
					<p>Can the luci web service be installed in a way that gives someone access to the network settings only and no other options? </p><p>I&#039;d like to have a web interface which gives the user the option to use wired dhcp, wired static or wireless dhcp/static options.</p><p>Nothing else what so ever for admin functions.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 2 Jan 2017, 01:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347191">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hostle19</div>
					<div class="post-datetime">
						20 Dec 2016, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>have a look at my multi-user luci ... with a little work it could easily accomplish what you&#039;re after <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347196">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						20 Dec 2016, 10:05					</div>
				</div>
				<div class="post-content content">
					<p>Alternatively, you can modify luci files to only have network section. With SSH access to the box it can be modified back tho.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347225">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						20 Dec 2016, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I can ssh back into the device to prepare it.</p><p>I don&#039;t need any special security, the device will be in a known location and access will only be on the LAN side to configure the network. Only one person will access the device to change the network settings if needed.</p><p>That said, the person would not know how to use ssh nor should have ssh or any other direct access either.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 20 Dec 2016, 18:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347235">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hostle19</div>
					<div class="post-datetime">
						20 Dec 2016, 19:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Alternatively, you can modify luci files to only have network section. With SSH access to the box it can be modified back tho.</p></blockquote></div><p>The problem with this approach is that every user will have the same options, so you (the admin) will have the same limited options as the regular user/s...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347255">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						21 Dec 2016, 06:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hostle19 wrote:</cite><blockquote><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Alternatively, you can modify luci files to only have network section. With SSH access to the box it can be modified back tho.</p></blockquote></div><p>The problem with this approach is that every user will have the same options, so you (the admin) will have the same limited options as the regular user/s...</p></blockquote></div><p>... and share the same password which might also allow ssh access. No need for additional packages tho.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347281">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hostle19</div>
					<div class="post-datetime">
						21 Dec 2016, 15:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>... and share the same password which might also allow ssh access. No need for additional packages tho.</p></blockquote></div><p>The easiest solution would be to use the multi-user luci from hynmans repo, and make the few small edits required to achieve the menus you want available to the regular users. The bulk of the work has already been done... the ability to add and remove regular users, the ability to hide any menu option from the regular user and have full access as the root user. The only thing that would need to be done would be to modify the network page to display what you want, personally, I would just create a new network page for the regular users to display what options I want to be available for them. Unfortunately, to use the multi-user luci you must either compile a full image using the full openwrt build system ( sdk won&#039;t work) or just compile the multi-user luci and install all the packages as you would install luci normally. If this project is a one-off, it might be easiest to just install the modified files using winscp or the like ...</p>											<p class="post-edited">(Last edited by <strong>hostle19</strong> on 21 Dec 2016, 15:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347447">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						23 Dec 2016, 00:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hostle19 wrote:</cite><blockquote><div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>Alternatively, you can modify luci files to only have network section. With SSH access to the box it can be modified back tho.</p></blockquote></div><p>The problem with this approach is that every user will have the same options, so you (the admin) will have the same limited options as the regular user/s...</p></blockquote></div><p>Actually, that would be perfect. Admin can ssh in if higher level access is needed.<br />Thanks to everyone for the leads.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 2 Jan 2017, 01:00)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>