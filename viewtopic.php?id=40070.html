<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to backup flash without JTAG? (HG556a)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p181222">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alwar</div>
					<div class="post-datetime">
						22 Oct 2012, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone.</p><p>I have a Huawei HG56BZRB board (Hg556a) from vodafone, and i want to install openwrt. In the wiki says that i need the calibration data from ath_data in order to setup the wireless driver, but i can&#039;t read mtdblock4 from telnet with dd (i copied busybox into the router) or cat. It says cat: &quot;/dev/mtdblock4: No such device or address&quot;. The same occurs with the rest of the mtdblock files in the /dev directory, except for mtdblock0 wich result in a copy of the squash-fs. </p><p>is there any way to backup the whole flash chip from telnet?&nbsp; I don&#039;t want to lose wifi, can i flash a openwrt image without erasing ath_data?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181255">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						23 Oct 2012, 06:55					</div>
				</div>
				<div class="post-content content">
					<p>Strange... Please inspect boot log for mtd partitions layout/errors, repeat cat/dd where you have enough free space (i.e. /tmp). For big partitions gzip on the fly too (i.e. cat /dev/mtdx | gzip &gt; mtdx.gz)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181273">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">alwar</div>
					<div class="post-datetime">
						23 Oct 2012, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>How can i see the bootlog? need i a serial conecction to the router?</p><p>I think it could be a limitation of the telnet server (maybe i am chrooted?)</p><p>For big files i&#039;ve been using a usb drive...</p><p>Another diference that i see from the wiki with my router is that the devices are called &quot;mtdblock&quot; instead of &quot;mtd&quot;<br />mtdblock0<br />mtdblock1<br />mtdblock2<br />mtdblock3<br />mtdblock4<br />mtdblock5<br />mtdblock6<br />mtdblock7</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181277">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						23 Oct 2012, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>No, you don&#039;t need serial console. just type &#039;dmesg&#039;<br />Don&#039;t stick on the wiki, just look at mtd device names in /dev</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192565">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						20 Feb 2013, 03:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alwar wrote:</cite><blockquote><p>Hi everyone.</p><p>I have a Huawei HG56BZRB board (Hg556a) from vodafone, and i want to install openwrt. In the wiki says that i need the calibration data from ath_data in order to setup the wireless driver, but i can&#039;t read mtdblock4 from telnet with dd (i copied busybox into the router) or cat. It says cat: &quot;/dev/mtdblock4: No such device or address&quot;. The same occurs with the rest of the mtdblock files in the /dev directory, except for mtdblock0 wich result in a copy of the squash-fs. </p><p>is there any way to backup the whole flash chip from telnet?&nbsp; I don&#039;t want to lose wifi, can i flash a openwrt image without erasing ath_data?</p><p>Thanks</p></blockquote></div><p>I am trying to do the same thing, i.e. backup the wifi data... but I can&#039;t figured out how..<br />Can anyone help?</p><p>The only thing I figured out was how to get into the router via telnet but seems like most of the Openwrt linux commands aren&#039;t working.. including cat, df, even dmesg isn&#039;t working....</p><p>Is it really necessary to backup the wifi data?<br />or will it be preserved even after I flash it with Openwrt?<br />I need the WIFI to work after I change the ROM to Openwrt..</p><p>Thanks<br />Eric</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192581">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						20 Feb 2013, 07:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Is it really necessary to backup the wifi data?</p></blockquote></div><p>Who said that? Openrwt doesn&#039;t mess with partitions it doesn&#039;t know about. If the device is supported, flashing it with openwrt shouldn&#039;t damage wifi data (if you intend with this the partition with wifi calibration data)</p><p>Most commands don&#039;t work with original firmware because the&#039;re probably not available <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192602">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						20 Feb 2013, 13:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><div class="quotebox"><blockquote><p>Is it really necessary to backup the wifi data?</p></blockquote></div><p>Who said that? Openrwt doesn&#039;t mess with partitions it doesn&#039;t know about. If the device is supported, flashing it with openwrt shouldn&#039;t damage wifi data (if you intend with this the partition with wifi calibration data)</p><p>Most commands don&#039;t work with original firmware because the&#039;re probably not available <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>Well, there is this line right at the top of the wiki for this router... that says<br />&quot;Before trying to run OpenWRT, it&#039;s a good idea to backup the flash, especially the bootloader and the ath_data area. The WLAN calibration data is specific for your device and difficult to restore otherwise. It cannot be restored by flashing back a vendor firmware.&quot;<br /><a href="http://wiki.openwrt.org/toh/huawei/hg556a#ath_data">http://wiki.openwrt.org/toh/huawei/hg556a#ath_data</a></p><p>That&#039;s why I am doubtful whether it is actually necessary or not.<br />I am sure those who have flashed this specific router before would know the answer to this question... Anyone?</p><p>And there is another post where someone needed to use the WIFI calibration data... which I don&#039;t quite understand what happened there...<br /><a href="https://forum.openwrt.org/viewtopic.php?id=337321">https://forum.openwrt.org/viewtopic.php?id=337321</a></p>											<p class="post-edited">(Last edited by <strong>ericwongcm</strong> on 20 Feb 2013, 13:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192603">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						20 Feb 2013, 13:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alwar wrote:</cite><blockquote><p>is there any way to backup the whole flash chip from telnet?&nbsp; I don&#039;t want to lose wifi, can i flash a openwrt image without erasing ath_data?</p></blockquote></div><p>Btw, I saw the wiki here says you can backup the flash via CFE through serial.<br /><a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm63xx">http://wiki.openwrt.org/doc/hardware/so â€¦ om.bcm63xx</a></p><p>But I am not exactly sure how to open the case... it is not documentation and I don&#039;t see a single screw on the case.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192605">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						20 Feb 2013, 13:50					</div>
				</div>
				<div class="post-content content">
					<p>From the images it seems there is a screw hole in the middle of the pcb. Perhaps the screw is under a label?<br />If you follow the instructions, a backup shouldn&#039;t be needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192607">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						20 Feb 2013, 14:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>From the images it seems there is a screw hole in the middle of the pcb. Perhaps the screw is under a label?</p></blockquote></div><p>Found it.. The screw hole is underneath the sticker label..</p><div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>If you follow the instructions, a backup shouldn&#039;t be needed.</p></blockquote></div><p>I hope so too...<br />I do have some experience using CFE on another broadcom router before..</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192612">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						20 Feb 2013, 15:31					</div>
				</div>
				<div class="post-content content">
					<p>If the commands don&#039;t have &quot;erase&quot; or a set of memory addresses in, you shouldn&#039;t worry too much.<br />If they do, then be afraid!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193187">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						26 Feb 2013, 01:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><div class="quotebox"><blockquote><p>Is it really necessary to backup the wifi data?</p></blockquote></div><p>Who said that? Openrwt doesn&#039;t mess with partitions it doesn&#039;t know about. If the device is supported, flashing it with openwrt shouldn&#039;t damage wifi data (if you intend with this the partition with wifi calibration data)</p><p>Most commands don&#039;t work with original firmware because the&#039;re probably not available <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>If the commands don&#039;t have &quot;erase&quot; or a set of memory addresses in, you shouldn&#039;t worry too much.<br />If they do, then be afraid!</p></blockquote></div><p>Thanks for your help...<br />You are both correct <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I have Openwrt running on this HG556A now..</p><p>Seems to work fine so far...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199144">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tapfit2004</div>
					<div class="post-datetime">
						22 Apr 2013, 00:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ericwongcm wrote:</cite><blockquote><div class="quotebox"><cite>rAndy wrote:</cite><blockquote><div class="quotebox"><blockquote><p>Is it really necessary to backup the wifi data?</p></blockquote></div><p>Who said that? Openrwt doesn&#039;t mess with partitions it doesn&#039;t know about. If the device is supported, flashing it with openwrt shouldn&#039;t damage wifi data (if you intend with this the partition with wifi calibration data)</p><p>Most commands don&#039;t work with original firmware because the&#039;re probably not available <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>If the commands don&#039;t have &quot;erase&quot; or a set of memory addresses in, you shouldn&#039;t worry too much.<br />If they do, then be afraid!</p></blockquote></div><p>Thanks for your help...<br />You are both correct <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I have Openwrt running on this HG556A now..</p><p>Seems to work fine so far...</p></blockquote></div><p>Hi.</p><p>I&#039;m thinking of installing openwrt on my hg556a but I&#039;d like to know if the print server option on the original firmware is still available on openwrt and also if the usb dongle setup works ok as I&#039;ve read other posts about problems with kernal versions when loading the usb dongle modules.</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>tapfit2004</strong> on 22 Apr 2013, 00:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199146">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						22 Apr 2013, 01:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tapfit2004 wrote:</cite><blockquote><p>I&#039;d like to know if the print server option on the original firmware is still available on openwrt and also if the usb dongle setup works ok as I&#039;ve read other posts about problems with kernal versions when loading the usb dongle modules.</p></blockquote></div><p>I have USB print server running on my HG556A on the firmware I build myself.<br />Works fine there except bidirectional support doesn&#039;t work, i.e. I simply turn it off at my computer&#039;s end to avoid my printing keep printing the same page until it runs out of paper...</p><p>You would likely need to install the USB printing packages by command though.<br />Default pre-compiled openwrt firmware you download here is a barebone package with only essentials, often even without web interface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199148">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">tapfit2004</div>
					<div class="post-datetime">
						22 Apr 2013, 01:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I have USB print server running on my HG556A on the firmware I build myself.<br />Works fine there except bidirectional support doesn&#039;t work, i.e. I simply turn it off at my computer&#039;s end to avoid my printing keep printing the same page until it runs out of paper...</p><p>You would likely need to install the USB printing packages by command though.<br />Default pre-compiled openwrt firmware you download here is a barebone package with only essentials, often even without web interface.</p></blockquote></div><p>Thanks for the reply.</p><p>I will have to do a lot more reading over the next few days before trying the openwrt firmware.</p><p>I have a little bit of experience using linux commands on satellite receivers. I also have ubuntu running on an old laptop. Is it difficult to build a custom openwrt firmware? It sounds like it would be the best way to go.</p><p>The original firmware isn&#039;t up to much so I&#039;ll have to do something with it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199154">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						22 Apr 2013, 02:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tapfit2004 wrote:</cite><blockquote><p>I have a little bit of experience using linux commands on satellite receivers. I also have ubuntu running on an old laptop.</p></blockquote></div><p>Then, you should have no problems customizing it by SSH (commands).<br />There are enough documentations on what you need to do.<br />Otherwise, you can just issue standard linux commands on Openwrt and see what you get..</p><div class="quotebox"><cite>tapfit2004 wrote:</cite><blockquote><p>Is it difficult to build a custom openwrt firmware? It sounds like it would be the best way to go.</p></blockquote></div><p>Not difficult if you have all the prerequisite installed on your ubuntu to compile it.<br />Follow the build root documentation to get going..<br /><a href="http://wiki.openwrt.org/doc/howto/build">http://wiki.openwrt.org/doc/howto/build</a></p><p>The main reason you want to build custom rom is so that you will not lose your configurations or app after you do a reset because you can have them included inside the rom itself.</p><p>Otherwise, you will need to re-do everything from scratch.</p><p>Have fun..</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>