<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link WDR 3600 low tx power</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Oct 2016.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p300001">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">SvenHz</div>
					<div class="post-datetime">
						16 Nov 2015, 10:25					</div>
				</div>
				<div class="post-content content">
					<p>With Chaos Calmer, tx power (in Luci web interface) cannot be set higher than 19 dBm for 2.4GHz and 15 dBm for 5GHz, resulting in a loss of range vs. stock firmware. I have done the reghack thing to no avail. Regulatory domain is set to Netherlands NL. Any hints on how to get full tx power?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300010">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">HyperDrive</div>
					<div class="post-datetime">
						16 Nov 2015, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>Check the Wi-Fi channels. Different channels allow for different TX powers. An excerpt of iw list on my own WDR3600 follows.<br/></p><div class="codebox"><pre><code>(snip)
        Frequencies:
            * 5180 MHz [36] (15.0 dBm)
            * 5200 MHz [40] (15.0 dBm)
            * 5220 MHz [44] (15.0 dBm)
            * 5240 MHz [48] (15.0 dBm)
            * 5260 MHz [52] (15.0 dBm)
            * 5280 MHz [56] (15.0 dBm)
            * 5300 MHz [60] (15.0 dBm)
            * 5320 MHz [64] (15.0 dBm)
            * 5500 MHz [100] (15.0 dBm)
            * 5520 MHz [104] (19.0 dBm)
            * 5540 MHz [108] (19.0 dBm)
            * 5560 MHz [112] (19.0 dBm)
            * 5580 MHz [116] (19.0 dBm)
            * 5600 MHz [120] (15.0 dBm)
            * 5620 MHz [124] (15.0 dBm)
            * 5640 MHz [128] (15.0 dBm)
            * 5660 MHz [132] (15.0 dBm)
            * 5680 MHz [136] (15.0 dBm)
            * 5700 MHz [140] (15.0 dBm)
            * 5745 MHz [149] (disabled)
            * 5765 MHz [153] (disabled)
            * 5785 MHz [157] (disabled)
            * 5805 MHz [161] (disabled)
            * 5825 MHz [165] (disabled)
(snip)
        Frequencies:
            * 2412 MHz [1] (19.0 dBm)
            * 2417 MHz [2] (21.0 dBm)
            * 2422 MHz [3] (21.0 dBm)
            * 2427 MHz [4] (21.0 dBm)
            * 2432 MHz [5] (21.0 dBm)
            * 2437 MHz [6] (21.0 dBm)
            * 2442 MHz [7] (21.0 dBm)
            * 2447 MHz [8] (21.0 dBm)
            * 2452 MHz [9] (21.0 dBm)
            * 2457 MHz [10] (21.0 dBm)
            * 2462 MHz [11] (18.0 dBm)
            * 2467 MHz [12] (22.0 dBm)
            * 2472 MHz [13] (22.0 dBm)
            * 2484 MHz [14] (18.0 dBm)
(snip)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300013">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">SvenHz</div>
					<div class="post-datetime">
						16 Nov 2015, 13:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>HyperDrive wrote:</cite><blockquote><p>Check the Wi-Fi channels.</p></blockquote></div><p>Thanks for your reply. I am in NL (EU) so the max output power should be (according to <a href="https://wlan1nde.wordpress.com/2014/11/26/wlan-maximum-transmission-power-etsi/">ETSI</a>) 20 dBm for 2.4 GHz and 23 dBm for 5 GHz channels 36-48 (which are preferable because no DFS or TPC is required on those).</p><p>That is why I ran <a href="http://luci.subsignal.org/~jow/reghack/README.txt">reghack</a> but the restrictions are actually not lifted in OpenWRT yet in stock firmware they are (more information to follow when I am at home).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300077">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">iheartlinux</div>
					<div class="post-datetime">
						16 Nov 2015, 23:55					</div>
				</div>
				<div class="post-content content">
					<p>I believe the hardware in the WDR3600 can only support those power levels. Have you measured the power levels higher with the stock firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300089">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						17 Nov 2015, 00:48					</div>
				</div>
				<div class="post-content content">
					<p>WDR3600/4300 can reach 23dbm without problems, more with distortion<br/>to enable it you need hacked ART partition and modified regdb<br/></p><div class="codebox"><pre><code>root@router:~# iw list | grep dBm
            * 5180 MHz [36] (30.0 dBm)
            * 5200 MHz [40] (30.0 dBm)
            * 5220 MHz [44] (30.0 dBm)
            * 5240 MHz [48] (30.0 dBm)
            * 5260 MHz [52] (30.0 dBm) (radar detection)
            * 5280 MHz [56] (30.0 dBm) (radar detection)
            * 5300 MHz [60] (30.0 dBm) (radar detection)
            * 5320 MHz [64] (30.0 dBm) (radar detection)
            * 5660 MHz [132] (30.0 dBm) (radar detection)
            * 5680 MHz [136] (30.0 dBm) (radar detection)
            * 5700 MHz [140] (30.0 dBm) (radar detection)
            * 5745 MHz [149] (30.0 dBm)
            * 5765 MHz [153] (30.0 dBm)
            * 5785 MHz [157] (30.0 dBm)
            * 5805 MHz [161] (30.0 dBm)
            * 5825 MHz [165] (30.0 dBm)
            * 2412 MHz [1] (30.0 dBm)
            * 2417 MHz [2] (30.0 dBm)
            * 2422 MHz [3] (30.0 dBm)
            * 2427 MHz [4] (30.0 dBm)
            * 2432 MHz [5] (30.0 dBm)
            * 2437 MHz [6] (30.0 dBm)
            * 2442 MHz [7] (30.0 dBm)
            * 2447 MHz [8] (30.0 dBm)
            * 2452 MHz [9] (30.0 dBm)
            * 2457 MHz [10] (30.0 dBm)
            * 2462 MHz [11] (30.0 dBm)
            * 2467 MHz [12] (30.0 dBm)
            * 2472 MHz [13] (30.0 dBm)
            * 2484 MHz [14] (30.0 dBm)</code></pre></div><p>ok, all files and instructions below can be used only at yr own risk</p><p>ART - <a href="https://mega.nz/#!GMA2ibRB!0ImpV9wexTBq6AzMJj5cOKQS7xQyE6hxTirMmqFQz04">https://mega.nz/#!GMA2ibRB!0ImpV9wexTBq … irMmqFQz04</a><br/>DD snapshot compiled with unlocked ART, modified regdb (for 00 and US regions, other regions untouched) and with ATH_USER_REGD - <a href="https://mega.nz/#!CZ5AibbL!xnqIDdKL9_YaZEQ2nVuRF9lNt_0jwU-QuGvIUeB30K0">https://mega.nz/#!CZ5AibbL!xnqIDdKL9_Ya … GvIUeB30K0</a></p><p>0. Backup all of yr mtd partitions<br/>dd if=/dev/mtd0 of=/tmp/uboot.bin<br/>dd if=/dev/mtd4 of=/tmp/orig_art.bin<br/>dd if=/dev/mtd5 of=/tmp/fw.bin<br/>and copy it from /tmp to any safe location<br/>1. use luci to backup your settings and flash modded fw<br/>2. put new art.bin to /tmp and flash it<br/>mtd write /tmp/art.bin /dev/mtd4<br/>3. Verify it - mtd verify /tmp/art.bin /dev/mtd4<br/>if everything is ok - reboot<br/>4. check if yr wireless can up and run and tx levels up to 30dBm available (with 00 or US regions)</p><p>5. you can build yr own fw with ath_user_regd to use your country region code with openwrt, prebuilt image built without this option, but you can try (if yr hw is locked to US or NL it will reach 22dBm i hope) or you can restore yr backup (use &quot;mtd write&quot; to restore mtd5)</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 17 Nov 2015, 01:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300123">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						17 Nov 2015, 09:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stas2z wrote:</cite><blockquote><p>WDR3600/4300 can reach 23dbm without problems, more with distortion<br/>to enable it you need hacked ART partition and modified regdb<br/></p><div class="codebox"><pre><code>root@router:~# iw list | grep dBm
            * 5180 MHz [36] (30.0 dBm)
            * 5200 MHz [40] (30.0 dBm)
            * 5220 MHz [44] (30.0 dBm)
            * 5240 MHz [48] (30.0 dBm)
            * 5260 MHz [52] (30.0 dBm) (radar detection)
            * 5280 MHz [56] (30.0 dBm) (radar detection)
            * 5300 MHz [60] (30.0 dBm) (radar detection)
            * 5320 MHz [64] (30.0 dBm) (radar detection)
            * 5660 MHz [132] (30.0 dBm) (radar detection)
            * 5680 MHz [136] (30.0 dBm) (radar detection)
            * 5700 MHz [140] (30.0 dBm) (radar detection)
            * 5745 MHz [149] (30.0 dBm)
            * 5765 MHz [153] (30.0 dBm)
            * 5785 MHz [157] (30.0 dBm)
            * 5805 MHz [161] (30.0 dBm)
            * 5825 MHz [165] (30.0 dBm)
            * 2412 MHz [1] (30.0 dBm)
            * 2417 MHz [2] (30.0 dBm)
            * 2422 MHz [3] (30.0 dBm)
            * 2427 MHz [4] (30.0 dBm)
            * 2432 MHz [5] (30.0 dBm)
            * 2437 MHz [6] (30.0 dBm)
            * 2442 MHz [7] (30.0 dBm)
            * 2447 MHz [8] (30.0 dBm)
            * 2452 MHz [9] (30.0 dBm)
            * 2457 MHz [10] (30.0 dBm)
            * 2462 MHz [11] (30.0 dBm)
            * 2467 MHz [12] (30.0 dBm)
            * 2472 MHz [13] (30.0 dBm)
            * 2484 MHz [14] (30.0 dBm)</code></pre></div><p>ok, all files and instructions below can be used only at yr own risk</p><p>ART - <a href="https://mega.nz/#!GMA2ibRB!0ImpV9wexTBq6AzMJj5cOKQS7xQyE6hxTirMmqFQz04">https://mega.nz/#!GMA2ibRB!0ImpV9wexTBq … irMmqFQz04</a><br/>DD snapshot compiled with unlocked ART, modified regdb (for 00 and US regions, other regions untouched) and with ATH_USER_REGD - <a href="https://mega.nz/#!CZ5AibbL!xnqIDdKL9_YaZEQ2nVuRF9lNt_0jwU-QuGvIUeB30K0">https://mega.nz/#!CZ5AibbL!xnqIDdKL9_Ya … GvIUeB30K0</a></p><p>0. Backup all of yr mtd partitions<br/>dd if=/dev/mtd0 of=/tmp/uboot.bin<br/>dd if=/dev/mtd4 of=/tmp/orig_art.bin<br/>dd if=/dev/mtd5 of=/tmp/fw.bin<br/>and copy it from /tmp to any safe location<br/>1. use luci to backup your settings and flash modded fw<br/>2. put new art.bin to /tmp and flash it<br/>mtd write /tmp/art.bin /dev/mtd4<br/>3. Verify it - mtd verify /tmp/art.bin /dev/mtd4<br/>if everything is ok - reboot<br/>4. check if yr wireless can up and run and tx levels up to 30dBm available (with 00 or US regions)</p><p>5. you can build yr own fw with ath_user_regd to use your country region code with openwrt, prebuilt image built without this option, but you can try (if yr hw is locked to US or NL it will reach 22dBm i hope) or you can restore yr backup (use &quot;mtd write&quot; to restore mtd5)</p></blockquote></div><p>Do you have the binaries to do the same for other ath art?<br/>Not only does this wdr4300 have weak power many other routers have the same issue<br/>But for routers like wdr4900v1 tx rx power is like 30dbm and both are certified units.<br/>You would think they have some sort of double standards for this.</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 17 Nov 2015, 09:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300125">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						17 Nov 2015, 09:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Do you have the binaries to do the same for other ath art?<br/>Not only does this wdr4300 have weak power many other routers have the same issue<br/>But for routers like wdr4900v1 tx rx power is like 30dbm and both are certified units.<br/>You would think they have some sort of double standards for this.</p></blockquote></div><p>Im not sure it&#039;s double standards, cause all depends of chipset specs (with built in amps) or amps specs.<br/>3600/4300 5ghz amp spec tells it&#039;s from 19dbm for ht40 N to 23 dbm with legacy g ht20, but i tested it with ht40 and 23dBm is ok, also 25dBm works almost the same, any values more cause speed loss. For 2.4 i didn&#039;t checked datasheet, but seen other devices with the same chip working wine with 22dBm and hope it&#039;s safe to use such value. Increasing it can cause distortion or hw damage.<br/>But several devices probably have different amps can reach 30dBm or more so don&#039;t claim tp-link for this, it&#039;s just only HW difference.</p><p>And no, i don&#039;t have any other arts or tools, cuz ive made this one myself for my own wdr3600 using xxd and okteta <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/>.</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 17 Nov 2015, 09:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300126">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						17 Nov 2015, 09:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks gd to know <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/><br/>How do you isolate the values and locate the offsets?<br/>From my experience with tplink my favourite is still wr1043ndv1<br/>The wifi range is simply incredible</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 17 Nov 2015, 09:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300127">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						17 Nov 2015, 09:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Thanks gd to know <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/><br/>How do you isolate the values and locate the offsets?<br/>From my experience with tplink my favourite is still wr1043ndv1<br/>The wifi range is simply incredible</p></blockquote></div><p>Yeah, im also an owner of 1043v1 working as giga switch and guest network host and comparsion it with the weak wdr3600 was one of the reasons to do this hack <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>Firstly i checked several art partitions from different regions, and after only with analyze/modify/test. Also driver sources and pepe2k&#039;s ar9300-eeprom tool sources helped a lot.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>