<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Files and install instructions for HooToo HT-TM02 and HT-TM04(RT5350)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 29 Mar 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 9 of 27</div><nav><ul><li><a href="viewtopic.php%3Fid=53014&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53014&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=53014&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li><li><a href="viewtopic.php%3Fid=53014&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=53014&amp;p=11.html">11</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53014&amp;p=27.html">27</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p275351">
				<div class="post-metadata">
					<div class="post-num">Post #201</div>
					<div class="post-author">mikeredgrave</div>
					<div class="post-datetime">
						6 May 2015, 00:47					</div>
				</div>
				<div class="post-content content">
					<p>So I have one of these that i updated to openwrt. Had it set up as a wireless AP, so I can remote between two PC&#039;s while working away. Since i set it up, it seems to have suffered some sort of problem. I currently can&#039;t get it to boot. <br />When plugged in it flashes both LED&#039;s very briefly, then they both come on steadily forever. I have TFTP&#039;d an upgrade image to it, but it doesn&#039;t seem to have helped. Will it auto install or do I have to get in via serial to install it?</p><p>Would be great to know, I could do with it working!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p275493">
				<div class="post-metadata">
					<div class="post-num">Post #202</div>
					<div class="post-author">mikeredgrave</div>
					<div class="post-datetime">
						6 May 2015, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>So, progress of sorts. If I reboot the router with the reset button held in, it will automatically download an image from a TFTP server at 10.10.10.123, so the uboot bootloader is obviously still in there!</p><p>I have a USB-RS232 cable that I have made an adapter for. I can get data out via serial from the unit, but it is all garbage. I have tried all normal baud rates (9600, 19200, 38400, 57600, 115200) but all are garbage. Is this a voltage level thing? I am pretty certain the adapter I have has worked with standard bit bashing serial straight out of a microcontroller in the past.... Any suggestions are welcome! </p><p>If it really comes to it I may have to flash the chip once home, what standard is it? I have access to MPLAB ICD&#039;s and a JTAG flasher...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276655">
				<div class="post-metadata">
					<div class="post-num">Post #203</div>
					<div class="post-author">OpenRoute</div>
					<div class="post-datetime">
						18 May 2015, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi all.</p><p>I&#039;ve been working on the HooToo for a few days now. I have a general understanding of networks in general but am having a problem with this device. I tried fiddling around on my own and I feel like I&#039;m very close. All the work I&#039;ve done is through Luci as I&#039;m terrible at using VI. I&#039;ll copy/paste my configs as well to see if that&#039;ll help. According to my research, what I wanted done was to do a <a href="http://wiki.openwrt.org/doc/recipes/routedap">RoutedAP</a>. I did most of the work on my own without consultation of the Recipes wiki, but it more or less coincides with what&#039;s on there. I will probably end up just restarting the config and following the recipe verbatim, just wondering what exactly i&#039;m doing wrong here.</p><p>I unbridged the interfaces and made/modified the two interfaces as follows (the two interfaces show up under Network -&gt; Interfaces):<br />1. Wifi - assigned to the Wireless network I created and is assigned to the LAN firewall zone. Has IP 192.168.25.1 and am able to access web portal over wifi. It is configured as a DHCP server and confirmed it works.</p><p>2. WAN - assigned to the eth0 interface and is assigned to the WAN firewall zone. I have it set up as a DHCP client to get an IP from my upstream router. Have confirmed working and can access web portal through hardwire connection.</p><br /><p>Under Network -&gt; Firewall I have only 2 zones, WAN &amp; LAN and they correspond to the two interfaces I list above. The two Zone Forwardings I have are:</p><p>Lan -&gt; Wan: Input - Accept. Output - Accept. Forward - Reject. Masquerade - 1. MSS clamping 1&nbsp; (I tried this with nothing checked and all accept as well)<br />Wan -&gt; LAN: Input - Accept. Output - Accept. Forward - Reject. Masquerade - 0. MSS clamping 0</p><p>Under the traffic rules, i kept everything as is, but added two rules:<br />Name - lan to wan all traffic. <br />Match - Any traffic From any host in lan to any host in wan<br />Accept Forward</p><p>Name - wan to lan all traffic.<br />Match - Any traffic From any host in wan to any host in lan<br />Accept Forward</p><p>I&#039;m unable to to get any packet flow upstream or downstream - Can&#039;t ping upstream router (192.168.1.1) from wifi client (192.168.25.x). Can&#039;t access the internet. Nada. Below are my configs:</p><p>/etc/config/network<br /></p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
        option ula_prefix &#039;fde7:63ca:4ff6::/48&#039;

config switch
        option name &#039;switch0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;0&#039;

config interface &#039;wifi&#039;
        option proto &#039;static&#039;
        option netmask &#039;255.255.255.0&#039;
        option ipaddr &#039;192.168.25.1&#039;

config interface &#039;WAN&#039;
        option ifname &#039;eth0&#039;
        option _orig_ifname &#039;eth0&#039;
        option _orig_bridge &#039;false&#039;</code></pre></div><p>/etc/config/wireless<br /></p><div class="codebox"><pre><code>config wifi-device &#039;radio0&#039;
        option type &#039;mac80211&#039;
        option channel &#039;11&#039;
        option hwmode &#039;11g&#039;
        option path &#039;10180000.wmac&#039;
        option htmode &#039;HT20&#039;
        option txpower &#039;20&#039;
        option country &#039;00&#039;

config wifi-iface
        option device &#039;radio0&#039;
        option mode &#039;ap&#039;
        option ssid &#039;PortRoute&#039;
        option network &#039;wifi&#039;
        option encryption &#039;psk2&#039;
        option key &#039;Welcome1&#039;</code></pre></div><p>/etc/config/dhcp<br /></p><div class="codebox"><pre><code>config dnsmasq
        option domainneeded &#039;1&#039;
        option boguspriv &#039;1&#039;
        option filterwin2k &#039;0&#039;
        option localise_queries &#039;1&#039;
        option rebind_protection &#039;1&#039;
        option rebind_localhost &#039;1&#039;
        option local &#039;/lan/&#039;
        option domain &#039;lan&#039;
        option expandhosts &#039;1&#039;
        option nonegcache &#039;0&#039;
        option authoritative &#039;1&#039;
        option readethers &#039;1&#039;
        option leasefile &#039;/tmp/dhcp.leases&#039;
        option resolvfile &#039;/tmp/resolv.conf.auto&#039;
        option localservice &#039;1&#039;

config dhcp &#039;lan&#039;
        option interface &#039;lan&#039;
        option start &#039;100&#039;
        option limit &#039;150&#039;
        option leasetime &#039;12h&#039;
        option dhcpv6 &#039;server&#039;
        option ra &#039;server&#039;
        option ra_management &#039;1&#039;

config dhcp &#039;wan&#039;
        option interface &#039;wan&#039;
        option ignore &#039;1&#039;

config odhcpd &#039;odhcpd&#039;
        option maindhcp &#039;0&#039;
        option leasefile &#039;/tmp/hosts/odhcpd&#039;
        option leasetrigger &#039;/usr/sbin/odhcpd-update&#039;

config dhcp &#039;wifi&#039;
        option start &#039;100&#039;
        option leasetime &#039;12h&#039;
        option limit &#039;150&#039;
        option interface &#039;wifi&#039;</code></pre></div><p>/etc/config/firewall<br /></p><div class="codebox"><pre><code>config rule
        option target &#039;ACCEPT&#039;
        option src &#039;lan&#039;
        option dest &#039;wan&#039;
        option name &#039;lan to wan all traffic&#039;

config rule
        option target &#039;ACCEPT&#039;
        option name &#039;wan to lan all traffic&#039;
        option src &#039;wan&#039;
        option dest &#039;lan&#039;

config zone
        option name &#039;lan&#039;
        option input &#039;ACCEPT&#039;
        option output &#039;ACCEPT&#039;
        option forward &#039;REJECT&#039;
        option masq &#039;1&#039;
        option mtu_fix &#039;1&#039;
        option network &#039;wifi&#039;

config zone
        option name &#039;wan&#039;
        option output &#039;ACCEPT&#039;
        option input &#039;ACCEPT&#039;
        option network &#039;WAN&#039;
        option forward &#039;REJECT&#039;

config include
        option path &#039;/etc/firewall.user&#039;

config forwarding
        option dest &#039;wan&#039;
        option src &#039;lan&#039;

config forwarding
        option dest &#039;lan&#039;
        option src &#039;wan&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276701">
				<div class="post-metadata">
					<div class="post-num">Post #204</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						19 May 2015, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>For one thing the wan interface needs to be named &quot;wan&quot; not &quot;WAN&quot;.</p><p>Really you can start from a default configuration.&nbsp; Configure and enable an AP so you can log into the router via wifi.&nbsp; Since your wan is 192.168.1.x, set lan IP to 192.168.25.1 like you did.&nbsp; Log in via wifi and move eth0 from lan to wan.&nbsp; The wan network and firewall zone should already be set up, there is just no interface attached to it by default on devices with only one ethernet port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p276947">
				<div class="post-metadata">
					<div class="post-num">Post #205</div>
					<div class="post-author">OpenRoute</div>
					<div class="post-datetime">
						21 May 2015, 03:27					</div>
				</div>
				<div class="post-content content">
					<p>I changed that on the Vi side and had to reapply the zones. After doing that, i was able to ping IPs in the upstream network (192.168.1.x) and even access the HooToo through it&#039;s 192.168.1.x address. But I couldn&#039;t browse the web or access anything else on the .1.x network from .25.x.</p><p>I guess I&#039;ll just do what you recommended, though I do feel undefeated and I can&#039;t figure out why it was doing that. <br />Thx for your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277050">
				<div class="post-metadata">
					<div class="post-num">Post #206</div>
					<div class="post-author">OpenRoute</div>
					<div class="post-datetime">
						21 May 2015, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>mk24,<br />I ended up just doing to reset and reconfiguration and it worked. Sucks I wasn&#039;t able to figure out original issue but thanks for help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278207">
				<div class="post-metadata">
					<div class="post-num">Post #207</div>
					<div class="post-author">nd4spd1919</div>
					<div class="post-datetime">
						30 May 2015, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone, I have a TM05, the 10000 milliamp version, and I&#039;d like to install openWRT on it. I thought that I could use the TM02 image from here, as I found that it uses the same hardware as all the other routers they make. However, when I try to flash the openWRT bin using the factory upgrade, I get the error &#039;WRONG FILE FORMAT&#039;. Did Hootoo change how updates work on the newer model? I tried renaming the bin to the filename and extension of the hootoo update, but it still didn&#039;t accept it. If anyone has played around with it, I&#039;d appreciate the help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280351">
				<div class="post-metadata">
					<div class="post-num">Post #208</div>
					<div class="post-author">vernonjvs</div>
					<div class="post-datetime">
						17 Jun 2015, 06:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ernvs wrote:</cite><blockquote><p>HT-TM03 works with r44945-factory-ws !!!</p><p>Install: Don&#039;t use an USB-Stick use a micro SD-card instead!</p><p>The TM-03 has the same Hardwarebase as TM02 and TM04 and additionally a 3000mAh Lion battery and <br />a micro SD-card reader.<br />An USB-stick will be mounted at /data/UsbDisk2/Volume1/ so the Loader will fail.<br />The micro SD-card will be mounted at /data/USBDisk1/Volume1/ and it works.<br />I had to manually restart after flashing.</p><p>Openwrt works like a charm. LEDs are working right out of the box and I checked lan, wlan-client and wlan-ap.<br />Thnx very much wingspinner this is now the smallest and smartest mobile router I saw.</p><p>Best regards</p></blockquote></div><p>Your post inspired me to get TM03. I was able to successfully flash the <a href="https://github.com/wingspinner/HooToo-Tripmate-HT-TM02-OpenWRT/blob/master/ramips_openwrt/openwrt-ramips-rt305x-ht-tm02-squashfs-factory-r44945-ws.bin">r44945-factory-ws</a> image as well by following your hint of using an empty 4GB micro SD card instead of a USB stick. Thanks! With <a href="http://wiki.openwrt.org/doc/howto/extroot">extroot</a> (note specific Chaos Calmer instructions) enabled on a 128GB micro SD card which I leave permanently installed, I have a pocket sized, very powerful self powered router. With <a href="https://forum.openwrt.org/viewtopic.php?pid=274395#p274395">minidlna</a> installed, I can stream my entire music collection with my smartphone or tablet connected to my car&#039;s bluetooth. I installed <a href="http://wiki.openwrt.org/doc/howto/ftp.overview">vsftpd</a> to set up an <a href="http://serverfault.com/questions/247096/allow-anonymous-upload-for-vsftpd">anonymous</a> ftp server to easily share files on the road with my friends. I have other servers and applications installed as well.</p><p>Unfortunately, the r4495 kmod <a href="https://github.com/wingspinner/HooToo-Tripmate-HT-TM02-OpenWRT/tree/master/ramips_openwrt/packages-r44945">package</a> signatures do not match the <a href="https://github.com/wingspinner/HooToo-Tripmate-HT-TM02-OpenWRT/blob/master/ramips_openwrt/openwrt-ramips-rt305x-ht-tm02-squashfs-factory-r44945-ws.bin">r44945</a> kernel signatures so I could not install them. However, the Jun14 build <a href="http://wiki.openwrt.org/doc/howto/generic.sysupgrade">sysupgrade</a> image works fine for me and I downloaded the packages for this build.</p><p>Downloading all the packages to a linux machine, installing and running <a href="http://www.acme.com/software/thttpd/">thttpd</a> to serve the packages to your HooToo was easiest way for me to&nbsp; get all the USB drivers and everything re-installed.</p><p>Thanks very much to WingSpinner for the factory images!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281293">
				<div class="post-metadata">
					<div class="post-num">Post #209</div>
					<div class="post-author">sr123</div>
					<div class="post-datetime">
						25 Jun 2015, 08:10					</div>
				</div>
				<div class="post-content content">
					<p>&quot;An external antenna is easily installed as it has both a proper impedance matching RF front-end as well as a stripline bandpass filter on the board.&quot;</p><p>Can you provide any more details on where to tap for an external antenna.&nbsp; Would really like to try one.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281563">
				<div class="post-metadata">
					<div class="post-num">Post #210</div>
					<div class="post-author">motombo</div>
					<div class="post-datetime">
						27 Jun 2015, 14:24					</div>
				</div>
				<div class="post-content content">
					<p>How did you open the case of the HT-TM02 ? Where are the &quot;plastic-noses&quot; that have to be clicked: Top, bottom, side ? <br />I don´t know here to start and I don´t want to break the case.&nbsp; &nbsp;<img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p><p>By the way: In Germany the HT-TM02 is now sold for 11,-EUR inkl. shipping (~8,-GPB/~12,50USD) <a href="http://www.ebay.de/itm/390813116803"> here</a>. <br />(Free shipping seems to be for Germany only, mine took just 2 days to arrive by DHL).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281786">
				<div class="post-metadata">
					<div class="post-num">Post #211</div>
					<div class="post-author">kimboi.neo</div>
					<div class="post-datetime">
						29 Jun 2015, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>I think I bricked my HT-TM02. Its LEDs are not blinking and I can&#039;t telnet on it or ssh. Please help. I&#039;m a newbie on openwrt. TIA</p>											<p class="post-edited">(Last edited by <strong>kimboi.neo</strong> on 29 Jun 2015, 19:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281851">
				<div class="post-metadata">
					<div class="post-num">Post #212</div>
					<div class="post-author">s4wrt</div>
					<div class="post-datetime">
						30 Jun 2015, 05:57					</div>
				</div>
				<div class="post-content content">
					<p>Thank you wingspinner!!</p><p>Flashed my TM-02. After a decade of messing around with DD-WRT, playing with OpenWrt on this little device made me feel like a kid. </p><p>I performed a sysupgrade and everything is working great, after I installed telnet and fixed the network config to download the packages ... haven&#039;t used it in years. I don&#039;t get to use telnet at work anymore :0 </p><p>You&#039;re right, this is a great little device. Hard to beat at $15!</p>											<p class="post-edited">(Last edited by <strong>s4wrt</strong> on 30 Jun 2015, 06:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281853">
				<div class="post-metadata">
					<div class="post-num">Post #213</div>
					<div class="post-author">somehomelessguy</div>
					<div class="post-datetime">
						30 Jun 2015, 06:40					</div>
				</div>
				<div class="post-content content">
					<p>Followed your post to the letter on a TM-02. </p><p>Bricked.</p><p>Im not new to router hackage so I don&#039;t think it&#039;s an idiot oversight. I messed around trying to be able to see it via Wireshark and/or send it something(anything) with TFTP to no avail. The dual LED glow at boot shows that some amount of UBoot got on there...the files were indeed copied to my usb drive...</p><p>Anywhere I can go from here without a soldering iron? </p><p>PS - I am stoked and grateful for your work.&nbsp; This will likely lead to me buying a soldering iron, however. :/</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282094">
				<div class="post-metadata">
					<div class="post-num">Post #214</div>
					<div class="post-author">s4wrt</div>
					<div class="post-datetime">
						2 Jul 2015, 05:59					</div>
				</div>
				<div class="post-content content">
					<p>somehomelessguy</p><p>If you hold in the reset button for 30s, or so, while booting you should be able to connect via the ethernet port on ip 198.162.1.1 via telnet if a password was never set, or via ssh if one was.&nbsp; You will have to set your PC/Laptop ethernet connect to a static ip in the same subnet.</p><p>I was able to bridge my ethernet and wireless adapters in my PC to download a sysupdate to the TM02 and load LuCI. Once that was done, I configured it and set it up with the packages I wanted.</p>											<p class="post-edited">(Last edited by <strong>s4wrt</strong> on 2 Jul 2015, 06:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282283">
				<div class="post-metadata">
					<div class="post-num">Post #215</div>
					<div class="post-author">mi_huzki</div>
					<div class="post-datetime">
						3 Jul 2015, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I have a problem with the change of firmware. Which tool can use to reflash the hootoo. This is the only forum where I found information of this device. Help please!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282309">
				<div class="post-metadata">
					<div class="post-num">Post #216</div>
					<div class="post-author">somehomelessguy</div>
					<div class="post-datetime">
						3 Jul 2015, 19:23					</div>
				</div>
				<div class="post-content content">
					<p>I appreciate the help @s4wrt but what you said, for clarity&#039; sake for others looking for help, is not accurate. </p><p>One, the default login for these devices is in the 10.10.10.* range, not &quot;198.164&quot;</p><p>Two, the &quot;sysupgrade&quot; bin that this person made disables the failsafe (holding down button when booting) due to some problems he was having, it states so in the first post - so that&#039;s a no-go.</p><p><img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> Thank you anyhow, I appreciate the intent</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282361">
				<div class="post-metadata">
					<div class="post-num">Post #217</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						4 Jul 2015, 04:12					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone tried to update to CC 15.05 RC2, specificaly openwrt-15.05-rc2-ramips-rt305x-ht-tm02-squashfs-sysupgrade.bin? Can you please confirm that LuCi is actualy in the image.&nbsp; There are some products in RC2 that &quot;misplaced&quot; LuCi (AR71xx and others).</p><p>RangerZ</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282518">
				<div class="post-metadata">
					<div class="post-num">Post #218</div>
					<div class="post-author">timb</div>
					<div class="post-datetime">
						6 Jul 2015, 08:10					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://img.timb.us/index.php?f=HT-TM04">I took some pictures of the HT-TM04 internals</a>.</p><p>The flash is a MX25L6406E, the SDRAM is M12L2561616A. There’s a small 8-bit MCU (bottom right corner, Holtek HT66F40) that seems to be handling power management duties; it controls the battery LEDs, power button and most likely hooks into the enable pin(s) of the DCDC converter(s) that power the Realtek SoC.</p><p>Unfortunately something is wrong with the SDRAM on my unit, so I haven’t been able to confirm this yet, but I suspect there’s some sort of communication between this MCU and the SoC (I2C maybe?) to report the battery level. Once my new unit gets here, I’ll poke around the factory firmware and see if I can find anything.</p><p>I’ve also got a replacement SDRAM on the way to fix the original unit, I’m putting in 512Mbit (64MB) up from the OEM 256Mbit.</p><p>Anyway, there’s a lot more pictures of the case, etc. in the gallery, but here’s a few highlights:</p><p><span class="postimg"><img src="http://img.timb.us/HT-TM04/IMG_01.jpg" alt="http://img.timb.us/HT-TM04/IMG_01.jpg" /></span></p><p><span class="postimg"><img src="http://img.timb.us/HT-TM04/IMG_02.jpg" alt="http://img.timb.us/HT-TM04/IMG_02.jpg" /></span></p><p><span class="postimg"><img src="http://img.timb.us/HT-TM04/IMG_14.jpg" alt="http://img.timb.us/HT-TM04/IMG_14.jpg" /></span></p><p><span class="postimg"><img src="http://img.timb.us/HT-TM04/IMG_11.jpg" alt="http://img.timb.us/HT-TM04/IMG_11.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282524">
				<div class="post-metadata">
					<div class="post-num">Post #219</div>
					<div class="post-author">timb</div>
					<div class="post-datetime">
						6 Jul 2015, 09:22					</div>
				</div>
				<div class="post-content content">
					<p>Forgot to mention, for those interested, I came across the actual manufacturer of these units while deconstructing the HooToo firmware: Power 7 Technology Corp.</p><p><a href="http://www.power7tech.com">http://www.power7tech.com</a></p><p><a href="http://www.globalsources.com/power7.co">http://www.globalsources.com/power7.co</a></p><p>So, those might be the people to go after if anyone wants GPL compliance or perhaps specific information on the internals.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p282631">
				<div class="post-metadata">
					<div class="post-num">Post #220</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						7 Jul 2015, 04:36					</div>
				</div>
				<div class="post-content content">
					<p>I took the plunge and upgraded to CC 15.05 RC2 from CC42649 as I was having issues installing packages.</p><p>I was making some screen prints of the process and while I thought I turned off the &quot;keep Settings&quot; flag, I failed.&nbsp; This in itself may be related to the grief that followed.</p><p>The upgrade proceeded and I was able to access the device just as before, except <strong>Luci was not installed</strong>.&nbsp; I accessed the console via putty, updated the packages, and installed Luci.&nbsp; Luci was still not accessible after restart.&nbsp; The LuCi gui would flash and then I would get a connection error.</p><p>I am assuming, but not sure, that as I kept my settings that the old opkg.conf file also remained, and thus called Luci files that did not work correctly.</p><p>I removed the trunk files (all that were installed) and the reinstalled LuCi.&nbsp; Luci came up after restarting the web server.</p><p>The following packages are installed during the CC15.05 RC2 sysupgrde and Luci.<br /></p><div class="codebox"><pre><code>Remove    base-files    157-r45918
Remove    busybox    1.23.2-1
Remove    dnsmasq    2.73rc8-1
Remove    dropbear    2015.67-1
Remove    firewall    2015-05-26
Remove    fstools    2015-05-24-09027fc86babc3986027a0e677aca1b6999a9e14
Remove    hostapd-common    2015-03-25-1
Remove    ip6tables    1.4.21-1
Remove    iptables    1.4.21-1
Remove    iw    3.17-1
Remove    jshn    2015-05-08-a8e70c6d361967a23977417fb7d6cf56234f8b81
Remove    jsonfilter    2014-06-19-cdc760c58077f44fc40adbbe41e1556a67c1b9a9
Remove    kernel    3.18.14-1-ced5b5a0a4b7d37ece0f2af5dad52992
Remove    kmod-cfg80211    3.18.14+2015-03-09-3
Remove    kmod-crypto-aes    3.18.14-1
Remove    kmod-crypto-arc4    3.18.14-1
Remove    kmod-crypto-core    3.18.14-1
Remove    kmod-eeprom-93cx6    3.18.14-1
Remove    kmod-gpio-button-hotplug    3.18.14-1
Remove    kmod-ip6tables    3.18.14-1
Remove    kmod-ipt-conntrack    3.18.14-1
Remove    kmod-ipt-core    3.18.14-1
Remove    kmod-ipt-nat    3.18.14-1
Remove    kmod-ipv6    3.18.14-1
Remove    kmod-leds-gpio    3.18.14-1
Remove    kmod-ledtrig-usbdev    3.18.14-1
Remove    kmod-lib-crc-ccitt    3.18.14-1
Remove    kmod-lib-crc-itu-t    3.18.14-1
Remove    kmod-mac80211    3.18.14+2015-03-09-3
Remove    kmod-nf-conntrack    3.18.14-1
Remove    kmod-nf-conntrack6    3.18.14-1
Remove    kmod-nf-ipt    3.18.14-1
Remove    kmod-nf-ipt6    3.18.14-1
Remove    kmod-nf-nat    3.18.14-1
Remove    kmod-nf-nathelper    3.18.14-1
Remove    kmod-nls-base    3.18.14-1
Remove    kmod-ppp    3.18.14-1
Remove    kmod-pppoe    3.18.14-1
Remove    kmod-pppox    3.18.14-1
Remove    kmod-rt2800-lib    3.18.14+2015-03-09-3
Remove    kmod-rt2800-mmio    3.18.14+2015-03-09-3
Remove    kmod-rt2800-soc    3.18.14+2015-03-09-3
Remove    kmod-rt2x00-lib    3.18.14+2015-03-09-3
Remove    kmod-rt2x00-mmio    3.18.14+2015-03-09-3
Remove    kmod-slhc    3.18.14-1
Remove    kmod-usb-core    3.18.14-1
Remove    kmod-usb-ohci    3.18.14-1
Remove    kmod-usb2    3.18.14-1
Remove    libblobmsg-json    2015-05-08-a8e70c6d361967a23977417fb7d6cf56234f8b81
Remove    libc    0.9.33.2-1
Remove    libgcc    4.8-linaro-1
Remove    libip4tc    1.4.21-1
Remove    libip6tc    1.4.21-1
Remove    libiwinfo    2015-06-01-ade8b1b299cbd5748db1acf80dd3e9f567938371
Remove    libiwinfo-lua    2015-06-01-ade8b1b299cbd5748db1acf80dd3e9f567938371
Remove    libjson-c    0.12-1
Remove    libjson-script    2015-05-08-a8e70c6d361967a23977417fb7d6cf56234f8b81
Remove    liblua    5.1.5-1
Remove    libnl-tiny    0.1-4
Remove    libubox    2015-05-08-a8e70c6d361967a23977417fb7d6cf56234f8b81
Remove    libubus    2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
Remove    libubus-lua    2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
Remove    libuci    2015-04-09.1-1
Remove    libuci-lua    2015-04-09.1-1
Remove    libxtables    1.4.21-1
Remove    lua    5.1.5-1
Remove    luci    git-15.146.54948-a497fba-1
Remove    luci-app-firewall    git-15.146.54948-a497fba-1
Remove    luci-base    git-15.146.54948-a497fba-1
Remove    luci-lib-ip    git-15.146.54948-a497fba-1
Remove    luci-lib-nixio    git-15.146.54948-a497fba-1
Remove    luci-mod-admin-full    git-15.146.54948-a497fba-1
Remove    luci-proto-ipv6    git-15.146.54948-a497fba-1
Remove    luci-proto-ppp    git-15.146.54948-a497fba-1
Remove    luci-theme-bootstrap    git-15.146.54948-a497fba-1
Remove    mtd    20
Remove    netifd    2015-05-26-5990d1126fd33665e106508ebcbadfbb2d703d8e
Remove    odhcp6c    2015-05-19-68042ddafe0e1a3498b6c7a57ec8d2d20f25650b
Remove    odhcpd    2015-05-21-2ebf6c8216287983779c8ec6597d30893b914a7c
Remove    opkg    9c97d5ecd795709c8584e972bfdf3aee3a5b846d-7
Remove    ppp    2.4.7-5
Remove    ppp-mod-pppoe    2.4.7-5
Remove    procd    2015-06-03-94e7ea8b88cb01192a6fb1f1f6a68ada1356763f
Remove    rpcd    2015-05-17-3d655417ab44d93aad56a6d4a668daf24b127b84
Remove    swconfig    10
Remove    ubox    2015-05-22-ab5b47397cc143798ba2f367f04579e5b5b82070
Remove    ubus    2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
Remove    ubusd    2015-05-25-f361bfa5fcb2daadf3b160583ce665024f8d108e
Remove    uci    2015-04-09.1-1
Remove    uhttpd    2015-05-31-daeea305298197bb50c1e63cdd842ee1d9461d80
Remove    uhttpd-mod-ubus    2015-05-31-daeea305298197bb50c1e63cdd842ee1d9461d80
Remove    usign    2015-05-08-cf8dcdb8a4e874c77f3e9a8e9b643e8c17b19131
Remove    wpad-mini    2015-03-25-1</code></pre></div><p>and the correct opkg.conf file is<br /></p><div class="codebox"><pre><code>dest root /
dest ram /tmp
lists_dir ext /var/opkg-lists
option overlay_root /overlay
src/gz chaos_calmer_base http://downloads.openwrt.org/chaos_calmer/15.05-rc2/ramips/rt305x/packages/base
src/gz chaos_calmer_luci http://downloads.openwrt.org/chaos_calmer/15.05-rc2/ramips/rt305x/packages/luci
src/gz chaos_calmer_management http://downloads.openwrt.org/chaos_calmer/15.05-rc2/ramips/rt305x/packages/management
src/gz chaos_calmer_packages http://downloads.openwrt.org/chaos_calmer/15.05-rc2/ramips/rt305x/packages/packages
src/gz chaos_calmer_routing http://downloads.openwrt.org/chaos_calmer/15.05-rc2/ramips/rt305x/packages/routing
src/gz chaos_calmer_telephony http://downloads.openwrt.org/chaos_calmer/15.05-rc2/ramips/rt305x/packages/telephony</code></pre></div><p>RangerZ</p>											<p class="post-edited">(Last edited by <strong>RangerZ</strong> on 7 Jul 2015, 04:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283260">
				<div class="post-metadata">
					<div class="post-num">Post #221</div>
					<div class="post-author">goddy99</div>
					<div class="post-datetime">
						12 Jul 2015, 18:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vernonjvs wrote:</cite><blockquote><p>Your post inspired me to get TM03. I was able to successfully flash the <a href="https://github.com/wingspinner/HooToo-Tripmate-HT-TM02-OpenWRT/blob/master/ramips_openwrt/openwrt-ramips-rt305x-ht-tm02-squashfs-factory-r44945-ws.bin">r44945-factory-ws</a> image as well by following your hint of using an empty 4GB micro SD card instead of a USB stick. Thanks! </p><p>...</p><p>Thanks very much to WingSpinner for the factory images!</p></blockquote></div><p>I can also confirm that the discribed way with r44945-factory image and SD-Card works.</p><p>After study of OpenWRT Wiki I was able to config my TM03 with luci interface to get the following network configuration:<br />Internet --&gt; my_router --&gt; wifi_client (TM03) --&gt; wifi_AP (TM03) <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--&gt; lan (TM03 ethernet socket)</p><p>It was very very difficult and not possible with luci interface to a configuration like wan (ethernet-socket) -&gt; wifi_AP.<br />After extensive search I could find an example, copied the config-files (DHCP, wireless, network, firewall) to my PC, edited this files and copied them back to /etc/config on my TM03. Now this network configuration is like this:<br />Internet --&gt; my_router --&gt; lan_client (TM03 ethernet socket) --&gt;&nbsp; wifi_AP (TM03)</p><p>Now I have two configuration and be flexibble to load up to my TM03 which of this two I need.<br />I can post this configs here if it is interessing for somebody.</p><p>Regarding the SD and USB I had some problems to get automount this storage. After some research in OpenWRT wiki I found out, that I need to install block-mount modul which is not in the r44945-factory image. I download the block-mount.ipk from the internet manually copied it to the TM03 and installed it with &#039;opkg install block-mount.ipk&#039; (all by putty ssh connection). After this I could define the mountpoints with luci interface and configurate the share (samba) also with luci. </p><p>During my experiments with network configurations I lost the contact to my TM03 and had to hard-reset my TM03 (pushed the ON-button and than pushed and hold the reset-button for more than 30 seconds). After each hard-reset I lost the manually installed block-mount modul and I had to reinstall the block-mount after every hard-reset. My question now is how I can install block-mount permanently so that it survive after such a hard-reset ? Is there any parameter I need to add to the opkg install command ?</p>											<p class="post-edited">(Last edited by <strong>goddy99</strong> on 12 Jul 2015, 18:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283323">
				<div class="post-metadata">
					<div class="post-num">Post #222</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						13 Jul 2015, 07:01					</div>
				</div>
				<div class="post-content content">
					<p>I installed relayd tonight, and while it appears to be working I can no longer get to the GUI or access the device via SCP or putty.&nbsp; I can not access the USB drive or the client in it&#039;s Windows Explorer Network section.&nbsp; I can see the rest of my LAN on the far side of the HooToo.</p><p>I configured the device via Luci and checked the config files against the wiki.&nbsp; I was not getting to the internet and realized that the local PC that was attached to the HooToo was getting an ip from the LAN side DHCP, so I disabled DHCP, keeping the IP address for LAN (192.168.2.1).&nbsp; It did not release the IP for the client so I just rebooted the HooToo.&nbsp; I can now not access it at the 192.168.2.1 or the device my primary router indicates that it has (192.168.1.16)</p><p>Any suggestions on how to access the router?</p><p>Thanks... RangerZ</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283463">
				<div class="post-metadata">
					<div class="post-num">Post #223</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						14 Jul 2015, 03:24					</div>
				</div>
				<div class="post-content content">
					<p>I reset the router, reinstalled packages and restored the config.&nbsp; I back in business.</p><p>I am not sure that realyd is what I want.&nbsp; I understand it supports bi-directional communications (when working properly)</p><p>I want to be able to access the resources on the network I am attaching to, but be fire walled from the same network.&nbsp; </p><p>I am configured as a basic router(WWAN/wired LAN).&nbsp; I can not access any of the resources on the WAN side, but can reach the internet.</p><p>RangerZ</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283464">
				<div class="post-metadata">
					<div class="post-num">Post #224</div>
					<div class="post-author">Malachi</div>
					<div class="post-datetime">
						14 Jul 2015, 03:29					</div>
				</div>
				<div class="post-content content">
					<p>I bought an HT-TM01 in bricked condition. <br />I hooked up my serial cable. I see it stopping at &quot;you have chosen option 3&quot; then it stops with a bad magic number message. <br />If I try to tftp the factory image it gets to 76% transfer and it timoesout with an error. <br />If I try to tftp the openwrt image made for it that I downloaded here, it transfers ok but after it programs it still returns the error message. </p><p>If it helps I can upload my putty log. Can this thing be fixed?&nbsp; If not it&#039;s ok, I only paid $10 and I can use it as a battery backup.</p>											<p class="post-edited">(Last edited by <strong>Malachi</strong> on 14 Jul 2015, 22:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p283684">
				<div class="post-metadata">
					<div class="post-num">Post #225</div>
					<div class="post-author">Malachi</div>
					<div class="post-datetime">
						16 Jul 2015, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Since tftp doesnt seem to work using either the openwrt image or the oem image I guess I can try loading the firmware over serial using kermit.<br />The only thing is is that I am not smart enough to know exactly how to do that.<br />I know how to start the tranfer, its the erase and cp stuff that my 48 year old brain cant grasp.</p><p>Here is the printenv if someone could tell me how to do it</p><p>RT5350 # printenv<br />bootcmd=tftp<br />bootdelay=5<br />baudrate=57600<br />ethaddr=&quot;00:AA:BB:CC:DD:10&quot;<br />ramargs=setenv bootargs root=/dev/ram rw<br />addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):off<br />addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) panic=1<br />flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)<br />kernel_addr=BFC40000<br />u-boot=u-boot.bin<br />load=tftp 8A100000 $(u-boot)<br />u_b=protect off 1:0-1;era 1:0-1;cp.b 8A100000 BC400000 $(filesize)<br />loadfs=tftp 8A100000 root.cramfs<br />u_fs=era bc540000 bc83ffff;cp.b 8A100000 BC540000 $(filesize)<br />test_tftp=tftp 8A100000 root.cramfs;run test_tftp<br />ethact=Eth0 (10/100-M)<br />filesize=3521b4<br />fileaddr=80800000<br />ipaddr=10.10.10.123<br />serverip=10.10.10.3<br />autostart=no<br />bootfile=test.bin<br />stdin=serial<br />stdout=serial<br />stderr=serial</p><p>Environment size: 830/4092 bytes<br />RT5350 #</p>											<p class="post-edited">(Last edited by <strong>Malachi</strong> on 16 Jul 2015, 00:47)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 9 of 27</div><nav><ul><li><a href="viewtopic.php%3Fid=53014&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53014&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=53014&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li><li><a href="viewtopic.php%3Fid=53014&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=53014&amp;p=11.html">11</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53014&amp;p=27.html">27</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>