<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> can 2 usb drives on router as backups support different OS&#039;s?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p318427">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">miner_tom</div>
					<div class="post-datetime">
						6 Apr 2016, 20:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have been away from Openwrt for a while. It is loaded and running on my RTN-16. That router has two slots for USB drives. In the past I have mounted a usb drive on the router and have been able to R/W from linux.</p><p>What I would like to do is to use my router as a server, so that I can use it to back up files from either my Linux system or my Win7 system (not dual boot). I would expect that the win7 disk would have to be formatted as ntfs or fat.</p><p>I&#039;m not sure how that would work.</p><p>As an aside, in general, is it possible to have two non bootable partitions on a single disk drive, one in ext4 and one in ntfs? I have done some searching for information and it is possible that the question is so ridicules that nobody has to ask it.</p><p>Thank You<br />Tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318454">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						7 Apr 2016, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>I have used Ext2FSD on Windows for some time now (Vista 64bit) .&nbsp; I have a EXT file system and a FAT32 file system on 2 different USB drives (PC-Engines ALIX box).&nbsp; I do not run Linux, but did this because I understood that EXT performed the bets and FAT32 has a file size limitation.&nbsp; I was never able to get NTFS to work, and all I read was the performance was real bad.</p>											<p class="post-edited">(Last edited by <strong>RangerZ</strong> on 7 Apr 2016, 00:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318460">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						7 Apr 2016, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>I just did some benchmarks on speed.&nbsp; I do not recall the OpenWRT performance actually being this good, but it&#039;s still not great. </p><p>&nbsp; &nbsp; &nbsp; &nbsp; Write&nbsp; &nbsp; Read<br />EXT3&nbsp; &nbsp; 72&nbsp; &nbsp; &nbsp; &nbsp; 78&nbsp; &nbsp; &nbsp; &nbsp; OpenWrt - PC Engines ALIX CC15.05 RC2<br />VFAT&nbsp; &nbsp; 76&nbsp; &nbsp; &nbsp; &nbsp; 78&nbsp; &nbsp; &nbsp; &nbsp; OpenWrt - PC Engines ALIX CC15.05 RC2<br />FAT&nbsp; &nbsp; &nbsp; &nbsp; 159&nbsp; &nbsp; &nbsp; &nbsp; 121&nbsp; &nbsp; &nbsp; &nbsp; DD-WRT&nbsp; - TP-Link WDR3600 R20675<br />NTFS&nbsp; &nbsp; 386&nbsp; &nbsp; &nbsp; &nbsp; 693&nbsp; &nbsp; &nbsp; &nbsp; Windows XP over GB LAN to mechanical drive<br />NTFS&nbsp; &nbsp; 85&nbsp; &nbsp; &nbsp; &nbsp; 201&nbsp; &nbsp; &nbsp; &nbsp; USB 2.0 port to a USB 3.0 drive on the local machine<br />NTFS&nbsp; &nbsp; 520&nbsp; &nbsp; &nbsp; &nbsp; 791&nbsp; &nbsp; &nbsp; &nbsp; Synology NAS<br />VFAT&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 26&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OpenWrt - MLWG2 15.05&nbsp; over wireless N to SD Card<br />VFAT&nbsp; &nbsp; &nbsp; &nbsp; 8.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;92&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OpenWrt - MLWG2 15.05&nbsp; over Ethernet to SD Card</p><p>All Mbps and using Tutosoft Lan Speed Test Lite</p>											<p class="post-edited">(Last edited by <strong>RangerZ</strong> on 7 Apr 2016, 20:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318578">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						7 Apr 2016, 20:58					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.usingenglish.com/reference/idioms/more+heat+than+light.html">There is more heat than light</a> here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318598">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						7 Apr 2016, 23:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RangerZ wrote:</cite><blockquote><p>All Mbps and using Tutosoft Lan Speed Test Lite</p></blockquote></div><p>If it is <strong>Mbps</strong> and not <strong>MBps</strong>, then it is not good.</p><p>I just setup a PogoPlug Pro 02 to test with NFS using ext4 and found the R/W throughput is very slow (about 8/4 MBps). <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318614">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						8 Apr 2016, 00:22					</div>
				</div>
				<div class="post-content content">
					<p>Yes its Mbps and yes the results are disappointing.&nbsp; I have compared the tool to iperf in the past and consider the tool relatively accurate.&nbsp; &nbsp;I get 700+ using a RAM drive on the destination which is about all i really expect to get from my GB lan.</p><p>Adjusting for bits and bytes, it seems like my ALIX is marginally faster than your pogoplu, but my MLWG2 is crap.&nbsp; It&#039;s intended for media on the road, but I think I may need to load the card from the PC as opposed tot he device.&nbsp; Need to do some more testing on this one.</p><p>What is really disappointing is the brand new Seagate USB 3.0 drive.&nbsp; While It&#039;s running on USB 2.0, it&#039;s less than half of what I should be able to get for USB 2.0.&nbsp; I did not have Write Caching enable, and with this I get a more respectable 260\160 Write\Read (yes, not inverted), but still slow.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318617">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">remlei</div>
					<div class="post-datetime">
						8 Apr 2016, 01:24					</div>
				</div>
				<div class="post-content content">
					<p>SMB/NFS performance in OpenWRT in x86 machines is really pathetic to be honest, but optimized to run on those small SoHo routers.</p><p>mines alone only managed to get 30MB/s read/write on SMB on my 8 core atom machine with 2.6ghz, while it can work just fine at 120MB/s full gigabit speed on other linux system such as NAS OS like XPEnology or FreeNAS or other linux filesystem like Ubuntu and Arch Linux also manage to get 120MB/s performance. DDWRT x86 is different story though and it manage to get 120MB/s unlike OpenWRT.</p><p>For now I just run Arch Linux base with OpenWRT running in Virutalization.</p>											<p class="post-edited">(Last edited by <strong>remlei</strong> on 8 Apr 2016, 01:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318625">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">eas</div>
					<div class="post-datetime">
						8 Apr 2016, 02:54					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t understand the test setup for your numbers RangerZ, but I&#039;m pretty sure that most of that is a complete distraction with respect to the OPs situation. </p><p>OP, I think your own confusion has tempted people into going astray. </p><p>If the drives are connected to your router, and the router is providing access via a standard file serving protocol like SMB/CIFS, then the right thing to do is format the drive(s) using a linux filesystem, like EXT4. The client OS isn&#039;t going to care. It doesn&#039;t interact with EXT4 or NTFS, or whatever, it interacts with the network file server (Samba).</p><p>If you are planning to use something lower level, like iSCSI, then that&#039;s a different matter, but I wouldn&#039;t recommend using iSCSI.</p><p>As for how to partition the drive, the simplest, most flexible, thing is to make it one big partition.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318765">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						8 Apr 2016, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>@eas, you are correct.&nbsp; Your answer is the most on point so far.&nbsp; </p><p>I included the speed data as I have found running USB storage to not to be a great solution due to speed.</p><p>Re the test setup.&nbsp; I am running a windows app on the client.&nbsp; It writes and reads a file to the drive, local or network, and calculates the performance.<br /><a href="http://totusoft.com/lanspeed1/">http://totusoft.com/lanspeed1/</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>