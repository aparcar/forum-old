<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Boot problem on Yùn</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p292563">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zerog</div>
					<div class="post-datetime">
						19 Sep 2015, 11:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>Some times ago i had some problems with my Arduino Yùn, so after many attempts i decided to follow this guide to reflash UBoot: <a href="https://www.arduino.cc/en/Tutorial/YunUBootReflash">https://www.arduino.cc/en/Tutorial/YunUBootReflash</a><br />I followed all the instructions and everything worked fine, but when i sent the command &quot;bootm 0x9fea0000&quot;, the boot process started and freezed at:</p><div class="codebox"><pre><code>[   68.120000] JFFS2 notice: (1478) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.</code></pre></div><p>I waited for 1 hour but anything happened. I tried to repeat all the procedures but the result is the same. I don&#039;t know if it can be useful, but i attach the output i got during the boot process. What can i do to solve this problem? If you need more informations aske me.</p><p>Thank you!</p><div class="codebox"><pre><code>ar7240&gt; bootm 0x9fea0000

## Booting image at 9fea0000 ...
   Image Name:   MIPS OpenWrt Linux-3.3.8
   Created:      2014-11-14   8:00:46 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1185448 Bytes =  1.1 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum at 0x9fea0040 ...OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 67108864

Starting kernel ...

[    0.000000] Linux version 3.3.8 (jenkins@jenkins) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Fri Nov 14 08:57:34 CET 2014
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Atheros AR9330 rev 1
[    0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00004000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00004000
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line:  board=Yun console=ttyATH0,250000 mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,14656k(rootfs),1280k(kernel),64k(nvram),64k(art),15936k@0x50000(firmware) rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 60936k/65536k available (2565k kernel code, 4600k reserved, 650k data, 180k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.080000] NET: Registered protocol family 16
[    0.090000] gpiochip_add: registered GPIOs 0 to 29 on device: ath79
[    0.090000] MIPS: machine is Arduino Yun
[    0.530000] Setting DogStick2 GPIO
[    0.550000] bio: create slab &lt;bio-0&gt; at 0
[    0.550000] SCSI subsystem initialized
[    0.560000] usbcore: registered new interface driver usbfs
[    0.560000] usbcore: registered new interface driver hub
[    0.560000] usbcore: registered new device driver usb
[    0.570000] Switching to clocksource MIPS
[    0.570000] NET: Registered protocol family 2
[    0.570000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.580000] TCP established hash table entries: 2048 (order: 2, 16384 bytes)
[    0.580000] TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
[    0.580000] TCP: Hash tables configured (established 2048 bind 2048)
[    0.580000] TCP reno registered
[    0.580000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.590000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.590000] NET: Registered protocol family 1
[    0.610000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.610000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.620000] msgmni has been set to 119
[    0.620000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
[    0.620000] io scheduler noop registered
[    0.630000] io scheduler deadline registered (default)
[    0.630000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.640000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) i{ a AR933X UART
[    0.640000] console [ttyATH0] enabled, bootconsole disabled
[    0.640000] console [ttyATH0] enabled, bootconsole disabled
[    0.650000] m25p80 spi0.0: found w25q128, expected m25p80
[    0.650000] m25p80 spi0.0: w25q128 (16384 Kbytes)
[    0.650000] 7 cmdlinepart partitions found on MTD device spi0.0
[    0.660000] Creating 7 MTD partitions on &quot;spi0.0&quot;:
[    0.660000] 0x000000000000-0x000000040000 : &quot;u-boot&quot;
[    0.660000] 0x000000040000-0x000000050000 : &quot;u-boot-env&quot;
[    0.670000] 0x000000050000-0x000000ea0000 : &quot;rootfs&quot;
[    0.670000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.670000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=7B0000, len=6F0000 
[    0.680000] 0x0000007b0000-0x000000ea0000 : &quot;rootfs_data&quot;
[    0.680000] 0x000000ea0000-0x000000fe0000 : &quot;kernel&quot;
[    0.680000] 0x000000fe0000-0x000000ff0000 : &quot;nvram&quot;
[    0.690000] 0x000000ff0000-0x000001000000 : &quot;art&quot;
[    0.690000] 0x000000050000-0x000000fe0000 : &quot;firmware&quot;
[    0.710000] ag71xx_mdio: probed
[    0.720000] eth0: Atheros AG71xx at 0xba000000, irq 5
[    1.270000] eth0: Found an AR7240/AR9330 built-in switch
[    2.300000] eth1: Atheros AG71xx at 0xb9000000, irq 4
[    2.850000] ag71xx ag71xx.0: eth1: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]
[    2.850000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    2.850000] ehci-platform ehci-platform: Generic Platform EHCI Controller
[    2.860000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    2.890000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
[    2.910000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[    2.910000] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002
[    2.910000] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    2.910000] usb usb1: Product: Generic Platform EHCI Controller
[    2.920000] usb usb1: Manufacturer: Linux 3.3.8 ehci_hcd
[    2.920000] usb usb1: SerialNumber: ehci-platform
[    2.920000] hub 1-0:1.0: USB hub found
[    2.920000] hub 1-0:1.0: 1 port detected
[    2.930000] Initializing USB Mass Storage driver...
[    2.930000] usbcore: registered new interface driver usb-storage
[    2.930000] USB Mass Storage support registered.
[    2.930000] input: gpio-keys-polled as /devices/platform/gpio-keys-polled/input/input0
[    2.940000] sdhci: Secure Digital Host Controller Interface driver
[    2.940000] sdhci: Copyright(c) Pierre Ossman
[    2.940000] usbcore: registered new interface driver ushc
[    2.940000] TCP cubic registered
[    2.950000] NET: Registered protocol family 17
[    2.950000] Bridge firewalling registered
[    2.950000] 8021q: 802.1Q VLAN Support v1n8
[    2.960000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    2.960000] Freeing unused kernel memory: 180k freed
[    3.260000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[    3.480000] usb 1-1: New USB device found, idVendor=058f, idProduct=6254
[    3.480000] usb 1-1: New USB device strings: Mfr=0, Product=1, SerialNumber=0
[    3.490000] usb 1-1: Product: USB2.0Hub
[    3.590000] hub 1-1:1.0: USB hub found
[    3.590000] hub 1-1:1.0: 4 ports detected
[    3.970000] usb 1-1.4: new high-speed USB device number 3 using ehci-platform
[    4.100000] usb 1-1.4: New USB device found, idVendor=058f, idProduct=6366
[    4.100000] usb 1-1.4: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[    4.110000] usb 1-1.4: Product: Mass Storage Device
[    4.110000] usb 1-1.4: Manufacturer: Generic
[    4.110000] usb 1-1.4: SerialNumber: 058F0O1111B1
[    4.180000] scsi0 : usb-storage 1-1.4:1.0
[    5.030000] Error: Driver &#039;gpio-keys-polled&#039; is already registered, aborting...
[    5.180000] scsi 0:0:0:0: Direct-Access     Multi    Flash Reader     1.00 PQ: 0 ANSI: 0
- preinit -
Press the [f] key and hit [enter] to enter failsafe mode
- regular preinit -
jffs2 not ready yet; using ramdisk
- init -
[   16.790000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   16.790000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   16.970000] cfg80211: Calling CRDA to update world regulatory domain
[   16.970000] cfg80211: World regulatory domain updated:
[   16.970000] cfg80211:  DFS Master region: unset
[   16.970000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   16.980000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   16.980000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   16.990000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   16.990000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   16.990000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   17.000000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   17.860000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2
[   17.870000] cfg80211: Calling CRDA for country: US
[   17.870000] cfg80211: Regulatory domain changed to country: US
[   17.870000] cfg80211:  DFS Master region: FCC
[   17.870000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   17.880000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[   17.880000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 1700 mBm), (N/A)
[   17.890000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz), (N/A, 2300 mBm), (0 s)
[   17.890000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[   17.890000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)
[   18.530000] NTFS driver 2.1.30 [Flags: R/O MODULE].
[   18.740000] Error: Driver &#039;gpio-keys-polled&#039; is already registered, aborting...
[   18.760000] loop: module loaded
[   18.930000] PPP generic driver version 2.4.2
[   19.090000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   19.210000] NET: Registered protocol family 24
[   19.230000] sd 0:0:0:0: [sda] Attached SCSI removable disk
[   19.250000] nf_conntrack version 0.5.0 (954 buckets, 3816 max)
[   19.600000] i2c /dev entries driver
[   19.630000] Linux video capture interface: v2.00
[   19.750000] fuse init (API version 7.18)

Please press Enter to activate this console. [   29.090000] eth1: link up (100Mbps/Full duplex)
[   46.580000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   46.580000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   46.580000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   68.120000] JFFS2 notice: (1478) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>