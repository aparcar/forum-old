<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> can&#039;t load library &#039;libgmpxx.so.4&#039;</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p118645">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cuo78</div>
					<div class="post-datetime">
						7 Oct 2010, 07:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Well I hope that some one can help or point me to the right direction.</p><p>I compile a c++ program that use libgmpxx (the source code is not my work), so first thing that I did, was to cross compile the GNU Multiple Precision Arithmetic Library (gmp-5.0.1), I download the source code from the gmplib.org and I compile with the following option.</p><div class="quotebox"><blockquote><p>root@ubuntu:/opt/gmp-5.0.1# <strong>./configure --build=pentium4-pc-linux-gnu --host=mips-linux-uclibc --enable-cxx</strong><br />checking build system type... pentium4-pc-linux-gnu<br />checking host system type... mips-unknown-linux-uclibc<br />checking for a BSD-compatible install... /usr/bin/install -c<br />.<br />.<br />root@ubuntu:/opt/gmp-5.0.1# <strong>make</strong><br />cc `test -f &#039;gen-fac_ui.c&#039; || echo &#039;./&#039;`gen-fac_ui.c -o gen-fac_ui<br />./gen-fac_ui 32 0 &gt;mpz/fac_ui.h || (rm -f mpz/fac_ui.h; exit 1)<br />cc `test -f &#039;gen-fib.c&#039; || echo &#039;./&#039;`gen-fib.c -o gen-fib<br />./gen-fib header 32 0 &gt;fib_table.h || (rm -f fib_table.h; exit 1)<br />.<br />.<br />.<br />.<br />root@ubuntu:/opt/gmp-5.0.1#<strong> make install</strong><br />make&nbsp; install-recursive<br />make[1]: Entering directory `/opt/gmp-5.0.1&#039;<br />Making install in tests <br />.<br />.<br />.</p></blockquote></div><p>Doing that, I put the libraries needed in lib folder in my toolchain, and compile the source code, so far so good.</p><p>Then I upload the executable binary to my router and I get the following error.</p><div class="quotebox"><blockquote><p>login as: root<br />root@168.192.1.1&#039;s password:</p><br /><br /><p>BusyBox v1.11.2 (2009-12-02 11:25:47 UTC) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><br /><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> KAMIKAZE (8.09.2, r18961) -------------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br />&nbsp; * 10 oz lime juice&nbsp; Salute!<br /> ---------------------------------------------------<br />root@OpenWrt:~# ./cemu<br />./cemu: can&#039;t load library &#039;libgmpxx.so.4&#039;<br />root@OpenWrt:~#</p></blockquote></div><p>After that, I uploaded the libgmpxx.so.4 generated by cross compile the gmp-5.0.1&nbsp; to the lib folder on the router and I get the following error.</p><div class="quotebox"><blockquote><p>login as: root<br />root@168.192.1.1&#039;s password:</p><br /><br /><p>BusyBox v1.11.2 (2009-12-02 11:25:47 UTC) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><br /><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> KAMIKAZE (8.09.2, r18961) -------------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br />&nbsp; * 10 oz lime juice&nbsp; Salute!<br /> ---------------------------------------------------<br />root@OpenWrt:~# ./cemu<br />./cemu: &#039;/lib/libgmpxx.so.4&#039; is not an ELF executable for MIPS<br />./cemu: &#039;/lib/libgmpxx.so.4&#039; is not an ELF executable for MIPS<br />./cemu: can&#039;t load library &#039;libgmpxx.so.4&#039;<br />root@OpenWrt:~#</p></blockquote></div><p><strong>If someone can give a hint how to make this library or someone has it already installed&nbsp; please post it.</strong></p><p><strong>Sorry for my bad english.</strong></p><p><strong>Regards.</strong></p>											<p class="post-edited">(Last edited by <strong>cuo78</strong> on 7 Oct 2010, 07:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118736">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cuo78</div>
					<div class="post-datetime">
						8 Oct 2010, 21:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi to all.</p><p>Well I figure it out what was the problem, thank you very much.</p><p>So the problem was that the libgmpxx.so.4, was a symlink to the library libgmpxx.so.4.2.1.<br />The only thing that I did was delete the libgmpxx.so.4 and create a symlink to that library with the following command (under busybox).</p><p><strong>$ ln -s libgmpxx.so.4.2.1 libgmpxx.so.4</strong></p><br /><p>Thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>