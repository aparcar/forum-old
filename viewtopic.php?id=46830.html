<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [buildroot] Updating packages with locally changed files?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Sep 2014.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p215032">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						17 Oct 2013, 15:02					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not quiet sure what to do when some conflicts appear while updating packages from feeds.</p><p>I.e. if I edit Makefile for some package in main repository and then issue &quot;svn up&quot; command to update all sources, it will automatically try to merge changed files and if that fail will ask me for input. At that point I can review the conflict, modify conflicting file if necessary or even cancel my changes at all and accept new version of a file from the main repository.</p><p>However if I modify some Makefile of a package belonging to feeds repo and then run &quot;./scripts/feeds/update&quot; command, it just stops on modified file and aborts updating:</p><div class="codebox"><pre><code>From git://git.openwrt.org/packages
   5484c83..de3e29a  master     -&gt; origin/master
Updating 5386702..de3e29a
error: Your local changes to &#039;lang/php5/Makefile&#039; would be overwritten by merge.  Aborting.
Please, commit your changes or stash them before you can merge.
failed.</code></pre></div><p>Are there any suggestions how to resolve this?</p><p>It would be nice to have at least 3 basic options:<br/>1. See the diff of a conflict;<br/>2. Ability to revert local changes and accept remote file;<br/>3. Ability to accept local file and ignore remote changes.<br/>All three of them are very clear in svn and very unclear (for me) in &quot;./scripts/feeds update&quot; context.</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215042">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						17 Oct 2013, 18:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eximido wrote:</cite><blockquote><p>All three of them are very clear in svn and very unclear (for me) in &quot;./scripts/feeds update&quot; context.</p></blockquote></div><p>Or actually in &quot;feeds update from git repository&quot; context.</p><p>With &quot;feeds update from svn repository&quot; you would have tthe usual svn options.</p><p>I didn&#039;t want to learn the git practices, so I have switched my build environment to use the old svn repos, and everything works well. Just like before the recent switch to use git for packages feed, the reason for which change I still do not understand...</p><p>from my feeds.conf.default patch:<br/>@@ -1,6 +1,5 @@<br/>-src-git packages git://git.openwrt.org/packages.git<br/>...<br/>+src-svn packages svn://svn.openwrt.org/openwrt/packages<br/>...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215060">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						18 Oct 2013, 08:54					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot, that&#039;s a great workaround.</p><p>Nevertheless, it would be nice to know how to achieve the same things with git feed. <br/>Just in case svn will stop working some day (because it was abandoned already, we don&#039;t know how long it will be available).</p><p>Does anyone know?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>