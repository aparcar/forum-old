<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unofficial Full Feature Images</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 14 Apr 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=49841&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=49841&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=49841&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p238111">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						26 Jun 2014, 14:52					</div>
				</div>
				<div class="post-content content">
					<p>No no, I have compiled for NAND generic devices.&nbsp; It is up and available for you to try now <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238112">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						26 Jun 2014, 14:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>AdamK wrote:</cite><blockquote><p>Thanks hnyman I&#039;ll work on that -- I only run 4 different config files for everything in the ar71xx list as you can see but I guess some ppl would like to know the selections.&nbsp; Should I post that output on here?</p></blockquote></div><p>With my own community firmware I place both the .config and diffconfig output to the same folder as firmware release itself. I also post all the diffs &amp; scripts that I use in the build process, so that replicating my build is really easy.</p><p>Full .config is 180 kB, while diffconfig is only 14 kB (of which 9 kB is Busybox changes as devs changed its handling a few months ago). Earlier diffconfig was only 5 kB.</p><p>See e.g. the most recent build: <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/AAB1sC_BBREvsCdgO6aGiXS7a/trunk-r41337-2014-06-25">https://www.dropbox.com/sh/t52c02rm20y8 … 2014-06-25</a><br />Info on my build in general: <a href="https://forum.openwrt.org/viewtopic.php?id=28392">https://forum.openwrt.org/viewtopic.php?id=28392</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 26 Jun 2014, 15:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238115">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						26 Jun 2014, 15:17					</div>
				</div>
				<div class="post-content content">
					<p>Well first thing I noticed after having a bit of a trawl thru your thread, is that you too are running Ubuntu 14.04 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Anyway good suggestion which I will take onboard.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238194">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						27 Jun 2014, 01:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zhouruixi wrote:</cite><blockquote><p>OK,I&#039;am not good at English。And I want to say:我必须要好好学习英语了！</p></blockquote></div><p>If you need help with English go to <a href="https://translate.google.com">https://translate.google.com</a></p><p>如果您需要幫助，英語，訪 <a href="https://translate.google.com">https://translate.google.com</a></p><p>It&#039;s what I used to help me write this!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238218">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">d1no</div>
					<div class="post-datetime">
						27 Jun 2014, 06:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi AdamK, thanks for providing the new revision. I&#039;d like to upgrade my router by flashing directly in luci. Does sysupgrade work properly now? Also I noticed that there is only a openwrt-ar71xx-nand-wndr4300-squashfs-sysupgrade.tar but not the normal .bin file. How should I do the sysupgrade using .tar?</p><div class="quotebox"><cite>AdamK wrote:</cite><blockquote><p>Okay so the latest build is on the server after testing for several hours.&nbsp; I know that at the very least these images work on a TL-WDR4300 and WNDR4300, and are stable.</p><p><a href="http://www.mcservices.com.au/downloads/OpenWRT/Barrier-Breaker-r41337/">http://www.mcservices.com.au/downloads/ … er-r41337/</a></p><p>These images are as per post # 69 above.</p><p>I have also put in the directory the imagebuilder tarballs for NAND and generic devices.&nbsp; This will aide you in customizing your images further, ultimately mostly based on the code I have compiled.</p><p>For those of you who just want to install a couple of extra packages in addition to the base images I have built, you&#039;ll find a repository of ipk files that I have built in the packages subdirectory.</p><p>Finally, for those who just want to compile from scratch without the headache of working out what packages to add, what to configure etc, I&#039;ve also put several .config files in the base directory.&nbsp; generic.config is for most routers in the list, archerc7.config is for the archer c7 v2 with the 16MB flash and properly support 802.11ac/ath10k, wdr4300.config is for the TL-WDR4300 (TP-LINK) which has most features pre-built into the image, and lastly wndr4300.config which is for the Netgear WNDR4300 &amp; Netgear WNDR3700v4.</p><p>As always, appreciate feedback, bug reports etc that you guys find.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238263">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						27 Jun 2014, 15:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi d1no, thanks for asking that question as this was overlooked in my update notes.<br />Firstly, the sysupgrade, as far as I know, will NOT work with versions prior to when the openwrt developers implemented the sysupgrade features in trunk.&nbsp; That said, unless you have already upgraded to my 41336 build, you&#039;ll need to do the whole process of using TFTP one last time.&nbsp; Assuming that things do not break unintentionally in trunk, all future images can be done via the sysupgrade facility in luci.&nbsp; Note that the process for this is precisely the same as it would be assuming the file is a .bin that said do NOT extract the tar file first.&nbsp; Provide that tarball to luci as is.</p><p>HTH <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238321">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						28 Jun 2014, 02:44					</div>
				</div>
				<div class="post-content content">
					<p>For those of you who&#039;ve noticed, it looks like the default used kernel has been upgraded from 3.10.36 to 3.10.44<br />Now that in itself I don&#039;t think changes much other than it is a bigger number, that said I&#039;ll probably do another new build in a weeks time (or sooner if a security hole needs patching and is fixed in a newer trunk revision)<br />Should give me some time to rest up (sadly yes I have been ill now for quite sometime) and look at what hnyman has done with his community builds some more, as I&#039;d like to take on his suggestions.&nbsp; If it makes replicating my builds easier for those who have the facilities and know-how to do it, I&#039;m all for it.</p>											<p class="post-edited">(Last edited by <strong>AdamK</strong> on 28 Jun 2014, 02:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238465">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">tapper</div>
					<div class="post-datetime">
						29 Jun 2014, 12:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi AdamK<br /> thanks for the build just installed on my wrt160nl. all is good after i uninstalled the bootstrap theme for luci. that&#039;s not your fault tho, it dus not play nice with my screen reader. I have a wd n750 in the post so will test on that soon to. thanks and get well soon.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238788">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						2 Jul 2014, 01:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks tapper I hope you&#039;re enjoying your router.</p><p>The feedback overall that I have received via pm &amp; in person is that people much prefer the bootstrap (aka luci default theme) over the openwrt theme as they find it easier to navigate compared to the openwrt theme.&nbsp; You can change themes via the openwrt developers build repository though, this should not fail even though my builds are based on snapshots of current trunk code.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239431">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						6 Jul 2014, 06:46					</div>
				</div>
				<div class="post-content content">
					<p>Okay I&#039;ve built an update for the ar71xx routers based on trunk r41522</p><p>There are no changes on my end, so any changes are based on what the OpenWRT developers have put into the source code.&nbsp; You can review the changes here:&nbsp; <a href="https://dev.openwrt.org/log/">https://dev.openwrt.org/log/</a></p><p>I&#039;m doing some testing of the images before I put them up on to the server, this will take several hours.&nbsp; Currently both my test routers (Netgear WNDR4300 &amp; TP-Link TL-WDR4300) are happy with the build, no issues are seen at this stage, but I will run them both for a few more hours before I post them onto the server <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Once this version has been released there will be releases every 2 to 3 weeks, except where a security hole needs to be patched in which case once this has been found by either me, you guys or the OpenWRT developers and a fix released in trunk or in any of my work, I will build a fresh release immediately.</p>											<p class="post-edited">(Last edited by <strong>AdamK</strong> on 6 Jul 2014, 06:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239457">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">quabug</div>
					<div class="post-datetime">
						6 Jul 2014, 16:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi AdamK,<br />Thank you for sharing your config file with us.<br />I&#039;d try to use your config to compile openwrt for wndr4300, but eventually pppd server seems encount an error:</p><div class="codebox"><pre><code>Sun Jul  6 08:48:27 2014 daemon.info pppd[5882]: RP-PPPoE plugin version 3.8p compiled against pppd 2.4.6
Sun Jul  6 08:48:27 2014 daemon.err pppd[5882]: Couldn&#039;t open the /dev/ppp device: No such file or directory
Sun Jul  6 08:48:27 2014 daemon.notice netifd: wan (5882): /usr/sbin/pppd: You need to create the /dev/ppp device node by
Sun Jul  6 08:48:27 2014 daemon.notice netifd: wan (5882): executing the following command as root:
Sun Jul  6 08:48:27 2014 daemon.notice netifd: wan (5882): mknod /dev/ppp c 108 0
Sun Jul  6 08:48:27 2014 daemon.notice netifd: wan (5882): 
Sun Jul  6 08:48:27 2014 daemon.err pppd[5882]: You need to create the /dev/ppp device node by
executing the following command as root:
mknod /dev/ppp c 108 0
........</code></pre></div><p>Should I fix it by hand? or there&#039;s something wrong during compiling that I must fix toolchain(?) or something else then recompile it from srouce?</p><p>here&#039;s diff between my config and config from your site, I just enabled macvlan mod and disable all new settings for new kernel:<br /></p><div class="codebox"><pre><code>1464d1463   
&lt; # CONFIG_PACKAGE_kmod-nls-cp932 is not set
1555c1554
&lt; CONFIG_PACKAGE_kmod-macvlan=y
---
&gt; # CONFIG_PACKAGE_kmod-macvlan is not set
2003,2004d2001
&lt; # CONFIG_PACKAGE_libacl is not set
&lt; # CONFIG_PACKAGE_libattr is not set
3586d3582
&lt; # CONFIG_PACKAGE_mdns is not set
3769a3766
&gt; # CONFIG_PACKAGE_pulseaudio-daemon-avahi is not set
3809,3810d3805
&lt; # CONFIG_PACKAGE_acl is not set
&lt; # CONFIG_PACKAGE_attr is not set</code></pre></div><p>looking forward your reply,<br />thanks,<br />quabug</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239501">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">tapper</div>
					<div class="post-datetime">
						6 Jul 2014, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi will you post here wen you update the server?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239521">
				<div class="post-metadata">
					<div class="post-num">Post #88</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						7 Jul 2014, 08:34					</div>
				</div>
				<div class="post-content content">
					<p>Yes I will be.<br />Tests seem to be good so I have uploaded the images to the server.</p><p>You can grab the latest build here:</p><p><a href="http://www.mcservices.com.au/downloads/OpenWRT/Barrier-Breaker-r41522/">http://www.mcservices.com.au/downloads/ … er-r41522/</a></p>											<p class="post-edited">(Last edited by <strong>AdamK</strong> on 7 Jul 2014, 08:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239532">
				<div class="post-metadata">
					<div class="post-num">Post #89</div>
					<div class="post-author">ldd200888</div>
					<div class="post-datetime">
						7 Jul 2014, 11:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi AdamK, Thanks for your great work.</p><p>I have a problem with WNDR4300. After updating the router&#039;s firmware using your images (r41522 and r41337, openwrt-ar71xx-nand-wndr4300-ubi-factory.img), I find that the router&#039;s DNS function don&#039;t work correctly.&nbsp; When I run &quot;ping <a href="http://www.baidu.com">www.baidu.com</a>&quot; in router&#039;s shell, the result will be &quot;ping: unknown host <a href="http://www.baidu.com">www.baidu.com</a>&quot;.</p><p>Should I do some config about DNS?&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Do anyone else meet this problem before?&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>What can I do to fix this problem?&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>ldd200888</strong> on 7 Jul 2014, 11:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239534">
				<div class="post-metadata">
					<div class="post-num">Post #90</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						7 Jul 2014, 12:22					</div>
				</div>
				<div class="post-content content">
					<p>I am unaware of any issues relating to DNS with the builds.</p><p>I&#039;ve re-tested here and got this result:</p><p>adamk@Dell-M4500:~$ nslookup<br />&gt; server 192.168.1.1<br />Default server: 192.168.1.1<br />Address: 192.168.1.1#53<br />&gt; <a href="http://www.google.com">www.google.com</a><br />Server:&nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.1<br />Address:&nbsp; &nbsp; 192.168.1.1#53</p><p>Non-authoritative answer:<br />Name:&nbsp; &nbsp; <a href="http://www.google.com">www.google.com</a><br />Address: 74.125.237.112<br />Name:&nbsp; &nbsp; <a href="http://www.google.com">www.google.com</a><br />Address: 74.125.237.116<br />Name:&nbsp; &nbsp; <a href="http://www.google.com">www.google.com</a><br />Address: 74.125.237.115<br />Name:&nbsp; &nbsp; <a href="http://www.google.com">www.google.com</a><br />Address: 74.125.237.114<br />Name:&nbsp; &nbsp; <a href="http://www.google.com">www.google.com</a><br />Address: 74.125.237.113<br />&gt; <a href="http://www.baidu.com">www.baidu.com</a><br />Server:&nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.1<br />Address:&nbsp; &nbsp; 192.168.1.1#53</p><p>Non-authoritative answer:<br /><a href="http://www.baidu.com">www.baidu.com</a>&nbsp; &nbsp; canonical name = <a href="http://www.a.shifen.com">www.a.shifen.com</a>.<br />Name:&nbsp; &nbsp; <a href="http://www.a.shifen.com">www.a.shifen.com</a><br />Address: 180.76.3.151</p><br /><p>There does not appear to be any fault on the part of the image and the DNS that is setup on it.&nbsp; Perhaps your ISP uses an unusual type of DNS server or did not correctly tell the router what the DNS servers are.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239536">
				<div class="post-metadata">
					<div class="post-num">Post #91</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						7 Jul 2014, 12:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>quabug wrote:</cite><blockquote><p>or there&#039;s something wrong during compiling that I must fix toolchain(?) or something else then recompile it from srouce?</p></blockquote></div><p>The toolchain is built as a part of the overall OpenWRT build process.&nbsp; The fault may lie in that there may be a missing piece of the puzzle in your overall build environment but it would be impossible for me to diagnose for you from here.&nbsp; Are you using Ubuntu?&nbsp; If so perhaps I can look to document what packages I installed (there were quite a lot of them however) at some point to assist.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239540">
				<div class="post-metadata">
					<div class="post-num">Post #92</div>
					<div class="post-author">ldd200888</div>
					<div class="post-datetime">
						7 Jul 2014, 13:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>AdamK wrote:</cite><blockquote><p>I am unaware of any issues relating to DNS with the builds.</p><p>I&#039;ve re-tested here and got this result:</p><p>adamk@Dell-M4500:~$ nslookup<br />&gt; server 192.168.1.1<br />Default server: 192.168.1.1<br />Address: 192.168.1.1#53<br />&gt; <a href="http://www.google.com">www.google.com</a><br />Server:&nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.1<br />Address:&nbsp; &nbsp; 192.168.1.1#53<br />....</p><p>There does not appear to be any fault on the part of the image and the DNS that is setup on it.&nbsp; Perhaps your ISP uses an unusual type of DNS server or did not correctly tell the router what the DNS servers are.</p></blockquote></div><p>Thanks for your elaborate reply. This problem really confuses me. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />However, in the same condition, other routers(such as TP-link) and the WNDR4300 with its origin factory image (download from netgear.com) can work correctly.</p><p>Without other solutions, I modify the /etc/config/network by adding a line &quot; option dns &#039;8.8.8.8&#039; &quot;. It appears to work now~~</p><p>OMG, Why me meeting the odd??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239542">
				<div class="post-metadata">
					<div class="post-num">Post #93</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						7 Jul 2014, 14:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ldd200888 wrote:</cite><blockquote><p>Without other solutions, I modify the /etc/config/network by adding a line &quot; option dns &#039;8.8.8.8&#039; &quot;. It appears to work now~~</p></blockquote></div><p>This means that your ISP is sending information to the router when you authenticate, which the router cannot understand.</p><p>You could also find out what the DNS servers are for your ISP and replace 8.8.8.8 with the address your ISP uses.&nbsp; This should resolve your problem longer term, however if there&#039;s anyone else who also have this problem please let us know in this thread.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239559">
				<div class="post-metadata">
					<div class="post-num">Post #94</div>
					<div class="post-author">quabug</div>
					<div class="post-datetime">
						7 Jul 2014, 18:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>AdamK wrote:</cite><blockquote><p>The toolchain is built as a part of the overall OpenWRT build process.&nbsp; The fault may lie in that there may be a missing piece of the puzzle in your overall build environment but it would be impossible for me to diagnose for you from here.&nbsp; Are you using Ubuntu?&nbsp; If so perhaps I can look to document what packages I installed (there were quite a lot of them however) at some point to assist.</p></blockquote></div><p>Hi AdamK,<br />I just upgrade to your new 41522 firmware and encounter the same issue.. so I guess this issue is not related on toolchains (btw, I use arch to compile openwrt)? Did you test pppoe feature?<br />Anyway I&#039;ll try to install a new firmware instead of upgrade from old one.</p><p>quabug</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239598">
				<div class="post-metadata">
					<div class="post-num">Post #95</div>
					<div class="post-author">AdamK</div>
					<div class="post-datetime">
						8 Jul 2014, 04:32					</div>
				</div>
				<div class="post-content content">
					<p>quabug:<br />I use these routers as a production router which involves normal DHCP and also PPPoE.<br />Both of these routers work without fault.</p><p>I had a look at my test unit which shows the ppp device in Linux, intact.</p><p>root@OpenWrt-Test:~# cd /dev<br />root@OpenWrt-Test:/dev# ls -l ppp<br />crw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; 108,&nbsp; &nbsp;0 Jul&nbsp; 7 20:10 ppp<br />root@OpenWrt-Test:/dev# </p><p>Have you tried using the factory image via TFTP?&nbsp; If so, did you power cycle the router once flashed?&nbsp; Have you also tried reverting to the Netgear stock firmware and then flashing with OpenWRT?&nbsp; Again if you try this don&#039;t forget to power cycle the router after flashing.&nbsp; The only time I have noted where you do not need to power cycle the router after flashing OpenWRT is when you have successfully done a sysupgrade.&nbsp; I have not seen any issues with sysupgrade since the OpenWRT developers have rolled it out and got the whole setup working, but that&#039;s not to say that others may run into problems, which could be caused by minor hardware revisions that Netgear have not told anyone about.</p>											<p class="post-edited">(Last edited by <strong>AdamK</strong> on 8 Jul 2014, 04:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239744">
				<div class="post-metadata">
					<div class="post-num">Post #96</div>
					<div class="post-author">zhouruixi</div>
					<div class="post-datetime">
						9 Jul 2014, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi,AdamK.I find a problem recently,when I installed some software( xunlei Xware is more than 5M) and I have little space for /overlay ,when I use df -h I found there are only 8M for /overlay.<br />root@OpenWrt:/dev# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8.1M&nbsp; &nbsp; &nbsp; 8.0M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8.8M&nbsp; &nbsp; &nbsp; 8.8M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 61.6M&nbsp; &nbsp; &nbsp; 1.4M&nbsp; &nbsp; &nbsp;60.2M&nbsp; &nbsp;2% /tmp<br />/dev/ubi0_1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8.1M&nbsp; &nbsp; &nbsp; 8.0M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp; 8.1M&nbsp; &nbsp; &nbsp; 8.0M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />root@OpenWrt:~# cat&nbsp; /proc/partitions <br />major minor&nbsp; #blocks&nbsp; name</p><p>&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock0<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock1<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock2<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock3<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock4<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock5<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp;3072 mtdblock6<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 7&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock7<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 8&nbsp; &nbsp; &nbsp; 23552 mtdblock8<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp; 25600 mtdblock9<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock10<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; 98304 mtdblock11<br /> 254&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;8928 ubiblock0_0<br />root@OpenWrt:/# cat /proc/mtd <br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00020000 &quot;u-boot&quot;<br />mtd1: 00040000 00020000 &quot;u-boot-env&quot;<br />mtd2: 00040000 00020000 &quot;caldata&quot;<br />mtd3: 00080000 00020000 &quot;pot&quot;<br />mtd4: 00200000 00020000 &quot;language&quot;<br />mtd5: 00080000 00020000 &quot;config&quot;<br />mtd6: 00300000 00020000 &quot;traffic_meter&quot;<br />mtd7: 00200000 00020000 &quot;kernel&quot;<br />mtd8: 01700000 00020000 &quot;ubi&quot;<br />mtd9: 01900000 00020000 &quot;firmware&quot;<br />mtd10: 00040000 00020000 &quot;caldata_backup&quot;<br />mtd11: 06000000 00020000 &quot;reserved&quot;<br />Now,I use mkfs.ext4 /dev/mtdblock11 and mount /dev/mtdblock11 /mnt/mtd11,so,there are 80.7M for free. Is that OK? And I want to know how to edit the source file to change the size of&nbsp; partition.After all，I want full use of 3700v4&#039;s 128M nand flash.</p><p>------------two days later----------------------------</p><p>How are you these days,take care about yourself！</p><p>Though searching from google and wiki,I edit the file ./target/linux/ar71xx/image/Makefile</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; old:<br />wndr4300_mtdlayout=mtdparts=ar934x-nfc:256k(u-boot)ro,256k(u-boot-env)ro,256k(caldata),512k(pot),2048k(language),512k(config),3072k(traffic_meter),2048k(kernel),23552k(ubi),25600k@0x6c0000(firmware),256k(caldata_backup),(reserved)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new:(increase 50M for both ubi and firmware,you can increase more space if you want and I just for a test)<br />wndr4300_mtdlayout=mtdparts=ar934x-nfc:256k(u-boot)ro,256k(u-boot-env)ro,256k(caldata),512k(pot),2048k(language),512k(config),3072k(traffic_meter),2048k(kernel),74752k(ubi),76800k@0x6c0000(firmware),256k(caldata_backup),(reserved)</p><p>Then build a new&nbsp; image&nbsp; and upgrade on my wndr3700v4,I&#039;am very happy to find that the size of /overly change to 51.6M.<br />This is information:<br />root@OpenWrt:~# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1K-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;52868&nbsp; &nbsp; &nbsp; &nbsp; 80&nbsp; &nbsp; &nbsp;50056&nbsp; &nbsp;0% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10496&nbsp; &nbsp; &nbsp;10496&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 63048&nbsp; &nbsp; &nbsp; &nbsp;912&nbsp; &nbsp; &nbsp;62136&nbsp; &nbsp;1% /tmp<br />/dev/ubi0_1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 52868&nbsp; &nbsp; &nbsp; &nbsp; 80&nbsp; &nbsp; &nbsp;50056&nbsp; &nbsp;0% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp;52868&nbsp; &nbsp; &nbsp; &nbsp; 80&nbsp; &nbsp; &nbsp;50056&nbsp; &nbsp;0% /<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;512&nbsp; &nbsp;0% /dev<br />root@OpenWrt:~# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;51.6M&nbsp; &nbsp; &nbsp;80.0K&nbsp; &nbsp; &nbsp;48.9M&nbsp; &nbsp;0% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10.3M&nbsp; &nbsp; &nbsp;10.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 61.6M&nbsp; &nbsp; 912.0K&nbsp; &nbsp; &nbsp;60.7M&nbsp; &nbsp;1% /tmp<br />/dev/ubi0_1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 51.6M&nbsp; &nbsp; &nbsp;80.0K&nbsp; &nbsp; &nbsp;48.9M&nbsp; &nbsp;0% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp;51.6M&nbsp; &nbsp; &nbsp;80.0K&nbsp; &nbsp; &nbsp;48.9M&nbsp; &nbsp;0% /<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />root@OpenWrt:~# cat /proc/mtd <br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00020000 &quot;u-boot&quot;<br />mtd1: 00040000 00020000 &quot;u-boot-env&quot;<br />mtd2: 00040000 00020000 &quot;caldata&quot;<br />mtd3: 00080000 00020000 &quot;pot&quot;<br />mtd4: 00200000 00020000 &quot;language&quot;<br />mtd5: 00080000 00020000 &quot;config&quot;<br />mtd6: 00300000 00020000 &quot;traffic_meter&quot;<br />mtd7: 00200000 00020000 &quot;kernel&quot;<br />mtd8: 04900000 00020000 &quot;ubi&quot;<br />mtd9: 04b00000 00020000 &quot;firmware&quot;<br />mtd10: 00040000 00020000 &quot;caldata_backup&quot;<br />mtd11: 02e00000 00020000 &quot;reserved&quot;<br />root@OpenWrt:~# cat /proc/partitions <br />major minor&nbsp; #blocks&nbsp; name</p><p>&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock0<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock1<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock2<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock3<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock4<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock5<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp;3072 mtdblock6<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 7&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock7<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 8&nbsp; &nbsp; &nbsp; 74752 mtdblock8<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp; 76800 mtdblock9<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock10<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; 47104 mtdblock11<br /> 254&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 10292 ubiblock0_0</p><p>So, I think if you both change the size of mtd8(ubi) and mtd9(witch include mtd7 and mtd8) the size of other partition will change automatic.<br />If it is right and you think it is useful,would you mind do this change in you images?<br />Thanks again.</p>											<p class="post-edited">(Last edited by <strong>zhouruixi</strong> on 14 Jul 2014, 09:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240065">
				<div class="post-metadata">
					<div class="post-num">Post #97</div>
					<div class="post-author">Meditux</div>
					<div class="post-datetime">
						12 Jul 2014, 15:55					</div>
				</div>
				<div class="post-content content">
					<p>hi zhouruixi, </p><p>there is the possibility to get the firmware from you? I would be happy ;-)</p>											<p class="post-edited">(Last edited by <strong>Meditux</strong> on 12 Jul 2014, 15:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240066">
				<div class="post-metadata">
					<div class="post-num">Post #98</div>
					<div class="post-author">zhouruixi</div>
					<div class="post-datetime">
						12 Jul 2014, 16:45					</div>
				</div>
				<div class="post-content content">
					<p>To say the truth,I use OpenWRT for only less than two month,I know little about it. I don&#039;t know what package is necessary what are not,I build based on your .config.And another problem is I can not download lots of source file by the build system because of the GFW(Great Firewall of China) so,I must download it by myself with VPN in other country .It&#039;s trouble for me.But I will try my best to explore and test the firmware on my device.Now,I&#039;ll test for several hours or several days.Of course I will put it here if necessary(only for wndr3700V4 wndr4300).</p><p>======================a small bug=============<br />In my image,I had not select kmod-nls-iso8859-1 and kmod-nls-cp437(it is necessary for chinese?).When I mount -t vfat /dev/sda1 /mnt/sda1 I got &quot;Failed to mount &#039;/dev/sda1&#039;: Invalid argument&quot;.I think it is because of the kmod-nls-iso8859-1 and it&#039;s useless by use -o iocharset=utf8 ,finally I installed kmod-nls-iso8859-1 .when I use mount /dev/sda1 /mnt/sda1 it shows to me :<br />NTFS signature is missing.<br />Failed to mount &#039;/dev/sda1&#039;: Invalid argument<br />The device &#039;/dev/sda1&#039; doesn&#039;t seem to have a valid NTFS.<br />Maybe the wrong device is used? Or the whole disk instead of a<br />partition (e.g. /dev/sda, not /dev/sda1)? Or the other way around?</p><p>But it will mount successfully.and run mount:</p><p>/dev/sda1 on /mnt/sda1 type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso88591,shortname=mixed,errors=remount-ro)</p><p>The default is&nbsp; iocharset=iso88591 not utf8(it may is the reason why I can&#039;t mount).Next I remove kmod-nls-iso8859-1 and delete /bin/mount witch provide by busybox then installed mount-utils.Well,I can&#039;t mount(by default) without kmod-nls-iso8859-1 but I can mount with -o iocharset=utf8.It will not show &quot;NTFS signature is missing..........&quot;too.</p><p> -------------------one day later-------------------------------<br />now,I select kmod-nls-iso8859-1,and use mount-utils Instead of busybox(mount and umount).</p>											<p class="post-edited">(Last edited by <strong>zhouruixi</strong> on 14 Jul 2014, 11:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240136">
				<div class="post-metadata">
					<div class="post-num">Post #99</div>
					<div class="post-author">Meditux</div>
					<div class="post-datetime">
						13 Jul 2014, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>OK zhouruixi,</p><p>no problem. I have made myself at times their own firmware for the WNDR3700v4 and it runs with Samba, vsftpd without problems. Thanks for the tip with the mtdlayout.</p><p>root@gateway:~# dmesg<br />[&nbsp; &nbsp; 0.000000] Linux version 3.10.44 (meditux@meditux-virtual-machine) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r41595) ) #3 Sun Jul 13 13:47:25 CEST 2014<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 0001974c (MIPS 74Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9344 rev 2<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:560.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:40.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 08000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x07ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x07ffffff]<br />[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 32768<br />[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 8036ea80, node_mem_map 81000000<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 256 pages used for memmap<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 32768 pages, LIFO batch:7<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: [0] 0<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 32512<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=WNDR4300 console=ttyS0,115200 mtdparts=ar934x-nfc:256k(u-boot)ro,256k(u-boot-env)ro,256k(caldata),512k(pot),2048k(language),512k(config),3072k(traffic_meter),2048k(kernel),74752k(ubi),76800k@0x6c0000(firmware),256k(caldata_backup),-(reserved) rootfstype=squashfs noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 125868k/131072k available (2566k kernel code, 5204k reserved, 656k data, 232k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.060000] Calibrating delay loop... 278.93 BogoMIPS (lpj=1394688)<br />[&nbsp; &nbsp; 0.070000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.070000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.080000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.080000] MIPS: machine is NETGEAR WNDR3700v4/WNDR4300<br />[&nbsp; &nbsp; 0.090000] ar71xx: using random MAC address for eth0<br />[&nbsp; &nbsp; 0.290000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.300000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.310000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.310000] pci_bus 0000:00: root bus resource [mem 0x10000000-0x13ffffff]<br />[&nbsp; &nbsp; 0.320000] pci_bus 0000:00: root bus resource [io&nbsp; 0x0000]<br />[&nbsp; &nbsp; 0.320000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: [168c:0033] type 00 class 0x028000<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: invalid calibration data<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: reg 10: [mem 0x00000000-0x0001ffff 64bit]<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: reg 30: [mem 0x00000000-0x0000ffff pref]<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: supports D1<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: PME# supported from D0 D1 D3hot<br />[&nbsp; &nbsp; 0.330000] pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to 00<br />[&nbsp; &nbsp; 0.330000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1001ffff 64bit]<br />[&nbsp; &nbsp; 0.340000] pci 0000:00:00.0: BAR 6: assigned [mem 0x10020000-0x1002ffff pref]<br />[&nbsp; &nbsp; 0.340000] pci 0000:00:00.0: using irq 40 for pin 1<br />[&nbsp; &nbsp; 0.350000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.350000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.360000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.360000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.370000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.370000] TCP: reno registered<br />[&nbsp; &nbsp; 0.370000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.380000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.390000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.390000] PCI: CLS 0 bytes, default 32<br />[&nbsp; &nbsp; 0.410000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.410000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.420000] msgmni has been set to 245<br />[&nbsp; &nbsp; 0.430000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.430000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.430000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />[&nbsp; &nbsp; 0.460000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />[&nbsp; &nbsp; 0.470000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.480000] NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron NAND 128MiB 3,3V 8-bit), 128MiB, page size: 2048, OOB size: 64<br />[&nbsp; &nbsp; 0.490000] Scanning device for bad blocks<br />[&nbsp; &nbsp; 0.590000] 12 cmdlinepart partitions found on MTD device ar934x-nfc<br />[&nbsp; &nbsp; 0.590000] Creating 12 MTD partitions on &quot;ar934x-nfc&quot;:<br />[&nbsp; &nbsp; 0.600000] 0x000000000000-0x000000040000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.600000] 0x000000040000-0x000000080000 : &quot;u-boot-env&quot;<br />[&nbsp; &nbsp; 0.610000] 0x000000080000-0x0000000c0000 : &quot;caldata&quot;<br />[&nbsp; &nbsp; 0.620000] 0x0000000c0000-0x000000140000 : &quot;pot&quot;<br />[&nbsp; &nbsp; 0.620000] 0x000000140000-0x000000340000 : &quot;language&quot;<br />[&nbsp; &nbsp; 0.630000] 0x000000340000-0x0000003c0000 : &quot;config&quot;<br />[&nbsp; &nbsp; 0.640000] 0x0000003c0000-0x0000006c0000 : &quot;traffic_meter&quot;<br />[&nbsp; &nbsp; 0.640000] 0x0000006c0000-0x0000008c0000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.650000] 0x0000008c0000-0x0000051c0000 : &quot;ubi&quot;<br />[&nbsp; &nbsp; 0.660000] 0x0000006c0000-0x0000051c0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 1.370000] 0x0000051c0000-0x000005200000 : &quot;caldata_backup&quot;<br />[&nbsp; &nbsp; 1.380000] 0x000005200000-0x000008000000 : &quot;reserved&quot;<br />[&nbsp; &nbsp; 1.410000] switch0: Atheros AR8327 rev. 4 switch registered on ag71xx-mdio.0<br />[&nbsp; &nbsp; 2.620000] libphy: ag71xx_mdio: probed</p><br /><p>root@gateway:~#&nbsp; cat&nbsp; /proc/partitions<br />major minor&nbsp; #blocks&nbsp; name</p><p>&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock0<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock1<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock2<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock3<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock4<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock5<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp;3072 mtdblock6<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 7&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock7<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 8&nbsp; &nbsp; &nbsp; 74752 mtdblock8<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp; 76800 mtdblock9<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock10<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; 47104 mtdblock11<br /> 254&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;5456 ubiblock0_0<br />&nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;31375360 sda<br />&nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp;31371264 sda1<br />root@gateway:~# cat /proc/mtd<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00020000 &quot;u-boot&quot;<br />mtd1: 00040000 00020000 &quot;u-boot-env&quot;<br />mtd2: 00040000 00020000 &quot;caldata&quot;<br />mtd3: 00080000 00020000 &quot;pot&quot;<br />mtd4: 00200000 00020000 &quot;language&quot;<br />mtd5: 00080000 00020000 &quot;config&quot;<br />mtd6: 00300000 00020000 &quot;traffic_meter&quot;<br />mtd7: 00200000 00020000 &quot;kernel&quot;<br />mtd8: 04900000 00020000 &quot;ubi&quot;<br />mtd9: 04b00000 00020000 &quot;firmware&quot;<br />mtd10: 00040000 00020000 &quot;caldata_backup&quot;<br />mtd11: 02e00000 00020000 &quot;reserved&quot;<br />root@gateway:~#<br />root@gateway:~# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;56.0M&nbsp; &nbsp; 112.0K&nbsp; &nbsp; &nbsp;53.0M&nbsp; &nbsp;0% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.5M&nbsp; &nbsp; &nbsp; 5.5M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 61.6M&nbsp; &nbsp; 416.0K&nbsp; &nbsp; &nbsp;61.2M&nbsp; &nbsp;1% /tmp<br />/dev/ubi0_1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 56.0M&nbsp; &nbsp; 112.0K&nbsp; &nbsp; &nbsp;53.0M&nbsp; &nbsp;0% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp;56.0M&nbsp; &nbsp; 112.0K&nbsp; &nbsp; &nbsp;53.0M&nbsp; &nbsp;0% /<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />/dev/sda1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 29.9G&nbsp; &nbsp; &nbsp; 4.3G&nbsp; &nbsp; &nbsp;25.6G&nbsp; 14% /mnt/usb</p><br /><p>Greetings and thanks Meditux</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240195">
				<div class="post-metadata">
					<div class="post-num">Post #100</div>
					<div class="post-author">zhouruixi</div>
					<div class="post-datetime">
						14 Jul 2014, 08:04					</div>
				</div>
				<div class="post-content content">
					<p>Ok，Meditux,thanks for your trying.Now,I edit the Makefile as:</p><p>wndr4300_mtdlayout=mtdparts=ar934x-nfc:256k(u-boot)ro,256k(u-boot-env)ro,256k(caldata),512k(pot),2048k(language),512k(config),3072k(traffic_meter),2048k(kernel),121856k(ubi),123904k@0x6c0000(firmware),256k(caldata_backup),-(reserved)</p><p>So,I can fully use the 128M flash without mtd11(reserved).</p><p>root@OpenWrt:~# cat /proc/mtd <br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00020000 &quot;u-boot&quot;<br />mtd1: 00040000 00020000 &quot;u-boot-env&quot;<br />mtd2: 00040000 00020000 &quot;caldata&quot;<br />mtd3: 00080000 00020000 &quot;pot&quot;<br />mtd4: 00200000 00020000 &quot;language&quot;<br />mtd5: 00080000 00020000 &quot;config&quot;<br />mtd6: 00300000 00020000 &quot;traffic_meter&quot;<br />mtd7: 00200000 00020000 &quot;kernel&quot;<br />mtd8: 07700000 00020000 &quot;ubi&quot;<br />mtd9: 07900000 00020000 &quot;firmware&quot;<br />mtd10: 00040000 00020000 &quot;caldata_backup&quot;<br />root@OpenWrt:~# </p><p>root@OpenWrt:~# cat /proc/partitions <br />major minor&nbsp; #blocks&nbsp; name</p><p>&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock0<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock1<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock2<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock3<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock4<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; 512 mtdblock5<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp;3072 mtdblock6<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 7&nbsp; &nbsp; &nbsp; &nbsp;2048 mtdblock7<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 8&nbsp; &nbsp; &nbsp;121856 mtdblock8<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp;123904 mtdblock9<br />&nbsp; 31&nbsp; &nbsp; &nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp; 256 mtdblock10<br /> 254&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 13516 ubiblock0_0</p><p>root@OpenWrt:~# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;89.8M&nbsp; &nbsp; 700.0K&nbsp; &nbsp; &nbsp;84.5M&nbsp; &nbsp;1% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 13.3M&nbsp; &nbsp; &nbsp;13.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 61.6M&nbsp; &nbsp; 444.0K&nbsp; &nbsp; &nbsp;61.1M&nbsp; &nbsp;1% /tmp<br />/dev/ubi0_1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 89.8M&nbsp; &nbsp; 700.0K&nbsp; &nbsp; &nbsp;84.5M&nbsp; &nbsp;1% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp;89.8M&nbsp; &nbsp; 700.0K&nbsp; &nbsp; &nbsp;84.5M&nbsp; &nbsp;1% /<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev</p><p>Download r41581-full-use-of-128M-NAND-flash:(click 下载 then click 立即下载 )<br />Based on AdamK&#039;s .config <br />WNDR3700V4&nbsp; <a href="http://pan.baidu.com/s/1gd68TA7">http://pan.baidu.com/s/1gd68TA7</a><br />WNDR4300&nbsp; &nbsp; &nbsp; <a href="http://pan.baidu.com/s/1pJyRepP">http://pan.baidu.com/s/1pJyRepP</a></p><p>My own firmware (aria2,yaaw,python,vsftpd,tinyproxy,wol,mwan3,three themes,etc)<br />WNDR3700V4&nbsp; <a href="http://pan.baidu.com/s/1dDGg2hN">http://pan.baidu.com/s/1dDGg2hN</a><br />WNDR4300&nbsp; &nbsp; &nbsp; <a href="http://pan.baidu.com/s/1o6Bevyy">http://pan.baidu.com/s/1o6Bevyy</a></p>											<p class="post-edited">(Last edited by <strong>zhouruixi</strong> on 14 Jul 2014, 09:17)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=49841&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=49841&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=49841&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>