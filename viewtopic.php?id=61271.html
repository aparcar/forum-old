<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> som9331</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p302056">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						2 Dec 2015, 08:22					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>For one of the application I have planned to use SOM9331 from Openembed. The SOC used in the SOM9331 module is Atheros AR9331.</p><p>I would like to know which version of OpenWRT is supported by the SOM9331. Will it support the latest version of openwrt i.e. chaos_calmer 15.05.</p><p>BR,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p302058">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						2 Dec 2015, 08:37					</div>
				</div>
				<div class="post-content content">
					<p>ar9331 supported by Attitude Adjustment and any newer</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312741">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						27 Feb 2016, 07:52					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>We are planning to buy SOM9331, In our application we will be using the GPIO of the module and some custom code to controlling other modules. When checked with manufacturer for the space left in the 8MB flash the manufacturer told the free space will be around 1MB. The manufacturer also sent the firmware but the size of the firmware is 8MB. I am not sure why the firmware is taking 8MB. </p><p>Can we download any other version of openwrt and flash the same to SOM9331. Also does the SOM9331 supports firmware upgrade through Serial?</p><p>BR,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312754">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stas2z</div>
					<div class="post-datetime">
						27 Feb 2016, 11:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sreekanth.a wrote:</cite><blockquote><p>Hello,</p><p>We are planning to buy SOM9331, In our application we will be using the GPIO of the module and some custom code to controlling other modules. When checked with manufacturer for the space left in the 8MB flash the manufacturer told the free space will be around 1MB. The manufacturer also sent the firmware but the size of the firmware is 8MB. I am not sure why the firmware is taking 8MB. </p><p>Can we download any other version of openwrt and flash the same to SOM9331. Also does the SOM9331 supports firmware upgrade through Serial?</p><p>BR,<br />Sreekanth</p></blockquote></div><p>factory image size is always equal to firmware partition size<br />free space for the 8MB image depends on build and can be from 0 to ~4.5mb after an installation</p>											<p class="post-edited">(Last edited by <strong>stas2z</strong> on 27 Feb 2016, 11:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313983">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						8 Mar 2016, 10:00					</div>
				</div>
				<div class="post-content content">
					<p>Hello Stas2z,</p><p>Thanks for the response and apologies for late response.</p><p>We brought the SOM9331 module and has Attitude adjustment 12.09 and I am not sure whether it is supported anymore.</p><p>Can you please suggest me the suitable firmware from the latest release.</p><p>Thanks &amp; Regards,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314006">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						8 Mar 2016, 15:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m a little surprised no one has started a device page for the Openembed SOM9331.&nbsp; You may not have found this info:</p><p>- Some documentation and what I believe to be a patch so you can build your own image for this device:</p><p><a href="https://github.com/10to7/SOM9331">https://github.com/10to7/SOM9331</a></p><p>Not sure what version of OpenWRT that patch applied to.&nbsp; You may be lucky and be able to apply it directly to CC or trunk <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p><p>- A blog post where a user modified/built a custom image for this device:</p><p><a href="http://dev-boards.blogspot.com/2014/12/tiny-hackable-ar9331-based-router-from.html">http://dev-boards.blogspot.com/2014/12/ â€¦ -from.html</a></p><p>HTH <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Clemmitt</p><p>P.S.:&nbsp; A belated filename search found this:</p><p><a href="http://openwrt.jaru.eu.org/barrier_breaker/ar71xx/">http://openwrt.jaru.eu.org/barrier_breaker/ar71xx/</a></p>											<p class="post-edited">(Last edited by <strong>cmsigler</strong> on 8 Mar 2016, 15:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314104">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						9 Mar 2016, 11:25					</div>
				</div>
				<div class="post-content content">
					<p>Hello cmsigler,</p><p>Thanks for the links. I will try to apply the patch and let you know.</p><p>Thanks,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314484">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						12 Mar 2016, 08:39					</div>
				</div>
				<div class="post-content content">
					<p>Hello cmsigler,</p><p>I downloaded the firmware for SOM9331 from the link which you provided and the router is not working now. downloading the 3.4 Mb image took so much of time and when downloading I observed a &#039;T&#039; in between the #.</p><p>Once I reboot the router (After copying the image to flash) the router is dead and I observed ERROR while booting.</p><p>I have attached the console message and the screen shot of the loaded image.</p><p>Console message are below,</p><div class="codebox"><pre><code>Freeing unused kernel memory: 256K (80350000 - 80390000)
[    3.210000] SQUASHFS error: xz_dec_run error, data probably corrupt
[    3.210000] SQUASHFS error: squashfs_read_data failed to read block 0x6e
[    3.220000] SQUASHFS error: Unable to read data cache entry [6e]
[    3.220000] SQUASHFS error: Unable to read page, block 6e, size 25bb0
[    3.230000] SQUASHFS error: Unable to read data cache entry [6e]
[    3.240000] SQUASHFS error: Unable to read page, block 6e, size 25bb0
[    3.240000] SQUASHFS error: Unable to read data cache entry [6e]
[    3.250000] SQUASHFS error: Unable to read page, block 6e, size 25bb0
[    3.250000] SQUASHFS error: Unable to read data cache entry [6e]
[    3.260000] SQUASHFS error: Unable to read page, block 6e, size 25bb0
[    3.270000] SQUASHFS error: Unable to read data cache entry [6e]
[    3.270000] SQUASHFS error: Unable to read page, block 6e, size 25bb0
[    3.970000] SQUASHFS error: xz_dec_run error, data probably corrupt
[    3.970000] SQUASHFS error: squashfs_read_data failed to read block 0x62e1a
[    3.980000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    3.980000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    3.990000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.000000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.000000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.010000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.020000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.020000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.030000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.030000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.040000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.050000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.050000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.060000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.070000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.070000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.080000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.090000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.090000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.100000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.110000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.110000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.120000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.120000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.130000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.140000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.140000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.150000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.160000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.160000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.170000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.180000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.180000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.190000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.200000] SQUASHFS error: Unable to read data cache entry [62e1a]
[    4.200000] SQUASHFS error: Unable to read page, block 62e1a, size 8f18
[    4.310000] Kernel panic - not syncing: Attempted to kill init! exitcode=0</code></pre></div><p>TFTPboot screen,</p><div class="codebox"><pre><code>TFTP from IP:192.168.1.2
          our   IP:192.168.1.1
       Filename:&#039;openwrt-ar71xx-generic-som9331-squashfs-sysupgrade.bin&#039;
Load address:0x81000000
using: eth0

Loading:#####################
              #####################
              #######T ##

TFTP transfer complete!
Bytes transfered: 3538948 (0x360004)
uboot&gt;</code></pre></div><p>Thanks &amp; Regards,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314539">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						12 Mar 2016, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>This is clearly a major problem:</p><p>SQUASHFS error: xz_dec_run error, data probably corrupt</p><p>I believe you are trying to install OpenWRT for the first time, not perform an upgrade.&nbsp; Is that correct?&nbsp; Then you need the &quot;-factory.bin&quot; file.&nbsp; The filename in the code you posted is:</p><p>openwrt-ar71xx-generic-som9331-squashfs-sysupgrade.bin</p><p>I believe what you need is:</p><p>openwrt-ar71xx-generic-som9331-squashfs-factory.bin</p><p>The &quot;-factory.bin&quot; file is for new, first-time installations.&nbsp; You must use that, I believe.&nbsp; This is the nomenclature adopted by OpenWRT for their new installation files, versus their&nbsp; &quot;-sysupgrade.bin&quot; upgrade files for systems with OpenWRT already installed.</p><p>All I did was use Google to search for &quot;openwrt openembed som9331&quot; which is the first thing to do to get started.&nbsp; That search gave me the links I shared with you.&nbsp; Here is a different link from OpenWRT forums:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=57406">https://forum.openwrt.org/viewtopic.php?id=57406</a></p><p>Please understand I have no experience with this unit at all.&nbsp; I wish I could help you but I don&#039;t have one.&nbsp; So I won&#039;t be able to reply any further.</p><p>Please ask on the blog where you download the files you do use, or e-mail the person who posted the files.&nbsp; Or perhaps someone else who uses this unit will reply to your questions here.&nbsp; Please also go to the OpenWRT wiki and read the Beginner&#039;s Guide and the Generic Basic HOWTOs page.&nbsp; This can teach you more about flashing and using OpenWRT.&nbsp; Good luck <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Clemmitt</p>											<p class="post-edited">(Last edited by <strong>cmsigler</strong> on 17 Mar 2016, 20:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314710">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						14 Mar 2016, 07:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello cmsigler,</p><p>Thanks for your reply.</p><p>As the module came with AA12.09, I thought upgrading the module to the latest release would be better so I went with openwrt-ar71xx-generic-som9331-squashfs-sysupgrade.bin firmware.</p><p>The link which you provided in your latest post also pointing to openwrt-ar71xx-generic-som9331-squashfs-sysupgrade.bin firmware.</p><p>The time taken for uploading the .bin file is too much. I have successfully installed openwrt in TL-MR3420 and upgraded the firmware and the router is working fine without any issue and the time taken to upload the .bin file in the TL-MR3420 is very less, the .bin file will get uploaded in flash of time.</p><br /><p>I will try to contact the module manufacturer for the latest release of the firmware.</p><p>Once again thank you for your help.</p><p>BR,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314741">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						14 Mar 2016, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m sorry, I thought you could figure out the URL for downloading a different OpenWRT image yourself.&nbsp; Go here:</p><p><a href="http://dl.eko.one.pl/barrier_breaker/ar71xx/">http://dl.eko.one.pl/barrier_breaker/ar71xx/</a></p><p>Please remember you need a &quot;-factory.bin&quot; image for the som9331 if OpenWRT is not successfully installed and working yet.</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314742">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						14 Mar 2016, 14:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello Clemmitt,</p><p>Thanks for the link.</p><p>I am not sure why the speed is very slow and also I tried to upload the image couple of time and all the time the &#039;T&#039; in between ### is coming and in the TFTP server the timeout is happening and it is going up to 180.</p><br /><p>Regards,<br />Sreeaknth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p314772">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						14 Mar 2016, 18:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Again, I don&#039;t know anything about these SOM 9331 devices and I don&#039;t have one.&nbsp; But here&#039;s what I&#039;m thinking:</p><p>Can you upload the default firmware from the manufacturer onto this unit and get it working like it came from the factory?&nbsp; If not, maybe the flash on the unit you&#039;re testing has gotten corrupted somehow and you have to try a fresh unit?&nbsp; Just a wild guess FWIW, I could be totally wrong.&nbsp; Other suggestions:</p><p>- Sometimes TFTP doesn&#039;t work the first time and you have to try many times.&nbsp; I&#039;m not sure why but I have read that other people have this problem.&nbsp; Repeatedly trying TFTP may eventually get it to work.</p><p>- Possible <span class="bbu">BIG HELP</span>: Connect your laptop/workstation Ethernet and also the SOM 9331 to a switch (NOT a hub) and turn on the switch, then wait just a bit.&nbsp; Your laptop/workstation should already be running and the Ethernet port should be configured to the correct IP address and netmask.&nbsp; Once the switch and laptop/workstation are running and the laptop/workstation Ethernet port is configured, turn on the device.&nbsp; The TFTP window may be very short, only a couple of seconds.&nbsp; Having the Ethernet link ready to go might help.</p><p>Clemmitt</p>											<p class="post-edited">(Last edited by <strong>cmsigler</strong> on 14 Mar 2016, 18:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315338">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						17 Mar 2016, 16:46					</div>
				</div>
				<div class="post-content content">
					<p>Hello Clemmitt,</p><p>Today I was successfully able to download the&nbsp; the firmware of W703 (openwrt-15.05.1-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin chaos_calmer/15.05.1) and the board is able to boot. While downloading we observed &#039;T&#039; in between ###&nbsp; but still the board is able to boot.</p><p>I will test the board with the firmware and let you know.</p><p>Thanks for your help.</p><p>Thanks &amp; Regards,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315376">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						17 Mar 2016, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Very glad you were able to flash and boot successfully <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; How did you succeed?&nbsp; Did you try multiple times until it worked?&nbsp; Did you connect both systems to a powered-up switch?&nbsp; I&#039;m curious to know what worked so I can recommend a method to others.</p><p>Also, I don&#039;t know what a &#039;T&#039; character means instead of a &#039;#&#039; character for transfer progress when uploading with tftpd -- I searched many times for the meaning of &#039;T&#039; with no luck, just found some Cisco IOS stuff that doesn&#039;t directly apply *shrug*&nbsp; If you figure that out, please post the answer so others can search the forums and find this helpful info.</p><p>Best wishes <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315642">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						19 Mar 2016, 08:37					</div>
				</div>
				<div class="post-content content">
					<p>Hello Clemmitt,</p><p>I just tried once and it worked with the firmware of W703 (openwrt-15.05.1-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin chaos_calmer/15.05.1). The previous firmware (The link you provided) is having issue while booting.</p><p>The &#039;T&#039; will come if the data packet is not received, we can observe that when the tftp server address is wrong or the mention firmware is not available in the mentioned path.</p><p>I also tried to search for &#039;T&#039; but ended up with nothing.</p><p>Thank you so much for your help.</p><p>Thanks &amp; Regards,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321092">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Fragment</div>
					<div class="post-datetime">
						24 Apr 2016, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello, any updates on this?</p><p>I&#039;m curious to know what steps are needed to build a working firmware image out of the OpenWRT CC image generator for this device.</p><p>I also found these docs, but the patch appears to be for AA rather than CC.<br /><a href="https://github.com/10to7/SOM9331">https://github.com/10to7/SOM9331</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321482">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						27 Apr 2016, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello Fragment,</p><p>I downloaded the W703 CC image and uploaded to the device and it worked fine. We are still using the same firmware and everything is working properly.</p><p>We didn&#039;t apply any patch to the CC image.</p><p>Thanks,<br />Sreekanth</p>											<p class="post-edited">(Last edited by <strong>sreekanth.a</strong> on 27 Apr 2016, 15:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321826">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Fragment</div>
					<div class="post-datetime">
						29 Apr 2016, 17:50					</div>
				</div>
				<div class="post-content content">
					<p>Hey, </p><p>Is everything working fine with that image?<br />Like LED&#039;s, all 3 ethernet interfaces, wifi, serial/uart, etc.</p><p>Cheers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321832">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">sreekanth.a</div>
					<div class="post-datetime">
						29 Apr 2016, 18:18					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Everything is working fine. In our module we are not using LED&#039;s. All Ethernet interfaces, Wi-Fi serial etc is working fine without any issue.</p><p>Thanks,<br />Sreekanth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321957">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Fragment</div>
					<div class="post-datetime">
						30 Apr 2016, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>Hey!</p><p>Alright, I managed to flash that image to the board by using tftp and issuing the following commands over the serial (screen dev/ttyUSB0 115200).</p><div class="codebox"><pre><code>setenv ipaddr 192.168.2.1
setenv serverip 192.168.2.200
tftpboot 0x80000000 openwrtcc.bin
erase 0x9f020000 +0x3c0000
cp.b 0x80000000 0x9f020000 0x3c0000
bootm 9f020000</code></pre></div><br /><p>I found a few problems with that image however. The LAN LED&#039;s aren&#039;t working, and there&#039;s only a single working ethernet port. I&#039;m guessing this is because wr703n has just one available, the rest are disabled.</p><br /><p><strong>Boot log:</strong><br /></p><div class="quotebox"><blockquote><p>*********************************************<br />*&nbsp; &nbsp; &nbsp; &nbsp; U-Boot 1.1.4&nbsp; (Jan&nbsp; 3 2014)&nbsp; &nbsp; &nbsp; &nbsp; *<br />*********************************************</p><p> (AR9331) U-Boot for SOM9331</p><p>DRAM:&nbsp; &nbsp;64 MB DDR2 16-bit<br />FLASH:&nbsp; Winbond W25Q64 (8 MB)<br />CLOCKS: 400/400/200/33 MHz (CPU/RAM/AHB/SPI)</p><p>LED on during eth initialization...</p><p>Hit any key to stop autobooting:&nbsp; 1 0 </p><p>Booting image at: 0x9F020000</p><p>&nbsp; &nbsp;Image name:&nbsp; &nbsp;OpenWrt r48532<br />&nbsp; &nbsp;Image type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data size:&nbsp; &nbsp; 1176540 Bytes = 1.1 MB<br />&nbsp; &nbsp;Load address: 0x80060000<br />&nbsp; &nbsp;Entry point:&nbsp; 0x80060000</p><p>Uncompressing kernel image... OK!<br />Starting kernel...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.18.23 (buildbot@builder1) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r47269) ) #1 Sun Jan 31 18:39:35 CET 2016<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU0 revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR9330 rev 1<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 04000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Initmem setup node 0 [mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=TL-WR703N&nbsp; console=ttyATH0,115200 rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 60812K/65536K available (2586K kernel code, 128K rwdata, 540K rodata, 256K init, 193K bss, 4724K reserved)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.090000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.100000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is TP-LINK TL-WR703N v1<br />[&nbsp; &nbsp; 0.380000] Switched to clocksource MIPS<br />[&nbsp; &nbsp; 0.380000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.390000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.390000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.400000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.400000] TCP: reno registered<br />[&nbsp; &nbsp; 0.400000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.410000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.420000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.420000] futex hash table entries: 256 (order: -1, 3072 bytes)<br />[&nbsp; &nbsp; 0.440000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.440000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.450000] msgmni has been set to 118<br />[&nbsp; &nbsp; 0.450000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.460000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.460000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled<br />[&nbsp; &nbsp; 0.470000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11, base_baud = 1562500) is a AR933X UART<br />[&nbsp; &nbsp; 0.480000] console [ttyATH0] enabled<br />[&nbsp; &nbsp; 0.480000] console [ttyATH0] enabled<br />[&nbsp; &nbsp; 0.490000] bootconsole [early0] disabled<br />[&nbsp; &nbsp; 0.490000] bootconsole [early0] disabled<br />[&nbsp; &nbsp; 0.500000] m25p80 spi0.0: found s25fl064k, expected m25p80<br />[&nbsp; &nbsp; 0.500000] m25p80 spi0.0: s25fl064k (8192 Kbytes)<br />[&nbsp; &nbsp; 0.510000] 5 tp-link partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.510000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.520000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.520000] 0x000000020000-0x00000013f5dc : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.530000] 0x00000013f5dc-0x0000007f0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.530000] mtd: device 2 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 0.540000] 1 squashfs-split partitions found on MTD device rootfs<br />[&nbsp; &nbsp; 0.540000] 0x000000370000-0x0000007f0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.550000] 0x0000007f0000-0x000000800000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.550000] 0x000000020000-0x0000007f0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.600000] libphy: ag71xx_mdio: probed<br />[&nbsp; &nbsp; 1.190000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]<br />[&nbsp; &nbsp; 1.200000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII<br />[&nbsp; &nbsp; 1.200000] TCP: cubic registered<br />[&nbsp; &nbsp; 1.200000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 1.210000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.<br />[&nbsp; &nbsp; 1.220000] Bridge firewalling registered<br />[&nbsp; &nbsp; 1.220000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 1.240000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 1.250000] Freeing unused kernel memory: 256K (80390000 - 803d0000)<br />[&nbsp; &nbsp; 2.470000] init: Console is alive<br />[&nbsp; &nbsp; 2.470000] init: - watchdog -<br />[&nbsp; &nbsp; 4.000000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp; 4.000000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp; 4.010000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp; 4.020000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp; 4.030000] ehci-platform: EHCI generic platform driver<br />[&nbsp; &nbsp; 4.030000] ehci-platform ehci-platform: EHCI Host Controller<br />[&nbsp; &nbsp; 4.040000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1<br />[&nbsp; &nbsp; 4.050000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000<br />[&nbsp; &nbsp; 4.070000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00<br />[&nbsp; &nbsp; 4.070000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp; 4.070000] hub 1-0:1.0: 1 port detected<br />[&nbsp; &nbsp; 4.500000] init: - preinit -<br />[&nbsp; &nbsp; 5.300000] random: procd urandom read with 8 bits of entropy available<br />Press the [f] key and hit [enter] to enter failsafe mode<br />Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br />[&nbsp; &nbsp; 7.580000] jffs2: notice: (347) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.<br />[&nbsp; &nbsp; 7.600000] mount_root: switching to jffs2 overlay<br />[&nbsp; &nbsp; 7.660000] procd: - early -<br />[&nbsp; &nbsp; 7.660000] procd: - watchdog -<br />[&nbsp; &nbsp; 8.490000] procd: - ubus -<br />[&nbsp; &nbsp; 9.500000] procd: - init -<br />Please press Enter to activate this console.<br />[&nbsp; &nbsp;10.570000] NET: Registered protocol family 10<br />[&nbsp; &nbsp;10.580000] ip6_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;10.600000] Loading modules backported from Linux version master-2015-03-09-0-g141f155<br />[&nbsp; &nbsp;10.610000] Backport generated by backports.git backports-20150129-0-gdd4a670<br />[&nbsp; &nbsp;10.620000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;10.640000] nf_conntrack version 0.5.0 (954 buckets, 3816 max)<br />[&nbsp; &nbsp;10.690000] xt_time: kernel timezone is -0000<br />[&nbsp; &nbsp;10.730000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;10.760000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;10.760000] cfg80211:&nbsp; DFS Master region: unset<br />[&nbsp; &nbsp;10.760000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br />[&nbsp; &nbsp;10.770000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;10.780000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz, 92000 KHz AUTO), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;10.790000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;10.800000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;10.810000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)<br />[&nbsp; &nbsp;10.820000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)<br />[&nbsp; &nbsp;10.830000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;10.830000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)<br />[&nbsp; &nbsp;10.920000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;10.930000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;11.010000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2<br />[&nbsp; &nbsp;11.020000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp;11.020000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp;11.030000] cfg80211:&nbsp; DFS Master region: FCC<br />[&nbsp; &nbsp;11.030000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br />[&nbsp; &nbsp;11.040000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)<br />[&nbsp; &nbsp;11.050000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (N/A)<br />[&nbsp; &nbsp;11.060000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (0 s)<br />[&nbsp; &nbsp;11.070000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2300 mBm), (0 s)<br />[&nbsp; &nbsp;11.070000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)<br />[&nbsp; &nbsp;11.080000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)<br />[&nbsp; &nbsp;21.640000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;21.640000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready</p></blockquote></div><br /><p><strong>Memory:</strong> RAM seems fine<br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:/proc# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />Mem:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;61068&nbsp; &nbsp; &nbsp; &nbsp; 20356&nbsp; &nbsp; &nbsp; &nbsp; 40712&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 108&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1892<br />-/+ buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 18464&nbsp; &nbsp; &nbsp; &nbsp; 42604<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p></blockquote></div><br /><p><strong>Free space:</strong><br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:/proc# df<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1K-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />rootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4608&nbsp; &nbsp; &nbsp; &nbsp;276&nbsp; &nbsp; &nbsp; 4332&nbsp; &nbsp;6% /<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2304&nbsp; &nbsp; &nbsp; 2304&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30532&nbsp; &nbsp; &nbsp; &nbsp; 64&nbsp; &nbsp; &nbsp;30468&nbsp; &nbsp;0% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30532&nbsp; &nbsp; &nbsp; &nbsp; 44&nbsp; &nbsp; &nbsp;30488&nbsp; &nbsp;0% /tmp/root<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;512&nbsp; &nbsp;0% /dev<br />/dev/mtdblock3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4608&nbsp; &nbsp; &nbsp; &nbsp;276&nbsp; &nbsp; &nbsp; 4332&nbsp; &nbsp;6% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; &nbsp; 4608&nbsp; &nbsp; &nbsp; &nbsp;276&nbsp; &nbsp; &nbsp; 4332&nbsp; &nbsp;6% /</p></blockquote></div><br /><p><strong>Mount points:</strong><br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:/proc# mount<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro,relatime)<br />proc on /proc type proc (rw,nosuid,nodev,noexec,noatime)<br />sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,noatime)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)<br />tmpfs on /tmp/root type tmpfs (rw,noatime,mode=755)<br />tmpfs on /dev type tmpfs (rw,nosuid,relatime,size=512k,mode=755)<br />devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,mode=600)<br />debugfs on /sys/kernel/debug type debugfs (rw,noatime)<br />/dev/mtdblock3 on /overlay type jffs2 (rw,noatime)<br />overlayfs:/overlay on / type overlay (rw,noatime,lowerdir=/,upperdir=/overlay/upper,workdir=/overlay/work)</p></blockquote></div><br /><p>Gonna play around a bit to see, if I can construct my own image from the image generator.</p><p>Cheers!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>