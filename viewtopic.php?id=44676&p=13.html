<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Easybox 904 LTE open source code to be provide soon</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 13 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=11.html">11</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=12.html">12</a></li><li class="pagination-current"><span>13</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=15.html">15</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p356066">
				<div class="post-metadata">
					<div class="post-num">Post #301</div>
					<div class="post-author">s²</div>
					<div class="post-datetime">
						11 Apr 2017, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone,</p><p>I was trying to flash the fullimage.bin from post #280 to my 904 LTE box via TFTP,<br />curiously it was accepting the image and starting to erase the flash, only to figure out that something is wrong with the expected image size / offset:</p><div class="codebox"><pre><code>ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK

ROM VER: 1.1.4
CFG 06
NAND
NAND Read OK
nand_read_page - 00000008
DDR autotuning Rev 0.3c
DDR size from 0xa0000000 - 0xa7ffffff
DDR check ok... start booting...



U-Boot 2010.06-Lv2.0.40-A0.3  (Jul 12 2012 - 22:00:12)

CLOCK CPU 500M RAM 250M
DRAM:  128 MiB
NAND:  NAND device: Manufacturer ID: 0xec, Chip ID: 0xdc (Samsung NAND 512MiB 3,
3V 8-bit)
512 MiB
Bad block table found at page 262080, version 0x01
Bad block table found at page 262016, version 0x01
nand_read_bbt: Bad block at 0x0000002e0000
nand_read_bbt: Bad block at 0x00001e680000
In:    serial
Out:   serial
Err:   serial
Net:   Internal phy(GE) firmware version: 0x040b
vr9 Switch

Type &quot;run flash_nfs&quot; to mount root filesystem over NFS

reset button pressed --&gt; 1
reset button pressed --&gt; 2
reset button pressed --&gt; 3
reset button pressed --&gt; 4
reset button pressed --&gt; 5
reset button pressed --&gt; 6
reset button pressed --&gt; 7
enter rescue process ...
Uncompressing LCD bootup images ...............
NAND read: device 0 offset 0x0000000004700000, size 0x0000000000300000
 0x300000 bytes read: OK
Using vr9 Switch device
TFTP from server 192.168.2.100; our IP address is 192.168.2.1
Filename &#039;fullimage.img&#039;.
Load address: 0x80800000
Loading: T T #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #########################
done
Bytes transferred = 5127544 (4e3d78 hex)
verify firmware validation: loadaddr = 0x80800000, filesize = 5127544
firmware is ok !

NAND erase: device 0 offset 0x0000000004440000, size 0x0000000000100000
Erasing at 0x4520000 -- 100% complete.
OK

NAND erase: device 0 offset 0x0000000002240000, size 0x0000000001e00000
Erasing at 0x4020000 -- 100% complete.
OK

NAND erase: device 0 offset 0x0000000004040000, size 0x0000000000400000
Erasing at 0x4420000 -- 100% complete.
OK
Saving Environment to NAND...
Erasing at 0x4560000 -- 100% complete.
done
Image contains header with name [MIPS LEDE fakeroot]
erasing 0x00040000 size 0x01e00000
Skipping bad block at  0x002e0000
Erasing at 0x1e20000 -- 100% complete. Cleanmarker written at 0x1e20000.
erase OK
writing to 0x00040000 size 0x00000000
 write 0x00000000 bytes: OK
Erasing at 0x4560000 -- 100% complete.
done
Image contains header with name [MIPS LEDE Linux-4.9.14]
Cannot upgrade image f_kernel_addr.
 Error : From start address 0x01e40000, the new size 5127408 is bigger than begi
ning of next image/end of the partition 0x02240000
Can not upgrade the image kernel</code></pre></div><p>Could the stock flash layout be different between xDSL and LTE variants?</p><p>Upon power-cycling the box, I assumed the kernel image must have been erased already, but curiously it was still there and trying to boot:</p><div class="codebox"><pre><code>(...)

Hit any key to stop autoboot:  0
Uncompressing LCD bootup images ...............
NAND read: device 0 offset 0x0000000004700000, size 0x0000000000300000
 0x300000 bytes read: OK
1. bootid : 0, bootnum : 0
Erasing at 0x4560000 -- 100% complete.
done
2. bootid : 0, bootnum : 1

NAND read: device 0 offset 0x0000000001e40000, size 0x0000000000400000
 0x400000 bytes read: OK
## Booting kernel from Legacy Image at 80800000 ...
   Image Name:   MIPS LTQCPE Linux-2.6.32.32
   Created:      2014-09-05   4:30:35 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1441728 Bytes = 1.4 MiB
   Load Address: 80002000
   Entry Point:  800061b0
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Lantiq xDSL CPE VR9
mips_hpt_frequency = 250000000, counter_resolution = 2</code></pre></div><p>I was actually expecting kernel panic (could not mount rootfs) but it was now stuck in a bootloop after &quot;... counter_resolution = 2&quot;</p><p>So it seems the bootloop might be due to a suppressed kernel panic when no valid rootfs was found!? (...and there is no console output or system halt, but the manufacturer rather chose to perform a reset immediately...)</p><p>The latest LTE stock firmware from the vodafone website was not accepted via tftp recovery...<br /></p><div class="codebox"><pre><code>Bytes transferred = 31383681 (1dee081 hex)
verify firmware validation: loadaddr = 0x80800000, filesize = 31383681
0x81af5040 magic number not found</code></pre></div><p>...flashing the xDSL stock firmware worked but also results in a bootloop.</p><p>Has anyone figured out how to enable UART mode for the LTE variant yet? The board layout is quite different from xDSL (the resistor labeled R148 is actually populated on the LTE board, so the naming is definetly not related)</p><p>In any case - I will try to build and flash some recovery fullimages tomorrow as described earlier in this thread, maybe I can get back to stock firmware for a while and try getting dropbear access for a start... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p356385">
				<div class="post-metadata">
					<div class="post-num">Post #302</div>
					<div class="post-author">biomajuss</div>
					<div class="post-datetime">
						16 Apr 2017, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>So I also flashed the 5,1 MB fullimage.img (from #280) to my xDSL Easybox, but the box is getting stuck in a bootloop. </p><p>Is there a documentation how to compile the git-source with the vectoring firmware from a fritzbox etc.? To get a VDSL100 Telekom connection working.</p>											<p class="post-edited">(Last edited by <strong>biomajuss</strong> on 16 Apr 2017, 21:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357003">
				<div class="post-metadata">
					<div class="post-num">Post #303</div>
					<div class="post-author">kovz</div>
					<div class="post-datetime">
						24 Apr 2017, 22:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi all.<br />Sorry for delayed response, I just return from vocation and make some additional tests and commit.<br />My latest results are next:<br />1. Firmware can be loaded<br />2. AP starts(only 5G for some reason)<br />3. I can connect to AP and open LuCi interface in browser.</p><p>More detail.<br />I don&#039;t use switch from Lantiq SoC, only rtl8367.<br />In file path_to_linux_sources/drivers/net/ethernetlantiq_xrx200.c I changed <strong>XRX200_MAX_DEV</strong> to 3<br /></p><div class="codebox"><pre><code>#ifdef SW_ROUTING
#define XRX200_MAX_DEV        3    
#else
#define XRX200_MAX_DEV        1
#endif</code></pre></div><p>and section <strong>eth0</strong> in dts file to have 3 ethernet interfaces<br /></p><div class="codebox"><pre><code>&amp;eth0 {
    lan: interface@0 {
        compatible = &quot;lantiq,xrx200-pdi&quot;;
        #address-cells = &lt;1&gt;;
        #size-cells = &lt;0&gt;;
        reg = &lt;0&gt;;                                
        mac-address = [ 84 9C A6 A0 99 9C ];
        ethernet@0 {
            compatible = &quot;lantiq,xrx200-pdi-port&quot;;
            reg = &lt;0&gt;;
            phy-mode = &quot;rgmii&quot;;
            fixed-link {
                                speed = &lt;1000&gt;;
                                full-duplex;
                        };
        };
    };

    iNIC: interface@1 {
                compatible = &quot;lantiq,xrx200-pdi&quot;;
                #address-cells = &lt;1&gt;;
                #size-cells = &lt;0&gt;;
                reg = &lt;1&gt;;
                mac-address = [ 84 9C A6 A0 99 9E ];
                ethernet@5 {
                        compatible = &quot;lantiq,xrx200-pdi-port&quot;;
                        reg = &lt;5&gt;;
                        phy-mode = &quot;rgmii&quot;;
                        fixed-link {
                                speed = &lt;1000&gt;;
                                full-duplex;
                        };
                }; 
        
    };
    wan1: interface@2 {
                compatible = &quot;lantiq,xrx200-pdi&quot;;
                #address-cells = &lt;1&gt;;
                #size-cells = &lt;0&gt;;
                reg = &lt;2&gt;;
                mac-address = [ 84 9C A6 A0 99 9D ];
        ethernet@4 {
            compatible = &quot;lantiq,xrx200-pdi-port&quot;;
            reg = &lt;4&gt;;
            phy-mode = &quot;gmii&quot;;
            phy-handle = &lt;&amp;phy13&gt;;
        };

        };
};</code></pre></div><p>and run make to build new firmware.<br />Flash it to router.</p><p>Next step - copy original firmware, configs and eeprom files to folder /lib/firmware/iNIC/RT3883/<br /></p><div class="codebox"><pre><code>-rwxr-xr-x    1 root     root        576384 Apr 19 19:48 iNIC_ap.bin                                                                                          
-rwxr-xr-x    1 root     root          2201 Apr 19 19:48 iNIC_ap.dat                                                                                          
-rwxr-xr-x    1 root     root          2129 Apr 19 19:48 iNIC_ap1.dat                                                                                         
-rwxr-xr-x    1 root     root           512 Apr 19 19:49 iNIC_e2p.bin                                                                                         
-rwxr-xr-x    1 root     root           512 Apr 19 19:49 iNIC_e2p1.bin</code></pre></div><p>build kernel module <br /></p><div class="codebox"><pre><code>make CROSS_COMPILE=~/git/Easybox-904-XDSL/staging_dir/toolchain-mips_24kc_gcc-5.4.0_uClibc/bin/mips-openwrt-linux- STAGING_DIR=~/git/Easybox-904-XDSL/build_dir/target-mips_24kc_uClibc/linux-lantiq_xrx200/linux-4.9.20/ ARCH=mips</code></pre></div><p> and copy it to router<br /></p><div class="codebox"><pre><code>scp rt3883_iNIC.ko root@192.168.1.1:/lib/modules/4.9.20/</code></pre></div><p>Now everything ready to load module<br /></p><div class="codebox"><pre><code>ifconfig eth1 192.168.3.1 up 
insmod /lib/module/4.9.20/rt3883_iNIC.ko miimaster=eth1 bridge=1 reset_gpio=483 
mac=84:9C:A6:A0:99:A4 mac2=84:9C:A6:A0:99:A6
ifconfig ra00_0 up
ifconfig ra00_1 up
ifconfig ra01_0 up
ifconfig ra01_1 up</code></pre></div><p>In my case DHCP server doesn&#039;t run on eth1 interface, so in client device(Nexus6) I set static IP 192.168.3.100.</p><p>Scan for WiFi networks, find INIC_AP_1, and connect to it.<br />In browser open 192.168.3.1 and you will see LuCi interface.</p><p>P.S Continue working on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p357521">
				<div class="post-metadata">
					<div class="post-num">Post #304</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						1 May 2017, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Thanks @kovz. The driver works with some changes. To be honest, now understand somehow what you wrote on github, regarding the dts. Maybe I can drop some changes made by me.<br />Nevertheless until now, I used my own setup to test the driver. And it works somehow.<br />I created some packages, to build the lede/openwrt wifi driver adapter and the kernel module. I uploaded all my changes to build the packages to my repositories. (Don&#039;t forget to call ./scripts/feeds update before build the image)</p><p>When the image is compiled, the driver is built and all additional files will be prepared.<br />On boot, the driver is loaded via init script and the initial wifi configuration is created.</p><p>When migrated from older images, verify that all switch ports are using the same VLAN:<br /></p><div class="codebox"><pre><code>cat /etc/config/network
...
config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;1&#039;
        option vid &#039;1&#039;
        option ports &#039;0 1 2 3 4 5 6t&#039;

config switch_vlan
        option device &#039;switch1&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 1 2 3 6t&#039;</code></pre></div><p>Attention: No GUI available! Setup is done only via uci- / text- configuration.</p><div class="codebox"><pre><code>root@LEDE:/# cat /etc/config/wireless
# 5 GHz
config wifi-device &#039;ra00_0&#039;
        option type &#039;ralink&#039;
        option channel &#039;11&#039;
        option disabled &#039;1&#039;

config wifi-iface &#039;default_ra00_0&#039;
        option device &#039;ra00_0&#039;
        option mode &#039;ap&#039;
        option ssid &#039;Lede&#039;
        option encryption &#039;psk2+aes&#039;
        option key &#039;WiFipassword&#039;

# 2,4 GHz
config wifi-device &#039;ra01_0&#039;
        option type &#039;ralink&#039;
        option channel &#039;11&#039;
        option disabled &#039;0&#039;

config wifi-iface &#039;default_ra01_0&#039;
        option device &#039;ra01_0&#039;
        option mode &#039;ap&#039;
        option ssid &#039;Lede1&#039;
        option encryption &#039;psk2+aes&#039;
        option key &#039;WiFipassword&#039;</code></pre></div><p>I also doesn&#039;t use a dhcp server at the box itself, but somewhere at the internal network - it works.<br />PS: Currently it is not possible add one of the interfaces (ra00_0, ra00_1, ...) to the bridge br-lan, it complaints about packets which have the same source and target mac ids (?!) (It is not neccessary, though) -&gt; Open point.</p><p>Also no guest network is possible atm (It is not tested.) Guest networks are provided via ra00_1 (5Ghz) and ra01_1 (2.4GHz) interfaces.</p><p>Actually the setup doesn&#039;t support all available wifi driver options, such as channel auto detection, greenfield mode, etc. - this is a wip module.</p><p>Again, thanks kovz for your work !!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 2 May 2017, 07:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358286">
				<div class="post-metadata">
					<div class="post-num">Post #305</div>
					<div class="post-author">kitor</div>
					<div class="post-datetime">
						13 May 2017, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>@kovz @QAuge Could you sum up what&#039;s current status - what&#039;s working, what are the problems? I read whole topic and info is a bit chaotic. And Wiki is outdated completely.</p><p>So I have a few questions - from xDSL version PoV.<br /><strong>1. Lantiq/realtek LAN switch - status and usage</strong><br />Does both of them finally work? If not, with Realtek one, can I access router, or it&#039;s connected via one of ports to internal Lantiq switch? Is gigabit connection working? Are vlans and port tagging working (so I can use eg. one port as WAN?)</p><p><strong>2. Running from internal flash</strong><br />Is it possible now, or we are still stuck to using pendrive for rootfs?</p><p><strong>3. DHCP</strong><br />Is there any problem, or it&#039;s just a coincidence that you both are using external server? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p><strong>4. DSL connection</strong><br />Is DSL working? Has anyone tested it with Annex A? On devices like EasyBox 803 it was enough to bypass frequency filter (desolder it and replace with two wires) and load Annex A firmware to get it working.</p><p><strong>5. WiFi</strong><br />So I understand that we have basic functions to run as AP now? What about this bridging issue? - I need to use vlans to have one of ethernet ports used as WAN.</p><p><strong>6. LCD and touch keys</strong><br />I saw progress on getting it to work with LCD4Linux. Is that included now?</p><p>I just bought xDSL version (hw r02) for like 10 bucks and wanted it to replace my old EasyBox 803 - all I need now is WiFi + LAN working, and I&#039;m using one of LAN port as WAN.</p>											<p class="post-edited">(Last edited by <strong>kitor</strong> on 13 May 2017, 18:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358546">
				<div class="post-metadata">
					<div class="post-num">Post #306</div>
					<div class="post-author">eartquake</div>
					<div class="post-datetime">
						18 May 2017, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>TODO: SiGe 5005L, markings &quot;SiGe 5005L 301BF&quot; <br />Datasheet search for :<br />Skyworks SE5005L</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358568">
				<div class="post-metadata">
					<div class="post-num">Post #307</div>
					<div class="post-author">kovz</div>
					<div class="post-datetime">
						18 May 2017, 11:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eartquake wrote:</cite><blockquote><p>TODO: SiGe 5005L, markings &quot;SiGe 5005L 301BF&quot; <br />Datasheet search for :<br />Skyworks SE5005L</p></blockquote></div><p><a href="https://www.google.de/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwi3i9GhhfnTAhXJLsAKHSRZBZgQFggjMAA&amp;url=http%3A%2F%2Fwww.skyworksinc.com%2Fuploads%2Fdocuments%2FSE5005L_202446B.pdf&amp;usg=AFQjCNEmEy8W1VeSnP3jBHxWV9Y1jA2kqQ&amp;sig2=RXlpyY2qeWiPKt6fWi1dig">Done</a></p><p>And for smartcard reader <a href="https://www.google.de/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiT-oHqhfnTAhXoIcAKHVjQCNcQFggjMAA&amp;url=http%3A%2F%2Fwww.nxp.com%2Fdocuments%2Fdata_sheet%2FTDA8029.pdf&amp;usg=AFQjCNFZY5pIkt6fRSjNoOCAfA6E-3AqmQ&amp;sig2=lruGiXiKW5Hx3OnjFJ4h-g">tda8029HL</a></p><p>A little bit about <a href="https://sourceforge.net/p/wive-ng/wive-ng-rtnl/ci/master/tree/docs/DataSheets/DSRT3883_2010202%20for%20Credlepoint.pdf">rt3883</a> and <a href="https://sourceforge.net/p/wive-ng/wive-ng-rtnl/ci/master/tree/docs/ProgrammingGuides/MTK_Wi-Fi_SoftAP_Software_Programming_Guide_v4.4.pdf">iNIC config file</a></p><p>Datasheet in Adobe flash viewer(yes, I know that this is strange)&nbsp; for <a href="http://download.csdn.net/source/preview/8157377/a389cef8ae785bc4c871f1b3f77baac7">rtl8370</a></p>											<p class="post-edited">(Last edited by <strong>kovz</strong> on 18 May 2017, 12:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360034">
				<div class="post-metadata">
					<div class="post-num">Post #308</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						9 Jun 2017, 10:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi kitor!<br /></p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>@kovz @QAuge Could you sum up what&#039;s current status - what&#039;s working, what are the problems? I read whole topic and info is a bit chaotic. And Wiki is outdated completely.</p></blockquote></div><p>Volunteers welcome <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> Indeed the wiki has to be updated, there&#039;s so much development in the last months.<br /></p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>So I have a few questions - from xDSL version PoV.<br /><strong>1. Lantiq/realtek LAN switch - status and usage</strong><br />Does both of them finally work? If not, with Realtek one, can I access router, or it&#039;s connected via one of ports to internal Lantiq switch? Is gigabit connection working? Are vlans and port tagging working (so I can use eg. one port as WAN?)</p></blockquote></div><p>Yes, this is possible. In the last couple of days I added the patch for FID setting on the lantiq switch.<br />It is needed to bridge the VLAN interfaces together. This is not needed for WAN, but currently used for WLAN.</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p><strong>2. Running from internal flash</strong><br />Is it possible now, or we are still stuck to using pendrive for rootfs?</p></blockquote></div><p>The default configuration loads uses the internal flash as UBI device.<br />(While I&#039;m prefer the pen drive for development to prevent the internal flash from damage.)</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p><strong>3. DHCP</strong><br />Is there any problem, or it&#039;s just a coincidence that you both are using external server? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>Just the private setup. I personally use this device behind a router as &quot;smart&quot; device with switch ports.<br />The DHCP/DNS configuration should work as expected.</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p><strong>4. DSL connection</strong><br />Is DSL working? Has anyone tested it with Annex A? On devices like EasyBox 803 it was enough to bypass frequency filter (desolder it and replace with two wires) and load Annex A firmware to get it working.</p></blockquote></div><p>Annex B / Annex J is working here. A introduction is <a href="https://forum.openwrt.org/viewtopic.php?pid=354654#p354654">Post 287</a>.</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p><strong>5. WiFi</strong><br />So I understand that we have basic functions to run as AP now? What about this bridging issue? - I need to use vlans to have one of ethernet ports used as WAN.</p></blockquote></div><p>All fine, currently the WLAN is working as basic AP and sends it traffic VLAN 66 tagged to the interface eth0.66 which is bridged to br-lan. With that, the clients have access to the private network. If you use a special VLAN for the external port of the lantiq switch, it should work. The iNIC control channel is set as eth0.3 to avoid internal traffic on regular interfaces/bridges.</p><p>Note that the WLAN has to be configured through the /etc/network/wifi configuration.<br />If someone has time and would like to extend the configuration, you are welcome.<br />Also as step for the WLAN driver, I have the feeling we have to convert this to the cfg80211 interface, which is<br />far better supported by lede/openwrt than the iwext interface.</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p><strong>6. LCD and touch keys</strong><br />I saw progress on getting it to work with LCD4Linux. Is that included now?</p></blockquote></div><p>It is included now, I had an issue with distorted colors on serdisplib. I reported it and now it is fixed upstream and works as expected. I wrote a small script to enable the lcd4linux/display on touch events and disable it after a while. (It makes no sense for me, to leave the display switched on all the time).<br />Also here: I really would appreciate updates for the lcd4linux configuration. Maybe things are not perfect.</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>I just bought xDSL version (hw r02) for like 10 bucks and wanted it to replace my old EasyBox 803 - all I need now is WiFi + LAN working, and I&#039;m using one of LAN port as WAN.</p></blockquote></div><p>If you have no problem with editing your configurations (WIFI) with the use of an text editor, you are fine.</p><p>Should I push a current snapshot ?</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 9 Jun 2017, 11:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360037">
				<div class="post-metadata">
					<div class="post-num">Post #309</div>
					<div class="post-author">antonmdavid</div>
					<div class="post-datetime">
						9 Jun 2017, 11:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,<br />Can someone let me know what is the correct settings for the O2 sip connection?<br />I have the O2 (Germany) username, password and the server name. </p><p>Username = 49[AreaCode][PhoneNo] eg: <em>493040700000</em><br />Passoword = xxxxxxxxxxxxxxxx<br />Server = sip.alice-voip.de</p><p>On my easybox 904 xDSL ccfg_cli I have the following settings</p><div class="codebox"><pre><code>lineEnable@sip_acc_1=1
userId@sip_acc_1=03040700000
userId_area@sip_acc_1 =
userId_local@sip_acc_1=40700000
displayName@sip_acc_1=03040700000
account_name@sip_acc_1=493040700000
password@sip_acc_1=xxxxxxxxxxxxxxxxx
useAuthId@sip_acc_1=0
authId@sip_acc_1=493040700000
realm@sip_acc_1=sip.alice-voip.de
sipdomain@sip_acc_1=sip.alice-voip.de
registrar@sip_acc_1=sip.alice-voip.de
proxy@sip_acc_1=sip.alice-voip.de
outboundProxy@sip_acc_1=0
useOutboundProxy@sip_acc_1=0
useDNSSRV@sip_acc_1=0
proxyPort@sip_acc_1=5060
obproxyPort@sip_acc_1=5060
registrarPort@sip_acc_1=5060
sipPort@sip_acc_1=5060
ListenVc@sip_acc_1=1
registerExpire@sip_acc_1=3600
dtmfTxMethod@sip_acc_1=1
codec_config@sip_acc_1=1
faxPassthruCodec@sip_acc_1=2
enableRegisterQuery@sip_acc_1=1
codec_s1@sip_acc_1=2
codec_s2@sip_acc_1=4
codec_s3@sip_acc_1=7
codec_s4@sip_acc_1=0
codec_s5@sip_acc_1=0
codec_s6@sip_acc_1=0
codec_s7@sip_acc_1=0
codec_s8@sip_acc_1=0
codec_s9@sip_acc_1=0
codec_s10@sip_acc_1=0
codec_s11@sip_acc_1=0
codec_s12@sip_acc_1=0
codec_a1@sip_acc_1=1
codec_a2@sip_acc_1=3
codec_a3@sip_acc_1=5
codec_a4@sip_acc_1=6
codec_a5@sip_acc_1=8
codec_a6@sip_acc_1=9
codec_a7@sip_acc_1=0
codec_a8@sip_acc_1=0
codec_a9@sip_acc_1=0
codec_a10@sip_acc_1=0
codec_a11@sip_acc_1=0
codec_a12@sip_acc_1=0</code></pre></div><br /><p>If I enter anything else other than my full number including the country code as O2 gave to me as username on <strong>account_name@sip_acc_1</strong>, I am getting 401 (not authorized) and if enter my full number on it (account_name@sip_acc_1=4930407<em>00000</em>), I am getting 403.</p><p>I tried all possible combinations but it is not establishing the connection. I don&#039;t know how to see the requests going out. Anyone know which module that I should look for? I installed Zoiper on my laptop and it has connected to the O2 without any problems and I can make calls via my laptop.</p><p>PS: I have an EasyBox 904 xDSL, it is keep rebooting after I flashed a wrong image. I tried to with the original image from vodafone with no success. Can anyone tell me if I can rescue this box? If not, I am happy to donate this to anyone if they can use it in any way. I will post with in Germany. I need the charger though. 15V 2A pretty generic.</p><p>Many Thanks<br />Anton</p>											<p class="post-edited">(Last edited by <strong>antonmdavid</strong> on 9 Jun 2017, 12:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360077">
				<div class="post-metadata">
					<div class="post-num">Post #310</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						10 Jun 2017, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I do not understand the switches:<br />Is switch0 (vrx288) port 0 ---connected---&gt; switch1 (rtl8367RB)<br />and the other ports on vrx288 for WAN (4) and WLAN (5) ?</p><p>What is the meaning of FID.</p><p>I want to separate port 3 (if numbered from 0-3 or the 4th yellow port of my device) of my switch for a second network.<br />like this:<br /></p><div class="codebox"><pre><code>config switch_vlan
        option device &#039;switch1&#039;
        option vlan &#039;6&#039;
        option ports &#039;3 6t&#039;
        
config device &#039;p4lan_dev&#039;              
        option name &#039;eth0.6&#039;      
        option macaddr &#039;9c:80:df:91:c9:47&#039;
        
config interface &#039;p4lan&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option netmask &#039;255.255.255.0&#039;
        option ipaddr &#039;192.168.42.1&#039;
        option delegate &#039;0&#039;
        list ifname &#039;eth0.6&#039;
        </code></pre></div><p>but this wont work, why ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360217">
				<div class="post-metadata">
					<div class="post-num">Post #311</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						12 Jun 2017, 13:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>Hi,<br />I do not understand the switches:<br />Is switch0 (vrx288) port 0 ---connected---&gt; switch1 (rtl8367RB)<br />and the other ports on vrx288 for WAN (4) and WLAN (5) ?</p><p>What is the meaning of FID.</p><p>I want to separate port 3 (if numbered from 0-3 or the 4th yellow port of my device) of my switch for a second network.<br />like this:<br /></p><div class="codebox"><pre><code>config switch_vlan
        option device &#039;switch1&#039;
        option vlan &#039;6&#039;
        option ports &#039;3 6t&#039;
        
config device &#039;p4lan_dev&#039;              
        option name &#039;eth0.6&#039;      
        option macaddr &#039;9c:80:df:91:c9:47&#039;
        
config interface &#039;p4lan&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option netmask &#039;255.255.255.0&#039;
        option ipaddr &#039;192.168.42.1&#039;
        option delegate &#039;0&#039;
        list ifname &#039;eth0.6&#039;
        </code></pre></div><p>but this wont work, why ?</p></blockquote></div><p>Your config looks good. I made a test and you only missed to setup the lantiq switch.<br /></p><div class="codebox"><pre><code>config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;6&#039;
        option vid &#039;6&#039;
        option fid &#039;6&#039;
        option ports &#039;0t 6t&#039;</code></pre></div><p>With your config, the traffic is &quot;routed&quot; through the switches to the cpu port. Means, you can see dns requests and other broadcasts coming from the connected client on port 3. But the traffic isn&#039;t &quot;routed&quot; back. Therefore you need to&nbsp; prepare the lantiq switch to tag the packets on port 0 on vlan 6 packets. At least in my temporary setup this seems to work as expected.</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 12 Jun 2017, 14:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360327">
				<div class="post-metadata">
					<div class="post-num">Post #312</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						14 Jun 2017, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>@ QAuge<br />Thanks it works.<br />But what is the meaning of FID ?</p><br /><br /><p>I migrade from the O2-Box 6431 to Easybox 904xDSL the reason is i was hoping that i can increase the speed from vdsl&lt;--&gt;eth&lt;--&gt;PC. <br />But the EB904x is slower than the O2Box.<br />My problem is that i use montly a new openwrt feature like openvpn, a new VLAN or a new Asterisk application.<br />I have a 100Mbit VDLS line and the Provider FritzBox 7360 with the same Lantiq Chipset it get speeds like 90-95Mbit (my old PC have only 100Mbit Ethernet adapter).<br />My O2-Box with a LEDE-no-SMP-firmware gets speeds like:<br />90-95Mbit in Bridge mode as modem and<br />80-85Mbit as an normal VDSL-telephon-router.<br />After i get a lot of ideas what i can do with LEDE i get speeds like: 60-70Mbit<br />(looking at the webinterface cost 10Mbit)</p><p>I was thinking that the reason for low speed are the missed extra chipset of the O2-Box 6431 and the low connection to the Lantiq switch.<br />The O2Box use the Lantiq switch only with 4 x 100Mbit.</p><p>I was hooping that a VR9 router that have a GBit switch and littlebit more RAM like FB-7360 to get the same speed like FB-7360 or min more than 80Mbit.<br />But it does not, the EB904x get speeds like 50-60Mbit<br />(For testing i used the modem-firmware from the same FB-7360 model.)</p><p>My question is: <br />Can somebody telling about VDSL-speed on the EB904x or other vr9 devices ?<br />Why is the FB-7360 so fast ?</p><br /><br /><p>The next problem that i have is that only the Telefon U TAE connector are working not the F connector<br />/etc/asterisk/lantiq.conf:<br /></p><div class="codebox"><pre><code>[interfaces]
channels = 2
per_channel_context = on

[general]
rxgain = 1
txgain = 3
echocancel = nfees
echocancelnlp = on</code></pre></div><p>but i fear it is an electrical problem can everybody confirm that both lines general working ?</p><br /><br /><p>Is there a possibility to shut of the screen ?<br />the Red stripe can be disable via:<br /></p><div class="codebox"><pre><code>echo 1 &gt; /sys/devices/platform/gpio-leds/leds/VGV952CJW33:red:power/brightness</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360328">
				<div class="post-metadata">
					<div class="post-num">Post #313</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						14 Jun 2017, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>@antonmdavid<br />Did you have an opened Original FW on the EB-904xDSL or did you use the new QAuge-LEDE Firmware ?<br />On the last case you have to configure Asterisk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360344">
				<div class="post-metadata">
					<div class="post-num">Post #314</div>
					<div class="post-author">antonmdavid</div>
					<div class="post-datetime">
						14 Jun 2017, 12:40					</div>
				</div>
				<div class="post-content content">
					<p>@Plonk34<br />I have two EasyBox 904xDSL.<br />With the first one I put the new Firmware (now I can&#039;t remember which one)&nbsp; and that made that box to restart all the time - I couldn&#039;t use it at all. <br />So bought another box and followed the steps as described here github.com/majuss/easybox904. My 2nd EB904 didn&#039;t have any issues worked perfectly. I did the same thing to the first box but it didn&#039;t fix the restart problem.</p><p>Anyway I am not too much worried about my 1st EasyBox as my 2nd one is doing just fine. If I can fix it I can use it for something else or I am happy to donate to someone if they can make any use of it.</p><br /><p>My pressing point is O2 SIP phone connection. I have another line and I am wasting my money on that line. If I can make this O2 sip connection to work I can rid off the 1st connection. </p><p>Do you know the correct CCFG_CLI settings for the O2 sip connection?</p><p>Please see my original post 309 (forum.openwrt.org/viewtopic.php?pid=360037#p360037) for my current settings.</p><p>Many Thanks<br />Anton</p>											<p class="post-edited">(Last edited by <strong>antonmdavid</strong> on 14 Jun 2017, 12:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360386">
				<div class="post-metadata">
					<div class="post-num">Post #315</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						14 Jun 2017, 21:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>@ QAuge<br />Thanks it works.<br />But what is the meaning of FID ?</p></blockquote></div><p>I can&#039;t explain that in detail. It has to do with the MAC addresses of specific VLANs.<br />Means, the switch stores the assignment for MAC&lt;-&gt;VLAN.<br />On the current setup I learned that without setting a different FID to the different VLANs<br />it isn&#039;t possible to bridge the different VLAN interfaces together: It results in the same behavior as described in<br /><a href="https://dev.openwrt.org/ticket/8701">https://dev.openwrt.org/ticket/8701</a> : The switch doesn&#039;t send packets back to the correct &quot;VLAN&quot; port.</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>My question is: <br />Can somebody telling about VDSL-speed on the EB904x or other vr9 devices ?<br />Why is the FB-7360 so fast ?</p></blockquote></div><p>I tested the box temporary on my 50MBit VDSL.<br />It reports a line capacity of ~85MBit while the FritzBox 7390 reports only ~75MBit.<br />Both connects with 50MBit.</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>Is there a possibility to shut of the screen ?<br />the Red stripe can be disable via:<br /></p><div class="codebox"><pre><code>echo 1 &gt; /sys/devices/platform/gpio-leds/leds/VGV952CJW33:red:power/brightness</code></pre></div></blockquote></div><p>It can also disabled via the LuCi web gui, isn&#039;t it?</p><p>Don&#039;t you use the latest image, or at least the one I have posted?<br />There a lcdcontroller is started, which runs lcd4linux. After some idle time it switches of the display<br />and later it closed lcd4linux to save cpu power. It is reactivated on touch events.<br />Have a look at <a href="https://github.com/Quallenauge/lede-feeds-easybox904/blob/master/utils/lcdcontroller/files/usr/sbin/controller.lua">controller.lua</a>.<br />To switch off the display:<br /></p><div class="codebox"><pre><code>echo &#039;1&#039; &gt;&gt;/sys/class/backlight/fb_ili9341_eb904/bl_power</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360435">
				<div class="post-metadata">
					<div class="post-num">Post #316</div>
					<div class="post-author">kitor</div>
					<div class="post-datetime">
						15 Jun 2017, 17:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>Should I push a current snapshot ?</p></blockquote></div><p>First of all, thanks for detailed information!</p><p>Yes, current snapshot would be nice, your .config for build system would be nice to have too (I never used OpenWRT/LeDe buildsystem before).</p>											<p class="post-edited">(Last edited by <strong>kitor</strong> on 15 Jun 2017, 17:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360479">
				<div class="post-metadata">
					<div class="post-num">Post #317</div>
					<div class="post-author">antonmdavid</div>
					<div class="post-datetime">
						16 Jun 2017, 11:15					</div>
				</div>
				<div class="post-content content">
					<p>@QAuge</p><p>Hi, <br />Do you know how to debug the SIP calls? I am keep getting 403 and trying to find the cause.</p><p>Thank you very much for your time.</p><p>Regards<br />Anton</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360507">
				<div class="post-metadata">
					<div class="post-num">Post #318</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						16 Jun 2017, 23:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kitor wrote:</cite><blockquote><div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>Should I push a current snapshot ?</p></blockquote></div><p>First of all, thanks for detailed information!</p><p>Yes, current snapshot would be nice, your .config for build system would be nice to have too (I never used OpenWRT/LeDe buildsystem before).</p></blockquote></div><p>Here you go:<br /><a href="https://mega.nz/#!vIEiQThY!YwYEYCsxyr1f3EEMh9dlMO2__wzGv5x-YfrWvVZwz7E">lede-lantiq-xrx200-VGV952CJW33-E-IR-ubifs-sysupgrade.bin</a><br /></p><ul><li><p>WLAN (LuCi doesn&#039;t work the right way)</p></li><li><p>GCC 6.3</p></li><li><p>Package updates 16.06.2017</p></li></ul><p>The used configuration is part of the repository:<br />vr9_default.config<br />Just rename it to .config. Have a look at <a href="https://forum.openwrt.org/viewtopic.php?pid=351286#p351286">Post 254</a><br />To update the repo, don&#039;t do a git pull. Perform a </p><div class="codebox"><pre><code>updateGitRepo.sh</code></pre></div><p>.</p>											<p class="post-edited">(Last edited by <strong>QAuge</strong> on 16 Jun 2017, 23:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360518">
				<div class="post-metadata">
					<div class="post-num">Post #319</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						17 Jun 2017, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>@antonmdavid<br />Sorry i use the new FW only, i have no idea how the ccfg_cli working.<br />It is not on the new FW.</p><p>On the new FW you can get POTS (only) via Asterisk witch chan_lantiq.<br />examples:<br />see here: <a href="https://forum.lede-project.org/t/lede-17-01-rc2-asterisk13-with-sipgate-how-to-config-vgv7510kw22-o2-6431/1524">https://forum.lede-project.org/t/lede-1 … -6431/1524</a><br />or here: <a href="https://forum.openwrt.org/viewtopic.php?pid=311920#p311920">https://forum.openwrt.org/viewtopic.php … 20#p311920</a></p>											<p class="post-edited">(Last edited by <strong>Plonk34</strong> on 3 Aug 2017, 18:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360557">
				<div class="post-metadata">
					<div class="post-num">Post #320</div>
					<div class="post-author">kitor</div>
					<div class="post-datetime">
						18 Jun 2017, 01:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>Here you go:<br /><a href="https://mega.nz/#!vIEiQThY!YwYEYCsxyr1f3EEMh9dlMO2__wzGv5x-YfrWvVZwz7E">lede-lantiq-xrx200-VGV952CJW33-E-IR-ubifs-sysupgrade.bin</a></p></blockquote></div><p>Thank you again!<br />After a bit of struggling, I got my 904 xDSL working. I&#039;ll try to find some time and update wiki next week.</p><p>One more question, CPU has two cores, I noticed in post #271, chipmunk mentioned that:</p><div class="quotebox"><cite>chipmunk wrote:</cite><blockquote><p>I dont need the FSX ports/asterisk. Thats why i enabled SMP again to have a dual core router. :-)</p></blockquote></div><p>I don&#039;t need this either, so I&#039;m going to compile SMP firmware but I wonder whats&#039;s the problem with running those ports and SMP?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360579">
				<div class="post-metadata">
					<div class="post-num">Post #321</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						18 Jun 2017, 15:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>After a bit of struggling, I got my 904 xDSL working. I&#039;ll try to find some time and update wiki next week.</p></blockquote></div><p>That would be really nice. People, which doesn&#039;t follow this thread from the beginning might overlook some detail.</p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>One more question, CPU has two cores, I noticed in post #271, chipmunk mentioned that:<br /></p><div class="quotebox"><cite>chipmunk wrote:</cite><blockquote><p>I dont need the FSX ports/asterisk. Thats why i enabled SMP again to have a dual core router. :-)</p></blockquote></div><p>I don&#039;t need this either, so I&#039;m going to compile SMP firmware but I wonder whats&#039;s the problem with running those ports and SMP?</p></blockquote></div><p>The wiki has some details about this: <a href="https://wiki.openwrt.org/doc/hardware/soc/soc.lantiq#smpmultithreading">Lantiq SoCs/Multithreading</a><br />If you want to enable both cores and disable the voip core, then remove the </p><div class="codebox"><pre><code>nosmp</code></pre></div><p> flag.<br />Latest patches then disables the vpe core on the state of this flag.<br />Have a look at this commit: <a href="https://github.com/lede-project/source/commit/443e67a4597f90184ba0a41b4a38b54990babd4d">lantiq: vr9 fxs support: fixed check of SMP state within vpe-mt.c</a> .<br />Note, its hard to follow my repository since I use the rebase functionality for applying my patches.<br />I added a script which performs the update process: <a href="https://github.com/Quallenauge/Easybox-904-XDSL/blob/master-lede/updateGitRepo.sh">updateGitRepo.sh</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360691">
				<div class="post-metadata">
					<div class="post-num">Post #322</div>
					<div class="post-author">kitor</div>
					<div class="post-datetime">
						20 Jun 2017, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>@QAuge - I combined and a bit updated info from your previous posts. Can you check it before I&#039;ll post this to Wiki?<br /><a href="https://pastebin.com/jKPneirr">https://pastebin.com/jKPneirr</a></p><p>And about nosmp - i see that it&#039;s added in built-in command line and uboot bootargs are ignored there (i always thought they should be appended to built-in one). So the only way to remove it will be by recompiling image, right?</p>											<p class="post-edited">(Last edited by <strong>kitor</strong> on 21 Jun 2017, 23:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360771">
				<div class="post-metadata">
					<div class="post-num">Post #323</div>
					<div class="post-author">antonmdavid</div>
					<div class="post-datetime">
						21 Jun 2017, 19:10					</div>
				</div>
				<div class="post-content content">
					<p>@Plonk34<br />Okay I managed to recover my 1st EasyBox and loaded a new image as QAuge described. </p><p>@QAuge<br />Thanks for the clear instructions to recover my bricked box.</p><p>Now I have 2 working boxes <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Anyway as my original problem remains the same, configuring SIP account <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />. I can see the configuration file in /etc/asterisk/sip.conf but I am kind of lost where to configure the ADSL/VDSL. Pardon my ignorance, can you please let me know where the adsl configurations are. Am I missing something? I don&#039;t really wanted bridge my two easyboxes in order to use the phone, I am pretty certain I am missing the obvious. </p><p>Thanks in advance for the help<br />Anton</p><p>PS: BTW I already checked the web interface and I couldn&#039;t see anywhere to configure the adsl connection.</p>											<p class="post-edited">(Last edited by <strong>antonmdavid</strong> on 22 Jun 2017, 11:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360800">
				<div class="post-metadata">
					<div class="post-num">Post #324</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						22 Jun 2017, 12:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>@QAuge - I combined and a bit updated info from your previous posts. Can you check it before I&#039;ll post this to Wiki?<br /><a href="https://pastebin.com/jKPneirr">https://pastebin.com/jKPneirr</a></p></blockquote></div><p>Thanks! Really helpful. I added some minor things about uboot.<br /><a href="https://pastebin.com/6HjGhdpX">https://pastebin.com/6HjGhdpX</a></p><div class="quotebox"><cite>kitor wrote:</cite><blockquote><p>And about nosmp - i see that it&#039;s added in built-in command line and uboot bootargs are ignored there (i always thought they should be appended to built-in one). So the only way to remove it will be by recompiling image, right?</p></blockquote></div><p>Yes, currently this is the case. I don&#039;t know if it makes sense to release a smp image without asterisk. A build controller would be nice for that <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />Anyway, in case you want switch via boot loader, you have to modify the kernel configuration <a href="https://forum.openwrt.org/viewtopic.php?pid=354168#p354168">CONFIG_MIPS_CMDLINE_FROM_BOOTLOADER</a>.<br />If you don&#039;t need to switch via boot loader, just modify the cmd line at the dts and recompile.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361333">
				<div class="post-metadata">
					<div class="post-num">Post #325</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						2 Jul 2017, 03:30					</div>
				</div>
				<div class="post-content content">
					<p>First:<br />On this place i say Thank You to @QAuge and all others that working on this device.<br />Your LEDE-branch run very well since serveral weeks.<br />In the moment the FW root-directory loads from USB-stick, the VDSL-Modem is connected, Telephonie via POTS and 5G wlan works well.</p><p>I was looking for ISDN sources, but i can not find any source for the stollman.ko<br />(I think too that the stollman.ko are responsible for ISDN because the company make some ISDN solutions)<br />but it looks like that there is a Lantiq drv_isdn.ko missed too.<br />Do everywhere now where the original drv_tapi come from (now it is hosted on the Openwrt sources)<br />Possible exist on the same place the drv_isdn.<br />But i have no idea about ISDN (i use old rotary phones) and i have too learn the rudiments first.</p><br /><p>An other question what is the meaning of WPS Information: ... is a WPS key activ ?<br />(my Smartphone say no)<br /></p><div class="codebox"><pre><code>iwpriv wl000 stat get
wl000     stat:
Tx success                      = 84956
Tx retry count                                  = 5520
Tx fail to Rcv ACK after retry  = 17
RTS Success Rcv CTS             = 0
RTS Fail Rcv CTS                = 0
Rx success                      = 95249
Rx with CRC                     = 12929
Rx drop due to out of resource  = 0
Rx duplicate frame              = 45
False CCA (one second)          = 0
RSSI-A                          = -82
RSSI-B (if available)           = -88
RSSI-C (if available)           = -84

WPS Information:
Enrollee PinCode(ra0)           95542522
Enrollee PinCode(ra1)           95542522

Enrollee PinCode(ApCli0)        95542522
Ap Client WPS Profile Count     = 0</code></pre></div>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 326 to 325 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 13 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=11.html">11</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=12.html">12</a></li><li class="pagination-current"><span>13</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=14.html">14</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=15.html">15</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>