<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compiling Nginx 1.6.0 issue</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p241623">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">moypatito</div>
					<div class="post-datetime">
						26 Jul 2014, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone, this is my second post, some days before I posted on general discussion but dont get any responces, maybe that thread isnt appropiate...</p><p>Well Im tryng to Compile Nginx 1.6.0 for a reverse proxi for this: </p><p><a href="http://blog.multiplay.co.uk/2014/04/lancache-dynamically-caching-game-installs-at-lans-using-nginx/">http://blog.multiplay.co.uk/2014/04/lan â€¦ ing-nginx/</a></p><p>I&#039;ve tried a lot of things making changes on the makefile but still getting errors, at this time this is what I get:</p><br /><div class="quotebox"><blockquote><p>make[1]: Entering directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[2]: Entering directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[3]: Entering directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/package/nginx-1.6.0&#039;<br /># TODO: fix --crossbuild<br />(cd /home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/nginx-1.6.0 ; ./configure --crossbuild=Linux::i386 --prefix=/usr --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --pid-path=/var/run/nginx.pid --lock-path=/var/lock/nginx.lock --http-log-path=/var/log/nginx/access.log --http-client-body-temp-path=/var/lib/nginx/body --http-proxy-temp-path=/var/lib/nginx/proxy --http-fastcgi-temp-path=/var/lib/nginx/fastcgi --with-cc=&quot;ccache_cc&quot; --with-cc-opt=&quot;-I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/usr/include -I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/include -I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-i386_gcc-4.6-linaro_uClibc-0.9.33.2/usr/include -I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-i386_gcc-4.6-linaro_uClibc-0.9.33.2/include -fhonour-copts -Wno-error=unused-but-set-variable&quot; --with-ld-opt=&quot;-L/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/usr/lib -L/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/lib -L/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-i386_gcc-4.6-linaro_uClibc-0.9.33.2/usr/lib -L/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-i386_gcc-4.6-linaro_uClibc-0.9.33.2/lib&quot;&nbsp; --without-http-cache )<br />building for Linux::i386<br />checking for C compiler ... not found</p><p>./configure: error: C compiler ccache_cc is not found</p><p>make[3]: *** [/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-_-/nginx-1.6.0/.configured_nnnn] Error 1<br />make[3]: Leaving directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/package/nginx-1.6.0&#039;<br />make[2]: *** [package/nginx-1.6.0/compile] Error 2<br />make[2]: Leaving directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[1]: *** [/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-_-/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make: *** [world] Error 2</p></blockquote></div><p>I see this suspctius &quot;target-_-&quot; dir, I think maybe is a wrong global variable definition, but this is the first time i try to build something for OpenWrt and dont know how to change them :&#039;(</p><p>I&#039;ll be very gratefull with any kind of help</p><p>Saludos desde Mexico!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241933">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">moypatito</div>
					<div class="post-datetime">
						28 Jul 2014, 21:36					</div>
				</div>
				<div class="post-content content">
					<p>I made some changes on the Makefile and start over again, now this is what i get:</p><div class="quotebox"><blockquote><p>moy@moy-VirtualBox:~/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2$&nbsp; make V=99<br />Collecting package info: done<br />WARNING: your configuration is out of sync. Please run make menuconfig, oldconfig or defconfig!<br />make[1]: Entering directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[2]: Entering directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[3]: Entering directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/package/nginx-1.6.0&#039;<br />. /home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/include/shell.sh; gzip -dc /home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/dl/nginx-1.6.0.tar.gz | /bin/tar -C /home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-i386_uClibc-0.9.33.2/nginx-1.6.0/.. -xf - <br />touch /home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-i386_uClibc-0.9.33.2/nginx-1.6.0/.prepared_db665addfea0e94fe675454544d8e4e7<br /># TODO: fix --crossbuild<br />(cd /home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-i386_uClibc-0.9.33.2/nginx-1.6.0 ; ./configure --crossbuild=Linux::i386 --prefix=/usr --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --pid-path=/var/run/nginx.pid --lock-path=/var/lock/nginx.lock --without-http_rewrite_module --http-log-path=/var/log/nginx/access.log --http-client-body-temp-path=/var/lib/nginx/body --http-proxy-temp-path=/var/lib/nginx/proxy --http-fastcgi-temp-path=/var/lib/nginx/fastcgi --with-cc-opt=&quot;-I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/usr/include -I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/include -I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-i386_gcc-4.6-linaro_uClibc-0.9.33.2/usr/include -I/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/toolchain-i386_gcc-4.6-linaro_uClibc-0.9.33.2/include -O2 -pipe -march=i486 -fno-caller-saves -fhonour-copts -Wno-error=unused-but-set-variable&quot; )<br />building for Linux::i386<br />checking for C compiler ... found<br /> + using GNU C compiler<br /> + gcc version: 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5) <br />checking for gcc -pipe switch ... found<br />checking for gcc builtin atomic operations ... not found<br />checking for C99 variadic macros ... not found<br />checking for gcc variadic macros ... not found<br />checking for unistd.h ... found<br />checking for inttypes.h ... found<br />checking for limits.h ... found<br />checking for sys/filio.h ... not found<br />checking for sys/param.h ... found<br />checking for sys/mount.h ... found<br />checking for sys/statvfs.h ... found<br />checking for crypt.h ... found<br />checking for Linux::i386 specific features<br />checking for epoll ... not found<br />checking for O_PATH ... not found<br />checking for sendfile() ... not found<br />checking for sendfile64() ... not found<br />checking for sys/prctl.h ... found<br />checking for prctl(PR_SET_DUMPABLE) ... not found<br />checking for sched_setaffinity() ... not found<br />checking for crypt_r() ... not found<br />checking for sys/vfs.h ... found<br />checking for nobody group ... not found<br />checking for nogroup group ... found<br />checking for poll() ... not found<br />checking for /dev/poll ... not found<br />checking for kqueue ... not found<br />checking for crypt() ... not found<br />checking for crypt() in libcrypt ... not found<br />checking for F_READAHEAD ... not found<br />checking for posix_fadvise() ... not found<br />checking for O_DIRECT ... not found<br />checking for F_NOCACHE ... not found<br />checking for directio() ... not found<br />checking for statfs() ... not found<br />checking for statvfs() ... not found<br />checking for dlopen() ... not found<br />checking for dlopen() in libdl ... not found<br />checking for sched_yield() ... not found<br />checking for sched_yield() in librt ... not found<br />checking for SO_SETFIB ... not found<br />checking for SO_ACCEPTFILTER ... not found<br />checking for TCP_DEFER_ACCEPT ... not found<br />checking for TCP_KEEPIDLE ... not found<br />checking for TCP_FASTOPEN ... not found<br />checking for TCP_INFO ... not found<br />checking for accept4() ... not found<br />checking for int size ...<br />./configure: error: can not detect int size<br />cat: objs/autotest.c: No such file or directory<br />make[3]: *** [/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/build_dir/target-i386_uClibc-0.9.33.2/nginx-1.6.0/.configured_nnnn] Error 1<br />make[3]: Leaving directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/package/nginx-1.6.0&#039;<br />make[2]: *** [package/nginx-1.6.0/compile] Error 2<br />make[2]: Leaving directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make[1]: *** [/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2/staging_dir/target-i386_uClibc-0.9.33.2/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/moy/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2&#039;<br />make: *** [world] Error 2<br />moy@moy-VirtualBox:~/OpenWrt-SDK-x86-for-linux-i486-gcc-4.6-linaro_uClibc-0.9.33.2$</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>moypatito</strong> on 29 Jul 2014, 03:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p241984">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">moypatito</div>
					<div class="post-datetime">
						29 Jul 2014, 03:13					</div>
				</div>
				<div class="post-content content">
					<p>Any suggestion or something?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>