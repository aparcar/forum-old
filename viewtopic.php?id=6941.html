<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Package names containing illegal characters</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p32274">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">kortzi</div>
					<div class="post-datetime">
						18 Aug 2006, 09:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I just checked out trunk and tried compiling it, but I&#039;m stuck with the following error message:</p><p>PATH=&quot;/home/mkortela/B/wrt54g3g/trunk/openwrt/staging_dir_mipsel/usr/bin:/home/mkortela/B/wrt54g3g/trunk/openwrt/staging_dir_mipsel/bin:/bin:/sbin:/usr/bin:/usr/sbin&quot; ipkg-build -c -o root -g root /home/mkortela/B/wrt54g3g/trunk/openwrt/build_mipsel/linux-2.6-brcm/linux-modules/ipkg/ipv6 /home/mkortela/B/wrt54g3g/trunk/openwrt/bin/packages<br />kmod-ipv6<br />*** Error: Package name&nbsp; contains illegal characters, (other than [a-z0-9.+-])</p><p>In fact, it seems that every package that contains a &#039;v&#039; or a &#039;w&#039; character will spill an error. Strange?! I can get further by changing the package name in the control file, but there must be a better way to do it?</p><p>What do you think could be wrong? I&#039;m doing the compilation on a Ubuntu x86 machine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p32288">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						18 Aug 2006, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>Can you indicate which package are you attempting to build ? Thanks a lot in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p32372">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kortzi</div>
					<div class="post-datetime">
						19 Aug 2006, 14:35					</div>
				</div>
				<div class="post-content content">
					<p>I just ran &quot;make menuconfig&quot; and after that &quot;make&quot;. The compilation stopped at kmod-ipv6. I can only get through by editing the control file of the ipkg. I renamed it &quot;kmod-ip6&quot; and no error, then. The next package it stopped at was kmod-fs-vfat, which was corrected by renaming it to kmod-fs-fat. And so on. If the package name contains either a &#039;v&#039; or a &#039;w&#039;, ipkg-build will throw an error. I also tried checking out whiterussian, but it has the same problem. It&#039;s the same if I run the compilation as myself or as root. I had no ipkg-build installed before so it can&#039;t be that, either.</p><p>I just can&#039;t understand where this comes from...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p32481">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">kortzi</div>
					<div class="post-datetime">
						21 Aug 2006, 18:31					</div>
				</div>
				<div class="post-content content">
					<p>I had the chance to test the compilation on another machine. It was a gentoo server. I used exactly the same procedures as with the Ubuntu, but the compilation was successful without any errors.</p><p>That&#039;s great, but I would still like to know what could possibly be the source of the problem on the Ubuntu machine. Does ipkg-build use some library for doing the regexp on the package name?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p32512">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						22 Aug 2006, 10:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kortzi wrote:</cite><blockquote><p>Does ipkg-build use some library for doing the regexp on the package name?</p></blockquote></div><p>ipkg-build just uses <strong>grep</strong> to check if the package name contains illegal characters.<br />What does the command below returns on your system ?<br /></p><div class="codebox"><pre><code>echo kmod-ipv6 | grep &#039;[^a-z0-9.+-]&#039;</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>