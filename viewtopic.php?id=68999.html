<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear DGN2200v4</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p347121">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Motherjoker</div>
					<div class="post-datetime">
						19 Dec 2016, 16:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;d like to port OpenWRT on my <a href="https://wiki.openwrt.org/toh/hwdata/netgear/netgear_dgn2200_v4">DGN2200v4</a>.<br />Luckily I have a root telnet connection and Netgear distributes the toolchain and the source of this router.<br />So far I&#039;ve compiled pciutils and I&#039;ve examined the platform; it is very similar to <a href="https://wiki.openwrt.org/toh/nucom/r5010unv2">NuCom R5010UNv2</a>:<br /></p><ul><li><p>Chipset: Broadcom BCM6328 </p></li><li><p>CPU: BMIPS4350 V7.5 @320 MHz</p></li><li><p>Wifi: BCM43217</p></li><li><p>Ethernet: BCM6328B0</p></li><li><p>RAM: 64 MB</p></li></ul><p>The flash is a 32 MB NAND.</p><p>Unfortunately the GPIO module is not available and I can&#039;t check if the GPIOs are the same.</p><p>This is my first port and I&#039;m quite a noob:<br /></p><ul><li><p>Is the CFE recovery always available, even if I flash a bad firmware?</p></li><li><p>Is something like <a href="https://github.com/openwrt/openwrt/commit/1aaf8dfdb77246bcce967d6a96f53ebf4bc71317">this</a> all I need to add support for a board?</p></li><li><p>Can I safely retrieve the GPIOs after the flashing of the new image?</p></li></ul><p>Thanks for your help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347160">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Motherjoker</div>
					<div class="post-datetime">
						19 Dec 2016, 23:12					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve opened the device</p><p><span class="postimg"><img src="http://i63.tinypic.com/16awill.jpg" alt="http://i63.tinypic.com/16awill.jpg" /></span></p><p>Here&#039;s the OEM bootlog (serial as in picture, 115200 8N1)</p><div class="codebox"><pre><code>ýHELO
CPUI
L1CI
DRAM
----
PHYS
ZQDN
PHYE
DINT
LSYN
USYN
MSYN
LMBE
PASS
----
ZBSS
CODE
DATA
L12F
MAIN
NAN0
BT02
0001
NAN9
NAN9
NAN3
RFS1
NAN5


BCM6328 Platform Boot Code V1.0.8-4.12L.04
CFE version 1.0.38-112.70 for BCM96328 (32bit,SP,BE)
Build Date: Sat Jan  5 15:44:21 EST 2013 (will@localhost.localdomain)
Copyright (C) 2000-2011 Broadcom Corporation.

NAND flash device: name &lt;not identified&gt;, id 0x2075 block 16KB size 32768KB
Chip ID: BCM6328B0, MIPS: 320MHz, DDR: 320MHz, Bus: 160MHz
Main Thread: TP0
Memory Test Passed
Total Memory: 67108864 bytes (64MB)
Boot Address: 0xb8000000

Board IP address                  : 192.168.1.1:ffffff00
Host IP address                   : 192.168.1.100
Gateway IP address                :
Run from flash/host (f/h)         : f
Default host run file name        : vmlinux
Default host flash file name      : bcm963xx_fs_kernel
Boot delay (0-9 seconds)          : 1
Board Id (0-10)                   : 963281TAN4
Number of MAC Addresses (1-32)    : 11
Base MAC Address                  : xx:xx:xx:xx:xx:xx
PSI Size (1-64) KBytes            : 24
Enable Backup PSI [0|1]           : 0
System Log Size (0-256) KBytes    : 0
Main Thread Number [0|1]          : 0

*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 0
*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 0
Booting from only image (0xb8004000) ...
Decompression OK!
Entry at 0x80320d10
Closing network.
Disabling Switch ports.
Flushing Receive Buffers...
0 buffers found.
Closing DMA Channels.
Starting program at 0x80320d10
Linux version 2.6.30 (jenny@sw-server-206) (gcc version 4.4.2 (Buildroot 2010.02-git) ) #2 Sat Jul 18 16:41:07 CST 2015
BCM Flash API. Flash device is not found.
963281TAN4 prom init
CPU revision is: 0002a075 (Broadcom4350)
DSL SDRAM reserved: 0x100000
Determined physical RAM map:
 memory: 03f00000 @ 00000000 (usable)
Zone PFN ranges:
  DMA      0x00000000 -&gt; 0x00001000
  Normal   0x00001000 -&gt; 0x00003f00
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00003f00
On node 0 totalpages: 16128
free_area_init_node: node 0, pgdat 803f2620, node_mem_map 81000000
  DMA zone: 32 pages used for memmap
  DMA zone: 0 pages reserved
  DMA zone: 4064 pages, LIFO batch:0
  Normal zone: 94 pages used for memmap
  Normal zone: 11938 pages, LIFO batch:1
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16002
Kernel command line: root=mtd:rootfs ro rootfstype=jffs2 console=ttyS0,115200
wait instruction: enabled
Primary instruction cache 32kB, VIPT, 4-way, linesize 16 bytes.
Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes
NR_IRQS:128
PID hash table entries: 256 (order: 8, 1024 bytes)
console [ttyS0] enabled
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 59480k/64512k available (3164k kernel code, 5012k reserved, 816k data, 132k init, 0k highmem)
Calibrating delay loop... 319.48 BogoMIPS (lpj=159744)
Mount-cache hash table entries: 512
--Kernel Config--
  SMP=0
  PREEMPT=0
  DEBUG_SPINLOCK=0
  DEBUG_MUTEXES=0
Broadcom Logger v0.1 Jul 18 2015 14:19:47
net_namespace: 1076 bytes
NET: Registered protocol family 16
Total Flash size: 0K with -1 sectors
registering PCI controller with io_map_base unset
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
pci 0000:00:09.0: reg 10 32bit mmio: [0x10002600-0x100026ff]
pci 0000:00:0a.0: reg 10 32bit mmio: [0x10002500-0x100025ff]
pci 0000:01:00.0: PME# supported from D0 D3hot
pci 0000:01:00.0: PME# disabled
pci 0000:02:00.0: reg 10 64bit mmio: [0x000000-0x007fff]
pci 0000:02:00.0: supports D1 D2
pci 0000:01:00.0: PCI bridge, secondary bus 0000:02
pci 0000:01:00.0:   IO window: disabled
pci 0000:01:00.0:   MEM window: 0x10f00000-0x10ffffff
pci 0000:01:00.0:   PREFETCH window: disabled
PCI: Enabling device 0000:01:00.0 (0000 -&gt; 0002)
PCI: Setting latency timer of device 0000:01:00.0 to 64
BLOG v3.0 Initialized
BLOG Rule v1.0 Initialized
Broadcom IQoS v0.1 Jul 18 2015 14:20:55 initialized
Broadcom GBPM v0.1 Jul 18 2015 14:20:55 initialized
NET: Registered protocol family 8
NET: Registered protocol family 20
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
NET: Registered protocol family 1
JFFS2 version 2.2. (NAND) © 2001-2006 Red Hat, Inc.
fuse init (API version 7.11)
msgmni has been set to 116
io scheduler noop registered (default)
pcieport-driver 0000:01:00.0: device [14e4:6328] has invalid IRQ; check vendor BIOS
PCI: Setting latency timer of device 0000:01:00.0 to 64
Driver &#039;sd&#039; needs updating - please use bus_type methods
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
NET: Registered protocol family 24
tun: Universal TUN/TAP device driver, 1.6
tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
bcm963xx_mtd driver v1.0
Failed to read image tag from flash
Broadcom DSL NAND controller (BrcmNand Controller)
--&gt;brcmnand_scan: CS=0, numchips=1, csi=0
mtd-&gt;oobsize=0, mtd-&gt;eccOobSize=0
NAND_CS_NAND_XOR=00000000
Disabling XOR on CS#0
brcmnand_scan: Calling brcmnand_probe for CS=0
B4: NandSelect=40000001, nandConfig=03032200, chipSelect=0
brcmnand_read_id: CS0: dev_id=20752075
After: NandSelect=40000001, nandConfig=03032200
Block size=00004000, erase shift=14
NAND Config: Reg=03032200, chipSize=32 MB, blockSize=16K, erase_shift=e
busWidth=1, pageSize=512B, page_shift=9, page_mask=000001ff
timing1 not adjusted: 5363444f
timing2 not adjusted: 00000fc6
BrcmNAND mfg 20 75 ST ST_NAND256W3A 32MB on CS0

Found NAND on CS0: ACC=f3000000, cfg=03032200, flashId=20752075, tim1=5363444f, tim2=00000fc6
BrcmNAND version = 0x0202 32MB @00000000
B4: NandSelect=40000001, nandConfig=03032200, chipSelect=0
brcmnand_read_id: CS0: dev_id=20752075
After: NandSelect=40000001, nandConfig=03032200
Found NAND flash on Chip Select 0, chipSize=32MB, usable size=32MB, base=0
brcmnand_scan: Done brcmnand_probe
brcmnand_scan: B4 nand_select = 40000001
brcmnand_scan: After nand_select = 40000001
brcmnand_scan 10
200 CS=0, chip-&gt;ctrl-&gt;CS[0]=0
200 chip-&gt;ecclevel=15, acc=f3000000
page_shift=9, bbt_erase_shift=14, chip_shift=25, phys_erase_shift=14
brcmnand_scan 220
Brcm NAND controller version = 2.2 NAND flash size 32MB @1e000000
brcmnand_scan 230
brcmnand_scan 40, mtd-&gt;oobsize=16, chip-&gt;ecclayout=00000000
brcmnand_scan 42, mtd-&gt;oobsize=16, chip-&gt;ecclevel=15, isMLC=0, chip-&gt;cellinfo=0
brcmnand_scan:  mtd-&gt;oobsize=16
brcmnand_scan: oobavail=12, eccsize=512, writesize=512
brcmnand_scan, eccsize=512, writesize=512, eccsteps=1, ecclevel=15, eccbytes=3
300 CS=0, chip-&gt;ctrl-&gt;CS[0]=0
500 chip=83995980, CS=0, chip-&gt;ctrl-&gt;CS[0]=0
--&gt;brcmnand_default_bbt
brcmnand_default_bbt: bbt_td = bbt_main_descr
Bad block table Bbt0 found at page 0000ffe0, version 0x01 for chip on CS0
Bad block table 1tbB found at page 0000ffc0, version 0x01 for chip on CS0
brcmnandCET: Status -&gt; Deferred
brcmnand_scan 99
Creating 4 MTD partitions on &quot;brcmnand.0&quot;:
0x000000004000-0x000001cfc000 : &quot;rootfs&quot;
0x000002000000-0x000002000000 : &quot;rootfs_update&quot;
mtd: partition &quot;rootfs_update&quot; is out of reach -- disabled
0x000001d00000-0x000001f00000 : &quot;data&quot;
0x000000000000-0x000000004000 : &quot;nvram&quot;
ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
PCI: Enabling device 0000:00:0a.0 (0000 -&gt; 0002)
PCI: Setting latency timer of device 0000:00:0a.0 to 64
ehci_hcd 0000:00:0a.0: EHCI Host Controller
ehci_hcd 0000:00:0a.0: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:0a.0: Enabling legacy PCI PM
ehci_hcd 0000:00:0a.0: irq 50, io mem 0x10002500
ehci_hcd 0000:00:0a.0: USB f.f started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
PCI: Enabling device 0000:00:09.0 (0000 -&gt; 0002)
PCI: Setting latency timer of device 0000:00:09.0 to 64
ohci_hcd 0000:00:09.0: OHCI Host Controller
ohci_hcd 0000:00:09.0: new USB bus registered, assigned bus number 2
ohci_hcd 0000:00:09.0: irq 49, io mem 0x10002600
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
usbcore: registered new interface driver usblp
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
brcmboard: brcm_board_init entry
Serial: BCM63XX driver $Revision: 3.00 $
Magic SysRq enabled (type ^ h for list of supported commands)
ttyS0 at MMIO 0xb0000100 (irq = 36) is a BCM63XX
ttyS1 at MMIO 0xb0000120 (irq = 47) is a BCM63XX
Total # RxBds=2416
bcmPktDmaBds_init: Broadcom Packet DMA BDs initialized

bcmxtmrt: Broadcom BCM6328B0 ATM/PTM Network Device v0.3 Jul 18 2015 14:20:39
Broadcom BCMPROCFS v1.0 initialized
GACT probability NOT on
Mirror/redirect action on
u32 classifier
    input device check on
    Actions configured
Netfilter messages via NETLINK v0.30.
TCP cubic registered
Initializing XFRM netlink socket
NET: Registered protocol family 10
lo: Disabled Privacy Extensions
IPv6 over IPv4 tunneling driver
sit0: Disabled Privacy Extensions
ip6tnl0: Disabled Privacy Extensions
NET: Registered protocol family 17
Initializing MCPD Module
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
jffs2_scan_inode_node(): CRC failed on node at 0x01b3cdf0: Read 0xffffffff, calculated 0x75913592
Empty flash at 0x01b3ce38 ends at 0x01b3d000
jffs2_scan_eraseblock(): Node at 0x01b3d7f8 {0x1985, 0xe002, 0x00000046) has invalid CRC 0xffffffff (calculated 0x4ae14312)
VFS: Mounted root (jffs2 filesystem) readonly on device 31:0.
Freeing unused kernel memory: 132k freed
init started: BusyBox v1.17.2 (2015-07-18 14:27:50 CST)
starting pid 202, tty &#039;&#039;: &#039;/etc/init.d/rcS&#039;
jffs2_scan_inode_node(): CRC failed on node at 0x00060dd0: Read 0xffffffff, calculated 0x1b477920
Empty flash at 0x00060e44 ends at 0x00061000
Empty flash at 0x00062244 ends at 0x00062400
Empty flash at 0x001c436c ends at 0x001c4400
starting pid 206, tty &#039;&#039;: &#039;-/bin/sh&#039;


BusyBox v1.17.2 (2015-07-18 14:27:50 CST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

starting pid 208, tty &#039;&#039;: &#039;/bin/dropbear_server&#039;
starting pid 209, tty &#039;&#039;: &#039;/bin/remote_wol&#039;
starting pid 210, tty &#039;&#039;: &#039;/bin/inadyn&#039;

Loading drivers and kernel modules...

JFFS2 notice: (205) check_node_data: wrong data CRC in data node at 0x001c605c: read 0x2e26db62, calculated 0x345527fc.
chipinfo: module license &#039;proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
brcmchipinfo: brcm_chipinfo_init entry
JFFS2 notice: (205) check_node_data: wrong data CRC in data node at 0x001c4000: read 0xd61aaa32, calculated 0xbfa7e5d6.
Broadcom Ingress QoS Module  Char Driver v0.1 Jul 18 2015 14:20:20 Registered&lt;243&gt;

Broadcom Ingress QoS ver 0.1 initialized
BPM: tot_mem_size=67108864B (64MB), buf_mem_size=10066329B (9MB), num of buffers=4802, buf size=2096
Broadcom BPM Module Char Driver v0.1 Jul 18 2015 14:20:20 Registered&lt;244&gt;
[NTC bpm] bpm_set_status: BPM status : enabled

bcmxtmcfg: bcmxtmcfg_init entry
adsl: adsl_init entry
Thu Jan  1 00:00:11 1970: Inadyn version 1.99.15 -- Dynamic DNS update client.
Thu Jan  1 00:00:11 1970: Startup delay: 120 sec ...
Broadcom BCM6328B0 Ethernet Network Device v0.1 Jul 18 2015 14:20:33
ETH Init: Ch:0 - 200 tx BDs at 0xa3ac6000
ETH Init: Ch:0 - 1920 rx BDs at 0xa3984000
dgasp: kerSysRegisterDyingGaspHandler: bcmsw registered


create_vport: consolidated map is: 0x1f #vports 5
create_vport: unit   phy_port 0 vport 1 sw-port
eth0: MAC Address: xx:xx:xx:xx:xx:xx
create_vport: unit   phy_port 1 vport 2 sw-port
eth1: MAC Address: xx:xx:xx:xx:xx:xx
create_vport: unit   phy_port 2 vport 3 sw-port
eth2: MAC Address: xx:xx:xx:xx:xx:xx
create_vport: unit   phy_port 3 vport 4 sw-port
eth3: MAC Address: 04:A1:51:19:63:51
create_vport: unit   phy_port 4 vport 5 sw-port
eth4: MAC Address: xx:xx:xx:xx:xx:xx
Broadcom 802.1Q VLAN Interface, v0.1
jffs2_scan_inode_node(): CRC failed on node at 0x00060dd0: Read 0xffffffff, calculated 0x1b477920
Empty flash at 0x00060e44 ends at 0x00061000
Empty flash at 0x00062244 ends at 0x00062400
Empty flash at 0x001c436c ends at 0x001c4400
start parsing board_data !!
start parsing nvram
JFFS2 notice: (289) check_node_data: wrong data CRC in data node at 0x001c605c: read 0x2e26db62, calculated 0x345527fc.
Do not set eth3 as WAN port
JFFS2 notice: (289) check_node_data: wrong data CRC in data node at 0x001c4000: read 0xd61aaa32, calculated 0xbfa7e5d6.
sh: can&#039;t create /proc/sys/net/ipv4/neigh/br0/base_reachable_time: nonexistent directory
Reading board data...
WSC UUID: 0xf36904a0017e949f3b61b394e9db97c3
wps_uuid=0xf36904a0017e949f3b61b394e9db97c3
read_board_data(680) region_num=0 0 ()
wl: dsl_tx_pkt_flush_len=338
wl: high_wmark_tot=3121
PCI: Enabling device 0000:02:00.0 (0000 -&gt; 0002)
PCI: Setting latency timer of device 0000:02:00.0 to 64
wl: passivemode=1
wl: napimode=0
wl0: allocskbmode=1 currallocskbsz=256
otp_read_pci: bad crc
Neither SPROM nor OTP has valid image
wl:srom/otp not programmed, using main memory mapped srom info(wombo board)
wl:loading /etc/wlan/bcm43217_vars.bin
Failed to open srom image from &#039;/etc/wlan/bcm43217_vars.bin&#039;.
wl:loading /etc/wlan/bcm43217_map.bin
wl0: Broadcom BCMa8db 802.11 Wireless Controller 5.100.138.2008.cpe4.12L04.3
dgasp: kerSysRegisterDyingGaspHandler: wl0 registered
insmod: can&#039;t insert &#039;/lib/modules/2.6.30/extra/p8021ag.ko&#039;: No such file or directory
If WDS repeater enabled,should disable this function auto
klips_info:ipsec_init: KLIPS startup, Openswan KLIPS IPsec stack version: 2.6.22
NET: Registered protocol family 15
ipsec0 (): not using net_device_ops yet
ipsec1 (): not using net_device_ops yet
mast0 (): not using net_device_ops yet
klips_info:ipsec_alg_init: KLIPS alg v=0.8.1-0 (EALG_MAX=255, AALG_MAX=251)
klips_info:ipsec_alg_init: calling ipsec_alg_static_init()
ipsec_3des_init(alg_type=15 alg_id=3 name=3des): ret=0
&lt;6&gt;KLIPS cryptoapi interface: alg_type=15 alg_id=12 name=cbc(aes) keyminbits=128 keymaxbits=256, found(0)
KLIPS: lookup for ciphername=cbc(twofish): not found
KLIPS: lookup for ciphername=cbc(serpent): not found
KLIPS: lookup for ciphername=cbc(cast5): not found
KLIPS: lookup for ciphername=cbc(blowfish): not found
&lt;6&gt;KLIPS cryptoapi interface: alg_type=15 alg_id=3 name=cbc(des3_ede) keyminbits=192 keymaxbits=192, found(0)
&lt;6&gt;KLIPS cryptoapi interface: alg_type=15 alg_id=2 name=cbc(des) keyminbits=64 keymaxbits=64, found(0)
ln: /dev/random: File exists
mknod: /dev/spiv6: File exists
board_ioctl: command c018422a, cmd 42 .
Initialise conn table 2048 entries
set_eth_mac: set ADDRCONF(NETDEV_UP): eth0: link is not ready
&#039;eth0&#039; to xx:xx:xx:xx:xx:xx
device eth0 entered promiscuous mode
set_eth_mac: set ADDRCONF(NETDEV_UP): eth1: link is not ready
&#039;eth1&#039; to xx:xx:xx:xx:xx:xx
device eth1 entered promiscuous mode
set_eth_mac: set ADDRCONF(NETDEV_UP): eth2: link is not ready
&#039;eth2&#039; to xx:xx:xx:xx:xx:xx
device eth2 entered promiscuous mode
set_eth_mac: set &#039;wl0&#039; to xx:xx:xx:xx:xx:xx
device wl0 entered promiscuous mode
set_eth_mac: set ADDRCONF(NETDEV_UP): eth3: link is not ready
&#039;eth3&#039; to xx:xx:xx:xx:xx:xx
device eth3 entered promiscuous mode
br0: port 4(wl0) entering learning state
ARPING to 255.255.255.255 from 192.168.0.1 via br0
br0: port 4(wl0) entering forwarding state
Sent 3 probe(s) (3 broadcast(s))
Received 0 reply (0 request(s), 0 broadcast(s))
XTM Init: 480 rx BDs at 0xa19c1000
XTM Init: 16 rx BDs at 0xa1992c80
DSL mode command is xdslctl start --bitswap on --sra off --lpair i --mod dlt2pem --up
BcmAdsl_Initialize=0xC012CE88, g_pFnNotifyCallback=0xC015FED4
pSdramPHY=0xA3FFFFF8, 0x8A558B55 0x8B559B55
*** XfaceOffset: 0x21F90 =&gt; 0x21F90 ***
*** PhySdramSize got adjusted: 0x83F5C =&gt; 0x99918 ***
AdslCoreSharedMemInit: shareMemAvailable=419520
AdslCoreHwReset:  pLocSbSta=81c48000 bkupThreshold=1600
AdslCoreHwReset:  AdslOemDataAddr = 0xA3F78F94
dgasp: kerSysRegisterDyingGaspHandler: dsl0 registered
acosFW_accessCtrlEnable 2680 bEnable: 0
acosFW_accessCtrlMode 2687 mode: 1
info, udhcp server (v0.9.8) started
error, unable to parse &#039;option wins &#039;
error, unable to parse &#039;option domain &#039;
shm ID: 98307
 Get a correct Segment_ID: 98307 and semaphore ID:65538
POT signature check failed.
sh: dsldiagd: not found
automount: get SIGUSR1.
mount: mounting /dev/mtdblock18 on /tmp/mnt/storage failed: No such file or directory
killall: minidlna.exe: no process killed
# WPS Button Hit
killall: ntfs-3g: no process killed
Can&#039;t find handler for ASP command: usb_cgi_get_register_state();
Can&#039;t find handler for ASP command: usb_cgi_get_invite_state();
rm: can&#039;t remove &#039;/tmp/wps_monitor.pid&#039;: No such file or directory
Note: Loading 6300 MDK (default) driver for 6328 chip
Switch MDK: num_switches = 1
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;base_station_addr&quot;);
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;link_rate&quot;);
Switch MDK: unit = 0; phy_pbmp = 0x1f; config_pbmp = 0x1f
Setting SSID: &quot;NETGEAR68&quot;
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;signal_strength&quot;);
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;repeater1_addr&quot;);
Switch MDK link poll thread: unit=0; phypbmp=0x1f
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;repeater2_addr&quot;);
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;repeater3_addr&quot;);
Can&#039;t find handler for ASP command: wds_cgi_get_param(&quot;repeater4_addr&quot;);
AutoNeg is disabllink_change_handler: port 4 vport 5 port mask 0x10 linkstatus 1  pNetDev 0x8298a160
ed and Speed has eth4 (switch port: 4) Link UP -1 mbps half duplex
changed

message received before monitor task is initialized kerSysSendtoMonitorTask
Setting SSID: &quot;NETGEAR-Guest&quot;
Setting SSID: &quot;NETGEAR-Guest2&quot;
Setting SSID: &quot;NETGEAR-Guest3&quot;
br0: port 4(wl0) entering disabled state
can&#039;t open mtd file lang_tbl_wr_path!
can&#039;t open mtd file lang_tbl_wr_path!
can&#039;t open mtd file lang_tbl_wr_path!
can&#039;t open mtd file lang_tbl_wr_path!
can&#039;t open mtd file lang_tbl_wr_path!
can&#039;t open mtd file lang_tbl_wr_path!
antonyxx: reload from FS
wlctl: Not Permitted
acsd: scan in progress ...
acsd: scan in progress ...
acsd: scan in progress ...
acsd: scan in progress ...
acsd: scan in progress ...
acsd: scan in progress ...
acsd: scan in progress ...
Info: No FWPT default policies.
acsd: scan in progress ...
acsd: scan in progress ...
rmmod: can&#039;t unload &#039;AccessCntl&#039;: unknown symbol in module, or unknown parameter
acsd: scan in progress ...
acsd: scan in progress ...
killall: bftpd: no process killed
acsd: scan in progress ...
add active user:192.168.0.2
httpd: socket bound in 0.0.0.0:80.
acsd: selected channel spec: 0x2b06
Start WPS !!
br0: no IPv6 routers present
IOCTL_AG_REGION_SET: English
br0: port 4(wl0) entering learning state


wlmngr_init Wlan Init Done!
br0: port 4(wl0) entering forwarding state
wl0: no IPv6 routers present
httpd: SIGHUP.
killall: bftpd: no process killed</code></pre></div><p>The NAND is a ST NAND256W3A2BN6 (<a href="http://pdf1.alldatasheet.net/datasheet-pdf/view/94408/STMICROELECTRONICS/NAND256W3A2BN6.html">datasheet</a>)</p><p>It also has JTAG (untested).</p><p>From the bootlog it seems that the board id is 963281TAN4, and the corresponding struct in shared/opensource/boardparams/bcm963xx/boardparams.c is<br /></p><div class="codebox"><pre><code>static bp_elem_t g_bcm963281TAN4[] = {
  {bp_cpBoardId,               .u.cp = &quot;963281TAN4&quot;},
  {bp_usGpioOverlay,           .u.ul = BP_NOT_DEFINED},
  {bp_usGpioLedAdsl,           .u.us = BP_NOT_DEFINED /*BP_GPIO_11_AL*/},
  {bp_usGpioLedSesWireless,    .u.us = BP_NOT_DEFINED /*BP_GPIO_9_AL*/},
  {bp_usGpioLedWanData,        .u.us = BP_NOT_DEFINED /*BP_GPIO_1_AL*/},
  {bp_usGpioLedWanError,       .u.us = BP_NOT_DEFINED /*BP_GPIO_7_AL*/},
  {bp_usGpioLedBlPowerOn,      .u.us = BP_NOT_DEFINED /*BP_GPIO_4_AL*/},
  {bp_usGpioLedBlStop,         .u.us = BP_NOT_DEFINED /*BP_GPIO_8_AL*/},
  {bp_usExtIntrResetToDefault, .u.us = BP_NOT_DEFINED},
  {bp_usExtIntrSesBtnWireless, .u.us = BP_NOT_DEFINED},
  {bp_usAntInUseWireless,      .u.us = BP_NOT_DEFINED},
  {bp_usWirelessFlags,         .u.us = 0},
  {bp_ucPhyType0,              .u.uc = BP_ENET_EXTERNAL_SWITCH},
  {bp_ucPhyAddress,            .u.uc = 0x0},
  {bp_usConfigType,            .u.us = BP_ENET_CONFIG_MMAP},
  {bp_ulPortMap,               .u.ul = 0x1f},
  {bp_ulPhyId0,                .u.ul = 0x01}, /**/
  {bp_ulPhyId1,                .u.ul = 0x02},
  {bp_ulPhyId2,                .u.ul = 0x03},
  {bp_ulPhyId3,                .u.ul = 0x04 | BCM_WAN_PORT},
  {bp_ulPhyId4,                .u.ul = 0x10},
  {bp_ulAfeId0,                .u.ul = BP_AFE_CHIP_INT | BP_AFE_LD_6301 | BP_AFE_FE_ANNEXA | BP_AFE_FE_AVMODE_ADSL | BP_AFE_FE_REV_6301_REV_5_1_2},
  {bp_last}
};</code></pre></div><p>Everything seems pretty clear to me <a href="https://github.com/openwrt/openwrt/commit/1aaf8dfdb77246bcce967d6a96f53ebf4bc71317">here</a>, except for the makefile: looking at a Netgear line I see<br /></p><div class="codebox"><pre><code>$(eval $(call bcm63xxCfeNetgear,DGND3700v1_3800B,DGND3800B,dgnd3700v1,96368MVWG,6368,--image-offset 0x20000 --block-size 0x20000,U12L144T11_NETGEAR_NEWLED,1))</code></pre></div><p>How do I retrieve these parameters (like &#039;cfe additional options&#039;, &#039;netgear id&#039; or &#039;netgear region&#039;)?</p>											<p class="post-edited">(Last edited by <strong>Motherjoker</strong> on 20 Dec 2016, 10:01)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>