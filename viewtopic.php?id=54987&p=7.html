<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Installing OpenWrt in Xiaomi Wifi Mini</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 7 of 21</div><nav><ul><li><a href="viewtopic.php%3Fid=54987&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=54987&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=54987&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=54987&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=54987&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=54987&amp;p=21.html">21</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p304950">
				<div class="post-metadata">
					<div class="post-num">Post #151</div>
					<div class="post-author">bdonkey</div>
					<div class="post-datetime">
						25 Dec 2015, 00:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><p><span style="color: green">On an unrelated note, using <a href="https://forum.openwrt.org/viewtopic.php?pid=303561#p303561">the method I described above</a> I made some changes to the filesystem inside PandoraBox binary image, making it basically like the vanilla OpenWrt (removing China-specific stuff, translations, not widely-used packages, reverting most of the interface changes to the OpenWrt defaults; basically making it more or less like the stock OpenWrt with their WiFi optimizations while keeping the more useful packages that were already installed). I can share the process, patch set and perhaps the result: if anyone is interested, let me know (otherwise I wouldn&#039;t want to clog up the forum).</span></p></blockquote></div><p>StrangeOrange, I&#039;d definitely be interested in getting your resulting customized firmware binary!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305018">
				<div class="post-metadata">
					<div class="post-num">Post #152</div>
					<div class="post-author">arin</div>
					<div class="post-datetime">
						25 Dec 2015, 22:00					</div>
				</div>
				<div class="post-content content">
					<p>For anybody who can be interested in installing CrashPlan on this device, I have requested help here: <a href="https://forum.openwrt.org/viewtopic.php?pid=305017#p305017">https://forum.openwrt.org/viewtopic.php … 17#p305017</a><br />Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305020">
				<div class="post-metadata">
					<div class="post-num">Post #153</div>
					<div class="post-author">arin</div>
					<div class="post-datetime">
						25 Dec 2015, 22:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><p><em>Long post. Scroll down to the first heading to skip the non-technical part.</em></p><p>As much as I&#039;d love to use bleeding-edge OpenWrt proper on this router, I find the Wi-Fi performance too disappointing compared to Pandora Box, so I&#039;m reluctantly warming up towards the idea of staying with the latter for the time being.</p><p><a href="http://www.openwrt.org.cn/">Pandora Box</a> is a partly-relabeled, Chinese fork of an older OpenWrt release (Barrier Breaker 14.07) that apparently includes some changes to the Wi-Fi driver that make its performance better. To the extent that I know of, the source code has not been made available, so the driver changes cannot be ported back to OpenWrt proper.</p></blockquote></div><p>Don&#039;t know if this is related to your work, do you already know the following stuff?<br /><a href="https://github.com/rssnsj/openwrt-xiaomi-mini">https://github.com/rssnsj/openwrt-xiaomi-mini</a><br /><a href="https://github.com/luyujun/pandorabox">https://github.com/luyujun/pandorabox</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305102">
				<div class="post-metadata">
					<div class="post-num">Post #154</div>
					<div class="post-author">Badazdz</div>
					<div class="post-datetime">
						26 Dec 2015, 18:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><p><span style="color: green">On an unrelated note, using <a href="https://forum.openwrt.org/viewtopic.php?pid=303561#p303561">the method I described above</a> I made some changes to the filesystem inside PandoraBox binary image, making it basically like the vanilla OpenWrt (removing China-specific stuff, translations, not widely-used packages, reverting most of the interface changes to the OpenWrt defaults; basically making it more or less like the stock OpenWrt with their WiFi optimizations while keeping the more useful packages that were already installed). I can share the process, patch set and perhaps the result: if anyone is interested, let me know (otherwise I wouldn&#039;t want to clog up the forum).</span></p></blockquote></div><p>Yes please, share the result.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305250">
				<div class="post-metadata">
					<div class="post-num">Post #155</div>
					<div class="post-author">irwan6179</div>
					<div class="post-datetime">
						28 Dec 2015, 06:27					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d love to try StrangeOrange&#039;s version of Pandora. I&#039;ve basically use the router as CPE, 5ghz as backlink to main router, and 2ghz for local wifi access. Last time i set it with pandora, the 5ghz is very buggy when set as client. </p><p>Now I&#039;m settled with Openwrt Trunk with lower-than-normal 2ghz signal which is acceptable in most cases.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p305273">
				<div class="post-metadata">
					<div class="post-num">Post #156</div>
					<div class="post-author">miicker</div>
					<div class="post-datetime">
						28 Dec 2015, 12:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><p><span style="color: green">On an unrelated note, using <a href="https://forum.openwrt.org/viewtopic.php?pid=303561#p303561">the method I described above</a> I made some changes to the filesystem inside PandoraBox binary image, making it basically like the vanilla OpenWrt (removing China-specific stuff, translations, not widely-used packages, reverting most of the interface changes to the OpenWrt defaults; basically making it more or less like the stock OpenWrt with their WiFi optimizations while keeping the more useful packages that were already installed). I can share the process, patch set and perhaps the result: if anyone is interested, let me know (otherwise I wouldn&#039;t want to clog up the forum).</span></p></blockquote></div><p>I would really like that!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306085">
				<div class="post-metadata">
					<div class="post-num">Post #157</div>
					<div class="post-author">akp.ajinkya</div>
					<div class="post-datetime">
						3 Jan 2016, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>Flashed openwrt latest as an upgrade from pandora&#039;s update section. But after flashing,my wan is stuck on collecting data.So, cant use internet on my pc connected to the router Also as this is a trunk,there should not be a gui but there is one when I access 192.168.1.1.why?Also my router is connected to an adsl modem if that helps.</p>											<p class="post-edited">(Last edited by <strong>akp.ajinkya</strong> on 3 Jan 2016, 22:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306265">
				<div class="post-metadata">
					<div class="post-num">Post #158</div>
					<div class="post-author">ramx2</div>
					<div class="post-datetime">
						5 Jan 2016, 09:52					</div>
				</div>
				<div class="post-content content">
					<p>StrangeOrange wrote:<br /></p><div class="quotebox"><blockquote><p><span style="color: green">On an unrelated note, using <a href="https://forum.openwrt.org/viewtopic.php?pid=303561#p303561">the method I described above</a> I made some changes to the filesystem inside PandoraBox binary image, making it basically like the vanilla OpenWrt (removing China-specific stuff, translations, not widely-used packages, reverting most of the interface changes to the OpenWrt defaults; basically making it more or less like the stock OpenWrt with their WiFi optimizations while keeping the more useful packages that were already installed). I can share the process, patch set and perhaps the result: if anyone is interested, let me know (otherwise I wouldn&#039;t want to clog up the forum).</span></p></blockquote></div><p>I&#039;d like to use your custom firmware as well : D</p>											<p class="post-edited">(Last edited by <strong>ramx2</strong> on 5 Jan 2016, 09:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306610">
				<div class="post-metadata">
					<div class="post-num">Post #159</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						7 Jan 2016, 14:34					</div>
				</div>
				<div class="post-content content">
					<p>If I saw correctly, Witi Board has same chipset, same 2.4 and same 5.8 radio sa Xiaomi Mini router. Right?<br />Has annybody tried Xiaomi Mini device? Does it work with OpenWrt? Does 5ghz radio work?</p><p>I see on forums that Witi Board has working 2.4 and 5.8 Ghz radio... so if it works for Witi Board it should work also for Xiaomi becaues from datasheet it looks to use same components.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306678">
				<div class="post-metadata">
					<div class="post-num">Post #160</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						8 Jan 2016, 08:16					</div>
				</div>
				<div class="post-content content">
					<h5><span style="color: black"><strong>OpenWrt/PandoraBox for International Users</strong></span></h5><p><strong>Scroll down for download link</strong></p><p>As much as I would prefer to have the stock OpenWrt on Xiaomi WiFi Mini, the wireless networking performance is much better with a Chinese fork of it named PandoraBox. Although most of the stuff under the hood is still OpenWrt, PandoraBox has a heavily customized interface in Chinese, and includes by default numerous packages of limited use, in particular to people outside China.</p><p>Using the filesystem unpacking method I <a href="https://forum.openwrt.org/viewtopic.php?pid=303561#p303561">posted about before</a>, I patched the latest version of PandoraBox to bring it back to the stock OpenWrt look and feel, which I prefer, while also removing China-specific and other niché packages. On top of that, later I also made some other optimizations. I intended this to be for my own personal use but since there are people interested in it I&#039;d like to share it with the community.</p><p>There are two versions, called <strong>Minimal</strong> and <strong>Optimal</strong>. The former is essentially reverting as much as possible to the original, vanilla OpenWrt state. The latter builds up on top of that with the changes and additions I made for my own use, excluding any specific configuration files only applicable to my router. The differences are described in more detail below, and for complete information you can have a look at the patch source, which I encourage you to do.</p><br /><h5><span style="color: black"><strong>Versions</strong></span></h5><h5><span style="color: black"><em>Minimal</em></span></h5><p>As close as possible and practical to stock OpenWrt installation. Generally without adding any files to the filesystem image:</p><ul><li><p>Removed China-specific and other not widely-used packages, in particular: FTP server, Huawei modem drivers, tunnelling (incl. IPv6), traffic shaping, obsolete VPN technologies. See sources for full list.</p></li><li><p>Removed Chinese and other non-English translations as well as the <em>LuciXEyE</em> theme.</p></li><li><p>Kept the more widely-used pre-installed packages, in particular: IP filtering-related and other kernel modules, filesystem and USB-related software, SMB and UPnP support.</p></li><li><p>Removed PandoraBox branding in places such as login banner, default hostname and Wi-Fi ESSIDs and restored stock OpenWrt Barrier Breaker defaults where possible (in places such as the shell prompt), while retaining PandoraBox authors&#039; text notices for parts they created or significantly modified.</p></li></ul><br /><h5><span style="color: black"><em>Optimal</em></span></h5><p>Based on the Minimal Version above, with further optimizations that require changes beyond patching the filesystem image such as adding new packages or other files and replacing existing ones. In particular:</p><ul><li><p>Add LUA module to uhttpd to bypass the CGI interface for improved speed.</p></li><li><p>Add SSL module to uhttpd and only allow Web administration over HTTPS for improved security.</p></li><li><p>Add Midnight Commander shell (mc) and GNU Screen (screen) for improved administration through SSH.</p></li><li><p>Include pre-generated HTTPS certificates since the utility to generate them at run-time is missing from PandoraBox. The CA certificate file, available as a separate download, can be added to your trusted store to switch off any certificate warnings.</p></li><li><p>Provide optimized configuration defaults for the firewall and network settings. Enable NAT hardware acceleration by default. Disable HTTP CGI and only allow HTTPS traffic. Provide better defaults for DHCP, SMB, SSH, UPnP.</p></li><li><p>Include an interface alias and a firewall rule to access the private interface of a modem. Default settings are for a modem at <em>192.168.1.1</em>, if yours has a different address edit it in the file <strong>/etc/firewall.user</strong>. To use, go to <a href="http://modem/">http://modem/</a>.</p></li><li><p>IP address on local interface changed from <em>192.168.1.1</em> to <em>10.0.0.1</em> to make the modem private interface accessible.</p></li><li><p>Remove CGI-specific files from HTTP server web root and change the index page to use the LUA module.</p></li><li><p>Remove HTML footer version string from Luci for a little more security by obscurity.</p></li><li><p>Customize the shell prompt, provide optimal default settings for Midnight Commander and GNU Screen.</p></li><li><p>Rename &quot;hd_idle&quot; to &quot;Hard Disk Idle&quot; in Luci configuration.</p></li><li><p>Trim the default banner in <strong>/etc/banner</strong> and include a ridiculous pre-login SSH banner in <strong>/etc/banner.ssh</strong> to fend off potential infiltrators.</p></li><li><p>Replace the Luci favicon.</p></li></ul><br /><h5><span style="color: black"><strong>History</strong></span></h5><p><strong>Update 0</strong> (2016-01-08)<br /></p><ul><li><p>Initial public version.</p></li></ul><p><strong>Update 1</strong> (2016-01-13)</p><ul><li><p>[Fix] [All] Installation procedure simplified, no longer any need to check for possible JFFS2 issues. Images now include proper padding just like any standard OpenWrt distribution.</p></li><li><p>[Fix] [All] WPA options now showing correctly in Luci WiFi configuration, <strong>wifi.lua</strong> and <strong>wifi_add.lua</strong> restored to compiled PandoraBox version in <strong>/usr/lib/lua/luci/model/cbi/admin_network/</strong>. Thanks to <a href="https://forum.openwrt.org/profile.php?id=147077">joaomconde</a> for spotting this bug.</p></li><li><p>[Fix] [All] Samba NetBIOS name no longer being reverted to &quot;OPENWRT_XXXX&quot; even when hostname was customized.</p></li><li><p>[Fix] [Opt] Remove unnecessary UCI defaults files as configuration files are already preloaded.</p></li><li><p>[Fix] [Opt] No longer necessary to manually copy over preloaded config files upon first boot.</p></li><li><p>[New] [Opt] HTTPS server&#039;s default LAN IP address (10.0.0.1) added to SSL certificate DNS names.</p></li><li><p>[New] [Opt] Another instance of HTTP server now listens on port 80 and redirects traffic to HTTPS.</p></li><li><p>[Meta] Scripted build environment for patched images. Much simpler to create your own images now for anyone that wishes to do so.</p></li></ul><p><strong>Update 2</strong> (2016-01-16)</p><ul><li><p>[Fix] [Opt] Prevent a likely JFFS2 initialization problem if flashed on top of a larger firmware image without erasing the partition that would prevent the <strong>/overlay</strong> partition from being mounted correctly. Thanks to <a href="https://forum.openwrt.org/profile.php?id=122961">FJorgeR</a> for reporting this.</p></li><li><p>[Fix] [Opt] Prevent a boot loop if JFFS2 filesystem on <strong>/overlay</strong> not mounted properly on first boot. Thanks to <a href="https://forum.openwrt.org/profile.php?id=122961">FJorgeR</a> for reporting this.</p></li><li><p>[Meta] Fix the generation of <strong>add_package_log.txt</strong> and <strong>rm_package_log.txt</strong> by patching scripts.</p></li></ul><br /><p><strong>Update 3</strong> (2016-01-19)</p><ul><li><p>[New] [All] Updated PandoraBox base from release 1216 to release 1597 (2015-11-07). This bumps up the kernel version from 3.14.48 to 3.14.56. Still based on OpenWrt Barrier Breaker but apparently some parts were backported from newer branches. Some changes to the Wi-Fi setup suggest that performance might improve.</p></li><li><p>[New] [All] VFAT and exFAT kernel support modules were removed from the newer PandoraBox base, and they are accordingly not included in the patched versions. For Windows filesystem support through USB add the packages <em>kmod-fs-vfat</em> and <em>kmod-fs-exfat</em> from the repository.</p></li><li><p>[Fix] [All] Repository archive updated and changed from the original to remove unnecessary dependency of <em>kmod-fs-vfat</em> and <em>kmod-fs-exfat</em> on <em>kmod-nls-cp936</em> (Simplified Chinese codepage).</p></li><li><p>[Fix] [All] No longer including plain-text replacement for <strong>*.lua</strong> files due to potential errors this may introduce, except <strong>/usr/lib/lua/luci/controller/admin/status.lua</strong>, which is necessary to remove the <em>ip-bandwidth</em> menu entry.</p></li><li><p>[Fix] [All] Workaround Samba fatal error due to confusion caused by the overlay filesystem over the file <strong>/etc/samba/secrets.tdb</strong>. Replaced this file with a symbolic link to <strong>/tmp/secrets.tdb</strong>. If you want it to persist between reboots, it also works when stored directly under <strong>/overlay</strong>.</p></li><li><p>[Fix] [Opt] Resolved the issue of double slashes appearing in self-referring URLs by patching&nbsp; <strong>/usr/lib/lua/luci/view/themes/bootstrap/header.htm</strong>. There was a <a href="https://github.com/openwrt/luci/commit/b3c69b123a698e596a5df4797378d976718247f0">similar issue in OpenWrt trunk</a> but the file from trunk could not be ported as it breaks per-interface real-time graphs.</p></li><li><p>[Fix] [Opt] Additional restart after first boot no longer necessary to apply preloaded configuration settings. As a result, the time from flashing to login readiness is shortened for the Optimal version. Note though that on first boot server keys need to be generated before you can login through SSH, so if your connection is refused initially it&#039;s due to this.</p></li><li><p>[Fix] [Opt] Fixed Midnight Commander &quot;Cannot load codepage list&quot; warning message upon startup.</p></li><li><p>[New] [Opt] Separately including the certificate files (HTTPS and CA) that can be added to your local trusted store to make any SSL warnings disappear when connecting to OpenWrt. The private key for this certification authority has been deleted, which means no further certificates can be signed with it, so it&#039;s safe to add it (if you trust my word on this one).</p></li><li><p>[Meta] Significant changes to patch source scripts.</p></li></ul><br /><p><strong>Update 4</strong> (2016-01-27)</p><ul><li><p>[New] [All] Since PandoraBox keeps evolving to include more and more packages, as an experiment I have adjusted my approach this time and decided to keep most of them, only removing those that are China-specific, as well as non-English translations (because they were incomplete anyway), and also the MWAN functionality and FTP server.</p></li><li><p>[New] [All] This means that the current version now includes in particular: <em>Aria2 Downloader</em>, <em>ARP Bind</em>, <em>CPU Limit</em>, <em>IP Bandwidth</em> (traffic accounting), <em>NGrok Client</em>, <em>SQM</em>, <em>Transmission</em> BitTorrent Client, <em>Wake-on-LAN</em>, as well as all the kernel modules that were originally provided, except the Simplified Chinese codepage. Hopefully this change is in line with what (at least the most vocal) people wanted.</p></li><li><p>[New] [All] Original PandoraBox version also adds the <em>Material</em> theme and defaults to it. I have kept it and made it the default in the <em>Optimal</em> version too. You can still switch back to the default <em>Bootstrap</em> theme if you want to.</p></li><li><p>[Fix] [All] Fixed double slashes in self-generated URLs in the <em>Material</em> theme; while there, also removed the &quot;Loading...&quot; label, keeping only the animated circle, which is already self-explanatory.</p></li><li><p>[Fix] [All] Disable NAT hardware acceleration by default, identified as a potential source of problems.</p></li><li><p>[Fix] [Opt] Changed &quot;aria2&quot; to &quot;Aria2 Downloader&quot;, &quot;cpulimit&quot; to &quot;CPU Limit&quot; and &quot;ipbandwidth&quot; to &quot;IP Bandwidth&quot; in the Web interface menu.</p></li><li><p>[Fix] [Opt] Improved the descriptive text on the &quot;IP Bandwidth&quot; page in the Web interface menu.</p></li><li><p>[New] [Opt] Since PandoraBox now includes OpenSSL command-line tools, include the OpenSSL configuration file I previously posted separately as the default <strong>/etc/ssl/openssl.cnf</strong>.</p></li><li><p>[Meta] Changed the name of edit and patch source script archives to <em>Custom-Edit</em> and <em>Custom-Patch</em> respectively for better clarity.</p></li><li><p>[Meta] Case adjustments to filenames in the downloads folder.</p></li></ul><div class="quotebox"><blockquote><p><strong>Before downloading, please make sure you understand that all this comes with <span class="bbu">no warranty whatsoever</span>. While it works for me, I will not be responsible for any damage caused or assumed to be caused by whatever you decide to do with those files. If anything goes wrong you are on your own to fix it. Please make sure you are comfortable with this before proceeding. Thank you.</strong></p></blockquote></div><br /><h5><a href="https://mega.nz/#F!4Uh2wSDI!1HGl8pNv1gTBdHKKutWraw"><strong>Downloads</strong></a></h5><ul><li><p>&lt;Version&gt; is either &quot;Minimal&quot; or &quot;Optimal&quot;</p></li><li><p>U<em>n</em> is an update identifier, where <em>n</em> is a number that increases with every update.</p></li><li><p>r<em>nnnn</em> is the PandoraBox release identifier, which points to the version of the binary image this patch is based on.</p></li></ul><p><strong>XMWiFiMini-OpenWrt-PandoraBox-14.09r<em>nnnn</em>-StrangeOrange-&lt;<span class="bbu">Version</span>&gt;-U<span class="bbu"><em>n</em></span>.bin</strong><br />Firmware image. This is the flashable file you most likely want.</p><p><strong>XMWiFiMini-OpenWrt-PandoraBox-14.09r<em>nnnn</em>-StrangeOrange-&lt;<span class="bbu">Version</span>&gt;-U<span class="bbu"><em>n</em></span>.squashfs</strong><br />Filesystem image. Use with the script below to make your own custom version based on this firmware.</p><p><strong>XMWiFiMini-OpenWrt-PandoraBox-14.09r<em>nnnn</em>-StrangeOrange-Custom-Edit.tar.gz</strong><br />Use this to make any changes you want to the filesystem, and rebuild it into a flashable firmware. <a href="https://forum.openwrt.org/viewtopic.php?pid=306681#p306681">More information</a>.</p><p><strong>XMWiFiMini-OpenWrt-PandoraBox-14.09r<em>nnnn</em>-StrangeOrange-Custom-Patch.zip</strong><br />Full sources to re-create all the patched files, starting from the original PandoraBox firmware. <a href="https://forum.openwrt.org/viewtopic.php?pid=306681#p306681">More information</a>.</p><p><strong>XMWiFiMini-OpenWrt-PandoraBox-14.09r<em>nnnn</em>-Repository.zip</strong><br />Complete mirror of PandoraBox package repository in case it ever goes offline.</p><p><strong>XMWiFiMini-Bootloader-Breed-r<em>nnn</em>.zip</strong><br />Mirror of a great bootloader for Xiaomi MiWiFi Mini. <a href="https://forum.openwrt.org/viewtopic.php?pid=303496#p303496">More information</a>.</p><p><strong>OpenSSL-Certificate-Generation-StrangeOrange.zip</strong><br />Makes it easier to generate SSL certificates with OpenSSL for use with OpenWrt. <a href="https://forum.openwrt.org/viewtopic.php?id=61506">More information</a>.</p><p><strong>OpenSSL-Certificate-XMWiFiMini-OpenWrt-PandoraBox-StrangeOrange.crt</strong><br /><strong>OpenSSL-Certificate-XMWiFiMini-OpenWrt-PandoraBox-StrangeOrange-CA.crt</strong><br />Server (HTTPS) and CA certificates that can be added on your system to make the certificate warning go away. With Chrome or IE on Windows, properly installing the second one should be enough.</p><p><strong>Checksums-MD5-SHA1.txt</strong><br />Use the information from this file to verify if the other files that you downloaded are intact.</p><p><em>The downloads are currently hosted at <span class="bbu">Mega.NZ</span>. If you have a better idea where to put those files, feel free to let me know.</em></p><br /><h5><span style="color: black"><strong>Instructions</strong></span></h5><ol class="decimal"><li><p>Flash from within any existing OpenWrt or PandoraBox installation through the Web interface or from the shell:<br /><strong>jffs2reset -y<br />sysupgrade -n &lt;filename&gt;.bin</strong><br />Or flash directly from the original Xiaomi firmware:<br /><strong>jffs2reset -y<br />mtd -r write &lt;filename&gt;.bin OS1</strong><br />Or use <a href="https://forum.openwrt.org/viewtopic.php?pid=303496#p303496">Breed bootloader</a>.</p></li><li><p>Connect to Wifi network <em>OpenWrt-2.4GHz-XXXX</em> or <em>OpenWrt-5.0GHz-XXXX</em>.</p></li><li><p>SSH to hostname <em>openwrt</em> or point your browser to <a href="http://openwrt/">http://openwrt/</a>.<br />(You will be redirected to <a href="https://openwrt/">http<span class="bbu">s</span>://openwrt/</a> in the Optimal version.)</p></li><li><p>Log in with username <em>root</em> and the default password <em>admin</em>.</p></li><li><p>For easy navigation around the filesystem over SSH, after logging in type <strong>mc</strong> and press Enter (Optimal version only).</p></li></ol><br /><h5><span style="color: black"><em>Usage Notes</em></span></h5><ul><li><p>When flashing the <em>Optimal</em> version your settings will not be retained. Please back them up manually if you wish to keep them.</p></li><li><p>Recent PandoraBox versions include Wi-Fi client separation by default. If you want to enable communication between clients on the same interface, please add the following two lines to <strong>/etc/rc.local</strong>:</p><br /><p><strong>iwpriv ra0 set NoForwarding=0<br />iwpriv rai0 set NoForwarding=0</strong></p></li></ul><br /><p><strong><em>Enjoy!</em></strong></p>											<p class="post-edited">(Last edited by <strong>StrangeOrange</strong> on 26 Jan 2016, 19:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306681">
				<div class="post-metadata">
					<div class="post-num">Post #161</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						8 Jan 2016, 09:02					</div>
				</div>
				<div class="post-content content">
					<h5><span style="color: black"><strong>OpenWrt/PandoraBox for International Users: Patch Sources &amp; Miscellanea</strong></span></h5><p><strong>For downloads, scroll up to previous post</strong></p><p>If you want to create your own version of the patch, you are of course most welcome to do so. This allows you to skip some of the changes I made or add your own. The whole process is scripted and easy to replicate. For background and more details about separating the filesystem from the rest of the image, <a href="https://forum.openwrt.org/viewtopic.php?pid=303561#p303561">see my previous post</a>. The following is just the gist of it.</p><br /><h5><span style="color: black"><strong>Complete Patch Sources</strong></span></h5><p>The full sources allow you to regenerate all the files, starting with the original PandoraBox image. You can of course make any adjustments along the way but in the most basic scenario: </p><ul><li><p>Extract the sources and scripts into <strong>/tmp</strong> on the router</p></li><li><p>Run <strong>./All_Patch_Build_Release.sh</strong> to perform all the steps in one go.</p></li></ul><p>Please look into the source of the included shell scripts for customization and other ways of using them.</p><br /><h5><span style="color: black"><strong>Edit Scripts</strong></span></h5><p>This is a much simpler version of the scripts above that allows you to simply unpack the filesystem image so that you can make changes to it and then build a flashable firmware from it. To use: </p><ul><li><p>Extract the files and scripts into <strong>/tmp/edit/</strong> on the router.</p></li><li><p>Place one of the <span class="bbu">filesystem</span> images as <strong>/tmp/edit/fw_fs.bin</strong>.</p></li><li><p>In <strong>/tmp/edit/</strong>, run <strong>./ExtractOriginalFilesystem.sh</strong>.</p></li><li><p>The filesystem will be unpacked into <strong>/tmp/edit/fw_fs</strong>. Make any changes you want.</p></li><li><p>Build the modified filesystem back with <strong>./RebuildModifiedFilesystem.sh</strong>.</p></li><li><p>Build your modified flashable firmware with <strong>./RebuildModifiedFirmware.sh</strong>.</p></li></ul><br /><h5><span style="color: black"><strong>Further Customization</strong></span></h5><p>Looking at the sources, you will notice the scripts can also build images for a third, &quot;private&quot; version, which is not included among the files above. This is basically the Optimal version with more customizations specific to my particular setup: it wouldn&#039;t be of much use if I posted it here, however, you might be interested in making changes in the same places I did, so here&#039;s a list of some other customization ideas:</p><ul><li><p>Set-up custom DDNS script in <strong>/etc/config/ddns</strong> and <strong>/usr/lib/ddns/services</strong>.</p></li><li><p>Network settings: customize the hostname in <strong>/etc/config/samba</strong>, <strong>/etc/config/system</strong>, <strong>/etc/init.d/miniupnpd</strong>; change WAN interface to PPPoE, if that&#039;s your ISP&#039;s setup, in <strong>/etc/config/network</strong>; timezone in <strong>/etc/config/system</strong>; Wi-Fi ESSID and passphrase in <strong>/etc/config/wireless</strong>; UPnP bandwidth rates in <strong>/etc/config/upnpd</strong>.</p></li><li><p>Add own SSH key to <strong>/etc/dropbear/authorized_keys</strong> and include SSH host keys <strong>/etc/dropbear/dropbear_*_host_key</strong> so that they don&#039;t change with every re-installation.</p></li><li><p>Set a password different than the default &quot;admin&quot; for root in <strong>/etc/shadow</strong>.</p></li><li><p>Populate <strong>/etc/ethers</strong> and <strong>/etc/hosts</strong> with the addresses of local network devices to allow static IP allocation.</p></li><li><p>Replace the default HTTPS certificate and key to the ones matching the changed hostname in <strong>/etc/uhttpd.crt</strong> and <strong>/etc/uhttpd.key</strong>.</p></li></ul><p> You can easily adapt the script for making your own version of a &quot;private&quot; firmware. See the sources for details.</p><br /><h5><span style="color: black"><strong>Room for Improvement</strong></span></h5><p>Here are some ideas what could be improved about this project:</p><ul><li><p>Instead of replacing the LUA files decompile the ones supplied with PandoraBox. The following procedure can be adapted: <a href="http://storypku.com/2015/07/how-to-decompile-bytecoded-openwrt-lua-files/">http://storypku.com/2015/07/how-to-deco … lua-files/</a></p></li><li><p>Port PandoraBox&#039;s Wifi drivers and setup so that stock OpenWrt can be used directly with comparable performance.</p></li></ul><br /><h5><span style="color: black"><strong>Acknowledgements</strong></span></h5><p>I would like to take this opportunity to express my gratitude to:</p><ul><li><p>The authors of <strong>OpenWrt</strong> for providing a complete and well-engineered Linux distribution for embedded systems, on which this firmware is based.</p></li><li><p>The authors of <strong>PandoraBox</strong> for providing a fully functional build of OpenWrt for the Xiaomi WiFi Mini that takes&nbsp; advantage of all its features.</p></li><li><p>Users on OpenWrt and MIUI message boards who provide feedback about their experiences, which allows continual bug fixes and enhancements.</p></li></ul>											<p class="post-edited">(Last edited by <strong>StrangeOrange</strong> on 26 Jan 2016, 19:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306688">
				<div class="post-metadata">
					<div class="post-num">Post #162</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						8 Jan 2016, 10:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arin wrote:</cite><blockquote><p>Don&#039;t know if this is related to your work, do you already know the following stuff?<br /><a href="https://github.com/rssnsj/openwrt-xiaomi-mini">https://github.com/rssnsj/openwrt-xiaomi-mini</a><br /><a href="https://github.com/luyujun/pandorabox">https://github.com/luyujun/pandorabox</a></p></blockquote></div><p>Thanks, I&#039;ve seen them before. The second one is supposedly the source code of PandoraBox but from a much older release two years ago. The first one is, <a href="https://github.com/rssnsj/openwrt-xiaomi-mini/issues/12#issuecomment-112579343">according to its author</a>, a port of some OpenWrt CC code (from the time CC was the head/trunk/unstable) into the BB branch to make it work with Xiaomi WiFi Mini, it&#039;s unrelated to PandoraBox. It seems abandoned as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306710">
				<div class="post-metadata">
					<div class="post-num">Post #163</div>
					<div class="post-author">mike3e</div>
					<div class="post-datetime">
						8 Jan 2016, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi StrangeOrange,</p><p>First Big Thanks for sharing your awesome tutorials with us. They are great help for openwrt newbies like myself.</p><p>I wanted to flash Breed to replace my stock u-boot, but I&#039;ve encountered a problem.<br />Whenever I go the actual flashing I see:<br />&quot;Could not open mtd device&quot;</p><p>This happens on original developer firmware (miwifi_r1cm_firmware_ae50f_2.9.9.bin), PandoraBox and on your custom PandoraBox-Minimal. Is there a way to unlock mtd or am I forced to use hardware method?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306720">
				<div class="post-metadata">
					<div class="post-num">Post #164</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						8 Jan 2016, 16:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mike3e wrote:</cite><blockquote><p>I wanted to flash Breed to replace my stock u-boot, but I&#039;ve encountered a problem.<br />Whenever I go the actual flashing I see:<br />&quot;Could not open mtd device&quot;</p></blockquote></div><p>Hi,</p><p>What is the exact command you are typing (<strong>mtd write <span class="bbu">...</span></strong>), and what is the output of <strong>cat /proc/mtd</strong>? Since you didn&#039;t mention these, there&#039;s a slight chance it&#039;s caused by a typo somewhere. There&#039;s also <strong>mtd unlock u-boot</strong> which you can try as well. If it still doesn&#039;t work, then I have some bad news and some good news for you:</p><p>Bad news first: according to <a href="http://www.right.com.cn/forum/thread-168858-1-1.html">this discussion thread</a> it appears that flashing the bootloader might indeed be locked under PandoraBox.</p><p>Good news though: it should definitely work with some other firmware: that&#039;s how I flashed it, although I can&#039;t remember if I had the Xiaomi development version or stock OpenWrt installed at the time. Maybe someone else who also flashed Breed has better memory and can confirm which firmware they were able to flash it from? Short of that, try going to stock OpenWrt just to change the firmware.</p><p>Some more good news: this will only be necessary once. Later the bootloader can be reflashed from within Breed itself.</p><p>Note: check that you are flashing the correct file and that the MD5 sum matches, there is no software way to recover from a badly flashed bootloader (once the device is rebooted). Also make sure the power supply is stable and the power plug is secure.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306744">
				<div class="post-metadata">
					<div class="post-num">Post #165</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						8 Jan 2016, 18:12					</div>
				</div>
				<div class="post-content content">
					<p>thanks for your effort, but this forum is about opensource firmware and wifi drivers, if you feel like you need to share your work which doesn&#039;t have much impact on what we are trying to accomplish here at least you could write it on your blog or pandorabox forum (if any exist) and post only a link here instead of flooding a thread with endless repacking tutorials.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306752">
				<div class="post-metadata">
					<div class="post-num">Post #166</div>
					<div class="post-author">mike3e</div>
					<div class="post-datetime">
						8 Jan 2016, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi again,</p><p>Thanks for your prompt answer. I&#039;ve arrived to the same conclusion after some browsing.<br />I&#039;ve started by checking the firmwares you provided in your performance comparison and I had success on the 3 go <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />Bootloader partition was unlocked on the Padavan firmware but there are catches. I&#039;ll leave it here in case someone will have the same problems.</p><p>1) In my case I was unable to connect by the ssh so I had to use telnet.<br />2) Default login and password for this distribution is admin:admin<br />3) Instead of mtd command I had to use mtd_write and it does take device alias as the parameter:<br />instead of typing:<br />mtd write mtd write breed-mt7620-xiaomi-mini.bin mtd0<br />I had to use:<br />mtd_write write breed-mt7620-xiaomi-mini.bin Bootloader</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306758">
				<div class="post-metadata">
					<div class="post-num">Post #167</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						8 Jan 2016, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>@anarchy99:<br />From a political standpoint, or the standpoint of the &quot;owner of this forum&quot;, you might be correct. <br />However, as a user of openwrt, I am happy to see somebody publishing workarounds for shortcomings in openwrt for officially supported devices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p306765">
				<div class="post-metadata">
					<div class="post-num">Post #168</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						8 Jan 2016, 19:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>thanks for your effort, but this forum is about opensource firmware and wifi drivers, if you feel like you need to share your work which doesn&#039;t have much impact on what we are trying to accomplish here at least you could write it on your blog or pandorabox forum (if any exist) and post only a link here instead of flooding a thread with endless repacking tutorials.</p></blockquote></div><p>That&#039;s why I asked if anyone was interested beforehand:<br /></p><div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><p><span style="color: green">[...] I can share the process, patch set and perhaps the result: if anyone is interested, let me know (otherwise I wouldn&#039;t want to clog up the forum).</span></p></blockquote></div><p>And only proceeded further after such interest was expressed:<br /></p><div class="quotebox"><cite>bdonkey wrote:</cite><blockquote><p>StrangeOrange, I&#039;d definitely be interested in getting your resulting customized firmware binary!</p></blockquote></div><div class="quotebox"><cite>Badazdz wrote:</cite><blockquote><p>Yes please, share the result.</p></blockquote></div><div class="quotebox"><cite>irwan6179 wrote:</cite><blockquote><p>I&#039;d love to try StrangeOrange&#039;s version of Pandora. [...]</p></blockquote></div><div class="quotebox"><cite>ramx2 wrote:</cite><blockquote><p>I&#039;d like to use your custom firmware as well : D</p></blockquote></div><p>I am not claiming to be doing some voodoo magic here but this &quot;endless repacking&quot; happens to be a simple, time-efficient way of obtaining the best working firmware for this device at the moment, which is the reason why I&#039;m doing it. I think there are some other people here who realize that.</p><p>This is still open-source software by the way. Just because someone appears to be in breach of the licence at the moment due to up-to-date sources not being released does not suddenly make it proprietary.</p><p>I am perfectly fine with the moderators deleting my posts should they decide to do so. In fact, I believe either my posts or the one you just made should be deleted, as someone is clearly in breach of the rules here. I leave it at the moderators&#039; discretion to decide who this is.</p><p>As a more personal comment, I am a member of a couple of other forums and even if had a strong opinion about a particular post I would never post anything like you just did, unless I were a moderator myself. The most I would do is to bring it to the attention of moderators using the <em>Report</em> button, inconveniently located in the lower right corner under each particular post. I am really sorry to be the one that has to tell you that but people like you give the free software community a bad name (not &quot;open source,&quot; by the way, there is an important difference here). You could get away with this sort of attitude if you were Theo de Raadt or Linus Torvalds but that seriously still doesn&#039;t make it right.</p><p>I will refrain from further posting pending the moderators&#039; decision. Thank you everyone for taking the time to read my posts so far, and have a great weekend.</p><p><em>[Update: Ending my self-imposed break so as not to leave users&#039; questions unanswered, and assuming that since the moderators did not intervene, it&#039;s OK to go on.]</em></p>											<p class="post-edited">(Last edited by <strong>StrangeOrange</strong> on 11 Jan 2016, 08:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307102">
				<div class="post-metadata">
					<div class="post-num">Post #169</div>
					<div class="post-author">joaomconde</div>
					<div class="post-datetime">
						11 Jan 2016, 05:22					</div>
				</div>
				<div class="post-content content">
					<p>hi StrangeOrange i just updated my router via breed, but i cant access the web interface. im trying to reach it through 10.0.0.1 does your package includes luci or do i have to install it myself?</p><p>Thank you very much for your work!</p>											<p class="post-edited">(Last edited by <strong>joaomconde</strong> on 11 Jan 2016, 05:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307106">
				<div class="post-metadata">
					<div class="post-num">Post #170</div>
					<div class="post-author">joaomconde</div>
					<div class="post-datetime">
						11 Jan 2016, 06:45					</div>
				</div>
				<div class="post-content content">
					<p>discovered it! in ect/config/uhttpd, you should add &quot;option &#039;listen_http&#039; &#039;80&#039;&quot;else you cant connect to luci!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307111">
				<div class="post-metadata">
					<div class="post-num">Post #171</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						11 Jan 2016, 07:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>joaomconde wrote:</cite><blockquote><p>hi StrangeOrange i just updated my router via breed, but i cant access the web interface. im trying to reach it through 10.0.0.1 does your package includes luci or do i have to install it myself?</p></blockquote></div><p>Hi Joao,</p><p>In the Optimal version i only left the HTTPS (encrypted) connections on, so you should go to <a href="https://openwrt/">http<strong><span class="bbu">s</span></strong>://openwrt/</a>. Sorry for not making it more intuitive. With the next update I will make it so that http://... redirects to http<strong><span class="bbu">s</span></strong>://... automatically.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307165">
				<div class="post-metadata">
					<div class="post-num">Post #172</div>
					<div class="post-author">joaomconde</div>
					<div class="post-datetime">
						11 Jan 2016, 16:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><div class="quotebox"><cite>joaomconde wrote:</cite><blockquote><p>hi StrangeOrange i just updated my router via breed, but i cant access the web interface. im trying to reach it through 10.0.0.1 does your package includes luci or do i have to install it myself?</p></blockquote></div><p>Hi Joao,</p><p>In the Optimal version i only left the HTTPS (encrypted) connections on, so you should go to <a href="https://openwrt/">http<strong><span class="bbu">s</span></strong><img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" />/openwrt/</a>. Sorry for not making it more intuitive. With the next update I will make it so that http://... redirects to http<strong><span class="bbu">s</span></strong><img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" />/... automatically.</p></blockquote></div><p>Thanks fo r the fast answer! Another thing, what do i have to install to have WPA encription options? is it posssible?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307179">
				<div class="post-metadata">
					<div class="post-num">Post #173</div>
					<div class="post-author">mike3e</div>
					<div class="post-datetime">
						11 Jan 2016, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I have a problem with my miwifi mini. Immediately after receiving it I went straigth to reflashing it with openwrt and breed bootloader. However I might have overwritten part of the flash which I probably shouldn&#039;t (arp perhaps?). <br />I&#039;m able to flash any of the openwrt images just fine, but my 2.4G network interface does not work completely and 5G only works on Chaos Calmer.<br />Chaos Calmer won&#039;t allow me to setup anything for 2.4G and I cannot see any OpenWrt_XXXX network with my 2.4G devices.</p><p>On PandoraBox based images I cannot scan for APs neither on 2.4G nor 5G.<br />I&#039;m able to see the OpenWrt_XXXX briefly on my 2.4G devices but I&#039;m unable to actually connect to the router over WiFi.<br />Status page shows -256 dBm for the signal strength and SNR.</p><p>Could anyone PM full dump (16 MB) of their own FW? I could add my SN and MAC there and try to flash whole image.<br />Or maybe someone knows some other way to fix this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307189">
				<div class="post-metadata">
					<div class="post-num">Post #174</div>
					<div class="post-author">StrangeOrange</div>
					<div class="post-datetime">
						11 Jan 2016, 19:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>joaomconde wrote:</cite><blockquote><p>Another thing, what do i have to install to have WPA encription options? is it posssible?</p></blockquote></div><p>Good catch, it seems you found a bug: the WPA options are not showing in the Web interface. I&#039;m guessing it&#039;s because I replaced the compiled PandoraBox LUA files with their text versions from another device&#039;s stock filesystem and there must be some incompatibility. I&#039;ll look into it. (The reason I replaced the files is that the compiled ones are uneditable.)</p><p>However, WPA itself works just fine, no need to install anything extra. For now, you can put the following settings in <strong>/etc/config/wireless</strong>: </p><div class="codebox"><pre><code>config wifi-device &#039;rai0&#039;
        option type &#039;mt7612&#039;
        option hwmode &#039;11a&#039;
        option channel &#039;auto&#039;
        option txpower &#039;100&#039;
        option htmode &#039;VHT80&#039;
        option country &#039;CN&#039;

config wifi-iface
        option device &#039;rai0&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option ssid &#039;NAME5&#039;
        option encryption &#039;psk2&#039;
        option key &#039;PASSWORD&#039;

config wifi-device &#039;ra0&#039;
        option type &#039;rt2860v2&#039;
        option hwmode &#039;11g&#039;
        option channel &#039;auto&#039;
        option txpower &#039;100&#039;
        option htmode &#039;HT40&#039;
        option country &#039;CN&#039;

config wifi-iface
        option device &#039;ra0&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option wps &#039;pbc&#039;
        option ssid &#039;NAME2.4&#039;
        option encryption &#039;psk2&#039;
        option key &#039;PASSWORD&#039;</code></pre></div><p>That&#039;s why I didn&#039;t notice it in the first place, I set it up through the config file. To change the settings, log in through SSH and type <strong>mc</strong> to run Midnight Commander. You can the browse to the file and press <em>F4</em> to edit it and <em>F2</em> to save. Afterwards, type <strong>wifi</strong> and press <em>Enter</em> to apply the new config.</p><p>Replace <em>NAME5</em> with the name of your 5GHz network, <em>NAME</em> for the 2.4GHz one, and <em>PASSWORD</em> with your passhprase (in plain-text).</p><p>—</p><div class="quotebox"><cite>mike3e wrote:</cite><blockquote><p>Or maybe someone knows some other way to fix this?</p></blockquote></div><p>From the <a href="http://www.right.com.cn/forum/thread-161906-1-1.html">Breed FAQ:</a><br /></p><div class="quotebox"><blockquote><p>Q: After replacing U-Boot with Breed there&#039;s no Wi-Fi.<br />A: Fix the MAC address(es) from within Breed.</p></blockquote></div><p>Maybe you can try to go to that page in Breed and see what shows up, if the MAC addresses are correct.</p><p>Note: I never used this function, just happened to read about it. Be careful and make a backup first before changing anything. The word for &#039;backup&#039; is &quot;备份.&quot;</p>											<p class="post-edited">(Last edited by <strong>StrangeOrange</strong> on 11 Jan 2016, 20:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p307205">
				<div class="post-metadata">
					<div class="post-num">Post #175</div>
					<div class="post-author">Althathwe</div>
					<div class="post-datetime">
						11 Jan 2016, 21:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>StrangeOrange wrote:</cite><blockquote><div class="quotebox"><cite>mike3e wrote:</cite><blockquote><p>I wanted to flash Breed to replace my stock u-boot, but I&#039;ve encountered a problem.<br />Whenever I go the actual flashing I see:<br />&quot;Could not open mtd device&quot;</p></blockquote></div><p>Hi,</p><p>What is the exact command you are typing (<strong>mtd write <span class="bbu">...</span></strong>), and what is the output of <strong>cat /proc/mtd</strong>? Since you didn&#039;t mention these, there&#039;s a slight chance it&#039;s caused by a typo somewhere. There&#039;s also <strong>mtd unlock u-boot</strong> which you can try as well. If it still doesn&#039;t work, then I have some bad news and some good news for you:</p></blockquote></div><p>I have some problem. Looks like bootloader locked under openwrt.<br /></p><div class="codebox"><pre><code>root@gw1:/tmp# cat md5sum.txt | fgrep xiaomi
d7c407dffa73362d7356cdf8d2fd5e2e  breed-mt7620-xiaomi-mini.bin
root@gw1:/tmp# md5sum breed-mt7620-xiaomi-mini.bin
d7c407dffa73362d7356cdf8d2fd5e2e  breed-mt7620-xiaomi-mini.bin
root@gw1:/tmp# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &quot;u-boot&quot;
mtd1: 00010000 00010000 &quot;u-boot-env&quot;
mtd2: 00010000 00010000 &quot;factory&quot;
mtd3: 00f80000 00010000 &quot;firmware&quot;
mtd4: 00115fee 00010000 &quot;kernel&quot;
mtd5: 00e6a012 00010000 &quot;rootfs&quot;
mtd6: 00c50000 00010000 &quot;rootfs_data&quot;
mtd7: 00010000 00010000 &quot;crash&quot;
mtd8: 00010000 00010000 &quot;reserved&quot;
mtd9: 00010000 00010000 &quot;Bdata&quot;
root@gw1:/tmp# mtd write breed-mt7620-xiaomi-mini.bin mtd0
Could not open mtd device: mtd0
Can&#039;t open device for writing!
root@gw1:/tmp# mtd unlock mtd0
Could not open mtd device: mtd0
Could not open mtd device: mtd0
root@gw1:/tmp# cat /etc/openwrt_release 
DISTRIB_ID=&#039;OpenWrt&#039;
DISTRIB_RELEASE=&#039;Chaos Calmer&#039;
DISTRIB_REVISION=&#039;r48153&#039;
DISTRIB_CODENAME=&#039;chaos_calmer&#039;
DISTRIB_TARGET=&#039;ramips/mt7620&#039;
DISTRIB_DESCRIPTION=&#039;OpenWrt Chaos Calmer 15.05&#039;
DISTRIB_TAINTS=&#039;no-all&#039;</code></pre></div><p><a href="https://forum.openwrt.org/viewtopic.php?pid=179169#p179169"> Didn&#039;t help</a> — i don&#039;t have &#039;openwrt/target/linux/ramips/files/drivers/mtd/tplinkpart.c&#039;.</p><p>EDIT: Okay, i just do &#039;mtd write breed-mt7620-xiaomi-mini.bin u-boot&#039;.</p>											<p class="post-edited">(Last edited by <strong>Althathwe</strong> on 11 Jan 2016, 21:39)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 7 of 21</div><nav><ul><li><a href="viewtopic.php%3Fid=54987&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=54987&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=54987&amp;p=6.html">6</a></li><li class="pagination-current"><span>7</span></li><li><a href="viewtopic.php%3Fid=54987&amp;p=8.html">8</a></li><li><a href="viewtopic.php%3Fid=54987&amp;p=9.html">9</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=54987&amp;p=21.html">21</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>