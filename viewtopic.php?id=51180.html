<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to enable DHCP client for lan.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p237285">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ssamjh</div>
					<div class="post-datetime">
						19 Jun 2014, 03:25					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m new to OpenWrt.</p><p>So I know if I go into LuCI i can go into Network, Interfaces and set LAN to be a DHCP client. That&#039;s all cool.</p><p>But, how can I do this from SSH. You see I want to set it to connect to the internet via that then install some packages without LuCI.</p><p>I know it&#039;ll be really simple, but I&#039;m a noob! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><br /><p>If the command is device specific, I have a Huawei HG55a with OpenWrt Barrier Breaker r41211 / LuCI Trunk (svn-r10374) on it.</p><br /><br /><p>Any help would be appreciated greatly!</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237289">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						19 Jun 2014, 03:58					</div>
				</div>
				<div class="post-content content">
					<p>uci set network.lan.proto=dhcp</p><p>Although if what you want is internet access, this is unnecessary.</p>											<p class="post-edited">(Last edited by <strong>qasdfdsaq</strong> on 19 Jun 2014, 03:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237292">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Pixus</div>
					<div class="post-datetime">
						19 Jun 2014, 04:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>qasdfdsaq wrote:</cite><blockquote><p>uci set network.lan.proto=dhcp</p></blockquote></div><p>and <br /></p><div class="codebox"><pre><code>uci commit</code></pre></div><p>to write the change.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237293">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						19 Jun 2014, 05:16					</div>
				</div>
				<div class="post-content content">
					<p>d&#039;oh! That&#039;s the third time I&#039;ve forgotten that <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237333">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">leo8</div>
					<div class="post-datetime">
						19 Jun 2014, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>you must set computer ip to static for internet sharing, but in same subnet. Example; 192.168.0.231 your computer, 192.168.0.1 your router. and set gateway in router to 192.168.0.231. So you can sharing internet and also can access router via lan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237349">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						19 Jun 2014, 16:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>leo8 wrote:</cite><blockquote><p>you must set computer ip to static for internet sharing, but in same subnet. Example; 192.168.0.231 your computer, 192.168.0.1 your router. and set gateway in router to 192.168.0.231. So you can sharing internet and also can access router via lan.</p></blockquote></div><p>Sorry, but that doesn&#039;t make any sense whatsoever.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237350">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						19 Jun 2014, 16:15					</div>
				</div>
				<div class="post-content content">
					<p>No. He just needs to set both to DHCP and connect them to the existing router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238440">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ssamjh</div>
					<div class="post-datetime">
						29 Jun 2014, 06:57					</div>
				</div>
				<div class="post-content content">
					<p>Thank&#039;s for all your replies. I will try that and see if it works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238445">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ssamjh</div>
					<div class="post-datetime">
						29 Jun 2014, 07:32					</div>
				</div>
				<div class="post-content content">
					<p>I tried </p><div class="codebox"><pre><code>uci set network.lan.proto=dhcp</code></pre></div><p> and </p><div class="codebox"><pre><code>uci commit</code></pre></div><p> and it didn&#039;t work. It isn&#039;t listend in my DHCP clients list (it is when it&#039;s configured through LuCI). So it didn&#039;t get an ip. I cant communicate to it now. Ill reflash the firmware. So on LuCI it&#039;s called br-lan or something.</p>											<p class="post-edited">(Last edited by <strong>ssamjh</strong> on 29 Jun 2014, 12:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238494">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						29 Jun 2014, 19:34					</div>
				</div>
				<div class="post-content content">
					<p>Reviewing this thread, I notice that the Huawei HG556a (I think that&#039;s the one you&#039;re talking about) is something of a strange beast, with 4 LAN ports but no dedicated WAN port for uplink. There is a <a href="http://wiki.openwrt.org/toh/huawei/hg556a#switch.ports.for.vlans">dedicated section on the wiki on how to segment the switch and declare one of its ports as a WAN port</a>. IMHO, it makes much more sense to have one WAN port split off and configure it as a DHCP client, pretty much like almost every other router does it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239436">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ssamjh</div>
					<div class="post-datetime">
						6 Jul 2014, 08:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>metai wrote:</cite><blockquote><p>Reviewing this thread, I notice that the Huawei HG556a (I think that&#039;s the one you&#039;re talking about) is something of a strange beast, with 4 LAN ports but no dedicated WAN port for uplink. There is a <a href="http://wiki.openwrt.org/toh/huawei/hg556a#switch.ports.for.vlans">dedicated section on the wiki on how to segment the switch and declare one of its ports as a WAN port</a>. IMHO, it makes much more sense to have one WAN port split off and configure it as a DHCP client, pretty much like almost every other router does it.</p></blockquote></div><p>Yeah it&#039;s the HG556a. and It&#039;s so annoying to work with. The WiFi doesn&#039;t work and I have mixed idea wether its a ver A or ver c etc board.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>