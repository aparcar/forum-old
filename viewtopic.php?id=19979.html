<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> USB to ETHERNET converter.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p86390">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Maeth</div>
					<div class="post-datetime">
						22 Apr 2009, 08:22					</div>
				</div>
				<div class="post-content content">
					<p>Hello all!</p><p>I have just started working all of this out, so I am happy to be here!</p><p>My question is this:</p><p>Has anyone ever thought of using those really cheap USB to ETHERNET converters?</p><p>(ex: <a href="http://www.tigerdirect.ca/applications/SearchTools/item-details.asp?EdpNo=2703732&amp;CatId=589)">http://www.tigerdirect.ca/applications/ â€¦ CatId=589)</a><br />^^ That one is much more expensive, ebay has em at 2 dollars</p><p>I understand that it is meant to convert ethernet to usb for people without an ethernet card.</p><p>My idea is, why not use it the other way around? Connect the ethernet to a router, then USB to an device.</p><p>I know there is (probably) a driver involved, but I/anyone interested could write one.</p><br /><p>Failing that, there is the more circuits route:<br />Use this Ethernet to SPI Host: ENC28J60 Stand-Alone Ethernet Controller with SPI Interface <br />THen SPI to USB:&nbsp; MAX3420E&nbsp; &nbsp; USB Peripheral Controller with SPI Interface</p><p>Also probably involves a driver.</p><br /><p>My goal is to use a cheap router but add on USB functionality. </p><p>I want to keep budget low, but USB is really attractive.</p><p>The whole point is to put a router (like WRT54GL) on a robot, then attach all sensors/inputs (including video, hence serial is out of the question)<br />to transmit to a receiving computer. There, a lot more processing and remote control can take place than on the robot. I will be sure to document it here if anyone wants to know.</p><p>Thanks for your time. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><br /><p>EDIT: This one might work as well: &nbsp; &nbsp; LAN9500-ABZJ USB 2.0 ETHER CTRLR</p>											<p class="post-edited">(Last edited by <strong>Maeth</strong> on 22 Apr 2009, 08:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86514">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Maeth</div>
					<div class="post-datetime">
						24 Apr 2009, 07:41					</div>
				</div>
				<div class="post-content content">
					<p>No one is interested?</p><p>I guess I will do some work on my own.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86516">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kupesoft</div>
					<div class="post-datetime">
						24 Apr 2009, 09:01					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t really think this is possible. These devices are only made to work one-way.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86546">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						24 Apr 2009, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>kupesoft is right, it&#039;s a USB network adapter, not a magic USB to ethernet &quot;converter&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86668">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Maeth</div>
					<div class="post-datetime">
						26 Apr 2009, 06:34					</div>
				</div>
				<div class="post-content content">
					<p>I am not so sure.<br />The adapter must necessarily pass data both ways. Otherwise the intended function would not be possible.</p><p>So, if we can send the right Ethernet data to make an attached device think it is communicating with a regular usb, then... I will have to try it out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86674">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						26 Apr 2009, 11:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Maeth wrote:</cite><blockquote><p>I am not so sure.<br />The adapter must necessarily pass data both ways. Otherwise the intended function would not be possible.</p><p>So, if we can send the right Ethernet data to make an attached device think it is communicating with a regular usb, then... I will have to try it out.</p></blockquote></div><p>This is a regular NIC based on USB, just like others are PCI, PCI express, MiniPCI, PCMCIA.<br />A computer must have proper drivers (kernel modules) installed to access such a device.<br />If you e. g. connect this NIC to a digital camera, why do you think it will know how to handle it?<br />And please, don&#039;t mix up a regular USB device and a USB host. Normally a device (better: a USB connector on a device) is designed to be either a USB host or a USB device but not both (there are exceptions).</p><p><a href="http://en.wikipedia.org/wiki/Usb">http://en.wikipedia.org/wiki/Usb</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87366">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">bifferos</div>
					<div class="post-datetime">
						5 May 2009, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>Yup, MMCM is right.&nbsp; You cannot do this without it costing you $$$, because the moment the word &#039;USB host&#039; instead<br />of &#039;USB device&#039; is used the price goes up significantly.&nbsp; </p><p>USB Hosts involve endpoint descriptors, transfer descriptors, DMA, handling of connection, disconnection events,<br />figuring out what speed the device is, how much power it takes, enumeration of hubs, and a bunch of other things.</p><p>USB devices consist of just endpoint(s) that you can shove data into/out of and can be very basic.</p><p>Also putting the words Ethernet and Microcontroller into the same sentence seems to involve rather high costs too, <br />although I&#039;ve never understood why.</p><p>&lt;shameless plug&gt;<br />Bifferboard might be a reasonable platform to attempt something like this, but it&#039;s a bit more than 2 dollars.<br />(<a href="http://www.bifferos.com">www.bifferos.com</a>).<br />&lt;/shameless plug&gt;</p><p>I&#039;ve seen some custom devices which simply accept ethernet frames and send them onto USB (used<br />in conjunction with Windows drivers on the client), but they are not much cheaper than a Bifferboard.</p><p>If you are interested in the Bifferboard, for this though, don&#039;t order it just yet.&nbsp; The next firmware version is<br />due out in about a week and will allow a kind of BIOS extension, so you can program it rather more like a microcontroller, and less like a Linux system.&nbsp; Maybe useful for robotics.</p><p>regards,<br />Biff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87846">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">zen</div>
					<div class="post-datetime">
						12 May 2009, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi Maeth, a few thoughts and tradeoffs</p><p>I suppose you already went through the list of supported hardware and scanned for those routers with USB 2.0 ports? Wouldn&#039;t a simple usb host work for you? Some of those go for ~50 bucks, some have 2 USB ports (options, options!), various brands depending on where you live.</p><p>For flexible input/output/timing, maybe scan for devices with mini-PCI inside. Lose the wireless, gain a standard PCI port. This tradeoff presents industrial-grade possibilities.</p><p>Usb-ethernet adapters may or may not offer decent throughput, often worse latency/jitter than you&#039;d get from a 1995 10Mbps ISA card... The format factor is cool, if you can tolerate the lousy performance AND have drivers for the chip inside. </p><p>Same caution on usb-wireless (eg: <a href="http://kakaku.com/item/00776011142/">http://kakaku.com/item/00776011142/</a> ), convenience vs. performance.</p><p>OTOH, tiny-footprint large-storage is easy for personal use, up to at least 32GB eg. with RMUM / ?BSCRMSDCBK. Thanks to generic storage class, no driver issues under any OS.<br />(eg. <a href="http://portablemonkey.com/article/got-my-buffalo-micro-usb-reader-rmum-2g-bk/">http://portablemonkey.com/article/got-m â€¦ mum-2g-bk/</a> )<br />8GB works for me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Would even qualify for certain industrial scenarios!</p><p>Typical consumer routers (target OpenWRT platform) as of 2008 handle decent video flow, but not quite video processing.&nbsp; Consider many mini-ITX boards, where the CPU is an order of magnitude &quot;faster&quot; than your typical OpenWRT box, still choke on video display, let alone arbitrary video processing.</p><p>Depending on your constraints, you could also consider prototyping with<br />- low-power industrial Soekris gear (http://www.soekris.com/)<br />- hobby-oriented Via mini-ITX format? (eg. <a href="http://www.mini-box.com/)">http://www.mini-box.com/)</a><br />- or maybe even eee/umpc<br />If your goal is up to double-digit quantities (as opposed to mass-production 10k+ units), generic devices could be much easier and possibly cheaper to work with than more specialised+optimised gear.</p><p>hapy hacking <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88082">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">markosjal</div>
					<div class="post-datetime">
						16 May 2009, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>Maeth</p><p>I would be interested if you come up with a reasonable cost board. I would like to see something that has a USB device interface and an ethernet port. I want it to be programmable as a SMB or NFS client and intelligent enough to run a decent speed OS, and Memory (and maybe an SD card slot? ) </p><p>Such a device may be diverse enough to generate quite a following based on what I have read. In fact it may be what I have been looking for. </p><p>I do not profess to be a linux expert but over the years I have learned that I can do just about anything I put my mind to , or at least be of some useful assistance. </p><p>Zen</p><p>I strongly disagree with you on the USB to ethernet performance. I have seen some that work VERY well. Of course the basic units such as The Pegasus II unit I have here is only USB 1.x , and it does suffer from some of what you mention. </p><p>I know this well, believbe me I have my reasons for knowing specifically about jitter and latency . </p><p>Of course you get what you pay for.&nbsp; </p><p>Bifferos<br />Hello again!</p><br /><br /><br /><br /><br /><br /><p>NEVER say NEVER</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88112">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">LiveWire</div>
					<div class="post-datetime">
						17 May 2009, 07:29					</div>
				</div>
				<div class="post-content content">
					<p>Instead of adding a USB port via the LAN port, why not add a USB host controller through the gpio pins?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88190">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">bifferos</div>
					<div class="post-datetime">
						18 May 2009, 16:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zen wrote:</cite><blockquote><p>I suppose you already went through the list of supported hardware and scanned for those routers with USB 2.0 ports? Wouldn&#039;t a simple usb host work for you? Some of those go for ~50 bucks, some have 2 USB ports (options, options!), various brands depending on where you live.</p></blockquote></div><p>Sorry to keep on, but if this is for a robot you want something small.&nbsp; The Bifferboard isn&#039;t much larger than an SD card:</p><p>SD Card size comparison:<br /><a href="http://4736066909565596522-a-1802744773732722657-s-sites.googlegroups.com/site/bifferboard/Home/bootloader/snapshot1.png">http://4736066909565596522-a-1802744773 â€¦ pshot1.png</a></p><p>The IO board makes it slightly larger, but still far smaller than a router. Someone&#039;s already got it working with the Quickcam Pro 9000:&nbsp; <a href="http://www.sunspot.co.uk/Projects/Bifferboard/QuickcamPro9000.jpg">http://www.sunspot.co.uk/Projects/Biffe â€¦ ro9000.jpg</a>&nbsp; You can also pay a bit more and use an NSLU2 if you want two USB ports on-board, although the Bifferboard works well with most hubs.</p><p>The fact that Bifferboard works from 5v means you can use one of the cheap 12v-&gt;5v USB vehicle adapters <a href="http://www.sunspot.co.uk/Projects/Bifferboard/DC-DC_converter.html">http://www.sunspot.co.uk/Projects/Biffe â€¦ erter.html</a> giving you an easy way to power from the same batteries as the robot motor.</p><p>All for 44 Bucks (40 Bucks each if you want to buy five of &#039;em).</p><p>regards,<br />Biff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88483">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">zen</div>
					<div class="post-datetime">
						23 May 2009, 06:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>markosjal wrote:</cite><blockquote><p>I would be interested if you come up with a reasonable cost board. I would like to see something that has a USB device interface and an ethernet port. I want it to be programmable as a SMB or NFS client and intelligent enough to run a decent speed OS, and Memory (and maybe an SD card slot?)</p></blockquote></div><p>Have to agree with bifferos here: sounds like you just specced the Bifferboard :-) I just discovered it through this forum, this little devil could work for some of my projects ;-)</p><div class="quotebox"><cite>markosjal wrote:</cite><blockquote><p>I strongly disagree with you on the USB to ethernet performance. I have seen some that work VERY well. Of course the basic units such as The Pegasus II unit I have here is only USB 1.x , and it does suffer from some of what you mention.</p></blockquote></div><p>Mind recommending any usb 2.0=&gt;Ethernet models with some measured specs (self-latency/jitter, external latency/jitter, best if measured differentially)?<br />My experience is decent-to-good throughput (60-85% of theoretical max 12.5MB/s), but unfortunately avg. latency 10x higher and jitter 30x higher than vanilla 100M</p><div class="quotebox"><blockquote><p>I know this well, believbe me I have my reasons for knowing specifically about jitter and latency.</p></blockquote></div><p>all the more curious! I did work with real-time systems for entertainment, what&#039;s your angle?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88484">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">zen</div>
					<div class="post-datetime">
						23 May 2009, 06:05					</div>
				</div>
				<div class="post-content content">
					<p><strong>bifferos</strong><br />Could you post some Bifferboard OpenWRT benchmarks (or links if posted before), some suggestions:<br /> - openssl ( <a href="http://oldwiki.openwrt.org/OpenWrtDocs(2f)Benchmarks(2f)OpenSSL.html">http://oldwiki.openwrt.org/OpenWrtDocs( â€¦ enSSL.html</a> )<br /> - nbench ( <a href="http://forum.openwrt.org/viewtopic.php?id=5526">http://forum.openwrt.org/viewtopic.php?id=5526</a> )<br /> - time (i=0; while [ $i -lt 100000 ]; do let i=i+1; done)<br /> - ssh-keygen -N &quot;&quot; -t dsa; cd ~/.ssh/; cp -i id_dsa.pub authorized_keys; chmod 600 authorized_keys<br />&nbsp; &nbsp; &nbsp;(generate self-trusted ssh key, then ssh into itself with null shell command &quot;:&quot;)<br />&nbsp; &nbsp;time (i=0; while [ $i -lt 1000 ]; do let i=i+1; ssh 127.0.0.1 : ; done)<br /> - the series &quot;fping -p X -r 0 -c 10000 -q -s 127.0.0.1&quot;<br />&nbsp; &nbsp; &nbsp; where X=1,2,5,10,20,50,100,200,500,1000<br /> - same ping series with with -b 1460, -b 9000, -b 14600, -b 64000<br /> - same against a fast external box instead of 127.0.0.1, over a crossover cable</p><p>That would give us a nice data matrix!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>