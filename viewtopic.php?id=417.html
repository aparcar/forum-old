<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Shorewall on OpenWRT</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p1981">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						8 Sep 2004, 10:58					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been adapting Shorewall v2.0.8 to work on OpenWRT, with the hope of making it into a package.</p><p>Here&#039;s some issues I&#039;ve had with it so far:</p><p>It&#039;s very slow to initialise - v2 has all these &quot;action&quot; files that take a long time to process.&nbsp; Having shorewall start at boot time would make for a long boot.</p><p>The iptables compiled into the .bin file I used doesn&#039;t have the --set-tos option which Shorewall needs to do TOS stuff - you can get around this by simply deleting Shorewall&#039;s tos file.</p><p>Shorewall uses printf to write to the log file and the .bin I used doesn&#039;t have printf compiled into busybox.</p><p>Shorewall by default checks for the existance of the Logfile (usually /var/log/messages) and complains if it&#039;s not there.&nbsp; I changed it so instead of complaining it touches the file to create it.</p><p>There&#039;s no /etc/services in OpenWRT so all services have to be referred to by port number, not service name.&nbsp; I had to edit the tos file to reflect this. (Shortly before I deleted it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> )</p><p>I&#039;m not 100% sure shorewall is appropriate to use in OpenWRT, but I would like to find something that makes configuring the firewall a bit easier.&nbsp; We&#039;re not all netfilter gurus!&nbsp; Any suggestions?</p><p>I chose shorewall because it&#039;s very flexible.&nbsp; If we&#039;re going to start having lots of VLANS I think using iptables alone is going to be a bit of a mind-bender.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>