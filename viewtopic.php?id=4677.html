<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bandwidth management tool for openwrt (optional web-based frontend)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p22110">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">luciano</div>
					<div class="post-datetime">
						5 Mar 2006, 00:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi all, <br />I&#039;ve coded a GPL bandwidth management tool for linux. that requires no complex dependecies at all execpt for bash (or with some adaptations may run in smallest shells). It uses tc (htb classes) and iptables as backend. A simple bash based web cgi-bin is also avaiable (and it will be enhanced in this days) <br />It&#039;s called htb-gen, and is meant to set up/down portions of bandwith for each host or network, that goes trough the router/firewall. Prioritary traffic(web, mail, gaming, ftp, voip, streaming) is preferred over Junk traffic(kazaa, emule, etc).&nbsp; Also dynamic bandwith borrow and re-assignation is done betwen host thanks to htb boundaries.</p><p>A conf file may look like this<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;down&nbsp; &nbsp; down&nbsp; &nbsp; up&nbsp; &nbsp; &nbsp; up<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;min&nbsp; &nbsp; &nbsp;max&nbsp; &nbsp; &nbsp;min&nbsp; &nbsp; &nbsp;max<br />#ip&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(rate)&nbsp; (ceil)&nbsp; (rate)&nbsp; (ceil)<br />192.168.1.2&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;64&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;32<br />192.168.1.3&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;128&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;64<br />192.168.1.4&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;256&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;128<br />10.0.0.1/30&nbsp; &nbsp; &nbsp;256&nbsp; &nbsp; &nbsp;512&nbsp; &nbsp; &nbsp;128&nbsp; &nbsp; &nbsp;256<br />200.80.22.2&nbsp; &nbsp; &nbsp;256&nbsp; &nbsp; &nbsp;256&nbsp; &nbsp; &nbsp;256&nbsp; &nbsp; &nbsp;256</p><p>As you see<br /> -Is extremely easy to maintain a large amount of hosts/networks<br /> -ips from different networks are allowed(they have to pass FORWARD anyway)<br /> -newtork syntax is allowed, bw will be assigned to the network<br /> -fixed rate support, i can garantee some bw.<br /> -A 0(zero) in rate means that it will be automagickly calculated based on the <br />ceil weigth, and the unassigned bandwidth<br /> -there are a lot more of posibilties, see DOCS </p><p>I made all in bash, to be possible to put it in openwrt. But a packager (or package mantainer) is needed. Anyway, i guess that it is possible already use it, but to have a package&nbsp; will be great. </p><p>To take a deeply look and download the source go to <br /><a href="http://www.freshmeat.net/projects/htb-gen/">http://www.freshmeat.net/projects/htb-gen/</a></p><p>If someone whant to test it in a openwrt will be cool.<br />I guess that a tool like this will be very usefull in openwrt.</p><p>Regards!<br />--<br />Luciano</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22111">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						5 Mar 2006, 00:04					</div>
				</div>
				<div class="post-content content">
					<p>Nbd is working to integrate QoS configuration into webif for his scripts.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>