<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Hacking the DIR-615</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p68528">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jlsilicon</div>
					<div class="post-datetime">
						22 May 2008, 05:05					</div>
				</div>
				<div class="post-content content">
					<p>I have started testing the DIR-615 or DIR615.<br />(And thought it best to post this under Hardware Hacking)</p><p>I have found it very easy to explore and modify the router system.</p><p>It has a clearly labeled UART 4pin port &#039;CON5&#039; [1VCC,TX,RX,GND] (needs MAX232),<br />a second 20pin port &#039;CON4&#039; -probably JTAG,<br />and a full unpopulated PCI-bus port. </p><p>I tested the UART port.<br />It connects at 115200:8N1<br />It provides the bootup output, -and a full Serial Term using the Linux ASH Shell Script ! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I have used commands, including: ls, ps, free, echo, cat, gpio, ...etc.<br />The script commands seem to work fine.</p><p>... I think this means that I can develop on the box itself. if I can find or build a compiler !<br />- A lot easier than compiling the full Filesystem on the PC , then downloading to the router (and praying no bugs).</p><p>I posted the Output on this page :<br />&nbsp; <a href="http://jlc.iwarp.com/DIR615.html">http://jlc.iwarp.com/DIR615.html</a></p>											<p class="post-edited">(Last edited by <strong>jlsilicon</strong> on 22 May 2008, 05:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70240">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">kenjiru</div>
					<div class="post-datetime">
						29 Jun 2008, 19:51					</div>
				</div>
				<div class="post-content content">
					<p>Any update on this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73025">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tristanbobistan</div>
					<div class="post-datetime">
						5 Sep 2008, 05:28					</div>
				</div>
				<div class="post-content content">
					<p>yes please update! i&#039;m willing to brick my router for you &amp; return it to best buy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77179">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">macpaul</div>
					<div class="post-datetime">
						28 Nov 2008, 08:40					</div>
				</div>
				<div class="post-content content">
					<p>hello, anybody continued on this work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113492">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jlsilicon</div>
					<div class="post-datetime">
						20 Jul 2010, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>Hello !<br />Sorry, to be off for a while.</p><p>I had successfully created a few programs on the DIR615 -without any Downloading.<br />All I did was type the Code on the UART Port via Term.</p><p>I have updates on coding (and Hacking) on the DIR615.<br />(I had to digup my notes to place on my website)<br />- I didn&#039;t do this before because I didn&#039;t know anybody was interested !</p><p>* I have OpCodes ,<br />* I have directions on Coding ,<br />* I need to find my notes on the Linux Arm EXE files though (to embed the Codes into) .</p><p>Check my site for updates :<br />&nbsp; <a href="http://jlc.iwarp.com/DIR615.html">http://jlc.iwarp.com/DIR615.html</a></p><p>Send any questions to jlsilicon@yahoo.com</p><p>jlsilicon.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113493">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jlsilicon</div>
					<div class="post-datetime">
						20 Jul 2010, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>ps:</p><p>I had programs testing like :<br />- The Arm926-500 speed (100M copy took 5sec for example).<br />- Making the GPIO LEDs blinking.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113497">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jlsilicon</div>
					<div class="post-datetime">
						20 Jul 2010, 18:20					</div>
				</div>
				<div class="post-content content">
					<p>: Writing Programs/Code :</p><p>You can write ASM Command Programs by using the &#039;echo&#039; command as shown at the end of the Box above.&nbsp; </p><p>&nbsp; &nbsp;echo &quot;test&quot; &gt; /tmp/test </p><p>But, you need to use \Escape codes to enter the code as Hex.</p><p>&nbsp; &nbsp;echo &quot;\0101 prints an A&quot; </p><p>You also need to embed your code into an EXE Code Block.<br />I had dissassembled a number of Programs from /bin to find a standard format.<br />(I believe the first 512 bytes were Header Data and not Code.)</p><p>Seems complicated, but I was successful.&nbsp; <br />I just needed to dig up my notes and find it.</p><p>To Disassemble some EXE files, use the hexdump command :</p><p>&nbsp; /usr/bin/hexdump&nbsp; /bin/rm <br />-or- <br />&nbsp; /usr/bin/hexdump&nbsp; /bin/ps </p><p>Can somebody dump a bunch of these files onto the UART <br />-and post them or email them to me (I lost my boxes in moving) ?<br />Then I can explain more.</p><p> : Common OpCodes :</p><p>EA FF FF FE&nbsp; &nbsp;B (-2) <br />0A .. .. ..&nbsp; &nbsp; &nbsp; BEQ _ <br />1A .. .. ..&nbsp; &nbsp; &nbsp; BNE _ <br />8A .. .. ..&nbsp; &nbsp; &nbsp; BHI _&nbsp; <br />EB .. .. ..&nbsp; &nbsp; &nbsp; BL _ <br />E2 80 30 nn&nbsp; ADD R3,R0,#nn <br />E2 03 30 nn&nbsp; AND R3,R3,#nn <br />E2 4B B0 01&nbsp; SUB R11,R11,#1 <br />E3 50 00 nn&nbsp; CMP R0,#nn <br />E3 53 00 nn&nbsp; CMP R3,#nn <br />E3 A0 B0 DB LDR R11,#DB <br />E5 95 30 00&nbsp; LDR R3,[R5] <br />E5 D4 00 nn&nbsp; LDRB R0,[R4,#nn] <br />E5 87 00 00&nbsp; STR R0,[R7] <br />E1 50 00 01&nbsp; MOV R0,R0,#1 <br />E2 80 00 04&nbsp; ADD R0,R0,#4 <br />E3 83 30 0C&nbsp; ORR R3,R3,#0C&nbsp; <br />E1 A0 00 00&nbsp; NOP<br />E1 A0 F0 0E&nbsp; RET</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113498">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jlsilicon</div>
					<div class="post-datetime">
						20 Jul 2010, 18:23					</div>
				</div>
				<div class="post-content content">
					<p>Enjoy !</p><p>Also, check my site for updates :</p><p>&nbsp; <a href="http://jlc.iwarp.com/DIR615.html">http://jlc.iwarp.com/DIR615.html</a></p><p>Send any questions or comments to :</p><p>&nbsp; &nbsp; jlsilicon@yahoo.com</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>