<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT600NV11 - Serial Port</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 2 Apr 2018 and 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=15960&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p69385">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						10 Jun 2008, 05:24					</div>
				</div>
				<div class="post-content content">
					<p>I have a serial port working with my WRT600NV11. <br />I am putting together a walk-though for it and thought i would share the link here incase anyone was looking how to do it.<br />Please be nice its the 1st walk-though i have ever done its not complete but should be shortly and there is enough there now that if someone had done this before on another router they would be able to do it to this one. I hope this helps some Link below</p><p><a href="http://wiki.zeropain.com/index.php/WRT600NV11_Serial_Port">http://wiki.zeropain.com/index.php/WRT6 â€¦ erial_Port</a></p><br /><p>ZeroPain</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69405">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						10 Jun 2008, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>Zeropain, I believe I saw you on the dd-wrt forums. You don&#039;t have a working openwrt for the 600n do you?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69486">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						12 Jun 2008, 06:43					</div>
				</div>
				<div class="post-content content">
					<p>Zeropain, how is this coming? I&#039;m interested to know whether this might aid in the development of Openwrt for the wrt600n. I tried the dd-wrt version and realized that the same problem that drove me away from dd-wrt is still present... NO PPPOE SUPPORT!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69495">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						12 Jun 2008, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>I have openwrt running on my router. <br />I have for a week or so now. But i haven&#039;t fully tested it out wirelessly</p><p>I just finished a patch to kmod-diag tonight that allows control of the leds in the front of it. <br />Just finished building a package for the sc101-nbd package on it so now i can access my netgear crappy nas box&#039;s though it.<br />And have 4 Harddrives connected via usb. equaling 1.9TB will be 2.4 on Thursday or Friday.</p><p>Having the serial cable attached helped big time in being able to see and do what i needed.<br />Its a custom build i made from the dev trunk of kamikaze. Needless to say i have refreshed this thing so many times.<br />But now i have it switch over to the usb drive asap and pretty much completely unmount the flash don&#039;t really wanna cause more writing to it then i need to. One problem i keep having and can&#039;t seem to get around is its hard to make the thing reboot for me. <br />Its like 1 out of every 4-5 times it will actually restart from the restart command most the time it will just hang there.<br />No errors it says now rebuilding like linux always does and just sits there. I have tried it with or without usb plugged in i can&#039;t figure out the cause didn&#039;t have the problem at all with dd-wrt but honestly I&#039;m going for building my own little custom distro for this. </p><p>I haven&#039;t tried pppoe support i haven&#039;t needed it in a long time. Honestly i haven&#039;t even used much of the routing functions right now. More focused on seeing what all i can get it to do and what little hacking it will take for me to get it done. I&#039;m not a hardware programmer or guy at all mostly but I&#039;m trying actually kinda fun <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p>I have no doubt you can get it running on yours but honestly i don&#039;t know that i would try much with out a serial console. There hasn&#039;t been a point that i could just tftp back in dd-wrt or linksys any trailed firmware. But there were many times that the box was fine it just wasn&#039;t start the network probably and all i had to do was run /etc/init.d/network restart from the console and it came right up. </p><p>Tell me what features your looking to get out of it at first and i can try to do some testing for you. Just pppoe i don&#039;t know that i have anyway to test it. </p><p>Oh if anyone knows why because i can&#039;t figure it out. but the 2.6 kernel when it loads on my console goes right from the CFE to garbage on my screen then seems like it locks up but i can&#039;t really tell. I never see any thing from the kernel i thought i read somewhere someone had loaded the 2.6 kernel on the wrt350n but i can&#039;t remember where or anything. A lot of anything i have got working came from work people put into the 350n as the hardware is very close to each other.</p><p>I can try to put together a firmware but do you have a wrt600n v1.0 or v1.1 because to get the network working is different its a bit more of a pain on the v1.1. </p><p>ok well i&#039;m going to stop typing now for some reason i think i could just keep going forever he he</p>											<p class="post-edited">(Last edited by <strong>ZeroPain</strong> on 12 Jun 2008, 12:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69500">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						12 Jun 2008, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>Well you should definitely submit the patches to the devs! I&#039;m interested in both radios working with security, and some basic stuff like asterisk etc. Are you getting errors in particular places? </p><p>I can usually reboot pretty well using &quot;reboot&quot; for my wrt54gs.</p><p>Also, because you haven&#039;t finished your tutorial, are you using a maxim 233a circuit?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69506">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						12 Jun 2008, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>no there is a link on the top of that page to excatly what i&#039;m using its a usb to audio 3.5mm jack lets me put a nice plug on the back of all my equipment and use the same cable for each just unplug from one and plug in the other </p><p>Yeah it will be finished shortly had a crazy couple days and kinda got distracted with a couple other things i&#039;ll try to work on that today after i get some real work done. I have all the photo&#039;s just gotta finish putting them in order and the text</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69524">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						12 Jun 2008, 23:44					</div>
				</div>
				<div class="post-content content">
					<p>Okay, so it&#039;s a audio jack... with a voltage converter. I&#039;ll try with the 233a</p>											<p class="post-edited">(Last edited by <strong>napierzaza</strong> on 12 Jun 2008, 23:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69533">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						13 Jun 2008, 02:45					</div>
				</div>
				<div class="post-content content">
					<p>its a USB to TTL cable just uses the audio jack as a connect. </p><p>It should work just fine with any TTL device</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69536">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						13 Jun 2008, 03:27					</div>
				</div>
				<div class="post-content content">
					<p>Okay, so any hope of submitting the patches to the devs for a wrt600n release!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69541">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						13 Jun 2008, 07:43					</div>
				</div>
				<div class="post-content content">
					<p>I will be but i don&#039;t have any to submit right now. </p><p>The way i have it running on mine is a little bit custom. i did put in the one patch and as i&#039;m able to make my mine work using the stand startup config types i will be submitting more. I&#039;m still very much learning this stuff</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69565">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						13 Jun 2008, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>Do you mean you compiled it with changes, or flashed an existing image and changed around settings?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69567">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						13 Jun 2008, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>I did some of both right now my flash file is just the kernel with my usb drivers compiled in and boot option of root=/dev/sdb3 which is one of my usb drives. So all the files on are my usb makes its easy to recover something if i mess it up without having to over write my flash again and again. Had to get a little patch to the kernel to make it work. Because the usb devices don&#039;t get spun up and registered fast enough for the kernel to mount it as a root so it kept panicing on no root found. But with the patch instead of panicing it just waits for 1 seconds and trys again until it finds it. Its not a perminate solution for me but it works for my testing out a bunch of stuff and not having to fear so much about bricking it. because i&#039;m not messing with the flash at all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69571">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						13 Jun 2008, 22:38					</div>
				</div>
				<div class="post-content content">
					<p>Okay, well I hope to see something soon! I&#039;m still using my old WRT54G and my 600n is just sitting there waiting!</p><p>I appreciate the work you&#039;re doing! I wish I was useful as a programmer. One day maybe.</p>											<p class="post-edited">(Last edited by <strong>napierzaza</strong> on 13 Jun 2008, 22:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69572">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						13 Jun 2008, 22:48					</div>
				</div>
				<div class="post-content content">
					<p>ZeroPain: I know why your getting stuck on reboot.&nbsp; I have had the same problem with the wrt350n.&nbsp; I&#039;m going to submit some patches tonite or tomorrow for the 350n, but this is the one that fixes the reboot issue for me:</p><div class="codebox"><pre><code>diff -urN target.old/linux/brcm-2.4/files/arch/mips/bcm947xx/setup.c target/linux/brcm-2.4/files/arch/mips/bcm947xx/setup.c
--- target.old/linux/brcm-2.4/files/arch/mips/bcm947xx/setup.c    2008-06-03 12:44:50.000000000 -0400
+++ target/linux/brcm-2.4/files/arch/mips/bcm947xx/setup.c    2008-06-03 12:45:45.000000000 -0400
@@ -49,6 +49,7 @@
 #include &lt;osl.h&gt;
 #include &lt;sbutils.h&gt;
 #include &lt;bcmnvram.h&gt;
+#include &lt;bcmdevs.h&gt;
 #include &lt;sbhndmips.h&gt;
 #include &lt;hndmips.h&gt;
 #include &lt;trxhdr.h&gt;
@@ -89,9 +90,21 @@
 {
     printk(&quot;Please stand by while rebooting the system...\n&quot;);
 
+    if (sb_chip(sbh) == BCM4785_CHIP_ID)
+        MTC0(C0_BROADCOM, 4, (1 &lt;&lt; 22));
+
     /* Set the watchdog timer to reset immediately */
     __cli();
     sb_watchdog(sbh, 1);
+
+    if (sb_chip(sbh) == BCM4785_CHIP_ID) {
+        __asm__ __volatile__(
+            &quot;.set\tmips3\n\t&quot;
+            &quot;sync\n\t&quot;
+            &quot;wait\n\t&quot;
+            &quot;.set\tmips0&quot;);
+    }
+
     while (1);
 }</code></pre></div><p>By the way, have you got the switch working?&nbsp; I mean, do you have your lan (eth0.0) and wan (eth0.1) working?&nbsp; I was under the impression that wasn&#039;t quite working yet with 2.6.&nbsp; Would be interesting to look at if it is working...</p><p>EDIT: just realized my patch is only for 2.4, probably wont help you with 2.6...</p>											<p class="post-edited">(Last edited by <strong>netprince</strong> on 13 Jun 2008, 22:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p69581">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						14 Jun 2008, 03:04					</div>
				</div>
				<div class="post-content content">
					<p>Netprince:</p><p>I&#039;m only using 2.4 i can&#039;t get mine to load with 2.6 yet i&#039;m still working at it or at least trying to find out why i get nothing or garbage on the serial port when i try 2.6. For the wrt600n V1.1 you have to use vlan1 and vlan2 in stead of vlan0 and vlan1 soemthing to do with it not having a vlan0 somewhere. </p><br /><p>napieraza:<br />This is really the 1st time i been able to understand more of this level of coding i have always been more a PHP/SQL/Javascript/Bash some. And honestly mostly what i&#039;m doing is adataping other peoples work with little add on and proper variables for this router. I don&#039;t think i could even come close to writing. I pretty much just jump in and see what i can figure out or break i do that alot. :-P</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70153">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						27 Jun 2008, 17:28					</div>
				</div>
				<div class="post-content content">
					<p>Zeropain: any news on this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70634">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">dch24</div>
					<div class="post-datetime">
						8 Jul 2008, 07:26					</div>
				</div>
				<div class="post-content content">
					<p>napierzaza: work made me pick up a new router (replace the one I&#039;m moving to the office).</p><p>So I got a wrt600n. I will post back here as I make dev progress - the howto on the serial port will be a great place to get started.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70727">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">dch24</div>
					<div class="post-datetime">
						10 Jul 2008, 10:24					</div>
				</div>
				<div class="post-content content">
					<p>There is lots of info on the wrt600n available over at dd-wrt.com:<br /><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=24947">http://www.dd-wrt.com/phpBB2/viewtopic.php?t=24947</a></p><p>I loaded this dd-wrt image:<br />dd-wrt.v24-9774_NEWD_mega_wrt600n.bin</p><p>It&#039;s an unofficial build, but it installs cleanly and seems to handle the wired networking fine. Issues they are having:<br />* security issues: it seems ssh and https are enabled on WAN<br />* <strong>wl</strong>: doesn&#039;t handle dual wifi well: can&#039;t turn off radios. I haven&#039;t tested wifi at all (I&#039;m using wired).<br />* some people reported wep is broken. I haven&#039;t tested it.<br />* reset button: GUI says it can be disabled. I haven&#039;t tested it.<br />* LED issues: power LED blinks, USB led doesn&#039;t blink</p><p>I need to hook up the serial console. That will be a good place to start.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70893">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">dch24</div>
					<div class="post-datetime">
						14 Jul 2008, 22:24					</div>
				</div>
				<div class="post-content content">
					<p>I found why ssh was enabled on the WAN (the public IP). dd-wrt uses dropbear and they specify the port on the command line sort of like this: dropbear -p22</p><p>If instead the command line were like this: dropbear -p192.168.0.1:22 then dropbear binds to a specific IP address. (Note: use the right IP address for your internal network.) Tested that and now it&#039;s not listening on the WAN anymore.</p><p>But https (the web admin) is still listening on the wan. I need to work on that.</p>											<p class="post-edited">(Last edited by <strong>dch24</strong> on 14 Jul 2008, 22:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71021">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						17 Jul 2008, 12:37					</div>
				</div>
				<div class="post-content content">
					<p>I finally finished or at least mostly finish the basic&#039;s of that walk though sorry for leaving it semi half way done there for awail. Real world issues got in the way of things.</p><p>Last i checked the wired connections are working rather well in the latest svn i have to rebuild a little more recent one to double check this. The wireless using mimo works but my kernel seems to crash when i play around with it. at least if i configure both cards and try to enable encrypting. Although i only seem to get 54Mbs connection i may have gotten a 130Mbs connection once but i can&#039;t remember for sure. </p><p>I will try to rebuild one and report a more throw status report on different features and hardware and post it somewhere. Probably my wiki but i can repost it anywhere that would be helpful to this project as i love what you guys are doing keep up the great work</p><p>*Quick Edit*</p><p>I have been using teh 2.4 kernel as the 2.6 kernel doesn&#039;t map out the flash right or something. I have no idea how to fix it and kinda scares me to tried don&#039;t wanna missconfigure and overwrite my bootloader or something. I don&#039;t know if that could happen or not. But until i hear otherwise i figured i should play it on the safe side and just leave it again for now.</p><p>Is there somewhere that would show me how to remove the driver from my linksys frimware and intergrate it into this firmware. As my wireless is working both cards and mimo in that firmware and it is also 2.4 kernel. I only ask because i figure if there is a place i can at least get the basic info on how to do it would be a good place for me to start and maybe i can be more helpful then just figuring out the GPIO&#039;s for the leds. Which i just noticed my patch was applied for that <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> made me super happy as it was my 1st patch to any open source project like this <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>ZeroPain</p>											<p class="post-edited">(Last edited by <strong>ZeroPain</strong> on 17 Jul 2008, 13:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71049">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						18 Jul 2008, 03:43					</div>
				</div>
				<div class="post-content content">
					<p>I was actually interested in ddwrt after 5 years because of its wrt600n support. However, once I realized that its pppoe is STILL not working after 5 YEARS I dropped it immediately.</p><p>It&#039;s really nice to hear about the progress zeropain, I am really hoping your mods are making their way to the devs. I think you might be able to ask about the flash mapping thing in the developer forum.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71215">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">dch24</div>
					<div class="post-datetime">
						21 Jul 2008, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>I only use dd-wrt because I&#039;m lazy, and wanted to get something to replace the firmware. Once I&#039;ve soldered in the serial console, it&#039;s time to get in business with OpenWRT!</p><p>Reasons OpenWRT is awesome:<br />- fully open source<br />- more flexible when you want to customize it<br />- I&#039;d like to contribute to current projects</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71606">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">dch24</div>
					<div class="post-datetime">
						1 Aug 2008, 03:07					</div>
				</div>
				<div class="post-content content">
					<p>OK, I&#039;ve got the serial console up. This is my current output (the first lines are the most interesting... the last lines are just dd-wrt errors)</p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)
Build Date: Fri Jan 18 15:59:34 CST 2008 (joseph@localhost)
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.

Initializing Arena
Initializing PCI. [normal]
PCI bus 0 slot 0/0: vendor 0x14e4 product 0x0800 (flash memory, rev 0x02)
PCI bus 0 slot 1/0: vendor 0x14e4 product 0x471f (ethernet network, rev 0x02)
PCI bus 0 slot 2/0: vendor 0x14e4 product 0x471a (USB serial bus, interface 0x10
, rev 0x02)
PCI bus 0 slot 2/1: vendor 0x14e4 product 0x471a (USB serial bus, interface 0x20
, rev 0x02)
PCI bus 0 slot 3/0: vendor 0x14e4 product 0x471b (USB serial bus, rev 0x02)
PCI bus 0 slot 4/0: vendor 0x14e4 product 0x0804 (PCI bridge, rev 0x02)
PCI bus 0 slot 5/0: vendor 0x14e4 product 0x0816 (MIPS processor, rev 0x02)
PCI bus 0 slot 6/0: vendor 0x14e4 product 0x471d (IDE mass storage, rev 0x02)
PCI bus 0 slot 7/0: vendor 0x14e4 product 0x4718 (network/computing crypto, rev
0x02)
PCI bus 0 slot 8/0: vendor 0x14e4 product 0x080f (RAM memory, rev 0x02)
PCI bus 0 slot 9/0: vendor 0x14e4 product 0x471e (class 0xfe, subclass 0x00, rev
 0x02)
Initializing Devices.
Boot partition size = 262144(0x40000)
PCI bus 0 slot 1/0: pci_map_mem: attempt to map 64-bit region tag=0x800 @ addr=1
8010004
PCI bus 0 slot 1/0: pci_map_mem: addr=0x18010004 pa=0x18010000
ge0: BCM5750 Ethernet at 0x18010000
CPU type 0x2901A: 300MHz
Total memory: 32768 KBytes

Total memory used by CFE:  0x80300000 - 0x804066F0 (1074928)
Initialized Data:          0x80337C80 - 0x8033AC10 (12176)
BSS Area:                  0x8033AC10 - 0x8033C6F0 (6880)
Local Heap:                0x8033C6F0 - 0x804046F0 (819200)
Stack Area:                0x804046F0 - 0x804066F0 (8192)
Text (code) segment:       0x80300000 - 0x80337C80 (228480)
Boot area (physical):      0x00407000 - 0x00447000
Relocation Factor:         I:00000000 - D:00000000

eth0: Link speed: 1000BaseT FDX
Device eth0:  hwaddr 00-90-4C-A6-00-01, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Loader:raw Filesys:tftp Dev:eth0 File:: Options:(null)
Loading: Failed.
Could not load :: Timeout occured
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: .. 3732 bytes read
Entry at 0x80001000
Closing network.
eth0: cannot clear 1400/00000002
Starting program at 0x80001000
CPU revision is: 0002901a
Linux version 2.4.36 (eko@dd-wrt) (gcc version 3.4.6 (OpenWrt-2.0)) #674 Fri Jun
 20 11:24:42 CEST 2008
Setting the PFC to its default value
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
On node 0 totalpages: 8192
zone(0): 8192 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd cons
ole=ttyS0,115200
CPU: BCM4785 rev 2 at 300 MHz
Using 150.000 MHz high precision timer.
Calibrating delay loop... 299.82 BogoMIPS
Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)
Inode cache hash table entries: 2048 (order: 2, 16384 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 8192 (order: 3, 32768 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
POSIX conformance testing by UNIFIX
PCI: Ignoring BAR0-1 of IDE controller 00:06.0
PCI: Fixing up bus 0
PCI: Fixing up bridge
PCI: Fixing up bus 1
Initializing RT netlink socket
Starting kswapd
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
pty: 256 Unix98 ptys configured
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI en
abled
ttyS00 at 0xb8000300 (irq = 2) is a 16550A
ttyS01 at 0xb8000400 (irq = 2) is a 16550A
Broadcom Watchdog Timer: 0.05, timer margin: 30 sec
PCI: Enabling device 01:01.0 (0004 -&gt; 0006)
PCI: Enabling device 01:02.0 (0004 -&gt; 0006)
Universal TUN/TAP device driver 1.5 (C)1999-2002 Maxim Krasnyansky
 Amd/Fujitsu Extended Query Table v0.0 at 0x0040
Physically mapped flash: JEDEC Device ID is 0xE2. Assuming broken CFI table.
Physically mapped flash: Swapping erase regions for broken CFI table.
number of CFI chips: 1
cfi_cmdset_0002: Disabling fast programming due to code brokenness.
Flash device: 0x800000 at 0x1c000000
bootloader size: 262144
Physically mapped flash: Filesystem type: squashfs, size=0x437e98
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:
0x00000000-0x00040000 : &quot;cfe&quot;
0x00040000-0x007f0000 : &quot;linux&quot;
0x00121800-0x00560000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-o
nly
0x007f0000-0x00800000 : &quot;nvram&quot;
0x00560000-0x007f0000 : &quot;ddwrt&quot;
sflash not supported on this router
Initializing Cryptographic API
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 2048 bind 4096)
ip_conntrack version 2.1 (512 buckets, 4096 max) - 336 bytes per conntrack
ip_tables: (C) 2000-2002 Netfilter core team
ipt_random match loaded
netfilter PSD loaded - (c) astaro AG
ipt_osf: Startng OS fingerprint matching module.
ipt_IPV4OPTSSTRIP loaded
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Mounted devfs on /dev
Booting device: Linksys WRT600N v1.1
bcm_robo_attach: Resetting 539x robo switch
VID 0 is set in nvram, Ignoring
dd-wrt already booted, use internal fixup
configure vlan1 (1 2 3 4 8*) instead of vlan0 for BCM5395
sh: cannot create /proc/switch/eth0/reset: nonexistent directory
sh: cannot create /proc/switch/eth1/reset: nonexistent directory
sh: cannot create /proc/switch/eth0/vlan/0/ports: nonexistent directory
sh: cannot create /proc/switch/eth0/vlan/0/ports: nonexistent directory
sh: cannot create /proc/switch/eth0/vlan/1/ports: nonexistent directory
sh: cannot create /proc/switch/eth0/vlan/1/ports: nonexistent directory
sh: cannot create /proc/switch/eth0/vlan/2/ports: nonexistent directory
sh: cannot create /proc/switch/eth0/vlan/2/ports: nonexistent directory
nvram_commit(): end
br0: Bad file descriptor
br0: Bad file descriptor
eth0: Operation not supported
wl0.1: No such device
wl0.2: No such device
wl0.3: No such device
channel 6, val 20
800, 300, 6
spec 2B06
eth0: Operation not supported
eth0: Invalid argument
eth0: Invalid argument
eth0: Operation not supported
eth0: Operation not supported
br0: Bad file descriptor
eth1: Operation not supported
wl1.1: No such device
wl1.2: No such device
wl1.3: No such device
eth1: Invalid argument
eth1: Invalid argument
eth1: Operation not supported
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
eth1: Invalid argument
txpwr1  Set tx power in in various units. Choose one of (default: dbm):
        -d dbm units
        -q quarter dbm units
        -m milliwatt units
Can be combined with:
        -o turn on override to disable regulatory and other limitations
Use wl txpwr -1 to restore defaults


eth1: Operation not supported
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
SIOCGIFFLAGS: No such device
vlan2: Setting MAC address to  00 1e e5 9e 12 1c.
/tmp/smbshare
The Milkfish Router Services
ERROR: Necessary service setting not found: milkfish_username - aborting.
The Milkfish Router Services
Restoring SIP ddsubscriber database from NVRAM...
Empty.
The Milkfish Router Services
Restoring SIP ddaliases database from NVRAM...
Empty.</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71612">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">dch24</div>
					<div class="post-datetime">
						1 Aug 2008, 08:03					</div>
				</div>
				<div class="post-content content">
					<p>ZeroPain, I thought I would write here some more that I learned, from following your wiki.</p><p>On my box the plastic cover touching the heatsink is attached to the heatsink in 4 places by posts of plastic that have been melted to lock it in place. I pried them off with a screwdriver, and though it scratched the heatsink a little the plastic came off fine. I didn&#039;t want to separate the heatsink from the chips it was bonded to. <strong>Edit:</strong> that wasn&#039;t perfectly clear -- I snapped off the four plastic posts but the plastic cover still fits into place fine, but I have definitely voided my warranty <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>The 5V supply (for attaching a TTL to RS232 level converter) is next to the USB port. I was able to solder a wire onto one of the capacitors that is part of the 5V DC-DC converter, and run it to my serial port.</p><p>My box is running CFE version 1.0.37 for BCM947XX.</p>											<p class="post-edited">(Last edited by <strong>dch24</strong> on 1 Aug 2008, 08:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71622">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">ZeroPain</div>
					<div class="post-datetime">
						1 Aug 2008, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>Yeah i get the same results from my serial console with dd-wrt i&#039;m expairmenting with getting the 2.6 kernel working without having to use a usb for my root filesystem. <br />I keep getting stuck at mapping the flash device when the kernel loads up. </p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)
Build Date: Fri Jan 18 15:59:34 CST 2008 (joseph@localhost)
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.

Initializing Arena
Initializing PCI. [normal]
PCI bus 0 slot 0/0: vendor 0x14e4 product 0x0800 (flash memory, rev 0x02)
PCI bus 0 slot 1/0: vendor 0x14e4 product 0x471f (ethernet network, rev 0x02)
PCI bus 0 slot 2/0: vendor 0x14e4 product 0x471a (USB serial bus, interface 0x10, rev 0x02)
PCI bus 0 slot 2/1: vendor 0x14e4 product 0x471a (USB serial bus, interface 0x20, rev 0x02)
PCI bus 0 slot 3/0: vendor 0x14e4 product 0x471b (USB serial bus, rev 0x02)
PCI bus 0 slot 4/0: vendor 0x14e4 product 0x0804 (PCI bridge, rev 0x02)
PCI bus 0 slot 5/0: vendor 0x14e4 product 0x0816 (MIPS processor, rev 0x02)
PCI bus 0 slot 6/0: vendor 0x14e4 product 0x471d (IDE mass storage, rev 0x02)
PCI bus 0 slot 7/0: vendor 0x14e4 product 0x4718 (network/computing crypto, rev 0x02)
PCI bus 0 slot 8/0: vendor 0x14e4 product 0x080f (RAM memory, rev 0x02)
PCI bus 0 slot 9/0: vendor 0x14e4 product 0x471e (class 0xfe, subclass 0x00, rev 0x02)
Initializing Devices.
Boot partition size = 262144(0x40000)
PCI bus 0 slot 1/0: pci_map_mem: attempt to map 64-bit region tag=0x800 @ addr=18010004
PCI bus 0 slot 1/0: pci_map_mem: addr=0x18010004 pa=0x18010000
ge0: BCM5750 Ethernet at 0x18010000
CPU type 0x2901A: 300MHz
Total memory: 32768 KBytes

Total memory used by CFE:  0x80300000 - 0x804066F0 (1074928)
Initialized Data:          0x80337C80 - 0x8033AC10 (12176)
BSS Area:                  0x8033AC10 - 0x8033C6F0 (6880)
Local Heap:                0x8033C6F0 - 0x804046F0 (819200)
Stack Area:                0x804046F0 - 0x804066F0 (8192)
Text (code) segment:       0x80300000 - 0x80337C80 (228480)
Boot area (physical):      0x00407000 - 0x00447000
Relocation Factor:         I:00000000 - D:00000000

eth0: Link speed: 1000BaseT FDX
Device eth0:  hwaddr 00-90-4C-A6-00-01, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Loader:raw Filesys:tftp Dev:eth0 File:: Options:(null)
Loading: Failed.
Could not load :: Timeout occured
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: .. 3768 bytes read
Entry at 0x80001000
Closing network.
eth0: cannot clear 1400/00000002
Starting program at 0x80001000
Linux version 2.6.25.12 (zeropain@anubis) (gcc version 4.1.2) #1 Fri Aug 1 06:25:47 EDT 2008
console [early0] enabled
CPU revision is: 0002901a (Broadcom BCM3302)
ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x0F, vendor 0x4243)
ssb: Core 1 found: GBit Ethernet (cc 0x81F, rev 0x00, vendor 0x4243)
ssb: Core 2 found: USB 2.0 Host (cc 0x819, rev 0x00, vendor 0x4243)
ssb: Core 3 found: USB 2.0 Device (cc 0x81A, rev 0x02, vendor 0x4243)
ssb: Core 4 found: PCI (cc 0x804, rev 0x0B, vendor 0x4243)
ssb: Core 5 found: MIPS 3302 (cc 0x816, rev 0x07, vendor 0x4243)
ssb: Core 6 found: PATA (cc 0x81D, rev 0x00, vendor 0x4243)
ssb: Core 7 found: IPSEC (cc 0x80B, rev 0x03, vendor 0x4243)
ssb: Core 8 found: MEMC SDRAM (cc 0x80F, rev 0x03, vendor 0x4243)
ssb: Core 9 found: SATA XOR-DMA (cc 0x81E, rev 0x00, vendor 0x4243)
ssb: Initializing MIPS core...
ssb: set_irq: core 0x081f, irq 3 =&gt; 2
ssb: set_irq: core 0x0819, irq 1 =&gt; 3
ssb: set_irq: core 0x0804, irq 4 =&gt; 4
ssb: Sonics Silicon Backplane found at address 0x18000000
Serial init done.
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal          0 -&gt;     8192
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 -&gt;     8192
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
Primary instruction cache 32kB, VIPT, 4-way, linesize 16 bytes.
Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes
Synthesized clear page handler (26 instructions).
Synthesized copy page handler (46 instructions).
PID hash table entries: 128 (order: 7, 512 bytes)
console handover: boot [early0] -&gt; real [ttyS0]
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29712k/32768k available (2156k kernel code, 3056k reserved, 329k data, 136k init, 0k highmem)
Mount-cache hash table entries: 512
net_namespace: 540 bytes
NET: Registered protocol family 16
ssb: PCIcore in host mode found
Registering a PCI bus after boot
PCI: Fixing up bridge 0000:00:00.0
PCI: Fixing up device 0000:00:00.0
PCI: Fixing latency timer of device 0000:00:00.0 to 168
PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)
PCI: Fixing up device 0000:00:01.0
ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x12, vendor 0x4243)
ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x0B, vendor 0x4243)
ssb: Core 2 found: PCI-E (cc 0x820, rev 0x02, vendor 0x4243)
ssb: Core 3 found: PCI (cc 0x804, rev 0x0D, vendor 0x4243)
ssb: Core 4 found: USB 1.1 Host (cc 0x817, rev 0x04, vendor 0x4243)
ssb: Sonics Silicon Backplane found on PCI device 0000:00:01.0
Registering a PCI bus after boot
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
detected lzma initramfs
initramfs: LZMA lc=1,lp=2,pb=2,origSize=512
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)   2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing enabled
serial8250: ttyS0 at MMIO 0x0 (irq = 2) is a 16550A
serial8250: ttyS1 at MMIO 0x0 (irq = 2) is a 16550A
serial8250 serial8250.0: unable to register port at index 0 (IO0 MEMb8000300 IRQ2): -28
serial8250 serial8250.0: unable to register port at index 1 (IO0 MEMb8000400 IRQ2): -28
flash init: 0x1c000000 0x02000000
Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
  Unknown Amd/Fujitsu Extended Query version 0.0.
gen_probe: No supported Vendor Command Set found
Failed to do_map_probe
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Cannot open root device &quot;mtdblock2&quot; or unknown-block(0,0)
Please append a correct &quot;root=&quot; boot option; here are the available partitions:
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div><p>I didn&#039;t have a need for a V5 as my converting is usb to tty it pulls power from the usb line </p><p>I have been reading though the wiki and documention trying to figure out what and how i need to patch it but this is very new to me so got a big learning curve.<br />Hopefully someone here will be able to give me a pointer or two. Or i&#039;ll figure it out at some point <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I will keep you posted and i&#039;ll probably post it on my wiki too</p>											<p class="post-edited">(Last edited by <strong>ZeroPain</strong> on 1 Aug 2008, 15:34)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=15960&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>