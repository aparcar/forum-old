<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Siemens SX551</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 14 Apr 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=33600&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=33600&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=33600&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p164492">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">Lekensteyn</div>
					<div class="post-datetime">
						14 Apr 2012, 17:44					</div>
				</div>
				<div class="post-content content">
					<p>F. I now see what I was doing wrong &gt;.&lt; I removed /init as I assumed that the kenrel will then boot /bin/sh... not. I&#039;ll make a symlink from /sbin/init to busybox and try again. passing rdinit=/bin/busybox booted at least, but then busybox passed away with a usage message.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165371">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						21 Apr 2012, 21:33					</div>
				</div>
				<div class="post-content content">
					<p>Now I have a system running with kexec support in the kernel, which can mount an NFS share with a more extensive rootfs. But when I try to load a more extensive kernel using kexec-tools, I get</p><div class="codebox"><pre><code>root@OpenWrt:/boot# kexec -l vmlinux.elf 
Could not find a free area of memory of 1000 bytes...
locate_hole failed
root@OpenWrt:/boot#</code></pre></div><p>Sigh.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165375">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">Lekensteyn</div>
					<div class="post-datetime">
						21 Apr 2012, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve just updated my site with firmware resulting from my succesful attempts. I can now SSH into it and send a wake on lan packet to a PC (yay!).<br />The notes.txt file has also been updated with my attempts to turn other LEDS on from userspace writing to GPIOs.</p><p>As usual, the files can be found on <a href="http://lekensteyn.nl/files/sx551/">http://lekensteyn.nl/files/sx551/</a></p><p>Perhaps <a href="http://wiki.openwrt.org/doc/howto/kexec">http://wiki.openwrt.org/doc/howto/kexec</a> helps you?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165699">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						24 Apr 2012, 22:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Perhaps <a href="http://wiki.openwrt.org/doc/howto/kexec">http://wiki.openwrt.org/doc/howto/kexec</a> helps you?</p></blockquote></div><p>Unfortunately not. I&#039;ve parked it for the moment.</p><p>Now I&#039;m trying to get vlynq running. I found that the kernel log is not complete, the line</p><div class="codebox"><pre><code>[    1.080000] vlynq0: regs 0x08611800, irq 29, mem 0x04000000</code></pre></div><p>should be followed by a</p><div class="codebox"><pre><code>Found a VLYNQ device: %08x</code></pre></div><p>(I *think* this is the connected device, and because for each vlynq port/bus only one such a line can be printed, I suppose a vlynq channel can connect only one device. Maybe that&#039;s the reason why a vlynq2pci bridge is used. This box has a wifi card, usb and some voip chip. But only 2 vlynq channels.<br />Anyway, no device is found.<br />By adding printk&#039;s I&#039;ve found that the detection of the clock in __vlynq_enable_device() in drivers/vlynq/vlynq.c fails. The divisor member of the vlynq_device struct is set to vlynq_div_auto. AFAICS all possibilities are probed, and all fail. I believe this means that no remote device is found to negotiate to.</p><p>Looking in the firmware bootlog: <br /></p><div class="codebox"><pre><code>In C_Entry() function ...
install_exception 
sys_irq_init() ...
Set GPIO
Reset USB, PCI and VP140 module ...
vpReset(0)
vpReset(1)
PciPortal.start 40000000
vlynq_config_init: HW Reset Bypass!
inside reset callbackreset assert
inside reset callbackreset deassert
inside reset callbackLink Estab
inside reset callbackinit ok
Checking for Vlynq Link...
VLYNQ0 @ base 0xa8611800 is properly enumerated.</code></pre></div><p>The firmware is obviously doing something with USB, PCI and VP140 (a <a href="http://ir.dspg.com/phoenix.zhtml?c=101665&amp;p=irol-newsArticle_print&amp;ID=381831">voice pump</a>), while the vlynq is not yet touched. So this must be via gpio, I suppose. There is nothing else. Any suggestion which gpio&#039;s to use, and how? I saw you have been busy with led mapping. Maybe it&#039;s possible to let all gpio&#039;s pulsate, and measure on the pins of the vlynq2pci chip to see if the signal can be found, and then try the gpio&#039;s one by one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165700">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">Lekensteyn</div>
					<div class="post-datetime">
						24 Apr 2012, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>My GPIO experiments were not really thoughtful, it was trial and error. Since I realized that just writing random stuff to GPIOs may break the board, I&#039;ve stopped doing so. Perhaps the labels near the lines on the board can give more useful hints on the GPIOs to use?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182063">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">vpritiskovic</div>
					<div class="post-datetime">
						1 Nov 2012, 02:28					</div>
				</div>
				<div class="post-content content">
					<p>@Lekensteyn</p><p>Is there a build to test with SE555?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182072">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">Lepak</div>
					<div class="post-datetime">
						1 Nov 2012, 04:07					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d like that too.. even basic stuff .. just wifi and lan...<br /><a href="http://linux.jezgra.net/2012/01/se555-hack/">http://linux.jezgra.net/2012/01/se555-hack/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182086">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						1 Nov 2012, 11:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Lepak wrote:</cite><blockquote><p>I&#039;d like that too.. even basic stuff .. just wifi</p></blockquote></div><p>I&#039;m afraid wifi is not basic on this box. Wifi, USB and voip hardware are connected to the PCI bus, and PCI is provided by a VLYNQtoPCI bridge. Unfortunately this chip isn&#039;t detected on boot, so I think it has to be reset/powered by some gpio line(s). I haven&#039;t succeeded in doing so.<br />And even if the bridge is detected, there is still a lack of drivers. Actually I have not found any documentation about that chip. When you Google for VLYNQ2PCI you&#039;ll find TI documentation stating that a VLYNQ2PCI bridge could be connected to their VLYNQ capable SoC&#039;s, and hardware descriptions of the SX551 and family listing the chip. <br />No documentation, no sources. I have given up. Without PCI this box is just not worth the trouble. No wifi, no USB, very little flash. The only way to get something decent on this box would be using an NFS rootfs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182126">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">vpritiskovic</div>
					<div class="post-datetime">
						1 Nov 2012, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>@Mijzelf please don&#039;t give up - according to this <a href="http://www.linux-mips.org/wiki/AR7">page</a> the ar7 target is supported and I have one DSL-G684T running Openwrt and all is working normal. I think you are very close to run this SX551&amp;SE555 because both are ar7 platform too... If you need any bootlog or config from the openwrt@DSL-G684T I can send...</p><p>Here is the link to another post of mine with some gpios extracted from <br />another ar7 device:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=118934#p118934">https://forum.openwrt.org/viewtopic.php … 34#p118934</a></p><p>Can you use this?</p><p>Regards.</p>											<p class="post-edited">(Last edited by <strong>vpritiskovic</strong> on 1 Nov 2012, 19:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182170">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						2 Nov 2012, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>AR7 isn&#039;t the problem. The box boots fine into Linux. Serial line works, wired network works, GPIO works (as in, you can switch on and off the leds).<br />I suppose DSL should also work, though I haven&#039;t tried.</p><p>I looked at the code you PM&#039;ed me, this is the driver of the VLYNQ interface of the AR7. Similar code is already implemented in the OpenWRT AR7 kernel, where it is used for VLYNQ connected voip and Wifi. I suppose you triggered on the &quot;vlynq2pci&quot; string inside. Unfortunately this is just a recognition of the connected chip (The AR7 has two VLYNQ interfaces, and each interface can connect only one chip). The problem is the interface doesn&#039;t detect any connected chips, also no &#039;unrecognized ones&#039;. So the VLYNQ2PCI chip has to be made detectable, and the only possible interfaces for that are gpio and serial, or maybe memory map. But without documentation it&#039;s shooting in the dark. I tried some gpio lines, but it didn&#039;t come up. A possibility could be to connect a logic analyzer to the pins of the chip, and run the stock firmware, to see what kind of signals come in, in relation to the serial bootlog. But I don&#039;t have that hardware. And even if I could switch on the chip, we still don&#039;t have a driver.</p><p>Without VLYNQ2PCI there is no USB, and without USB there is no room for something meaningful. The box has only 2MiB flash, from which only 1479 KiB is available as contiguous block. That 1479 KiB is enough for a stripped down kernel, and a simple initramfs. The binary needed to be able to mount an NFS share fits, but that&#039;s it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261097">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">arturp</div>
					<div class="post-datetime">
						12 Jan 2015, 16:36					</div>
				</div>
				<div class="post-content content">
					<p>so looks like there&#039;s no way to get OpenWrt on Siemens SX551 ?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=33600&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=33600&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=33600&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>