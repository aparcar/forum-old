<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [HowTo] TP-LINK WR841ND V7.2 Unbricked and Original Firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=33906&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p153132">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">freddyarenas</div>
					<div class="post-datetime">
						5 Jan 2012, 02:36					</div>
				</div>
				<div class="post-content content">
					<p>Hello great community thanks for that great website wiki and happy new year for all!</p><p>That is happened to my router:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=33681">https://forum.openwrt.org/viewtopic.php?id=33681</a></p><p>today i going to share my own experience how i unbricked TP-Link WR841ND v7.2 router</p><p>Tools need it:</p><p>- Serial TTL cable. I bought Nokia DKU-5 Cable</p><p>you can find it cheap in ebay:</p><p><a href="http://www.ebay.com/sch/i.html?_nkw=dku-5&amp;rt=nc&amp;LH_BIN=1&amp;_dmpt=PDA_Accessories&amp;_trksid=p3286.c0.m301">http://www.ebay.com/sch/i.html?_nkw=dku … 86.c0.m301</a></p><p>I saw for 4.60$ with FREE SHIPPING</p><p>- Nokia DKU-5 Driver for windows vista, windows 7 (32 &amp; 64 bits) <br />I uploaded for all you, i got couple of hours trying to find it.. i registered to another site to get the installer.</p><p><a href="http://adf.ly/1269652/mediafire">http://adf.ly/1269652/mediafire</a> (UPDATED LINK) 2012/08/16</p><p>- Putty to get serial connection</p><p><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgta … nload.html</a></p><p>- TP-Link WR841ND v7 Openwrt Trunk Image</p><p><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a></p><p>- TFTP server:</p><p><a href="http://tftpd32.jounin.net/tftpd32_download.html">http://tftpd32.jounin.net/tftpd32_download.html</a></p><p>they have 32 &amp; 64 bits program ( I used 64 bits because I have windows 7 64 bits)</p><p>OK we are ready to start to unbrick our router:</p><br /><p>1. Get your serial ttl cable, example: Nokia DKU-5, install driver in your computer and cut your cable and splitt all wires.</p><p>check image: </p><p><span class="postimg"><img src="http://wiki.openwrt.org/_media/toh/tp-link/tl-wr841nd.v7.2.serial.jpg" alt="http://wiki.openwrt.org/_media/toh/tp-link/tl-wr841nd.v7.2.serial.jpg" /></span></p><p>GND = White<br />TX = BLUE<br />RX = RED</p><p>VCC is ignored </p><p>all other wires is NOT NEED IT</p><p>Sold or get all wire colors have contact with the holes. (I&#039;m a bad solder, so i get my girlfriend help me to make wires contact with the holes lol!! <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> ) </p><p>Power on the router and open putty.</p><p>Serial connection is 115200 8N1 into serial connection you get something like this:</p><div class="codebox"><pre><code>AP93 (ar7240) U-boot
DRAM:  
sri
#### TAP VALUE 1 = 9, 2 = 9
32 MB
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7014
eth0: 00:03:7f:09:0b:ad
eth0 up
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Autobooting in 1 seconds</code></pre></div><p>now Type &quot;tpl&quot; (without the quotes) to get to the Uboot console prompt.</p><p>2. Open your TFTP server and put &quot;openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-factory.bin&quot; image into your server current directory and rename it if you want: I renamed to openwrt.bin.</p><p>Hook your computer into the switch port and configure the IP for example: 192.168.1.2 </p><p>Now we need to set router and server IP addresses (here named ROUTERIP and SERVERIP, substitute these with the real IP addresses). </p><p>Type in the console:</p><div class="codebox"><pre><code>setenv ipaddr ROUTERIP
setenv serverip SERVERIP
printenv</code></pre></div><p>example:</p><div class="codebox"><pre><code>setenv ipaddr 192.168.1.1
setenv serverip 192.168.1.2
printenv</code></pre></div><p>3. Double check that the output of printenv lists the IP addresses you just set. Now we can load the firmware over TFTP with &quot;tftpboot 0x80000000 openwrt.bin&quot;:</p><div class="codebox"><pre><code>ar7240&gt; tftpboot 0x80000000 openwrt.bin
Using eth0 device
TFTP from server 192.168.1.2; our IP address is 192.168.1.1
Filename &#039;openwrt.bin&#039;.
Load address: 0x80000000
Loading: checksum bad
#################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######################################################
done
Bytes transferred = 3932160 (3c0000 hex)</code></pre></div><p>- Note the &quot;3c0000&quot; in the last line (your number may differ). Now execute the following commands, if necessary replacing 3c0000 with the number you got from tftpboot:</p><p>4. Type this commands (you are almost done):</p><div class="codebox"><pre><code>ar7240&gt; erase 0x9f020000 +0x3c0000
...
ar7240&gt; cp.b 0x80000000 0x9f020000 0x3c0000
ar7240&gt; bootm 0x9f020000</code></pre></div><p>5. Walaaaa! your router is alive again and have openwrt!!</p><p>Optional steps:</p><p>I want your router have original factory firmware again. is easy!</p><p>6. Enter into telnet, change router password.</p><p>7. Download TP-LINK WR841ND V7.2 LAST FIRMWARE: </p><p><a href="http://www.tp-link.com/en/support/download/?model=TL-WR841ND&amp;version=V7">http://www.tp-link.com/en/support/downl … version=V7</a></p><p>8. Upload your image with WinSCP into the router folder /tmp/<br />rename to tplink.bin</p><p>9. Open PuTTY as SSH to 192.168.1.1 and perform the following commands after logging in:</p><div class="codebox"><pre><code>mtd -r write /tmp/tplink.bin firmware</code></pre></div><p>10. DONE, you must wait 1-2 min the router reboot and you will see TP-Link GUI again!</p><br /><p>Thanks for this great firmware is very stable.</p><br /><p>Regards,</p><p>Freddy Arenas</p>											<p class="post-edited">(Last edited by <strong>freddyarenas</strong> on 16 Aug 2012, 20:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158020">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gspatzenegger</div>
					<div class="post-datetime">
						19 Feb 2012, 22:05					</div>
				</div>
				<div class="post-content content">
					<p>Hello freddyarenas,</p><p>unfortunatly I bricked my WR841ND too - I installed the wrong version of DD-WRT.<br />After trying hard to recover, I decided to&quot;mtd erase linux&quot; - now I can&#039;t reach the router any more.</p><p>My problem in particular is that I soldered a serial cable as described. But it is a serial cable, not a nokia dku 5. Now I get characters in putty that I can&#039;t read, it&#039;s all junk. I have checked everything - baud rate, 8N1 everything seems fine. I have tried on Windows XP and Windows 7, no difference. Also I have checked the pins for GRD, DX and RX, all seems fine.</p><p>&gt;&gt;&gt; I think I know the reason: I need a TTL cable, not RS232. I just ordered one in Hongkong, for 2,30€ !</p>											<p class="post-edited">(Last edited by <strong>gspatzenegger</strong> on 19 Feb 2012, 22:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167526">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">freddyarenas</div>
					<div class="post-datetime">
						16 May 2012, 21:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gspatzenegger wrote:</cite><blockquote><p>Hello freddyarenas,</p><p>unfortunatly I bricked my WR841ND too - I installed the wrong version of DD-WRT.<br />After trying hard to recover, I decided to&quot;mtd erase linux&quot; - now I can&#039;t reach the router any more.</p><p>My problem in particular is that I soldered a serial cable as described. But it is a serial cable, not a nokia dku 5. Now I get characters in putty that I can&#039;t read, it&#039;s all junk. I have checked everything - baud rate, 8N1 everything seems fine. I have tried on Windows XP and Windows 7, no difference. Also I have checked the pins for GRD, DX and RX, all seems fine.</p><p>&gt;&gt;&gt; I think I know the reason: I need a TTL cable, not RS232. I just ordered one in Hongkong, for 2,30€ !</p></blockquote></div><p>Hello, did you unbricked your router? i used a nokia dku-5.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167569">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">gspatzenegger</div>
					<div class="post-datetime">
						17 May 2012, 10:45					</div>
				</div>
				<div class="post-content content">
					<p>I bought a USB 2.0 to UART TTL 6PIN Module Serial Converter CP2102 - it works, I can read the messages from the router but the router is constantly rebooting, not waiting for input from the console. So I decided to buy a new tp-link wr740n which is now working perfect with DD-WRT without any issues. </p><p>Maybe the connection via RS232 caused damage because of the higher voltage.<br />Many thanks for your perfect documentation!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p167686">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">freddyarenas</div>
					<div class="post-datetime">
						18 May 2012, 20:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gspatzenegger wrote:</cite><blockquote><p>I bought a USB 2.0 to UART TTL 6PIN Module Serial Converter CP2102 - it works, I can read the messages from the router but the router is constantly rebooting, not waiting for input from the console. So I decided to buy a new tp-link wr740n which is now working perfect with DD-WRT without any issues. </p><p>Maybe the connection via RS232 caused damage because of the higher voltage.<br />Many thanks for your perfect documentation!!</p></blockquote></div><p>You welcome! i sent you a PM</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172082">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RinX</div>
					<div class="post-datetime">
						11 Jul 2012, 21:58					</div>
				</div>
				<div class="post-content content">
					<p>Is this possible with another usb cable? I readed that the output on dk 5 is 3.3v and i wonder what other cables can achive that, in order to avoid frying my PCB</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p172153">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Andreit</div>
					<div class="post-datetime">
						12 Jul 2012, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s what a called a great documentation, Freddyarenas. Thanks for sharing it, everything is there. Unfortunatly my router is a TP-Link WR-941ND V3. But anyway, that&#039;s a true good documentation you made. Thanks a lot !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175066">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">freddyarenas</div>
					<div class="post-datetime">
						16 Aug 2012, 20:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RinX wrote:</cite><blockquote><p>Is this possible with another usb cable? I readed that the output on dk 5 is 3.3v and i wonder what other cables can achive that, in order to avoid frying my PCB</p></blockquote></div><p>you need a serial ttl calbe with 3.3v only and will not fry your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175067">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">freddyarenas</div>
					<div class="post-datetime">
						16 Aug 2012, 20:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Andreit wrote:</cite><blockquote><p>That&#039;s what a called a great documentation, Freddyarenas. Thanks for sharing it, everything is there. Unfortunatly my router is a TP-Link WR-941ND V3. But anyway, that&#039;s a true good documentation you made. Thanks a lot !</p></blockquote></div><p>You welcome <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p180867">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">omiez</div>
					<div class="post-datetime">
						18 Oct 2012, 07:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello</p><p>Unfortunately my router is booting again and again. There was an electrical drop during flash operation. I was trying to install dd-wrt firmware. </p><p>I found your guide but I don&#039;t know which firmware I must flash. The link to the firmware in this guide does not work but anyway I was flashing dd-wrt and not open-wrt.</p><p>Can anybody please tell me which firmware I can flash via serial?</p><p>I ordered a Nokia ca-42 cable. I think it is ok for this job.</p><br /><p>EDIT:<br />Problem solved with CA-42 cable.</p><br /><br /><p>I want to install OPEN-WRT now on my TL-WR841ND V7.2 can anyone tell me if this router is supported cause i can´t find firmware for v7.2 ?</p>											<p class="post-edited">(Last edited by <strong>omiez</strong> on 19 Oct 2012, 05:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181670">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">wclemo</div>
					<div class="post-datetime">
						28 Oct 2012, 14:02					</div>
				</div>
				<div class="post-content content">
					<p>@Omiez:<br /> Did you manage to install Openwrt on your TL-WR841ND V7.2 ? I managed on mine and I did not need to even open it ? Let me know if you succeeded, since I have noticed your post is slightly dated</p>											<p class="post-edited">(Last edited by <strong>wclemo</strong> on 28 Oct 2012, 14:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181672">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">omiez</div>
					<div class="post-datetime">
						28 Oct 2012, 14:12					</div>
				</div>
				<div class="post-content content">
					<p>Hello Wclemo</p><p>Yes I managed first to unbrick with Ca-42 cable and later to flash dd-wrt using web flash image from Attitude directory. Now running 12.09 beta and seems to work without problems.</p><p>Thank you very much for your answer. </p><p>Stay tuned so if we have problems we can help us out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182858">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">jlout</div>
					<div class="post-datetime">
						10 Nov 2012, 02:39					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much Freddy.</p><p>Your guide worked like a charm! It was a little odd for me because when i typed in putty console i got numbers and symbols!<br />So i just had to make sure i was typing the correct letters/numbers because they were correct, just not shown properly.</p><p>Other than that it worked and i thank you for it.</p><p>Cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183326">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">orangdayak</div>
					<div class="post-datetime">
						15 Nov 2012, 17:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, i have the same problem with jlout. is there anyone that is kind enough to help me unbrick the thing? I can consider to send it to you. I&#039;m from Malaysia btw.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183370">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">omiez</div>
					<div class="post-datetime">
						16 Nov 2012, 02:21					</div>
				</div>
				<div class="post-content content">
					<p>Hello friends</p><p>I have taken this from the wiki.<br /><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr841nd">http://wiki.openwrt.org/toh/tp-link/tl-wr841nd</a></p><p> So you can look there too.<br />If you have strange output from serial consolle you need to use a resistor like described here:</p><p> For TP-LINK WR841ND V7.2 power conector (+5V) is ignored, just connect RX - TX - GND and router power cord, work fine…</p><p>Another user notes: My TP-LINK WR841ND V7.2 has a VCC of +3.3V and like the TL-MR3420 <a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial">http://wiki.openwrt.org/toh/tp-link/tl-mr3420#serial</a> needed to connect a 10k pullup resistor between the TX and the 3.3V pin to get reliable serial.</p><p>Yet another user notes: My TP-Link WR841ND V7.1 also requires the 10k pullup resistor between TX and the 3.3V pin. Without the resistor I just get garbage when I type, but can see some console output.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184048">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">freddyarenas</div>
					<div class="post-datetime">
						23 Nov 2012, 05:17					</div>
				</div>
				<div class="post-content content">
					<p>You wellcome guys, if you do not see what you type, please be carefull typing that will fix you problems</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186282">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">orangdayak</div>
					<div class="post-datetime">
						17 Dec 2012, 15:14					</div>
				</div>
				<div class="post-content content">
					<p>Guys, I managed to load putty, but it came out with some weird stuffs as below and just hang after that. I could not do anything. Anyone could care to share some lights?</p><p>AP93 (ar7240) U-boot<br />DRAM:<br />sri<br />¤¤¤$¢AVALUE 1 = 7, 2 = 8<br />32 MB<br />Z<br />0x100000ff<br />flash size 4194304, sector count = 64<br />Flash:&nbsp; 4 MB<br />U®Ëëdefault environment</p><p>RKÉ¥<br />±5<br />&nbsp; Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />ªÑé&nbsp; &nbsp;ag7240_enet_initialize...<br />No valid address in Flash. Using fixed address<br />&#039;<br /> Y<br />&nbsp; ÒÒÒº2é09:0b:ad<br />Y<br /> ªÁ5<br />&nbsp; &nbsp; No valid address in Flash. Using fixed address<br />: cfg1 0xf cfg2 0x7214<br />Y+ÒÒÒº2é09:0b:ad<br />ATHRS26: resetting s26<br />PJ5%²ÒÉ6 reset done<br />Y+ªÁ5<br />&nbsp; &nbsp; &nbsp;eth0, eth1<br />Autobooting in 1 seconds<br />¤$½½Ñ¥¹image at 9f020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... jªH¨HhE<br />ÉÑ¥¹kernel ...</p><p>Booting AR7240(Python)...<br />flash_size passed from bootloader = 4¦6¦F6&amp;¦<br />CPU revision is: 00019374<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />User-defined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Built 1 zonelists<br />Kernel command line: console=ttyS0,115200 root=/dev/mtdblock2 rootfstype=squashfs init=/sbin/init mtdparts=ar7100-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art) mem=32M<br />Primary instruction cache 64kB, physically tagged, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, linesize 32 bytes.<br />Synthesized TLB refill handler (20 instructions).<br />Synthesized TLB load handler fastpath (32 instructions).<br />Synthesized TLB store handler fastpath (32 instructions).<br />Synthesized TLB modify handler fastpath (31 instructions).<br />Cache parity protection disabled<br />PID hash table entries: 256 (order: 8, 4096 bytes)<br />Using 200.000 MHz high precision timer.<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Memory: 30540k/32768k available (1373k kernel code, 2212k reserved, 294k data, 128k init, 0k highmem)<br />Mount-cache hash table entries: 512<br />Checking for &#039;wait&#039; instruction...&nbsp; available.<br />NET: Registered protocol family 16<br />Returning IRQ 48<br />AR7240 GPIOC major 0<br />squashfs: version 3.3 (2007/10/31) Phillip Lougher<br />squashfs: LZMA suppport for slax.org by jro<br />Initializing Cryptographic API<br />io scheduler noop registered<br />io scheduler deadline registered<br />Serial: 8250/16550 driver $Revision: #1 $ 1 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0x0 (irq = 19) is a 16550A<br />RAMDISK driver initialized: 1 RAM disks of 8192K size 1024 blocksize<br />PPP generic driver version 2.4.2<br />PPPoX init, max protocols:3<br />NET: Registered protocol family 24<br />pppox protocol 0 register. max:3<br />cmdlinepart partition parsing not available<br />Searching for RedBoot partition table<br />5 RedBoot partitions found on MTD device ar7240-nor0<br />Creating 5 MTD partitions on &quot;ar7240-nor0&quot;:<br />0x00000000-0x00020000 : &quot;boot&quot;<br />0x00020000-0x00120000 : &quot;kernel&quot;<br />0x00120000-0x003e0000 : &quot;rootfs&quot;<br />0x003e0000-0x003f0000 : &quot;config&quot;<br />0x003f0000-0x00400000 : &quot;art&quot;<br />-&gt;Oops: flash id 0xef3016 .<br />NET: Registered protocol family 2<br />&amp;{«£+6<br />&nbsp; &nbsp; &nbsp; +<br />&nbsp; &nbsp; &nbsp; &nbsp; F<br />TCP established hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 2048)<br />TCP reno registered<br />TCP bic registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />jÔÕÐj´jV{Ó6û+<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#f<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Kc+#&amp;+<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Ks;&amp;c{»F<br />SQUASHFS error: Unable to read cache block [1f6be4:140a]<br />SQUASHFS error: Unable to read inode [1f6be4:140a]<br />VFS: Cannot open root device &quot;mtdblock2&quot; or unknown-block(31,2)<br />Please append a correct &quot;root=&quot; boot option<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,2)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186302">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						17 Dec 2012, 19:14					</div>
				</div>
				<div class="post-content content">
					<p>V5 or V7????</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186306">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">orangdayak</div>
					<div class="post-datetime">
						17 Dec 2012, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>Solved it!</p><p>The key is TIMING. The moment the router says &quot;Autobooting in 1 seconds&quot;, you must immediately type &#039;tpl&#039;. (See below) Otherwise you will get all the rubbish as i posted earlier. Mine is V5 btw. Thanks all for the contributions. Without this forum, I would have thrown my router in the rubbish bin.</p><br /><p>AP93 (ar7240) U-boot<br />DRAM:<br />sri<br />¤¤¤$¢AVALUE 1 = 7, 2 = 8<br />32 MB<br />Z<br />0x100000ff<br />flash size 4194304, sector count = 64<br />Flash:&nbsp; 4 MB<br />U®Ëëdefault environment</p><p>RKÉ¥<br />±5<br />&nbsp; Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />ªÑé&nbsp; &nbsp;ag7240_enet_initialize...<br />No valid address in Flash. Using fixed address<br />&#039;<br /> Y<br />&nbsp; ÒÒÒº2é09:0b:ad<br />Y<br /> ªÁ5<br />&nbsp; &nbsp; No valid address in Flash. Using fixed address<br />: cfg1 0xf cfg2 0x7214<br />Y+ÒÒÒº2é09:0b:ad<br />ATHRS26: resetting s26<br />PJ5%²ÒÉ6 reset done<br />Y+ªÁ5<br />&nbsp; &nbsp; &nbsp;eth0, eth1<br />Autobooting in 1 seconds</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188492">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">adaniel69</div>
					<div class="post-datetime">
						10 Jan 2013, 15:13					</div>
				</div>
				<div class="post-content content">
					<p>hello!<br />can anyone help me to unbrick my router?<br />i was trying to install openwrt and then i cannot access web interface! i was trying to install with putty original firmware(in wan port) and an error appear.<br />now my router is lighting power led and the other leds are flashing together forever!<br />i get this with serial connection:</p><p>gKrtGO&quot;GEd~ĺV˙óó&nbsp; &nbsp; &nbsp; &nbsp; +óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; &nbsp; &nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp; &nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó&nbsp; &nbsp;+óIăc+jßdb&quot;*EgDăc+jßdb&quot;*EgD§KşĆUEłć$˙ěó!ýw&nbsp; é÷ý¨/Á¨wâłóčT;Ńóó&nbsp; &nbsp;&gt;{ă1Bd&quot;ţĺV˙óó</p><p>what should i do?<br />thank you!<br />please excuse my bad english!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188544">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">adaniel69</div>
					<div class="post-datetime">
						10 Jan 2013, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;ve made it! just set speed to 115200bps and set flow control to none! it&#039;s ok now!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198499">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">theibm</div>
					<div class="post-datetime">
						16 Apr 2013, 05:53					</div>
				</div>
				<div class="post-content content">
					<p>Having bricked my router after following an erroneous tip to remove the line: option ifname &#039;eth1&#039;<br />I set up access using a CAT serial cable.</p><p>I was getting garbage from the serial link so tried a 10K pull up resister on the TX leg. This showed data but I was still having access issues. I added a 10K to the RX leg and all came right.</p><p>I added the &#039;option ifname&#039; back in to the netconfig and I am back on line:))</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201999">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">oszfer</div>
					<div class="post-datetime">
						16 May 2013, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>Unbricking works also with WR841N V8.2.&nbsp; Great. :-) Use the following settings:</p><p>- set hardware flow control to none (minicom works well, no charset problem)<br />- for the TFTP (ethernet) connection use the first LAN port of the router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p207608">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">djago</div>
					<div class="post-datetime">
						20 Jul 2013, 07:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I have a CA-42 (compatible) and Windows 8 (64b). When I plug the USB only Windows automagically&nbsp; installs a &quot;Prolific USB-to-Serial Comm Port&quot;, but it has a yellow exclamation. Double clicking in the device I get an error code 10.<br />If I try to use Putty with this COM I get a &quot;Unable to open serial port&quot;...</p><p>I&#039;ve tried installing the driver that freddyarenas gave us but Windows refuses to change the Prolific one... Should I force it? In that case, I have several TI drivers... &quot;TUSB3410 Device&quot;, &quot;TUSB3410 UART EVM&quot; or should I choose another one?</p><p>EDIT: Thanks to nebbia88 we pinpointed the problem to be... Windows 8. Same hardware on a Win7 works like a charm!</p>											<p class="post-edited">(Last edited by <strong>djago</strong> on 23 Jul 2013, 01:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p207778">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">harsini</div>
					<div class="post-datetime">
						22 Jul 2013, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>Well after about a month I finally debricked mine too.I&#039;m in Iran and as I bought a DKU-5 cable I noticed that it has different feature than the original DKU-5 cable that described here and in other websites.The biggest differences was :1- it had 14 pins in the mobile side 2-As I installed its driver ,it was shown as &quot;Usb to serial &quot; device in device manager not the &quot;DKU-5&quot; .3-the 5 wire voltages were completely different from the value mentioned in the websites.I break the usb side cover and I figured out that the chip inside it was different from MAX232.I had tested the cable with a mobile phone and it was worked well but I don&#039;t know how Chinese made that possible.:)<br />I go to MAX232 Chip.And I bought a MAX323N&nbsp; in about 8000 Rial which is about 0.25 US dollar (How a cheep chip and money unit <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />)<br />The chip converts ttl to serial and I used the circuit shown in bellow image and implement it on a breadboard:</p><p><span class="postimg"><img src="http://sodoityourself.com/wp-content/uploads/2007/02/circuit_232.jpg" alt="http://sodoityourself.com/wp-content/uploads/2007/02/circuit_232.jpg" /></span></p><p>The Tx and Rx should connect to the Tx and Rx of router which is showed on top of the page by dear freddyarenas.<br />But I was getting garbage characters.I used a 270 ohm (if i&#039;m not wrong it was red-purple-brown on <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />) resister between router Tx and circuit Tx.It gets better but still show some garbage characters.</p>											<p class="post-edited">(Last edited by <strong>harsini</strong> on 6 Oct 2015, 14:34)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=33906&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>