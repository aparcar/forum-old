<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> UPnP-enabled routers allow attacks on LANs</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p142106">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						25 Aug 2011, 13:07					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://www.h-online.com/security/news/item/UPnP-enabled-routers-allow-attacks-on-LANs-1329727.html">http://www.h-online.com/security/news/i â€¦ 29727.html</a></p><p>[x] bad for ye:&nbsp; &nbsp;<a href="http://en.wikipedia.org/wiki/Upnp">http://en.wikipedia.org/wiki/Upnp</a><br />[?] bad for ye:&nbsp; &nbsp;<a href="http://en.wikipedia.org/wiki/NAT_Port_Mapping_Protocol">http://en.wikipedia.org/wiki/NAT_Port_Mapping_Protocol</a><br />[?] bad for ye:&nbsp; &nbsp;<a href="http://en.wikipedia.org/wiki/Zeroconf">http://en.wikipedia.org/wiki/Zeroconf</a></p><br /><p><a href="http://wiki.openwrt.org/doc/howto/user.beginner.lazy">http://wiki.openwrt.org/doc/howto/user.beginner.lazy</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142107">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						25 Aug 2011, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>In case you are curious:<br /><a href="http://wiki.openwrt.org/doc/howto/user.beginner.fhs">http://wiki.openwrt.org/doc/howto/user.beginner.fhs</a><br /><a href="http://wiki.openwrt.org/doc/howto/user.beginner.cli">http://wiki.openwrt.org/doc/howto/user.beginner.cli</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142117">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						25 Aug 2011, 16:07					</div>
				</div>
				<div class="post-content content">
					<p>What is this? Do you have a question? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142120">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						25 Aug 2011, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s an RFC</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142135">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						25 Aug 2011, 20:40					</div>
				</div>
				<div class="post-content content">
					<p>NAT PMP is definitely more secure, but many apps and devices do not support it. PS3 for example only does UPnP so people still need it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142152">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hechacker1</div>
					<div class="post-datetime">
						26 Aug 2011, 03:22					</div>
				</div>
				<div class="post-content content">
					<p>Isn&#039;t the default upnpd config safe in OpenWRT? His attack depends on the upnpd responding to the WAN interface.</p><p>You could probably just firewall the outbound port 1900 traffic, denying miniupnpd.</p>											<p class="post-edited">(Last edited by <strong>hechacker1</strong> on 26 Aug 2011, 03:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142171">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						26 Aug 2011, 11:24					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve never seen a UPnP service listen for requests on the WAN interface. OpenWrt doesn&#039;t even have a UPnP service in the base system, and miniupnpd default config does not do this.</p><p>Even so, the reason why it&#039;s insecure is because an attacker can rig a website to run code in your browser that uses UPnP to open ports. Certainly the same could be done with NAT-PMP, but Mac OS X is less prone to malware than Windows.</p><p>Here&#039;s a document describing the differences between the two techs:</p><p><a href="http://files.dns-sd.org/draft-cheshire-nat-pmp.txt">http://files.dns-sd.org/draft-cheshire-nat-pmp.txt</a></p><p>Basically, NAT-PMP is more efficient and designed for the purpose of doing port mappings. UPnP is designed to do a whole lot more.</p><p>Anyways, miniupnpd only implement port mapping and a few other features for UPnP IGD, so for that implementation the differences are minor. You can use both NAT-PMP and UPnP with miniupnpd and you can disable one or the other if you want.</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 26 Aug 2011, 11:26)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>