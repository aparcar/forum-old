<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Routing on olsr network</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p158534">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">guiness</div>
					<div class="post-datetime">
						24 Feb 2012, 09:11					</div>
				</div>
				<div class="post-content content">
					<p>I have an olsr network running successfully on a network of dir-615 routers. I can ping all of the routers from any of the other routers on the wireless network. I am using LUCI&nbsp; to configure the network. I have compiled the latest code and fixed a few problems to get it running. My question is - how can I set up the firewall via LUCI to allow connection from the private networks to the other private networks. I have tried setting manual IP Tables rules, but nothing seems to work. What I want to be able to do is have full connectivity from all of the private lan networks to all of the rest via the olsr network. My test network has the following</p><p>Router 1 olsr ip 10.254.0.1 lan ip 192.168.1.1<br />Router 2 olsr ip 10.254.0.2 lan ip 192.168.2.1<br />Router 3 olsr ip 10.254.0.3 lan ip 192.168.3.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158556">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						24 Feb 2012, 12:06					</div>
				</div>
				<div class="post-content content">
					<p>You need to announce a HNA4 on each OLSR node to tell the other mesh nodes where to reach the respective LAN subnet.<br />Firewall only play a minor role here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p163464">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">guiness</div>
					<div class="post-datetime">
						6 Apr 2012, 08:58					</div>
				</div>
				<div class="post-content content">
					<p>Ok thanks. The network is now all working as it should. I have set up an access point on the&nbsp; routers as well as I have atheros cards. I can access my routers via these access points, but cannot ping the other olsr nodes, only the one that I am connected to via the access point.&nbsp; I have tried to do this by setting up new Hna announcements but this is obviously not working. Does anyone know the solution to allow me to access the other olsr nodes via the access point?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p181995">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lish</div>
					<div class="post-datetime">
						31 Oct 2012, 14:48					</div>
				</div>
				<div class="post-content content">
					<p>hi, guiness.<br />I want to run OLSR on my 2 routers. I&#039;m also using the luCI to configure the olsrd deamon. But router can&#039;t find any other OLSR neighbors even though I have configured the wireless interfaces into olsrd deamon. All the wireless interfaces are in the subnet 10.0.1.0/24.<br />Can you give my some guidance about set up MESH with OLSR?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p182877">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">guiness</div>
					<div class="post-datetime">
						10 Nov 2012, 11:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi lish,</p><p> I have found that luci is broken in regards to olsr. I had to manually create the file /etc/olsrd.conf in order for it to work. Your wireless interfaces must be in ad-hoc mode (Not all wireless cards support this mode). You should read your log files to see why olsr is not starting, but I would say that the answer is the broken luci interface. A good explanation in found here <a href="http://wiki.openwrt.org/inbox/mesh.olsr">http://wiki.openwrt.org/inbox/mesh.olsr</a> - but the firewall script posted here is wrong and incomplete. I would suggest disabling the firewalls initially until you get it working.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>