<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WR841N v8.0</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Jul 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 6 of 21</div><nav><ul><li><a href="viewtopic.php%3Fid=37010&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=5.html">5</a></li><li class="pagination-current"><span>6</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=8.html">8</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=21.html">21</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p184299">
				<div class="post-metadata">
					<div class="post-num">Post #126</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						25 Nov 2012, 22:11					</div>
				</div>
				<div class="post-content content">
					<p>LOL I connect my router via Arduino Due R3 to PC and got terminal <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><span class="postimg"><img src="http://www.bankfotek.pl/image/1367249.jpeg" alt="http://www.bankfotek.pl/image/1367249.jpeg" /></span></p><p>Message from terminal after router power on:</p><div class="quotebox"><blockquote><p>U-Boot 1.1.4 (Nov&nbsp; 1 2012 - 10:25:30)</p><p>U-boot AP123</p><br /><p>DRAM:&nbsp; 32 MB<br />id read 0x100000ff<br />Flash:&nbsp; 4 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag934x_enet_initialize...<br />wasp reset mask:c03300<br />WASP ----&gt; S27 PHY<br />file: ag934x.c,line: 179==: set LAN&amp;WAN SWAP. --debug by HouXB<br />GMAC: cfg1 0x5 cfg2 0x7114<br />eth0: ba:be:fa:ce:08:41<br />s27 reg init <br />athrs27_phy_setup ATHR_PHY_CONTROL 4: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 4: 0x10<br />eth0 up<br />WASP ----&gt; S27 PHY<br />file: ag934x.c,line: 179==: set LAN&amp;WAN SWAP. --debug by HouXB<br />GMAC: cfg1 0xf cfg2 0x7214<br />eth1: ba:be:fa:ce:08:41<br />s27 reg init lan <br />ATHRS27: resetting s27<br />ATHRS27: s27 reset done<br />athrs27_phy_setup ATHR_PHY_CONTROL 0: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 0: 0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 1: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 1: 0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 2: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 2: 0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 3: 0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 3: 0x10<br />eth1 up<br />eth0, eth1<br />Autobooting in 1 seconds<br />## Booting image at 9f020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>Linux version 2.6.39.4 (openwrtcn@openwrt) (gcc version 4.5.4 20110808 (prerelease) (Linaro GCC 4.5-2011.08) ) #15 Thu Nov 17 13:34:11 CST 2011<br />bootconsole [early0] enabled<br />CPU revision is: 0001974c (MIPS 74Kc)<br />SoC: Atheros AR9341 rev 1<br />Clocks: CPU:525.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00002000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line:&nbsp; board=TL-WR841N-v8 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br />PID hash table entries: 128 (order: -3, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />Writing ErrCtl register=00000000<br />Readback ErrCtl register=00000000<br />Memory: 29356k/32768k available (2012k kernel code, 3412k reserved, 395k data, 184k init, 0k highmem)<br />SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />NR_IRQS:80<br />Calibrating delay loop... 261.73 BogoMIPS (lpj=1308672)<br />pid_max: default: 32768 minimum: 301<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />MIPS: machine is TP-LINK TL-WR841N v8<br />bio: create slab &lt;bio-0&gt; at 0<br />Switching to clocksource MIPS<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />UDP hash table entries: 256 (order: 0, 4096 bytes)<br />UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />NET: Registered protocol family 1<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />msgmni has been set to 57<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />console [ttyS0] enabled, bootconsole disabled<br />console [ttyS0] enabled, bootconsole disabled<br />Atheros AR71xx SPI Controller driver version 0.2.4<br />m25p80 spi0.0: unrecognized JEDEC id 1c3016<br />ag71xx_mdio: probed<br />ag71xx_mdio: probed<br />eth0: Atheros AG71xx at 0xb9000000, irq 4<br />eth1: Atheros AG71xx at 0xba000000, irq 5<br />Atheros AR71xx hardware watchdog driver version 0.1.0<br />TCP westwood registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0)<br />Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p></blockquote></div><p>What it mean? <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184301">
				<div class="post-metadata">
					<div class="post-num">Post #127</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 22:37					</div>
				</div>
				<div class="post-content content">
					<p>This does not seem ok:</p><p> m25p80 spi0.0: unrecognized JEDEC id 1c3016 </p><p>what flash is onboard? Take a macro picture or note here every code you read on it...</p><p>Also What hw.ver is on the label?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184302">
				<div class="post-metadata">
					<div class="post-num">Post #128</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						25 Nov 2012, 22:40					</div>
				</div>
				<div class="post-content content">
					<p>TL-WR851N VER. 8.2</p><p>Cannot make enough good photo of my board... Onboard flash? U mean the biggest &quot;chip&quot; on board?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184303">
				<div class="post-metadata">
					<div class="post-num">Post #129</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 22:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gulweb wrote:</cite><blockquote><p>Flash chips now back in their respective boards, and I now have two working and identical routers.</p></blockquote></div><p>wow congratulations!</p><p>Do they have same mac addresses?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184304">
				<div class="post-metadata">
					<div class="post-num">Post #130</div>
					<div class="post-author">uqadwe</div>
					<div class="post-datetime">
						25 Nov 2012, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>I bricked my router to, i have a&nbsp; 8.2version.</p><p>It powers on, all the led light simultaneas and go off. There is nothing i can do to it to change it, 30/30/30 doesn&#039;t work. <br />It doesn&#039;t responds to ping, it repeatly conects for a second on lan, but the lan cable doesn&#039;t link. <br />It only lights up once and then it&#039;s over.</p><p>Any solutions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184305">
				<div class="post-metadata">
					<div class="post-num">Post #131</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>you mean wr841 right??</p><p>flash it&#039;s this:</p><p><a href="http://4.bp.blogspot.com/-ume9kTJ4fBs/UBV0zL4sRWI/AAAAAAAAAQc/TUIJrHlnpjU/s1600/tl-wr703n_bottom.jpg">http://4.bp.blogspot.com/-ume9kTJ4fBs/U … bottom.jpg</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184306">
				<div class="post-metadata">
					<div class="post-num">Post #132</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>omg another brick, there is something BAD going on..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184307">
				<div class="post-metadata">
					<div class="post-num">Post #133</div>
					<div class="post-author">uqadwe</div>
					<div class="post-datetime">
						25 Nov 2012, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Yes, wr841N v8.2 i see on the back of the router.</p><p>I am to blame for this, i was pushing the flashing over the limits.<br />I am not familiar with this procedure, can you please direct me to the right procedure?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184308">
				<div class="post-metadata">
					<div class="post-num">Post #134</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 23:02					</div>
				</div>
				<div class="post-content content">
					<p>@uqadwe what image you flashed (post specific link) and how? why you say that you are to blame???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184309">
				<div class="post-metadata">
					<div class="post-num">Post #135</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						25 Nov 2012, 23:12					</div>
				</div>
				<div class="post-content content">
					<p>Not sure, but my flash is: &quot;<strong>cfeon q32b-104hip</strong>&quot;</p><div class="quotebox"><cite>uqadwe wrote:</cite><blockquote><p>I bricked my router to, i have a&nbsp; 8.2version.</p><p>It powers on, all the led light simultaneas and go off. There is nothing i can do to it to change it, 30/30/30 doesn&#039;t work. <br />It doesn&#039;t responds to ping, it repeatly conects for a second on lan, but the lan cable doesn&#039;t link. <br />It only lights up once and then it&#039;s over.</p><p>Any solutions?</p></blockquote></div><p>that same problem! </p><div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>omg another brick, there is something BAD going on..</p></blockquote></div><p>yeah... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184310">
				<div class="post-metadata">
					<div class="post-num">Post #136</div>
					<div class="post-author">uqadwe</div>
					<div class="post-datetime">
						25 Nov 2012, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>I originally flashed an OpenWrt firmware(lucy)</p><p>and then tried to return to stock, it seemed blocked after an half an hour so i unpluged it.<br />I don&#039;t have the link anymore, i flashed it from the LUCY web interface</p>											<p class="post-edited">(Last edited by <strong>uqadwe</strong> on 25 Nov 2012, 23:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184311">
				<div class="post-metadata">
					<div class="post-num">Post #137</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 23:34					</div>
				</div>
				<div class="post-content content">
					<p>ok, uqadwe you have to connect to serial console, and your problem seems the usual &quot;flashed an image including uboot in the WRONG way&quot;..</p><p> search info in wiki for serial port, you need a ttl serial adapter, not a classic rs232 serial port.. and some soldering skills..</p><p>quorce, wiki said that wr841nd v8 has spansion FL032PIF (dunno if it&#039;s right), while your flash seems different...</p><p>you can try to flash back stock firmware with tftp method..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184312">
				<div class="post-metadata">
					<div class="post-num">Post #138</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						25 Nov 2012, 23:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>ok, uqadwe you have to connect to serial console, and your problem seems the usual &quot;flashed an image including uboot in the WRONG way&quot;..</p><p> search info in wiki for serial port, you need a ttl serial adapter, not a classic rs232 serial port.. and some soldering skills..</p><p>quorce, wiki said that wr841nd v8 has spansion FL032PIF (dunno if it&#039;s right), while your flash seems different...</p><p>you can try to flash back stock firmware with tftp method..</p></blockquote></div><p>Ok understand... Is this possible only with USB TTL Serial adapter?</p><p>PS. wr841n not wr841nd - if this is any difference <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>quorce</strong> on 25 Nov 2012, 23:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184313">
				<div class="post-metadata">
					<div class="post-num">Post #139</div>
					<div class="post-author">uqadwe</div>
					<div class="post-datetime">
						25 Nov 2012, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>Wouldn&#039;t be more likely to resolv the problem to send it to warranty?<br />Do you think they will easily find out what really happened? Considering it will be probably get analysed by the retailer service, which is a big online shop.</p><p>Thanks for your guidance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184314">
				<div class="post-metadata">
					<div class="post-num">Post #140</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						25 Nov 2012, 23:41					</div>
				</div>
				<div class="post-content content">
					<p>uqadwe, they can find out if they connect to serial.. it will be more useful and fun if you manage to unbrick by yourself ^^</p><p>quorce, you already got a serial terminal, you&#039;re good to go (you have mail!)!</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 25 Nov 2012, 23:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184316">
				<div class="post-metadata">
					<div class="post-num">Post #141</div>
					<div class="post-author">gulweb</div>
					<div class="post-datetime">
						26 Nov 2012, 00:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><div class="quotebox"><cite>gulweb wrote:</cite><blockquote><p>Flash chips now back in their respective boards, and I now have two working and identical routers.</p></blockquote></div><p>wow congratulations!</p><p>Do they have same mac addresses?</p></blockquote></div><p>Yes!! So some more research needs to be done, and from my previos experience, doing the wrong thing here will disable<br />uboot and not only os loading, but I would love to save config or art , edit, and write back</p><p>Does uboot support setting mac? Does it subbort saveenv ?? I tried to get the source, to have a look at uboot, but GPL<br />kit is not a tar.gz.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184318">
				<div class="post-metadata">
					<div class="post-num">Post #142</div>
					<div class="post-author">gulweb</div>
					<div class="post-datetime">
						26 Nov 2012, 00:41					</div>
				</div>
				<div class="post-content content">
					<p>I think maybe there is something to analyse from this, which is the crash that happened on router #2, after flashing tplink firmware (without boot, 120552). This is the crash footprint, form tplink linux.</p><br /><br /><p>insmod: cannot open module `/lib/modules/2.6.31/kernel/flashid.ko&#039;: No such file or directory<br />PPPoL2TP kernel driver, V1.0<br />PPTP driver version 0.8.3<br />insmod: cannot open module `/lib/modules/2.6.31/kernel/harmony.ko&#039;: No such file or directory</p><p>unlzma/peek_old_byte: position 9413459 out of range<br />unlzma/peek_old_byte: position 41992320 out of range<br />SQUASHFS error: crypto_decompress_update returned -85522, data probably corrupt<br />SQUASHFS error: squashfs_read_data failed to read block 0x1e4431<br />SQUASHFS error: Unable to read data cache entry [1e4431]<br />SQUASHFS error: Unable to read page, block 1e4431, size 8457<br />SQUASHFS error: Unable to read data cache entry [1e4431]<br />SQUASHFS error: Unable to read page, block 1e4431, size 8457<br />SQUASHFS error: Unable to read data cache entry [1e4431]</p><p>I think I get the insmod : harmony error on a working board, but it seems the next operation is trying to unpack the rest as LZMA, what if kernel command string is wrong, or FS type is something else? It is clear what Openwrt does, and how it views flash disk, but maybe THAT is something that changed in the tplink f/w and is a reason they have concatenated boot + firmware in the last two firmwares. But, it does not explain why I succeeded to reflash router #1, but bricked router #2, but I am not 100% sure both routers were at same f/w before I installed Openwrt on them, so there IS a small chance/risk that one router had an updated Uboot, and the other one not. Anyway this is possibly a footprint....</p><p>Also: My understanding of the boot procedure is that the cpu reads the spi-connected serial flash int ram before starting. How much it reads, and if there are any checks to the content I dont know, but if there is, it is most probably limited to something extremely simple, since we have not started executing instructions yet. Also, this &quot;prologue&quot; surely can handle many different flash roms,&nbsp; but there IS some check on the contents that could explain why not even uboot started when I bricked my router. <br />Does anyone have access to the ar9341 data sheet, and could explain this, or even e-mail a copy?</p>											<p class="post-edited">(Last edited by <strong>gulweb</strong> on 26 Nov 2012, 00:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184329">
				<div class="post-metadata">
					<div class="post-num">Post #143</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						26 Nov 2012, 09:46					</div>
				</div>
				<div class="post-content content">
					<p>hmm...</p><p>got next problem... im &quot;in&quot; router via serial and got problem with tftp...</p><p>which version is correct for wr841n? tftp 0x80000000 tplink.bin or 0x81000000? in both version i got checksum bad... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184331">
				<div class="post-metadata">
					<div class="post-num">Post #144</div>
					<div class="post-author">gulweb</div>
					<div class="post-datetime">
						26 Nov 2012, 10:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>quorce wrote:</cite><blockquote><p>hmm...</p><p>got next problem... im &quot;in&quot; router via serial and got problem with tftp...</p><p>which version is correct for wr841n? tftp 0x80000000 tplink.bin or 0x81000000? in both version i got checksum bad... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Try to do a printenv, that is at least what Uboot thinks of the situation.</p><p>in my version it printed out some command abbreviations, and the addresses it wanted to use.</p><p>But I want to point out that I DO NOT know or understand this full out.</p><p>If you do print out, please post result, so we have something to discuss.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184332">
				<div class="post-metadata">
					<div class="post-num">Post #145</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						26 Nov 2012, 10:16					</div>
				</div>
				<div class="post-content content">
					<p>printenv said tftp=0x81000000 so i think it&#039;s right, and different from the wr841nd v7 (wiki says 0x80000000), but equal to the wr703nd (same chipset family?)</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n#back.to.original.image">http://wiki.openwrt.org/toh/tp-link/tl- … inal.image</a></p><br /><p>we try to setenv ipaddr and setenv serverip, because the wifi NIC has same subnet, so conflict, but then it says &quot;checksum bad&quot; when tftpboot...</p><p>someone can verify if using setenv cause this problem??</p><p>we not had time to try WHITOUT USING SETENV, but adjusting ip of NIC accordingly...</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 26 Nov 2012, 10:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184339">
				<div class="post-metadata">
					<div class="post-num">Post #146</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						26 Nov 2012, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>on pc ethernet set on 192.168.1.2, router to pc via WAN port, than try:</p><div class="codebox"><pre><code>wasp&gt; tftpboot 0x80000000 tplink.bin
enet1 port0 up
dup 1 speed 1000
Using eth1 device
TFTP from server 192.168.1.2; our IP address is 192.168.1.1
Filename &#039;tplink.bin&#039;.
Load address: 0x80000000
Loading: T T T T T T T

wasp&gt; tftpboot 0x81000000 tplink.bin
Using eth1 device
TFTP from server 192.168.1.2; our IP address is 192.168.1.1
Filename &#039;tplink.bin&#039;.
Load address: 0x81000000
Loading: T T T T T T T T T T</code></pre></div><br /><p>and printenv:</p><div class="codebox"><pre><code>wasp&gt; printenv
bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art)
bootcmd=bootm 0x9f020000
bootdelay=1
baudrate=115200
ethaddr=0xba:0xbe:0xfa:0xce:0x08:0x41
dir=
bc=ap123
lu=tftp 0x81000000 ${dir}u-boot.bin&amp;&amp;erase 0x9f000000 +$filesize;cp.b $fileaddr 0x9f000000 $filesize
lf=tftp 0x81000000 ${dir}${bc}-squashfs&amp;&amp;erase 0x9f120000 +$filesize;cp.b $fileaddr 0x9f120000 $filesize
stdin=serial
stdout=serial
stderr=serial
ethact=eth0
ipaddr=192.168.1.1
serverip=192.168.1.2

Environment size: 561/65532 bytes</code></pre></div><p>ps. tftpboot via LAN port</p><div class="codebox"><pre><code>wasp&gt; tftpboot 0x81000000 tplink.bin
enet1 port0 down
enet1 port1 up
Using eth1 device
TFTP from server 192.168.1.2; our IP address is 192.168.1.1
Filename &#039;tplink.bin&#039;.
Load address: 0x81000000
Loading: checksum bad
T checksum bad
checksum bad
T checksum bad
checksum bad
T checksum bad</code></pre></div>											<p class="post-edited">(Last edited by <strong>quorce</strong> on 26 Nov 2012, 11:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184341">
				<div class="post-metadata">
					<div class="post-num">Post #147</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						26 Nov 2012, 11:24					</div>
				</div>
				<div class="post-content content">
					<p>try WITHOUT USING setenv, leave all default settings after bootup, so set PC NIC to 192.168.1.100</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184345">
				<div class="post-metadata">
					<div class="post-num">Post #148</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						26 Nov 2012, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>that same...</p><div class="codebox"><pre><code>wasp&gt; tftpboot 0x81000000 tplink.bin
enet1 port1 up
dup 1 speed 1000
Using eth1 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;tplink.bin&#039;.
Load address: 0x81000000
Loading: checksum bad
T checksum bad
T checksum bad
T checksum bad
T checksum bad</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184347">
				<div class="post-metadata">
					<div class="post-num">Post #149</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						26 Nov 2012, 11:37					</div>
				</div>
				<div class="post-content content">
					<p>I retire myself from this topic xD</p><p>only thing i have in mind is &quot;try a different pc and different cable&quot; (but i&#039;m not hoping it makes a difference..)</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 26 Nov 2012, 11:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184348">
				<div class="post-metadata">
					<div class="post-num">Post #150</div>
					<div class="post-author">quorce</div>
					<div class="post-datetime">
						26 Nov 2012, 11:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>I retire myself from this topic xD</p><p>only thing i have in mind is &quot;try a different pc and different cable&quot; (but i&#039;m not hoping it makes a difference..)</p></blockquote></div><p>without effect... today got 3 other cables + other pc... still that same <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 6 of 21</div><nav><ul><li><a href="viewtopic.php%3Fid=37010&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=5.html">5</a></li><li class="pagination-current"><span>6</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=37010&amp;p=8.html">8</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37010&amp;p=21.html">21</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>