<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Lantiq XWAY WAVE300</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=45047&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=45047&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=45047&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=45047&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=45047&amp;p=6.html">6</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p362516">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">Mandrake</div>
					<div class="post-datetime">
						23 Jul 2017, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>Hello Vittorio,</p><p>Yes, sources as-is need a lot to tweaks to get them compiled. Also it took me some time to figure out how the whole thing works more or less.</p><p>Anyway, I didn&#039;t want to push my changes in case Lantiq had any issues with the publication of sources.</p><p>So far no complains so I guess I can proceed to dump all patches.</p><p><em>Please stay tune for the next weeks. I&#039;ll let you know when everything is ready.</em></p><p>On the other hand, thank you for the patch. I will probably push the same to my platform.</p><p>Mandrake</p><div class="quotebox"><cite>vittorio88 wrote:</cite><blockquote><p>Hello Mandrake,</p><p>I downloaded your Github repo, however was unable to compile it.</p><p>Can you provide some build steps?</p><p>FWIW, here is the final patch I used to enable the WAV300 on my TP-Link VR200:<br /></p><div class="codebox"><pre><code>diff --git a/target/linux/lantiq/dts/VR200v.dts b/target/linux/lantiq/dts/VR200v.dts
index e281042..ecb2455 100644
--- a/target/linux/lantiq/dts/VR200v.dts
+++ b/target/linux/lantiq/dts/VR200v.dts
@@ -76,6 +76,10 @@
                        status = &quot;okay&quot;;
                        gpios = &lt;&amp;gpio 33 0&gt;;
                };
+               pci0: pci@E105400 {
+                       status = &quot;okay&quot;;
+                       gpio-reset = &lt;&amp;gpio 21 0&gt;;
+               };
        };
 
        gphy-xrx200 {</code></pre></div></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362600">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						25 Jul 2017, 18:17					</div>
				</div>
				<div class="post-content content">
					<p>Staying tuned!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362985">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">Mandrake</div>
					<div class="post-datetime">
						1 Aug 2017, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>Hello Vittorio and whoever listening,</p><p>I&#039;m already pushing changes to the github branch Dual-license-BSD_GPL.</p><p>Up to day, you should be able to run &quot;make menuconfig&quot; and have the system ready for compilation under /builds.</p><p>I have also added a &quot;instructions.txt&quot; file for help. I believe everything should be self-explanatory.</p><p>However I&#039;d appreciate if you can update with these changes and check if everything is fine for you.</p><p>The following days I&#039;ll be addresing the real problem, up-port sources to Linux ≥4.4</p><p>Best regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363207">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">Mandrake</div>
					<div class="post-datetime">
						5 Aug 2017, 14:14					</div>
				</div>
				<div class="post-content content">
					<p>Dears,</p><p>I have pushed all my changes to the branch &quot;Dual-license-BSD_GPL&quot;.</p><p>I have tested compilation and it&#039;s fine in my local machine so I expect to be the same for whoever downloads the sources.</p><p>On the other hand, I have added a better documentation so everything can be run with just changing a few lines. Or so I hope.</p><p><strong>Don&#039;t be fooled.</strong> The driver is not working as per today. The major roadblock I have is the interrupt request (PCI MSI). It&#039;s simply not working with my LEDE distro but I have the suspicious that this is nothing to do with the driver itself but my system so <em>I would like to have the feedback of this driver in other machines than Livebox 2.1 Linux 4.4 </em></p><p>At last, it is not my aim to continue fighthing with this driver. I&#039;ve spent a lot of my free time during one year trying to bring to life this code and this is my best. I will move now to other hobbies although I will keep an eye every now and then to this thread.</p><p>Take care and enjoy summer!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363208">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						5 Aug 2017, 14:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello Mandrake,</p><p>I have been working on the driver as well.</p><p>I was trying to get a working build, but your latest code push fixes what I&#039;ve been working on myself.<br />Specifically up-porting proc_fs on ./wireless/driver/linux/mtlk_df_proc_impl.c </p><p>I have seen your modifications. Excellent work! I can now throw mine away...</p><p>You have already done a lot, I don&#039;t expect you to work on it all summer, however I would like to talk to you if possible. If you send me an email to my username @ gmail dot com, we could exchange contact details, and possibly have a phone conversation so that I may pick up where you left off.</p><p>Thanks,<br />Vittorio</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363215">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						5 Aug 2017, 17:18					</div>
				</div>
				<div class="post-content content">
					<p>I built, and inserted the driver, however upon inserting mtlk.ko after mtlkroot.ko I get no output. <br />lspci -k doesn&#039;t show anything under the WAV300.</p><p>mtlkroot.ko does print a statement about proprietary and version number, but that&#039;s it.</p><p>Any suggestions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363303">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">Paranosh</div>
					<div class="post-datetime">
						7 Aug 2017, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for yours efforts guys, hope to see soon all your work working!!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363328">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						7 Aug 2017, 21:50					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I am writing to check-in. I have forked and further developed Mandrake&#039;s code.<br />To anybody interested, this branch has stable (minor) fixes: <br />&nbsp; <a href="https://github.com/vittorio88/WAVE300/tree/vitto_fixes">https://github.com/vittorio88/WAVE300/tree/vitto_fixes</a><br />&nbsp; Mandrake: I would consider this branch safe to merge.</p><p>This branch has some heavy changes that are quite different from Mandrake&#039;s code: <br />&nbsp; <a href="https://github.com/vittorio88/WAVE300/tree/fix_build_x86_64.">https://github.com/vittorio88/WAVE300/t … ld_x86_64.</a><br />The differences in this branch is that: <br />&nbsp; 1. Enable debug w/ VRX288 target in menuconfig builds successfully<br />&nbsp; 2. Can select x86 target and build successfully.</p><p>I have the following issues, and don&#039;t know where to go from here:<br />&nbsp; 1. Cross-compiling for my VR200v target, I can insmod mtlkroot.ko and mtlk.ko, but cannot for the life of me get it to print anything, and I don&#039;t believe it&#039;s working due to few /proc entries.<br />&nbsp; 2. Building x86 natively on Ubuntu w/ linux 4.10 causes a crash when I run insmod mtlkroot.ko</p><p>Help would be appreciated with testing for either of these two targets.</p><p>Thanks,<br />Vittorio</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364014">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">blackadder1000</div>
					<div class="post-datetime">
						20 Aug 2017, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Thank you for all the hard work you&#039;ve put in so far. Very impressive.</p><p>I&#039;m happy to help out with this on my hardware - a TD-W8980.</p><p>I&#039;ve compiled the openwrt from source. No modification is needed to the dts for TD-W8980. The PCI bus is already active:</p><div class="quotebox"><blockquote><p>Linux OpenWrt 4.4.14 #2 SMP Tue Aug 15 18:55:50 UTC 2017 mips GNU/Linux</p></blockquote></div><div class="quotebox"><blockquote><p>root@OpenWrt:~# lspci -v<br />00:0e.0 Wireless controller: Lantiq Wave300 PSB8224 [Hyperion III] (rev 01)<br />&nbsp; &nbsp; Subsystem: Lantiq Device 0680<br />&nbsp; &nbsp; Flags: medium devsel, IRQ 30Linux OpenWrt 4.4.14 #2 SMP Tue Aug 15 18:55:50 UTC 2017 mips GNU/Linux<br />&nbsp; &nbsp; Memory at 18800000 (32-bit, prefetchable) [disabled] [size=4097]<br />&nbsp; &nbsp; Memory at 18000000 (32-bit, prefetchable) [disabled] [size=8388609]<br />&nbsp; &nbsp; Memory at &lt;unassigned&gt; (32-bit, non-prefetchable) [disabled] [size=2]<br />&nbsp; &nbsp; Memory at &lt;unassigned&gt; (32-bit, non-prefetchable) [disabled] [size=2]<br />&nbsp; &nbsp; Memory at &lt;unassigned&gt; (32-bit, non-prefetchable) [disabled] [size=2]<br />&nbsp; &nbsp; Memory at &lt;unassigned&gt; (32-bit, non-prefetchable) [disabled] [size=2]<br />&nbsp; &nbsp; Expansion ROM at &lt;unassigned&gt; [disabled] [size=2]<br />lspci: Unable to load libkmod resources: error -12</p></blockquote></div><br /><p>I could use some help correctly compiling the WAVE300 driver. I&#039;m using vitto_fixes branch. With the default options set in make menuconfig and &quot;ugw5.1-vrx288&quot; selected I get the following error:</p><div class="quotebox"><blockquote><p>mv -f .deps/logmacro_database.Tpo .deps/logmacro_database.Po<br />/home/benjamin/Downloads/router/test/driver/support/mtlkfront.sh /home/benjamin/Downloads/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/benjamin/Downloads/router/openwrt/build_dir/target-mips_34kc+dsp_musl-1.1.16/linux-lantiq_xrx200/linux-4.4.14/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec&nbsp; &nbsp;-L/home/benjamin/Downloads/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl <br />/home/benjamin/Downloads/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.3.0/../../../../mips-openwrt-linux-musl/bin/ld: cannot find -lnl<br />collect2: error: ld returned 1 exit status<br />Makefile:416: recipe for target &#039;drvhlpr&#039; failed</p></blockquote></div><br /><p>If I disable MTTools I get:</p><div class="quotebox"><blockquote><p>make[4]: Entering directory &#039;/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/tools/rtlogger/prebuilt&#039;<br />make[4]: *** No rule to make target &#039;logconv.exe&#039;, needed by &#039;all-am&#039;. Stop.</p></blockquote></div><br /><p>If I disable RT Logger as well I get:</p><div class="quotebox"><blockquote><p>LP&nbsp; &nbsp; &nbsp; /home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_priv.h<br />/home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user.c: In function &#039;mtlk_df_ui_reg_aocs_proc_cl&#039;:<br />/home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user.c:4705:76: error: passing argument 4 of &#039;mtlk_df_proc_node_add_wo_entry&#039; from incompatible pointer type [-Werror=incompatible-pointer-types]<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;aocs_cl&quot;, df_user-&gt;slow_ctx-&gt;proc_df_debug_node, df_user-&gt;df, mtlk_df_ui_aocs_proc_cl_fop);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user_priv.h:15:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user.c:13:<br />/home/benjamin/Downloads/router/test/driver/wireless/driver/shared/mtlk_df.h:485:1: note: expected &#039;mtlk_df_proc_entry_write_f {aka int (*)(struct file *, const char *, unsigned int,&nbsp; long long int *)}&#039; but argument is of type &#039;int (*)(struct file *, const char *, long unsigned int,&nbsp; void *)&#039;<br /> mtlk_df_proc_node_add_wo_entry(char *name,<br /> ^<br />cc1: all warnings being treated as errors<br />scripts/Makefile.build:258: recipe for target &#039;/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux/wireless/driver/linux/mtlk_df_user.o&#039; failed<br />make[6]: *** [/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux/wireless/driver/linux/mtlk_df_user.o] Error 1<br />Makefile:1385: recipe for target &#039;_module_/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux&#039; failed<br />make[5]: *** [_module_/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux] Error 2<br />make[5]: Leaving directory &#039;/home/benjamin/Downloads/router/openwrt/build_dir/target-mips_34kc+dsp_musl-1.1.16/linux-lantiq_xrx200/linux-4.4.14&#039;<br />Makefile:543: recipe for target &#039;mtlk.ko&#039; failed</p></blockquote></div><br /><p>With all options disabled (i.e. Lantiq RF MGMT, hostapd 0.6 and General debug extensions), leaving only WLan driver for Linux and Gen3 PCI I get both mtlkroot and mtlk fully built in one step (no need to make from /driver/builds/ugw5.1-vrx288/wireless/driver/linux).</p><p>However, once I insert them into the hardware I get a segmentation fault on mtlk.ko:</p><p><a href="https://pastebin.com/vVG3dAkM">https://pastebin.com/vVG3dAkM</a></p><p>What make menuconfig options are you using to build the driver? Have I taken a wrong step somewhere?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364077">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						21 Aug 2017, 15:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>blackadder1000 wrote:</cite><blockquote><p>I could use some help correctly compiling the WAVE300 driver. I&#039;m using vitto_fixes branch. With the default options set in make menuconfig and &quot;ugw5.1-vrx288&quot; selected I get the following error:</p><div class="quotebox"><blockquote><p>mv -f .deps/logmacro_database.Tpo .deps/logmacro_database.Po<br />/home/benjamin/Downloads/router/test/driver/support/mtlkfront.sh /home/benjamin/Downloads/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/benjamin/Downloads/router/openwrt/build_dir/target-mips_34kc+dsp_musl-1.1.16/linux-lantiq_xrx200/linux-4.4.14/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec&nbsp; &nbsp;-L/home/benjamin/Downloads/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl <br />/home/benjamin/Downloads/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/lib/gcc/mips-openwrt-linux-musl/5.3.0/../../../../mips-openwrt-linux-musl/bin/ld: cannot find -lnl<br />collect2: error: ld returned 1 exit status<br />Makefile:416: recipe for target &#039;drvhlpr&#039; failed</p></blockquote></div></blockquote></div><br /><p>You have to make sure you are linking against libnl or libnl-tiny (one or the other) that you have downloaded previously in your LEDE or OpenWRT build root. I have explained how to install it in the README in the vitto-fixes branch. Then I added the following to <em>ugw.env.common</em>:<br /></p><div class="codebox"><pre><code>LDFLAGS=&quot;-L${STAGING_DIR}/target-mips_24kc_musl-1.1.16/usr/lib/&quot;</code></pre></div><br /><div class="quotebox"><cite>blackadder1000 wrote:</cite><blockquote><p>If I disable MTTools I get:</p><div class="quotebox"><blockquote><p>make[4]: Entering directory &#039;/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/tools/rtlogger/prebuilt&#039;<br />make[4]: *** No rule to make target &#039;logconv.exe&#039;, needed by &#039;all-am&#039;. Stop.</p></blockquote></div></blockquote></div><br /><p>I removed logconv.exe, mtlklog.dll, and nc.exe from the Makefile.in and Makefile.am of rtlogger for it to build.<br />After this, it builds successfully, but it may be incomplete or broken.</p><br /><div class="quotebox"><cite>blackadder1000 wrote:</cite><blockquote><p>If I disable RT Logger as well I get:</p><div class="quotebox"><blockquote><p>LP&nbsp; &nbsp; &nbsp; /home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_priv.h<br />/home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user.c: In function &#039;mtlk_df_ui_reg_aocs_proc_cl&#039;:<br />/home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user.c:4705:76: error: passing argument 4 of &#039;mtlk_df_proc_node_add_wo_entry&#039; from incompatible pointer type [-Werror=incompatible-pointer-types]<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;aocs_cl&quot;, df_user-&gt;slow_ctx-&gt;proc_df_debug_node, df_user-&gt;df, mtlk_df_ui_aocs_proc_cl_fop);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user_priv.h:15:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /home/benjamin/Downloads/router/test/driver/wireless/driver/linux/mtlk_df_user.c:13:<br />/home/benjamin/Downloads/router/test/driver/wireless/driver/shared/mtlk_df.h:485:1: note: expected &#039;mtlk_df_proc_entry_write_f {aka int (*)(struct file *, const char *, unsigned int,&nbsp; long long int *)}&#039; but argument is of type &#039;int (*)(struct file *, const char *, long unsigned int,&nbsp; void *)&#039;<br /> mtlk_df_proc_node_add_wo_entry(char *name,<br /> ^<br />cc1: all warnings being treated as errors<br />scripts/Makefile.build:258: recipe for target &#039;/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux/wireless/driver/linux/mtlk_df_user.o&#039; failed<br />make[6]: *** [/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux/wireless/driver/linux/mtlk_df_user.o] Error 1<br />Makefile:1385: recipe for target &#039;_module_/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux&#039; failed<br />make[5]: *** [_module_/home/benjamin/Downloads/router/test/driver/builds/ugw5.1-vrx288/wireless/driver/linux] Error 2<br />make[5]: Leaving directory &#039;/home/benjamin/Downloads/router/openwrt/build_dir/target-mips_34kc+dsp_musl-1.1.16/linux-lantiq_xrx200/linux-4.4.14&#039;<br />Makefile:543: recipe for target &#039;mtlk.ko&#039; failed</p></blockquote></div></blockquote></div><br /><p>This has to do with the up-porting of Proc FS on the driver that both Mandrake and I have implemented differently. The branch vitto-fixes contains Mandrakes version, which I was not able to compile with debug enabled.<br />You can try my experimental branch: fix_build_x86_64</p><br /><div class="quotebox"><cite>blackadder1000 wrote:</cite><blockquote><p>With all options disabled (i.e. Lantiq RF MGMT, hostapd 0.6 and General debug extensions), leaving only WLan driver for Linux and Gen3 PCI I get both mtlkroot and mtlk fully built in one step (no need to make from /driver/builds/ugw5.1-vrx288/wireless/driver/linux).</p><p>However, once I insert them into the hardware I get a segmentation fault on mtlk.ko:</p><p><a href="https://pastebin.com/vVG3dAkM">https://pastebin.com/vVG3dAkM</a></p><p>What make menuconfig options are you using to build the driver? Have I taken a wrong step somewhere?</p><p>Thanks</p></blockquote></div><br /><p>With my experimental branch and the modifications from this post, pretty much all menuconfig options compile on my box.<br />You have gotten farther than I have, because I do not get any output when I insmod the driver built from any branch. I do not know where my issue is, but Mandrake suggested it may be because I am working through SSH instead of serial console.</p><p>The segfault you showed me indicates that the driver DOES print something, but is having a hard-time initializing the WiFi chip at the hardware level. This is great progress. <br />It seems to get stuck on:<br /></p><div class="codebox"><pre><code>[0000838180] mtlk3(_mtlk_mmb_wait_chi_magic:2099): Wait for CHI Magic failed (wait_res=1 value=0x00002350)</code></pre></div><p> whatever that is....</p><br /><br /><p>Thanks for trying, I will try to be more active here as I am now back from vacation.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364154">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">blackadder1000</div>
					<div class="post-datetime">
						23 Aug 2017, 01:18					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the advice. Really helped. I&#039;m now on branch fix_build_x86_64 but still compiling for my router hardware. </p><p>I can compile all default options now except for mttools. I get the error:</p><div class="codebox"><pre><code>/home/benjamin/router/WAVE300/driver/support/mtlkfront.sh /home/benjamin/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/benjamin/router/openwrt/build_dir/target-mips_34kc+dsp_musl-1.1.16/linux-lantiq_xrx200/linux-4.4.14/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec   -L/home/benjamin/router/openwrt/staging_dir/target-mips_34kc+dsp_musl-1.1.16/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl 
/home/benjamin/router/WAVE300/driver/builds/ugw5.1-vrx288/tools/shared/linux/libmtlkc.a(mtlknlink.o): In function `parse_nl_cb&#039;:
mtlknlink.c:(.text+0x48): undefined reference to `genlmsg_parse&#039;
/home/benjamin/router/WAVE300/driver/builds/ugw5.1-vrx288/tools/shared/linux/libmtlkc.a(mtlknlink.o): In function `mtlk_nlink_create&#039;:
mtlknlink.c:(.text+0x13c): undefined reference to `genl_connect&#039;
mtlknlink.c:(.text+0x154): undefined reference to `genl_ctrl_resolve&#039;
collect2: error: ld returned 1 exit status</code></pre></div><p>Any advice? Something about the linked library. I am using libnl-tiny. I tried linking instead with plain libnl but I get the same error.</p><p>Otherwise, a compiled driver with all default options except mttools gives the same &quot;Wait for CHI Magic failed&quot; error as previously found. Also, I found I now have to compile in the two steps mentioned instructions.txt (i.e. go to /driver/builds/ugw5.1-vrx288/wireless/driver/linux and make).</p><p>As an aside, the TDW8980 official image does not include a sta_upper.bin, only ap_upper.bin. So I had to fake it by copying ap_upper.bin. Guess we&#039;re not at a stage where that is a problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364187">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">blackadder1000</div>
					<div class="post-datetime">
						23 Aug 2017, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>I turned the logging up to 9 to get a little more detail:</p><p><a href="https://pastebin.com/3XWYXUAM">https://pastebin.com/3XWYXUAM</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364190">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">Mandrake</div>
					<div class="post-datetime">
						23 Aug 2017, 21:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello Vittorio &amp; Blackadder,</p><p>Thanks for your feedback. Your platforms are using PCI not PCIe. This is a trouble to me but not for you.</p><p>I don&#039;t know if you&#039;re aware, but in order to have the full debug on screen, you have to:<br /></p><ul><li><p>Compile with target debug level. For instance maximum 9.</p></li><li><p>Insert module with debug level chosen</p></li></ul><p>Also we&#039;re hitting the black beast now. I stopped my investigations when I stumbled upon this &quot;CHI Magic&quot; timeout.</p><p>Basically what I found is that the driver is writing some code into the chipset register and polls for an output message saying &quot;I&#039;m here and ready&quot;. This message is never coming and therefore the driver stops because it believes that the chipset is dead/non avalaible.</p><p>As far as I went, the writing to the register was perfectly done but the chip was never answering. I thought at that time it could be something related to the interrrupts not assigned but after your output, this is not the case.</p><p>Last, I will try to find some time this weeked and bring all the changes from Vittorio to my github. Also, I would like to start some documentation in the wiki and improve what we have as plain test.</p><p>And thanks for joining. It&#039;s been very lonely here for the last year.</p><p>Mandrake</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364280">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						24 Aug 2017, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello Mandrake,</p><p>It is my pleasure to help, we&#039;re in the same boat here!</p><p>I compiled again with debug set to 9. For some reason the ncurses menu of menuconfig doesn&#039;t let me manually edit the debug level in the number entry pop-up. I cannot delete the existing number through that pop-up, so I manually edited .config and set:<br /></p><div class="codebox"><pre><code>#
# Log level
#
CONFIG_MAX_DLEVEL=9
# CONFIG_SILENT is not set</code></pre></div><p>Then I ran menuconfig again to check, and the log level is set to 9.</p><p>I have tried insmoding from the serial console. This is all I get:<br /></p><div class="codebox"><pre><code>root@vitto-rtr1:/# cd /lib/modules/                                             
root@vitto-rtr1:/lib/modules# ls                                                
4.4.79       mtlk.ko      mtlkroot.ko    
root@vitto-rtr1:/lib/modules# insmod mtlkroot.ko                                
[   94.862392] mtlkroot: module license &#039;Proprietary&#039; taints kernel.            
[   94.867182] Disabling lock debugging due to kernel taint                     
root@vitto-rtr1:/lib/modules# insmod mtlk.ko                                    
root@vitto-rtr1:/lib/modules# dmesg | tail -n 3                                 
[   45.310407] pppoe-wan: renamed from ppp0                                     
[   94.862392] mtlkroot: module license &#039;Proprietary&#039; taints kernel.            
[   94.867182] Disabling lock debugging due to kernel taint    </code></pre></div><p>There is no other output. There are some entries in /sys, but I believe they are debug symbols or something like that.</p><p>Is there something I am missing? How big are your binaries?<br /></p><div class="codebox"><pre><code>root@vitto-rtr1:/lib/modules# ll -h mtlk*
-rwxr-xr-x    1 root     root        1.4M Aug 24 21:42 mtlk.ko*
-rwxr-xr-x    1 root     root      112.6K Aug 24 21:42 mtlkroot.ko*</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364283">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						24 Aug 2017, 23:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>blackadder1000 wrote:</cite><blockquote><p>Otherwise, a compiled driver with all default options except mttools gives the same &quot;Wait for CHI Magic failed&quot; error as previously found. Also, I found I now have to compile in the two steps mentioned instructions.txt (i.e. go to /driver/builds/ugw5.1-vrx288/wireless/driver/linux and make).</p><p>As an aside, the TDW8980 official image does not include a sta_upper.bin, only ap_upper.bin. So I had to fake it by copying ap_upper.bin. Guess we&#039;re not at a stage where that is a problem.</p></blockquote></div><br /><p>I checked where&nbsp; &quot;Wait for CHI Magic failed&quot; is printed, and it&#039;s part of the function _mtlk_mmb_wait_chi_magic(). I see this function called in this section of code:</p><div class="codebox"><pre><code>    MTLK_START_STEP_VOID(hw_mmb_card, HW_CHI_RESET, MTLK_OBJ_PTR(hw),
                         _mtlk_mmb_chi_reset, (hw));
    MTLK_START_STEP(hw_mmb_card, HW_LOAD_FIRMWARE, MTLK_OBJ_PTR(hw),
                    _mtlk_mmb_load_firmware, (hw));
    MTLK_START_STEP_VOID(hw_mmb_card, HW_RUN_FIRMWARE, MTLK_OBJ_PTR(hw),
                         _mtlk_mmb_run_firmware, (hw));
    MTLK_START_STEP(hw_mmb_card, HW_WAIT_CHI_MAGIC, MTLK_OBJ_PTR(hw),
                    _mtlk_mmb_wait_chi_magic, (hw));</code></pre></div><br /><p>Since it seems to be after the load_firmware and run_firmware calls, I believe the firmware may already be loaded? It would be nice to know if this is the case, and if so which firmware files were sent.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364284">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						24 Aug 2017, 23:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>blackadder1000 wrote:</cite><blockquote><p>Thanks for the advice. Really helped. I&#039;m now on branch fix_build_x86_64 but still compiling for my router hardware. </p><p>I can compile all default options now except for mttools. I get the error:</p><div class="codebox"><pre><code>/home/benjamin/router/WAVE300/driver/support/mtlkfront.sh /home/benjamin/router/openwrt/staging_dir/toolchain-mips_34kc+dsp_gcc-5.3.0_musl-1.1.16/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/benjamin/router/openwrt/build_dir/target-mips_34kc+dsp_musl-1.1.16/linux-lantiq_xrx200/linux-4.4.14/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec   -L/home/benjamin/router/openwrt/staging_dir/target-mips_34kc+dsp_musl-1.1.16/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl 
/home/benjamin/router/WAVE300/driver/builds/ugw5.1-vrx288/tools/shared/linux/libmtlkc.a(mtlknlink.o): In function `parse_nl_cb&#039;:
mtlknlink.c:(.text+0x48): undefined reference to `genlmsg_parse&#039;
/home/benjamin/router/WAVE300/driver/builds/ugw5.1-vrx288/tools/shared/linux/libmtlkc.a(mtlknlink.o): In function `mtlk_nlink_create&#039;:
mtlknlink.c:(.text+0x13c): undefined reference to `genl_connect&#039;
mtlknlink.c:(.text+0x154): undefined reference to `genl_ctrl_resolve&#039;
collect2: error: ld returned 1 exit status</code></pre></div><p>Any advice? Something about the linked library. I am using libnl-tiny. I tried linking instead with plain libnl but I get the same error.</p></blockquote></div><p>No problem, thanks for testing!</p><p>I do successfully build MT tools, and can execute the binaries. I had to manually copy libnl.so frome the lede dir to /usr/lib/.<br /></p><div class="codebox"><pre><code>root@vitto-rtr1:~# ./mtlk_cli
ERROR: Server must be specified!
Usage: mtlk_cli &lt;cli_server_id&gt; &lt;cmd&gt; [arg1 [arg2 [...]]]
root@vitto-rtr1:~# ./drvhlpr
Usage: drvhlpr [OPTIONS]
Metalink Driver Helper v.3.2.1.1.48.

Available OPTIONS ([MST] - mandatory, [OPT] - optional):
  -p &lt;value&gt;
      - [MST] configuration file
  --debug-level &lt;value&gt;
  -d &lt;value&gt;
      - [OPT] debug level (DEBUG verion only)
  --stderr-err
      - [OPT] duplicate ELOG printouts to stderr
  --stderr-warn
      - [OPT] duplicate ELOG and WLOG printouts to stderr
  --stderr-all
  -e
      - [OPT] duplicate all (ELOG, WLOG, LOG) printouts to stderr
  --help
  -h
      - [OPT] print this help</code></pre></div><br /><p>This was built using branch: fix_build_x86_64, target: UGW5.1 for VRX288, package: libnl-tiny</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364288">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">blackadder1000</div>
					<div class="post-datetime">
						25 Aug 2017, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>vittorio88 - your binaries are roughly the same size as mine. My mtlk.ko was a little smaller at 1.2M but mtlkroot.ko was 112k.</p><p>In terms of loading firmware, if I don&#039;t make a fake version of sta_upper.bin then I get a dmesg error saying it&#039;s been unable to load the firmware. So firmware is loaded first then tries for the magic chi.</p><p>Sorry I can&#039;t be more useful at the moment. I&#039;m on vacation for the next couple of weeks. Will definitely help out more when I&#039;m back though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364380">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">Mandrake</div>
					<div class="post-datetime">
						26 Aug 2017, 14:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Just a tip.</p><p>We can control the amount of debugging on the console by:</p><p>1) Compiling to the desired debug level at &quot;menuconfig&quot;, being 9 maximum<br />2) Inserting the module with console debug parameter and chosen level e.g.<br /></p><div class="codebox"><pre><code>insmod mtlkroot.ko cdebug=9</code></pre></div><p>I believe you only have to define that once, during insertion of mtlkroot.ko</p><p>With this you will see fancy messages of loading firmware sta_upper.bin and so on.</p><p>However, my system crashed when debug level &gt;4. This is (yet) another thing to be fixed into the driver.</p><p>@blackadder1000, have you used the original firmware files (.bin) for your TD-W8980 router? I was wondering if, in order to have this &quot;CHI magic&quot; coming, we need to upload the specific firmware for the chipset. In this case yours is PSB8224</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364385">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						26 Aug 2017, 16:44					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>insmod mtlkroot.ko cdebug=9</code></pre></div><p>&nbsp; -&gt; Does not print anything</p><br /><div class="codebox"><pre><code>insmod mtlkroot.ko cdebuhhhg=9</code></pre></div><p>&nbsp; outputs<br /></p><div class="codebox"><pre><code>[150463.399703] mtlkroot: unknown parameter &#039;cdebuhhhg&#039; ignored</code></pre></div><br /><br /><div class="codebox"><pre><code>insmod mtlk.ko cdebug=9</code></pre></div><p>&nbsp; outputs<br /></p><div class="codebox"><pre><code>[150463.399703] mtlkroot: unknown parameter &#039;cdebug&#039; ignored</code></pre></div><br /><p>I also attempted to get the driver to print something upon insertion, but that doesn&#039;t print anything either!<br /></p><div class="codebox"><pre><code>root@openwrtdev1:~/WAVE300# git diff driver/tools/mtlkroot/linux/mtlkroot.c
diff --git a/driver/tools/mtlkroot/linux/mtlkroot.c b/driver/tools/mtlkroot/linux/mtlkroot.c
index 867249b..4a9976b 100644
--- a/driver/tools/mtlkroot/linux/mtlkroot.c
+++ b/driver/tools/mtlkroot/linux/mtlkroot.c
@@ -107,12 +107,14 @@ _mtlk_rootdrv_init(void)
 static int __init
 _mtlk_rootdrv_init_module(void)
 {
+pr_info(KERN_ALERT &quot;Hello World!\n&quot;);
   return (MTLK_ERR_OK == _mtlk_rootdrv_init()) ? 0 : -EFAULT;
 }

 static void __exit
 _mtlk_rootdrv_cleanup_module(void)
 {
+pr_info(KERN_ALERT &quot;bye World!\n&quot;);
   _mtlk_rootdrv_cleanup();
 }</code></pre></div><br /><p>Thanks for the help.<br />I believe there may be a compilation issue, or something I am not seeing..</p><p>Thanks,<br />Vittorio</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364594">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						30 Aug 2017, 12:28					</div>
				</div>
				<div class="post-content content">
					<p>hello, tryed o compile driver, and i stucked at this error<br /></p><div class="codebox"><pre><code>............................................
Generating app_info.c...
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -DHAVE_CONFIG_H -I. -I../../../../../tools/mttools/drvhlpr -I../../..  -DMTLK_SOURCE_VERSION=&quot;\&quot;3.2.1.1.48.\&quot;&quot; -DLOG_LOCAL_OID=MTLKFRONT_WILL_FILL_IT -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/config.h -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/.config.h -I../../../../../tools/rtlogger/shared -I../../../../../wireless/shared_mbss_mac/ -I../../../../../tools/mtidl -I../../../../../tools/mttools/drvhlpr/../shared/ -I../../../../../tools/mttools/drvhlpr/../shared/linux/ -I../../../../../tools/shared/linux -I../../../../../tools/shared/3rd_party/iniparser -I../../../../../tools/shared -I../../../../../wireless/shared/linux -I../../../../../wireless/shared/linux -I../../../../../wireless/shared -I../../../../../wireless/driver/shared -I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include  -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec  -MT app_info.o -MD -MP -MF .deps/app_info.Tpo -c -o app_info.o app_info.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
  LP      /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools/drvhlpr/app_info.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mv -f .deps/app_info.Tpo .deps/app_info.Po
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -DHAVE_CONFIG_H -I. -I../../../../../tools/mttools/drvhlpr -I../../..  -DMTLK_SOURCE_VERSION=&quot;\&quot;3.2.1.1.48.\&quot;&quot; -DLOG_LOCAL_OID=MTLKFRONT_WILL_FILL_IT -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/config.h -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/.config.h -I../../../../../tools/rtlogger/shared -I../../../../../wireless/shared_mbss_mac/ -I../../../../../tools/mtidl -I../../../../../tools/mttools/drvhlpr/../shared/ -I../../../../../tools/mttools/drvhlpr/../shared/linux/ -I../../../../../tools/shared/linux -I../../../../../tools/shared/3rd_party/iniparser -I../../../../../tools/shared -I../../../../../wireless/shared/linux -I../../../../../wireless/shared/linux -I../../../../../wireless/shared -I../../../../../wireless/driver/shared -I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include  -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec  -MT logmacro_database.o -MD -MP -MF .deps/logmacro_database.Tpo -c -o logmacro_database.o `test -f &#039;../../../../../tools/rtlogger/shared/logmacro_database.c&#039; || echo &#039;../../../../../tools/mttools/drvhlpr/&#039;`../../../../../tools/rtlogger/shared/logmacro_database.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
  LP      /home/cornelus/source-master/WAVE300/driver/tools/rtlogger/shared/logmacro_database.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mv -f .deps/logmacro_database.Tpo .deps/logmacro_database.Po
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec   -L/home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl 
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
/home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/mips-openwrt-linux-musl/bin/ld: cannot find -lnl
collect2: error: ld returned 1 exit status
make[4]: *** [drvhlpr] Error 1
make[4]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools/drvhlpr&#039;
make[3]: *** [install-recursive] Error 1
make[3]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools&#039;
make[2]: *** [install-recursive] Error 1
make[2]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools&#039;
make[1]: *** [install-recursive] Error 1
make[1]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand&#039;
make: *** [all] Error 2</code></pre></div>											<p class="post-edited">(Last edited by <strong>cornelus2009</strong> on 30 Aug 2017, 20:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364623">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">vittorio88</div>
					<div class="post-datetime">
						30 Aug 2017, 21:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cornelus2009 wrote:</cite><blockquote><p>hello, tryed o compile driver, and i stucked at this error<br /></p><div class="codebox"><pre><code>............................................
Generating app_info.c...
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -DHAVE_CONFIG_H -I. -I../../../../../tools/mttools/drvhlpr -I../../..  -DMTLK_SOURCE_VERSION=&quot;\&quot;3.2.1.1.48.\&quot;&quot; -DLOG_LOCAL_OID=MTLKFRONT_WILL_FILL_IT -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/config.h -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/.config.h -I../../../../../tools/rtlogger/shared -I../../../../../wireless/shared_mbss_mac/ -I../../../../../tools/mtidl -I../../../../../tools/mttools/drvhlpr/../shared/ -I../../../../../tools/mttools/drvhlpr/../shared/linux/ -I../../../../../tools/shared/linux -I../../../../../tools/shared/3rd_party/iniparser -I../../../../../tools/shared -I../../../../../wireless/shared/linux -I../../../../../wireless/shared/linux -I../../../../../wireless/shared -I../../../../../wireless/driver/shared -I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include  -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec  -MT app_info.o -MD -MP -MF .deps/app_info.Tpo -c -o app_info.o app_info.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
  LP      /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools/drvhlpr/app_info.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mv -f .deps/app_info.Tpo .deps/app_info.Po
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -DHAVE_CONFIG_H -I. -I../../../../../tools/mttools/drvhlpr -I../../..  -DMTLK_SOURCE_VERSION=&quot;\&quot;3.2.1.1.48.\&quot;&quot; -DLOG_LOCAL_OID=MTLKFRONT_WILL_FILL_IT -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/config.h -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/.config.h -I../../../../../tools/rtlogger/shared -I../../../../../wireless/shared_mbss_mac/ -I../../../../../tools/mtidl -I../../../../../tools/mttools/drvhlpr/../shared/ -I../../../../../tools/mttools/drvhlpr/../shared/linux/ -I../../../../../tools/shared/linux -I../../../../../tools/shared/3rd_party/iniparser -I../../../../../tools/shared -I../../../../../wireless/shared/linux -I../../../../../wireless/shared/linux -I../../../../../wireless/shared -I../../../../../wireless/driver/shared -I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include  -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec  -MT logmacro_database.o -MD -MP -MF .deps/logmacro_database.Tpo -c -o logmacro_database.o `test -f &#039;../../../../../tools/rtlogger/shared/logmacro_database.c&#039; || echo &#039;../../../../../tools/mttools/drvhlpr/&#039;`../../../../../tools/rtlogger/shared/logmacro_database.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
  LP      /home/cornelus/source-master/WAVE300/driver/tools/rtlogger/shared/logmacro_database.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mv -f .deps/logmacro_database.Tpo .deps/logmacro_database.Po
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec   -L/home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl 
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
/home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/mips-openwrt-linux-musl/bin/ld: cannot find -lnl
collect2: error: ld returned 1 exit status
make[4]: *** [drvhlpr] Error 1
make[4]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools/drvhlpr&#039;
make[3]: *** [install-recursive] Error 1
make[3]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools&#039;
make[2]: *** [install-recursive] Error 1
make[2]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools&#039;
make[1]: *** [install-recursive] Error 1
make[1]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand&#039;
make: *** [all] Error 2</code></pre></div></blockquote></div><br /><p>Did you:<br /></p><div class="codebox"><pre><code>    Prepare libnl-tiny package with LEDE or Openwrt SDK:
        ./scripts/feeds update -a
        ./scripts/feeds install libnl-tiny
        make package/libnl-tiny/{clean,compile,install} V=99</code></pre></div><p>??</p><br /><p>and do you have a line like this one in ugw.env.common?<br /></p><div class="codebox"><pre><code>CPPFLAGS=&quot;-I ${TARGET_DIR}/usr/include/libnl-tiny $CPPFLAGS&quot;    # libnl-tiny installs under /usr/</code></pre></div><br /><br /><p>Good luck!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364626">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						30 Aug 2017, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>added that line</p><div class="codebox"><pre><code>#WARNING: values of DEFAULT_TOOLCHAIN_PATH, DEFAULT_KERNEL_DIR and DEFAULT_KERNEL_CROSS_COMPILE 
#         variables are assigned in this file but should never be used directly.
#         $(get_toolchain_path), $(get_kernel_dir) and $(get_kernel_cross_compile) to be used instead

#####################################################
#CUSTOM THIS FILE TO THE PATHS OF YOUR LOCAL MACHINE#
#####################################################

#Toolchain path for applications build
STAGING_DIR=/home/cornelus/source-master/staging_dir
#DEFAULT_TOOLCHAIN_PATH=&quot;${STAGING_DIR}/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.15&quot;
DEFAULT_TOOLCHAIN_PATH=&quot;${STAGING_DIR}/toolchain-mips_24kc_gcc-5.4.0_musl&quot;

_BASE_TOOLCHAIN_PATH=$DEFAULT_TOOLCHAIN_PATH    #The upper directory of the host compiler
_BASE_TARGET_PATH=$DEFAULT_TOOLCHAIN_PATH

#Kernel directory location
DEFAULT_KERNEL_DIR=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83


#Compiler/precompiler flags applications build
CC=&quot;${_BASE_TOOLCHAIN_PATH}/bin/mips-openwrt-linux-gcc&quot;
CXX=&quot;${_BASE_TOOLCHAIN_PATH}/bin/mips-openwrt-linux-c++&quot;
CFLAGS=&quot;-O2 -fno-common -fno-builtin -mtune=24kec $CFLAGS&quot;
CFLAGS=&quot;-isystem=${DEFAULT_KERNEL_DIR}/include -D_GNU_SOURCE $CFLAGS&quot;
LDFLAGS=&quot;-L${DEFAULT_TOOLCHAIN_PATH}/usr/lib/&quot;
CXXFLAGS=&quot;$CFLAGS $CXXFLAGS&quot;


#Include files &amp; directories
#CPPFLAGS=&quot;-I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include $CPPFLAGS&quot;    #Add path for libnl-tiny

CPPFLAGS=&quot;-I ${TARGET_DIR}/usr/include/libnl-tiny $CPPFLAGS&quot;    # libnl-tiny installs under /usr/

#Linker flags for C++ applications linkage
cxx_ldadd=-lgcc_s

#Additional kernel flags for this platform
#kernel_cflags=-mlong-calls

#Target kernel architecture
kernel_arch=mips

#Prefix for kernel compiler/binutils
DEFAULT_KERNEL_CROSS_COMPILE=${_BASE_TOOLCHAIN_PATH}/bin/mips-openwrt-linux-
#Kernel directory location
#DEFAULT_KERNEL_DIR=$BSP_KERNEL_PATH
#Prefix for kernel compiler/binutils
#DEFAULT_KERNEL_CROSS_COMPILE=$CROSS</code></pre></div><p>same error</p><div class="codebox"><pre><code>......................
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
  LP      /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools/drvhlpr/app_info.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mv -f .deps/app_info.Tpo .deps/app_info.Po
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -DHAVE_CONFIG_H -I. -I../../../../../tools/mttools/drvhlpr -I../../..  -DMTLK_SOURCE_VERSION=&quot;\&quot;3.2.1.1.48.\&quot;&quot; -DLOG_LOCAL_OID=MTLKFRONT_WILL_FILL_IT -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/config.h -include /home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/.config.h -I../../../../../tools/rtlogger/shared -I../../../../../wireless/shared_mbss_mac/ -I../../../../../tools/mtidl -I../../../../../tools/mttools/drvhlpr/../shared/ -I../../../../../tools/mttools/drvhlpr/../shared/linux/ -I../../../../../tools/shared/linux -I../../../../../tools/shared/3rd_party/iniparser -I../../../../../tools/shared -I../../../../../wireless/shared/linux -I../../../../../wireless/shared/linux -I../../../../../wireless/shared -I../../../../../wireless/driver/shared -I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include  -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec  -MT logmacro_database.o -MD -MP -MF .deps/logmacro_database.Tpo -c -o logmacro_database.o `test -f &#039;../../../../../tools/rtlogger/shared/logmacro_database.c&#039; || echo &#039;../../../../../tools/mttools/drvhlpr/&#039;`../../../../../tools/rtlogger/shared/logmacro_database.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
  LP      /home/cornelus/source-master/WAVE300/driver/tools/rtlogger/shared/logmacro_database.c
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mv -f .deps/logmacro_database.Tpo .deps/logmacro_database.Po
/home/cornelus/source-master/WAVE300/driver/support/mtlkfront.sh /home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/bin/mips-openwrt-linux-gcc -Wall -Wno-multichar -fno-strict-aliasing -Werror -isystem=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83/include -D_GNU_SOURCE -O2 -fno-common -fno-builtin -mtune=24kec   -L/home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/usr/lib/ -o drvhlpr arphelper.o drvhlpr.o irbponger.o asel.o ledsctrl.o wpsctrl.o app_info.o logmacro_database.o ./../shared/libmttools.a ../../../tools/shared/3rd_party/iniparser/libiniparser.a -Wl,--start-group ../../../wireless/shared/libmtlkwls.a ../../../tools/shared/linux/libmtlkc.a -Wl,--end-group -lpthread -lrt -lm -lnl 
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
mips-openwrt-linux-gcc: warning: environment variable &#039;STAGING_DIR&#039; not defined
/home/cornelus/source-master/staging_dir/toolchain-mips_24kc_gcc-5.4.0_musl/mips-openwrt-linux-musl/bin/ld: cannot find -lnl
collect2: error: ld returned 1 exit status
make[4]: *** [drvhlpr] Error 1
make[4]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools/drvhlpr&#039;
make[3]: *** [install-recursive] Error 1
make[3]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools/mttools&#039;
make[2]: *** [install-recursive] Error 1
make[2]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand/tools&#039;
make[1]: *** [install-recursive] Error 1
make[1]: Leaving directory `/home/cornelus/source-master/WAVE300/driver/builds/ugw5.1-vrx288-nand&#039;
make: *** [all] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364630">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">iliushin</div>
					<div class="post-datetime">
						30 Aug 2017, 23:45					</div>
				</div>
				<div class="post-content content">
					<p>Just to make clear, you have exported the `STAGING_DIR` variable, that points to staging dir of LEDE/OpenWRT toolchain?</p><p>It should look like this:</p><div class="codebox"><pre><code>STAGING_DIR=/home/username/openwrt/staging_dir
export STAGING_DIR</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364631">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						30 Aug 2017, 23:53					</div>
				</div>
				<div class="post-content content">
					<p>same error</p><br /><div class="codebox"><pre><code>#WARNING: values of DEFAULT_TOOLCHAIN_PATH, DEFAULT_KERNEL_DIR and DEFAULT_KERNEL_CROSS_COMPILE 
#         variables are assigned in this file but should never be used directly.
#         $(get_toolchain_path), $(get_kernel_dir) and $(get_kernel_cross_compile) to be used instead

#####################################################
#CUSTOM THIS FILE TO THE PATHS OF YOUR LOCAL MACHINE#
#####################################################

#Toolchain path for applications build
STAGING_DIR=/home/cornelus/source-master/staging_dir
export STAGING_DIR
#DEFAULT_TOOLCHAIN_PATH=&quot;${STAGING_DIR}/toolchain-mips_24kc_gcc-5.4.0_musl-1.1.15&quot;
DEFAULT_TOOLCHAIN_PATH=&quot;${STAGING_DIR}/toolchain-mips_24kc_gcc-5.4.0_musl&quot;

_BASE_TOOLCHAIN_PATH=$DEFAULT_TOOLCHAIN_PATH    #The upper directory of the host compiler
_BASE_TARGET_PATH=$DEFAULT_TOOLCHAIN_PATH

#Kernel directory location
DEFAULT_KERNEL_DIR=/home/cornelus/source-master/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.4.83




#Compiler/precompiler flags applications build
CC=&quot;${_BASE_TOOLCHAIN_PATH}/bin/mips-openwrt-linux-gcc&quot;
CXX=&quot;${_BASE_TOOLCHAIN_PATH}/bin/mips-openwrt-linux-c++&quot;
CFLAGS=&quot;-O2 -fno-common -fno-builtin -mtune=24kec $CFLAGS&quot;
CFLAGS=&quot;-isystem=${DEFAULT_KERNEL_DIR}/include -D_GNU_SOURCE $CFLAGS&quot;
LDFLAGS=&quot;-L${STAGING_DIR}/target-mips_24kc_musl/usr/lib/&quot;
LDFLAGS=&quot;-L${DEFAULT_TOOLCHAIN_PATH}/usr/lib/&quot;
CXXFLAGS=&quot;$CFLAGS $CXXFLAGS&quot;


#Include files &amp; directories
CPPFLAGS=&quot;-I /home/cornelus/source-master/build_dir/target-mips_24kc_musl/libnl-tiny-0.1/include $CPPFLAGS&quot;    #Add path for libnl-tiny

#Linker flags for C++ applications linkage
cxx_ldadd=-lgcc_s

#Additional kernel flags for this platform
#kernel_cflags=-mlong-calls

#Target kernel architecture
kernel_arch=mips

#Prefix for kernel compiler/binutils
DEFAULT_KERNEL_CROSS_COMPILE=${_BASE_TOOLCHAIN_PATH}/bin/mips-openwrt-linux-
#Kernel directory location
#DEFAULT_KERNEL_DIR=$BSP_KERNEL_PATH
#Prefix for kernel compiler/binutils
#DEFAULT_KERNEL_CROSS_COMPILE=$CROSS</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364632">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">iliushin</div>
					<div class="post-datetime">
						30 Aug 2017, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>When you compile OpenWRT toolchain, do you have libnl included?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=45047&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=45047&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=45047&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=45047&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=45047&amp;p=6.html">6</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>