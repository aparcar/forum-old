<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Program Failure on Linksys WRT54GL v1.1</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p94729">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">coldo</div>
					<div class="post-datetime">
						21 Sep 2009, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi All</p><p>I&#039;ve recently taken over a project where we have some custom software running on the WRT54GL v1.1 using Kamikaze 7.09.&nbsp; The software itself is very network intensive, in that we are frequently opening and closing connections, soaking up bandwidth, and utilizing the CPU to the max.&nbsp; Unfortunately my Linux knowledge is fairly limited to start, so I&#039;m on a real learning curve with this project.</p><p>The problem I&#039;m having is that every now and again, the device appears to freeze.&nbsp; All putty connections to the device are lost, I can no longer ping it and the only way to recover it is through a hard reboot.&nbsp; I have tried writing scripts that run via crontab and perform a reboot if it gets into this state, however I dont know really what to monitor.&nbsp; I have tried monitoring memory usage, handle useage and even ifconfig to ensure the device still has a valid ip.&nbsp; I have also tried calling reboot -f direct from the crontab twice a day, but even that fails to run when the device gets itself into this state, thus even if I were monitoring the right things with a script I might not be able to perform the reboot.</p><p>What I have observed is that there seems to be no clear point at which the device gets into this state.&nbsp; It can run for an hour and get stuck or it can run for 3 days before getting stuck.&nbsp; I also see these random kernel.user messages appear with ^H in the syslog, but again I cant see any correlation with them, and the device freezing.</p><p>I have read many posts that suggest the device freezes for torrent apps due to the high number of connections used and followed suggestions there like bringing the timeouts down etc, but for the most, the suggestions already seem to have been applied in this version of kamikaze.&nbsp; I have also read posts regrding the device running out of memory, but when I run top, it suggests there is plenty of memory free, even at the point it froze (I log putty sessions to file so can see top info right up to the point the device disconnects all its connections). </p><p>I also note that Valgrind is available as a package however in its depend description it doesn&#039;t list broadcom as a supported processor, is this really the case?&nbsp; would be a handy tool if it is my app thats leaking resources and causing this issue.</p><p>I would appreciate any advice or suggestions anyone could possibly offer.</p><p>Many Thanks</p><p>Colin</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>