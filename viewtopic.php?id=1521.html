<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to SSH remotely?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p7217">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">thegnu</div>
					<div class="post-datetime">
						16 May 2005, 18:08					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m new to openwrt, and I&#039;ve set up an openwrt box at my client&#039;s office, but when I try to ssh into it remotely, the connection gets refused.</p><p>how do I set it up so it will work?&nbsp; Do I create hosts.allow/deny files?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7219">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						16 May 2005, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>Login via Telnet, set a password reboot and login with ssh.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7223">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">thegnu</div>
					<div class="post-datetime">
						16 May 2005, 21:01					</div>
				</div>
				<div class="post-content content">
					<p>I did that, but what I&#039;m trying to do is ssh into it from an external location, via the wan port.&nbsp; Is that supposed to be enabled by default?&nbsp; I&#039;m running the experimental firmware on a WRT54G v2.2</p><p>I can do it internally, but I get a connection refused error from my home computer, and another computer in the house.&nbsp; The box I want to ssh into is on a T1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7225">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">abercoder</div>
					<div class="post-datetime">
						16 May 2005, 21:06					</div>
				</div>
				<div class="post-content content">
					<p>Check your firewall rules, by default the openwrt firewall denies all incoming tcp connections on the WAN port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7273">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">DevlinGER</div>
					<div class="post-datetime">
						17 May 2005, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>Add<br />iptables -A INPUT -p tcp --dport 22 -j ACCEPT<br />to /etc/init.d/S45firewall </p><p>That will enable SSH on all Interfaces</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7415">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">thegnu</div>
					<div class="post-datetime">
						20 May 2005, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>Excellent!&nbsp; Thank you all for helping me out.&nbsp; I&#039;m a networking n00b, and a relative Linux noob (I&#039;ve only recently been able to drop the zeros), so any help is really appreciated!</p><p>EDIT:&nbsp; It doesn&#039;t seem to work.&nbsp; I added it as the last line.&nbsp; First, I deleted it, copied it over from ROM, and echo&#039;d it into the file.&nbsp; &nbsp;I tried specifying the ifname (according to nvram get wan_ifname, it&#039;s vlan1)</p><p>My IP address is x.x.x.134<br />My gateway is x.x.x.133</p><p>SSH&#039;ing in doesn&#039;t work for either address.&nbsp; I&#039;m concerned that the T1 provider might be blocking it?&nbsp; Does this make sense?</p>											<p class="post-edited">(Last edited by <strong>thegnu</strong> on 20 May 2005, 20:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7417">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">thegnu</div>
					<div class="post-datetime">
						20 May 2005, 20:41					</div>
				</div>
				<div class="post-content content">
					<p>Nevermind.&nbsp; Once I read the comments in the S45firewall file, I noticed that I needed to put the suggested line ABOVE the line:</p><p># reject (what to do with anything not allowed earlier)</p><p>Thanks again!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>