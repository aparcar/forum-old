<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> BCM6362 BCM53125 supported?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p319805">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">double.syu</div>
					<div class="post-datetime">
						15 Apr 2016, 12:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi Supporter,</p><p>SDK: openwrt 15.05.1 ef1e28c670cdbc96<br />Hardware: BCM6362 + BCM53125 </p><p>I try to run openwrt on BCM6362 + BCM53125</p><p>Booting log:</p><br /><br /><div class="codebox"><pre><code>[    0.000000] Linux version 4.1.20 (sw2@sw2-G33M-S2H) (gcc version 5.3.0 (OpenWrt GCC 5.3.0 r13) ) #30 Fri Apr 15 03:52:17 UTC 2016
[    0.000000] Detected Broadcom 0x6362 CPU revision b0
[    0.000000] CPU frequency is 400 MHz
[    0.000000] 64MB of RAM installed
[    0.000000] board_bcm963xx: Boot address 0xb8000000
[    0.000000] board_bcm963xx: CFE version: 1.0.38-114.185
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0002a070 (Broadcom BMIPS4350)
[    0.000000] board: board name: TEST6362
[    0.000000] MIPS: machine is TEST6362
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000000000-0x0000000003ffffff]
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 16 bytes.
[    0.000000] Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line:  root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Memory: 59524K/65536K available (2959K kernel code, 132K rwdata, 712K rodata, 1308K init, 193K bss, 6012K reserved, 0K cma-reserved)
[    0.000000] NR_IRQS:256
[    0.000000] clocksource MIPS: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302233 ns
[    0.000015] sched_clock: 32 bits at 200MHz, resolution 5ns, wraps every 10737418237ns
[    0.008572] Calibrating delay loop... 397.82 BogoMIPS (lpj=795648)
[    0.046838] pid_max: default: 32768 minimum: 301
[    0.052144] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.058917] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.072630] clocksource jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.084052] NET: Registered protocol family 16
[    0.312930] registering PCI controller with io_map_base unset
[    0.339244] PCI host bridge to bus 0000:00
[    0.343445] pci_bus 0000:00: root bus resource [mem 0x10f00000-0x10ffffff]
[    0.350501] pci_bus 0000:00: root bus resource [??? 0x00000000 flags 0x0]
[    0.357485] pci_bus 0000:00: root bus resource [??? 0x00000000 flags 0x0]
[    0.364474] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    0.373140] pci 0000:00:00.0: bridge configuration invalid ([bus 00-00]), reconfiguring
[    0.382385] pci 0000:00:00.0: BAR 8: no space for [mem size 0x00300000]
[    0.389181] pci 0000:00:00.0: BAR 8: failed to assign [mem size 0x00300000]
[    0.396326] pci 0000:01:00.0: BAR 2: no space for [mem size 0x00200000 64bit]
[    0.403666] pci 0000:01:00.0: BAR 2: failed to assign [mem size 0x00200000 64bit]
[    0.411371] pci 0000:01:00.0: BAR 0: no space for [mem size 0x00008000 64bit]
[    0.418717] pci 0000:01:00.0: BAR 0: failed to assign [mem size 0x00008000 64bit]
[    0.426420] pci 0000:00:00.0: PCI bridge to [bus 01]
[    0.432905] Switched to clocksource MIPS
[    0.440029] NET: Registered protocol family 2
[    0.446423] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.453665] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.460221] TCP: Hash tables configured (established 1024 bind 1024)
[    0.467169] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.473230] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.480299] NET: Registered protocol family 1
[    0.486796] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.502358] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.508387] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.521430] io scheduler noop registered
[    0.525487] io scheduler deadline registered (default)
[    0.532720] bcm63xx_uart.0: ttyS0 at MMIO 0xb0000100 (irq = 11, base_baud = 1562500) is a bcm63xx_uart
[    0.542362] console [ttyS0] enabled
[    0.542362] console [ttyS0] enabled
[    0.549486] bootconsole [early0] disabled
[    0.549486] bootconsole [early0] disabled
[    0.564444] bcm63xx-spi bcm63xx-spi: at 0xb0000800 (irq 10, FIFOs size 542)
[    0.573668] m25p80 spi1.0: found mx25l12805d, expected m25p80
[    0.579810] m25p80 spi1.0: mx25l12805d (16384 Kbytes)
[    0.585295] bcm63xxpart: CFE boot tag found with version 6 and board type DSL-3580
[    0.593139] bcm63xxpart: Partition 0 is CFE offset 0 and length 10000
[    0.599757] bcm63xxpart: Partition 1 is kernel offset 10100 and length 13872c
[    0.607082] bcm63xxpart: Partition 2 is rootfs offset 14882c and length ea77d4
[    0.614514] bcm63xxpart: Partition 3 is nvram offset ff0000 and length 10000
[    0.621770] bcm63xxpart: Partition 4 is linux offset 10000 and length fe0000
[    0.629034] 5 bcm63xxpart partitions found on MTD device spi1.0
[    0.635117] Creating 5 MTD partitions on &quot;spi1.0&quot;:
[    0.640059] 0x000000000000-0x000000010000 : &quot;CFE&quot;
[    0.646476] 0x000000010100-0x00000014882c : &quot;kernel&quot;
[    0.652993] 0x00000014882c-0x000000ff0000 : &quot;rootfs&quot;
[    0.659405] mtd: device 2 (rootfs) set to be root filesystem
[    0.668142] 1 squashfs-split partitions found on MTD device rootfs
[    0.674518] 0x000000310000-0x000000ff0000 : &quot;rootfs_data&quot;
[    0.681648] 0x000000ff0000-0x000001000000 : &quot;nvram&quot;
[    0.688067] 0x000000010000-0x000000ff0000 : &quot;linux&quot;
[    0.707446] b53_common: found switch: BCM53125, rev 4
[    0.748483] bcm63xx-wdt bcm63xx-wdt:  started, timer margin: 30 sec
[    0.756432] NET: Registered protocol family 10
[    0.765377] NET: Registered protocol family 17
[    0.770044] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    0.783029] 8021q: 802.1Q VLAN Support v1.8
[    0.798111] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    0.821964] Freeing unused kernel memory: 1308K (803c9000 - 80510000)
[    2.048576] init: Console is alive
[    2.052324] init: - watchdog -
[    2.743899] usbcore: registered new interface driver usbfs
[    2.749764] usbcore: registered new interface driver hub
[    2.755405] usbcore: registered new device driver usb
[    2.773210] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    2.782320] ehci-platform: EHCI generic platform driver
[    2.888949] ehci-platform ehci-platform: EHCI Host Controller
[    2.894901] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    2.903341] ehci-platform ehci-platform: irq 18, io mem 0xb0002500
[    2.920930] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00, overcurrent ignored
[    2.930782] hub 1-0:1.0: USB hub found
[    2.935137] hub 1-0:1.0: 1 port detected
[    2.945950] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    2.954880] ohci-platform: OHCI generic platform driver
[    2.960462] ohci-platform ohci-platform: Generic Platform OHCI controller
[    2.967505] ohci-platform ohci-platform: new USB bus registered, assigned bus number 2
[    2.975773] ohci-platform ohci-platform: irq 17, io mem 0xb0002600
[    3.042513] hub 2-0:1.0: USB hub found
[    3.046947] hub 2-0:1.0: 1 port detected
[    3.057036] init: - preinit -
ip: RTNETLINK answers: File exists
ip: RTNETLINK answers: File exists
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
ip: RTNETLINK answers: File exists
[   66.603567] mount_root: overlay filesystem has not been fully initialized yet
[   66.612327] mount_root: switching to jffs2 overlay
[   66.660634] procd: - early -
[   66.663803] procd: - watchdog -
[   67.364082] procd: - ubus -
[   67.420236] procd: - init -
Please press Enter to activate this console.
[   68.509423] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   68.547229] ip_tables: (C) 2000-2006 Netfilter Core Team
[   68.571378] nf_conntrack version 0.5.0 (950 buckets, 3800 max)
[   68.638416] xt_time: kernel timezone is -0000
[   68.664285] PPP generic driver version 2.4.2
[   68.672874] NET: Registered protocol family 24



BusyBox v1.24.1 () built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 DESIGNATED DRIVER (Bleeding Edge, r13)
 ------------------------Orange Juice         Combine all juices in a
  * 2 oz. Pineapple Juice      tall glass filled with
  * 2 oz. Grapefruit Juice     ice, stir well.
  * 2 oz. Cranberry Juice
 -----------------------------------------------------
[   82.572590] device eth0.1 entered promiscuous mode
[   82.577565] device eth0 entered promiscuous mode
[   82.610047] br-lan: port 1(eth0.1) entered forwarding state
[   82.615827] br-lan: port 1(eth0.1) entered forwarding state
[   84.616925] br-lan: port 1(eth0.1) entered forwarding state</code></pre></div><br /><br /><br /><p>Now the network cannot work, I can see the 53125 has been init, but when I try to ping the board, PC does not received ARP reply. After sniff eth0.1, system has already been reply ARP,&nbsp; </p><p># tcpdump -i eth0.1 -v</p><p>06:24:07.274741 ARP, Ethernet (len 6), IPv4 (len 4), Request who-has OpenWrt.lan tell 192.168.1.33, length 46<br />06:24:07.274823 ARP, Ethernet (len 6), IPv4 (len 4), Reply OpenWrt.lan is-at 80:fa:5b:e2:8b:47 (oui Unknown), length 28<br />06:24:08.272145 ARP, Ethernet (len 6), IPv4 (len 4), Request who-has OpenWrt.lan tell 192.168.1.33, length 46<br />06:24:08.272233 ARP, Ethernet (len 6), IPv4 (len 4), Reply OpenWrt.lan is-at 80:fa:5b:e2:8b:47 (oui Unknown), length 28</p><p>print the tx skb-&gt;data(ARP reply from CPU), </p><p>80 fa 5b 2c b6 d9 (DST MAC)<br />80 fa 5b e2 8b 47 (SRC MAC)<br />81 00 (Vlan type)<br />00 01 (Vlan ID)<br />08 06 (ARP)<br />00 01 (ETH type)<br />08 00 (IP pkt)<br />06 04 (HW Size, Protocol Size)<br />00 02 (Reply)<br />80 fa 5b e2 8b 47 (SRC MAC)<br />c0 a8 01 01 (SRC IP)<br />80 fa 5b 2c b6 d9 (DST MAC)<br />c0 a8 01 21 (DST IP)</p><p>Check the 53125 packet counter, PC send the ARP request to the board, we can see the&nbsp; port 3 has received packet from PC(check RxGoodOctets of port 3), port 8 has send packet to CPU(check TxOctets of port 8), but after the CPU send packet (ARP reply) to port 8(CPU port), the RxGoodOctets of port 8 does not any increase. PC also cannot see the ARP reply. But the RxOctets and RxFCSErrors of port 8 has increase.</p><br /><br /><br /><div class="codebox"><pre><code>root@OpenWrt:/# swconfig dev switch0 show
Global attributes:
        enable_vlan: 1
        ports: 0x011f
        reset_mib: ???
        enable_jumbo: 0
        allow_vid_4095: 0
Port 0:
        mib: TxOctets            : 0
TxDropPkts          : 0
TxBroadcastPkts     : 0
TxMulticastPkts     : 0
TxUnicastPkts       : 0
TxCollisions        : 0
TxSingleCollision   : 0
TxMultipleCollision : 0
TxDeferredTransmit  : 0
TxLateCollision     : 0
TxExcessiveCollision: 0
TxPausePkts         : 0
RxOctets            : 0
RxUndersizePkts     : 0
RxPausePkts         : 0
Pkts64Octets        : 0
Pkts65to127Octets   : 0
Pkts128to255Octets  : 0
Pkts256to511Octets  : 0
Pkts512to1023Octets : 0
Pkts1024to1522Octets: 0
RxOversizePkts      : 0
RxJabbers           : 0
RxAlignmentErrors   : 0
RxFCSErrors         : 0
RxGoodOctets        : 0
RxDropPkts          : 0
RxUnicastPkts       : 0
RxMulticastPkts     : 0
RxBroadcastPkts     : 0
RxSAChanges         : 0
RxFragments         : 0
RxJumboPkts         : 0
RxSymbolErrors      : 0
RxDiscarded         : 0

        pvid: 2
        link: port:0 link:down
Port 1:
        mib: TxOctets            : 0
TxDropPkts          : 0
TxBroadcastPkts     : 0
TxMulticastPkts     : 0
TxUnicastPkts       : 0
TxCollisions        : 0
TxSingleCollision   : 0
TxMultipleCollision : 0
TxDeferredTransmit  : 0
TxLateCollision     : 0
TxExcessiveCollision: 0
TxPausePkts         : 0
RxOctets            : 0
RxUndersizePkts     : 0
RxPausePkts         : 0
Pkts64Octets        : 0
Pkts65to127Octets   : 0
Pkts128to255Octets  : 0
Pkts256to511Octets  : 0
Pkts512to1023Octets : 0
Pkts1024to1522Octets: 0
RxOversizePkts      : 0
RxJabbers           : 0
RxAlignmentErrors   : 0
RxFCSErrors         : 0
RxGoodOctets        : 0
RxDropPkts          : 0
RxUnicastPkts       : 0
RxMulticastPkts     : 0
RxBroadcastPkts     : 0
RxSAChanges         : 0
RxFragments         : 0
RxJumboPkts         : 0
RxSymbolErrors      : 0
RxDiscarded         : 0

        pvid: 1
        link: port:1 link:down
Port 2:
        mib: TxOctets            : 0
TxDropPkts          : 0
TxBroadcastPkts     : 0
TxMulticastPkts     : 0
TxUnicastPkts       : 0
TxCollisions        : 0
TxSingleCollision   : 0
TxMultipleCollision : 0
TxDeferredTransmit  : 0
TxLateCollision     : 0
TxExcessiveCollision: 0
TxPausePkts         : 0
RxOctets            : 0
RxUndersizePkts     : 0
RxPausePkts         : 0
Pkts64Octets        : 0
Pkts65to127Octets   : 0
Pkts128to255Octets  : 0
Pkts256to511Octets  : 0
Pkts512to1023Octets : 0
Pkts1024to1522Octets: 0
RxOversizePkts      : 0
RxJabbers           : 0
RxAlignmentErrors   : 0
RxFCSErrors         : 0
RxGoodOctets        : 0
RxDropPkts          : 0
RxUnicastPkts       : 0
RxMulticastPkts     : 0
RxBroadcastPkts     : 0
RxSAChanges         : 0
RxFragments         : 0
RxJumboPkts         : 0
RxSymbolErrors      : 0
RxDiscarded         : 0

        pvid: 1
        link: port:2 link:down
Port 3:
        mib: TxOctets            : 0
TxDropPkts          : 0
TxBroadcastPkts     : 0
TxMulticastPkts     : 0
TxUnicastPkts       : 0
TxCollisions        : 0
TxSingleCollision   : 0
TxMultipleCollision : 0
TxDeferredTransmit  : 0
TxLateCollision     : 0
TxExcessiveCollision: 0
TxPausePkts         : 0
RxOctets            : 7864
RxUndersizePkts     : 0
RxPausePkts         : 0
Pkts64Octets        : 28
Pkts65to127Octets   : 16
Pkts128to255Octets  : 11
Pkts256to511Octets  : 7
Pkts512to1023Octets : 0
Pkts1024to1522Octets: 0
RxOversizePkts      : 0
RxJabbers           : 0
RxAlignmentErrors   : 0
RxFCSErrors         : 0
RxGoodOctets        : 7864
RxDropPkts          : 0
RxUnicastPkts       : 0
RxMulticastPkts     : 34
RxBroadcastPkts     : 28
RxSAChanges         : 1
RxFragments         : 0
RxJumboPkts         : 0
RxSymbolErrors      : 0
RxDiscarded         : 0

        pvid: 1
        link: port:3 link:up speed:1000baseT full-duplex
Port 4:
        mib: TxOctets            : 0
TxDropPkts          : 0
TxBroadcastPkts     : 0
TxMulticastPkts     : 0
TxUnicastPkts       : 0
TxCollisions        : 0
TxSingleCollision   : 0
TxMultipleCollision : 0
TxDeferredTransmit  : 0
TxLateCollision     : 0
TxExcessiveCollision: 0
TxPausePkts         : 0
RxOctets            : 0
RxUndersizePkts     : 0
RxPausePkts         : 0
Pkts64Octets        : 0
Pkts65to127Octets   : 0
Pkts128to255Octets  : 0
Pkts256to511Octets  : 0
Pkts512to1023Octets : 0
Pkts1024to1522Octets: 0
RxOversizePkts      : 0
RxJabbers           : 0
RxAlignmentErrors   : 0
RxFCSErrors         : 0
RxGoodOctets        : 0
RxDropPkts          : 0
RxUnicastPkts       : 0
RxMulticastPkts     : 0
RxBroadcastPkts     : 0
RxSAChanges         : 0
RxFragments         : 0
RxJumboPkts         : 0
RxSymbolErrors      : 0
RxDiscarded         : 0

        pvid: 1
        link: port:4 link:down
Port 5:
        mib: ???
        pvid: 0
        link: port:5 link:down
Port 6:
        mib: ???
        pvid: 0
        link: port:6 link:down
Port 7:
        mib: ???
        pvid: 0
        link: port:7 link:down
Port 8:
        mib: TxOctets            : 8112
TxDropPkts          : 0
TxBroadcastPkts     : 28
TxMulticastPkts     : 34
TxUnicastPkts       : 0
TxCollisions        : 0
TxSingleCollision   : 0
TxMultipleCollision : 0
TxDeferredTransmit  : 0
TxLateCollision     : 0
TxExcessiveCollision: 0
TxPausePkts         : 0
RxOctets            : 5250
RxUndersizePkts     : 0
RxPausePkts         : 0
Pkts64Octets        : 0
Pkts65to127Octets   : 0
Pkts128to255Octets  : 0
Pkts256to511Octets  : 15
Pkts512to1023Octets : 0
Pkts1024to1522Octets: 0
RxOversizePkts      : 0
RxJabbers           : 0
RxAlignmentErrors   : 0
RxFCSErrors         : 15
RxGoodOctets        : 0
RxDropPkts          : 4
RxUnicastPkts       : 0
RxMulticastPkts     : 0
RxBroadcastPkts     : 0
RxSAChanges         : 0
RxFragments         : 0
RxJumboPkts         : 0
RxSymbolErrors      : 0
RxDiscarded         : 0

        pvid: 0
        link: port:8 link:up speed:1000baseT full-duplex
VLAN 1:
        ports: 1 2 3 4 8t
VLAN 2:
        ports: 0 8t</code></pre></div><br /><p>Have any idea?</p><br /><p>Thanks!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>