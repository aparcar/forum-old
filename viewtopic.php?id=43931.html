<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> NOOB! TP-Link 703n won&#039;t answer Telnet</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p200460">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						2 May 2013, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>Thinking to avoid some confusion and noob mistakes, I bought one of these 703 routers with OpenWrt already installed. My evidence that it IS installed is the router doesn&#039;t show as a wifi accesss point like my mistakenly purchased 702 does (oop). As is pretty typical for anything I try, step 1 of the instructions runs amok.</p><p>So, I plug my 703 into my Windows 7 laptop with an ethernet cable. Do I need a router inbetween? No, it IS a router. My computer sees it as &quot;Unidentified Network&quot; with &quot;No internet access.&quot; So I turn off my WIFI internet connection because my &quot;MiFi&quot; router responds to 192.168.1.1. Then I start a command line and type TELNET 192.168.1.1, expecting to see the OpenWRT graphic and drink recipe, but it says Telnet cannot connect. </p><p>&quot;Connecting to 192.168.1.1...Could not open connection to the host, on port 23: Connect failed&quot;</p><p>I&#039;ve also tried using a browser to go to 192.168.1.1 but that gets no response.</p><p>Perhaps I don&#039;t know how to connect my Windows 7 laptop to the &quot;network?&quot;</p><p>Perhaps I need to get a serial port and wire to the insides according to the other long thread?</p><p>Following the instructions at <a href="http://wiki.villagetelco.org/index.php?title=Building_a_Serial_Port_for_TL-WR703N">http://wiki.villagetelco.org/index.php? â€¦ _TL-WR703N</a> I got the lid off without hurting myself. Inside, I find a label on the ethernet connector that says:</p><p>&quot;TL-WR703N 1.6 126019&quot;</p><p>So I THINK it isn&#039;t the 1.7 version that turns off the ethernet port when it&#039;s flashed.</p><p>There&#039;s also a blue label on the big chip that says 128.</p><p>I think I&#039;ll not snap the lid back on just yet <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>Torby</strong> on 2 May 2013, 21:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200469">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						2 May 2013, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>Does the lan connection on your laptop have a fixed ip of 192.168.1.x (where x &gt;1 and &lt;255)?</p><p>With openwrt already installed, you should probably be able to browse to 192.168.1.1 (with lan ip as above and wifi turned off on your laptop).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200476">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						2 May 2013, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>It might not necessarily answer to telnet, if it is not in failsafe mode and it has a root password already set. Have you tried to press the reset button (repeatedly in intervals) after power up? One of the leds should blink fast in failsafe and in this mode you should be able to telnet to 192.168.1.1</p>											<p class="post-edited">(Last edited by <strong>nozombian</strong> on 2 May 2013, 23:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200480">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						3 May 2013, 00:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>Does the lan connection on your laptop have a fixed ip of 192.168.1.x (where x &gt;1 and &lt;255)?</p><p>With openwrt already installed, you should probably be able to browse to 192.168.1.1 (with lan ip as above and wifi turned off on your laptop).</p></blockquote></div><p>No. It&#039;s 192.168.170.36, likely from my late employer. I&#039;ll change it to 192.168.1.36.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200481">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						3 May 2013, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>And that made it work.&nbsp; For a minute <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I used telnet to set a login password. Then I could use a browser to login and look at the tabs and such. Since I wanted to be able to talk to it without shutting off my internet first, I went to the network tab and set the ip address to 192.168.1.2, but that was the last I heard from it, either at address 192.168.1.1 or 192.168.1.2. Guess I should have adjusted my attitude first?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200486">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						3 May 2013, 01:29					</div>
				</div>
				<div class="post-content content">
					<p>Use failsafe to get back in (check the wiki), then &quot;mount_root&quot; and you will be able to look at /etc/config/network with vi.&nbsp; If you can&#039;t see what&#039;s wrong, post the contents.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 3 May 2013, 01:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200499">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						3 May 2013, 05:26					</div>
				</div>
				<div class="post-content content">
					<p>Ok. In failsafe, I can telnet back in. A handy feature that. It&#039;s been a hundred years since I last used vi <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I think I see the problem. My etc/config/network file is empty:</p><p><span class="postimg"><img src="http://barefootelectronics.com/openwrt/etc-config-network.png" alt="http://barefootelectronics.com/openwrt/etc-config-network.png" /></span></p><p>vi: Way back in University, before I had my BS, I&#039;d always done my CS assignments on my CP/M computer in Pascal. Well, one day, I decided it was time I learned to use the vax like a grown-up programmer. So, I had the vi cheat-sheet, I dialed up the vax. Typed in my program. Failed to run it, fixed it... and printed the results. With the assignment tucked away in my notebook, I thought, &quot;Now, that wasn&#039;t so bad, now, was it?&quot;</p><p>A few days before assignment was due, I&#039;d thought of an improvement. So I dialed up the vax again. No files! Where&#039;d my file go? I only had one! I asked Dale. &quot;Oh, we&#039;d had a failure and lost student files. Sorry.&quot;</p><p>So I decided I&#039;d stick with using CP/M as I rarely lost files<span class="postimg"><img src="http://www.outsidetrains.com/smile/71.gif" alt="http://www.outsidetrains.com/smile/71.gif" /></span></p>											<p class="post-edited">(Last edited by <strong>Torby</strong> on 3 May 2013, 05:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200532">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						3 May 2013, 12:43					</div>
				</div>
				<div class="post-content content">
					<p>Think you left &quot;/&quot; off of beginning of file name.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200552">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						3 May 2013, 15:36					</div>
				</div>
				<div class="post-content content">
					<p>hehe</p><p>Didn&#039;t know to put one. The result, however, is the same.</p><p><span class="postimg"><img src="http://barefootelectronics.com/openwrt/etc-config-network1.png" alt="http://barefootelectronics.com/openwrt/etc-config-network1.png" /></span></p><p>I&#039;ll spend some time googling around for some unix commands and vi instructions. I was a bit dismayed the first time I heard of a computer run by eunics.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200556">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						3 May 2013, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>In failsafe telnet, did you run &quot;mount_root&quot;?&nbsp; If not, you can&#039;t see the /etc/config files.</p><p>After you do that, try &quot;cd /etc/config&quot; and &quot;ls&quot;.&nbsp; You should see the network and wireless configuration files, among others.</p><p>[another ancient CP/M user]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200561">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						3 May 2013, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>Now I see something!</p><p><span class="postimg"><img src="http://barefootelectronics.com/openwrt/etc-config-network2.png" alt="http://barefootelectronics.com/openwrt/etc-config-network2.png" /></span></p><p>So I should convince vi to change the .2 to .1 to get back to original config?</p><p>Need to find a way to talk to this thing without disrupting my regular network.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200566">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						3 May 2013, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>No, you need to add the gateway ip and DNS ip:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; option gateway &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option dns &#039;8.8.8.8&#039;</p><p>Assuming the gateway ip is right for your network router. &#039;8.8.8.8&#039; is google&#039;s dns server.</p><p>Then you should be able to plug it into your router (if that&#039;s what you want to do).</p><p>Then &quot;ping <a href="http://www.google.com">www.google.com</a>&quot; (or anything else) should work.</p><p>You might want to use an ip higher than &quot;.2&quot;.&nbsp; That&#039;s in the range for your router&#039;s DHCP, and there could be a conflict if &quot;.2&quot; is assigned to some other device while this one is turned off.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 3 May 2013, 19:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200576">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						3 May 2013, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>Actually, I don&#039;t have a router. All I have is a 4G wifi thing that I connect my laptop, and occasionally my droid to. It appears in the wifi list as &quot;Verizon MIFI bla bla bla.&quot; All my internet is to that.</p><p>Now, when I have my TP-LINK turned on, I also see &quot;OpenWRT&quot; in the list of wifi connections. If I connect to OpenWrt, I can get LuCI on my browser. Doing so disconnects my laptop from Verizon so I don&#039;t have internet. </p><p>If I plug in the ethernet cable, I can get LuCI but my laptop can&#039;t seem to resolve DNS names until I unplug the ethernet, though web sites I&#039;m already connected to still seem to respond.</p><p>My idea for the TP-LINK thingy is to have it serve its own web pages for anybody who cares to connect to it&#039;s wifi. Of course, to do that, I need to learn how to manipulate it. Of course, I&#039;d also need to make instructions for the users like, &quot;Connect to this wifi and use your browser to go to...&quot; The TP-LINK would be embedded in the device it controls.</p><p>Am I mad? Perhaps I should just make the device with AVR&#039;s and forget letting people access it by wifi?</p>											<p class="post-edited">(Last edited by <strong>Torby</strong> on 3 May 2013, 21:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200599">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						4 May 2013, 00:05					</div>
				</div>
				<div class="post-content content">
					<p>I find that wifi access provides the best/easiest way to control little devices--if you have mains power available.&nbsp; If you want to twiddle bits (with what--AVR?), you probably want to use usb/serial to connect from the WR703N. </p><p>Note that the WR703N has a problem with dropping usb/serial when wifi is in use--it&#039;s necessary to use a &quot;high speed&quot; (as reported by dmesg) usb hub in order to avoid the dropout (see this thread &amp; post:&nbsp; <a href="https://forum.openwrt.org/viewtopic.php?id=39956&amp;p=4).">https://forum.openwrt.org/viewtopic.php â€¦ &amp;p=4).</a></p><p>I use the picaxe microprocessor with usb/serial from a WR703N with wifi web page control.&nbsp; Any microprocessor will do (and any openWrt device with USB--I used a NSLU2 in the project below).&nbsp; </p><p>Here&#039;s an example of what you can do (not specific to what you want, just a web page which controls a microprocessor from anywhere in the world):&nbsp; <a href="http://www.picaxeforum.co.uk/showthread.php?13705-Rivercam-with-PICAXE-pan-tilt-control">http://www.picaxeforum.co.uk/showthread â€¦ lt-control</a></p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 4 May 2013, 00:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200716">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						5 May 2013, 00:32					</div>
				</div>
				<div class="post-content content">
					<p>Liz, sounds like you do exactly what I want.</p><p>I&#039;ve read that the WR703N only wants to talk to high speed USB devices and that a USB router solves the problem. I promise not to fight, but I use AVR&#039;s not PIC&#039;s<span class="postimg"><img src="http://www.outsidetrains.com/smile/devil034.gif" alt="http://www.outsidetrains.com/smile/devil034.gif" /></span> </p><p>Yea, I want to control the microcontroler thing with a browser on anything that can connect to wifi. Also want to let spectators watch with whatever kind of gadget they want through the wifi.</p><p>Of course, with all the information on how to work this thing on the internet, it would be handy if I could talk to it AND use internet at the same time<span class="postimg"><img src="http://www.outsidetrains.com/smile/71.gif" alt="http://www.outsidetrains.com/smile/71.gif" /></span> I expect I just have to beat my laptop into submission.</p>											<p class="post-edited">(Last edited by <strong>Torby</strong> on 5 May 2013, 00:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200735">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						5 May 2013, 04:19					</div>
				</div>
				<div class="post-content content">
					<p>&gt;a USB router solves the problem</p><p>Not a router, but a &quot;high speed&quot; usb hub.&nbsp; Note that many hubs are sold on ebay as &quot;high speed&quot;, but when you plug them in, dmesg reports that they are &quot;full speed&quot; instead--those will lock up.&nbsp; I don&#039;t know of any way to tell which is which until you plug them in.&nbsp; I&#039;ve had better luck with the octopus types.&nbsp; I have gotten refunds on hubs falsely advertised as &quot;high speed&quot;.</p><p>Can you use your 4G dongle with the WR703N to allow it to be your router and AP, and then get a second WR703N to control your device with wifi in &quot;sta&quot; mode with a fixed IP.&nbsp; I&#039;m not sure how there will be access to your device without an AP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200834">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						5 May 2013, 23:41					</div>
				</div>
				<div class="post-content content">
					<p>hehe</p><p>Everything used to be a &quot;hub.&quot; I&#039;ve been corrected so many times for calling routers &quot;hubs&quot; that I now mistakenly call hubs &quot;routers.&quot;</p><p>Maybe I&#039;ll add a connector and use the serial lines to command the thing.</p><p>So, when looking for a hub, I need to be sure to find &quot;high speed,&quot; not &quot;full speed.&quot; Could I easily tell which it is by plugging one into my win 7 laptop?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200869">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						6 May 2013, 08:37					</div>
				</div>
				<div class="post-content content">
					<p>There are a few threads on how to disable the serial console so you can use it for your own purposes (requires a source code edit and recompile). They are hard to find, but try searching disabling serial.<br />There are also threads on the wr703n with arduino. Search for those terms.<br />Finally, I don&#039;t know about Win, but on openWRT, the output of dmesg will tell you right away if you have the correct hub.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200906">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						6 May 2013, 15:15					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think Win 7 will tell you (in an easily determinable way) whether the device is &quot;high speed&quot;.</p><p>As Rob suggests, plug the hub into the WR703N and run &quot;dmesg | tail&quot;.&nbsp; You should see text which says either &quot;high speed&quot; or &quot;full speed&quot;.</p><p>I&#039;ve seen threads about disabling serial console and using the serial for control purposes, but I haven&#039;t seen anyone report back about successes (and more importantly, failures--how do you recover if you brick the device).&nbsp; In addition, the serial console pads on the WR703N are tiny and fragile--it takes good skills to solder to the pads, and then care not to rip them up.&nbsp; As someone with 7 703Ns, I&#039;d say go with the usb/serial and high speed hub, clunky as that is.</p>											<p class="post-edited">(Last edited by <strong>lizby</strong> on 6 May 2013, 15:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200909">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						6 May 2013, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>You are right lizby, there are no definitive positive successes, and there is the (to my mind) huge issue that you can&#039;t use the serial to recover.<br />Depending on the application, it might be possible to use a couple of unused GPIOs as a bitbanged serial, or even i2c<br />But for speed, usb-serial adaptor and a proper hub. In fact, just thinking... if it is an adruino board then how about usb-usb? Don&#039;t know what the state of arduino USB libraries are though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201096">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Torby</div>
					<div class="post-datetime">
						8 May 2013, 02:58					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t really know yet how the 703 will talk to my hardware. That&#039;s a little ways down the road. I first need to learn how to make it do its linux things, but that&#039;s being a little hard as I can read about it on the internet, and try it on the router, but not at the same time. That&#039;s why I was thinking of using the serial terminal interface, so I could play linux while still connected to internet.</p><p>Hmm. Maybe if I was to set its DNS to 8.8.8.8 as Lizby suggested, and plugged the ethernet connection... </p><p>I really need to pay more attention to this, but finding a way to make some money is becoming urgent and I haven&#039;t fiddled with the router since Friday.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201098">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						8 May 2013, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t exactly understand why being connected with your 4G dongle means you can&#039;t access the WR703N.&nbsp; What ip number does your laptop get from the 4G?&nbsp; Can&#039;t you assign a static IP number in that range to the WR703N (and also to your lan connection on the laptop)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201104">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						8 May 2013, 04:41					</div>
				</div>
				<div class="post-content content">
					<p>Well that isn&#039;t that hard, it is because your router servers a gateway and the your 4g dongle serves one as well both with the same metric as windows is concerned, so it chooses at random what devices it tries to connect to the internet.</p><p>in <strong>/etc/config/dhcp</strong> add under <em>config dhcp &#039;lan&#039;</em><br /></p><div class="codebox"><pre><code>        list &#039;dhcp_option&#039; &#039;3&#039;</code></pre></div><p>That should solve it, or just simply set a static ip address in your computer without the gateway and dns servers.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>