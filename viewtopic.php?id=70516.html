<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Need to disable ping from the internet on Wan port of my router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p355799">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						7 Apr 2017, 17:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>&nbsp; &nbsp; &nbsp;On branded router with original firmware, an option named &quot;Enable ping to Internet&quot; when turned off will prevent anybody on the internet from doing a ping on my router and obtaining a ping answer. Recently I did check my router using the page grc dot com and the system return that he was able to get an answer from a ping request. I would like to disable that and make my router invisible from the internet. How can this be done?</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355800">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						7 Apr 2017, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>Disabling ping replies does NOT hide the device.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355801">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						7 Apr 2017, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>&nbsp; &nbsp; &nbsp;I know, I did put the firewall settings to drop the packets if someone try to get in. The port check is showing that all the ports are in stealth mode. Still I would like to disable ping request from the internet.</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355804">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nitroshift</div>
					<div class="post-datetime">
						7 Apr 2017, 19:26					</div>
				</div>
				<div class="post-content content">
					<p>Edit the existing IGMP rule from accept to deny.</p><p>nitroshift</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355805">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						7 Apr 2017, 19:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>&nbsp; &nbsp; &nbsp;This firewal rule?</p><br /><p>Allow-IGMP </p> <br /><p>IPv4-IGMP<br />From any host in wan<br />To any router IP on this device </p> <br /><p>Accept input </p> <br /><p> Thank&#039;s!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355816">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						8 Apr 2017, 00:00					</div>
				</div>
				<div class="post-content content">
					<p>Yes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355840">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						8 Apr 2017, 14:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>That solution did not work. grc dot com is still getting ping reply while testing my ports. I did search on the forums for a solution and find Nothing. Anything else I can try?</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355850">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						8 Apr 2017, 17:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>The setting to set in denied to de-activate ping from the internet is this one and I found the answer on Microsoft Technet:</p><p>Under firewall rules:</p><p>Name:<br />Allow-Ping </p><br /><p>Match:<br />IPv4-ICMP with type echo-request<br />From any host in wan<br />To any router IP on this device </p><p>Action:<br />Refuse input </p><br /><p>Now when I go on grc dot com and use shields up, my router does not answer to any ping reply.</p><p>Regards!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355866">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">cvmiller</div>
					<div class="post-datetime">
						9 Apr 2017, 03:19					</div>
				</div>
				<div class="post-content content">
					<p>So the problem with using grc dot com, is that it is iPv4 only. If you have IPv6 service from your ISP, grc dot com doesn&#039;t test it, and you could have your router wide open (if you have changed the firewall rules from default). </p><p>You may want to give this a try, and check your IPv6 connectivity (not a firewall tool).</p><p><a href="http://ipv6-test.com/">http://ipv6-test.com/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355884">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						9 Apr 2017, 15:54					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>IP-V6 test on <a href="http://IPv6-test.com">http://IPv6-test.com</a> say: not supported for IP-v6. For the WAN firewall rule for both IPv4 and IPv6, it is set to: drop - accept - drop.</p><p>IP-V6 and IP-V4 ping test say</p><p>Ping latency<br />timeout<br />Time to live<br />-<br />Average packet loss<br />100 %</p><p><a href="http://whatismyv6.com">http://whatismyv6.com</a> - with IPv6 only Test is showing: page cannot be displayed.</p><p>So I think that I am safe on the ipV6 side.</p><p>Thank you to letting me know about it!</p><p>Regards!</p>											<p class="post-edited">(Last edited by <strong>sycho</strong> on 9 Apr 2017, 16:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355919">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						10 Apr 2017, 09:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sycho wrote:</cite><blockquote><p>Hi!</p><p>&nbsp; &nbsp; &nbsp;On branded router with original firmware, an option named &quot;Enable ping to Internet&quot; when turned off will prevent anybody on the internet from doing a ping on my router and obtaining a ping answer. Recently I did check my router using the page grc dot com and the system return that he was able to get an answer from a ping request. I would like to disable that and make my router invisible from the internet. How can this be done?</p><p>Thank you!</p></blockquote></div><p>You do realize, that a) the option seems to be mislabeled from your description it should be &quot;Enable ping from Internet&quot;, b) even if your router silently drops ICMP echo requests the machine is still not &quot;invisible&quot;? The reason for the second is that the hop just in front of your router will signal if there is no machine connected with the requested IP address, by sending a &quot;Destination Host Unreachable&quot; error if the end host does not exist, Otherwise the ping will simply time out (see <a href="https://technet.microsoft.com/en-us/library/cc940095.aspx">https://technet.microsoft.com/en-us/lib â€¦ 40095.aspx</a>)<br />In short there are reasons to drop ICMP echo requests packets at your router, but &quot;invisibility&quot; is not one of them...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355943">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						10 Apr 2017, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>&nbsp; &nbsp; &nbsp;I do understand that it is not invisible and thank you! To be honnest as openwrt is a open source firmware, I was afraid to use it on my router: the D-Link firmware sucks and it is hard to get the internet to work on the DIR-825 B1 with the original firmware. I do not want anyone to get in and steel information. This is why I wanted to re-inforced the firewall. I did everything that I could to make it as secure as I could.</p><p>Thank you!</p>											<p class="post-edited">(Last edited by <strong>sycho</strong> on 10 Apr 2017, 18:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355952">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">cvmiller</div>
					<div class="post-datetime">
						10 Apr 2017, 20:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sycho wrote:</cite><blockquote><p><a href="http://whatismyv6.com">http://whatismyv6.com</a> - with IPv6 only Test is showing: page cannot be displayed.</p><p>So I think that I am safe on the ipV6 side.</p><p>Thank you to letting me know about it!</p><p>Regards!</p></blockquote></div><p>If you are using the &quot;standard&quot; firewall rules with 15.05 OpenWrt, then you should be good when your ISP enables IPv6. But expect that they will probably enable it _without_ telling you first.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355962">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">sycho</div>
					<div class="post-datetime">
						10 Apr 2017, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>sycho wrote:<br /><a href="http://whatismyv6.com">http://whatismyv6.com</a> - with IPv6 only Test is showing: page cannot be displayed.<br />So I think that I am safe on the ipV6 side.<br />Thank you to letting me know about it!<br />Regards!<br />If you are using the &quot;standard&quot; firewall rules with 15.05 OpenWrt, then you should be good when your ISP enables IPv6. But expect that they will probably enable it _without_ telling you first.</p><br /><p>Hi!</p><p>&nbsp; &nbsp; &nbsp;The only setting that I have change in the firewall for the WAN was to put the rules at drop - accept - drop. And as previously mentioned, deny any ping request. So then I should be fine with the firewall. I have Chaos Calmer 15.05. I do not see a reason to upgrade to 15.05.1.</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p356000">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">eduperez</div>
					<div class="post-datetime">
						11 Apr 2017, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>Just my two cents:<br /></p><ul><li><p>Default firewall configuration is as strong as it goes.</p></li><li><p>Disabling PING will not make your system safer.</p></li></ul>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p356002">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						11 Apr 2017, 10:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eduperez wrote:</cite><blockquote><ul><li><p>Default firewall configuration is as strong as it goes.</p></li><li><p>Disabling PING will not make your system safer.</p></li></ul></blockquote></div><p>+1 for that.</p><p>As addition, disabling ping may even will hurt your speeds in case your ISP uses ping for network optimisation (latency testing).</p><p>(With ipv6 the functional ICMP packets would be even more important, as they are essential e.g. for connection-specific MTU negotiations.)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>