<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HOW-TO PPTP on 7.09????</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p57496">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">suspam</div>
					<div class="post-datetime">
						15 Oct 2007, 03:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi! </p><p>I really big problem with pptp! i havw VPn connection to my ISP, so i realy need it on my WL 700ge.</p><p>What i have:<br />WL 700ge with k 7.09</p><p>installed modules for pptp connection: </p><p>iptables-mod-extra_1.3.7-1_mipsel.ipk<br />kmod-crypto_2.4.34-brcm-1_mipsel.ipk<br />kmod-gre_2.4.34-brcm-1_mipsel.ipk<br />kmod-ipt-extra_2.4.34-brcm-1_mipsel.ipk<br />kmod-mppe_2.4.34-brcm-1_mipsel.ipk<br />kmod-ppp_2.4.34-brcm-1_mipsel.ipk<br />libgcc_3.4.6-9_mipsel.ipk<br />ppp_2.4.3-8_mipsel.ipk<br />pptpd_1.3.0-1_mipsel.ipk<br />pptp_1.6.0-4_mipsel.ipk</p><p>/etc/ppp/options.pptp <br /></p><div class="codebox"><pre><code>lock
noauth
nobsdcomp
nodeflate
idle 0
defaultroute
replacedefaultroute</code></pre></div><p>/etc/ppp/peers/corbina<br /></p><div class="codebox"><pre><code>pty &quot;pptp vpn.corbina.net --nolaunchpppd&quot;
name my-login
remotename corbina
ipparam corbina
file /etc/ppp/options.pptp
logfile /tmp/corbina.log
defaultroute
replacedefaultroute
#noipdefault
#nodetach
mtu 1492</code></pre></div><p>/etc/ppp/chap-secrets<br /></p><div class="codebox"><pre><code>#USERNAME PROVIDER PASSWORD IPADDRESS
my-login corbina my-pass *</code></pre></div><p>now, how i can start connection?<br />i read lots of forums, try several methods, but still have nothing <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57523">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ssm2000</div>
					<div class="post-datetime">
						15 Oct 2007, 15:06					</div>
				</div>
				<div class="post-content content">
					<p>Just issue from shell -&gt; pppd call corbina<br />It should bring you up ppp0 interface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57524">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ssm2000</div>
					<div class="post-datetime">
						15 Oct 2007, 15:08					</div>
				</div>
				<div class="post-content content">
					<p>OpenWrt also has ip-up and if-up scripts - but they need some tuning from the box. It&#039;s more elegant way, but for now - it&#039;s too buggy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57525">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						15 Oct 2007, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>The best solution is to write a good init script which uses UCI for the configuration...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57536">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">suspam</div>
					<div class="post-datetime">
						15 Oct 2007, 18:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ssm2000 wrote:</cite><blockquote><p>Just issue from shell -&gt; pppd call corbina<br />It should bring you up ppp0 interface.</p></blockquote></div><p>Great! i can&#039;t find pppd package! when i type pppd - it tell me that cant find pppd</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57672">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">suspam</div>
					<div class="post-datetime">
						18 Oct 2007, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>ok, i find the pppd ! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>i run the: pppd call corbina debug nodetach</p><p>and here is my log:<br />using channel 25<br />Using interface ppp0<br />Connect: ppp0 &lt;--&gt; /dev/pts/1<br />sent [LCP ConfReq id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xbb2bda90&gt;]<br />rcvd [LCP ConfReq id=0x1 &lt;mru 1460&gt; &lt;auth chap MD5&gt; &lt;magic 0x2036c134&gt;]<br />sent [LCP ConfAck id=0x1 &lt;mru 1460&gt; &lt;auth chap MD5&gt; &lt;magic 0x2036c134&gt;]<br />rcvd [LCP ConfAck id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xbb2bda90&gt;]<br />rcvd [CHAP Challenge id=0x1 &lt;eb7cac89c49bb8c61b66f43b56c4a322&gt;, name = &quot;bras18&quot;]<br />sent [CHAP Response id=0x1 &lt;a9c2592c583adeb1acc4222c8b51b063&gt;, name = &quot;my_login&quot;]<br />rcvd [CHAP Success id=0x1 &quot;&quot;]<br />CHAP authentication succeeded<br />CHAP authentication succeeded<br />sent [CCP ConfReq id=0x1 &lt;mppe -H -M -S -L -D +C&gt;]<br />sent [IPCP ConfReq id=0x1 &lt;compress VJ 0f 01&gt; &lt;addr 0.0.0.0&gt;]<br />rcvd [IPCP ConfReq id=0x1 &lt;addr 85.21.0.18&gt;]<br />sent [IPCP ConfAck id=0x1 &lt;addr 85.21.0.18&gt;]<br />rcvd [LCP ProtRej id=0x2 80 fd 01 01 00 0c 12 06 00 00 00 01]<br />rcvd [IPCP ConfRej id=0x1 &lt;compress VJ 0f 01&gt;]<br />sent [IPCP ConfReq id=0x2 &lt;addr 0.0.0.0&gt;]<br />rcvd [IPCP ConfNak id=0x2 &lt;addr 89.178.156.75&gt;]<br />sent [IPCP ConfReq id=0x3 &lt;addr 89.178.156.75&gt;]<br />rcvd [IPCP ConfAck id=0x3 &lt;addr 89.178.156.75&gt;]<br />replacing old default route to eth0.1 [10.46.0.17]<br />local&nbsp; IP address 89.178.156.75<br />remote IP address 85.21.0.18<br />Script /etc/ppp/ip-up started (pid 1256)<br />Script /etc/ppp/ip-up finished (pid 1256), status = 0x1<br />Script pptp 85.21.0.18 --nolaunchpppd finished (pid 1246), status = 0x0<br />Modem hangup<br />Connect time 1.0 minutes.<br />Sent 56051476 bytes, received 0 bytes.<br />restoring old default route to eth0.1 [10.46.0.17]<br />Script /etc/ppp/ip-down started (pid 1291)<br />Connection terminated.<br />Waiting for 1 child processes...<br />&nbsp; script /etc/ppp/ip-down, pid 1291<br />Script /etc/ppp/ip-down finished (pid 1291), status = 0x1</p><p>ok, am i! but no Internet <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>What&#039;s the problem?</p>											<p class="post-edited">(Last edited by <strong>suspam</strong> on 18 Oct 2007, 01:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57789">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">suspam</div>
					<div class="post-datetime">
						19 Oct 2007, 23:18					</div>
				</div>
				<div class="post-content content">
					<p>Still have a problem <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Connect time 1.0 minutes. and while i connected - i have ho internet!!! <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57802">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hermantsao</div>
					<div class="post-datetime">
						20 Oct 2007, 16:53					</div>
				</div>
				<div class="post-content content">
					<p>please see as the link<br /><a href="http://wiki.openwrt.org/PPTPDHowto?highlight=%28pptpd%29">http://wiki.openwrt.org/PPTPDHowto?high … 28pptpd%29</a></p><p>and modify /etc/pptpd.conf to add this line<br />localip 172.16.1.1</p><p>and modify /etc/ppp/chap-secrets to add your account ex:<br />yourname pptp-server yourpassword 172.17.1.2</p><p>that you can use it.<br />172.16.1.1 &lt;-your server ip<br />172.16.1.2~254 &lt;-your remot ip<br />please check you client infotmation to make sure the router assign correctly(172.16.1.1).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57806">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">suspam</div>
					<div class="post-datetime">
						20 Oct 2007, 17:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hermantsao wrote:</cite><blockquote><p>please see as the link<br /><a href="http://wiki.openwrt.org/PPTPDHowto?highlight=%28pptpd%29">http://wiki.openwrt.org/PPTPDHowto?high … 28pptpd%29</a></p><p>and modify /etc/pptpd.conf to add this line<br />localip 172.16.1.1</p><p>and modify /etc/ppp/chap-secrets to add your account ex:<br />yourname pptp-server yourpassword 172.17.1.2</p><p>that you can use it.<br />172.16.1.1 &lt;-your server ip<br />172.16.1.2~254 &lt;-your remot ip<br />please check you client infotmation to make sure the router assign correctly(172.16.1.1).</p></blockquote></div><p>ok, but what about connection time?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57832">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">hermantsao</div>
					<div class="post-datetime">
						21 Oct 2007, 21:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>suspam wrote:</cite><blockquote><div class="quotebox"><cite>hermantsao wrote:</cite><blockquote><p>please see as the link<br /><a href="http://wiki.openwrt.org/PPTPDHowto?highlight=%28pptpd%29">http://wiki.openwrt.org/PPTPDHowto?high … 28pptpd%29</a></p><p>and modify /etc/pptpd.conf to add this line<br />localip 172.16.1.1</p><p>and modify /etc/ppp/chap-secrets to add your account ex:<br />yourname pptp-server yourpassword 172.17.1.2</p><p>that you can use it.<br />172.16.1.1 &lt;-your server ip<br />172.16.1.2~254 &lt;-your remot ip<br />please check you client infotmation to make sure the router assign correctly(172.16.1.1).</p></blockquote></div><p>ok, but what about connection time?</p></blockquote></div><p>I didn&#039;t have any time iessues or other issues in my pptpd.</p>											<p class="post-edited">(Last edited by <strong>hermantsao</strong> on 21 Oct 2007, 21:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57861">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ssm2000</div>
					<div class="post-datetime">
						22 Oct 2007, 12:12					</div>
				</div>
				<div class="post-content content">
					<p>you need to add a static route to your PPTP host 85.21.0.18 ;-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>