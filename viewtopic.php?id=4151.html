<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Crap my pants! IDE + USB 2.0 + WiFi G + 1GB Ethernet for $150!! Linux!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p19319">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						19 Jan 2006, 07:25					</div>
				</div>
				<div class="post-content content">
					<p>Ok, why are we not all over this device like crazy?</p><br /><p>DLink DSM-G600 NAS device. <a href="http://www.dlink.com/products/?pid=377&amp;sec=0">http://www.dlink.com/products/?pid=377&amp;sec=0</a></p><p> * Use with an internal 3.5&quot; ATA/IDE hard drive to create extra network storage (not included)<br /> * 1 10/100/1000 Gigabit Ethernet Port<br /> * 2 USB 2.0 ports let you expand your storage capabilities by adding more external hard drives<br /> * Also functions as a wireless access point to create or expand your 802.11g wireless network</p><br /><p>Three weeks ago they released GPL files for it:</p><p><a href="http://support.dlink.com/faq/view.asp?prod_id=2081&amp;question=GPL">http://support.dlink.com/faq/view.asp?p … estion=GPL</a></p><br /><p>Price<br />=========<br />In the USA, Best Buy is selling these right now for $150 and there is even 2 rebates for $20 + $10... so $120 after rebate.&nbsp; <a href="http://www.bestbuy.com/site/olspage.jsp?skuId=7441413&amp;type=product&amp;id=1124432576118">http://www.bestbuy.com/site/olspage.jsp … 4432576118</a></p><br /><p>The uses!<br />==========<br />I mean you could use this as a 3 way wireless router (built in plus 2 USB WiFi adapters), you could use it for USB cameras... this device has huge potential.</p><br /><p>Can someone study the GPL files for download... what do we need to do to build our own firmware sets?</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 19 Jan 2006, 07:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19373">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">evanspa1</div>
					<div class="post-datetime">
						19 Jan 2006, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>Sounds cool. Does anybody know what processor, flash, memory, wireless chipset it has?</p><p>Cheers, Paul.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19377">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						19 Jan 2006, 19:30					</div>
				</div>
				<div class="post-content content">
					<p>This is a NAS, no routing functions as far as I can see.&nbsp; Not finding a lot in the way of serious specifications or reviews of this device. If you buy one, an autopsy with digital photos of the board would be very welcomed!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19378">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						19 Jan 2006, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>The GPL release directory indicates that it&#039;s PPC based and uses the uClibc toolchain. No build system or image building tools, though <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19379">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						19 Jan 2006, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>I just picked one up at BB. </p><p>FCC ID: RRK20040603056</p><p>FCC filings:</p><p><a href="https://gullfoss2.fcc.gov/prod/oet/cf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=515372&amp;fcc_id=RRK20040603056">https://gullfoss2.fcc.gov/prod/oet/cf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=515372&amp;fcc_id=&#039;RRK20040603056&#039;</a></p><br /><br /><p>You can open it without voiding the warranty. Raylink RT2560 mini pci card. <a href="http://www.ralinktech.com/prod-07.htm">http://www.ralinktech.com/prod-07.htm</a></p><p>Processor specs: <a href="http://www.digchip.com/datasheets/parts/datasheet/311/XPC8241LZP200B.php">http://www.digchip.com/datasheets/parts … ZP200B.php</a></p><p>Looks like it&#039;s got 2-3 serial ports and a JTAG connector internally.</p>											<p class="post-edited">(Last edited by <strong>whm3</strong> on 19 Jan 2006, 19:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19381">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						19 Jan 2006, 20:01					</div>
				</div>
				<div class="post-content content">
					<p>Looks like those FCC regs are only for the raylink card. I&#039;ll play with it more tonight to see if i can get serial console.</p><p>I&#039;ll also take pictures of the board. If I can&#039;t get serial console I&#039;ll probably return it. I do have a spare atheros minipci card to throw in it tho.....</p>											<p class="post-edited">(Last edited by <strong>whm3</strong> on 19 Jan 2006, 20:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19387">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						19 Jan 2006, 21:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>The GPL release directory indicates that it&#039;s PPC based and uses the uClibc toolchain. No build system or image building tools, though <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>Nothing in the packaging referencing the GPL either. At least with the wgt634u it came with a printed GPL in the packaging.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19389">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						19 Jan 2006, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>Going through the GPL stuff a little bit, looks like they just dumped some developer&#039;s old homedir or something... (whoever wilsonc is)<br />Another note, this is old code.&nbsp; Also keep in mind, I havn&#039;t looked at a regular ppc sourcetree, so this might be generic stuff.</p><div class="codebox"><pre><code>[whm@megatron ppclinux]$ cat NOTE
2003-04-03 21:56
1.Fix the calibrate timer problem(divisor 4)
2.Mark out the useless comment and code.
3.Makr out the CPU_CAN_DOZE to prevent panic

[TODO]
1.Pull out the MTD!

[whm@megatron ppclinux]$</code></pre></div><p>MTD memory mapping:<br /></p><div class="codebox"><pre><code>[whm@megatron ppclinux]$ cat mtd_map.txt
Total 0x400000 MB
----------------------------------------------------------------------
Phy Addr        Offset-Name                     Size
----------------------------------------------------------------------
FFC0:0000       0000:0000
                MTD0                            =       64KB

FFC1:0000       0001:0000
                Linux Ramdisk           =       2.936MB

FFF0:0000       0030:0000
                UBoot Boot Loader       =       64KB

FFF1:0000       0031:0000
                Linux Kernel            =       936KB

[whm@megatron ppclinux]$</code></pre></div><p>The dev log...<br /></p><div class="codebox"><pre><code>[whm@megatron ppclinux]$ cat REX_LOG
20030417:
1.From 0411, I have correct the IRQ layout of 2 miniPCI slots.
2.Strip the net support of U-boot, thus size reduces below 128k.
3.Strip the net support to avoid reboot &quot;Bad trap 0x800&quot; bug.

20030411:
1.continue snmpd, brctl, and openssl, and ebtable.
2.WARNING!!! Change the kernel Ramdisk setting to 6144 instead of 4096

20030410:
1.Add linux-wlan-ng userspace code(old rootfsdir is in backup)

20030409:
1. Add bridge support in user and kernel
2. Add snmpd
3. eb-tables

20030408:
1. Added QoS kernel support
2. Added all library-user space
3. MTD is OK to upgrade firmware
4. Orinoco modules work
5. downgrade tinylogin to 0.8
6. port tinylogin successfully
7. May resolve the Oops problem
8. Cancel the flash space for Uboot ENV
9. Uboot can autoboot now
10.Reduce the Uboot size for 6kb

20030407:
1.Add MTD support
[whm@megatron ppclinux]$</code></pre></div><p>The stock kernel config:<br /></p><div class="codebox"><pre><code>[whm@megatron ppclinux]$ cat .config|grep -v ^#
CONFIG_RWSEM_XCHGADD_ALGORITHM=y
CONFIG_HAVE_DEC_LOCK=y
CONFIG_EXPERIMENTAL=y
CONFIG_MODULES=y
CONFIG_KMOD=y
CONFIG_PPC=y
CONFIG_PPC32=y
CONFIG_6xx=y
CONFIG_PPC_STD_MMU=y
CONFIG_SANDPOINT=y
CONFIG_PPC_ISATIMER=y
CONFIG_PCI=y
CONFIG_NET=y
CONFIG_SYSCTL=y
CONFIG_SYSVIPC=y
CONFIG_KCORE_ELF=y
CONFIG_BINFMT_ELF=y
CONFIG_KERNEL_ELF=y
CONFIG_HOTPLUG=y
CONFIG_MTD=y
CONFIG_MTD_PARTITIONS=y
CONFIG_MTD_CHAR=y
CONFIG_MTD_BLOCK=y
CONFIG_MTD_CFI=y
CONFIG_MTD_GEN_PROBE=y
CONFIG_MTD_CFI_AMDSTD=y
CONFIG_BLK_DEV_LOOP=y
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_SIZE=6144
CONFIG_BLK_DEV_INITRD=y
CONFIG_PACKET=y
CONFIG_INET=y
CONFIG_BRIDGE=m
CONFIG_SCSI=y
CONFIG_BLK_DEV_SD=y
CONFIG_SD_EXTRA_DEVS=40
CONFIG_BLK_DEV_SR=y
CONFIG_BLK_DEV_SR_VENDOR=y
CONFIG_SR_EXTRA_DEVS=2
CONFIG_CHR_DEV_SG=y
CONFIG_SCSI_DEBUG_QUEUES=y
CONFIG_SCSI_MULTI_LUN=y
CONFIG_SCSI_ACARD=y
CONFIG_NETDEVICES=y
CONFIG_BONDING=m
CONFIG_NET_ETHERNET=y
CONFIG_NET_PCI=y
CONFIG_TULIP=y
CONFIG_IP1000A=y
CONFIG_NET_RADIO=y
CONFIG_HERMES=m
CONFIG_PCI_HERMES=m
CONFIG_NET_WIRELESS=y
CONFIG_SERIAL=y
CONFIG_SERIAL_CONSOLE=y
CONFIG_AUTOFS4_FS=y
CONFIG_EXT3_FS=y
CONFIG_JBD=y
CONFIG_FAT_FS=y
CONFIG_MSDOS_FS=y
CONFIG_VFAT_FS=y
CONFIG_CRAMFS=y
CONFIG_RAMFS=y
CONFIG_ISO9660_FS=y
CONFIG_JOLIET=y
CONFIG_ZISOFS=y
CONFIG_MINIX_FS=y
CONFIG_NTFS_FS=y
CONFIG_NTFS_RW=y
CONFIG_PROC_FS=y
CONFIG_EXT2_FS=y
CONFIG_UDF_FS=y
CONFIG_UDF_RW=y
CONFIG_NFS_FS=y
CONFIG_NFS_V3=y
CONFIG_SUNRPC=y
CONFIG_LOCKD=y
CONFIG_LOCKD_V4=y
CONFIG_ZISOFS_FS=y
CONFIG_PARTITION_ADVANCED=y
CONFIG_MSDOS_PARTITION=y
CONFIG_NLS=y
CONFIG_NLS_DEFAULT=&quot;iso8859-1&quot;
CONFIG_NLS_CODEPAGE_950=y
CONFIG_USB=y
CONFIG_USB_EHCI_HCD=m
CONFIG_USB_OHCI=m
CONFIG_USB_STORAGE=m
CONFIG_USB_PRINTER=m
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y

[whm@megatron ppclinux]$</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19395">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						20 Jan 2006, 01:49					</div>
				</div>
				<div class="post-content content">
					<p>Board Detail</p><p><a href="http://img456.imageshack.us/my.php?image=boarddetail0tb.jpg"><span class="postimg"><img src="http://img456.imageshack.us/img456/26/boarddetail0tb.th.jpg" alt="http://img456.imageshack.us/img456/26/boarddetail0tb.th.jpg" /></span></a></p><p>Possible Serial and JTAG connections</p><p><a href="http://img456.imageshack.us/my.php?image=jtagserialmaybe9mu.jpg"><span class="postimg"><img src="http://img456.imageshack.us/img456/7246/jtagserialmaybe9mu.th.jpg" alt="http://img456.imageshack.us/img456/7246/jtagserialmaybe9mu.th.jpg" /></span></a></p><p>IDE and other Stuff.</p><p><a href="http://img203.imageshack.us/my.php?image=ide9ht.jpg"><span class="postimg"><img src="http://img203.imageshack.us/img203/2894/ide9ht.th.jpg" alt="http://img203.imageshack.us/img203/2894/ide9ht.th.jpg" /></span></a></p><p>Extra Pads:</p><p><a href="http://img203.imageshack.us/my.php?image=frontpads4iu.jpg"><span class="postimg"><img src="http://img203.imageshack.us/img203/811/frontpads4iu.th.jpg" alt="http://img203.imageshack.us/img203/811/frontpads4iu.th.jpg" /></span></a></p><p><a href="http://img203.imageshack.us/my.php?image=frontpads22ay.jpg"><span class="postimg"><img src="http://img203.imageshack.us/img203/1434/frontpads22ay.th.jpg" alt="http://img203.imageshack.us/img203/1434/frontpads22ay.th.jpg" /></span></a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19402">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						20 Jan 2006, 04:43					</div>
				</div>
				<div class="post-content content">
					<p>Some quick notes -</p><p>The <a href="ftp://ftp.dlink.com/Multimedia/dsmG600_revB/Firmware/DSMG600_firmware_100.zip">firmware</a> starts off with several 4 byte integers, following a pattern of &lt;offset&gt;&lt;size&gt;</p><div class="codebox"><pre><code>hexdump -Cv
00000000  00 00 00 40 00 0d 04 da  00 0d 05 1a 00 2d e0 93  |...@.........-..|
00000010  00 3a e5 ad 00 00 07 42  3d 7b 02 8f ed f1 8c c4  |.:.....B={......|</code></pre></div><p>So, we end up with:</p><div class="codebox"><pre><code>offset   size
00000040  000D04DA = kernel &quot;vmlinux&quot; (gzipped)
000D051A  002DE093 = ramdisk &quot;ramdisk_el&quot; (gzipped ext2)
003AE5AD  00000742 = tar.gz archive</code></pre></div><p>The kernel and the ramdisk both have a 0x40 byte header before the file begins; I&#039;m not terribly concerned with what&#039;s in the headers, although the filename and sizes are pretty obvious. The files begin with the sequence 1F 8B 08 08, which everyone should memorize since it&#039;s the magic sequence to start a gzip file.</p><p>Mounting the ramdisk gives you the root filesystem which somewhat surprisingly contains yet more data on a cramfs filesystem image contained within. On startup it&#039;ll run /etc/rc.sh which will mount the various filesystems and initialize the drive before running /usr/sbin/chk_fun_plug .. (what an interesting name, what does it do? oh, it checks for file called fun_plug on the disk and then executes it) or in other words it&#039;s a backdoor.</p><p>Not much else of interest on the firmware, and I didn&#039;t even bother grabbing the gpl&#039;d sources.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19404">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						20 Jan 2006, 04:47					</div>
				</div>
				<div class="post-content content">
					<p>Wow. This thing is going to be easy to hack. No serial console needed. Thanks to [mbm] for helping break up the firmware filesystem images.</p><p>filesystem images available <a href="http://www.ghetto.org/~devi0us/stuff/DSMG600_filesystems.tgz">here.</a></p><p>Loopback mount them, and they&#039;re good to go.</p><p>Let the router format the disk, throw it in another system, create a file called &quot;fun_plug&quot; at the root of that disk with execute perms, and your&#039;re set. That file is shared on the default samba share from the router, so if you smbmount it you can edit to your heart&#039;s content to make it do all kinds of stuff, like:</p><div class="codebox"><pre><code>#!/bin/sh

dmesg &gt; /mnt/HD_a2/dmesg.out</code></pre></div><p>Which produces:</p><div class="codebox"><pre><code>[root@optimus sdc1]# more dmesg.out
Total memory 33554432 MB.
Memory BAT mapping: BAT2=32Mb, BAT3=0Mb, residual: 0Mb
Total memory is 33554432.
CPU = 82xx
Linux version 2.4.21-pre4 (ffna@swtest2) (gcc version 2.95.4 20010319 (prereleas
e)) #480 ¥| 8¤ë 25 17:39:08 CST 2005
OpenPIC_Addr in mpc10x_bridge_init function is fc040000
Motorola SPS Sandpoint Test Platform
Port by MontaVista Software, Inc. (source@mvista.com)
On node 0 totalpages: 8192
zone(0): 8192 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/ram console=ttyS0,9600
OpenPIC Version 1.2 (1 CPUs and 123 IRQ sources) at fc040000
Calibrating delay loop... 133.12 BogoMIPS
Memory: 27312k available (1560k kernel code, 508k data, 60k init, 0k highmem)
Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)
Inode cache hash table entries: 2048 (order: 2, 16384 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 8192 (order: 3, 32768 bytes)
POSIX conformance testing by UNIFIX
PCI: Probing PCI hardware
PCI fixup irq: (PCI device 1814:0201) got 0
PCI fixup irq: (PCI device 1033:0035) got 1
PCI fixup irq: (PCI device 1033:0035) got -1
PCI fixup irq: (PCI device 1033:00e0) got 2
PCI fixup irq: (PCI device 13f0:1023) got 3
PCI fixup irq: (PCI device 1191:0008) got 4
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
Journalled Block Device driver loaded
NTFS driver v1.1.22 [Flags: R/W]
udf: registering filesystem
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SERIAL_PCI enabled
ttyS00 at 0xfc004500 (IOMEM)(irq = 121) is a ST16650
ttyS01 at 0xfc004600 (IOMEM)(irq = 122) is a ST16650
RAMDISK driver initialized: 16 RAM disks of 6144K size 1024 blocksize
loop: loaded (max 8 devices)
ipg : v0.36 10/31/01  Written by Craig Rich, www.sundanceti.com
IC PLUS IP1000 1000/100/10 based NIC found.
Ethernet device registered as: eth0
IPG module loaded.
SCSI subsystem driver Revision: 1.00
atp86x_detect:
   ACARD ATP-865 PCI ATA133 2-Channels Host Adapter: 0    IO:FEBFFEF8, IRQ:4.
         ID:  0  Maxtor 53073H4                   UDMA5 (100)
scsi0 : ACARD ATP86X PCI ATA133 Adapter Driver Ver: 0.78  Date: 2004/01/15

  Vendor: Maxtor 5  Model: 3073H4            Rev:
  Type:   Direct-Access                      ANSI SCSI revision: 02
Attached scsi disk sda at scsi0, channel 0, id 0, lun 0
SCSI device sda: 60030431 512-byte hdwr sectors (15368 MB)
Partition check:
 sda1 sda2
USI AMD/FUJITSU flash: probing 8-bit flash bus
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling fast programming due to code brokenness.
Creating 5 MTD partitions on &quot;USI Intel flash&quot;:
0x00000000-0x00010000 : &quot;Linux mtd1&quot;
0x00010000-0x00020000 : &quot;Linux mtd2&quot;
0x00020000-0x00300000 : &quot;Linux Ramdisk&quot;
0x00300000-0x00310000 : &quot;U-BOOT BOOT LOADER&quot;
0x00310000-0x00400000 : &quot;Linux Kernel&quot;
usb.c: registered new driver hub
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 2048 bind 2048)
RAMDISK: Compressed image found at block 0
Freeing initrd memory: 2936k freed
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 60k init
EXT2-fs warning: mounting unchecked fs, running e2fsck is recommended
bonding.c:v2.4.20-20021210 (December 10, 2002)
br0 registered with MII link monitoring set to 100 ms, in fault-tolerance (activ
e-backup) mode.
br0 registered without ARP monitoring
br0: released all slaves
mac = 00:13:46:d9:a4:6f
Link speed = undefined!
Link speed = undefined!
br0: enslaving eth0 as a backup interface with a down link.
Link speed = 1000Mbps.
setting full duplex, TX flow control, RX flow control.
br0: link status definitely up for interface eth0.
 and making interface eth0 the active one.
br0: releasing active interface eth0 but could not find any backup interface.
br0: now running without any active interface !
mac = 00:13:46:d9:a4:6f
Link speed = undefined!
Link speed = undefined!
br0: enslaving eth0 as a backup interface with a down link.
br0: releasing backup interface eth0.
br0: now running without any active interface !
mac = 00:13:46:d9:a4:6f
Link speed = undefined!
br0: enslaving eth0 as a backup interface with a down link.
Adding Swap: 530104k swap-space (priority -1)
Link speed = 1000Mbps.
setting full duplex, TX flow control, RX flow control.
br0: link status definitely up for interface eth0.
 and making interface eth0 the active one.
kjournald starting.  Commit interval 5 seconds
EXT3 FS 2.4-0.9.19, 19 August 2002 on sd(8,2), internal journal
EXT3-fs: recovery complete.
EXT3-fs: mounted filesystem with ordered data mode.
ehci_hcd 00:0e.2: PCI device 1033:00e0
ehci_hcd 00:0e.2: irq 2, pci mem c306af00
usb.c: new USB bus registered, assigned bus number 1
ehci_hcd 00:0e.2: USB 2.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4
hub.c: USB hub found
hub.c: 5 ports detected
usb-ohci.c: USB OHCI at membase 0xc3073000, IRQ 1
usb-ohci.c: usb-00:0e.0, PCI device 1033:0035
usb.c: new USB bus registered, assigned bus number 2
hub.c: USB hub found
hub.c: 3 ports detected
usb-ohci.c: USB OHCI at membase 0xc3075000, IRQ -1
usb-ohci.c: usb-00:0e.1, PCI device 1033:0035
usb.c: new USB bus registered, assigned bus number 3
request_irq irq &gt;= NR_IRQS fail
usb-ohci.c: request interrupt -1 failed
usb.c: USB bus 3 deregistered
Trying to vfree() nonexistent vm area (c3075000)
Initializing USB Mass Storage driver...
my_host_number = 1
usb.c: registered new driver usb-storage
USB Mass Storage support registered.
ra0: at 0xbfffe000, VA 0xc30ab000, IRQ 0.
ra0: RT2500_open() irq 0. MAC = 00:13:46:d9:a4:6f
pAdapter-&gt;PortCfg.StaWithEtherBridge.Enable = FALSE
bond_enslave(): MII and ETHTOOL support not available for interface ra0, and arp
_interval/arp_ip_target module parameters not specified, thus bonding will not d
etect link failures! see bonding.txt for details.
br0: enslaving ra0 as a backup interface with an up link.
br0: releasing active interface eth0 and making interface eth0 the active one.
br0: releasing backup interface ra0.
br0: now running without any active interface !
br0: released all slaves
NET4: Ethernet Bridge 008 for NET4.0
device eth0 entered promiscuous mode
mac = 00:13:46:d9:a4:6f
Link speed = undefined!
Link speed = undefined!
br0: port 1(eth0) entering listening state
device ra0 entered promiscuous mode
Current Tx Antenna = Antenna B
Current Rx Antenna = Antenna B
br0: port 2(ra0) entering listening state
br0: port 1(eth0) entering learning state
br0: port 2(ra0) entering learning state
Link speed = 1000Mbps.
setting full duplex, TX flow control, RX flow control.
br0: port 1(eth0) entering forwarding state
br0: topology change detected, propagating
br0: port 2(ra0) entering forwarding state
br0: topology change detected</code></pre></div><p>Anyone got a static elf dropbear for ppc handy?</p>											<p class="post-edited">(Last edited by <strong>whm3</strong> on 20 Jan 2006, 05:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19405">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">NateTrue</div>
					<div class="post-datetime">
						20 Jan 2006, 04:50					</div>
				</div>
				<div class="post-content content">
					<p><span class="postimg"><img src="http://img456.imageshack.us/img456/7246/jtagserialmaybe9mu.th.jpg" alt="http://img456.imageshack.us/img456/7246/jtagserialmaybe9mu.th.jpg" /></span><br />Serial perhaps, but that array of pads looks nothing like a JTAG pinout.&nbsp; On a JTAG there are six pins in a row connected directly to ground. Do any signals show up on those 4-pin connectors?<br /><span class="postimg"><img src="http://img203.imageshack.us/img203/811/frontpads4iu.th.jpg" alt="http://img203.imageshack.us/img203/811/frontpads4iu.th.jpg" /></span><br />Definitely a USB port.&nbsp; Probably rerouted from some other form factor.</p><p><span class="postimg"><img src="http://img203.imageshack.us/img203/1434/frontpads22ay.th.jpg" alt="http://img203.imageshack.us/img203/1434/frontpads22ay.th.jpg" /></span><br />Place for a hardware switch (possibly an exposed GPIO) and an LED (another GPIO).</p>											<p class="post-edited">(Last edited by <strong>NateTrue</strong> on 20 Jan 2006, 04:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19406">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						20 Jan 2006, 04:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>NateTrue wrote:</cite><blockquote><p><a href="http://img456.imageshack.us/img456/7246/jtagserialmaybe9mu.th.jpg">http://img456.imageshack.us/img456/7246 … 9mu.th.jpg</a><br />Serial perhaps, but that array of pads looks nothing like a JTAG pinout.&nbsp; On a JTAG there are six pins in a row connected directly to ground. Do any signals show up on those 4-pin connectors?<br /><a href="http://img203.imageshack.us/img203/811/frontpads4iu.th.jpg">http://img203.imageshack.us/img203/811/ … 4iu.th.jpg</a><br />Definitely a USB port.&nbsp; Probably rerouted from some other form factor.</p><p><a href="http://img203.imageshack.us/img203/1434/frontpads22ay.th.jpg">http://img203.imageshack.us/img203/1434 … 2ay.th.jpg</a><br />Place for a hardware switch (possibly an exposed GPIO) and an LED (another GPIO).</p></blockquote></div><p>There&#039;s another vendor (can&#039;t remember who, stumbled across it today) who has a nas only, (No WLAN) board with an extra USB out in the front, same LED placement, except 1 more. Looks like its a common board indeed.</p>											<p class="post-edited">(Last edited by <strong>whm3</strong> on 20 Jan 2006, 04:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19925">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">whm3</div>
					<div class="post-datetime">
						30 Jan 2006, 04:14					</div>
				</div>
				<div class="post-content content">
					<p>Further commentary moved to <a href="http://forum.openwrt.org/viewtopic.php?id=4275">http://forum.openwrt.org/viewtopic.php?id=4275</a> ... See for serial console details.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22622">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">crazyoax</div>
					<div class="post-datetime">
						12 Mar 2006, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>Any ideas if you can turn the DSM-G600 into a USB print server? Also, would anybody share any of their fun_plug files? I just want to see what kind of cool things people are doing with this cool little box.&nbsp; Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22723">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						13 Mar 2006, 12:16					</div>
				</div>
				<div class="post-content content">
					<p>sharing is good<br />kevin:~/dsm-g600b# cat fun_plug <br />#!/bin/sh<br />dmesg &gt; /mnt/HD_a2/dmesg.out<br />/mnt/HD_a2/busybox nc -l -p 10023 -e /bin/sh &amp;</p><p>(you will need to cross compile busybox or nc to do that, of course, as the busybox in the firmware does not have nc)&nbsp; if you want to use it for some reason, you have have mine</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p30179">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">loki</div>
					<div class="post-datetime">
						8 Jul 2006, 02:39					</div>
				</div>
				<div class="post-content content">
					<p>So i grabbed a revB board at circuitcity&nbsp; for $99 this weekend. Anyone have a how2 on getting your own kernel compiled and working on these devices? My NSLU2 is getting alittle slow for me. </p><p>Was able to share the root of the file system via the fun_plug workaround</p><p>Heres how:</p><p>&nbsp; &nbsp; <br />1. create a fun_plug file in the root of the disk </p><p>#!/bin/sh<br />sleep 20<br /># kill samba<br />/bin/smb stop<br /># Start samba and read the conf file on the hd<br />/usr/sbin/samba/smbd -D -s /mnt/HD_a2/smb.conf<br />/usr/sbin/samba/nmbd -D -s /mnt/HD_a2/smb.conf</p><br /><br /><br /><p>2. create a smb.conf file in the root of the disk</p><br /><p>[ global ]<br />client code page = 850<br />character set = 850<br />workgroup = WORKGROUP<br />netbios name = DSM-G600<br />server string = NAS<br />hosts allow = <br />hosts deny = <br />security = SHARE<br />encrypt passwords = yes<br />max log size = 0<br />socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=8192 SO_SNDBUF=8192<br />max xmit = 65535<br />create mask = 0777<br />directory mask&nbsp; = 0777<br />force create mode = 0777<br />force directory mode = 0777</p><p>[ root ]<br />comment = root<br />path = /<br />valid users = <br />read only = no<br />guest ok = yes</p><p>[ web_page ]<br />comment = Enter Our Web Page Setting<br />path = /mnt/web_page<br />valid users = <br />read only = yes<br />guest ok = yes</p><p>[ HDD_a ]<br />comment = Hard Drive / Flash Drive / Single Function CardReader<br />path = /mnt/HD_a2<br />valid users = <br />read only = no<br />guest ok = yes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p30309">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">sala</div>
					<div class="post-datetime">
						11 Jul 2006, 14:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>loki wrote:</cite><blockquote><p>So i grabbed a revB board at circuitcity&nbsp; for $99 this weekend. Anyone have a how2 on getting your own kernel compiled and working on these devices?</p></blockquote></div><p>First you should setup ppc toolchain <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> If you are going to use the one provided by d-link, then you are going to face some problems:<br /></p><div class="codebox"><pre><code>./ppc-instructions: In function `convert_to_integer&#039;:
./ppc-instructions:1221: error: label at end of compound statement</code></pre></div><p>and here is patch for this problem:<br /><a href="http://mail-index.netbsd.org/pkgsrc-bugs/2005/02/02/0001.html">http://mail-index.netbsd.org/pkgsrc-bug … /0001.html</a></p><p>I also did get<br /></p><div class="codebox"><pre><code>gdbtypes.c: In function `recursive_dump_type&#039;:
gdbtypes.c:3059: error: invalid lvalue in increment</code></pre></div><p>and here are some workarounds:<br /><a href="http://gcc.gnu.org/ml/gcc-bugs/2004-02/msg02522.html">http://gcc.gnu.org/ml/gcc-bugs/2004-02/msg02522.html</a><br /><a href="http://gcc.gnu.org/ml/gcc-patches/2003-10/msg02027.html">http://gcc.gnu.org/ml/gcc-patches/2003-10/msg02027.html</a></p><p>For testing I did build ctorrent-dnh2 binary for DSM-G600. I cant test them myself because my DSM-G600 is still on the way to Estonia.<br /><a href="http://www2.msn.ee/dsm-g600-bin/">http://www2.msn.ee/dsm-g600-bin/</a></p>											<p class="post-edited">(Last edited by <strong>sala</strong> on 11 Jul 2006, 15:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p33294">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Bateman75</div>
					<div class="post-datetime">
						5 Sep 2006, 17:43					</div>
				</div>
				<div class="post-content content">
					<p>Is there any possibility to add/replace the uPnP Server with a custom made firmware? The one used by Dlink seems to have problems with long filenames/directory structures. <br />Best Regards, Bateman</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127934">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">tului</div>
					<div class="post-datetime">
						11 Feb 2011, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>A zombie just ate my brain.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>